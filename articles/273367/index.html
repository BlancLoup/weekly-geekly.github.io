<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Native Elements concept</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="All good health. 
 I wanted to propose the concept of a JavaScript (JS) library for the convenient use of Custom Elements (in Russian I will call ‚Äúmy ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Native Elements concept</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/getpro/habr/post_images/00e/188/85f/00e18885fa38229e7bc5cc7c4489147c.png" alt="image"><br><br>  All good health. <br>  I wanted to propose the concept of a JavaScript (JS) library for the convenient use of Custom Elements (in Russian I will call ‚Äúmy own elements‚Äù).  Before offering Polymer, X-Tag, Bosonic and others, please read the text to the end. <br><a name="habracut"></a><br><h4>  <b>Introduction</b> </h4><br>  The main idea is to make the use of your own elements more similar to the native approach to styling embedded HTML elements.  For example, I defined an element of a vertical histogram (ui-vboxhistogramm).  Added a few histograms to the page.  When using Polymer, I need to describe the visual style for each histogram separately.  And in case of repetition of visual properties (not CSS properties, but manually defined for their own element) for each histogram, the description becomes redundant.  Let me explain with an example: <br><pre><code class="html hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">ui-vboxhistogramm</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">id</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"histo1"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">column-count</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"5"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">column-width</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"10px"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">ui-vboxhistogramm</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">ui-vboxhistogramm</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">id</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"histo2"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">column-count</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"5"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">column-width</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"10px"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">ui-vboxhistogramm</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">ui-vboxhistogramm</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">id</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"histo3"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">column-count</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"5"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">column-width</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"10px"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">ui-vboxhistogramm</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br>  This immediately suggests a class system from HTML.  But classes only work for native CSS properties.  As a result, the task arose to make a similar class system on JS. <br><br><h4>  <b>Native Elements concept</b> </h4><br>  First of all, I would like to make access to the properties of the visualization by analogy with the native style of changing these properties: <br><pre> <code class="javascript hljs">divElement.style.background = <span class="hljs-string"><span class="hljs-string">"color"</span></span>;</code> </pre><br>  Own elements allow you to realize this bold idea: <br><pre> <code class="javascript hljs"><span class="hljs-comment"><span class="hljs-comment">//    ,              .           . class ExtendedStyleDeclaration { constructor(parentNode) { this._root = parentNode; } declare(declarationObject) { //                } } //  (element.xstyle.column),    class VBoxHistogrammCulumnStyle extends ExtendedStyleDeclaration { constructor(parentNode) { super(parentNode); } set count(value) { //      ,  xstyle saveProperty(this, "count", value); //       (canvas  svg,    ) } get count() { return getLastProperty(this, "count"); } set width(value){} get width() {} } //   (element.xstyle)   class VBoxHistogrammStyle extends ExtendedStyleDeclaration { constructor(parentNode) { super(parentNode); this.column = new VBoxHistogrammCulumnStyle(this); } set width(value) { //            , //       (   ()),       ,   . saveProperty(this, "width", value); //   ,      CSS-. // ,     ,    width ,      -  if(condition) { this._root.style.width = this.width; } else { this._root.style.width = "   "; } } get width() { return getLastProperty(this, "width"); } } //    class VBoxHistogrammProto extends HTMLElement { createdCallback() { setGroupsToQueue(this); //        group,          declareGroup this.xstyle = new VBoxHistogrammStyle(this); //           } }</span></span></code> </pre><br>  Now we can set the style for our elements by analogy with the native approach and / or even more advanced way: <br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">let</span></span> histo1 = <span class="hljs-built_in"><span class="hljs-built_in">document</span></span>.getElementById(<span class="hljs-string"><span class="hljs-string">"histo1"</span></span>); histo1.xstyle.width = <span class="hljs-string"><span class="hljs-string">"100px"</span></span>; <span class="hljs-comment"><span class="hljs-comment">//or histo1.xstyle.declare( { width : "100px", column: { count: 5, width: "10px" } }); histo1.xstyle.column.count = 15; //        15 .      ,      .   count      (  CSS-). //or histo1.xstyle.column.declare( { count: 5, width: "10px" });</span></span></code> </pre>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h4>  <b>Groups - they are classes</b> </h4><br>  We return to the question of styling through classes.  Since the <i>class</i> keyword is already reserved for this attribute, the closest name for it in my opinion is the <i>group</i> keyword.  The grouping of elements occurs by analogy with the task of the class for embedded elements: <br><pre> <code class="html hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">ui-vboxhistogramm</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">id</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"histo1"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">group</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"histogroup1"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">ui-vboxhistogramm</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">ui-vboxhistogramm</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">id</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"histo2"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">group</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"histogroup1"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">ui-vboxhistogramm</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">ui-vboxhistogramm</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">id</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"histo3"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">group</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"histogroup1 histogroup2"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">ui-vboxhistogramm</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br>  Now our elements are grouped by common similar properties defined manually in their own element.  The declaration of the groups occurs in the JS code: <br><pre> <code class="javascript hljs"><span class="hljs-comment"><span class="hljs-comment">// declareGroup     groups,    let groups = declareGroup( { histogroup1: { width: "100px", column: { count: 5, width: "10px" } }, histogroup2:{} }); //         //  histogroup1   histo5 let histo5 = document.getElementById("histo5"); histo5.groupList.add(groups.histogroup1); //     groups   histo6 let histo6 = document.getElementById("histo6"); histo6.xstyle.declare( { group: groups });</span></span></code> </pre><br>  The group declaration algorithm is implemented as follows.  At the time of creating your own element (the callback function <i>createdCallback</i> ), you must organize a list of groups (for example, in the global <i>window</i> object) with a queue of grouped elements for use with the special <i>groupList</i> object. <br><br>  <i>groupList</i> is an analogue of the native <i>classList</i> only for its own element.  It also has <i>add</i> and <i>remove</i> methods.  The <i>add</i> method (similar to the <i>declare</i> method for a single element) takes a declaration object containing a description of the visual properties of the element.  Thus, the <i>declareGroup</i> function bypasses all groups from its declaration object and adds them to all items in the queue. <br><br>  The priority of the specified properties can be implemented by analogy with the classes.  If the property is set directly through the setter or the <i>declare</i> method, then the properties from the groups lose their power, that is, overlap. <br><br><h4>  <b>Conclusion</b> </h4><br>  To summarize  The essence of the concept is to provide a set of classes (JS) and functions for implementing the behavior shown in the examples above: <br><ul><li>  dynamic setters for specifying the style of your own element, close in mechanics to native stylization through <b>element.style.property</b> </li><li>  grouping elements (analogous to classes for CSS properties) of similar style, to eliminate redundancy when describing the same custom properties (for example, the number and width of the histogram columns) for several elements </li></ul><br>  As a result, we get a close to the native method of describing the visual properties for our own elements, which contains a number of advantages and disadvantages.  I would like to hear the opinion of developers who know front end to determine the feasibility of implementing this approach. </div><p>Source: <a href="https://habr.com/ru/post/273367/">https://habr.com/ru/post/273367/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../273353/index.html">How to draw graphs and charts in Atlassian Confluence</a></li>
<li><a href="../273357/index.html">Underground carders market. Translation of the book "KingPIN". Chapter 25. Hostile Takeover</a></li>
<li><a href="../273359/index.html">Stop using jQuery, you can do better without it.</a></li>
<li><a href="../273363/index.html">Build XGBoost for Python under Windows</a></li>
<li><a href="../273365/index.html">Performance Comparison PHP 7.0 and HHVM</a></li>
<li><a href="../273371/index.html">Detailed instructions for OpenVPN v2.3.8 on Windows server 2008R2</a></li>
<li><a href="../273373/index.html">How to make a password safe and memorable</a></li>
<li><a href="../273377/index.html">Copyright and streaming</a></li>
<li><a href="../273379/index.html">Enough of talking about the fact that each task has its own tool, we already know</a></li>
<li><a href="../273381/index.html">Vertical headers: who is right?</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>