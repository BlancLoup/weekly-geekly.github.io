<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>How to connect a library to a project using maven</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Ask someone if Maven is needed at all - 90 percent of the programmers' livestock will answer that it is for this reason that they will be largely righ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>How to connect a library to a project using maven</h1><div class="post__text post__text-html js-mediator-article"><p>  Ask someone if Maven is needed at all - 90 percent of the programmers' livestock will answer that it is for this reason that they will be largely right. </p><br><p>  If in the case of, for example, C ++, connecting the library to your project is a serious step that will surely complicate the assembly to such an extent that you have to include instructions for connecting this particular library in the readme, in the case of Java this is done easily and naturally - not Lastly thanks to Maven. </p><br><p>  I want to note that the article is intended for those who began to study java relatively recently and although it already means from the previous <a href="https://habrahabr.ru/post/309222">article</a> what maven is about - what libraries are not well known, and does not know how to connect them at all. </p><a name="habracut"></a><br><p>  Let's start from afar. </p><br><h2>  How to add a new class to the project </h2><br><p>  In order to use in your code any class other than the standard one, you need to create this class, that is, make the corresponding file and write the corresponding code inside this file. </p><br><p>  The newly written class should be located in the same place as all other classes, otherwise the compiler will not see it.  Now, in order to use it, it is enough to add the corresponding import directive to the class using it. </p><br><p>  I suggest those present to spend a minute or two on expressing gratitude to Captain Obvious, and then continue reading. </p><br><h2>  How to add a class to a project written by someone else </h2><br><p>  The answer, generally speaking, is obvious - you need to copy this class into your code. </p><br><p>  In addition to being a little less obvious, you need to copy into your project all the classes that are used by the class for which everything was started. </p><br><p>  Classes used by some other class, by the way, are called dependencies (dependencies) of this class. </p><br><p>  This approach has an obvious disadvantage.  For each class, you need to look for dependencies, and then copy them to yourself with your hands.  If there is any bug later in this whole heap of code, then after the fix appears, you will have to repeat the process again. </p><br><h2>  How to add a class written by someone to the project without copying it into your code </h2><br><p>  In all more or less modern programming languages, this problem has already been solved. </p><br><p>  You can always tell the compiler that classes need to be taken not only from the project directory, but also from other directories specified by the programmer.  In Java, this is done using the <strong>classpath</strong> parameter. </p><br><p>  If you work with Java, it is strictly necessary to understand what a classpath is, but it is not necessary to specifically add a library to a project using maven.  In the context of our theme, the classpath can be considered an entity in which all the places where the compiler will look for the classes needed by the application are listed.  If any of these classes are not in any of these places, the program will not work. </p><br><p>  Now, in order to use another class, it is enough to download the code with this class, and add to the classpath the directory into which this code is downloaded. </p><br><p>  Compared with the previous method, this is a noticeable progress.  Now there is no need to manually track all dependencies of the only class that is needed for the operation of your application.  To add bug fixes and all this, simply download the new version of the code. </p><br><p>  That's actually we came to the answer to the question, what is a library. </p><br><h2>  What is a library </h2><br><p>  The library is called the same code, the root directory of which must be added to the classpath.  That is, the totality of the class we need and its dependencies, as well as classes that are not dependencies of the class we need, but are contained in the code. </p><br><p>  In the case of Java, the code that we add to the classpath can be compiled and the directory with the compiled code can be added to the classpath. </p><br><p>  You can also archive the compiled code in zip format, change the file extension with the archive to jar and add this file to the classpath file.  In the context of Java development, the jar file is also called a library. </p><br><p>  jar files do not solve any of the above problems, but their use greatly facilitates the transfer of libraries between programmers. </p><br><p>  But, there is one significant problem that jar files do not help either. </p><br><p>  The classes that the library uses may not be contained in it, but in some other library, which, by analogy with the previous case, is also called dependency. </p><br><h2>  How to add a library to a project using another library </h2><br><p>  In order to add a library to the project with all its dependencies, you have to download these dependencies and add one to the project one by one.  When updating each library, dependencies will have to be downloaded again. </p><br><p>  It may happen that when updating any dependencies, the library from which we are going to use the class in our project will stop working correctly - we will have to carefully monitor that this does not happen and be responsible for each update, and better, update the libraries. only if the update can not do at all. </p><br><h2>  How to make sure the dependency update doesn't break anything </h2><br><p>  Storogo speaking - no way. </p><br><p>  It is necessary, of course, to update the dependency and run unit tests.  If they do not pass, then you can definitely say that something is broken. </p><br><p>  If not, this is weak evidence that there is no failure, but it does not prove anything. </p><br><p>  But suppose that unit tests can be trusted.  In this case, when adding a library, you will have to manually check its compatibility with dependencies by running the attached unit tests and do this with each update.  Believe me, this is hard. </p><br><p>  In order to avoid this tedious and difficult work, there is an unspoken agreement between programmers from around the world.  Libraries are made to version. </p><br><p>  When creating a library, the programmer writes its code, makes sure that it works correctly, and then assigns an identifier, for example a number, to this code, and then makes the code available to other programmers so that they can use this library in their code. </p><br><p>  If other programmers find an error in the library, the creator of the library does not just silently fix it, but after the correction changes the library identifier and now the world has two libraries available with the same name but different identifiers. </p><br><p>  This identifier is called the version of the library. </p><br><p>  The programmer updates the version of the library not only when correcting errors, but in general with any change. </p><br><p>  Programmers who use this third-party library to create their own libraries, or simply programs, indicate in the documentation not only the name, but also the version with which their library is guaranteed to work correctly. </p><br><p>  That is, the job of verifying which versions of dependencies to use is taken by one person, the rest simply enjoy the fruits of his labors. </p><br><p>  This greatly simplifies the situation, but does not eliminate the need to look through all the dependencies of your code and dependencies in order to get a complete list of libraries that need to be connected to the project. </p><br><p>  When updating any of the libraries, the process must be repeated.  This, believe me, is painful. </p><br><h2>  How to get a list of all libraries needed by the project and add them to the project automatically </h2><br><p>  And here comes Maven.  It formalizes the tacit agreement between programmers and makes it a vowel. </p><br><p>  If for each library there is a list of dependencies with clearly defined versions, then it‚Äôs not difficult to compile a list of all libraries needed by the project. </p><br><p>  Copying these libraries to the programmer's machine and adding them to the classpath is also not the highest mathematics.  You only need to know where to download the libraries and descriptions of their dependencies, as well as in what format these dependencies are described. </p><br><p>  These issues in Maven have been resolved successfully. </p><br><h2>  How to connect the library to the Maven project </h2><br><p>  It's all in general trite.  The library in understanding of Maven, is the artifact necessary for assembly of the program. </p><br><p>  Each artifact, as we remember, has a groupId, artifactId and version.  You only need to specify maven that this artifact is a project dependency. </p><br><p>  The dependency list must be wrapped with the dependencies tag.  Each individual dependency must be wrapped with the dependency tag.  Inside the dependency tag in the groupId, artifactId and version tags you need to specify the values ‚Äã‚Äãof the corresponding parameters. </p><br><p>  There probably need to give an example of pom.xml with the added library.  Here is an example: </p><br><pre><code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">project</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">xmlns</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"http://maven.apache.org/POM/4.0.0"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">xmlns:xsi</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"http://www.w3.org/2001/XMLSchema-instance"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">xsi:schemaLocation</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">modelVersion</span></span></span><span class="hljs-tag">&gt;</span></span>4.0.0<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">modelVersion</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">groupId</span></span></span><span class="hljs-tag">&gt;</span></span>com<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">groupId</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">artifactId</span></span></span><span class="hljs-tag">&gt;</span></span>hello-world<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">artifactId</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">version</span></span></span><span class="hljs-tag">&gt;</span></span>1.0-SNAPSHOT<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">version</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">dependencies</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">dependency</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">groupId</span></span></span><span class="hljs-tag">&gt;</span></span>org.apache.commons<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">groupId</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">artifactId</span></span></span><span class="hljs-tag">&gt;</span></span>commons-lang3<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">artifactId</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">version</span></span></span><span class="hljs-tag">&gt;</span></span>3.4<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">version</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">dependency</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">dependencies</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">project</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br><p>  Here we connected the library to the project, with a bunch of static methods that perform standard tasks.  One of these tasks is to expand the array and add an additional element to it. </p><br><p>  Here, for example: </p><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">package</span></span> com; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> org.apache.commons.lang3.ArrayUtils.*; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Application</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">main</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(String[] argv)</span></span></span><span class="hljs-function"> </span></span>{ String[] phrase = {<span class="hljs-string"><span class="hljs-string">"Hello"</span></span>}; phrase = add(phrase, <span class="hljs-string"><span class="hljs-string">" "</span></span>); phrase = add(phrase, <span class="hljs-string"><span class="hljs-string">"world"</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (String word : phrase) { System.out.print(word); } System.out.println(); } }</code> </pre> <br><p>  To compile the code you need to write </p><br><pre> <code class="bash hljs">mvn compile</code> </pre> <br><p>  To start it </p><br><pre> <code class="bash hljs">mvn <span class="hljs-built_in"><span class="hljs-built_in">exec</span></span>:java -Dexec.mainClass=<span class="hljs-string"><span class="hljs-string">"com.Application"</span></span></code> </pre> <br><p>  This code will output Hello world, but, in difference from the previous article, by a new progressive method.  With the help of the library. </p><br><p>  That's all. </p><br><p>  The dependencies of the artifact connected to the project will be found by maven himself, he will compile a list of all the libraries needed by the project, including dependencies dependencies and dependencies dependencies dependencies, download them himself to the machine on which the build takes place and add them to the classpath. </p><br><p>  This, believe me, is wonderful. </p><br><h2>  Total </h2><br><ol><li>  Classes used by another class are called dependencies of this class. </li><li>  The library is called the set of classes designed to solve a particular task, and their dependencies. </li><li>  The dependencies of classes from the library can be in other libraries and then these libraries are called its dependencies. </li><li>  In Java, the compiled classes from the library can be packaged in a zip archive with the jar extension.  jar files are also called a library. </li><li>  The libraries used by the project are called project dependencies.  To connect dependencies in maven, the dependency tag is used.  The dependency tags must be inside the dependencies tag. </li><li>  In Maven, the library is an artifact, which means it has a groupId, artifactId, and version. </li><li>  To connect the library to the project using maven, it is enough to specify its groupId, artifactId and version. </li></ol></div>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <p>Source: <a href="https://habr.com/ru/post/311108/">https://habr.com/ru/post/311108/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../311098/index.html">Logeek Night in Voronezh</a></li>
<li><a href="../311100/index.html">Several gradle chips for your Android application</a></li>
<li><a href="../311102/index.html">Intelligence services and not only: how to protect your application from backdoors</a></li>
<li><a href="../311104/index.html">YT: why does Yandex need its own MapReduce-system and how it works</a></li>
<li><a href="../311106/index.html">How to choose a cloud provider?</a></li>
<li><a href="../311110/index.html">YouTrack 7.0 Release: New Agile Concept, Gantt Chart, and More</a></li>
<li><a href="../311112/index.html">What's new in C # 7 and already supported in Visual Studio ‚Äú15‚Äù Preview 4</a></li>
<li><a href="../311114/index.html">The book Spark for Professionals: Modern Patterns of Big Data Processing</a></li>
<li><a href="../311116/index.html">Seminar "Operation of the data center: working with contractors"</a></li>
<li><a href="../311118/index.html">GoTo school projects: recommendation system for a news portal</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>