<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>New ideas on the API of RabbitMQ AMQP for PHP</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Recently published the previously developed PHP API for RabbitMQ "AMQP now for PHP" 

 When discussing, it was proposed to make the PHP API more objec...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>New ideas on the API of RabbitMQ AMQP for PHP</h1><div class="post__text post__text-html js-mediator-article">  Recently published the previously developed PHP API for RabbitMQ <a href="http://akalend.habrahabr.ru/blog/70757/">"AMQP now for PHP"</a> <br><br>  When discussing, it was proposed to make the PHP API more object model, <br>  closer to the model proposed in the AMQP Protocol. <br><br>  The code will be a little more complicated, but the object model will be more beautiful, 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Before moving on to coding, I submit a new API for discussion. <br><a name="habracut"></a><br><h6>  Class <b>AMQPConnection</b> </h6><br>  opening a logical connection, including a channel connection. <br>  $ cnn = new APMQConection ([host = localhost], [port = 5672], [login = guest], [psw = guest], [vhost = /]); <br>  $ cnn-&gt; getResult ();  - true / false result of the connection <br><br><h6>  <b>AMQPExchange</b> Exchange <b>Class</b> </h6><br>  $ exchange = new AMQPExchange ($ cnn, [name], [parms]) - create exchange, if the name is specified otherwise class initialization <br>  $ res = $ exchange-&gt; declare ([name]) - declare the exchange <br>  $ res = $ exchange-&gt; delete ([name]) - delete the exchange, if the name is not specified - is deleted with the current name <br>  $ res = $ exchange-&gt; publish (msg, routing_key, [parms]) <br>  $ res = $ exchange-&gt; getResult ();  - true / false result of the last operation <br><br>  $ exchange = new AMQPExchange ($ cnn, name, [parms]) is equivalent to <br>  $ exchange = new AMQPExchange ($ cnn); <br>  $ res = $ exchange-&gt; declare (); <br><br><h6>  Queue Class <b>AMQPQueue</b> </h6><br>  $ queue = new AMQPQueue (cnn, [name], [params]);  - create a queue if the name is specified otherwise class initialization <br>  $ res = $ queue-&gt; delete ([name]) - delete the queue, returns the result of the operation <br>  $ res = $ queue-&gt; declaere ([name], [params]) - declaration of the queue, returns the result of the operation. <br>  $ res = $ queue-&gt; purge ([name]) - delete all the elements of the queue, returns the result of the operation <br>  $ res = $ queue-&gt; bind (exchange, routing_key, [parms]);  - communication of queue and exchange <br>  $ queueItem = $ queue-&gt; getItem ();  - get one item from the queue <br>  $ arrayOfQueueItems = $ queue-&gt; consume ([n]) - to receive an array of n-messages from the queue (all others are discarded) if n is not set - all messages are selected <br>  $ queue-&gt; getResult ();  - true / false the result of the last operation, mainly intended for use of checking operations in the constructor <br><br>  $ queue = new AMQPQueue (cnn, name, [params]);  equivalent to: <br>  $ queue = new AMQPQueue (cnn) <br>  $ queue-&gt; declaere (name, [params]) <br><br>  Although the object model does not quite correspond to the AMQP standard, but instead of one monolithic class, there are already four.  In practice, the functionality has not changed, only methods for removing the queue and sharing have been added. </div><p>Source: <a href="https://habr.com/ru/post/70902/">https://habr.com/ru/post/70902/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../70893/index.html">A device that allows you to interact with a computer using physical objects</a></li>
<li><a href="../70894/index.html">Hello from the year 1988</a></li>
<li><a href="../70897/index.html">Brizzly.com is a great addition to twitter</a></li>
<li><a href="../70898/index.html">Fat = sick! Or how to lose weight</a></li>
<li><a href="../70900/index.html">Did you do everything? Did you buy milk?</a></li>
<li><a href="../70906/index.html">Tales of the DBMS</a></li>
<li><a href="../70909/index.html">The shelf of electronic readers has arrived again.</a></li>
<li><a href="../70910/index.html">My escape (html)</a></li>
<li><a href="../70912/index.html">The most difficult puzzle Revomaze</a></li>
<li><a href="../70915/index.html">Usability Marathon 2 - now free and online</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>