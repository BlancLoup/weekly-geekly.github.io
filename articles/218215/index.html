<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Web application evolution</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="It‚Äôs fun for everyone to discuss ‚Äúeverything is new, bad,‚Äù and for the last couple of years we have been enthusiastically discussing and trying NoSQL ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Web application evolution</h1><div class="post__text post__text-html js-mediator-article">  It‚Äôs fun for everyone to discuss ‚Äúeverything is new, bad,‚Äù and for the last couple of years we have been enthusiastically discussing and trying NoSQL / NewSQL on the server and Angular / Knockout / Ember on the client.  But these trends, it seems, is already out of place.  A great moment to sit down and think about what's next.  As M. Andreessen said, ‚Äúsoftware is eating the world‚Äù.  At the same time, mobile / web apps eat regular apps.  Therefore, it is especially interesting to estimate, but where does everything go in the world of mobile and web applications?  After all, they, it turns out, eat in general all.  I believe that the next Big Topic will be data synchronization, and here's why. <br><img src="https://habrastorage.org/getpro/habr/post_images/ba8/436/7b2/ba84367b216097c60341b3c712ffb1a1.jpg" alt="synchronous sweepers"><br><a name="habracut"></a><br><h4>  And what actually happens on the client? </h4><br><br>  In the browser, developers are already building quite full-fledged "normal" MVC applications.  The MVC architecture itself is not new (from the 1970s), but came to the web only 10 years ago, along with Google Mail.  It is interesting that initially the GMail project was perceived as a stray for geeks, but, as Larry Page said then, <a href="http://time.com/43263/gmail-10th-anniversary/">‚Äú10 years' time‚Äù</a> .  Well, it worked, and GMail is now using everything. <br><br>  With the advent of HTML5, the browser already has its own data storage (even two), its own business logic in JavaScript and its permanent connection to the server.  Now, developers are trying to combine the best of both worlds: the availability and instant response of local applications and the constant ‚Äúonline mode‚Äù of web applications. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <img src="https://habrastorage.org/getpro/habr/post_images/7a0/d03/5f9/7a0d035f9397ae467cecfec530a46da5.jpg" align="right" alt="image"><br>  The main source of discomfort is server requests.  This is especially felt on mobile devices.  The irony is that wireless Internet fails when it is most needed - on the road (on the subway), at public events and "in the fields."  At home and at work at the table, he works smoothly, thank you very much, but not much needed.  And even then, in the same Yandex office, WiFi is not perfect - apparently because of the concentration of geeks per square meter.  At conferences like FOSDEM, WiFi never worked. <br><br>  You might think that with LTE the problem will disappear.  Hardly.  We see that bandwidth, storage capacity, chip density are growing exponentially, and RTT (server response time) and CPU frequency have improved very little over the past 10 years - because of physics.  For mobile networks, physics is millions of tons of concrete, reinforcement and rock, and radio spectrum properties that are not going anywhere.  Saves data caching and background synchronization, the same GMail and then ahead of everyone.  Dropbox also pleases in this regard, but Evernote is not very - full of complaints about synchronization failures and data loss. <br><br><img align="right" src="https://habrastorage.org/getpro/habr/post_images/072/491/f08/072491f085c256d540019556a50b117b.png"><br>  Think about it.  More data and logic moves to the client.  WebStorage, CoreData, IndexedDB.  There is more data, more space on the client, and running to the server does not become easier.  Downloading data is easy, caching is even easier, and with synchronization, rocket science begins.  The failed mobile "saves" empty data to the server - oops, they are lost, the user is not satisfied.  The data is changed on several devices at once - oops, conflict, the user grinds his teeth.  And how many more such ups will be.  New conditions on the client are already reminiscent of the conditions in the "big" systems - a lot of equipment, a lot of data replicas, everything is constantly breaking everywhere and this is normal.  It seems that the client will soon need tools from the arsenal of "big boys". <br><br><h4>  And what actually happens on the server? </h4><br><br>  On the server, once everything began simply and logically - nothing foreshadowed trouble.  There was one source of truth - the database (say, MySQL), there was one server with logic (say, PHP), and the client received a flat View and pulled the logic on the server through HTTP GET requests.  At first, everything was easy with the scaling of logic - through the multiplication of stateless servers.  The database gradually began to require replication (master-slave), then it was necessary to protect it with a cache (Memcache) and add pusher to send events to the client in real time.  Then the situation began to complicate further.  Somewhere they screwed Hadoop, somewhere NoSQL, somewhere graph database - there was a lot of storage.  Also, everything is overgrown with specialized services - analytics, search, mailings, etc. etc. <br><br> <a href="http://engineering.linkedin.com/distributed-systems/log-what-every-software-engineer-should-know-about-real-time-datas-unifying"><img src="https://habrastorage.org/getpro/habr/post_images/b28/2b7/e70/b282b7e706b9b1b717b4c93e88806df4.png"></a> <br>  All this rapid multiplication of specialized systems also raised the problem of data synchronization.  As the most successful solution for the "zoo", many mention <a href="http://kafka.apache.org/">Apache Kafka</a> .  In such an architecture, different data slices are stored in different systems, which prefer to exchange events via the ‚Äúbus‚Äù.  Indeed, when integrating N systems, one can write either O (N * N) adapters or one common event queue.  With N = 2..3, this nuance is still a little noticeable, but on LinkedIn, apparently, N is large. <br><br>  And now two cigarette butts at the same time.  Imagine the number of replicas of the same data in the system - both on the server and on the client side.  Say MongoDB + Redis + Hadoop + WebStorage + CoreData.  How to synchronize everything correctly? <br><br><h4>  And where does all this lead? </h4><br><br>  So what are the next trends?  Nobody can say for sure, but you can figure out what to look for.  After all, new ideas appear extremely slowly and extremely rarely.  For example, MongoDB uses master-slave replication via oplog, which differs from MySQL replication through binlog only by incremental improvements and is based on the work of 1979-1984 Leslie Lamport about state machine replication. <br><br>  NoSQL systems - Riak, Voldemort, Cassandra, CouchDB are trying to make a noticeable step forward and squeeze something from eventual consistency, causal order, logical and vector clocks - these approaches go back to the works of the same eighties of Lamport and C.Fidge. <br><br>  The super-duper technology of simultaneous editing of the Operational transformation of Google Wave and Docs was first described in 1989 by CA Ellis and SJ Gibbs and is now obsolete. <br><br>  Fresh little, but also comes across.  Attempts by NoSQL vendors to try water with CRDT data structures are based on the theory from the late 2000s - a very atypical fresh one. <br><br>  So, we will think that it will sprout in the new environment.  New trends will inevitably be determined by something already widely known in narrow circles.  I can offer three main suspects. <br><br><h5>  "Shared tire" and event-oriented </h5><br>  The first and most promising trend is event-oriented and reactive architecture, as well as event sourcing.  In these approaches, the work in the system goes not only and not so much with the current state itself, but with operations that change it, which are objects of the ‚Äúfirst category‚Äù - they are processed, transmitted and stored separately from the state.  Kafka and common event bus I mentioned.  If you think, then the logic of the client-side event-oriented.  We add here event-oriented business logic and an interesting puzzle begins to be assembled. <br><br><img align="left" src="https://habrastorage.org/getpro/habr/post_images/a11/e0a/edc/a11e0aedc9641cbc060206e82533129a.jpg" alt="image"><br>  The event-oriented approach, in particular, reduces dependence on ACID transactions.  The main argument for transactions is ‚Äúwhat if we count money?‚Äù The irony is that in the financial industry itself, where they really count big money, before thousands of transactions were invented, they did without thousands of years without them.  Accounting with bills and balances, in the form in which they were formed in the Middle Ages, is a classic example of event sourcing: operations are fixed, reduced, and collected in the state.  The same can be seen in the ancient system of calculations Hawala.  No ACID, pure eventual consistency.  The books are <a href="http://press.princeton.edu/titles/10084.html">written</a> , for example, about the developed financial system of the Spanish Empire, which has been in debt for a hundred years.  Letters from the capital to the outlying provinces turned around for a year.  And nothing, the goods were delivered, the army fought, balances were reduced.  But my business partner recently went to the tax office three times, because they had ‚Äúcomputers stuck‚Äù. <br><br><h5>  Information-centric architectures </h5><br>  The second trend that can start to whip is info-centric architectures.  When data is stored anywhere and freely flows, it makes sense to implement applications not in logic where the storage is connected, but always to dance from the data.  Historical examples of infocentric networks - USENET and BitTorrent;  in the first, messages are identified by the group name and own id, and flow freely between servers.  In the second, data is generally identified by hash, and participants mutually beneficially exchange data between themselves.  General principle: we reliably identify data, then we build for them and the participants and the network topology.  This is especially important when participants are unreliable and constantly go and come, which is very important for mobile customers. <br><br>  About five years ago, there was an interesting exchange of views on the infocentricity of the Internet.  The pioneer of TCP Van Jacobson defended the position that existing architectures have reached the limit of scaling and the info-centric Internet should be designed from scratch.  Another group of participants, from where I can remember Ion Stoica, generally adhered to the position that HTTP is certainly outdated, but by adjusting the CDN infrastructure for HTTP, we can understand the URL as just an identifier of a piece of information, and not the server-file path.  Therefore, the HTTP + CDN doublet can be infocentric to the extent necessary to solve all the pressing problems with the propagation of statics in HTTP.  And, perhaps, the guys were basically right. <br><br>  An interesting question is whether it is possible, by analogy, to drill infocentricity for data in web applications, without being engaged in architecture redesign from scratch. <br><br><h5>  CRDT types </h5><br>  And the third interesting trend that I already mentioned as fresh is CRDT (Conflict-free Replicated Data Types).  They have already begun to be screwed into a high-loaded NoSQL system (I know for sure about Cassandra and Riak, but it seems someone else was).  The main idea of ‚Äã‚ÄãCRDT is to abandon the linearization of all operations in the system (this is the approach that MySQL uses for replication), and limit itself to having a partial order with good causal order.  Accordingly, you can only use data structures and algorithms that do not break from easy reordering of operations. <br><br>  CRDT allows optimistic synchronization of multiple replicas, when complete linearization of all operations is in principle impossible.  The literature discusses options for how to implement basic data structures in CRDT ‚Äî Set, Map, counter, text. <br><br>  This is the most promising approach, which allows us to step a little further than the primitive last-writer-wins, which is dangerous because of the potential loss of data in a concurrent write.  The main difficulty, of course, is that the developer must understand the capabilities of CRDT in order to work with them.  That, in general, is true for any technology.  Plus, not all data and algorithms can be decomposed into a CRDT basis.  And the main benefit is the ability to resolve issues of synchronization of the zoo replicas and data warehouses, with competitive write access. <br><br>  CRDT-engine in the mobile application will allow to fully work with the data even in the absence of a permanent connection to the Internet, and only when a connection appears, synchronize, without conflicts and data loss.  Ideally, this might be completely transparent to the user.  A sort of dropbox / git for objects.  Yes, yes, Firebase, Meteor, Derby, Google Drive Realtime API - the move goes in this direction.  But it was not yet a bomb, a MySQL or jQuery level - it means that something else is not ready. <br><br>  If, for example, mentally cross the CRDT, information-centric and event-oriented, we get a hypothetical CRDT-bus, which, unlike the CORBA / DCOM / RMI, will allow not so much access to remote objects, as work with their local copies.  At the same time, these local copies will not be a flat "cache", but full-fledged live replicas with the ability to record, which will be automatically synchronized. <br><br>  What is not architecture for the web applications of the future? </div><p>Source: <a href="https://habr.com/ru/post/218215/">https://habr.com/ru/post/218215/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../218205/index.html">Project Lazybones - ‚ÄúLazy‚Äù that works for you</a></li>
<li><a href="../218207/index.html">Brenden Ike resigned as Mozilla leader under pressure from LGBT</a></li>
<li><a href="../218209/index.html">How I entered the distance education in the master course of Walden (USA)</a></li>
<li><a href="../218211/index.html">How a web-studio from Russia makes the first steps of opening a representative office in Germany (part 1 is theoretical)</a></li>
<li><a href="../218213/index.html">RAW Developers for Mac OS X RPP and Aperture: Apple Exclusive in the hands of amateur photographer</a></li>
<li><a href="../218217/index.html">[video] How to put a person in place: 10 real questions about the pressure in the negotiations</a></li>
<li><a href="../218221/index.html">April 4 - the Day of St. Isidore of Seville and the day of the webmaster</a></li>
<li><a href="../218225/index.html">Micro ORM one class</a></li>
<li><a href="../218227/index.html">Autoconfiguration (Auto Setup) of Polycom Phones Using Asterisk</a></li>
<li><a href="../218229/index.html">Compile life</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>