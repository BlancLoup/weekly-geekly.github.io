<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Using IaaS-clouds for a loaded web project: the Hotels.ru experience</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Today we will talk about how the Hotels.ru hotel reservation service used the IaaS infrastructure of IT-GRAD several years ago. 

  


 What helps Iaa...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Using IaaS-clouds for a loaded web project: the Hotels.ru experience</h1><div class="post__text post__text-html js-mediator-article">  Today we will talk about how the Hotels.ru hotel reservation service used the IaaS infrastructure of <a href="http://it-grad.ru/">IT-GRAD</a> several years ago. <br><br> <a href="https://habrahabr.ru/company/it-grad/blog/258389/"><img src="https://habrastorage.org/files/b68/7d2/008/b687d20085604b57a4822dcfaeb22a24.jpg"></a> <br><a name="habracut"></a><br><br><h2>  What helps IaaS-infrastructure </h2><br>  The popularity of the service is what the entire project team is working for.  The desire to help the maximum number of people leads to the need to solve problems of processing large amounts of data from various sources.  This requires serious computing power that requires capital investment and the cost of ongoing maintenance. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      An average business can not always allocate a lump sum to significantly increase or update its own IT infrastructure.  In this case, you should pay attention to the opportunities offered by <a href="http://it-grad.ru/">IaaS-providers</a> . <br><br>  The growth of the Hotels.ru database is about 50%, so the ability to scale the infrastructure and its performance were key factors when working with IaaS. <br><br><blockquote>  <i>Field tests have shown that to achieve a user-friendly sample rate and recalculation of options, 1.5k IOPS is required per disk system.</i>  <i>In addition, the indicator must be guaranteed to ensure a stable response of the site.</i> <i><br><br></i>  <i>At this stage, almost half of the offers were eliminated, as providers tried to avoid specific guarantees for I / O operations.</i> <i><br><br></i>  <i>In terms of reliability, calculations of possible losses showed that the optimal SLA for our service would be 99.5% and higher.</i> <br><br>  - Team Hotels.ru </blockquote><br><br><h2>  Project infrastructure </h2><br>  The target audience of Hotels.ru is Russian users, so the service had to ensure maximum opening speed and smooth operation, primarily for this segment.  The project consists of a web application and a database that is implemented on Linux and PHP with MySQL. <br><br><img src="https://habrastorage.org/files/dcf/a2f/a4f/dcfa2fa4fb2f486e8e0e1ad27407e74e.png"><br><br>  The load generated by hundreds of simultaneous connections from different parts of the country is balanced by vSphere.  In addition, a damage assessment was conducted in case of emergency: <br><br><blockquote>  <i>After calculating the amount of losses in a hypothetical catastrophe, we came to the conclusion that for a company losses become noticeable after a day of inaccessibility.</i> <i><br><br></i>  <i>And with an RTO in the amount of days there is no need for replication systems or something like that, so we limited ourselves to backup and backup space.</i> <br><br>  - Team Hotels.ru </blockquote><br>  As part of this case, the transfer to the backup data center was considered.  In this case, network integrity is ensured with the help of BGP, and ‚Äúlearning‚Äù transfers took about 16 hours.  As a result, for five years of operation of Hotels.ru, there were no accidents in the IaaS-cloud. <br><br><h2>  IaaS benefits </h2><br>  Long-term cooperation with the team of our <a href="http://it-grad.ru/">IaaS-provider</a> allows the project to talk openly about the advantages of working with a virtual infrastructure. <br><br>  At the initial stage, representatives of Hotels.ru doubted the transfer of particularly sensitive systems related to the processing of customer data.  Our analysis of the situation showed the need to use encryption - such a move reduced anxiety and objectively affect the data security. <br><br><blockquote>  <i>The whole beauty of the cloud is realized when the traffic on the site increases tenfold before the holidays and the power needs to be urgently raised.</i>  <i>At the dawn of the service, this caused a natural panic and an emergency, and now the issue is solved by adding virtual processors and IOPS to the disk system.</i> <i><br><br></i>  <i>As soon as the peak was asleep and, according to predictions, repetitions are not foreseen, we disconnect the temporarily allocated capacities in order not to pay extra.</i> <br><br>  - Team Hotels.ru </blockquote><br>  Virtual infrastructure allows you to change not only the degree of availability of the service, but also greatly affect the development process.  Painless experiments to improve the front of the project and optimize internal systems are possible through the allocation of individual resources. <br><br><blockquote>  <i>Prototypes of future versions and running-in of new functions often require separate stands of similar performance, and we recall with a shudder the self-assembly ‚Äúservers‚Äù and the nightly work on their engraftment.</i> <i><br><br></i>  <i>Progress here of course relaxes - clicked the mouse and got the whole farm under test.</i>  <i>At the same time, it is not necessary to go to the management for a budget for test iron, and later to think about where to attach obsolete decommissioned equipment.</i>  <i>Beauty.</i> <br><br>  - Team Hotels.ru </blockquote><br>  It is worth noting the opportunities for providing information security, which provides IaaS.  Project Hotels.ru had to experience the impact of attackers who organized a fairly serious DDoS attack. <br><br>  They took advantage of the temporary vulnerability of the service and sent a stream of requests for price comparisons in various hotels.  The attack was made from sources located in 4 countries. <br><br><blockquote>  <i>Rescued monitoring of the cloud, notifying of problems in the first 10 minutes of the attack.</i>  <i>Our servers are under the supervision of the provider ZABBIX, which at the same time looks out for the network.</i>  <i>So timely detection of problems saved both loss of reputation and more extensive consequences.</i> <i><br><br></i>  <i>We had to respond quickly to the threat, and it was decided to temporarily block incoming traffic from the attacking countries, since there were no large blessings among them.</i>  <i>In parallel, they increased the number of connections and sighed calmly.</i> <br><br>  - Team Hotels.ru </blockquote><br><h2>  What's next </h2><br>  Today, the project team allocates key resources exclusively for business development and improving the user experience of service customers.  In the future, we consider the possibility of passing <a href="http://www.it-grad.ru/iaas/dopolnitelnye-uslugi/pci-dss-khosting/">the PCI DSS certification</a> , which will allow processing and storing information on bank cards in user profiles. <br><br><blockquote>  <i>Today in Russia, IaaS operators with a PCI DSS certificate, which covers administration by area, and not just equipment placement, can be counted on the fingers of one hand.</i>  <i>In our opinion, the business will sooner or later add this item to the extensive list of cloud requirements.</i> <i><br></i> <br>  - Team Hotels.ru </blockquote></div><p>Source: <a href="https://habr.com/ru/post/258389/">https://habr.com/ru/post/258389/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../258379/index.html">Androids in Dolphinariums</a></li>
<li><a href="../258381/index.html">Automatic update of IP phones in 3CX. Part one. Theory</a></li>
<li><a href="../258383/index.html">Scrollport.js - new scrolling animation</a></li>
<li><a href="../258385/index.html">Odessa Open Class Programming Competition 2015</a></li>
<li><a href="../258387/index.html">How I complemented reality in the library</a></li>
<li><a href="../258391/index.html">"Curse" braces</a></li>
<li><a href="../258393/index.html">The best students from all over the world take part in the ‚ÄúIntellect Battle‚Äù World Programming Championship</a></li>
<li><a href="../258395/index.html">When should we expect the apocalypse of network infrastructure?</a></li>
<li><a href="../258397/index.html">Parsing formats: sound package in the Unreal Engine</a></li>
<li><a href="../258399/index.html">How to create artificial intelligence? The second story. Algorithms for intelligent search and storage of information</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>