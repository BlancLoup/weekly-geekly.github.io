<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Uber: Overview of the main platform control algorithms</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="1. Introduction 
 Online passenger transport platforms such as Uber, DiDi and Yandex have emerged quite recently, while they quickly reached impressiv...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Uber: Overview of the main platform control algorithms</h1><div class="post__text post__text-html js-mediator-article"><h3>  1. Introduction </h3><br>  Online passenger transport platforms such as Uber, DiDi and Yandex have emerged quite recently, while they quickly reached impressive sizes and, despite their small age, significantly altered and supplemented the urban transport system.  The technologies and theoretical models used by these platforms (or being developed for them) are currently an area of ‚Äã‚Äãactive research for a wide range of specialists in the scientific community: economists, mathematicians, programmers and engineers. <br><br>  In this article, we (as representatives of the Uber Marketplace Optimization team) briefly present an insider look at the main levers of performance management of online platforms: algorithms responsible for dispatching solutions (matching), dynamic pricing (dynamic pricing), and also present one of the new concepts - dynamic vehicle assignment time (dynamic waiting).  Based on real practical experience, we will show that all three algorithms play an important role in creating a system with high performance and low waiting times for orders for both passengers and drivers. <br><br>  The presented description of the algorithms will be introductory in nature and deliberately devoid of technical depth and rigor.  An interested reader is invited to study the original article ( <a href="https://papers.ssrn.com/sol3/papers.cfm%3Fabstract_id%3D3258234">Dynamic Pricing and Matching in Ride-Hailing Platforms</a> - <a href="http://nkorolko.com/">N.Korolko</a> , D.Woodard, C.Yan, H.Zhu - 2019), published by researchers from the Uber Marketplace department, based on which this brief introductory review and created. <br><a name="habracut"></a><br><h3>  2. Description of the main algorithms </h3><br>  Over the past decade, the transport solutions industry has been developing at a rapid pace thanks to new conceptual ideas and technologies, such as the online platform for passenger transportation, the development of self-driving cars and electric cars.  The synergy of these technologies, which many companies and laboratories simultaneously work on, promises a huge breakthrough in reducing the unit cost of passenger transportation by a factor of 10 times over a couple of decades. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      The most explosive growth from this list of technologies is currently demonstrated by the online platform for passenger traffic.  For example, the Uber company for 10 years of its existence has generated more than 10 billion trips to more than 80 countries and 700 cities around the world [Figure 1].  The global market for such online shipments promises to reach an incredible size of $ 285 billion by 2030.  It is therefore not surprising that the effectiveness of such platforms, which dynamically control the two-way passenger and driver market, is of great practical importance. <br><br><img src="https://habrastorage.org/webt/ii/oq/wm/iioqwm67_xhb2s5keamaz_kkwpw.png" alt="image"><br><br>  Empirical studies show that automated algorithms for data processing, routing, pricing and order assignment allow online platforms to achieve a higher utilization of drivers' working time and less long waiting times for a car by passengers compared to the classic taxi service.  Moreover, these two key characteristics of the system (driver time utilization and passenger waiting time) are closely related to service reliability and sustainability: sudden local outbreaks of demand (for example, at the end of a large concert or on the eve of the New Year) can significantly worsen both metrics, thus making use of The service is unattractive for both sides of the market.  This is due to the fact that drivers on the line in the high demand zone quickly receive a small part of the total number of orders, and drivers from remote areas are assigned to the rest of the orders.  This increases the time of the car, which is often not paid to the driver (and therefore reduces his earnings per unit time), and at the same time creates a negative impression on the passenger.  Thus, both parties using the platform begin to use less of it.  Because of this, both metrics begin to deteriorate even more, thereby twisting the downward spiral of platform performance in the direction of zero efficiency.  In the English-language literature, this negative phenomenon is called Wild Goose Chase (WGC), the literal translation of which is ‚Äúthe pursuit of a wild goose‚Äù. <br><br>  Two key technologies aimed at improving the stability and performance of the platform are the algorithms for the distribution of orders and dynamic pricing.  The first technology controls dispatch solutions, and dynamic real-time pricing balances the extremely volatile ratio of demand and supply for passenger transportation.  Dynamic pricing is critical for maintaining system performance, reducing waiting time for a vehicle and increasing the number of drivers during periods of high demand.  Moreover, empirical and theoretical studies show that dynamic pricing reduces the incidence of the pathologically dangerous WGC effect. <br><br><h3>  2.1 Algorithms for the distribution of orders (matching) </h3><br>  The simplest dispatch algorithm for assigning a driver to order is the so-called first-dispatch protocol.  Despite its simplicity and good practical performance indicators, it is easy to show that this algorithm is ineffective in a large number of frequently occurring situations.  First, he chooses a driver only from the subgroup of drivers who are free at the time of the order, ignoring those drivers who may be close to completing the trip in the immediate vicinity of the new order [Figure 4].  Secondly, this simple algorithm takes into account only information about the system in a given period of time, while more often the platform may have access to fairly accurate information about what will happen with the flow of orders and the spatial distribution of drivers in the near future.  In the literature, a class of similar tasks that give practical recipes as such information can be used to improve the quality of the algorithm is called the ‚ÄúK-server problem‚Äù. <br><br><img src="https://habrastorage.org/webt/rs/56/vb/rs56vbkatxvcoiokzmhpcjiuqbq.png" alt="image"><br><br>  Another popular family of dispatch algorithms is based on the idea of ‚Äã‚Äãcombining a group of travel orders within a small time interval and solving an aggregated optimization problem of pairwise assignment.  In other words, instead of instantly and consistently assigning a car to each individual order, the system collects information about incoming orders and with some frequency distributes the accumulated orders between the drivers on the line.  If some orders are left without a designated driver, they remain in the system and participate in the task of distributing the next time step.  The objective function of the optimization problem solved at each step may include a wide range of metrics characterizing the quality of dispatcher-generated assignments: passenger waiting time, distance between the order and the designated driver, probability of canceling the order by the passenger or driver, and so on. <br><br>  In practice, dispatching algorithms look much more complicated, since they must take into account the large number of features of different products that are simultaneously presented in the application interface.  For example, cars registered on the platform can be of different comfort classes and different capacities.  Some products of online platforms imply the simultaneous use of one car by different passengers (UberPool, Lyft Line), in the event that their routes are close enough.  Moreover, dispatching solutions often have to take into account the preferences of drivers in service areas and the directions of incoming orders.  Thus, the range of emerging optimization tasks aimed at improving the efficiency of dispatching solutions, which, moreover, must be solved in real time, is continuously updated with new and more complex formulations. <br><br><h3>  2.2 Algorithms dynamic pricing (Dynamic pricing) </h3><br>  One of the main operational difficulties of managing the online platform for passenger transportation is the continuously changing in space and time volumes of supply and demand for taxi services.  The figure below [Figure 5] shows the ratio of the number of online travel requests from passengers and the number of hours that drivers spent on the line for two areas of San Francisco: the financial center and the sleeping area of ‚Äã‚ÄãSunset on the outskirts of the city.  This graph well illustrates the high volatility and the lack of a balance between supply and demand (the ratio of which can sometimes take extremely high values), as well as the diversity of behavior of this balance depending on the geographical location. <br><br><img src="https://habrastorage.org/webt/xa/lq/be/xalqbeg1e3arvojjawuyvjxctgu.png" alt="image"><br><br>  In order to control the balance of supply and demand in space and time, online platforms use dynamic pricing algorithms that increase the base fare in real time if the number of incoming orders from passengers significantly exceeds the number of free drivers.  The benefits of dynamic pricing to maintain stable platform operation are confirmed by a large number of theoretical models, experiments, and empirical observations associated with record high loads on the system.  Such loads can occur due to a large number of predictable and not very causes: adverse weather conditions, mass events, malfunctioning of the public transport system, and so on.  In case of incorrect operation of the pricing algorithm, with a sharp increase in the number of requests from passengers (or with a sharp decrease in the number of available cars), a very low proportion of passengers can be observed, to whom a car is ultimately assigned and the delivery time is not satisfactory.  The key role of dynamic pricing for the online platform is to enable any user anywhere and at any time to call a taxi.  Even if the proposed tariff will be higher than usual, it will be a more favorable option than to put the platform user (who may need a car urgently) aware that there are no available machines at the moment. <br><br>  Popular dynamic pricing modeling methods include economic models that describe steady-state models, dynamic programming models, regression analysis, and optimization models that describe network effects (network optimization).  Recent studies by economists (Castillo, 2017) have shown that a dynamic tariff increase also allows the platform to avoid falling into the zone of the negative effect of the WGC, which we discussed above. <br><br>  Dynamic pricing also has objective drawbacks.  First, the final price of the trip, which passengers see when ordering a taxi, can vary significantly due to the volatility of supply and demand, thereby increasing the unpredictability of the fare on the same route.  On the other hand, drivers of online platforms often have access to information in the annex about those areas of the city where the boost factor is active.  However, due to the high volatility of this coefficient, by the time the driver moves to a higher price zone, the tariff may return to baseline values.  Moreover, the automatic tariff increase by the algorithm can encourage drivers to cooperate and artificially create situations of shortage of cars available for ordering on the local market, thereby activating the increase rates for trips.  Of course, such coordinated behavior of drivers is not difficult to detect for platforms that process a large amount of data on orders, and to take the necessary protective actions, but for passengers this experience of artificially high prices may be unsatisfactory. <br><br><h3>  2.3 Dynamic car appointment time (Dynamic waiting) </h3><br>  To avoid problems associated with dynamic pricing, other algorithms are used in practice to balance supply and demand, as well as to avoid getting the system into the WGC effect zone.  These include the idea of ‚Äã‚Äãlimiting the maximum distance between an order and an assigned driver (Maximum Dispatch Radius), as well as queuing orders that enter the system, replacing the driver's instant appointment for each order. <br><br>  A new concept aimed at replacing or complementing dynamic price increases is the dynamic waiting time control mechanism.  One variation of this mechanism is used in the Express Pool product, recently launched by Uber in some major markets.  This type of passenger transportation is characterized by the lowest possible prices and implies the simultaneous use of one car by several independent passengers to make passing journeys. <br><br>  The general idea of ‚Äã‚Äãthe mechanism of dynamic assignment time is as follows.  For a passenger booking a trip, the application does not assign the driver instantly, but offers to wait, but not more than a certain amount of time in advance (typical upper limits are 2 or 5 minutes).  Moreover, the appointment of the driver can occur at any time convenient for the platform: from instant to the specified upper limit.  In this case, the total waiting time of the car by the passenger consists of two (almost independent) parts: the time to the driver‚Äôs appointment and the time from his appointment to arrival at the place of order.  The inconvenience of waiting delivered to the passenger is compensated by a lower fare. <br><br>  On the platform side, an additional degree of freedom with the time that drivers are assigned to orders is used as follows.  Since the product involves a combination of orders and the appointment of one vehicle for the simultaneous transportation of several passengers, the additional time to collect information allows you to increase the number of combinatorial options and as a result generate more efficient trips.  In this case, the metric of efficiency may be, for example, the proximity of the routes of passengers entering into one car.  Obviously, as soon as the platform finds a sufficiently high-performance combination of the trip, it immediately makes the necessary driver assignment and notifies all its participants.  If the successful and convenient combination is not found, then the platform sends an individual driver to each of the passengers who made the order. <br><br>  The described mechanism primarily optimizes dispatch decisions and the time when these decisions are made, and it can be used simultaneously with dynamic price optimization.  The theoretical model developed and analyzed in the original main article demonstrates that the simultaneous optimization of prices and time has a large number of advantages: it reduces the volatility of tariffs, reduces the risks of the WGC effect, and also increases the total number of trips generated by the platform per time.  Moreover, these transportation options are more cost-effective for both drivers (who simultaneously receive several passengers paying for the trip) and passengers (who receive a discount in exchange for flexibility with waiting times). <br><br><h3>  3. Conclusion </h3><br>  In this article, we briefly described the main optimization management problems that solve online passenger transport platforms to ensure stable operation and increase their efficiency.  These tasks include the construction of dispatching algorithms, dynamic pricing algorithms and dynamic determination of the time of appointment of the driver.  The simultaneous control of these levers allows us to achieve high rates of utilization of driver time, low car waiting time and the number of trips generated by the platform per unit of time.  The class of these tasks is constantly updated with new, increasingly realistic examples, opening up broad horizons for theoretical and practical research. <br><br>  All references to cited sources can be found in the original article ( <a href="https://papers.ssrn.com/sol3/papers.cfm%3Fabstract_id%3D3258234">Dynamic Pricing and Matching in Ride-Hailing Platforms</a> - <a href="http://nkorolko.com/">N.Korolko</a> , D.Woodard, C.Yan, H.Zhu - 2019). </div><p>Source: <a href="https://habr.com/ru/post/457462/">https://habr.com/ru/post/457462/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../45745/index.html">IT events in 2009</a></li>
<li><a href="../457450/index.html">Top 10 technological trends in data processing and analytics in 2019 according to Gartner</a></li>
<li><a href="../457458/index.html">Mobile stand for Chinese machines. Or how to place them in the apartment</a></li>
<li><a href="../45746/index.html">Ruby is not rails</a></li>
<li><a href="../457460/index.html">Linux Kernel Security Card</a></li>
<li><a href="../457464/index.html">Deduplication of ads on Yandex. Real Estate</a></li>
<li><a href="../457466/index.html">How we developed IT in Leroy Merlin: engine reassembly on the move</a></li>
<li><a href="../457468/index.html">Universal memory: SRAM, DRAM and flash memory in one bottle</a></li>
<li><a href="../457470/index.html">Leaf math: how one unusual bush changed the equation of a plant growth model</a></li>
<li><a href="../457476/index.html">Reducing the size of the docker image with the spring boot application</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>