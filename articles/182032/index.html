<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Executable Specification: SpecFlow A to Z</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="This article is a continuation of the first part and reveals the technical details of working with the ‚Äúexecutable specification‚Äù using SpecFlow . 

 ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Executable Specification: SpecFlow A to Z</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/storage2/f60/6e3/c43/f606e3c43e2d6465a8e1f9c4646b79dd.jpg"><br>  This article is a continuation of the <a href="http://habrahabr.ru/company/etnasoft/blog/166747/">first part</a> and reveals the technical details of working with the ‚Äúexecutable specification‚Äù using <a href="http://www.specflow.org/specflownew/">SpecFlow</a> . <br><br>  To get started, you will need a plug-in to Visual Studio (downloaded from the official site) and the SpecFlow package (installed from <a href="http://www.nuget.org/packages/SpecFlow">nuget</a> ). <br><br>  So, our Product Owner asked the team to develop a calculator ... <br><a name="habracut"></a><br><pre><code class="hljs pgsql">@calculator Feature: Sum <span class="hljs-keyword"><span class="hljs-keyword">As</span></span> a math idiot I want <span class="hljs-keyword"><span class="hljs-keyword">to</span></span> be told the sum <span class="hljs-keyword"><span class="hljs-keyword">of</span></span> two numbers So that I can avoid silly mistakes @positive @sprint1 Scenario: <span class="hljs-keyword"><span class="hljs-keyword">Add</span></span> two numbers Given I have entered <span class="hljs-number"><span class="hljs-number">50</span></span> <span class="hljs-keyword"><span class="hljs-keyword">into</span></span> the calculator <span class="hljs-keyword"><span class="hljs-keyword">And</span></span> I have entered <span class="hljs-number"><span class="hljs-number">70</span></span> <span class="hljs-keyword"><span class="hljs-keyword">into</span></span> the calculator <span class="hljs-keyword"><span class="hljs-keyword">When</span></span> I press <span class="hljs-keyword"><span class="hljs-keyword">add</span></span> <span class="hljs-keyword"><span class="hljs-keyword">Then</span></span> the result should be <span class="hljs-number"><span class="hljs-number">120</span></span> <span class="hljs-keyword"><span class="hljs-keyword">on</span></span> the screen</code> </pre> <br>  It is worth paying attention to @ attributes.  They have several important properties.  First, if you are using NUnit, SpecFlow add the attribute <i>[NUnit.Framework.CategoryAttribute ("calculator")]</i> .  This is very convenient for making test plans.  Category divisions are supported by R #, the native NUnit Runner and Team City. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Let's automate this script.  By this time, the developers have already prepared the calculator interface: <br><pre> <code class="hljs cs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">interface</span></span> <span class="hljs-title"><span class="hljs-title">ICalculator</span></span> { <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">decimal</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Sum</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">params</span></span></span></span><span class="hljs-function"><span class="hljs-params"> </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">decimal</span></span></span></span><span class="hljs-function"><span class="hljs-params">[] values</span></span></span><span class="hljs-function">)</span></span>; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">decimal</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Minus</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">decimal</span></span></span></span><span class="hljs-function"><span class="hljs-params"> a, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">decimal</span></span></span></span><span class="hljs-function"><span class="hljs-params"> b</span></span></span><span class="hljs-function">)</span></span>; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">decimal</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Sin</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">decimal</span></span></span></span><span class="hljs-function"><span class="hljs-params"> a</span></span></span><span class="hljs-function">)</span></span>; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">decimal</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Multiply</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">params</span></span></span></span><span class="hljs-function"><span class="hljs-params"> </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">decimal</span></span></span></span><span class="hljs-function"><span class="hljs-params">[] values</span></span></span><span class="hljs-function">)</span></span>; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">decimal</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Divide</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">decimal</span></span></span></span><span class="hljs-function"><span class="hljs-params"> a, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">decimal</span></span></span></span><span class="hljs-function"><span class="hljs-params"> b</span></span></span><span class="hljs-function">)</span></span>; }</code> </pre><br>  Add the service testing context: <br><pre> <code class="hljs cs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">CalculationContext</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">readonly</span></span> List&lt;<span class="hljs-keyword"><span class="hljs-keyword">decimal</span></span>&gt; _values = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> List&lt;<span class="hljs-keyword"><span class="hljs-keyword">decimal</span></span>&gt;(); <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> ICalculator Calculator { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">set</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">decimal</span></span> Result { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">set</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> Exception Exception { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">set</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> List&lt;<span class="hljs-keyword"><span class="hljs-keyword">decimal</span></span>&gt; Values { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> _values; } } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">CalculationContext</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { Calculator = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Calculator(); } }</code> </pre><br>  To automate steps, SpecFlow uses special attributes: <br><pre> <code class="hljs cs">[<span class="hljs-meta"><span class="hljs-meta">Binding</span></span>] <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">Sum</span></span> : <span class="hljs-title"><span class="hljs-title">CalcStepsBase</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> CalculationContext Context {<span class="hljs-keyword"><span class="hljs-keyword">get</span></span>;<span class="hljs-keyword"><span class="hljs-keyword">set</span></span>;} <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Sum</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">CalculationContext context</span></span></span><span class="hljs-function">)</span></span> { Context = CalculationContext(); } [Given(<span class="hljs-string"><span class="hljs-string">"I have entered (.*) into the calculator"</span></span>)] <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Enter</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> digit</span></span></span><span class="hljs-function">)</span></span> { Context.Values.Add(digit); } [When(<span class="hljs-string"><span class="hljs-string">"I press (.*)"</span></span>)] <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Press</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">string</span></span></span></span><span class="hljs-function"><span class="hljs-params"> action</span></span></span><span class="hljs-function">)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">switch</span></span> (action.ToLower()) { <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> <span class="hljs-string"><span class="hljs-string">"add"</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> <span class="hljs-string"><span class="hljs-string">"plus"</span></span>: Context.Result = Context.Calculator.Sum(Context.Values.ToArray()); <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">default</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">throw</span></span> <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> InconclusiveException(<span class="hljs-keyword"><span class="hljs-keyword">string</span></span>.Format(<span class="hljs-string"><span class="hljs-string">"Action \"{0}\" is not implemented"</span></span>, action)); } } [Then(<span class="hljs-string"><span class="hljs-string">"the result should be (.*) on the screen"</span></span>)] <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Result</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">decimal</span></span></span></span><span class="hljs-function"><span class="hljs-params"> expected</span></span></span><span class="hljs-function">)</span></span> { Assert.AreEqual(expected, Context.Result); } }</code> </pre><br>  There are several advantages to this approach: <br><ol><li>  Each step needs to be automated only once. </li><li>  You avoid problems with complex inheritance chains, the code looks much clearer </li><li>  Attributes use regular expressions, so one attribute can ‚Äúcatch‚Äù several steps.  The When attribute, in this case, will work for the phrase ‚Äúadd‚Äù and ‚Äúplus‚Äù </li></ol>  All, all the steps are implemented, the test can be run directly from the .feature file. <br><br><h4>  Alternative recording </h4><br><pre> <code class="hljs pgsql">@positive Scenario: Paste numbers Given I have entered two numbers | a | b | | <span class="hljs-number"><span class="hljs-number">1</span></span> | <span class="hljs-number"><span class="hljs-number">2</span></span> | <span class="hljs-keyword"><span class="hljs-keyword">When</span></span> I press <span class="hljs-keyword"><span class="hljs-keyword">add</span></span> <span class="hljs-keyword"><span class="hljs-keyword">Then</span></span> the result should be <span class="hljs-number"><span class="hljs-number">3</span></span> <span class="hljs-keyword"><span class="hljs-keyword">on</span></span> the screen [Given("I have entered two numbers")] <span class="hljs-built_in"><span class="hljs-built_in">public</span></span> <span class="hljs-type"><span class="hljs-type">void</span></span> Paste(<span class="hljs-keyword"><span class="hljs-keyword">Table</span></span> <span class="hljs-keyword"><span class="hljs-keyword">values</span></span>) { var calcRow = <span class="hljs-keyword"><span class="hljs-keyword">values</span></span>.CreateInstance&lt;CalcTable&gt;(); Context.<span class="hljs-keyword"><span class="hljs-keyword">Values</span></span>.<span class="hljs-keyword"><span class="hljs-keyword">Add</span></span>(calcRow.A); Context.<span class="hljs-keyword"><span class="hljs-keyword">Values</span></span>.<span class="hljs-keyword"><span class="hljs-keyword">Add</span></span>(calcRow.B); } <span class="hljs-built_in"><span class="hljs-built_in">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> CalcTable { <span class="hljs-built_in"><span class="hljs-built_in">public</span></span> <span class="hljs-type"><span class="hljs-type">decimal</span></span> A { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">set</span></span>; } <span class="hljs-built_in"><span class="hljs-built_in">public</span></span> <span class="hljs-type"><span class="hljs-type">decimal</span></span> B { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">set</span></span>; } }</code> </pre><br>  Such a record option can be handy when you need to fill a large object.  For example, user account data. <br><br><h3>  Are we going to test only one data set? </h3>  Of course, one test is not enough; writing dozens of scenarios for different numbers is a dubious pleasure.  <i>Scenario Outline</i> comes to the rescue <br><pre> <code class="hljs ruby">@calculator <span class="hljs-symbol"><span class="hljs-symbol">Feature:</span></span> Calculations As a math idiot I want to be told the calculation result of two numbers So that I can avoid silly mistakes @positive @b12 @tc34 Scenario <span class="hljs-symbol"><span class="hljs-symbol">Outline:</span></span> Add two numbers Given I have entered &lt;firstValue&gt; into the calculator And I have entered &lt;secondValue&gt; into the calculator When I press &lt;action&gt; Then the &lt;result&gt; should be on the screen <span class="hljs-symbol"><span class="hljs-symbol">Examples:</span></span> <span class="hljs-params"><span class="hljs-params">| firstValue |</span></span> secondValue <span class="hljs-params"><span class="hljs-params">| action |</span></span> result <span class="hljs-params"><span class="hljs-params">| |</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-params"><span class="hljs-params">| 2 |</span></span> plus <span class="hljs-params"><span class="hljs-params">| 3 |</span></span> <span class="hljs-params"><span class="hljs-params">| 2 |</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span> <span class="hljs-params"><span class="hljs-params">| minus |</span></span> -<span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-params"><span class="hljs-params">| |</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-params"><span class="hljs-params">| 2 |</span></span> multiply <span class="hljs-params"><span class="hljs-params">| 4 |</span></span></code> </pre><br>  SpecFlow will substitute the values ‚Äã‚Äãfrom the table into the <i>placeholder</i> .  Already not bad, but you still need to add automation: <br><pre> <code class="hljs pgsql">[<span class="hljs-keyword"><span class="hljs-keyword">When</span></span>("I press (.*)")] <span class="hljs-built_in"><span class="hljs-built_in">public</span></span> <span class="hljs-type"><span class="hljs-type">void</span></span> Press(string action) { switch (action.ToLower()) { <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> "add": <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> "plus": Context.Result = Context.Calculator.Sum(Context.<span class="hljs-keyword"><span class="hljs-keyword">Values</span></span>.ToArray()); break; <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> "minus": Context.Result = Context.Calculator.Minus(Context.<span class="hljs-keyword"><span class="hljs-keyword">Values</span></span>[<span class="hljs-number"><span class="hljs-number">0</span></span>], Context.<span class="hljs-keyword"><span class="hljs-keyword">Values</span></span>[<span class="hljs-number"><span class="hljs-number">1</span></span>]); break; <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> "multiply": Context.Result = Context.Calculator.Multiply(Context.<span class="hljs-keyword"><span class="hljs-keyword">Values</span></span>.ToArray()); break; <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> "sin": Context.Result = Context.Calculator.Sin(Context.<span class="hljs-keyword"><span class="hljs-keyword">Values</span></span>[<span class="hljs-number"><span class="hljs-number">0</span></span>]); break; <span class="hljs-keyword"><span class="hljs-keyword">default</span></span>: throw <span class="hljs-built_in"><span class="hljs-built_in">new</span></span> InconclusiveException(string.Format("Action \"{<span class="hljs-number"><span class="hljs-number">0</span></span>}\" is not implemented", action)); } } [<span class="hljs-keyword"><span class="hljs-keyword">Then</span></span>("the result should be (.*) on the screen")] [<span class="hljs-keyword"><span class="hljs-keyword">Then</span></span>("the (.*) should be on the screen")] <span class="hljs-built_in"><span class="hljs-built_in">public</span></span> <span class="hljs-type"><span class="hljs-type">void</span></span> Result(<span class="hljs-type"><span class="hljs-type">decimal</span></span> expected) { <span class="hljs-keyword"><span class="hljs-keyword">Assert</span></span>.AreEqual(expected, Context.Result); }</code> </pre><br>  We changed the second line for better readability.  Therefore, on the Result method you need to hang the second attribute.  At the exit you will receive 3 tests with reports of the form: <br><pre> <code class="hljs pgsql">Given I have entered <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-keyword"><span class="hljs-keyword">into</span></span> the calculator -&gt; done: Sum.Enter(<span class="hljs-number"><span class="hljs-number">1</span></span>) (<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>s) <span class="hljs-keyword"><span class="hljs-keyword">And</span></span> I have entered <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-keyword"><span class="hljs-keyword">into</span></span> the calculator -&gt; done: Sum.Enter(<span class="hljs-number"><span class="hljs-number">2</span></span>) (<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>s) <span class="hljs-keyword"><span class="hljs-keyword">When</span></span> I press plus -&gt; done: Sum.Press("plus") (<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>s) <span class="hljs-keyword"><span class="hljs-keyword">Then</span></span> the result should be <span class="hljs-number"><span class="hljs-number">3</span></span> <span class="hljs-keyword"><span class="hljs-keyword">on</span></span> the screen -&gt; done: Sum.Result(<span class="hljs-number"><span class="hljs-number">3</span></span>) (<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>s)</code> </pre><br><h3>  And what about the negative tests? </h3>  Add a check of division by 0: <br><pre> <code class="hljs pgsql">@calculator Feature: Devision <span class="hljs-keyword"><span class="hljs-keyword">As</span></span> a math idiot I want <span class="hljs-keyword"><span class="hljs-keyword">to</span></span> be told the devision <span class="hljs-keyword"><span class="hljs-keyword">of</span></span> two numbers So that I can avoid silly mistakes @negative @<span class="hljs-keyword"><span class="hljs-keyword">exception</span></span> Scenario: Zero division Given I have entered <span class="hljs-number"><span class="hljs-number">10</span></span> <span class="hljs-keyword"><span class="hljs-keyword">into</span></span> the calculator <span class="hljs-keyword"><span class="hljs-keyword">And</span></span> I have entered <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-keyword"><span class="hljs-keyword">into</span></span> the calculator <span class="hljs-keyword"><span class="hljs-keyword">When</span></span> I press divide <span class="hljs-keyword"><span class="hljs-keyword">Then</span></span> <span class="hljs-keyword"><span class="hljs-keyword">exception</span></span> must occur</code> </pre><br>  In this case, I do not want to interfere with flies with meatballs and for division I would prefer to have a separate file.  The question arises.  What to do with the context?  He stayed in <i>Sum</i> class.  SpecFlow supports injection into the constructor.  Select the base class: <br><pre> <code class="hljs cs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">CalcStepsBase</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">protected</span></span> CalculationContext Context; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">CalcStepsBase</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">CalculationContext context</span></span></span><span class="hljs-function">)</span></span> { Context = context; } }</code> </pre><br>  We will inherit a new class with steps to divide from it: <br><pre> <code class="hljs pgsql">[Binding] <span class="hljs-built_in"><span class="hljs-built_in">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> Division : CalcStepsBase { <span class="hljs-built_in"><span class="hljs-built_in">public</span></span> Division(CalculationContext context) : base(context) { } [<span class="hljs-keyword"><span class="hljs-keyword">When</span></span>("I press divide"), Scope(Scenario = "Zero division")] <span class="hljs-built_in"><span class="hljs-built_in">public</span></span> <span class="hljs-type"><span class="hljs-type">void</span></span> ZeroDivision() { try { Context.Calculator.Divide(Context.<span class="hljs-keyword"><span class="hljs-keyword">Values</span></span>[<span class="hljs-number"><span class="hljs-number">0</span></span>], Context.<span class="hljs-keyword"><span class="hljs-keyword">Values</span></span>[<span class="hljs-number"><span class="hljs-number">1</span></span>]); } catch (DivideByZeroException ex) { Context.<span class="hljs-keyword"><span class="hljs-keyword">Exception</span></span> = ex; } } [<span class="hljs-keyword"><span class="hljs-keyword">Then</span></span>("exception must occur")] <span class="hljs-built_in"><span class="hljs-built_in">public</span></span> <span class="hljs-type"><span class="hljs-type">void</span></span> <span class="hljs-keyword"><span class="hljs-keyword">Exception</span></span>() { <span class="hljs-keyword"><span class="hljs-keyword">Assert</span></span>.That(Context.<span class="hljs-keyword"><span class="hljs-keyword">Exception</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">Is</span></span>.TypeOf&lt;DivideByZeroException&gt;()); } }</code> </pre><br>  To ensure that the boarding does not conflict, we divide them into positive and negative <br><pre> <code class="hljs json">[When(<span class="hljs-string"><span class="hljs-string">"I press (.*)"</span></span>), Scope(Tag = <span class="hljs-string"><span class="hljs-string">"positive"</span></span>)] [When(<span class="hljs-string"><span class="hljs-string">"I press divide"</span></span>), Scope(Scenario = <span class="hljs-string"><span class="hljs-string">"Zero division"</span></span>)]</code> </pre><br>  We can filter the scope by script and tags. <br><br><h3>  Data Driven Tests </h3>  Four examples of addition, subtraction and multiplication are not enough.  There are many systems, with impressive volumes of input and output values.  In this case, the sheet in the DSL will not look very clear.  In order to write tests on the one hand it was convenient, and on the other, in order to save the GWT format you can go two ways: <br><ol><li>  Use <a href="http://teststack.github.io/TestStack.BDDfy/">BDDfy</a> </li><li>  finish SpecFlow to fit <a href="http://habrahabr.ru/post/181311/">your needs</a> </li></ol><br>  I stopped at the second version, so as not to support two formats: <br><pre> <code class="hljs cs">[<span class="hljs-meta"><span class="hljs-meta">TestFixture</span></span>] [Feature( <span class="hljs-string"><span class="hljs-string">"Sum Excel"</span></span>, As = <span class="hljs-string"><span class="hljs-string">"Math idiot"</span></span>, IWant = <span class="hljs-string"><span class="hljs-string">"to be told sum of two numbers"</span></span>, SoThat = <span class="hljs-string"><span class="hljs-string">"I can avoid silly mistakes"</span></span>)] <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">ExcelSumTests</span></span> : <span class="hljs-title"><span class="hljs-title">GherkinGenerationTestsBase</span></span> { [TestCaseSource(<span class="hljs-string"><span class="hljs-string">"Excel"</span></span>)] [Scenario(<span class="hljs-string"><span class="hljs-string">"Sum Excel"</span></span>, <span class="hljs-string"><span class="hljs-string">"excel"</span></span>, <span class="hljs-string"><span class="hljs-string">"positive"</span></span>, <span class="hljs-string"><span class="hljs-string">"calculator"</span></span>)] <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">AddTwoNumbers_TheResultShouldBeOnTheScreen</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">string</span></span></span></span><span class="hljs-function"><span class="hljs-params"> firstValue, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">string</span></span></span></span><span class="hljs-function"><span class="hljs-params"> secondValue, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">string</span></span></span></span><span class="hljs-function"><span class="hljs-params"> action, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">string</span></span></span></span><span class="hljs-function"><span class="hljs-params"> result</span></span></span><span class="hljs-function">)</span></span> { Given(<span class="hljs-keyword"><span class="hljs-keyword">string</span></span>.Format(<span class="hljs-string"><span class="hljs-string">"I have entered {0} into the calculator"</span></span>, firstValue)); Given(<span class="hljs-keyword"><span class="hljs-keyword">string</span></span>.Format(<span class="hljs-string"><span class="hljs-string">"I have entered {0} into the calculator"</span></span>, secondValue), <span class="hljs-string"><span class="hljs-string">"And "</span></span>); When(<span class="hljs-keyword"><span class="hljs-keyword">string</span></span>.Format(<span class="hljs-string"><span class="hljs-string">"I press {0}"</span></span>, action)); Then(<span class="hljs-keyword"><span class="hljs-keyword">string</span></span>.Format(<span class="hljs-string"><span class="hljs-string">"the result should be {0} on the screen"</span></span>, result)); } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> IEnumerable&lt;<span class="hljs-keyword"><span class="hljs-keyword">object</span></span>[]&gt; Excel() { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> ExcelTestCaseDataReader.FromFile(<span class="hljs-string"><span class="hljs-string">"Sum.xlsx"</span></span>).GetArguments(); } }</code> </pre><br><h3>  Background and preconditions </h3>  Sometimes for a whole batch of scripts you need to specify a set of preconditions.  Copying them into each script is obviously not convenient.  Two approaches come to the rescue. <br><br><h4>  Background </h4><pre> <code class="hljs pgsql">Background: Given Calculator <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> initialized @positive Scenario: <span class="hljs-keyword"><span class="hljs-keyword">Add</span></span> two numbers Given I have entered <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-keyword"><span class="hljs-keyword">into</span></span> the calculator <span class="hljs-keyword"><span class="hljs-keyword">When</span></span> I press sin <span class="hljs-keyword"><span class="hljs-keyword">Then</span></span> the result should be <span class="hljs-number"><span class="hljs-number">0.841470984807896</span></span> <span class="hljs-keyword"><span class="hljs-keyword">on</span></span> the screen</code> </pre>  In the <i>Background</i> section you can put all the big preconditions for scenarios. <br><br><h4>  Use of tags </h4>  Preconditions can also be implemented using tags: <br><pre> <code class="hljs cs">[<span class="hljs-meta"><span class="hljs-meta">Binding</span></span>] <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">Sum</span></span> : <span class="hljs-title"><span class="hljs-title">CalcStepsBase</span></span> { <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Sum</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">CalculationContext context</span></span></span><span class="hljs-function">) : </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">base</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">context</span></span></span><span class="hljs-function">)</span></span> { } [BeforeScenario(<span class="hljs-string"><span class="hljs-string">"calculator"</span></span>)] [Given(<span class="hljs-string"><span class="hljs-string">"Calculator is initialized"</span></span>)] <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">InitCalculator</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { Context.Init(); } }</code> </pre><br>  The method marked with the <i>BeforeScenario</i> attribute will be executed before running the script.  Attributes are passed to the constructor to limit the scope.  We tagged scripts as a <i>calculator</i> tag.  Now, before each launch of such a script, the <i>InitCalculator</i> method will be executed. <br><br><h3>  Reports </h3>  In order to build a report, you will need the utility specflow.exe and nunit.  Below is the msbuild script that first runs nunit and then builds a specflow report. <br><pre> <code class="xml hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?xml version="1.0" encoding="utf-8" ?&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Project</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">ToolsVersion</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"4.0"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">DefaultTarget</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"Compile"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">xmlns</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"http://schemas.microsoft.com/developer/msbuild/2003"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">ItemGroup</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">NUnitAddinFiles</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">Include</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"$(teamcity_dotnet_nunitaddin)-2.6.2.*"</span></span></span><span class="hljs-tag"> /&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">ItemGroup</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">PropertyGroup</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">teamcity_build_checkoutDir</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">Condition</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">" '$(teamcity_build_checkoutDir)' == '' "</span></span></span><span class="hljs-tag">&gt;</span></span>.<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">teamcity_build_checkoutDir</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">NUnitHome</span></span></span><span class="hljs-tag">&gt;</span></span>C:/Program Files (x86)/NUnit 2.6.2<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">NUnitHome</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">NUnitConsole</span></span></span><span class="hljs-tag">&gt;</span></span>"$(NUnitHome)\bin\nunit-console.exe"<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">NUnitConsole</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">testResultsTxt</span></span></span><span class="hljs-tag">&gt;</span></span>"$(teamcity_build_checkoutDir)\TestResult.txt"<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">testResultsTxt</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">testResultsXml</span></span></span><span class="hljs-tag">&gt;</span></span>"$(teamcity_build_checkoutDir)\TestResult.xml"<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">testResultsXml</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">projectFile</span></span></span><span class="hljs-tag">&gt;</span></span>"$(teamcity_build_checkoutDir)\Etna.QA.SpecFlow.Examples\Etna.QA.SpecFlow.Examples.csproj"<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">projectFile</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">SpecflowExe</span></span></span><span class="hljs-tag">&gt;</span></span>"C:\Program Files (x86)\TechTalk\SpecFlow\specflow.exe"<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">SpecflowExe</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">PropertyGroup</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Target</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">Name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"RunTests"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">MakeDir</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">Directories</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"$(NUnitHome)/bin/addins"</span></span></span><span class="hljs-tag"> /&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Copy</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">SourceFiles</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"@(NUnitAddinFiles)"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">DestinationFolder</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"$(NUnitHome)/bin/addins"</span></span></span><span class="hljs-tag"> /&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Exec</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">Command</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"$(NUnitConsole) /domain:multiple /labels /out=$(testResultsTxt) /xml=$(testResultsXml) $(projectFile)"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">ContinueOnError</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"true"</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Target</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Target</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">Name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"SpecflowReports"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Exec</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">Command</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"$(SpecflowExe) nunitexecutionreport $(projectFile) /xmlTestResult:$(testResultsXml) /testOutput:$(testResultsTxt) /out:"</span></span></span><span class="hljs-tag">$(</span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">teamcity_build_checkoutDir</span></span></span><span class="hljs-tag">)/</span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">SpecFlowExecutionReport.html</span></span></span><span class="hljs-tag">""/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Exec</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">Command</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"$(SpecflowExe) stepdefinitionreport $(projectFile) /out:"</span></span></span><span class="hljs-tag">$(</span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">teamcity_build_checkoutDir</span></span></span><span class="hljs-tag">)/</span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">SpecFlowStepDefinitionReport.html</span></span></span><span class="hljs-tag">""/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Target</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Project</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br>  It is worth paying attention to the flag <i>/ domain: multiple</i> .  It tells NUnit to start the assembly from the folder in which it is located.  Otherwise, there may be problems with configs. <br><br><h4>  As a result, we get this report </h4><br><img src="https://habrastorage.org/storage2/509/f13/fa7/509f13fa79a2e29edf6d0fb48b861ecc.png"><br><br><h3>  Run on schedule in Team City </h3>  In the build setup, you need to specify a new artifact: our progress report: <br><img src="https://habrastorage.org/storage2/2a8/3c0/759/2a83c0759ae3a19d02e63a780f490af3.png"><br><br>  Instead of the step with the launch of NUnit, we will use the msbuild script that we wrote earlier: <img src="https://habrastorage.org/storage2/8d5/7dc/b6c/8d57dcb6c0478fb8bfd8cbc624eaa010.png"><br><br><h4>  A new report tab will appear in Team City.  We have it looks like this: </h4><br><img src="https://habrastorage.org/storage2/1e3/5fd/fe4/1e35fdfe47659f2cbdb0a7bf73be88a8.png"><br>  Non-automated scripts are shown in purple, green - successfully, passed, red - tests with errors. <br>  Everything, it is necessary to put only the trigger on start of tests according to the schedule. <br><br><h3>  Synchronization with task tracker </h3>  TechTalk offers its commercial <a href="http://www.speclog.net/">SpecLog</a> product for requirements management and communication with task trackers.  He did not suit us for several reasons.  Now I am working on transparent communication of SpecFlow test scenarios with test cases in TFS.  With Update 2 in TFS tags appeared.  An interesting idea seems to be to use agreements in the abstract to communicate with the task tracker, for example: <i>@ b8924</i> , <i>tc345</i> .  As soon as a working decision appears, I will write about it. <br><br><h3>  Technical aspects of working with Selenium WebDriver and SpecFlow </h3>  Described in <a href="http://habrahabr.ru/post/178407/">this article</a> . </div><p>Source: <a href="https://habr.com/ru/post/182032/">https://habr.com/ru/post/182032/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../182014/index.html">Google has banned face recognition software for Google Glass</a></li>
<li><a href="../182016/index.html">Found mutations of the genome responsible for the level of education</a></li>
<li><a href="../182018/index.html">Classes in lua, or getting rid of colon</a></li>
<li><a href="../182026/index.html">On the kickstarter launched the project "tactile costume"</a></li>
<li><a href="../182030/index.html">Walkers for Kickstar gamers</a></li>
<li><a href="../182034/index.html">Stack Overflow replaces official documentation on all issues.</a></li>
<li><a href="../182036/index.html">"Sass Support" in Chrome Dev Tools</a></li>
<li><a href="../182038/index.html">Beautiful and pleasant. Sharp SH837W Smartphone Review</a></li>
<li><a href="../182040/index.html">Windows client release for Nekka</a></li>
<li><a href="../182042/index.html">Testing code before committing using Jenkins and Jetbrains IDE (IDEA, PhpStorm ...)</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>