<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>How data centers save holidays</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="During the year, Russians regularly go on holidays - New Year holidays, May holidays and other shorter weekends. And this is the traditional time for ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>How data centers save holidays</h1><div class="post__text post__text-html js-mediator-article"><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/f4d/984/d2e/f4d984d2ec70ed1926112fdb07aa847c.jpg"></div><br>  During the year, Russians regularly go on holidays - New Year holidays, May holidays and other shorter weekends.  And this is the traditional time for serial marathons, spontaneous purchases and sales on Steam.  In the pre-holiday period, retail and logistics companies are experiencing increased load: people order gifts in online stores, pay for their delivery, buy tickets for trips, communicate.  Calendar demand peaks are a good stress test for online cinemas, gaming portals, video hosting and streaming music services - on holidays they all work ‚Äúto wear out‚Äù. <br><br>  We describe how to ensure the uninterrupted availability of content on the example of the Okko online cinema, which is based in its work on the power of the Linxdatacenter data center. <br><a name="habracut"></a><br>  Previously, for seasonal consumption, additional equipment was purchased for local distribution, and ‚Äúwith a reserve‚Äù.  However, when ‚ÄúTime‚Äù came, it often turned out that companies either could not or did not have time to cope with the proper configuration of servers and storage systems.  To solve these problems in the course of the development of emergency situations simply did not work.  After a while, it came to an understanding: the demand peaks for content and online services are fine-tuned with the help of third-party resources that can be purchased using the pay-as-you-go model ‚Äî the payment for the actual consumption. <br><br>  Today, almost all companies that anticipate a surge in demand for their resources on holidays (the so-called burst), order expansion of the capacity of communication channels in advance.  Those companies that will place applications and databases on data center resources will increase computational power in the clouds for holiday peaks by re-ordering the necessary virtual machines, storage capacity, etc. in data centers. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h2>  How not to miss in the calculations </h2><br><img src="https://habrastorage.org/getpro/habr/post_images/0eb/372/9e7/0eb3729e794981f902aa80dae4ddd0f8.jpg"><br><br>  To prepare for peak loads, coordinated work between the provider and the client is important.  The main points in this work include an accurate forecast of the load jump in terms of time and volume, careful planning and quality of interaction with colleagues inside the data center, as well as with a team of IT specialists on the content provider side. <br><br>  A number of solutions help to organize the quick allocation of the resources necessary to ensure that the new series of your favorite series on the screen of your tablet does not hang. <br><br><ul><li>  First, it is workload balancers: these are software solutions that carefully monitor the level of server load, storage and network, allowing you to optimize the performance of each system for the task.  Balancers estimate the level of availability of both hardware and virtual machines, not allowing system performance to sink on the one hand, and not allowing the infrastructure to overheat and slow down, on the other.  Thus, a certain level of resources is maintained, which can be quickly transferred to the solution of urgent tasks (a sharp jump in requests to the portal with video content, growth in orders for a certain product, etc.). <br></li><li>  Secondly, CDN.  This technology allows users to receive content from the portal through access to it from the geographic point closest to the user without delay for buffering.  In addition, CDN eliminates the detrimental effect on traffic transmission processes caused by channel overload, communication breaks, packet loss at channel junctions, etc. <br></li></ul><br><h2>  All-seeing Okko </h2><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/732/45d/783/73245d783be7ec9eb5fb71bbe3b197d2.jpg"></div><br>  Consider an example of preparation for the holidays online cinema Okko, using our platforms in Moscow and St. Petersburg. <br><br>  According to Alexey Golubev, technical director of Okko, in the company, besides calendar holidays (high season), there are periods when the main film stories from the majors come out: <br><blockquote>  ‚ÄúEvery year in the holiday season Okko grows approximately twice as much in terms of traffic from the previous year.  So, if in the last New Year season the maximum peak load was 80 Gb / s, then in 2018/19 we expected 160 - the traditional growth twice.  However, we received more than 200 Gbit / s! ‚Äù <br></blockquote>  Okko is always preparing for the peak load slowly, during the year, as part of the project, codenamed ‚ÄúNew Year‚Äù.  Previously, Okko used its own infrastructure; the company has its own distribution cluster for content delivery, on its own hardware and with its own software.  Over the course of the year, Okko technicians gradually bought new servers, increased the bandwidth of their cluster, suggesting annual growth twice.  Additionally, new uplinks and operators were connected ‚Äî in addition to large players like Rostelecom, MegaFon and MTS, they also connected traffic exchange points and the smallest operators.  Such an approach allowed delivering the service to the maximum number of customers by the shortest route. <br><br>  Last year, after analyzing the cost of equipment, labor costs for expansion and comparing with the cost of using third-party CDNs, Okko realized that it was time to try a hybrid distribution model.  Over the two-fold growth in the New Year holidays, there is a decline in traffic, and February is the lowest season.  And it turns out that their equipment is idle at this time.  By summer, the decline is leveled, and by the autumn season a new rise begins.  Therefore, in preparation for the new year 2019, Okko chose a different way: they modified their software to be able to distribute the load not only on themselves, but also on external CDNs (Content Delivery Network).  Two such CDNs were connected to which excess traffic ‚Äúmerged‚Äù.  Okko's IT infrastructure's internal bandwidth was ready to withstand the very double growth, but in case resource overruns were made, partner CDNs were prepared. <br><br><blockquote>  ‚ÄúThe decision not to increase my CDN saved Okko about 20% of the distribution budget in CAPEX.  Plus, the company saved several man-months by shifting the work of setting up equipment on the shoulders of a partner. ‚Äù- comments Alexey Golubev. </blockquote><br>  The distributing cluster (internal CDN) in Okko is implemented at two Linxdatacenter sites in Moscow and St. Petersburg.  Full mirroring of both content and caching (distribution nodes) is provided.  Accordingly, the Moscow data center processes Moscow and several regions of Russia, and St. Petersburg - the North-West and the rest of the country.  Balancing occurs not only on a regional basis, but also depending on the workload of the nodes in a particular data center, the presence of a movie in the cache and a number of other factors are also taken into account. <br><br>  The integrated architecture of the service looks like this in the diagram: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/89c/afe/0e0/89cafe0e0d717e200e2d086cb76d6456.jpg"><br><br>  Physically, service and product development support consist of about ten racks in St. Petersburg and several racks in Moscow.  There are a couple of dozen servers for virtualization and almost two hundred ‚Äúiron‚Äù servers for everything else - distribution, support of the service and its own office infrastructure.  The interaction of the content provider with the data center during peak loads is no different from the current work.  All communication is limited to the application to the support service, and in case of an emergency situation - by call. <br><br>  Today, more than ever, we are close to the present, for a 100% uninterrupted scenario of content consumption online, since all the necessary technologies for this are already available.  The development of online streaming is very fast.  The popularity of legal content consumption models is growing: Russian users are beginning to gradually get used to paying for content.  Moreover, not only for the cinema, but also for music, books, educational materials on the network.  And in this regard, the delivery of the most diverse content and with the least network delays is the most important criterion in the operation of online services.  And our task as a service provider is to close the resource requirements on time and with a margin. </div><p>Source: <a href="https://habr.com/ru/post/450928/">https://habr.com/ru/post/450928/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../450918/index.html">IT Knowledge Management: First Conference and General Picture</a></li>
<li><a href="../45092/index.html">Archive of electronic documents</a></li>
<li><a href="../450922/index.html">Walk around the office</a></li>
<li><a href="../450924/index.html">All about SVG animation</a></li>
<li><a href="../450926/index.html">3D game on three.js, nw.js</a></li>
<li><a href="../45093/index.html">World Wide Grid begins self-assembly</a></li>
<li><a href="../450930/index.html">How we develop # bigdataX5 and who is needed in Big Data</a></li>
<li><a href="../450938/index.html">Linux Install Fest 05.19 in Nizhny Novgorod May 18, 2019</a></li>
<li><a href="../45094/index.html">Webrub - our everything or bran at the crisis roots :-)</a></li>
<li><a href="../450946/index.html">Cell phone dial on LPC810</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>