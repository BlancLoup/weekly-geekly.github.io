<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>From idea to Google Play in 30 hours</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Greetings, habrazhiteli! 

 Today I want to share with you the story of how I did a lot of all the right things to bring the project to create a small...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>From idea to Google Play in 30 hours</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/files/046/437/b39/046437b39bb8485f8d10f4e342cacbe0.png" align="left"><br>  Greetings, habrazhiteli! <br><br>  Today I want to share with you the story of how I did a lot of all the right things to bring the project to create a small toy from beginning to end.  Such things were: analysis, planning, design, TDD development and testing.  And it all went along scrum.  Yes, it is in this composition and order.  In general, all this should be the rule, the ideal route for the project, but not all and not always understand it.  Well, at least I often lazy and rush into the code, forgetting about the rest.  It is not difficult to guess what comes of it.  But not this time, I said to myself, and putting the keyboard aside, I took the sheet and the pen. <br><br>  <i><b>Disclaimer</b> : this article is purely motivational.</i>  <i>Technical details will be presented separately.</i> <br><a name="habracut"></a><br><h5>  Motives </h5><br>  The main reason that spurred me to this project was the desire to go all the way to developing games, even in the context of such a small project and even in a vacuum.  But in the end, I still wanted to feel every aspect of the game dev.  For myself, I decided that in the past I had already done enough with home projects, and this time everything should be like in adults. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h5>  Idea </h5><br>  The type of upcoming software was already predetermined - the game (there was somehow nothing to think about, subconsciously everything was decided a long time ago).  The target platform of the first version assumed Android, but only because it is closer in spirit and does not require additional knowledge.  Then I thought about the genre.  Despite the shooters and real-time strategies that pop up in my fantasy, I, pessimistically assessing my strength, decided to follow the principle of quick win and aimed at a simple puzzle.  Among the abundance of puzzles, a filler appeared first in memory, a field of rhombs of different colors and the only goal: to capture more than half of all the cells.  On this and stopped.  Of course, as expected, the search gave similar results, but nevertheless, not so much, and the choice was approved. <br><br><h5>  Breakdown into tasks and their planning </h5><br>  Before considering the work and allocating tasks according to the calendar, it was necessary to review the final product from all sides, decompose it to the level of elementary tasks, pick up tools, libraries, estimate the testing process and production. <br><br>  The first thing on a piece of paper (or rather a couple of tens of A4) were created preliminary mokapy.  Then it was decided to fully depict them in Photoshop, thus there was a chance to prevent visual inaccuracies even when designing.  No artist from me, so I finally had to look for lessons on the Internet (how well you managed to judge everything).  But it was decided to build the sketches from the final versions of the resources, so I tried to kill two birds with one stone, and after the project is over I can say that this decision was a good one. <br><br>  Further, I thought over business logic from A to Z (it is important to understand that even if small algorithms are not thought out at this stage, they will have to be fenced in a hurry already at the design stage, therefore I strongly recommend not to neglect it).  Based on this information, I moved on to choosing a framework. <br><br>  The spirit of the experimenter suggested that you need to try something new.  So I met cocos2d-x.  I will not list the benefits.  Inquisitive users have already gone to Google, and those who are familiar with this platform will understand me in my choice.  From myself I will only note - both the functionality and performance, and the license fit my requirements perfectly.  Now that the framework has been known, it has become easier with the assessment of labor costs. <br><br>  And the code is still early to write, but based on the available information, you can do UML.  I strongly recommend to overlap with all the materials collected at the moment and build-build-build class diagrams.  I spent the whole evening on this activity.  The first option was as before, anyhow, and coped.  But after all the class diagram should relieve the developer from design of architecture on the move.  Therefore, all the squares went into the garbage and began the second round.  Somewhere in the middle of it, I repeatedly made the mistake of oversimplification, and it was only the third time that I was able to draw up a very decent document.  Looking ahead to say that it is more than 80% corresponds to the real code. <br><br>  Summarizing and running through the entire writing, I determined 10 hours to work with resources (I took the music by the way, I don‚Äôt know how to do it), 20 hours of pure programming, and 10 hours for testing and bug fixing. <br><br><h5>  Getting started! </h5><br>  So, the task list is compiled, proceed to the execution.  On the calendar, the beginning of the holiday, and the hands, not accustomed to the keyboard at work, were already itching and tearing into battle.  But in order to continue to observe the best practices, I sat down at photoshop.  And, oh, a miracle, I did not need to invent a job for myself.  I have all been clearly decomposed and painted: <br>  - In total, 5 screens. <br>  - 1st day, menu screen, and game mode selection.  They depict ..., ... buttons, ... elements and so on. <br>  - 2nd day, the playing field, which shows ..., ... and so on. <br>  - 3rd day, screen pause and end the game. <br>  Wielding a scrum, I singled out tasks for myself, prioritized them, set limits and managed the backlog, in short, the king and god.  All vkuche very well systematized my work.  For myself, I made a small rule - do not take into the development of more than 2 interchangeable tasks.  Stopped on one, turn to the other, and later return to the first. <br>  Preparation of resources selected three evenings, totally 7 hours.  Such advance graphics warmed the soul. <br><br>  We proceed to the development.  We have 20 hours.  How do you monitor progress and at least indirectly understand whether I have time?  And here is how: 20 hours is a rounded number consisting of the sum of labor costs for the implementation of each element of the class diagram.  Now, in order to understand which parts of the program are ready, and what general progress has been made, the following method was invented: <br>  - we implement all-all classes / methods, but inside we put dummies, we need only a successful compilation; <br>  - for each method we throw Unit tests (3-5 pieces for each); <br>  - now during the build you can see how many tests have passed, and this is the% completion of the project, and how many tests have dropped, and this is the part that has not yet been implemented. <br>  Thus, we have a project progress indicator. <br><br>  A separate paragraph deserves information about monetization.  Of course, for the time and effort spent, I want a reward.  Therefore, it was decided to tie a little advertising.  Google AdMob has different types of advertisements.  I chose this strategy: during the game - no advertising, but only a full-page banner after leaving the game.  Here I also want to tell about a small architectural trick (this is from 20% of the code that does not correspond to the class diagram).  Cocos2dx at the end of the game, does not go normal by finalizing the operation of the application, it does not call onDestroy, etc., it just kills the current thread with the application.  At the same time, cramming advertising into the native library is also not a trivial task. <br>  The solution is: <br>  1) after the user closes the game (by clicking Exit), the main field of the game is hidden and the JNI comes to the rescue, which pulls the display of the new Activity with advertising; <br>  2) when the advertisement is then closed by the user, then it collapses, then what other option (Back / Home / Menu buttons, etc.), again, JNI, but in the opposite direction sends a call to finalize the game and all closes. <br><br><h5>  Testing </h5><br>  For testing, I applied two strategies (again, even at this stage I had everything planned and went according to plan): <br>  1) manual testing.  Fortunately wife - QA engineer.  Special thanks for the help. <br>  2) automated testing.  Now the Internet is actively developing services that provide remote access to real phones / tablets for the purpose of testing developed applications (here are the links).  Also a positive feature of such services is the availability of a trial period of use.  For myself, I identified three such services.  The first is to be able to run the final application on different devices.  The second is for performance and load measurements.  And the third is for mass surface testing on a large number of devices. <br><br>  Both strategies in total gave about ten obvious problems and again the pledged volume of labor costs was not fully utilized. <br><br><h5>  Production </h5><br>  <i>It is better to see once than seven times to hear.</i> <br><iframe width="420" height="315" src="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://www.youtube.com/embed/7onijux1T5w%3Ffeature%3Doembed&amp;xid=25657,15700021,15700186,15700190,15700253&amp;usg=ALkJrhhRzRmitcNyhqVfAahYunTto350Uw" frameborder="0" allowfullscreen=""></iframe><br><br><h5>  Total </h5><br>  - Invaluable experience! <br>  - 18 hours of development + 7 hours of resource preparation + 5 hours of testing = <b>30 hours of real work, which is not a shame.</b> <br>  - Pride for the project which is brought to the end!  And the wild desire to share the achievement (that is why, not having slept enough, I spoil this article). <br>  - The hope that something will come of it (maybe empty, since I had no previous experience with a mini-commercial game dev). <br>  - Motivation / tips for readers. <br><br>  <b>What remains to be done</b> (if the project starts to show signs of popularity): <br>  1) Increase the game for iOS and Windows Phone 8, well, and most likely the desktop version for Windows. <br>  2) Tie google analytics to analyze the behavior of players. <br>  3) Extend functionality: difficulty levels, field / cell sizes, total top (somewhere in the cloud). <br><br>  If I have not covered any details of interest, write in the comments, I will definitely answer. <br><br>  <b>Useful links:</b> <br>  1) <a href="https://play.google.com/store/apps/details%3Fid%3Dcom.xlab.ice.HexFiller">play.google.com/store/apps/details?id=com.xlab.ice.HexFiller</a> - actually my ‚Äúmasterpiece‚Äù <br>  2) <a href="https://appthwack.com/">appthwack.com</a> - mass testing service <br>  3) <a href="https://cloud.testdroid.com/web/home">cloud.testdroid.com/web/home</a> - application performance testing service <br>  4) <a href="https://testobject.com/">testobject.com</a> - the ability to run the application on multiple devices with the subsequent interaction <br>  5) <a href="https://developers.google.com/mobile-ads-sdk/docs/admob/advanced">developers.google.com/mobile-ads-sdk/docs/admob/advanced</a> - interstitial ads <br><br><blockquote>  Behind the scenes were the nuances of preparing graphics, working with different displays, assembling, launching on an emulator, the algorithm of the AI ‚Äã‚Äãgame strategy and all sorts of trivia.  But this article is more motivational.  And yet, if anyone would be interested to hear the unsaid - vote, I will write the second part of the article. </blockquote><br>  Thanks for reading! <br>  As you can see, a serious approach even to small projects is bearing fruit.  And saving time, and the final result, all this indicates the negative side of disregard for the pre-coding / post-coding stages, which must have everywhere.  I learned that now. <br><br>  PS Thanks to <a href="https://habrahabr.ru/users/reenboog/" class="user_link">reenboog</a> for tips on graphics and resources and <a href="https://habrahabr.ru/users/coder1cv8/" class="user_link">coder1cv8</a> for tips on monetization. </div><p>Source: <a href="https://habr.com/ru/post/231981/">https://habr.com/ru/post/231981/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../231967/index.html">Network installation of workstations based on Debian GNU / Linux</a></li>
<li><a href="../231969/index.html">Java Gadget Switch</a></li>
<li><a href="../231971/index.html">Introduction to sbt</a></li>
<li><a href="../231973/index.html">20 excellent quotes about the conversion of the "guru"</a></li>
<li><a href="../231979/index.html">Simulation of the procedure for connecting bluetooth devices and whether there is a need for models of this kind</a></li>
<li><a href="../231985/index.html">Choosing an LED lamp</a></li>
<li><a href="../231987/index.html">Platform on Three.js</a></li>
<li><a href="../231989/index.html">AppVeyor</a></li>
<li><a href="../231991/index.html">Flight to the moon landing on the lunar base</a></li>
<li><a href="../231997/index.html">How we ‚Äútrained the fire monkey‚Äù or our experience with FMX</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>