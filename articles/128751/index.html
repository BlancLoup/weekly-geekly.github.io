<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>CUDA in Adobe Premiere CS5: Is the use of a budget video card justified?</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Adobe Premiere CS5 and CS5.5  allows you to use nVidia CUDA technology for hardware accelerated rendering video effects. However, the official list of...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>CUDA in Adobe Premiere CS5: Is the use of a budget video card justified?</h1><div class="post__text post__text-html js-mediator-article">  Adobe Premiere CS5 and CS5.5 <img src="https://habrastorage.org/storage1/b1f8ff1c/6047aa6d/516d74df/b9f78ecf.jpg" align="right" title="Lookaround studio headquarters, author's workplace, August 2011 :)">  allows you to use nVidia CUDA technology for hardware accelerated rendering video effects.  However, the <a href="http://www.adobe.com/products/premiere/tech-specs.html">official list of</a> compatible video cards that provide support for this functionality is rather short and is limited to models of the upper price range. <br><br>  Along with this, there is a well-known hack that allows you <a href="http://nvworld.ru/faq/premiere-hardware-cuda-acceleration/">to enable support for hardware acceleration</a> on much cheaper solutions.  However, a ‚Äúhack‚Äù can be called this trick with a big stretch - ‚Äúhacking‚Äù of Premiere is reduced to writing the name of your video card into a text file lying in the root of the program.  The ‚Äúhole‚Äù is made so user-friendly that it causes an involuntary question, was it not specifically left? <br><br>  Under the cut, my impressions of working in Adobe Premiere CS5 with a video card of the average price range and some empirical conclusions. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <a name="habracut"></a><br>  When I was going to upgrade the video system of the editing computer, I tried to solve several problems at once.  First, provide simultaneous support for three monitors and a projector;  secondly, to keep the computer noise at the same (very low) level;  thirdly - to meet the more or less reasonable budget (up to 8,000 rubles).  Anyway, my choice was on two nVidia GeForce GTS450 1024Mb dual-fan cards made by Gigabyte, satisfying the set tasks.  I put the cards in a computer running Windows 7 with the following essential pieces of hardware: <br><ul><li>  Gigabyte GA-P35-DS3p </li><li>  8 GB RAM DDR2 </li><li>  Core 2 Quad Q9300 </li></ul><br><br>  ‚ÄúHacking‚Äù Premiere went without any problems and, after making sure that the hardware acceleration was working, I immediately tried to understand what it would bring to the installation process (I took video cards with Manibek, hoping, if they didn‚Äôt like it, to exchange for more powerful).  By the way, how to make sure that hardware acceleration is enabled?  First, the Mercury Playback Engine GPU Acceleration item should appear in the settings of the Premiere project in the Video Rendering and Playback section: <br><img src="https://habrastorage.org/storage1/ecba9b8f/42ef176d/15c63d01/69447bb6.png" alt="image"><br><br>  Secondly, by pressing Ctrl + F12 you can get into the Premiere console, and by changing the value of the EnableDogEars parameter to ‚Äútrue‚Äù, you can see the rendering statistics directly on the image.  Like this: <br><img src="https://habrastorage.org/storage1/47841cdb/6b798d6e/3571004c/0a298c58.png" alt="image"><br><br>  For the tests, I took 1920x1080 files from a car dvr (h264) and a Sony EX3 (MPEG2) camcorder.  To begin with, I conducted the simplest experiment: put one layer of video on another, cutting off (crop) half of the top frame.  In a <a href="http://www.ixbt.com/divideo/adobe-cs5-2.shtml">performance study</a> on ixbt.com, a similar example was cited with six video tracks arranged one above the other with different effects.  All of them were successfully reproduced on the professional Quadro FX 4800, and the first four on the gaming GeForce GTX 285. <br><br>  Alas!  When I tried to play in my case, after a couple of seconds the picture was ‚Äústuck‚Äù.  Thus, the card failed even with two layers of Full HD h264 video.  I‚Äôll draw your attention to the yellow bar above the fragment on the Timeline - it indicates that, according to Premiere, this fragment <i>should have been</i> played in real time without any problems.  With 1920x1080 MPEG2 video, the situation turned out to be slightly better - sticking appeared only with three layers. <br> <a href=""><img src="https://habrastorage.org/storage1/0978727a/d829417b/8b0bf93d/3d679a61.png" alt="image"></a> <br><br>  In the following experiment, I refused to overlay video layers, and tried to apply several hardware effects on one layer of the image: <br> <a href=""><img src="https://habrastorage.org/storage1/fed5541b/80ec5c57/5c17352f/b1d32009.png" alt="image"></a> <br><br>  And even more effects: <br> <a href=""><img src="https://habrastorage.org/storage1/e4e4ac5c/23d9bdad/b0c910df/f9e38725.png" alt="image"></a> <br><br>  For MPEG2 on one layer, I never managed to get the dropped frames, even adding 10 ‚Äúheavy‚Äù filters.  Only when two layers overlap each other with 22 filters in total, the rendering performance of the preview finally dropped to 15 FPS. <br> <a href=""><img src="https://habrastorage.org/storage1/c5d3c16c/ec9b4489/8d5a708c/32c7cb90.png" alt="image"></a> <br><br>  I note that when hardware acceleration is disabled, even a single ‚ÄúCurves‚Äù filter does not allow for real-time playback on Core 2 Quad Q9300.  <b>Conclusion</b> : there is enough hardware resources for processing one layer of any Full HD video in real time, and two layers of MPEG2 1080p with a reasonable number of filters. <br><br>  In the following experiments, I superimposed on Full HD layers of standard definition video (DV AVI), and also worked with the layers in ‚Äústandard‚Äù resolution (720x576).  Without tiring details: the map copes brilliantly with any reasonable number of layers. <br><br><h4>  What to do with all this? </h4><br>  So, the intermediate result is as follows: the video card cannot cope with the layer-by-layer processing of Full HD h264, however, it is quite suitable for working with effects on one layer of such a video, and two layers of MPEG2.  However, are the benefits of hardware acceleration exhausted by this?  For the experiment, I turned off hardware acceleration: <br> <a href=""><img src="https://habrastorage.org/storage1/a0c0c817/f2e542ee/7a501e63/39a6195c.png" alt="image"></a> <br><br>  As you can see, the bar above the fragment became red - Premiere no longer expects the fragment to be displayed in real time.  Rendering speed is less than 1 FPS.  To achieve smooth playback, it will have to "render".  In the "software" mode, this process on Core 2 Quad Q9300 takes about 26 minutes, while the average peak power consumption of the computer system unit increases to 150 watts: <br><img src="https://habrastorage.org/storage1/f2b11d99/de4c4e4e/51106da8/49446b08.png" alt="image"><br><br>  Now turn back the hardware acceleration.  The strip turned yellow again - Premiere "thinks" that it will be able to reproduce the piece smoothly.  But we know that in fact the power of the video card is not enough now.  In order to forcefully render a fragment, instead of the usual Enter, you must call the ‚ÄúSequence-&gt; Render entire work area‚Äù (in the ‚ÄúEdit -&gt; Keyboard Customization‚Äù of this function, you can assign a hot key, for example, the same Enter). <br><img src="https://habrastorage.org/storage1/68386105/53b2a46a/ecb3adb1/75a4c6c2.png" alt="image"><br><br>  What do we see?  2 minutes against 26 in software mode!  As you can see, hardware acceleration even if it cannot provide realtime playback, but it accelerates rendering of complex scenes 10 times!  The consumption of the system unit at the same time in peak naturally reached 200 watts. <br><br><h4>  Findings: </h4><br><ul><li>  if you use Premiere for multi-layer Full HD compositing, a mid-range video card is NOT suitable for you; </li><li>  if you use Premiere mainly for classic ‚Äúbutt‚Äù editing, such a card is quite acceptable: in rare moments when you use 2 video layers, even if it doesn‚Äôt cope with RealTime, it will most likely provide multiple rendering acceleration </li><li>  The card will also make it easy to install and compose standard definition video. </li></ul><br><br><h4>  Empiric </h4><br><h6>  This is my personal opinion, not claiming to be true. </h6><br>  Hand on heart, most of the video editing tasks, even the "average" card accelerates very successfully.  Why did Adobe limit official support to only the very best maps?  Because in the private task of layer-by-layer overlaying Full HD, the video card instantly retracts, and the mechanism for detecting such situations has not been developed.  In hardware acceleration mode, the bar above the timeline always remains yellow, no matter how many layers you put, regardless of the actual playback speed!  But, in theory, it should become red if the video card's power is not enough, after which this fragment could be ‚Äúcounted‚Äù in the usual way (by pressing Enter). <br><br>  Thus, if Adobe expanded the official list of video cards "down", many users who are not familiar with this feature of the program would face problems with layering video.  On the other hand, the ‚Äúopen gate‚Äù, i.e.  an extremely simplified way of including new video cards in the list of compatible ones allowed to cover a niche of enthusiasts for whom minor inconveniences may be less significant than the cost of equipment (and not just the cost: in addition to the price, I am still very concerned about the noise of the solution) <br><br><h4>  Offtop: </h4><br>  Quite briefly, a couple of interesting observations on the work of video cards (made on monitoring temperatures and loading maps during installation using the <a href="http://nvworld.ru/utilities/inspector/">nVidia Inspector</a> ).  It turns out that it doesn‚Äôt matter at all what kind of video card on the monitor there is a Preview window at the moment: effects will be calculated on the video card that is the main one in the OS.  At the same time, a simple launch of Premiere with hardware acceleration leads to a substantial load on both video cards: even if you do not mount anything, the temperature of both GPUs with Premiere running increases by 10-15 degrees. <br><br><h4>  PS </h4><br>  There is an opinion that Premiere often behaves <i>inconsistently</i> on various platforms.  That is, with the seemingly identical formal parameters of iron, the performance on different models can be very different.  Therefore, I intend to repeat the experiments performed on a more modern motherboard and see if anything changes.  If the topic is interesting to Habraosoobshchestvu, happy to share the results. </div><p>Source: <a href="https://habr.com/ru/post/128751/">https://habr.com/ru/post/128751/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../128745/index.html">OOP Packet Performance in Perl</a></li>
<li><a href="../128746/index.html">Page layout rel = "next | prev"</a></li>
<li><a href="../128747/index.html">Programming Windows Phone 7. Lecture 2. Orientation</a></li>
<li><a href="../128749/index.html">HP Touchpad Review: Tablet or Toy?</a></li>
<li><a href="../128750/index.html">Google+ user directories</a></li>
<li><a href="../128753/index.html">Methods for finding the boundaries of the image</a></li>
<li><a href="../128755/index.html">Java skins</a></li>
<li><a href="../128758/index.html">Psychology of color perception or ‚ÄúPink glasses from Auto.ru‚Äù</a></li>
<li><a href="../128762/index.html">World crisis and it sector</a></li>
<li><a href="../128764/index.html">2GIS launches beta service of traffic jams</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>