<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>CDN in a backpack. How we made a portable CDN</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="At the CSTB TV show, we needed to tell about the CDN and show the essence of our business clearly. To do this, we have assembled a valid model of broa...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>CDN in a backpack. How we made a portable CDN</h1><div class="post__text post__text-html js-mediator-article"> At the CSTB TV show, we needed to tell about the CDN and show the essence of our business clearly.  To do this, we have assembled a valid model of broadcast video over the Internet.  Of course, we did not take into account in this model the algorithm that constitutes the know-how of our service, but the basic elements of the CDN work were shown.  It began, as usual, with the project: <br><br><img src="https://habrastorage.org/files/1d9/1e5/3ca/1d91e53ca5094f5c8334203fcc946153.jpg"><br><a name="habracut"></a><br>  That is what on this scheme, we will tell a little later.  First about the event.  CSTB is considered the largest exhibition on television and telecommunications in Eastern Europe.  For many TV people and everyone associated with television, this is a landmark event.  If you rent a stand here, this is to some extent an image step.  The exhibition is professional, there are no random people here, and the presence among the exhibitors is a way to say that your business is going well. <br><br>  And, of course, there is a chance to meet a potential partner, so many attract visitors to their booth with unconventional moves.  For example, the television channel TV1000 Action posted on the walls painted posters in the spirit of the provincial cinema: 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <img src="https://habrastorage.org/files/39f/08d/bcd/39f08dbcd367442e9ca83ee590a7e3c4.jpg"><br><br>  And at the First TVCH stand, the girl first played the violin, then the bagpipers performed in skirts and to top it all off there was a striptease (we didn‚Äôt take pictures of it): <br><br><img src="https://habrastorage.org/files/77b/da2/ba7/77bda2ba7b884da5b379b61c19af74af.jpg"><br><br>  We have long thought how to present your company.  At first, they wanted to broadcast a lot of windows with different videos on the screen, then play some game with visitors.  There was also a thought to launch a robot at the exhibition that would walk between the aisles and call on the stand.  However, all these are traditional moves for exhibitions, and I did not want to use standard methods.  As a result, we decided to assemble a miniature CDN model on the stand.  The idea came at the very last moment, so the scheme was drawn by hand in a couple of minutes. <br><br>  We placed two TVs on the stand.  On one, there was a presentation about the company, and on the second, we brought out an Internet broadcast using special equipment and two cameras located here.  One camera was broadcasting what was happening in front of the stand.  The second was sent to the toy railway, which we bought at Children's World and assembled at the stand.  In order not to leave the ‚Äúiron‚Äù unattended, we every evening dismantled our CDN and put it in a backpack, and every morning we mounted it again.  The entire installation process took no more than 20 minutes - the model turned out to be compact. <br><br>  Of the two cameras, one was an IP camera (1080P Color IP Camera ELP-IP618A).  She issued a video stream in the format of RTSP, which is already suitable for display in an Internet browser.  But we passed this stream through CDNbox - a device that converts it to RTMP format.  It benefits in image quality and image stability compared to RTSP. <br><br>  The second camera was filmed in HD.  We connected it to the Avermedia Avercaster HD Duet transcoder, which translated the signal from a video camera in HD format to RTMP.  It was an ordinary camera with HDMI-connector (Sony HDR-CX220E).  So we showed that you can even use an amateur camera to broadcast video to the Internet: <br><br><img src="https://habrastorage.org/files/16d/42c/51b/16d42c51b631492b9ad613406156c2cb.jpg"><br><br>  Then the video in RTMP format was transmitted to a laptop (Dell Inspiron 11), which played the role of a server: <br><br><img src="https://habrastorage.org/files/ace/195/6b8/ace1956b8e774daab9cedec8415777f6.jpg"><br><br>  On the laptop was installed Wowza - is software that provides streaming video to the Internet.  Wowza sent a video stream to a page with a built-in player - we wrote it in HTML in 20 minutes.  This page imitated the site on the Internet, where the video broadcast.  It was displayed in the browser, which was installed on the TV by default.  All the components of the scheme were connected with each other by a router - an ordinary TP-Link. <br><br><img src="https://habrastorage.org/files/c64/0ca/50d/c640ca50d3ad4394af064ed0970a4853.jpg"><br><br>  Of course, it was impossible to demonstrate all the capabilities of a CDN using such a model.  Our goal was simply to show that the broadcast of the World Cup or the Olympics is not necessarily associated with TV, an armchair and beer.  This is all an on-air broadcast, and there is also an on-line broadcast. <br><br>  During broadcasting, the signal passes through the air for most of its way from the camera to the viewer.  The camera transmits it to the signal processing center, then sends the transmitting antenna to the receiving antenna via repeaters, and only then the image enters the television receiver by wire.  In the case of an Internet broadcast, the digitized image immediately enters the network and is further transmitted via wire in Internet formats. <br><br>  For example, to provide broadcast for 300 thousand connections via the Internet, a network of 100 servers is needed.  At the same time, we do not just install ‚Äúhardware‚Äù, but ‚Äúbalance‚Äù it, so that with each particular user, the node that is suitable for it more than the rest works.  If somewhere the channel is blocked, distribution goes from another node.  Our competence is that residents of different regions can enjoy guaranteed uninterrupted viewing of the broadcast. <br><br>  A special software package called a load balancer solves an equation with three variables: channels, load nodes, the location of the user, and for each connection to the broadcast gives the optimal solution.  The Balancer is located on a separate ‚Äúserver farm‚Äù in our main data center in Moscow.  This is a serious technology, it is protected by a patent and constitutes our know-how.  It is a pity that in the conditions of the exhibition to demonstrate its work failed. <br><br>  If we wanted to bring our exhibition model as close as possible to reality, then we needed to arrange several laptops throughout the exhibition, and we needed 25 pieces for clarity. Probably, we also needed a separate laptop with a ‚Äúbalancer‚Äù, which would be hard to show .  Therefore, there was a second TV set on the stand, where we had a presentation with a detailed story about the technology. <br><br>  By the way, the crisis did not interfere with the exhibition: they still want to talk about themselves and make plans for the development of the company.  Perhaps there were almost as many exhibitors as last year.  Only visitors were not so much.  The day after the opening, when the peak of visits happens, they seem to be two times smaller.  But they ran twice as fast as usual, and no one was aware of the pessimistic mood. <br><br>  The trends of the video-related industries remained unchanged.  The first and most important trend: TV channels continue to go on the Internet, OTT-services and smart TV.  The second trend: the companies - producers of specialized content are flourishing, despite the crisis.  We have seen people who shoot videos about hunting, fishing, kitesurfing, windsurfing.  If for whom and hit the crisis, then only for those who did not have a clear business model. </div><p>Source: <a href="https://habr.com/ru/post/252649/">https://habr.com/ru/post/252649/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../252639/index.html">130 thousand surveillance cameras - how to make them work?</a></li>
<li><a href="../252641/index.html">Trends and statistics: How Internet companies create an effective newsletter</a></li>
<li><a href="../252643/index.html">What are you guided in the first place, choosing a cloud provider - IaaS service provider?</a></li>
<li><a href="../252645/index.html">We stamp windows: automated deployment of Windows virtual machines to Hyper-V using Vagrant (part 3)</a></li>
<li><a href="../252647/index.html">Assembler with C ++ in Visual Studio 2013</a></li>
<li><a href="../252653/index.html">CKFinder - image sizes</a></li>
<li><a href="../252657/index.html">OData + Angular.js + Bootstrap + JavaScript Grid = application in 5 minutes</a></li>
<li><a href="../252663/index.html">3D printing - to schools (techno-marathon for assembling 3D printers in Yekaterinburg)</a></li>
<li><a href="../252665/index.html">Free Cloud IP-PBX - implementation from ppbbxx.com</a></li>
<li><a href="../252669/index.html">Sync Opera bookmarks between iOS, Android and computer</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>