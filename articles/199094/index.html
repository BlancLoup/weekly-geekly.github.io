<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Writing Hello World in assembly language under Windows RT using winapi</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="One day, most recently, on Windows tablets, Microsoft lost millions of dollars. Well, today we will simply write under them in assembly language. 



...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Writing Hello World in assembly language under Windows RT using winapi</h1><div class="post__text post__text-html js-mediator-article">  One day, most recently, on Windows tablets, Microsoft <a href="http://www.ixbt.com/news/hard/index.shtml%3F17/04/73">lost</a> millions of dollars.  Well, today we will simply write under them in assembly language. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/f30/fa0/f21/f30fa0f21ff363bbdb38e591ab488d17.png"><br><br>  We will need the following things. <br><ul><li>  Installed Microsoft Visual Studio with support for ARM assembler, for example 2012. </li><li>  Jailbreak a tablet with Windows RT installed, such as Microsoft Surface RT. </li></ul><br>  To begin with, we will create a separate folder for the project, in which we will create the arm.asm file, the contents of which is under the cut. <br><a name="habracut"></a><br><pre><code class="hljs pgsql">AREA data, DATA <span class="hljs-type"><span class="hljs-type">Text</span></span> DCB "Hello world(text)", <span class="hljs-number"><span class="hljs-number">0x0</span></span> Caption DCB "Hello world(caption)", <span class="hljs-number"><span class="hljs-number">0x0</span></span> EXPORT WinMainCRTStartup <span class="hljs-keyword"><span class="hljs-keyword">IMPORT</span></span> __imp_MessageBoxA <span class="hljs-keyword"><span class="hljs-keyword">IMPORT</span></span> __imp_ExitProcess AREA <span class="hljs-type"><span class="hljs-type">text</span></span>, CODE WinMainCRTStartup PROC movs r3,#<span class="hljs-number"><span class="hljs-number">0</span></span> ldr r2,Caption_ptr ldr r1,Text_ptr movs r0,#<span class="hljs-number"><span class="hljs-number">0</span></span> ldr r4,MessageBoxA_ptr ldr r4,[r4] blx r4 movs r0,#<span class="hljs-number"><span class="hljs-number">0</span></span> ldr r4,ExitProcess_ptr ldr r4,[r4] blx r4 MessageBoxA_ptr DCD __imp_MessageBoxA ExitProcess_ptr DCD __imp_ExitProcess Text_ptr DCD <span class="hljs-type"><span class="hljs-type">Text</span></span> Caption_ptr DCD Caption ENDP <span class="hljs-keyword"><span class="hljs-keyword">END</span></span></code> </pre> <br>  Moreover, the assembler in Visual Studio 2012 has a strange thing: <a href="http://infocenter.arm.com/help/index.jsp%3Ftopic%3D/com.arm.doc.dui0489g/Cacigaci.html">macros</a> and <a href="http://infocenter.arm.com/help/index.jsp%3Ftopic%3D/com.arm.doc.dui0489g/Cjafgdih.html">instructions</a> must contain at least one tabulation character in front of them, but labels and names of memory areas, on the contrary, should not contain anything in front of themselves (that is, should start immediately lines), otherwise there will be errors. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      So, we typed the text, now proceed to compile.  From the Start menu, run: <blockquote>  <i>Microsoft Visual Studio 2012 - Visual Studio Tools - Command line VS2012 ARM Cross Tools</i> . </blockquote>  From the command entry window that opens, go to the source directory, for example: <br><pre> <code class="dos hljs"><span class="hljs-built_in"><span class="hljs-built_in">cd</span></span> \my_arm_proj</code> </pre><br>  Next, consistently enter the command: <br><pre> <code class="dos hljs">armasm arm.asm link arm.obj user32.lib kernel32.lib /subsystem:windows</code> </pre><br>  As a result, the output in the program directory will get the executable file arm.exe.  Copy it to the tablet, and voila! <br><br><img src="https://habrastorage.org/getpro/habr/post_images/924/f76/479/924f76479454d1236eb673e8639e44bd.png"></div><p>Source: <a href="https://habr.com/ru/post/199094/">https://habr.com/ru/post/199094/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../199080/index.html">Returns for Windows 8 on Lenovo Notebook Notebook</a></li>
<li><a href="../199086/index.html">Russian universities have become partners Coursera</a></li>
<li><a href="../199088/index.html">Fast compilation of a large number of invalid objects in the database</a></li>
<li><a href="../199090/index.html">Practical application of LD_PRELOAD or replacement of functions in Linux</a></li>
<li><a href="../199092/index.html">Accelerate the understanding of a commercial or technical text: how to stop being afraid to write simply</a></li>
<li><a href="../199102/index.html">How to find a developer in a garage startup: from personal experience</a></li>
<li><a href="../199104/index.html">The story of a graduate school in the United States. Part 4.1: What next?</a></li>
<li><a href="../199110/index.html">Continuous integration in xcode5</a></li>
<li><a href="../199112/index.html">Interprocedural analysis and optimization (I)</a></li>
<li><a href="../199114/index.html">Remote work is not "freelancing"</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>