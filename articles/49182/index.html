<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>When the programmer has nothing to do, we write the games ourselves. Part 1</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Recently, there was an article on Habr√© ‚ÄúWhen a programmer has nothing to do ...‚Äù , and here I have such a situation, but I do not just want to give a...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>When the programmer has nothing to do, we write the games ourselves. Part 1</h1><div class="post__text post__text-html js-mediator-article">  Recently, there was an article on Habr√© <a href="http://habrahabr.ru/blogs/javascript/48491/">‚ÄúWhen a programmer has nothing to do ...‚Äù</a> , and here I have such a situation, but I do not just want to give a link to the <a href="http://www.softcoder.ru/lines/index.php">Colored Lines</a> , but tell me how to make it myself.  Everyone who is interested in welcome under the cat <br><a name="habracut"></a><br><h2>  What am i talking about </h2><br>  This game, many people know, it is from distant childhood called "Colored Lines".  To whom it is not known, I remember the rules of the game, balls of different colors are thrown on a square field, after each move, except when the balls are burned.  It is necessary to move the balls to build lines of the same color horizontally, vertically or diagonally.  At what move the balls can only be to the point to which they can pass.  When lining up lines of 5 or more balls, they are destroyed. <br><br><h2>  Training </h2><br>  The page template for the game will be very simple, and contain two fields.  One for the field of the game, the second to display the accumulated points.  Cell fields will be generated using a script. <br>  Index.html file <br> <code><code><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="black"><font color="#0000ff">&lt;</font> <font color="#800000">html</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">head</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">meta</font> <font color="#ff0000">HTTP-EQUIV</font> <font color="#0000ff">="Content-Type"</font> <font color="#ff0000">CONTENT</font> <font color="#0000ff">="text/html; charset=utf-8"</font> <font color="#0000ff">/&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">title</font> <font color="#0000ff">&gt;</font>  ColorLines <font color="#0000ff">&lt;/</font> <font color="#800000">title</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">script</font> <font color="#ff0000">type</font> <font color="#0000ff">="text/javascript"</font> <font color="#ff0000">src</font> <font color="#0000ff">="jsfw.js"</font> <font color="#0000ff">&gt;&lt;/</font> <font color="#800000">script</font> <font color="#0000ff">&gt;</font> <br> &lt;script type= <font color="#A31515">"text/javascript"</font> src= <font color="#A31515">"main.js"</font> &gt;&lt;/script&gt; <br> &lt;script type= <font color="#A31515">"text/javascript"</font> src= <font color="#A31515">"lines.js"</font> &gt; <font color="#0000ff">&lt;/</font> <font color="#800000">script</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">link</font> <font color="#ff0000">href</font> <font color="#0000ff">="style.css"</font> <font color="#ff0000">rel</font> <font color="#0000ff">="stylesheet"</font> <font color="#ff0000">type</font> <font color="#0000ff">="text/css"</font> <font color="#0000ff">/&gt;</font> <br> <font color="#0000ff">&lt;/</font> <font color="#800000">head</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">body</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">a</font> <font color="#ff0000">href</font> <font color="#0000ff">="/"</font> <font color="#0000ff">&gt;</font>   <font color="#0000ff">&lt;/</font> <font color="#800000">a</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">h1</font> <font color="#0000ff">&gt;</font>  - Color Lines <font color="#0000ff">&lt;/</font> <font color="#800000">h1</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">table</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">tr</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">td</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">div</font> <font color="#ff0000">class</font> <font color="#0000ff">="gamepole"</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">div</font> <font color="#ff0000">id</font> <font color="#0000ff">="pole"</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;/</font> <font color="#800000">div</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">div</font> <font color="#ff0000">class</font> <font color="#0000ff">="gameOver"</font> <font color="#ff0000">id</font> <font color="#0000ff">="gameover"</font> <font color="#ff0000">style</font> <font color="#0000ff">="display:none"</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">div</font> <font color="#ff0000">class</font> <font color="#0000ff">="bg"</font> <font color="#0000ff">&gt;&lt;/</font> <font color="#800000">div</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">div</font> <font color="#ff0000">class</font> <font color="#0000ff">="block"</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">h4</font> <font color="#0000ff">&gt;</font>   <font color="#0000ff">&lt;/</font> <font color="#800000">h4</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;/</font> <font color="#800000">div</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;/</font> <font color="#800000">div</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;/</font> <font color="#800000">div</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;/</font> <font color="#800000">td</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">td</font> <font color="#ff0000">class</font> <font color="#0000ff">="menu"</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">p</font> <font color="#0000ff">&gt;</font> : <font color="#0000ff">&lt;</font> <font color="#800000">span</font> <font color="#ff0000">id</font> <font color="#0000ff">="score"</font> <font color="#0000ff">&gt;</font> 0 <font color="#0000ff">&lt;/</font> <font color="#800000">span</font> <font color="#0000ff">&gt;&lt;/</font> <font color="#800000">p</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">input</font> <font color="#ff0000">type</font> <font color="#0000ff">="button"</font> <font color="#ff0000">onclick</font> <font color="#0000ff">="game.start()"</font> <font color="#ff0000">value</font> <font color="#0000ff">=" "</font> <font color="#0000ff">/&gt;</font> <br> <font color="#0000ff">&lt;/</font> <font color="#800000">td</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;/</font> <font color="#800000">tr</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;/</font> <font color="#800000">table</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;/</font> <font color="#800000">body</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;/</font> <font color="#800000">html</font> <font color="#0000ff">&gt;</font></font> <br> <br> <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font> <br></code></code> <blockquote> <code><code><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="black"><font color="#0000ff">&lt;</font> <font color="#800000">html</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">head</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">meta</font> <font color="#ff0000">HTTP-EQUIV</font> <font color="#0000ff">="Content-Type"</font> <font color="#ff0000">CONTENT</font> <font color="#0000ff">="text/html; charset=utf-8"</font> <font color="#0000ff">/&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">title</font> <font color="#0000ff">&gt;</font>  ColorLines <font color="#0000ff">&lt;/</font> <font color="#800000">title</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">script</font> <font color="#ff0000">type</font> <font color="#0000ff">="text/javascript"</font> <font color="#ff0000">src</font> <font color="#0000ff">="jsfw.js"</font> <font color="#0000ff">&gt;&lt;/</font> <font color="#800000">script</font> <font color="#0000ff">&gt;</font> <br> &lt;script type= <font color="#A31515">"text/javascript"</font> src= <font color="#A31515">"main.js"</font> &gt;&lt;/script&gt; <br> &lt;script type= <font color="#A31515">"text/javascript"</font> src= <font color="#A31515">"lines.js"</font> &gt; <font color="#0000ff">&lt;/</font> <font color="#800000">script</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">link</font> <font color="#ff0000">href</font> <font color="#0000ff">="style.css"</font> <font color="#ff0000">rel</font> <font color="#0000ff">="stylesheet"</font> <font color="#ff0000">type</font> <font color="#0000ff">="text/css"</font> <font color="#0000ff">/&gt;</font> <br> <font color="#0000ff">&lt;/</font> <font color="#800000">head</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">body</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">a</font> <font color="#ff0000">href</font> <font color="#0000ff">="/"</font> <font color="#0000ff">&gt;</font>   <font color="#0000ff">&lt;/</font> <font color="#800000">a</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">h1</font> <font color="#0000ff">&gt;</font>  - Color Lines <font color="#0000ff">&lt;/</font> <font color="#800000">h1</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">table</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">tr</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">td</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">div</font> <font color="#ff0000">class</font> <font color="#0000ff">="gamepole"</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">div</font> <font color="#ff0000">id</font> <font color="#0000ff">="pole"</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;/</font> <font color="#800000">div</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">div</font> <font color="#ff0000">class</font> <font color="#0000ff">="gameOver"</font> <font color="#ff0000">id</font> <font color="#0000ff">="gameover"</font> <font color="#ff0000">style</font> <font color="#0000ff">="display:none"</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">div</font> <font color="#ff0000">class</font> <font color="#0000ff">="bg"</font> <font color="#0000ff">&gt;&lt;/</font> <font color="#800000">div</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">div</font> <font color="#ff0000">class</font> <font color="#0000ff">="block"</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">h4</font> <font color="#0000ff">&gt;</font>   <font color="#0000ff">&lt;/</font> <font color="#800000">h4</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;/</font> <font color="#800000">div</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;/</font> <font color="#800000">div</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;/</font> <font color="#800000">div</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;/</font> <font color="#800000">td</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">td</font> <font color="#ff0000">class</font> <font color="#0000ff">="menu"</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">p</font> <font color="#0000ff">&gt;</font> : <font color="#0000ff">&lt;</font> <font color="#800000">span</font> <font color="#ff0000">id</font> <font color="#0000ff">="score"</font> <font color="#0000ff">&gt;</font> 0 <font color="#0000ff">&lt;/</font> <font color="#800000">span</font> <font color="#0000ff">&gt;&lt;/</font> <font color="#800000">p</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">input</font> <font color="#ff0000">type</font> <font color="#0000ff">="button"</font> <font color="#ff0000">onclick</font> <font color="#0000ff">="game.start()"</font> <font color="#ff0000">value</font> <font color="#0000ff">=" "</font> <font color="#0000ff">/&gt;</font> <br> <font color="#0000ff">&lt;/</font> <font color="#800000">td</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;/</font> <font color="#800000">tr</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;/</font> <font color="#800000">table</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;/</font> <font color="#800000">body</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;/</font> <font color="#800000">html</font> <font color="#0000ff">&gt;</font></font> <br> <br> <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font> <br></code></code> </blockquote> <code><code><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="black"><font color="#0000ff">&lt;</font> <font color="#800000">html</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">head</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">meta</font> <font color="#ff0000">HTTP-EQUIV</font> <font color="#0000ff">="Content-Type"</font> <font color="#ff0000">CONTENT</font> <font color="#0000ff">="text/html; charset=utf-8"</font> <font color="#0000ff">/&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">title</font> <font color="#0000ff">&gt;</font>  ColorLines <font color="#0000ff">&lt;/</font> <font color="#800000">title</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">script</font> <font color="#ff0000">type</font> <font color="#0000ff">="text/javascript"</font> <font color="#ff0000">src</font> <font color="#0000ff">="jsfw.js"</font> <font color="#0000ff">&gt;&lt;/</font> <font color="#800000">script</font> <font color="#0000ff">&gt;</font> <br> &lt;script type= <font color="#A31515">"text/javascript"</font> src= <font color="#A31515">"main.js"</font> &gt;&lt;/script&gt; <br> &lt;script type= <font color="#A31515">"text/javascript"</font> src= <font color="#A31515">"lines.js"</font> &gt; <font color="#0000ff">&lt;/</font> <font color="#800000">script</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">link</font> <font color="#ff0000">href</font> <font color="#0000ff">="style.css"</font> <font color="#ff0000">rel</font> <font color="#0000ff">="stylesheet"</font> <font color="#ff0000">type</font> <font color="#0000ff">="text/css"</font> <font color="#0000ff">/&gt;</font> <br> <font color="#0000ff">&lt;/</font> <font color="#800000">head</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">body</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">a</font> <font color="#ff0000">href</font> <font color="#0000ff">="/"</font> <font color="#0000ff">&gt;</font>   <font color="#0000ff">&lt;/</font> <font color="#800000">a</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">h1</font> <font color="#0000ff">&gt;</font>  - Color Lines <font color="#0000ff">&lt;/</font> <font color="#800000">h1</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">table</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">tr</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">td</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">div</font> <font color="#ff0000">class</font> <font color="#0000ff">="gamepole"</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">div</font> <font color="#ff0000">id</font> <font color="#0000ff">="pole"</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;/</font> <font color="#800000">div</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">div</font> <font color="#ff0000">class</font> <font color="#0000ff">="gameOver"</font> <font color="#ff0000">id</font> <font color="#0000ff">="gameover"</font> <font color="#ff0000">style</font> <font color="#0000ff">="display:none"</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">div</font> <font color="#ff0000">class</font> <font color="#0000ff">="bg"</font> <font color="#0000ff">&gt;&lt;/</font> <font color="#800000">div</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">div</font> <font color="#ff0000">class</font> <font color="#0000ff">="block"</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">h4</font> <font color="#0000ff">&gt;</font>   <font color="#0000ff">&lt;/</font> <font color="#800000">h4</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;/</font> <font color="#800000">div</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;/</font> <font color="#800000">div</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;/</font> <font color="#800000">div</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;/</font> <font color="#800000">td</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">td</font> <font color="#ff0000">class</font> <font color="#0000ff">="menu"</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">p</font> <font color="#0000ff">&gt;</font> : <font color="#0000ff">&lt;</font> <font color="#800000">span</font> <font color="#ff0000">id</font> <font color="#0000ff">="score"</font> <font color="#0000ff">&gt;</font> 0 <font color="#0000ff">&lt;/</font> <font color="#800000">span</font> <font color="#0000ff">&gt;&lt;/</font> <font color="#800000">p</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">input</font> <font color="#ff0000">type</font> <font color="#0000ff">="button"</font> <font color="#ff0000">onclick</font> <font color="#0000ff">="game.start()"</font> <font color="#ff0000">value</font> <font color="#0000ff">=" "</font> <font color="#0000ff">/&gt;</font> <br> <font color="#0000ff">&lt;/</font> <font color="#800000">td</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;/</font> <font color="#800000">tr</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;/</font> <font color="#800000">table</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;/</font> <font color="#800000">body</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;/</font> <font color="#800000">html</font> <font color="#0000ff">&gt;</font></font> <br> <br> <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></code> <br></code> <br>  File style.css <br> <code>.gamepole {position:relative;} <br> .Pole {width:414px;} <br> .Cell {width:30px;height:30px;background:#333;float:left;margin:1px;color:#FFF} <br> .Ball {width:26px;height:26px;margin:2px;position:relative;} <br> .Ball1 {background:#F00;} <br> .Ball2 {background:#0F0;} <br> .Ball3 {background:#00F;} <br> .Ball4 {background:#0FF;} <br> .Ball5 {background:#F0F;} <br> .Ball6 {background:#FF0;} <br> .gameOver {position:absolute;top:0;left:0;width:384px;padding-top:75px;text-align:center;} <br> .gameOver .bg {z-index:1;position:absolute;top:0;left:0;width:384px;height:384px;background:#C78BA3; filter:alpha(opacity=60);-moz-opacity:.6;opacity:.6;} <br> .gameOver h4{font-size:30px;} <br> .gameOver .block{position:relative;z-index:2;background:#FFF;padding:30px;width:300px;margin:0 auto;} <br> td.menu {vertical-align:top;background:#333;color:#FFF;width:260px;padding:10px;} <br></code> <br><h2>  Let's start </h2><br>  In the implementation, I use my js bike, which I don‚Äôt cite, of course, but I will comment on the functions that can be found in the source code.  Ask why not jquery, prototype, and others, but because I feel so comfortable. <br>  There will be only three classes in the game: <br>  Game - the main class of the game <br>  Cell - class cell <br>  Ball - ball class <br><br>  Create a main.js file that will create and link the game with the template. <br><blockquote> <code><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="black">jsfw.ready( <font color="#0000ff">function</font> () <br> { <br> game = <font color="#0000ff">new</font> Game( <font color="#A31515">'pole'</font> ); <br> game.addEvent( <font color="#A31515">'onchangescore'</font> , <font color="#0000ff">function</font> (score){ <br> $( <font color="#A31515">'score'</font> ).innerHTML = score; <br> }); <br> game.addEvent( <font color="#A31515">'onstart'</font> , <font color="#0000ff">function</font> (score){ <br> $( <font color="#A31515">'gameover'</font> ).style.display = <font color="#A31515">'none'</font> ; <br> }); <br> game.addEvent( <font color="#A31515">'ongameover'</font> , <font color="#0000ff">function</font> (score){ <br> $( <font color="#A31515">'gameover'</font> ).style.display = <font color="#A31515">''</font> ; <br> }); <br> game.start(); <br> });</font> <br> <br> <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></code> </blockquote> <br>  The game will be built on the event system.  So let's create a Game object and subscribe to its events.  He will have only three of them: <br>  onchangescore- account change; <br>  onstart - the beginning of the game; <br>  ongameover - the end of the game; <br>  At the first, we will catch the change of accumulated points, and display them on the screen.  With the other two we will hide or show a message about the end of the game. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      I put the rest of the code in the lines.js file <br><h5>  Game class </h5><br><blockquote> <code><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="black"><font color="#0000ff">var</font> Game = jsfw.Class( <font color="#0000ff">function</font> (){ <br> <font color="#008000">/**</font> <br> <font color="#008000">   </font> <br> <font color="#008000">*/</font> <br> <font color="#0000ff">function</font> setScore(score) <br> { <br> <font color="#0000ff">this</font> .score = score; <br> <font color="#0000ff">this</font> .callEvent( <font color="#A31515">'onchangescore'</font> ,[ <font color="#0000ff">this</font> .score]); <font color="#008000">//     </font> <br> } <br> <font color="#0000ff">return</font> { <br> width:12, <font color="#008000">//  </font> <br> height:12, <font color="#008000">//  </font> <br> speed:30, <font color="#008000">//   </font> <br> minline:5, <font color="#008000">//     </font> <br> countNewBall:3, <font color="#008000">//   </font> <br> costBall:1, <font color="#008000">//  </font> <br> costBonus:5, <font color="#008000">//  </font> <br> <font color="#008000">/**</font> <br> <font color="#008000">* </font> <br> <font color="#008000">* @param ID      </font> <br> <font color="#008000">*/</font> <br> __constructor: <font color="#0000ff">function</font> (el) <br> { <br> <font color="#0000ff">this</font> .dom = $(el); <font color="#008000">//  </font> <br> <font color="#0000ff">this</font> .score = 0; <font color="#008000">//   </font> <br> <font color="#0000ff">this</font> .cell = []; <font color="#008000">//      </font> <br> <font color="#008000">/*</font> <br> <font color="#008000"> $d            </font> <br> <font color="#008000">*/</font> <br> <font color="#0000ff">this</font> .dSelectBall = $d( <font color="#0000ff">this</font> , <font color="#0000ff">this</font> .selectBall); <font color="#008000">//         </font> <br> <font color="#0000ff">this</font> .dSelectCell = $d( <font color="#0000ff">this</font> , <font color="#0000ff">this</font> .selectCell); <br> <font color="#0000ff">this</font> .countCell = <font color="#0000ff">this</font> .width* <font color="#0000ff">this</font> .height; <font color="#008000">//      </font> <br> }, <br> <font color="#008000">/**</font> <br> <font color="#008000">*   </font> <br> <font color="#008000">*/</font> <br> start: <font color="#0000ff">function</font> () <br> { <br> setScore.call( <font color="#0000ff">this</font> ,0); <font color="#008000">//  </font> <br> <font color="#0000ff">this</font> .createCell(); <font color="#008000">//   </font> <br> <font color="#0000ff">this</font> .callEvent( <font color="#A31515">'onstart'</font> ); <font color="#008000">//    </font> <br> }, <br> <font color="#008000">/**</font> <br> <font color="#008000">*  </font> <br> <font color="#008000">*/</font> <br> gameOver: <font color="#0000ff">function</font> () <br> { <br> <font color="#008000">//       </font> <br> <font color="#0000ff">this</font> .callEvent( <font color="#A31515">'ongameover'</font> ); <br> }, <br> <font color="#008000">/**</font> <br> <font color="#008000">*    </font> <br> <font color="#008000">*/</font> <br> createCell: <font color="#0000ff">function</font> () <br> { <br> <font color="#008000">/*   */</font> <br> } <br> }}, <br> jsfw.Object <font color="#008000">//   </font> <br> )</font> <br> <br> <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></code> </blockquote> <br>  It seems to have described everything in the comments, I can only explain the function jsfw.Class (Object | Function, baseClass) implements inheritance and takes either the prototype of the object or the function that returns the prototype as the first parameter (To implement private methods).  These are the main methods that are visible from the outside, you can even try to run :).  The createCell method we implement after creating a cell class <br><h5>  Cell class </h5><br>  The cell will be able to only be able to contain the ball and react to it by clicking on it. We implement the methods of adding, deleting the ball and the onclick event. <br><blockquote> <code><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="black"><font color="#0000ff">var</font> Cell = jsfw.Class({ <br> __constructor: <font color="#0000ff">function</font> (x,y) <br> { <br> <font color="#008000">//  </font> <br> <font color="#0000ff">this</font> .x = x; <br> <font color="#0000ff">this</font> .y = y; <br> <font color="#008000">/*</font> <br> <font color="#008000"> $.create   DOM      ,   ,   DOM </font> <br> <font color="#008000">*/</font> <br> <font color="#0000ff">this</font> .dom = $.create( <font color="#A31515">'div'</font> ,{ <br> className: <font color="#A31515">'Cell'</font> , <font color="#008000">//  </font> <br> onclick:$d( <font color="#0000ff">this</font> , <font color="#0000ff">this</font> .click) <font color="#008000">//           </font> <br> }, <font color="#0000ff">this</font> .dom); <br> }, <br> <font color="#008000">/**</font> <br> <font color="#008000">*     </font> <br> <font color="#008000">*  @param </font> <br> <font color="#008000">*/</font> <br> addBall: <font color="#0000ff">function</font> (ball) <br> { <br> <font color="#0000ff">if</font> (ball.cell) ball.cell.ball = <font color="#0000ff">null</font> ; <font color="#008000">//            (           )</font> <br> <font color="#0000ff">this</font> .ball = ball; <font color="#008000">//     </font> <br> ball.cell = <font color="#0000ff">this</font> ; <font color="#008000">//       </font> <br> <font color="#0000ff">this</font> .dom.appendChild(ball.getDom()); <font color="#008000">//    DOM </font> <br> }, <br> <font color="#008000">/**</font> <br> <font color="#008000">*     </font> <br> <font color="#008000">*/</font> <br> removeBall: <font color="#0000ff">function</font> () <br> { <br> $.remove( <font color="#0000ff">this</font> .ball.getDom()); <font color="#008000">//   DOM</font> <br> <font color="#0000ff">this</font> .ball.cell = <font color="#0000ff">null</font> ; <font color="#008000">//     </font> <br> <font color="#0000ff">this</font> .ball = <font color="#0000ff">null</font> ; <br> }, <br> <font color="#008000">/**</font> <br> <font color="#008000">*      </font> <br> <font color="#008000">*/</font> <br> isBall: <font color="#0000ff">function</font> () <br> { <br> <font color="#0000ff">return</font> !! <font color="#0000ff">this</font> .ball; <br> }, <br> <font color="#008000">/**</font> <br> <font color="#008000">*     </font> <br> <font color="#008000">*/</font> <br> getBall: <font color="#0000ff">function</font> () <br> { <br> <font color="#0000ff">return</font> <font color="#0000ff">this</font> .ball; <br> }, <br> <font color="#008000">/**</font> <br> <font color="#008000">*   DOM </font> <br> <font color="#008000">*/</font> <br> getDom: <font color="#0000ff">function</font> () <br> { <br> <font color="#0000ff">return</font> <font color="#0000ff">this</font> .dom; <br> }, <br> <font color="#008000">/**</font> <br> <font color="#008000">*    </font> <br> <font color="#008000">*/</font> <br> click: <font color="#0000ff">function</font> () <br> { <br> <font color="#008000">//    onclick</font> <br> <font color="#0000ff">return</font> <font color="#0000ff">this</font> .callEvent( <font color="#A31515">'onclick'</font> ); <br> } <br> },jsfw.Object);</font> <br> <br> <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></code> </blockquote> <br>  We already have the styles, the cells with the help of float: left and the hard task of the width and height of the cell and the container, just fold as we need.  More than this class, we will not touch all that we need from him, he knows how.  Now we realize the creation of cells.  We just need to go through the whole field, create cells and add events to them.  We have one dimensional array for storing cells.  The location of the cell in the array will be calculated according to the formula x * this.width + y, for convenience, we will create a function getIndex (x, y) that will check whether the coordinates are in the specified range and, if not, return -1.  Let's write functions for this and add them to the Game class. <br><blockquote> <code><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="black"><font color="#008000">/**</font> <br> <font color="#008000">*    </font> <br> <font color="#008000">*/</font> <br> createCell: <font color="#0000ff">function</font> () <br> { <br> $.empty( <font color="#0000ff">this</font> .dom); <font color="#008000">//  DOM</font> <br> <font color="#0000ff">var</font> p = $.create( <font color="#A31515">'div'</font> ,{className: <font color="#A31515">'Pole'</font> }); <font color="#008000">//   </font> <br> <font color="#008000">//   </font> <br> <font color="#0000ff">for</font> ( <font color="#0000ff">var</font> y=0,lenY= <font color="#0000ff">this</font> .height;y&lt;lenY;y++) <br> <font color="#0000ff">for</font> ( <font color="#0000ff">var</font> x=0,lenX= <font color="#0000ff">this</font> .width;x&lt;lenX;x++) <br> { <br> <font color="#0000ff">var</font> cell = <font color="#0000ff">new</font> Cell(x,y); <font color="#008000">//  </font> <br> cell.addEvent( <font color="#A31515">'onclick'</font> , <font color="#0000ff">this</font> .dSelectCell); <font color="#008000">//      ,    </font> <br> p.appendChild(cell.getDom()); <font color="#008000">//  DOM        </font> <br> <font color="#0000ff">this</font> .cell[ <font color="#0000ff">this</font> .getIndex(x,y)] = cell; <font color="#008000">//    ,      </font> <br> } <br> <font color="#0000ff">this</font> .dom.appendChild(p); <font color="#008000">//    DOM </font> <br> }, <br> <font color="#008000">/**</font> <br> <font color="#008000">*   </font> <br> <font color="#008000">*/</font> <br> selectCell: <font color="#0000ff">function</font> (cell) <br> { <br> alert( <font color="#A31515">'     x='</font> +cell.x+ <font color="#A31515">' y='</font> +cell.y); <br> }, <br> <font color="#008000">/**</font> <br> <font color="#008000">*      </font> <br> <font color="#008000">* @param    X</font> <br> <font color="#008000">* @param    Y</font> <br> <font color="#008000">*/</font> <br> getIndex: <font color="#0000ff">function</font> (x,y) <br> { <br> <font color="#0000ff">return</font> (x &gt;= 0 &amp;&amp; x &lt; <font color="#0000ff">this</font> .width &amp;&amp; y&gt;=0 &amp;&amp; y&lt; <font color="#0000ff">this</font> .height)?x* <font color="#0000ff">this</font> .width+y:-1; <br> }</font> <br> <br> <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></code> </blockquote> <br>  Now, if you have done everything as it should, then when you run the script, a nice mesh will appear :). <br><h5>  Ball class </h5><br>  The ball class we will only be able to respond to the onclick event and select ourselves by blinking.  The ball itself will choose what color it is. <br><blockquote> <code><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="black"><font color="#0000ff">var</font> Ball = jsfw.Class({ <br> countColor:6, <font color="#008000">//  </font> <br> __constructor: <font color="#0000ff">function</font> () <br> { <br> <font color="#0000ff">this</font> .color = c = Math.rand(1, <font color="#0000ff">this</font> .countColor); <font color="#008000">//     ,         .Ball{}</font> <br> <font color="#0000ff">this</font> .dom = $.create( <font color="#A31515">'div'</font> ,{className: <font color="#A31515">'Ball Ball'</font> + <font color="#0000ff">this</font> .color,onclick:$d( <font color="#0000ff">this</font> , <font color="#0000ff">this</font> .click)}, <font color="#0000ff">this</font> .dom); <font color="#008000">//  DOM  ,    onclick   </font> <br> }, <br> <font color="#008000">/**</font> <br> <font color="#008000">*  DOM </font> <br> <font color="#008000">*/</font> <br> getDom: <font color="#0000ff">function</font> () <br> { <br> <font color="#0000ff">return</font> <font color="#0000ff">this</font> .dom; <br> }, <br> <font color="#008000">/**</font> <br> <font color="#008000">*    </font> <br> <font color="#008000">*/</font> <br> click: <font color="#0000ff">function</font> () <br> { <br> <font color="#0000ff">return</font> <font color="#0000ff">this</font> .callEvent( <font color="#A31515">'onclick'</font> ); <br> }, <br> <font color="#008000">/**</font> <br> <font color="#008000">*   </font> <br> <font color="#008000">*/</font> <br> select: <font color="#0000ff">function</font> () <br> { <br> <font color="#008000">// jsFW.fx.blink       time</font> <br> <font color="#0000ff">this</font> .blink = jsFW.fx.blink( <font color="#0000ff">this</font> .dom,{time:300}); <font color="#008000">//        </font> <br> }, <br> <font color="#008000">/**</font> <br> <font color="#008000">*   </font> <br> <font color="#008000">*/</font> <br> unselect: <font color="#0000ff">function</font> () <br> { <br> <font color="#0000ff">if</font> ( <font color="#0000ff">this</font> .blink) <font color="#008000">//    </font> <br> { <br> <font color="#0000ff">this</font> .blink.stop(); <br> delete <font color="#0000ff">this</font> .blink; <br> } <br> }, <br> <font color="#008000">/**</font> <br> <font color="#008000">*    ,      </font> <br> <font color="#008000">*/</font> <br> remove: <font color="#0000ff">function</font> () <br> { <br> <font color="#0000ff">if</font> ( <font color="#0000ff">this</font> .cell) <br> { <br> $.remove( <font color="#0000ff">this</font> .dom); <br> <font color="#0000ff">this</font> .cell.ball= <font color="#0000ff">null</font> ; <br> <font color="#0000ff">this</font> .cell = <font color="#0000ff">null</font> ; <br> } <br> } <br> },jsfw.Object);</font> <br> <br> <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></code> </blockquote> <br><br>  Now you can add a few more methods to the Game class to create and add balls in a random free space. <br><blockquote> <code><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="black"><font color="#008000">/**</font> <br> <font color="#008000">*     </font> <br> <font color="#008000">*/</font> <br> addRandBall: <font color="#0000ff">function</font> (ball) <br> { <br> <font color="#008000">/*</font> <br> <font color="#008000">  this.emptyCell    </font> <br> <font color="#008000">*/</font> <br> <font color="#0000ff">var</font> i = Math.rand(0, <font color="#0000ff">this</font> .emptyCell.length-1); <font color="#008000">//     </font> <br> <font color="#0000ff">this</font> .cell[ <font color="#0000ff">this</font> .emptyCell[i]].addBall(ball); <font color="#008000">//     </font> <br> <font color="#0000ff">this</font> .emptyCell.splice(i,1); <font color="#008000">//     , ..   </font> <br> }, <br> <font color="#008000">/**</font> <br> <font color="#008000">*       </font> <br> <font color="#008000">*/</font> <br> newBall: <font color="#0000ff">function</font> (){ <br> <font color="#0000ff">this</font> .emptyCell = []; <font color="#008000">//    ,    ,   </font> <br> <font color="#0000ff">for</font> ( <font color="#0000ff">var</font> i= <font color="#0000ff">this</font> .cell.length;i--;) <br> { <br> <font color="#0000ff">if</font> (! <font color="#0000ff">this</font> .cell[i].isBall()) <font color="#0000ff">this</font> .emptyCell.push(i); <font color="#008000">//      </font> <br> } <br> <font color="#008000">/*</font> <br> <font color="#008000">       this.countNewBall</font> <br> <font color="#008000">             </font> <br> <font color="#008000">*/</font> <br> <font color="#0000ff">for</font> ( <font color="#0000ff">var</font> i=Math.min( <font color="#0000ff">this</font> .countNewBall, <font color="#0000ff">this</font> .emptyCell.length);i--;) <br> { <br> <font color="#0000ff">var</font> ball = <font color="#0000ff">new</font> Ball(); <br> ball.addEvent( <font color="#A31515">'onclick'</font> , <font color="#0000ff">this</font> .dSelectBall); <font color="#008000">//   </font> <br> <font color="#0000ff">this</font> .addRandBall(ball); <font color="#008000">//  </font> <br> } <br> <font color="#008000">//             </font> <br> <font color="#0000ff">if</font> ( <font color="#0000ff">this</font> .emptyCell.length&lt;= <font color="#0000ff">this</font> .countNewBall) <font color="#0000ff">this</font> .gameOver(); <br> }, <br> <font color="#008000">/**</font> <br> <font color="#008000">*  </font> <br> <font color="#008000">*/</font> <br> selectBall: <font color="#0000ff">function</font> (ball){ <br> <font color="#0000ff">if</font> ( <font color="#0000ff">this</font> .seletedBall) <font color="#0000ff">this</font> .seletedBall.unselect(); <font color="#008000">//       </font> <br> <font color="#0000ff">this</font> .seletedBall = ball; <font color="#008000">//      </font> <br> ball.select(); <br> <font color="#0000ff">return</font> <font color="#0000ff">false</font> ; <br> }</font> <br> <br> <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></code> </blockquote> <br><br>  You also need to add a newBall method call to the start function like this <br><blockquote> <code><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="black">start: <font color="#0000ff">function</font> () <br> { <br> setScore.call( <font color="#0000ff">this</font> ,0); <font color="#008000">//  </font> <br> <font color="#0000ff">this</font> .createCell(); <font color="#008000">//   </font> <br> <font color="#0000ff">this</font> .newBall(); <br> <font color="#0000ff">this</font> .callEvent( <font color="#A31515">'onstart'</font> ); <font color="#008000">//    </font> <br> },</font> <br> <br> <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></code> </blockquote> <br><br>  Let's change the selectCell cell selection function a little <br><blockquote> <code><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="black">selectCell: <font color="#0000ff">function</font> (cell) <br> { <br> <font color="#0000ff">if</font> (!cell.isBall() &amp;&amp; <font color="#0000ff">this</font> .seletedBall) <font color="#008000">//        </font> <br> { <br> cell.addBall( <font color="#0000ff">this</font> .seletedBall); <font color="#008000">//     </font> <br> <font color="#0000ff">this</font> .newBall(); <br> } <br> <font color="#0000ff">return</font> <font color="#0000ff">false</font> ; <br> }</font> <br> <br> <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></code> </blockquote> <br>  Run and see what we did.  Now we have a field on which balls fall out which can be made and moved to free places. <br><br>  The article turned out great for this, I decided to split it into several parts. <br><br><h4>  Conclusion </h4><br>  We have prepared everything to take on the logic of the game, and this is the most interesting part of game programming.  In the next part, we will look at the algorithm for checking the collected lines, counting the balls for the burnt balls.  And the most interesting algorithm for finding the path, because our balls should not fly as they are now - we will cut their wings.  &gt; :) <br><br>  Yes, I almost forgot the <a href="http://www.softcoder.ru/lines/item1/index.html">example</a> and <a href="">source</a> for the first part <br><br>  In the example, instead of balls, squares were used, since  the balls were busy for unknown reasons. <br><br>  Waiting for constructive criticism in the comments, and indications of spelling errors <b>only in a personal</b> </div><p>Source: <a href="https://habr.com/ru/post/49182/">https://habr.com/ru/post/49182/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../49171/index.html">Belarusian hosting providers priced at</a></li>
<li><a href="../49172/index.html">Holiday Invites</a></li>
<li><a href="../49178/index.html">YouTube fights "pirates"</a></li>
<li><a href="../49180/index.html">"Motorized" keyboard</a></li>
<li><a href="../49181/index.html">Artificial organism</a></li>
<li><a href="../49184/index.html">Old favicon in google</a></li>
<li><a href="../49185/index.html">Kroogi music startup will be developed with the support of WebMoney Transfer</a></li>
<li><a href="../49187/index.html">Mirror's Edge on Windows XP and others like it</a></li>
<li><a href="../49189/index.html">Toshiba buys hard drive business from Fujitsu</a></li>
<li><a href="../49191/index.html">Claims from the Internet provider Volya-Kabel about torrents</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>