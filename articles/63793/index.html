<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>We are fixing GisMeteo gadget</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="As many already know, Gismeteo.ru recently closed its project informer.gismeteo.ru . As a result of these events, the former weather export in XML for...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>We are fixing GisMeteo gadget</h1><div class="post__text post__text-html js-mediator-article">  As many already know, <a href="http://yenisite.habrahabr.ru/blog/63411/">Gismeteo.ru</a> recently <a href="http://yenisite.habrahabr.ru/blog/63411/">closed its project informer.gismeteo.ru</a> .  As a result of these events, the former weather export in XML format stopped working.  However, not only webmasters suffered, but also ordinary users who have the GisMeteo gadget installed.  In recent days, they have seen such a sad picture. <br><br><img src="http://img8.imageshack.us/img8/5435/gisold.png" alt="image"><br>  I also watched it while I was not tired.  It just turned out some free time and I decided to try to fix it. <br><a name="habracut"></a><br>  It turned out that Gismeteo.ua gives XML in the old (at least now).  This is what I decided to use. <br><br>  So in order: 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      1. First of all, download the gadget from <a href="http://gallery.live.com/liveItemDetail.aspx%3Fli%3D7873de84-58f6-4842-a8f9-466461a2040e">gallery.live.com/liveItemDetail.aspx?li=7873de84-58f6-4842-a8f9-466461a2040e</a> <br><br>  2. Rename the loaded GisMeteo_black.gadget into GisMeteo_black.gadget <b>.zip</b> and unpack it. <br><br>  3. All we need is the contents of the js folder.  First of all, go to js \ weatherData.js and change line 12 <br><blockquote><code><font color="black">req.open( <font color="#A31515">"GET"</font> , <font color="#A31515">"http://informer.gismeteo. <b>ru</b> /xml/"</font> +location+ <font color="#A31515">"_1.xml"</font> , <font color="#0000ff">false</font> );</font></code> </blockquote> <br>  on <br><blockquote> <code><font color="black">req.open( <font color="#A31515">"GET"</font> , <font color="#A31515">"http://informer.gismeteo. <b>ua</b> /xml/"</font> +location+ <font color="#A31515">"_1.xml"</font> , <font color="#0000ff">false</font> );</font></code> </blockquote> <br>  It would seem that everything, but it is not.  The fact is that by default the gadget is set to St. Petersburg (they are lucky), the rest will have to suffer a little more. <br><br>  4. In the js \ weather.js file at the very top are the default settings. <br><br><blockquote> <code><font color="black"><font color="#0000ff">var</font> location= <font color="#A31515">"26063"</font> ; <br> <font color="#0000ff">var</font> locationName= <font color="#A31515">"-"</font> ; <br></font></code> </blockquote><br>  The easiest option is to enter your city there, however, there is also an ambush.  As can be seen from line 25 js \ settings.js <br><br><blockquote> <code><font color="black">req.open( <font color="#A31515">"GET"</font> , <font color="#A31515">"http://bar.gismeteo.ru/gmbartlist.xml"</font> , <font color="#0000ff">false</font> );</font></code> </blockquote> <br>  The list of cities is loaded from the inaccessible URL.  Saved as always google cache :) The restored list of cities is now available here <a href="">gismeteo.googlecode.com/svn/trunk/gmbartlist.xml</a> <br><br>  5. Now it‚Äôs enough to replace in line 25 js \ settings.js <br><br><blockquote> <code><font color="black">req.open( <font color="#A31515">"GET"</font> , <font color="#A31515">"http://bar.gismeteo.ru/gmbartlist.xml"</font> , <font color="#0000ff">false</font> );</font></code> </blockquote> <br>  on <br><blockquote> <code><font color="black">req.open( <font color="#A31515">"GET"</font> , <font color="#A31515">"http://gismeteo.googlecode.com/svn/trunk/gmbartlist.xml"</font> , <font color="#0000ff">false</font> );</font></code> </blockquote> <br><br>  6. We pack it back into zip, rename it to GisMeteo_black.gadget, install it, choose your city in the settings (the settings dialog does not open right away, you need to wait a while until js parses xml) and enjoy :) <br><br><img src="http://img8.imageshack.us/img8/5154/gisnew.png" alt="image"><br><br>  ps working gadget can be downloaded <a href="http://gismeteo.googlecode.com/files/GisMeteo_black.gadget">here</a> <br><br><blockquote> <code><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></code> </blockquote> <br><br>  upd: now xml is also unavailable through gismeteo.ua <br>  upd2: xml became available with gismeteo.ru </div><p>Source: <a href="https://habr.com/ru/post/63793/">https://habr.com/ru/post/63793/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../63784/index.html">Non-conference iCamp / StartCamp 2009</a></li>
<li><a href="../63785/index.html">Dependency Injection Component</a></li>
<li><a href="../63789/index.html">Kaizen - manage your dream</a></li>
<li><a href="../63790/index.html">Do you have more or less than the best?</a></li>
<li><a href="../63791/index.html">www.askdev.ru - Russian analogue of stackoverflow.com</a></li>
<li><a href="../63795/index.html">Internet Explorer 9?</a></li>
<li><a href="../63796/index.html">Open BSD 4.6-snapshot on Samsung NC10</a></li>
<li><a href="../63797/index.html">25 tips to improve your jQuery code</a></li>
<li><a href="../63799/index.html">Palm Pre comes to us at Christmas</a></li>
<li><a href="../63800/index.html">Which CMS would you prefer when developing a site (subject to the feasibility of an order for any of them)?</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>