<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Why Kotlin sucks</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="This article was born based on this article in the form of a half-joke. In that article, most of the ‚Äúproblems‚Äù are either synthetic and extremely rar...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Why Kotlin sucks</h1><div class="post__text post__text-html js-mediator-article"><p>  This article was born based on <a href="https://habrahabr.ru/post/315152/">this article</a> in the form of a half-joke.  In that article, most of the ‚Äúproblems‚Äù are either synthetic and extremely rarely used, or far-fetched because of the expectation that the language is consistent with the theoretical paradigm of which, in the author‚Äôs opinion, the language should correspond.  On the other hand, things that personally complicate my life are not mentioned. </p><a name="habracut"></a><br><p>          <code>Kotlin</code>,      .   ,           ,    .</p><br>
<h2 id="ubogiy-for"> for</h2><br>
<p>        <code>for</code>  <code>Kotlin</code>     ,    <code>Kotlin</code>   . </p><br>
<pre><code class="hljs kotlin"><span class="hljs-keyword"><span class="hljs-keyword">inline</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">fun</span></span></span><span class="hljs-function"> </span><span class="hljs-type"><span class="hljs-function"><span class="hljs-type">&lt;T&gt;</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">For</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(it : </span></span><span class="hljs-type"><span class="hljs-function"><span class="hljs-params"><span class="hljs-type">Iterator</span></span></span></span><span class="hljs-function"><span class="hljs-params">&lt;</span></span><span class="hljs-type"><span class="hljs-function"><span class="hljs-params"><span class="hljs-type">T</span></span></span></span><span class="hljs-function"><span class="hljs-params">&gt;, cb : (</span></span><span class="hljs-type"><span class="hljs-function"><span class="hljs-params"><span class="hljs-type">T</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span></span> -&gt; <span class="hljs-built_in"><span class="hljs-built_in">Unit</span></span>) {
  <span class="hljs-keyword"><span class="hljs-keyword">while</span></span> (it.hasNext()) cb(it.next())
}

<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">fun</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">main</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(a : </span></span><span class="hljs-type"><span class="hljs-function"><span class="hljs-params"><span class="hljs-type">Array</span></span></span></span><span class="hljs-function"><span class="hljs-params">&lt;</span></span><span class="hljs-type"><span class="hljs-function"><span class="hljs-params"><span class="hljs-type">String</span></span></span></span><span class="hljs-function"><span class="hljs-params">&gt;)</span></span></span></span> {
  <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> list = listOf(<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">3</span></span>, <span class="hljs-number"><span class="hljs-number">4</span></span>, <span class="hljs-number"><span class="hljs-number">12</span></span>)
  println(<span class="hljs-string"><span class="hljs-string">"for"</span></span>);   <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (it <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> list) println(it)
  println(<span class="hljs-string"><span class="hljs-string">"FOR"</span></span>);   For(list.iterator()) { println(it) }

  <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> arr = arrayOf(<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">3</span></span>, <span class="hljs-number"><span class="hljs-number">4</span></span>, <span class="hljs-number"><span class="hljs-number">12</span></span>)
  println(<span class="hljs-string"><span class="hljs-string">"a-for"</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (it <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> arr) println(it)
  println(<span class="hljs-string"><span class="hljs-string">"a-FOR"</span></span>); For(arr.iterator()) { println(it) }

  println(<span class="hljs-string"><span class="hljs-string">"r-for"</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (it <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span>..<span class="hljs-number"><span class="hljs-number">10</span></span>) println(it)
  println(<span class="hljs-string"><span class="hljs-string">"r-FOR"</span></span>); For((<span class="hljs-number"><span class="hljs-number">0</span></span>..<span class="hljs-number"><span class="hljs-number">10</span></span>).iterator()) { println(it) }
}</code></pre><br>
<p>         <code>For</code>       <code>for</code>,                 .        ,        . </p><br>
<p>:                ?       .</p><br>
<p>,        <code>for</code>-,    .   .  ,     ,     -  ,       <code>while</code>-.</p><br>
<h2 id="isterichno-bessmyslennaya-voyna-s-null-able">-   null-</h2><br>
<p>  - ,   ,    - ,    25    <code></code>,  (sic!)     <code>void*</code>,         : "  "  "  ".  ,       .  ,   ,       ?</p><br>
<p>    <code>null-safety</code> <code>Kotlin</code>-,        ?  <code>null</code>    ,    <code>Java</code>,    <code>Kotlin</code>,  ,    .     ,          ?  .      ,      .</p><br>
<p>,           .  -  - ,         ?         <code>null</code>,       .    ,  <code>Kotlin</code>    . </p><br>
<pre><code class="hljs kotlin"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> value : <span class="hljs-built_in"><span class="hljs-built_in">Int</span></span>? = <span class="hljs-literal"><span class="hljs-literal">null</span></span>

<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">fun</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">F</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span> : <span class="hljs-built_in"><span class="hljs-built_in">Int</span></span> {
  <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ( value != <span class="hljs-literal"><span class="hljs-literal">null</span></span> ) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span>
  <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> value <span class="hljs-comment"><span class="hljs-comment">// </span></span>
}</code></pre><br>
<p> <strong>Smart cast to 'Int' is impossible, because 'value' is a mutable property that could have been changed by this time</strong>  .  -   - .</p><br>
<p>,           ??!!!  ?         ,      ‚Äî    ?                ,  -            .</p><br>
<p>    ? !     .   .  .    .      ,       "" .</p><br>
<pre><code class="hljs kotlin"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> value : <span class="hljs-built_in"><span class="hljs-built_in">Int</span></span>? = <span class="hljs-literal"><span class="hljs-literal">null</span></span>

<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">fun</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">F</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span> : <span class="hljs-built_in"><span class="hljs-built_in">Int</span></span> {
  <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (value == <span class="hljs-literal"><span class="hljs-literal">null</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span>
  <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">when</span></span> (Random().nextInt()) {
    <span class="hljs-number"><span class="hljs-number">3</span></span>    -&gt; value!! + <span class="hljs-number"><span class="hljs-number">2</span></span>
    <span class="hljs-number"><span class="hljs-number">12</span></span>   -&gt; value!! + <span class="hljs-number"><span class="hljs-number">1</span></span>
    <span class="hljs-number"><span class="hljs-number">5</span></span>    -&gt; value!! * <span class="hljs-number"><span class="hljs-number">4</span></span>
    <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> -&gt; <span class="hljs-number"><span class="hljs-number">0</span></span>
  }
}</code></pre><br>
<p> ,          ""  ,          .  , <code>null</code> ‚Äî   ""   ,           .</p><br>
<p>       <code>null</code> ,    .             ,  " -  ".</p><br>
<p>, .</p><br>
<p><strong>Java</strong></p><br>
<pre><code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">jHelper</span></span></span><span class="hljs-class"> </span></span>{
  <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> jHelper </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">jF</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>; }
  <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">M</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{}
}</code></pre><br>
<p><strong>Kotlin</strong></p><br>
<pre><code class="hljs kotlin"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">fun</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">F</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span> {
  <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> a = jHelper.jF()
  a.M()  <span class="hljs-comment"><span class="hljs-comment">//!</span></span>
}</code></pre><br>
<p>    -   ,      c  <code>NullPointerException</code> ..  <code>Kotlin</code>     .   ..., , <strong></strong> ?</p><br>
<p> ,      :</p><br>
<ul>
<li>      <strong>  </strong>;</li>
<li>   <strong>!!</strong>    <code>nullable</code>  <strong>  </strong>;</li>
<li> ,             <strong>  </strong>;</li>
<li>      <strong></strong>;</li>
</ul><br>
<p>..      ,     ,         . , !</p><br>
<p>     .</p><br>
<h2 id="pochemu-prisvaivanie---eto-ne-vyrazhenie">  ‚Äî   ?</h2><br>
<p> <code>if</code>  ,  ,     .      ?</p><br>
<pre><code class="hljs kotlin"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> value = <span class="hljs-number"><span class="hljs-number">10</span></span>

<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">fun</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">F</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span> : <span class="hljs-built_in"><span class="hljs-built_in">Int</span></span> {
  <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> value = <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-comment"><span class="hljs-comment">// </span></span>
}</code></pre><br>
<p> :</p><br>
<pre><code class="hljs kotlin"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> v1 = <span class="hljs-number"><span class="hljs-number">1</span></span>
<span class="hljs-keyword"><span class="hljs-keyword">var</span></span> v2 = <span class="hljs-number"><span class="hljs-number">1</span></span>
<span class="hljs-keyword"><span class="hljs-keyword">var</span></span> v3 = <span class="hljs-number"><span class="hljs-number">1</span></span>

<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">fun</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">F</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span> {
  v1 = v2 = v3 = <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-comment"><span class="hljs-comment">// </span></span>
}</code></pre><br>
<p>    ? ,  , .    <code>if (v=20)</code>?.. , , ..        ,   <code>Kotlin</code>, -, . .   ?</p><br>
<h2 id="chem-ne-ugodil-operator-">    "?:"?</h2><br>
<p>    "?:"?</p><br>
<p>     ?</p><br>
<pre><code class="hljs cs"><span class="hljs-keyword"><span class="hljs-keyword">value</span></span> != <span class="hljs-number"><span class="hljs-number">0</span></span> ? <span class="hljs-string"><span class="hljs-string">"Y"</span></span> : <span class="hljs-string"><span class="hljs-string">"N"</span></span></code></pre><br>
<p> <code>if</code>  :</p><br>
<pre><code class="hljs cs"><span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">value</span></span> != <span class="hljs-number"><span class="hljs-number">0</span></span>) <span class="hljs-string"><span class="hljs-string">"Y"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-string"><span class="hljs-string">"N"</span></span></code></pre><br>
<p>   (   ?)  ,     <code>if () else</code>   ,   .</p><br>
<h2 id="za-chto-ubili-avtomaticheskoe-privedenie-tipov">     ?</h2><br>
<p>,       ‚Äî     .     ,   ,        .  ,    ,     .     - ?!         ,      ?</p><br>
<p> ,   .  <code>Pascal</code>.    -   ¬´there are no implicit widening conversions for numbers¬ª?   "are no",    ?</p><br>
<pre><code class="hljs scala"><span class="hljs-keyword"><span class="hljs-keyword">val</span></span> i = <span class="hljs-number"><span class="hljs-number">10</span></span>
<span class="hljs-keyword"><span class="hljs-keyword">val</span></span> l = <span class="hljs-number"><span class="hljs-number">12</span></span>L
<span class="hljs-keyword"><span class="hljs-keyword">val</span></span> f = <span class="hljs-number"><span class="hljs-number">12.1</span></span>

<span class="hljs-keyword"><span class="hljs-keyword">val</span></span> l1 = i+<span class="hljs-number"><span class="hljs-number">100</span></span>/l-f</code></pre><br>
<p>  ?!</p><br>
<pre><code class="hljs scala"><span class="hljs-keyword"><span class="hljs-keyword">val</span></span> l1 = i.toDouble() + <span class="hljs-number"><span class="hljs-number">100.</span></span>toDouble() / l.toDouble() - f</code></pre><br>
<p>.. -  ‚Ä¶ ‚Ä¶  - ‚Ä¶    ‚Ä¶    .                 ‚Äî      .    ,       ,     <code>Int</code>   <code>Long</code>,    <code>Float</code>  <code>Double</code>.</p><br>
<p>  ,             .</p><br>
<p>       :</p><br>
<pre><code class="hljs swift">val <span class="hljs-built_in"><span class="hljs-built_in">c</span></span> : <span class="hljs-type"><span class="hljs-type">SomeClass?</span></span> = null

<span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ( <span class="hljs-built_in"><span class="hljs-built_in">c</span></span> ) <span class="hljs-string"><span class="hljs-string">"not-null"</span></span>
<span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ( !<span class="hljs-built_in"><span class="hljs-built_in">c</span></span> ) <span class="hljs-string"><span class="hljs-string">"is-null"</span></span></code></pre><br>
<p>   ..    .</p><br>
<h2 id="nedo-typedef">-typedef</h2><br>
<p>    <code>Kotlin</code> . .           ,   ,      .      ‚Äî      ,  ‚Ä¶  -.</p><br>
<p>         - .      :</p><br>
<ol>
<li><p>     .    , , - .      .</p><br>
</li>
<li><p>      .         ..     .   ,    .</p><br>
</li>
<li>     .       .         ( .1), ..       , ,       () .            .</li>
</ol><br>
<p>    :</p><br>
<pre><code class="hljs kotlin"><span class="hljs-keyword"><span class="hljs-keyword">typealias</span></span> aI = SuperPuperClassA
<span class="hljs-keyword"><span class="hljs-keyword">typealias</span></span> pSI = Pair&lt;String,<span class="hljs-built_in"><span class="hljs-built_in">Int</span></span>&gt;
<span class="hljs-keyword"><span class="hljs-keyword">typealias</span></span> pIS = Pair&lt;<span class="hljs-built_in"><span class="hljs-built_in">Int</span></span>,String&gt;
<span class="hljs-keyword"><span class="hljs-keyword">typealias</span></span> pOTHER = Pair&lt;String,<span class="hljs-built_in"><span class="hljs-built_in">Int</span></span>&gt;
<span class="hljs-keyword"><span class="hljs-keyword">typealias</span></span> aS = List&lt;String&gt;

<span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">SuperPuperClassA</span></span></span><span class="hljs-class"> </span></span>{
  <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">fun</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">F</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span> = pSI(<span class="hljs-string"><span class="hljs-string">""</span></span>,<span class="hljs-number"><span class="hljs-number">10</span></span>)
}

<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">fun</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">main</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(a : </span></span><span class="hljs-type"><span class="hljs-function"><span class="hljs-params"><span class="hljs-type">Array</span></span></span></span><span class="hljs-function"><span class="hljs-params">&lt;</span></span><span class="hljs-type"><span class="hljs-function"><span class="hljs-params"><span class="hljs-type">String</span></span></span></span><span class="hljs-function"><span class="hljs-params">&gt;)</span></span></span></span> {
  <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> a = aI()
  <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> i1 = a.F()
  <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> i2 : Pair&lt;*,*&gt; = a.F()
  <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> i3 : Any = a.F()

  <span class="hljs-comment"><span class="hljs-comment">//     </span></span>
  <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ( i1 <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> pSI ) println(<span class="hljs-string"><span class="hljs-string">"ok"</span></span>)
  <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ( i1 <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> pOTHER ) println(<span class="hljs-string"><span class="hljs-string">"ok"</span></span>)

  <span class="hljs-comment"><span class="hljs-comment">//   </span></span>
  <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ( i1 <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> pIS ) println(<span class="hljs-string"><span class="hljs-string">"not compile"</span></span>)
  <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ( i2 <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> pSI ) println(<span class="hljs-string"><span class="hljs-string">"not compile"</span></span>)
  <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ( i2 <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> pIS ) println(<span class="hljs-string"><span class="hljs-string">"not compile"</span></span>)
  <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ( i3 <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> pSI ) println(<span class="hljs-string"><span class="hljs-string">"not compile"</span></span>)
  <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ( i3 <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> pIS ) println(<span class="hljs-string"><span class="hljs-string">"not compile"</span></span>)
}</code></pre><br>
<p>   ,         . ..     ,    . , <code>Kotlin</code>        ,     (      ), , ,  .</p><br>
<p>,   ,      : "Cannot check for instance of erased type".    ( )    <code>JVM</code>.</p><br>
<p>.</p><br>
<p>       ,       .     -           .</p><br>
<p>, ,        ,   ?</p><br>
<p><code>Nested and local type aliases are not supported</code></p><br>
<p>       ,      , ..    <code>private</code>  ""    .</p><br>
<h1 id="ubogie-shablony"> </h1><br>
<p> (generics)  <code>Java</code>    <code>Kotlin</code>          : <code>JVM</code>                  .</p><br>
<p>    <code>Java</code> ..      .       <code>Kotlin</code>,    <strong></strong> ,     <code>Java</code> ,  ,        .</p><br>
<p>     ()         -   ..       ,     .</p><br>
<p>   :</p><br>
<pre><code class="hljs kotlin"><span class="hljs-comment"><span class="hljs-comment">/*00*/</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">C</span></span></span><span class="hljs-class">&lt;</span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">T</span></span></span><span class="hljs-class">&gt;</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">val</span></span> value : Any) {
<span class="hljs-comment"><span class="hljs-comment">/*01*/</span></span>   <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">fun</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">F</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span> : T {
<span class="hljs-comment"><span class="hljs-comment">/*02*/</span></span>     <span class="hljs-keyword"><span class="hljs-keyword">try</span></span> {
<span class="hljs-comment"><span class="hljs-comment">/*03*/</span></span>       <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> v = value <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> T <span class="hljs-comment"><span class="hljs-comment">//  "Unchecked cast: Any to T"</span></span>
<span class="hljs-comment"><span class="hljs-comment">/*04*/</span></span>       <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> v
<span class="hljs-comment"><span class="hljs-comment">/*05*/</span></span>     } <span class="hljs-keyword"><span class="hljs-keyword">catch</span></span>(ex : RuntimeException) {
<span class="hljs-comment"><span class="hljs-comment">/*06*/</span></span>       println(<span class="hljs-string"><span class="hljs-string">"Incompatible"</span></span>)
<span class="hljs-comment"><span class="hljs-comment">/*07*/</span></span>       <span class="hljs-comment"><span class="hljs-comment">//    ,        </span></span>
<span class="hljs-comment"><span class="hljs-comment">/*08*/</span></span>       <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> T
<span class="hljs-comment"><span class="hljs-comment">/*09*/</span></span>     }
<span class="hljs-comment"><span class="hljs-comment">/*10*/</span></span>   }
<span class="hljs-comment"><span class="hljs-comment">/*11*/</span></span> }
<span class="hljs-comment"><span class="hljs-comment">/*12*/</span></span> 
<span class="hljs-comment"><span class="hljs-comment">/*13*/</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">fun</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">fTest</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span> {
<span class="hljs-comment"><span class="hljs-comment">/*14*/</span></span>   <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> a = C&lt;<span class="hljs-built_in"><span class="hljs-built_in">Int</span></span>&gt;( <span class="hljs-number"><span class="hljs-number">12.789</span></span> )
<span class="hljs-comment"><span class="hljs-comment">/*15*/</span></span>   println( <span class="hljs-string"><span class="hljs-string">"rc: </span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${a.F()}</span></span></span><span class="hljs-string">"</span></span> )
<span class="hljs-comment"><span class="hljs-comment">/*16*/</span></span> 
<span class="hljs-comment"><span class="hljs-comment">/*17*/</span></span>   <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> b = C&lt;<span class="hljs-built_in"><span class="hljs-built_in">Int</span></span>&gt;( <span class="hljs-string"><span class="hljs-string">"12.123"</span></span> )
<span class="hljs-comment"><span class="hljs-comment">/*18*/</span></span>   println( <span class="hljs-string"><span class="hljs-string">"rc: </span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${b.F()}</span></span></span><span class="hljs-string">"</span></span> )
<span class="hljs-comment"><span class="hljs-comment">/*19*/</span></span> }</code></pre><br>
<p>  ,   ""          .</p><br>
<p>, :    ? </p><br>
<p> :</p><br>
<ol>
<li>  </li>
<li>,    "12", "12"</li>
<li>,    "12", "Incompatible"</li>
<li>,    "12.789", "12.123"</li>
<li>     "C::F" (  ?)</li>
<li>     "fTest" (  ?)</li>
</ol><br>
<div class="spoiler"><b class="spoiler_title"> </b><div class="spoiler_text"><p> : <strong>     "fTest"   18</strong></p><br>
<pre><code class="hljs css"><span class="hljs-selector-tag"><span class="hljs-selector-tag">rc</span></span>: 12

<span class="hljs-selector-tag"><span class="hljs-selector-tag">Exception</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">in</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">thread</span></span> "<span class="hljs-selector-tag"><span class="hljs-selector-tag">main</span></span>" <span class="hljs-selector-tag"><span class="hljs-selector-tag">java</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.lang</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.ClassCastException</span></span>: <span class="hljs-selector-tag"><span class="hljs-selector-tag">java</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.lang</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.String</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">cannot</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">be</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">cast</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">to</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">java</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.lang</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.Number</span></span>
    <span class="hljs-selector-tag"><span class="hljs-selector-tag">at</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">jm</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.test</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.ktest</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.KMainKt</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.fT</span></span>(<span class="hljs-selector-tag"><span class="hljs-selector-tag">kMain</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.kt</span></span><span class="hljs-selector-pseudo"><span class="hljs-selector-pseudo">:18)</span></span>
    <span class="hljs-selector-tag"><span class="hljs-selector-tag">at</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">sun</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.reflect</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.NativeMethodAccessorImpl</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.invoke0</span></span>(<span class="hljs-selector-tag"><span class="hljs-selector-tag">Native</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">Method</span></span>)
    <span class="hljs-selector-tag"><span class="hljs-selector-tag">at</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">sun</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.reflect</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.NativeMethodAccessorImpl</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.invoke</span></span>(<span class="hljs-selector-tag"><span class="hljs-selector-tag">NativeMethodAccessorImpl</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.java</span></span><span class="hljs-selector-pseudo"><span class="hljs-selector-pseudo">:62)</span></span>
    <span class="hljs-selector-tag"><span class="hljs-selector-tag">at</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">sun</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.reflect</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.DelegatingMethodAccessorImpl</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.invoke</span></span>(<span class="hljs-selector-tag"><span class="hljs-selector-tag">DelegatingMethodAccessorImpl</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.java</span></span><span class="hljs-selector-pseudo"><span class="hljs-selector-pseudo">:43)</span></span>
    <span class="hljs-selector-tag"><span class="hljs-selector-tag">at</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">java</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.lang</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.reflect</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.Method</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.invoke</span></span>(<span class="hljs-selector-tag"><span class="hljs-selector-tag">Method</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.java</span></span><span class="hljs-selector-pseudo"><span class="hljs-selector-pseudo">:498)</span></span>
    <span class="hljs-selector-tag"><span class="hljs-selector-tag">at</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">com</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.intellij</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.rt</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.execution</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.application</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.AppMain</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.main</span></span>(<span class="hljs-selector-tag"><span class="hljs-selector-tag">AppMain</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.java</span></span><span class="hljs-selector-pseudo"><span class="hljs-selector-pseudo">:147)</span></span></code></pre></div></div><br>
<p> :      ?</p><br>
<ol>
<li>     ,   <code>Double</code>  <code>Int</code>?</li>
<li>    <code>try</code>/<code>catch</code>?</li>
<li>    <strong></strong>         "C::F"?</li>
</ol><br>
<div class="spoiler"><b class="spoiler_title"> </b><div class="spoiler_text"><p>,   .</p><br>
<p> ,   <code>Kotlin</code>     "C::F":</p><br>
<pre><code class="hljs pgsql">// val v = <span class="hljs-keyword"><span class="hljs-keyword">value</span></span> <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> T

GETFIELD jm/test/ktest/C.<span class="hljs-keyword"><span class="hljs-keyword">value</span></span> : Ljava/lang/<span class="hljs-keyword"><span class="hljs-keyword">Object</span></span>;
CHECKCAST java/lang/<span class="hljs-keyword"><span class="hljs-keyword">Object</span></span>
ASTORE <span class="hljs-number"><span class="hljs-number">1</span></span></code></pre><br>
<p>    (     ),    <code>CHECKCAST Object</code> .        ..    ,         .</p><br>
<p>  ,      "C::F":</p><br>
<pre><code class="hljs nginx"><span class="hljs-attribute"><span class="hljs-attribute">LINENUMBER</span></span> <span class="hljs-number"><span class="hljs-number">18</span></span> L6
ALOAD <span class="hljs-number"><span class="hljs-number">1</span></span>
INVOKEVIRTUAL jm/test/ktest/C.F ()Ljava/lang/Object;
<span class="hljs-attribute"><span class="hljs-attribute">CHECKCAST</span></span> java/lang/Number</code></pre><br>
<p>-,     (  ),         ,          <strong></strong>    .  : <code>Kotlin</code>, ,    <strong></strong>       <strong> </strong>.</p></div></div><br>
<p> ,       <code>Kotlin</code>,        .</p><br>
<p>  :   <code>Java</code>    .  ,  ,    ,               ‚Ä¶         ‚Äî <code>VCL</code>.  <code>Borland</code>         -,   <code></code>  <code>Pascal</code>   <code>RTTI</code>,        .     ,  <code>Java</code>         , <code>Kotlin</code>-  .   .  ,     ,  , -  ,      <code>Java</code>.</p><br>
<p>      <code>Java</code>.</p><br>
<pre><code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">jTest</span></span></span><span class="hljs-class">&lt;</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">T</span></span></span><span class="hljs-class">&gt; </span></span>{
  Object value;

  jTest( Object v ) { value = v; }

  <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> T </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">F</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> (T)value; } <span class="hljs-comment"><span class="hljs-comment">//  "Unchecked cast"</span></span>

  <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Test</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{
    jTest&lt;Integer&gt; a = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> jTest&lt;Integer&gt;( <span class="hljs-number"><span class="hljs-number">12.123</span></span> );
    System.out.print( <span class="hljs-string"><span class="hljs-string">"rcA: "</span></span> );
    System.out.print( a.F() );

    jTest&lt;Integer&gt; b = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> jTest&lt;Integer&gt;( <span class="hljs-string"><span class="hljs-string">"12.789"</span></span> );
    System.out.print( <span class="hljs-string"><span class="hljs-string">"\nrcB: "</span></span> );
    System.out.print( b.F() );

    System.out.print( <span class="hljs-string"><span class="hljs-string">"\n"</span></span> );
  }
}</code></pre><br>
<p>     <code>Kotlin</code>  <code>Java</code>.</p><br>
<pre><code class="hljs kotlin"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">fun</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">fTJ_1</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span> {
  <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> a = jTest&lt;<span class="hljs-built_in"><span class="hljs-built_in">Int</span></span>&gt;( <span class="hljs-number"><span class="hljs-number">12.123</span></span> )
  println( <span class="hljs-string"><span class="hljs-string">"rc: </span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${a.F()}</span></span></span><span class="hljs-string">"</span></span> )

  <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> b = jTest&lt;<span class="hljs-built_in"><span class="hljs-built_in">Int</span></span>&gt;( <span class="hljs-string"><span class="hljs-string">"12.789"</span></span> )
  println( <span class="hljs-string"><span class="hljs-string">"rc: </span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${b.F()}</span></span></span><span class="hljs-string">"</span></span> )
}

<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">fun</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">fTJ_2</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span> {
  jTest.Test()
}</code></pre><br>
<p>              :    ,  :</p><br>
<ol>
<li>       <code>Kotlin</code>;</li>
<li>  <code>Java</code>,     <code>Kotlin</code>;</li>
<li>     <code>Java</code>;</li>
</ol><br>
<p>        ?</p><br>
<p>:</p><br>
<ul>
<li>   .</li>
<li>    .</li>
<li> ,     <code>Kotlin</code>  ,   <code>Java</code>  .</li>
</ul><br>
<div class="spoiler"><b class="spoiler_title"> </b><div class="spoiler_text"><p> : <strong>      </strong></p><br>
<ol>
<li><p><code>Kotlin</code>:</p><br>
<pre><code class="hljs css"><span class="hljs-selector-tag"><span class="hljs-selector-tag">rc</span></span>: 12
<span class="hljs-selector-tag"><span class="hljs-selector-tag">Exception</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">in</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">thread</span></span> "<span class="hljs-selector-tag"><span class="hljs-selector-tag">main</span></span>" <span class="hljs-selector-tag"><span class="hljs-selector-tag">java</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.lang</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.ClassCastException</span></span>: <span class="hljs-selector-tag"><span class="hljs-selector-tag">java</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.lang</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.String</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">cannot</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">be</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">cast</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">to</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">java</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.lang</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.Number</span></span></code></pre><br>
</li>
<li><p><code>Kotlin-&gt;Java</code>:</p><br>
<pre><code class="hljs pgsql"><span class="hljs-keyword"><span class="hljs-keyword">Exception</span></span> <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> thread "main" java.lang.ClassCastException: java.lang.Double cannot be <span class="hljs-keyword"><span class="hljs-keyword">cast</span></span> <span class="hljs-keyword"><span class="hljs-keyword">to</span></span> java.lang.Integer</code></pre><br>
</li>
<li><code>Java</code>:<br>
<pre><code class="hljs css"><span class="hljs-selector-tag"><span class="hljs-selector-tag">rcA</span></span>: 12<span class="hljs-selector-class"><span class="hljs-selector-class">.123</span></span>
<span class="hljs-selector-tag"><span class="hljs-selector-tag">rcB</span></span>: 12<span class="hljs-selector-class"><span class="hljs-selector-class">.789</span></span></code></pre></li>
</ol></div></div><br>
<p>    ?     .</p><br>
<h1 id="net-sintaksisa-dlya-opisaniya-struktur">    </h1><br>
<p>  <strong> </strong>   (  Java,  Scala, Groovy     Lua , , ++)       ,         .</p><br>
<p><code>Kotlin</code> ‚Äî     ,        .  ( )   : listOf, mapOf  arrayOf.</p><br>
<p>      ,  -  :</p><br>
<pre><code class="hljs lisp">  val iArr1 = arrayOf(<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">3</span></span>)
  val iArr2 = arrayOf( <span class="hljs-name"><span class="hljs-name">arrayOf</span></span>(<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">3</span></span>), arrayOf(<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">3</span></span>), arrayOf(<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">3</span></span>) )
  val iArr3 = arrayOf(
    <span class="hljs-name"><span class="hljs-name">arrayOf</span></span>(<span class="hljs-name"><span class="hljs-name">arrayOf</span></span>(<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">3</span></span>), arrayOf(<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">3</span></span>), arrayOf(<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">3</span></span>)),
    arrayOf(<span class="hljs-name"><span class="hljs-name">arrayOf</span></span>(<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">3</span></span>), arrayOf(<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">3</span></span>), arrayOf(<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">3</span></span>)),
    arrayOf(<span class="hljs-name"><span class="hljs-name">arrayOf</span></span>(<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">3</span></span>), arrayOf(<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">3</span></span>), arrayOf(<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">3</span></span>))
    )</code></pre><br>
<p>     :</p><br>
<pre><code class="hljs lisp">  val tree = mapOf(
    <span class="hljs-name"><span class="hljs-name">Pair</span></span>(<span class="hljs-string"><span class="hljs-string">"dir1"</span></span>, mapOf(<span class="hljs-name"><span class="hljs-name">Pair</span></span>(<span class="hljs-string"><span class="hljs-string">"file1"</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>), Pair(<span class="hljs-string"><span class="hljs-string">"file2"</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>))),
    Pair(<span class="hljs-string"><span class="hljs-string">"dir2"</span></span>, mapOf(
      <span class="hljs-name"><span class="hljs-name">Pair</span></span>(<span class="hljs-string"><span class="hljs-string">"dir21"</span></span>, mapOf(<span class="hljs-name"><span class="hljs-name">Pair</span></span>(<span class="hljs-string"><span class="hljs-string">"file1"</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>), Pair(<span class="hljs-string"><span class="hljs-string">"file2"</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>))),
      Pair(<span class="hljs-string"><span class="hljs-string">"dir22"</span></span>, mapOf(<span class="hljs-name"><span class="hljs-name">Pair</span></span>(<span class="hljs-string"><span class="hljs-string">"file1"</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>), Pair(<span class="hljs-string"><span class="hljs-string">"file2"</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>))))) )</code></pre><br>
<p>         ,          -   .</p><br>
<p>,         (    JSON    ), ...</p><br>
<ol>
<li>         ,       ‚Äî  -  (     ).</li>
<li>           ,    ,  .</li>
<li>     ,  ,         .</li>
</ol><br>
<p> ,   ‚Äî  ,   .</p><br>
<p>:         -      .     <code>Array&lt;Array&lt;Array&lt;Array&lt;Double&gt;&gt;&gt;&gt;</code>  <code>Array&lt;Array&lt;Array&lt;Double&gt;&gt;&gt;</code>       .</p></div>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <p>Source: <a href="https://habr.com/ru/post/322256/">https://habr.com/ru/post/322256/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../322246/index.html">Classification of data. Monitoring the use of critical information on file servers</a></li>
<li><a href="../322248/index.html">Physical backup: Veeam Endpoint Backup replaces Veeam Agent for Microsoft Windows</a></li>
<li><a href="../322250/index.html">Model of Actors and C ++: What, Why and How?</a></li>
<li><a href="../322252/index.html">What questions to ask at the interview</a></li>
<li><a href="../322254/index.html">Examples of how partners lose money when collaborating with CPA networks</a></li>
<li><a href="../322258/index.html">We write game logic in C #. Part 1/2</a></li>
<li><a href="../322262/index.html">Mustached shooter of twenty-three polygons</a></li>
<li><a href="../322266/index.html">Tarantool: load testing</a></li>
<li><a href="../322268/index.html">We write game logic in C #. Part 2/2</a></li>
<li><a href="../322270/index.html">In defense, Zuckerberg takes Evan Spiegel "by the throat"</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>