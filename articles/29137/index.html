<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ICFP 2008 report: team ryba</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Inspired by many other Adept reports, we took part in ICFP 2007 and ended up taking 4th place. The impressions of last year were the most positive, an...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>ICFP 2008 report: team ryba</h1><div class="post__text post__text-html js-mediator-article">  Inspired by many other <a href="http://users.livejournal.com/_adept_/tag/icfpc">Adept reports,</a> we took <a href="http://yole.livejournal.com/2007/07/">part in ICFP 2007</a> and ended up taking 4th place.  The impressions of last year were the most positive, and this year we gathered again, though in a slightly different composition.  This time we also had a lot of fun and we managed to cope with the task as a whole, it remains to wait for the conference and find out how good it is :) <br><br><img src="http://img383.imageshack.us/img383/875/icfp08cj4.png" title="grid, graph, ways"><br>  From left to right: adaptive grid, path graph, trajectories <br><a name="habracut"></a><br>  <a href="http://habrahabr.ru/blog/icfpc/46589.html">A great introduction for those who do not know what the International Conference on Functional Programming Contest is, how it is going and what task it was this year.</a> <br><br>  A little about the team. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Team ryba ICFP 2008 crew (in alphabetical order :) <br>  <a href="http://friendfeed.com/mikea">Mike aizatsky</a> <br>  <a href="http://friendfeed.com/neuro159">Alexey Gopachenko</a> <br>  Maxim mossienko <br>  Roman Shevchenko <br><br>  We all hold the opinion that the best tool is a proven one that you own the best.  It just so happened that for us this is Java, so the question of choosing a language did not arise, especially considering the experience of ICFP 2007. <br><br>  Like last year, Roma gathered us together.  Personally, I prepared very thoroughly - I slept 15 hours before the very beginning.%) The results of last time made the right conclusions and we agreed to try to work no more than 8 hours a day - and if possible all at the same time.  The place was chosen too verified - JetBrains office.  All but Mike used their workstations under WinXP, and later VMWare Server worked on each with a LiveCD.  Mike used his Mac Book Pro and native server as soon as it became available.  Development environment - of course <a href="http://www.jetbrains.com/idea/">IntelliJ IDEA</a> . <br><br><h3>  The first day (Friday 23:00 - Saturday 04:30) </h3><br>  All the time the competition Roma followed the competition site, mailing list and compliance with the formalities (scripts, packaging, testing and sending results).  He also downloaded and checked the LiveCD in advance and prepared the Subversion repository for the project. <br><br>  As soon as the assignment was published we plunged into reading for 10 minutes. <br>  The results of the five-minute brainstorming at the blackboard that followed: <br><br>  Mike knows exactly how to do a search for a path on the map and immediately proceed. <br>  it is necessary to make everything move as quickly as possible <br>  write and link components: incoming / outgoing messages, model of the world, search for the way, taxiing, visualization <br>  need a simple server simulator - because  It is not known when the organizers will post it <br><br>  Mike's solution involved building a graph of possible paths and finding the shortest path using <a href="http://ru.wikipedia.org/wiki/%25D0%2590%25D0%25BB%25D0%25B3%25D0%25BE%25D1%2580%25D0%25B8%25D1%2582%25D0%25BC_%25D0%2594%25D0%25B5%25D0%25B9%25D0%25BA%25D1%2581%25D1%2582%25D1%2580%25D1%258B">the Dijkstra algorithm</a> .  The graph is built on the centers of the grid cells, which is obtained by adaptive recursive division into quadrants%) Writing and checking (using graph paper and a pen :) all this took Mike for an hour or two. <br><br>  Meanwhile, Max is smartly writing a protocol, starting with the most needed facilities for all Telemetry, Obstacle, etc.  Romka - visualization of how the rover sees the world and I started downloading maps with an eye to the implementation of the server.  In order not to waste time and not to overburden the project, I used the code from <a href="http://www.json.org/java">www.json.org/java</a> .  Pretty quickly we reached our goal: I loaded the map and built the world view in the basic objects written by Max and Romka drew all this to us.  There is no server yet and this is our only way to see the map.  We regret to see that the example cards are very simple and very similar, and even with the same parameters of rovers and Martians. <br><br>  Now Mike can test subdivision and finding the path on real maps.  The best way to quickly evaluate tessellation work is visual and Mike appends the appropriate pieces of code to our visualizer.  At this moment, for the first time, we see something like the one above.  Immediately you can see the search works correctly, you only need to adjust the details and achieve maximum performance.  After receiving food for thought (and more convenient toolkit), Mike again plunges his code. <br><br>  Just as I gathered my courage to simulate physics, an exemplary server became available.  Max was just ready for the network code, we raised the LiveCD and saw the creeping Martians.  After looking at how everything works, we decided that we would not need our simulator.  Just in time :) <br><br>  I quickly sketched a ‚Äúnaive‚Äù work cycle, 1 telemetry =&gt; 1 command (AccelerateRightly).  Launch and fascinated watch on the server as the rover smartly rolls forward, bounces off the walls and stones. <br><br>  We come to the conclusion that physics is quite reasonable, and the Martians are surprisingly stupid.  Nevertheless, as planned, we include all visible Martians in the graph as a ‚Äútemporary‚Äù obstacle. <br><br>  In the meantime, 6 hours have passed since the beginning of the competition.  We agreed to sleep off properly and start tomorrow at 15:00 and parted. <br><br>  At the end of the day we can: <br>  connect to the server and parse the message flow <br>  stupidly creep forward :) <br>  divide the map into a grid of passable / forbidden zones (for simplicity, while describing squares around obstacles) <br>  build the shortest path on a map, including any mazes <br><br><h3>  Second day (Saturday 4:00 pm - Sunday 3:00 am), Lightening round </h3><br>  Appearing first, I proceed to the actual arrival - I listen to telemetry, update the internal map and the status of the rover.  After that, I turn on the calculation of the path on the current map from the current position of the rover to the telemetry processing cycle.  I see that on my (very powerful) machine it does not have time ‚Äúin real time‚Äù and the latency accumulates.  Given the fact that Mike immediately warned that he would seriously accelerate the calculation, I decided not to pay attention to it. <br><br>  I watch as the map gradually manifests itself on the client, the Martians rush past.  We process the end of the round and score.  For some time we observe how the Martians rush one after another to the Martians and almost always miss the mark if it moves.  Romka continues to work on visualization. <br><br>  Then I thought of a way to significantly increase the comfort of development under Windows - start the server in a loop: while true;  do server map.wrld;  done - this way you could just launch the client at any time and watch the work without being distracted by the server console.  Later I added svn up there and got the opportunity to conveniently and quickly change the map. <br><br>  Max comes and we decide that it's time to learn to steer.  Here we find that trigonometry was completely forgotten: (I will not describe this shame ... In general, while we re-read the definition of elementary trigonometric functions, late Mike appeared and saved everyone with the help of the pseudoscal product of vectors :) already come with a new search for the way. <br><br>  As soon as we put all the parts together, the rover immediately became quite successful in reaching the base.  Sometimes they could not cope with management, because  did not take into account the variable latency of the telecontrol system. <br><br>  considered their problems with telemetry calculation <br><br>  take into account the fact that the server can send outdated steering position <br><br>  By 22:00, we received quite stable results on test cards, and after fine tuning and checking under the LiveCD we sent a code to the ligntning round. <br><br>  For an hour or two, we played with the code and discussed what needs to be improved and how, and finally forced ourselves to go to rest. <br><br><h3>  Third day (Sunday 4:00 pm - Monday 3:00 am) </h3><br>  Latency optimization <br><br><h3>  Fourth day (Monday 13:00 - 23:00) </h3><br>  Yes, yes, because of our schedule, we got 4 days :) On this day, the three of us remained - Mike could not join us. <br><br>  First we decided to throw the Martians out of the search map.  Because at high speed, they always missed their mark (which is not surprising) We decided that we would go on the way and dodge at the last moment.  This allowed to recalculate the path only if new objects became visible. <br><br>  Tuning <br>  Max - speed speed <br><br><h3>  Conclusion </h3><br>  Yes, the task was very different from previous years, but we found it quite interesting.  Yes, the training was clearly disappointed, but our team didn‚Äôt meet any obstacles.  Although it would be more convenient to get a server under win, albeit without graphics.  I really didn‚Äôt like the fact that there was little test data and the complete absence of an official way to assess our success ... <br><br>  cool <br>  colocation <br>  schedule <br><br>  TOU <br>  stable module interfaces <br>  statistics of tuning results <br>  switching to other strategies <br><br><h3>  Shortcuts </h3><br>  Team reports on the official wiki <a href="https://projects.cecs.pdx.edu/~jgmorris/icfpc08/index.cgi/wiki/TeamPages">projects.cecs.pdx.edu/~jgmorris/icfpc08/index.cgi/wiki/TeamPages</a> <br>  Article <a href="http://habrahabr.ru/blog/icfpc/46589.html">habrahabr.ru/blog/icfpc/46589.html</a> </div><p>Source: <a href="https://habr.com/ru/post/29137/">https://habr.com/ru/post/29137/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../291356/index.html">Simon Sink How to talk so as to encourage action (part 1)</a></li>
<li><a href="../291358/index.html">Simon Sink How to talk so as to encourage action (part 2)</a></li>
<li><a href="../291360/index.html">A look at startups from the back. Part 2</a></li>
<li><a href="../291362/index.html">How the US government helps start-ups today</a></li>
<li><a href="../291366/index.html">Qiwi founder may go out of business</a></li>
<li><a href="../291370/index.html">Does crowdinvesting bring too little?</a></li>
<li><a href="../291372/index.html">How to remember to call an important (and not so) customer? Never</a></li>
<li><a href="../291374/index.html">Tsypa-dripa TsA-TsA-TsA</a></li>
<li><a href="../291376/index.html">Dispute over the delivery of software</a></li>
<li><a href="../291378/index.html">Ban number xxx. Self-employed again under attack. Only one warrior from now on</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>