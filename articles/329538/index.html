<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Do-it-yourself phishing. Experience of the company "Aktiv", part two</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="In the first article, I talked about the theory of the question, but now we will move from theory to practice. So, we have successfully installed the ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Do-it-yourself phishing. Experience of the company "Aktiv", part two</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/web/c84/fec/7af/c84fec7afa464314af4da9371fd59b56.jpg"><br><p><br>  In the <a href="https://habrahabr.ru/company/aktiv-company/blog/329470/">first</a> article, I talked about the theory of the question, but now we will move from theory to practice.  So, we have successfully installed the system, set it up and are ready to start ‚Äúphishing‚Äù on our own employees :) </p><a name="habracut"></a><br><h1 id="plan">  Plan </h1><br><p>  Our plan is quite simple.  At the first stage, we send several different letters to all employees.  Mailings choose personalized (alcohol).  The link in the mailing list leads through a blank page (which is necessary for analyzing the transitions) to the original service page.  The first stage is devoted to essentially pure experiment in order to determine the entire depth of the problem.  After the first letter, we officially announce to all employees that we sent letters and we send everyone to the anti-phishing training page. </p><br><p>  After a week, we are conducting the second stage, which is similar to the first (letters with new content), but the link in the letters directly leads to our training page.  The third stage - control.  Following the results of the comparison and see the dynamics of the transitions on the link and calls to the IT department.  With those who continue to "come across", we carry out individual work.  The plan as a whole was executed and recognized as successful, but life made adjustments to it. </p><br><h1 id="sberbank">  Sberbank </h1><br><p>  In our company, as in many, the salary is transferred to the cards.  Sberbank cards occupy a leading position.  Why not start phishing by checking ‚ÄúSberbank‚Äù, we thought, and made the first email template that looked like this (by the way, we didn‚Äôt think up this and all the other templates ourselves, but found it on the Internet).  And then the day came "X", and the staff received a similar letter. </p><br><img src="https://habrastorage.org/web/d3a/0cb/e19/d3a0cbe1901a4db798cc4cf19ef7a243.jpg"><br><p>  Following the link, we made a very simple page: </p><br><pre><code class="hljs xml"><span class="hljs-meta"><span class="hljs-meta">&lt;!DOCTYPE html&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">html</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">head</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">meta</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">http-equiv</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"refresh"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">content</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"0; url=https://online.sberbank.ru"</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">head</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">body</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">body</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">html</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br><p>  As can be seen from the page code, there is a redirect to the real Sberbank website.  We were only important the fact of the transition. </p><br><h1 id="gosuslugi">  State services </h1><br><p>  Sberbank is good, but it seemed to us that it was not enough for the first mailing.  What else will be interesting at once to all employees of the company?  State services.  They are more and more entering our lives and many people use them, respectively, this is quite a worthy object for distribution.  After wandering around the expanses of the network, I turned up an interesting spam template: </p><br><img src="https://habrastorage.org/web/e24/4d3/88a/e244d388a69341138794aace878194da.jpg"><br><p>  The link was again empty, the page is largely similar to Sberbank, but referring to another resource. </p><br><pre> <code class="hljs xml"> <span class="hljs-meta"><span class="hljs-meta">&lt;!DOCTYPE html&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">html</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">head</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">meta</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">http-equiv</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"refresh"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">content</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"0; url=https://www.gosuslugi.ru"</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">head</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">body</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">body</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">html</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br><h1 id="rezultaty-pervogo-etapa">  Results of the first stage </h1><br><p>  So, we launched the newsletter.  The first hour or two was silence: someone followed the link, someone did not switch.  Then calls began to be heard in the IT department.  It is necessary to clarify that the staff in our company is quite advanced.  An ordinary manager should know what PKI is and what it eats with.  Therefore, the most gentle that we received by phone or in jira, there were messages like "Some strange spam came to us.  Spin the spam filters.  Closer to dinner, programmers came to work, and they became interested in our letters.  Our mailing server was discovered fairly quickly, and here began a slight panic - were we hacked?  I had to spend a little explanatory work with a number of managers and quench the panic, but the word of mouth was unstoppable.  At this stage, we realized that we made one mistake. </p><br><blockquote>  You should not use intranet resources to host the system.  Even if you control the DNS, you can simply ping your domain and understand that it is inside the network.  Rent a virtual machine off-network and configure DNS for it, or buy several domains for the full purity of the experiment. </blockquote><p>  Starting from the second stage, we have already corrected.  We have no such problem. </p><br><h1 id="buhgalteriya">  Accounting </h1><br><p>  A separate story deserves the reaction of accounting.  Accounting takes part in the payment of salaries to employees, and having received our "letters of happiness from Sberbank", could not but respond.  She did it violently and beautifully.  Better reaction in real "phishing" can not be imagined!  Bookkeeping did three things.  First, they called Sberbank and clarified the authenticity of the letters.  Sberbank explained that this is phishing, you do not need to download anything and follow the links.  Secondly, the accounting staff reported to the IT department about the spamming incident.  And the most valuable, the accounting department warned all employees of the company about the danger of the letters received. </p><br><img src="https://habrastorage.org/web/9b9/f5d/242/9b9f5d2428464c2fb97e70de31a3d6d7.png"><br><p>  Let me remind you once again that this was not a staged, but a real reaction of the company's employees.  In addition to the management of the company, nobody knew about the planned letters.  At the first stage, it was important for us to understand how the company will behave in a phishing attack.  After a subsequent analysis and analysis of the situation, we realized that a partially violent reaction was partially provoked by our second mistake: </p><br><blockquote>  Do not make the newsletter to everyone at once.  Such broadcasts cause quick effect of word of mouth and in the first stage can distort the real problem.  It is necessary to divide employees into groups so that employees with the same mailing are far from each other and cannot quickly exchange suspicions.  Mailings should be quantized and avoid mass mailing at one time. </blockquote><br><h1 id="socialnye-seti">  Social networks </h1><br><p>  Employees use social networks, and we simultaneously monitored their reactions to these resources. </p><br><img src="https://habrastorage.org/web/648/60a/903/64860a90384a45bfa08927054e70c64c.jpg"><br><p><br>  The posts caused interesting discussions (it should be noted that the ‚Äútusovka‚Äù of our employees is very ‚Äúi-Chechnaya‚Äù). </p><br><img src="https://habrastorage.org/web/6c0/114/1a7/6c01141a71434089910ce8bffb33a22a.jpg"><br><p><br>  Discussed interesting theory of obtaining a base of postal addresses. </p><br><img src="https://habrastorage.org/web/2c7/902/e82/2c7902e8247d4d28a41884e90297799e.jpg"><br><p><br></p><br><h1 id="obuchenie">  Training </h1><br><p>  A special page was created for employee training, where simple examples explained how it can be understood that a letter is phishing.  I will give here a small example from the page, and at the end of the article in the archive I will attach its full version. </p><br><img src="https://habrastorage.org/web/531/35f/fd3/53135ffd388240e89bc4292d3f68a4e4.png"><br><h1 id="kontrolnyy-etap">  Control stage </h1><br><p>  The second stage was already proceeding calmly enough.  There was neither a heated discussion nor conspiracy theories.  Those who followed the link found themselves on our training page and understood that this was ‚Äúthe IT department started the test again‚Äù.  More interesting was the reaction to the control stage of testing without pages of training.  It can be characterized by the following ticket: </p><br><img src="https://habrastorage.org/web/2db/a0f/2e4/2dba0f2e450b43d6bd654dd7cea5a0e4.png"><br><p><br>  More and more employees reacted as we needed. </p><br><h1 id="itogi">  Results </h1><br><p>  What we finally managed to achieve: </p><br><img src="https://habrastorage.org/web/1a8/903/b4b/1a8903b4be584459822e3593a8af2f9a.png"><br><p>  Most importantly, we taught employees not to follow suspicious links.  From 39% at the first stage, we managed to reduce the number of those who transferred to 9%.  Those.  the perimeter of a possible attack was reduced by 4 times.  The number of people who began not only to ignore phishing emails, but began to report them, increased.  It should be noted separately that the system records specific individuals, and it is quite possible to work personally with the remaining 9%, which we successfully do. </p><br><h1 id="vmesto-zaklyucheniya">  Instead of concluding, </h1><br><p>  I want to give a few more letters and attach links to archives with samples of phishing letters and a training page. </p><br><img src="https://habrastorage.org/web/8ee/218/9e4/8ee2189e42eb47af81c6a8fefb265c16.jpg"><br><p>  This letter had a certain "success" at the control stage. </p><br><img src="https://habrastorage.org/web/266/278/eac/266278eac54843228cac96d8badae3d4.jpg"><br><p>  In the reporting period, tax letters are very relevant. </p><br><img src="https://habrastorage.org/web/5f8/61f/ad0/5f861fad0ae541f293cdd4b0c6873fd8.jpg"><br><p>  Phishing banks never lose their relevance. <br>  As promised, I attach two archives: </p><br><ul><li>  <a href="https://owncloud.aktiv-company.ru/owncloud/s/uqEQ4ftCBdlIsuj">Tutorial page</a> </li><li>  <a href="https://owncloud.aktiv-company.ru/owncloud/s/FeRSYJ42QMirjEp">Phishing email examples</a> </li></ul><br><p>  Train your company staff.  Arrange a variety of checks.  And do it not once, but organize checks on a regular basis.  One time people may not be enough.  If you do not do this, the attacker will make it and the attack can be successful. </p></div>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <p>Source: <a href="https://habr.com/ru/post/329538/">https://habr.com/ru/post/329538/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../329524/index.html">Friday discussion: Russian vs foreign IT - company. Why everyone wants to work at Google</a></li>
<li><a href="../329528/index.html">Development of a chess program</a></li>
<li><a href="../329530/index.html">What did you encounter when translating the project to Android Studio 3.0 Preview and Gradle 4.0-milestone-1</a></li>
<li><a href="../329532/index.html">Understanding the Conductor</a></li>
<li><a href="../329536/index.html">The path to transducers in pure javascript</a></li>
<li><a href="../329540/index.html">Open days before launching a new Java course</a></li>
<li><a href="../329542/index.html">Using statistics in PostgreSQL to optimize performance - Alexey Ermakov</a></li>
<li><a href="../329544/index.html">Start of big data project: 6 important issues</a></li>
<li><a href="../329546/index.html">To the question of constants</a></li>
<li><a href="../329550/index.html">Oddities of Generic Java Types</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>