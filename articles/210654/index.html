<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Direct entry to the 1C: Enterprise Directory via Linq on the example of working with Asp.Net users</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Direct entry to the 1C: Enterprise Directory via Linq on the example of working with Asp.Net users 
 This article describes how to register a website ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Direct entry to the 1C: Enterprise Directory via Linq on the example of working with Asp.Net users</h1><div class="post__text post__text-html js-mediator-article"><h1>  Direct entry to the 1C: Enterprise Directory via Linq on the example of working with Asp.Net users </h1><br>  This article describes how to register a website user in the 1C: Enterprise 8 directory located in the MSSQL database.  Further, the user can log in to the site using the login and password specified during registration.  The work is conducted only with a reference book called Users and does not affect the system of working with users through the 1C configurator. <br><br>  Only the simplest registration and authorization operations are described.  Auxiliary operations for password recovery, informing via E-mail are not covered.  Work is conducted by direct access to the MSSQL database through Linq.  The approach allows you to use both the Asp.Net and 1C functionality at the same time, as well as do without intermediaries in the form of different CMS. <br><br><a name="habracut"></a>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h2>  Creating a directory Users in 1C: Enterprise </h2><br>  It is assumed that the 1C information database is created and located on the MSSQL server in the local network or remotely at the hosting provider. <br><br>  It is necessary through the configurator to create a directory Users with a code in the form of a string of 9 characters and the name of 25 characters. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/408/f2d/51b/408f2d51b715af5bd97cb692a69be62a.png" alt="Creating a directory Users in 1C: Enterprise"><br><br>  The structure of the fields is the following (the list of fields is taken in abundance for further functionality expansion): <br><ul><li>  Active: Boolean </li><li>  DateRegister: Date </li><li>  Email: Line 255, variable </li><li>  Password: Line 32 Variable </li><li>  Password Prefix: Line 16 Variable </li><li>  Language: Line 255 variable </li><li>  Format Date: Line 20 Variable </li><li>  Activation Code: Line 36 Variable </li><li>  Password Recovery Code: Line 36 Variable </li><li>  DateActivity: Date </li></ul><br><br>  The interface of the created directory is immediately accessible from 1C, which saves time on creating the administration interface.  This is one of the advantages of the method when the whole arsenal of 1C: Enterprise tools is available.  Other advantages include: deletion mark without physical deletion, filters and search, ability to build ACS queries, exchange with other 1C databases through data conversion, etc. <br><br>  For example, the list of registered users is available immediately after defining the directory in the configurator: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/eba/7b8/46f/eba7b846f8ad5937f81d174393ae6f56.png" alt="A list of registered users is available immediately after defining the directory in the configurator"><br><br>  And also the user edit form: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/aed/f81/745/aedf81745eaad8dd45d8a65d150747fd.png" alt="User edit form interface"><br><br><h2>  Setting up direct access to the MSSQL database </h2><br><br>  To access the data, you need to generate a cs file with LINQ definitions.  To generate, you need to use the LinqTo1C utility, specifying which directories you need to unload, as well as the connection string to the MSSQL database.  For our case, it is enough to unload only the Directory. Users. <br><br>  Starting from version 1.2, LinqTo1C allows you to create a configuration file with the ability to change data.  Despite the advantages of direct recording to the database, the method has disadvantages.  For example, information recorded in this way will not be automatically registered in exchange plans.  You yourself need to take care of maintaining the correctness of the data: generate a unique code, maintain integrity with other objects, check the newly entered data. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/903/4a3/762/9034a3762050911e799e08d3c5ddfa45.png" alt="LinqTo1C utility"><br><br>  As a result of the utility, 2 files will appear: dbml - for visual presentation and cs-for adding to the C # project.  It looks like this in the Visual Studio editor: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/629/d91/907/629d91907ab084e5d62e869868f7682c.png" alt="LinqTo1C Result in Visual Studio"><br><br><h2>  Asp.Net code for registration and authorization </h2><br>  The code is for Asp.Net MVC, where AccountController is responsible for the user's work. <br><br>  AccountController: <br><pre><code class="cs hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> ActionResult </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">LogOn</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { ViewBag.Title = Resources.Account.LogonTitle; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> View(<span class="hljs-string"><span class="hljs-string">"~/Views/Dotnet/Logon.cshtml"</span></span>); } [HttpPost] <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> ActionResult </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">LogOn</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">LogOnModel model, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">string</span></span></span></span><span class="hljs-function"><span class="hljs-params"> returnUrl</span></span></span><span class="hljs-function">)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (ModelState.IsValid) { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (MembershipService.ValidateUser(model.UserName, model.Password)) { FormsService.SignIn(model.UserName, model.RememberMe); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (Url.IsLocalUrl(returnUrl)) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> Redirect(returnUrl); } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> RedirectToAction(<span class="hljs-string"><span class="hljs-string">"Index"</span></span>, <span class="hljs-string"><span class="hljs-string">"Dotnet"</span></span>); } } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { ModelState.AddModelError(<span class="hljs-string"><span class="hljs-string">""</span></span>, <span class="hljs-string"><span class="hljs-string">""</span></span>); } } <span class="hljs-comment"><span class="hljs-comment">// If we got this far, something failed, redisplay form return View("~/Views/Dotnet/Logon.cshtml", model); } public ActionResult LogOff() { FormsService.SignOut(); return RedirectToAction("Index", "Dotnet"); } public ActionResult Register() { ViewBag.Title = Resources.Account.RegisterTitle; ViewBag.PasswordLength = MembershipService.MinPasswordLength; return View("~/Views/Dotnet/Register.cshtml"); } [HttpPost] public ActionResult Register(RegisterModel model) { if (ModelState.IsValid) { // Attempt to register the user MembershipCreateStatus createStatus = MembershipService.CreateUser(model.UserName, model.Email, model.Password, model.ConfirmPassword); if (createStatus == MembershipCreateStatus.Success) { FormsService.SignIn(model.UserName, false /* createPersistentCookie */); return RedirectToAction("Index", "Dotnet"); } else { ModelState.AddModelError("", AccountValidation.ErrorCodeToString(createStatus)); } } // If we got this far, something failed, redisplay form ViewBag.PasswordLength = MembershipService.MinPasswordLength; return View("~/Views/Dotnet/Register.cshtml", model); }</span></span></code> </pre> <br><br>  Calls like <code>FormsService.SignOut</code> and <code>FormsService.SignIn</code> not so interesting as they are redirected to the standard methods: <code>FormsAuthentication.SignOut</code> and <code>FormsAuthentication.SetAuthCookie</code> . <br><br>  The <code>AccountMembershipService</code> class accesses the MSSQL database. <br><br>  To register a user, the <code>CreateUser</code> method is <code>CreateUser</code> .  First, possible errors are checked: empty login, password, e-mail, duplicate login / e-mail, password match and password confirmation.  Next, fill in the user field.  The link is assigned a new Guid, the number is searched for as the maximum number + 1. The password is stored as a checksum in a closed one, the checksum is calculated from the user's password and a unique prefix that is stored here in the record. <br><pre> <code class="cs hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> MembershipCreateStatus </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">CreateUser</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">string</span></span></span></span><span class="hljs-function"><span class="hljs-params"> userName, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">string</span></span></span></span><span class="hljs-function"><span class="hljs-params"> email, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">string</span></span></span></span><span class="hljs-function"><span class="hljs-params"> password, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">string</span></span></span></span><span class="hljs-function"><span class="hljs-params"> confirmPassword</span></span></span><span class="hljs-function">)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (String.IsNullOrEmpty(userName)) <span class="hljs-keyword"><span class="hljs-keyword">throw</span></span> <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> ArgumentException(<span class="hljs-string"><span class="hljs-string">"Value cannot be null or empty."</span></span>, <span class="hljs-string"><span class="hljs-string">"userName"</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (String.IsNullOrEmpty(password)) <span class="hljs-keyword"><span class="hljs-keyword">throw</span></span> <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> ArgumentException(<span class="hljs-string"><span class="hljs-string">"Value cannot be null or empty."</span></span>, <span class="hljs-string"><span class="hljs-string">"password"</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (String.IsNullOrEmpty(email)) <span class="hljs-keyword"><span class="hljs-keyword">throw</span></span> <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> ArgumentException(<span class="hljs-string"><span class="hljs-string">"Value cannot be null or empty."</span></span>, <span class="hljs-string"><span class="hljs-string">"email"</span></span>); MembershipCreateStatus status = MembershipCreateStatus.ProviderError; <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">var</span></span> dataContext = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> ElisyCMS(ConfigurationManager.ConnectionStrings[<span class="hljs-string"><span class="hljs-string">"ElisyCMS"</span></span>].ConnectionString)) { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (dataContext..Where(m =&gt; m. == userName &amp;&amp; m. == <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Binary(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> <span class="hljs-keyword"><span class="hljs-keyword">byte</span></span>[]{<span class="hljs-number"><span class="hljs-number">0</span></span>})).Count() != <span class="hljs-number"><span class="hljs-number">0</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> MembershipCreateStatus.DuplicateUserName; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (dataContext..Where(m =&gt; m.Email == email &amp;&amp; m. == <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Binary(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> <span class="hljs-keyword"><span class="hljs-keyword">byte</span></span>[] { <span class="hljs-number"><span class="hljs-number">0</span></span> })).Count() != <span class="hljs-number"><span class="hljs-number">0</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> MembershipCreateStatus.DuplicateEmail; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (password != confirmPassword) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> MembershipCreateStatus.InvalidPassword; <span class="hljs-keyword"><span class="hljs-keyword">try</span></span> {  user = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> (); user. = Guid.NewGuid().ToByteArray(); user. = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> <span class="hljs-keyword"><span class="hljs-keyword">byte</span></span>[] { <span class="hljs-number"><span class="hljs-number">0</span></span> }; user. = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> <span class="hljs-keyword"><span class="hljs-keyword">byte</span></span>[] { <span class="hljs-number"><span class="hljs-number">0</span></span> }; <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> codeRequest = <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> a <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> dataContext. <span class="hljs-keyword"><span class="hljs-keyword">where</span></span> Convert.ToInt32(a.) &gt; <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-keyword"><span class="hljs-keyword">orderby</span></span> Convert.ToInt32(a.) <span class="hljs-keyword"><span class="hljs-keyword">descending</span></span> <span class="hljs-keyword"><span class="hljs-keyword">select</span></span> Convert.ToInt32(a.); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> lastCode = codeRequest.Take(<span class="hljs-number"><span class="hljs-number">1</span></span>).FirstOrDefault(); user. = (lastCode + <span class="hljs-number"><span class="hljs-number">1</span></span>).ToString().PadLeft(<span class="hljs-number"><span class="hljs-number">9</span></span>, <span class="hljs-string"><span class="hljs-string">'0'</span></span>); user. = userName; <span class="hljs-keyword"><span class="hljs-keyword">byte</span></span>[] saltBytes = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> <span class="hljs-keyword"><span class="hljs-keyword">byte</span></span>[<span class="hljs-number"><span class="hljs-number">8</span></span>]; <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> RNGCryptoServiceProvider().GetBytes(saltBytes); user. = Convert.ToBase64String(saltBytes); <span class="hljs-keyword"><span class="hljs-keyword">byte</span></span>[] passwordBytes = System.Text.Encoding.UTF8.GetBytes(user. + password); <span class="hljs-keyword"><span class="hljs-keyword">byte</span></span>[] hash = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> SHA1CryptoServiceProvider().ComputeHash(passwordBytes); user. = Convert.ToBase64String(hash); user. = DateTime.Now; user. = DateTime.Now; user. = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Binary(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> <span class="hljs-keyword"><span class="hljs-keyword">byte</span></span>[] { <span class="hljs-number"><span class="hljs-number">1</span></span> }); user. = System.Threading.Thread.CurrentThread.CurrentUICulture.Name; <span class="hljs-comment"><span class="hljs-comment">//user. = Guid.NewGuid().ToString(); user.Email = email; dataContext..InsertOnSubmit(user); dataContext.SubmitChanges(); return MembershipCreateStatus.Success; } catch (Exception ex) { return MembershipCreateStatus.ProviderError; } } return status; }</span></span></code> </pre><br>  For authorization, the ValidateUser method is used, which, after checking the parameters, checks the presence of the user in the database, the activity flag and tries to compare the checksum of the password with the calculated checksum of the transmitted password and the unique prefix. <br><pre> <code class="cs hljs"> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">bool</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">ValidateUser</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">string</span></span></span></span><span class="hljs-function"><span class="hljs-params"> userName, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">string</span></span></span></span><span class="hljs-function"><span class="hljs-params"> password</span></span></span><span class="hljs-function">)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (String.IsNullOrEmpty(userName)) <span class="hljs-keyword"><span class="hljs-keyword">throw</span></span> <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> ArgumentException(<span class="hljs-string"><span class="hljs-string">"Value cannot be null or empty."</span></span>, <span class="hljs-string"><span class="hljs-string">"userName"</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (String.IsNullOrEmpty(password)) <span class="hljs-keyword"><span class="hljs-keyword">throw</span></span> <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> ArgumentException(<span class="hljs-string"><span class="hljs-string">"Value cannot be null or empty."</span></span>, <span class="hljs-string"><span class="hljs-string">"password"</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">var</span></span> dataContext = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> ElisyCMS(ConfigurationManager.ConnectionStrings[<span class="hljs-string"><span class="hljs-string">"ElisyCMS"</span></span>].ConnectionString)) { <span class="hljs-keyword"><span class="hljs-keyword">var</span></span>  = dataContext..Where(m =&gt; m..ToUpper() == userName.ToUpper()).FirstOrDefault(); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ( == <span class="hljs-literal"><span class="hljs-literal">null</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-literal"><span class="hljs-literal">false</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (..ToArray()[<span class="hljs-number"><span class="hljs-number">0</span></span>] == <span class="hljs-number"><span class="hljs-number">0</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-literal"><span class="hljs-literal">false</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (String.IsNullOrWhiteSpace(.)) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-literal"><span class="hljs-literal">true</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">byte</span></span>[] passwordBytes = System.Text.Encoding.UTF8.GetBytes(. + password); <span class="hljs-keyword"><span class="hljs-keyword">byte</span></span>[] hash = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> SHA1CryptoServiceProvider().ComputeHash(passwordBytes); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> Convert.ToBase64String(hash).Equals(.); } }</code> </pre></div><p>Source: <a href="https://habr.com/ru/post/210654/">https://habr.com/ru/post/210654/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../210642/index.html">CES 2014 results: new Samsung cameras</a></li>
<li><a href="../210644/index.html">Cheat sheet for C ++ 11 for printing on the circle</a></li>
<li><a href="../210646/index.html">The task of changing the voice. Part 2. The physical / acoustic approach to the presentation of the speech signal</a></li>
<li><a href="../210648/index.html">Evernote sync speed quadrupled</a></li>
<li><a href="../210652/index.html">Who needs nested tasks in a project management system?</a></li>
<li><a href="../210656/index.html">Horizontal scaling PHP applications. Part 1</a></li>
<li><a href="../210660/index.html">What to do if the client is a friend / good friend?</a></li>
<li><a href="../210664/index.html">My comfortable home</a></li>
<li><a href="../210666/index.html">Access to the file system from the Portable Class Library (PCL)</a></li>
<li><a href="../210668/index.html">Two or more jobs on the same computer - free solution</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>