<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>What happens to the phone when driving - mobility procedures in cellular networks</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Quite often people ask questions: ‚Äú What happens when the phone goes to another base station? "," And how is the transition? "," And what does the pho...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>What happens to the phone when driving - mobility procedures in cellular networks</h1><div class="post__text post__text-html js-mediator-article">  Quite often people ask questions: ‚Äú <b>What happens when the phone goes to another base station?</b>  "," <b>And how is the transition?</b>  "," <b>And what does the phone do when it does nothing?</b>  " etc.  Answers to these questions exist, but they are somewhat beyond the scope of ordinary popular science reviews.  Some of the questions were described in detail a little earlier, in the <a href="http://habrahabr.ru/company/beeline/blog/202216/">topic of</a> my colleague about the radiation of phones. <br><br>  In order to highlight this topic from the point of view of the operator‚Äôs network elements, one needs to dive deep enough into the technology and signaling of mobile communication.  First, you need to agree on the terminology that is used when describing the transition processes between base stations and cellular communication standards. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/7b2/9b5/771/7b29b57711fca9b0ffb7290b114aa814.png" alt="image"><br>  <i>The main nodes in mobile networks GSM (2G) / UMTS (3G)</i> <a name="habracut"></a>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h4>  Knots </h4><br><ul><li>  Base stations: BTS - GSM standard, NodeB - UMTS standard; </li><li>  Controllers: BSC - GSM standard;  RNC - UMTS radio network; </li><li>  MSC - 2G / 3G voice call switch; </li><li>  SGSN - 2G / 3G Packet Services Node; </li><li>  A UE is a terminal, for example, a mobile phone.  Next, I will call the UE "phone" for simplicity; </li><li>  Um, Abis, Gb, A - 2G logical interfaces described in the 3GPP TS 23.002 "Network architecture" standard; </li><li>  Uu, Iub, IuCS, IuPS - 3G logical interfaces described in the 3GPP TS 23.002 "Network architecture" standard. </li></ul><br><br><h4>  States </h4><br><ul><li>  Idle Mode - the state of the user equipment when it is not in use (voice or other user traffic is not processed); </li><li>  Busy State - the state of the phone or another UE at the time of working with voice service; </li><li>  Reselect - the process of changing the frequency, code or standard of communication by the phone in the Idle Mode state.  Switching the phone between base stations when it is in your pocket is a special case of the Reselect process; </li><li>  CS Handover is the process of changing the frequency, code, or standard by user equipment in the Busy State state.  Switching the phone between base stations when you are talking is a special case of the CS Handover process. </li></ul><br>  The procedures associated with mobility for data services are much more complex than voice, but they are approximately similar in nature, so we consider only voice. <br><br><h4>  Switching between base stations </h4><br>  The procedure for switching the subscriber between base stations in the idle state - Reselection.  This procedure takes place in a fully automatic mode in any standard of mobile communication.  By the way, therefore, those who at least know a little theory, do not give in to the calls of intruders with stories like: "We switch your phone to another base station, and to do this, type the following combination on the phone ....". <br><br>  Situation: our subscriber moves from 2G BTS 1 to 2G BTS 2. The BSC controller sends to the phone a list of neighboring frequencies that need to be measured.  A mobile phone measures the signal level of base stations from this list approximately twice a second and periodically sends reports with measurement results to a serving base station.  These reports are then collected on the BSC controller.  If at some point in time the power or quality of the signal from the serving base station becomes worse than recorded in the BSC settings, and the signal level from the neighboring base station meets the re-selection criteria, a change in the serving frequency is initiated.  Cell selection criteria are described by the formula: <br><br> <code>C1 = RLA_C ‚Äì RXLEV_ACCES_MIN ‚Äì max (B,0) &gt;0,  B = MS_TXPWR_MAX_CCH - P</code> <br> <br>  Where RLA_C is the measured average radio signal power, dBm; <br>  RXLEV_ACCESS_MIN - the minimum value of the received signal power for access to a cell, dBm; <br>  MS_TXPWR_MAX_CCH - maximum allowed output power of the UE when accessing the network, dBm; <br>  P is the maximum output power of the UE (depends on the class of the UE), dBm; <br><br>  Traditionally, such procedures are described as a flow of signaling messages between the nodes of the Message Flow network. <br><img src="https://habrastorage.org/getpro/habr/post_images/121/e5c/53e/121e5c53ed94ddc2d65465ab258a82ea.png" alt="image"><br><br><h4>  The procedure of reselection in the GSM-network </h4><br>  After changing the frequency and the serving base station, the Location Area and (if necessary) the Routing Area are changed.  At this point you should pay attention, because it is this that determines the change in the pricing of the UE.  Billing systems (servers that provide online billing) as a trigger for selecting a particular tariff plan use the most often the Location Area Code, although, if necessary, the zone can be detailed to a cell identifier - Cell Global Identity. <br><br>  To give a rough idea of ‚Äã‚Äãwhat a Location Area is, you can give such a simple example of LAC distribution: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/3ee/207/5c2/3ee2075c222647a1accda44bf401a2fb.png" alt="image"><br>  <i>Distribution Location Area Code</i> <br><br>  All that we have described is the simplest case of transition between two GSM base stations in the absence of services mode. <br><br>  We describe the second option: the transition between GSM and UMTS base stations, while the UE must provide voice service first in GSM, and then (without affecting the subscriber‚Äôs perception) in UMTS.  This is an intersystem voice handover procedure. <br><br>  The initial state - the subscriber with the phone made a call while in the 2G BTS 2 service area, and moves towards the 3G NodeB until the radio conditions change to such a level that to save the conversation, you need to switch the conversation to the 3G NodeB. <br><br>  The approach to estimating the need to change the serving base station is the same as before: the UE constantly measures the signal level and quality from the neighboring 2G / 3G base stations and sends measurements to the BSC controller.  In case of degradation of the power or signal quality of the serving base below a given criterion, the BSC controller initiates a base station shift with preliminary allocation of the necessary resources at all mobile network nodes involved in this procedure. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/370/2df/46e/3702df46e4118d85bb873b581cbe2694.png" alt="image"><br>  <i>Handover from GSM (2G) to UMTS (3G)</i> <br><br>  Of course, this is a very conditional Message Flow, in which many messages are missed and the option with the minimum possible number of network elements involved is selected.  However, even here you can understand how difficult this procedure is and how many settings must be correctly performed in the operator‚Äôs network to successfully perform such a familiar operation for the subscriber.  If someone wants to dive into the world of alarm, I can recommend the technical specification of 3GPP TS 23.009 ‚ÄúHandover procedures‚Äù, which deals with many complex options for moving a subscriber. <br><br><h4>  Returning to the questions that were asked and because of which, in fact, this whole theory was raised </h4><br><br>  <b>- How do base stations transfer a subscriber to each other?</b> <br><ul><li>  In the Idle mode (that is, without the provision of services) - based on measurements of the power and quality of the radio signal by simply reassigning the radio channel at the new base station; </li><li>  in Busy mode (with the provision of voice service) - based on the same measurements, but with preliminary reservation of all necessary resources in the mobile network; </li></ul><br>  <b>- How does billing occur when making a transition between base stations, for example, between a home Femto AP and a standard base station?</b> <br>  UE is charged based on its geographical location (Location Area Code) or, if necessary, more precise positioning, according to the cell identifier - Cell Global Identity.  The change of the Location Area occurs using the special procedure ‚ÄúLocation Area Update‚Äù, and this procedure is performed in the Idle mode.  Which means: if you started a conversation at one base station (Femto in your home) with a specific LAC and moved into the coverage area of ‚Äã‚Äãanother base with a different LAC (left the apartment), then billing will be made according to the tariff of the base station where the conversation started; <br><br>  <b>- How does the tariffing occur, if we, without interrupting the conversation, move a considerable distance, for example, to another city?</b> <br>  As described above, before the call is completed, the call will be charged at the rate corresponding to the base station where the call was started.  The only limitation specified in the standard: Handover between base stations located in different countries is prohibited, so when crossing the border, the call will be interrupted in any case and the phone will register in the new network with new tariffs; <br><br>  <b>- How does the subscriber switch to the ‚Äúbig cell‚Äù in case of an unexpected disappearance of the ‚Äúsmall‚Äù (power off at the micro base station on the pole, or the Femto base in your home)?</b> <br>  You cannot save such a call and quickly switch it to another database, since no signal message described above was sent to the system, and the network ‚Äúdoes not know‚Äù that this phone needs to be allocated radio resources somewhere else.  So in this case, the conversation will be interrupted, the phone will make the Reselect procedure in Idle mode, and there you can make a call again; <br><br>  <b>- What happens if the neighboring database is not registered or is not registered correctly?</b> <br>  This is the case when a break of communication, so unloved by all (in the terminology of the operator - Call Drop), occurs.  The phone will save the conversation at the old base station for as long as possible until the radio parameters are sufficient to save the conversation, after which the conversation is interrupted and the phone makes a Reselect; <br><br>  <b>- What will happen if we leave the coverage area of ‚Äã‚Äãthe home network during a call to the rescue service at number 112?</b> <br>  You can call number 112, even if there is no coverage from your operator, but there is coverage from any other operator.  However, to do a Handover when the coverage from your operator to the base station of another operator disappears is almost certainly not possible.  After all, in order for a Handover to be possible, we must explicitly register all the base stations allowed in this procedure, and only the own base stations are considered as candidates for voice switching in the operator‚Äôs network.  Therefore, the conversation even to the number 112 will be interrupted, but then you will be able to dial the number again, even if there is no coverage from the "home" operator. </div><p>Source: <a href="https://habr.com/ru/post/202498/">https://habr.com/ru/post/202498/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../202484/index.html">WidLib - declarative js framework for building widgets</a></li>
<li><a href="../202486/index.html">Reduction of dimensions in the linear binary classification problem (eg SVM)</a></li>
<li><a href="../202488/index.html">On content filtering in schools. Problems</a></li>
<li><a href="../202490/index.html">How I went to World Usability Day</a></li>
<li><a href="../202496/index.html">2GIS: yesterday, today, tomorrow</a></li>
<li><a href="../202500/index.html">Acronis True Image: backup strategies</a></li>
<li><a href="../202502/index.html">Processing text objects in ERP-systems</a></li>
<li><a href="../202506/index.html">The number of dangerous domains increased by 67%</a></li>
<li><a href="../202508/index.html">Modem 1200KN-01. Made in USSR</a></li>
<li><a href="../202514/index.html">Sold two million Raspberry Pi</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>