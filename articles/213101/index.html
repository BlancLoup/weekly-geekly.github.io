<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Vulnerability in a router or as accidentally "spoil" the image of the company</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="There is such a fairly popular line of routers in Europe - AVM Fritz! Box. This router and mini PBX for VOIP- and for analog or ISDN-telephony and med...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Vulnerability in a router or as accidentally "spoil" the image of the company</h1><div class="post__text post__text-html js-mediator-article">  There is such a fairly popular line of routers in Europe - <a href="http://www.avm.de/">AVM</a> Fritz! Box.  This router and mini PBX for VOIP- and for analog or ISDN-telephony and media server, and in general all you want in one. <br>  Especially top models of AVM have always been distinguished by ‚Äúintelligence and wit‚Äù (TM).  Up to the point that some models have a "smart home" system (based on the <a href="http://www.fhem.de/">FHEM</a> server) and a bunch of other goodies. <br><div class="spoiler">  <b class="spoiler_title">Same call redirection feature, for example.</b> <div class="spoiler_text">  For example, a call from a cellular phone from Germany to Russia is usually very expensive, but Fritz can be configured so that the incoming call to one of the lines will redirect (via another VOIP line) to the Russian number dialed then.  Thus, you can call ‚Äúthrough the house‚Äù abroad from a mobile phone two orders of magnitude cheaper ... <br></div></div>  Your humble servant tightly hooked on Fritz years dtsat ago and never regretted (until recently). <br>  I will say right away - the vulnerability is putting it mildly - this is just a huge hole.  And in my humble opinion, in this whole story, AVM did not quite behave, let‚Äôs say, adequately. <br><br><a name="habracut"></a>  It all started a couple of weeks ago (I don‚Äôt set the dates - it‚Äôs not important).  So, the history is in order, so to speak, laid out on the shelves and I think (if memory serves) chronologically true: <ul><li>  The ‚Äúyellow‚Äù scandal ‚ÄúA lot of people got money‚Äù flared up in the media, and it was at their expense that very expensive calls were made, sometimes in the amount of very good money. </li><li>  providers are declared the culprit, until (relatively quickly by the way) they find the true reason - namely, the vulnerability in the Fritz! Box; </li><li>  AVM "recognizes" the possibility of vulnerability. </li><li>  AVM recognizes the presence of a vulnerability and declares that the vulnerability has been found, it is very meager and, in my opinion, it is not entirely successful that an attempt is made to fall on the included remote access to the router.  While they are analyzing and they have not fixed the vulnerability, it is recommended to turn it off. <br>  For a minute, there are several Fritz ones (remote accesses): <br>  1) via VPN (disabled by default) <br>  2) via https to the web management console (disabled by default) <br>  3) according to a special protocol for fine tuning by the provider (enabled by default) <br></li><li>  AVM clarifies that this https access to the web console is full access to all functions.  But does not explain what it is fraught with. </li><li>  A day later, very little, after all, is explained by what it is fraught with.  And it is recommended to change all passwords (system, voip, etc.), check logs and every other trifle.  On the hole again, no specifics </li><li>  AVM rolls out the update for about 30 models.  My 7390 (standing out) is updated automatically, probably after the "forcing" by some signal from the provider.  I update the second (internal) 7270, just in case, manually in the evening, after dropping the old firmware onto the disk. </li><li>  Rumors in certain circles ply about the vulnerability, but AVM, apart from the ‚Äúvulnerability in access to the web console‚Äù, goes beyond any specifics.  Although, in part, this is understandable - in Germany alone, tens of millions of sold (or "received" from providers) copies. </li></ul><br>  But after all a little more something was possible? <br><br>  I am companions naturally indignant and not at all satisfied.  In short, the keyboard in the mouth - begins its own investigation. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Unfortunately, for ethical reasons, I will not bore a respected habrasoobrazhestvuyu search details (do not forget tens of millions still in flight, many probably did not even think to update - I have many friends who did it with their hands). <br>  When everything is done, somehow later I will post the second article with details. <br><br><h6>  In the meantime, only the following information about the "hacking" of Fritz! Boxes: </h6><br>  - you surf in the browser and accidentally get on the "bad" page, leaving there besides everything by the way your dynamic (and much worse if static) remote_addr, through which, with open remote access, the criminals climbed into the Fritz console; <br>  - but you also need a password; <br>  - and here is the most interesting thing: each box is able from the web console to save all its ‚Äúsettings‚Äù as a file from the web console; <br>  - in a special way having generated a certain ajax request for a specific Fritz URL, the attacker feeds your browser through this page and, indirectly, Fritz, which can merge the settings file to the owner of the bad page, and you will not notice anything. <br><br>  And there for a minute - all the passwords, including the system, all your calls, phone book, etc.  etc.  I, for example, have a pair of keys for my DynDNS (well, that only for this).  In short, if you dig there, you can find a lot of things. <br>  Theoretically, you can for example (through FHEM) open someone's garage or worse apartment.  This is of course with open remote access (but otherwise the ‚Äúsmart home‚Äù is only from home, which IMHO is not comfortable). <br>  For other scenarios of malicious use of data from the received dump, remote access is absolutely unimportant. <br><br>  As already mentioned, for ethical reasons, so far without specifics - I have already burned so much. <br><br>  No one is insured, and everyone makes mistakes, and by the way, we must pay tribute, AVM fixed them very quickly.  But no, I didn‚Äôt quite fix it - I didn‚Äôt have enough truth.  Total - the sediment remained very, very unpleasant.  You can even say that in this way, the company, which stood in my eyes really high, literally lost <s>to the level of the plinth</s> just a few days, lost all the years over, authority.  Companions share my opinion completely and completely - i.e.  I like as not a pedant, it turns out. <br><br>  <s>How to live?</s> <br>  Good night everyone, and don't forget to upgrade if you suddenly have a Fritz! Box. <br><br>  <b>[UPD]</b> here here is uv.  <a href="http://habrahabr.ru/users/mirasch/" class="user_link">Mirasch is the</a> <s>second comment on the Habr√© opened and poked his nose</s> accused of plagiarism.  So I throw a link to the type of " <a href="http://www.heise.de/newsticker/meldung/Jetzt-Fritzbox-aktualisieren-Hack-gegen-AVM-Router-auch-ohne-Fernzugang-2115745.html">source</a> ".  However, in German you must be strong, in order to comprehend the fall of my depth. <br><br>  <b>[UPD]</b> For those who suddenly need to chew, try to voice my understanding of the situation: <ul><li>  AVM says: the vulnerability is in remote access (which is closed for ‚Äúnormal‚Äù people, and geeks means they are to blame); </li><li>  Was there a boy?  Vulnerability is not quite or rather not at all there; </li><li>  Through this hole, you can really merge everything and everyone at all (and not just geeks, as you might expect), without using remote access at all </li><li>  As an example, one of the possible scenarios ‚Äî an attacker organizes a voip connection using data from a merged dump ‚Äî and the <s>profit is</s> cracking for hours on the phone with very expensive girls; </li><li>  Questions that interest us: <br>  What else was not (before) said? <br>  What has been done so that this does not happen again? <br>  How can they ‚Äúlook into the eyes‚Äù of millions of customers? <br>  Just stupid, and not to look for an alternative? <br></li></ul></div><p>Source: <a href="https://habr.com/ru/post/213101/">https://habr.com/ru/post/213101/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../213081/index.html">BSA offers to earn up to $ 200,000, reporting on the use of pirated software</a></li>
<li><a href="../213083/index.html">Cash Transitions and Personal Transitions</a></li>
<li><a href="../213085/index.html">Search on Drupal 7 using Apache Solr Part 7 - full-text search in Russian</a></li>
<li><a href="../213097/index.html">10 anti-navigation patterns in Android</a></li>
<li><a href="../213099/index.html">10 million pokemon players</a></li>
<li><a href="../213103/index.html">Yandex.Kit: new firmware for smartphones</a></li>
<li><a href="../213107/index.html">[Recommend] Note to Wi-Fi engineer - radio intelligence (podcast and PDF)</a></li>
<li><a href="../213111/index.html">HITACHI Corporate Flash Solution Review</a></li>
<li><a href="../213115/index.html">JPoint 2014 Java Conference FAQ</a></li>
<li><a href="../213119/index.html">Cheating ratings Dungeon Keeper, 500 million installations Temple Run and update iTunes Connect - the main thing for the week for a mobile developer</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>