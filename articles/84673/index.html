<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Wubi - boot recovery after kernel update</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="The note can be useful to those who are just acquainted with Linux and / or installed it through Wubi under Windows. 
 Literally today I ran into a pr...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Wubi - boot recovery after kernel update</h1><div class="post__text post__text-html js-mediator-article"> The note can be useful to those who are just acquainted with Linux and / or installed it through Wubi under Windows. <br>  Literally today I ran into a problem after updating my Ubuntu kernel - Grub stubbornly did not want to boot the system with the new kernel and sent me to its own boot console, without even offering to choose the boot method from the menu.  Googling found that this problem occurs in almost all owners of Ubunt installed via Wubi. <br><a name="habracut"></a><br>  Having rummaged some time in the internet, I found a way to boot Linux with the old kernel from the console is coarse: <br> <code>&gt; insmod ntfs <br> &gt; set root=(hd0,1) #       ,      ls <br> &gt; loopback loop0 /ubuntu/disks/root.disk <br> &gt; set root=(loop0) <br> &gt; linux /boot/vmlinuz-2.6.31-14-generic root=/dev/sda1 loop=/ubuntu/disks/root.disk ro #      <br> &gt; initrd /boot/initrd.img-2.6.31-14-generic #      <br> &gt; boot <br></code> <br>  Everything, the system was loaded.  Now, to save yourself from doing these actions, go to the terminal and run <code>sudo update-grub</code> .  Now it will be rude to show us a menu with a choice of boot options, and we will be offered to boot with both the new kernel (I had version 2.6.31.19) and the old one (I have 2.6.31.14). <br>  Alas, my 19th kernel still refused to boot (and the new version of the kernel after updating to Wubi-installations doesn‚Äôt work for very few), but you could safely use the 14th.  But you want to have a normal system with all the updates. <br>  Go google further.  On viewing the 100,500th comment in the hundredth bugtracker we find the solution to the problem. <br>  In fact, the problem in the bootloader does not manifest itself during a clean installation of Ubunt (not through Wubi) and it is connected with the operation of the Wubi and Grub loader (Grub, if I understood correctly, cannot read files outside the first 4 GB of the partition). <br>  To correct this annoying misunderstanding, download the <code>wubildr</code> file <a href="http://launchpadlibrarian.net/36920146/wubildr">from here</a> and put it in the root of the disk on which we have Wubi installed (don‚Äôt forget to backup our <code>wubildr</code> just in case, you can do it all from Windows).  Now rude will ask us to choose the method of loading.  Feel free to click on the latest version of the kernel and enjoy. <br><br>  Ideally, it would still be worth reinstalling Ubuntu to your partition so as not to encounter such problems, and the system does not work as fast on NTFS as it could.  But if for some reason there is no way to make a clean installation or you just need to restore the files from the personal directories of Linux users, you can simply restore the download in this way, the benefit takes literally 5 minutes. </div>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <p>Source: <a href="https://habr.com/ru/post/84673/">https://habr.com/ru/post/84673/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../84665/index.html">Wacom Intuos 4 M from Ebay or the dollar exchange rate at 120 hryvnia per dollar at customs</a></li>
<li><a href="../84667/index.html">Google Buzz is now available for Android OS 1.5+</a></li>
<li><a href="../84668/index.html">Google acquired a startup reMail</a></li>
<li><a href="../84670/index.html">Zen coding 0.6</a></li>
<li><a href="../84672/index.html">Facebook has overtaken Yahoo</a></li>
<li><a href="../84674/index.html">NOMOBILE.RU at MWC-2010. Third day</a></li>
<li><a href="../84675/index.html">Typos bring Google $ 500 million per year</a></li>
<li><a href="../84677/index.html">Plugin for Redmine</a></li>
<li><a href="../84678/index.html">‚ÄúTomorrow I will stop postponing my business for tomorrow‚Äù</a></li>
<li><a href="../84680/index.html">The glass is half full: the destruction of negative myths about your own business</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>