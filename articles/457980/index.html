<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Neural networks and deep learning: online tutorial, chapter 2</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Content 

- Chapter 1 
- Chapter 2 
 In the last chapter, we saw how neural networks can independently learn weights and offsets using the gradient de...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Neural networks and deep learning: online tutorial, chapter 2</h1><div class="post__text post__text-html js-mediator-article"><div class="spoiler">  <b class="spoiler_title">Content</b> <div class="spoiler_text"><ul><li>  <a href="https://habr.com/ru/post/456738/">Chapter 1</a> </li><li>  <a href="https://habr.com/ru/post/457980/">Chapter 2</a> </li></ul></div></div><br>  In the <a href="https://habr.com/ru/post/456738/">last chapter,</a> we saw how neural networks can independently learn weights and offsets using the gradient descent algorithm.  However, there was a gap in our explanation: we did not discuss the calculation of the gradient of the cost function.  And this is a decent gap!  In this chapter, I will explain a fast algorithm for calculating such gradients, known as backpropagation. <br><br>  The first propagation algorithm was invented in the 1970s, but its importance was not fully realized until the famous work of 1986 written by David Rumelhart, Joffrey Hinton and Ronald Williams.  The paper describes several neural networks in which backward propagation works much faster than in earlier approaches to learning, because of which it has since been possible to use the neural network to solve previously unsolvable problems.  Today, the backpropagation algorithm is the workhorse of learning the neural network. <br><a name="habracut"></a><br>  This chapter contains more mathematics than all the others in the book.  If you do not particularly like the mathematics, you may be tempted to skip this chapter and simply treat back distribution as a black box, the details of which you are ready to ignore.  Why waste time studying them? <br><br>  The reason, of course, is in understanding.  The back propagation is based on the partial derivative ‚àÇC / ‚àÇw of the cost function C by weight w (or offset b) of the network.  The expression shows how quickly the cost changes with changes in weights and offsets.  And although this expression is rather complicated, it has its own beauty, because each of its elements has a natural and intuitive interpretation.  Therefore, back propagation is not just a fast learning algorithm.  He gives us a detailed understanding of how changing weights and offsets changes the whole behavior of the network.  And it is worth it to learn the details. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Considering all this, if you want to simply flip through this chapter or jump to the next one, no problem.  I wrote the rest of the book so that it was understandable, even if we consider the reverse distribution as a black box.  Of course, later in the book there will be moments from which I refer to the results of this chapter.  But at that moment you should understand the main conclusions, even if you did not follow all the arguments. <br><br><h2>  For warming up: a fast matrix approach for computing the output of a neural network </h2><br>  Before discussing backpropagation, let's warm up with a fast matrix algorithm to calculate the output of a neural network.  We actually met with this algorithm by the end of the previous chapter, but I described it quickly, so it is worth re-examining it in more detail.  In particular, it will be a good way to adapt to the record used in back distribution, but in a familiar context. <br><br>  Let's start with a record that allows us to unambiguously denote weights in the network.  We will use w <sup>l</sup> <sub>jk</sub> to denote the weight of the connection of the neuron No. k in the layer No. (l-1) with the neuron No. j in the layer No. 1.  So, for example, the diagram below shows the weight of the connection of the fourth neuron of the second layer with the second neuron of the third layer: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/601/e30/c12/601e30c12826e3b0ffbaff8cb0cab250.png"><br><br>  At first, such a record seems awkward, and requires some effort to get used to.  However, it will soon seem simple and natural to you.  One of its features is the order of the indices j and k.  You might decide that it would be wiser to use j to designate an input neuron, and k for the output, and not vice versa, as we do.  The reason for this feature, I will explain below. <br><br>  We will use similar designations for offsets and network activations.  In particular, b <sup>l</sup> <sub>j</sub> will denote the displacement of the neuron ‚Ññj in the layer ‚Ññl.  a <sup>l</sup> <sub>j</sub> will denote the activation of neuron ‚Ññj in the layer ‚Ññl.  The following diagram shows examples of using this record: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/667/48f/ae1/66748fae19592a332ccaa36db94200c5.png"><br><br>  With such a record, the activation of a <sup>l</sup> <sub>j of</sub> neuron No. <sub>j</sub> in layer No. l is associated with activation in layer No. (l-1) by the following equation (compare with equation (4) and its discussion in the last chapter): <br><br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-1"><span class="MJXp-msubsup" id="MJXp-Span-2"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-3" style="margin-right: 0.05em;">a</span><span class="MJXp-script-box" style="height: 1.86em; vertical-align: -0.64em;"><span class=" MJXp-script"><span><span style="margin-bottom: -0.25em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-5">l</span></span></span></span><span class=" MJXp-script"><span><span style="margin-top: -0.85em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-4">j</span></span></span></span></span></span><span class="MJXp-mo" id="MJXp-Span-6" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mtext" id="MJXp-Span-7">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-8">s</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-9">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-10">g</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-11">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-12">a</span><span class="MJXp-mo" id="MJXp-Span-13" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mtext" id="MJXp-Span-14">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-15">s</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-16">u</span><span class="MJXp-msubsup" id="MJXp-Span-17"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-18" style="margin-right: 0.05em;">m</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-19" style="vertical-align: -0.4em;">k</span></span><span class="MJXp-msubsup" id="MJXp-Span-20"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-21" style="margin-right: 0.05em;">w</span><span class="MJXp-script-box" style="height: 1.86em; vertical-align: -0.64em;"><span class=" MJXp-script"><span><span style="margin-bottom: -0.25em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-25">l</span></span></span></span><span class=" MJXp-script"><span><span style="margin-top: -0.85em;"><span class="MJXp-mrow" id="MJXp-Span-22"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-23">j</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-24">k</span></span></span></span></span></span></span><span class="MJXp-msubsup" id="MJXp-Span-26"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-27" style="margin-right: 0.05em;">a</span><span class="MJXp-script-box" style="height: 1.86em; vertical-align: -0.64em;"><span class=" MJXp-script"><span><span style="margin-bottom: -0.25em;"><span class="MJXp-mrow" id="MJXp-Span-29"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-30">l</span><span class="MJXp-mo" id="MJXp-Span-31">‚àí</span><span class="MJXp-mn" id="MJXp-Span-32">1</span></span></span></span></span><span class=" MJXp-script"><span><span style="margin-top: -0.85em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-28">k</span></span></span></span></span></span><span class="MJXp-mo" id="MJXp-Span-33" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-msubsup" id="MJXp-Span-34"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-35" style="margin-right: 0.05em;">b</span><span class="MJXp-script-box" style="height: 1.86em; vertical-align: -0.64em;"><span class=" MJXp-script"><span><span style="margin-bottom: -0.25em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-37">l</span></span></span></span><span class=" MJXp-script"><span><span style="margin-top: -0.85em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-36">j</span></span></span></span></span></span><span class="MJXp-mo" id="MJXp-Span-38" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mtext" id="MJXp-Span-39">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-40">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-41">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-42">g</span><span class="MJXp-mrow" id="MJXp-Span-43"><span class="MJXp-mn" id="MJXp-Span-44">23</span></span></span></span><div class="MathJax_SVG_Display MathJax_SVG_Processed" style="text-align: center;"><span class="MathJax_SVG" id="MathJax-Element-1-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="38.359ex" height="3.624ex" viewBox="0 -987.6 16515.5 1560.2" role="img" focusable="false" style="vertical-align: -1.33ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-61" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-6C" x="748" y="500"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-6A" x="748" y="-430"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMAIN-3D" x="1198" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-73" x="2505" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-69" x="2974" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-67" x="3320" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-6D" x="3800" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-61" x="4679" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMAIN-28" x="5208" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-73" x="5848" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-75" x="6317" y="0"></use><g transform="translate(6890,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-6D" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-6B" x="1242" y="-213"></use></g><g transform="translate(8237,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-77" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-6C" x="1013" y="500"></use><g transform="translate(716,-327)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-6A" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-6B" x="412" y="0"></use></g></g><g transform="translate(9714,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-61" x="0" y="0"></use><g transform="translate(529,403)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-6C" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMAIN-2212" x="298" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMAIN-31" x="1077" y="0"></use></g><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-6B" x="748" y="-463"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMAIN-2B" x="11681" y="0"></use><g transform="translate(12682,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-62" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-6C" x="607" y="500"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-6A" x="607" y="-430"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMAIN-29" x="13503" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-74" x="14143" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-61" x="14504" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-67" x="15034" y="0"></use><g transform="translate(15514,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMAIN-32"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMAIN-33" x="500" y="0"></use></g></g></svg></span></div><script type="math/tex;mode=display" id="MathJax-Element-1"> a ^ l_j = \ sigma (\ sum_k w ^ l_ {jk} a ^ {l ‚àí 1} _k + b ^ l_j) \ tag {23} </script></p><br><br>  where the sum goes over all neurons k in the layer (l-1).  To rewrite this expression in a matrix form, we define a matrix of weights w <sup>l</sup> for each layer l.  The elements of the weights matrix are simply weights connected to the layer ‚Ññl, that is, the element in the row ‚Ññj and the column ‚Ññk will be w <sup>l</sup> <sub>jk</sub> .  Similarly, for each layer l, we define the displacement vector b <sup>l</sup> .  You probably guessed how it works - the components of the displacement vector are just the values ‚Äã‚Äãof b <sup>l</sup> <sub>j</sub> , one component for each neuron in the layer ‚Ññl.  And finally, we define the activation vector a <sup>l</sup> , whose components will be the activation a <sup>l</sup> <sub>j</sub> . <br><br>  The final ingredient needed to rewrite (23) is the matrix form of vectorization of the function œÉ.  We casually encountered vectorization in the last chapter ‚Äî the idea is that we want to apply the function œÉ to each element of the vector v.  We use the obvious entry œÉ (v) to denote the elementwise use of the function.  That is, the components of œÉ (v) are simply œÉ (v) <sub>j</sub> = œÉ (v <sub>j</sub> ).  For example, if we have a function f (x) = x <sup>2</sup> , then the vectorized form f gives us <br><br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-45"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-46">f</span><span class="MJXp-mo" id="MJXp-Span-47" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mtext" id="MJXp-Span-48">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-49">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-50">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-51">g</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-52">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-53">n</span><span class="MJXp-mrow" id="MJXp-Span-54"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-55">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-56">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-57">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-58">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-59">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-60">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-61">x</span></span><span class="MJXp-mn" id="MJXp-Span-62">2</span><span class="MJXp-mspace" id="MJXp-Span-63" style="width: 0em; height: 0em;"></span><span class="MJXp-mn" id="MJXp-Span-64">3</span><span class="MJXp-mtext" id="MJXp-Span-65">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-66">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-67">n</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-68">d</span><span class="MJXp-mrow" id="MJXp-Span-69"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-70">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-71">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-72">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-73">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-74">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-75">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-76">x</span></span><span class="MJXp-mo" id="MJXp-Span-77" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mo" id="MJXp-Span-78" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mtext" id="MJXp-Span-79">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-80">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-81">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-82">g</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-83">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-84">n</span><span class="MJXp-mrow" id="MJXp-Span-85"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-86">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-87">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-88">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-89">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-90">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-91">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-92">x</span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-93">f</span><span class="MJXp-mo" id="MJXp-Span-94" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mn" id="MJXp-Span-95">2</span><span class="MJXp-mo" id="MJXp-Span-96" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mspace" id="MJXp-Span-97" style="width: 0em; height: 0em;"></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-98">f</span><span class="MJXp-mo" id="MJXp-Span-99" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mn" id="MJXp-Span-100">3</span><span class="MJXp-mo" id="MJXp-Span-101" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mtext" id="MJXp-Span-102">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-103">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-104">n</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-105">d</span><span class="MJXp-mrow" id="MJXp-Span-106"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-107">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-108">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-109">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-110">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-111">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-112">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-113">x</span></span><span class="MJXp-mo" id="MJXp-Span-114" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mtext" id="MJXp-Span-115">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-116">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-117">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-118">g</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-119">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-120">n</span><span class="MJXp-mrow" id="MJXp-Span-121"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-122">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-123">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-124">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-125">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-126">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-127">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-128">x</span></span><span class="MJXp-mn" id="MJXp-Span-129">4</span><span class="MJXp-mspace" id="MJXp-Span-130" style="width: 0em; height: 0em;"></span><span class="MJXp-mn" id="MJXp-Span-131">9</span><span class="MJXp-mtext" id="MJXp-Span-132">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-133">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-134">n</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-135">d</span><span class="MJXp-mrow" id="MJXp-Span-136"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-137">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-138">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-139">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-140">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-141">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-142">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-143">x</span></span><span class="MJXp-mtext" id="MJXp-Span-144">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-145">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-146">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-147">g</span><span class="MJXp-mrow" id="MJXp-Span-148"><span class="MJXp-mn" id="MJXp-Span-149">24</span></span></span></span><div class="MathJax_SVG_Display MathJax_SVG_Processed"><span class="MathJax_SVG" id="MathJax-Element-2-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="76.867ex" height="12.419ex" viewBox="0 -832 33095.6 5347" role="img" focusable="false" style="vertical-align: -10.487ex; max-width: 638px;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><g transform="translate(12757,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-66" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMAIN-28" x="550" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-62" x="1190" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-65" x="1619" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-67" x="2086" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-69" x="2566" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-6E" x="2912" y="0"></use><g transform="translate(3512,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-62" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-6D" x="429" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-61" x="1308" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-74" x="1837" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-72" x="2199" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-69" x="2650" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-78" x="2996" y="0"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMAIN-32" x="7081" y="0"></use></g><g transform="translate(8745,-1433)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMAIN-33" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-65" x="750" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-6E" x="1217" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-64" x="1817" y="0"></use><g transform="translate(2341,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-62" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-6D" x="429" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-61" x="1308" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-74" x="1837" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-72" x="2199" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-69" x="2650" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-78" x="2996" y="0"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMAIN-29" x="5909" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMAIN-3D" x="6576" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-62" x="7883" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-65" x="8312" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-67" x="8779" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-69" x="9259" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-6E" x="9605" y="0"></use><g transform="translate(10205,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-62" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-6D" x="429" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-61" x="1308" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-74" x="1837" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-72" x="2199" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-69" x="2650" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-78" x="2996" y="0"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-66" x="13774" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMAIN-28" x="14324" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMAIN-32" x="14714" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMAIN-29" x="15214" y="0"></use></g><g transform="translate(8940,-2866)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-66" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMAIN-28" x="550" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMAIN-33" x="940" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMAIN-29" x="1440" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-65" x="2080" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-6E" x="2546" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-64" x="3147" y="0"></use><g transform="translate(3670,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-62" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-6D" x="429" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-61" x="1308" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-74" x="1837" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-72" x="2199" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-69" x="2650" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-78" x="2996" y="0"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMAIN-3D" x="7516" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-62" x="8823" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-65" x="9252" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-67" x="9719" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-69" x="10199" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-6E" x="10545" y="0"></use><g transform="translate(11145,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-62" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-6D" x="429" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-61" x="1308" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-74" x="1837" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-72" x="2199" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-69" x="2650" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-78" x="2996" y="0"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMAIN-34" x="14714" y="0"></use></g><g transform="translate(12281,-4242)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMAIN-39" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-65" x="750" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-6E" x="1217" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-64" x="1817" y="0"></use><g transform="translate(2341,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-62" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-6D" x="429" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-61" x="1308" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-74" x="1837" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-72" x="2199" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-69" x="2650" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-78" x="2996" y="0"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-74" x="6159" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-61" x="6521" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-67" x="7050" y="0"></use><g transform="translate(7531,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMAIN-32"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMAIN-34" x="500" y="0"></use></g></g></g></svg></span></div><script type="math/tex;mode=display" id="MathJax-Element-2"> f (\ begin {bmatrix} 2 \\ 3 \ end {bmatrix}) = \ begin {bmatrix} f (2) \\ f (3) \ end {bmatrix} = \ begin {bmatrix} 4 \\ 9 \ end {bmatrix} \ tag {24} </script></p><br><br>  that is, vectorized f simply squares each element of the vector. <br><br>  Given all these forms of writing, equation (23) can be rewritten in a beautiful and compact vectorized form: <br><br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-150"><span class="MJXp-msubsup" id="MJXp-Span-151"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-152" style="margin-right: 0.05em;">a</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-153" style="vertical-align: 0.5em;">l</span></span><span class="MJXp-mo" id="MJXp-Span-154" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mtext" id="MJXp-Span-155">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-156">s</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-157">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-158">g</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-159">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-160">a</span><span class="MJXp-mo" id="MJXp-Span-161" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-msubsup" id="MJXp-Span-162"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-163" style="margin-right: 0.05em;">w</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-164" style="vertical-align: 0.5em;">l</span></span><span class="MJXp-msubsup" id="MJXp-Span-165"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-166" style="margin-right: 0.05em;">a</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-167" style="vertical-align: 0.5em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-168">l</span><span class="MJXp-mo" id="MJXp-Span-169">‚àí</span><span class="MJXp-mn" id="MJXp-Span-170">1</span></span></span><span class="MJXp-mo" id="MJXp-Span-171" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-msubsup" id="MJXp-Span-172"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-173" style="margin-right: 0.05em;">b</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-174" style="vertical-align: 0.5em;">l</span></span><span class="MJXp-mo" id="MJXp-Span-175" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mtext" id="MJXp-Span-176">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-177">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-178">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-179">g</span><span class="MJXp-mrow" id="MJXp-Span-180"><span class="MJXp-mn" id="MJXp-Span-181">25</span></span></span></span><div class="MathJax_SVG_Display MathJax_SVG_Processed" style="text-align: center;"><span class="MathJax_SVG" id="MathJax-Element-3-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="30.811ex" height="3.021ex" viewBox="0 -987.6 13265.7 1300.8" role="img" focusable="false" style="vertical-align: -0.728ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-61" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-6C" x="748" y="583"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMAIN-3D" x="1118" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-73" x="2424" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-69" x="2894" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-67" x="3239" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-6D" x="3720" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-61" x="4598" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMAIN-28" x="5128" y="0"></use><g transform="translate(5517,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-77" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-6C" x="1013" y="583"></use></g><g transform="translate(6545,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-61" x="0" y="0"></use><g transform="translate(529,412)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-6C" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMAIN-2212" x="298" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMAIN-31" x="1077" y="0"></use></g></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMAIN-2B" x="8512" y="0"></use><g transform="translate(9513,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-62" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-6C" x="607" y="583"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMAIN-29" x="10253" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-74" x="10893" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-61" x="11254" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-67" x="11784" y="0"></use><g transform="translate(12264,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMAIN-32"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMAIN-35" x="500" y="0"></use></g></g></svg></span></div><script type="math/tex;mode=display" id="MathJax-Element-3"> a ^ l = \ sigma (w ^ l a ^ {l ‚àí 1} + b ^ l) \ tag {25} </script></p><br><br>  This expression allows us to more globally look at the connection of activations of one layer with the activations of the previous one: we simply apply the weights matrix to the activations, add the displacement vector and then apply the sigmoid.  By the way, it is this record that requires the use of the record w <sup>l</sup> <sub>jk</sub> .  If we used j to denote the input neuron, and k for the output, we would have to replace the weights matrix in equation (25) with the transposed one.  This is a small but annoying change, and we would have lost the simplicity of the statement (and reflection) about the ‚Äúapplication of the matrix of weights to activations‚Äù.  Such a global approach is simpler and more concise (and uses fewer indices!) Than a pioneer one.  This is just a way to avoid index hell without losing the accuracy of the notation.  This expression is also useful in practice, since most matrix libraries offer fast ways to multiply matrices, add vectors and vectorize.  The code in the last chapter directly used this expression to calculate the behavior of the network. <br><br>  Using equation (25) to calculate a <sup>l</sup> , we calculate the intermediate value z <sup>l</sup> ‚â° w <sup>l</sup> a <sup>l ‚àí 1</sup> + b <sup>l</sup> .  This value turns out to be quite useful for naming: we call z <sup>l the</sup> weighted input of the neurons of layer No. l.  Later we will actively use this weighted input.  Equation (25) is sometimes written through the weighted input, as a <sup>l</sup> = œÉ (z <sup>l</sup> ).  It is also worth noting that z <sup>l</sup> has components <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-182"><span class="MJXp-msubsup" id="MJXp-Span-183"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-184" style="margin-right: 0.05em;">z</span><span class="MJXp-script-box" style="height: 1.86em; vertical-align: -0.64em;"><span class=" MJXp-script"><span><span style="margin-bottom: -0.25em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-186">l</span></span></span></span><span class=" MJXp-script"><span><span style="margin-top: -0.85em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-185">j</span></span></span></span></span></span><span class="MJXp-mo" id="MJXp-Span-187" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mtext" id="MJXp-Span-188">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-189">s</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-190">u</span><span class="MJXp-msubsup" id="MJXp-Span-191"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-192" style="margin-right: 0.05em;">m</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-193" style="vertical-align: -0.4em;">k</span></span><span class="MJXp-msubsup" id="MJXp-Span-194"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-195" style="margin-right: 0.05em;">w</span><span class="MJXp-script-box" style="height: 1.86em; vertical-align: -0.64em;"><span class=" MJXp-script"><span><span style="margin-bottom: -0.25em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-199">l</span></span></span></span><span class=" MJXp-script"><span><span style="margin-top: -0.85em;"><span class="MJXp-mrow" id="MJXp-Span-196"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-197">j</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-198">k</span></span></span></span></span></span></span><span class="MJXp-msubsup" id="MJXp-Span-200"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-201" style="margin-right: 0.05em;">a</span><span class="MJXp-script-box" style="height: 1.86em; vertical-align: -0.64em;"><span class=" MJXp-script"><span><span style="margin-bottom: -0.25em;"><span class="MJXp-mrow" id="MJXp-Span-203"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-204">l</span><span class="MJXp-mo" id="MJXp-Span-205">‚àí</span><span class="MJXp-mn" id="MJXp-Span-206">1</span></span></span></span></span><span class=" MJXp-script"><span><span style="margin-top: -0.85em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-202">k</span></span></span></span></span></span><span class="MJXp-mo" id="MJXp-Span-207" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-msubsup" id="MJXp-Span-208"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-209" style="margin-right: 0.05em;">b</span><span class="MJXp-script-box" style="height: 1.86em; vertical-align: -0.64em;"><span class=" MJXp-script"><span><span style="margin-bottom: -0.25em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-211">l</span></span></span></span><span class=" MJXp-script"><span><span style="margin-top: -0.85em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-210">j</span></span></span></span></span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-4-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="23.45ex" height="3.624ex" viewBox="0 -987.6 10096.5 1560.2" role="img" focusable="false" style="vertical-align: -1.33ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-7A" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-6C" x="663" y="500"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-6A" x="658" y="-430"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMAIN-3D" x="1134" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-73" x="2441" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-75" x="2910" y="0"></use><g transform="translate(3483,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-6D" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-6B" x="1242" y="-213"></use></g><g transform="translate(4830,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-77" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-6C" x="1013" y="500"></use><g transform="translate(716,-327)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-6A" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-6B" x="412" y="0"></use></g></g><g transform="translate(6307,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-61" x="0" y="0"></use><g transform="translate(529,403)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-6C" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMAIN-2212" x="298" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMAIN-31" x="1077" y="0"></use></g><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-6B" x="748" y="-463"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMAIN-2B" x="8274" y="0"></use><g transform="translate(9275,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-62" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-6C" x="607" y="500"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-6A" x="607" y="-430"></use></g></g></svg></span><script type="math/tex" id="MathJax-Element-4"> z ^ l_j = \ sum_k w ^ l_ {jk} a ^ {l ‚àí 1} _k + b ^ l_j </script>  , that is, z <sup>l</sup> <sub>j</sub> is just a weighted input of the activation function of the neuron j in the layer l. <br><br><h2>  Two necessary assumptions about the cost function </h2><br>  The goal of backpropagation is to calculate the partial derivatives ‚àÇC / ‚àÇw and ‚àÇC / ‚àÇb of the cost function C for each weight w and offset b of the network.  In order for the backward propagation to work, we need to make two main assumptions about the form of the cost function.  However, before this it will be useful to present an example of the cost function.  We use the quadratic function from the last chapter (equation (6)).  In the record from the previous section, it will look like <br><br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-212"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-213">C</span><span class="MJXp-mo" id="MJXp-Span-214" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mtext" id="MJXp-Span-215">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-216">f</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-217">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-218">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-219">c</span><span class="MJXp-mrow" id="MJXp-Span-220"><span class="MJXp-mn" id="MJXp-Span-221">1</span></span><span class="MJXp-mrow" id="MJXp-Span-222"><span class="MJXp-mn" id="MJXp-Span-223">2</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-224">n</span></span><span class="MJXp-mtext" id="MJXp-Span-225">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-226">s</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-227">u</span><span class="MJXp-msubsup" id="MJXp-Span-228"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-229" style="margin-right: 0.05em;">m</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-230" style="vertical-align: -0.4em;">x</span></span><span class="MJXp-mrow" id="MJXp-Span-231"><span class="MJXp-mo" id="MJXp-Span-232" style="margin-left: 0.167em; margin-right: 0.167em;">|</span></span><span class="MJXp-mrow" id="MJXp-Span-233"><span class="MJXp-mo" id="MJXp-Span-234" style="margin-left: 0.167em; margin-right: 0.167em;">|</span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-235">y</span><span class="MJXp-mo" id="MJXp-Span-236" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-237">x</span><span class="MJXp-mo" id="MJXp-Span-238" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mo" id="MJXp-Span-239" style="margin-left: 0.267em; margin-right: 0.267em;">‚àí</span><span class="MJXp-msubsup" id="MJXp-Span-240"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-241" style="margin-right: 0.05em;">a</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-242" style="vertical-align: 0.5em;">L</span></span><span class="MJXp-mo" id="MJXp-Span-243" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-244">x</span><span class="MJXp-mo" id="MJXp-Span-245" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mrow" id="MJXp-Span-246"><span class="MJXp-mo" id="MJXp-Span-247" style="margin-left: 0.167em; margin-right: 0.167em;">|</span></span><span class="MJXp-msubsup" id="MJXp-Span-248"><span class="MJXp-mrow" id="MJXp-Span-249" style="margin-right: 0.05em;"><span class="MJXp-mo" id="MJXp-Span-250" style="margin-left: 0.167em; margin-right: 0.167em;">|</span></span><span class="MJXp-mn MJXp-script" id="MJXp-Span-251" style="vertical-align: 0.5em;">2</span></span><span class="MJXp-mtext" id="MJXp-Span-252">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-253">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-254">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-255">g</span><span class="MJXp-mrow" id="MJXp-Span-256"><span class="MJXp-mn" id="MJXp-Span-257">26</span></span></span></span><div class="MathJax_SVG_Display MathJax_SVG_Processed" style="text-align: center;"><span class="MathJax_SVG" id="MathJax-Element-5-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="42.53ex" height="3.142ex" viewBox="0 -1039.5 18311.6 1352.7" role="img" focusable="false" style="vertical-align: -0.728ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-43" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMAIN-3D" x="1038" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-66" x="2344" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-72" x="2895" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-61" x="3346" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-63" x="3876" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMAIN-31" x="4309" y="0"></use><g transform="translate(4810,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMAIN-32" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-6E" x="500" y="0"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-73" x="6161" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-75" x="6630" y="0"></use><g transform="translate(7203,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-6D" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-78" x="1242" y="-213"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMAIN-7C" x="8586" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMAIN-7C" x="8864" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-79" x="9143" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMAIN-28" x="9640" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-78" x="10030" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMAIN-29" x="10602" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMAIN-2212" x="11214" y="0"></use><g transform="translate(12215,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-61" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-4C" x="748" y="583"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMAIN-28" x="13326" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-78" x="13716" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMAIN-29" x="14288" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMAIN-7C" x="14678" y="0"></use><g transform="translate(14956,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMAIN-7C" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMAIN-32" x="393" y="675"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-74" x="15939" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-61" x="16300" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-67" x="16830" y="0"></use><g transform="translate(17310,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMAIN-32"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMAIN-36" x="500" y="0"></use></g></g></svg></span></div><script type="math/tex;mode=display" id="MathJax-Element-5"> C = \ frac {1} {2n} \ sum_x || y (x) - a ^ L (x) || ^ 2 \ tag {26} </script></p><br><br>  where: n is the total number of training examples;  the sum goes in all examples x;  y = y (x) is the required output;  L denotes the number of layers in the network;  a <sup>L</sup> = a <sup>L</sup> (x) is the output vector of network activations when the input is x. <br><br>  Okay, so what assumptions do we need regarding cost function C to apply backward propagation?  The first is that the cost function can be written as the average C = 1 / n ‚àë <sub>x</sub> C <sub>x</sub> cost functions C <sub>x</sub> for individual training examples x.  This is done in the case of a quadratic cost function, where the cost of one teaching example is C <sub>x</sub> = 1/2 || y - a <sup>L</sup> ||  <sup>2</sup>  This assumption will be true for all other cost functions that we will meet in the book. <br><br>  We need this assumption because, in fact, backward propagation allows us to calculate the partial derivatives ‚àÇC / ‚àÇw and ‚àÇC / ‚àÇb, averaging over the training examples.  By accepting this assumption, we assume that the training example x is fixed, and we will cease to indicate the index x, writing down the value C <sub>x</sub> as C. Then we will return x, but for now, it is better to simply imply it. <br><br>  The second assumption regarding the cost function - it can be written as a function of the output of the neural network: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/62f/4f9/c48/62f4f9c4882e997cb2b8c5968692f547.png"><br><br>  For example, the quadratic cost function satisfies this requirement, since the quadratic cost of one teaching example x can be written as <br><br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-258"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-259">C</span><span class="MJXp-mo" id="MJXp-Span-260" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mn" id="MJXp-Span-261">1</span><span class="MJXp-mrow" id="MJXp-Span-262"><span class="MJXp-mo" id="MJXp-Span-263" style="margin-left: 0.111em; margin-right: 0.111em;">/</span></span><span class="MJXp-mn" id="MJXp-Span-264">2</span><span class="MJXp-mrow" id="MJXp-Span-265"><span class="MJXp-mo" id="MJXp-Span-266" style="margin-left: 0.167em; margin-right: 0.167em;">|</span></span><span class="MJXp-mrow" id="MJXp-Span-267"><span class="MJXp-mo" id="MJXp-Span-268" style="margin-left: 0.167em; margin-right: 0.167em;">|</span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-269">y</span><span class="MJXp-mo" id="MJXp-Span-270" style="margin-left: 0.267em; margin-right: 0.267em;">‚àí</span><span class="MJXp-msubsup" id="MJXp-Span-271"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-272" style="margin-right: 0.05em;">a</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-273" style="vertical-align: 0.5em;">L</span></span><span class="MJXp-mrow" id="MJXp-Span-274"><span class="MJXp-mo" id="MJXp-Span-275" style="margin-left: 0.167em; margin-right: 0.167em;">|</span></span><span class="MJXp-msubsup" id="MJXp-Span-276"><span class="MJXp-mrow" id="MJXp-Span-277" style="margin-right: 0.05em;"><span class="MJXp-mo" id="MJXp-Span-278" style="margin-left: 0.167em; margin-right: 0.167em;">|</span></span><span class="MJXp-mn MJXp-script" id="MJXp-Span-279" style="vertical-align: 0.5em;">2</span></span><span class="MJXp-mo" id="MJXp-Span-280" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mn" id="MJXp-Span-281">1</span><span class="MJXp-mrow" id="MJXp-Span-282"><span class="MJXp-mo" id="MJXp-Span-283" style="margin-left: 0.111em; margin-right: 0.111em;">/</span></span><span class="MJXp-mn" id="MJXp-Span-284">2</span><span class="MJXp-mtext" id="MJXp-Span-285">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-286">s</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-287">u</span><span class="MJXp-msubsup" id="MJXp-Span-288"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-289" style="margin-right: 0.05em;">m</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-290" style="vertical-align: -0.4em;">j</span></span><span class="MJXp-mo" id="MJXp-Span-291" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-msubsup" id="MJXp-Span-292"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-293" style="margin-right: 0.05em;">y</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-294" style="vertical-align: -0.4em;">j</span></span><span class="MJXp-mo" id="MJXp-Span-295" style="margin-left: 0.267em; margin-right: 0.267em;">‚àí</span><span class="MJXp-msubsup" id="MJXp-Span-296"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-297" style="margin-right: 0.05em;">a</span><span class="MJXp-script-box" style="height: 1.86em; vertical-align: -0.64em;"><span class=" MJXp-script"><span><span style="margin-bottom: -0.25em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-299">L</span></span></span></span><span class=" MJXp-script"><span><span style="margin-top: -0.85em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-298">j</span></span></span></span></span></span><span class="MJXp-msubsup" id="MJXp-Span-300"><span class="MJXp-mo" id="MJXp-Span-301" style="margin-left: 0em; margin-right: 0.05em;">)</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-302" style="vertical-align: 0.5em;">2</span></span><span class="MJXp-mtext" id="MJXp-Span-303">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-304">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-305">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-306">g</span><span class="MJXp-mrow" id="MJXp-Span-307"><span class="MJXp-mn" id="MJXp-Span-308">27</span></span></span></span><div class="MathJax_SVG_Display MathJax_SVG_Processed" style="text-align: center;"><span class="MathJax_SVG" id="MathJax-Element-6-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="47.533ex" height="3.624ex" viewBox="0 -1039.5 20465.5 1560.2" role="img" focusable="false" style="vertical-align: -1.209ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-43" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMAIN-3D" x="1038" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMAIN-31" x="2094" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMAIN-2F" x="2595" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMAIN-32" x="3095" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMAIN-7C" x="3596" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMAIN-7C" x="3874" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-79" x="4153" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMAIN-2212" x="4872" y="0"></use><g transform="translate(5873,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-61" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-4C" x="748" y="583"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMAIN-7C" x="6984" y="0"></use><g transform="translate(7263,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMAIN-7C" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMAIN-32" x="393" y="675"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMAIN-3D" x="8273" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMAIN-31" x="9329" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMAIN-2F" x="9830" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMAIN-32" x="10330" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-73" x="11081" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-75" x="11550" y="0"></use><g transform="translate(12123,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-6D" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-6A" x="1242" y="-213"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMAIN-28" x="13393" y="0"></use><g transform="translate(13783,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-79" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-6A" x="693" y="-213"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMAIN-2212" x="14887" y="0"></use><g transform="translate(15888,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-61" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-4C" x="748" y="490"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-6A" x="748" y="-430"></use></g><g transform="translate(16999,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMAIN-29" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMAIN-32" x="550" y="583"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-74" x="18092" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-61" x="18454" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-67" x="18983" y="0"></use><g transform="translate(19464,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMAIN-32"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMAIN-37" x="500" y="0"></use></g></g></svg></span></div><script type="math/tex;mode=display" id="MathJax-Element-6"> C = 1/2 || y ‚àí a ^ L || ^ 2 = 1/2 \ sum_j (y_j - a ^ L_j) ^ 2 \ tag {27} </script></p><br><br>  which will be the function of output activations.  Of course, this cost function also depends on the desired output y, and you may wonder why we do not consider C as a function also on y.  However, recall that the input training example x is fixed, so the output y is also fixed.  In particular, we cannot change it by changing weights and displacements, that is, this is not what the neural network learns.  Therefore, it makes sense to consider C as a function of only output activations a <sup>L</sup> , and y as just a parameter that helps determine it. <br><br><h2>  Hadamard's work s‚äôt </h2><br>  The back-propagation algorithm is based on the usual operations of linear algebra ‚Äî addition of vectors, multiplication of a vector by a matrix, and so on.  However, one of the operations is used less frequently.  Suppose s and t are two vectors of the same dimension.  Then by s‚äôt we denote the elementwise multiplication of two vectors.  Then the components of s‚äôt are simply (s‚äôt) <sub>j</sub> = s <sub>j</sub> t <sub>j</sub> .  For example: <br><br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-309"><span class="MJXp-mtext" id="MJXp-Span-310">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-311">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-312">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-313">g</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-314">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-315">n</span><span class="MJXp-mrow" id="MJXp-Span-316"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-317">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-318">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-319">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-320">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-321">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-322">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-323">x</span></span><span class="MJXp-mn" id="MJXp-Span-324">1</span><span class="MJXp-mspace" id="MJXp-Span-325" style="width: 0em; height: 0em;"></span><span class="MJXp-mn" id="MJXp-Span-326">2</span><span class="MJXp-mtext" id="MJXp-Span-327">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-328">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-329">n</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-330">d</span><span class="MJXp-mrow" id="MJXp-Span-331"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-332">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-333">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-334">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-335">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-336">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-337">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-338">x</span></span><span class="MJXp-mtext" id="MJXp-Span-339">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-340">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-341">d</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-342">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-343">t</span><span class="MJXp-mtext" id="MJXp-Span-344">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-345">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-346">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-347">g</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-348">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-349">n</span><span class="MJXp-mrow" id="MJXp-Span-350"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-351">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-352">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-353">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-354">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-355">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-356">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-357">x</span></span><span class="MJXp-mn" id="MJXp-Span-358">3</span><span class="MJXp-mspace" id="MJXp-Span-359" style="width: 0em; height: 0em;"></span><span class="MJXp-mn" id="MJXp-Span-360">4</span><span class="MJXp-mtext" id="MJXp-Span-361">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-362">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-363">n</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-364">d</span><span class="MJXp-mrow" id="MJXp-Span-365"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-366">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-367">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-368">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-369">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-370">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-371">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-372">x</span></span><span class="MJXp-mo" id="MJXp-Span-373" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mtext" id="MJXp-Span-374">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-375">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-376">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-377">g</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-378">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-379">n</span><span class="MJXp-mrow" id="MJXp-Span-380"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-381">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-382">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-383">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-384">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-385">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-386">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-387">x</span></span><span class="MJXp-mn" id="MJXp-Span-388">1</span><span class="MJXp-mo" id="MJXp-Span-389" style="margin-left: 0.267em; margin-right: 0.267em;">‚àó</span><span class="MJXp-mn" id="MJXp-Span-390">3</span><span class="MJXp-mspace" id="MJXp-Span-391" style="width: 0em; height: 0em;"></span><span class="MJXp-mn" id="MJXp-Span-392">2</span><span class="MJXp-mo" id="MJXp-Span-393" style="margin-left: 0.267em; margin-right: 0.267em;">‚àó</span><span class="MJXp-mn" id="MJXp-Span-394">4</span><span class="MJXp-mtext" id="MJXp-Span-395">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-396">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-397">n</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-398">d</span><span class="MJXp-mrow" id="MJXp-Span-399"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-400">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-401">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-402">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-403">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-404">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-405">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-406">x</span></span><span class="MJXp-mo" id="MJXp-Span-407" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mtext" id="MJXp-Span-408">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-409">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-410">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-411">g</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-412">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-413">n</span><span class="MJXp-mrow" id="MJXp-Span-414"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-415">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-416">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-417">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-418">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-419">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-420">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-421">x</span></span><span class="MJXp-mn" id="MJXp-Span-422">3</span><span class="MJXp-mspace" id="MJXp-Span-423" style="width: 0em; height: 0em;"></span><span class="MJXp-mn" id="MJXp-Span-424">8</span><span class="MJXp-mtext" id="MJXp-Span-425">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-426">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-427">n</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-428">d</span><span class="MJXp-mrow" id="MJXp-Span-429"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-430">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-431">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-432">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-433">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-434">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-435">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-436">x</span></span><span class="MJXp-mtext" id="MJXp-Span-437">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-438">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-439">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-440">g</span><span class="MJXp-mrow" id="MJXp-Span-441"><span class="MJXp-mn" id="MJXp-Span-442">28</span></span></span></span><div class="MathJax_SVG_Display MathJax_SVG_Processed"><span class="MathJax_SVG" id="MathJax-Element-7-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="76.867ex" height="14.829ex" viewBox="0 -780.1 33095.6 6384.5" role="img" focusable="false" style="vertical-align: -13.017ex; max-width: 638px;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><g transform="translate(13227,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-62" x="250" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-65" x="679" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-67" x="1146" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-69" x="1626" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-6E" x="1972" y="0"></use><g transform="translate(2572,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-62" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-6D" x="429" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-61" x="1308" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-74" x="1837" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-72" x="2199" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-69" x="2650" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-78" x="2996" y="0"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMAIN-31" x="6141" y="0"></use></g><g transform="translate(9219,-1332)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMAIN-32" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-65" x="750" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-6E" x="1217" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-64" x="1817" y="0"></use><g transform="translate(2341,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-62" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-6D" x="429" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-61" x="1308" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-74" x="1837" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-72" x="2199" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-69" x="2650" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-78" x="2996" y="0"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-6F" x="6159" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-64" x="6645" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-6F" x="7168" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-74" x="7654" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-62" x="8265" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-65" x="8695" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-67" x="9161" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-69" x="9642" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-6E" x="9987" y="0"></use><g transform="translate(10588,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-62" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-6D" x="429" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-61" x="1308" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-74" x="1837" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-72" x="2199" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-69" x="2650" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-78" x="2996" y="0"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMAIN-33" x="14156" y="0"></use></g><g transform="translate(8882,-2664)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMAIN-34" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-65" x="750" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-6E" x="1217" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-64" x="1817" y="0"></use><g transform="translate(2341,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-62" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-6D" x="429" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-61" x="1308" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-74" x="1837" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-72" x="2199" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-69" x="2650" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-78" x="2996" y="0"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMAIN-3D" x="6187" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-62" x="7493" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-65" x="7923" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-67" x="8389" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-69" x="8870" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-6E" x="9215" y="0"></use><g transform="translate(9816,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-62" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-6D" x="429" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-61" x="1308" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-74" x="1837" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-72" x="2199" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-69" x="2650" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-78" x="2996" y="0"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMAIN-31" x="13384" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMAIN-2217" x="14107" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMAIN-33" x="14830" y="0"></use></g><g transform="translate(8882,-3995)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMAIN-32" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMAIN-2217" x="722" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMAIN-34" x="1445" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-65" x="2195" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-6E" x="2662" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-64" x="3262" y="0"></use><g transform="translate(3786,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-62" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-6D" x="429" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-61" x="1308" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-74" x="1837" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-72" x="2199" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-69" x="2650" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-78" x="2996" y="0"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMAIN-3D" x="7632" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-62" x="8939" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-65" x="9368" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-67" x="9835" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-69" x="10315" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-6E" x="10661" y="0"></use><g transform="translate(11261,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-62" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-6D" x="429" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-61" x="1308" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-74" x="1837" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-72" x="2199" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-69" x="2650" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-78" x="2996" y="0"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMAIN-33" x="14830" y="0"></use></g><g transform="translate(12281,-5327)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMAIN-38" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-65" x="750" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-6E" x="1217" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-64" x="1817" y="0"></use><g transform="translate(2341,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-62" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-6D" x="429" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-61" x="1308" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-74" x="1837" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-72" x="2199" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-69" x="2650" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-78" x="2996" y="0"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-74" x="6159" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-61" x="6521" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-67" x="7050" y="0"></use><g transform="translate(7531,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMAIN-32"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMAIN-38" x="500" y="0"></use></g></g></g></svg></span></div><script type="math/tex;mode=display" id="MathJax-Element-7"> \ begin {bmatrix} 1 \\ 2 \ end {bmatrix} \ odot \ begin {bmatrix} 3 \\ 4 \ end {bmatrix} = \ begin {bmatrix} 1 * 3 \\ 2 * 4 \ end {bmatrix} = \ begin {bmatrix} 3 \\ 8 \ end {bmatrix} \ tag {28} </script></p><br><br>  This piecewise piece is sometimes called the <a href="https://ru.wikipedia.org/wiki/%25D0%259F%25D1%2580%25D0%25BE%25D0%25B8%25D0%25B7%25D0%25B2%25D0%25B5%25D0%25B4%25D0%25B5%25D0%25BD%25D0%25B8%25D0%25B5_%25D0%2590%25D0%25B4%25D0%25B0%25D0%25BC%25D0%25B0%25D1%2580%25D0%25B0">Hadamard</a> piece or the Schur piece.  We will call it the work of Hadamard.  Good libraries for working with matrices usually have a quick realization of Hadamard‚Äôs work, and this is convenient when implementing backpropagation. <br><br><h2>  Four fundamental equations based on backpropagation </h2><br>  Reverse propagation is associated with an understanding of how changing weights and network offsets changes the cost function.  Essentially, this means counting the partial derivatives of /C / ‚àÇw <sup>l</sup> <sub>jk</sub> and ‚àÇC / <sup>l</sup> b <sup>l</sup> <sub>j</sub> .  But to calculate them, we first calculate the intermediate value Œ¥ <sup>l</sup> <sub>j</sub> , which we call the error in the neuron ‚Ññj in the layer ‚Ññl.  Reverse propagation will give us a procedure for calculating the error Œ¥ <sup>l</sup> <sub>j</sub> , and then associate Œ¥ <sup>l</sup> <sub>j</sub> with ‚àÇC / ‚àÇw <sup>l</sup> <sub>jk</sub> and ‚àÇC / ‚àÇ b <sup>l</sup> <sub>j</sub> . <br><br>  To understand how an error is determined, imagine that a demon wound up in our neural network: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/3c7/0ad/d69/3c70add695f46a92cd35b4d94bb14755.png"><br><br>  He sits on the neuron number j in the layer number l.  Upon receipt of input data, the daemon disrupts the neuron.  It adds a small change Œîz <sup>l</sup> <sub>j</sub> to the weighted input of the neuron, and instead of producing œÉ (z <sup>l</sup> <sub>j</sub> ), the neuron will give œÉ (z <sup>l</sup> <sub>j</sub> + Œîz <sup>l</sup> <sub>j</sub> ).  This change will spread through the next layers of the network, which ultimately will change the total cost by (C / ‚àÇz <sup>l</sup> <sub>j</sub> ) * Œîz <sup>l</sup> <sub>j</sub> . <br><br>  But our demon is good, and he is trying to help you improve the cost, that is, to find Œîz <sup>l</sup> <sub>j</sub> that reduces the cost.  Suppose that the value of ‚àÇC / ‚àÇz <sup>l</sup> <sub>j is</sub> large (positive or negative).  Then the demon can seriously reduce the cost by choosing Œîz <sup>l</sup> <sub>j</sub> with the sign opposite to ‚àÇC / ‚àÇz <sup>l</sup> <sub>j</sub> .  And if ‚àÇC / ‚àÇz <sup>l</sup> <sub>j is</sub> close to zero, then the daemon cannot greatly improve the cost by changing the weighted input z <sup>l</sup> <sub>j</sub> .  So, from the point of view of the demon, the neuron is already close to the optimum (this, of course, is true only for small Œîz <sup>l</sup> <sub>j</sub> . Suppose, such are the limitations of the demon's actions).  Therefore, in a heuristic sense, ‚àÇC / ‚àÇz <sup>l</sup> <sub>j</sub> is a measure of neuron error. <br><br>  Under the motivation from this story, we define the error Œ¥ <sup>l</sup> <sub>j of the</sub> neuron j in the layer l, as <br><br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-443"><span class="MJXp-mtext" id="MJXp-Span-444">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-445">d</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-446">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-447">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-448">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-449">a</span><span class="MJXp-msubsup" id="MJXp-Span-450"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-451" style="margin-right: 0.05em;">l</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-452" style="vertical-align: -0.4em;">j</span></span><span class="MJXp-mtext" id="MJXp-Span-453">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-454">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-455">q</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-456">u</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-457">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-458">v</span><span class="MJXp-mtext" id="MJXp-Span-459">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-460">f</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-461">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-462">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-463">c</span><span class="MJXp-mrow" id="MJXp-Span-464"><span class="MJXp-mtext" id="MJXp-Span-465">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-466">p</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-467">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-468">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-469">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-470">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-471">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-472">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-473">C</span></span><span class="MJXp-mrow" id="MJXp-Span-474"><span class="MJXp-mtext" id="MJXp-Span-475">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-476">p</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-477">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-478">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-479">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-480">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-481">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-482">l</span><span class="MJXp-msubsup" id="MJXp-Span-483"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-484" style="margin-right: 0.05em;">z</span><span class="MJXp-script-box" style="height: 1.86em; vertical-align: -0.64em;"><span class=" MJXp-script"><span><span style="margin-bottom: -0.25em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-486">l</span></span></span></span><span class=" MJXp-script"><span><span style="margin-top: -0.85em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-485">j</span></span></span></span></span></span></span><span class="MJXp-mtext" id="MJXp-Span-487">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-488">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-489">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-490">g</span><span class="MJXp-mrow" id="MJXp-Span-491"><span class="MJXp-mn" id="MJXp-Span-492">29</span></span></span></span><div class="MathJax_SVG_Display MathJax_SVG_Processed" style="text-align: center;"><span class="MathJax_SVG" id="MathJax-Element-8-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="43.419ex" height="3.383ex" viewBox="0 -935.7 18694.4 1456.5" role="img" focusable="false" style="vertical-align: -1.209ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-64" x="250" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-65" x="773" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-6C" x="1240" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-74" x="1538" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-61" x="1900" y="0"></use><g transform="translate(2429,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-6C" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-6A" x="422" y="-213"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-65" x="3369" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-71" x="3836" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-75" x="4296" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-69" x="4869" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-76" x="5214" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-66" x="5950" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-72" x="6500" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-61" x="6952" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-63" x="7481" y="0"></use><g transform="translate(7915,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-70" x="250" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-61" x="753" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-72" x="1283" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-74" x="1734" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-69" x="2096" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-61" x="2441" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-6C" x="2971" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-43" x="3269" y="0"></use></g><g transform="translate(11945,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-70" x="250" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-61" x="753" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-72" x="1283" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-74" x="1734" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-69" x="2096" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-61" x="2441" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-6C" x="2971" y="0"></use><g transform="translate(3269,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-7A" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-6C" x="663" y="500"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-6A" x="658" y="-430"></use></g></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-74" x="16321" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-61" x="16683" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-67" x="17212" y="0"></use><g transform="translate(17693,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMAIN-32"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMAIN-39" x="500" y="0"></use></g></g></svg></span></div><script type="math/tex;mode=display" id="MathJax-Element-8"> \ delta l_j \ equiv \ frac {\ partial C} {\ partial z ^ l_j} \ tag {29} </script></p><br><br>  By convention, we use Œ¥ <sup>l</sup> to denote the error vector associated with the layer l.  Reverse propagation will give us a way to calculate Œ¥ <sup>l</sup> for any stratum, and then correlate these errors with those values ‚Äã‚Äãthat really interest us, ‚àÇC / ‚àÇw <sup>l</sup> <sub>jk</sub> and ‚àÇC / ‚àÇ b <sup>l</sup> <sub>j</sub> . <br><br>  You may wonder why the daemon changes the weighted input z <sup>l</sup> <sub>j</sub> .  After all, it would be more natural to imagine that the daemon changes the output activation a <sup>l</sup> <sub>j</sub> so that we use ‚àÇC / ‚àÇa <sup>l</sup> <sub>j</sub> as a measure of the error.  In fact, if you do this, everything turns out to be very similar to what we will discuss further.  However, in this case, the representation of back propagation will be algebraically slightly more complicated.  Therefore, we dwell on the variant Œ¥ <sup>l</sup> <sub>j</sub> = ‚àÇC / ‚àÇz <sup>l</sup> <sub>j</sub> as a measure of the error. <br><br>  In classification problems, the term ‚Äúerror‚Äù sometimes means the number of incorrect classifications.  For example, if a neural network correctly classifies 96.0% of digits, then the error will be equal to 4.0%.  Obviously, this is not at all what we mean by vectors Œ¥.  But in practice it is usually easy to understand what meaning is meant. <br><br>  <b>Attack Plan</b> : Reverse Propagation Based on Four Fundamental Equations.  Together they give us a way to calculate both the error Œ¥ <sup>l</sup> and the cost function gradient.  I give them below.  No need to expect their instant mastering.  You will be disappointed.  The equations of reverse propagation are so deep that for a good understanding of them requires tangible time and patience, and a gradual deepening of the question.  The good news is that this patience pays off handsomely.  Therefore, in this section, our reasoning is just beginning, helping you to go on the path of a deep understanding of equations. <br><br>  Here is a diagram of how we will delve into these equations later: I will give a brief proof to help explain why they are true;  we will rewrite them in algorithmic form in the form of pseudo-code, and see how to implement it in real python code;  in the last part of the chapter, we will develop an intuitive understanding of the meaning of the back propagation equations, and how to find them from scratch.  We will periodically return to the four fundamental equations, and the deeper you understand them, the more comfortable, and perhaps beautiful and natural, they will seem to you. <br><br>  <b>The error equation of the output layer, Œ¥ <sup>L</sup></b> : the components of Œ¥ <sup>L</sup> are considered as <br><br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-493"><span class="MJXp-mtext" id="MJXp-Span-494">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-495">d</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-496">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-497">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-498">t</span><span class="MJXp-msubsup" id="MJXp-Span-499"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-500" style="margin-right: 0.05em;">a</span><span class="MJXp-script-box" style="height: 1.86em; vertical-align: -0.64em;"><span class=" MJXp-script"><span><span style="margin-bottom: -0.25em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-502">L</span></span></span></span><span class=" MJXp-script"><span><span style="margin-top: -0.85em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-501">j</span></span></span></span></span></span><span class="MJXp-mo" id="MJXp-Span-503" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mtext" id="MJXp-Span-504">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-505">f</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-506">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-507">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-508">c</span><span class="MJXp-mrow" id="MJXp-Span-509"><span class="MJXp-mtext" id="MJXp-Span-510">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-511">p</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-512">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-513">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-514">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-515">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-516">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-517">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-518">C</span></span><span class="MJXp-mrow" id="MJXp-Span-519"><span class="MJXp-mtext" id="MJXp-Span-520">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-521">p</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-522">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-523">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-524">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-525">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-526">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-527">l</span><span class="MJXp-msubsup" id="MJXp-Span-528"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-529" style="margin-right: 0.05em;">a</span><span class="MJXp-script-box" style="height: 1.86em; vertical-align: -0.64em;"><span class=" MJXp-script"><span><span style="margin-bottom: -0.25em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-531">L</span></span></span></span><span class=" MJXp-script"><span><span style="margin-top: -0.85em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-530">j</span></span></span></span></span></span></span><span class="MJXp-mtext" id="MJXp-Span-532">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-533">s</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-534">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-535">g</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-536">m</span><span class="MJXp-msup" id="MJXp-Span-537"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-538" style="margin-right: 0.05em;">a</span><span class="MJXp-mo MJXp-script" id="MJXp-Span-539" style="vertical-align: 0.5em;">‚Ä≤</span></span><span class="MJXp-mo" id="MJXp-Span-540" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-msubsup" id="MJXp-Span-541"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-542" style="margin-right: 0.05em;">z</span><span class="MJXp-script-box" style="height: 1.86em; vertical-align: -0.64em;"><span class=" MJXp-script"><span><span style="margin-bottom: -0.25em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-544">L</span></span></span></span><span class=" MJXp-script"><span><span style="margin-top: -0.85em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-543">j</span></span></span></span></span></span><span class="MJXp-mo" id="MJXp-Span-545" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mtext" id="MJXp-Span-546">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-547">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-548">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-549">g</span><span class="MJXp-mrow" id="MJXp-Span-550"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-551">B</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-552">P</span><span class="MJXp-mn" id="MJXp-Span-553">1</span></span></span></span><div class="MathJax_SVG_Display MathJax_SVG_Processed" style="text-align: center;"><span class="MathJax_SVG" id="MathJax-Element-9-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="55.006ex" height="3.383ex" viewBox="0 -935.7 23683 1456.5" role="img" focusable="false" style="vertical-align: -1.209ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-64" x="250" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-65" x="773" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-6C" x="1240" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-74" x="1538" y="0"></use><g transform="translate(1900,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-61" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-4C" x="748" y="490"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-6A" x="748" y="-430"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMAIN-3D" x="3289" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-66" x="4595" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-72" x="5145" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-61" x="5597" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-63" x="6126" y="0"></use><g transform="translate(6560,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-70" x="250" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-61" x="753" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-72" x="1283" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-74" x="1734" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-69" x="2096" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-61" x="2441" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-6C" x="2971" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-43" x="3269" y="0"></use></g><g transform="translate(10590,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-70" x="250" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-61" x="753" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-72" x="1283" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-74" x="1734" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-69" x="2096" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-61" x="2441" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-6C" x="2971" y="0"></use><g transform="translate(3269,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-61" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-4C" x="748" y="490"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-6A" x="748" y="-430"></use></g></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-73" x="15221" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-69" x="15690" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-67" x="16036" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-6D" x="16516" y="0"></use><g transform="translate(17395,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-61" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMAIN-2032" x="748" y="583"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMAIN-28" x="18219" y="0"></use><g transform="translate(18609,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-7A" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-4C" x="663" y="490"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-6A" x="658" y="-430"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMAIN-29" x="19660" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-74" x="20299" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-61" x="20661" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-67" x="21190" y="0"></use><g transform="translate(21671,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-42" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-50" x="759" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMAIN-31" x="1511" y="0"></use></g></g></svg></span></div><script type="math/tex;mode=display" id="MathJax-Element-9"> \ delta ^ L_j = \ frac {\ partial C} {\ partial a ^ L_j} \ sigma '(z ^ L_j) \ tag {BP1} </script></p><br><br>  Very natural expression.  The first term on the right, ‚àÇC / ‚àÇa <sup>L</sup> <sub>j</sub> , measures how quickly the cost changes as a function of output activation #j.  If, for example, C is not particularly dependent on the specific output neuron j, then Œ¥ <sup>L</sup> <sub>j</sub> will be small, as expected.  The second term on the right, œÉ '(z <sup>L</sup> <sub>j</sub> ), measures how quickly the activation function œÉ changes in z <sup>L</sup> <sub>j</sub> . <br><br>  Note that everything in (BP1) is easy to calculate.  In particular, we calculate z <sup>L</sup> <sub>j</sub> when calculating the behavior of the network, and the calculation of œÉ '(z <sup>L</sup> <sub>j</sub> ) will take slightly more resources.  Of course, the exact form ‚àÇC / ‚àÇa <sup>L</sup> <sub>j</sub> depends on the form of the function cost.  However, if the cost function is known, then there should be no problem with calculating ‚àÇC / ‚àÇa <sup>L</sup> <sub>j</sub> .  For example, if we use a quadratic cost function, then C = 1/2 ‚àë <sub>j</sub> (y <sub>j</sub> - a <sup>L</sup> <sub>j</sub> ) <sup>2</sup> , therefore ‚àÇC / ‚àÇ a <sup>L</sup> <sub>j</sub> = (a <sup>L</sup> <sub>j</sub> - y <sub>j</sub> ), which is easy to calculate. <br><br>  Equation (BP1) is the componentwise expression Œ¥ <sup>L.</sup>  It is perfectly normal, but not recorded in the matrix form, which we need for back distribution.  However, it is easy to rewrite it in matrix form, as <br><br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-554"><span class="MJXp-mtext" id="MJXp-Span-555">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-556">d</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-557">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-558">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-559">t</span><span class="MJXp-msubsup" id="MJXp-Span-560"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-561" style="margin-right: 0.05em;">a</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-562" style="vertical-align: 0.5em;">L</span></span><span class="MJXp-mo" id="MJXp-Span-563" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mtext" id="MJXp-Span-564">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-565">n</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-566">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-567">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-568">l</span><span class="MJXp-msubsup" id="MJXp-Span-569"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-570" style="margin-right: 0.05em;">a</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-571" style="vertical-align: -0.4em;">a</span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-572">C</span><span class="MJXp-mtext" id="MJXp-Span-573">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-574">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-575">d</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-576">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-577">t</span><span class="MJXp-mtext" id="MJXp-Span-578">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-579">s</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-580">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-581">g</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-582">m</span><span class="MJXp-msup" id="MJXp-Span-583"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-584" style="margin-right: 0.05em;">a</span><span class="MJXp-mo MJXp-script" id="MJXp-Span-585" style="vertical-align: 0.5em;">‚Ä≤</span></span><span class="MJXp-mo" id="MJXp-Span-586" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-msubsup" id="MJXp-Span-587"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-588" style="margin-right: 0.05em;">z</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-589" style="vertical-align: 0.5em;">L</span></span><span class="MJXp-mo" id="MJXp-Span-590" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mtext" id="MJXp-Span-591">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-592">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-593">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-594">g</span><span class="MJXp-mrow" id="MJXp-Span-595"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-596">B</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-597">P</span><span class="MJXp-mn" id="MJXp-Span-598">1</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-599">a</span></span></span></span><div class="MathJax_SVG_Display MathJax_SVG_Processed" style="text-align: center;"><span class="MathJax_SVG" id="MathJax-Element-10-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="45.441ex" height="3.021ex" viewBox="0 -987.6 19565 1300.8" role="img" focusable="false" style="vertical-align: -0.728ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-64" x="250" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-65" x="773" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-6C" x="1240" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-74" x="1538" y="0"></use><g transform="translate(1900,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-61" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-4C" x="748" y="583"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMAIN-3D" x="3289" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-6E" x="4595" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-61" x="5195" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-62" x="5725" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-6C" x="6154" y="0"></use><g transform="translate(6453,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-61" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-61" x="748" y="-213"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-43" x="7457" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-6F" x="8467" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-64" x="8953" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-6F" x="9476" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-74" x="9962" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-73" x="10573" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-69" x="11043" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-67" x="11388" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-6D" x="11869" y="0"></use><g transform="translate(12747,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-61" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMAIN-2032" x="748" y="583"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMAIN-28" x="13572" y="0"></use><g transform="translate(13961,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-7A" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-4C" x="663" y="583"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMAIN-29" x="15013" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-74" x="15652" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-61" x="16014" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-67" x="16543" y="0"></use><g transform="translate(17024,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-42" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-50" x="759" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMAIN-31" x="1511" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-61" x="2011" y="0"></use></g></g></svg></span></div><script type="math/tex;mode=display" id="MathJax-Element-10"> \ delta ^ L = \ nabla_a C \ odot \ sigma '(z ^ L) \ tag {BP1a} </script></p><br><br>  Here ‚àá <sub>a</sub> C is defined as a vector whose components are partial derivatives ‚àÇC / ‚àÇa <sup>L</sup> <sub>j</sub> .  It can be represented as an expression of the rate of change of C with respect to output activations.  It is easy to see that equations (BP1a) and (BP1) are equivalent, therefore we will use (BP1) below to refer to any of them.  For example, in the case of a quadratic cost, we will have ‚àá <sub>a</sub> C = (a <sup>L</sup> - y), therefore the full matrix form (BP1) will be <br><br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-600"><span class="MJXp-mtext" id="MJXp-Span-601">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-602">d</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-603">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-604">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-605">t</span><span class="MJXp-msubsup" id="MJXp-Span-606"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-607" style="margin-right: 0.05em;">a</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-608" style="vertical-align: 0.5em;">L</span></span><span class="MJXp-mo" id="MJXp-Span-609" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mo" id="MJXp-Span-610" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-msubsup" id="MJXp-Span-611"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-612" style="margin-right: 0.05em;">a</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-613" style="vertical-align: 0.5em;">L</span></span><span class="MJXp-mo" id="MJXp-Span-614" style="margin-left: 0.267em; margin-right: 0.267em;">‚àí</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-615">y</span><span class="MJXp-mo" id="MJXp-Span-616" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mtext" id="MJXp-Span-617">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-618">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-619">d</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-620">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-621">t</span><span class="MJXp-mtext" id="MJXp-Span-622">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-623">s</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-624">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-625">g</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-626">m</span><span class="MJXp-msup" id="MJXp-Span-627"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-628" style="margin-right: 0.05em;">a</span><span class="MJXp-mo MJXp-script" id="MJXp-Span-629" style="vertical-align: 0.5em;">‚Ä≤</span></span><span class="MJXp-mo" id="MJXp-Span-630" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-msubsup" id="MJXp-Span-631"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-632" style="margin-right: 0.05em;">z</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-633" style="vertical-align: 0.5em;">L</span></span><span class="MJXp-mo" id="MJXp-Span-634" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mtext" id="MJXp-Span-635">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-636">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-637">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-638">g</span><span class="MJXp-mrow" id="MJXp-Span-639"><span class="MJXp-mn" id="MJXp-Span-640">30</span></span></span></span><div class="MathJax_SVG_Display MathJax_SVG_Processed" style="text-align: center;"><span class="MathJax_SVG" id="MathJax-Element-11-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="41.257ex" height="3.021ex" viewBox="0 -987.6 17763.4 1300.8" role="img" focusable="false" style="vertical-align: -0.728ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-64" x="250" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-65" x="773" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-6C" x="1240" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-74" x="1538" y="0"></use><g transform="translate(1900,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-61" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-4C" x="748" y="583"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMAIN-3D" x="3289" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMAIN-28" x="4345" y="0"></use><g transform="translate(4734,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-61" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-4C" x="748" y="583"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMAIN-2212" x="6068" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-79" x="7069" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMAIN-29" x="7566" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-6F" x="8206" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-64" x="8691" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-6F" x="9215" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-74" x="9700" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-73" x="10312" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-69" x="10781" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-67" x="11127" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-6D" x="11607" y="0"></use><g transform="translate(12486,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-61" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMAIN-2032" x="748" y="583"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMAIN-28" x="13310" y="0"></use><g transform="translate(13700,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-7A" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-4C" x="663" y="583"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMAIN-29" x="14751" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-74" x="15390" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-61" x="15752" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-67" x="16281" y="0"></use><g transform="translate(16762,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMAIN-33"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMAIN-30" x="500" y="0"></use></g></g></svg></span></div><script type="math/tex;mode=display" id="MathJax-Element-11"> \ delta ^ L = (a ^ L - y) \ odot \ sigma '(z ^ L) \ tag {30} </script></p><br><br>  Everything in this expression has a convenient vector form, and it is easy to calculate it using a library such as, for example, Numpy. <br><br>  <b>Error expression Œ¥ <sup>l</sup> through the error in the next layer, Œ¥ <sup>l + 1</sup></b> : in particular, <br><br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-641"><span class="MJXp-mtext" id="MJXp-Span-642">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-643">d</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-644">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-645">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-646">t</span><span class="MJXp-msubsup" id="MJXp-Span-647"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-648" style="margin-right: 0.05em;">a</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-649" style="vertical-align: 0.5em;">l</span></span><span class="MJXp-mo" id="MJXp-Span-650" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mo" id="MJXp-Span-651" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mo" id="MJXp-Span-652" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-msubsup" id="MJXp-Span-653"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-654" style="margin-right: 0.05em;">w</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-655" style="vertical-align: 0.5em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-656">l</span><span class="MJXp-mo" id="MJXp-Span-657">+</span><span class="MJXp-mn" id="MJXp-Span-658">1</span></span></span><span class="MJXp-msubsup" id="MJXp-Span-659"><span class="MJXp-mo" id="MJXp-Span-660" style="margin-left: 0em; margin-right: 0.05em;">)</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-661" style="vertical-align: 0.5em;">T</span></span><span class="MJXp-mtext" id="MJXp-Span-662">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-663">d</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-664">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-665">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-666">t</span><span class="MJXp-msubsup" id="MJXp-Span-667"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-668" style="margin-right: 0.05em;">a</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-669" style="vertical-align: 0.5em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-670">l</span><span class="MJXp-mo" id="MJXp-Span-671">+</span><span class="MJXp-mn" id="MJXp-Span-672">1</span></span></span><span class="MJXp-mo" id="MJXp-Span-673" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mtext" id="MJXp-Span-674">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-675">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-676">d</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-677">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-678">t</span><span class="MJXp-mtext" id="MJXp-Span-679">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-680">s</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-681">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-682">g</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-683">m</span><span class="MJXp-msup" id="MJXp-Span-684"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-685" style="margin-right: 0.05em;">a</span><span class="MJXp-mo MJXp-script" id="MJXp-Span-686" style="vertical-align: 0.5em;">‚Ä≤</span></span><span class="MJXp-mo" id="MJXp-Span-687" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-msubsup" id="MJXp-Span-688"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-689" style="margin-right: 0.05em;">z</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-690" style="vertical-align: 0.5em;">l</span></span><span class="MJXp-mo" id="MJXp-Span-691" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mtext" id="MJXp-Span-692">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-693">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-694">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-695">g</span><span class="MJXp-mrow" id="MJXp-Span-696"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-697">B</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-698">P</span><span class="MJXp-mn" id="MJXp-Span-699">2</span></span></span></span><div class="MathJax_SVG_Display MathJax_SVG_Processed" style="text-align: center;"><span class="MathJax_SVG" id="MathJax-Element-12-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="51.8ex" height="3.021ex" viewBox="0 -987.6 22302.5 1300.8" role="img" focusable="false" style="vertical-align: -0.728ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-64" x="250" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-65" x="773" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-6C" x="1240" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-74" x="1538" y="0"></use><g transform="translate(1900,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-61" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-6C" x="748" y="583"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMAIN-3D" x="3018" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMAIN-28" x="4074" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMAIN-28" x="4464" y="0"></use><g transform="translate(4853,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-77" x="0" y="0"></use><g transform="translate(716,412)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-6C" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMAIN-2B" x="298" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMAIN-31" x="1077" y="0"></use></g></g><g transform="translate(6785,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMAIN-29" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-54" x="550" y="583"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-64" x="8023" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-65" x="8546" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-6C" x="9013" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-74" x="9311" y="0"></use><g transform="translate(9673,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-61" x="0" y="0"></use><g transform="translate(529,412)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-6C" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMAIN-2B" x="298" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMAIN-31" x="1077" y="0"></use></g></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMAIN-29" x="11418" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-63" x="12057" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-64" x="12491" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-6F" x="13014" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-74" x="13500" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-73" x="14111" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-69" x="14581" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-67" x="14926" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-6D" x="15407" y="0"></use><g transform="translate(16285,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-61" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMAIN-2032" x="748" y="583"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMAIN-28" x="17110" y="0"></use><g transform="translate(17499,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-7A" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-6C" x="663" y="583"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMAIN-29" x="18280" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-74" x="18919" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-61" x="19281" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-67" x="19810" y="0"></use><g transform="translate(20291,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-42" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMATHI-50" x="759" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/457980/&amp;xid=17259,15700023,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhiiS-Hix2OB8lf1eMtGy0W1azwKng#MJMAIN-32" x="1511" y="0"></use></g></g></svg></span></div><script type="math/tex;mode=display" id="MathJax-Element-12"> \ delta ^ l = ((w ^ {l + 1}) ^ T \ delta ^ {l + 1}) \ cdot \ sigma '(z ^ l) \ tag {BP2} </script></p><br><br>  where (w <sup>l + 1</sup> ) <sup>T</sup> is the transposition of the weight matrix w <sup>l + 1</sup> for layer No. (l + 1).  The equation seems complicated, but each element is easy to interpret.  Suppose we know the error Œ¥ <sup>l + 1</sup> for the layer (l + 1).  Transposing the weight matrix, (w <sup>l + 1</sup> ) <sup>T</sup> , can be thought of as moving the error back through the network, which gives us a measure of error at the output of layer #l.  Then we count the Hadamard product ‚äôœÉ '(z <sup>l</sup> ).  This pushes the error back through the activation function in layer l, giving us the error value Œ¥l in the weighted input for layer l. <br><br>  By combining (BP2) with (BP1), we can calculate the error Œ¥ <sup>l</sup> for any network layer.  We start by using (BP1) to calculate Œ¥ <sup>L</sup> , then apply equation (BP2) to calculate Œ¥ <sup>L-1</sup> , then again to calculate Œ¥ <sup>L-2</sup> , and so on, up to the network stop in the opposite direction. <br><br>  <b>The equation for the rate of change of value with respect to any bias in the network</b> : in particular: <br><br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-700"><span class="MJXp-mtext" id="MJXp-Span-701">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-702">f</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-703">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-704">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-705">c</span><span class="MJXp-mrow" id="MJXp-Span-706"><span class="MJXp-mtext" id="MJXp-Span-707">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-708">p</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-709">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-710">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-711">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-712">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-713">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-714">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-715">C</span></span><span class="MJXp-mrow" id="MJXp-Span-716"><span class="MJXp-mtext" id="MJXp-Span-717">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-718">p</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-719">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-720">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-721">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-722">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-723">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-724">l</span><span class="MJXp-msubsup" id="MJXp-Span-725"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-726" style="margin-right: 0.05em;">b</span><span class="MJXp-script-box" style="height: 1.86em; vertical-align: -0.64em;"><span class=" MJXp-script"><span><span style="margin-bottom: -0.25em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-728">l</span></span></span></span><span class=" MJXp-script"><span><span style="margin-top: -0.85em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-727">j</span></span></span></span></span></span></span><span class="MJXp-mo" id="MJXp-Span-729" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mtext" id="MJXp-Span-730">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-731">d</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-732">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-733">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-734">t</span><span class="MJXp-msubsup" id="MJXp-Span-735"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-736" style="margin-right: 0.05em;">a</span><span class="MJXp-script-box" style="height: 1.86em; vertical-align: -0.64em;"><span class=" MJXp-script"><span><span style="margin-bottom: -0.25em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-738">l</span></span></span></span><span class=" MJXp-script"><span><span style="margin-top: -0.85em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-737">j</span></span></span></span></span></span><span class="MJXp-mtext" id="MJXp-Span-739">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-740">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-741">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-742">g</span><span class="MJXp-mrow" id="MJXp-Span-743"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-744">B</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-745">P</span><span class="MJXp-mn" id="MJXp-Span-746">3</span></span></span></span><div class="MathJax_SVG_Display MathJax_SVG_Processing"><span class="MathJax_SVG" id="MathJax-Element-13-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span></div><script type="math/tex;mode=display" id="MathJax-Element-13"> \ frac {\ partial C} {\ partial b ^ l_j} = \ delta ^ l_j \ tag {BP3} </script></p><br><br>  That is, the error Œ¥ <sup>l</sup> <sub>j is</sub> exactly equal to the rate of change of ‚àÇC / ‚àÇb <sup>l</sup> <sub>j</sub> .  This is excellent because (BP1) and (BP2) have already told us how to calculate Œ¥ <sup>l</sup> <sub>j</sub> .  We can rewrite (BP3) in short, as <br><br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-747"><span class="MJXp-mtext" id="MJXp-Span-748">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-749">f</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-750">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-751">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-752">c</span><span class="MJXp-mrow" id="MJXp-Span-753"><span class="MJXp-mtext" id="MJXp-Span-754">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-755">p</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-756">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-757">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-758">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-759">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-760">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-761">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-762">C</span></span><span class="MJXp-mrow" id="MJXp-Span-763"><span class="MJXp-mtext" id="MJXp-Span-764">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-765">p</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-766">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-767">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-768">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-769">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-770">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-771">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-772">b</span></span><span class="MJXp-mo" id="MJXp-Span-773" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mtext" id="MJXp-Span-774">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-775">d</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-776">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-777">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-778">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-779">a</span><span class="MJXp-mtext" id="MJXp-Span-780">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-781">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-782">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-783">g</span><span class="MJXp-mrow" id="MJXp-Span-784"><span class="MJXp-mn" id="MJXp-Span-785">31</span></span></span></span><div class="MathJax_SVG_Display MathJax_SVG_Processing"><span class="MathJax_SVG" id="MathJax-Element-14-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span></div><script type="math/tex;mode=display" id="MathJax-Element-14"> \ frac {\ partial C} {\ partial b} = \ delta \ tag {31} </script></p><br><br>  where Œ¥ is estimated for the same neuron as offset b. <br><br>  The equation for the rate of change of value with respect to any weight in the network: in particular: <br><br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-786"><span class="MJXp-mtext" id="MJXp-Span-787">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-788">f</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-789">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-790">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-791">c</span><span class="MJXp-mrow" id="MJXp-Span-792"><span class="MJXp-mtext" id="MJXp-Span-793">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-794">p</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-795">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-796">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-797">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-798">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-799">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-800">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-801">C</span></span><span class="MJXp-mrow" id="MJXp-Span-802"><span class="MJXp-mtext" id="MJXp-Span-803">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-804">p</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-805">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-806">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-807">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-808">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-809">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-810">l</span><span class="MJXp-msubsup" id="MJXp-Span-811"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-812" style="margin-right: 0.05em;">w</span><span class="MJXp-script-box" style="height: 1.86em; vertical-align: -0.64em;"><span class=" MJXp-script"><span><span style="margin-bottom: -0.25em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-816">l</span></span></span></span><span class=" MJXp-script"><span><span style="margin-top: -0.85em;"><span class="MJXp-mrow" id="MJXp-Span-813"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-814">j</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-815">k</span></span></span></span></span></span></span></span><span class="MJXp-mo" id="MJXp-Span-817" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-msubsup" id="MJXp-Span-818"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-819" style="margin-right: 0.05em;">a</span><span class="MJXp-script-box" style="height: 1.86em; vertical-align: -0.64em;"><span class=" MJXp-script"><span><span style="margin-bottom: -0.25em;"><span class="MJXp-mrow" id="MJXp-Span-821"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-822">l</span><span class="MJXp-mo" id="MJXp-Span-823">‚àí</span><span class="MJXp-mn" id="MJXp-Span-824">1</span></span></span></span></span><span class=" MJXp-script"><span><span style="margin-top: -0.85em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-820">k</span></span></span></span></span></span><span class="MJXp-mtext" id="MJXp-Span-825">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-826">d</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-827">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-828">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-829">t</span><span class="MJXp-msubsup" id="MJXp-Span-830"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-831" style="margin-right: 0.05em;">a</span><span class="MJXp-script-box" style="height: 1.86em; vertical-align: -0.64em;"><span class=" MJXp-script"><span><span style="margin-bottom: -0.25em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-833">l</span></span></span></span><span class=" MJXp-script"><span><span style="margin-top: -0.85em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-832">j</span></span></span></span></span></span><span class="MJXp-mtext" id="MJXp-Span-834">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-835">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-836">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-837">g</span><span class="MJXp-mrow" id="MJXp-Span-838"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-839">B</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-840">P</span><span class="MJXp-mn" id="MJXp-Span-841">4</span></span></span></span><div class="MathJax_SVG_Display MathJax_SVG_Processing"><span class="MathJax_SVG" id="MathJax-Element-15-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span></div><script type="math/tex;mode=display" id="MathJax-Element-15"> \ frac {\ partial C} {\ partial w ^ l_ {jk}} = a ^ {l-1} _k \ delta ^ l_j \ tag {BP4} </script></p><br><br>  From here we learn how to calculate the partial derivative ‚àÇC / ‚àÇw <sup>l</sup> <sub>jk</sub> in terms of Œ¥ <sup>l</sup> and a <sup>l-1</sup> , the method of calculation of which we already know.  This equation can be rewritten in a form less loaded with indexes: <br><br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-842"><span class="MJXp-mtext" id="MJXp-Span-843">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-844">f</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-845">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-846">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-847">c</span><span class="MJXp-mrow" id="MJXp-Span-848"><span class="MJXp-mtext" id="MJXp-Span-849">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-850">p</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-851">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-852">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-853">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-854">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-855">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-856">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-857">C</span></span><span class="MJXp-mrow" id="MJXp-Span-858"><span class="MJXp-mtext" id="MJXp-Span-859">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-860">p</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-861">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-862">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-863">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-864">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-865">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-866">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-867">w</span></span><span class="MJXp-mo" id="MJXp-Span-868" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-msubsup" id="MJXp-Span-869"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-870" style="margin-right: 0.05em;">a</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-871" style="vertical-align: -0.4em;"><span class="MJXp-mtext" id="MJXp-Span-872">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-873">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-874">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-875">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-876">n</span></span></span><span class="MJXp-mtext" id="MJXp-Span-877">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-878">d</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-879">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-880">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-881">t</span><span class="MJXp-msubsup" id="MJXp-Span-882"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-883" style="margin-right: 0.05em;">a</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-884" style="vertical-align: -0.4em;"><span class="MJXp-mtext" id="MJXp-Span-885">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-886">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-887">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-888">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-889">u</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-890">t</span></span></span><span class="MJXp-mtext" id="MJXp-Span-891">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-892">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-893">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-894">g</span><span class="MJXp-mrow" id="MJXp-Span-895"><span class="MJXp-mn" id="MJXp-Span-896">32</span></span></span></span><div class="MathJax_SVG_Display MathJax_SVG_Processing"><span class="MathJax_SVG" id="MathJax-Element-16-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span></div><script type="math/tex;mode=display" id="MathJax-Element-16"> \ frac {\ partial C} {\ partial w} = a _ {\ rm in} \ delta _ {\ rm out} \ tag {32} </script></p><br><br>  where a <sub>in</sub> is the activation of the neural input for the weight w, and Œ¥ <sub>out</sub> is the error of the neural output for the weight w.  If you take a closer look at the weight w and the two neurons connected by him, you can draw it like this: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/107/a27/7fe/107a277febdf24dc24de9011f54f775d.png"><br><br>  A pleasant consequence of equation (32) is that when the activation of a <sub>in</sub> is small, a <sub>in</sub> ‚âà 0, the term of the gradient ‚àÇC / ‚àÇw also tends to zero.  In this case, we say that the weight learns slowly, that is, it does not change much during the gradient descent.  In other words, one of the consequences (BP4) will be that the weight output of neurons with low activation learns slowly. <br><br>  Other ideas can be gleaned from (BP1) - (BP4).  Let's start with the output layer.  Consider the term œÉ '(z <sup>L</sup> <sub>j</sub> ) in (BP1).  Recall from the sigmoid plot from the last chapter that it becomes flat when œÉ (z <sup>L</sup> <sub>j</sub> ) approaches 0 or 1. In these cases, œÉ '(z <sup>L</sup> <sub>j</sub> ) ‚âà 0. Therefore, the weight in the last layer will be learned slowly if the activation output of the neuron is small (‚âà 0) or large (‚âà 1).  In this case, it is usually said that the output neuron is saturated, and as a result, the weight has stopped learning (or is learning slowly).  The same remarks are true for the displacement of the output neuron. <br><br>  Similar ideas can be obtained regarding earlier layers.  In particular, consider the term œÉ '(z <sup>l</sup> ) in (BP2).  This means that Œ¥ <sup>l</sup> <sub>j</sub> is likely to be small as the neuron approaches saturation.  And this, in turn, means that any weights at the input of a saturated neuron will learn slowly (although it will not work if w <sup>l + 1</sup> <sup>T</sup> Œ¥ <sup>l + 1 has</sup> sufficiently large elements that compensate for a small œÉ 'value (z <sup>L</sup> <sub>j</sub> )). <br><br>  To summarize: we learned that the weight will be learned slowly, if either the activation of the input neuron is small, or the output neuron is saturated, that is, its activation is small or large. <br><br>  This is not particularly surprising.  And yet, these observations help to improve our understanding of what happens when we train a network.  Moreover, we can approach this reasoning from the reverse side.  Four fundamental equations are valid for any activation function, and not just for the standard sigmoid (since, as we will see later, the sigmoid properties are not used in the proofs).  Therefore, these equations can be used to develop activation functions with certain necessary learning properties.  For example, suppose we chose the activation function œÉ, unlike sigmoid, such that œÉ 'is always positive and does not approach zero.  This is to prevent learning from slowing down when the normal sigmoid neurons are saturated.  Later in the book we will see examples where the activation function changes in a similar way.  Considering equations (BP1) - (BP4), we can explain why such modifications are needed, and how they can affect the situation. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/7fa/146/cad/7fa146cad4fbb85fe8f7088bca224e84.png"><br>  <i>Bottom line: backpropagation equations</i> <br><br><h2>  Tasks </h2><br><ul><li>  Alternative write backpropagation equations.  I wrote backpropagation equations using Hadamard‚Äôs work.  This can confuse people who are not used to this work.  There is another approach, based on the usual multiplication of matrices, which can be instructive for some readers.  Show that (BP1) can be rewritten as </li></ul><br><br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-897"><span class="MJXp-mtext" id="MJXp-Span-898">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-899">d</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-900">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-901">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-902">t</span><span class="MJXp-msubsup" id="MJXp-Span-903"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-904" style="margin-right: 0.05em;">a</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-905" style="vertical-align: 0.5em;">L</span></span><span class="MJXp-mo" id="MJXp-Span-906" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mtext" id="MJXp-Span-907">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-908">S</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-909">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-910">g</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-911">m</span><span class="MJXp-msup" id="MJXp-Span-912"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-913" style="margin-right: 0.05em;">a</span><span class="MJXp-mo MJXp-script" id="MJXp-Span-914" style="vertical-align: 0.5em;">‚Ä≤</span></span><span class="MJXp-mo" id="MJXp-Span-915" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-msubsup" id="MJXp-Span-916"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-917" style="margin-right: 0.05em;">z</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-918" style="vertical-align: 0.5em;">L</span></span><span class="MJXp-mo" id="MJXp-Span-919" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mtext" id="MJXp-Span-920">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-921">n</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-922">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-923">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-924">l</span><span class="MJXp-msubsup" id="MJXp-Span-925"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-926" style="margin-right: 0.05em;">a</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-927" style="vertical-align: -0.4em;">a</span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-928">C</span><span class="MJXp-mtext" id="MJXp-Span-929">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-930">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-931">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-932">g</span><span class="MJXp-mrow" id="MJXp-Span-933"><span class="MJXp-mn" id="MJXp-Span-934">33</span></span></span></span><div class="MathJax_SVG_Display MathJax_SVG_Processing"><span class="MathJax_SVG" id="MathJax-Element-17-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span></div><script type="math/tex;mode=display" id="MathJax-Element-17"> \ delta ^ L = \ Sigma '(z ^ L) \ nabla_a C \ tag {33} </script></p><br><br>  where Œ£ '(z <sup>L</sup> ) is a square matrix, with œÉ' (z <sup>L</sup> <sub>j</sub> ) located along the diagonal, and the other elements are equal to 0. Note that this matrix interacts with ‚àá <sub>a</sub> C through the usual matrix multiplication. <br><br>  Show that (BP2) can be rewritten as <br><br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-935"><span class="MJXp-mtext" id="MJXp-Span-936">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-937">d</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-938">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-939">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-940">t</span><span class="MJXp-msubsup" id="MJXp-Span-941"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-942" style="margin-right: 0.05em;">a</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-943" style="vertical-align: 0.5em;">l</span></span><span class="MJXp-mo" id="MJXp-Span-944" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mtext" id="MJXp-Span-945">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-946">S</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-947">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-948">g</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-949">m</span><span class="MJXp-msup" id="MJXp-Span-950"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-951" style="margin-right: 0.05em;">a</span><span class="MJXp-mo MJXp-script" id="MJXp-Span-952" style="vertical-align: 0.5em;">‚Ä≤</span></span><span class="MJXp-mo" id="MJXp-Span-953" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-msubsup" id="MJXp-Span-954"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-955" style="margin-right: 0.05em;">z</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-956" style="vertical-align: 0.5em;">l</span></span><span class="MJXp-mo" id="MJXp-Span-957" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mo" id="MJXp-Span-958" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-msubsup" id="MJXp-Span-959"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-960" style="margin-right: 0.05em;">w</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-961" style="vertical-align: 0.5em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-962">l</span><span class="MJXp-mo" id="MJXp-Span-963">+</span><span class="MJXp-mn" id="MJXp-Span-964">1</span></span></span><span class="MJXp-msubsup" id="MJXp-Span-965"><span class="MJXp-mo" id="MJXp-Span-966" style="margin-left: 0em; margin-right: 0.05em;">)</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-967" style="vertical-align: 0.5em;">T</span></span><span class="MJXp-mtext" id="MJXp-Span-968">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-969">d</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-970">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-971">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-972">t</span><span class="MJXp-msubsup" id="MJXp-Span-973"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-974" style="margin-right: 0.05em;">a</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-975" style="vertical-align: 0.5em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-976">l</span><span class="MJXp-mo" id="MJXp-Span-977">+</span><span class="MJXp-mn" id="MJXp-Span-978">1</span></span></span><span class="MJXp-mtext" id="MJXp-Span-979">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-980">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-981">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-982">g</span><span class="MJXp-mrow" id="MJXp-Span-983"><span class="MJXp-mn" id="MJXp-Span-984">34</span></span></span></span><div class="MathJax_SVG_Display MathJax_SVG_Processing"><span class="MathJax_SVG" id="MathJax-Element-18-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span></div><script type="math/tex;mode=display" id="MathJax-Element-18"> \ delta ^ l = \ Sigma '(z ^ l) (w ^ {l + 1}) ^ T \ delta ^ {l + 1} \ tag {34} </script></p><br><br>  Combining previous tasks, show that: <br><br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-985"><span class="MJXp-mtext" id="MJXp-Span-986">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-987">d</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-988">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-989">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-990">t</span><span class="MJXp-msubsup" id="MJXp-Span-991"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-992" style="margin-right: 0.05em;">a</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-993" style="vertical-align: 0.5em;">l</span></span><span class="MJXp-mo" id="MJXp-Span-994" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mtext" id="MJXp-Span-995">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-996">S</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-997">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-998">g</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-999">m</span><span class="MJXp-msup" id="MJXp-Span-1000"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1001" style="margin-right: 0.05em;">a</span><span class="MJXp-mo MJXp-script" id="MJXp-Span-1002" style="vertical-align: 0.5em;">‚Ä≤</span></span><span class="MJXp-mo" id="MJXp-Span-1003" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-msubsup" id="MJXp-Span-1004"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1005" style="margin-right: 0.05em;">z</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-1006" style="vertical-align: 0.5em;">l</span></span><span class="MJXp-mo" id="MJXp-Span-1007" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mo" id="MJXp-Span-1008" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-msubsup" id="MJXp-Span-1009"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1010" style="margin-right: 0.05em;">w</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-1011" style="vertical-align: 0.5em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1012">l</span><span class="MJXp-mo" id="MJXp-Span-1013">+</span><span class="MJXp-mn" id="MJXp-Span-1014">1</span></span></span><span class="MJXp-msubsup" id="MJXp-Span-1015"><span class="MJXp-mo" id="MJXp-Span-1016" style="margin-left: 0em; margin-right: 0.05em;">)</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-1017" style="vertical-align: 0.5em;">T</span></span><span class="MJXp-mtext" id="MJXp-Span-1018">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1019">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1020">d</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1021">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1022">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1023">s</span><span class="MJXp-mtext" id="MJXp-Span-1024">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1025">S</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1026">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1027">g</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1028">m</span><span class="MJXp-msup" id="MJXp-Span-1029"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1030" style="margin-right: 0.05em;">a</span><span class="MJXp-mo MJXp-script" id="MJXp-Span-1031" style="vertical-align: 0.5em;">‚Ä≤</span></span><span class="MJXp-mo" id="MJXp-Span-1032" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-msubsup" id="MJXp-Span-1033"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1034" style="margin-right: 0.05em;">z</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-1035" style="vertical-align: 0.5em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1036">L</span><span class="MJXp-mo" id="MJXp-Span-1037">‚àí</span><span class="MJXp-mn" id="MJXp-Span-1038">1</span></span></span><span class="MJXp-mo" id="MJXp-Span-1039" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mo" id="MJXp-Span-1040" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-msubsup" id="MJXp-Span-1041"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1042" style="margin-right: 0.05em;">w</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-1043" style="vertical-align: 0.5em;">L</span></span><span class="MJXp-msubsup" id="MJXp-Span-1044"><span class="MJXp-mo" id="MJXp-Span-1045" style="margin-left: 0em; margin-right: 0.05em;">)</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-1046" style="vertical-align: 0.5em;">T</span></span><span class="MJXp-mtext" id="MJXp-Span-1047">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1048">S</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1049">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1050">g</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1051">m</span><span class="MJXp-msup" id="MJXp-Span-1052"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1053" style="margin-right: 0.05em;">a</span><span class="MJXp-mo MJXp-script" id="MJXp-Span-1054" style="vertical-align: 0.5em;">‚Ä≤</span></span><span class="MJXp-mo" id="MJXp-Span-1055" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-msubsup" id="MJXp-Span-1056"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1057" style="margin-right: 0.05em;">z</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-1058" style="vertical-align: 0.5em;">L</span></span><span class="MJXp-mo" id="MJXp-Span-1059" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mtext" id="MJXp-Span-1060">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1061">n</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1062">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1063">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1064">l</span><span class="MJXp-msubsup" id="MJXp-Span-1065"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1066" style="margin-right: 0.05em;">a</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-1067" style="vertical-align: -0.4em;">a</span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1068">C</span><span class="MJXp-mtext" id="MJXp-Span-1069">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1070">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1071">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1072">g</span><span class="MJXp-mrow" id="MJXp-Span-1073"><span class="MJXp-mn" id="MJXp-Span-1074">35</span></span></span></span><div class="MathJax_SVG_Display MathJax_SVG_Processing"><span class="MathJax_SVG" id="MathJax-Element-19-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span></div><script type="math/tex;mode=display" id="MathJax-Element-19"> \ delta ^ l = \ Sigma '(z ^ l) (w ^ {l + 1}) ^ T \ ldots \ Sigma' (z ^ {L-1}) (w ^ L) ^ T \ Sigma '( z ^ L) \ nabla_a C \ tag {35} </script></p><br><br>  For readers familiar with matrix multiplication, this equation will be easier to understand than (BP1) and (BP2).  I concentrate on (BP1) and (BP2) because this approach turns out to be faster to implement numerically.  [here Œ£ is not a sum (‚àë), but a capital œÉ (sigma) / <i>approx.</i>  <i>trans.</i>  ] <br><br><h2>  Proof of four fundamental equations (optional section) </h2><br>  We now prove four fundamental equations (BP1) - (BP4).  All of them are consequences of the chain rule (the rule of differentiation of a complex function) from the analysis of functions of many variables.  If you are familiar with the chain rule, I strongly recommend trying to calculate the derivatives yourself before continuing reading. <br><br>  We start with the equation (BP1), which gives us an expression for the output error Œ¥ <sup>L.</sup>  To prove it, we recall that, by definition: <br><br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-1075"><span class="MJXp-mtext" id="MJXp-Span-1076">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1077">d</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1078">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1079">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1080">t</span><span class="MJXp-msubsup" id="MJXp-Span-1081"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1082" style="margin-right: 0.05em;">a</span><span class="MJXp-script-box" style="height: 1.86em; vertical-align: -0.64em;"><span class=" MJXp-script"><span><span style="margin-bottom: -0.25em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1084">L</span></span></span></span><span class=" MJXp-script"><span><span style="margin-top: -0.85em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1083">j</span></span></span></span></span></span><span class="MJXp-mo" id="MJXp-Span-1085" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mtext" id="MJXp-Span-1086">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1087">f</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1088">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1089">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1090">c</span><span class="MJXp-mrow" id="MJXp-Span-1091"><span class="MJXp-mtext" id="MJXp-Span-1092">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1093">p</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1094">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1095">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1096">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1097">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1098">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1099">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1100">C</span></span><span class="MJXp-mrow" id="MJXp-Span-1101"><span class="MJXp-mtext" id="MJXp-Span-1102">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1103">p</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1104">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1105">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1106">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1107">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1108">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1109">l</span><span class="MJXp-msubsup" id="MJXp-Span-1110"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1111" style="margin-right: 0.05em;">z</span><span class="MJXp-script-box" style="height: 1.86em; vertical-align: -0.64em;"><span class=" MJXp-script"><span><span style="margin-bottom: -0.25em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1113">L</span></span></span></span><span class=" MJXp-script"><span><span style="margin-top: -0.85em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1112">j</span></span></span></span></span></span></span><span class="MJXp-mtext" id="MJXp-Span-1114">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1115">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1116">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1117">g</span><span class="MJXp-mrow" id="MJXp-Span-1118"><span class="MJXp-mn" id="MJXp-Span-1119">36</span></span></span></span><div class="MathJax_SVG_Display MathJax_SVG_Processing"><span class="MathJax_SVG" id="MathJax-Element-20-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span></div><script type="math/tex;mode=display" id="MathJax-Element-20"> \ delta ^ L_j = \ frac {\ partial C} {\ partial z ^ L_j} \ tag {36} </script></p><br><br>  Applying the chain rule, we rewrite the partial derivatives through the partial derivatives on the output activations: <br><br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-1120"><span class="MJXp-mtext" id="MJXp-Span-1121">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1122">d</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1123">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1124">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1125">t</span><span class="MJXp-msubsup" id="MJXp-Span-1126"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1127" style="margin-right: 0.05em;">a</span><span class="MJXp-script-box" style="height: 1.86em; vertical-align: -0.64em;"><span class=" MJXp-script"><span><span style="margin-bottom: -0.25em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1129">L</span></span></span></span><span class=" MJXp-script"><span><span style="margin-top: -0.85em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1128">j</span></span></span></span></span></span><span class="MJXp-mo" id="MJXp-Span-1130" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mtext" id="MJXp-Span-1131">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1132">s</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1133">u</span><span class="MJXp-msubsup" id="MJXp-Span-1134"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1135" style="margin-right: 0.05em;">m</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-1136" style="vertical-align: -0.4em;">k</span></span><span class="MJXp-mtext" id="MJXp-Span-1137">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1138">f</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1139">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1140">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1141">c</span><span class="MJXp-mrow" id="MJXp-Span-1142"><span class="MJXp-mtext" id="MJXp-Span-1143">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1144">p</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1145">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1146">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1147">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1148">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1149">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1150">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1151">C</span></span><span class="MJXp-mrow" id="MJXp-Span-1152"><span class="MJXp-mtext" id="MJXp-Span-1153">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1154">p</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1155">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1156">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1157">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1158">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1159">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1160">l</span><span class="MJXp-msubsup" id="MJXp-Span-1161"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1162" style="margin-right: 0.05em;">a</span><span class="MJXp-script-box" style="height: 1.86em; vertical-align: -0.64em;"><span class=" MJXp-script"><span><span style="margin-bottom: -0.25em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1164">L</span></span></span></span><span class=" MJXp-script"><span><span style="margin-top: -0.85em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1163">k</span></span></span></span></span></span></span><span class="MJXp-mtext" id="MJXp-Span-1165">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1166">f</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1167">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1168">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1169">c</span><span class="MJXp-mrow" id="MJXp-Span-1170"><span class="MJXp-mtext" id="MJXp-Span-1171">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1172">p</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1173">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1174">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1175">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1176">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1177">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1178">l</span><span class="MJXp-msubsup" id="MJXp-Span-1179"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1180" style="margin-right: 0.05em;">a</span><span class="MJXp-script-box" style="height: 1.86em; vertical-align: -0.64em;"><span class=" MJXp-script"><span><span style="margin-bottom: -0.25em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1182">L</span></span></span></span><span class=" MJXp-script"><span><span style="margin-top: -0.85em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1181">k</span></span></span></span></span></span></span><span class="MJXp-mrow" id="MJXp-Span-1183"><span class="MJXp-mtext" id="MJXp-Span-1184">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1185">p</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1186">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1187">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1188">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1189">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1190">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1191">l</span><span class="MJXp-msubsup" id="MJXp-Span-1192"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1193" style="margin-right: 0.05em;">z</span><span class="MJXp-script-box" style="height: 1.86em; vertical-align: -0.64em;"><span class=" MJXp-script"><span><span style="margin-bottom: -0.25em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1195">L</span></span></span></span><span class=" MJXp-script"><span><span style="margin-top: -0.85em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1194">j</span></span></span></span></span></span></span><span class="MJXp-mtext" id="MJXp-Span-1196">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1197">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1198">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1199">g</span><span class="MJXp-mrow" id="MJXp-Span-1200"><span class="MJXp-mn" id="MJXp-Span-1201">37</span></span></span></span><div class="MathJax_SVG_Display MathJax_SVG_Processing"><span class="MathJax_SVG" id="MathJax-Element-21-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span></div><script type="math/tex;mode=display" id="MathJax-Element-21"> \ delta ^ L_j = \ sum_k \ frac {\ partial C} {\ partial a ^ L_k} \ frac {\ partial a ^ L_k} {\ partial z ^ L_j} \ tag {37} </script></p><br><br>  where the summation goes over all neurons k in the output layer.  Of course, the output activation a <sup>L</sup> <sub>k of the</sub> neuron No. <sub>k</sub> depends only on the weighted input z <sup>L</sup> <sub>j</sub> for the neuron No. j, when k = j.  Therefore, ‚àÇa <sup>L</sup> <sub>k</sub> / ‚àÇz <sup>L</sup> <sub>j</sub> disappears when k ‚â† j.  As a result, we simplify the previous equation to <br><br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-1202"><span class="MJXp-mtext" id="MJXp-Span-1203">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1204">d</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1205">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1206">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1207">t</span><span class="MJXp-msubsup" id="MJXp-Span-1208"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1209" style="margin-right: 0.05em;">a</span><span class="MJXp-script-box" style="height: 1.86em; vertical-align: -0.64em;"><span class=" MJXp-script"><span><span style="margin-bottom: -0.25em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1211">L</span></span></span></span><span class=" MJXp-script"><span><span style="margin-top: -0.85em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1210">j</span></span></span></span></span></span><span class="MJXp-mo" id="MJXp-Span-1212" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mtext" id="MJXp-Span-1213">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1214">f</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1215">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1216">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1217">c</span><span class="MJXp-mrow" id="MJXp-Span-1218"><span class="MJXp-mtext" id="MJXp-Span-1219">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1220">p</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1221">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1222">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1223">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1224">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1225">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1226">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1227">C</span></span><span class="MJXp-mrow" id="MJXp-Span-1228"><span class="MJXp-mtext" id="MJXp-Span-1229">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1230">p</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1231">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1232">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1233">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1234">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1235">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1236">l</span><span class="MJXp-msubsup" id="MJXp-Span-1237"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1238" style="margin-right: 0.05em;">a</span><span class="MJXp-script-box" style="height: 1.86em; vertical-align: -0.64em;"><span class=" MJXp-script"><span><span style="margin-bottom: -0.25em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1240">L</span></span></span></span><span class=" MJXp-script"><span><span style="margin-top: -0.85em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1239">j</span></span></span></span></span></span></span><span class="MJXp-mtext" id="MJXp-Span-1241">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1242">f</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1243">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1244">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1245">c</span><span class="MJXp-mrow" id="MJXp-Span-1246"><span class="MJXp-mtext" id="MJXp-Span-1247">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1248">p</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1249">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1250">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1251">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1252">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1253">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1254">l</span><span class="MJXp-msubsup" id="MJXp-Span-1255"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1256" style="margin-right: 0.05em;">a</span><span class="MJXp-script-box" style="height: 1.86em; vertical-align: -0.64em;"><span class=" MJXp-script"><span><span style="margin-bottom: -0.25em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1258">L</span></span></span></span><span class=" MJXp-script"><span><span style="margin-top: -0.85em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1257">j</span></span></span></span></span></span></span><span class="MJXp-mrow" id="MJXp-Span-1259"><span class="MJXp-mtext" id="MJXp-Span-1260">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1261">p</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1262">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1263">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1264">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1265">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1266">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1267">l</span><span class="MJXp-msubsup" id="MJXp-Span-1268"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1269" style="margin-right: 0.05em;">z</span><span class="MJXp-script-box" style="height: 1.86em; vertical-align: -0.64em;"><span class=" MJXp-script"><span><span style="margin-bottom: -0.25em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1271">L</span></span></span></span><span class=" MJXp-script"><span><span style="margin-top: -0.85em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1270">j</span></span></span></span></span></span></span><span class="MJXp-mtext" id="MJXp-Span-1272">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1273">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1274">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1275">g</span><span class="MJXp-mrow" id="MJXp-Span-1276"><span class="MJXp-mn" id="MJXp-Span-1277">38</span></span></span></span><div class="MathJax_SVG_Display MathJax_SVG_Processing"><span class="MathJax_SVG" id="MathJax-Element-22-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span></div><script type="math/tex;mode=display" id="MathJax-Element-22"> \ delta ^ L_j = \ frac {\ partial C} {\ partial a ^ L_j} \ frac {\ partial a ^ L_j} {\ partial z ^ L_j} \ tag {38} </script></p><br><br>  Recalling that a <sup>L</sup> <sub>j</sub> = œÉ (z <sup>L</sup> <sub>j</sub> ), we can rewrite the second term on the right as œÉ '(z <sup>L</sup> <sub>j</sub> ), and the equation turns into <br><br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-1278"><span class="MJXp-mtext" id="MJXp-Span-1279">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1280"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">d </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1281"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">e </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1282"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">l </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1283"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">t </font></font></span><span class="MJXp-msubsup" id="MJXp-Span-1284"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1285" style="margin-right: 0.05em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">a </font></font></span><span class="MJXp-script-box" style="height: 1.86em; vertical-align: -0.64em;"><span class=" MJXp-script"><span><span style="margin-bottom: -0.25em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1287"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">L </font></font></span></span></span></span><span class=" MJXp-script"><span><span style="margin-top: -0.85em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1286"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">j</font></font></span></span></span></span></span></span><span class="MJXp-mo" id="MJXp-Span-1288" style="margin-left: 0.333em; margin-right: 0.333em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> = </font></font></span><font style="vertical-align: inherit;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1290"><font style="vertical-align: inherit;">f </font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1291"><font style="vertical-align: inherit;">r </font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1292"><font style="vertical-align: inherit;">a </font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1293"><font style="vertical-align: inherit;">c </font></span><span class="MJXp-mrow" id="MJXp-Span-1294"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1296"><font style="vertical-align: inherit;">p </font></span></span><span class="MJXp-mrow" id="MJXp-Span-1294"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1297"><font style="vertical-align: inherit;">a </font></span></span><span class="MJXp-mrow" id="MJXp-Span-1294"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1298"><font style="vertical-align: inherit;">r </font></span></span><span class="MJXp-mrow" id="MJXp-Span-1294"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1299"><font style="vertical-align: inherit;">t </font></span></span><span class="MJXp-mrow" id="MJXp-Span-1294"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1300"><font style="vertical-align: inherit;">i </font></span></span><span class="MJXp-mrow" id="MJXp-Span-1294"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1301"><font style="vertical-align: inherit;">a </font></span></span><span class="MJXp-mrow" id="MJXp-Span-1294"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1302"><font style="vertical-align: inherit;">l </font></span></span><span class="MJXp-mrow" id="MJXp-Span-1294"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1303"><font style="vertical-align: inherit;">C </font></span></span><span class="MJXp-mrow" id="MJXp-Span-1304"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1306"><font style="vertical-align: inherit;">p </font></span></span><span class="MJXp-mrow" id="MJXp-Span-1304"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1307"><font style="vertical-align: inherit;">a </font></span></span><span class="MJXp-mrow" id="MJXp-Span-1304"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1308"><font style="vertical-align: inherit;">r </font></span></span><span class="MJXp-mrow" id="MJXp-Span-1304"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1309"><font style="vertical-align: inherit;">t </font></span></span><span class="MJXp-mrow" id="MJXp-Span-1304"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1310"><font style="vertical-align: inherit;">i </font></span></span><span class="MJXp-mrow" id="MJXp-Span-1304"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1311"><font style="vertical-align: inherit;">a </font></span></span><span class="MJXp-mrow" id="MJXp-Span-1304"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1312"><font style="vertical-align: inherit;">l </font></span></span><span class="MJXp-mrow" id="MJXp-Span-1304"><span class="MJXp-msubsup" id="MJXp-Span-1313"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1314" style="margin-right: 0.05em;"><font style="vertical-align: inherit;">a </font></span></span></span><span class="MJXp-mrow" id="MJXp-Span-1304"><span class="MJXp-msubsup" id="MJXp-Span-1313"><span class="MJXp-script-box" style="height: 1.86em; vertical-align: -0.64em;"><span class=" MJXp-script"><span><span style="margin-bottom: -0.25em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1316"><font style="vertical-align: inherit;">L </font></span></span></span></span></span></span></span><span class="MJXp-mrow" id="MJXp-Span-1304"><span class="MJXp-msubsup" id="MJXp-Span-1313"><span class="MJXp-script-box" style="height: 1.86em; vertical-align: -0.64em;"><span class=" MJXp-script"><span><span style="margin-top: -0.85em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1315"><font style="vertical-align: inherit;">j</font></span></span></span></span></span></span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1318"><font style="vertical-align: inherit;"> s </font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1319"><font style="vertical-align: inherit;">i </font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1320"><font style="vertical-align: inherit;">g </font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1321"><font style="vertical-align: inherit;">m </font></span><span class="MJXp-msup" id="MJXp-Span-1322"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1323" style="margin-right: 0.05em;"><font style="vertical-align: inherit;">a </font></span></span><span class="MJXp-msup" id="MJXp-Span-1322"><span class="MJXp-mo MJXp-script" id="MJXp-Span-1324" style="vertical-align: 0.5em;"><font style="vertical-align: inherit;">'</font></span></span><span class="MJXp-mo" id="MJXp-Span-1325" style="margin-left: 0em; margin-right: 0em;"><font style="vertical-align: inherit;"> ( </font></span><span class="MJXp-msubsup" id="MJXp-Span-1326"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1327" style="margin-right: 0.05em;"><font style="vertical-align: inherit;">z </font></span></span><span class="MJXp-msubsup" id="MJXp-Span-1326"><span class="MJXp-script-box" style="height: 1.86em; vertical-align: -0.64em;"><span class=" MJXp-script"><span><span style="margin-bottom: -0.25em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1329"><font style="vertical-align: inherit;">L </font></span></span></span></span></span></span><span class="MJXp-msubsup" id="MJXp-Span-1326"><span class="MJXp-script-box" style="height: 1.86em; vertical-align: -0.64em;"><span class=" MJXp-script"><span><span style="margin-top: -0.85em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1328"><font style="vertical-align: inherit;">j</font></span></span></span></span></span></span><span class="MJXp-mo" id="MJXp-Span-1330" style="margin-left: 0em; margin-right: 0em;"><font style="vertical-align: inherit;"> ) </font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1332"><font style="vertical-align: inherit;">t </font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1333"><font style="vertical-align: inherit;">a </font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1334"><font style="vertical-align: inherit;">g </font></span><span class="MJXp-mrow" id="MJXp-Span-1335"><span class="MJXp-mn" id="MJXp-Span-1336"><font style="vertical-align: inherit;">39</font></span></span></font><span class="MJXp-mtext" id="MJXp-Span-1289">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1290"><font style="vertical-align: inherit;"></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1291"><font style="vertical-align: inherit;"></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1292"><font style="vertical-align: inherit;"></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1293"><font style="vertical-align: inherit;"></font></span><span class="MJXp-mrow" id="MJXp-Span-1294"><span class="MJXp-mtext" id="MJXp-Span-1295">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1296"><font style="vertical-align: inherit;"></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1297"><font style="vertical-align: inherit;"></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1298"><font style="vertical-align: inherit;"></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1299"><font style="vertical-align: inherit;"></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1300"><font style="vertical-align: inherit;"></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1301"><font style="vertical-align: inherit;"></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1302"><font style="vertical-align: inherit;"></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1303"><font style="vertical-align: inherit;"></font></span></span><span class="MJXp-mrow" id="MJXp-Span-1304"><span class="MJXp-mtext" id="MJXp-Span-1305">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1306"><font style="vertical-align: inherit;"></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1307"><font style="vertical-align: inherit;"></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1308"><font style="vertical-align: inherit;"></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1309"><font style="vertical-align: inherit;"></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1310"><font style="vertical-align: inherit;"></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1311"><font style="vertical-align: inherit;"></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1312"><font style="vertical-align: inherit;"></font></span><span class="MJXp-msubsup" id="MJXp-Span-1313"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1314" style="margin-right: 0.05em;"><font style="vertical-align: inherit;"></font></span><span class="MJXp-script-box" style="height: 1.86em; vertical-align: -0.64em;"><span class=" MJXp-script"><span><span style="margin-bottom: -0.25em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1316"><font style="vertical-align: inherit;"></font></span></span></span></span><span class=" MJXp-script"><span><span style="margin-top: -0.85em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1315"><font style="vertical-align: inherit;"></font></span></span></span></span></span></span></span><span class="MJXp-mtext" id="MJXp-Span-1317">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1318"><font style="vertical-align: inherit;"></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1319"><font style="vertical-align: inherit;"></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1320"><font style="vertical-align: inherit;"></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1321"><font style="vertical-align: inherit;"></font></span><span class="MJXp-msup" id="MJXp-Span-1322"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1323" style="margin-right: 0.05em;"><font style="vertical-align: inherit;"></font></span><span class="MJXp-mo MJXp-script" id="MJXp-Span-1324" style="vertical-align: 0.5em;"><font style="vertical-align: inherit;"></font></span></span><span class="MJXp-mo" id="MJXp-Span-1325" style="margin-left: 0em; margin-right: 0em;"><font style="vertical-align: inherit;"></font></span><span class="MJXp-msubsup" id="MJXp-Span-1326"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1327" style="margin-right: 0.05em;"><font style="vertical-align: inherit;"></font></span><span class="MJXp-script-box" style="height: 1.86em; vertical-align: -0.64em;"><span class=" MJXp-script"><span><span style="margin-bottom: -0.25em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1329"><font style="vertical-align: inherit;"></font></span></span></span></span><span class=" MJXp-script"><span><span style="margin-top: -0.85em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1328"><font style="vertical-align: inherit;"></font></span></span></span></span></span></span><span class="MJXp-mo" id="MJXp-Span-1330" style="margin-left: 0em; margin-right: 0em;"><font style="vertical-align: inherit;"></font></span><span class="MJXp-mtext" id="MJXp-Span-1331">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1332"><font style="vertical-align: inherit;"></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1333"><font style="vertical-align: inherit;"></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1334"><font style="vertical-align: inherit;"></font></span><span class="MJXp-mrow" id="MJXp-Span-1335"><span class="MJXp-mn" id="MJXp-Span-1336"><font style="vertical-align: inherit;"></font></span></span></span></span><div class="MathJax_SVG_Display MathJax_SVG_Processing"><span class="MathJax_SVG" id="MathJax-Element-23-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span></div><script type="math/tex;mode=display" id="MathJax-Element-23"> \ delta ^ L_j = \ frac {\ partial C} {\ partial a ^ L_j} \ sigma '(z ^ L_j) \ tag {39} </script></p><br><br>  that is, in (BP1) in an exploded view. <br><br>  Then we prove (BP2), which gives the equation for the error Œ¥ <sup>l</sup> through the error in the next layer Œ¥ <sup>l + 1</sup> .  To do this, we need to rewrite Œ¥ <sup>l</sup> <sub>j</sub> = ‚àÇC / ‚àÇz <sup>l</sup> <sub>j in</sub> terms of Œ¥ <sup>l + 1</sup> <sub>k</sub> = C / ‚àÇz <sup>l + 1</sup> <sub>k</sub> .<font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> This can be done using the chain rule: </font></font><br><br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-1337"><span class="MJXp-mtable" id="MJXp-Span-1338"><span><span class="MJXp-mlabeledtr" id="MJXp-Span-1339" style="vertical-align: baseline;"><span class="MJXp-mtd" id="MJXp-Span-1340" style="text-align: center;"><span class="MJXp-msubsup" id="MJXp-Span-1341"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1342" style="margin-right: 0.05em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Œ¥ </font></font></span><span class="MJXp-script-box" style="height: 1.86em; vertical-align: -0.64em;"><span class=" MJXp-script"><span><span style="margin-bottom: -0.25em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1344"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">l </font></font></span></span></span></span><span class=" MJXp-script"><span><span style="margin-top: -0.85em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1343"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">j</font></font></span></span></span></span></span></span><span class="MJXp-mo" id="MJXp-Span-1345" style="margin-left: 0.333em; margin-right: 0.333em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> = </font></font></span><span class="MJXp-mfrac" id="MJXp-Span-1346" style="vertical-align: 0.25em;"><span class="MJXp-box"><span class="MJXp-mi" id="MJXp-Span-1347"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">‚àÇ </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1348"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">C</font></font></span></span><span class="MJXp-box" style="margin-top: -0.9em;"><span class="MJXp-denom"><span><span class="MJXp-rule" style="height: 1em; border-top: none; border-bottom: 1px solid; margin: 0.1em 0px;"></span></span><span><span class="MJXp-box"><span class="MJXp-mi" id="MJXp-Span-1349"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">‚àÇ </font></font></span><span class="MJXp-msubsup" id="MJXp-Span-1350"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1351" style="margin-right: 0.05em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">z </font></font></span><span class="MJXp-script-box" style="height: 1.86em; vertical-align: -0.64em;"><span class=" MJXp-script"><span><span style="margin-bottom: -0.25em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1353"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">l </font></font></span></span></span></span><span class=" MJXp-script"><span><span style="margin-top: -0.85em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1352"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">j</font></font></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><div class="MathJax_SVG_Display MathJax_SVG_Processing"><span class="MathJax_SVG" id="MathJax-Element-24-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span></div><script type="math/tex;mode=display" id="MathJax-Element-24"> \delta^l_j = \frac{\partial C}{\partial z^l_j} \tag{40} </script></p><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-1354"><span class="MJXp-mtable" id="MJXp-Span-1355"><span><span class="MJXp-mlabeledtr" id="MJXp-Span-1356" style="vertical-align: baseline;"><span class="MJXp-mtd" id="MJXp-Span-1357" style="text-align: center;"><span class="MJXp-mo" id="MJXp-Span-1358" style="margin-left: 0.333em; margin-right: 0.333em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">= </font></font></span><span class="MJXp-munderover" id="MJXp-Span-1359"><span class=""><span class="MJXp-mo" id="MJXp-Span-1360" style="margin-left: 0.111em; margin-right: 0.167em;"><span class="MJXp-largeop"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">‚àë</font></font></span></span></span><span class=" MJXp-script"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1361" style="margin-left: 0px;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> k </font></font></span></span></span><span class="MJXp-mfrac" id="MJXp-Span-1362" style="vertical-align: 0.25em;"><span class="MJXp-box"><span class="MJXp-mi" id="MJXp-Span-1363"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">‚àÇ </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1364"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">C</font></font></span></span><span class="MJXp-box" style="margin-top: -0.9em;"><span class="MJXp-denom"><span><span class="MJXp-rule" style="height: 1em; border-top: none; border-bottom: 1px solid; margin: 0.1em 0px;"></span></span><span><span class="MJXp-box"><span class="MJXp-mi" id="MJXp-Span-1365"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">‚àÇ </font></font></span><span class="MJXp-msubsup" id="MJXp-Span-1366"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1367" style="margin-right: 0.05em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">z </font></font></span><span class="MJXp-script-box" style="height: 1.86em; vertical-align: -0.64em;"><span class=" MJXp-script"><span><span style="margin-bottom: -0.25em;"><span class="MJXp-mrow" id="MJXp-Span-1369"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1370"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">l </font></font></span><span class="MJXp-mo" id="MJXp-Span-1371"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">+ </font></font></span><span class="MJXp-mn" id="MJXp-Span-1372"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1</font></font></span></span></span></span></span><span class=" MJXp-script"><span><span style="margin-top: -0.85em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1368"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> k</font></font></span></span></span></span></span></span></span></span></span></span></span><span class="MJXp-mfrac" id="MJXp-Span-1373" style="vertical-align: 0.25em;"><span class="MJXp-box"><span class="MJXp-mi" id="MJXp-Span-1374"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ‚àÇ</font></font></span><span class="MJXp-msubsup" id="MJXp-Span-1375"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1376" style="margin-right: 0.05em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">z</font></font></span><span class="MJXp-script-box" style="height: 1.86em; vertical-align: -0.64em;"><span class=" MJXp-script"><span><span style="margin-bottom: -0.25em;"><span class="MJXp-mrow" id="MJXp-Span-1378"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1379"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> l </font></font></span><span class="MJXp-mo" id="MJXp-Span-1380"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">+ </font></font></span><span class="MJXp-mn" id="MJXp-Span-1381"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1</font></font></span></span></span></span></span><span class=" MJXp-script"><span><span style="margin-top: -0.85em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1377"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> k</font></font></span></span></span></span></span></span></span><span class="MJXp-box" style="margin-top: -0.9em;"><span class="MJXp-denom"><span><span class="MJXp-rule" style="height: 1em; border-top: none; border-bottom: 1px solid; margin: 0.1em 0px;"></span></span><span><span class="MJXp-box"><span class="MJXp-mi" id="MJXp-Span-1382"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">‚àÇ </font></font></span><span class="MJXp-msubsup" id="MJXp-Span-1383"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1384" style="margin-right: 0.05em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">z </font></font></span><span class="MJXp-script-box" style="height: 1.86em; vertical-align: -0.64em;"><span class=" MJXp-script"><span><span style="margin-bottom: -0.25em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1386"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">l </font></font></span></span></span></span><span class=" MJXp-script"><span><span style="margin-top: -0.85em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1385"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">j</font></font></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><div class="MathJax_SVG_Display MathJax_SVG_Processing"><span class="MathJax_SVG" id="MathJax-Element-25-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span></div><script type="math/tex;mode=display" id="MathJax-Element-25"> = \sum_k \frac{\partial C}{\partial z^{l+1}_k} \frac{\partial z^{l+1}_k}{\partial z^l_j} \tag{41} </script></p><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-1387"><span class="MJXp-mtable" id="MJXp-Span-1388"><span><span class="MJXp-mlabeledtr" id="MJXp-Span-1389" style="vertical-align: baseline;"><span class="MJXp-mtd" id="MJXp-Span-1390" style="text-align: center;"><span class="MJXp-mo" id="MJXp-Span-1391" style="margin-left: 0.333em; margin-right: 0.333em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">= </font></font></span><span class="MJXp-munderover" id="MJXp-Span-1392"><span class=""><span class="MJXp-mo" id="MJXp-Span-1393" style="margin-left: 0.111em; margin-right: 0.167em;"><span class="MJXp-largeop"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">‚àë</font></font></span></span></span><span class=" MJXp-script"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1394" style="margin-left: 0px;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> k </font></font></span></span></span><span class="MJXp-mfrac" id="MJXp-Span-1395" style="vertical-align: 0.25em;"><span class="MJXp-box"><span class="MJXp-mi" id="MJXp-Span-1396"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">‚àÇ </font></font></span><span class="MJXp-msubsup" id="MJXp-Span-1397"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1398" style="margin-right: 0.05em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">z </font></font></span><span class="MJXp-script-box" style="height: 1.86em; vertical-align: -0.64em;"><span class=" MJXp-script"><span><span style="margin-bottom: -0.25em;"><span class="MJXp-mrow" id="MJXp-Span-1400"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1401"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">l </font></font></span><span class="MJXp-mo" id="MJXp-Span-1402"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">+ </font></font></span><span class="MJXp-mn" id="MJXp-Span-1403"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1</font></font></span></span></span></span></span><span class=" MJXp-script"><span><span style="margin-top: -0.85em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1399"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> k</font></font></span></span></span></span></span></span></span><span class="MJXp-box" style="margin-top: -0.9em;"><span class="MJXp-denom"><span><span class="MJXp-rule" style="height: 1em; border-top: none; border-bottom: 1px solid; margin: 0.1em 0px;"></span></span><span><span class="MJXp-box"><span class="MJXp-mi" id="MJXp-Span-1404"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">‚àÇ </font></font></span><span class="MJXp-msubsup" id="MJXp-Span-1405"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1406" style="margin-right: 0.05em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">z </font></font></span><span class="MJXp-script-box" style="height: 1.86em; vertical-align: -0.64em;"><span class=" MJXp-script"><span><span style="margin-bottom: -0.25em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1408"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">l </font></font></span></span></span></span><span class=" MJXp-script"><span><span style="margin-top: -0.85em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1407"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">j</font></font></span></span></span></span></span></span></span></span></span></span></span><span class="MJXp-msubsup" id="MJXp-Span-1409"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1410" style="margin-right: 0.05em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Œ¥</font></font></span><span class="MJXp-script-box" style="height: 1.86em; vertical-align: -0.64em;"><span class=" MJXp-script"><span><span style="margin-bottom: -0.25em;"><span class="MJXp-mrow" id="MJXp-Span-1412"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1413"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> l </font></font></span><span class="MJXp-mo" id="MJXp-Span-1414"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">+ </font></font></span><span class="MJXp-mn" id="MJXp-Span-1415"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1</font></font></span></span></span></span></span><span class=" MJXp-script"><span><span style="margin-top: -0.85em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1411"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> k</font></font></span></span></span></span></span></span></span></span></span></span></span></span><div class="MathJax_SVG_Display MathJax_SVG_Processing"><span class="MathJax_SVG" id="MathJax-Element-26-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span></div><script type="math/tex;mode=display" id="MathJax-Element-26"> = \sum_k \frac{\partial z^{l+1}_k}{\partial z^l_j} \delta^{l+1}_k \tag{42} </script></p><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">where in the last line we swapped the two terms on the right, and substituted the definition Œ¥ </font></font><sup><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">l + 1 </font></font></sup> <sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">k</font></font></sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">To calculate the first term on the last line, we note that</font></font><br><br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-1416"><span class="MJXp-mtable" id="MJXp-Span-1417"><span><span class="MJXp-mlabeledtr" id="MJXp-Span-1418" style="vertical-align: baseline;"><span class="MJXp-mtd" id="MJXp-Span-1419" style="text-align: center;"><span class="MJXp-msubsup" id="MJXp-Span-1420"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1421" style="margin-right: 0.05em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">z </font></font></span><span class="MJXp-script-box" style="height: 1.86em; vertical-align: -0.64em;"><span class=" MJXp-script"><span><span style="margin-bottom: -0.25em;"><span class="MJXp-mrow" id="MJXp-Span-1423"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1424"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">l </font></font></span><span class="MJXp-mo" id="MJXp-Span-1425"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">+ </font></font></span><span class="MJXp-mn" id="MJXp-Span-1426"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1</font></font></span></span></span></span></span><span class=" MJXp-script"><span><span style="margin-top: -0.85em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1422"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> k</font></font></span></span></span></span></span></span><span class="MJXp-mo" id="MJXp-Span-1427" style="margin-left: 0.333em; margin-right: 0.333em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> = </font></font></span><span class="MJXp-munderover" id="MJXp-Span-1428"><span class=""><span class="MJXp-mo" id="MJXp-Span-1429" style="margin-left: 0.111em; margin-right: 0.167em;"><span class="MJXp-largeop"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">‚àë</font></font></span></span></span><span class=" MJXp-script"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1430" style="margin-left: 0px;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> j</font></font></span></span></span><span class="MJXp-msubsup" id="MJXp-Span-1431"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1432" style="margin-right: 0.05em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> w </font></font></span><span class="MJXp-script-box" style="height: 1.86em; vertical-align: -0.64em;"><span class=" MJXp-script"><span><span style="margin-bottom: -0.25em;"><span class="MJXp-mrow" id="MJXp-Span-1436"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1437"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">l </font></font></span><span class="MJXp-mo" id="MJXp-Span-1438"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">+ </font></font></span><span class="MJXp-mn" id="MJXp-Span-1439"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1 </font></font></span></span></span></span></span><span class=" MJXp-script"><span><span style="margin-top: -0.85em;"><span class="MJXp-mrow" id="MJXp-Span-1433"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1434"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">k </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1435"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">j</font></font></span></span></span></span></span></span></span><span class="MJXp-msubsup" id="MJXp-Span-1440"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1441" style="margin-right: 0.05em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> a </font></font></span><span class="MJXp-script-box" style="height: 1.86em; vertical-align: -0.64em;"><span class=" MJXp-script"><span><span style="margin-bottom: -0.25em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1443"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">l </font></font></span></span></span></span><span class=" MJXp-script"><span><span style="margin-top: -0.85em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1442"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">j</font></font></span></span></span></span></span></span><span class="MJXp-mo" id="MJXp-Span-1444" style="margin-left: 0.267em; margin-right: 0.267em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> + </font></font></span><span class="MJXp-msubsup" id="MJXp-Span-1445"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1446" style="margin-right: 0.05em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">b </font></font></span><span class="MJXp-script-box" style="height: 1.86em; vertical-align: -0.64em;"><span class=" MJXp-script"><span><span style="margin-bottom: -0.25em;"><span class="MJXp-mrow" id="MJXp-Span-1448"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1449"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">l </font></font></span><span class="MJXp-mo" id="MJXp-Span-1450"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">+ </font></font></span><span class="MJXp-mn" id="MJXp-Span-1451"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1</font></font></span></span></span></span></span><span class=" MJXp-script"><span><span style="margin-top: -0.85em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1447"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> k</font></font></span></span></span></span></span></span><span class="MJXp-mo" id="MJXp-Span-1452" style="margin-left: 0.333em; margin-right: 0.333em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> = </font></font></span><span class="MJXp-munderover" id="MJXp-Span-1453"><span class=""><span class="MJXp-mo" id="MJXp-Span-1454" style="margin-left: 0.111em; margin-right: 0.167em;"><span class="MJXp-largeop"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">‚àë</font></font></span></span></span><span class=" MJXp-script"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1455" style="margin-left: 0px;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> j</font></font></span></span></span><span class="MJXp-msubsup" id="MJXp-Span-1456"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1457" style="margin-right: 0.05em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> w </font></font></span><span class="MJXp-script-box" style="height: 1.86em; vertical-align: -0.64em;"><span class=" MJXp-script"><span><span style="margin-bottom: -0.25em;"><span class="MJXp-mrow" id="MJXp-Span-1461"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1462"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">l </font></font></span><span class="MJXp-mo" id="MJXp-Span-1463"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">+ </font></font></span><span class="MJXp-mn" id="MJXp-Span-1464"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1 </font></font></span></span></span></span></span><span class=" MJXp-script"><span><span style="margin-top: -0.85em;"><span class="MJXp-mrow" id="MJXp-Span-1458"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1459"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">k </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1460"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">j</font></font></span></span></span></span></span></span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1465"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> œÉ </font></font></span><span class="MJXp-mo" id="MJXp-Span-1466" style="margin-left: 0em; margin-right: 0em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">( </font></font></span><span class="MJXp-msubsup" id="MJXp-Span-1467"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1468" style="margin-right: 0.05em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">z </font></font></span><span class="MJXp-script-box" style="height: 1.86em; vertical-align: -0.64em;"><span class=" MJXp-script"><span><span style="margin-bottom: -0.25em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1470"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">l </font></font></span></span></span></span><span class=" MJXp-script"><span><span style="margin-top: -0.85em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1469"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">j</font></font></span></span></span></span></span></span><span class="MJXp-mo" id="MJXp-Span-1471" style="margin-left: 0em; margin-right: 0em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ) </font></font></span><span class="MJXp-mo" id="MJXp-Span-1472" style="margin-left: 0.267em; margin-right: 0.267em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">+ </font></font></span><span class="MJXp-msubsup" id="MJXp-Span-1473"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1474" style="margin-right: 0.05em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">b </font></font></span><span class="MJXp-script-box" style="height: 1.86em; vertical-align: -0.64em;"><span class=" MJXp-script"><span><span style="margin-bottom: -0.25em;"><span class="MJXp-mrow" id="MJXp-Span-1476"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1477"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">l </font></font></span><span class="MJXp-mo" id="MJXp-Span-1478"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">+ </font></font></span><span class="MJXp-mn" id="MJXp-Span-1479"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1</font></font></span></span></span></span></span><span class=" MJXp-script"><span><span style="margin-top: -0.85em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1475"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> k</font></font></span></span></span></span></span></span></span></span></span></span></span></span><div class="MathJax_SVG_Display MathJax_SVG_Processing"><span class="MathJax_SVG" id="MathJax-Element-27-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span></div><script type="math/tex;mode=display" id="MathJax-Element-27"> z^{l+1}_k = \sum_j w^{l+1}_{kj} a^l_j +b^{l+1}_k = \sum_j w^{l+1}_{kj} \sigma(z^l_j) +b^{l+1}_k \tag{43} </script></p><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Differentiating, we get </font></font><br><br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-1480"><span class="MJXp-mtable" id="MJXp-Span-1481"><span><span class="MJXp-mlabeledtr" id="MJXp-Span-1482" style="vertical-align: baseline;"><span class="MJXp-mtd" id="MJXp-Span-1483" style="text-align: center;"><span class="MJXp-mfrac" id="MJXp-Span-1484" style="vertical-align: 0.25em;"><span class="MJXp-box"><span class="MJXp-mi" id="MJXp-Span-1485"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">‚àÇ </font></font></span><span class="MJXp-msubsup" id="MJXp-Span-1486"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1487" style="margin-right: 0.05em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">z </font></font></span><span class="MJXp-script-box" style="height: 1.86em; vertical-align: -0.64em;"><span class=" MJXp-script"><span><span style="margin-bottom: -0.25em;"><span class="MJXp-mrow" id="MJXp-Span-1489"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1490"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">l </font></font></span><span class="MJXp-mo" id="MJXp-Span-1491"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">+ </font></font></span><span class="MJXp-mn" id="MJXp-Span-1492"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1</font></font></span></span></span></span></span><span class=" MJXp-script"><span><span style="margin-top: -0.85em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1488"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> k</font></font></span></span></span></span></span></span></span><span class="MJXp-box" style="margin-top: -0.9em;"><span class="MJXp-denom"><span><span class="MJXp-rule" style="height: 1em; border-top: none; border-bottom: 1px solid; margin: 0.1em 0px;"></span></span><span><span class="MJXp-box"><span class="MJXp-mi" id="MJXp-Span-1493"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">‚àÇ </font></font></span><span class="MJXp-msubsup" id="MJXp-Span-1494"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1495" style="margin-right: 0.05em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">z </font></font></span><span class="MJXp-script-box" style="height: 1.86em; vertical-align: -0.64em;"><span class=" MJXp-script"><span><span style="margin-bottom: -0.25em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1497"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">l </font></font></span></span></span></span><span class=" MJXp-script"><span><span style="margin-top: -0.85em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1496"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">j</font></font></span></span></span></span></span></span></span></span></span></span></span><span class="MJXp-mo" id="MJXp-Span-1498" style="margin-left: 0.333em; margin-right: 0.333em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> =</font></font></span><span class="MJXp-msubsup" id="MJXp-Span-1499"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1500" style="margin-right: 0.05em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">w</font></font></span><span class="MJXp-script-box" style="height: 1.86em; vertical-align: -0.64em;"><span class=" MJXp-script"><span><span style="margin-bottom: -0.25em;"><span class="MJXp-mrow" id="MJXp-Span-1504"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1505"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> l </font></font></span><span class="MJXp-mo" id="MJXp-Span-1506"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">+ </font></font></span><span class="MJXp-mn" id="MJXp-Span-1507"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1 </font></font></span></span></span></span></span><span class=" MJXp-script"><span><span style="margin-top: -0.85em;"><span class="MJXp-mrow" id="MJXp-Span-1501"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1502"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">k </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1503"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">j</font></font></span></span></span></span></span></span></span><span class="MJXp-msup" id="MJXp-Span-1508"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1509" style="margin-right: 0.05em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> œÉ</font></font></span><span class="MJXp-mo MJXp-script" id="MJXp-Span-1510" style="vertical-align: 0.5em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">‚Ä≤</font></font></span></span><span class="MJXp-mo" id="MJXp-Span-1511" style="margin-left: 0em; margin-right: 0em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(</font></font></span><span class="MJXp-msubsup" id="MJXp-Span-1512"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1513" style="margin-right: 0.05em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">z</font></font></span><span class="MJXp-script-box" style="height: 1.86em; vertical-align: -0.64em;"><span class=" MJXp-script"><span><span style="margin-bottom: -0.25em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1515"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> l </font></font></span></span></span></span><span class=" MJXp-script"><span><span style="margin-top: -0.85em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1514"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">j</font></font></span></span></span></span></span></span><span class="MJXp-mo" id="MJXp-Span-1516" style="margin-left: 0em; margin-right: 0em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> )</font></font></span><span class="MJXp-mo" id="MJXp-Span-1517" style="margin-left: 0em; margin-right: 0.222em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.</font></font></span></span></span></span></span></span></span><div class="MathJax_SVG_Display MathJax_SVG_Processing"><span class="MathJax_SVG" id="MathJax-Element-28-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span></div><script type="math/tex;mode=display" id="MathJax-Element-28"> \frac{\partial z^{l+1}_k}{\partial z^l_j} = w^{l+1}_{kj} \sigma'(z^l_j). \tag{44} </script></p><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Substituting this into (42), we get </font></font><br><br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-1518"><span class="MJXp-mtable" id="MJXp-Span-1519"><span><span class="MJXp-mlabeledtr" id="MJXp-Span-1520" style="vertical-align: baseline;"><span class="MJXp-mtd" id="MJXp-Span-1521" style="text-align: center;"><span class="MJXp-msubsup" id="MJXp-Span-1522"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1523" style="margin-right: 0.05em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Œ¥ </font></font></span><span class="MJXp-script-box" style="height: 1.86em; vertical-align: -0.64em;"><span class=" MJXp-script"><span><span style="margin-bottom: -0.25em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1525"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">l </font></font></span></span></span></span><span class=" MJXp-script"><span><span style="margin-top: -0.85em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1524"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">j</font></font></span></span></span></span></span></span><span class="MJXp-mo" id="MJXp-Span-1526" style="margin-left: 0.333em; margin-right: 0.333em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> = </font></font></span><span class="MJXp-munderover" id="MJXp-Span-1527"><span class=""><span class="MJXp-mo" id="MJXp-Span-1528" style="margin-left: 0.111em; margin-right: 0.167em;"><span class="MJXp-largeop"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">‚àë</font></font></span></span></span><span class=" MJXp-script"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1529" style="margin-left: 0px;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> k</font></font></span></span></span><span class="MJXp-msubsup" id="MJXp-Span-1530"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1531" style="margin-right: 0.05em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> w </font></font></span><span class="MJXp-script-box" style="height: 1.86em; vertical-align: -0.64em;"><span class=" MJXp-script"><span><span style="margin-bottom: -0.25em;"><span class="MJXp-mrow" id="MJXp-Span-1535"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1536"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">l </font></font></span><span class="MJXp-mo" id="MJXp-Span-1537"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">+ </font></font></span><span class="MJXp-mn" id="MJXp-Span-1538"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1 </font></font></span></span></span></span></span><span class=" MJXp-script"><span><span style="margin-top: -0.85em;"><span class="MJXp-mrow" id="MJXp-Span-1532"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1533"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">k </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1534"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">j</font></font></span></span></span></span></span></span></span><span class="MJXp-msubsup" id="MJXp-Span-1539"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1540" style="margin-right: 0.05em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Œ¥ </font></font></span><span class="MJXp-script-box" style="height: 1.86em; vertical-align: -0.64em;"><span class=" MJXp-script"><span><span style="margin-bottom: -0.25em;"><span class="MJXp-mrow" id="MJXp-Span-1542"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1543"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">l </font></font></span><span class="MJXp-mo" id="MJXp-Span-1544"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">+ </font></font></span><span class="MJXp-mn" id="MJXp-Span-1545"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1</font></font></span></span></span></span></span><span class=" MJXp-script"><span><span style="margin-top: -0.85em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1541"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> k</font></font></span></span></span></span></span></span><span class="MJXp-msup" id="MJXp-Span-1546"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1547" style="margin-right: 0.05em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> œÉ </font></font></span><span class="MJXp-mo MJXp-script" id="MJXp-Span-1548" style="vertical-align: 0.5em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">‚Ä≤</font></font></span></span><span class="MJXp-mo" id="MJXp-Span-1549" style="margin-left: 0em; margin-right: 0em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ( </font></font></span><span class="MJXp-msubsup" id="MJXp-Span-1550"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1551" style="margin-right: 0.05em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">z </font></font></span><span class="MJXp-script-box" style="height: 1.86em; vertical-align: -0.64em;"><span class=" MJXp-script"><span><span style="margin-bottom: -0.25em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1553"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">l </font></font></span></span></span></span><span class=" MJXp-script"><span><span style="margin-top: -0.85em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1552"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">j</font></font></span></span></span></span></span></span><span class="MJXp-mo" id="MJXp-Span-1554" style="margin-left: 0em; margin-right: 0em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ) </font></font></span><span class="MJXp-mo" id="MJXp-Span-1555" style="margin-left: 0em; margin-right: 0.222em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.</font></font></span></span></span></span></span></span></span><div class="MathJax_SVG_Display MathJax_SVG_Processing"><span class="MathJax_SVG" id="MathJax-Element-29-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span></div><script type="math/tex;mode=display" id="MathJax-Element-29"> \delta^l_j = \sum_k w^{l+1}_{kj} \delta^{l+1}_k \sigma'(z^l_j). \tag{45} </script></p><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">That is, (BP2) in component entry. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">It remains to prove (BP3) and (BP4). </font><font style="vertical-align: inherit;">They also follow from the chain rule, in much the same way as the two previous ones. </font><font style="vertical-align: inherit;">I leave them to you as an exercise.</font></font><br><br><h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Exercise </font></font></h2><br><ul><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Prove (BP3) and (BP4). </font></font></li></ul><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">That's all proof of the four fundamental backpropagation equations. </font><font style="vertical-align: inherit;">It may seem complicated. </font><font style="vertical-align: inherit;">But in reality, this is simply the result of careful application of the chain rule. </font><font style="vertical-align: inherit;">Speaking less concisely, the reverse distribution can be imagined as a way to calculate the value function gradient through the systematic application of a chain rule from the analysis of functions of many variables. </font><font style="vertical-align: inherit;">And this is really all that is the reverse spread - the rest is just details.</font></font><br><br><h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Back Propagation Algorithm </font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Backpropagation equations give us a method to calculate the gradient of the cost function. </font><font style="vertical-align: inherit;">Let's write this explicitly in the form of an algorithm:</font></font><br><ol><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Input x: Assign the appropriate activation a </font></font><sup><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1</font></font></sup><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> for the input layer.</font></font></li><li>  :   l = 2,3,‚Ä¶,L  z <sup>l</sup> = w <sup>l</sup> a <sup>l‚àí1</sup> +b <sup>l</sup>  a <sup>l</sup> = œÉ(z <sup>l</sup> ). </li><li>   Œ¥ <sup>L</sup> :   Œ¥ <sup>L</sup> = ‚àá <sub>a</sub> C ‚äô œÉ'(z <sup>L</sup> ). </li><li>   :   l = L‚àí1,L‚àí2,‚Ä¶,2  Œ¥ <sup>l</sup> = ((w <sup>l+1</sup> ) <sup>T</sup> Œ¥ <sup>l+1</sup> ) ‚äô œÉ'(z <sup>l</sup> ). </li><li> :     <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1556"><span class="MJXp-mfrac" id="MJXp-Span-1557" style="vertical-align: 0.25em;"><span class="MJXp-box MJXp-script"><span class="MJXp-mi" id="MJXp-Span-1558">‚àÇ</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1559">C</span></span><span class="MJXp-box" style="margin-top: -0.9em;"><span class="MJXp-denom"><span><span class="MJXp-rule" style="height: 1em; border-top: none; border-bottom: 1px solid; margin: 0.1em 0px;"></span></span><span><span class="MJXp-box MJXp-script"><span class="MJXp-mi" id="MJXp-Span-1560">‚àÇ</span><span class="MJXp-msubsup" id="MJXp-Span-1561"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1562" style="margin-right: 0.05em;">w</span><span class="MJXp-script-box" style="height: 1.86em; vertical-align: -0.64em;"><span class=" MJXp-script"><span><span style="margin-bottom: -0.25em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1566">l</span></span></span></span><span class=" MJXp-script"><span><span style="margin-top: -0.85em;"><span class="MJXp-mrow" id="MJXp-Span-1563"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1564">j</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1565">k</span></span></span></span></span></span></span></span></span></span></span></span><span class="MJXp-mo" id="MJXp-Span-1567" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-msubsup" id="MJXp-Span-1568"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1569" style="margin-right: 0.05em;">a</span><span class="MJXp-script-box" style="height: 1.86em; vertical-align: -0.64em;"><span class=" MJXp-script"><span><span style="margin-bottom: -0.25em;"><span class="MJXp-mrow" id="MJXp-Span-1571"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1572">l</span><span class="MJXp-mo" id="MJXp-Span-1573">‚àí</span><span class="MJXp-mn" id="MJXp-Span-1574">1</span></span></span></span></span><span class=" MJXp-script"><span><span style="margin-top: -0.85em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1570">k</span></span></span></span></span></span><span class="MJXp-msubsup" id="MJXp-Span-1575"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1576" style="margin-right: 0.05em;">Œ¥</span><span class="MJXp-script-box" style="height: 1.86em; vertical-align: -0.64em;"><span class=" MJXp-script"><span><span style="margin-bottom: -0.25em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1578">l</span></span></span></span><span class=" MJXp-script"><span><span style="margin-top: -0.85em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1577">j</span></span></span></span></span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-30-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-30">\frac{\partial C}{\partial w^l_{jk}} = a^{l-1}_k \delta^l_j</script>  and <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1579"><span class="MJXp-mfrac" id="MJXp-Span-1580" style="vertical-align: 0.25em;"><span class="MJXp-box MJXp-script"><span class="MJXp-mi" id="MJXp-Span-1581">‚àÇ</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1582">C</span></span><span class="MJXp-box" style="margin-top: -0.9em;"><span class="MJXp-denom"><span><span class="MJXp-rule" style="height: 1em; border-top: none; border-bottom: 1px solid; margin: 0.1em 0px;"></span></span><span><span class="MJXp-box MJXp-script"><span class="MJXp-mi" id="MJXp-Span-1583">‚àÇ</span><span class="MJXp-msubsup" id="MJXp-Span-1584"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1585" style="margin-right: 0.05em;">b</span><span class="MJXp-script-box" style="height: 1.86em; vertical-align: -0.64em;"><span class=" MJXp-script"><span><span style="margin-bottom: -0.25em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1587">l</span></span></span></span><span class=" MJXp-script"><span><span style="margin-top: -0.85em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1586">j</span></span></span></span></span></span></span></span></span></span></span><span class="MJXp-mo" id="MJXp-Span-1588" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-msubsup" id="MJXp-Span-1589"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1590" style="margin-right: 0.05em;">Œ¥</span><span class="MJXp-script-box" style="height: 1.86em; vertical-align: -0.64em;"><span class=" MJXp-script"><span><span style="margin-bottom: -0.25em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1592">l</span></span></span></span><span class=" MJXp-script"><span><span style="margin-top: -0.85em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1591">j</span></span></span></span></span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-31-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-31">\frac{\partial C}{\partial b^l_j} = \delta^l_j</script>  . </li></ol><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Looking at the algorithm, you will understand why it is called reverse propagation. </font><font style="vertical-align: inherit;">We calculate the error vector Œ¥ </font></font><sup><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">l</font></font></sup><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> back to front, starting from the last layer. </font><font style="vertical-align: inherit;">It may seem strange that we are going back online. </font><font style="vertical-align: inherit;">But if you think about proving reverse propagation, then the reverse movement is a consequence of the fact that cost is a function of the network output. </font><font style="vertical-align: inherit;">To understand how the cost varies depending on the early weights and offsets, we need to apply the chain rule time after time, going back through the layers to get useful expressions.</font></font><br><br><h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Exercises </font></font></h2><br><ul><li>      . ,          ,     f(‚àë <sub>j</sub> w <sub>j</sub> x <sub>j</sub> +b),  f ‚Äì  ,    .         ? </li><li>     . ,       œÉ(z) = z   .       . </li></ul><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">As I explained earlier, the back-propagation algorithm computes the gradient of the cost function for one training example, C = C </font></font><sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">x</font></font></sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">In practice, back propagation is often combined with a learning algorithm, for example, with a stochastic gradient descent, when we calculate the gradient for many teaching examples. </font><font style="vertical-align: inherit;">In particular, given a mini-package of m training examples, the following algorithm applies a gradient descent based on this mini-package:</font></font><br><br><ol><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Login: a set of teaching examples. </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">For each training example x, assign the appropriate input activation a </font></font><sup><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">x, 1</font></font></sup><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> and perform the following steps:</font></font><br><ul><li>     l=2,3,‚Ä¶,L  z <sup>x,l</sup> = w <sup>l</sup> a <sup>x,l‚àí1</sup> +b <sup>l</sup>  a <sup>x,l</sup> = œÉ(z <sup>x,l</sup> ). </li><li>   Œ¥ <sup>x,L</sup> :   Œ¥ <sup>x,L</sup> = ‚àá <sub>a</sub> C <sub>x</sub> ‚ãÖ œÉ'(z <sup>x,L</sup> ). </li><li>   :   l=L‚àí1,L‚àí2,‚Ä¶,2  Œ¥ <sup>x,l</sup> = ((w <sup>l+1</sup> ) <sup>T</sup> Œ¥ <sup>x,l+1</sup> ) ‚ãÖ œÉ'(z <sup>x,l</sup> ). </li></ul></li><li>  :   l=L,L‚àí1,‚Ä¶,2     <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1593"><span class="MJXp-msubsup" id="MJXp-Span-1594"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1595" style="margin-right: 0.05em;">w</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-1596" style="vertical-align: 0.5em;">l</span></span><span class="MJXp-mo" id="MJXp-Span-1597" style="margin-left: 0.333em; margin-right: 0.333em;">‚Üí</span><span class="MJXp-msubsup" id="MJXp-Span-1598"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1599" style="margin-right: 0.05em;">w</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-1600" style="vertical-align: 0.5em;">l</span></span><span class="MJXp-mo" id="MJXp-Span-1601" style="margin-left: 0.267em; margin-right: 0.267em;">‚àí</span><span class="MJXp-mfrac" id="MJXp-Span-1602" style="vertical-align: 0.25em;"><span class="MJXp-box MJXp-script"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1603">Œ∑</span></span><span class="MJXp-box" style="margin-top: -0.9em;"><span class="MJXp-denom"><span><span class="MJXp-rule" style="height: 1em; border-top: none; border-bottom: 1px solid; margin: 0.1em 0px;"></span></span><span><span class="MJXp-box MJXp-script"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1604"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">m</font></font></span></span></span></span></span></span><span class="MJXp-msubsup" id="MJXp-Span-1605"><span class="MJXp-mo" id="MJXp-Span-1606" style="margin-left: 0.111em; margin-right: 0.05em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ‚àë</font></font></span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-1607" style="vertical-align: -0.4em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">x</font></font></span></span><span class="MJXp-msubsup" id="MJXp-Span-1608"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1609" style="margin-right: 0.05em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Œ¥</font></font></span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-1610" style="vertical-align: 0.5em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1611"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">x</font></font></span><span class="MJXp-mo" id="MJXp-Span-1612"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">,</font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1613"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">l</font></font></span></span></span><span class="MJXp-mo" id="MJXp-Span-1614" style="margin-left: 0em; margin-right: 0em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(</font></font></span><span class="MJXp-msubsup" id="MJXp-Span-1615"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1616" style="margin-right: 0.05em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">a</font></font></span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-1617" style="vertical-align: 0.5em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1618"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">x</font></font></span><span class="MJXp-mo" id="MJXp-Span-1619"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">,</font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1620"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">l</font></font></span><span class="MJXp-mo" id="MJXp-Span-1621"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-</font></font></span><span class="MJXp-mn" id="MJXp-Span-1622"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1</font></font></span></span></span><span class="MJXp-msubsup" id="MJXp-Span-1623"><span class="MJXp-mo" id="MJXp-Span-1624" style="margin-left: 0em; margin-right: 0.05em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">)</font></font></span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-1625" style="vertical-align: 0.5em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">T</font></font></span></span></span></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, and offsets according to the rule</font></font><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-32-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-32">w^l \rightarrow w^l-\frac{\eta}{m} \sum_x \delta^{x,l} (a^{x,l-1})^T</script><font style="vertical-align: inherit;"></font><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1626"><span class="MJXp-msubsup" id="MJXp-Span-1627"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1628" style="margin-right: 0.05em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">b </font></font></span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-1629" style="vertical-align: 0.5em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">l</font></font></span></span><span class="MJXp-mo" id="MJXp-Span-1630" style="margin-left: 0.333em; margin-right: 0.333em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ‚Üí </font></font></span><span class="MJXp-msubsup" id="MJXp-Span-1631"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1632" style="margin-right: 0.05em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">b </font></font></span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-1633" style="vertical-align: 0.5em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">l</font></font></span></span><span class="MJXp-mo" id="MJXp-Span-1634" style="margin-left: 0.267em; margin-right: 0.267em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - </font></font></span><span class="MJXp-mfrac" id="MJXp-Span-1635" style="vertical-align: 0.25em;"><span class="MJXp-box MJXp-script"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1636"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Œ∑</font></font></span></span><span class="MJXp-box" style="margin-top: -0.9em;"><span class="MJXp-denom"><span><span class="MJXp-rule" style="height: 1em; border-top: none; border-bottom: 1px solid; margin: 0.1em 0px;"></span></span><span><span class="MJXp-box MJXp-script"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1637"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">m</font></font></span></span></span></span></span></span><span class="MJXp-msubsup" id="MJXp-Span-1638"><span class="MJXp-mo" id="MJXp-Span-1639" style="margin-left: 0.111em; margin-right: 0.05em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ‚àë</font></font></span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-1640" style="vertical-align: -0.4em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">x</font></font></span></span><span class="MJXp-msubsup" id="MJXp-Span-1641"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1642" style="margin-right: 0.05em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Œ¥</font></font></span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-1643" style="vertical-align: 0.5em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1644"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">x</font></font></span><span class="MJXp-mo" id="MJXp-Span-1645"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">,</font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1646"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">l</font></font></span></span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-33-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-33">b^l \rightarrow b^l-\frac{\eta}{m} \sum_x \delta^{x,l}</script>  . </li></ol><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Of course, to implement the stochastic gradient descent, in practice, you also need an external cycle, generating mini-packages of training examples, and an external cycle, passing through several epochs of training. </font><font style="vertical-align: inherit;">For simplicity, I lowered them.</font></font><br><br><h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Code for back distribution </font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Having understood the abstract side of back propagation, we can now understand the code used in the previous chapter that implements back propagation. Recall from that chapter that the code was contained in the update_mini_batch methods and the backprop class Network. The code of these methods is a direct translation of the algorithm described above. In particular, the update_mini_batch method updates the network weights and offsets by counting the gradient for the current mini_batch tutorial examples:</font></font><br><br><pre><code class="python hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Network</span></span></span><span class="hljs-params"><span class="hljs-class"><span class="hljs-params">(object)</span></span></span><span class="hljs-class">:</span></span> ... <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">update_mini_batch</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, mini_batch, eta)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-string"><span class="hljs-string">"""    ,          -. mini_batch ‚Äì    (x, y),  eta ‚Äì  ."""</span></span> nabla_b = [np.zeros(b.shape) <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> b <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> self.biases] nabla_w = [np.zeros(w.shape) <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> w <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> self.weights] <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> x, y <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> mini_batch: delta_nabla_b, delta_nabla_w = self.backprop(x, y) nabla_b = [nb+dnb <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> nb, dnb <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> zip(nabla_b, delta_nabla_b)] nabla_w = [nw+dnw <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> nw, dnw <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> zip(nabla_w, delta_nabla_w)] self.weights = [w-(eta/len(mini_batch))*nw <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> w, nw <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> zip(self.weights, nabla_w)] self.biases = [b-(eta/len(mini_batch))*nb <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> b, nb <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> zip(self.biases, nabla_b)]</code> </pre> <br><br>  Most of the work is done with delta_nabla_b, delta_nabla_w = self.backprop (x, y) strings, using the backprop method to calculate the partial derivatives ‚àÇC <sub>x</sub> / ‚àÇb <sup>l</sup> <sub>j</sub> and ‚àÇC <sub>x</sub> / ‚àÇw <sup>l</sup> <sub>jk</sub> .  The backprop method almost repeats the algorithm of the previous section.  There is one slight difference - we use a slightly different approach to indexing layers.  This is done in order to take advantage of the python feature, negative array indices, which allow counting elements back, from the end.  l [-3] will be the third element from the end of the array l.  The backprop code is shown below, along with the auxiliary functions used to calculate the sigmoid, its derivative, and the derivative of the cost function.  With them, the code is complete and understandable.  If something is unclear, refer to the first description of the code with a full listing. <br><br><pre> <code class="python hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Network</span></span></span><span class="hljs-params"><span class="hljs-class"><span class="hljs-params">(object)</span></span></span><span class="hljs-class">:</span></span> ... <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">backprop</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, x, y)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-string"><span class="hljs-string">"""  ``(nabla_b, nabla_w)``,      C_x. ``nabla_b``  ``nabla_w`` -    numpy,   ``self.biases`` and ``self.weights``."""</span></span> nabla_b = [np.zeros(b.shape) <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> b <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> self.biases] nabla_w = [np.zeros(w.shape) <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> w <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> self.weights] <span class="hljs-comment"><span class="hljs-comment">#   activation = x activations = [x] #      zs = [] #     z- for b, w in zip(self.biases, self.weights): z = np.dot(w, activation)+b zs.append(z) activation = sigmoid(z) activations.append(activation) #   delta = self.cost_derivative(activations[-1], y) * \ sigmoid_prime(zs[-1]) nabla_b[-1] = delta nabla_w[-1] = np.dot(delta, activations[-2].transpose()) """ l      ,      . l = 1    , l = 2 ‚Äì ,   .    ,   python      .""" for l in xrange(2, self.num_layers): z = zs[-l] sp = sigmoid_prime(z) delta = np.dot(self.weights[-l+1].transpose(), delta) * sp nabla_b[-l] = delta nabla_w[-l] = np.dot(delta, activations[-l-1].transpose()) return (nabla_b, nabla_w) ... def cost_derivative(self, output_activations, y): """    ( C_x /  a)   .""" return (output_activations-y) def sigmoid(z): """.""" return 1.0/(1.0+np.exp(-z)) def sigmoid_prime(z): """ .""" return sigmoid(z)*(1-sigmoid(z))</span></span></code> </pre> <br><br><h2>  Task </h2><br><ul><li>  Fully matrix-based back distribution on a mini package.  Our implementation of a stochastic gradient descent uses a cycle of learning examples from a mini-package.  The back-propagation algorithm can be changed so that it calculates the gradients for all the mini-packet training examples at the same time.  Instead of starting with one vector x, we can start with the matrix X = [x <sub>1</sub> x <sub>2</sub> ... x <sub>m</sub> ], whose columns will be the mini-packet vectors.  Direct propagation occurs through the product of weight matrices, the addition of a suitable matrix for offsets and the widespread use of sigmoids.  Reverse distribution follows the same pattern.  Write pseudocode for this approach for the back-propagation algorithm.  Modify network.py to use this matrix approach.  The advantage of this approach will be the use of all the advantages of modern libraries for linear algebra.  As a result, it can work faster than the mini-packet cycle (for example, on my computer, the program speeds up about 2 times on the MNIST classification tasks).  In practice, all serious libraries for back distribution use such a full-matrix approach or some variant of it. </li></ul><br><br><h2>  In what sense is backward propagation a fast algorithm? </h2><br>  In what sense is backward propagation a fast algorithm?  To answer this question, consider another approach to the calculation of the gradient.  Imagine the early days of researching neural networks.  Perhaps this is the 1950s or 1960s, and you are the first person in the world to come up with a gradient descent to learn!  But for this to work, you need to calculate the gradient of the cost function.  You remember algebra and decide to see if the chain rule can be used to calculate the gradient.  Having played a little, you see that algebra seems complicated and you are disappointed.  You are trying to find a different approach.  You decide to consider the cost as a function of only C = C (w) weights (we will return to displacements a little later).  You number the weights w <sub>1</sub> , w <sub>2</sub> , ... and you want to calculate C / ‚àÇw <sub>j</sub> for the weight w <sub>j</sub> .  The obvious way is to use the approximation. <br><br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-1647"><span class="MJXp-mtext" id="MJXp-Span-1648">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1649">f</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1650">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1651">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1652">c</span><span class="MJXp-mrow" id="MJXp-Span-1653"><span class="MJXp-mtext" id="MJXp-Span-1654">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1655">p</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1656">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1657">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1658">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1659">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1660">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1661">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1662">C</span></span><span class="MJXp-mrow" id="MJXp-Span-1663"><span class="MJXp-mtext" id="MJXp-Span-1664">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1665">p</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1666">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1667">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1668">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1669">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1670">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1671">l</span><span class="MJXp-msubsup" id="MJXp-Span-1672"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1673" style="margin-right: 0.05em;">w</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-1674" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1675">j</span></span></span></span><span class="MJXp-mtext" id="MJXp-Span-1676">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1677">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1678">p</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1679">p</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1680">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1681">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1682">x</span><span class="MJXp-mtext" id="MJXp-Span-1683">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1684">f</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1685">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1686">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1687">c</span><span class="MJXp-mrow" id="MJXp-Span-1688"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1689">C</span><span class="MJXp-mo" id="MJXp-Span-1690" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1691">w</span><span class="MJXp-mo" id="MJXp-Span-1692" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-mtext" id="MJXp-Span-1693">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1694">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1695">p</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1696">s</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1697">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1698">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1699">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1700">n</span><span class="MJXp-msubsup" id="MJXp-Span-1701"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1702" style="margin-right: 0.05em;">e</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-1703" style="vertical-align: -0.4em;">j</span></span><span class="MJXp-mo" id="MJXp-Span-1704" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mo" id="MJXp-Span-1705" style="margin-left: 0.267em; margin-right: 0.267em;">‚àí</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1706">C</span><span class="MJXp-mo" id="MJXp-Span-1707" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1708">w</span><span class="MJXp-mo" id="MJXp-Span-1709" style="margin-left: 0em; margin-right: 0em;">)</span></span><span class="MJXp-mrow" id="MJXp-Span-1710"><span class="MJXp-mtext" id="MJXp-Span-1711">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1712">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1713">p</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1714">s</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1715">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1716">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1717">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1718">n</span></span><span class="MJXp-mtext" id="MJXp-Span-1719">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1720">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1721">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1722">g</span><span class="MJXp-mrow" id="MJXp-Span-1723"><span class="MJXp-mn" id="MJXp-Span-1724">46</span></span></span></span><div class="MathJax_SVG_Display MathJax_SVG_Processing"><span class="MathJax_SVG" id="MathJax-Element-34-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span></div><script type="math/tex;mode=display" id="MathJax-Element-34"> \ frac {\ partial C} {\ partial w_ {j}} \ approx \ frac {C (w + \ epsilon e_j) -C (w)} {\ epsilon} \ tag {46} </script></p><br><br>  Where Œµ&gt; 0 is a small positive number, and e <sub>j</sub> is the unit vector of direction j.  In other words, we can estimate ‚àÇC / ‚àÇw <sub>j</sub> approximately, calculating the cost C for two slightly different values ‚Äã‚Äãof w <sub>j</sub> , and then applying equation (46).  The same idea will allow us to calculate the partial derivatives of ‚àÇC / ‚àÇb by the offsets. <br><br>  The approach looks promising.  Conceptually simple, easy to implement, uses only a few lines of code.  It looks much more promising than the idea of ‚Äã‚Äãusing a chain rule to calculate the gradient! <br><br>  Unfortunately, although this approach looks promising, when implemented in the code, it turns out that it works extremely slowly.  To understand why, imagine that we have a million weights on the net.  Then for each weight w <sub>j</sub> we need to calculate C (w + Œµe <sub>j</sub> ) in order to calculate ‚àÇC / ‚àÇw <sub>j</sub> .  And this means that to calculate the gradient we need to calculate the cost function a million times, which would require a million direct passes through the network (for each teaching example).  And we also need to calculate C (w), so it turns out a million and one pass through the network. <br><br>  The trick of backpropagation is that it allows us to simultaneously compute all partial derivatives C / ‚àÇw <sub>j</sub> using only one forward pass through the network, followed by one back pass.  Roughly speaking, the computational cost of a return pass is about the same as that of a direct pass. <br><br>  Therefore, the total cost of back distribution is about the same as the two direct passes through the network.  Compare this with the million and one straight pass needed to implement method (46)!  So, although the reverse distribution outwardly looks like a more complex approach, in reality it is much more rapid. <br><br>  For the first time, this acceleration was fully appreciated in 1986, and this dramatically expanded the range of tasks solved using neural networks.  In turn, this led to an increase in the number of people using neural networks.  Of course, the reverse spread is not a panacea.  Even in the late 1980s, people already came across its limitations, especially when trying to use backward propagation to train deep neural networks, that is, networks with many hidden layers.  Later we will see how modern computers and new cunning ideas allow us to use back propagation to train such deep neural networks. <br><br><h2>  Reverse distribution: in general </h2><br>  As I have already explained, the reverse distribution reveals two riddles to us.  First, what does the algorithm actually do?  We have developed an error back distribution scheme from the output.  Is it possible to go deeper, get a more intuitive idea of ‚Äã‚Äãwhat is happening during all these multiplications of vectors and matrices?  The second mystery - how could anyone even detect the reverse spread?  It's one thing to follow the steps of the algorithm or the proof of its work.  But this does not mean that you understood the task so well that you could invent this algorithm.  Is there a reasonable chain of reasoning that could lead us to the discovery of the back-propagation algorithm?  In this section I will cover both riddles. <br><br>  To improve the understanding of the algorithm, let's imagine that we made a small change in Œîw <sup>l</sup> <sub>jk of</sub> a certain weight w <sup>l</sup> <sub>jk</sub> : <br><br><img src="https://habrastorage.org/getpro/habr/post_images/4ac/1b0/6b4/4ac1b06b4215d4f3c43d9c08a141d813.png"><br><br>  This change in weight will lead to a change in the output activation of the corresponding neuron: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/b64/3f9/fb0/b643f9fb0e4e12983dfd8e94c15de047.png"><br><br>  This will change all the activations of the next layer: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/272/87c/875/27287c8755dae06b423080c9906108d4.png"><br><br>  These changes will lead to changes in the next layer, and so on, down to the last, and then to changes in the cost function: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/e40/861/f26/e40861f2608be04f93f6f3a928f890cf.png"><br><br>  The change in ŒîC is related to the change in Œîw <sup>l</sup> <sub>jk by the</sub> equation <br><br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-1725"><span class="MJXp-mtext" id="MJXp-Span-1726">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1727">D</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1728">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1729">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1730">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1731">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1732">C</span><span class="MJXp-mtext" id="MJXp-Span-1733">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1734">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1735">p</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1736">p</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1737">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1738">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1739">x</span><span class="MJXp-mtext" id="MJXp-Span-1740">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1741">f</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1742">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1743">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1744">c</span><span class="MJXp-mrow" id="MJXp-Span-1745"><span class="MJXp-mtext" id="MJXp-Span-1746">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1747">p</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1748">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1749">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1750">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1751">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1752">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1753">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1754">C</span></span><span class="MJXp-mrow" id="MJXp-Span-1755"><span class="MJXp-mtext" id="MJXp-Span-1756">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1757">p</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1758">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1759">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1760">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1761">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1762">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1763">l</span><span class="MJXp-msubsup" id="MJXp-Span-1764"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1765" style="margin-right: 0.05em;">w</span><span class="MJXp-script-box" style="height: 1.86em; vertical-align: -0.64em;"><span class=" MJXp-script"><span><span style="margin-bottom: -0.25em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1769">l</span></span></span></span><span class=" MJXp-script"><span><span style="margin-top: -0.85em;"><span class="MJXp-mrow" id="MJXp-Span-1766"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1767">j</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1768">k</span></span></span></span></span></span></span></span><span class="MJXp-mtext" id="MJXp-Span-1770">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1771">D</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1772">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1773">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1774">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1775">a</span><span class="MJXp-msubsup" id="MJXp-Span-1776"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1777" style="margin-right: 0.05em;">w</span><span class="MJXp-script-box" style="height: 1.86em; vertical-align: -0.64em;"><span class=" MJXp-script"><span><span style="margin-bottom: -0.25em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1781">l</span></span></span></span><span class=" MJXp-script"><span><span style="margin-top: -0.85em;"><span class="MJXp-mrow" id="MJXp-Span-1778"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1779">j</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1780">k</span></span></span></span></span></span></span><span class="MJXp-mtext" id="MJXp-Span-1782">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1783">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1784">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1785">g</span><span class="MJXp-mrow" id="MJXp-Span-1786"><span class="MJXp-mn" id="MJXp-Span-1787">47</span></span></span></span><div class="MathJax_SVG_Display MathJax_SVG_Processing"><span class="MathJax_SVG" id="MathJax-Element-35-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span></div><script type="math/tex;mode=display" id="MathJax-Element-35"> \ Delta C \ approx \ frac {\ partial C} {\ partial w ^ l_ {jk}} \ Delta w ^ l_ {jk} \ tag {47} </script></p><br><br>  It follows that a probable approach to calculating ‚àÇC / ‚àÇw <sup>l</sup> <sub>jk</sub> is to closely track the propagation of a small change w <sup>l</sup> <sub>jk</sub> , leading to a small change in C. If we can do this, carefully expressing everything along the way in quantities that are easy to calculate then we can calculate and ‚àÇC / ‚àÇw <sup>l</sup> <sub>jk</sub> . <br><br>  Let's try.  The change in Œîw <sup>l</sup> <sub>jk</sub> causes a small change in Œîa <sup>l</sup> <sub>j</sub> in the activation of neuron j in the layer l.  This change is set <br><br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-1788"><span class="MJXp-mtext" id="MJXp-Span-1789">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1790">D</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1791">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1792">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1793">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1794">a</span><span class="MJXp-msubsup" id="MJXp-Span-1795"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1796" style="margin-right: 0.05em;">a</span><span class="MJXp-script-box" style="height: 1.86em; vertical-align: -0.64em;"><span class=" MJXp-script"><span><span style="margin-bottom: -0.25em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1798">l</span></span></span></span><span class=" MJXp-script"><span><span style="margin-top: -0.85em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1797">j</span></span></span></span></span></span><span class="MJXp-mtext" id="MJXp-Span-1799">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1800">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1801">p</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1802">p</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1803">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1804">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1805">x</span><span class="MJXp-mtext" id="MJXp-Span-1806">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1807">f</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1808">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1809">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1810">c</span><span class="MJXp-mrow" id="MJXp-Span-1811"><span class="MJXp-mtext" id="MJXp-Span-1812">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1813">p</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1814">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1815">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1816">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1817">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1818">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1819">l</span><span class="MJXp-msubsup" id="MJXp-Span-1820"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1821" style="margin-right: 0.05em;">a</span><span class="MJXp-script-box" style="height: 1.86em; vertical-align: -0.64em;"><span class=" MJXp-script"><span><span style="margin-bottom: -0.25em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1823">l</span></span></span></span><span class=" MJXp-script"><span><span style="margin-top: -0.85em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1822">j</span></span></span></span></span></span></span><span class="MJXp-mrow" id="MJXp-Span-1824"><span class="MJXp-mtext" id="MJXp-Span-1825">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1826">p</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1827">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1828">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1829">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1830">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1831">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1832">l</span><span class="MJXp-msubsup" id="MJXp-Span-1833"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1834" style="margin-right: 0.05em;">w</span><span class="MJXp-script-box" style="height: 1.86em; vertical-align: -0.64em;"><span class=" MJXp-script"><span><span style="margin-bottom: -0.25em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1838">l</span></span></span></span><span class=" MJXp-script"><span><span style="margin-top: -0.85em;"><span class="MJXp-mrow" id="MJXp-Span-1835"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1836">j</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1837">k</span></span></span></span></span></span></span></span><span class="MJXp-mtext" id="MJXp-Span-1839">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1840">D</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1841">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1842">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1843">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1844">a</span><span class="MJXp-msubsup" id="MJXp-Span-1845"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1846" style="margin-right: 0.05em;">w</span><span class="MJXp-script-box" style="height: 1.86em; vertical-align: -0.64em;"><span class=" MJXp-script"><span><span style="margin-bottom: -0.25em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1850">l</span></span></span></span><span class=" MJXp-script"><span><span style="margin-top: -0.85em;"><span class="MJXp-mrow" id="MJXp-Span-1847"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1848">j</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1849">k</span></span></span></span></span></span></span><span class="MJXp-mtext" id="MJXp-Span-1851">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1852">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1853">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1854">g</span><span class="MJXp-mrow" id="MJXp-Span-1855"><span class="MJXp-mn" id="MJXp-Span-1856">48</span></span></span></span><div class="MathJax_SVG_Display MathJax_SVG_Processing"><span class="MathJax_SVG" id="MathJax-Element-36-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span></div><script type="math/tex;mode=display" id="MathJax-Element-36"> \ Delta a ^ l_j \ approx \ frac {\ partial a ^ l_j} {\ partial w ^ l_ {jk}} \ Delta w ^ l_ {jk} \ tag {48} </script></p><br><br>  The change in activation Œîa <sup>l</sup> <sub>j</sub> leads to changes in all activations of the next layer, (l + 1).  We will focus only on one of these modified activations, for example, a <sup>l + 1</sup> <sub>q</sub> , <br><br><img src="https://habrastorage.org/getpro/habr/post_images/ca4/208/073/ca42080737015d32731290c0cc49c04c.png"><br><br>  This will result in the following changes: <br><br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-1857"><span class="MJXp-mtext" id="MJXp-Span-1858">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1859">D</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1860">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1861">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1862">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1863">a</span><span class="MJXp-msubsup" id="MJXp-Span-1864"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1865" style="margin-right: 0.05em;">a</span><span class="MJXp-script-box" style="height: 1.86em; vertical-align: -0.64em;"><span class=" MJXp-script"><span><span style="margin-bottom: -0.25em;"><span class="MJXp-mrow" id="MJXp-Span-1867"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1868">l</span><span class="MJXp-mo" id="MJXp-Span-1869">+</span><span class="MJXp-mn" id="MJXp-Span-1870">1</span></span></span></span></span><span class=" MJXp-script"><span><span style="margin-top: -0.85em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1866">q</span></span></span></span></span></span><span class="MJXp-mtext" id="MJXp-Span-1871">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1872">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1873">p</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1874">p</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1875">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1876">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1877">x</span><span class="MJXp-mtext" id="MJXp-Span-1878">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1879">f</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1880">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1881">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1882">c</span><span class="MJXp-mrow" id="MJXp-Span-1883"><span class="MJXp-mtext" id="MJXp-Span-1884">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1885">p</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1886">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1887">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1888">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1889">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1890">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1891">l</span><span class="MJXp-msubsup" id="MJXp-Span-1892"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1893" style="margin-right: 0.05em;">a</span><span class="MJXp-script-box" style="height: 1.86em; vertical-align: -0.64em;"><span class=" MJXp-script"><span><span style="margin-bottom: -0.25em;"><span class="MJXp-mrow" id="MJXp-Span-1895"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1896">l</span><span class="MJXp-mo" id="MJXp-Span-1897">+</span><span class="MJXp-mn" id="MJXp-Span-1898">1</span></span></span></span></span><span class=" MJXp-script"><span><span style="margin-top: -0.85em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1894">q</span></span></span></span></span></span></span><span class="MJXp-mrow" id="MJXp-Span-1899"><span class="MJXp-mtext" id="MJXp-Span-1900">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1901">p</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1902">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1903">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1904">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1905">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1906">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1907">l</span><span class="MJXp-msubsup" id="MJXp-Span-1908"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1909" style="margin-right: 0.05em;">a</span><span class="MJXp-script-box" style="height: 1.86em; vertical-align: -0.64em;"><span class=" MJXp-script"><span><span style="margin-bottom: -0.25em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1911">l</span></span></span></span><span class=" MJXp-script"><span><span style="margin-top: -0.85em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1910">j</span></span></span></span></span></span></span><span class="MJXp-mtext" id="MJXp-Span-1912">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1913">D</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1914">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1915">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1916">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1917">a</span><span class="MJXp-msubsup" id="MJXp-Span-1918"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1919" style="margin-right: 0.05em;">a</span><span class="MJXp-script-box" style="height: 1.86em; vertical-align: -0.64em;"><span class=" MJXp-script"><span><span style="margin-bottom: -0.25em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1921">l</span></span></span></span><span class=" MJXp-script"><span><span style="margin-top: -0.85em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1920">j</span></span></span></span></span></span><span class="MJXp-mtext" id="MJXp-Span-1922">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1923">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1924">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1925">g</span><span class="MJXp-mrow" id="MJXp-Span-1926"><span class="MJXp-mn" id="MJXp-Span-1927">49</span></span></span></span><div class="MathJax_SVG_Display MathJax_SVG_Processing"><span class="MathJax_SVG" id="MathJax-Element-37-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span></div><script type="math/tex;mode=display" id="MathJax-Element-37"> \ Delta a ^ {l + 1} _q \ approx \ frac {\ partial a ^ {l + 1} _q} {\ partial a ^ l_j} \ Delta a ^ l_j \ tag {49} </script></p><br><br>  Substituting equation (48), we obtain: <br><br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-1928"><span class="MJXp-mtext" id="MJXp-Span-1929">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1930">D</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1931">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1932">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1933">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1934">a</span><span class="MJXp-msubsup" id="MJXp-Span-1935"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1936" style="margin-right: 0.05em;">a</span><span class="MJXp-script-box" style="height: 1.86em; vertical-align: -0.64em;"><span class=" MJXp-script"><span><span style="margin-bottom: -0.25em;"><span class="MJXp-mrow" id="MJXp-Span-1938"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1939">l</span><span class="MJXp-mo" id="MJXp-Span-1940">+</span><span class="MJXp-mn" id="MJXp-Span-1941">1</span></span></span></span></span><span class=" MJXp-script"><span><span style="margin-top: -0.85em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1937">q</span></span></span></span></span></span><span class="MJXp-mtext" id="MJXp-Span-1942">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1943">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1944">p</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1945">p</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1946">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1947">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1948">x</span><span class="MJXp-mtext" id="MJXp-Span-1949">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1950">f</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1951">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1952">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1953">c</span><span class="MJXp-mrow" id="MJXp-Span-1954"><span class="MJXp-mtext" id="MJXp-Span-1955">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1956">p</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1957">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1958">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1959">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1960">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1961">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1962">l</span><span class="MJXp-msubsup" id="MJXp-Span-1963"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1964" style="margin-right: 0.05em;">a</span><span class="MJXp-script-box" style="height: 1.86em; vertical-align: -0.64em;"><span class=" MJXp-script"><span><span style="margin-bottom: -0.25em;"><span class="MJXp-mrow" id="MJXp-Span-1966"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1967">l</span><span class="MJXp-mo" id="MJXp-Span-1968">+</span><span class="MJXp-mn" id="MJXp-Span-1969">1</span></span></span></span></span><span class=" MJXp-script"><span><span style="margin-top: -0.85em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1965">q</span></span></span></span></span></span></span><span class="MJXp-mrow" id="MJXp-Span-1970"><span class="MJXp-mtext" id="MJXp-Span-1971">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1972">p</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1973">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1974">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1975">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1976">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1977">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1978">l</span><span class="MJXp-msubsup" id="MJXp-Span-1979"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1980" style="margin-right: 0.05em;">a</span><span class="MJXp-script-box" style="height: 1.86em; vertical-align: -0.64em;"><span class=" MJXp-script"><span><span style="margin-bottom: -0.25em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1982">l</span></span></span></span><span class=" MJXp-script"><span><span style="margin-top: -0.85em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1981">j</span></span></span></span></span></span></span><span class="MJXp-mtext" id="MJXp-Span-1983">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1984">f</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1985">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1986">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1987">c</span><span class="MJXp-mrow" id="MJXp-Span-1988"><span class="MJXp-mtext" id="MJXp-Span-1989">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1990">p</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1991">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1992">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1993">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1994">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1995">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1996">l</span><span class="MJXp-msubsup" id="MJXp-Span-1997"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1998" style="margin-right: 0.05em;">a</span><span class="MJXp-script-box" style="height: 1.86em; vertical-align: -0.64em;"><span class=" MJXp-script"><span><span style="margin-bottom: -0.25em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2000">l</span></span></span></span><span class=" MJXp-script"><span><span style="margin-top: -0.85em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1999">j</span></span></span></span></span></span></span><span class="MJXp-mrow" id="MJXp-Span-2001"><span class="MJXp-mtext" id="MJXp-Span-2002">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2003">p</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2004">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2005">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2006">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2007">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2008">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2009">l</span><span class="MJXp-msubsup" id="MJXp-Span-2010"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2011" style="margin-right: 0.05em;">w</span><span class="MJXp-script-box" style="height: 1.86em; vertical-align: -0.64em;"><span class=" MJXp-script"><span><span style="margin-bottom: -0.25em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2015">l</span></span></span></span><span class=" MJXp-script"><span><span style="margin-top: -0.85em;"><span class="MJXp-mrow" id="MJXp-Span-2012"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2013">j</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2014">k</span></span></span></span></span></span></span></span><span class="MJXp-mtext" id="MJXp-Span-2016">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2017">D</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2018">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2019">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2020">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2021">a</span><span class="MJXp-msubsup" id="MJXp-Span-2022"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2023" style="margin-right: 0.05em;">w</span><span class="MJXp-script-box" style="height: 1.86em; vertical-align: -0.64em;"><span class=" MJXp-script"><span><span style="margin-bottom: -0.25em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2027">l</span></span></span></span><span class=" MJXp-script"><span><span style="margin-top: -0.85em;"><span class="MJXp-mrow" id="MJXp-Span-2024"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2025">j</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2026">k</span></span></span></span></span></span></span><span class="MJXp-mtext" id="MJXp-Span-2028">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2029">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2030">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2031">g</span><span class="MJXp-mrow" id="MJXp-Span-2032"><span class="MJXp-mn" id="MJXp-Span-2033">50</span></span></span></span><div class="MathJax_SVG_Display MathJax_SVG_Processing"><span class="MathJax_SVG" id="MathJax-Element-38-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span></div><script type="math/tex;mode=display" id="MathJax-Element-38"> \ Delta a ^ {l + 1} _q \ approx \ frac {\ partial a ^ {l + 1} _q} {\ partial a ^ l_j} \ frac {\ partial a ^ l_j} {\ partial w ^ l_ { jk}} \ Delta w ^ l_ {jk} \ tag {50} </script></p><br><br>  Of course, changing Œîa <sup>l + 1</sup> <sub>q</sub> will change and activate in the next layer.  We can even imagine a path across the entire network from w <sup>l</sup> <sub>jk</sub> to C, where each activation change leads to a change in the next activation, and finally to a change in the cost at the output.  If the path passes through activations a <sup>l</sup> <sub>j</sub> , a <sup>l + 1</sup> <sub>q</sub> , ..., a <sup>L ‚àí 1</sup> <sub>n</sub> , a <sup>L</sup> <sub>m</sub> , then the final expression will be <br><br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-2034"><span class="MJXp-mtext" id="MJXp-Span-2035">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2036">D</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2037">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2038">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2039">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2040">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2041">C</span><span class="MJXp-mtext" id="MJXp-Span-2042">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2043">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2044">p</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2045">p</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2046">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2047">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2048">x</span><span class="MJXp-mtext" id="MJXp-Span-2049">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2050">f</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2051">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2052">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2053">c</span><span class="MJXp-mrow" id="MJXp-Span-2054"><span class="MJXp-mtext" id="MJXp-Span-2055">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2056">p</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2057">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2058">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2059">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2060">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2061">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2062">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2063">C</span></span><span class="MJXp-mrow" id="MJXp-Span-2064"><span class="MJXp-mtext" id="MJXp-Span-2065">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2066">p</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2067">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2068">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2069">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2070">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2071">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2072">l</span><span class="MJXp-msubsup" id="MJXp-Span-2073"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2074" style="margin-right: 0.05em;">a</span><span class="MJXp-script-box" style="height: 1.86em; vertical-align: -0.64em;"><span class=" MJXp-script"><span><span style="margin-bottom: -0.25em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2076">L</span></span></span></span><span class=" MJXp-script"><span><span style="margin-top: -0.85em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2075">m</span></span></span></span></span></span></span><span class="MJXp-mtext" id="MJXp-Span-2077">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2078">f</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2079">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2080">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2081">c</span><span class="MJXp-mrow" id="MJXp-Span-2082"><span class="MJXp-mtext" id="MJXp-Span-2083">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2084">p</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2085">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2086">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2087">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2088">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2089">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2090">l</span><span class="MJXp-msubsup" id="MJXp-Span-2091"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2092" style="margin-right: 0.05em;">a</span><span class="MJXp-script-box" style="height: 1.86em; vertical-align: -0.64em;"><span class=" MJXp-script"><span><span style="margin-bottom: -0.25em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2094">L</span></span></span></span><span class=" MJXp-script"><span><span style="margin-top: -0.85em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2093">m</span></span></span></span></span></span></span><span class="MJXp-mrow" id="MJXp-Span-2095"><span class="MJXp-mtext" id="MJXp-Span-2096">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2097">p</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2098">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2099">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2100">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2101">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2102">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2103">l</span><span class="MJXp-msubsup" id="MJXp-Span-2104"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2105" style="margin-right: 0.05em;">a</span><span class="MJXp-script-box" style="height: 1.86em; vertical-align: -0.64em;"><span class=" MJXp-script"><span><span style="margin-bottom: -0.25em;"><span class="MJXp-mrow" id="MJXp-Span-2107"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2108">L</span><span class="MJXp-mo" id="MJXp-Span-2109">‚àí</span><span class="MJXp-mn" id="MJXp-Span-2110">1</span></span></span></span></span><span class=" MJXp-script"><span><span style="margin-top: -0.85em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2106">n</span></span></span></span></span></span></span><span class="MJXp-mtext" id="MJXp-Span-2111">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2112">f</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2113">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2114">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2115">c</span><span class="MJXp-mrow" id="MJXp-Span-2116"><span class="MJXp-mtext" id="MJXp-Span-2117">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2118">p</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2119">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2120">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2121">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2122">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2123">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2124">l</span><span class="MJXp-msubsup" id="MJXp-Span-2125"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2126" style="margin-right: 0.05em;">a</span><span class="MJXp-script-box" style="height: 1.86em; vertical-align: -0.64em;"><span class=" MJXp-script"><span><span style="margin-bottom: -0.25em;"><span class="MJXp-mrow" id="MJXp-Span-2128"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2129">L</span><span class="MJXp-mo" id="MJXp-Span-2130">‚àí</span><span class="MJXp-mn" id="MJXp-Span-2131">1</span></span></span></span></span><span class=" MJXp-script"><span><span style="margin-top: -0.85em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2127">n</span></span></span></span></span></span></span><span class="MJXp-mrow" id="MJXp-Span-2132"><span class="MJXp-mtext" id="MJXp-Span-2133">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2134">p</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2135">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2136">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2137">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2138">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2139">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2140">l</span><span class="MJXp-msubsup" id="MJXp-Span-2141"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2142" style="margin-right: 0.05em;">a</span><span class="MJXp-script-box" style="height: 1.86em; vertical-align: -0.64em;"><span class=" MJXp-script"><span><span style="margin-bottom: -0.25em;"><span class="MJXp-mrow" id="MJXp-Span-2144"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2145">L</span><span class="MJXp-mo" id="MJXp-Span-2146">‚àí</span><span class="MJXp-mn" id="MJXp-Span-2147">2</span></span></span></span></span><span class=" MJXp-script"><span><span style="margin-top: -0.85em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2143">p</span></span></span></span></span></span></span><span class="MJXp-mtext" id="MJXp-Span-2148">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2149">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2150">d</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2151">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2152">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2153">s</span><span class="MJXp-mtext" id="MJXp-Span-2154">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2155">f</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2156">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2157">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2158">c</span><span class="MJXp-mrow" id="MJXp-Span-2159"><span class="MJXp-mtext" id="MJXp-Span-2160">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2161">p</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2162">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2163">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2164">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2165">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2166">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2167">l</span><span class="MJXp-msubsup" id="MJXp-Span-2168"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2169" style="margin-right: 0.05em;">a</span><span class="MJXp-script-box" style="height: 1.86em; vertical-align: -0.64em;"><span class=" MJXp-script"><span><span style="margin-bottom: -0.25em;"><span class="MJXp-mrow" id="MJXp-Span-2171"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2172">l</span><span class="MJXp-mo" id="MJXp-Span-2173">+</span><span class="MJXp-mn" id="MJXp-Span-2174">1</span></span></span></span></span><span class=" MJXp-script"><span><span style="margin-top: -0.85em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2170">q</span></span></span></span></span></span></span><span class="MJXp-mrow" id="MJXp-Span-2175"><span class="MJXp-mtext" id="MJXp-Span-2176">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2177">p</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2178">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2179">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2180">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2181">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2182">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2183">l</span><span class="MJXp-msubsup" id="MJXp-Span-2184"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2185" style="margin-right: 0.05em;">a</span><span class="MJXp-script-box" style="height: 1.86em; vertical-align: -0.64em;"><span class=" MJXp-script"><span><span style="margin-bottom: -0.25em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2187">l</span></span></span></span><span class=" MJXp-script"><span><span style="margin-top: -0.85em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2186">j</span></span></span></span></span></span></span><span class="MJXp-mtext" id="MJXp-Span-2188">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2189">f</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2190">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2191">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2192">c</span><span class="MJXp-mrow" id="MJXp-Span-2193"><span class="MJXp-mtext" id="MJXp-Span-2194">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2195">p</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2196">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2197">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2198">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2199">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2200">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2201">l</span><span class="MJXp-msubsup" id="MJXp-Span-2202"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2203" style="margin-right: 0.05em;">a</span><span class="MJXp-script-box" style="height: 1.86em; vertical-align: -0.64em;"><span class=" MJXp-script"><span><span style="margin-bottom: -0.25em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2205">l</span></span></span></span><span class=" MJXp-script"><span><span style="margin-top: -0.85em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2204">j</span></span></span></span></span></span></span><span class="MJXp-mrow" id="MJXp-Span-2206"><span class="MJXp-mtext" id="MJXp-Span-2207">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2208">p</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2209">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2210">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2211">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2212">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2213">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2214">l</span><span class="MJXp-msubsup" id="MJXp-Span-2215"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2216" style="margin-right: 0.05em;">w</span><span class="MJXp-script-box" style="height: 1.86em; vertical-align: -0.64em;"><span class=" MJXp-script"><span><span style="margin-bottom: -0.25em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2220">l</span></span></span></span><span class=" MJXp-script"><span><span style="margin-top: -0.85em;"><span class="MJXp-mrow" id="MJXp-Span-2217"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2218">j</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2219">k</span></span></span></span></span></span></span></span><span class="MJXp-mtext" id="MJXp-Span-2221">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2222">D</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2223">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2224">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2225">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2226">a</span><span class="MJXp-msubsup" id="MJXp-Span-2227"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2228" style="margin-right: 0.05em;">w</span><span class="MJXp-script-box" style="height: 1.86em; vertical-align: -0.64em;"><span class=" MJXp-script"><span><span style="margin-bottom: -0.25em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2232">l</span></span></span></span><span class=" MJXp-script"><span><span style="margin-top: -0.85em;"><span class="MJXp-mrow" id="MJXp-Span-2229"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2230">j</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2231">k</span></span></span></span></span></span></span><span class="MJXp-mtext" id="MJXp-Span-2233">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2234">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2235">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2236">g</span><span class="MJXp-mrow" id="MJXp-Span-2237"><span class="MJXp-mn" id="MJXp-Span-2238">51</span></span></span></span><div class="MathJax_SVG_Display MathJax_SVG_Processing"><span class="MathJax_SVG" id="MathJax-Element-39-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span></div><script type="math/tex;mode=display" id="MathJax-Element-39"> \ Delta C \ approx \ frac {\ partial C} {\ partial a ^ L_m} \ frac {\ partial a ^ L_m} {\ partial a ^ {L-1} _n} \ frac {\ partial a ^ {L -1} _n} {\ partial a ^ {L-2} _p} \ ldots \ frac {\ partial a ^ {l + 1} _q} {\ partial a ^ l_j} \ frac {\ partial a ^ l_j} { \ partial w ^ l_ {jk}} \ Delta w ^ l_ {jk} \ tag {51} </script></p><br><br>  That is, we choose a member of the form ‚àÇa / ‚àÇa for each next neuron that we pass through, as well as for the term ‚àÇC / ‚àÇa <sup>L</sup> <sub>m</sub> at the end.  This is a representation of changes in C due to changes in activations along this particular path through the network.  Of course, there are many ways in which a change in w <sup>l</sup> <sub>jk</sub> can pass and affect the cost, and we considered only one of them.  To calculate the total change in C, it is reasonable to assume that we must sum up all possible paths from weight to final cost: <br><br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-2239"><span class="MJXp-mtext" id="MJXp-Span-2240">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2241">D</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2242">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2243">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2244">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2245">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2246">C</span><span class="MJXp-mtext" id="MJXp-Span-2247">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2248">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2249">p</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2250">p</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2251">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2252">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2253">x</span><span class="MJXp-mtext" id="MJXp-Span-2254">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2255">s</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2256">u</span><span class="MJXp-msubsup" id="MJXp-Span-2257"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2258" style="margin-right: 0.05em;">m</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-2259" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2260">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2261">n</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2262">p</span><span class="MJXp-mtext" id="MJXp-Span-2263">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2264">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2265">d</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2266">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2267">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2268">s</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2269">q</span></span></span><span class="MJXp-mtext" id="MJXp-Span-2270">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2271">f</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2272">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2273">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2274">c</span><span class="MJXp-mrow" id="MJXp-Span-2275"><span class="MJXp-mtext" id="MJXp-Span-2276">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2277">p</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2278">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2279">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2280">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2281">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2282">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2283">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2284">C</span></span><span class="MJXp-mrow" id="MJXp-Span-2285"><span class="MJXp-mtext" id="MJXp-Span-2286">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2287">p</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2288">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2289">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2290">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2291">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2292">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2293">l</span><span class="MJXp-msubsup" id="MJXp-Span-2294"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2295" style="margin-right: 0.05em;">a</span><span class="MJXp-script-box" style="height: 1.86em; vertical-align: -0.64em;"><span class=" MJXp-script"><span><span style="margin-bottom: -0.25em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2297">L</span></span></span></span><span class=" MJXp-script"><span><span style="margin-top: -0.85em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2296">m</span></span></span></span></span></span></span><span class="MJXp-mtext" id="MJXp-Span-2298">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2299">f</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2300">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2301">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2302">c</span><span class="MJXp-mrow" id="MJXp-Span-2303"><span class="MJXp-mtext" id="MJXp-Span-2304">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2305">p</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2306">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2307">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2308">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2309">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2310">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2311">l</span><span class="MJXp-msubsup" id="MJXp-Span-2312"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2313" style="margin-right: 0.05em;">a</span><span class="MJXp-script-box" style="height: 1.86em; vertical-align: -0.64em;"><span class=" MJXp-script"><span><span style="margin-bottom: -0.25em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2315">L</span></span></span></span><span class=" MJXp-script"><span><span style="margin-top: -0.85em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2314">m</span></span></span></span></span></span></span><span class="MJXp-mrow" id="MJXp-Span-2316"><span class="MJXp-mtext" id="MJXp-Span-2317">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2318">p</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2319">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2320">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2321">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2322">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2323">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2324">l</span><span class="MJXp-msubsup" id="MJXp-Span-2325"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2326" style="margin-right: 0.05em;">a</span><span class="MJXp-script-box" style="height: 1.86em; vertical-align: -0.64em;"><span class=" MJXp-script"><span><span style="margin-bottom: -0.25em;"><span class="MJXp-mrow" id="MJXp-Span-2328"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2329">L</span><span class="MJXp-mo" id="MJXp-Span-2330">‚àí</span><span class="MJXp-mn" id="MJXp-Span-2331">1</span></span></span></span></span><span class=" MJXp-script"><span><span style="margin-top: -0.85em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2327">n</span></span></span></span></span></span></span><span class="MJXp-mtext" id="MJXp-Span-2332">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2333">f</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2334">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2335">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2336">c</span><span class="MJXp-mrow" id="MJXp-Span-2337"><span class="MJXp-mtext" id="MJXp-Span-2338">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2339">p</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2340">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2341">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2342">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2343">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2344">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2345">l</span><span class="MJXp-msubsup" id="MJXp-Span-2346"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2347" style="margin-right: 0.05em;">a</span><span class="MJXp-script-box" style="height: 1.86em; vertical-align: -0.64em;"><span class=" MJXp-script"><span><span style="margin-bottom: -0.25em;"><span class="MJXp-mrow" id="MJXp-Span-2349"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2350">L</span><span class="MJXp-mo" id="MJXp-Span-2351">‚àí</span><span class="MJXp-mn" id="MJXp-Span-2352">1</span></span></span></span></span><span class=" MJXp-script"><span><span style="margin-top: -0.85em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2348">n</span></span></span></span></span></span></span><span class="MJXp-mrow" id="MJXp-Span-2353"><span class="MJXp-mtext" id="MJXp-Span-2354">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2355">p</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2356">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2357">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2358">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2359">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2360">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2361">l</span><span class="MJXp-msubsup" id="MJXp-Span-2362"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2363" style="margin-right: 0.05em;">a</span><span class="MJXp-script-box" style="height: 1.86em; vertical-align: -0.64em;"><span class=" MJXp-script"><span><span style="margin-bottom: -0.25em;"><span class="MJXp-mrow" id="MJXp-Span-2365"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2366">L</span><span class="MJXp-mo" id="MJXp-Span-2367">‚àí</span><span class="MJXp-mn" id="MJXp-Span-2368">2</span></span></span></span></span><span class=" MJXp-script"><span><span style="margin-top: -0.85em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2364">p</span></span></span></span></span></span></span><span class="MJXp-mtext" id="MJXp-Span-2369">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2370">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2371">d</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2372">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2373">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2374">s</span><span class="MJXp-mtext" id="MJXp-Span-2375">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2376">f</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2377">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2378">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2379">c</span><span class="MJXp-mrow" id="MJXp-Span-2380"><span class="MJXp-mtext" id="MJXp-Span-2381">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2382">p</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2383">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2384">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2385">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2386">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2387">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2388">l</span><span class="MJXp-msubsup" id="MJXp-Span-2389"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2390" style="margin-right: 0.05em;">a</span><span class="MJXp-script-box" style="height: 1.86em; vertical-align: -0.64em;"><span class=" MJXp-script"><span><span style="margin-bottom: -0.25em;"><span class="MJXp-mrow" id="MJXp-Span-2392"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2393">l</span><span class="MJXp-mo" id="MJXp-Span-2394">+</span><span class="MJXp-mn" id="MJXp-Span-2395">1</span></span></span></span></span><span class=" MJXp-script"><span><span style="margin-top: -0.85em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2391">q</span></span></span></span></span></span></span><span class="MJXp-mrow" id="MJXp-Span-2396"><span class="MJXp-mtext" id="MJXp-Span-2397">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2398">p</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2399">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2400">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2401">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2402">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2403">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2404">l</span><span class="MJXp-msubsup" id="MJXp-Span-2405"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2406" style="margin-right: 0.05em;">a</span><span class="MJXp-script-box" style="height: 1.86em; vertical-align: -0.64em;"><span class=" MJXp-script"><span><span style="margin-bottom: -0.25em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2408">l</span></span></span></span><span class=" MJXp-script"><span><span style="margin-top: -0.85em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2407">j</span></span></span></span></span></span></span><span class="MJXp-mtext" id="MJXp-Span-2409">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2410">f</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2411">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2412">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2413">c</span><span class="MJXp-mrow" id="MJXp-Span-2414"><span class="MJXp-mtext" id="MJXp-Span-2415">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2416">p</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2417">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2418">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2419">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2420">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2421">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2422">l</span><span class="MJXp-msubsup" id="MJXp-Span-2423"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2424" style="margin-right: 0.05em;">a</span><span class="MJXp-script-box" style="height: 1.86em; vertical-align: -0.64em;"><span class=" MJXp-script"><span><span style="margin-bottom: -0.25em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2426">l</span></span></span></span><span class=" MJXp-script"><span><span style="margin-top: -0.85em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2425">j</span></span></span></span></span></span></span><span class="MJXp-mrow" id="MJXp-Span-2427"><span class="MJXp-mtext" id="MJXp-Span-2428">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2429">p</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2430">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2431">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2432">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2433">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2434">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2435">l</span><span class="MJXp-msubsup" id="MJXp-Span-2436"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2437" style="margin-right: 0.05em;">w</span><span class="MJXp-script-box" style="height: 1.86em; vertical-align: -0.64em;"><span class=" MJXp-script"><span><span style="margin-bottom: -0.25em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2441">l</span></span></span></span><span class=" MJXp-script"><span><span style="margin-top: -0.85em;"><span class="MJXp-mrow" id="MJXp-Span-2438"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2439">j</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2440">k</span></span></span></span></span></span></span></span><span class="MJXp-mtext" id="MJXp-Span-2442">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2443">D</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2444">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2445">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2446">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2447">a</span><span class="MJXp-msubsup" id="MJXp-Span-2448"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2449" style="margin-right: 0.05em;">w</span><span class="MJXp-script-box" style="height: 1.86em; vertical-align: -0.64em;"><span class=" MJXp-script"><span><span style="margin-bottom: -0.25em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2453">l</span></span></span></span><span class=" MJXp-script"><span><span style="margin-top: -0.85em;"><span class="MJXp-mrow" id="MJXp-Span-2450"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2451">j</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2452">k</span></span></span></span></span></span></span><span class="MJXp-mtext" id="MJXp-Span-2454">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2455">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2456">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2457">g</span><span class="MJXp-mrow" id="MJXp-Span-2458"><span class="MJXp-mn" id="MJXp-Span-2459">52</span></span></span></span><div class="MathJax_SVG_Display MathJax_SVG_Processing"><span class="MathJax_SVG" id="MathJax-Element-40-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span></div><script type="math/tex;mode=display" id="MathJax-Element-40"> \ Delta C \ approx \ sum_ {mnp \ ldots q} \ frac {\ partial C} {\ partial a ^ L_m} \ frac {\ partial a ^ L_m} {\ partial a ^ {L-1} _n} \ frac {\ partial a ^ {L-1} _n} {\ partial a ^ {L-2} _p} \ ldots \ frac {\ partial a ^ {l + 1} _q} {\ partial a ^ l_j} \ frac {\ partial a ^ l_j} {\ partial w ^ l_ {jk}} \ Delta w ^ l_ {jk} \ tag {52} </script></p><br><br>  where we summed up all the possible choices for intermediate neurons along the way.  Comparing this with (47), we see that: <br><br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-2460"><span class="MJXp-mtext" id="MJXp-Span-2461">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2462">f</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2463">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2464">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2465">c</span><span class="MJXp-mrow" id="MJXp-Span-2466"><span class="MJXp-mtext" id="MJXp-Span-2467">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2468">p</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2469">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2470">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2471">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2472">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2473">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2474">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2475">C</span></span><span class="MJXp-mrow" id="MJXp-Span-2476"><span class="MJXp-mtext" id="MJXp-Span-2477">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2478">p</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2479">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2480">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2481">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2482">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2483">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2484">l</span><span class="MJXp-msubsup" id="MJXp-Span-2485"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2486" style="margin-right: 0.05em;">w</span><span class="MJXp-script-box" style="height: 1.86em; vertical-align: -0.64em;"><span class=" MJXp-script"><span><span style="margin-bottom: -0.25em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2490">l</span></span></span></span><span class=" MJXp-script"><span><span style="margin-top: -0.85em;"><span class="MJXp-mrow" id="MJXp-Span-2487"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2488">j</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2489">k</span></span></span></span></span></span></span></span><span class="MJXp-mo" id="MJXp-Span-2491" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mtext" id="MJXp-Span-2492">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2493">s</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2494">u</span><span class="MJXp-msubsup" id="MJXp-Span-2495"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2496" style="margin-right: 0.05em;">m</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-2497" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2498">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2499">n</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2500">p</span><span class="MJXp-mtext" id="MJXp-Span-2501">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2502">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2503">d</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2504">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2505">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2506">s</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2507">q</span></span></span><span class="MJXp-mtext" id="MJXp-Span-2508">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2509">f</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2510">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2511">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2512">c</span><span class="MJXp-mrow" id="MJXp-Span-2513"><span class="MJXp-mtext" id="MJXp-Span-2514">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2515">p</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2516">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2517">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2518">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2519">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2520">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2521">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2522">C</span></span><span class="MJXp-mrow" id="MJXp-Span-2523"><span class="MJXp-mtext" id="MJXp-Span-2524">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2525">p</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2526">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2527">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2528">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2529">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2530">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2531">l</span><span class="MJXp-msubsup" id="MJXp-Span-2532"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2533" style="margin-right: 0.05em;">a</span><span class="MJXp-script-box" style="height: 1.86em; vertical-align: -0.64em;"><span class=" MJXp-script"><span><span style="margin-bottom: -0.25em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2535">L</span></span></span></span><span class=" MJXp-script"><span><span style="margin-top: -0.85em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2534">m</span></span></span></span></span></span></span><span class="MJXp-mtext" id="MJXp-Span-2536">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2537">f</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2538">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2539">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2540">c</span><span class="MJXp-mrow" id="MJXp-Span-2541"><span class="MJXp-mtext" id="MJXp-Span-2542">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2543">p</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2544">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2545">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2546">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2547">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2548">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2549">l</span><span class="MJXp-msubsup" id="MJXp-Span-2550"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2551" style="margin-right: 0.05em;">a</span><span class="MJXp-script-box" style="height: 1.86em; vertical-align: -0.64em;"><span class=" MJXp-script"><span><span style="margin-bottom: -0.25em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2553">L</span></span></span></span><span class=" MJXp-script"><span><span style="margin-top: -0.85em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2552">m</span></span></span></span></span></span></span><span class="MJXp-mrow" id="MJXp-Span-2554"><span class="MJXp-mtext" id="MJXp-Span-2555">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2556">p</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2557">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2558">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2559">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2560">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2561">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2562">l</span><span class="MJXp-msubsup" id="MJXp-Span-2563"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2564" style="margin-right: 0.05em;">a</span><span class="MJXp-script-box" style="height: 1.86em; vertical-align: -0.64em;"><span class=" MJXp-script"><span><span style="margin-bottom: -0.25em;"><span class="MJXp-mrow" id="MJXp-Span-2566"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2567">L</span><span class="MJXp-mo" id="MJXp-Span-2568">‚àí</span><span class="MJXp-mn" id="MJXp-Span-2569">1</span></span></span></span></span><span class=" MJXp-script"><span><span style="margin-top: -0.85em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2565">n</span></span></span></span></span></span></span><span class="MJXp-mtext" id="MJXp-Span-2570">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2571">f</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2572">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2573">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2574">c</span><span class="MJXp-mrow" id="MJXp-Span-2575"><span class="MJXp-mtext" id="MJXp-Span-2576">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2577">p</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2578">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2579">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2580">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2581">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2582">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2583">l</span><span class="MJXp-msubsup" id="MJXp-Span-2584"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2585" style="margin-right: 0.05em;">a</span><span class="MJXp-script-box" style="height: 1.86em; vertical-align: -0.64em;"><span class=" MJXp-script"><span><span style="margin-bottom: -0.25em;"><span class="MJXp-mrow" id="MJXp-Span-2587"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2588">L</span><span class="MJXp-mo" id="MJXp-Span-2589">‚àí</span><span class="MJXp-mn" id="MJXp-Span-2590">1</span></span></span></span></span><span class=" MJXp-script"><span><span style="margin-top: -0.85em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2586">n</span></span></span></span></span></span></span><span class="MJXp-mrow" id="MJXp-Span-2591"><span class="MJXp-mtext" id="MJXp-Span-2592">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2593">p</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2594">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2595">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2596">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2597">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2598">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2599">l</span><span class="MJXp-msubsup" id="MJXp-Span-2600"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2601" style="margin-right: 0.05em;">a</span><span class="MJXp-script-box" style="height: 1.86em; vertical-align: -0.64em;"><span class=" MJXp-script"><span><span style="margin-bottom: -0.25em;"><span class="MJXp-mrow" id="MJXp-Span-2603"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2604">L</span><span class="MJXp-mo" id="MJXp-Span-2605">‚àí</span><span class="MJXp-mn" id="MJXp-Span-2606">2</span></span></span></span></span><span class=" MJXp-script"><span><span style="margin-top: -0.85em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2602">p</span></span></span></span></span></span></span><span class="MJXp-mtext" id="MJXp-Span-2607">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2608">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2609">d</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2610">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2611">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2612">s</span><span class="MJXp-mtext" id="MJXp-Span-2613">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2614">f</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2615">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2616">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2617">c</span><span class="MJXp-mrow" id="MJXp-Span-2618"><span class="MJXp-mtext" id="MJXp-Span-2619">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2620">p</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2621"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">a </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2622"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">r </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2623"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">t </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2624"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">i </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2625"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">a </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2626"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">l </font></font></span><span class="MJXp-msubsup" id="MJXp-Span-2627"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2628" style="margin-right: 0.05em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">a </font></font></span><span class="MJXp-script-box" style="height: 1.86em; vertical-align: -0.64em;"><span class=" MJXp-script"><span><span style="margin-bottom: -0.25em;"><span class="MJXp-mrow" id="MJXp-Span-2630"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2631"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">l </font></font></span><span class="MJXp-mo" id="MJXp-Span-2632"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">+ </font></font></span><span class="MJXp-mn" id="MJXp-Span-2633"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1,</font></font></span></span></span></span></span><span class=" MJXp-script"><span><span style="margin-top: -0.85em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2629"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> q</font></font></span></span></span></span></span></span></span><font style="vertical-align: inherit;"><span class="MJXp-mrow" id="MJXp-Span-2634"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2636"><font style="vertical-align: inherit;"> p </font></span></span><span class="MJXp-mrow" id="MJXp-Span-2634"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2637"><font style="vertical-align: inherit;">a </font></span></span><span class="MJXp-mrow" id="MJXp-Span-2634"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2638"><font style="vertical-align: inherit;">r </font></span></span><span class="MJXp-mrow" id="MJXp-Span-2634"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2639"><font style="vertical-align: inherit;">t </font></span></span><span class="MJXp-mrow" id="MJXp-Span-2634"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2640"><font style="vertical-align: inherit;">i </font></span></span><span class="MJXp-mrow" id="MJXp-Span-2634"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2641"><font style="vertical-align: inherit;">a </font></span></span><span class="MJXp-mrow" id="MJXp-Span-2634"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2642"><font style="vertical-align: inherit;">l </font></span></span><span class="MJXp-mrow" id="MJXp-Span-2634"><span class="MJXp-msubsup" id="MJXp-Span-2643"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2644" style="margin-right: 0.05em;"><font style="vertical-align: inherit;">a </font></span></span></span><span class="MJXp-mrow" id="MJXp-Span-2634"><span class="MJXp-msubsup" id="MJXp-Span-2643"><span class="MJXp-script-box" style="height: 1.86em; vertical-align: -0.64em;"><span class=" MJXp-script"><span><span style="margin-bottom: -0.25em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2646"><font style="vertical-align: inherit;">l </font></span></span></span></span></span></span></span><span class="MJXp-mrow" id="MJXp-Span-2634"><span class="MJXp-msubsup" id="MJXp-Span-2643"><span class="MJXp-script-box" style="height: 1.86em; vertical-align: -0.64em;"><span class=" MJXp-script"><span><span style="margin-top: -0.85em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2645"><font style="vertical-align: inherit;">j</font></span></span></span></span></span></span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2648"><font style="vertical-align: inherit;"> f </font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2649"><font style="vertical-align: inherit;">r </font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2650"><font style="vertical-align: inherit;">a </font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2651"><font style="vertical-align: inherit;">c </font></span><span class="MJXp-mrow" id="MJXp-Span-2652"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2654"><font style="vertical-align: inherit;">p </font></span></span><span class="MJXp-mrow" id="MJXp-Span-2652"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2655"><font style="vertical-align: inherit;">a </font></span></span><span class="MJXp-mrow" id="MJXp-Span-2652"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2656"><font style="vertical-align: inherit;">r </font></span></span><span class="MJXp-mrow" id="MJXp-Span-2652"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2657"><font style="vertical-align: inherit;">t </font></span></span><span class="MJXp-mrow" id="MJXp-Span-2652"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2658"><font style="vertical-align: inherit;">i </font></span></span><span class="MJXp-mrow" id="MJXp-Span-2652"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2659"><font style="vertical-align: inherit;">a </font></span></span><span class="MJXp-mrow" id="MJXp-Span-2652"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2660"><font style="vertical-align: inherit;">l </font></span></span><span class="MJXp-mrow" id="MJXp-Span-2652"><span class="MJXp-msubsup" id="MJXp-Span-2661"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2662" style="margin-right: 0.05em;"><font style="vertical-align: inherit;">a </font></span></span></span><span class="MJXp-mrow" id="MJXp-Span-2652"><span class="MJXp-msubsup" id="MJXp-Span-2661"><span class="MJXp-script-box" style="height: 1.86em; vertical-align: -0.64em;"><span class=" MJXp-script"><span><span style="margin-bottom: -0.25em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2664"><font style="vertical-align: inherit;">l </font></span></span></span></span></span></span></span><span class="MJXp-mrow" id="MJXp-Span-2652"><span class="MJXp-msubsup" id="MJXp-Span-2661"><span class="MJXp-script-box" style="height: 1.86em; vertical-align: -0.64em;"><span class=" MJXp-script"><span><span style="margin-top: -0.85em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2663"><font style="vertical-align: inherit;">j</font></span></span></span></span></span></span></span><span class="MJXp-mrow" id="MJXp-Span-2665"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2667"><font style="vertical-align: inherit;"> p </font></span></span><span class="MJXp-mrow" id="MJXp-Span-2665"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2668"><font style="vertical-align: inherit;">a </font></span></span><span class="MJXp-mrow" id="MJXp-Span-2665"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2669"><font style="vertical-align: inherit;">r </font></span></span><span class="MJXp-mrow" id="MJXp-Span-2665"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2670"><font style="vertical-align: inherit;">t </font></span></span><span class="MJXp-mrow" id="MJXp-Span-2665"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2671"><font style="vertical-align: inherit;">i </font></span></span><span class="MJXp-mrow" id="MJXp-Span-2665"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2672"><font style="vertical-align: inherit;">a </font></span></span><span class="MJXp-mrow" id="MJXp-Span-2665"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2673"><font style="vertical-align: inherit;">l </font></span></span><span class="MJXp-mrow" id="MJXp-Span-2665"><span class="MJXp-msubsup" id="MJXp-Span-2674"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2675" style="margin-right: 0.05em;"><font style="vertical-align: inherit;">w </font></span></span></span><span class="MJXp-mrow" id="MJXp-Span-2665"><span class="MJXp-msubsup" id="MJXp-Span-2674"><span class="MJXp-script-box" style="height: 1.86em; vertical-align: -0.64em;"><span class=" MJXp-script"><span><span style="margin-bottom: -0.25em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2679"><font style="vertical-align: inherit;">l </font></span></span></span></span></span></span></span><span class="MJXp-mrow" id="MJXp-Span-2665"><span class="MJXp-msubsup" id="MJXp-Span-2674"><span class="MJXp-script-box" style="height: 1.86em; vertical-align: -0.64em;"><span class=" MJXp-script"><span><span style="margin-top: -0.85em;"><span class="MJXp-mrow" id="MJXp-Span-2676"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2677"><font style="vertical-align: inherit;">j </font></span></span></span></span></span></span></span></span><span class="MJXp-mrow" id="MJXp-Span-2665"><span class="MJXp-msubsup" id="MJXp-Span-2674"><span class="MJXp-script-box" style="height: 1.86em; vertical-align: -0.64em;"><span class=" MJXp-script"><span><span style="margin-top: -0.85em;"><span class="MJXp-mrow" id="MJXp-Span-2676"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2678"><font style="vertical-align: inherit;">k</font></span></span></span></span></span></span></span></span><span class="MJXp-mo" id="MJXp-Span-2680" style="margin-left: 0em; margin-right: 0.222em;"><font style="vertical-align: inherit;"> . </font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2682"><font style="vertical-align: inherit;">t </font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2683"><font style="vertical-align: inherit;">a </font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2684"><font style="vertical-align: inherit;">g </font></span><span class="MJXp-mrow" id="MJXp-Span-2685"><span class="MJXp-mn" id="MJXp-Span-2686"><font style="vertical-align: inherit;">53</font></span></span></font><span class="MJXp-mrow" id="MJXp-Span-2634"><span class="MJXp-mtext" id="MJXp-Span-2635">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2636"><font style="vertical-align: inherit;"></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2637"><font style="vertical-align: inherit;"></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2638"><font style="vertical-align: inherit;"></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2639"><font style="vertical-align: inherit;"></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2640"><font style="vertical-align: inherit;"></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2641"><font style="vertical-align: inherit;"></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2642"><font style="vertical-align: inherit;"></font></span><span class="MJXp-msubsup" id="MJXp-Span-2643"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2644" style="margin-right: 0.05em;"><font style="vertical-align: inherit;"></font></span><span class="MJXp-script-box" style="height: 1.86em; vertical-align: -0.64em;"><span class=" MJXp-script"><span><span style="margin-bottom: -0.25em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2646"><font style="vertical-align: inherit;"></font></span></span></span></span><span class=" MJXp-script"><span><span style="margin-top: -0.85em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2645"><font style="vertical-align: inherit;"></font></span></span></span></span></span></span></span><span class="MJXp-mtext" id="MJXp-Span-2647">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2648"><font style="vertical-align: inherit;"></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2649"><font style="vertical-align: inherit;"></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2650"><font style="vertical-align: inherit;"></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2651"><font style="vertical-align: inherit;"></font></span><span class="MJXp-mrow" id="MJXp-Span-2652"><span class="MJXp-mtext" id="MJXp-Span-2653">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2654"><font style="vertical-align: inherit;"></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2655"><font style="vertical-align: inherit;"></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2656"><font style="vertical-align: inherit;"></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2657"><font style="vertical-align: inherit;"></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2658"><font style="vertical-align: inherit;"></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2659"><font style="vertical-align: inherit;"></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2660"><font style="vertical-align: inherit;"></font></span><span class="MJXp-msubsup" id="MJXp-Span-2661"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2662" style="margin-right: 0.05em;"><font style="vertical-align: inherit;"></font></span><span class="MJXp-script-box" style="height: 1.86em; vertical-align: -0.64em;"><span class=" MJXp-script"><span><span style="margin-bottom: -0.25em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2664"><font style="vertical-align: inherit;"></font></span></span></span></span><span class=" MJXp-script"><span><span style="margin-top: -0.85em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2663"><font style="vertical-align: inherit;"></font></span></span></span></span></span></span></span><span class="MJXp-mrow" id="MJXp-Span-2665"><span class="MJXp-mtext" id="MJXp-Span-2666">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2667"><font style="vertical-align: inherit;"></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2668"><font style="vertical-align: inherit;"></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2669"><font style="vertical-align: inherit;"></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2670"><font style="vertical-align: inherit;"></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2671"><font style="vertical-align: inherit;"></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2672"><font style="vertical-align: inherit;"></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2673"><font style="vertical-align: inherit;"></font></span><span class="MJXp-msubsup" id="MJXp-Span-2674"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2675" style="margin-right: 0.05em;"><font style="vertical-align: inherit;"></font></span><span class="MJXp-script-box" style="height: 1.86em; vertical-align: -0.64em;"><span class=" MJXp-script"><span><span style="margin-bottom: -0.25em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2679"><font style="vertical-align: inherit;"></font></span></span></span></span><span class=" MJXp-script"><span><span style="margin-top: -0.85em;"><span class="MJXp-mrow" id="MJXp-Span-2676"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2677"><font style="vertical-align: inherit;"></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2678"><font style="vertical-align: inherit;"></font></span></span></span></span></span></span></span></span><span class="MJXp-mo" id="MJXp-Span-2680" style="margin-left: 0em; margin-right: 0.222em;"><font style="vertical-align: inherit;"></font></span><span class="MJXp-mtext" id="MJXp-Span-2681">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2682"><font style="vertical-align: inherit;"></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2683"><font style="vertical-align: inherit;"></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2684"><font style="vertical-align: inherit;"></font></span><span class="MJXp-mrow" id="MJXp-Span-2685"><span class="MJXp-mn" id="MJXp-Span-2686"><font style="vertical-align: inherit;"></font></span></span></span></span><div class="MathJax_SVG_Display MathJax_SVG_Processing"><span class="MathJax_SVG" id="MathJax-Element-41-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span></div><script type="math/tex;mode=display" id="MathJax-Element-41"> \ frac {\ partial C} {\ partial w ^ l_ {jk}} = \ sum_ {mnp \ ldots q} \ frac {\ partial C} {\ partial a ^ L_m} \ frac {\ partial a ^ L_m} {\ partial a ^ {L-1} _n} \ frac {\ partial a ^ {L-1} _n} {\ partial a ^ {L-2} _p} \ ldots \ frac {\ partial a ^ {l + 1} _q} {\ partial a ^ l_j} \ frac {\ partial a ^ l_j} {\ partial w ^ l_ {jk}}. \ tag {53} </script></p><br><br>  Equation (53) looks complicated.  However, he has a pleasant intuitive interpretation.  We count the change in C relative to the weights of the network.  It tells us that each edge between two neurons of the network is associated with a relation factor, which is only a partial derivative of the activation of one neuron with respect to the activation of another neuron.  At the edge from the first weight to the first neuron, the ratio factor is ‚àÇa <sup>l</sup> <sub>j</sub> / ‚àÇw <sup>l</sup> <sub>jk</sub> .  The ratio factor for a path is simply the product of the coefficients throughout the path.  And the total change coefficient ‚àÇC / ‚àÇw <sup>l</sup> <sub>jk</sub> is the sum of the coefficients for all paths from the initial weight to the final cost.  This procedure is shown below for one path: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/18e/3a8/fc0/18e3a8fc0862b7b44d8f237ac19f787d.png"><br><br>  So far we have given a heuristic argument, a way to present what is happening when the weights of the network change.  Let me outline a further way of thinking on this topic for the development of this argument.  First, one can derive exact expressions for all individual partial derivatives in equation (53).  This is easy to do using simple algebra.  After that, you can try to understand how to record all sums of indices in the form of matrix products.  This turns out to be a tedious task that requires patience, but not something extraordinary.  After all this and the maximum simplification, you will see that exactly the same back propagation algorithm has turned out!  Therefore, the back propagation algorithm can be thought of as a way to calculate the sum of the coefficients over all paths.  Or, to rephrase, the back-propagation algorithm is an ingenious way of tracking small changes in weights (and offsets) when they propagate through the network, reach output and affect cost. <br><br>  Here I will not do all this.  This case is unattractive, requiring careful study of details.  If you are ready for this, you might like to do it.  If not, then I hope that such reflections will give you some ideas about the goals of back distribution. <br><br>  What about another riddle - how was it possible to open a reverse distribution?  In fact, if you follow the path I have outlined, you will receive proof of back distribution.  Unfortunately, the proof will be longer and more complicated than what I described earlier.  So how was that short (but even more mysterious) evidence revealed?  If you write down all the details of a long proof, you will immediately see several obvious simplifications.  You apply simplifications, get simpler proof, write it down.  And then you again see some obvious simplifications.  And you repeat the process.  After several repetitions, we‚Äôve got the proof that we saw earlier - short, but a bit incomprehensible, because all the guiding milestones are removed from it!  I, of course, suggest that you take my word, but there really is no mystery about the origin of the given evidence.  Just a lot of hard work to simplify the proof I described in this section. <br><br>  However, in this process there is one clever trick.  In equation (53), intermediate variables are activations, such as a <sup>l + 1</sup> <sub>q</sub> .  The trick is to switch to using weighted inputs, such as z <sup>l + 1</sup> <sub>q</sub> , as intermediate variables.  If you do not use this, and continue to use the activation, the evidence obtained will be a little more complicated than this earlier in this chapter. </div><p>Source: <a href="https://habr.com/ru/post/457980/">https://habr.com/ru/post/457980/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../457968/index.html">Parallels that intersect - the Ministry of Communications overnight burned billions in budgets</a></li>
<li><a href="../45797/index.html">Installing Deluge from SVN-branch</a></li>
<li><a href="../457970/index.html">Linters in Go. How to cook them. Denis Isaev</a></li>
<li><a href="../457972/index.html">ClangFormat and Notepad ++ integration</a></li>
<li><a href="../457978/index.html">18 tricks to work with Visual Studio</a></li>
<li><a href="../457982/index.html">Moving to work abroad: 6 services to help expatriates in the United States and Canada</a></li>
<li><a href="../457986/index.html">JetBrains Open Day 2019: Broadcast Reports</a></li>
<li><a href="../457988/index.html">Checklist: we launch SCRUM-commands and we make vaccinations against zombie scram</a></li>
<li><a href="../457990/index.html">I was seven words from being targeted for phishing.</a></li>
<li><a href="../457992/index.html">Wireless touch switch with additional fluorescent light</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>