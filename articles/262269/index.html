<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ERP on SKALA-R - we are testing the performance of the SAP and Oracle Database bundles</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Small introduction 

 We in IBS wanted to go to Habr from the time when computers looked like in this picture. But constantly something was missing: n...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>ERP on SKALA-R - we are testing the performance of the SAP and Oracle Database bundles</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/files/750/3bb/b23/7503bbb2305e4d969bd938e1fc526246.jpg"><br><br><br><h2>  Small introduction </h2><br><br>  We in IBS wanted to go to Habr from the time when computers looked like in this picture.  But constantly something was missing: now, time, then experts, or interesting stories.  Finally, everything coincided and we run our blog - mainly about our test lab's internal lab (IBS InterLab), where IT infrastructure solutions are developed and technologies are tested for clients, plus a little in other areas of corporate IT.  We will rarely write, at least this summer, but we will try to give the most useful material.  Thank. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <br><h2>  Go </h2><br><br>  Today, probably, almost all large business somehow works with ERP or other heavy business applications.  Naturally, over time, there is a need to move to virtual machines.  Solving this problem with a swoop is a dangerous business, since along the way a whole bag of surprises comes out, each of which may well turn into a complete failure of the project.  To prevent this from <a href="http://www.ibs.ru/interlab">happening</a> , the <a href="http://www.ibs.ru/interlab">IBS InterLab</a> team is testing various technologies for the client's tasks, and in the framework of such studies we managed to get results that may be interesting and useful. <br><br><br><h2>  How did it all start? </h2><br><br>  We performed comparative testing of the performance of the tandems SAP + Oracle Database and SAP + HANA for the tasks of one of the customers.  We pursued several goals: find out the peculiarities of the new for the Russian market HANA DBMS and look at the capabilities of the Huawei-certified HANA computing complex (we will definitely tell about this separately). <br><br><br><a name="habracut"></a><br>  However, life is a dynamic thing, and very soon (by the standards of the universe, as well as NTP, too), the universal convergent complex <a href="http://www.ibs.ru/interlab/platforma-skala-r.php">SKALA-R</a> developed in IBS appeared on the horizon.  And although we did not have time to work out the special complex tests (but we will definitely do it in the near future), to assess its real capabilities when working in combat conditions, our hands simply itched.  It was important not just to check ‚Äúworks / does not work‚Äù - we are 100% sure that everything works. <br><br><br>  I wanted to compare the performance with some well-known product.  Therefore, we decided to continue testing the SAP + Oracle bundle on our platform in order to compare the bundle test already performed on VMWare. <br><br><br><h2>  Input data </h2><br><br>  The test complex used earlier was implemented in the cloud, which only increased the itching in our hands, since it made the comparison somewhat easier.  So, an identical virtual machine was created in the SCALA-R cloud, differing only in the fact that if the previous one was implemented using a different hypervisor, then this test used a hypervisor from Parallels company.  This virtual machine was connected to the LUN, assembled on a disk array using Raidix software.  And it was with the latter, or rather, with its scaling, that we had certain difficulties: it was necessary to correlate the performance of disk subsystems - used earlier and which is part of SKALA-R. <br><br><br>  We solved this problem by comparing direct performance measurements in IOPs.  It turned out that in the initial test, the actual performance of the virtual disk subsystem was 1500 IOPs, and the measured performance of the allocated LUN in SCALA-R was 1900 IOPs according to IOMeter, which practically reached the theoretical 1998 IOPs calculated using a <a href="http://www.wmarow.com/strcalc/">calculator</a> .  At the same time, for completeness, it should be noted that we managed to achieve the result of 1900 IOPs only after a significant increase in the size of the test data, since the disk array cache worked too hard on small volumes, and we received prohibitive 37100 IOPs. <br><br><br>  That's about this understanding of the ratio of hardware resources, we started testing.  But again, it should be noted that the DBMS in the tests used a small (slightly less than 1 GB), which predetermined the active influence of the cache on the test results. <br><br><br><h2>  Test process </h2><br><br>  In the course of testing, runs of three dozens of various kinds of queries were implemented, implemented both through a program written in ABAP and through standard SAP R / 3 functionality. <br><br><br><ul><li>  <strong>The first group of tests</strong> .  Here we used 2-3 tables with a large number of records and fields in them (about 100), from which several directions were selected.  At the same time, the filtering criteria were selected in such a way that the number of records returned for different tests was changed several times: <br><ul><li>  <strong>Selection of individual database fields (lines 1 and 3).</strong>  3 fields were selected, then the filtering conditions ensured the return of a large volume of records (several hundred thousand) or small. </li><li>  <strong>Selection of all record fields (rows 2 and 4)</strong> from the same table.  The filtration conditions remained the same. </li><li>  <strong>Selection of all fields of the record (lines 5-7, 13, 15, 17)</strong> from the same table.  Filtering was carried out on the key and non-key fields. </li><li>  <strong>Selection of one record field (lines 8-12, 14, 16, 18)</strong> from the same table.  Filtering was carried out in the same way - by key and non-key fields. </li></ul><br></li><li>  <strong>The second group of tests.</strong>  In this case, for lines 19-21, queries of the aggregate type were used, that is, those involving the execution of aggregation operations: in the field ‚Äúvalue of the transaction‚Äù when grouping records by balance units and currency of the transaction, the amount was calculated.  This task was included in the testing program, since HANA is positioned as a system optimized for analytical applications (namely, to perform aggregation queries). </li><li>  <strong>The third group of tests.</strong>  The next round of tests included the execution of samples without filtering (lines 22-25), which were carried out using the tool built into SAP (viewing the contents of the table - transaction SE16), which allows viewing the contents of the tables.  At the same time, the maximum limit for the number of returned records was set at 50,000. </li><li>  <strong>The fourth group of tests.</strong>  The latter carried out synthetic tests that are part of the standard SAP R / 3 functionality (lines 26-29) and proprietary data extractors for the SAP BW analytical reporting system (lines 30-34), which ensure the import of data from R / 3 to BW.  Extractors took data according to specified criteria: mainly periods for which documents must be selected. </li></ul><br><br>  Each test was performed two times to evaluate the levels of the cache.  According to their results, it became obvious that during the first operation all data is read from the data storage system, and during the second execution, the work is optimized by caching mechanisms.  At the same time, in order to eliminate the influence of the Oracle server cache, before conducting a test of a new type, we reset it. <br><br><br>  And now what it was all about was the test results.  In theory, no special explanation is required for them, since everything is clearly presented in the tables.  But if you have any questions, you can always ask them in the comments, and we will respond promptly and fully.  So, look. <br><br><br><img src="https://habrastorage.org/files/54b/d89/7de/54bd897de5714988a107107285ba77b2.png"><br><br><br><h2>  Summing up </h2><br><br>  Since we did not pretend to absolute scientific accuracy, we will draw conclusions in a fairly free form: <br><br><br><ul><li> <strong>Firstly</strong> , it is quite clearly seen how the Oracle software cache works: a single run is enough for the operation to be significantly reduced.  This can be attributed to the benefits of Oracle. </li><li>  <strong>Secondly</strong> , the amount of time spent on each first test is approximately the same, and the performance ratio of disk subsystems (1500IOPs / 1900IOPs) is almost equivalent.  It should be noted that the subsequent performance of similar tests on SCALA-R results are improved, which is explained by the inclusion of a disk array in the work of the cache, which in the past tests, apparently, a little filonil. </li><li>  <strong>Thirdly</strong> , we will be as impartial and objective as possible, but at the same time, we note that our <a href="http://www.ibs.ru/interlab/platforma-skala-r.php">SKALA-R</a> has <a href="http://www.ibs.ru/interlab/platforma-skala-r.php">done a</a> very good job of supporting ERP.  We have obtained quite adequate results on a platform that has competitive functionality, but with a significantly lower cost compared to the usual solutions on hypervisors and disk arrays from well-known manufacturers.  Given that, for the purity of the experiment, it was decided to conduct a test on the ‚Äúdefault‚Äù settings. </li></ul><br><br>  If you have something to add, ask, argue or, so to speak, add to our ‚Äúbook of complaints and suggestions,‚Äù we will be happy to continue the discussion in the comments. <br><br><br>  Experts worked on the post: Alexander Sashurin and Alexander Ignatiev with the active complicity of Andrei Sungurov. <br><br>  Thanks to them. <br><br><br>  IBS <a href="http://www.ibs.ru/interlab">Interlab Team</a> . </div><p>Source: <a href="https://habr.com/ru/post/262269/">https://habr.com/ru/post/262269/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../262257/index.html">SSDs have slack</a></li>
<li><a href="../262259/index.html">Create a room motion detector on the Arduino and MATLAB</a></li>
<li><a href="../262263/index.html">The magic of tensor algebra: Part 7 - The final rotation of a rigid body. Rotation tensor properties and method for calculating it</a></li>
<li><a href="../262265/index.html">Apps from Google Play specialize in stealing Facebook credentials</a></li>
<li><a href="../262267/index.html">How neural networks draw pictures</a></li>
<li><a href="../262271/index.html">A simple method for extracting relationships and facts from text.</a></li>
<li><a href="../262275/index.html">Non-PKI or social packages for employees</a></li>
<li><a href="../262277/index.html">Selection of interesting materials of the week for iOS developers</a></li>
<li><a href="../262279/index.html">Generating LINQ to SQL Code for SQLite in .NET (C #)</a></li>
<li><a href="../262281/index.html">Tekla Structure API (c #): connecting and retrieving a tree of objects</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>