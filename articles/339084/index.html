<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Liquibase: an example of an automated roll forward of changes to a relational database</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Instead of the preface 


 The article will be of interest to those who have ever thought about the issue of a change (patch) to a relational database...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Liquibase: an example of an automated roll forward of changes to a relational database</h1><div class="post__text post__text-html js-mediator-article"><h3 id="vmesto-predisloviya">  Instead of the preface </h3><br><p>  The article will be of interest to those who have ever thought about the issue of a change (patch) to a relational database.  The article will not be interesting to those who have already mastered and uses Liquibase.  The main purpose of this article is to provide a link to the repository with an example of use.  As an example, I chose the rollout of the HR sample schema on the Oracle database (a <a href="http://www.liquibase.org/databases.html">list of all supported databases</a> ) - anyone can download the repository and play at home.  The desire to demonstrate an example is caused by the discussion of this issue on the <a href="http://www.sql.ru/forum/1272875/version-control-dlya-pl-sql">sql.ru</a> resource. </p><a name="habracut"></a><br><h3 id="chto-takoe-liquibase">  What is Liquibase </h3><br><p>  What is Liquibase, can be found on the <a href="http://www.liquibase.org/">official website of the</a> product.  I would like to mention a couple of good articles on this resource: <br>  <a href="https://habrahabr.ru/post/178665/">Manage database migrations with Liquibase</a> <br>  <a href="https://habrahabr.ru/post/179425/">Using Liquibase without a headache.</a>  <a href="https://habrahabr.ru/post/179425/">10 tips from real development experience</a> </p><br><h3 id="pochemu-ya-ispolzuyu-liquibase">  Why I use Liquibase </h3><br><p>  My choice was on this tool, because: </p><br><p>  1) The tool keeps track of which changesets have already been applied to this instance of the database and rolls only those that have not yet been rolled up and which still need to be added.  If in the process of a roll forward, the application of any change fell with an error, then, after eliminating the cause, you restart the roll forward and Liquibase continues to execute from the changeset on which it stopped. </p><br><p>  2) The ability to set changeset attributes runOnChange and runAlways greatly simplifies the management of changes, in particular, recreatable-objects. </p><br><p>  3) The context property allows you to perform / not perform changesets depending on the current environment (for example, do not run unit tests on the prod). </p><br><p>  It was not a complete list of features. </p><br><h3 id="repozitoriy">  Repository </h3><br><p>  He is <a href="https://github.com/akk0rd87/OracleSampleSchemas-HR">here</a> .  It contains "hard" (tables, indexes, integrity constraints) and "soft" (triggers, procedures, views) objects, changesets with sql and sqlFile tags, with and without runOnChange and runAlways attributes. </p><br><h3 id="chego-net-v-repozitorii">  What is not in the repository </h3><br><p>  Due to the lack of need for a repository, there are no such useful features / steps that I usually use in my projects: </p><br><ul><li>  <a href="http://www.liquibase.org/documentation/preconditions.html">Preconditions</a> - allow you to set the condition for the changeset; </li><li>  Compiling schematic objects at the end of the run.  In Oracle, this is dbms_utility.compile_schema (user, false); </li><li>  Run unit tests. </li></ul></div>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <p>Source: <a href="https://habr.com/ru/post/339084/">https://habr.com/ru/post/339084/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../339072/index.html">Affixing a project to a partner and new 3CX call center reports</a></li>
<li><a href="../339074/index.html">How to legalize the sale of game items</a></li>
<li><a href="../339078/index.html">Periods of sidereal days in radioactive decay</a></li>
<li><a href="../339080/index.html">Dive into Ethereum development. Part 3: user application</a></li>
<li><a href="../339082/index.html">The digest of interesting materials for the mobile developer # 223 (September 25 - October 1)</a></li>
<li><a href="../339086/index.html">Rethinking drag & drop</a></li>
<li><a href="../339090/index.html">ggplot2: how to easily combine multiple graphs in one, part 3</a></li>
<li><a href="../339092/index.html">Classic 2D quest or how our two years of development went. Part 3</a></li>
<li><a href="../339094/index.html">Heading "We read articles for you." September 2017</a></li>
<li><a href="../339096/index.html">Electronic documents in the Russian courts, as a criterion for the electronic maturity of Russia</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>