<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Organization of effective interaction microservices</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Recently, microservice architectures have gained some popularity. How microservices interact can affect the performance and scalability of solutions b...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Organization of effective interaction microservices</h1><div class="post__text post__text-html js-mediator-article">  Recently, microservice architectures have gained some popularity.  How microservices interact can affect the performance and scalability of solutions based on them.  This interaction can be synchronous or asynchronous.  The material, the translation of which we present to your attention today, discusses synchronous methods of interaction of microservices.  Namely, we will discuss the study of two technologies: HTTP / 1.1 and gRPC.  The first technology is represented by standard HTTP calls.  The second is based on using the high-performance RPC framework from Google.  The author of the material offers a look at the code necessary to implement the interaction of microservices using HTTP / 1.1 and gRPC, measure performance, and choose a technology that allows you to organize the data exchange between microservices in the best possible way. <br><br> <a href="https://habr.com/company/ruvds/blog/421579/"><img src="https://habrastorage.org/webt/8f/rs/wi/8frswixgdwda7hy0qyauot2ze0c.jpeg"></a> <br><a name="habracut"></a><br><h2>  <font color="#3AC1EF">Normal application</font> </h2><br>  Let's start small and create a system of two microservices that can interact with each other.  Please note that cluster mode is not used here.  Here is the diagram of our application. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/5e7/4d1/da1/5e74d1da16523f9fbd60e31e08db4fe4.png"></div><br>  <i><font color="#999999">The architecture of the application running in normal mode</font></i> 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      The application consists of the following components: <br><br><ul><li>  Means for testing the system (Load testing tool): <a href="https://jmeter.apache.org/">jMeter</a> . </li><li>  Service A (Service A): microservice that performs requests to service B and returns the responses received from it. </li><li>  Service B (Service B): microservice that sends static JSON data in response to requests after a 10-ms delay used for all of its APIs. </li><li>  Virtual Machines (VM 1 and VM 2): Amazon EC2 t2.xlarge instances. </li></ul><br><h3>  <font color="#3AC1EF">‚ñçHTTP / 1.1</font> </h3><br>  HTTP / 1.1 is a standard microservice communication technology that is used when using any HTTP libraries like <a href="https://github.com/axios/axios">axios</a> or <a href="https://github.com/visionmedia/superagent">superagent</a> . <br><br>  Here is the service code B, which implements our system's API: <br><br><pre><code class="hljs css"><span class="hljs-selector-tag"><span class="hljs-selector-tag">server</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.route</span></span>({  <span class="hljs-attribute"><span class="hljs-attribute">method</span></span>: <span class="hljs-string"><span class="hljs-string">'GET'</span></span>,  path: <span class="hljs-string"><span class="hljs-string">'/'</span></span>,  handler: async (request, h) =&gt; {    const response = await new <span class="hljs-built_in"><span class="hljs-built_in">Promise</span></span>((resolve) =&gt; {      <span class="hljs-built_in"><span class="hljs-built_in">setTimeout</span></span>(() =&gt; {        <span class="hljs-built_in"><span class="hljs-built_in">resolve</span></span>({          id: 1,          name: <span class="hljs-string"><span class="hljs-string">'Abhinav Dhasmana'</span></span>,          enjoys_coding: true,        });      }, 10);    });    <span class="hljs-selector-tag"><span class="hljs-selector-tag">return</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">h</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.response</span></span>(<span class="hljs-selector-tag"><span class="hljs-selector-tag">response</span></span>);  }, });</code> </pre> <br>  Here is the code for service A, which accesses service B using HTTP / 1.1: <br><br><pre> <code class="hljs cs">server.route({ method: <span class="hljs-string"><span class="hljs-string">'GET'</span></span>, path: <span class="hljs-string"><span class="hljs-string">'/'</span></span>, handler: <span class="hljs-keyword"><span class="hljs-keyword">async</span></span> (request, h) =&gt; { <span class="hljs-keyword"><span class="hljs-keyword">try</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> response = <span class="hljs-keyword"><span class="hljs-keyword">await</span></span> Axios({ url: <span class="hljs-string"><span class="hljs-string">'http://localhost:8001/'</span></span>, method: <span class="hljs-string"><span class="hljs-string">'GET'</span></span>, }); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> h.response(response.data); } <span class="hljs-keyword"><span class="hljs-keyword">catch</span></span> (err) { <span class="hljs-keyword"><span class="hljs-keyword">throw</span></span> Boom.clientTimeout(err); } }, });</code> </pre> <br>  By running these microservices, we can use the jMeter features to perform performance tests.  Let us find out how the system behaves when working with it 50 users, each of which performs 2000 requests.  As can be seen in the following figure, the median of the measurement results is 37 ms. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/2eb/d94/aea/2ebd94aea7752eb87d25f2c4cbdfdd1a.png"></div><br>  <i><font color="#999999">The results of the study of the system operating in the usual mode and using HTTP / 1.1, using jMeter</font></i> <br><br><h3>  <font color="#3AC1EF">‚ñçgRPC</font> </h3><br>  gRPC uses <a href="https://developers.google.com/protocol-buffers/docs/overview">Protocol Buffers</a> technology by default.  Therefore, using gRPC, in addition to the code of the two services, we will need to write the code of the proto-file, which describes the interface of interaction between the modules of the system. <br><br><pre> <code class="hljs nginx"><span class="hljs-attribute"><span class="hljs-attribute">syntax</span></span> = <span class="hljs-string"><span class="hljs-string">"proto3"</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">service</span></span> SampleDataService { <span class="hljs-attribute"><span class="hljs-attribute">rpc</span></span> GetSampleData (Empty) returns (SampleData) {} } <span class="hljs-attribute"><span class="hljs-attribute">message</span></span> SampleData { <span class="hljs-attribute"><span class="hljs-attribute">int32</span></span> id = <span class="hljs-number"><span class="hljs-number">1</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">string</span></span> name = <span class="hljs-number"><span class="hljs-number">2</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">bool</span></span> enjoys_coding = <span class="hljs-number"><span class="hljs-number">3</span></span>; } <span class="hljs-attribute"><span class="hljs-attribute">message</span></span> Empty {}</code> </pre> <br>  Now, since now we are planning to use gRPC, we need to rewrite service code B: <br><br><pre> <code class="hljs javascript"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> grpc = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">'grpc'</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> proto = grpc.load(<span class="hljs-string"><span class="hljs-string">'serviceB.proto'</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> server = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> grpc.Server(); <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> GetSampleData = <span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">call, callback</span></span></span><span class="hljs-function">) =&gt;</span></span> { setTimeout(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> {   callback(<span class="hljs-literal"><span class="hljs-literal">null</span></span>, {     <span class="hljs-attr"><span class="hljs-attr">id</span></span>: <span class="hljs-number"><span class="hljs-number">1</span></span>,     <span class="hljs-attr"><span class="hljs-attr">name</span></span>: <span class="hljs-string"><span class="hljs-string">'Abhinav Dhasmana'</span></span>,     <span class="hljs-attr"><span class="hljs-attr">enjoys_coding</span></span>: <span class="hljs-literal"><span class="hljs-literal">true</span></span>,   }); }, <span class="hljs-number"><span class="hljs-number">10</span></span>); }; server.addService(proto.SampleDataService.service, { GetSampleData, }); <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> port = process.env.PORT; <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(<span class="hljs-string"><span class="hljs-string">'port'</span></span>, port); server.bind(<span class="hljs-string"><span class="hljs-string">`0.0.0.0:</span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${port}</span></span></span><span class="hljs-string">`</span></span>, grpc.ServerCredentials.createInsecure()); server.start(); <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(<span class="hljs-string"><span class="hljs-string">'grpc server is running'</span></span>);</code> </pre> <br>  Pay attention to some features of this code: <br><br><ul><li>  With <code>const server = new grpc.Server();</code>  we create a grpc server. </li><li>  <code>server.addService(proto...</code> command <code>server.addService(proto...</code> we add the service to the server. </li><li>  The <code>server.bind(`0.0.0.0:${port}...</code> command <code>server.bind(`0.0.0.0:${port}...</code> is used to bind the port and credentials. </li></ul><br>  Now rewrite service A using gRPC: <br><br><pre> <code class="hljs javascript"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> protoPath = <span class="hljs-string"><span class="hljs-string">`</span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${__dirname}</span></span></span><span class="hljs-string">/../serviceB/serviceB.proto`</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> proto = grpc.load(protoPath); <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> client = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> proto.SampleDataService(<span class="hljs-string"><span class="hljs-string">'localhost:8001'</span></span>, grpc.credentials.createInsecure()); <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> getDataViagRPC = <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> <span class="hljs-built_in"><span class="hljs-built_in">Promise</span></span>(<span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">resolve, reject</span></span></span><span class="hljs-function">) =&gt;</span></span> { client.GetSampleData({}, (err, response) =&gt; {   <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (!response.err) {     resolve(response);   } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> {     reject(err);   } }); }); server.route({ <span class="hljs-attr"><span class="hljs-attr">method</span></span>: <span class="hljs-string"><span class="hljs-string">'GET'</span></span>, <span class="hljs-attr"><span class="hljs-attr">path</span></span>: <span class="hljs-string"><span class="hljs-string">'/'</span></span>, <span class="hljs-attr"><span class="hljs-attr">handler</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">async</span></span> (request, h) =&gt; {   <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> allResults = <span class="hljs-keyword"><span class="hljs-keyword">await</span></span> getDataViagRPC();   <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> h.response(allResults); }, });</code> </pre> <br>  Among the features of this code are the following: <br><br><ul><li>  With the <code>const client = new proto.SampleDataService...</code> we create a grpc client. </li><li>  A remote call is made using the <code>client.GetSampleData({}...</code> command. </li></ul><br>  Now let's test what we did with jMeter. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/d11/48d/3c3/d1148d3c34e8b4b5fbdd62fbf546863c.png"></div><br>  <i><font color="#999999">The results of the study of the system operating in the usual mode and using gRPC, using jMeter</font></i> <br><br>  By making simple calculations, you can find out that a solution using gRPC is 27% faster than a solution using HTTP / 1.1. <br><br><h2>  <font color="#3AC1EF">Clustered mode application</font> </h2><br>  Here is a diagram of an application similar to the one we just studied, but operating in cluster mode. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/72e/2d0/d0b/72e2d0d0bd3566507d10a35e9b63f518.png"></div><br>  <i><font color="#999999">Cluster Mode Application Architecture</font></i> <br><br>  If we compare this architecture with the previously discussed, we can note the following changes: <br><br><ul><li>  There is a load balancer (Load Balancer), in the role of which <a href="https://www.nginx.com/">NGINX</a> is used. </li><li>  Service B is now present here in triplicate, which listens on different ports. </li></ul><br>  Such architecture is typical for real projects. <br><br>  We investigate HTTP / 1.1 and gRPC in the new environment. <br><br><h3>  <font color="#3AC1EF">‚ñçHTTP / 1.1</font> </h3><br>  When using microservices in a clustered environment that use HTTP / 1.1, their code will not have to be changed.  It is only necessary to configure nginx to organize balancing of the traffic of service B. In our case, in order to do this, you need to reduce the file <code>/etc/nginx/sites-available/default</code> to this type: <br><br><pre> <code class="hljs nginx"><span class="hljs-attribute"><span class="hljs-attribute">upstream</span></span> httpservers {  <span class="hljs-attribute"><span class="hljs-attribute">server</span></span> ip_address:<span class="hljs-number"><span class="hljs-number">8001</span></span>;  <span class="hljs-attribute"><span class="hljs-attribute">server</span></span> ip_address:<span class="hljs-number"><span class="hljs-number">8002</span></span>;  <span class="hljs-attribute"><span class="hljs-attribute">server</span></span> ip_address:<span class="hljs-number"><span class="hljs-number">8003</span></span>; } <span class="hljs-section"><span class="hljs-section">server</span></span> {  <span class="hljs-attribute"><span class="hljs-attribute">listen</span></span> <span class="hljs-number"><span class="hljs-number">80</span></span>;  <span class="hljs-attribute"><span class="hljs-attribute">location</span></span> / {     <span class="hljs-attribute"><span class="hljs-attribute">proxy_pass</span></span> http://httpservers;  } }</code> </pre> <br>  Now let's launch what we have done and look at the results of testing the system using jMeter. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/113/fe5/3b6/113fe53b66aab039270b109b9f570e6b.png"></div><br>  <i><font color="#999999">The results of the study of a system operating in cluster mode and using HTTP / 1.1 using jMeter</font></i> <br><br>  The median in this case is 41 ms. <br><br><h3>  <font color="#3AC1EF">‚ñçgRPC</font> </h3><br>  GRPC support appeared in <a href="https://www.nginx.com/blog/nginx-1-13-10-grpc/">nginx 1.13.10</a> .  Therefore, we need the latest version of nginx, for which the usual command <code>sudo apt-get install nginx</code> not suitable for installation. <br><br>  Also here we do not use Node.js in <a href="https://nodejs.org/api/cluster.html">cluster</a> mode, as in this mode gRPC is <a href="https://github.com/grpc/grpc/issues/6976">not supported</a> . <br><br>  To install the latest version of nginx, use the following sequence of commands: <br><br><pre> <code class="hljs pgsql">sudo apt-<span class="hljs-keyword"><span class="hljs-keyword">get</span></span> install -y software-properties-common sudo <span class="hljs-keyword"><span class="hljs-keyword">add</span></span>-apt-repository ppa:nginx/<span class="hljs-keyword"><span class="hljs-keyword">stable</span></span> sudo apt-<span class="hljs-keyword"><span class="hljs-keyword">get</span></span> <span class="hljs-keyword"><span class="hljs-keyword">update</span></span> sudo apt-<span class="hljs-keyword"><span class="hljs-keyword">get</span></span> install nginx</code> </pre> <br>  In addition, we need SSL certificates.  You can create a self-signed certificate using <a href="https://www.openssl.org/">openSSL</a> : <br><br><pre> <code class="hljs cs">openssl req -x509 -newkey rsa:<span class="hljs-number"><span class="hljs-number">2048</span></span> -nodes -sha256 -subj <span class="hljs-string"><span class="hljs-string">'/CN=localhost'</span></span> \ -keyout localhost-privatekey.pem -<span class="hljs-keyword"><span class="hljs-keyword">out</span></span> localhost-certificate.pem</code> </pre> <br>  To use gRPC, you need to edit the / <code>etc/nginx/sites-available/default</code> file: <br><br><pre> <code class="hljs nginx"><span class="hljs-attribute"><span class="hljs-attribute">upstream</span></span> httpservers {  <span class="hljs-attribute"><span class="hljs-attribute">server</span></span> ip_address:<span class="hljs-number"><span class="hljs-number">8001</span></span>;  <span class="hljs-attribute"><span class="hljs-attribute">server</span></span> ip_address:<span class="hljs-number"><span class="hljs-number">8002</span></span>;  <span class="hljs-attribute"><span class="hljs-attribute">server</span></span> ip_address:<span class="hljs-number"><span class="hljs-number">8003</span></span>; } <span class="hljs-section"><span class="hljs-section">server</span></span> {  <span class="hljs-attribute"><span class="hljs-attribute">listen</span></span> <span class="hljs-number"><span class="hljs-number">80</span></span>;  <span class="hljs-attribute"><span class="hljs-attribute">location</span></span> / {     <span class="hljs-attribute"><span class="hljs-attribute">proxy_pass</span></span> http://httpservers;  } }</code> </pre> <br>  Now everything is ready to test the cluster gRPC solution with jMeter. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/8d2/618/666/8d2618666f9a8593328d15850271803e.png"></div><br>  <i><font color="#999999">The results of the study of a system operating in cluster mode and using gRPC using jMeter</font></i> <br><br>  In this case, the median is equal to 28 ms, and this, in comparison with the same indicator obtained in the study of the cluster HTTP / 1.1 solution, is 31% faster. <br><br><h2>  <font color="#3AC1EF">Results</font> </h2><br>  The results of the study show that an application based on microservices that uses gRPC is about 30% more productive than a similar application that uses HTTP / 1.1 to exchange data between microservices.  The source code of the projects reviewed in this material can be found <a href="https://github.com/abhinavdhasmana/interserviceCommunication">here</a> . <br><br>  <b>Dear readers!</b>  If you are developing microservices, please tell us about how you organize data exchange between them. <br><br> <a href="https://ruvds.com/ru-rub/"><img src="https://habrastorage.org/files/1ba/550/d25/1ba550d25e8846ce8805de564da6aa63.png"></a> </div><p>Source: <a href="https://habr.com/ru/post/421579/">https://habr.com/ru/post/421579/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../421569/index.html">The most important from Gamescom 2018 - Nvidia RTX, Cyberpunk 2077, Metro Exodus</a></li>
<li><a href="../421571/index.html">Kivy. Xamarin. React Native. Three frameworks - one experiment (part 3)</a></li>
<li><a href="../421573/index.html">Product Design Digest August 2018</a></li>
<li><a href="../421575/index.html">The confrontation between Yandex and Roskomnadzor is brewing, and in a day or two the search engine may fall under partial blocking</a></li>
<li><a href="../421577/index.html">An exploit has been published for an unpatched vulnerability in Windows Task Scheduler (translation)</a></li>
<li><a href="../421585/index.html">How did the Cossacks retro contest decide</a></li>
<li><a href="../421587/index.html">[Ekaterinburg, Announcement] Mitap on Java - JUG.EKB</a></li>
<li><a href="../421589/index.html">Metamorphosis: form programming at the molecular level</a></li>
<li><a href="../421591/index.html">Budget Wireless (Wi-Fi) Autonomous System (from the battery) video surveillance</a></li>
<li><a href="../421593/index.html">SandboxEscaper / PoC-LPE: What's Inside?</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>