<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>All people can not write code</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="On the eve of Moscow Python Conf ++, we talked with Nikita Sobolev, CTO of the We Make Services company, about the global problem of managing the comp...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>All people can not write code</h1><div class="post__text post__text-html js-mediator-article"> On the eve of Moscow Python Conf ++, we talked with Nikita Sobolev, CTO of the We Make Services company, about the global problem of managing the complexity of the code in terms of the development of programming languages.  And also about why here over time the situation only gets worse.  Plus, they asked why he needed to create his own linter. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/1e4/a69/b83/1e4a69b837eb69ad8755665f9ff98ac7.jpg"><br><a name="habracut"></a><br><br>  <i><b>- Tell us in a few words about yourself and your work.</b></i> 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      I am the technical director of "We make services".  Voicing the name of the company, I usually ask the question: "What do you think we are doing?".  In fact, we specialize in web development: frontend and backend for corporate clients.  And we work on our own methodology, which we are improving in parallel with the development of the company - the Repeatable Software Development Process (RSDP). <br><br>  <i><b>- At Moscow Python Conf ++ you will talk, among other things, about your own linter.</b></i>  <i><b>How does your job relate to auditing and managing code complexity?</b></i> <br><br>  In general, we have two main areas: development directly and everything around it: consulting, drafting requirements and, in particular, auditing, during which I see a lot of other people's code.  The code is completely different: the one that is now in development, and legacy, which no one will ever fix;  and the code that the customer‚Äôs specialists write, and the one they ordered on the side.  And in all variants of the code there are a lot of problems: the same and different. <br><br>  <i><b>- You will speak to the developers in Python.</b></i>  <i><b>Does Python have any features in terms of managing the complexity of the code?</b></i> <br><br>  Of course! <br><br>  First, all languages ‚Äã‚Äãwith dynamic typing are more affected by unjustified complexity, at least due to the lack of additional context when reading the code.  And you are allowed more dirt. <br><br>  Secondly, Python is actively developing.  He has new syntax elements, new concepts and modules into standard libraries that break everything that happened before. <br><br>  <i><b>- How bad is everything in Python?</b></i>  <i><b>There are other actively developing languages, for example, JavaScript, which is often criticized for just this.</b></i>  <i><b>Is the situation better in javascript?</b></i> <br><br>  Not.  I would even say that in terms of complexity, everything in Python is quite good relative to other languages.  In JavaScript, everything is really bad for one simple reason: several entities that do not belong to the language itself are mixed in the JS project code ‚Äî third-party plug-ins and libraries that are used to build the project.  For example, if you use Webpack, you can write an `import ()` function that loads modules asynchronously.  It turns out that the collector shoves some of its insides into your programming language, and as a result, it is not at all clear what is happening. <br><br>  Managing complexity is difficult when the language changes from installing Babel or plug-ins to it.  And to understand how they work, you need to follow the standards of the language, the specific implementation, etc. <br><br>  In Python, the situation is much better.  Language develops quite systematically, and this development has clear milestones.  It is impossible to drastically change the syntax with two lines in the config.  And this is still the backend, to which we are accustomed to make higher demands than to the frontend.  However, in my opinion, there are quite a few new changes in Python that break what was previously, bringing dubious benefits. <br><br>  <i><b>- So with the development of the language, things get worse?</b></i> <br><br>  If we recall that AsyncIO appeared - essentially a second language inside Python - of course, the complexity has increased very much.  In fact, there are now two completely independent programming languages ‚Äã‚Äãwith a similar syntax: Python and Python + AsyncIO.  That is, Python as an entity has become more complex twice as difficult, because it has two separate descendants that work according to different rules. <br><br>  The opinion that these are different programming languages ‚Äã‚Äãis not popular.  However, when you ask opponents of this opinion, for example, to start an asynchronous function from a synchronous code, they fail.  Libraries are completely different too.  Want to use a synchronous library to work with the database - please.  Do you want asynchronous? <br><br>  But in Python, which was written five years ago, nothing has changed much, and vice versa, tools have appeared that allow simplifying the code, for example, annotations and type checking. <br><br>  <i><b>- Does complexity management affect the fact that there are quite a lot of people in programming with a weak technical base?</b></i> <br><br>  Of course.  For such people, even a special programming language was invented.  Called go.  I am not kidding.  Indeed, the goal of creating the Go language was to attempt to involve Google students and interns who are unable to learn C ++ to write code.  Python didn't suit them in terms of performance, they needed something else, and they invented Go to Google.  As it turned out, a lot of people are ready to write on it, because it is very simple.  But at what price is this simplicity achieved?  We are given not a normal programming language, but a very truncated version of it - there are almost no complicated concepts by design.  No generics, no such thing as exceptions, etc.  And fans of this approach a lot. <br><br>  But there are other developers, and for them the problem is that there are languages ‚Äã‚Äãin which there is no balance: you can do simple things simply, and complex ones you cannot do at all.  Or at least through pain - you have to struggle with the tool in order to do something.  Here, I think, lies the problem of complexity management. <br><br>  <i><b>- What are the typical problems of someone else's code?</b></i> <br><br>  Usually they are divided into two parts. <br><br>  The first is the problems associated with the fact that people cannot agree on where to put conditional commas.  You read one code and see commas in one place, switch to another file - and see commas in another place.  This complicates perception, as if reading a book printed in bold in one place and in italic in another.  It distracts from the content, because the brain has to recognize that this is a different way of writing the same thing. <br><br>  When you correct the syntax, you start paying attention to semantics, because people write conceptually differently.  Unfortunately, there is no possibility to agree on this level - it is impossible to come to an agreement that we are solving such tasks like this, but such ones are like that.  It is impossible to initially cover all cases.  This process occurs during the code review of the immediate task: when the developer is explained why his decision cannot be made.  If the practice of code review is used and the reviewers are good, they cut off the solution curves and there are no problems in the code.  But usually we come to an audit where this process is not established.  And the problems of semantics and architecture are much more difficult to solve, because it is sometimes difficult to formulate and define them for yourself. <br><br>  <i><b>- And how does it look in practice?</b></i> <br><br>  For example, people can solve the same problem in templates, in views or in models.  And there is no universally accepted understanding of exactly where this task should be solved: no documentation or patterns applicable specifically to this project (for example, here we use thick models and put all the logic in them, and here - thin; good or bad, now not important, but we agreed so). <br><br>  <i><b>- Where do you see the main reason why these problems exist at all?</b></i> <br><br>  All people can not write code. <br><br>  This thesis is interpreted as follows: the problem is that we are people.  And it‚Äôs generally very difficult for us to write something structured and logical.  And here we also have two different recipients.  Firstly, this is the person who will read this code, and secondly, this is the machine that should execute it.  The code for the machine should be created in accordance with the criteria of performance, memory consumption and CPU time, and the code for a person should be based on the principles of readability, clarity, etc.  These are two opposite tasks.  And a person who, as a matter of fact, cannot fully solve even one of them, is forced to solve both conflicting tasks simultaneously. <br><br>  <i><b>- But after all, the use of different programming patterns is in fact an engineering search?</b></i>  <i><b>Is it really bad?</b></i> <br><br>  Of course, engineering search is important and necessary.  But he, too, must be managed.  Before each such task it is necessary to set clear criteria and limitations: on time spent, on business requirements, on engineering practices and tools. <br><br>  I observe creative search much more often.  There are no such restrictions, validation of the results, too.  Quality - as in modern art - is not measurable. <br><br>  Almost all the clients who turn to us for an audit suffer from a typical situation: someone did something to them, they hired a developer to somehow develop a solution, but he came and spread his hands: ‚ÄúI don‚Äôt know what here to do, let's rewrite everything. ‚Äù  Would it be nice to rewrite?  Will not be.  When you decide to rewrite, you step on the exact same rake: you trust the task to another developer who makes other mistakes, but in the end everything turns out exactly the same. <br><br>  <i><b>- Need some other approach?</b></i> <br><br>  Yes.  During the audit, we try to find the cause of the problems with the code: it was not why someone took and inflated the module to the state that it was scrolling with difficulty, and why the wrong decision was made initially.  And we are trying to automate or simplify the adoption of the right decisions within the specified limits. <br><br>  I will give a little inside to the report.  Everyone has an understanding that the code consists of lines - this is the simplest entity from which it can consist.  Each line can be written as <br><br>  <code>x = 1</code> , <br><br>  or maybe like <br><br>  <code>x = Math.median(forecast_data) if forecast_data else compute_probability(default_model)</code> . <br><br>  There is a very big difference between these two lines, because you understand the first one easily, and the second one concentrates a lot of logic.  It is necessary to execute it in the head in parallel with the interpreter.  Therefore, you need to start managing how you write the code from managing a single line of code.  Further the line turns into more complex concepts - functions, classes, modules, etc.  But the rules that you accept should be one. <br><br>  As a result, we are not doing what prohibits doing many things.  Because management is about imputed bans. <br><br>  <i><b>- Did you come across any funny things in someone else's code?</b></i> <br><br>  Of course.  I even have a <a href="https://github.com/sobolevn/python-code-disasters">repository</a> where I collect such code samples. <br><br>  The most terrible example that I saw showed me that within a loop, a function can be defined for a hundred iterations.  To be honest, when I looked at it, the interpreter broke down inside me.  I guessed, but did not know that it was possible. <br><br>  There was a case when we saw a lot of funny comments in the code.  Someone complained about life, about work, there were also those who wrote: ‚ÄúI understand that I am writing nonsense, but the customer makes me‚Äù.  However, customers usually do not force you to write bad code.  They are asking to solve their problem, and what code do you write there, they‚Äôre generally up to the bulb. <br><br>  <i><b>- Linter, code review - do not save?</b></i> <br><br>  I have two answers.  Yes, they do.  No, do not save.  It saves if you strictly follow the rules and regulations that the pro-liners give you (those who do a lot of rough work for you: check the functions for complexity, code semantics, etc.).  This item must be blocking.  Sometimes you can't just run a linter to look at the result.  If you failed these rules, then you should not release the code in production at all. <br><br>  But in fact - do not save.  Because those projects that use it are rare. <br><br>  By the way, they often ask me: how to implement it?  And I answer: very simply, you put a line in CI - check my code - and if it falls, that's all, you have implemented.  It only remains to refactor.  Fortunately, there are now autoformers and the ability to refactor code file by file.  The next question is traditionally: how to explain to the business that this is important? <br><br>  <i><b>- Is there any general answer to this question?</b></i> <br><br>  For each case, the answers are different, so in general it is difficult to formulate (you need to think about this, this ...).  But usually the companies that deal with this problem are coming from the technical side.  Those.  techies ask us, as people who are able to talk about business and technology, they understand it, explain it to business in their particular case.  With this formulation of the problem it works very simply.  When you come, everything is already bad, and everyone understands this.  A conversation with business begins like this: ‚ÄúYou probably think that your programmers are sitting and doing nothing?‚Äù.  And business nods his head.  And you say that is not the case.  Programmers are great guys trying to solve your problems.  But without an integrated approach to project management, everything falls into chaos, and this is normal. <br><br>  And we propose to come up with the rules to avoid certain problems.  We consider the cost of introducing different pieces, and then we estimate the real (accomplished) losses from the fact that there are no such pieces yet.  For example, programmers ruled for a month a bug that does not exist or can be found in 30 seconds if you use a certain approach and tool.  The numbers are well convincing. <br><br>  <i><b>- In the end, this is an administrative problem?</b></i> <br><br>  Of course.  I am convinced that programmers want to write good code.  But there are various obstacles.  Someone does not know how due to inexperience.  Someone has lost motivation, because everyone does not care.  Someone does not know what exactly is good code for the reason, let's say, creative throwing.  They put pressure on someone - he wants and can write, but he is told that it should be tomorrow.  And instead of building partnerships with the business and explaining why this will not happen tomorrow (or if so, then it will be necessary to rule for another three days), he does it anyhow.  And such partnerships are interesting for the business itself.  He also needs to make it work for a long time and is cheap to maintain. <br><br>  That is, here all the questions are solved: there are no intractable contradictions. <br><br>  <i><b>- There is a code style - PEP 8. It does not help to quickly understand what is good?</b></i> <br><br>  In terms of commas - it helps.  But what's the point if you put the commas correctly, and everything else will be bad? <br><br>  <i><b>- Not enough of some well-known higher-level stuff?</b></i> <br><br>  In theory, there are some best engineering practices.  But they are either unknown or ignored.  When you ask why the developer did not follow this practice, he says that he has heard that this is a good topic, but the code works that way.  When the code stops working, you ask if he understood where the relevant best practice came from and why to follow it?  No, I do not understand.  He thinks he was just wrong. <br><br>  It is quite difficult to explain to a person that it is normal to make mistakes.  Everyone is wrong, we are all human.  But the best engineering practice was invented to save you from a mistake or to protect you from consequences.  Those.  This is a kind of safety tool, as in enterprises.  Only it was written not in blood, but in ruined time and money. <br><br>  In general, our unattainable global task is to automate code review so that Python itself (if we are talking about our case) knows how to write it.  It should be a tool that provides not only opportunities, but also limitations for developers. <br><br>  <b>- Why do you even develop a linter?</b>  <b>Is it possible to use (or develop) existing ones?</b> <br><br>  In fact, we do so.  Our linter in fact is a plugin for Flake8.  Just position it as a full-fledged tool, and not just a plugin. <br><br>  Why Flake8, not Pylint?  Pylint does a lot of what a linter shouldn't do.  For example, it implements a very large number of type checks, although the type checker should deal with types.  Plus, it gives a very large number of errors, which in fact are not.  And I don‚Äôt like its documentation, and I‚Äôm scared by its own implementation of ast.  It is difficult to configure.  By allowing configuration, you allow people to make the wrong choice.  Therefore, our task is to make a tool that cannot be configured.  So that you put it - that's all. <br><br>  <i><b>- What guides formed the basis of this linter?</b></i>  <i><b>Or is it just your own experience?</b></i> <br><br>  Now it is based on the rules that we have been formulating for code review for many years.  Some rules were ported from other linters: ESLint, Pylint, SonarQube, Credo.  Much has been taken from the excellent work <a href="https://www.sonarsource.com/docs/CognitiveComplexity.pdf">of CognitiveComplexity</a> .  Always looked at Miller's Wallet.  Separate rules - this is my vision, which appeared after the evaluation of a large number of someone else's code.  That is, at this stage it is a ‚Äúhodgepodge.‚Äù <br><br>  <i><b>- What are you going to talk about at Moscow Python Conf ++?</b></i> <br><br>  First of all - about <a href="https://conf.python.ru/2018/abstracts/4150">complexity management</a> .  This topic is close and understandable to all developers.  We look at different metrics, on ways to transfer complexity from the simplest constituent code ‚Äî the lines to the most complex ‚Äî module.  And then I will talk about the holivar part, where I will set out my vision of how to or not need to write in Python, and ask the users to vote what they like and what they don‚Äôt.  For many developers, restrictions (doing A, but not doing B) are an attempt on their creative space, so they react very strongly to this.  And just here you can unleash an interesting discussion. <br><br>  <i><b>- To whom the report is focused?</b></i> <br><br>  I think that these are still established developers, because novice programmers have not yet formed a clear opinion.  Although it will be interesting to them to listen and speak.  They are definitely our users. <br><br><hr><br>  Friends, we hasten to remind you that less than a month is left before our <a href="https://conf.python.ru/">Moscow Python Conf ++</a> .<font style="vertical-align: inherit;"><font style="vertical-align: inherit;">This year there will be more than three dozen speeches and a series of meetings in it. </font><font style="vertical-align: inherit;">The final program will be announced the other day, but for now you can see the </font></font><a href="https://conf.python.ru/2018/abstracts/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">general list of</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> reports.</font></font></div><p>Source: <a href="https://habr.com/ru/post/424393/">https://habr.com/ru/post/424393/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../424383/index.html">A complete guide to the proper use of animation in the UX</a></li>
<li><a href="../424385/index.html">The Ultimate DJI GO 4 Tutorial: Main Screen and Camera Settings</a></li>
<li><a href="../424387/index.html">We invite you to the meeting GO.PITER</a></li>
<li><a href="../424389/index.html">A new science of peeking around the corner</a></li>
<li><a href="../424391/index.html">The vanished competitor of Morse code: typesetting telegraph</a></li>
<li><a href="../424395/index.html">Take your data, untie your mail and run with qip.ru</a></li>
<li><a href="../424399/index.html">Chinese panel of aging biomarkers</a></li>
<li><a href="../424401/index.html">DanaBot banking trojan attacks users in Europe</a></li>
<li><a href="../424403/index.html">Open webinar "Indices"</a></li>
<li><a href="../424407/index.html">Digital X-ray: from alpha to gamma</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>