<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>The release of CLion 2018.1: new features from C ++ 17, support for WSL, CMake Install, a plugin for Rust and much more</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hi, Habr! 

 Here comes the first release of CLion this year - 2018.1 ! In this post we will tell you what we managed to realize during these months a...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>The release of CLion 2018.1: new features from C ++ 17, support for WSL, CMake Install, a plugin for Rust and much more</h1><div class="post__text post__text-html js-mediator-article">  Hi, Habr! <br><br>  Here comes the first release of <b>CLion</b> this year - <b>2018.1</b> !  In this post we will tell you what we managed to realize during these months and what plans we have for the next release. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/a3d/346/289/a3d3462896b976d73b4dda2c35a857f2.png" alt="image" width="800" height="400"></div><br>  First, very briefly about the main thing.  This release includes: 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <ul><li>  C ++ language support <br><ul><li>  C ++ 17 feature support: structured binding </li><li>  C ++ 17 feature support: if and switch statements with initializers </li><li>  Many bug fixes and improvements </li></ul><br></li><li>  Ability to use Clang-Tidy configuration files in CLion, as well as configure options for checks from Clang-Tidy in the CLion interface </li><li>  Improvements for Windows users <br><ul><li>  Microsoft Visual C ++ compiler is enabled by default. </li><li>  WSL subsystem support </li></ul><br></li><li>  CMake and not only <br><ul><li>  Call from IDE CMake Install </li><li>  Templates for creating CMakeLists.txt files </li><li>  Ability to open a file or folder without a CMake project model </li></ul><br></li><li>  Experimental hex view support in the debugger </li><li>  Editor improvements: <br><ul><li>  ‚ÄúBread Crumbs‚Äù (breadcrumbs) for C / C ++ </li><li>  Action unwrap </li><li>  Minimizing control structures </li></ul><br></li><li>  Support for new languages ‚Äã‚Äãin CLion: Objective-C / Objective-C ++, Rust, Fortran </li></ul><br>  You can now download the free 30-day version from <a href="https://www.jetbrains.com/clion/download">our website</a> and try new features.  For this, we even prepared a special small <a href="https://github.com/anastasiak2512/CLion2018_1Demo">demo project</a> .  And below we will talk about improvements in more detail. <br><a name="habracut"></a><br><br><h2>  C ++ language support </h2><br>  Spoilers!  We are looking at different alternative language engine options (there are both our developments, and clang, and much more interesting), we conduct tests, comparisons, performance measurements, and analysis of the possibilities for expansion.  In the meantime, all this is in the process, we continue to improve the current language engine. <br><br>  First, we fixed dozens of different problems in the parser and code analyzer.  Many users at the Early Access Program stage noticed improvements, so we believe that all this was not in vain.  In particular, many problems and false errors in the code analyzer have been fixed for the case of a <b>ternary operator</b> . <br><br>  Secondly, the <b>Rename and Change Signature</b> refactorings now more reliably update hierarchies.  For example, if you rename a function in a descendant class, then CLion will not only offer to update the base class, but also go through other classes inherited from this base class: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/47f/c92/c18/47fc92c18b7208418b8fd68b0e4468dc.gif" alt="image" width="455" height="254"><br><br>  Such cascading changes are simply necessary for the code to remain correct after refactoring. <br><br>  And most importantly, added support for two great features of <b>C ++ 17</b> : <br><br><ul><li>  Structured binding <br><img src="https://habrastorage.org/getpro/habr/post_images/6a2/77a/644/6a277a6447e0db6ab1c3c29ec3ac1367.png" alt="image" width="455" height="160"><br></li><li>  If and switch statements with initializers <br><img src="https://habrastorage.org/getpro/habr/post_images/d3a/b6a/584/d3ab6a584bbd9d1a991fcc5af2fb8ee4.png" alt="image" width="455" height="160"><br></li></ul><br><h2>  Clang-Tidy Support Improvements </h2><br>  Last year (in version 2017.2) we added integration with the Clang-Tidy code analysis tool to CLion.  It provides dozens of different checks, including the Clang Analyzer, C ++ Core Guidelines, Modernize, and Google groups.  In this release, we updated the baited version of the tool, slightly changed the <a href="https://confluence.jetbrains.com/display/CLION/Clang-Tidy%2Bin%2BCLion%253A%2Bdefault%2Bconfiguration">set of checks</a> included by default, and most importantly: <br><br><ul><li>  Added the ability to use the <i>.clang-tidy</i> configuration files instead of the IDE settings - this can be useful if you want to save the Clang-Tidy settings in the version control system and / or share them with the whole team (where not everyone uses CLion).  It also allows you to run Clang-Tidy from both the IDE and the console on the same set of checks, without worrying about passing the same parameters in both cases. </li><li>  Some Clang-Tidy checks allow you to specify options that affect the behavior of the scan.  For example, <a href="https://clang.llvm.org/extra/clang-tidy/checks/modernize-use-nullptr.html"><i>modernize-use-nullptr</i></a> allows <a href="https://clang.llvm.org/extra/clang-tidy/checks/modernize-use-nullptr.html"><i>you</i></a> to specify which constants to replace with <i>nullptr</i> .  This can now be done in the settings of CLion (Editor | Inspections | C / C ++ | General | Clang-Tidy). </li></ul><br><img src="https://habrastorage.org/getpro/habr/post_images/09f/d2f/f44/09fd2ff4450baa7a9ea0afffe5debbb4.png" alt="image" width="455" height="246"><br><br><h2>  WSL and other changes to the toolchain on Windows </h2><br>  For starters, the Microsoft Visual C ++ compiler is now enabled by default.  That is, if you have it installed, you can immediately use it in CLion (do not, as before, go and enable the setting in the Registry). <br><br>  But the most notable change is the support for <b>Windows Subsystem for Linux (WSL)</b> .  This subsystem on Windows 10 provides a Linux environment built into Windows, and allows you to build, run, and debug Linux applications on Windows. <br><br><img src="https://habrastorage.org/webt/d6/bt/j0/d6btj06rwsbw_ebhascnxnxg-uk.png" alt="image" width="766" height="429"><br><br>  CLion is now able to work with such a toolchain, and even allows you to run the application with <b>Valgrind Memcheck</b> , a tool for finding memory leaks, incorrect memory access, using uninitialized variables, etc. <br><br><img src="https://habrastorage.org/webt/zf/fx/on/zffxonu0x3r25w4dk5ggyoq9awe.png" alt="image" width="717" height="355"><br><br>  Thus, WSL provides a unique opportunity to run applications that are not available on Windows (such as the same Valgrind). <br><br>  By the way, if we talk about the tools for analyzing memory errors, now our team is integrating Google Sanitizers.  We hope that the results will be available in 2018.2. <br><br>  It should be noted that WSL integration is implemented via ssh, since this is the first step towards full support for remote development in CLion.  We hope to show its first prototype already in 2018.2.  In the meantime, you can try WSL - a link to the script for quick setup of WSL, as well as details of the work can be <a href="https://blog.jetbrains.com/clion/2018/01/clion-and-linux-toolchain-on-windows-are-now-friends/">found in the blog</a> . <br><br><h2>  CMake &amp; non-CMake </h2><br>  We began the process of separating the CMake design model from the CLion.  The first results can already be seen in the release of 2018.1.  Namely, CLion now allows you to <b>open a file or an entire folder</b> that does not have CMake files.  Of course, many smart functions for working with the code will be disabled (since all the information about the project CLion takes from the design model), but what remains is enough for the initial acquaintance with the code, reading individual files, etc. <br><br>  In CLion 2018.1, it is possible to call <b>CMake Install</b> .  The corresponding action is available from the Run menu or in possible steps in the Run / Debug configuration (there Install can be added, for example, right after the build, but before starting the configuration).  When you call Install, the <i>cmake install</i> command is run and, accordingly, all the targers for which this command is defined are installed. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/5f0/468/17b/5f046817bbb7ffabd4774ec32220615e.png" alt="image" width="455" height="225"><br><br>  By the way, now you can create a CMakeLists.txt file from the menu of creating a new file (Create new file - Alt + Insert on Windows / Linux, ‚åòN on macOS): <br><br><img src="https://habrastorage.org/getpro/habr/post_images/019/d82/e8f/019d82e8f4e1795e35b7d2e3c1a80d69.png" alt="image" width="455" height="300"><br><br>  The advantage is that the file will be created according to a <b>template</b> that can be customized for your needs in the Editor |  File and Code Templates. <br><br><h2>  Hex view in debugger </h2><br>  Yes, we know, you asked for this opportunity for a very long time, and embedded-development doesn‚Äôt even imagine an IDE without such an opportunity ... In CLion 2018.1 hex view it is experimental and is available under the key in the register: <br><br><ol><li>  Go to the Find Action dialog (Shift + Ctrl + A on Linux / Windows, ‚áß‚åòA on macOS), write ‚ÄúRegistry‚Äù there, open the Registry. </li><li>  There we look for <i>cidr.debugger.value.numberFormatting.hex</i> (just enter hex and the search will start) and turn on the option. </li><li>  Now go to the IDE settings: Build, Execution, Deployment |  Debugger |  Data Views |  C / C ++ and turn on the hex view there. </li></ol><br>  The hex view will be displayed as in the debugger window: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/af2/9b3/77b/af29b377bca9b9c2a5a5ec19bb11df7e.png" alt="image" width="490" height="217"><br>  so in the editor itself, in the Inline Variables View: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/b70/335/89b/b7033589b98653951a67a0f7133a12f7.png" alt="image" width="697" height="71"><br><br>  Why is it so difficult, why experimental support?  Let's just say, the implementation still causes us doubts, and I want to do better.  Besides, hex is available only for integer types, and there is no binary view. <br><br><h2>  Editor improvements </h2><br>  Although CLion is written mainly in Java and Kotlin, like the entire IntelliJ platform, we have a small part of the development in C ++.  So, we, of course, try our product for our own tasks.  And let it be desirable that there was more dogfooding in our work, but even now the results are visible.  In this release, there were several editor improvements based on our own use of the product (not to mention various bug fixes). <br><br>  <b>‚ÄúBreadcrumbs‚Äù (breadcrumbs) for C and C ++ have been</b> added for namespaces, classes, structures, functions and lambs.  This is such a convenient way to read and navigate through the code ‚Äî at the bottom of the editor, small markers of where the cursor is now are shown, and you can click on this hierarchy of markers to rise to a higher level (for example, from a function to the class in which it is defined): <br><br><img src="https://habrastorage.org/webt/bz/jz/g-/bzjzg-bokj_fc2pzhsxxwylzquo.gif" alt="image" width="711" height="395"><br><br>  The <b>unwrap / remove</b> platform feature is now implemented in CLion, for C / C ++ code.  With it, you can remove those code blocks that include this (where the cursor is).  This is especially useful to remove the ambient ternary operator, function call, or, for example, the <i>if..else</i> block containing the current expression: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/41f/e98/9ef/41fe989efef69fa7e4526ca361df1506.gif" alt="image" width="455" height="258"><br><br>  This version also added <b>minimization of</b> if / else, do / while, for, switch (Shift + Ctrl + Period / Ctrl + =) <b>control structures</b> on Windows / Linux and ‚áß‚åò. / + On macOS).  And options to customize the collapse of the message box when building a project. <br><br><h2>  More than IDE for C / C ++ </h2><br>  In CLion, in addition to C / C ++, for some time already, there is built-in support for Python (similar to PyCharm Community Edition), support for JavaScript, XML, HTML, CSS and other web technologies, as well as a plugin for Swift.  Since the end of last year, Kotlin / Native support has appeared (via the plugin).  And in version 2018.1, we added native support for Objective-C / Objective-C ++ (see the list of features <a href="http://jbrcom-staging.labs.intellij.net/clion/whatsnew/">here</a> ), and also added a plugin for <b>Fortran</b> to the repository and updated the plugin for <b>Rust</b> .  About the latter in more detail.  This is the same plugin that is available in IntelliJ IDEA, but: <br><br><ol><li>  He now knows how to work with Cargo in CLion (previously there was only CMake) </li><li>  In CLion (and for now only in it), the plugin has a debugger for Rust </li></ol><br><img src="https://habrastorage.org/getpro/habr/post_images/adf/4ed/ff7/adf4edff7b4e1c619a237592b918071d.gif" alt="image" width="636" height="590"><br><br>  More details about plugins for Fortran and Rust, see <a href="https://blog.jetbrains.com/clion/2018/03/from-cpp-to-native-development-rust-and-fortran-plugins-in-clion/">here</a> . <br><br>  And finally, a demonstration of the new features of CLion 2018.1 in English from our developer lawyer: <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/A77zEykdF2U" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>  That's all!  Interested?  Then download the 30-day <a href="https://www.jetbrains.com/clion/download/">free trial</a> from the company's official website, where <a href="http://www.jetbrains.com/clion/buy/">in the price section</a> you can also find out about the cost of a subscription.  Watch also for articles and updates in our <a href="https://blog.jetbrains.com/clion/">English-language blog</a> .  We will be happy to answer any of your questions in the comments. <br><br>  <i>Your JetBrains CLion Team</i> <i><br></i>  <i>The Drive to Develop</i> </div><p>Source: <a href="https://habr.com/ru/post/352388/">https://habr.com/ru/post/352388/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../352378/index.html">From point A to point Chief</a></li>
<li><a href="../352380/index.html">New old vulnerability: Firefox password manager has been using outdated SHA-1 for 9 years</a></li>
<li><a href="../352382/index.html">Network physics in virtual reality</a></li>
<li><a href="../352384/index.html">Customize Mozilla Thunderbird in a corporate Windows environment</a></li>
<li><a href="../352386/index.html">Donald Knut: this is a turnaround</a></li>
<li><a href="../352390/index.html">Full translation of the book about building communities: "Social Architecture"</a></li>
<li><a href="../352392/index.html">Smooth text scaling</a></li>
<li><a href="../352394/index.html">General cleaning in the company: how we turned shops</a></li>
<li><a href="../352396/index.html">How to recover a lost password to the archive using a video card</a></li>
<li><a href="../352398/index.html">Why does retail and goods delivery business move to IaaS: case review</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>