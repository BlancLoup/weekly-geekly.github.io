<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>As one admin zoo tamed</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Good day, dear Habrayuzer! 


 I was preparing this post for the Day of the sysadmin, but did not have time and missed the moment. So, our dear sysadm...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>As one admin zoo tamed</h1><div class="post__text post__text-html js-mediator-article"><p>  Good day, dear Habrayuzer! </p><br><p>  I was preparing this post for the Day of the sysadmin, but did not have time and missed the moment.  So, our dear sysadmin, with the holiday that passed you, this indicative story will surely be familiar to each of you. </p><br><p>  So, the story is written from the words of a sysadmin, who suddenly became the owner of a whole ‚Äúzoo‚Äù. </p><br><img src="https://habrastorage.org/files/790/1a4/427/7901a44278404079b50a78270252af3e.png"><a name="habracut"></a><br><p>  A couple of years ago, I worked as an administrator on a permanent basis and was surprised at how a visiting employee could perform such work.  The situation changed dramatically when the crisis ruined my company.  All began to save hard, and finding a new permanent job was not easy.  Therefore, as a temporary measure, I became one of those whom I recently treated condescendingly - the incoming administrator in a pair (and then the top three) of small firms.  Each of them paid a little bit, so my irregular visits were in the order of things ... until the next turning point. </p><br><p>  Once I decided to postpone the planned visit to one of the companies, because the routine could wait, but there was no urgent business expected.  The next time, the first phrase of the chief accountant, said instead of a greeting, was an unexpected remark: ‚ÄúAnd we managed to do it without you!‚Äù.  Then she told me about the always-off mobile phone, at the same time remembered all the little things that had accumulated and was about to leave, but I stopped her and asked her to explain the situation. </p><br><p>  It turned out that over the past week the management decided to open two new departments at once and as soon as possible.  All the furniture and computers have already been purchased for them.  I was then amused by the thought that the chief accountant considers computers to be a kind of interior items.  When she showed me the contract, the humor seemed black. </p><br><p>  The documents did not describe in detail the configuration of the purchased computers.  Everywhere only their general characteristics were indicated, such as the ‚ÄúMidiTower case with ATX b / n‚Äù.  But the total amount was very impressive.  Apparently, taking advantage of the illiteracy of the customer, the supplier decided to sell everything that lay in the warehouses.  ‚ÄúWell, they bought it, okay,‚Äù I thought.  ‚ÄúNot for my money.‚Äù </p><br><p>  However, a week later, many surprises awaited me, and there were no pleasant ones among them.  Brought computers "did not turn on" - so I was told on the phone in the morning.  The reason turned out to be simple: none of them had an operating system installed.  All computers came pristine clean under the contract. </p><br><p>  Upon arrival at the office, I became an unwitting participant in the growing conflict.  The director is tearing and throwing, the chief accountant looks like a beaten dog, and one of the newly minted department heads has a natural panic.  Just last week, newly hired employees began to take shape to him, and their jobs were not yet equipped.  Almost immediately, the entire leadership rushes to me and requires "to do everything right." </p><br><p>  I explain to them that the equipment purchased without me.  I did not participate in her choice.  To turn this pile of hardware into hardware for two departments, you must first install operating systems, drivers, updates and various software for each one.  In LAN to combine them - the same time is required.  I am ready to do all this, but for the appropriate payment, of course. </p><br><p>  We spent almost the whole day discussing the problem.  Director and chief accountant tried to blame the supplier for deception.  According to naivety, the management believed that all computers are sold ‚Äúwith Windows, Word and Wi-Fi‚Äù.  I hardly explained the real situation to them and offered to buy everything I needed: network equipment, software licenses, etc. </p><br><p>  When we calculated the additional costs, first the director‚Äôs passion was extinguished, and then mine.  Buy software cost almost as much as they already spent on computers.  Installing and setting up all computers would take, at best, a week and a half.  So much nobody could wait. </p><br><p>  During the break, I had an idea: to set up one computer, and then just clone it to others.  Then it all seemed like a good thought, and they gave me a green light.  Until the evening I was busy with the installation, updates and settings on the first computer. </p><br><p>  The next day, armed with a "clonzilla", I had a premonition of a quick triumph, but it was not there!  The full disk image was successfully recorded on the second comp, but it did not turn on again.  The system partition was not seen at boot.  I tried to do cloning by other programs - the same thing.  Perform deployment over the network - do not see the built-in network card, and only in some computers.  Dismantled a couple of them and ... let's say, very surprised. </p><br><p>  Have you ever played the find the ten differences game?  So, here there were more than ten differences.  In fact, only the shells were the same.  Everything else is different.  Motherboards, processors, drives ... In some instances they even put a simple SSD on 100 - 128 MB instead of a hard disk.  In general, the zoo, and only.  In addition, the BIOS settings, although everywhere were defaulted, differed from each other in essence.  For example, in some SATA ports were in AHCI mode, and in others - native / compatible.  It is clear that by simple cloning the problem cannot be solved here. </p><br><p>  Already anticipating the huge front of handmade work, I climbed onto the forums in search of at least some clue to reduce routine operations.  Googled about different ways of deploying from images, installation options over the network - it was all wrong.  One of the articles came across a mention of the fact that Acronis Snap Deploy is able to perform cloning in a heterogeneous environment.  That is, you can make a clone of one computer and deploy it on the second, third, etc., and even with a different hardware. </p><br><p>  I downloaded the trial version, made a trial deployment.  Happened!  I tried again - success again!  However, after the next lively machine, the program required a full-featured version license.  Looked at how much the license cost.  Buy them all cars turned out cheaper than the cost of one computer.  Convinced of the need to purchase the director.  Glavbukh no longer resist.  Updated to full versions and continued deployment. </p><br><p>  Of course, it was not easy at all - I had to delve into the settings, look for drivers, set up a PXE server and do a lot of other things, but all this was the little things of the preparatory stage.  Having penetrated once and having prepared the image of the reference system, it was possible to quickly and safely deploy it (almost) on anything - at least ten times, at least ten thousand. </p><br><p>  As a result, the estimated week and a half of manual labor turned into two days of control of the most automated operations.  New employees did not have time to change their minds, but I remained the administrator on a permanent basis and now I read training webinars on backup and data protection. </p><br><p>  Findings: </p><br><p>  1) We all know that the work of the administrator is such that we have to deal with different ‚Äúcircus / zoo‚Äù from users, the main thing is not to give up and look for the right solutions to problems, there is always a way out, in my practice this has been confirmed; <br>  2) Any routine process can be automated - do not be lazy to google and learn new practices; <br>  3) Cloning speeds up the commissioning of typical jobs; <br>  4) The deployment procedure can be performed on ‚Äúbare iron‚Äù and even on different equipment; <br>  5) Deployment can be performed from bootable media or via a PXE server; <br>  6) The required settings on each computer can be set both before and after deployment. </p><br><p>  Here you can listen to my <a href="http://goo.gl/ACqKEK">webinars on backup and data protection</a> . </p></div>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <p>Source: <a href="https://habr.com/ru/post/307014/">https://habr.com/ru/post/307014/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../307004/index.html">Mathematics for artificial neural networks for beginners, part 1 - linear regression</a></li>
<li><a href="../307006/index.html">OneBox opened an official office in Kiev</a></li>
<li><a href="../307008/index.html">BILLmanager. Now with the help of shell scripts you can sell anything</a></li>
<li><a href="../307010/index.html">Proof 2 Cases BTF</a></li>
<li><a href="../307012/index.html">Rating of programming languages ‚Äã‚Äãin 2016</a></li>
<li><a href="../307016/index.html">Fairy Tales Ransomwhere: Cerber on the rise</a></li>
<li><a href="../307018/index.html">Sprute.js. Another isomorphic JavaScript framework</a></li>
<li><a href="../307020/index.html">Squid + Dansguardian + c-icap + ClamAV based on CentOS 7</a></li>
<li><a href="../307022/index.html">Cheburashka and torrents (fairy tale)</a></li>
<li><a href="../307024/index.html">Deep Learning - what to do, whom to beat</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>