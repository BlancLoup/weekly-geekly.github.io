<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Classic 2D quest or how our two years of development went. Part 3</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hello again to everyone, in this, the third part, there will be a story about how Swordbreaker The Game was programmed, why this or that framework was...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Classic 2D quest or how our two years of development went. Part 3</h1><div class="post__text post__text-html js-mediator-article">  Hello again to everyone, in this, the third part, there will be a story about how Swordbreaker The Game was programmed, why this or that framework was chosen, details under the cut. <br><br><img src="https://habrastorage.org/webt/59/d1/0a/59d10aa71990f473058456.jpeg"><br><a name="habracut"></a><br>  Continuation of the history of the development of our first game, start here: <br><br><ul><li>  <a href="https://habrahabr.ru/post/338074/">First part</a> </li><li>  <a href="https://habrahabr.ru/post/338938/">The second part of</a> </li></ul><br>  So, before moving on to the final part and tell you what was done after the release of the game, let's focus on the main part of the development, namely, programming. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      As described earlier, the project experienced the following milestones of development: <br><br><ul><li>  A prototype was created on paper in the form of a dizdok, platforms were defined, and approximate gameplay </li><li>  Were created prototypes on various game engines in order to determine which one would be best suited for the implementation of ideas </li><li>  A demo version was created for the preliminary evaluation of the game by the community. </li><li>  The game was implemented for the main platforms (Windows, Android OS) </li><li>  The game was implemented for secondary platforms (Linux, Mac, iOS) </li></ul><br>  To begin with, it‚Äôs worth saying that if you, the reader, have no experience in programming game projects, then you will most likely be determined at the initial stage with the main thing, namely, with free time that you will be willing to spend on developing your project.  For a developer programmer, it is especially important to consider this factor, since  mastering a new language, understanding the basics of the adopted framework, trying to write a test code on it - it all takes a lot of time. <br><br>  See for yourself - you work at work - it‚Äôs 8 hours, you need to rest normally, otherwise there will be constant porridge in your head and stress will finish you off - this is at least another 8 hours, 8 more remain like projects, but life often develops so that From these 8 on the project it will turn out to allocate hours on 4 at the best.  And in this short time will have to learn a lot and almost "on the fly."  Therefore, before starting to do something, try to soberly assess whether you are ready to write code 12 hours a day to implement the project. <br><br>  Why this retreat?  And to the fact that, looking back now, I understand that working in this mode is still a hell of a work, and if the project were more complex in mechanics or more in volume, we would probably not reach the final, or it would take even more time (and we made the game about two years). <br><br>  Lyrical digression completed, about the money side of this issue, I think we'll talk in the next part, and now to the code itself.  =] <br><br>  At that time, when it all started (early 2014), life on the Internet took place under the slogans a la ‚ÄúFlash dies, what to do, and let's switch to html5, but it‚Äôs however some kind of raw ...‚Äù androids were also rushing to the horizons Of course, all new versions of the system, I wanted to cover everything at once, but for the beginning two platforms were defined - Android and Windows (in the form of Steam Greenlight, if we pass of course), respectively, a cross-platform engine was needed.  At that time there were the following candidates for whom I tried to implement the basic level - Construct2, Libgdx, Unity3d, ImpactJS, Cocos2d, another pair of Flash engines, AndEngine, CoronaSDK.  Of the entire heap, only two were more or less adequate in terms of compatibility, documentation and ease of development - LibGDX and CoronaSDK, at Unity3d at that time work with 2D graphics was done with a set of crutches (but I wrote a couple of demos on it, but compared to those two he was not so comfortable). <br><br>  How to choose the engine for the initial prototyping of the game?  Note that for a prototype, namely a prototype, when you need to make a vision of a future game, any actual engine that you will be able to master at least a couple of weeks and start something to write on it is suitable.  LibGDX in this regard had good wiki documentation, an excellent forum, with a live community, and its authors Mario Zechner wrote even two books on game programming, using LibGDX, (look at packtpub) all this helped quite a lot in the initial stage, because experience I didn't have programming for games.  Approximately the same situation with CoronaSDK is simple and accessible documentation, relatively rich for 2d API set, Lua programming language is easy to learn, but with a lot of nuances. <br><br><img src="https://habrastorage.org/webt/59/d1/06/59d106395b44f968982441.jpeg"><br>  <i>The first demo, with test buttons, compiled on CoronaSDK, test font, buttons too</i> <br><br>  At first, I was thinking of writing on CoronaSDK, but constant work with the server-side collector, compiling, then loading on Android (all this is not fast), and the rather ‚Äúfluid‚Äù structure of the lua language, which somehow resembles javascript, was forced to continue learning LibGDX engine . <br><br>  Actually LibGDX was good for everyone.  Firstly, there was a good tutorial that allowed to understand the main game cycle, there were demos (about 100 pcs.) With various API functions that could be run and see, the whole thing was going on Windows and did it very quickly, plus when compiling on Android The project looked 100% also (Corona had glitches, on the emulator this way, and on the phone in a different way).  In addition, it was Java - the mainstream OOP programming language, I must say very convenient for the implementation of projects of any level, and almost the same as C #, in which I wrote (and write) at work.  In addition, it was all managed by Android Studio (creators of Resharper and heaps of other tools), which was also a very convenient IDE for development. <br><br>  Actually, what conclusions did I make of all this - if you are just a beginner in the development of games, take the engine that is most suitable for you in terms of ease of development, yes, I understand that by choosing Unity3d, I would master a more powerful tool, but In general, for a game as for a software product, it is important - the gameplay component itself, on which it will be implemented is a secondary matter, all engines work roughly the same with 2D and 3D, so choose what is right for you (maybe from the experience of PL, may for convenience), the only  The criterion at this stage is the speed of development of the prototype. <br><br><img src="https://habrastorage.org/webt/59/d1/06/59d1063957c29336464020.jpeg"><br>  <i>Find AdMob in the photo</i> <br><br>  It probably makes no sense to describe the programming process for the game itself, for LibGDX everything is available on the Wiki, although the project has been a bit lately, but I think for beginners I would recommend it for ‚Äútrying on a pen‚Äù. <br><br>  So on LibGDX we reached the release of the demo version, the important thing was that the engine had: <br><br><ul><li>  Easy integration with the advertising API, it was possible to easily and easily integrate AdMob advertising modules into the project using ready-made APIs. </li><li>  It was actually native for Android - java </li><li>  Actually the launch of the demo went virtually without any technical problems, for some reason there was a couple of questions that the display was crookedly formed, but on the whole - everything is fine. </li><li>  Then the marathon began before the release of the main version of the game. </li><li>  On all this long journey, the following things were very helpful: </li><li>  Android Studio - which is a very handy thing with all the refactoring chips, syntax highlighting, quick transitions, debugging, etc.  JetBrains - one love!  All this made it possible to conveniently manage the code and quickly find errors, saving time and nerves. </li><li>  The structure of projects in LibGDX - it turned out that this framework was perfectly designed for creating 2d games, almost all the APIs were either Demo or Wiki articles, so there were few technical problems, and the localization was also pleased.  At the final stage of integration in Steam, it also turned out that there are free components for implementing the Steam API in the game, it was the same with google play services.  In general, LibGDX was a kind of framework like the standard .NET library with a bunch of ready-made classes from which you can sculpt everything you need, there is almost everything (within the framework of OpenGL ES, probably =]) </li><li>  Sanina's moral support, especially when we rewrote the dialogues and tested all these things for bugs.  =] </li></ul><br>  Otherwise, there is nothing particularly to tell, if you have passed the prototyping stage and even the release of the demo version, then, most likely, you have already chosen the engine that meets your requirements.  If at the moment (09/28/2017), I would choose the engine for the implementation of the game, I probably would first have stepped in the direction of Unity3d, which has evolved greatly in all this time. <br><br>  Gradually ruling the latest bugs, we approached the release on Steam, it was decided to postpone the launch of the Android version, because there were a couple of technical issues and we still could not decide whether to make it free with ads or paid-app.  Preparing to launch on Steam took its time too, it was necessary to fill in a lot of information - personal data, updates, prepare materials (as it turned out, you need pictures on icons, icons, chat emoticons, wallpapers for user profiles), and also to test the work of the API in the game .  Steam in general in this regard is a very convenient platform, a sea of ‚Äã‚Äãdocumentation, which is available after registration (and which is not subject to disclosure o_O), makes the process quite simple, and, as I said, there were ready libraries for LibGDX.  In general, a couple of times we were rejected by moderation due to inconsistency of materials, but after all, we passed and started!  : D <br><br>  Here the process flowed from the ‚Äúdevelopment‚Äù state to the ‚Äúsupport‚Äù state, and the first long-awaited ‚Äúbugs‚Äù fell down - some of them were not working on FitViewport, some were losing their preservation, some were not given any progress, in general, who is in pain.  Some of the bugs were quickly corrected, and some ... alas, but I still couldn‚Äôt deal with some of them until now. <br><br><img src="https://habrastorage.org/webt/59/d1/06/59d1063999a25422780587.jpeg"><br>  <i>Typical debugging</i> <br><br>  However, for most players, the game was stable, the first statistics, screenshots, reviews, and some moral satisfaction from the work done appeared.  Hurray we became developers!  : D <br><br>  What I actually mentioned at the beginning of the article about 4 hours ... Recently, before the release, I wanted to do everything qualitatively, check everything I needed, and release a normal working version, in general it was quite a lot of stress.  Coding, painstaking work on pushing characters along the map, editing dialogs, testing, everyone who knows what a crutch is, those in the know) <br><br><img src="https://habrastorage.org/webt/59/d1/06/59d10639a6dd2442794379.jpeg"><br>  <i>Map of the castle, a prototype, in the beginning we wanted to connect all this with arrows and when passing so that separate areas of the castle become light</i> <br><br><img src="https://habrastorage.org/webt/59/d1/06/59d10639cb00f296467430.jpeg"><br>  <i>Map of the whole game</i> <br><br>  In general, it was a busy day prefinal polishing almost finished product.  After some time, a version for Android was created, and launched in the form of a paid-app, the transformation thanks to the functionality of LibGDX occurred quite painlessly, all the functions for the if-else interface settings were there, so part of the control was adjusted to the fingertip and everything started to turn. . <br><br>  There was one more unfinished business - this is a version for Mac, namely for iOS, in general, Android for a paid-application showed itself quite well, there was a hope that the iOS version would be at least as good. <br><br>  Now I don‚Äôt remember what exactly was the reason why I decided to write the iOS version not on LibGDX, but on CoronaSDK, but it seemed there were some nuances in compatibility.  A Mac was also purchased in order to be registered on the portal and for testing on a virtual machine. <br>  Fast enough, although not without problems with Lua, the game was rewritten and started quite nicely on the emulator, some differences in the components affected, something had to be optimized, something was redone, but on the whole the engine coped with its task, plus CoronaSDK has a good and nimble emulator.  The place of Android Studio replaced Sublime Text under which CoronaSDK has a plugin, it turned out something like IDE, which was also quite convenient.  In general, CoronaSDK has a plus and a minus language - it is a scripted Lua with dynamic typing, which you do not immediately get used to and sometimes get confused in areas of visibility, definition of variables, etc., you gradually get used to it, everything becomes a table to shove everything - starting from data and ending with functions, in general, there is a certain logic here, but debugging all this devilry is not very cool.  The crown also has a rich API in which there is a lot to create 2D games, it is very easy to learn, contains many examples in the documentation itself, plus there are plugins for embedding monetization, and other services (some are paid).  To create unpretentious toys for phones - the thing is, for something larger, I would probably be confused in all this junk, in the absence of a normal IDE. <br><br><img src="https://habrastorage.org/webt/59/d1/06/59d10639dbb8b161638107.jpeg"><br>  <i>Three thousand devils (actually three hundred mosques) and one small scene!</i> <br><br>  Running the iOS version was stable, having written and tested everything under Windows on the emulator, it remains to fill out the registration information, make the build and run the build on iOS.  Profit!  : D <br><br>  On this principle, everything seems to be the main points, in the next part Sanya will tell about the support of the game after the release, what PR actions were carried out, and what it all gave, plus we will tell about monetization. </div><p>Source: <a href="https://habr.com/ru/post/339092/">https://habr.com/ru/post/339092/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../339080/index.html">Dive into Ethereum development. Part 3: user application</a></li>
<li><a href="../339082/index.html">The digest of interesting materials for the mobile developer # 223 (September 25 - October 1)</a></li>
<li><a href="../339084/index.html">Liquibase: an example of an automated roll forward of changes to a relational database</a></li>
<li><a href="../339086/index.html">Rethinking drag & drop</a></li>
<li><a href="../339090/index.html">ggplot2: how to easily combine multiple graphs in one, part 3</a></li>
<li><a href="../339094/index.html">Heading "We read articles for you." September 2017</a></li>
<li><a href="../339096/index.html">Electronic documents in the Russian courts, as a criterion for the electronic maturity of Russia</a></li>
<li><a href="../339098/index.html">The digest of fresh materials from the world of the frontend for the last week ‚Ññ282 (September 25 - October 1, 2017)</a></li>
<li><a href="../339100/index.html">The most important IT event of the fall: Dell EMC Forum 2017</a></li>
<li><a href="../339102/index.html">Ethereum Smart Contracts: What to do when you make a mistake in a smart contract or migration technique</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>