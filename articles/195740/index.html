<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Azul Zulu - JVM for the cloud or just the OpenJDK port on Windows?</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="At the JavaOne 2013 conference, which recently ended in San Francisco, Microsoft Open Technologies and Azul Systems announced Zulu, an OpenJDK port fo...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Azul Zulu - JVM for the cloud or just the OpenJDK port on Windows?</h1><div class="post__text post__text-html js-mediator-article">  At the JavaOne 2013 conference, which recently ended in San Francisco, Microsoft Open Technologies and Azul Systems announced Zulu, an OpenJDK port for the Windows Azure cloud platform.  Considering that three months ago, Oracle and Microsoft announced a partnership in the field of cloud technologies, many expected that Oracle would release the JVM for the cloud platform from Microsoft.  However, this JVM was released by Azul Systems, a multi-year <a href="http://en.wikipedia.org/wiki/Technology_Compatibility_Kit">licenser of</a> Java SE, known for its high-performance server solutions with large hips. <br><br>  In the first part of the article we will try to figure out who this Zulu is and what we can expect from it.  Is this just the beginning of the journey or a ready-made solution?  In the second part, we will proceed to unpacking the Zulu Technology Preview and, as a side effect, we‚Äôll see how Oracle has stuffed its JDK so much that it weighs one and a half times more than Zulu. <br><br> <a href="http://ru.wikipedia.org/wiki/%25D0%2597%25D1%2583%25D0%25BB%25D1%2583%25D1%2581%25D1%258B"><img src="https://habrastorage.org/storage3/e9a/ef7/28d/e9aef728d4412eb9360ab8acb6a37b47.jpg"></a> 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <a name="habracut"></a><br><br><h4>  Java: Oracle and IBM?  Azul and Microsoft! </h4><br>  Interesting times are coming.  More precisely, already arrived.  In the past six months, Azul and Microsoft have somehow become more active in terms of Java, and specifically in Russia.  Judge for yourself: <br><ul><li>  In April, at the St. Petersburg Java conference, <a href="http://javapoint.ru/">JPoint</a> Azul <a href="http://www.worlditsystems.ru/worlditsystems.ru/index.php/ru/about-us/press-center/256-press-center">sponsored</a> , and its VP of Engineering <a href="http://www.linkedin.com/in/anyabarski">Anya Barski</a> made a plenary report, after which rumors that Azul was opening an office in St. Petersburg were actively spread. </li><li>  in late July, Oracle and Microsoft <a href="http://techcrunch.com/2013/06/24/microsoft-and-oracle-team-up-to-bring-java-oracle-database-linux-and-weblogic-server-to-azure-and-windows-server/">announce</a> a <a href="http://blogs.technet.com/b/microsoft_blog/archive/2013/06/24/partners-in-the-enterprise-cloud.aspx">partnership</a> in the field of cloud technologies </li><li>  in July, rumors about Azul in St. Petersburg are <a href="http://vk.com/anyabarski%3Fw%3Dwall2513159_299%252Fall">confirmed</a> </li><li>  a few days ago at JavaOne Azul and MS Open Tech <a href="http://www.azulsystems.com/press/azul-systems-releases-zulu">present</a> Zulu </li></ul><br><br><h4>  Who are the Azul </h4><br>  In general, Azul Systems is known for its high-performance Java solutions.  They started by making their Java on ... hardware.  Well, more precisely, it is Linux, just all the calculations are performed on a separate board ( <a href="http://ru.wikipedia.org/wiki/CUDA">NVidia CUDA</a> immediately comes to mind).  The solution is called <a href="http://www.azulsystems.com/products/vega/processor">Azul Vega</a> .  The latest versions <a href="http://www.azulsystems.com/products/vega/specs">contain</a> hundreds of cores and hundreds of gigabytes of RAM. <br><br><blockquote>  @TheShade once told the story of his work at Intel.  They say they took a standard benchmark, in which Sun's Java gave 4000 parrots, they began to optimize their implementation and after long labors they managed to squeeze out 5000 parrots.  ‚ÄúHooray!‚Äù, They shouted, and published an article about how they made Sanov's implementation as much as 25%.  After that, the guys from Azul came, took a benchmark and got on their Vega not 4,000 or 5,000 parrots, but a <i>million</i> .  A curtain. </blockquote><br>  A few years ago, Azul created a pure software solution - Zing for Linux.  Apparently, starting with some version of Linux 2.6 API, Linux has become enough to abandon the iron part and port its best practices from the iron part to software.  It turned out pretty cool.  Zing is positioned as a solution for large hip vehicles: <br><ul><li>  scalable </li><li>  <a href="http://www.azulsystems.com/technology/c4-garbage-collector">low latency, GC without pauses</a> </li><li>  <a href="http://www.azulsystems.com/products/zing/whatisit">and so on</a> </li></ul><br>  As you know, every bun is worth something.  In the case of low latency, we always have to sacrifice <s>everything else</s> through throughput.  A well-known <a href="https://habrahabr.ru/users/elizarov/" class="user_link">elizarov</a> master <a href="https://habrahabr.ru/users/elizarov/" class="user_link">told</a> me recently over tea that they were trying to get the coolest latency on the stand when loading percents by 5%, and already in the region of 10% latency was beginning to sag.  Perhaps the twists from Azul could have made their decision much better, but this is not about that at all now. <br><br><h4>  Azul press release </h4><br>  What does Azul officially tell us in <a href="http://www.azulsystems.com/press/azul-systems-releases-zulu">its press release</a> ? <br>  First, it says about Windows Azure.  Secondly, there is a fashionable now ‚Äúcommunity-driven‚Äù.  Thirdly, it says about full <a href="http://en.wikipedia.org/wiki/Technology_Compatibility_Kit">compatibility</a> with the Java SE 7 specification. So, these guys didn‚Äôt break OpenJDK much, which pleases :) But all this is clear. <br><br>  From the interesting: Azul will actively upload patches and bugfixes to OpenJDK.  That is, not only to use someone else's, but also to contribute.  This is a cool statement, but not new.  Any normal Java licensee does this at least to get rid of the headache. <br><blockquote>  Imagine that we have a cunning licensee Vasya, who found a bug in OpenJDK, fixed it in his fork, but did not tell the others.  That is, not for backportil.  And sitting so pleased with himself.  Let's say in a month the same problem was found by honest Peter, fixed it in his own way and filled it in OpenJDK.  As a result, at the first synchronization with the updated OpenJDK, Vasya will have a <s>bathert</s> conflict in the source code, which will need to be dealt with.  And this is something else fun. </blockquote><br><br><h4>  Microsoft eyes </h4><br>  In Redmond, too, are not asleep.  The dude from Microsoft Open Technologies <a href="http://blogs.msdn.com/b/interoperability/archive/2013/09/25/azul-systems-releases-zulu-an-openjdk-build-for-windows-azure-in-partnership-with-ms-open-tech.aspx">writes on MSDN</a> that the trick is that now the latest versions of OpenJDK 7 for Windows are now available in binary form thanks to Zulu, and later quotes the Azul press release. <br><br><h4>  Press </h4><br>  <a href="https://twitter.com/Joab_Jackson">Joab Jackson</a> at ComputerWorld <a href="http://www.computerworld.com/s/article/9242688/Microsoft_sails_past_Oracle_in_bringing_Java_SE_to_cloud">notes the</a> obvious: Azul <a href="http://www.computerworld.com/s/article/9241519/Microsoft_adds_Java_to_its_Windows_Azure_cloud_service">will be the</a> default platform in Azure for those who need Java in Azure as a service.  In addition, he mentions <a href="https://cloud.oracle.com/mycloud/f%3Fp%3Dservice:home:0">Oracle Cloud</a> , in which Oracle <i>for some reason</i> does not provide Java SE as a service, but rather provides a higher level solution as a service - Java EE.  Like, deploy your JavaEE application in the Oracle Cloud, and then we'll figure out how to effectively implement it. <br><br>  It sounds reasonable from the point of view of the cloud model on the one hand, and like screwing a bolt on Java SE on the other.  Does a business need Java SE without Java EE?  Is it worth bothering for her?  Judging by the <a href="http://www.pcworld.com/article/2049415/microsoft-sails-past-oracle-in-bringing-java-se-to-the-cloud.html">article</a> , Microsoft answers this question more likely in the affirmative, and Oracle rather negatively.  It should only be noted finally that this is an article on ComputerWorld, and not an official release of Oracle or Microsoft. <br><br><h4>  Unpacking </h4><br>  So, touch the Zulu Technology Preview.  On the official website of Azul Systems is a <a href="">link</a> .  We click and, lo and behold, in front of us is a 60 MB zip archive.  Judging by the name, this build is compiled on OpenJDK 7u25 and sharpened under Windows x64.  For reference, Oracle JDK 7u25 under win x64 weighs about 90 megabytes, and Oracle JDK 7u40 already as much as 125 megabytes.  Run: <br> <code>D:\zulu1.7.0_25-7.0.0.0-win64\bin&gt;java -version</code> <br> <code>openjdk version "1.7.0_25"</code> <br> <code>OpenJDK Runtime Environment (Zulu 7.0.0.0-win64) (build 1.7.0_25-b34)</code> <br> <code>OpenJDK 64-Bit Server VM (Zulu 7.0.0.0-win64) (build 23.25-b03, mixed mode)</code> <br> <br>  hmm ok  It seems we got an answer to the first question.  At the moment, in the fall of 2013, Azul Zulu is only the <i>beginning</i> of a cloud Java project. <br><br>  Walk through the insides of the archive.  The unpacked jdk 1.7.0_25 weighs 216 megabytes, and the unpacked zulu 1.7.0_25 weighs 136 megabytes.  Where did the <s>dog rummage the</s> remaining 80 meters? <br><ul><li>  The bin folder weighs 1.7 meters in Zulu versus 2.5 in the Oracle JDK.  Trifle, but interesting.  We go inside and see that the file names are the same, except that the dimensions are different.  Most small exe-shnik at Oracle weighs 16 kilobytes, and at Azul - at 9 kilobytes.  It seems that the difference is simple in the compiler, which these same ekzeshniki did.  Well, or in the settings.  java.exe and javaw.exe differ by 11 kilos (185 for Oracle versus 174 for Azul).  The size of unpack200.exe is significantly different (177K versus 109K).  I am glad that at least Maykrosoftovskaya msvcr100.dll weighs equally in both distributions :) </li><li>  Azul has no 5 MB db folder with JavaDB.  But there are demo and sample folders with a total weight of just about 5 meters. </li><li>  src.zip weighs about the same, 21 megabytes </li><li>  Oracle's include folder is 150K more due to the presence of wrappers around AccessBridge DLL calls needed for <a href="http://docs.oracle.com/cd/E17802_01/j2se/javase/technologies/accessibility/docs/jaccess-1.3/doc/core-api.html">Java Accessibility</a> to work </li><li>  Azul jre is less by 50 meters: 76 vs. 126. Look inside.  The jre / bin weighs 13 meters versus 36. From the large-scale there are no libraries for the mentioned Java Accessibility (a couple of megabytes), JavaFX (I counted 15 megabytes).  Well and on trifles: JdbcOdbc, JavaWebStart Acivex Control, etc.  Another 2 megabytes was found in jre / lib / fonts.  Another 15 meters were found in jre / lib / jfxrt.jar (JavaFX classes).  Another 4 meters - in Deploy.jar ... </li><li>  Another 27 MB in Oracle is occupied by <a href="http://visualvm.java.net/">VisualVM</a> , a profiler that was ported several years ago from a NetBeans plugin into a separate application. </li></ul><br>  At this point, I realized that the difference in terms of file content is that Oracle JDK includes a bundle of proprietary technologies of its own, so it weighs a lot more and the comparison is not entirely correct.  In this sense, it was necessary to compare the assemblies of Oracle JDK and OpenJDK under Ubuntu - it would be easier.  Although since Zulu is now in its infancy, the expertise looks quite valid. <br><br>  So, as a result: under the hood, we use different compilers for Windows (or at least different settings of one compiler) and several technologies from Oracle that are not needed by everyone and inflate the distribution.  In order to overcome the latter problem, <a href="http://openjdk.java.net/jeps/161">Compact Profiles are</a> implemented in Java SE 8.  I understand that comparing two software on a set of files is a complete idiocy, and you need to dig further and run all this, measure with parrots, etc.  But this is material for a technical article, not for a review.  Considering, again, that Zulu is now at the initial stage, one can guess that the difference will be minimal. <br><br><h4>  Let's run it! </h4><br>  The first jar-nick that I came <a href="http://sourceforge.net/projects/dcompiler/">across</a> was <a href="http://sourceforge.net/projects/dcompiler/">Dcompiler</a> So, <code>java -jar ...</code> <br><br> <code>D:\&gt;D:\zulu1.7.0_25-7.0.0.0-win64\bin\java.exe -jar DCompiler.jar</code> <br> <code>Exception in thread "main" java.awt.HeadlessException</code> <br> <code>at java.awt.GraphicsEnvironment.checkHeadless(GraphicsEnvironment.java:208)</code> <br> <code><code><code><code><code><code>at java.awt.Window.(Window.java:535) <br> at java.awt.Frame.(Frame.java:420) <br> at java.awt.Frame.(Frame.java:385) <br> at javax.swing.JFrame.(JFrame.java:180) <br> at MainFrame.(MainFrame.java:253) <br> at Gui.create(Gui.java:18)</code> <br> <code>at Gui.main(Gui.java:49)</code> <br> <br> ,    <a href="http://www.oracle.com/technetwork/articles/javase/headless-136834.html">Headless</a> .  ,  <s>       OpenJDK AWT  Swing</s> Zulu    . IntelliJ IDEA       .   ,     ,  java.awt.headless=true    :)   : <br> <br> <code>D:\&gt;D:\zulu1.7.0_25-7.0.0.0-win64\bin\java.exe -Djava.awt.headless=false -jar DCompiler.jar</code> <br> <br>  <br>   -  ,     Zulu.     -    Azul Systems  Microsoft        OpenJDK  .  , -      JIT.  , -   Zing,     Linux,   (  )  Zulu. <br> <br>   Zulu      Windows Azure,      OpenJDK  .  ? ?  .    Zulu <i></i> ?  <i></i> Zulu?  ,      -     Java- -  .       OpenJDK  Windows x64. , ,      . <br> <br>    ,     Zing  Zulu. Zing --    <i> </i> .  Zulu,  ,   ,    <i> </i> .    Azul?    ?       -   Zing  Zulu?     OpenJDK,  ,    ?  ,  .  . <br> <br>    -- Java  , JVM  .    ?        ?      ?      - ?  I/O (  ),    ?  ,  . <br> <br> <i>           <a href="http://jokerconf.com/">Joker 2013</a> ,        .  ,       CTO Azul Systems            Microsoft    Java  Windows Azure.            .</i></code></code></code></code></code> <h4> <code><code><code><code><code><code>at java.awt.Window.(Window.java:535) <br> at java.awt.Frame.(Frame.java:420) <br> at java.awt.Frame.(Frame.java:385) <br> at javax.swing.JFrame.(JFrame.java:180) <br> at MainFrame.(MainFrame.java:253) <br> at Gui.create(Gui.java:18)</code> <br> <code>at Gui.main(Gui.java:49)</code> <br> <br> ,    <a href="http://www.oracle.com/technetwork/articles/javase/headless-136834.html">Headless</a> .  ,  <s>       OpenJDK AWT  Swing</s> Zulu    . IntelliJ IDEA       .   ,     ,  java.awt.headless=true    :)   : <br> <br> <code>D:\&gt;D:\zulu1.7.0_25-7.0.0.0-win64\bin\java.exe -Djava.awt.headless=false -jar DCompiler.jar</code> <br> <br>  <br>   -  ,     Zulu.     -    Azul Systems  Microsoft        OpenJDK  .  , -      JIT.  , -   Zing,     Linux,   (  )  Zulu. <br> <br>   Zulu      Windows Azure,      OpenJDK  .  ? ?  .    Zulu <i></i> ?  <i></i> Zulu?  ,      -     Java- -  .       OpenJDK  Windows x64. , ,      . <br> <br>    ,     Zing  Zulu. Zing --    <i> </i> .  Zulu,  ,   ,    <i> </i> .    Azul?    ?       -   Zing  Zulu?     OpenJDK,  ,    ?  ,  .  . <br> <br>    -- Java  , JVM  .    ?        ?      ?      - ?  I/O (  ),    ?  ,  . <br> <br> <i>           <a href="http://jokerconf.com/">Joker 2013</a> ,        .  ,       CTO Azul Systems            Microsoft    Java  Windows Azure.            .</i></code></code></code></code></code> </h4> <code><code><code><code><code><code>at java.awt.Window.(Window.java:535) <br> at java.awt.Frame.(Frame.java:420) <br> at java.awt.Frame.(Frame.java:385) <br> at javax.swing.JFrame.(JFrame.java:180) <br> at MainFrame.(MainFrame.java:253) <br> at Gui.create(Gui.java:18)</code> <br> <code>at Gui.main(Gui.java:49)</code> <br> <br> ,    <a href="http://www.oracle.com/technetwork/articles/javase/headless-136834.html">Headless</a> .  ,  <s>       OpenJDK AWT  Swing</s> Zulu    . IntelliJ IDEA       .   ,     ,  java.awt.headless=true    :)   : <br> <br> <code>D:\&gt;D:\zulu1.7.0_25-7.0.0.0-win64\bin\java.exe -Djava.awt.headless=false -jar DCompiler.jar</code> <br> <br>  <br>   -  ,     Zulu.     -    Azul Systems  Microsoft        OpenJDK  .  , -      JIT.  , -   Zing,     Linux,   (  )  Zulu. <br> <br>   Zulu      Windows Azure,      OpenJDK  .  ? ?  .    Zulu <i></i> ?  <i></i> Zulu?  ,      -     Java- -  .       OpenJDK  Windows x64. , ,      . <br> <br>    ,     Zing  Zulu. Zing --    <i> </i> .  Zulu,  ,   ,    <i> </i> .    Azul?    ?       -   Zing  Zulu?     OpenJDK,  ,    ?  ,  .  . <br> <br>    -- Java  , JVM  .    ?        ?      ?      - ?  I/O (  ),    ?  ,  . <br> <br> <i>           <a href="http://jokerconf.com/">Joker 2013</a> ,        .  ,       CTO Azul Systems            Microsoft    Java  Windows Azure.            .</i></code></code></code></code></code> </div><p>Source: <a href="https://habr.com/ru/post/195740/">https://habr.com/ru/post/195740/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../195724/index.html">RWpod. 28 release 01 of the season. Details about Ruby 2.1.0, HTTP 2.0 gem, Semantic UI, Framer.js, etc.</a></li>
<li><a href="../195730/index.html">Macro for balancing outgoing calls to GSM in Asterisk</a></li>
<li><a href="../195732/index.html">The Good, the Bad and the Ugly code</a></li>
<li><a href="../195736/index.html">Java serialization: how to look inside the black box</a></li>
<li><a href="../195738/index.html">Create a private cloud using System Center Virtual Machine Manager 2012 R2</a></li>
<li><a href="../195742/index.html">We give the project in good hands</a></li>
<li><a href="../195744/index.html">Review of the Apple MacBook Air mid 2013 laptop on the Haswell processor</a></li>
<li><a href="../195746/index.html">Give the remote multicopter!</a></li>
<li><a href="../195752/index.html">How to choose a publisher for your mobile game, or 5 correct questions from developers</a></li>
<li><a href="../195756/index.html">Protection of information on mobile devices and mobilEcho 4.5</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>