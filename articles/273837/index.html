<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Development on the Yii2 framework on the IBM Bluemix platform</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="I am having difficulty deploying php applications using the Yii2 framework on the IBM Bluemix platform. I‚Äôm sure I‚Äôm not the only one, so this post co...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Development on the Yii2 framework on the IBM Bluemix platform</h1><div class="post__text post__text-html js-mediator-article">  I am having difficulty deploying php applications using the Yii2 framework on the IBM Bluemix platform.  I‚Äôm sure I‚Äôm not the only one, so this post contains short instructions on how to avoid these difficulties. <br><br>  What we need to do: <br><ol><li>  create project in bluemix </li><li>  connect git </li><li>  create a project Yii2 and change the file structure </li><li>  set up a cloud </li><li>  enable application, fill code </li></ol><br><h4>  Create an application in Bluemix </h4><br>  Bluemix is ‚Äã‚Äãstructured for the final product, so the project should be developed locally or (like me) on a separate server. <br><br>  After registering on <a href="https://console.ng.bluemix.net/">bluemix.net,</a> go to the DASHBOARD and create an environment for the php application in Cloud Foundry.  To do this, on the start page, click the Create App button. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <img src="https://habrastorage.org/getpro/megamozg/post_images/949/8ca/669/9498ca6695511511a846f39271604b34.png" width="500"><br><a name="habracut"></a><br><br>  Choose WEB ... <br><br><img src="https://habrastorage.org/getpro/megamozg/post_images/8bd/a7e/923/8bda7e92382b9e14f8c26a2799bfbd7e.png" width="500"><br><br>  ... and choose PHP. <br><br><img src="https://habrastorage.org/getpro/megamozg/post_images/14f/977/b10/14f977b1088a2f3414c63686d2b895db.png" width="500"><br><br><h4>  We take his code on your car </h4><br>  Now we need to pick up the code of the newly created application on our work machine, because besides the simplest Hello world, there are several configuration files that run the code in the cloud.  To do this, go to the Overview of the application and click Add GIT ... <br><br><img src="https://habrastorage.org/getpro/megamozg/post_images/394/33a/38c/39433a38cdddd8542b95e02ec3729bd0.png" width="500"><br><br>  ... and get a link to the repository ... <br><br><img src="https://habrastorage.org/getpro/megamozg/post_images/2e1/7ea/cf3/2e17eacf3b2fee12db70cc3c146d4ebb.png" width="500"><br><br>  ... from which we clone the application to itself. <br><br><h4>  Install Yii2 </h4><br>  Install Yii2 <a href="http://www.yiiframework.com/doc-2.0/guide-start-installation.html">according to the official instructions from the framework site</a> on your computer or remote server.  All files, except the web folder, need to be transferred to the lib folder.  Files from the web are transferred to the project root.  Such an arrangement of project files is needed to achieve two goals: <br><ol><li>  Disable automatic execution of composer install found on the project root composer.lock / composer.json. </li><li>  Move the framework files outside the public part of the project.  The lib folder is unpacked outside the folder accessible to the web server (/ home / vcap / app / htdocs), but within the include_path (/ home / vcap / app / lib) </li></ol><br>  These folders are configured by separate parameters (WEBDIR and LIBDIR), so that you can later customize the environment as you prefer.  For simplicity, I use the default values. <br><br><h4>  Customize the project </h4><br>  To properly load Yii2 with each update, you need to perform additional configuration related to the dependencies of Yii2 and other link libraries.  In particular, I mean the impossibility to install fxp / composer-asset-plugin at the project level - we can only install this library globally.  To solve this problem, in the root of the project, create a folder .bp-config, and in it - the file options.json. <br><br>  This is the place where the <a href="">Cloud Foundry PHP Buildpack</a> settings will be loaded <a href="">from</a> , which we connected to the project during creation. <br><br>  The contents of the file that we use: <br><pre><code class="hljs json">{ <span class="hljs-attr"><span class="hljs-attr">"PHP_VERSION"</span></span>: <span class="hljs-string"><span class="hljs-string">"{PHP_56_LATEST}"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"PHP_EXTENSIONS"</span></span>: [ <span class="hljs-string"><span class="hljs-string">"bz2"</span></span>, <span class="hljs-string"><span class="hljs-string">"zlib"</span></span>, <span class="hljs-string"><span class="hljs-string">"openssl"</span></span>, <span class="hljs-string"><span class="hljs-string">"curl"</span></span>, <span class="hljs-string"><span class="hljs-string">"mcrypt"</span></span>, <span class="hljs-string"><span class="hljs-string">"mbstring"</span></span>, <span class="hljs-string"><span class="hljs-string">"pdo"</span></span> ], <span class="hljs-attr"><span class="hljs-attr">"ADDITIONAL_PREPROCESS_CMDS"</span></span>: [ <span class="hljs-string"><span class="hljs-string">"cd ./app/lib/"</span></span>, <span class="hljs-string"><span class="hljs-string">"php -r \"readfile('https://getcomposer.org/installer');\" | php"</span></span>, <span class="hljs-string"><span class="hljs-string">"php composer.phar global require \"fxp/composer-asset-plugin:~1.1.1\""</span></span>, <span class="hljs-string"><span class="hljs-string">"php composer.phar install"</span></span>, <span class="hljs-string"><span class="hljs-string">"cd ../../"</span></span> ] }</code> </pre> <br>  PHP_VERSION indicates the version of PHP.  PHP_EXTENSIONS indicates which add-ons we need.  Then ADDITIONAL_PREPROCESS_CMDS specifies the commands that need to be run after the project is installed in the cloud: <br><ol><li>  go to the folder with Yii2 </li><li>  install <a href="">composer</a> </li><li>  download fxp / composer-asset-plugin (see installation Yii2) </li><li>  download all necessary dependencies from composer.lock / composer.json </li><li>  return to the original folder - it is necessary to continue normal work </li></ol><br><h4>  Run the application in the cloud </h4><br>  Once you have made all the necessary changes, just send them to Bluemix using git push.  Bluemix will see the changes in the repository and install all the necessary dependencies, including fxp / composer-asset-plugin, and we will get a working test page with Hello world from Yii2 without any problems with bower assets. </div><p>Source: <a href="https://habr.com/ru/post/273837/">https://habr.com/ru/post/273837/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../273819/index.html">Electronic board of the bank and EDS: integration experience</a></li>
<li><a href="../273823/index.html">New 3CX Phone v14 client details</a></li>
<li><a href="../273825/index.html">Hub AI & BigData meetup # 1</a></li>
<li><a href="../273827/index.html">Let's Encrypt in a Plesk Panel</a></li>
<li><a href="../273835/index.html">IBM Watson will help treat children with rare diseases</a></li>
<li><a href="../273839/index.html">Optimization killers</a></li>
<li><a href="../273841/index.html">Thread support in Mail.Ru Mail Android application: we are achieving complete sync</a></li>
<li><a href="../273843/index.html">From STUPID code to SOLID code</a></li>
<li><a href="../273845/index.html">Welcome to Tarantool meetup January 28</a></li>
<li><a href="../273847/index.html">The digest of news from the world of development on Unity</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>