<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Apache Maven Basics</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="After posting a topic about Maven in the comments, questions arose about how to start working with it, where to start, how to compile pom.xml files, w...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Apache Maven Basics</h1><div class="post__text post__text-html js-mediator-article">  After posting a <a href="http://habrahabr.ru/blogs/webdev/77333">topic about Maven</a> in the comments, questions arose about how to start working with it, where to start, how to compile pom.xml files, where to get plug-ins, etc.  This topic will be some kind of getting started or faq <br><a name="habracut"></a><br><br><h1>  Terminology </h1><br>  As in any system, in Maven, there is a set of terms and concepts. <br><br>  The entire project structure is described in the pom.xml file (POM - Project Object Model), which should be located in the root folder of the project.  The key concept of Maven is an <b>artifact</b> - in fact, any library stored in a repository.  This may be some kind of dependency or plugin. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      <b>Dependencies</b> are those libraries that are directly used in your project to compile code or test it. <br><br>  <b>Plug-ins</b> are used by Maven himself when building a project or for some other purposes (deployment, creating project files for Eclipse, etc.). <br><br>  At the very beginning of work with Maven, the user will certainly encounter such a concept as an archetype.  <b>An archetype</b> is a kind of standard layout of files and directories in projects of various kinds (web, swing-projects and others).  In other words, Maven knows how projects are usually built and, in accordance with the archetype, creates a directory structure. <br><br>  As a rule, the name of the artifact consists of the name of the group, its own name and version.  For example, Spring will have this name in the Maven environment: org.springframework.spring: 2.5.5.  The last domain always means artifactId, all that is in front of it - groupId - remember this well! <br><br>  I will not dwell on the life cycle, as it is well described in the above-mentioned article.  And now for the practice. <br><br><h1>  Install Maven </h1><br>  The latest version can always be downloaded from <a href="http://maven.apache.org/download.html">the download page</a> on the official website.  Just unpack the archive in any directory.  Next, you need to create a variable in the Path, in which you must specify the path to Maven.  Go to Win + Pause - Advanced - Environment Variables - in the top window, click Create, enter the name M2_HOME and the value is ‚ÄúC: \ apache-maven-2.2.1‚Äù.  Next, in the same place, we create another M2 variable with the value% M2_HOME% \ bin.  Also make sure that there is a JAVA_HOME variable with the path to the JDK.  Its value should be something like ‚Äúc: \ Program Files \ Java \ jdk1.6.0_10 \‚Äù.  Finally, in the same window, create / modify the Path variable; you just need to write% M2% to it, so that our daddy with the Maven executable can be seen from the command line.  Now you need to check the performance of our installation.  To do this, go to the command line and enter the command <br><br><pre>  mvn ‚Äìversion </pre><br>  Information about versions of Maven, jre and the operating system should appear, something like: <br><br><pre>    Maven version: 2.2.1
    Java version: 1.6.0_10
    OS name: "windows 2003" version: "5.2" arch: "x86" Family: "windows"
</pre><br>  Maven will create you a local repository in your personal folder, for example in the directory C: \ Documents and Settings \ username \ .m2 \ repository <br><br>  Everything, Maven is ready to work, you can start creating an application. <br><br><h1>  Creating an application from the archetype </h1><br>  The Maven website <a href="http://maven.apache.org/guides/introduction/introduction-to-archetypes.html">lists the</a> most popular archetypes for applications, but you can easily create your own or find more specific ones, for example <a href="http://docs.codehaus.org/display/MAVENUSER/Archetypes%2BList">here</a> . <br><br>  So, let's say we are interested in a web application - we find a suitable archetype, it is called maven-archetype-webapp.  In the command line, in the required directory, execute the Maven command: <br><br><pre>  mvn archetype: create -DgroupId = com.mycompany.app -DartifactId = my-webapp 
       -DarchetypeArtifactId = maven-archetype-webapp </pre><br>  Now we can see a rather visual directory structure with java speaking names - here will be your classes, webapp - here are the web application pages, resources - various kinds of resources in the classpath (configuration files, for example), test - unit tests, respectively, and t .P. <br><br><h1>  Build project </h1><br>  Everything is simple here - we execute the command <br><br><pre>  mvn package </pre><br>  or <br><br><pre>  mvn install </pre><br>  in the root directory of the application, where the pom.xml file is located.  The first command will compile your project and put it in the target folder, and the second will also put it in your local repository. <br><br>  There is a useful function like a conveyor, so you can write <br><br><pre>  mvn clean install </pre><br>  and Maven will first clear the project's target folder, then collect it and put it into the repository. <br><br>  We have studied the minimum set of actions for Maven, now we are going to customize and add project dependencies. <br><br><h1>  Dependencies and Repositories </h1><br>  As a rule, most of the popular libraries are located in the <a href="http://repo1.maven.org/maven2/">central repository</a> , so you can write them directly to the dependencies section of your pom-file.  For example, to connect the Spring Framework, you need to define the following dependency: <br><br><pre>    &lt;dependencies&gt;
       ...
       &lt;dependency&gt;
          &lt;groupId&gt; org.springframework &lt;/ groupId&gt;
          &lt;artifactId&gt; spring &lt;/ artifactId&gt;
          &lt;version&gt; 2.5.5 &lt;/ version&gt;
       &lt;/ dependency&gt;
    &lt;/ dependencies&gt;
</pre><br>  Although it is possible not to specify the version and then Maven will take the last option, but I personally advise you to do it, because we have repeatedly had cases that the project just stopped gathering at one moment or began to fall in completely unexpected and well-tested places, although no one would change anything. <br><br>  Specific items are usually not in the central repository and then you will have to specify the manufacturer‚Äôs repository manually.  For example, add the JSF framework dependency of JBoss RichFaces ajax components. <br><br>  Dependencies are simple: <br><br><pre>    &lt;dependencies&gt;
       &lt;dependency&gt;
          &lt;groupId&gt; org.richfaces.ui &lt;/ groupId&gt;
          &lt;artifactId&gt; richfaces-ui &lt;/ artifactId&gt;
          &lt;version&gt; 3.3.1.GA &lt;/ version&gt;
       &lt;/ dependency&gt;        
    &lt;/ dependencies&gt; </pre><br>  But the JBoss repository now needs to be registered with pens either in the settings.xml file, which lies in the root of your local repository, or in the pom.xml file itself, depending on whether this repository is needed in all projects, or in any one specific, respectively: <br><br><pre>    &lt;! - JBoss RichFaces Repository -&gt;
    &lt;repositories&gt;
       &lt;repository&gt;
          &lt;releases&gt;
             &lt;enabled&gt; true &lt;/ enabled&gt;
          &lt;/ releases&gt;
          &lt;snapshots&gt;
             &lt;enabled&gt; false &lt;/ enabled&gt;
             &lt;updatePolicy&gt; never &lt;/ updatePolicy&gt;
          &lt;/ snapshots&gt;
          &lt;id&gt; repository.jboss.com &lt;/ id&gt;
          &lt;name&gt; Jboss Repository for Maven &lt;/ name&gt;
          &lt;url&gt;
             http://repository.jboss.com/maven2/
          &lt;/ url&gt;
          &lt;layout&gt; default &lt;/ layout&gt;
       &lt;/ repository&gt;
    &lt;/ repositories&gt; </pre><br>  As a rule, on sites of large projects they write all the information necessary for embedding their library in a project based on Maven, but there are cases when an artifact has to be searched for for a very, very long time.  Here, <a href="http://mvnrepository.com/">MVNrepository.com</a> can help <a href="http://mvnrepository.com/">us a lot</a> - it will always tell you where the required library can be located.  But if even there was not found, then from my own experience I can advise google " <i>&lt;library name&gt;</i> pom.xml".  It happens that the projects have long been closed and are not supposed to be in the repository because the developers no longer care about their distribution.  Then there is only one way - to add the file to the repository manually with the command: <br><br><pre>    mvn install: install-file
      -Dfile = &lt;path-to-file&gt;
      -DgroupId = &lt;group-id&gt;
      -DartifactId = &lt;artifact-id&gt;
      -Dversion = &lt;version&gt;
      -Dpackaging = &lt;packaging&gt;
</pre><br>  The last parameter most often matters jar. <br><br><h1>  Plugins </h1><br>  Since plugins are the same artifacts as dependencies, they are described almost the same.  Instead of the dependencies section - plugins, dependency - plugin, repositories - pluginRepositories, repository - pluginRepository. <br><br>  With Maven plug-ins, everything does, even directly, what it was for - the project build, only this plug-in is not necessary to be specified in the project properties, unless you want to add some features. <br><br>  Let's see how to set up a plugin to create a project for Eclipse using WTP ver.  2.0.  In the plugins section of our pom.xml, we write the following plugin: <br><pre>        
    &lt;plugin&gt;
       &lt;groupId&gt; org.apache.maven.plugins &lt;/ groupId&gt;
       &lt;artifactId&gt; maven-eclipse-plugin &lt;/ artifactId&gt;
       &lt;configuration&gt;
          &lt;wtpversion&gt; 2.0 &lt;/ wtpversion&gt;
       &lt;/ configuration&gt;
    &lt;/ plugin&gt;
</pre><br>  Now we go again to the command line and execute the command <br><br><pre>  mvn eclipse: eclipse </pre><br>  We are waiting for Maven to find all the libraries in the repository or to download them and voila - now our Maven project can be opened as an eclipse project.  At the same time, libraries are not copied anywhere as with the classical approach, but remain in the repository and Eclipse makes reference to them through its variables. <br><br>  Naturally, there is no single list of all plugins, the <a href="http://maven.apache.org/plugins/">official site</a> only has plugins supported directly by Maven developers.  However, I would like to note that the names of the plug-ins are quite straightforward, and by doing a search for the keywords ‚Äúmaven tomcat plugin‚Äù you will most likely find the plugin for the deployment of the project in Tomcat as the first link. <br><br><h1>  Own repository </h1><br>  Unfortunately, I myself do not have much experience configuring the repository, but I can advise as the most simple and common Nexus.  For more information please refer to the <a href="http://nexus.sonatype.org/">site of this project</a> . <br><br>  However, it is impossible to ignore the worthy competitors in the face of <a href="http://www.jfrog.org/products.php">Artifactory</a> and <a href="http://archiva.apache.org/">Archiva</a> . <br><br><h1>  Conclusion </h1><br>  I really hope that the goal of this article has been achieved - the minimum knowledge of Maven should be enough to work with not very large projects.  For more serious purposes, I strongly advise you to examine in detail the maven-compiler-plugin and maven-resource-plugin - they are directly responsible for the final layout of the project.  I believe that the most important point in learning Maven is an understanding of ideology - Maven describes the final structure of the project, and not the way to achieve it, unlike Ant. <br><hr>  <b>useful links</b> <br>  <a href="http://maven.apache.org/index.html">Official Maven Page</a> <br>  <a href="http://maven.apache.org/guides/index.html">Documentation</a> <br>  <a href="http://repo1.maven.org/maven2/">Central repository</a> <br>  <a href="http://mirrors.ibiblio.org/pub/mirrors/maven2/">IBiblio repository</a> <br>  <a href="http://mvnrepository.com/">Search artifacts by name</a> <br>  <a href="http://old.nabble.com/Maven-f177.html">Nice Maven Forum</a> <br>  <a href="http://www.sonatype.com/books/maven-book/reference/">Maven: The Definitive Guide</a> - A Good Book by Maven </div><p>Source: <a href="https://habr.com/ru/post/77382/">https://habr.com/ru/post/77382/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../77372/index.html">Those on whom the connection rests</a></li>
<li><a href="../77373/index.html">Sensor Examples for Windows 7</a></li>
<li><a href="../77375/index.html">KDE Software Compilation 4.4 Beta1 Released</a></li>
<li><a href="../77377/index.html">Perfect Bureaucrat</a></li>
<li><a href="../77380/index.html">Wappalyzer began to recognize popular CMS in Russia</a></li>
<li><a href="../77383/index.html">Cisco Unequal Load Balancing with two providers, NAT and static gateways</a></li>
<li><a href="../77384/index.html">The Japanese company Panasonic is preparing to stop the conveyor belt in 2010 with the iconic labor tool of DJs - Technics vinyl players.</a></li>
<li><a href="../77385/index.html">WimaxYota for 2.6.31-14-generic (netbook Remix ubuntu 9.10, intel 5150)</a></li>
<li><a href="../77386/index.html">Pleasant trifle for habracheloveka</a></li>
<li><a href="../77389/index.html">Easter egg in a notebook and calculator</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>