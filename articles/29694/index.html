<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Hibernate Basics</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="I want to begin by thanking the person who threw karma yesterday, allowing me to write to my personal blog. 

 I thought for a long time about what to...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Hibernate Basics</h1><div class="post__text post__text-html js-mediator-article"><img src="http://hibernate.org/tpl/jboss/img/01_oben_logo.gif"><br><br>  I want to begin by thanking the person who threw karma yesterday, allowing me to write to my personal blog. <br><br>  I thought for a long time about what to write my ‚Äúfirst‚Äù topic ... It was not for nothing that I took the first word in quotes, since the first topic was already in fact, the experience was unfortunately unsuccessful - the matter ended with a ban.  Decided not to copy-paste anymore.  Confidence that it is necessary to write something of their own, gave this one <a href="http://ldev.habrahabr.ru/blog/46996.html">topic</a> .  I decided firmly - let it be rare, but I will write myself. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Well, we go further! <br><br>  Most recently, by the nature of my activity, I had to face such a concept as <a href="http://ru.wikipedia.org/wiki/ORM">ORM</a> - (eng. Object-relational mapping).  In a nutshell, ORM is the mapping of objects from an object-oriented language into relational database structures.  It is the objects, such as they are, with all the fields, values, relationships m / y each other. <br><a name="habracut"></a><br>  The ORM solution for the <a href="http://ru.wikipedia.org/wiki/Java">Java</a> language is <a href="http://ru.wikipedia.org/wiki/Hibernate_(%25D0%25B1%25D0%25B8%25D0%25B1%25D0%25BB%25D0%25B8%25D0%25BE%25D1%2582%25D0%25B5%25D0%25BA%25D0%25B0)">Hibernate</a> technology, which not only takes care of associating Java classes with database tables (and Java data types into <a href="http://ru.wikipedia.org/wiki/Sql">SQL</a> data types), but also provides tools for automatically building queries and extracting data and can significantly reduce the time development, which is usually spent on manually writing SQL and <a href="http://ru.wikipedia.org/wiki/Jdbc">JDBC</a> code.  Hibernate generates SQL calls and frees the developer from manually processing the resulting dataset and converting objects, keeping the application portable to all SQL databases. <br><br>  So, we have the task to write a small application that would carry out a simple interaction with the database, using Hibernate technology. <br><br>  A little thought, I decided to write the so-called "Virtual fleet".  The essence of the park is this: there are buses, there are routes and there are drivers.  Buses and routes are connected by a one-to-many relationship, i.e.  on one route can ride several buses at once.  Drivers and buses are related to many to many, i.e.  one driver can drive different buses and one bus can drive different drivers.  It seems nothing complicated. <br>  Here is the database schema. <br><img src="https://habrastorage.org/getpro/habr/olpictures/023/1d6/944/0231d69447d4d0fb7981cff487806dcb.jpg" width="450" height="256" hspace="10" vspace="10"><br>  For quality, do not scold - there was not a normal tool for drawing plates near at hand ... <br>  Here is a <a href="http://rapidshare.com/files/131443317/dump.txt.html">link to the dump</a> , taken from the base, suddenly someone decides to raise the whole thing :) <br>  Getting to the code.  First, we need to describe the classes of our entities, i.e.  class bus, driver and route. <br>  Class bus. <br><blockquote>  <font color="black">package logic;</font> <font color="black"><br><br></font>  <font color="black">import java.util.Set;</font> <font color="black"><br></font>  <font color="black">import java.util.HashSet;</font> <font color="black"><br><br></font>  <font color="black"><font color="#0000ff">public</font> <font color="#0000ff">class</font> Bus {</font> <font color="black"><br></font>  <font color="black"><font color="#0000ff">private</font> Long id;</font> <font color="black"><br></font>  <font color="black"><font color="#0000ff">private</font> <font color="#2B91AF">String</font> number;</font> <font color="black"><br></font>  <font color="black"><font color="#0000ff">private</font> Set drivers = <font color="#0000ff">new</font> HashSet ();</font> <font color="black"><br></font>  <font color="black"><font color="#0000ff">private</font> Long route_id;</font> <font color="black"><br><br></font>  <font color="black"><font color="#0000ff">public</font> Bus () {</font> <font color="black"><br></font>  <font color="black">}</font> <font color="black"><br></font>  <font color="black"><font color="#0000ff">public</font> <font color="#0000ff">void</font> setId (Long id) {</font> <font color="black"><br></font>  <font color="black"><font color="#0000ff">this</font> .id = id;</font> <font color="black"><br></font>  <font color="black">}</font> <font color="black"><br></font>  <font color="black"><font color="#0000ff">public</font> <font color="#0000ff">void</font> setNumber ( <font color="#2B91AF">String</font> number) {</font> <font color="black"><br></font>  <font color="black"><font color="#0000ff">this</font> .number = number;</font> <font color="black"><br></font>  <font color="black">}</font> <font color="black"><br></font>  <font color="black"><font color="#0000ff">public</font> <font color="#0000ff">void</font> setDrivers (Set drivers) {</font> <font color="black"><br></font>  <font color="black"><font color="#0000ff">this</font> .drivers = drivers;</font> <font color="black"><br></font>  <font color="black">}</font> <font color="black"><br></font>  <font color="black"><font color="#0000ff">public</font> <font color="#0000ff">void</font> setRoute_id (Long route_id) {</font> <font color="black"><br></font>  <font color="black"><font color="#0000ff">this</font> .route_id = route_id;</font> <font color="black"><br></font>  <font color="black">}</font> <font color="black"><br></font>  <font color="black"><font color="#0000ff">public</font> Long getId () {</font> <font color="black"><br></font>  <font color="black"><font color="#0000ff">return</font> id;</font> <font color="black"><br></font>  <font color="black">}</font> <font color="black"><br></font>  <font color="black"><font color="#0000ff">public</font> <font color="#2B91AF">String</font> getNumber () {</font> <font color="black"><br></font>  <font color="black"><font color="#0000ff">return</font> number;</font> <font color="black"><br></font>  <font color="black">}</font> <font color="black"><br></font>  <font color="black"><font color="#0000ff">public</font> Set getDrivers () {</font> <font color="black"><br></font>  <font color="black"><font color="#0000ff">return</font> drivers;</font> <font color="black"><br></font>  <font color="black">}</font> <font color="black"><br></font>  <font color="black"><font color="#0000ff">public</font> Long getRoute_id () {</font> <font color="black"><br></font>  <font color="black"><font color="#0000ff">return</font> route_id;</font> <font color="black"><br></font>  <font color="black">}</font> <font color="black"><br></font>  <font color="black">}</font> <font color="gray">* This source code was highlighted with <a href="http://source.virtser.net/"><font color="gray">Source Code Highlighter</font></a> .</font> </blockquote><br>  Class driver. <br><blockquote>  <font color="black">package logic;</font> <font color="black"><br><br></font>  <font color="black">import java.util.Set;</font> <font color="black"><br></font>  <font color="black">import java.util.HashSet;</font> <font color="black"><br><br></font>  <font color="black"><font color="#0000ff">public</font> <font color="#0000ff">class</font> Driver {</font> <font color="black"><br></font>  <font color="black"><font color="#0000ff">private</font> Long id;</font> <font color="black"><br></font>  <font color="black"><font color="#0000ff">private</font> <font color="#2B91AF">String</font> name;</font> <font color="black"><br></font>  <font color="black"><font color="#0000ff">private</font> <font color="#2B91AF">String</font> surname;</font> <font color="black"><br></font>  <font color="black"><font color="#0000ff">private</font> <font color="#0000ff">int</font> age;</font> <font color="black"><br></font>  <font color="black"><font color="#0000ff">private</font> Set busses = <font color="#0000ff">new</font> HashSet ();</font> <font color="black"><br><br></font>  <font color="black"><font color="#0000ff">public</font> Driver () {</font> <font color="black"><br></font>  <font color="black">}</font> <font color="black"><br></font>  <font color="black"><font color="#0000ff">public</font> <font color="#0000ff">void</font> setBusses (Set busses) {</font> <font color="black"><br></font>  <font color="black"><font color="#0000ff">this</font> .busses = busses;</font> <font color="black"><br></font>  <font color="black">}</font> <font color="black"><br></font>  <font color="black"><font color="#0000ff">public</font> Set getBusses () {</font> <font color="black"><br></font>  <font color="black"><font color="#0000ff">return</font> busses;</font> <font color="black"><br></font>  <font color="black">}</font> <font color="black"><br></font>  <font color="black"><font color="#0000ff">public</font> <font color="#0000ff">void</font> setId (Long id) {</font> <font color="black"><br></font>  <font color="black"><font color="#0000ff">this</font> .id = id;</font> <font color="black"><br></font>  <font color="black">}</font> <font color="black"><br></font>  <font color="black"><font color="#0000ff">public</font> <font color="#0000ff">void</font> setName ( <font color="#2B91AF">String</font> name) {</font> <font color="black"><br></font>  <font color="black"><font color="#0000ff">this</font> .name = name;</font> <font color="black"><br></font>  <font color="black">}</font> <font color="black"><br></font>  <font color="black"><font color="#0000ff">public</font> <font color="#0000ff">void</font> setSurname ( <font color="#2B91AF">String</font> surname) {</font> <font color="black"><br></font>  <font color="black"><font color="#0000ff">this</font> .surname = surname;</font> <font color="black"><br></font>  <font color="black">}</font> <font color="black"><br></font>  <font color="black"><font color="#0000ff">public</font> <font color="#0000ff">void</font> setAge ( <font color="#0000ff">int</font> age) {</font> <font color="black"><br></font>  <font color="black"><font color="#0000ff">this</font> .age = age;</font> <font color="black"><br></font>  <font color="black">}</font> <font color="black"><br></font>  <font color="black"><font color="#0000ff">public</font> Long getId () {</font> <font color="black"><br></font>  <font color="black"><font color="#0000ff">return</font> id;</font> <font color="black"><br></font>  <font color="black">}</font> <font color="black"><br></font>  <font color="black"><font color="#0000ff">public</font> <font color="#2B91AF">String</font> getName () {</font> <font color="black"><br></font>  <font color="black"><font color="#0000ff">return</font> name;</font> <font color="black"><br></font>  <font color="black">}</font> <font color="black"><br></font>  <font color="black"><font color="#0000ff">public</font> <font color="#2B91AF">String</font> getSurname () {</font> <font color="black"><br></font>  <font color="black"><font color="#0000ff">return</font> surname;</font> <font color="black"><br></font>  <font color="black">}</font> <font color="black"><br></font>  <font color="black"><font color="#0000ff">public</font> <font color="#0000ff">int</font> getAge () {</font> <font color="black"><br></font>  <font color="black"><font color="#0000ff">return</font> age;</font> <font color="black"><br></font>  <font color="black">}</font> <font color="black"><br></font>  <font color="black">}</font> <font color="gray">* This source code was highlighted with <a href="http://source.virtser.net/"><font color="gray">Source Code Highlighter</font></a> .</font> </blockquote><br>  And class route. <br><blockquote>  <font color="black">package logic;</font> <font color="black"><br><br></font>  <font color="black">import java.util.Set;</font> <font color="black"><br></font>  <font color="black">import java.util.HashSet;</font> <font color="black"><br><br></font>  <font color="black"><font color="#0000ff">public</font> <font color="#0000ff">class</font> Route {</font> <font color="black"><br></font>  <font color="black"><font color="#0000ff">private</font> Long id;</font> <font color="black"><br></font>  <font color="black"><font color="#0000ff">private</font> <font color="#2B91AF">String</font> name;</font> <font color="black"><br></font>  <font color="black"><font color="#0000ff">private</font> <font color="#0000ff">int</font> number;</font> <font color="black"><br></font>  <font color="black"><font color="#0000ff">private</font> Set busses = <font color="#0000ff">new</font> HashSet ();</font> <font color="black"><br><br></font>  <font color="black"><font color="#0000ff">public</font> Route () {</font> <font color="black"><br></font>  <font color="black">}</font> <font color="black"><br></font>  <font color="black"><font color="#0000ff">public</font> <font color="#0000ff">void</font> setId (Long id) {</font> <font color="black"><br></font>  <font color="black"><font color="#0000ff">this</font> .id = id;</font> <font color="black"><br></font>  <font color="black">}</font> <font color="black"><br></font>  <font color="black"><font color="#0000ff">public</font> <font color="#0000ff">void</font> setName ( <font color="#2B91AF">String</font> name) {</font> <font color="black"><br></font>  <font color="black"><font color="#0000ff">this</font> .name = name;</font> <font color="black"><br></font>  <font color="black">}</font> <font color="black"><br></font>  <font color="black"><font color="#0000ff">public</font> <font color="#0000ff">void</font> setNumber ( <font color="#0000ff">int</font> number) {</font> <font color="black"><br></font>  <font color="black"><font color="#0000ff">this</font> .number = number;</font> <font color="black"><br></font>  <font color="black">}</font> <font color="black"><br></font>  <font color="black"><font color="#0000ff">public</font> <font color="#0000ff">void</font> setBusses (Set busses) {</font> <font color="black"><br></font>  <font color="black"><font color="#0000ff">this</font> .busses = busses;</font> <font color="black"><br></font>  <font color="black">}</font> <font color="black"><br></font>  <font color="black"><font color="#0000ff">public</font> Long getId () {</font> <font color="black"><br></font>  <font color="black"><font color="#0000ff">return</font> id;</font> <font color="black"><br></font>  <font color="black">}</font> <font color="black"><br></font>  <font color="black"><font color="#0000ff">public</font> <font color="#2B91AF">String</font> getName () {</font> <font color="black"><br></font>  <font color="black"><font color="#0000ff">return</font> name;</font> <font color="black"><br></font>  <font color="black">}</font> <font color="black"><br></font>  <font color="black"><font color="#0000ff">public</font> <font color="#0000ff">int</font> getNumber () {</font> <font color="black"><br></font>  <font color="black"><font color="#0000ff">return</font> number;</font> <font color="black"><br></font>  <font color="black">}</font> <font color="black"><br></font>  <font color="black"><font color="#0000ff">public</font> Set getBusses () {</font> <font color="black"><br></font>  <font color="black"><font color="#0000ff">return</font> busses;</font> <font color="black"><br></font>  <font color="black">}</font> <font color="black"><br></font>  <font color="black">}</font> <font color="gray">* This source code was highlighted with <a href="http://source.virtser.net/"><font color="gray">Source Code Highlighter</font></a> .</font> </blockquote><br>  Note that all entity classes must comply with <a href="http://java.sun.com/docs/codeconv/html/CodeConventions.doc8.html">Java naming conventions</a> , i.e.  they must have getters, setters, and a default constructor.  Nothing complicated :) <br><br>  Now for our classes it is necessary to describe the mapping as <a href="http://ru.wikipedia.org/wiki/XML">xml</a> files, these files will be responsible for the interaction of our objects with Hibernate and with the database. <br>  <strong>Bus.hbm.xml</strong> <br><blockquote>  <font color="black"><font color="#0000ff">&lt;</font> <font color="#800000">hibernate-mapping</font> <font color="#0000ff">&gt;</font></font> <font color="black"><br></font>  <font color="black"><font color="#0000ff">&lt;</font> <font color="#800000">class</font> <font color="#ff0000">name</font> <font color="#0000ff">= "logic.Bus"</font> <font color="#ff0000">table</font> <font color="#0000ff">= "busses"</font> <font color="#0000ff">&gt;</font></font> <font color="black"><br></font>  <font color="black"><font color="#0000ff">&lt;</font> <font color="#800000">id</font> <font color="#ff0000">column</font> <font color="#0000ff">= "bus_id"</font> <font color="#ff0000">name</font> <font color="#0000ff">= "id"</font> <font color="#ff0000">type</font> <font color="#0000ff">= "java.lang.Long"</font> <font color="#0000ff">&gt;</font></font> <font color="black"><br></font>  <font color="black"><font color="#0000ff">&lt;</font> <font color="#800000">generator</font> <font color="#ff0000">class</font> <font color="#0000ff">= "increment"</font> <font color="#0000ff">/&gt;</font></font> <font color="black"><br></font>  <font color="black"><font color="#0000ff">&lt;/</font> <font color="#800000">id</font> <font color="#0000ff">&gt;</font></font> <font color="black"><br></font>  <font color="black"><font color="#0000ff">&lt;</font> <font color="#800000">property</font> <font color="#ff0000">column</font> <font color="#0000ff">= "number"</font> <font color="#ff0000">name</font> <font color="#0000ff">= "number"</font> <font color="#ff0000">type</font> <font color="#0000ff">= "java.lang.String"</font> <font color="#0000ff">/&gt;</font></font> <font color="black"><br><br></font>  <font color="black"><font color="#0000ff">&lt;</font> <font color="#800000">set</font> <font color="#ff0000">name</font> <font color="#0000ff">= "drivers"</font> <font color="#ff0000">table</font> <font color="#0000ff">= "busDriver"</font> <font color="#ff0000">lazy</font> <font color="#0000ff">= "false"</font> <font color="#0000ff">&gt;</font></font> <font color="black"><br></font>  <font color="black"><font color="#0000ff">&lt;</font> <font color="#800000">key</font> <font color="#ff0000">column</font> <font color="#0000ff">= "bus_id"</font> <font color="#0000ff">/&gt;</font></font> <font color="black"><br></font>  <font color="black"><font color="#0000ff">&lt;</font> <font color="#800000">many-to-many</font> <font color="#ff0000">column</font> <font color="#0000ff">= "driver_id"</font> <font color="#ff0000">class</font> <font color="#0000ff">= "logic.Driver"</font> <font color="#0000ff">/&gt;</font></font> <font color="black"><br></font>  <font color="black"><font color="#0000ff">&lt;/</font> <font color="#800000">set</font> <font color="#0000ff">&gt;</font></font> <font color="black"><br><br></font>  <font color="black"><font color="#0000ff">&lt;/</font> <font color="#800000">class</font> <font color="#0000ff">&gt;</font></font> <font color="black"><br></font>  <font color="black"><font color="#0000ff">&lt;/</font> <font color="#800000">hibernate-mapping</font> <font color="#0000ff">&gt;</font></font> <font color="gray">* This code was highlighted with the <a href="http://source.virtser.net/"><font color="gray">Source Code Highlighter</font></a> .</font> </blockquote><br><br>  <strong>Driver.hbm.xml</strong> <br><blockquote>  <font color="black"><font color="#0000ff">&lt;</font> <font color="#800000">hibernate-mapping</font> <font color="#0000ff">&gt;</font></font> <font color="black"><br></font>  <font color="black"><font color="#0000ff">&lt;</font> <font color="#800000">class</font> <font color="#ff0000">name</font> <font color="#0000ff">= "logic.Driver"</font> <font color="#ff0000">table</font> <font color="#0000ff">= "drivers"</font> <font color="#0000ff">&gt;</font></font> <font color="black"><br></font>  <font color="black"><font color="#0000ff">&lt;</font> <font color="#800000">id</font> <font color="#ff0000">column</font> <font color="#0000ff">= "driver_id"</font> <font color="#ff0000">name</font> <font color="#0000ff">= "id"</font> <font color="#ff0000">type</font> <font color="#0000ff">= "java.lang.Long"</font> <font color="#0000ff">&gt;</font></font> <font color="black"><br></font>  <font color="black"><font color="#0000ff">&lt;</font> <font color="#800000">generator</font> <font color="#ff0000">class</font> <font color="#0000ff">= "increment"</font> <font color="#0000ff">/&gt;</font></font> <font color="black"><br></font>  <font color="black"><font color="#0000ff">&lt;/</font> <font color="#800000">id</font> <font color="#0000ff">&gt;</font></font> <font color="black"><br></font>  <font color="black"><font color="#0000ff">&lt;</font> <font color="#800000">property</font> <font color="#ff0000">column</font> <font color="#0000ff">= "name"</font> <font color="#ff0000">name</font> <font color="#0000ff">= "name"</font> <font color="#ff0000">type</font> <font color="#0000ff">= "java.lang.String"</font> <font color="#0000ff">/&gt;</font></font> <font color="black"><br></font>  <font color="black"><font color="#0000ff">&lt;</font> <font color="#800000">property</font> <font color="#ff0000">column</font> <font color="#0000ff">= "surname"</font> <font color="#ff0000">name</font> <font color="#0000ff">= "surname"</font> <font color="#ff0000">type</font> <font color="#0000ff">= "java.lang.String"</font> <font color="#0000ff">/&gt;</font></font> <font color="black"><br></font>  <font color="black"><font color="#0000ff">&lt;</font> <font color="#800000">property</font> <font color="#ff0000">column</font> <font color="#0000ff">= "age"</font> <font color="#ff0000">name</font> <font color="#0000ff">= "age"</font> <font color="#ff0000">type</font> <font color="#0000ff">= "java.lang.Integer"</font> <font color="#0000ff">/&gt;</font></font> <font color="black"><br><br></font>  <font color="black"><font color="#0000ff">&lt;</font> <font color="#800000">set</font> <font color="#ff0000">name</font> <font color="#0000ff">= "busses"</font> <font color="#ff0000">table</font> <font color="#0000ff">= "busDriver"</font> <font color="#ff0000">lazy</font> <font color="#0000ff">= "false"</font> <font color="#0000ff">&gt;</font></font> <font color="black"><br></font>  <font color="black"><font color="#0000ff">&lt;</font> <font color="#800000">key</font> <font color="#ff0000">column</font> <font color="#0000ff">= "driver_id"</font> <font color="#0000ff">/&gt;</font></font> <font color="black"><br></font>  <font color="black"><font color="#0000ff">&lt;</font> <font color="#800000">many-to-many</font> <font color="#ff0000">column</font> <font color="#0000ff">= "bus_id"</font> <font color="#ff0000">class</font> <font color="#0000ff">= "logic.Bus"</font> <font color="#0000ff">/&gt;</font></font> <font color="black"><br></font>  <font color="black"><font color="#0000ff">&lt;/</font> <font color="#800000">set</font> <font color="#0000ff">&gt;</font></font> <font color="black"><br><br></font>  <font color="black"><font color="#0000ff">&lt;/</font> <font color="#800000">class</font> <font color="#0000ff">&gt;</font></font> <font color="black"><br></font>  <font color="black"><font color="#0000ff">&lt;/</font> <font color="#800000">hibernate-mapping</font> <font color="#0000ff">&gt;</font></font> <font color="gray">* This code was highlighted with the <a href="http://source.virtser.net/"><font color="gray">Source Code Highlighter</font></a> .</font> </blockquote><br>  <strong>Route.hbm.xml</strong> <br><blockquote>  <font color="black"><font color="#0000ff">&lt;</font> <font color="#800000">hibernate-mapping</font> <font color="#0000ff">&gt;</font></font> <font color="black"><br></font>  <font color="black"><font color="#0000ff">&lt;</font> <font color="#800000">class</font> <font color="#ff0000">name</font> <font color="#0000ff">= "logic.Route"</font> <font color="#ff0000">table</font> <font color="#0000ff">= "routes"</font> <font color="#0000ff">&gt;</font></font> <font color="black"><br></font>  <font color="black"><font color="#0000ff">&lt;</font> <font color="#800000">id</font> <font color="#ff0000">column</font> <font color="#0000ff">= "route_id"</font> <font color="#ff0000">name</font> <font color="#0000ff">= "id"</font> <font color="#ff0000">type</font> <font color="#0000ff">= "java.lang.Long"</font> <font color="#0000ff">&gt;</font></font> <font color="black"><br></font>  <font color="black"><font color="#0000ff">&lt;</font> <font color="#800000">generator</font> <font color="#ff0000">class</font> <font color="#0000ff">= "increment"</font> <font color="#0000ff">/&gt;</font></font> <font color="black"><br></font>  <font color="black"><font color="#0000ff">&lt;/</font> <font color="#800000">id</font> <font color="#0000ff">&gt;</font></font> <font color="black"><br></font>  <font color="black"><font color="#0000ff">&lt;</font> <font color="#800000">property</font> <font color="#ff0000">column</font> <font color="#0000ff">= "name"</font> <font color="#ff0000">name</font> <font color="#0000ff">= "name"</font> <font color="#ff0000">type</font> <font color="#0000ff">= "java.lang.String"</font> <font color="#0000ff">/&gt;</font></font> <font color="black"><br></font>  <font color="black"><font color="#0000ff">&lt;</font> <font color="#800000">property</font> <font color="#ff0000">column</font> <font color="#0000ff">= "number"</font> <font color="#ff0000">name</font> <font color="#0000ff">= "number"</font> <font color="#ff0000">type</font> <font color="#0000ff">= "java.lang.Integer"</font> <font color="#0000ff">/&gt;</font></font> <font color="black"><br><br></font>  <font color="black"><font color="#0000ff">&lt;</font> <font color="#800000">set</font> <font color="#ff0000">name</font> <font color="#0000ff">= "busses"</font> <font color="#ff0000">lazy</font> <font color="#0000ff">= "false"</font> <font color="#0000ff">&gt;</font></font> <font color="black"><br></font>  <font color="black"><font color="#0000ff">&lt;</font> <font color="#800000">key</font> <font color="#ff0000">column</font> <font color="#0000ff">= "route_id"</font> <font color="#0000ff">/&gt;</font></font> <font color="black"><br></font>  <font color="black"><font color="#0000ff">&lt;</font> <font color="#800000">one-to-many</font> <font color="#ff0000">class</font> <font color="#0000ff">= "logic.Bus"</font> <font color="#0000ff">/&gt;</font></font> <font color="black"><br></font>  <font color="black"><font color="#0000ff">&lt;/</font> <font color="#800000">set</font> <font color="#0000ff">&gt;</font></font> <font color="black"><br><br></font>  <font color="black"><font color="#0000ff">&lt;/</font> <font color="#800000">class</font> <font color="#0000ff">&gt;</font></font> <font color="black"><br></font>  <font color="black"><font color="#0000ff">&lt;/</font> <font color="#800000">hibernate-mapping</font> <font color="#0000ff">&gt;</font></font> <font color="gray">* This code was highlighted with the <a href="http://source.virtser.net/"><font color="gray">Source Code Highlighter</font></a> .</font> </blockquote><br>  Now let's take a little look at these xml pasta :) <br><ul><li>  I think the <strong>hibernate-mapping</strong> tag is understandable, it's not worth saying anything here. </li><li>  The <strong>class</strong> tag has two parameters: name parameter - class name (you must specify the full path, taking into account the package structure) and table parameter - the name of the table in the database to which our class will be mapped. </li><li>  The <strong>id</strong> tag describes the id.  The column parameter indicates which column in the table will refer to the id field of our object, just specify the class and specify the generator, which is responsible for generating id. </li><li>  The <strong>property</strong> tag describes a simple field of our object, as parameters we specify the name of the field, its class and the name of the column in the table. </li><li>  The <strong>set</strong> tag describes a field that contains a certain collection (collection) of objects.  The tag contains the name parameter ‚Äî the name of the field of our object, the table parameter ‚Äî the name of the link table (in the case of many-to-many relationships) and the <strong>lazy</strong> parameter.  Lazy, if my memory fails me, from English - lazy.  The so-called lazy collections, now I will try to explain more clearly.  When we specify false in the lazy parameter, then when we receive a Route object from the database, along with the object, we get a collection of Bus objects, since busses is a field of the Route object.  And if as a parameter we specify the value true, then the collection of Bus objects is not pulled out; to get it, we must explicitly call the route.getBusses () method.  Here we assume such a very good example.  There is a city object, it includes an array of districts, in each district there is an array of streets, in every street there is an array of houses, and so on, to people living in apartments.  Suppose we want to pull out the names of districts from the database.  If we specify <strong>lazy = false</strong> , then besides the area we will have a huge amount of ‚Äúunnecessary‚Äù data, if <strong>lazy = true</strong> , then we get what we need and nothing ligni. </li><li>  The <strong>key</strong> tag has a column parameter that says which column in the link table will be referenced by the field of our object. </li><li>  The <strong>many-to-many</strong> tag describes a <strong>many-to-many</strong> relationship; the tag uses column as parameters ‚Äî the column name of the second column in the link table and the class parameter, which indicates what class will be on the other side. </li></ul><br><br>  Now we will create the main configuration file <strong>hibernate.cfg.xml</strong> , the file from which it will pull all the information it needs. <br><blockquote>  <font color="black"><font color="#0000ff">&lt;</font> <font color="#800000">hibernate-configuration</font> <font color="#0000ff">&gt;</font></font> <font color="black"><br><br></font>  <font color="black"><font color="#0000ff">&lt;</font> <font color="#800000">session-factory</font> <font color="#0000ff">&gt;</font></font> <font color="black"><br></font>  <font color="black"><font color="#0000ff">&lt;</font> <font color="#800000">property</font> <font color="#ff0000">name</font> <font color="#0000ff">= "connection.url"</font> <font color="#0000ff">&gt;</font> jdbc: mysql: // localhost / autopark <font color="#0000ff">&lt;/</font> <font color="#800000">property</font> <font color="#0000ff">&gt;</font></font> <font color="black"><br></font>  <font color="black"><font color="#0000ff">&lt;</font> <font color="#800000">property</font> <font color="#ff0000">name</font> <font color="#0000ff">= "connection.driver_class"</font> <font color="#0000ff">&gt;</font> com.mysql.jdbc.Driver <font color="#0000ff">&lt;/</font> <font color="#800000">property</font> <font color="#0000ff">&gt;</font></font> <font color="black"><br></font>  <font color="black"><font color="#0000ff">&lt;</font> <font color="#800000">property</font> <font color="#ff0000">name</font> <font color="#0000ff">= "connection.username"</font> <font color="#0000ff">&gt;</font> root <font color="#0000ff">&lt;/</font> <font color="#800000">property</font> <font color="#0000ff">&gt;</font></font> <font color="black"><br></font>  <font color="black"><font color="#0000ff">&lt;</font> <font color="#800000">property</font> <font color="#ff0000">name</font> <font color="#0000ff">= "connection.password"</font> <font color="#0000ff">/&gt;</font></font> <font color="black"><br></font>  <font color="black"><font color="#0000ff">&lt;</font> <font color="#800000">property</font> <font color="#ff0000">name</font> <font color="#0000ff">= "connection.pool_size"</font> <font color="#0000ff">&gt;</font> 1 <font color="#0000ff">&lt;/</font> <font color="#800000">property</font> <font color="#0000ff">&gt;</font></font> <font color="black"><br></font>  <font color="black"><font color="#0000ff">&lt;</font> <font color="#800000">property</font> <font color="#ff0000">name</font> <font color="#0000ff">= "current_session_context_class"</font> <font color="#0000ff">&gt;</font> thread <font color="#0000ff">&lt;/</font> <font color="#800000">property</font> <font color="#0000ff">&gt;</font></font> <font color="black"><br></font>  <font color="black"><font color="#0000ff">&lt;</font> <font color="#800000">property</font> <font color="#ff0000">name</font> <font color="#0000ff">= "show_sql"</font> <font color="#0000ff">&gt;</font> true <font color="#0000ff">&lt;/</font> <font color="#800000">property</font> <font color="#0000ff">&gt;</font></font> <font color="black"><br></font>  <font color="black"><font color="#0000ff">&lt;</font> <font color="#800000">property</font> <font color="#ff0000">name</font> <font color="#0000ff">= "dialect"</font> <font color="#0000ff">&gt;</font> org.hibernate.dialect.MySQL5Dialect <font color="#0000ff">&lt;/</font> <font color="#800000">property</font> <font color="#0000ff">&gt;</font></font> <font color="black"><br><br></font>  <font color="black"><font color="#0000ff">&lt;</font> <font color="#800000">mapping</font> <font color="#ff0000">resource</font> <font color="#0000ff">= "logic / Bus.hbm.xml"</font> <font color="#0000ff">/&gt;</font></font> <font color="black"><br></font>  <font color="black"><font color="#0000ff">&lt;</font> <font color="#800000">mapping</font> <font color="#ff0000">resource</font> <font color="#0000ff">= "logic / Driver.hbm.xml"</font> <font color="#0000ff">/&gt;</font></font> <font color="black"><br></font>  <font color="black"><font color="#0000ff">&lt;</font> <font color="#800000">mapping</font> <font color="#ff0000">resource</font> <font color="#0000ff">= "logic / Route.hbm.xml"</font> <font color="#0000ff">/&gt;</font></font> <font color="black"><br><br></font>  <font color="black"><font color="#0000ff">&lt;/</font> <font color="#800000">session-factory</font> <font color="#0000ff">&gt;</font></font> <font color="black"><br><br></font>  <font color="black"><font color="#0000ff">&lt;/</font> <font color="#800000">hibernate-configuration</font> <font color="#0000ff">&gt;</font></font> <font color="gray">This source code was highlighted with <a href="http://source.virtser.net/"><font color="gray">Source Code Highlighter</font></a> .</font> </blockquote><br>  Here I will not particularly go into the explanation, I think many people understand everything :) I will say that you only need to remember to add the <strong>mapping</strong> tag at the end and specify the configuration files of your beans as a parameter <strong>resources</strong> . <br><br>  Now we will create a class that will hack our config file and return us an object of type <strong>SessionFactory</strong> , which is responsible for creating a hibernate session. <br><blockquote>  <font color="black">package util;</font> <font color="black"><br><br></font>  <font color="black">import org.hibernate.cfg.Configuration;</font> <font color="black"><br></font>  <font color="black">import org.hibernate.SessionFactory;</font> <font color="black"><br><br></font>  <font color="black"><font color="#0000ff">public</font> <font color="#0000ff">class</font> HibernateUtil {</font> <font color="black"><br></font>  <font color="black"><font color="#0000ff">private</font> <font color="#0000ff">static</font> final SessionFactory sessionFactory;</font> <font color="black"><br></font>  <font color="black"><font color="#0000ff">static</font> {</font> <font color="black"><br></font>  <font color="black"><font color="#0000ff">try</font> {</font> <font color="black"><br></font>  <font color="black">sessionFactory = <font color="#0000ff">new</font> Configuration (). configure (). buildSessionFactory ();</font> <font color="black"><br></font>  <font color="black">} <font color="#0000ff">catch</font> (Throwable ex) {</font> <font color="black"><br></font>  <font color="black">System.err.println ( <font color="#A31515">‚ÄúInitial SessionFactory creation failed.‚Äù</font> + Ex);</font> <font color="black"><br></font>  <font color="black"><font color="#0000ff">throw</font> <font color="#0000ff">new</font> ExceptionInInitializerError (ex);</font> <font color="black"><br></font>  <font color="black">}</font> <font color="black"><br></font>  <font color="black">}</font> <font color="black"><br><br></font>  <font color="black"><font color="#0000ff">public</font> <font color="#0000ff">static</font> SessionFactory getSessionFactory () {</font> <font color="black"><br></font>  <font color="black"><font color="#0000ff">return</font> sessionFactory;</font> <font color="black"><br></font>  <font color="black">}</font> <font color="black"><br></font>  <font color="black">}</font> <font color="gray">* This source code was highlighted with <a href="http://source.virtser.net/"><font color="gray">Source Code Highlighter</font></a> .</font> </blockquote><br><br>  Now we have to deal with the interaction of our application with the database.  To do this, for each class-entity, we define an interface containing a set of necessary methods (I will give only one interface and one of its implementations, interfaces and implementations for other classes like these.) <br><blockquote>  <font color="black">package DAO;</font> <font color="black"><br><br></font>  <font color="black">import logic.Bus;</font> <font color="black"><br></font>  <font color="black">import logic.Driver;</font> <font color="black"><br></font>  <font color="black">import logic.Route;</font> <font color="black"><br><br></font>  <font color="black">import java.util.Collection;</font> <font color="black"><br></font>  <font color="black">import java.sql.SQLException;</font> <font color="black"><br><br></font>  <font color="black"><font color="#0000ff">public</font> <font color="#0000ff">interface</font> BusDAO {</font> <font color="black"><br></font>  <font color="black"><font color="#0000ff">public</font> <font color="#0000ff">void</font> addBus (Bus bus) throws SQLException;</font> <font color="black"><br></font>  <font color="black"><font color="#0000ff">public</font> <font color="#0000ff">void</font> updateBus (Long bus_id, Bus bus) throws SQLException;</font> <font color="black"><br></font>  <font color="black"><font color="#0000ff">public</font> Bus getBusById (Long bus_id) throws SQLException;</font> <font color="black"><br></font>  <font color="black"><font color="#0000ff">public</font> Collection getAllBusses () throws SQLException;</font> <font color="black"><br></font>  <font color="black"><font color="#0000ff">public</font> <font color="#0000ff">void</font> deleteBus (Bus bus) throws SQLException;</font> <font color="black"><br></font>  <font color="black"><font color="#0000ff">public</font> Collection getBussesByDriver (Driver driver) throws SQLException;</font> <font color="black"><br></font>  <font color="black"><font color="#0000ff">public</font> Collection getBussesByRoute (Route route) throws SQLException;</font> <font color="black"><br><br></font>  <font color="black">}</font> <font color="gray">* This source code was highlighted with <a href="http://source.virtser.net/"><font color="gray">Source Code Highlighter</font></a> .</font> </blockquote><br><br>  Now we define the implementation of this interface in the class <strong>BusDAOImpl</strong> <br><blockquote> <font color="black">package DAO.Impl;</font> <font color="black"><br><br></font>  <font color="black">import DAO.BusDAO;</font> <font color="black"><br></font>  <font color="black">import logic.Bus;</font> <font color="black"><br></font>  <font color="black">import logic.Driver;</font> <font color="black"><br></font>  <font color="black">import logic.Route;</font> <font color="black"><br></font>  <font color="black">import java.sql.SQLException;</font> <font color="black"><br></font>  <font color="black">import java.util.Collection;</font> <font color="black"><br></font>  <font color="black">import java.util.</font>  <font color="black"><font color="#2B91AF">ArrayList</font> ;</font> <font color="black"><br></font>  <font color="black">import java.util.</font>  <font color="black"><font color="#2B91AF">List</font> ;</font> <font color="black"><br></font>  <font color="black">import util.HibernateUtil;</font> <font color="black"><br></font>  <font color="black">import javax.swing. *;</font> <font color="black"><br></font>  <font color="black">import org.hibernate.Session;</font> <font color="black"><br></font>  <font color="black">import org.hibernate.Query;</font> <font color="black"><br><br></font>  <font color="black"><font color="#0000ff">public</font> <font color="#0000ff">class</font> BusDAOImpl implements BusDAO {</font> <font color="black"><br><br></font>  <font color="black"><font color="#0000ff">public</font> <font color="#0000ff">void</font> addBus (Bus bus) throws SQLException {</font> <font color="black"><br></font>  <font color="black">Session session = <font color="#0000ff">null</font> ;</font> <font color="black"><br></font>  <font color="black"><font color="#0000ff">try</font> {</font> <font color="black"><br></font>  <font color="black">session = HibernateUtil.getSessionFactory (). openSession ();</font> <font color="black"><br></font>  <font color="black">session.beginTransaction ();</font> <font color="black"><br></font>  <font color="black">session.save (bus);</font> <font color="black"><br></font>  <font color="black">session.getTransaction (). commit ();</font> <font color="black"><br></font>  <font color="black">} <font color="#0000ff">catch</font> (Exception e) {</font> <font color="black"><br></font>  <font color="black">JOptionPane.showMessageDialog ( <font color="#0000ff">null</font> , e.getMessage (), <font color="#A31515">"Error inserting"</font> , JOptionPane.OK_OPTION);</font> <font color="black"><br></font>  <font color="black">} <font color="#0000ff">finally</font> {</font> <font color="black"><br></font>  <font color="black"><font color="#0000ff">if</font> (session! = <font color="#0000ff">null</font> &amp;&amp; session.isOpen ()) {</font> <font color="black"><br><br></font>  <font color="black">session.close ();</font> <font color="black"><br></font>  <font color="black">}</font> <font color="black"><br></font>  <font color="black">}</font> <font color="black"><br></font>  <font color="black">}</font> <font color="black"><br><br></font>  <font color="black"><font color="#0000ff">public</font> <font color="#0000ff">void</font> updateBus (Long bus_id, Bus bus) throws SQLException {</font> <font color="black"><br></font>  <font color="black">Session session = <font color="#0000ff">null</font> ;</font> <font color="black"><br></font>  <font color="black"><font color="#0000ff">try</font> {</font> <font color="black"><br></font>  <font color="black">session = HibernateUtil.getSessionFactory (). openSession ();</font> <font color="black"><br></font>  <font color="black">session.beginTransaction ();</font> <font color="black"><br></font>  <font color="black">session.update (bus);</font> <font color="black"><br></font>  <font color="black">session.getTransaction (). commit ();</font> <font color="black"><br></font>  <font color="black">} <font color="#0000ff">catch</font> (Exception e) {</font> <font color="black"><br></font>  <font color="black">JOptionPane.showMessageDialog ( <font color="#0000ff">null</font> , e.getMessage (), <font color="#A31515">"Error inserting"</font> , JOptionPane.OK_OPTION);</font> <font color="black"><br></font>  <font color="black">} <font color="#0000ff">finally</font> {</font> <font color="black"><br></font>  <font color="black"><font color="#0000ff">if</font> (session! = <font color="#0000ff">null</font> &amp;&amp; session.isOpen ()) {</font> <font color="black"><br></font>  <font color="black">session.close ();</font> <font color="black"><br></font>  <font color="black">}</font> <font color="black"><br></font>  <font color="black">}</font> <font color="black"><br></font>  <font color="black">}</font> <font color="black"><br><br></font>  <font color="black"><font color="#0000ff">public</font> Bus getBusById (Long bus_id) throws SQLException {</font> <font color="black"><br></font>  <font color="black">Session session = <font color="#0000ff">null</font> ;</font> <font color="black"><br></font>  <font color="black">Bus bus = <font color="#0000ff">null</font> ;</font> <font color="black"><br></font>  <font color="black"><font color="#0000ff">try</font> {</font> <font color="black"><br></font>  <font color="black">session = HibernateUtil.getSessionFactory (). openSession ();</font> <font color="black"><br></font>  <font color="black">bus = (Bus) session.load (Bus. <font color="#0000ff">class</font> , bus_id);</font> <font color="black"><br></font>  <font color="black">} <font color="#0000ff">catch</font> (Exception e) {</font> <font color="black"><br></font>  <font color="black">JOptionPane.showMessageDialog ( <font color="#0000ff">null</font> , e.getMessage (), <font color="#A31515">"Error 'findById'"</font> , JOptionPane.OK_OPTION);</font> <font color="black"><br></font>  <font color="black">} <font color="#0000ff">finally</font> {</font> <font color="black"><br></font>  <font color="black"><font color="#0000ff">if</font> (session! = <font color="#0000ff">null</font> &amp;&amp; session.isOpen ()) {</font> <font color="black"><br></font>  <font color="black">session.close ();</font> <font color="black"><br></font>  <font color="black">}</font> <font color="black"><br></font>  <font color="black">}</font> <font color="black"><br></font>  <font color="black"><font color="#0000ff">return</font> bus;</font> <font color="black"><br></font>  <font color="black">}</font> <font color="black"><br><br></font>  <font color="black"><font color="#0000ff">public</font> Collection getAllBusses () throws SQLException {</font> <font color="black"><br></font>  <font color="black">Session session = <font color="#0000ff">null</font> ;</font> <font color="black"><br></font>  <font color="black"><font color="#2B91AF">List</font> busses = <font color="#0000ff">new</font> <font color="#2B91AF">ArrayList</font> &lt;Bus&gt; ();</font> <font color="black"><br></font>  <font color="black"><font color="#0000ff">try</font> {</font> <font color="black"><br></font>  <font color="black">session = HibernateUtil.getSessionFactory (). openSession ();</font> <font color="black"><br></font>  <font color="black">busses = session.createCriteria (Bus. <font color="#0000ff">class</font> ) .list ();</font> <font color="black"><br></font>  <font color="black">} <font color="#0000ff">catch</font> (Exception e) {</font> <font color="black"><br></font>  <font color="black">JOptionPane.showMessageDialog ( <font color="#0000ff">null</font> , e.getMessage (), <font color="#A31515">"Error 'getAll'"</font> , JOptionPane.OK_OPTION);</font> <font color="black"><br></font>  <font color="black">} <font color="#0000ff">finally</font> {</font> <font color="black"><br></font>  <font color="black"><font color="#0000ff">if</font> (session! = <font color="#0000ff">null</font> &amp;&amp; session.isOpen ()) {</font> <font color="black"><br></font>  <font color="black">session.close ();</font> <font color="black"><br></font>  <font color="black">}</font> <font color="black"><br></font>  <font color="black">}</font> <font color="black"><br></font>  <font color="black"><font color="#0000ff">return</font> busses;</font> <font color="black"><br></font>  <font color="black">}</font> <font color="black"><br><br></font>  <font color="black"><font color="#0000ff">public</font> <font color="#0000ff">void</font> deleteBus (Bus bus) throws SQLException {</font> <font color="black"><br></font>  <font color="black">Session session = <font color="#0000ff">null</font> ;</font> <font color="black"><br></font>  <font color="black"><font color="#0000ff">try</font> {</font> <font color="black"><br></font>  <font color="black">session = HibernateUtil.getSessionFactory (). openSession ();</font> <font color="black"><br></font>  <font color="black">session.beginTransaction ();</font> <font color="black"><br></font>  <font color="black">session.delete (bus);</font> <font color="black"><br></font>  <font color="black">session.getTransaction (). commit ();</font> <font color="black"><br></font>  <font color="black">} <font color="#0000ff">catch</font> (Exception e) {</font> <font color="black"><br></font>  <font color="black">JOptionPane.showMessageDialog ( <font color="#0000ff">null</font> , e.getMessage (), <font color="#A31515">"Error deleting"</font> , JOptionPane.OK_OPTION);</font> <font color="black"><br></font>  <font color="black">} <font color="#0000ff">finally</font> {</font> <font color="black"><br></font>  <font color="black"><font color="#0000ff">if</font> (session! = <font color="#0000ff">null</font> &amp;&amp; session.isOpen ()) {</font> <font color="black"><br></font>  <font color="black">session.close ();</font> <font color="black"><br></font>  <font color="black">}</font> <font color="black"><br></font>  <font color="black">}</font> <font color="black"><br></font>  <font color="black">}</font> <font color="black"><br><br></font>  <font color="black"><font color="#0000ff">public</font> Collection getBussesByDriver (Driver driver) throws SQLException {</font> <font color="black"><br></font>  <font color="black">Session session = <font color="#0000ff">null</font> ;</font> <font color="black"><br></font>  <font color="black"><font color="#2B91AF">List</font> busses = <font color="#0000ff">new</font> <font color="#2B91AF">ArrayList</font> &lt;Bus&gt; ();</font> <font color="black"><br></font>  <font color="black"><font color="#0000ff">try</font> {</font> <font color="black"><br></font>  <font color="black">session = HibernateUtil.getSessionFactory (). getCurrentSession ();</font> <font color="black"><br></font>  <font color="black">session.beginTransaction ();</font> <font color="black"><br></font>  <font color="black">Long driver_id = driver.getId ();</font> <font color="black"><br></font>  <font color="black">Query query = session.createQuery (</font> <font color="black"><br></font>  <font color="black"><font color="#A31515">"select b"</font></font> <font color="black"><br></font>  <font color="black">+ <font color="#A31515">"from Bus b INNER JOIN b.drivers driver"</font></font> <font color="black"><br></font>  <font color="black">+ <font color="#A31515">"where driver.id =: driverId"</font></font> <font color="black"><br></font>  <font color="black">)</font> <font color="black"><br></font>  <font color="black">.setLong ( <font color="#A31515">"driverId"</font> , driver_id);</font> <font color="black"><br></font>  <font color="black">busses = ( <font color="#2B91AF">List</font> &lt;Bus&gt;) query.list ();</font> <font color="black"><br></font>  <font color="black">session.getTransaction (). commit ();</font> <font color="black"><br><br></font>  <font color="black">} <font color="#0000ff">finally</font> {</font> <font color="black"><br></font>  <font color="black"><font color="#0000ff">if</font> (session! = <font color="#0000ff">null</font> &amp;&amp; session.isOpen ()) {</font> <font color="black"><br></font>  <font color="black">session.close ();</font> <font color="black"><br></font>  <font color="black">}</font> <font color="black"><br></font>  <font color="black">}</font> <font color="black"><br></font>  <font color="black"><font color="#0000ff">return</font> busses;</font> <font color="black"><br></font>  <font color="black">}</font> <font color="black"><br><br></font>  <font color="black"><font color="#0000ff">public</font> Collection getBussesByRoute (Route route) {</font> <font color="black"><br></font>  <font color="black">Session session = <font color="#0000ff">null</font> ;</font> <font color="black"><br></font>  <font color="black"><font color="#2B91AF">List</font> busses = <font color="#0000ff">new</font> <font color="#2B91AF">ArrayList</font> &lt;Bus&gt; ();</font> <font color="black"><br></font>  <font color="black"><font color="#0000ff">try</font> {</font> <font color="black"><br></font>  <font color="black">session = HibernateUtil.getSessionFactory (). getCurrentSession ();</font> <font color="black"><br></font>  <font color="black">session.beginTransaction ();</font> <font color="black"><br></font>  <font color="black">Long route_id = route.getId ();</font> <font color="black"><br></font>  <font color="black">Query query = session.createQuery ( <font color="#A31515">‚Äúfrom Bus where route_id =: routeId‚Äû</font> ) .setLong ( <font color="#A31515">‚ÄúrouteId‚Äù</font> , route_id);</font> <font color="black"><br></font>  <font color="black">busses = ( <font color="#2B91AF">List</font> &lt;Bus&gt;) query.list ();</font> <font color="black"><br></font>  <font color="black">session.getTransaction (). commit ();</font> <font color="black"><br><br></font>  <font color="black">} <font color="#0000ff">finally</font> {</font> <font color="black"><br></font>  <font color="black"><font color="#0000ff">if</font> (session! = <font color="#0000ff">null</font> &amp;&amp; session.isOpen ()) {</font> <font color="black"><br></font>  <font color="black">session.close ();</font> <font color="black"><br></font>  <font color="black">}</font> <font color="black"><br></font>  <font color="black">}</font> <font color="black"><br></font>  <font color="black"><font color="#0000ff">return</font> busses;</font> <font color="black"><br></font>  <font color="black">}</font> <font color="black"><br><br></font>  <font color="black">}</font> <font color="gray">* This source code was highlighted with <a href="http://source.virtser.net/"><font color="gray">Source Code Highlighter</font></a> .</font> </blockquote><br><br>  I would also say that the implementations of <strong>DriverDAOimpl</strong> and <strong>RouteDAO Impl</strong> will be similar to this one. <br>  Of greatest interest to us are the two latter methods, take a closer look at them.  How do you communicate with the base?  From the <strong>SessionFactory</strong> object, a new session is created or the current session is obtained, why the transaction starts, the necessary actions are performed, the transaction is committed and the session is closed.  It seems to be nothing complicated :) Pay attention to the syntax for the database request.  This is the so-called <a href="http://www.hibernate.org/hib_docs/reference/en/html/queryhql.html">HQL</a> (Hibernate Query Language). HQL is an object-oriented query language, its capabilities are wide, but I‚Äôm not so much mastered yet :) Besides <strong>save</strong> , <strong>load</strong> , <strong>update</strong> , <strong>delete</strong> and <strong>HQL</strong> , you can also use regular <strong>SQL</strong> .  For example: <br><blockquote><code><a href="http://source.virtser.net/"></a> <a href="http://source.virtser.net/"></a> <a href="http://www.hibernate.org/6.html"></a> String query = "SELECT driver_id, name, surname, age FROM drivers"; <br> List drivers = new ArrayList(); <br> drivers = (List) session.createSQLQuery(query).list(); <br> <br> <br> <br>    ,        <strong>DAO</strong> ,        . <br> <font color="black"><font color="#0000ff">public</font> <font color="#0000ff">class</font> Factory { <br> <br> <font color="#0000ff">private</font> <font color="#0000ff">static</font> BusDAO busDAO = <font color="#0000ff">null</font> ; <br> <font color="#0000ff">private</font> <font color="#0000ff">static</font> DriverDAO driverDAO = <font color="#0000ff">null</font> ; <br> <font color="#0000ff">private</font> <font color="#0000ff">static</font> RouteDAO routeDAO = <font color="#0000ff">null</font> ; <br> <font color="#0000ff">private</font> <font color="#0000ff">static</font> Factory instance = <font color="#0000ff">null</font> ; <br> <br> <font color="#0000ff">public</font> <font color="#0000ff">static</font> synchronized Factory getInstance(){ <br> <font color="#0000ff">if</font> (instance == <font color="#0000ff">null</font> ){ <br> instance = <font color="#0000ff">new</font> Factory(); <br> } <br> <font color="#0000ff">return</font> instance; <br> } <br> <br> <font color="#0000ff">public</font> BusDAO getBusDAO(){ <br> <font color="#0000ff">if</font> (busDAO == <font color="#0000ff">null</font> ){ <br> busDAO = <font color="#0000ff">new</font> BusDAOImpl(); <br> } <br> <font color="#0000ff">return</font> busDAO; <br> } <br> <br> <font color="#0000ff">public</font> DriverDAO getDriverDAO(){ <br> <font color="#0000ff">if</font> (driverDAO == <font color="#0000ff">null</font> ){ <br> driverDAO = <font color="#0000ff">new</font> DriverDAOImpl(); <br> } <br> <font color="#0000ff">return</font> driverDAO; <br> } <br> <br> <font color="#0000ff">public</font> RouteDAO getRouteDAO(){ <br> <font color="#0000ff">if</font> (routeDAO == <font color="#0000ff">null</font> ){ <br> routeDAO = <font color="#0000ff">new</font> RouteDAOImpl(); <br> } <br> <font color="#0000ff">return</font> routeDAO; <br> } <br> }</font> <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font> <br> <br>     -  ,  ,      ,   . ,   ,   ,    ,    :) <br> <font color="black"><font color="#0000ff">public</font> <font color="#0000ff">class</font> Main { <br> <font color="#0000ff">public</font> <font color="#0000ff">static</font> <font color="#0000ff">void</font> main( <font color="#2B91AF">String</font> [] args) throws SQLException { <br> <br> Collection routes = Factory.getInstance().getRouteDAO().getAllRoutes(); <br> Iterator iterator = routes.iterator(); <br> System. <font color="#0000ff">out</font> .println( <font color="#A31515">"======== ========="</font> ); <br> <font color="#0000ff">while</font> (iterator.hasNext()) { <br> Route route = (Route) iterator.next(); <br> System. <font color="#0000ff">out</font> .println( <font color="#A31515">" : "</font> + route.getName() + <font color="#A31515">"    : "</font> + route.getNumber()); <br> Collection busses = Factory.getInstance().getBusDAO().getBussesByRoute(route); <br> Iterator iterator2 = busses.iterator(); <br> <font color="#0000ff">while</font> (iterator2.hasNext()) { <br> Bus bus = (Bus) iterator2.next(); <br> System. <font color="#0000ff">out</font> .println( <font color="#A31515">" ‚Ññ "</font> + bus.getNumber()); <br> <br> } <br> } <br> <br> Collection busses = Factory.getInstance().getBusDAO().getAllBusses(); <br> iterator = busses.iterator(); <br> System. <font color="#0000ff">out</font> .println( <font color="#A31515">"======== ========="</font> ); <br> <font color="#0000ff">while</font> (iterator.hasNext()) { <br> Bus bus = (Bus) iterator.next(); <br> Collection drivers = Factory.getInstance().getDriverDAO().getDriversByBus(bus); <br> Iterator iterator2 = drivers.iterator(); <br> System. <font color="#0000ff">out</font> .println( <font color="#A31515">" ‚Ññ "</font> + bus.getNumber()); <br> <font color="#0000ff">while</font> (iterator2.hasNext()) { <br> Driver driver = (Driver) iterator2.next(); <br> System. <font color="#0000ff">out</font> .println( <font color="#A31515">" : "</font> + driver.getName() + <font color="#A31515">"   : "</font> + driver.getSurname()); <br> <br> } <br> } <br> <br> } <br> }</font> <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font> <br>   ,          ,      <strong>GUI</strong>   <strong>Web-</strong> ,      :) <br> <br> <strong>PS</strong> . ,   100%-    ,    ,   ,     -  . <br> <br> <strong>PSS</strong>      .</code> <blockquote> <code><a href="http://source.virtser.net/"></a> <a href="http://source.virtser.net/"></a> <a href="http://www.hibernate.org/6.html"></a> String query = "SELECT driver_id, name, surname, age FROM drivers"; <br> List drivers = new ArrayList(); <br> drivers = (List) session.createSQLQuery(query).list(); <br> <br> <br> <br>    ,        <strong>DAO</strong> ,        . <br> <font color="black"><font color="#0000ff">public</font> <font color="#0000ff">class</font> Factory { <br> <br> <font color="#0000ff">private</font> <font color="#0000ff">static</font> BusDAO busDAO = <font color="#0000ff">null</font> ; <br> <font color="#0000ff">private</font> <font color="#0000ff">static</font> DriverDAO driverDAO = <font color="#0000ff">null</font> ; <br> <font color="#0000ff">private</font> <font color="#0000ff">static</font> RouteDAO routeDAO = <font color="#0000ff">null</font> ; <br> <font color="#0000ff">private</font> <font color="#0000ff">static</font> Factory instance = <font color="#0000ff">null</font> ; <br> <br> <font color="#0000ff">public</font> <font color="#0000ff">static</font> synchronized Factory getInstance(){ <br> <font color="#0000ff">if</font> (instance == <font color="#0000ff">null</font> ){ <br> instance = <font color="#0000ff">new</font> Factory(); <br> } <br> <font color="#0000ff">return</font> instance; <br> } <br> <br> <font color="#0000ff">public</font> BusDAO getBusDAO(){ <br> <font color="#0000ff">if</font> (busDAO == <font color="#0000ff">null</font> ){ <br> busDAO = <font color="#0000ff">new</font> BusDAOImpl(); <br> } <br> <font color="#0000ff">return</font> busDAO; <br> } <br> <br> <font color="#0000ff">public</font> DriverDAO getDriverDAO(){ <br> <font color="#0000ff">if</font> (driverDAO == <font color="#0000ff">null</font> ){ <br> driverDAO = <font color="#0000ff">new</font> DriverDAOImpl(); <br> } <br> <font color="#0000ff">return</font> driverDAO; <br> } <br> <br> <font color="#0000ff">public</font> RouteDAO getRouteDAO(){ <br> <font color="#0000ff">if</font> (routeDAO == <font color="#0000ff">null</font> ){ <br> routeDAO = <font color="#0000ff">new</font> RouteDAOImpl(); <br> } <br> <font color="#0000ff">return</font> routeDAO; <br> } <br> }</font> <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font> <br> <br>     -  ,  ,      ,   . ,   ,   ,    ,    :) <br> <font color="black"><font color="#0000ff">public</font> <font color="#0000ff">class</font> Main { <br> <font color="#0000ff">public</font> <font color="#0000ff">static</font> <font color="#0000ff">void</font> main( <font color="#2B91AF">String</font> [] args) throws SQLException { <br> <br> Collection routes = Factory.getInstance().getRouteDAO().getAllRoutes(); <br> Iterator iterator = routes.iterator(); <br> System. <font color="#0000ff">out</font> .println( <font color="#A31515">"======== ========="</font> ); <br> <font color="#0000ff">while</font> (iterator.hasNext()) { <br> Route route = (Route) iterator.next(); <br> System. <font color="#0000ff">out</font> .println( <font color="#A31515">" : "</font> + route.getName() + <font color="#A31515">"    : "</font> + route.getNumber()); <br> Collection busses = Factory.getInstance().getBusDAO().getBussesByRoute(route); <br> Iterator iterator2 = busses.iterator(); <br> <font color="#0000ff">while</font> (iterator2.hasNext()) { <br> Bus bus = (Bus) iterator2.next(); <br> System. <font color="#0000ff">out</font> .println( <font color="#A31515">" ‚Ññ "</font> + bus.getNumber()); <br> <br> } <br> } <br> <br> Collection busses = Factory.getInstance().getBusDAO().getAllBusses(); <br> iterator = busses.iterator(); <br> System. <font color="#0000ff">out</font> .println( <font color="#A31515">"======== ========="</font> ); <br> <font color="#0000ff">while</font> (iterator.hasNext()) { <br> Bus bus = (Bus) iterator.next(); <br> Collection drivers = Factory.getInstance().getDriverDAO().getDriversByBus(bus); <br> Iterator iterator2 = drivers.iterator(); <br> System. <font color="#0000ff">out</font> .println( <font color="#A31515">" ‚Ññ "</font> + bus.getNumber()); <br> <font color="#0000ff">while</font> (iterator2.hasNext()) { <br> Driver driver = (Driver) iterator2.next(); <br> System. <font color="#0000ff">out</font> .println( <font color="#A31515">" : "</font> + driver.getName() + <font color="#A31515">"   : "</font> + driver.getSurname()); <br> <br> } <br> } <br> <br> } <br> }</font> <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font> <br>   ,          ,      <strong>GUI</strong>   <strong>Web-</strong> ,      :) <br> <br> <strong>PS</strong> . ,   100%-    ,    ,   ,     -  . <br> <br> <strong>PSS</strong>      .</code> </blockquote> <code><a href="http://source.virtser.net/"></a> <a href="http://source.virtser.net/"></a> <a href="http://www.hibernate.org/6.html"></a> String query = "SELECT driver_id, name, surname, age FROM drivers"; <br> List drivers = new ArrayList(); <br> drivers = (List) session.createSQLQuery(query).list(); <br> <br> <br> <br>    ,        <strong>DAO</strong> ,        . <br> <font color="black"><font color="#0000ff">public</font> <font color="#0000ff">class</font> Factory { <br> <br> <font color="#0000ff">private</font> <font color="#0000ff">static</font> BusDAO busDAO = <font color="#0000ff">null</font> ; <br> <font color="#0000ff">private</font> <font color="#0000ff">static</font> DriverDAO driverDAO = <font color="#0000ff">null</font> ; <br> <font color="#0000ff">private</font> <font color="#0000ff">static</font> RouteDAO routeDAO = <font color="#0000ff">null</font> ; <br> <font color="#0000ff">private</font> <font color="#0000ff">static</font> Factory instance = <font color="#0000ff">null</font> ; <br> <br> <font color="#0000ff">public</font> <font color="#0000ff">static</font> synchronized Factory getInstance(){ <br> <font color="#0000ff">if</font> (instance == <font color="#0000ff">null</font> ){ <br> instance = <font color="#0000ff">new</font> Factory(); <br> } <br> <font color="#0000ff">return</font> instance; <br> } <br> <br> <font color="#0000ff">public</font> BusDAO getBusDAO(){ <br> <font color="#0000ff">if</font> (busDAO == <font color="#0000ff">null</font> ){ <br> busDAO = <font color="#0000ff">new</font> BusDAOImpl(); <br> } <br> <font color="#0000ff">return</font> busDAO; <br> } <br> <br> <font color="#0000ff">public</font> DriverDAO getDriverDAO(){ <br> <font color="#0000ff">if</font> (driverDAO == <font color="#0000ff">null</font> ){ <br> driverDAO = <font color="#0000ff">new</font> DriverDAOImpl(); <br> } <br> <font color="#0000ff">return</font> driverDAO; <br> } <br> <br> <font color="#0000ff">public</font> RouteDAO getRouteDAO(){ <br> <font color="#0000ff">if</font> (routeDAO == <font color="#0000ff">null</font> ){ <br> routeDAO = <font color="#0000ff">new</font> RouteDAOImpl(); <br> } <br> <font color="#0000ff">return</font> routeDAO; <br> } <br> }</font> <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font> <br> <br>     -  ,  ,      ,   . ,   ,   ,    ,    :) <br> <font color="black"><font color="#0000ff">public</font> <font color="#0000ff">class</font> Main { <br> <font color="#0000ff">public</font> <font color="#0000ff">static</font> <font color="#0000ff">void</font> main( <font color="#2B91AF">String</font> [] args) throws SQLException { <br> <br> Collection routes = Factory.getInstance().getRouteDAO().getAllRoutes(); <br> Iterator iterator = routes.iterator(); <br> System. <font color="#0000ff">out</font> .println( <font color="#A31515">"======== ========="</font> ); <br> <font color="#0000ff">while</font> (iterator.hasNext()) { <br> Route route = (Route) iterator.next(); <br> System. <font color="#0000ff">out</font> .println( <font color="#A31515">" : "</font> + route.getName() + <font color="#A31515">"    : "</font> + route.getNumber()); <br> Collection busses = Factory.getInstance().getBusDAO().getBussesByRoute(route); <br> Iterator iterator2 = busses.iterator(); <br> <font color="#0000ff">while</font> (iterator2.hasNext()) { <br> Bus bus = (Bus) iterator2.next(); <br> System. <font color="#0000ff">out</font> .println( <font color="#A31515">" ‚Ññ "</font> + bus.getNumber()); <br> <br> } <br> } <br> <br> Collection busses = Factory.getInstance().getBusDAO().getAllBusses(); <br> iterator = busses.iterator(); <br> System. <font color="#0000ff">out</font> .println( <font color="#A31515">"======== ========="</font> ); <br> <font color="#0000ff">while</font> (iterator.hasNext()) { <br> Bus bus = (Bus) iterator.next(); <br> Collection drivers = Factory.getInstance().getDriverDAO().getDriversByBus(bus); <br> Iterator iterator2 = drivers.iterator(); <br> System. <font color="#0000ff">out</font> .println( <font color="#A31515">" ‚Ññ "</font> + bus.getNumber()); <br> <font color="#0000ff">while</font> (iterator2.hasNext()) { <br> Driver driver = (Driver) iterator2.next(); <br> System. <font color="#0000ff">out</font> .println( <font color="#A31515">" : "</font> + driver.getName() + <font color="#A31515">"   : "</font> + driver.getSurname()); <br> <br> } <br> } <br> <br> } <br> }</font> <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font> <br>   ,          ,      <strong>GUI</strong>   <strong>Web-</strong> ,      :) <br> <br> <strong>PS</strong> . ,   100%-    ,    ,   ,     -  . <br> <br> <strong>PSS</strong>      .</code> <blockquote> <code><a href="http://source.virtser.net/"></a> <a href="http://source.virtser.net/"></a> <a href="http://www.hibernate.org/6.html"></a> String query = "SELECT driver_id, name, surname, age FROM drivers"; <br> List drivers = new ArrayList(); <br> drivers = (List) session.createSQLQuery(query).list(); <br> <br> <br> <br>    ,        <strong>DAO</strong> ,        . <br> <font color="black"><font color="#0000ff">public</font> <font color="#0000ff">class</font> Factory { <br> <br> <font color="#0000ff">private</font> <font color="#0000ff">static</font> BusDAO busDAO = <font color="#0000ff">null</font> ; <br> <font color="#0000ff">private</font> <font color="#0000ff">static</font> DriverDAO driverDAO = <font color="#0000ff">null</font> ; <br> <font color="#0000ff">private</font> <font color="#0000ff">static</font> RouteDAO routeDAO = <font color="#0000ff">null</font> ; <br> <font color="#0000ff">private</font> <font color="#0000ff">static</font> Factory instance = <font color="#0000ff">null</font> ; <br> <br> <font color="#0000ff">public</font> <font color="#0000ff">static</font> synchronized Factory getInstance(){ <br> <font color="#0000ff">if</font> (instance == <font color="#0000ff">null</font> ){ <br> instance = <font color="#0000ff">new</font> Factory(); <br> } <br> <font color="#0000ff">return</font> instance; <br> } <br> <br> <font color="#0000ff">public</font> BusDAO getBusDAO(){ <br> <font color="#0000ff">if</font> (busDAO == <font color="#0000ff">null</font> ){ <br> busDAO = <font color="#0000ff">new</font> BusDAOImpl(); <br> } <br> <font color="#0000ff">return</font> busDAO; <br> } <br> <br> <font color="#0000ff">public</font> DriverDAO getDriverDAO(){ <br> <font color="#0000ff">if</font> (driverDAO == <font color="#0000ff">null</font> ){ <br> driverDAO = <font color="#0000ff">new</font> DriverDAOImpl(); <br> } <br> <font color="#0000ff">return</font> driverDAO; <br> } <br> <br> <font color="#0000ff">public</font> RouteDAO getRouteDAO(){ <br> <font color="#0000ff">if</font> (routeDAO == <font color="#0000ff">null</font> ){ <br> routeDAO = <font color="#0000ff">new</font> RouteDAOImpl(); <br> } <br> <font color="#0000ff">return</font> routeDAO; <br> } <br> }</font> <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font> <br> <br>     -  ,  ,      ,   . ,   ,   ,    ,    :) <br> <font color="black"><font color="#0000ff">public</font> <font color="#0000ff">class</font> Main { <br> <font color="#0000ff">public</font> <font color="#0000ff">static</font> <font color="#0000ff">void</font> main( <font color="#2B91AF">String</font> [] args) throws SQLException { <br> <br> Collection routes = Factory.getInstance().getRouteDAO().getAllRoutes(); <br> Iterator iterator = routes.iterator(); <br> System. <font color="#0000ff">out</font> .println( <font color="#A31515">"======== ========="</font> ); <br> <font color="#0000ff">while</font> (iterator.hasNext()) { <br> Route route = (Route) iterator.next(); <br> System. <font color="#0000ff">out</font> .println( <font color="#A31515">" : "</font> + route.getName() + <font color="#A31515">"    : "</font> + route.getNumber()); <br> Collection busses = Factory.getInstance().getBusDAO().getBussesByRoute(route); <br> Iterator iterator2 = busses.iterator(); <br> <font color="#0000ff">while</font> (iterator2.hasNext()) { <br> Bus bus = (Bus) iterator2.next(); <br> System. <font color="#0000ff">out</font> .println( <font color="#A31515">" ‚Ññ "</font> + bus.getNumber()); <br> <br> } <br> } <br> <br> Collection busses = Factory.getInstance().getBusDAO().getAllBusses(); <br> iterator = busses.iterator(); <br> System. <font color="#0000ff">out</font> .println( <font color="#A31515">"======== ========="</font> ); <br> <font color="#0000ff">while</font> (iterator.hasNext()) { <br> Bus bus = (Bus) iterator.next(); <br> Collection drivers = Factory.getInstance().getDriverDAO().getDriversByBus(bus); <br> Iterator iterator2 = drivers.iterator(); <br> System. <font color="#0000ff">out</font> .println( <font color="#A31515">" ‚Ññ "</font> + bus.getNumber()); <br> <font color="#0000ff">while</font> (iterator2.hasNext()) { <br> Driver driver = (Driver) iterator2.next(); <br> System. <font color="#0000ff">out</font> .println( <font color="#A31515">" : "</font> + driver.getName() + <font color="#A31515">"   : "</font> + driver.getSurname()); <br> <br> } <br> } <br> <br> } <br> }</font> <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font> <br>   ,          ,      <strong>GUI</strong>   <strong>Web-</strong> ,      :) <br> <br> <strong>PS</strong> . ,   100%-    ,    ,   ,     -  . <br> <br> <strong>PSS</strong>      .</code> </blockquote> <code><a href="http://source.virtser.net/"></a> <a href="http://source.virtser.net/"></a> <a href="http://www.hibernate.org/6.html"></a> String query = "SELECT driver_id, name, surname, age FROM drivers"; <br> List drivers = new ArrayList(); <br> drivers = (List) session.createSQLQuery(query).list(); <br> <br> <br> <br>    ,        <strong>DAO</strong> ,        . <br> <font color="black"><font color="#0000ff">public</font> <font color="#0000ff">class</font> Factory { <br> <br> <font color="#0000ff">private</font> <font color="#0000ff">static</font> BusDAO busDAO = <font color="#0000ff">null</font> ; <br> <font color="#0000ff">private</font> <font color="#0000ff">static</font> DriverDAO driverDAO = <font color="#0000ff">null</font> ; <br> <font color="#0000ff">private</font> <font color="#0000ff">static</font> RouteDAO routeDAO = <font color="#0000ff">null</font> ; <br> <font color="#0000ff">private</font> <font color="#0000ff">static</font> Factory instance = <font color="#0000ff">null</font> ; <br> <br> <font color="#0000ff">public</font> <font color="#0000ff">static</font> synchronized Factory getInstance(){ <br> <font color="#0000ff">if</font> (instance == <font color="#0000ff">null</font> ){ <br> instance = <font color="#0000ff">new</font> Factory(); <br> } <br> <font color="#0000ff">return</font> instance; <br> } <br> <br> <font color="#0000ff">public</font> BusDAO getBusDAO(){ <br> <font color="#0000ff">if</font> (busDAO == <font color="#0000ff">null</font> ){ <br> busDAO = <font color="#0000ff">new</font> BusDAOImpl(); <br> } <br> <font color="#0000ff">return</font> busDAO; <br> } <br> <br> <font color="#0000ff">public</font> DriverDAO getDriverDAO(){ <br> <font color="#0000ff">if</font> (driverDAO == <font color="#0000ff">null</font> ){ <br> driverDAO = <font color="#0000ff">new</font> DriverDAOImpl(); <br> } <br> <font color="#0000ff">return</font> driverDAO; <br> } <br> <br> <font color="#0000ff">public</font> RouteDAO getRouteDAO(){ <br> <font color="#0000ff">if</font> (routeDAO == <font color="#0000ff">null</font> ){ <br> routeDAO = <font color="#0000ff">new</font> RouteDAOImpl(); <br> } <br> <font color="#0000ff">return</font> routeDAO; <br> } <br> }</font> <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font> <br> <br>     -  ,  ,      ,   . ,   ,   ,    ,    :) <br> <font color="black"><font color="#0000ff">public</font> <font color="#0000ff">class</font> Main { <br> <font color="#0000ff">public</font> <font color="#0000ff">static</font> <font color="#0000ff">void</font> main( <font color="#2B91AF">String</font> [] args) throws SQLException { <br> <br> Collection routes = Factory.getInstance().getRouteDAO().getAllRoutes(); <br> Iterator iterator = routes.iterator(); <br> System. <font color="#0000ff">out</font> .println( <font color="#A31515">"======== ========="</font> ); <br> <font color="#0000ff">while</font> (iterator.hasNext()) { <br> Route route = (Route) iterator.next(); <br> System. <font color="#0000ff">out</font> .println( <font color="#A31515">" : "</font> + route.getName() + <font color="#A31515">"    : "</font> + route.getNumber()); <br> Collection busses = Factory.getInstance().getBusDAO().getBussesByRoute(route); <br> Iterator iterator2 = busses.iterator(); <br> <font color="#0000ff">while</font> (iterator2.hasNext()) { <br> Bus bus = (Bus) iterator2.next(); <br> System. <font color="#0000ff">out</font> .println( <font color="#A31515">" ‚Ññ "</font> + bus.getNumber()); <br> <br> } <br> } <br> <br> Collection busses = Factory.getInstance().getBusDAO().getAllBusses(); <br> iterator = busses.iterator(); <br> System. <font color="#0000ff">out</font> .println( <font color="#A31515">"======== ========="</font> ); <br> <font color="#0000ff">while</font> (iterator.hasNext()) { <br> Bus bus = (Bus) iterator.next(); <br> Collection drivers = Factory.getInstance().getDriverDAO().getDriversByBus(bus); <br> Iterator iterator2 = drivers.iterator(); <br> System. <font color="#0000ff">out</font> .println( <font color="#A31515">" ‚Ññ "</font> + bus.getNumber()); <br> <font color="#0000ff">while</font> (iterator2.hasNext()) { <br> Driver driver = (Driver) iterator2.next(); <br> System. <font color="#0000ff">out</font> .println( <font color="#A31515">" : "</font> + driver.getName() + <font color="#A31515">"   : "</font> + driver.getSurname()); <br> <br> } <br> } <br> <br> } <br> }</font> <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font> <br>   ,          ,      <strong>GUI</strong>   <strong>Web-</strong> ,      :) <br> <br> <strong>PS</strong> . ,   100%-    ,    ,   ,     -  . <br> <br> <strong>PSS</strong>      .</code> </blockquote> </div><p>Source: <a href="https://habr.com/ru/post/29694/">https://habr.com/ru/post/29694/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../296930/index.html">Career, commerce and project / task management in questions and answers at the Toaster</a></li>
<li><a href="../296932/index.html">BCG has presented a rating of 50 innovative companies in the world.</a></li>
<li><a href="../296934/index.html">One head is good: in Yahoo! discuss the possibility of selling the main business</a></li>
<li><a href="../296936/index.html">Basics of copywriting for push notifications</a></li>
<li><a href="../296938/index.html">A curious case of the return of the medieval system of barter</a></li>
<li><a href="../296940/index.html">Under the RAO "dig": the investigation suggests the authors to write in writing to accuse the organization of causing material damage</a></li>
<li><a href="../296942/index.html">Ingram Micro acquired the Russian company for $ 100 million</a></li>
<li><a href="../296944/index.html">Victor Frankenstein (film, 2015), as a screened example of a technology startup</a></li>
<li><a href="../296948/index.html">Publication of business processes. Universal - ‚Äúcommon religious‚Äù approach</a></li>
<li><a href="../296950/index.html">The main thing is participation: the CEO of Box talked about the value of an IPO, regardless of its outcome</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>