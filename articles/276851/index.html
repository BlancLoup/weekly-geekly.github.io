<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>AlfaCtrakhovanie Mobile. How we combined several IT systems in one application: case</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Practically everything in our life - be it health, property, or a tour - can be insured. More than a hundred insurance products with individual proces...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>AlfaCtrakhovanie Mobile. How we combined several IT systems in one application: case</h1><div class="post__text post__text-html js-mediator-article"> <a href="https://habrahabr.ru/company/redmadrobot/blog/276851/"><img src="https://habrastorage.org/files/1ed/02f/041/1ed02f0418fc45f6af0643319dab4cd8.png" alt="image"></a> <br>  Practically everything in our life - be it health, property, or a tour - can be insured.  More than a hundred insurance products with individual processes for processing insurance claims and indemnification, as well as several IT systems.  This is exactly what we saw when we started working on the project of the AlfaStrakhovanie Mobile service application.  The essence of the application was reduced to a nontrivial task to combine all insurance products and processes. ‚ÄúAlfaStrakhovanie‚Äù - to make for a mobile user a single channel of communication with the insurance company for all occasions. <br><br>  We accept as an axiom that customers need mobile access to insurance services.  Further, theoretically, there are two options: to have several separate applications for each type of insurance, or still make a single application to manage all policies.  The first option is simpler from the development point of view, the second is much more complicated, but much more convenient for the user.  We went the second way. <br><a name="habracut"></a><br><br><h1>  <font color="red">From the post on Facebook to the project</font> </h1><br>  The history of our interaction with AlfaStrakhovanie turned out to be non-standard.  At first we met at the conference, talked, sent a proposal - there was no project, but the layout remained.  Here I must say that we love to publish photos of the workflow in social networks and somehow posted a photo on Facebook.  On the monitor of our art director, in general, accidentally <a href="https://www.facebook.com/redmadrobot/photos/a.10150263057195965.342776.174253195964/10151892610085965/%3Ftype%3D3%26theater">turned out to be a big letter ‚ÄúŒ±‚Äù</a> . 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      And suddenly, AlfaStrakhovanie responded - great photo!  What are you drawing?  - and after that everything began to turn out.  Thank you, Facebook :) <br><br>  <b>Alexander Prokopchuk, director of e-commerce department at AlfaStrakhovanie</b> <br>  <i>‚ÄúFirst of all, it was fundamentally important for us to thoroughly understand: why in general the insurance company and its customers need a mobile application.</i>  <i>We seriously approached the study of this issue, conducted research and focus groups, as a result of which it turned out that customers are primarily waiting for the application to not be able to conveniently buy a policy (although it, of course, also), but see in it a tool that helps to cope with emergency situations and generally facilitates work with all insurance products.</i>  <i>Our goal is to be a leading insurance company in terms of service, and a mobile application is one of the most important tools in achieving this goal. ‚Äù</i> <br><br><h1>  <font color="red">Develop custom scripts from scratch</font> </h1><br>  At the time of the start of the project, we had the experience of creating an insurance application for traveling abroad.  In fact, there was only one scenario, and it was already not easy, here there were much more scenarios. <br><br><img src="https://habrastorage.org/files/87d/f68/6f5/87df686f56214698b63ce6c1aa7b8f76.png" alt="image" align="left"><br>  <b>Arthur Sakharov ( <a href="https://habrahabr.ru/users/mc_murphy/" class="user_link">mc_murphy</a> ), technical director of Redmadrobot</b> <br>  <i>"If today you are thinking of doing a banking application, you will see that customers signify their requirements like this:" Make us like Tinkoff Bank, Discovery or Sberbank. "</i>  <i>If you need to write an application for renting a car, you can explore foreign experience.</i>  <i>Alas, in the insurance of such benchmarks in the Russian market was not, and the Western experience was irrelevant due to differences in the legislative framework. "</i> <br><br>  Therefore, all business cases were developed by us independently from scratch.  We have compiled the Feature List - we have compiled the most comprehensive list of functionality with an eye on business and user goals.  But since we did not want to make a ‚Äúhodgepodge‚Äù out of the application, each candidate candidate for implementation was seriously selected.  Every time we asked ourselves whether the implementation of a function could solve business problems or whether its presence would really make the application more useful for the user.  As a result, we got a much shorter list with which we started working. <br><br><img src="https://habrastorage.org/files/01f/5b1/b9f/01f5b1b9faae4caaa47cd8a4a26fcb2a.png"><br> <b><img src="https://habrastorage.org/files/b15/8e9/7e9/b158e97e9d5e479885a974e6e2796b2a.png" alt="image" align="left"><br><br></b>  <b>Tatyana Anisimova, Business Analyst, Redmadrobot</b> <br>  <i>‚ÄúAt the start, we faced several tasks.</i>  <i>The most important of them are: to give the user access to all insurance products in a single profile, simplify the processing of the insured event and make the loss settlement process transparent.</i>  <i>The application received a detailed Q &amp; A, a detailed checklist for each insurance case and a wide range of electronic services that can be obtained directly via mobile.</i>  <i>This is an opportunity to sign up for a doctor or call him at home, issue a claim for an insured event and activate insurance products directly through the application. ‚Äù</i> <i><br></i> <br>  <b>Application functionality:</b> <br>  ‚Ä¢ Emergency communication with the insurance company via the SOS button (call the operator; order a callback; IP telephony when calling from abroad); <br>  ‚Ä¢ Remote settlement of losses under the hull insurance and passenger insurance policy; <br>  ‚Ä¢ Writing to medical clinics and calling a doctor at home; <br>  ‚Ä¢ Insurance company offices on the map and list; <br>  ‚Ä¢ Activation of boxed products; <br>  ‚Ä¢ Detailed instructions with an action plan in case of an insured event; <br>  ‚Ä¢ List of active policies; <br>  ‚Ä¢ Purchase and renewal of policies. <br><br>  Of the e-services that have emerged due to the application, I would especially like to mention the most popular one: <b>loss settlement on hull insurance.</b> <br><br>  Directly from the application, the AlfaStrakhovaniye client can apply for damages, take a picture of the accident site, damage (to eliminate the risk of fraud, when photos are taken at the wrong time and in the place where the accident occurred, only shooting directly from the application is allowed, just you cannot take and upload photos), certificates from the traffic police and immediately send for consideration to the insurance company.  The application will be generated electronically, and AlfaStrakhovanie will immediately begin the settlement procedure. <br><br><img src="https://habrastorage.org/files/f39/131/cf8/f39131cf8c424584bfd0742a7b3a6522.jpg"><br><br>  <b>The universal scenario for all insurance products in the application is as follows:</b> <br>  ‚Ä¢ There is an insurance case; <br>  ‚Ä¢ The user presses the SOS button; <br>  ‚Ä¢ Selects the type of policy and the target action (call the operator, call back, view instructions; drafting an insurance claim application directly through the application); <br>  ‚Ä¢ Receives alerts on the progress of the case and further actions through push-notifications. <br><br><img src="https://habrastorage.org/files/85c/ad3/a1c/85cad3a1c6524ba4b32891e980310e67.png"><br>  <i>Call or callback order</i> <br><br>  The options for action after pressing the SOS button differ depending on the type of insurance product.  Initially, we planned to ‚Äújuggle‚Äù different scenarios for different policies, but in the end we acted differently - we added a variable parameter to the specification, and now we get a set of ‚ÄúSOS activities‚Äù from the middleware, which is calculated depending on the active policies of the user.  When adding other scenarios in the future (for example, if it becomes possible to arrange an insurance case through the application for new types of policies), it will not be necessary to make their functions on the screen of global changes to the code structure.  Just for new insurance products will come an additional parameter in the method with middleware. <br><br><h1>  <font color="red">Architecture: different backends and universal integration model</font> </h1><br>  We developed Middleware to integrate different IT systems in which AlfaStrakhovanie insurance products live.  It was necessary to think over which systems to take, some data were duplicated and it was necessary to decide what would be the source for us.  Due to limitations in the internal systems (for example, it was found that we could not make a request synchronously to the server, since the update of information occurs once a day, and the server simply does not give us relevant data);  in law and other areas, some scenarios had to be redone several times, from requirements to implementation. <br><br><img src="https://habrastorage.org/files/565/013/ddc/565013ddcf4e4504ba696c3dc28391cf.png" alt="image" align="left"><br>  <b>Egor Taflanidi ( <a href="https://habrahabr.ru/users/beptep/" class="user_link">BepTep</a> ), Redmadrobot Architect</b> <br>  <i>‚ÄúUsually we write the API specification ourselves, following which the fronts will then interact with the middleware server or the customer‚Äôs systems.</i>  <i>Observing the ideology of REST, we template this kind of documentation and use it from project to project.</i>  <i>The direction of server development in our company is still young, but our backendors have already made their own framework for themselves, which they use to develop the intermediate layer, and in the future integration will be very, very fast. ‚Äù</i> <br><br><img src="https://habrastorage.org/files/945/3b3/7bc/9453b37bcac64d0abdbdf980812bdac7.png"><br><br>  Also during the design we had to take into account a number of restrictions: <br><br>  1. The logic of even similar insurance products is quite different (for example, registration of accidents on hull insurance and CTP).  As a result, it was impossible to simply take and bring into one common entity many small ones, it was often necessary to implement similar, but slightly different elements in different insurance products. <br><br>  2. It was necessary to achieve a minimum battery consumption due to the minimum use of the antenna for data transmission - in a critical situation of an insured event, the user least of all waits for the insurance application to ‚Äúkill‚Äù his smartphone. <br><br>  3. Asymmetry of GSM-traffic: the speed of sending and receiving data in mobile networks is very different.  Mobile devices quickly receive data and give it away for a very long time.  Therefore, when the user sees the progress indicator, most of the waiting time is spent on sending data to the server. <br><br>  <b>Yegor Taflanidi, Redmadrobot Architect</b> <br>  <i>‚ÄúWhile working on the application architecture, we thought that users might find themselves in a situation of limited access to the Internet, for example, in roaming.</i>  <i>When you first start loading the entire amount of data.</i>  <i>As a result, some of the functionality of the application is available without any Internet at all, and in principle the user does not see download indicators.</i>  <i>If necessary, the information is updated in the background.</i> <i><br><br></i>  <i>When designing AlfaStrakhovanie Mobile, we proceeded from best practices.</i>  <i>If the policy contains a field for service centers, then usually applications make two requests - loading the policy itself and the list of centers with identifiers.</i>  <i>We went the other way, having foreseen a kind of ‚Äúoffline mode‚Äù of work - the application downloads maximum data that may be useful in the future, which allows using it even without connecting to the network.</i>  <i>All requests are fired at the start in the optimal order. "</i> <br><br><h1>  <font color="red">Swift, ReactiveCocoa and Android 6 Adaptation</font> </h1><br>  During the project, we tried some innovations, for example, the ReactiveCocoa library, which many developers use in the fashion paradigm of functional reactive programming, and we were also interested. <br><br><img src="https://habrastorage.org/files/42a/983/622/42a983622d8740a48ad341567c16805f.png" alt="image" align="left"><br>  <b>Roman Churkin ( <a href="https://habrahabr.ru/users/firmach/" class="user_link">firmach</a> ), leading iOS-developer Redmadrobot</b> <br>  <i>‚ÄúIt was decided to use a bunch of <a href="https://ru.wikipedia.org/wiki/Model-View-ViewModel">MVVM</a> pattern and <a href="https://github.com/ReactiveCocoa/ReactiveCocoa">ReactiveCocoa</a> library.</i>  <i>The fact is that when using the MVVM pattern, it is necessary to solve the problem of binding the View Model data and the reaction to changing this data to their display on the View.</i>  <i>It is for the implementation of such bundles was used ReactiveCocoa.</i>  <i>This avoided the bloated KVO syntax.</i>  <i>We tried, made certain conclusions and for the time being we will use Reactive Cocoa neatly, so as to depend on a minimum on such a cumbersome library.</i>  <i>It is possible that in the future we will abandon it in favor of alternative solutions. ‚Äù</i> <i><br></i> <br>  Also on this project we started to introduce Swift into use.  A part of the project is already written on it, this practice will be developed, we plan to use Swift more widely.  Although Apple released Swift a year ago, we were in no hurry to switch to it.  In fact, we started writing on Swift version 1.2, already knowing the expected release date of version 2.0, to release the application right away on the new version - this was a task that we solved well, judging by the zero number of crashes among users. <br><br>  We also actively used the practice of code reuse - this reduced the development time and increased reliability.  Among the reused modules, for example, was authorization via Touch ID. <br><br>  In addition, during the development, we paid great attention to compliance with the best practices and safety standards.  The protection measures in AlfaStrakhovanie Mobile are based on the approaches that we use in banking applications, and this is a rather high bar: from the banal SSL-pinning'a to protection against the debugger connection.  The application will resist launching on jailbreak and root devices as much as possible. <br><br>  AlfaStrakhovanie Mobile is not a cross-platform solution, but two separate native development for iOS and Android.  With similar functional requirements in iOS and Android, there are different UX patterns and patterns. <br>  We had to dance a little with tambourines to adapt the application for Android 6 and integrate the new Google permission-model into it. <br><br><img src="https://habrastorage.org/files/b70/9d5/a93/b709d5a93b244be4bd5e59b014b0befe.png" alt="image" align="left"><br>  <b>Maxim Efimov ( <a href="https://habrahabr.ru/users/maximefimov/" class="user_link">MaximEfimov</a> ), head of the Android-development group Redmadrobot</b> <br>  <i>‚ÄúUnlike Android 5, with the release of Android 6, the application by default does not ask for anything, it only requests access at the moment it needs.</i>  <i>The user can enter the settings and turn off the permission that he gave earlier.</i>  <i>This is good from the point of view of UX in terms of working with a smartphone as a whole, but from the point of view of ease of support for programmers is very inconvenient.</i>  <i>A couple of weeks after the update, the entire GitHub was literally packed with Android Permission libraries.</i>  <i>We also made our own library, which is integrated into our own framework. ‚Äù</i> <br><br><h1>  <font color="red">Design and design of navigation</font> </h1><br>  We made the first prototype of the application even under iOS7 - since then Apple's mobile operating system has experienced two major updates.  Here is how the map of screens in the first version looked: <br><br><img src="https://habrastorage.org/files/5fc/227/2af/5fc2272af2784c84a254ec349b7d5195.png"><br><br><img src="https://habrastorage.org/files/558/640/cb2/558640cb21b34878be92700eaaa33bba.png" alt="image" align="left"><br>  <b>Andrey Lisitsyn, art director of Redmadrobot</b> <br>  <i>‚ÄúWhat ultimately embodied in a real application differs from this prototype, although some generic features have been preserved.</i>  <i>One of them is a large SOS button with an animation that expands to full screen, filling everything around with red.</i>  <i>When loading geolocation for the user search indicator, we came up with a satellite image and a set of funny icons, some of which were literally drawn from life :) ‚Äù</i> <br><br><img src="https://habrastorage.org/files/2cc/118/d45/2cc118d4555d42c4a111d974d75e59f9.png"><br><br>  In the client profile there was an idea to place additional useful information such as a blood group, and also add an alert to the user's close after an emergency call.  The prototype was prepared not only for iOS, but also for Android and Windows Phone.  For the Microsoft mobile platform, we even made a dark version, because historically WinPhone had the ability to change the color palette of the entire axis, and indeed it looked quite brutal, like a robot. <br><br><img src="https://habrastorage.org/files/664/b10/4ba/664b104babc541c2947e6cf19c06eeea.png"><br><br><img src="https://habrastorage.org/files/2e3/73a/a84/2e373aa8494c4db8a9daecd5136bc308.png"><br><br>  Now that turned out in the end.  Starting to design the navigation, we planned to use the tab bar, as Apple recommends in our guidelines, but at the wireframes level we realized that the main screen is too overloaded, and against this background the main interface element is lost - the SOS button. <br><br><img src="https://habrastorage.org/files/6b1/3a4/203/6b13a42033c5477fa55ca4572f257994.jpg"><br><br>  The SOS button is always available, even in unauthorized mode.  In the process of registration or before it starts, you can already call the insurance company.  Since the central element of the interface - the large SOS button - did not fit into the standard tabbar, we saved important functional blocks on the main screen (the SOS button, statuses and notifications for insured events, viewing policies with expiration dates and buying new policies). in the menu (user profile, offices, application information). <br><br><img src="https://habrastorage.org/files/09d/718/730/09d718730b844fb39cade2cddb19413f.png"><br><br><img src="https://habrastorage.org/files/edf/de7/366/edfde7366699418f983ff90929fa13e4.png" alt="image" align="left"><br>  <b>Sergey Galtsev, leading designer Redmadrobot</b> <br>  <i>‚ÄúAt the end of the first presentation of the design to the customer, we inserted a video with paratroopers who jumped off a cliff and threw the thesis that we would be in free fall to test the usability of the application so that the parachutist could pass the help request script until the parachute opened.</i>  <i>And we really did it. "</i> <br><iframe src="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://player.vimeo.com/video/143507675&amp;xid=17259,15700021,15700186,15700190,15700248,15700253&amp;usg=ALkJrhhCziUrhzJwlnL3cPjRUIDR57LJIQ" width="560" height="315" frameborder="0" title="AlphaInsurance Mobile" webkitallowfullscreen="" mozallowfullscreen="" allowfullscreen=""></iframe><br><br>  The initial customer requests for design have undergone a number of significant changes in the process of discussion and work on the project.  For example, in terms of content delivery and navigation: the idea of ‚Äã‚Äãgiving information to an expanding list is the usual such approach from the corporate software world - we refused.  This works fine in a web environment, but not in a mobile application, here you need separate screens with an elaborate transition system. <br><br><img src="https://habrastorage.org/files/434/9e4/610/4349e4610f8e4d499b2d319fde6f7da5.png"><br><br>  There are a number of animations in the application, during the creation of which we tried out the tool for prototyping Pixate, you can read about it in one of <a href="https://habrahabr.ru/company/redmadrobot/blog/269545/">our recent articles</a> .  And in more detail how the design of the application was created - <a href="https://www.behance.net/gallery/32188091/AlfaStrakhovanie-Mobile-App">in a case on Behance.</a> <br><br><h1>  <font color="red">Some statistics</font> </h1><br>  <b>88679</b> line of code is written; <br>  850+ screens and <b>100+</b> icons are <b>drawn</b> ; <br>  <b>2 versions of iOS</b> managed to come out during the preparation of the project; <br>  <b>From 4000 meters</b> jumped <b>2 paratroopers</b> who tested the application; <br>  During the work, no developer or designer was hurt. <br><br><h1>  <font color="red">Results and plans</font> </h1><br>  For the first four months, the AlfaStrakhovanie Mobile iOS application already has more than 28 thousand installations, the Android version has more than 33 thousand installations.  Statistics show that this is a very stable application - the number of crashes on iOS does not exceed 0.5%.  By the amount of source code this is our largest project.  AlfaStrakhovanie Mobile is equal to one and a half applications <a href="https://itunes.apple.com/ru/app/moj-bilajn/id569251594%3Fmt%3D8">of My Beeline</a> , two <a href="https://itunes.apple.com/ru/app/bank-otkrytie/id909649844%3Fl%3Den%26mt%3D8">Mobile Opening Banks</a> and five <a href="https://itunes.apple.com/ru/app/safetrip-strahovanie-v-putesestvie/id908738976%3Fl%3Den%26mt%3D8">Safe Trip</a> applications (Renaissance Insurance). <br><br>  So we did AlfaStrakhovanie Mobile.  We hope that the application can serve as an example for our colleagues, which we ourselves so lacked at the start of the project.  Now the application is available in the <a href="https://itunes.apple.com/ru/app/al-fastrahovanie-mobajl-mobil/id1039418352%3Fmt%3D8">AppStore</a> and <a href="https://play.google.com/store/apps/details%3Fid%3Dru.alfastrah.app%26hl%3Dru">Google Play</a> , it works on smartphones for iOS 8+ and Android 4.4+.  Of course, we have an impressive backlog of improvement tasks and a large number of hypotheses on how exactly these improvements are implemented.  We are working on the system Agile, and releases with the enrichment of the application interface solutions and functionality are every two weeks.  And, of course, we are open to criticism and suggestions - they can be shared in the comments.  That's all, thank you for your attention! <br><br>  We thank for the help in the preparation of the material by <a href="https://www.facebook.com/alexlashkov">Alexander Lashkov</a> and <a href="https://www.facebook.com/s.makarov15">Stanislav Makarov</a> . </div><p>Source: <a href="https://habr.com/ru/post/276851/">https://habr.com/ru/post/276851/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../276841/index.html">On February 13, a conference of software developers Dev2Dev Just.Net will take place in Krasnoyarsk</a></li>
<li><a href="../276843/index.html">New free courses virtual academy Microsoft Virtual Academy, February 2016</a></li>
<li><a href="../276845/index.html">himawari8 wallpaper for linux</a></li>
<li><a href="../276847/index.html">Configuring rsyslog to collect logs over the network via an encrypted connection</a></li>
<li><a href="../276849/index.html">Review of physics in Sonic games. Part 2: Running</a></li>
<li><a href="../276855/index.html">Cognitive computing - work faster than thought</a></li>
<li><a href="../276857/index.html">Using FPGA and DSL to speed up HFT trading</a></li>
<li><a href="../276859/index.html">Foster Day at the Foreign Ministry</a></li>
<li><a href="../276863/index.html">ARP: Cisco equipment features and interesting cases. Part 1</a></li>
<li><a href="../276865/index.html">Bind additional one-time passwords to the Windows logon window</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>