<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Optical character recognition in Linux</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Introduction 
 This is not just a review of existing OCRs (we‚Äôll only talk about three ) and not an installation guide (although the installation will...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Optical character recognition in Linux</h1><div class="post__text post__text-html js-mediator-article"><h3>  Introduction </h3><br>  This is not just a review of existing OCRs (we‚Äôll only talk <i>about three</i> ) and not an installation guide (although the installation will be described).  This article was created in order to understand <i>what</i> and <i>how</i> can really recognize the Russian and English languages ‚Äã‚Äãin Linux. <br><a name="habracut"></a><br>  A few words in order to understand the essence of the described processes. <br>  <a href="http://ru.wikipedia.org/wiki/OCR">OCR</a> - optical character recognition. <br>  Technology is needed to digitize printed documents;  some use OCR for automation purposes (for example, to recognize captcha or to protect against spam bots). <br><br><h3>  OCR in Linux </h3><br>  I repeat once again: there will be considered programs that recognize the Russian language.  Under Linux, there are several OCRs designed for working with the Latin alphabet, there are specialized complexes that work only with Hebrew, for example, all this does not apply to our topic. <br>  In fact, only three products will be discussed: <i>Cuneiform</i> , <i>Tesseract</i> and <i>Finereader Engine</i> .  All of them by themselves provide only a console interface, although for the first two GUI is sufficiently developed. <br><br>  I use Debian Squeeze, but I will often provide links to source codes and explain package builds (you can use the repositories on <a href="http://notesalexp.org/">notesalexp.org</a> or repositories of your distribution kit - I just give an example of the build). <br>  The topic will be revealed in the following order: 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      1. Installing OCR for Linux (3 engines), installing them. <br>  2. OCR CLI comparison with examples. <br>  3. GUI for OCR, their comparison. <br>  4. A small test online-OCR. <br>  5. Conclusions and some predictions and suggestions. <br><br><h3>  Install OCR for Linux </h3><br><h4>  Cuneiform </h4><br>  A page about a project on <a href="http://ru.wikipedia.org/wiki/CuneiForm">wikipedia</a> . <br><br>  Declared features: support for multiple languages, preserve the formatting of the original document, output to txt, hocr, html, recognize faxes and texts printed on a matrix printer. <br><br>  We will look at two real ways to use Cuneiform under Linux: native and with the help of Wine (there is a need for this, below you can see for yourself). <br><br><h5>  1. Native Cuneiform </h5><br>  <a href="https://launchpad.net/cuneiform-linux">Launchpad section</a> <br>  <a href="https://launchpad.net/cuneiform-linux/%2Bdownload">Sources</a> <br><br>  Let's start the installation. <br>  Download the sources and unpack them. <br>  Then everything is standard (see the readme.txt bundled with the source).  Go to the source directory and execute sequentially: <br><pre><code class="bash hljs">mkdir builddir <span class="hljs-built_in"><span class="hljs-built_in">cd</span></span> builddir cmake -DCMAKE_BUILD_TYPE=debug .. make sudo checkinstall sudo ldconfig</code> </pre> <br>  Is done. <br><br><h5>  2. Installation under Wine. </h5><br>  The advantage of this method is that we immediately get the original functional GUI.  The Wine version is not important (Cuneiform worked under Wine 1.0).  The only feature: it is necessary to specify a new substitution for the <i>msvcrt</i> library in the Wine settings. <br>  Distribution is available at <a href="">this link</a> . <br><br><h4>  Tesseract. </h4><br>  A page about a project on <a href="http://ru.wikipedia.org/wiki/Tesseract">wikipedia</a> . <br>  Page on <a href="http://code.google.com/p/tesseract-ocr/">Google Code</a> . <br><br>  Declared features: support of multiple languages, output in txt and hocr, training the program with my own examples (I will not consider this, work as is), use of the configuration file for a specific sample. <br><br>  I briefly and loosely describe <a href="http://code.google.com/p/tesseract-ocr/wiki/ReadMe">this Readme</a> . <br><br>  Allow dependencies before installation: <br><pre> <code class="bash hljs">sudo apt-get install autoconf automake libtool libpng12-dev libjpeg62-dev libtiff4-dev zlib1g-dev</code> </pre><br>  Tesseract also depends on <i>libleptonica-dev</i> version not lower than 1.67.  In Squeeze, this package is outdated, so I had to collect it. <br>  We get the <a href="">source code</a> , unpack and build: <br><pre> <code class="bash hljs">./autobuild ./configure make sudo checkinstall sudo ldconfig</code> </pre><br>  Now we get the <a href="">Tesseract source</a> , unpack it and go to the directory with them. <br>  Next, perform: <br><pre> <code class="bash hljs">./autogen.sh ./configure make sudo checkinstall sudo ldconfig</code> </pre><br>  Tesseract is installed.  We will receive packages for language recognition: <a href="">Russian</a> and <a href="">English</a> - and unpack them into the tessdata directory ( <i>/ usr / local / share / tessdata</i> by default). <br>  You can work. <br><br><h4>  FineReader Engine </h4><br>  An announcement can be viewed <a href="http://habrahabr.ru/company/abbyy/blog/92358/">here</a> . <br><br>  How to get?  We go <a href="http://ocr4linux.com/en:start">here</a> , carefully read and ask for a trial (limit of 100 recognitions).  You can ask in <a href="http://www.abbyy.ru/sdk/trial/">Russian</a> . <br><br>  Installation is simple: <a href="">download</a> , run under the root <i>abbyyocr.run</i> and follow the text instructions. <br><br>  Declared features: support for multiple languages, various encodings, work with passwords, page numbering, recognition of tables, bar codes, texts printed on a matrix printer, typewriter, gothic fonts, etc., output in txt, rtf, html, xml, xls. <br><br><h4>  Rubyquet + </h4><br>  Since I started talking about CLI OCR, I‚Äôll mention CLI <a href="http://rubuquet.weebly.com/index.html">Rubyquet +</a> for Tesseract and Cuneiform. <br>  I did not test it (you can do this) - the same CLI for the above-mentioned OCR is available by itself. <br><br><h3>  OCR CLI comparison </h3><br>  * CLI - command line interface - command line interface (‚Äúconsole‚Äù). <br><br>  <b>I warn you immediately: this section is quite voluminous.</b>  <b>If you want to do without unnecessary details and a lot of letters - I recommend not to disclose spoilers.</b> <br><br>  Remember: I do not claim absolute objectivity of comparison.  You may have other results and other conclusions. <br><br>  I will designate the test criteria. <br><br>  Of course, the perfect result should be one hundred percent recognition of all characters, formatting and pictures.  However, in practice, text recognition is the most popular.  The necessary formatting and addition of text with images is able to be made by the user during post-processing. <br>  To assess the quality of recognition, I will introduce the following criteria (although I will depart from them): <br><br>  The criterion ‚Äú <i>Wrong words</i> ‚Äù - incorrectly recognized words (from one wrong character in a word up to the complete absence of a word) for simplicity of calculation is the most important criterion. <br><br>  The criterion of ‚Äú <i>Incorrect characters</i> ‚Äù - incorrectly recognized characters when it is impossible to use the first criterion (extra characters, punctuation, etc.). <br><br>  The criterion ‚Äú <i>Formatting errors</i> ‚Äù is used to determine the quality of work with tables, figures, definition of writing with bold and italic. <br><br>  For each sample and program, the percentage of correctly recognized words will be calculated, which will be a fundamental factor.  The number of words in the sample I will take on the result of recognition in Finereader. <br><br>  Now about the samples. <br>  What do we most often recognize?  Either the documentation passed through the scanner, or a photograph of the document.  Naturally, with different quality and resolution (for OCR, scanning is recommended as at least 300 dpi, therefore we compare scanned samples to 200dpi, 300 dpi and 600dpi; for photos, we use photography with 2MP and 5MP quality).  In addition, some samples will be tables and pictures. <br><br>  <i>I will give recognizable images in the form of links to them (their direct presence in the article will only interfere).</i>  <i>The recognition result for the first link will be available on Google Docs, the second link with the mark ‚ÄúOriginal‚Äù - in its original form on Dropbox</i> <br><br>  In order not to clutter up the review, instead of the paths of the original image and the resulting text, I will write INPUT and OUTPUT, respectively. <br><br><h5>  Sample number 1 (numbered list). </h5><br><div class="spoiler">  <b class="spoiler_title">Test sample number 1</b> <div class="spoiler_text">  It so happened that this list of questions, scanned at 200 dpi (dots per inch), was the first to come to hand and was constantly used in the course of the study. <br>  <a href="">0001.png</a> <br><br>  Features of the sample: it is actually divided into 2 columns (numbering and the text itself), the Russian language with several Latin characters. <br><br>  1. <i>Cuneiform</i> . <br> <code>cuneiform -l ruseng -f rtf --singlecolumn -o 'OUTPUT' 'INPUT'</code> <br>  Syntax: <br>  <code>-l ruseng</code> - recognize Russian and English in the text (separately, it would be, respectively, <code>rus</code> or <code>eng</code> ); <br>  <code>-f rtf</code> - RTF output format (trying to save formatting); <br>  <code>--singlecolumn</code> - perceive the text as a single column; <br>  <code>-o 'OUTPUT'</code> - path to the file with the text; <br>  <code>'INPUT'</code> - the path to the image. <br><br>  Result: <br>  <a href="https://docs.google.com/document/d/1YLVpDGYzMCkypo5WrKtVw6XvgXtaOj51wrCcfKK4WTk/edit">0001.png.cun.rtf</a> <br>  ( <a href="https://dl.dropbox.com/u/22130570/OCR/0001.png.cun.rtf">Original</a> ) <br><br>  Wrong words: 14 (728 words in the text) <br>  Invalid characters: 7 <br>  Formatting errors: in some places did not put paragraphs, wrongly entered italics. <br><br>  Conclusion: the correctness of word recognition is about 98%.  The main mistake is confusion with ‚Äúi‚Äù and ‚Äún‚Äù.  In one place he managed to recognize the insert in Latin. <br>  Overall good. <br><br>  2. <i>Tesseract</i> . <br> <code>tesseract 'INPUT' 'OUTPUT' -l rus -psm 6</code> <br>  Syntax: <br>  <code>-l rus</code> - 2 languages ‚Äã‚Äãtesseract does not support immediately; <br>  <code>-psm 6</code> - ‚ÄúAssume a single uniform block of text‚Äù, i.e.  format the received text as a single block (otherwise the numbering will be neatly placed before the whole text - a block after all). <br><br>  Result (cannot save in RTF): <br>  <a href="https://docs.google.com/document/d/1SV60E6cpdodGt9l0sQ_yY-kBtPTf9KpBEVuKX0x1UMw/edit">0001.png.tes.txt</a> <br>  ( <a href="https://dl.dropbox.com/u/22130570/OCR/0001.png.tes.txt">Original</a> ) <br><br>  Wrong words: 6 (728 words in the text) <br>  Invalid characters: 5 <br>  Formatting errors: when outputting to a text file, it is impossible to preserve the formatting of the original, it works better with paragraphs than cuneiform, it cannot technically recognize inserts in the Latin alphabet. <br><br>  Conclusion: the correctness of word recognition is about 99%.  The text looks nicer than with cuneiform. <br><br>  3. <i>Finereader</i> . <br>  <b>Immediately I will note a big minus: as far as I understood, Finereader works only with superuser rights.</b> <br> <code>sudo abbyyocr9 -rl Russian English -if 'INPUT' -f RTF -of 'OUTPUT'</code> <br>  Syntax: <br>  <code>-rl Russian English</code> - Russian and English text. <br>  <code>-f RTF</code> - output to RTF. <br><br>  <a href="https://docs.google.com/document/d/1d-RXXydKZxrg5xsqmpeIfOrNq_InkwtWEqlSlOwBook/edit">0001.png.fin.rtf</a> <br>  ( <a href="https://dl.dropbox.com/u/22130570/OCR/0001.png.fin.rtf">Original</a> ) <br><br>  Wrong words: 2 (728 words in the text) <br>  Invalid characters: 0 <br>  Formatting errors: almost perfect.  2 errors in words - could not recognize the Latin alphabet. <br><br>  Conclusion: in fact one hundred percent accuracy. <br><br>  <i>Conclusion on the model number 1</i> : Finereader takes the first place, Tesseract takes the second place, Cuneiform takes the third place with the minimum margin. <br></div></div><br><br><h5>  Sample number 2 (scan English textbook). </h5><br><div class="spoiler">  <b class="spoiler_title">Test sample number 2</b> <div class="spoiler_text"><h6>  200dpi. </h6><br>  <a href="">0002.png</a> <br><br>  1. <i>Cuneiform</i> . <br> <code>cuneiform -l eng -f rtf --singlecolumn -o 'OUTPUT' 'INPUT'</code> <br> <br>  Result: <br>  <a href="https://docs.google.com/document/d/1ivtyPR-1xXJt_KM1ThLD6eZmXPpfJ-f60QTeQ-kQKnU/edit">0002.png.cun.rtf</a> <br>  ( <a href="https://dl.dropbox.com/u/22130570/OCR/0002.png.cun.rtf">Original</a> ) <br><br>  Wrong words: 2 (534 words in text) <br>  Wrong characters: 6 <br>  Formatting errors: recognized footnotes as single quotes, did not cope with square brackets, hyphens and dashes;  could not recognize the transcription of the word. <br><br>  Conclusion: 99% of words.  Good. <br><br>  Version recognized with <i>CuneiformV12</i> : <br>  <a href="https://docs.google.com/document/d/1C4UmGd2-ck7wuXNx_FQ3lLeM4PTE28wlCUF1HCjCWUM/edit">0002.cun.win.rtf</a> <br>  ( <a href="https://dl.dropbox.com/u/22130570/OCR/0002.cun.win.rtf">Original</a> ) <br><br>  The result is close to the result of the native version. <br><br>  2. <i>Tesseract</i> . <br> <code>tesseract 'INPUT' 'OUTPUT' -l eng -psm 6</code> <br> <br>  Result: <br>  <a href="https://docs.google.com/document/d/1iGI5Qw7tljGN8KLqsaG6rAgk2qjtBYHBLDc_WKb_yNA/edit">0002.png.tes.txt</a> <br>  ( <a href="https://dl.dropbox.com/u/22130570/OCR/0002.png.tes.txt">Original</a> ) <br><br>  Wrong words: 1 (534 words in text) <br>  Invalid characters: 4 <br>  Formatting errors: found a couple of extra characters, did not cope with footnotes. <br><br>  Conclusion: 99% of words.  Better than cuneiform. <br><br>  3. <i>Finereader</i> . <br> <code>sudo abbyyocr9 -rl English -if 'INPUT' -f RTF -of 'OUTPUT'</code> <br> <br>  Result: <br>  <a href="https://docs.google.com/document/d/1OXpXXLC2DhCbVsaPlr6PHdJt0HvoidUZ-nPvn_jMcqQ/edit">0002.png.fin.rtf</a> <br>  ( <a href="https://dl.dropbox.com/u/22130570/OCR/0002.png.fin.rtf">Original</a> ) <br><br>  Wrong words: 0 (534 words in text) <br>  Invalid characters: 2 <br>  Formatting errors: did not recognize one footnote and page number. <br><br>  Conclusion: 100% of words, recognized italics.  Best result. <br><br><h6>  The same tutorial, 300 dpi. </h6><br>  <a href="">0003.png</a> <br><br>  1. <i>Cuneiform</i> . <br>  <a href="https://docs.google.com/document/d/1SR5sAcVqOTf532cs2yKV3de9haV1yvjVnCgUyDEzK1o/edit">0003.png.cun.rtf</a> <br>  ( <a href="https://dl.dropbox.com/u/22130570/OCR/0003.png.cun.rtf">Original</a> ) <br><br>  Recognition quality at the same level. <br><br>  2. <i>Tesseract</i> . <br>  <a href="https://docs.google.com/document/d/1zItsWYMc5SyAA29X0FUZPIlrIdKWGekqP0ye7eqMdes/edit">0003.png.tes.txt</a> <br>  ( <a href="https://dl.dropbox.com/u/22130570/OCR/0003.png.tes.txt">Original</a> ) <br><br>  Suddenly, the quality of recognition has deteriorated.  Tesseract managed to recognize horizontal lines as a collection of points and symbols.  In addition, extra characters (tildes, single quotes) appeared in the text itself. <br><br>  3. <i>Finereader</i> . <br>  <a href="https://docs.google.com/document/d/1TzQRqfgf16MvI_dJN6iays4FEI2a2i9lYJYTbw2NuoQ/edit">0003.png.fin.rtf</a> <br>  ( <a href="https://dl.dropbox.com/u/22130570/OCR/0003.png.fin.rtf">Original</a> ) <br><br>  Recognition quality at the same level. <br><br><h6>  The same tutorial, 600 dpi. </h6><br>  <a href="">0004.png</a> <br><br>  1. <i>Cuneiform</i> . <br>  <a href="https://docs.google.com/document/d/1k31DMoOcI4BqksGrYj0VJsqeX1Gcqftb5n17ccKid8s/edit">0004.png.cun.rtf</a> <br>  ( <a href="https://dl.dropbox.com/u/22130570/OCR/0004.png.cun.rtf">Original</a> ) <br><br>  Quality has deteriorated.  Extra characters appear, hyphens and dashes still do not recognize, have lost the letter ‚ÄúU‚Äù in the word ‚ÄúUnit‚Äù. <br><br>  2. <i>Tesseract</i> . <br>  <a href="https://docs.google.com/document/d/13IilIxBVhfvv5PuKlPTvibsk1t3OEZ_OWqV9iUaYGwQ/edit">0004.png.tes.txt</a> <br>  ( <a href="https://dl.dropbox.com/u/22130570/OCR/0004.png.tes.txt">Original</a> ) <br><br>  There is no ‚ÄúUnit 6‚Äù, there is no page number, a few extra quotes appeared. <br><br>  3. <i>Finereader</i> . <br>  <a href="https://docs.google.com/document/d/1isAwPxlVQNLDIl4Oc56mULVe907LW5_6WBrmTCR7Zh4/edit">0004.png.fin.rtf</a> <br>  ( <a href="https://dl.dropbox.com/u/22130570/OCR/0004.png.fin.rtf">Original</a> ) <br><br>  The page number has appeared, and along with it the horizontal line, which has turned into a set of points.  The quality has not improved. <br><br>  <i>Conclusion based on sample 2</i> : for all three systems, the image was optimal at 200 dpi quality.  With an increase in the density of dots per inch, either there was a deterioration in recognition, or there was simply no progress for the better. <br>  I put Finereader on the first place in quality of work, Tesseract on the second (remember that it does not support RTF), on the third (with a minimal lag) - Cuneiform. <br></div></div><br><br><h5>  Sample number 3 (photographed English textbook). </h5><br><div class="spoiler">  <b class="spoiler_title">Test sample number 3</b> <div class="spoiler_text">  The main features of this image are the uneven distribution of brightness and possible blurring (‚Äúshake‚Äù when shooting at long exposures without using a flash) <br>  We will immediately agree that we will not carry out any manual image corrections (except for one example): they both removed it and removed it. <br><br><h6>  5MP with flash. </h6><br>  <a href="">0005.JPG</a> <br><br>  1. <i>Cuneiform</i> . <br>  <a href="https://docs.google.com/document/d/1X5RUh-YbB8neCHD5MK1D5HbPjf96yQGA0k2ZL54dGf8/edit">0005.JPG.cun.rtf</a> <br>  ( <a href="https://dl.dropbox.com/u/22130570/OCR/0005.JPG.cun.rtf">Original</a> ) <br><br>  Recognized about 40% of the text, the rest turned into a mess of various characters. <br><br>  <i>CuneiformV12</i> under Wine in this image recognized just a couple of words.  I do not give an example. <br><br>  2. <i>Tesseract</i> . <br>  <a href="https://docs.google.com/document/d/1E27g-WTw6fJMa0X81um5awO3vLCOI_iL-IaMhrOuuTE/edit">0005.JPG.tes.txt</a> <br>  ( <a href="https://dl.dropbox.com/u/22130570/OCR/0005.JPG.tes.txt">Original</a> ) <br><br>  The result is much better than Cuneiform.  True recognized about 80% of the text. <br><br>  3. <i>Finereader</i> . <br>  <a href="https://docs.google.com/document/d/1PliGzcriCmSb0Q95VZBpake3ZelwrqyJ-eCCRpH2OaQ/edit">0005.jpg.fin.rtf</a> <br>  ( <a href="https://dl.dropbox.com/u/22130570/OCR/0005.jpg.fin.rtf">Original</a> ) <br><br>  Wrong words: 3 (534 words in text) <br>  Invalid characters: 0 <br>  Formatting errors: did not recognize one footnote and page number. <br><br>  Conclusion: 99% accuracy.  Fine. <br><br><h6>  5MP without flash. </h6><br>  <a href="">0006.JPG</a> <br><br>  1. <i>Cuneiform</i> . <br>  <a href="https://docs.google.com/document/d/1R5Jxw7KuBHkIzaWeOSniRgLSeIYgCzt5RCaLrAoe3HE/edit">0006.JPG.cun.rtf</a> <br>  ( <a href="https://dl.dropbox.com/u/22130570/OCR/0006.JPG.cun.rtf">Original</a> ) <br><br>  Recognized about 20% of the text, the result is completely useless. <br><br>  2. <i>Tesseract</i> . <br>  <a href="https://docs.google.com/document/d/1vaOL4L24EiSxBUNqZmabnYGbM-lk82Nh2VGeSXn3QM4/edit">0006.JPG.tes.txt</a> <br>  ( <a href="https://dl.dropbox.com/u/22130570/OCR/0006.JPG.tes.txt">Original</a> ) <br><br>  Recognized about 30% of the text. <br><br>  3. <i>Finereader</i> . <br>  <a href="https://docs.google.com/document/d/1W01jijiBQqZh2gQj51kX1xnRHnXmATNBvlRuBBUoBZU/edit">0006.JPG.fin.rtf</a> <br>  ( <a href="https://dl.dropbox.com/u/22130570/OCR/0006.JPG.fin.rtf">Original</a> ) <br><br>  Recognized about 95% of the text. <br><br><div class="spoiler">  <b class="spoiler_title">About image preprocessing</b> <div class="spoiler_text">  Let me give you a simple example of the fact that pre-processing of an image will increase the quality of recognition (use <i>imagemagick</i> to increase the contrast by normalizing the previous image): <br> <code>convert 'INPUT' -normalize 'OUTPUT'</code> <br>  Result: <br>  <a href="">0006_2.JPG</a> <br><br>  1. <i>Cuneiform</i> . <br>  <a href="https://docs.google.com/document/d/1Twfof7ht0Gbl3dJgUc8WIzB7Pbsl2tpQaTUnnaoSVws/edit">0006_2.JPG.cun.rtf</a> <br>  ( <a href="https://dl.dropbox.com/u/22130570/OCR/0006_2.JPG.cun.rtf">Original</a> ) <br><br>  2. <i>Tesseract</i> . <br>  <a href="https://docs.google.com/document/d/1JXyi7dre0RQKIGY4seNaZUgChgVEAcfv5efZEgLjDfs/edit">0006_2.JPG.tes.txt</a> <br>  ( <a href="https://dl.dropbox.com/u/22130570/OCR/0006_2.JPG.tes.txt">Original</a> ) <br><br>  You can compare yourself: now the results are definitely better. <br></div></div><br><br><h6>  2MP with flash. </h6><br>  <a href="">0007.JPG</a> <a href=""><br></a> <br><br>  1. <i>Cuneiform</i> . <br>  <a href="https://docs.google.com/document/d/1vo-5NGXbp0nduse8nveRE8rWEFcSKMaIV44FG7bttgg/edit">0007.JPG.cun.rtf</a> <br>  ( <a href="https://dl.dropbox.com/u/22130570/OCR/0007.JPG.cun.rtf">Original</a> ) <br><br>  Recognized a few words. <br><br>  2. <i>Tesseract</i> . <br>  <a href="https://docs.google.com/document/d/1s_o1xqFhusro6JbrCeHXj9LQFvfljs4fdCInntsWVRU/edit">0007.JPG.tes.txt</a> <br>  ( <a href="https://dl.dropbox.com/u/22130570/OCR/0007.JPG.tes.txt">Original</a> ) <br><br>  Recognized a couple dozen words. <br><br>  3. <i>Finereader</i> . <br>  <a href="https://docs.google.com/document/d/1Bfa7XubzlX0aQLFAOYp5qZoaBakbsCWMS6s1IQGleW8/edit">0007.JPG.fin.rtf</a> <br>  ( <a href="https://dl.dropbox.com/u/22130570/OCR/0007.JPG.fin.rtf">Original</a> ) <br><br>  Still, Finereader shows the highest class: about 85% of the text is recognized. <br><br><h6>  2MP without flash. </h6><br>  <a href="">0008.JPG</a> <br><br>  1. <i>Cuneiform</i> . <br>  <a href="https://docs.google.com/document/d/1FhWSHMWBqzfy_wG2SJnWZUO5-rKruJ80GriR1aPpF6E/edit">0008.JPG.cun.rtf</a> <br>  ( <a href="https://dl.dropbox.com/u/22130570/OCR/0008.JPG.cun.rtf">Original</a> ) <br><br>  Recognized a couple dozen words. <br><br>  2. <i>Tesseract</i> . <br>  <a href="https://docs.google.com/document/d/1s_o1xqFhusro6JbrCeHXj9LQFvfljs4fdCInntsWVRU/edit">0008.JPG.tes.txt</a> <br>  ( <a href="https://dl.dropbox.com/u/22130570/OCR/0008.JPG.tes.txt">Original</a> ) <br><br>  Recognized about 60% of the text. <br><br>  3. <i>Finereader</i> . <br>  <a href="https://docs.google.com/document/d/1wHyzYGMpMoJfu-Z1CaxUzhPK5KSitgY6OM9u015rfpA/edit">0008.JPG.fin.rtf</a> <br>  ( <a href="https://dl.dropbox.com/u/22130570/OCR/0008.JPG.fin.rtf">Original</a> ) <br><br>  Recognized about 95% of the text. <br><br>  <i>The conclusion is based on sample number 3</i> : here it becomes clear why the Finereader Engine has a size of about 400 MB: it has image processing algorithms bundled with OCR, due to which it gives a consistently good result when recognizing photos.  By means of Cuneiform and Tesseract, it is better not to recognize photos without good preprocessing. <br></div></div><br><br><h5>  Sample No. 4 (recognition of tables and pictures of the scanned image). </h5><br><div class="spoiler">  <b class="spoiler_title">Test sample number 4</b> <div class="spoiler_text">  Picture: <br>  <a href="">0009.png</a> <br><br>  1. <i>Cuneiform</i> . <br> <code>cuneiform -l ruseng -f rtf -o 'OUTPUT' 'INPUT'</code> <br> <br>  <a href="https://docs.google.com/document/d/14clhYGNWkuc6V-BgjgOnXHF1A9vqAzEwywt3zZVOTgk/edit">0009.png.cun.rtf</a> <br>  ( <a href="https://dl.dropbox.com/u/22130570/OCR/0009.png.cun.rtf">Original</a> ) <br><br>  Conclusion: failed. <br><br>  At the same time, <i>CuneiformV12</i> for Wine gives a good result (lost half of the image, but coped with the table). <br>  <a href="https://docs.google.com/document/d/1XMO_k0a1UkbxpTyPfVr9ys7B91p6lPOtVUEoK7B7d4E/edit">0009.cun.wine.rtf</a> <br>  ( <a href="https://dl.dropbox.com/u/22130570/OCR/0009.cun.wine.rtf">Original</a> ) <br><br>  2. <i>Tesseract</i> <br><br>  Unfortunately, it cannot give formatted text. <br><br>  3. <i>Finereader</i> . <br>  <a href="https://docs.google.com/document/d/1JjVBiGl08vaq5zhC5jpBx1gBHcZxm11YRsHjAlS3-qg/edit">0009.png.fin.rtf</a> <br>  ( <a href="https://dl.dropbox.com/u/22130570/OCR/0009.png.fin.rtf">Original</a> ) <br><br>  When I opened this document in Writer, I was very surprised: <i>there was no table</i> (strange: a difference in the implementation of such an old and simple format as RTF? ..).  However, Word and Google Docs opened this RTF correctly. <br>  Finereader did an excellent job with both the picture and the table. <br><br>  <i>The conclusion is based on sample number 4</i> : Finereader is in the first place, CuneiformV12 is in the first place (native Cuneiform did not cope with the task). <br></div></div><br><br><h5>  Sample No. 5 (scanned textbook ‚ÄúMetal constructions‚Äù). </h5><br><div class="spoiler">  <b class="spoiler_title">Test sample number 5</b> <div class="spoiler_text"><h6>  200dpi. </h6><br>  <a href="">0010.png</a> <br><br>  1. <i>Cuneiform</i> . <br> <code>cuneiform -l ruseng -f rtf --singlecolumn -o 'OUTPUT' 'INPUT'</code> <br> <br>  Result: <br>  <a href="https://docs.google.com/document/d/1wNvlHEH-syiGJDQLptHR83ELEGGv__awqhO7Iew7I3Y/edit">0010.png.cun.rtf</a> <br>  ( <a href="https://dl.dropbox.com/u/22130570/OCR/0010.png.cun.rtf">Original</a> ) <br><br>  Wrong words: 17 (310 words in the text) <br>  Invalid characters: 12 <br>  Formatting errors: did not recognize dashes, paragraph signs and percents.  Problems with the recognition of "Y".  Mistakenly recognized italics. <br><br>  Conclusion: 95% of words.  It does not look very much. <br><br>  Version recognized with <i>CuneiformV12</i> : <br>  <a href="https://docs.google.com/document/d/1Coox0JBnGbCUJBxilvhOs4ADTer3HqnI5FL-OHqBtQM/edit">0010.cun.win.rtf</a> <br>  ( <a href="https://dl.dropbox.com/u/22130570/OCR/0010.cun.win.rtf">Original</a> ) <br><br>  The quality is clearly higher than that of the native version. <br><br>  2. <i>Tesseract</i> . <br> <code>tesseract 'INPUT' 'OUTPUT' -l rus -psm 6</code> <br> <br>  Result: <br>  <a href="https://docs.google.com/document/d/1ewL_zZsmNYHKNOrN5o7jzV3qnwE2-cPma10YNQp5uHE/edit">0010.png.tes.txt</a> <br>  ( <a href="https://dl.dropbox.com/u/22130570/OCR/0010.png.tes.txt">Original</a> ) <br><br>  Incorrect words: 8 (310 words in the text) <br>  Invalid characters: 15 <br>  Formatting errors: problems with ‚ÄúJ‚Äù recognition. <br><br>  Conclusion: 97% of words.  Better than cuneiform. <br><br>  3. <i>Finereader</i> . <br> <code>sudo abbyyocr9 -rl Russian English -if 'INPUT' -f RTF -of 'OUTPUT'</code> <br> <br>  Result: <br>  <a href="https://docs.google.com/document/d/17ERvEhgB8dsNnC7eeXmB1nqsc7YY83dw4vPylGtKaYw/edit">0010.png.fin.rtf</a> <br>  ( <a href="https://dl.dropbox.com/u/22130570/OCR/0010.png.fin.rtf">Original</a> ) <br><br>  Incorrect words: 0 (310 words in the text) <br>  Invalid characters: 5 <br>  Formatting errors: problems with capitalization of characters. <br><br>  Conclusion: 100% of words.  Best result. <br><br><h6>  300dpi. </h6><br>  <a href="">0012.png</a> <br><br>  1. <i>Cuneiform</i> . <br>  <a href="https://docs.google.com/document/d/1dYd9qsIkBZtwvWnBA17DUjx4bGPY3tmrraW03PzGVlQ/edit">0012.png.cun.rtf</a> <br>  ( <a href="https://dl.dropbox.com/u/22130570/OCR/0012.png.cun.rtf">Original</a> ) <br><br>  Unlike the previous result, more ‚ÄúY‚Äù and Roman numerals appeared.  For some of the words, recognition has improved, but at the same time new errors and unnecessary characters have appeared. <br><br>  Conclusion: there are no fewer errors. <br><br>  2. <i>Tesseract</i> . <br>  <a href="https://docs.google.com/document/d/1boEpvMm7fX6BYMpn3yCOPL3letKordWRufxNmm_no04/edit">0012.png.tes.txt</a> <br>  ( <a href="https://dl.dropbox.com/u/22130570/OCR/0012.png.tes.txt">Original</a> ) <br><br>  Conclusion: the situation as in the case of Cuneiform: no less errors. <br><br>  3. <i>Finereader</i> . <br>  <a href="https://docs.google.com/document/d/17aiM0EcS2JI_vwyi9MgLfgYcdI8pCvl5C3liAUxb3T0/edit">0012.png.fin.rtf</a> <br>  ( <a href="https://dl.dropbox.com/u/22130570/OCR/0012.png.fin.rtf">Original</a> ) <br><br>  Conclusion: nothing has changed. <br><br><h6>  600dpi. </h6><br>  <a href="">0011.png</a> <br><br>  Both Cuneiform and Tesseract showed a decrease in the quality of recognition, as is the case with the English-speaking sample.  I do not give examples (you can check it yourself). <br><br>  <i>Conclusion based on sample 5</i> : it was confirmed that the use of an image with a quality of more than 200 dpi does not lead to an improvement in the result. <br>  The first place is occupied by Finereader, the second - by Tesseract, the third - by Cuneiform (and it works better under Wine). <br></div></div><br><br><h5>  Sample # 6 (scanned O'Henry story page). </h5><br><div class="spoiler">  <b class="spoiler_title">Test sample number 6</b> <div class="spoiler_text"><h6>  200dpi. </h6><br>  <a href="">0013.png</a> <br><br>  1. <i>Cuneiform</i> . <br>  <a href="https://docs.google.com/document/d/1zHfrL7jewCA_bcMjkNyBDtfFjiukEH3azUi2G2kiZD4/edit">0013.png.cun.rtf</a> <br>  ( <a href="https://dl.dropbox.com/u/22130570/OCR/0013.png.cun.rtf">Original</a> ) <br><br>  Wrong words: 28 (316 words in text) <br>  Invalid characters: set. <br>  Formatting errors: wrong italics. <br><br>  Conclusion: 91% of words, a lot of mistakes, which is unacceptable for such a sample. <br><br>  And the version recognized by <i>CuneiformV12</i> : <br>  <a href="https://docs.google.com/document/d/1p76JThl165eMMyl0CZAzJ9CulfYDS97IWzDjnY24G4M/edit">0013.cun.win.rtf</a> <br>  ( <a href="https://dl.dropbox.com/u/22130570/OCR/0013.cun.win.rtf">Original</a> ) <br><br>  Incorrect words: 15 (316 words in the text) <br>  Invalid characters: several. <br>  Formatting errors: no. <br><br>  Conclusion: 95% of words, the result is better than the native version. <br><br>  2. <i>Tesseract</i> . <br>  <a href="https://docs.google.com/document/d/12PWD4_ZUaxuM79NPlZZhm4KWtm_Y2IJmFBFPerQl-r8/edit">0013.png.tes.txt</a> <br>  ( <a href="https://dl.dropbox.com/u/22130570/OCR/0013.png.tes.txt">Original</a> ) <br><br>  Incorrect words: 30 (316 words in the text) <br>  Invalid characters: set. <br>  Formatting errors: extra characters. <br><br>  Conclusion: 90% of words are bad. <br><br>  3. <i>Finereader</i> . <br>  <a href="https://docs.google.com/document/d/1i4oYRt1Y3vuWnJRgh-jJq5RXVDfO7CVsUtGam2SAtEg/edit">0013.png.fin.rtf</a> <br>  ( <a href="https://dl.dropbox.com/u/22130570/OCR/0013.png.fin.rtf">Original</a> ) <br><br>  Incorrect words: 3 (316 words in text) <br>  Invalid characters: no. <br>  Formatting errors: no. <br><br>  Conclusion: 99% of words. <br><br>  <i>The conclusion is based on sample number 6</i> : Cuneiform and Tesseract have the same type of recognition errors of the letters ‚Äúi‚Äù, ‚Äún‚Äù and ‚Äún‚Äù from the sample font. <br>  First place - Finereader, second - Cuneiform under Wine (native Cuneiform worked worse), third - Tesseract. <br></div></div><br><br><h5>  Sample ‚Ññ7 (scanned page of the book "The Moment of Truth"). </h5><br><div class="spoiler">  <b class="spoiler_title">Test sample number 7</b> <div class="spoiler_text"><h6>  200dpi. </h6><br>  <a href="">0014.png</a> <br><br>  1. <i>Cuneiform</i> . <br>  <a href="https://docs.google.com/document/d/1oW7_K-F4PasfRcOtZuk-0HCW2W6nncP-JxdL1EUSkgg/edit">0014.png.cun.rtf</a> <br>  ( <a href="https://dl.dropbox.com/u/22130570/OCR/0014.png.cun.rtf">Original</a> ) <br><br>  Wrong words: 11 (323 words in the text) <br>  Invalid characters: persistently does not recognize hyphens and dashes. <br>  Formatting errors: wrong italics. <br><br>  Conclusion: 91% of words, bad. <br><br>  And the version recognized by CuneiformV12: <br>  <a href="https://docs.google.com/document/d/1iiUpwxJuvmtIfQvnKaX91U_Csx_wL0U8zXTcUPexuxU/edit">0014.cun.win.rtf</a> <br>  ( <a href="https://dl.dropbox.com/u/22130570/OCR/0014.cun.win.rtf">Original</a> ) <br><br>  Wrong words: 1 (323 words in the text) <br>  Invalid characters: 1. <br>  Formatting errors: no. <br><br>  Conclusion: 99% of words, great. <br><br>  2. <i>Tesseract</i> . <br>  <a href="https://docs.google.com/document/d/1AuBavWcjGLAohFiXJtJVIHVOLO0k0XAztXpvbq5OTIE/edit">0014.png.tes.txt</a> <br>  ( <a href="https://dl.dropbox.com/u/22130570/OCR/0014.png.tes.txt">Original</a> ) <br><br>  Wrong words: 30 percent. <br>  Invalid characters: set. <br>  Formatting errors: extra characters. <br><br>  Conclusion: disgusting. <br><br>  3. <i>Finereader</i> . <br>  <a href="https://docs.google.com/document/d/1W6iTxP7rtZmqyVuhYGVCSXu8vTkmHEBAyFY6jbizbM0/edit">0014.png.fin.rtf</a> <br>  ( <a href="https://dl.dropbox.com/u/22130570/OCR/0014.png.fin.rtf">Original</a> ) <br><br>  Incorrect words: 0 (323 words in the text) <br>  Invalid characters: no. <br>  Formatting errors: no. <br><br>  Conclusion: 100% of words.  Perfect. <br><br>  <i>Conclusion on the model number 7</i> : First place - Finereader, second - Cuneiform under Wine (native Cuneiform worked much worse), third - Tesseract (the result is useless even to correct). <br></div></div><br><br><h5>  Sample ‚Ññ8 (Pangram with different fonts). </h5><br><div class="spoiler">  <b class="spoiler_title">Test sample number 8</b> <div class="spoiler_text">  Finally, the last test, which reveals the dependence of OCR on the font (the original is printed on an inkjet printer with medium quality). <br><br>  In this example, for clarity, if necessary, I will correct the paragraphs and font names. <br><br><h6>  200dpi. </h6><br>  <a href="">0015.png</a> <br><br>  1. <i>Cuneiform</i> . <br>  Russian text: <br>  <a href="https://docs.google.com/open%3Fid%3D0BxyyTboyIEdcaHI0NWFXNFowM0U">0015_rus.png.cun.txt</a> <br>  ( <a href="https://dl.dropbox.com/u/22130570/OCR/0015_rus.png.cun.txt">Original</a> ) <br><br>  Without errors (not counting the ill-fated hyphen), only Arial and Trebuchet MS are recognized. <br><br>  English text: <br>  <a href="https://docs.google.com/open%3Fid%3D0BxyyTboyIEdcVVFGamlJcFVkREk">0015_eng.png.cun.txt</a> <br>  ( <a href="https://dl.dropbox.com/u/22130570/OCR/0015_eng.png.cun.txt">Original</a> ) <br><br>  Errors only in Courier New and ISOCPEUR. <br><br>  <i>CuneiformV12</i> : <br>  Russian text: <br>  <a href="https://docs.google.com/open%3Fid%3D0BxyyTboyIEdcUDhldG9DVHhxYk0">0015_rus.wine.cun.txt</a> <br>  ( <a href="https://dl.dropbox.com/u/22130570/OCR/0015_rus.wine.cun.txt">Original</a> ) <br><br>  No errors are recognized by Sans-serif, Arial, Courier New, DejaVu Sans, DejaVu Serif, Palladio Uralic, Trebuchet MS, Verdana. <br><br>  The difference compared to ported Cuneiform is obvious. <br><br>  English text: <br>  <a href="https://docs.google.com/open%3Fid%3D0BxyyTboyIEdcakNhbm9zbzdiQTQ">0015_eng.wine.cun.txt</a> <br>  ( <a href="https://dl.dropbox.com/u/22130570/OCR/0015_eng.wine.cun.txt">Original</a> ) <br><br>  Suddenly, there are three times more mistakes than in the native version. <br><br>  2. <i>Tesseract</i> . <br>  Russian text: <br>  <a href="https://docs.google.com/open%3Fid%3D0BxyyTboyIEdcQzJRX1VTc2lNeEE">0015_rus.png.tes.txt</a> <br>  ( <a href="https://dl.dropbox.com/u/22130570/OCR/0015_rus.png.tes.txt.txt">Original</a> ) <br><br>  Errors (again, not counting problems with hyphens) are only in Palladio Uralic, Verdana and ISOCPEUR. <br><br>  English text: <br>  <a href="https://docs.google.com/open%3Fid%3D0BxyyTboyIEdcaEFJbEI2TlY2Ykk">0015_eng.png.tes.txt</a> <br>  ( <a href="https://dl.dropbox.com/u/22130570/OCR/0015_eng.png.tes.txt.txt">Original</a> ) <br><br>  No errors. <br><br>  <i>Conclusion based on sample number 8</i> : CuneiformV12 (under Wine) and Tesseract worked best with Russian.  Tesseract coped with English without mistakes. <br></div></div><br><br><h3>  GUI for Linux. </h3><br>  * GUI - graphical user interface - a graphical interface (‚Äúwindows and buttons‚Äù). <br><h4>  Yagf </h4><br><img src="https://habrastorage.org/storage2/a26/5dc/d4f/a265dcd4f49e39908e5cb68b1db276bb.png"><br><br>  <a href="http://symmetrica.net/cuneiform-linux/yagf-ru.html">Official page.</a> <br><br>  Dependencies when building: <i>libaspell-dev</i> and <i>libqt4-dev</i> version 4.5 or later.  <i>Qt 4.5</i> and <i>aspell are</i> needed to run (see the documentation that comes with the source). <br><br>  Installation (start in the source directory): <br><pre> <code class="bash hljs">mkdir builddir <span class="hljs-built_in"><span class="hljs-built_in">cd</span></span> build dir cmake ../ make sudo checkinstall</code> </pre><br><br>  Yagf is well localized, can get an image from the clipboard, from a file, from a scanner, import pdf, allows you to align the image. <br><br>  In the Yagf settings, you can switch between Tesseract and Cuneiform.  Yagf can produce batch recognition (all imported images) or recognition of a specific text area. <br>  The only significant disadvantage I consider is the impossibility of setting additional parameters for scan engines, i.e.  similar to the command line (OCRFeeder, discussed below, does not have this drawback). <br><br><h4>  Cuneiform-qt </h4><br><img src="https://habrastorage.org/storage2/bbd/842/04f/bbd84204fce8fee8f9fd1cd2adb32115.png"><br><br>  The project began and ended its active life in April 2009 as part of the <a href="http://www.altlinux.org/Cuneiform-Qt">Altlinux</a> project.  Cuneiform-Qt provides a simple GUI for Cuneiform. <br><br>  Since I didn‚Äôt expect anything special from this GUI, I decided to limit myself to installing the <a href="">ready-made package</a> version 0.1.1-1 (the latest source version 0.1.2 - the development was not far). <br><br>  The GUI, by the way, turned out to be very interesting - when it was saved in RTF, the recognized text turned into a sequence of several Latin characters repeated hundreds of times, arranged in a column one letter wide.  In a plain text file, the save is normal. <br><br>  We conclude: this GUI is useless. <br><br><h4>  KBookOCR </h4><br><img src="https://habrastorage.org/storage2/f57/2af/9f2/f572af9f29013e839163ed92a65373ae.png"><br><br>  This was <a href="http://habrahabr.ru/post/109052">announced on Habr√©</a> ‚Äúkiller Finereader'a‚Äù, which is a superstructure over Cuneiform. <br>  <a href="http://kbookocr.blogspot.com/">Official blog of the author.</a> <br>  <a href="http://opendesktop.org/content/show.php%3Fcontent%3D135361">Deb package.</a> <br><br>  Unfortunately, in dependencies pulls a piece of KDE.<font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Version 2.2, planned over a year ago, implies Tesseract support, but there seems to be no progress. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">For the review, I used Kubuntu 12.04 in Virtualbox. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Version 2.1 of this software can get an image from a file or by scanning, display the result in html or open it in a text editor. </font><font style="vertical-align: inherit;">To distinguish blocks for recognition, KBookOcr, unlike Yagf, does not know how. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Conclusion: KBookOcr loses Yagf in terms of functionality and is intended only for KDE.</font></font><br><br><h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> OCRFeeder </font></font></h4><br><img src="https://habrastorage.org/storage2/701/96d/58f/70196d58ff1da918948a67aeaa601d93.png"><br> <a href="https://live.gnome.org/OCRFeeder"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">GUI</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> for Cuneiform, Tesseract and a pair of other OCRs that do not support Russian. </font><font style="vertical-align: inherit;">In deb-packages are presented only very old versions, so we will collect from the </font></font><a href=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">source code</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Immediately there is an irritation: Readme is written to version 0.3, the current version is 0.7.1. </font><font style="vertical-align: inherit;">The file structure has changed, there is no required setup.py. </font><font style="vertical-align: inherit;">But there is </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">./confugure</font></font></i> <br>  Dependencies: <br><pre> <code class="bash hljs">sudo apt-get install python-pygoocanvas ocrad unpaper python-gtkspell python-enchant sane python-imaging-sane</code> </pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Further, it turns out that: </font></font><br> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Your intltool is too old. </font><font style="vertical-align: inherit;">You need intltool 0.35.0 or later. </font></font></i> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">The old </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">intltool-debian</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> package is installed by default </font><font style="vertical-align: inherit;">: we put the </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">intltool</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> version 0.41 </font><font style="vertical-align: inherit;">package from the repository </font><font style="vertical-align: inherit;">. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">We collect:</font></font><br><pre> <code class="bash hljs">./confugure make sudo checkinstall</code> </pre><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">The set of functions is standard: open / scan, save / open in the editor. </font><font style="vertical-align: inherit;">There are several bonuses: unpaper is supported, the settings of the recognition engine allow you to transfer to it in text form any supported parameters (for example, the choice of the recognition language is done this way); </font><font style="vertical-align: inherit;">You can select text blocks.</font></font><br><br><h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Ocropus </font></font></h4><br> <a href="http://code.google.com/p/ocropus/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">http://code.google.com/p/ocropus/</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - either GUI or Tesseract CLI. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Following the instructions, I tried to build the latest version, but python said about some source line: </font></font><br> <code>SyntaxError: invalid syntax</code> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">I don‚Äôt want to go into the code, I conclude that the product is more dead than alive.</font></font><br><br><h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> gImageReader </font></font></h4><br><img src="https://habrastorage.org/storage2/0a1/432/36b/0a143236bac7cd78a062f126d6e3df56.png"><br> <a href="https://sourceforge.net/projects/gimagereader"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tesseract GUI. </font></font></a> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Take the deb package </font></font><a href="https://sourceforge.net/projects/gimagereader/files/latest/download"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">from here</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br><br> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">gImageReader is</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> as simple as possible: it allows you to open an image, adjust brightness and contrast on the go and recognize the text area or all at once.</font></font><br><br><h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Tesseract-gui </font></font></h4><br><img src="https://habrastorage.org/storage2/112/429/612/1124296124995ecef0555440b7295e23.png"><br> <a href="http://tesseract-gui.sourceforge.net/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Project page. </font></font></a> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Packages lie </font></font><a href="https://sourceforge.net/projects/tesseract-gui"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">here</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">I refused to recognize anything. </font></font><br><br> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Conclusion about the GUI</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> : </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">The only real advantage presented by the GUI may be the recognition function of individual text blocks (some cannot and this). </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Therefore, I believe that the existing Linux OCR GUIs are not functional. </font><font style="vertical-align: inherit;">If we choose among them, then in fact the only acceptable will be only two: Yagf and OCRFeeder. </font><font style="vertical-align: inherit;">At the same time, the Yagf community is used and mentioned much more often. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Try and leave your impressions.</font></font><br><br><h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Online-OCR test </font></font></h3><br> <a href="http://www.km.ru/tekhnologii/2012/05/25/obzor-onlain-servisov-dlya-opticheskogo-raspoznavaniya-tekstov"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A small list of online-OCR</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Online OCR is very much, and, in principle, they are all implemented on the three engines listed above: </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Cuneiform</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tesseract</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> and </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Finereader</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Since the OCR data falls under the topic of this article, we consider a couple of them, at the same time we will draw interesting conclusions. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1. </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Finereader Online</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br> <a href="http://finereader.abbyyonline.com/ru"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">finereader.abbyyonline.com/ru</font></font></a> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Clearly based on Finereader Engine 9 (or maybe 10?) I did not try, I am sure of high quality. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Allows you to recognize 10 pages per day for free. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2. </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">New OCR</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br> <a href="http://www.newocr.com/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">www.newocr.com</font></font></a> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Free, does not require registration and has no restrictions.</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A very interesting resource that will allow you to draw conclusions about the ultimate applicability of </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Cuneiform</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> and </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tesseract</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Load the images with which these two systems have problems, and look at the result.</font></font><br><br><h5><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Sample No. 3, 5MP without flash </font></font></h5><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Recognition with </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Cuneiform</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> : </font></font><br> <a href="https://docs.google.com/document/d/1aUyBjvWBgu9jNQrQ6cVUAtc5Dcn15ZAuDgJ9TEV2VEM/edit"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">0006.cun.newocr.txt</font></font></a> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ( </font></font><a href="https://dl.dropbox.com/u/22130570/OCR/0006.cun.newocr.txt"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Original</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ) </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Recognition with </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tesseract</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> : </font></font><br> <a href="https://docs.google.com/document/d/1tjPEETr_ORXeTv96eEj4vEV9k072d327jdGeCVoyZIM/edit"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">0006.tes.newocr.txt</font></font></a> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ( </font></font><a href="https://dl.dropbox.com/u/22130570/OCR/0006.tes.newocr.txt"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Original</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ) </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">The online recognition results are obviously better.</font></font><br><br><h5><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Sample # 7 </font></font></h5><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Recognition with </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Cuneiform</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> : </font></font><br> <a href="https://docs.google.com/document/d/1h-Ry2QFR8xq61gBLQWSO-2J6j_RDXgPNDJKg-LWD1dA/edit"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">0014.cun.newocr.txt</font></font></a> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ( </font></font><a href="https://dl.dropbox.com/u/22130570/OCR/0014.cun.newocr.txt"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Original</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ) </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">There are not enough hyphens and dashes, however, there are only 2 errors in the words. Excellent result. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Recognition with </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tesseract</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> : </font></font><br> <a href="https://docs.google.com/document/d/15fSX40BtWr5c3f8MX-0-Hj_rM3NWm_s7WyWx5V_0sIs/edit"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">0014.tes.newocr.txt</font></font></a> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ( </font></font><a href="https://dl.dropbox.com/u/22130570/OCR/0014.tes.newocr.txt"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Original</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ) </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">6 errors in words, a few extra characters - but Tesseract in my image </font></font><a href="https://docs.google.com/document/d/1AuBavWcjGLAohFiXJtJVIHVOLO0k0XAztXpvbq5OTIE/edit"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">could not</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> recognize normal text. Perhaps the most interesting test result.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Here's a great example of using free OCR: the site creators explicitly applied image pre-processing and (possibly) text post-processing (adjustments using dictionaries or something like that). And in this form, free OCRs can already compete with Finereader.</font></font><br><br><h3>  Conclusion </h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">We considered three OCR systems that can work with Russian and English. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Without a doubt, FineReader Engine v9.0 showed the best result. It perfectly recognizes both scanned and photographed images. However, its minimum cost is ‚Ç¨ 149 for a license for 12,000 recognitions per year - do you need this? </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Free OCR: Cuneiform and Tesseract - by themselves can only adequately process </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">scanned images</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> with uniformly distributed across the field brightness and high contrast. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Both engines coped well with the English-speaking sample, while problems arose with the Russian text - in general, during the test, it turned out that the results of the work of free OCR "float" from sample to sample.</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">At the same time, CuneiformV12, running under Wine, coped with Russian texts better than the native version under Linux. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Interesting was the fact that, on the examined samples, the optimal image quality was 200 dpi - with a higher number of dots per inch, the quality of recognition began to deteriorate. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">The Cuneiform and Tesseract GUIs are many, but they don‚Äôt bring real value. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">On the example of FineReader and the online system New OCR, it is clearly seen that a normal functional OCR must necessarily exist in conjunction with an image preprocessing system and a text post-processing system based on vocabulary control of the results. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">At the same time, this technology for free engines has actually been implemented (in New OCR, recognition is very high quality).</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">It is enough to share such technology or implement it yourself - and the free OCR will be on the same level with ABBYY products - after that you can talk about writing a good GUI. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">To summarize: free OCRs do not provide a stable result even on scanned images, Finereader costs money - it is easier for a simple user to use online services. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Well, if you are going to use OCR on a different scale, there‚Äôs a different conversation: you have to pay or spend time adjusting the results manually. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PS If you have ready-made ideas or scripts for preparing an image for recognition - share in the comments. </font><font style="vertical-align: inherit;">Everyone will be interesting and useful.</font></font></div><p>Source: <a href="https://habr.com/ru/post/153617/">https://habr.com/ru/post/153617/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../153605/index.html">"And it all went!" Or again about Coursera and others like him</a></li>
<li><a href="../153609/index.html">The development of the right hemisphere of the brain or how I learned to draw</a></li>
<li><a href="../153611/index.html">Raspberry Pi. Video transmission for remote control</a></li>
<li><a href="../153613/index.html">Seven more HTML5 features you might not know about</a></li>
<li><a href="../153615/index.html">Nokia Plan B (take 2)?</a></li>
<li><a href="../153619/index.html">MiniSCADA do it yourself</a></li>
<li><a href="../153625/index.html">Configuring Cisco ACS 5.3 in conjunction with Active Directory</a></li>
<li><a href="../153631/index.html">How is the short-term forecast for Yandex.Probka</a></li>
<li><a href="../153633/index.html">About how I got Java from PDF Flash</a></li>
<li><a href="../153635/index.html">How do you most often read technical literature?</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>