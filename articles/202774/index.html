<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>There is a possibility of glitches in Chrome / Chromium 31, Opera 18: selectors like nth-last-child can work incorrectly</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="In issues of chromium over the past few days, several issues have appeared in which the following scenario is described: a heavy css3 selector is used...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>There is a possibility of glitches in Chrome / Chromium 31, Opera 18: selectors like nth-last-child can work incorrectly</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/getpro/habr/post_images/be6/572/8d7/be65728d7ea62360a1e44628fc07f28f.png"><br>  In issues of chromium over the past few days, several issues have appeared in which the following scenario is described: a heavy css3 selector is used, as a result of which there is an incorrect appeal.  Including the selector to multiple objects can work incorrectly through a comma (#a, #b, #c etc.), nth-last-child definitely does not work correctly.  Guaranteed bug with it. <br>  The problem, apparently, is in the mechanism of css-requests, since document.querySelector is also incorrectly addressed.  What is most unpleasant - jQuery also relies on native functions (if they exist).  Thus, complex jQuery queries also stopped working correctly. <br>  If your projects use nth-last-child, the details of the bug under the cut <br><a name="habracut"></a><br>  The bug manifests itself under all OSs: the reports in the chrome repository go under windows, we came across a problem in Mac OS. <br>  In version 31, as it turned out, a very strange behavior of the nth-last-child appeared: <br>  : nth-last-child (1) ==: last-child, it may be a matter of query optimization. <br>  : nth-last-child (2) == null <br>  : nth-last-child (3) ==: nth-child (1) <br>  : nth-last-child (4) ==: nth-child (2) <br>  and so on. <br>  At the same time, this behavior is enabled for any change in styles.  This can be: hover, and jQuery initialization. <br><br>  Subjectively, sensations suggest that other ‚Äúheavy‚Äù css3 selectors may also not work correctly. <br><br>  In our case - immediately after the discovery, we checked all the projects and found $ (': nth-last-child (3)') in two pieces of code.  Fortunately, the selector influenced the functionality slightly.  In other projects, such selectors are also sometimes found (both in styles and in code), so be prepared for a little unusual work of sites, and the more complex the site, the greater the likelihood of strange behavior in the world's most popular automatically updated browser in at least the next few days <br>  Yes, it seems to be one of the usual Chrome bugs, but the trouble is that using nth-last-child as a crutch in some projects now, unfortunately, is a relatively common practice, and, for example, a solution with a conditional block width for headers has appeared two years ago. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Examples of incorrect behavior: <br><img src="https://habrastorage.org/getpro/habr/post_images/3ce/64c/91b/3ce64c91b619dfb9ff9a37b3a7e33499.png"><br>  Slightly modified code from one of the examples: <br>  <a href="http://codepen.io/anon/pen/buDsp">http://codepen.io/anon/pen/buDsp</a> <br>  To start the glitch move the mouse around the circles. <br>  Gifka with what is happening: (just hover, not clicks) <br><img src="https://habrastorage.org/getpro/habr/post_images/275/ba2/c15/275ba2c155c7c32113df0b3b6d2b7f85.gif"><br><br>  In this case, nth-of-type and nth-last-of-type work correctly, so that in most cases you can use them as a temporary solution. <br>  Oh, yes, the issue, of course, is already in the chromium tracker, as it was written at the very beginning, this is just information for those who use nth-last-child in production - that this selector will most likely not work correctly. </div><p>Source: <a href="https://habr.com/ru/post/202774/">https://habr.com/ru/post/202774/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../202764/index.html">The history of the RaspberryPi microcomputer</a></li>
<li><a href="../202766/index.html">Game Life on LiveScript in 30 lines</a></li>
<li><a href="../202768/index.html">Monitoring the quality of service. Best practics</a></li>
<li><a href="../202770/index.html">LG Smart TVs Spying on Users</a></li>
<li><a href="../202772/index.html">Elektron Octatrack - details</a></li>
<li><a href="../202776/index.html">Plugin system on ASP.NET. Or a site with plugins, mademoiselles and preference</a></li>
<li><a href="../202778/index.html">New Hackathons and Tizen Training! And something about the past ...</a></li>
<li><a href="../202780/index.html">We make a prefix - Geiger counter to the iPhone in 2 hours</a></li>
<li><a href="../202782/index.html">Integrating wysiwyg editor with Django. Overview</a></li>
<li><a href="../202784/index.html">XSS'im iOS devices on the example of software from Facebook, Google, VKontakte</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>