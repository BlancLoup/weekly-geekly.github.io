<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Multilingual spelling checker for programs using Hunspell</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Many often face the need to check spelling in several languages ‚Äã‚Äãat once, but not all existing programs allow such checking by prompting the user to ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Multilingual spelling checker for programs using Hunspell</h1><div class="post__text post__text-html js-mediator-article">  Many often face the need to check spelling in several languages ‚Äã‚Äãat once, but not all existing programs allow such checking by prompting the user to switch from one language to another, which is rather inconvenient and takes a lot of time. <br><img src="https://habrastorage.org/storage2/d13/3ae/097/d133ae097d40a44eb5297f17bf608b93.png"><br>  Not wanting to put up with such inconvenience for programs that use Hunspell dictionaries (FireFox, Seamonkey, Miranda, etc.), it was decided to create an automatic graphical utility for splicing several languages, with the possibility of further use of the resulting dictionaries. <br><a name="habracut"></a><br><br><h5>  History of creation </h5><br>  A couple of lines about the history of creation.  The idea originated in 2008, when I compiled a comprehensive Russian ‚Äì English dictionary for FireFox. <br><br>  It was posted on the Mozilla ftp site. <br>  <a href="">ftp.mozilla-russia.org/dictionaries/en-en_spell_dictionary.xpi</a> <br>  There was also a forum thread. <br>  <a href="http://forum.mozilla-russia.org/viewtopic.php%3Fid%3D15316">forum.mozilla-russia.org/viewtopic.php?id=15316</a> 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      A lot of time has passed since that moment, but just recently, almost at the same time, I received several letters from interested people who asked for something more recent. <br>  Rather than send ready-made updates, I decided to modify the GUI utility, which would allow users to put together several dictionaries together. <br><br>  At that moment, the utility was written ‚Äúfor myself‚Äù in Delphi, which I used at work, but you cannot call it a cross-platform solution. <br>  Of course, now you can use the latest versions of Embarcadero RAD Studio to create cross-platform solutions, however, I decided to stop at the implementation of an automatic utility using Java. <br><br><h5>  Task </h5><br>  The utility in its minimum implementation should be able to <br><br>  1. Download dictionaries from the following most common formats <br>  - uncompressed * .dic and * .aff <br>  - ZIP archive (* .zip) <br>  - XPInstall format (* .xpi) <br>  - OpenOffice Extensions (* .oxt) <br><br>  2. To give the opportunity to choose dictionaries for gluing <br><br>  3. To give the ability to change the name of the received dictionaries and descriptions <br><br>  4. Upload in formats <br>  - uncompressed * .dic and * .aff <br>  - ZIP archive (* .zip) <br>  - XPInstall format (* .xpi) <br><br><h5>  Implementation </h5><br>  Before starting to create a program, it was necessary to study the format of dictionaries in order to be able to load and glue them. <br><br>  Information on Hunspell can be found here. <br>  <a href="http://hunspell.sourceforge.net/">hunspell.sourceforge.net</a> <br><br>  Format description <br>  <a href="http://pwet.fr/man/linux/fichiers_speciaux/hunspell">pwet.fr/man/linux/fichiers_speciaux/hunspell</a> <br>  or in Russian translation <br>  <a href="http://mozilla-russia.org/projects/dictionary/hunspell.html">mozilla-russia.org/projects/dictionary/hunspell.html</a> <br><br>  In short, Hunspell requires two files to check spelling.  The first file is a dictionary containing words (* .dic), the second is an affix file (* .aff), which defines the values ‚Äã‚Äãof special labels (flags) in the dictionary.  Flags are assigned to words in a dictionary file, and are defined in an affix file. <br><br>  Considering the format and structure of files, the main task was not to disrupt the correspondence of affixes for different dictionaries besides simple pasting the files of dictionaries. <br><br>  There are three approaches to naming flags in an affix file. <br>  1. By default, each affix is ‚Äã‚Äãreferred to as one letter (including the registry) or a number. <br>  2. Long - each affix is ‚Äã‚Äãcalled two letters or a letter with a number. <br>  3. Number - each affix has a value from 1 to 65000. <br><br>  Since in most cases (the dictionaries I encountered), the affix file contained only a few dozen different affix flags, the authors of the dictionaries could use the first approach with one letter, but it was clearly not suitable for splicing several files due to the large number of different affixes therefore it was decided to use digital naming in the resulting files.  There is a minus, of course - some increase in the size of files, but I think this is not critical. <br><br>  Also, all dictionary files were often in different encodings, therefore, for unification, the overall resulting UTF-8 encoding was chosen. <br><br>  Otherwise, there were no particular problems. <br>  The program loads dictionaries, sticks them together, ignoring duplicate words, as a result discards unused affix flags. <br><br>  In this article, I will not go into the implementation of individual procedures, because for those who wish, I posted the source code here. <br>  There is also a script for the ANT collector. <br><br>  <a href="https://code.google.com/p/hunspell-merge/">code.google.com/p/hunspell-merge</a> <br><br><h5>  How to work </h5><br>  At the moment, I have tested the operation of the utility under Ubuntu and Windows 7 with the types of source files specified in the task for implementation. <br>  Requires <a href="http://www.oracle.com/technetwork/java/javase/downloads/index.html">Java Runtime (JRE)</a> . <br><br>  Downloading HunspellMerge.jar and the startup file for your Linux or Windows OS <a href="https://code.google.com/p/hunspell-merge/downloads/list">from this page</a> .  For Linux, do not forget to put the right to run the file. <br>  It is also possible to launch using Java Webstart - the launch file is located <a href="">at this link</a> . <br><br><img src="https://habrastorage.org/storage2/745/4cb/0ed/7454cb0edfd40dbe43ac10701d3534b8.png"><br><br><img src="https://habrastorage.org/storage2/ea4/d6e/15f/ea4d6e15fc9e1f887ef6982bde23ab87.png"><br><br>  To work, you need to have a set of source files, which by default can be placed in the dictionaries subfolder of the working folder of the utility. <br><br>  Additional dictionaries can be downloaded from the links located here. <br>  <a href="https://code.google.com/p/hunspell-merge/wiki/OnlineDictionaries">code.google.com/p/hunspell-merge/wiki/OnlineDictionaries</a> <br><br>  After starting the utility or selecting a new source dictionary folder, they will be displayed in the list of dictionaries. <br>  The user only needs to select (holding Ctrl or Shift) several dictionaries, select the destination folder, specify the language name and, if the upload is in XPInstall format, then correct the dictionary description. <br><br><h5>  Use of work results </h5><br>  Firefox <br>  Output Format (XPInstall) <br>  Just copy the file path or drag the file into the browser address bar. <br>  Click the input and install the extension. <br><br>  Miranda / MirandaNG <br>  Output Format (Dictionary) <br>  Copy the files (* .aff, * .dic) to the Dictionaries folder in the program directory.  Restart Miranda. <br><br><h5>  Plans </h5><br>  Since the utility was written for a couple of evenings, there was no special time for testing and supporting extended instructions of the affixes file.  It is in the plans for revision, however, some instructions for one language may be at odds with the same instructions for another, so for the time being three types of basic flags are supported - suffixes (SFX), prefixes (PFX), replacement (REP). <br><br>  Add Russian language for the interface. <br><br>  It would also be nice to write documentation and improve the page on GoogleCode. <br><br><h5>  Conclusion </h5><br>  I would very much like to hear in which other programs such glued dictionaries work. <br>  I realize that the program is not without flaws, so I will be glad to hear suggestions and suggestions for improving the utility. <br><br>  Thank you for your interest. <br><br>  <b>UPD</b> As it turned out, there is a benefit even from simple gluing dictionaries of the same language, loaded with different resources or having different directions, for example, technical, economic. </div><p>Source: <a href="https://habr.com/ru/post/158441/">https://habr.com/ru/post/158441/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../158431/index.html">Parsing pictures into text: a simple algorithm</a></li>
<li><a href="../158433/index.html">Making SQL service plans for 1C: Enterprise 8.x</a></li>
<li><a href="../158435/index.html">VPN? Super easy! I guarantee it</a></li>
<li><a href="../158437/index.html">Number generation in words from any arbitrary number</a></li>
<li><a href="../158439/index.html">Cocos2d-x for Android: speeding up file reading</a></li>
<li><a href="../158443/index.html">Internet Optimization Techniques</a></li>
<li><a href="../158445/index.html">Review GALAXY Camera (Part I)</a></li>
<li><a href="../158447/index.html">Configure tv tuner Beholder 609 on linux Mint 13</a></li>
<li><a href="../158449/index.html">Electronic mountain bike suspension control system</a></li>
<li><a href="../158451/index.html">3 billion entries in Java Map with 16 GB RAM</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>