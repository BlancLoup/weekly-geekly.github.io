<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>How to do without WDS server when installing Windows from WIM images over a network</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Introduction 
 Images in WIM format prepared in the MDT system, Microsoft offers to deploy over the network using a WDS server , or integrate into SCC...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>How to do without WDS server when installing Windows from WIM images over a network</h1><div class="post__text post__text-html js-mediator-article"><h1>  Introduction </h1><br>  Images in <a href="https://msdn.microsoft.com/en-us/library/windows/desktop/dd861280.aspx">WIM</a> format prepared in the <a href="https://msdn.microsoft.com/en-us/library/dn781292.aspx">MDT</a> system, Microsoft offers to deploy over the network using a <a href="https://msdn.microsoft.com/en-us/library/aa967394.aspx">WDS server</a> , or <a href="https://technet.microsoft.com/en-us/library/dn744295.aspx">integrate into SCCM</a> . <br>  SCCM is quite expensive, but the WDS server is free if you are a happy owner of a license for Windows Server 2008/2012.  But not everyone is happy with the capabilities of the WDS server. <br>  The method offered by me will be useful to those: <br><ul><li>  who does not have a license for Windows Server, or all the resources on existing servers are already involved and there is no possibility to purchase another license; </li><li>  who does not like the Windows PE boot speed via the <a href="https://tools.ietf.org/html/rfc1350">TFTP</a> protocol used by the WDS server; </li><li>  who needs to combine the deployment of Windows and Linux across a network on the same server. </li></ul><br>  I want to offer readers a solution based on Ubuntu Linux OS, using syslinux and iPXE. <a name="habracut"></a><br><br>  In the future, the use of Ubuntu 14.04 LTS will be implied. <br>  The services listed below do not have to run on the same server. <br><br><h1>  Installing and configuring the tftp server </h1><br>  A <a href="http://manpages.ubuntu.com/manpages/natty/man8/tftpd.8.html">tftpd-hpa</a> server will be used to organize data transfer using the TFTP protocol.  It has the necessary capabilities, and also supports remapping. <br>  Install the appropriate package: <br><pre><code class="bash hljs">aptitude install tftpd-hpa</code> </pre> <br>  Settings are in the configuration file. <div class="spoiler">  <b class="spoiler_title">/ etc / default / tftpd-hpa</b> <div class="spoiler_text"><pre> <code class="bash hljs">RUN_DAEMON=<span class="hljs-string"><span class="hljs-string">"yes"</span></span> TFTP_USERNAME=<span class="hljs-string"><span class="hljs-string">"tftp"</span></span> TFTP_DIRECTORY=<span class="hljs-string"><span class="hljs-string">"/var/lib/tftpboot"</span></span> TFTP_ADDRESS=<span class="hljs-string"><span class="hljs-string">"0.0.0.0:69"</span></span> TFTP_OPTIONS=<span class="hljs-string"><span class="hljs-string">"--secure --listen --verbose --verbosity 10 --map-file /etc/tftpd.remap --refuse blksize"</span></span></code> </pre> </div></div><br>  We also need a file with rules for remapping. <div class="spoiler">  <b class="spoiler_title">/etc/tftpd.remap</b> <div class="spoiler_text"><pre> <code class="bash hljs">rg \\ / ri (.*)√ø$ \1 ri (.*)M-\^\?$ \1 ri (pxelinux\.0).*$ \1</code> </pre>  The first line overrides the slashes for Windows OS, the following warns of possible problems with loading on some network adapters when the client tries to request the tftp server for the file pxelinux.0M- ^ or pxelinux.0√ø instead of pxelinux.0. </div></div>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h1>  Set up an http server </h1><br>  What do we need an http server for, because a tftp server is enough to load WIM images over the network? <br>  It so happened that Trivial FTP, although it provides basic functions for transferring files over the network, cannot provide high reliability and data transfer speed. <br>  As practice shows, images from Windows PE about 250MB in size are downloaded over the 1Gbps network using the http protocol several times faster (5-10 seconds, against 30-60 seconds, respectively). <br>  You can also download preseed files for the debian-installer installer using the http protocol. <br>  You can use apache, nginx or any other server that you like as the http server.  No special settings are required.  The main thing is that the * .ipxe, * .wim and other files listed on the http-server listed below are available for reading. <br><br><h1>  Configure dhcp server </h1><br>  According to <a href="http://www.faqs.org/rfcs/rfc2132.html">RFC1232,</a> you must configure option 66 TFTP server name, where you can specify the IP address of your tftp server, for example, 192.168.1.1;  and option 67 Bootfile name, where you specify the file name to load ‚Äúpxelinux.0‚Äù; <br><br>  If you use, for example, isc-dhcp-server running Ubuntu, you will need to add something like this to the file <div class="spoiler">  <b class="spoiler_title">/etc/dhcp/dhcpd.conf</b> <div class="spoiler_text"><pre> <code class="bash hljs">shared-network PXE-Netwotk { subnet 192.168.1.0 netmask 255.255.255.0 { <span class="hljs-comment"><span class="hljs-comment">#     range 192.168.1.2 192.168.1.254; option routers 192.168.1.1; option subnet-mask 255.255.255.0; option domain-name-servers 192.168.1.1; #        filename "pxelinux.0"; next-server 192.168.1.1; option root-path "192.168.1.1:/var/lib/tftpboot/"; #   } }</span></span></code> </pre> </div></div><br><br><h1>  Install and configure the syslinux bootloader </h1><br><h2>  Install the bootloader </h2><br>  We will need <a href="http://www.syslinux.org/wiki/index.php/SYSLINUX">syslinux</a> version 5.03 or higher. <div class="spoiler">  <b class="spoiler_title">I would recommend building a bootloader from source codes, there‚Äôs nothing scary and complicated about it.</b> <div class="spoiler_text">  To build from source you need to install make, gcc, nasm, uuid-dev, and execute the commands: <br><pre> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment">#      wget https://www.kernel.org/pub/linux/utils/boot/syslinux/syslinux-6.03.zip #   unzip syslinux-6.03.zip -d syslinux-6.03 #      make cd syslinux-6.03 make #      tftp-: cd .. cp syslinux-6.03/bios/memdisk/memdisk /var/lib/tftpboot/ find ./syslinux-6.03/bios/ -name "pxelinux.0"|xargs -I {} cp '{}' /var/lib/tftpboot/ find ./syslinux-6.03/bios/ -name "*.c32"|xargs -I {} cp '{}' /var/lib/tftpboot/</span></span></code> </pre></div></div><br><h2>  Setup loader menu </h2><br>  Create a directory for the syslinux menu files: <pre> <code class="hljs swift">mkdir -p /<span class="hljs-keyword"><span class="hljs-keyword">var</span></span>/lib/tftpboot/pxelinux.cfg/</code> </pre>  And create a file with the default menu <div class="spoiler">  <b class="spoiler_title">/var/lib/tftpboot/pxelinux.cfg/default</b> <div class="spoiler_text"><pre> <code class="bash hljs">ui vesamenu.c32 PROMPT 0 menu background background.jpg menu title PXE boot menu <span class="hljs-comment"><span class="hljs-comment">#        LABEL bootlocal menu label Boot from first HDD kernel chain.c32 append hd0 0 #     12  timeout 120 TEXT HELP The system will boot after the time is up ENDTEXT #     LABEL Central Office -&gt; KERNEL vesamenu.c32 APPEND pxelinux.cfg/CentralOffice #     LABEL Regional Offices -&gt; # menu PASSWD $1$15opgKTx$dP/IaLNiCbfECiC2KPkDC0 #        ,  Qwerty,  MD5 KERNEL vesamenu.c32 APPEND pxelinux.cfg/RegionalOffices</span></span></code> </pre> </div></div>  And now create a submenu directly to boot the OS: <br><div class="spoiler">  <b class="spoiler_title">/var/lib/tftpboot/pxelinux.cfg/CentralOffice</b> <div class="spoiler_text"><pre> <code class="hljs xml">PROMPT 0 UI vesamenu.c32 MENU BACKGROUND background.jpg MENU TITLE Central Office #     LABEL <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">-</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">Main</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">Menu</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">KERNEL</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">vesamenu.c32</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">APPEND</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">pxelinux.cfg</span></span></span><span class="hljs-tag">/</span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">default</span></span></span><span class="hljs-tag"> #   </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">http</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">LABEL</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">PE</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">via</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">http</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">KERNEL</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">ipxe.lkrn</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">APPEND</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">dhcp</span></span></span><span class="hljs-tag"> &amp;&amp; </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">chain</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">http:</span></span></span><span class="hljs-tag">//</span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">192.168.2.1</span></span></span><span class="hljs-tag">/</span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">winpe.ipxe</span></span></span><span class="hljs-tag"> #     </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">tftp</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">LABEL</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">PE</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">via</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">tftp</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">KERNEL</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">ipxe.lkrn</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">APPEND</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">dhcp</span></span></span><span class="hljs-tag"> &amp;&amp; </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">chain</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">tftp:</span></span></span><span class="hljs-tag">//</span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">192.168.2.1</span></span></span><span class="hljs-tag">/</span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">winpe.ipxe</span></span></span><span class="hljs-tag"> #    </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">debian-installer</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">LABEL</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">Ubuntu</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">KERNEL</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">ubuntu-installer</span></span></span><span class="hljs-tag">/</span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">i386</span></span></span><span class="hljs-tag">/</span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">linux</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">APPEND</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">initrd</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">ubuntu-installer/i386/initrd.gz</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">preseed</span></span></span><span class="hljs-tag">/</span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">url</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">http://192.168.1.1/preseed/custom.seed</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">debconf</span></span></span><span class="hljs-tag">/</span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">priority</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">high</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">auto-install</span></span></span><span class="hljs-tag">/</span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">enable</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">true</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">debian-installer</span></span></span><span class="hljs-tag">/</span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">language</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">ru</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">debian-installer</span></span></span><span class="hljs-tag">/</span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">locale</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">ru_RU.UTF-8</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">debian-installer</span></span></span><span class="hljs-tag">/</span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">country</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">RU</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">ipv6.disable</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">1</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">netcfg</span></span></span><span class="hljs-tag">/</span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">hostname</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">testname</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">DEBCONF_DEBUG</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">5</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">--</span></span></span></span></code> </pre> </div></div>  where winpe.ipxe is the configuration file with settings for ipxe, which we will examine below in the appropriate section. <br>  Do not forget that the tftp server cannot work with symbolic links, so you will need to make a separate copy of the winpe.ipxe file in the tftp server directory if you want to compare download speeds on http and tftp. <br>  Some network cards do not have time to raise the link the first time, so you can make a second download attempt in case of failure, using the operator "||".  If, after the second attempt, we fail again, we can display the interface statistics and open the command line to diagnose the problem: <br><pre> <code class="hljs ruby">APPEND dhcp &amp;&amp; chain <span class="hljs-symbol"><span class="hljs-symbol">http:</span></span>/<span class="hljs-regexp"><span class="hljs-regexp">/192.168.2.1/winpe</span></span>.ipxe <span class="hljs-params"><span class="hljs-params">||</span></span> dhcp &amp;&amp; chain <span class="hljs-symbol"><span class="hljs-symbol">http:</span></span>/<span class="hljs-regexp"><span class="hljs-regexp">/192.168.2.1/winpe</span></span>.ipxe <span class="hljs-params"><span class="hljs-params">||</span></span> ifstat &amp;&amp; shell</code> </pre> <br><br><h1>  iPXE </h1><br><h2>  IPXE installation </h2><br>  <a href="http://ipxe.org/">iPXE,</a> I also propose to collect from source codes, besides, it is also very simple: <br><pre> <code class="hljs nginx"><span class="hljs-attribute"><span class="hljs-attribute">git</span></span> clone git://git.ipxe.org/ipxe.git cd ipxe/src make cp bin/ipxe.lkrn /var/lib/tftpboot</code> </pre> <br>  If any network card refuses to raise the link with any attempt, then the problem is most likely in the iPXE driver. <br>  Especially this problem concerns new network cards from Intel.  I have problems with i218lm cards and with i218v-2, with a forced speed of 1 Gbit on the switch. <br>  Before building, you need to fix ipxe / src / drivers / net / intel.c: for i218lm and i218v-2 set the flag INTEL_NO_PHY_RST: <br><pre> <code class="hljs nginx"><span class="hljs-attribute"><span class="hljs-attribute">PCI_ROM</span></span> ( 0x8086, 0x155a, <span class="hljs-string"><span class="hljs-string">"i218lm"</span></span>, <span class="hljs-string"><span class="hljs-string">"I218-LM"</span></span>, INTEL_NO_PHY_RST), PCI_ROM ( 0x8086, 0x15a1, <span class="hljs-string"><span class="hljs-string">"i218v-2"</span></span>, <span class="hljs-string"><span class="hljs-string">"I218-V"</span></span>, INTEL_NO_PHY_RST ),</code> </pre> <br><br><h2>  Install wimboot </h2><br>  To download WIM images via iPXE, you need the <a href="http://ipxe.org/wimboot">wimboot</a> utility. <br>  Installing this utility is also very simple: <br><pre> <code class="bash hljs">wget http://git.ipxe.org/releases/wimboot/wimboot-latest.zip unzip wimboot-latest.zip cp wimboot-2.5.1-signed/wimboot /var/lib/tftpboot/</code> </pre> <br><br><h2>  Creating .ipxe configuration files </h2><br>  The configuration files .ipxe (the extension can be any, but it is more convenient) contain instructions for the ipxe kernel: what exactly to load next. <br>  We will load the wimboot utility, and pass it to the parameters in the path to the BCD boot configuration data file, the boot disk RAM configuration file and to the boot.wim image.  It is not necessary to save the directory structure; wimboot will take care of this.  All files can be folded into one directory. <br>  <u><b>winpe.ipxe</b></u> <br><pre> <code class="hljs 1c"><span class="hljs-meta"><span class="hljs-meta">#!ipxe kernel http:</span><span class="hljs-comment"><span class="hljs-meta"><span class="hljs-comment">//192.168.1.1/boot/wimboot initrd http://192.168.1.1/boot/DeploymentShare/Boot/x86/Boot/bcd BCD initrd http://192.168.1.1/boot/DeploymentShare/Boot/x86/Boot/boot.sdi boot.sdi initrd http://192.168.1.1/boot/DeploymentShare/Boot/LiteTouchPE_x86.wim boot.wim boot</span></span></span></span></code> </pre> <br>  In this example, a symbolic link is made on the http server for 192.168.1.1/boot/DeploymentShare right to the root of MDT DeploymentShare.  This method is not suitable as the main working option.  Since  if you suddenly create a ‚Äúcurve‚Äù wim-image, then immediately spoil the download on the network for those who work with it.  But this method is well suited for testing new wim images. <br>  Those who wish can replace the http protocol on the tftp in the .ipxe file - it will also work, but slowly. <br><br>  Everything.  Now you can boot and install the OS. <br><br><div class="spoiler">  <b class="spoiler_title">Information sources</b> <div class="spoiler_text"><ul><li>  <a href="https://msdn.microsoft.com/en-us/library/dn781292.aspx">msdn.microsoft.com/en-us/library/dn781292.aspx</a> </li><li>  <a href="https://msdn.microsoft.com/en-us/library/windows/desktop/dd861280.aspx">msdn.microsoft.com/en-us/library/windows/desktop/dd861280.aspx</a> </li><li>  <a href="https://msdn.microsoft.com/en-us/library/aa967394.aspx">msdn.microsoft.com/en-us/library/aa967394.aspx</a> </li><li>  <a href="https://technet.microsoft.com/en-us/library/dn744295.aspx">technet.microsoft.com/en-us/library/dn744295.aspx</a> </li><li>  <a href="https://tools.ietf.org/html/rfc1350">tools.ietf.org/html/rfc1350</a> </li><li>  <a href="http://manpages.ubuntu.com/manpages/natty/man8/tftpd.8.html">manpages.ubuntu.com/manpages/natty/man8/tftpd.8.html</a> </li><li>  <a href="http://www.faqs.org/rfcs/rfc2132.html">www.faqs.org/rfcs/rfc2132.html</a> </li><li>  <a href="http://www.syslinux.org/wiki/index.php/SYSLINUX">www.syslinux.org/wiki/index.php/SYSLINUX</a> </li><li>  <a href="http://ipxe.org/">ipxe.org</a> </li></ul></div></div></div><p>Source: <a href="https://habr.com/ru/post/268827/">https://habr.com/ru/post/268827/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../268817/index.html">Jii: Scalable comets server and client</a></li>
<li><a href="../268819/index.html">Adobe has updated its products</a></li>
<li><a href="../268821/index.html">CISCO 7942G and 7940 phones in conjunction with Asterisk 11</a></li>
<li><a href="../268823/index.html">How to install Nutanix CE under VMware ESXi</a></li>
<li><a href="../268825/index.html">Angular XSLT module</a></li>
<li><a href="../268829/index.html">Microsoft fixed Windows kernel vulnerabilities</a></li>
<li><a href="../268833/index.html">Restoring the window size upon restart, a lot of fixes in Vivaldi 1.0.298.15. Plus movie</a></li>
<li><a href="../268837/index.html">Visual Studio Code - the evolution of the cross-platform code editor on the example of the version for OS X</a></li>
<li><a href="../268841/index.html">The mystery of the finalizers in Go</a></li>
<li><a href="../268845/index.html">Why do I need a free code and how to earn on it</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>