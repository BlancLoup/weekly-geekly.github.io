<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Windows XP Home without antivirus</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="I recently read the topics " Windows-based computer without antiviruses " and " Configuring group policies for limited use of programs in Windows 7 .....">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Windows XP Home without antivirus</h1><div class="post__text post__text-html js-mediator-article">  I recently read the topics " <a href="http://habrahabr.ru/blogs/sysadm/97594/">Windows-based computer without antiviruses</a> " and " <a href="http://habrahabr.ru/blogs/sysadm/101971/">Configuring group policies for limited use of programs in Windows 7</a> ... I want to share how I set up Windows XP Home Edition, so as not to use antivirus software, but rather to minimize the chance of infection. <br><a name="habracut"></a><br>  It all started with the fact that in one office, which I had served until recently, there were always problems with viruses.  The authorities did not want to give money to the antiviruses, everywhere there were houms, autostart from disks and flash drives were blocked, IE too ... But it did not help.  In the end, I got sick of it all and I took the ‚Äúlast step‚Äù ... <br><br>  In Windows, it is possible to create a ‚Äúwhite‚Äù or ‚Äúblack list‚Äù.  The ‚Äúblack list‚Äù means that the programs listed in it will not be launched, and ‚Äúwhite‚Äù, that only those programs that are listed in it + necessary for the system to work will be launched. <br><br><br><h4>  "White list" </h4><br>  Based on the "white list", you can make a good protection against Malvari.  To create it you need to perform at least two steps: <ol><li> In the registry branch <code>HKEY_CURRENT_USER\SOFTWARE\Microsoft\Windows\CurrentVerson\Policies\Explorer</code> you must create a <code>RestrictRun</code> parameter of type DWORD (REG_DWORD) with a value of <code>1</code> . </li><li>  In the <code>HKEY_CURRENT_USER\Software\Microsoft\Windows\CurrentVersion\Policies\Explorer\</code> branch, create the <code>RestrictRun</code> key, and in it the parameter <code>0</code> <sup><b>1</b></sup> of the STRING type (REG_SZ) with the value of <code>regedit.exe</code> . </li></ol>  You need to restart your computer for the changes to take effect. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <blockquote>  <b>IMPORTANT!</b>  If you perform step 1, but do NOT perform step 2, then after a reboot, you will not be able to start <u>any</u> program.  To fix this, you will need to log in as another user with admin rights, open the registry editor, find the <code>HKEY_USERS</code> branch, select it, select the File menu -&gt; Load hive ..., in the file open dialog find the <code>NTUSER.DAT</code> file in the user‚Äôs directory , under the name of which this joint was made, and press the "Open" button.  After that, find and delete the <code>RestrictRun</code> parameter or assign it a value of <code>0</code> , and then reboot. <br>  Thank you <a href="https://habrahabr.ru/users/xn__p2a/" class="user_link">xn__p2a</a> </blockquote><br>  In the future, you can add programs to <code>HKEY_CURRENT_USER\Software\Microsoft\Windows\CurrentVersion\Policies\Explorer\RestrictRun</code> similar to paragraph 2. In this case, the reboot is no longer needed, the changes take effect immediately. <br><br>  In order not to go into the registry editor every time, I created a reg-file in which I entered the list of programs and later, as necessary, corrected it, and after editing it started. <br>  Below is a small piece of this file: <br><blockquote> <code>Windows Registry Editor Version 5.00 <br> <br> [HKEY_CURRENT_USER\Software\Microsoft\Windows\CurrentVersion\Policies\Explorer] <br> "RestrictRun"=dword:00000001 <br> <br> [HKEY_CURRENT_USER\Software\Microsoft\Windows\CurrentVersion\Policies\Explorer\RestrictRun] <br> "0"="regedit.exe" <br> "1"="notepad.exe" <br> "2"="wupdmgr.exe" <br> "3"="cleanmgr.exe" <br> "4"="wordpad.exe" <br> "5"="calc.exe" <br> "6"="mstsc.exe" <br> "7"="taskmgr.exe" <br> "8"="7zFM.exe" <br> "9"="7zG.exe" <br> "10"="7z.exe" <br> "11"="firefox.exe" <br> "12"="java.exe" <br> "13"="FlashUtil10d.exe" <br> "14"="NPSWF32_FlashUtil.exe" <br> "15"="thunderbird.exe" <br> "16"="soffice.exe" <br> "17"="soffice.bin" <br> "18"="python.exe" <br> "19"="sbase.exe" <br> "20"="scalc.exe" <br> "21"="sdraw.exe" <br> "22"="simpress.exe" <br> "23"="smath.exe" <br> "24"="swriter.exe" <br></code> </blockquote>  And the entire file can be downloaded <a href="">here</a> .  However, it is worth keeping in mind that my option is unlikely to suit you.  My files differed from computer to computer, but usually the first 24 programs were always. <br><br><br><h4>  disadvantages </h4><ol><li>  This method <b>will not protect the</b> computer from viruses that do not create files on the disk (for example, ms-blast), as well as from penetrating by ‚Äúlaunching‚Äù the dynamic library <sup><b>2</b></sup> (for example, the configurator). </li><li>  <b>The complexity of the implementation.</b>  It is necessary to investigate <sup><b>3</b></sup> programs, find out which files they launch at startup and in the process of work, in order to include them in the ‚Äúwhite list‚Äù. </li><li>  The inconvenience of <b>making changes.</b>  The user cannot write to the <code>RestrictRun</code> key, despite the fact that the changes are made in the <code>HKEY_CURRENT_USER</code> branch.  Therefore, you have to log out of the user account, log in under the admin, give the user admin rights, log in under the user, edit the registry, log out again, admin again, select admin rights from the user%) Or, from the admin, through the <code>HKEY_USERS</code> branch, as described above. </li><li>  You can not specify the <b>full path</b> .  If the virus file is named in the same way as any program from the ‚Äúwhite list‚Äù, then it (the virus) will be launched.  Also, the user can rename the file to the allowed one and start (almost) any programs in this way. </li></ol><br><h4>  Practice </h4><br>  For two years of using this "trick" viruses were not observed.  On each computer was ClamWin, which in the evenings scanned disks.  Just once a month I checked the system with antivirus offline.  The only problem is user dissatisfaction, which was quickly suppressed by explaining to the authorities "what, for what and how." <br><br><br><h4>  "Black list" </h4><br>  Once I gave a hint at the beginning about the ‚Äúblack list‚Äù, I will tell you a little about him.  It can be useful when it is necessary to prohibit the launch of several programs.  It is created in the same way as the ‚Äúwhite list‚Äù in two steps: <ol><li>  In the registry branch <code>HKEY_CURRENT_USER\SOFTWARE\Microsoft\Windows\CurrentVerson\Policies\Explorer</code> you need to create a <code>DisallowRun</code> parameter of type DWORD (REG_DWORD) with a value of <code>1</code> . </li><li>  In the <code>HKEY_CURRENT_USER\Software\Microsoft\Windows\CurrentVersion\Policies\Explorer\</code> branch, create a <code>DisallowRun</code> key, and in it a parameter <code>0</code> <sup><b>1 of</b></sup> type STRING (REG_SZ) with a value, for example, to prevent the calculator from running, <code>calc.exe</code> . </li></ol>  You need to restart your computer for the changes to take effect. <br><br><br><br><hr>  <sup><b>1</b></sup> Parameter names must consist of numbers.  Countdown starts from scratch.  The numbers must go in order. <br>  <sup><b>2</b></sup> Winda controls the launch of the prog due to the fact that the <code>ShellExecute</code> and <code>ShellExecuteEx</code> functions, which are a wrapper for CreateProcess, check the <code>RestrictRun</code> key.  Thus, the proposed method will protect only from unauthorized launching of programs only by the user himself, as well as from those viruses that are trying to launch something through ShellExecute (the majority of which).  More details about ShellExecute and RestrictRun can be read <a href="http://pisoft.ru/locker/artik/createproc.htm">here</a> (there we are talking about LockWin, but the mechanism of operation of <code>RestrictRun</code> described well). <br>  Thanks <a href="https://habrahabr.ru/users/shiko_1st/" class="user_link">shiko_1st</a> . <br>  <sup><b>3</b></sup> For research, I used the program <a href="http://technet.microsoft.com/ru-ru/sysinternals/bb896653.aspx">Process Explorer</a> and <a href="http://technet.microsoft.com/ru-ru/sysinternals/bb896645.aspx">Process Monitor</a> from <a href="http://blogs.technet.com/b/markrussinovich/about.aspx">Mark Russinovich (Mark Russinovich)</a> . <br><br>  <i><b>UPD1:</b></i> To limit the launch of programs only from Program Files, you can use the Microsoft <a href="http://www.microsoft.com/downloads/details.aspx%3Fdisplaylang%3Dru%26FamilyID%3Dd077a52d-93e9-4b02-bd95-9d770ccdb431">SteadyState</a> utility.  Thank you <a href="https://habrahabr.ru/users/kondorkm/" class="user_link">kondorkm</a> <br><br>  <i><b>UPD2:</b></i> For managing access rights in the home Windows, the console utility cacls.exe is included, as well as: <br>  xcacls.vbs - downloaded from MS <br>  xcacls.exe - included with the Windows Support Tools <br>  subinacl.exe - included with the Windows Resource Kit Tools <br>  Thank you <a href="https://habrahabr.ru/users/xn__p2a/" class="user_link">xn__p2a</a> </div><p>Source: <a href="https://habr.com/ru/post/102298/">https://habr.com/ru/post/102298/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../102290/index.html">Minecraft - your personal sandbox</a></li>
<li><a href="../102292/index.html">Sync content blocking and fixes for * nix</a></li>
<li><a href="../102293/index.html">Google introduces GTalk voice and video support for Linux</a></li>
<li><a href="../102295/index.html">Are you a developer? So why are you still working for someone?</a></li>
<li><a href="../102296/index.html">ASUS N73Jn - weighted solution</a></li>
<li><a href="../102300/index.html">Software Development for Saratov SFD'09: How It Was</a></li>
<li><a href="../102301/index.html">Career admin eyes of an economist</a></li>
<li><a href="../102302/index.html">Math Career</a></li>
<li><a href="../102306/index.html">Math Career</a></li>
<li><a href="../102311/index.html">About the battery status applet</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>