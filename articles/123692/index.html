<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Developing a Twitter live search application using Knockout, jQuery and ASP.NET MVC 3</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="It's not trivial enough to develop a well-designed front-end web application with responsiveness, performance, and features that users expect today. I...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Developing a Twitter live search application using Knockout, jQuery and ASP.NET MVC 3</h1><div class="post__text post__text-html js-mediator-article">  It's not trivial enough to develop a well-designed front-end web application with responsiveness, performance, and features that users expect today.  It‚Äôs easy to get lost in the boiling jQuery mix of event handlers, HTML markup and AJAX calls, and even a relatively simple GUI can quickly become a nightmare to maintain. <br><br>  One way to add some structure and order on the client side is to use a framework like Knockout.  Knockout is an open source free Javascript library that helps to implement the <a href="http://ru.wikipedia.org/wiki/Model-View-ViewModel">Model-View-View Model (MVVM) pattern</a> on the client.  It is well <a href="http://knockoutjs.com/documentation/introduction.html">documented</a> and the official web site is a great starting point with a bunch of <a href="http://knockoutjs.com/examples/">real-life examples</a> that not only demonstrate the use of built-in library features, but also show how to extend it with your own features. <br><br>  In this post, we will look at how Knockout can be used in conjunction with a mapping plugin, some jQuery, and an ASP.NET MVC 3 backend (or model, as you like) to build a simple but effective Twitter search app. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <a name="habracut"></a><br><h4>  purpose </h4><br>  Our goal is simple: the user should be able to enter some search criteria (such as a hashtag or Twitter username), then the application should submit the most relevant tweets.  Also, a lot of results should be automatically updated in a certain background procedure on the client so that the GUI always shows the most recent tweets found.  (This can be useful, for example, when tracking some event that occurs here and now.) Ultimately, we would like to get something like this: <br><img src="http://blog.jayway.com/wordpress/wp-content/uploads/2011/07/twitter-live-search.png"><br><br><h4>  Step 1: Model Definition </h4><br>  Twitter introduces a <a href="http://search.twitter.com/api/">search API</a> that is simple enough to use and that can return a response to search queries in XML (Atom) or JSON format.  We could allow our client to communicate directly with the Twitter API, but this would deprive us of the opportunity to improve the application by adding caching, some kind of stub in case of a Twitter crash, etc .;  so a good idea would be to create our own model instead, and for this we are going to use a very simple ASP.NET MVC 3 application. <br><br>  First, create a standard empty web application (with Razor as the display engine) and add a controller - let's call it <b>TwitterController</b> .  Then rename the ‚ÄúIndex‚Äù action, which was automatically created with the new controller, to ‚ÄúSearch‚Äù.  The controller will look something like this: <br><blockquote><code><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="black"><font color="#0000ff">public</font> <font color="#0000ff">class</font> TwitterController : Controller <br> { <br> [HttpGet] <br> <font color="#0000ff">public</font> ActionResult Search() <br> { <br> <font color="#0000ff">return</font> View(); <br> } <br> }</font> <br> <br> <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></code> </blockquote> <br>  Next, we are going to create an action method that performs a current Twitter search.  For this task, we will use the Atom version of the search API.  The request URL matches the following <b><a href="">search.twitter.com/search.atom?q=</a> [URL-encoded search parameters]</b> format.  Because  Atom is XML, we can use LINQ to XML to parse and transform a lot of results (Twitter <a href="">returns a lot of data</a> that we don‚Äôt need, so we reduce it to a minimum). <br><br>  But we have no desire to send XML to the client - better than JSON.  Fortunately, it is easy to convert most objects into JSON, and in this case the easiest way is to use the built-in Json method, which is returned by JsonResult.  It all comes down to: <br><blockquote> <code><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="black">[HttpPost] <br> <font color="#0000ff">public</font> ActionResult Search( <font color="#0000ff">string</font> query) <br> { <br> <font color="#0000ff">var</font> atomResult = <font color="#2B91AF">XDocument</font> .Load( <font color="#0000ff">string</font> .Format( <br> <font color="#A31515">"http://search.twitter.com/search.atom?q={0}"</font> , <br> HttpUtility.UrlEncode(query))); <br> XNamespace ns = <font color="#A31515">"http://www.w3.org/2005/Atom"</font> ; <br> <font color="#0000ff">var</font> searchResult = <br> <font color="#0000ff">from</font> tweet <font color="#0000ff">in</font> atomResult.Descendants(ns + <font color="#A31515">"entry"</font> ) <br> let image = tweet.Elements(ns + <font color="#A31515">"link"</font> ) <br> .Where(e =&gt; e.Attributes() <br> .Any(a =&gt; a.Name == <font color="#A31515">"rel"</font> &amp;&amp; <br> a.Value == <font color="#A31515">"image"</font> )) <br> .First(). <font color="#2B91AF">Attribute</font> ( <font color="#A31515">"href"</font> ).Value <br> let url =  tweet.Elements(ns + <font color="#A31515">"link"</font> ) <br> .Where(e =&gt; e.Attributes() <br> .Any(a =&gt; a.Name == <font color="#A31515">"rel"</font> &amp;&amp; <br> a.Value == <font color="#A31515">"alternate"</font> )) <br> .First(). <font color="#2B91AF">Attribute</font> ( <font color="#A31515">"href"</font> ).Value <br> <font color="#0000ff">select</font> <font color="#0000ff">new</font> <br> { <br> id = tweet.Element(ns + <font color="#A31515">"id"</font> ).Value, <br> author = tweet.Element(ns + <font color="#A31515">"author"</font> ).Element(ns + <font color="#A31515">"name"</font> ).Value, <br> imageUrl = image, <br> tweetUrl = url, <br> tweetText = tweet.Element(ns + <font color="#A31515">"title"</font> ).Value <br> }; <br> <font color="#0000ff">return</font> Json(searchResult); <br> }</font> <br> <br> <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></code> </blockquote> <br>  (The code above includes a parsing procedure to highlight an avatar in the author‚Äôs profile and a link to each individual tweet.) <br><br>  That's all - we built our model! <br><br><h4>  Step 2: Implementing the View Model </h4><br>  Before we start developing the GUI, we will need to add some links to our solution.  Either via <a href="http://nuget.org/">NuGet</a> , or manually loading jQuery, Knockout, and jQuery.tmpl.  Then add a ‚ÄúSearch.cshtml‚Äù view in Views / Twitter (do not use the ‚Äúmaster page‚Äù or layout - it‚Äôs easier to get an idea of ‚Äã‚Äãthe essence in a small task, similar to ours, if we don‚Äôt smear the solution over many separate files).  Add the mentioned javascript links.  When you do this, you will have something like this: <br><blockquote> <code><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="black"><font color="#0000ff">&lt;!</font> <font color="#800000">DOCTYPE</font> <font color="#ff0000">html</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">html</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">head</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">meta</font> <font color="#ff0000">charset</font> <font color="#0000ff">="utf-8"</font> <font color="#0000ff">/&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">title</font> <font color="#0000ff">&gt;</font> Twitter Live Search <font color="#0000ff">&lt;/</font> <font color="#800000">title</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">script</font> <font color="#ff0000">src</font> <font color="#0000ff">="@Url.Content("</font> ~/ <font color="#ff0000">Scripts</font> / <font color="#ff0000">jquery-1</font> . <font color="#ff0000">6</font> . <font color="#ff0000">2</font> . <font color="#ff0000">js</font> <font color="#0000ff">")"</font> <br> <font color="#ff0000">type</font> <font color="#0000ff">="text/javascript"</font> <font color="#0000ff">&gt;&lt;/</font> <font color="#800000">script</font> <font color="#0000ff">&gt;</font> <br> &lt;script src= <font color="#A31515">"@Url.Content("</font> ~/Scripts/jquery.tmpl.min.js <font color="#A31515">")"</font> <br> type= <font color="#A31515">"text/javascript"</font> &gt;&lt;/script&gt; <br> &lt;script src= <font color="#A31515">"@Url.Content("</font> ~/Scripts/knockout-1.2.1.js <font color="#A31515">")"</font> <br> type= <font color="#A31515">"text/javascript"</font> &gt; <font color="#0000ff">&lt;/</font> <font color="#800000">script</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;/</font> <font color="#800000">head</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">body</font> <font color="#0000ff">&gt;</font> <br> <font>&lt;!-- TODO --&gt;</font> <br> <font color="#0000ff">&lt;/</font> <font color="#800000">body</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;/</font> <font color="#800000">html</font> <font color="#0000ff">&gt;</font></font> <br> <br> <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></code> </blockquote> <br>  It is time to build our view model.  The view model includes the application logic on the client side or, if you like, it determines what the application can do and what properties it has, without directly binding to any markup element or DOM elements. <br><br>  For this task, the view model is extremely simple: it contains 2 properties used to store the current search query and found tweets, and, accordingly, a method for performing a search by model.  It might look like this: <br><blockquote> <code><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="black">&lt;script type= <font color="#A31515">"text/javascript"</font> &gt; <br> <font color="#0000ff">function</font> SearchViewModel() { <br> <font color="#0000ff">this</font> .query = ko.observable( <font color="#A31515">''</font> ); <br> <font color="#0000ff">this</font> .tweets = ko.observableArray(); <br> } <br> <br> SearchViewModel.prototype.search = <font color="#0000ff">function</font> () { <br> <font color="#0000ff">var</font> q = <font color="#0000ff">this</font> .query(); <br> <font color="#0000ff">if</font> (q.length &gt; 0) { <br> $.ajax({ <br> type: <font color="#A31515">'POST'</font> , <br> url: <font color="#A31515">'/Twitter/Search'</font> , <br> data: { query: q }, <br> dataType: <font color="#A31515">'json'</font> , <br> success: <font color="#0000ff">function</font> (data) { <br> <font color="#008000">// TODO</font> <br> }.bind( <font color="#0000ff">this</font> ) <br> }); <br> } <font color="#0000ff">else</font> { <br> <font color="#008000">// TODO</font> <br> } <br> }; <br> &lt;/script&gt;</font> <br> <br> <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></code> </blockquote> <br>  It is difficult to say that there is something significant here;  query properties and tweets are initially empty, the search method uses jQuery to send an AJAX request to our model on the server and return the results as a JSON object (array of tweets). <br><br>  How should we implement a ‚Äúsuccessful‚Äù handler in the search method?  We can clear the tweet array and add new search results.  But remember that we want to constantly receive ‚Äúupdates‚Äù for our search results, ideally we would just like to add new tweets (and delete old ones) without replacing the entire collection. <br><br>  This is a great opportunity to try out the <a href="http://knockoutjs.com/documentation/plugins-mapping.html">mapping plugin for knockout</a> .  After we have loaded it and added a link to the script, we can implement a successful AJAX request handler: <br><blockquote> <code><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="black">success: <font color="#0000ff">function</font> (data) { <br> ko.mapping.updateFromJS( <font color="#0000ff">this</font> .tweets, data); <br> }.bind( <font color="#0000ff">this</font> )</font> <br> <br> <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></code> </blockquote> <br>  And then set the ‚Äú <a href="http://knockoutjs.com/documentation/plugins-mapping.html">key definition</a> ‚Äù for the tweet collection (which is used by the display to determine which elements should be added, updated or deleted), we just rewrite our constructor a bit: <br><blockquote> <code><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="black"><font color="#0000ff">function</font> SearchViewModel() { <br> <font color="#0000ff">this</font> .query = ko.observable( <font color="#A31515">''</font> ); <br> <font color="#0000ff">this</font> .tweets = ko.mapping.fromJS( <br> [], <br> { <br> key: <font color="#0000ff">function</font> (tweet) { <font color="#0000ff">return</font> ko.utils.unwrapObservable(tweet.id) } <br> }); <br> }</font> <br> <br> <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></code> </blockquote> <br>  Notice that we define the key for the collection of tweets as an ID value, which Twitter also conveniently provides.  If you need more information about the Mapping plugin, visit the official Knockout website. <br><br>  Next: implement auto-update features.  Every time there is a search query, the corresponding tweets should be updated, say, every 3 seconds to reflect changes in the model.  One way to accomplish this is to have a successful calback for a caller's AJAX search query recursive, but delayed, search method.  <b>The full view model</b> in this case looks like this: <br><blockquote> <code><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="black">&lt;script type= <font color="#A31515">"text/javascript"</font> &gt; <br> <font color="#0000ff">function</font> SearchViewModel() { <br> <font color="#0000ff">this</font> .query = ko.observable( <font color="#A31515">''</font> ); <br> <font color="#0000ff">this</font> .tweets = ko.mapping.fromJS( <br> [], <br> { <br> key: <font color="#0000ff">function</font> (tweet) { <font color="#0000ff">return</font> ko.utils.unwrapObservable(tweet.id) } <br> }); <br> <font color="#0000ff">this</font> .autoRefreshId = <font color="#0000ff">null</font> ; <br> } <br> <br> SearchViewModel.prototype.search = <font color="#0000ff">function</font> () { <br> <font color="#0000ff">var</font> timeoutId = <font color="#0000ff">this</font> .autoRefreshId; <br> <font color="#0000ff">if</font> (timeoutId) { <br> window.clearTimeout(timeoutId); <br> <font color="#0000ff">this</font> .autoRefreshId = <font color="#0000ff">null</font> ; <br> } <br> <font color="#0000ff">var</font> q = <font color="#0000ff">this</font> .query(); <br> <font color="#0000ff">if</font> (q.length &gt; 0) { <br> $.ajax({ <br> type: <font color="#A31515">'POST'</font> , <br> url: <font color="#A31515">'/Twitter/Search'</font> , <br> data: { query: q }, <br> dataType: <font color="#A31515">'json'</font> , <br> success: <font color="#0000ff">function</font> (data) { <br> ko.mapping.updateFromJS( <font color="#0000ff">this</font> .tweets, data); <br> <font color="#0000ff">this</font> .autoRefreshId = window.setTimeout( <br> <font color="#0000ff">this</font> .search.bind( <font color="#0000ff">this</font> ), 3000); <br> }.bind( <font color="#0000ff">this</font> ) <br> }); <br> } <font color="#0000ff">else</font> { <br> ko.mapping.updateFromJS( <font color="#0000ff">this</font> .tweets, []); <br> } <br> }; <br> &lt;/script&gt;</font> <br> <br> <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></code> </blockquote> <br>  (I added a couple of lines to disable auto-refresh when the search query input line is empty; plus a check that interrupts any running search when the user starts a new one. Also, the search results are zeroed if you search for an empty query.) <br><br><h4>  Step 3: View Design </h4><br>  In order to keep things simple and obvious, the view will consist only of a search query input line and a list of tweets.  We want to achieve something in this spirit: <br><blockquote> <code><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="black"><font color="#0000ff">&lt;</font> <font color="#800000">form</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">input</font> <font color="#ff0000">type</font> <font color="#0000ff">="search"</font> <font color="#ff0000">placeholder</font> <font color="#0000ff">="Input #hashtag, @@username or something else"</font> <font color="#ff0000">autofocus</font> <font color="#0000ff">/&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">input</font> <font color="#ff0000">type</font> <font color="#0000ff">="submit"</font> <font color="#ff0000">value</font> <font color="#0000ff">="Search"</font> <font color="#0000ff">/&gt;</font> <br> <font color="#0000ff">&lt;/</font> <font color="#800000">form</font> <font color="#0000ff">&gt;</font> <br> <br> <font color="#0000ff">&lt;</font> <font color="#800000">ul</font> <font color="#ff0000">id</font> <font color="#0000ff">="tweets"</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">li</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">a</font> <font color="#ff0000">href</font> <font color="#0000ff">="[url-of-tweet]"</font> <font color="#ff0000">title</font> <font color="#0000ff">="[author-name]"</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">img</font> <font color="#ff0000">src</font> <font color="#0000ff">="[url-of-author-image]"</font> <font color="#ff0000">alt</font> <font color="#0000ff">="[author-name]"</font> <font color="#0000ff">/&gt;</font> <br> <font color="#0000ff">&lt;/</font> <font color="#800000">a</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">h6</font> <font color="#0000ff">&gt;</font> [author-name] <font color="#0000ff">&lt;/</font> <font color="#800000">h6</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">p</font> <font color="#0000ff">&gt;</font> [tweet-text] <font color="#0000ff">&lt;/</font> <font color="#800000">p</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;/</font> <font color="#800000">li</font> <font color="#0000ff">&gt;</font> <br> <font>&lt;!-- More tweets... --&gt;</font> <br> <font color="#0000ff">&lt;/</font> <font color="#800000">ul</font> <font color="#0000ff">&gt;</font></font> <br> <br> <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></code> </blockquote> <br>  Let's also add some declarative Knockout data bindings that will link the view and the view model.  If we modify the <b>search form a</b> bit ... <br><blockquote> <code><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="black"><font color="#0000ff">&lt;</font> <font color="#800000">form</font> <font color="#ff0000">data-bind</font> <font color="#0000ff">="submit: search"</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">input</font> <font color="#ff0000">type</font> <font color="#0000ff">="search"</font> <font color="#ff0000">data-bind</font> <font color="#0000ff">="value: query, valueUpdate: 'afterkeydown'"</font> <font color="#ff0000">placeholder</font> <font color="#0000ff">="Input #hashtag, @@username or something else"</font> <font color="#ff0000">autofocus</font> <font color="#0000ff">/&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">input</font> <font color="#ff0000">type</font> <font color="#0000ff">="submit"</font> <font color="#ff0000">value</font> <font color="#0000ff">="Search"</font> <font color="#0000ff">/&gt;</font> <br> <font color="#0000ff">&lt;/</font> <font color="#800000">form</font> <font color="#0000ff">&gt;</font></font> <br> <br> <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></code> </blockquote> <br><br>  ... Knockout will update the query property of the view model automatically when the user changes the text in the search query field, and the search will be performed as soon as the user presses the Enter key. <br><br>  What about <b>search results</b> ?  Excellent script to use Knockout <a href="http://knockoutjs.com/documentation/template-binding.html">template binding</a> !  First, create a template for each tweet: <br><blockquote> <code><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="black"><font color="#0000ff">&lt;</font> <font color="#800000">script</font> <font color="#ff0000">id</font> <font color="#0000ff">="tweetTemplate"</font> <font color="#ff0000">type</font> <font color="#0000ff">="text/html"</font> <font color="#0000ff">&gt;</font> <br> &lt;li data-bind= <font color="#A31515">"attr: { id: id }"</font> &gt; <br> &lt;a data-bind= <font color="#A31515">"attr: { href: tweetUrl, title: author }"</font> &gt; <br> &lt;img data-bind= <font color="#A31515">"attr: { src: imageUrl, alt: author }"</font> /&gt; <br> &lt;/a&gt; <br> &lt;h6 data-bind= <font color="#A31515">"text: author"</font> &gt;&lt;/h6&gt; <br> &lt;p data-bind= <font color="#A31515">"text: tweetText"</font> &gt;&lt;/p&gt; <br> &lt;/li&gt; <br> <font color="#0000ff">&lt;/</font> <font color="#800000">script</font> <font color="#0000ff">&gt;</font></font> <br> <br> <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></code> </blockquote> <br>  Then the data-bind property of the HTML list of tweets in the view model, setting your template as a way to display each of them.  Relatively easy: <br><blockquote> <code><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="black"><font color="#0000ff">&lt;</font> <font color="#800000">ul</font> <font color="#ff0000">id</font> <font color="#0000ff">="tweets"</font> <br> <font color="#ff0000">data-bind</font> =" <font color="#ff0000">template:</font> { <br> <font color="#ff0000">name:</font> <font color="#0000ff">'tweetTemplate'</font> , <br> <font color="#ff0000">foreach:</font> <font color="#ff0000">tweets</font> <br> }, <font color="#ff0000">visible:</font> <font color="#ff0000">tweets</font> (). <font color="#ff0000">length</font> <font color="#0000ff">&gt;</font> 0" <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;/</font> <font color="#800000">ul</font> <font color="#0000ff">&gt;</font></font> <br> <br> <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></code> </blockquote> <br>  (Note that the list will not be visible if the view model does not contain tweets) <br><br>  <b>Bonus:</b> Add an animation that is used when new tweets are added to the list using the afterAdd template binding option: <br><blockquote> <code><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="black"><font color="#0000ff">&lt;</font> <font color="#800000">ul</font> <font color="#ff0000">id</font> <font color="#0000ff">="tweets"</font> <br> <font color="#ff0000">data-bind</font> =" <font color="#ff0000">template:</font> { <br> <font color="#ff0000">name:</font> <font color="#0000ff">'tweetTemplate'</font> , <br> <font color="#ff0000">foreach:</font> <font color="#ff0000">tweets</font> , <br> <font color="#ff0000">afterAdd:</font> <font color="#ff0000">function</font> ( <font color="#ff0000">element</font> ) { <br> $( <font color="#ff0000">element</font> ). <font color="#ff0000">hide</font> (). <font color="#ff0000">fadeIn</font> ( <font color="#0000ff">'fast'</font> ); <br> } <br> }, <font color="#ff0000">visible:</font> <font color="#ff0000">tweets</font> (). <font color="#ff0000">length</font> <font color="#0000ff">&gt;</font> 0" <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;/</font> <font color="#800000">ul</font> <font color="#0000ff">&gt;</font></font> <br> <br> <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></code> </blockquote> <br>  At this point, it remains to finish only one thing - the bootstrap logic.  When the DOM has loaded, we need to create an instance of our view model and ask Knockout to attach our bindings to it.  One line of code in the jQuery handler for the ‚Äúdocument ready‚Äù event: <br><blockquote> <code><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="black">&lt;script type= <font color="#A31515">"text/javascript"</font> &gt; <br> $( <font color="#0000ff">function</font> () { <br> ko.applyBindings( <font color="#0000ff">new</font> SearchViewModel()); <br> }); <br> &lt;/script&gt;</font> <br> <br> <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></code> </blockquote> <br>  <b>And done!</b>  Checked on my Windows 7 machine in Chrome 12, Internet Explorer 9 and Firefox 5. Here is a complete solution (where I added some CSS to make it look less awful): <a href=""><b>TwitterLiveSearchLab.zip</b></a> </div><p>Source: <a href="https://habr.com/ru/post/123692/">https://habr.com/ru/post/123692/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../123683/index.html">Interviews - in the furnace or how to search for a team</a></li>
<li><a href="../123684/index.html">Online string operations aggregator</a></li>
<li><a href="../123685/index.html">Hold me now</a></li>
<li><a href="../123689/index.html">EBay Acquires Zong Mobile Payment Platform</a></li>
<li><a href="../123690/index.html">Entertaining IT startup arithmetic</a></li>
<li><a href="../123694/index.html">Problems lurking for any creator of rubrics</a></li>
<li><a href="../123695/index.html">New advances in the automotive industry</a></li>
<li><a href="../123696/index.html">Do I need to stuff an e-book wi-fay, ICQ, twitter client, etc.?</a></li>
<li><a href="../123697/index.html">How to tame clouds: examples of practical use. What is there on the technical side?</a></li>
<li><a href="../123698/index.html">On the dangers of copyright and the benefits of licensed programs</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>