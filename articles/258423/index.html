<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>PSR-7 adopted</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="I am glad to announce that as of 06:00 May 18, 2015, PSR-7 (HTTP Message Interfaces) has been accepted! 

 UPD. A good translation of "PSR-7 in the ex...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>PSR-7 adopted</h1><div class="post__text post__text-html js-mediator-article"><div style="text-align:center;"><img src="https://habrastorage.org/files/dd9/8ad/2d6/dd98ad2d661842eebd13c8a2248e51da.png"></div><br>  I am glad to announce that as of 06:00 May 18, 2015, <a href="http://www.php-fig.org/psr/psr-7">PSR-7 (HTTP Message Interfaces) has</a> been accepted! <br><br>  <b>UPD.</b>  <a href="http://habrahabr.ru/post/250343/">A good translation of "PSR-7 in the examples</a> . <a href="http://habrahabr.ru/post/250343/">"</a> <br><br><h4>  Road to PSR-7 </h4><br>  The path to the PSR-7 was long and winding.  It all began in the summer of 2012 with a proposal for working with HTTP clients for authorship Benjamin Eberlei, during which other participants suggested that perhaps a small standard for http messages was what would solve all the problems. <br><a name="habracut"></a><br><h5>  Start </h5><br>  Chris Wilkinson <i>( <a href="https://github.com/thewilkybarkid">Chris Wilkinson</a> )</i> picked up the idea and created a formal draft, which later became PSR-7.  It developed the original interface for the operation of HTTP messages.  During his tenure as editor, Chris also began drafting a companion URI proposal, but it never entered the PSR.  PSR-7 was polished for a considerable time, especially the section on saving the header as part of a message and had a <code>MessageInterface</code> that describes the common features between the two types of messages describing the differences between the request and the response. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      At a certain point (I don‚Äôt know for sure, I still haven‚Äôt found any formal announcement in the archives of the group) the baton was passed to Michael <i><a href="http://mtdowling.com/">Dowling</a></i> .  His biggest contribution was the proposal for modeling the message body as a stream.  The implementation seemed rather controversial, and eventually it emerged into a <a href="http://mtdowling.com/blog/2014/07/03/a-case-for-higher-level-php-streams/">large post</a> with a detailed description of why and why such a decision was made.  In my opinion, this is amazing!  I checked that every good language has an excellent HTTP abstraction that simulates the message body as a stream: it allows you to work asynchronously (which, alas, was not supported in PHP for quite a long time), and ensures that large messages will not eat up all the available memory.  PHP itself has a stream message model ( <code>php://input</code> and output buffer), this is the most natural way. <br><br><h5>  The impact of node.js </h5><br>  Shortly after the appearance of this post, I played a lot with <a href="https://nodejs.org/">node.js</a> and was amazed at how different modules work in terms of handling http.  This is largely due to the default presence of a well-developed abstraction of the http protocol with an excellent side effect in the form of the possibility of using the same work with http almost everywhere. <br><br>  I decided to port <a href="https://github.com/senchalabs/connect">Connect</a> , the intermediate library that comes with <a href="http://expressjs.com/">Express</a> , perhaps the most common framework in node.js.  But doing this, I ran into an insurmountable obstacle: http abstraction. <br><br>  Of course, every framework has an HTTP abstraction.  I even contribut in one, intended for Zend Framework.  The line of thought was this: I want to figure out, like many PHP developers, in these concepts, to find out how it works, but the choice of a specific http abstraction can influence the further development of the project.  And then I remembered Michael's post about PSR-7 and streams.  It was then that the understanding came - ‚ÄúI need to aim at the PSR-7!‚Äù <br><br>  The problem was the lack of implementation. <br><br>  So, over the weekend was implemented the original version.  About a couple of days after Michael‚Äôs publication, rumors began to circulate that he was about to abandon PSR-7 due to lack of time. <br><br><h5>  My arrival </h5><br>  After several weeks of discussions and hard thinking, I decided to pick up a draft and try to get it off the ground.  Phil Sturgeon and <i><a href="https://beau.io/">Beau Simensen</a></i> agreed to continue as a sponsor and coordinator.  And so began my time as editor. <br><br>  It has become an interesting challenge.  When I started, the thread usage debate has not abated yet.  It was necessary to urgently build up the basis of Michael's arguments in favor of just such a decision and think whether I agree to defend him or indeed there are better options. <br><br>  There was another aspect that needed to be eliminated: the messages worked perfectly for the client side, but the server was a loser: users had to parse the URI to request string arguments and parse the message body manually, and the headers for cookies, and ... well, I came to the conclusion , which is obtained as in node.js: either you do everything by hand, or you dump all the work on the microfragm. <br><br>  Somewhere in the depths there was a feeling that we could have done better.  Thus, a <code>ServerRequestInterface</code> was born that provides access to data in the PHP superglobal variables, as well as giving some necessary abstractions to fill in the data for when PHP does not work well (for example, you cannot get a full <code>$_POST</code> for non-POST requests or for POST requests without specific media types). <br><br><h5>  Progress </h5><br>  December 2014 was gone and Phil with him resigned, leaving me in search of an additional sponsor.  Paul Jones <i>( <a href="http://paul-m-jones.com/">Paul M Jones</a> )</i> kindly offered his candidacy. <br><br>  The part of the standard relating to server requests many times caused a lot of criticism, but in the end we reached a consensus on this issue.  Many worried people spoke about the mutability of objects.  In January, I was deeply immersed in an understanding of the immutability of objects and applied concepts of specification.  As a result, we got something very reliable, without side effects, eliminating entire categories of possible problems due to the changing state.  But this decision was made by the community with difficulty, the guys did not calm down until they saw real examples. <br><br>  <code>UriInterface</code> was also introduced to order the component URIs.  We found that very often you have to parse the URI to get things like the scheme, the path, the host, etc.  Pretty tedious and tedious task, fraught with errors.  The presence of abstraction put everything in its place.  It is designed in such a way that it can be compatible with later URI proposals and largely borrowed the approaches made earlier by Chris Wilkinson. <br><br><h5>  Voting </h5><br>  At this moment we decided to put the draft to the vote.  The initial results were very positive and it looked as if it was a hat.  But somewhere in the second week, people began to arrive who saw the offer for the first time.  Nothing compares to the corrosive attention of developers to the details, it was they who helped to understand that there are a number of flaws.  The key among them was that we didn‚Äôt do a great job of describing the links between URIs and host headers; the file upload wasn‚Äôt well developed. <br><br>  By canceling the vote about 24 hours before the adoption, we returned to the design stage.  Bernhard Schussek <i>( <a href="http://webmozarts.com/">Bernhard Schussek</a> )</i> provided some excellent rationales for the file transfer abstraction, which we eventually included, also worked the URI / Host relationship to simplify with respect to the previous version. <br><br>  And this led us to re-voting, which in turn came to a logical conclusion: the new PSR was adopted! <br><br><h4>  thank </h4><br>  I, as an editor and a largely public person, cannot but note that this was the result of many years of work by many people.  And especially I want to thank: <br><br><ul><li>  Larry Garfield, who tested PSR-7 on some projects, and provided feedback on prospects for use. </li><li>  Evert Pot <i>( <a href="http://evertpot.com/">Evert Pot</a> )</i> , who ultimately voted against the adoption of the standard, but provided fantastic reviews, taking part in the discussion throughout the life of the draft.  His help was invaluable. </li><li>  Phil, Bo, and Paul, who read my tirades, full of frustration and self-doubt over the past few months! </li></ul></div><p>Source: <a href="https://habr.com/ru/post/258423/">https://habr.com/ru/post/258423/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../258409/index.html">Day of Universal Accessibility Awareness (GAAD) 2015</a></li>
<li><a href="../258411/index.html">GammaRay - a means of introspection Qt-applications</a></li>
<li><a href="../258413/index.html">Luwrain - a working environment for people with visual impairments</a></li>
<li><a href="../258415/index.html">Recalculation of images for different cartographic projections in webGL</a></li>
<li><a href="../258419/index.html">10 networking tips for people who hate it</a></li>
<li><a href="../258427/index.html">Jancy - scripting language for system / network programmers</a></li>
<li><a href="../258429/index.html">.NET-conference. NEXT 2015 Piter: A short tour of the reports - part 1</a></li>
<li><a href="../258431/index.html">More IT professions for kids, even more</a></li>
<li><a href="../258433/index.html">We test Chinese iron and find out how cheap and angry it is</a></li>
<li><a href="../258437/index.html">Dagaz: Kicks to common sense (part 7)</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>