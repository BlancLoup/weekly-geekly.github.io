<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>CrystaX NDK 10.3.0 Released</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="The new version of CrystaX NDK 10.3.0 is available for download. 

 The most important changes in this release are: 



- New GCC and LLVM / clang. 
-...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>CrystaX NDK 10.3.0 Released</h1><div class="post__text post__text-html js-mediator-article">  The new version of <a href="https://www.crystax.net/android/ndk">CrystaX NDK 10.3.0</a> is available for download. <br><br>  The most important changes in this release are: <br><br><ul><li>  New GCC and LLVM / clang. </li><li>  Greatly improved support for Objective-C v2. </li><li>  Added Python (2.7 and 3.5) support for Android. </li></ul>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      In addition, many bugs were fixed and a huge amount of improvements were made.  Below you can find more detailed information. <br><br><a name="habracut"></a><br><h2>  New GCC and LLVM / clang </h2><br><br>  In this release, we added new toolchains based on <a href="https://gcc.gnu.org/onlinedocs/5.3.0/">gcc-5.3</a> and <a href="http://llvm.org/releases/3.7.0/docs/ReleaseNotes.html">llvm-3.7</a> .  Old gcc-4.9 and llvm-3.6 are also present for compatibility, but will be removed in the next release. <br><br>  Needless to say, this means for developers, especially in light of the actively developing gcc and clang in terms of supporting the new C, C ++ and Objective-C standards.  Now you can use the most advanced language features for Android. <br><br>  Also, in this release, we switched completely to our own GCC and LLVM / clang branches, which are based on upstream with minimal dot edits (previously gcc and clang in CrystaX NDK were branched from Google's gcc and clang).  Such a decision was helped by the fact that we have accumulated a rather large ‚Äútest mass‚Äù, which allows us to state with a certain degree of confidence that the compiler, coping with all our tests, is a good, working compiler. <br><br>  Although this decision was difficult, it turned out to be very true, because  Now the process of updating gcc and clang to new versions is very simple and happens in semi-automatic mode.  So, the upgrade to gcc-5.3 took only three days, of which 20 minutes took the merger with upstream, the next 20 hours - building a new build and another two days - a full run of automatic tests.  Of these, only the first part required manual work. <br><br><pre><code class="bash hljs">$ <span class="hljs-variable"><span class="hljs-variable">$NDK</span></span>/toolchains/arm-linux-androideabi-5/prebuilt/linux-x86_64/bin/arm-linux-androideabi-gcc --version arm-linux-androideabi-gcc (GCC) 5.3 20151204 Copyright (C) 2015 Free Software Foundation, Inc. This is free software; see the <span class="hljs-built_in"><span class="hljs-built_in">source</span></span> <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> copying conditions. There is NO warranty; not even <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. $ <span class="hljs-variable"><span class="hljs-variable">$NDK</span></span>/toolchains/llvm-3.7/prebuilt/linux-x86_64/bin/clang -target armv7-none-linux-androideabi --version clang version 3.7 Target: armv7-none-linux-android Thread model: posix</code> </pre> <br><br><h2>  Improved Objective-C v2 </h2><br><br>  We have greatly improved the Objective-C v2 runtime and this allowed us to include all the language features of the modern Objective-C - <a href="http://clang.llvm.org/docs/AutomaticReferenceCounting.html">Automatic Reference Counting</a> , <a href="http://clang.llvm.org/docs/ObjectiveCLiterals.html">Objective-C Literals syntax</a> , etc.  Also, in this release we added Objective-C frameworks CoreData, CoreText, CoreGraphics and CoreVideo, in addition to the previously added Foundation and CoreFoundation. <br><br>  For convenience, an <a href="https://github.com/crystax/android-samples-opengl">example</a> was created showing how Objective-C can be used to develop a project right away for iOS and Android. <br><br>  ATTENTION!  All the declared features of modern Objective-C v2 are available only when using LLVM / clang.  If you are using ndk-build, the easiest way to specify this is to add the following lines to Application.mk: <br><br><pre> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment"># Application.mk NDK_TOOLCHAIN_VERSION := clang</span></span></code> </pre><br><br><h2>  Python for Android </h2><br><br>  We provide compiled python-2.7 and python-3.5 binaries (executable files, libraries, and header files) for all supported Android ABIs.  Like all other similar packages in the CrystaX NDK, Python was built from official sources, without a single change in its code.  This is a direct consequence of our approach: when something is not collected, we do not rule the collected code.  Instead, we are fixing CrystaX NDK, making the behavior of lower-level libraries compliant with standards (POSIX and de facto standards like GNU / Linux). <br><br>  The CrystaX NDK's Python is still in experimental condition, although it works quite well, as far as we can see.  However, it is not yet as well tested as other components, so there may be bugs or partially missing functionality.  In case you find such flaws, feel free <a href="https://www.crystax.net/ru/android/ndk">to tell us about them</a> ! <br><br>  We want to say a big thank you to Vitaly Murashev ( <a href="http://habrahabr.ru/users/vitaly-murashev/">@ vitaly-murashev</a> ) - Python appeared in CrystaX NDK mainly thanks to his help.  This is how open source works: do something for fun and share the results with the community.  Vitaly, thanks again! <br><br>  The compiled Python binaries are in the $ NDK / sources / python / 2.7 and $ NDK / sources / python / 3.5 directories.  If you are using ndk-build, here is an example of using Python in your project: <br><br><pre> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment"># Android.mk LOCAL_PATH := $(call my-dir) include $(CLEAR_VARS) LOCAL_MODULE := mymodule LOCAL_SRC_FILES := ... LOCAL_SHARED_LIBRARIES := python_shared include $(BUILD_SHARED_LIBRARY) # Replace 3.5 by 2.7 if needed $(call import-module,python/3.5)</span></span></code> </pre><br><br><h2>  POSIX support </h2><br><br>  We continue to improve POSIX support in the CrystaX NDK.  In this release, we transferred even more POSIX interfaces to libcrystax.so (the heart of CrystaX NDK), so now it depends on Google libc even less.  In fact, the only major part of POSIX not yet implemented in libcrystax.so is POSIX threads.  This is what we are going to fix in the next release.  Thus, we can get rid of the dependence on Google libc, completely replacing it with libcrystax.so. <br><br>  As part of our work to improve POSIX support, we have integrated the <a href="http://posixtest.sourceforge.net/">Open POSIX Test Suite</a> into the CrystaX NDK automated testing process.  Because of this, we can be sure that libcrystax.so provides an implementation that is truly POSIX compliant. <br><br><h2>  Boost 1.59.0 </h2><br><br>  We have included Boost 1.59.0 libraries and header files in CrystaX NDK.  Now they are going in two versions - using GNU libstdc ++ and LLVM libc ++ implementations of the standard C ++ library.  Previously, we provided Boost libraries compiled only with GNU libstdc ++, thereby forcing users to specify gnustl in their projects.  Now you can specify any of the two: ndk-build will automatically determine the preferred option and connect the correct versions of the Boost libraries. <br><br>  Also, due to the fact that we now have Python for Android, we began to build and test Boost.Python.  This work has not yet been completed, but we continue to work on it and the situation will improve over time. <br><br>  CrystaX is an officially approved tester for the Boost project.  This means that we are continuously testing the Boost libraries by publishing the results on the official site ( <a href="http://www.boost.org/development/tests/master/developer/summary.html">master</a> , <a href="http://www.boost.org/development/tests/develop/developer/summary.html">develop</a> ).  This works to the benefit of both Boost and CrystaX NDK.  Boost users get the opportunity to use the tested Boost libraries on Android, and CrystaX NDK users benefit from the fact that CrystaX NDK is in turn tested by Boost tests and thus practically demonstrates a good degree of compliance with POSIX and C ++ standards. <br><br><h2>  Total </h2><br><br>  In addition, a large number of minor improvements and fixes have been made in this release.  A full list of closed tickets is <a href="https://tracker.crystax.net/versions/40">here</a> . </div><p>Source: <a href="https://habr.com/ru/post/273053/">https://habr.com/ru/post/273053/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../273043/index.html">On the effectiveness of Rutreker's ‚Äúteachings‚Äù</a></li>
<li><a href="../273045/index.html">Python internal list</a></li>
<li><a href="../273047/index.html">How to squeeze a flat cat</a></li>
<li><a href="../273049/index.html">NOC Project. Where to start and how to continue?</a></li>
<li><a href="../273051/index.html">How I debugged the python httplib and httplib2</a></li>
<li><a href="../273055/index.html">Open-source implementation of domestic cryptoGOST</a></li>
<li><a href="../273059/index.html">Extreme Networks Solutions Workshop</a></li>
<li><a href="../273061/index.html">Introduction to VIPER</a></li>
<li><a href="../273065/index.html">The problem of the effectiveness of small data centers or "why super-modern DCs Google and Facebook do not solve anything"</a></li>
<li><a href="../273067/index.html">Receptions work in Blender. Part 1</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>