<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>GPRS inside. Part 4.1</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="This is the final part of a series of articles on GPRS / EDGE technologies, which we began in the previous three narrations: 1 , 2 , 3 . This time we ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>GPRS inside. Part 4.1</h1><div class="post__text post__text-html js-mediator-article">  This is the final part of a series of articles on GPRS / EDGE technologies, which we began in the previous three narrations: <a href="http://habrahabr.ru/blogs/telecom/80951/">1</a> , <a href="http://habrahabr.ru/blogs/telecom/81385/">2</a> , <a href="http://habrahabr.ru/blogs/telecom/101213/">3</a> .  This time we will look behind the door mash.  halls and see what actually provides the ability to transmit and receive data over the air using a mobile phone - we will talk about <em>hardware</em> under SGSNs and GGSNs. <br><br><a name="habracut"></a><br>  As we already know from previous articles on packet technologies in mobile networks, currently 2G networks are the most widely distributed with the prospect of transition to the next generation of architectures and, naturally, <strong>SGSN</strong> 's and <strong>GGSN</strong> ' are the main network elements for such networks. s. <br><br>  I‚Äôll just say that the article is not an advertisement for a certain vendor, I‚Äôm just an opportunity to share the experience of the implementation of the packet-based network (PS Core Network) based on this vendor, in particular, we‚Äôll discuss <strong>NSN</strong> products: <strong>Flexi ISN</strong> , which is a GGSN implementation and <strong>CombiSGSN</strong> , which is naturally the SGSN implementation for the PS Core Network. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      In almost any packet network there is a division into so-called.  subscriber data transmission area (User plane) and the area of ‚Äã‚Äãtransmission of service information necessary to establish communication, correctly interrupt it, track subscriber movement over the network, etc.  Moreover, in realizations of more and more modern technologies of the core network (GPRS / EDGE -&gt; UMTS -&gt; HSDPA -&gt; LTE), this division is becoming more pronounced, separate network elements are distinguished for serving each of the planes, while in previous technologies the functions of controlling both the planes could be ‚Äúengaged‚Äù by the same network element, for example SGSN. <br><br>  In the 2G packet network, the division into the maintenance of the above planes can be conditionally applied to SGSN and GGSN (see the figure below). <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/5e0/874/be9/5e0874be964c85daa6b431486ef81ed2.jpg" alt="image"></div><br><br>  We will begin our acquaintance with the <strong>GGSN</strong> implementation in the packet network - the Flexi ISN [Intelligent Service Node], and in the second part of this article we will take a closer look at the implementations of one of the most basic network elements - <strong>SGSN</strong> 'ohm. <br><br><h4>  NSN Flexi ISN </h4><br><img src="https://habrastorage.org/getpro/habr/post_images/c3d/2fe/c6d/c3d2fec6d7ac174eb169f46a943b9d7a.png" alt="image" align="right"><br>  Naturally, the needs of various mobile operators, providing the opportunity to use services and services based on packet networks, vendors create implementations of various network elements.  No exception and packet network, almost all large telecommunications vendors provide their solutions in the "segment" GGSN'ov, and since  In fact, GGSN is a multifunctional router / gateway, then monsters such as <strong>Cisco</strong> , <strong>Juniper Networks</strong> , not to mention <strong>NSN</strong> , <strong>Huawei</strong> and <strong>Ericsson</strong> , as well as the recently purchased <strong>Motorola</strong> division, come to the scene. <br><br>  In order to slightly refresh the knowledge of the main network interfaces with which we familiarized in <a href="http://habrahabr.ru/blogs/telecom/101213/">3 parts</a> , let me remind you the key interfaces with which the implementation of the GGSN from NSN - Flexi ISN works, which is shown in the figure above: <br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/4fc/a95/8c6/4fca958c6083203d507941127af8788f.png" alt="image"></div><br>  With a detailed description and purpose of each of the interfaces, you can learn from the articles above, and we will begin to consider the capabilities of the Flexi ISN. <br><br>  In fact, Flexi ISN is a GGSN server, the main tasks of which include establishing and maintaining subscriber traffic, servicing APN on the operator‚Äôs packet network, providing access to various packet networks - internet, intranet.  The main characteristics of GGSN'ov usually include the number of simultaneously raised PDP Context'ov and maximum throughput for access to external channels. <br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/8aa/4c8/e9a/8aa4c8e9ae459c86f7e785624e76a6ab.jpg" alt="image"></div><br>  In this regard, the Flexi ISN has the following <strong>performance characteristics</strong> : <br><ol><li>  <strong>Capasity:</strong> <br><ul><li>  about 1M simultaneous PDP Context'ov in the basic configuration, with the possibility of expanding to 4M simultaneous PDP Context'ov. </li><li>  1Gbps bandwidth in the basic configuration, with the ability to expand up to 5Gbps bandwidth from one rack. </li><li>  Up to 5500 PDP Context Processing per second. </li><li>  Service up to 1000 different APN. </li></ul><br></li><li>  <strong>Multi-Access level supports:</strong> <br><ul><li>  Different Alias ‚Äã‚ÄãAPN, i.e.  the ability to combine different APNs under a specific service. </li><li>  Wildcard APN - the ability to support any existing APN operator‚Äôs network for subscribers who have * in HLR instead of APN (For more information, <a href="http://habrahabr.ru/blogs/telecom/79505/">it doesn‚Äôt matter who you are ... it‚Äôs important what APN is!</a> ). </li><li>  HSDPA support (16Mbps). </li><li>  HSUPA support (8Mbps). </li></ul><br></li><li>  <strong>GGSN's networking capabilities provide the following features:</strong> <br><ul><li>  The allocation of IP addresses in the following schemes: Static, Radius, DHCP, Internal Pool </li><li>  Supports Overlapping IP Addresses, i.e.  "Overlapping networks" for VPN access. </li><li>  Policy Based Routing </li><li>  Multiple Routing Instances </li><li>  L2TP (LAC), GRE, IP-in-IP </li><li>  VLAN With QoS Mapping </li><li>  IPv6 User Layer </li><li>  IPv6 Routing </li><li>  WAP GW Redirection (WAP 1.x) </li><li>  Traffic redirection </li><li>  Load balancing </li><li>  <strong>Header Modification (HTTP) feature</strong> </li></ul><br></li><li>  <strong>Service capabilities of the following services:</strong> <br><ul><li>  L3 / L4 Analyzes </li><li>  L7 Inspection For: HTTP, WAP1.x, WAP2.0, RTSP, MMS (WAP 1.x), P2P </li><li>  Personal firewall </li></ul><br></li><li>  <strong>Charging:</strong> <br><ul><li>  Real-Time DCCA Based Charging </li><li>  Offline Charging GTP` (TLV, XML) (a form of GTP protocol). </li><li>  Radius Online Charging </li><li>  Temporary storage of CDR files </li><li>  Volume, Time &amp; Hit Charging </li><li>  Time step charging </li><li>  Redundant CG Connection </li><li>  PoC Prepaid Charging Support (see article: <a href="http://habrahabr.ru/blogs/telecom/86342/">Mobile Walkie-Talkie</a> ) </li><li>  MMS Transaction Based Charging </li><li>  Self-Contained CDR Format </li><li>  End User Notifications (ability to notify the subscriber using various Push messages, for example, via the Gc interface). </li></ul><br></li><li>  <strong>Comply with the following requirements regarding various security policies:</strong> <br><ul><li>  3GPP QoS, IMS Support </li><li>  User Profile Downloading With: Radius or LDAP </li><li>  Radius Disconnect Support </li><li>  Service Authorization Based On: Roaming, Location, Access Type </li><li>  Service Based QoS, which allows to significantly increase the level of services provided, see the article <a href="http://habrahabr.ru/blogs/telecom/102625/">GPRS QoS - myth or reality?</a> </li><li>  IPv4 / IPv6 traffic controlled over go interface </li></ul><br></li></ol><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/f5f/bee/6aa/f5fbee6aadbd6cda80694d645a23ffe4.png" alt="image"></div><br><br>  Naturally, Flexi ISN supports the basic functionality of providing a service in a packet network for the requested APN by the subscriber: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/f53/358/563/f533585638555c9f40038ea36377987c.jpg" alt="image"></div><br><br>  The main features include: Peer-to-Peer Detection &amp; Control, Per Service Access Control, QoS, Charging, Bandwidth Management, as well as: <br><ul><li>  Lawful Interception (with IPSec), which by the way, is a strict requirement from law enforcement agencies when entering such equipment on the operator‚Äôs network. </li><li>  RoHS Compliance </li><li>  Command Line Interface (CLI) </li><li>  Service Level Statistics </li><li>  Multiple Deployment Options (NAS) </li></ul><br>  On the basis of Flexi ISNs, you can also implement a so-called.  <strong>Multiple Charging Models</strong> , i.e.  Carry out billing based on various events committed by the subscriber. <br><ul><li>  Deep Packet Inspection [ <b>DPI</b> ] allows you to define and control various types of traffic (see the article) </li><li>  Different services can be charged differently even within the same PDP session. </li><li>  Tariff plans based on various protocols, services and levels: FTP, HTTP, WAPv1 / v2, MMS, L3 / L4, P2P, etc. </li></ul><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/19a/238/fc7/19a238fc743175c848951981cca50e89.jpg" alt="image"></div><br><br>  One of the useful functionalities provided by Flexi ISN is the so-called.  Advice of Charge (AoC), which allows you to get acquainted with the price for the future use of the service, before starting its pricing, i.e.  Before opening a certain HTTP / WAP session, the subscriber is redirected to the <strong>AoC</strong> server, which notifies him of the cost of the requested service and the subscriber can either accept the pricing conditions for using the service, or refuse.  In the case of so-called.  Non-HTTP / WAP traffic, notifications using <em>WAP Push are used</em> .  This functionality can be widely used with subscription-based services. <br><br><div style="text-align:center;"> <a href=""><img src="https://habrastorage.org/getpro/habr/post_images/752/a9b/078/752a9b078013b3708103b2ea85ff3b65.jpg" alt="image"></a> </div><br><br>  Another rather convenient functionality that can be provided by <strong>Flexi ISN</strong> and which is simply necessary for the realities of mobile operators in the CIS, in my opinion, is the ability to notify a subscriber that their cash balance has been exceeded for using packet services.  Such notifications are also possible along with the Push message, which will redirect the subscriber to the operator‚Äôs site / portal. <br><br><div style="text-align:center;"> <a href=""><img src="https://habrastorage.org/getpro/habr/post_images/7a3/d14/9a6/7a3d149a68785883545ba16fd94fb7e3.jpg" alt="image"></a> </div><br><br><h5>  Peer-to-peer networks </h5><br>  Operators consider one of their many ‚Äútroubles‚Äù to be the transfer of data through peer-to-peer networks, and they are trying to oppress the presence of various services based on such networks in order not to lose their precious data.  In particular, this also applies to mobile telephony based on peer-to-peer technology, the same Skype, various instant messengers: ICQ, Jabber, etc., not to mention transferring files through different trackers. <br><br>  And in this case, the Flexi ISN is quite a significant ‚Äú <em>assistant</em> ‚Äù for operators, since  provides quite extensive opportunities in terms of controlling and blocking Peer-To-Peer traffic, in particular: <br><ul><li>  ability to analyze the following protocols and services: </li><li>  Ability to analyze P2P tracking protocols: </li></ul><br>  At the same time, it is possible not only to block the selected type of Peer-To-Peer traffic, but to significantly reduce its quality.  Traffic blocking can be based on the following criteria: <br><ul><li>  type of service Peer-to-Peer network </li><li>  network access type or subscriber location </li><li>  subscription to certain services </li></ul><br><div style="text-align:center;"> <a href=""><img src="https://habrastorage.org/getpro/habr/post_images/b8c/e8d/20d/b8ce8d20db7825fc2cf9845a8bd0ad2c.jpg" alt="image"></a> </div><br>  But it is also possible options for peer-to-peer traffic as an additional service, which can be separately provided to subscribers for a separate fee.  For example, it is possible to provide access to peering networks by subscription, the same Skype, Bittorrent, etc. <br><br><div style="text-align:center;"> <a href=""><img src="https://habrastorage.org/getpro/habr/post_images/56d/d9b/ee7/56dd9bee760e5b4fabc875c7509c06f2.png" alt="image"></a> </div><br><br>  Or form tariff plans based on the time of day, for example, provide access to the ability to transfer data through peer-to-peer networks only at night, because  At this time, the total load on the operator‚Äôs network is reduced. <br><br><div style="text-align:center;"> <a href=""><img src="https://habrastorage.org/getpro/habr/post_images/371/ccf/b87/371ccfb871016f09680db4accf851a22.jpg" alt="image"></a> </div><br><br><h5>  Service Based QoS </h5><br>  Quite significant attention is paid to the QoS profiles used to serve various services. <br><div style="text-align:center;"> <a href=""><img src="https://habrastorage.org/getpro/habr/post_images/5bc/ea3/29b/5bcea329b5a11e7f66a160eb502ae2e8.jpg" alt="image"></a> </div><br><br>  Moreover, the influence of QoS profiles can be extended both to subscribers using PoC services, and so-called services.  Streaming services (VoIP, Video broadcasting, etc.), as well as corporate users. <br><br><h5>  Corporate Access Points </h5><br>  Flexi ISN has quite flexible approaches to organizing access to corporate networks through mobile packet services: <br><ul><li>  The ability to allocate a separate APN for corporate access. </li><li>  Providing virtual networks (VLAN, Separate Routing Instances). </li><li>  Allocation of IP addresses from the address space of the corporate network. </li><li>  Using Overlapping IP Addresses, i.e.  "Overlapping networks". </li><li>  Additional authentication mechanisms in corporate networks (Radius) </li><li>  IP tunnel support (IP-in-IP, GRE, L2TP). </li><li>  The use of the same APN as for access to the corporate segment, and for other packet services from the operator. </li></ul><br><h5>  GGSN Rack </h5><br>  The Flexi ISN itself mounted in a rack rack has the following appearance: <br><br><div style="text-align:center;"> <a href=""><img src="https://habrastorage.org/getpro/habr/post_images/7c5/413/533/7c541353356a5b34c9e9d4cee8706412.png" width="400" alt="image"></a> </div><br>  In the photo above, it is clear that only two Flexi ISN modules were installed, but it is possible to expand up to 4 such modules to realize maximum configuration. <br><br>  This is the end of our acquaintance with the structure and main possibilities of implementing GGSN from NSN.  In the second part of this article we will meet with SGSN'om from the same vendor ... <br><br>  <b><i>A small assistant:</i></b> <br><br>  <b>APN</b> - Access Point Name <br>  <b>CDR</b> - Call-Data Record <br>  <b>EDGE</b> - Enhanced Data Rates for GSM Evolution <br>  <b>GGSN</b> - Gateway GPRS Support Node <br>  <b>GPRS</b> - General Packet Radio Service <br>  <b>GRE</b> - Generic Routing Encapsulation <br>  <b>GTP</b> - GPRS Tunneling Protocol <br>  <b>HSDPA</b> - High-Speed ‚Äã‚ÄãDownlink Packet Access <br>  <b>HSUPA</b> - High-Speed ‚Äã‚ÄãUplink Packet Access <br>  <b>IMS</b> - IP Multimedia System <br>  <b>LTE</b> - Long Term Evolution <br>  <b>NSN</b> - Nokia Siemens Networks <br>  <b>PDP</b> - Packet Data Protocol <br>  <b>PS</b> - Packet Switched <br>  <b>QoS</b> - Quality of Service <br>  <b>SGSN</b> - Serving GPRS Support Node <br>  <b>SIP</b> - Session Initiation Protocol <br>  <b>UMTS</b> - Universal Mobile Telecommunications System <br>  <b>WAP</b> - Wireless Application Protocol <br></div><p>Source: <a href="https://habr.com/ru/post/105794/">https://habr.com/ru/post/105794/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../105781/index.html">Client-oriented approach: Yandex version</a></li>
<li><a href="../105785/index.html">Engineering works</a></li>
<li><a href="../105787/index.html">Possible ways to save the company Xmarks</a></li>
<li><a href="../105792/index.html">Pure HTML air combat</a></li>
<li><a href="../105793/index.html">Two tickets for LeWeb</a></li>
<li><a href="../105797/index.html">New site of the Moscow metro</a></li>
<li><a href="../105798/index.html">The number of patents beats all records</a></li>
<li><a href="../105800/index.html">Xmarks is alive and will live!</a></li>
<li><a href="../105802/index.html">Windows Phone 7 launched on HTC HD2</a></li>
<li><a href="../105803/index.html">Optimization and Acceleration N900</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>