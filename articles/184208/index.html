<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>GameDev, Indie, Corona SDK, GameJam 48h, DevConf, Go, Laser Flow</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Greetings Immediately I apologize for the title - I wanted to tell so much in it, but it turned out too long. 

 The story will be about my game ( iOS...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>GameDev, Indie, Corona SDK, GameJam 48h, DevConf, Go, Laser Flow</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/getpro/habr/post_images/053/a76/8ac/053a768aca5883d75e26da3231494731.png" align="left">  Greetings  Immediately I apologize for the title - I wanted to tell so much in it, but it turned out too long. <br><br>  The story will be about my game ( <a href="https://itunes.apple.com/us/app/laser-flow/id647540345%3Fmt%3D8">iOS</a> , <a href="https://play.google.com/store/apps/details%3Fid%3Dcom.spiralcodestudio.laserflow">Android</a> ), made with the help of the Corona SDK, about the crown itself and developing with it, about the ‚Äúwrite the game in 48 hours‚Äù competition, about the recent DevConf and about the Go language. <br><br><h4>  Introduction </h4><br>  I have long been developing a game in the Tower Defense genre with a crown, but the game takes a huge amount of time to become truly high-quality, and quality games are item # 1 on the road to success (item # 2 is a lot of marketing money if someone is not course).  Therefore, for a long time I wanted to do something, let it be small, but its own and in a short time. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      "Caution mnogabukav!" <br><a name="habracut"></a><br><h4>  GIGJam 48 </h4><br>  And here in early May, a competition is organized from a small studio Glitch Games together with Corona Labs to develop the game for 48 hours.  Like Ludum Dare, only for the Corona SDK.  I wanted to do a puzzle, develop an idea, two almost sleepless nights and I made the game Laser Flow - Experiments with Lasers.  Then she was called simply Laser Experiments.  It is a little similar games and mine differs in adequate management, mixing of flowers and I hope it is pleasant by sight and hearing.  I myself really like it.  But according to the results of the competition, unfortunately, my views do not coincide with the views of the jury.  There were 23 games in total from about 35 participants. <br><br>  I made a nice main screen for the game to impress the jury at least a little.  Most of the time was spent on the code responsible for the reflections of the lasers from the mirrors and the simultaneous passage of the lasers in one cell so that they do not overlap, but go side by side.  This could not be completely avoided and now at some levels it is possible to arrange mirrors in such a way that different lasers overlap.  I hope this does not spoil the game as a whole. <br><br>  After sending the games began languid waiting for the results.  Days went by, no results.  Then it was announced that the jury would take several weeks to evaluate, and riots broke out in the #corona IRC room ... <br>  It was a hard time.  The results had to wait in the end more than a month. <br><br>  By the way, here are screenshots of the game, showing how it has changed since it was sent to the contest. <br><img src="https://habrastorage.org/getpro/habr/post_images/391/3e8/fa8/3913e8fa877ea38b66320d82014e3677.jpg" align="left"><img src="https://habrastorage.org/getpro/habr/post_images/3d5/258/65f/3d525865f18fecd3ba7ef59a0f8fcc54.jpg" align="left"><br><br clear="all"><h4>  DevConf 2013 </h4><br>  Toward the end of May, the DevConf organizer contacted me and offered to participate in their competition of reports.  I suggested two topics: about Corona SDK and about Go.  They took both reports, and I was very pleased.  Thanks to the organizers for this, for free travel, room and board. <br><br>  I thought it would be great to finish and release the game for the conference, so that I could give a talk on a live example right away so that people could download and play.  Also in the plans was to arrange a small contest - decide the secret level faster than the others and get a T-shirt with the logo of the game (icon).  But firstly, because of the bug with purchases, my application was rejected and it only came out on the second day of the conference, and secondly, the t-shirt could not be printed with the bright colors I needed (special CMYK profile).  By the way, 1024x1024 pixels is enough for printing on a T-shirt drawing 20x20cm. <br><br>  It turned out that it took me a little more than a month to finish the game. <br><br>  I started making slides for reports at home, continued on the plane and finished at the hotel.  Used on the trip iPad and Asus Eee Pc 701 4G with lubunt.  The same one with a touch screen, a blue-tooth and an additional SD slot.  The modem had to be removed.  Slides did in LibreOffice. <br><br>  Thanks to neighbor Pavel for providing MacBook for recompiling the game and sending it to the App Store after an unexpected redjack.  Oddly enough, this was enough for the game to be approved this time. <br><br>  The conference was undoubtedly interesting, there were a lot of people and some reports gathered so many listeners that there were not enough chairs.  The Mobi section really did not enjoy the same popularity. <br><br>  My reports were the latest in the grid and collected, frankly, a few listeners.  I prepared a report on the crown with a view to show the subtleties, some time-tested best practices and tips, so that the report was not a dry retelling of the site‚Äôs main page and documentation, I wanted to make the report really useful.  However, almost none of the listeners was familiar with either the crown or Lua.  I had to rebuild the report closer to the introductory, show what the crown is capable of and make some kind of introduction to Lua. <br><br>  Suddenly for me, while I was talking about the crown, the first day of the conference was over.  And the report on Go, I still have not started.  A quick opinion poll showed that the audience was waiting for this report and we decided to continue on the first floor of the hotel.  There were a few of us, they gave me a laptop with a large screen (thanks!) Instead of a projector, unfortunately not everyone was comfortable and not everyone could see it normally, but okay.  I posted the slides on the site, all who need to download.  After the report, we talked a little more about Go, about his perspectives, about how we all like him and a book on this language was presented to one of the listeners (I also want to!) <br><br>  On the second day there were very interesting reports about high load. <br><br>  From the conference I still had a baseball cap with the DevConf logo, notepads, pens, badges and a mini toothbrush from the hotel.  On this about DevConf basically everything.  It was cool. <br><br>  Slides on my reports can be downloaded from my site.  Link at the bottom of the topic. <br><br><h4>  Corona SDK </h4><br>  The crown is good.  It is the easiest to use game development framework, has recently acquired a free version and is highly recommended for review.  Knowing Python and PHP, it only took me a couple of days to learn Lua, and another week went away to become aware of most of the concepts of the language, OOP, and the main part of the Crown API. <br><br>  In Lua, there are some cool things, for example, logical operations return the last element that was triggered, you can make similar constructions: referring to an object as long as it exists and specifying a default value otherwise. <br><br><pre><code class="lua hljs"><span class="hljs-keyword"><span class="hljs-keyword">local</span></span> txt = a <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> a.text <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> a.text:<span class="hljs-built_in"><span class="hljs-built_in">lower</span></span>() <span class="hljs-keyword"><span class="hljs-keyword">or</span></span> <span class="hljs-string"><span class="hljs-string">'default'</span></span> <span class="hljs-comment"><span class="hljs-comment">-- : local txt = 'default' If a then if a.txt then txt = a.txt:lower() end end</span></span></code> </pre> <br>  Often make a mistake when using callbacks. <br><pre> <code class="lua hljs"><span class="hljs-keyword"><span class="hljs-keyword">local</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">myFunc</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span> <span class="hljs-built_in"><span class="hljs-built_in">print</span></span>(<span class="hljs-string"><span class="hljs-string">'Nya'</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">end</span></span> timer.performWithDelay(<span class="hljs-number"><span class="hljs-number">1000</span></span>, myFunc(), <span class="hljs-number"><span class="hljs-number">1</span></span>)</code> </pre><br>  In this case, the timer is passed not the function itself, but the result of its execution (nil).  You just need to remove the parentheses after the function name. <br>  Once in IRC they asked how to tell the timer to perform the function not only after the specified time, but also right now.  The answer is to call it simply in the code in the same place where you create the timer. <br><br>  Lua also comes with sugar: <br><pre> <code class="lua hljs">object.property -&gt; object[<span class="hljs-string"><span class="hljs-string">'property'</span></span>] <span class="hljs-keyword"><span class="hljs-keyword">local</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">nya</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span> -&gt; <span class="hljs-keyword"><span class="hljs-keyword">local</span></span> nya = <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span> object:method(params) -&gt; object.method(object, params) someFunction{name = <span class="hljs-string"><span class="hljs-string">'Someone'</span></span>} -&gt; someFunction({name = <span class="hljs-string"><span class="hljs-string">'Someone'</span></span>})  .</code> </pre><br><h5>  OOP in Lua </h5><br>  OOP can be organized on the basis of pseudo-classes using metamethods (analogous to the magic methods in PHP).  Or maybe quite well built on the basis of simple tables.  Moreover, both private and public, and even protected can be organized without problems. <br><div class="spoiler">  <b class="spoiler_title">Show OOP code</b> <div class="spoiler_text">  The simplest option with an empty object: <br><pre> <code class="lua hljs"><span class="hljs-keyword"><span class="hljs-keyword">local</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">newObject</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span> <span class="hljs-keyword"><span class="hljs-keyword">local</span></span> object = {} <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> object <span class="hljs-keyword"><span class="hljs-keyword">end</span></span> <span class="hljs-keyword"><span class="hljs-keyword">local</span></span> myObject = newObject()</code> </pre><br>  Add public variables: <br><pre> <code class="lua hljs"><span class="hljs-keyword"><span class="hljs-keyword">local</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">newObject</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span> <span class="hljs-keyword"><span class="hljs-keyword">local</span></span> object = {} object.somePublicVar = <span class="hljs-number"><span class="hljs-number">100</span></span> <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> object <span class="hljs-keyword"><span class="hljs-keyword">end</span></span> <span class="hljs-keyword"><span class="hljs-keyword">local</span></span> myObject = newObject() <span class="hljs-built_in"><span class="hljs-built_in">print</span></span>(myObject.somePublicVar)</code> </pre><br>  Now add some method: <br><pre> <code class="lua hljs"><span class="hljs-keyword"><span class="hljs-keyword">local</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">newObject</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span> <span class="hljs-keyword"><span class="hljs-keyword">local</span></span> object = {} object.somePublicVar = <span class="hljs-number"><span class="hljs-number">100</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">object:setName</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(name)</span></span></span></span> self.name = name <span class="hljs-keyword"><span class="hljs-keyword">end</span></span> <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> object <span class="hljs-keyword"><span class="hljs-keyword">end</span></span> <span class="hljs-keyword"><span class="hljs-keyword">local</span></span> myObject = newObject() myObject:setName(<span class="hljs-string"><span class="hljs-string">'Nyashka'</span></span>) <span class="hljs-built_in"><span class="hljs-built_in">print</span></span>(myObject.name)</code> </pre><br>  Note the use of a colon.  In this case, a special variable self appears inside the function method, which is a reference to the object itself.  Calling such methods is also necessary through a colon, or with a single point, but specify the object as the first argument. <br><br>  Add a private variable, for example, money: <br><pre> <code class="lua hljs"><span class="hljs-keyword"><span class="hljs-keyword">local</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">newObject</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span> <span class="hljs-keyword"><span class="hljs-keyword">local</span></span> object = {} object.somePublicVar = <span class="hljs-number"><span class="hljs-number">100</span></span> <span class="hljs-keyword"><span class="hljs-keyword">local</span></span> money = <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">object:setName</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(name)</span></span></span></span> self.name = name <span class="hljs-keyword"><span class="hljs-keyword">end</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">object:addMoney</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(amount)</span></span></span></span> money = money + amount <span class="hljs-keyword"><span class="hljs-keyword">end</span></span> <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> object <span class="hljs-keyword"><span class="hljs-keyword">end</span></span> <span class="hljs-keyword"><span class="hljs-keyword">local</span></span> myObject = newObject() myObject:setName(<span class="hljs-string"><span class="hljs-string">'Nyashka'</span></span>) myObject:addMoney(<span class="hljs-number"><span class="hljs-number">50</span></span>) <span class="hljs-built_in"><span class="hljs-built_in">print</span></span>(myObject.money) <span class="hljs-comment"><span class="hljs-comment">-- nil</span></span></code> </pre><br>  If we try to access money through a dot, we get nil, since this variable is not in the table object itself, but in the scope of the function that created this object.  Therefore, this variable is visible in the addMoney () method. <br><br>  Now inheritance: <br><pre> <code class="lua hljs"><span class="hljs-keyword"><span class="hljs-keyword">local</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">newObject</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span> <span class="hljs-keyword"><span class="hljs-keyword">local</span></span> object = {} object.somePublicVar = <span class="hljs-number"><span class="hljs-number">100</span></span> <span class="hljs-keyword"><span class="hljs-keyword">local</span></span> money = <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">object:setName</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(name)</span></span></span></span> self.name = name <span class="hljs-keyword"><span class="hljs-keyword">end</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">object:addMoney</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(amount)</span></span></span></span> money = money + amount <span class="hljs-keyword"><span class="hljs-keyword">end</span></span> <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> object <span class="hljs-keyword"><span class="hljs-keyword">end</span></span> <span class="hljs-keyword"><span class="hljs-keyword">local</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">newChild</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span> <span class="hljs-keyword"><span class="hljs-keyword">local</span></span> object = newObject() <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> object <span class="hljs-keyword"><span class="hljs-keyword">end</span></span> <span class="hljs-keyword"><span class="hljs-keyword">local</span></span> myChild = newChild()</code> </pre><br>  In this case, the object is not created by an empty table {}, but by another base object.  So in the function newChild, you can add properties and methods of the object or even override them. <br><br>  Protected is implemented a little more interesting.  We create a private table in which we add all protected variables, and return it along with the created object via return.  Suppose we want to transfer money by inheritance. <br><pre> <code class="lua hljs"><span class="hljs-keyword"><span class="hljs-keyword">local</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">newObject</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span> <span class="hljs-keyword"><span class="hljs-keyword">local</span></span> object = {} object.somePublicVar = <span class="hljs-number"><span class="hljs-number">100</span></span> <span class="hljs-keyword"><span class="hljs-keyword">local</span></span> protected = {money = <span class="hljs-number"><span class="hljs-number">0</span></span>} <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">object:setName</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(name)</span></span></span></span> self.name = name <span class="hljs-keyword"><span class="hljs-keyword">end</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">object:addMoney</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(amount)</span></span></span></span> protected.money = protected.money + amount <span class="hljs-keyword"><span class="hljs-keyword">end</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">object:getMoney</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span> <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> protected.money <span class="hljs-keyword"><span class="hljs-keyword">end</span></span> <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> object, protected <span class="hljs-keyword"><span class="hljs-keyword">end</span></span> <span class="hljs-keyword"><span class="hljs-keyword">local</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">newChild</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span> <span class="hljs-keyword"><span class="hljs-keyword">local</span></span> object, protected = newObject() <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">object:spendMoney</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(amount)</span></span></span></span> protected.money = protected.money - amount <span class="hljs-keyword"><span class="hljs-keyword">end</span></span> <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> object <span class="hljs-keyword"><span class="hljs-keyword">end</span></span> <span class="hljs-keyword"><span class="hljs-keyword">local</span></span> myChild = newChild() myChild:addMoney(<span class="hljs-number"><span class="hljs-number">100</span></span>) myChild:spendMoney(<span class="hljs-number"><span class="hljs-number">60</span></span>) <span class="hljs-built_in"><span class="hljs-built_in">print</span></span>(myChild:getMoney()) <span class="hljs-comment"><span class="hljs-comment">-- 40</span></span></code> </pre><br>  If you need to override any method, then it is declared the same way.  New overwrites the old.  If you need to make a wrapper, then the old method is first stored in some variable, and then it is called from the new method: <br><pre> <code class="lua hljs"><span class="hljs-keyword"><span class="hljs-keyword">local</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">newObject</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span> <span class="hljs-keyword"><span class="hljs-keyword">local</span></span> object = {} object.somePublicVar = <span class="hljs-number"><span class="hljs-number">100</span></span> <span class="hljs-keyword"><span class="hljs-keyword">local</span></span> protected = {money = <span class="hljs-number"><span class="hljs-number">0</span></span>} <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">object:setName</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(name)</span></span></span></span> self.name = name <span class="hljs-keyword"><span class="hljs-keyword">end</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">object:addMoney</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(amount)</span></span></span></span> protected.money = protected.money + amount <span class="hljs-keyword"><span class="hljs-keyword">end</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">object:getMoney</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span> <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> protected.money <span class="hljs-keyword"><span class="hljs-keyword">end</span></span> <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> object, protected <span class="hljs-keyword"><span class="hljs-keyword">end</span></span> <span class="hljs-keyword"><span class="hljs-keyword">local</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">newChild</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span> <span class="hljs-keyword"><span class="hljs-keyword">local</span></span> object, protected = newObject() <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">object:spendMoney</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(amount)</span></span></span></span> protected.money = protected.money - amount <span class="hljs-keyword"><span class="hljs-keyword">end</span></span> <span class="hljs-keyword"><span class="hljs-keyword">local</span></span> parent_setName = object.setName <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">object:setName</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(name)</span></span></span></span> name = <span class="hljs-string"><span class="hljs-string">'Mr. '</span></span> .. name parent_setName(self, name) <span class="hljs-keyword"><span class="hljs-keyword">end</span></span> <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> object <span class="hljs-keyword"><span class="hljs-keyword">end</span></span> <span class="hljs-keyword"><span class="hljs-keyword">local</span></span> myChild = newChild() myChild:setName(<span class="hljs-string"><span class="hljs-string">'Nyashka'</span></span>) <span class="hljs-built_in"><span class="hljs-built_in">print</span></span>(myChild.name) <span class="hljs-comment"><span class="hljs-comment">-- Mr. Nyashka</span></span></code> </pre></div></div><br>  In the case of objects displayed on the screen, it is enough to replace the empty table {} when creating an object with a call to a function from the Corona SDK API that returns a graphic object.  This can be display.newImage (), display.newRect () or most often I use the display.newGroup () group.  If you use a group, then such objects are very easy to expand with other graphic elements.  But keep in mind that an excessive number of groups reduces performance, so if your code starts to slow down, then try to use them as little as possible. <br><br>  A module is also a table and also an object.  You can adhere to the same principles as with the PLO.  Previously, modules were written using the keyword / module () function.  The name of the created module was transferred to it and it replaced the script environment with its own local one, in order not to write a bunch of ‚Äúlocal‚Äù, all variables and functions were placed in this local space.  And everything would be fine, but at the same time inside the module there was no access to global functions like print and others.  Then it was thought that when adding a special function as the second argument to the module () function, all global things will be searched for where it should be - in _G.  This special function package.seeall was responsible for this.  But in practice, not only did all global functions and variables appear inside all modules, so modules were created and placed by the module function in the global namespace.  Porridge.  Moon porridge.  Global moon porridge. <br><br>  I will insert my example module with pastebin: <br><div class="spoiler">  <b class="spoiler_title">Module</b> <div class="spoiler_text"><pre> <code class="lua hljs"><span class="hljs-keyword"><span class="hljs-keyword">local</span></span> _M = {} <span class="hljs-comment"><span class="hljs-comment">-- module table _M.someProperty = 1 -- class properties local function createText() -- local function are still valid, but not seen from outside - "private" end local privateVar -- so do local variables _GLOBAL_VAR -- without local it's global function _M.staticMethod(vars) -- this is class method like function (dot) -- there is no "self" end function _M:someMethod(vars) -- this is object method like function (colon) -- there is "self" end function _M:newBaseObject() -- Here goes constructor code local object = display.newImage(...) -- could be a display object or an empty table {} object.vars = 'some vars' object.name = 'BaseObject' object.property = self.someProperty -- from module function object:sign(song) print(self.name .. ' is singing ' .. song) end function object:destroy() -- optional destructor, you can override removeSelf() as well self.vars = nil self:removeSelf() end return object end -- Now inheritance function _M:newChildObject() local object = _M:newBaseObject() -- override any methods or add new object.name = 'ChildObject' function object:tell(story) print(self.name .. ' is telling ' .. story) end return object end return _M -- return this table as a module to require()</span></span></code> </pre></div></div><br>  Create a table-module and put the contents of the pens inside what we want  Everything is convenient, everything is wonderful. <br>  At the end of the file we write return _M.  Otherwise, the module will not be loaded through require. <br><br><h5>  The rest of the Corona SDK </h5><br>  Did you know that three dots ... mean a variable list of arguments to the current function?  It is easier to write wrappers or variable functions. <br><br><pre> <code class="hljs lua"><span class="hljs-keyword"><span class="hljs-keyword">local</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">my_warning_print</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(...)</span></span></span></span> <span class="hljs-built_in"><span class="hljs-built_in">print</span></span>(<span class="hljs-string"><span class="hljs-string">'Warning:'</span></span>, <span class="hljs-built_in"><span class="hljs-built_in">unpack</span></span>(<span class="hljs-built_in"><span class="hljs-built_in">arg</span></span>)) <span class="hljs-keyword"><span class="hljs-keyword">end</span></span></code> </pre><br><br>  Lua's speed is about 20 times lower than C. LuaJIT is only a couple of times slower, but real-time compilation is prohibited in iOS.  Pichalka.  On android you can compile, but in the crown it is not implemented.  The good news is that Lua is very rarely a bottleneck.  Only with intensive calculations. <br><br>  The speed of development is very important.  And the crown can be forgiven much only for this. <br><br>  Everything that is not local is global.  Store variables in tables for convenience. <br>  A lot of time is spent searching for a variable in service visibility tables.  First, the visibility of the current block or function, then the chain up to the very _G.  This happens in the case of global variables.  Accordingly, they are slow.  Cache all variables and functions with local to increase performance at a specific location.  But do not overdo it.  For most code, such a cache will not give any noticeable increase in speed.  optimize only those places that are called very often.  This may be a function in an infinite timer or an event handler for the enterFrame event called each frame.  Until Lua finishes processing the entire code for the current frame, Corona will not launch the renderer.  So if you change the parameter x let's say the images on the screen many times inside the function, then only the last value will be reflected on the screen. <br><br>  Cache even things like math.random, table.insert, ipars, pairs, and other built-in functions. <br><br>  Do not litter in the field of global visibility, you can break something.  Or just be a memory leak. <br><br>  It is possible to override everything in _G, but this is of course not recommended.  To see what's in there, just print on it.  Remember the derived variables and never use them.  Some say that by no means put anything in _G.  But this is too much.  It‚Äôs quite normal in global visibility to have several elements for yourself, like a table for your modules (like a namespace, for example, ‚Äúapp‚Äù), configurations or just built-in modules, so that in each scene you don‚Äôt write a bunch of require. <br><br>  When thinking about performance, add a module for monitoring FPS, texture memory and memory of Lua.  For the first time after adding such a module, everyone has a panic "where does this memory leak come from".  In fact, the smooth growth of memory consumption is the norm, up to about 10kB per second.  The next time the garbage collector is called, the memory will return to its minimum value.  The garbage collector can be customized if it bothers you in your algorithms.  For example, run it yourself after the end of the calculations, so that it does not slow down them. <br><br>  Lua memory in practice does not exceed a couple of megabytes.  The main volume is texture.  They are desirable to optimize.  Inside the video chip, all textures (meaning any images) are aligned in powers of two.  Therefore, for best results, stick to a power of two for your files. <br><br>  In the crown, the frame rate per second is set to either 30 or 60, try to always use 60, as the interface of your application becomes much smoother and more pleasant to the eye. <br><br>  Animate everything.  It is very easy to achieve this if you follow the rules of good tone when designing your application.  Use objects for everything.  At least even the wrapper functions over the standard functions newImage, etc. In this case, you can add animation once in the generator of your object and it will appear immediately in the entire application.  Just do not overdo it with them.  Congestion or lethargy in the sense that you keep the user waiting has a very bad effect on the overall impression of the application. <br><br>  Here is my wrapper for the standard newImage.  You can set the position on the screen in one line and add to the group. <br><div class="spoiler">  <b class="spoiler_title">Wrapper over newImage and useful stuff</b> <div class="spoiler_text"><pre> <code class="lua hljs"><span class="hljs-keyword"><span class="hljs-keyword">local</span></span> _M = {} _W = display.contentWidth _H = display.contentHeight _T = display.screenOriginY <span class="hljs-comment"><span class="hljs-comment">-- Top _L = display.screenOriginX -- Left _R = display.viewableContentWidth - _L -- Right _B = display.viewableContentHeight - _T-- Bottom _CX = math.floor(_W / 2) _CY = math.floor(_H / 2) _COLORS = {} _COLORS['white'] = {255, 255, 255} _COLORS['black'] = {0, 0, 0} _COLORS['red'] = {255, 0, 0} _COLORS['green'] = {0, 255, 0} _COLORS['blue'] = {0, 0, 255} _COLORS['yellow'] = {255, 255, 0} _COLORS['cyan'] = {0, 255, 255} _COLORS['magenta'] = {255, 0, 255} function _M.setRP (object, ref_point) ref_point = string.lower(ref_point) if ref_point == 'topleft' then object:setReferencePoint(display.TopLeftReferencePoint) elseif ref_point == 'topright' then object:setReferencePoint(display.TopRightReferencePoint) elseif ref_point == 'topcenter' then object:setReferencePoint(display.TopCenterReferencePoint) elseif ref_point == 'bottomleft' then object:setReferencePoint(display.BottomLeftReferencePoint) elseif ref_point == 'bottomright' then object:setReferencePoint(display.BottomRightReferencePoint) elseif ref_point == 'bottomcenter' then object:setReferencePoint(display.BottomCenterReferencePoint) elseif ref_point == 'centerleft' then object:setReferencePoint(display.CenterLeftReferencePoint) elseif ref_point == 'centerright' then object:setReferencePoint(display.CenterRightReferencePoint) elseif ref_point == 'center' then object:setReferencePoint(display.CenterReferencePoint) end end function _M.newImage(filename, params) params = params or {} local w, h = params.w or _W, params.h or _H local image = display.newImageRect(filename, w, h) if params.rp then _M.setRP(image, params.rp) end image.x = params.x or _CX image.y = params.y or _CY if params.g then params.g:insert(image) end return image end function _M.setFillColor (object, color) if type(color) == 'string' then color = _COLORS[color] end local color = table.copy(color) if not color[4] then color[4] = 255 end object:setFillColor(color[1], color[2], color[3], color[4]) end function _M.setTextColor (object, color) if type(color) == 'string' then color = _COLORS[color] end local color = table.copy(color) if not color[4] then color[4] = 255 end object:setTextColor(color[1], color[2], color[3], color[4]) end function _M.setStrokeColor (object, color) if type(color) == 'string' then color = _COLORS[color] end local color = table.copy(color) if not color[4] then color[4] = 255 end object:setStrokeColor(color[1], color[2], color[3], color[4]) end function _M.setColor (object, color) if type(color) == 'string' then color = _COLORS[color] end local color = table.copy(color) if not color[4] then color[4] = 255 end object:setColor(color[1], color[2], color[3], color[4]) end return _M</span></span></code> </pre><br><br>  A little more about the screen size <a href="http://pastebin.com/GWG3sJLZ">pastebin.com/GWG3sJLZ</a> </div></div><br>  Also includes a very useful setRP function, eliminating the need to write long values ‚Äã‚Äãof control points.  And also a way to set the color of objects by name. <br><br>  To support the button back to Android, just add the following code to your main.lua <br><pre> <code class="lua hljs">Runtime:addEventListener(<span class="hljs-string"><span class="hljs-string">'key'</span></span>, <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(event)</span></span></span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> event.keyName == <span class="hljs-string"><span class="hljs-string">'back'</span></span> <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> event.phase == <span class="hljs-string"><span class="hljs-string">'down'</span></span> <span class="hljs-keyword"><span class="hljs-keyword">then</span></span> <span class="hljs-keyword"><span class="hljs-keyword">local</span></span> scene = storyboard.getScene(storyboard.getCurrentSceneName()) <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> scene <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> <span class="hljs-built_in"><span class="hljs-built_in">type</span></span>(scene.backPressed) == <span class="hljs-string"><span class="hljs-string">'function'</span></span> <span class="hljs-keyword"><span class="hljs-keyword">then</span></span> <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> scene:backPressed() <span class="hljs-keyword"><span class="hljs-keyword">end</span></span> <span class="hljs-keyword"><span class="hljs-keyword">end</span></span> <span class="hljs-keyword"><span class="hljs-keyword">end</span></span>);</code> </pre><br>  And determine in each scene where the reaction to this button is required, the function: <br><pre> <code class="lua hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">scene:backPressed</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span> storyboard.gotoScene(<span class="hljs-string"><span class="hljs-string">'scenes.menu'</span></span>, <span class="hljs-string"><span class="hljs-string">'slideRight'</span></span>, <span class="hljs-number"><span class="hljs-number">200</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-literal"><span class="hljs-literal">true</span></span> <span class="hljs-keyword"><span class="hljs-keyword">end</span></span></code> </pre><br>  Do not forget to add the dialog box "Are you sure you want to exit" and call native.requestExit () (only for Android, for iOS - os.exit ()). <br><br><h5>  config.lua panacea for device fragmentation </h5><br>  Dynamic scaling is great.  Nearly. <br>  The content is adjusted to the current screen size, while keeping the virtual part of your application visible (usually 320x480) and adding space along any two edges (letterbox).  Arrange your elements by anchors - the corners of the screen, the centers of the sides or the center of the entire screen.  Try not to use elements that need to be scaled.  If on different screens the controls look a little less or more - not scary.  The main thing is to make them big enough.  Not lower than 32 pixels for the button.  Better 64 or at least 48. There are corners of your content and there are corners of the screen directly, this is the difference between the virtual screen area and the real one. <br><br>  Few people know that you can write code in config.lua.  You can dynamically assign a content area.  For what?  To achieve pixel perfect graphics on most devices.  Otherwise, the picture is slightly blurred and the perfect look is lost. <br><br>  Put your files in subfolders - lib for libraries, scenes for storyboard scenes, images for pictures, sounds and maybe music for which you quite guessed it.  Always use lower case for your files to avoid problems with loading files on file systems with a register. <br><br>  Use bitbucket.com for backup and version control of your application.  It is free for private projects with teams of just a few people. <br><br>  You can search for music for your game on soundcloud, indiegamemusic, google.  Don't forget about the Garabe band, FrootyLoops, Audacity and bfxr. <br><br>  In the Garage Band with the 8-bit synthesizer, you can achieve a good modern old school sound.  With the use of effects and equalizer. <br><br>  You can call the button widget onRelease via button._view._onReleas (). <br><br>  Carefully browse the library for standard features.  Few people know that the crown supports the twitter client under ios (native.showPopu ('twitter')).  Or that you can display the market page directly from the application. <br><br>  Keep in mind that when a multitouch on your button, you can have time to press twice with two fingers.  If something happens that can not be run many times in a row, put a flag inside the button that it has been activated and can no longer be pressed. <br><br>  Use Flurry to understand what‚Äôs wrong with your game, how to improve it, so that more users recommend it. <br><br>  As an IDE for Corona SDK, I chose Zero Brane Studio - an open source, Russian-speaking developer, written in Lua + wxWidgets, cross-platform.  There are other IDEs, but this one is generally more like it. <br><br><h4>  Go </h4><br>  Go cool.  All use. <br><br>  I wrote on it the server part of another game (order) and I really liked it.  The speed and ease of development is higher than that of C / C ++, the speed of execution is either slightly slower or the same.  Now there is a vast community in the language and quite a lot of different libraries have appeared. <br><br><h4>  Laser flow </h4><br>  The game was released in the App Store on June 15.  That day there were 3,000 downloads and 10 purchases.  Perhaps the game was too complicated, and maybe just for fans of the game. <br><br>  I want to tell you about the level generator and about the level editor.  I killed a few days to write a solution search algorithm.  I used different variations of brute force, with different exit conditions, with all the code optimizations and using LuaJIT, the result was deplorable - the levels are solved very slowly.  It is necessary to develop an algorithm based on the shortest path search algorithms, but this is not easy.  He left only the field generator from the generator and called it Abyss of Random. <br><br>  The editor is more interesting.  I chose to do it either inside the game itself, but here the inconvenience of control is that you need to think up where to place a bunch of buttons, if you make a hidden panel, it is very inconvenient.  Another option is to make a separate desktop application.  We have the power of the keyboard, but the development is almost from scratch. <br><br>  In the end, I decided to combine.  Naked keylogger for Mac OS on python and a script for determining the current active window.  Thus, if the crown simulator is currently active, send keystrokes to it via plain text via UDP.  In the crown, a UDP server rises and listens to commands when we are in the scene with the playing field itself. <br><br>  As a result, by simply pressing the keyboard, I add any elements to the field, I can regenerate it, I can save, I can change the color of the lasers and arrange the target cells.  Everything turned out very convenient.  140 levels I did in a day. <br><br>  Three more bonus levels are hidden in the game itself, it is easy to find them. <br><br><div class="spoiler">  <b class="spoiler_title">Keylogger code</b> <div class="spoiler_text"><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">from</span></span> AppKit <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> NSWorkspace <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> Cocoa <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> * <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> Foundation <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> * <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> PyObjCTools <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> AppHelper <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> socket sock = socket.socket(socket.AF_INET, socket.SOCK_DGRAM) <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">AppDelegate</span></span></span><span class="hljs-params"><span class="hljs-class"><span class="hljs-params">(NSObject)</span></span></span><span class="hljs-class">:</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">applicationDidFinishLaunching_</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(self, aNotification)</span></span></span><span class="hljs-function">:</span></span> NSEvent.addGlobalMonitorForEventsMatchingMask_handler_(NSKeyDownMask, handler) <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">handler</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(event)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> NSWorkspace.sharedWorkspace().activeApplication()[<span class="hljs-string"><span class="hljs-string">'NSApplicationName'</span></span>] == <span class="hljs-string"><span class="hljs-string">'Corona Simulator'</span></span>: s = unicode(event).split(<span class="hljs-string"><span class="hljs-string">' '</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> s[<span class="hljs-number"><span class="hljs-number">8</span></span>]: s = s[<span class="hljs-number"><span class="hljs-number">8</span></span>][<span class="hljs-number"><span class="hljs-number">-2</span></span>:<span class="hljs-number"><span class="hljs-number">-1</span></span>] <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (s &gt;= <span class="hljs-string"><span class="hljs-string">'a'</span></span> <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> s &lt;= <span class="hljs-string"><span class="hljs-string">'z'</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">or</span></span> s == <span class="hljs-string"><span class="hljs-string">'`'</span></span> <span class="hljs-keyword"><span class="hljs-keyword">or</span></span> s == <span class="hljs-string"><span class="hljs-string">'['</span></span> <span class="hljs-keyword"><span class="hljs-keyword">or</span></span> s == <span class="hljs-string"><span class="hljs-string">']'</span></span>: sock.sendto(s, (<span class="hljs-string"><span class="hljs-string">'127.0.0.1'</span></span>, <span class="hljs-number"><span class="hljs-number">5000</span></span>)) <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">main</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function">:</span></span> app = NSApplication.sharedApplication() delegate = AppDelegate.alloc().init() NSApp().setDelegate_(delegate) AppHelper.runEventLoop() <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> __name__ == <span class="hljs-string"><span class="hljs-string">'__main__'</span></span>: main()</code> </pre></div></div><br><br><div class="spoiler">  <b class="spoiler_title">Lua server code</b> <div class="spoiler_text"><pre> <code class="lua hljs"><span class="hljs-keyword"><span class="hljs-keyword">local</span></span> udp = socket.udp() udp:setsockname(<span class="hljs-string"><span class="hljs-string">'127.0.0.1'</span></span>, <span class="hljs-number"><span class="hljs-number">5000</span></span>) udp:settimeout(<span class="hljs-number"><span class="hljs-number">0.001</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">local</span></span> <span class="hljs-built_in"><span class="hljs-built_in">char</span></span>, ip, port timer.performWithDelay(<span class="hljs-number"><span class="hljs-number">200</span></span>, <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span> <span class="hljs-built_in"><span class="hljs-built_in">char</span></span>, ip, port = udp:receivefrom() <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> <span class="hljs-built_in"><span class="hljs-built_in">char</span></span> <span class="hljs-keyword"><span class="hljs-keyword">then</span></span> <span class="hljs-keyword"><span class="hljs-keyword">local</span></span> scene = storyboard.getScene(storyboard.getCurrentSceneName()) <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> <span class="hljs-built_in"><span class="hljs-built_in">type</span></span>(scene.keyboardPressed) == <span class="hljs-string"><span class="hljs-string">'function'</span></span> <span class="hljs-keyword"><span class="hljs-keyword">then</span></span> scene:keyboardPressed(<span class="hljs-built_in"><span class="hljs-built_in">char</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">end</span></span> <span class="hljs-keyword"><span class="hljs-keyword">end</span></span> <span class="hljs-keyword"><span class="hljs-keyword">end</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>)</code> </pre></div></div><br>  By the same principle, you can make a screen capture button directly from the game for downloading to various app stores.  You need to use the display.save () function. <br><br>  Before publishing to Habr√©, he added support for the Russian language, made the levels lighter available initially, added analytics, made a discount on the purchase of all levels and put it on Google Play. <br><br>  Communicate on IRC for both the Corona SDK and Go.  On freenode.net: #corona and # go-nuts. <br>  Guo players are greatly offended if they go to the channel (#go) and start shipping questions on programming. <br><br><h4>  Links </h4><br>  Laser flow <br>  iOS <a href="https://itunes.apple.com/us/app/laser-flow/id647540345%3Fls%3D1%26mt%3D8">itunes.apple.com/us/app/laser-flow/id647540345?ls=1&amp;mt=8</a> <br> Android <a href="https://play.google.com/store/apps/details%3Fid%3Dcom.spiralcodestudio.laserflow">play.google.com/store/apps/details?id=com.spiralcodestudio.laserflow</a> <br><br>   : <a href="http://spiralcodestudio.com/wp-content/uploads/2013/07/devconf_corona.odp">Corona SDK</a> , <a href="http://spiralcodestudio.com/wp-content/uploads/2013/07/devconf_go.odp">Go Language</a> . <br><br> Corona SDK <a href="http://coronalabs.com/">coronalabs.com</a> <br> Go Language <a href="http://golang.org/">golang.org</a> <br><br>    !   ,     . <br><br> <font color="lightgrey">      .</font> </div><p>Source: <a href="https://habr.com/ru/post/184208/">https://habr.com/ru/post/184208/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../184194/index.html">Embedding advertising into a Windows Phone 8 app with NAX</a></li>
<li><a href="../184198/index.html">Practice: how I compared the ‚Äúidentical‚Äù registrars AdvoCam and teXet</a></li>
<li><a href="../184202/index.html">Welcome to the bright side of continuous integration</a></li>
<li><a href="../184204/index.html">The near future of Wi-Fi: Voice Enterprise certification</a></li>
<li><a href="../184206/index.html">Is the movie over?</a></li>
<li><a href="../184210/index.html">Yaxy - proxy server for web developer</a></li>
<li><a href="../184212/index.html">Channel 1 explained why the law on blocking sites is being introduced</a></li>
<li><a href="../184214/index.html">What do people actually do on the Internet?</a></li>
<li><a href="../184218/index.html">How to shoot a year-long TimeLapse video on an Android phone</a></li>
<li><a href="../184220/index.html">PHP 5.5 "Password Hashing API"</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>