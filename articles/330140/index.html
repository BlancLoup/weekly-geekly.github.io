<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Blockchain + distributed storage = Sia</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hello! We all have data that we want to keep under control. We do not want to lose access to them and do not want access to someone else. Where to sto...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Blockchain + distributed storage = Sia</h1><div class="post__text post__text-html js-mediator-article"><p>  Hello!  We all have data that we want to keep under control.  We do not want to lose access to them and do not want access to someone else.  Where to store such data?  I believe that <a href="https://sia.tech/">Sia</a> can be the perfect place for this and tell you why. </p><br><img src="https://habrastorage.org/getpro/habr/post_images/6ef/910/bd0/6ef910bd0f467d2731aefa04423710a8.png" alt="Sia"><a name="habracut"></a><br><p>  <em>Disclaimer: Sia is actively developing and, according to the developers, is still not suitable to be the only place for backup.</em> </p><br><p>  <a href="https://sia.tech/">Sia</a> (pronounced "Sai") is a blockchain-based distributed system whose members store information on each other's hard drives for a fee.  A system member can decide to be only a user who loads data (in Sia terminology - renter), or a server that accepts data (in Sia terminology - host), or to combine these two roles.  Hosts are interested in data storage, as they go at a loss if they lose data.  This is ensured as follows: when concluding a contract for storing data, the host makes a deposit and confirms daily the fact of the storage of the downloaded data;  if he does not do so, he loses part of the deposit.  Details of the process leave for dessert :-) </p><br><p><img src="https://www.backblaze.com/blog/wp-content/uploads/2015/06/blog-rs-2.png" alt="Calculation of Reed-Solomon codes"></p><br><p>  To ensure that the data survived even in case of failure of several hosts, <a href="https://ru.wikipedia.org/wiki/%25D0%259A%25D0%25BE%25D0%25B4_%25D0%25A0%25D0%25B8%25D0%25B4%25D0%25B0_%25E2%2580%2594_%25D0%25A1%25D0%25BE%25D0%25BB%25D0%25BE%25D0%25BC%25D0%25BE%25D0%25BD%25D0%25B0">Reed-Solomon codes</a> are used.  Data is uploaded to 40 hosts and remains available if at least 10 of these hosts are available.  Storage redundancy is 3x.  In the future, uptime of hosts is expected to increase, after which redundancy can be reduced. </p><br><p>  Sia uses its own altcoin, Siacoin.  There is a blockchain, which stores both regular transactions and file storage contracts.  (Bitcoin blockchain would not be suitable for Sia, since it is not possible to conclude such contracts.) There is both an <a href="https://explore.sia.tech/">explorer</a> , miners, and exchanges for exchange - in a word, everything that is attached to altcoin. </p><br><p><img src="https://habrastorage.org/web/fe8/d18/df8/fe8d18df88e7455fa3569be22379441a.png" alt="Siacoin page on Poloniex"><br>  <em>Siacoin page on the Poloniex exchange.</em> </p><br><p>  So why do I like to store data in such a system?  Have you ever wondered what other ways we have?  There are a huge number of ways to have a <a href="https://en.wikipedia.org/wiki/Single_point_of_failure">single point of failure</a> .  A single point of failure justifies its name, and <a href="https://habrahabr.ru/post/322932/">sooner or later refuses</a> .  In addition, such systems cause centralization and rejection of anonymity and become a convenient place to impose government control over user data.  I hate the idea that someone can deny me access to my data.  What is the choice of people who want to decentralize data storage?  For example, to buy a place or servers in several centralized systems.  For most people, this means a huge overhead in the form of time and money spent, especially if done anonymously. </p><br><p>  A few words about why anonymity is so important when storing data.  If the state knows about your property, then in fact it does not belong to you, since the state determines the rules of the game and tomorrow may decide to take it from you (or partially take it taxed).  For example, in the US, <a href="https://ru.wikipedia.org/wiki/%25D0%259A%25D0%25BE%25D0%25BD%25D1%2584%25D0%25B8%25D1%2581%25D0%25BA%25D0%25B0%25D1%2586%25D0%25B8%25D1%258F_%25D0%25B7%25D0%25BE%25D0%25BB%25D0%25BE%25D1%2582%25D0%25B0_%25D1%2583_%25D0%25BD%25D0%25B0%25D1%2581%25D0%25B5%25D0%25BB%25D0%25B5%25D0%25BD%25D0%25B8%25D1%258F_%25D0%25A1%25D0%25A8%25D0%2590_%25D0%25B2_1933_%25D0%25B3%25D0%25BE%25D0%25B4%25D1%2583">gold was seized from people</a> during the Great Depression.  The only reliable way to protect property is to untie it from any information that the state has. </p><br><p>  When I realized this, I decided to make a system devoid of these shortcomings: decentralized, anonymous and reliable.  At first, I decided to check if there was anything ready on the githaba.  And found Sia - exactly what you need!  From the user's point of view, Sia is a ready-made analogue for buying a bunch of servers for manual data download.  And the analog is more efficient, since one server stores data of thousands of users.  The storage cost calculator on <a href="https://sia.tech/">the Sia website</a> shows that storage of 5 TB for a month will cost $ 10.  (Disclaimer: the real price will be higher due to commissions for the creation of contracts and triple storage redundancy, but still remains very, very attractive.) </p><br><h2 id="kak-zagruzit-fayly-v-sia">  How to upload files to Sia </h2><br><p><img src="https://cdn-images-1.medium.com/max/800/1*EciWs87xa-mLsGIKpiEkiA.png" alt="Sia-ui"></p><br><p>  See also the <a href="https://sia.tech/ru/get-started/">manual on the official website</a> . </p><br><ol><li>  Download and run <a href="https://sia.tech/ru/apps/">Sia-UI</a> . </li><li>  <a href="https://sia.tech/ru/get-siacoin">Buy siakoin</a> . </li><li>  Upload files <a href="https://blog.sia.tech/getting-started-with-private-decentralized-cloud-storage-c9565dc8c854">using the Sia-UI interface</a> . </li></ol><br><p>  All private keys used in the wallet are obtained from seed, which the program issues at the beginning of work.  To restore access to wallet siacoins (but so far, unfortunately, not to files), it is enough to know this seed. </p><br><p> To be honest, I have never run Sia-UI since I live on the command line, and Sia provides excellent tools for this: <a href="https://github.com/NebulousLabs/Sia/tree/master/siad">siad</a> and <a href="https://github.com/NebulousLabs/Sia/tree/master/siac">siac</a> .  (By the way, the entire Sia code is written in Go, which is good <code>siad</code> .) The basics of working with <code>siad</code> and <code>siac</code> can be found in the <a href="https://blog.sia.tech/how-to-run-a-host-on-sia-2159ebc4725">article about launching a host</a> and from the programs of these programs.  The <code>siad</code> program <code>siad</code> usually simple enough to run, and interact with it through <code>siac</code> . </p><br><p>  Examples of commands: </p><br><ul><li>  <code>siac wallet unlock</code> - unlock the wallet (seed input is required), </li><li>  <code>siac wallet balance</code> - show the current balance of the wallet, </li><li>  <code>siac renter setallowance money time_period</code> - enter into contracts with hosts, </li><li>  <code>siac renter upload /path/to/source/file path/in/sia</code> - upload the file to Sia, </li><li>  <code>siac renter contracts</code> - deduce all concluded contracts with hosts. </li></ul><br><p>  <code>siac</code> interacts with <code>siad</code> via the <a href="">HTTP API</a> .  With it, you can build your systems using Sia as storage.  The Sia team is betting that in the future, companies will store their data in Sia. </p><br><p>  To store data you need information in the <code>renter/</code> folder.  There are plans to restore data exclusively from the seed (see in the "Plans" section). </p><br><p>  Optionally, you can save information about the volume loaded with the help of <code>siac renter export</code> and load it into the "puzomerka": <a href="https://rankings.sia.tech/">rankings.sia.tech</a> . </p><br><p><img src="https://habrastorage.org/web/f63/e10/1fb/f63e101fb7e14072aaf62acc25c19f7c.png" alt="rankings"></p><br><h2 id="kak-zapustit-svoy-host-sia">  How to run your host Sia </h2><br><p><img src="https://cdn-images-1.medium.com/max/800/0*olbmUdjU8wXF734S.png" alt="siad"></p><br><p>  Sia Host will generate revenue in siacoins to its owner.  This is a good way to monetize unused parts of hard drives.  Not only storage is paid, but also traffic. </p><br><p>  There is a <a href="https://blog.sia.tech/how-to-run-a-host-on-sia-2159ebc4725">whole article</a> about launching your server.  I'll go over the top again. </p><br><ol><li>  Looking for the program <code>siad</code> and <code>siac</code> .  The <code>siad</code> program starts, and all actions are performed through <code>siac</code> .  We must wait until <code>siad</code> downloads the blockchain.  It takes several hours, there are plans for significant acceleration. </li><li>  Create an address ( <code>siac wallet address</code> ), throw siacoins bought in <a href="https://sia.tech/ru/get-siacoin">any way on it</a> . </li><li>  Add folder: <code>siac host folder add /path/to/dir size</code> </li><li>  Set the price for storing, loading and unloading data: <code>siac config</code> . </li><li>  Publish host information: <code>siac host announce</code> . </li></ol><br><p>  After some time, the host will begin to receive contracts and will upload data to it. </p><br><p>  Revenues hosters can be viewed on the website <a href="http://siahub.info/">siahub.info</a> .  Example of a revenue graph for a <a href="http://siahub.info/host/762">host</a> that has 585 of the available 999 GB uploaded: </p><br><p><img src="https://habrastorage.org/web/ccb/412/d97/ccb412d97b824440b49b637451359b6d.png" alt="siahub"></p><br><p>  This host receives 57 siacoins every day.  1 siacoin today costs about 1.5 cents, which means this host receives about 50 rubles a day.  Let there is a 4TB NAS for 20k rubles.  With a similar percentage of filling, he would give about 200 rubles per day, that is, 6k rubles per month - a good payback. </p><br><h2 id="dokazatelstvo-hraneniya">  Proof of storage </h2><br><p><img src="https://upload.wikimedia.org/wikipedia/commons/thumb/9/95/Hash_Tree.svg/1024px-Hash_Tree.svg.png" alt="image"></p><br><p>  In Sia, the hosts regularly prove that they store the downloaded data.  This is an important point, because otherwise unscrupulous hosts could drop all data into / dev / null, while continuing to receive payment.  Above, I promised to tell you how the proof of storage works.  This is described in detail in the <a href="https://www.sia.tech/whitepaper.pdf">article</a> from the creator of Sia.  Below is my explanation on the fingers. </p><br><p>  Contract data can be represented as an array of fragments of the same size.  Arrange a <a href="https://ru.wikipedia.org/wiki/TTH">tree hash of</a> these fragments.  To do this, we calculate the strong cryptographic hashes of these fragments.  Then we divide the received hashes into pairs and calculate the hashes from the connected hashes of each pair.  The resulting hashes are again paired up and so on until we get one hash.  It is also stored in the contract and updated when the user downloads new data for this contract.  Now back to the separate fragment of the file and trace its "path" to the root of the tree.  At each step, the hash coming from another group of fragments will be "mixed in" into hashing.  If we provide this fragment and these additional hashes that are in the path from fragment to root, we can prove that this fragment is present at this position in the data.  Counterfeiting such a proof is equivalent to finding a hash collision. </p><br><p>  How does this apply to Sia?  The fragment number, the storage of which the host must prove, is determined depending on the hashes of the previous blocks, so it is difficult to predict it in advance.  At a certain period of time (in blocks, not by the hour), the host must download proof of storage of the selected fragment, otherwise he loses money. </p><br><p>  An attentive reader might have a question - what if the malicious host will store the data, but will not let the user download it?  Or just to have a low uptime, which is why it will be impossible to use it.  To combat this, Sia has come up with a host rating system.  Each running client calculates this rating independently, including measures uptime, so it is best to let the program idle before entering into contracts so that statistics on the hosts can be gathered.  All factors affecting the rating, understand the <a href="https://forum.sia.tech/topic/1037/the-hosting-handbook">article about the rating</a> .  Host ratings can be viewed with the <code>siac hostdb -v</code> command and on the <a href="http://siahub.info/">siahub.info</a> site. </p><br><h2 id="siafund">  Siafund </h2><br><p>  In Siacoin there is one feature that I have not met before in Altcoin.  <a href="https://siawiki.tech/wallet/siafund">Siafund</a> is a special kind of resources that can be stored in the same blockchain and at the same addresses as Siacoin.  The addresses where Siafund is stored receive part of the host revenue.  Deductions in the amount of 3.9% of payments on successful contracts are distributed proportionally among Siafund holders.  In nature, there is exactly 10k Siafund.  Most of them are at the developers (Nebulous Inc.), but a little more than 1000 were sold at one time.  Siafund are sold on the <a href="https://bitsquare.io/">bitsquare.io</a> exchange and on the #siafunds <a href="https://slackin.sia.tech/">Slack</a> channel.  Currently, the price of a Siafund is about 2 Bitcoins.  Siafund are indivisible. </p><br><p>  Siafund is an alternative to the pre-mining of its own cryptocurrency by the developers of altcoin.  As planned by the creators, because of the high price, only people who are committed to the ideas of the project, including developers, will be the owners of Siafund.  The more Sia will be used to store files, the more income Siafund will bring. </p><br><h2 id="obozrevateli-seti">  Network browsers </h2><br><p>  There are beautiful host cards on <a href="http://siapulse.com/">siapulse.com</a> and <a href="http://siahub.info/">siahub.info</a> . </p><br><p><img src="https://habrastorage.org/web/ef9/8e6/8ec/ef98e68ece064645a4903b3f8fd7bdc1.png" alt="map"></p><br><p>  Hosts already exist on all continents except Africa.  The total number of active ones is 275. Including, there are hosts in several cities of Russia and Ukraine.  I invite everyone who needs help with launching a host and in general from Sia to the <a href="https://slackin.sia.tech/">Slack chat</a> channels, including #help, #russian and #farming. </p><br><h2 id="plany">  Plans </h2><br><p>  Some plans from the <a href="https://trello.com/b/Io1dDyuI/sia-public-roadmap">official roadmap</a> : </p><br><ul><li>  the ability to share the downloaded file with another Sia user (in the next release) and with anyone (after 2 years). </li><li>  Download file parts. </li><li>  Efficient storage of small files. </li><li>  Streaming video. </li><li>  Automatic pricing host. </li><li>  Recover files from seed. </li><li>  Support for mobile and other lightweight clients. </li></ul><br><h2 id="soobschestvo">  Community </h2><br><ul><li>  <a href="https://slackin.sia.tech/">Slack chat</a> is a very interesting place, among the channels there are #russian. </li><li>  <a href="https://blog.sia.tech/">Blog</a> , <a href="https://forum.sia.tech/">forum</a> and <a href="https://twitter.com/siatechhq">Twitter</a> . </li><li>  <a href="https://github.com/NebulousLabs/Sia">Github</a> - code, bug reports and pull requests. </li></ul><br><p>  Thanks to everyone who read to the end! </p></div>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <p>Source: <a href="https://habr.com/ru/post/330140/">https://habr.com/ru/post/330140/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../330124/index.html">Orange Pi on car wash part 3</a></li>
<li><a href="../330126/index.html">Electronic signature in Bitrix24. Theory and experience of implementation</a></li>
<li><a href="../330128/index.html">Single Line Diagrams in Revit</a></li>
<li><a href="../330130/index.html">Task: find a triangle with a smaller perimeter</a></li>
<li><a href="../330134/index.html">Synchronize database structure between applications</a></li>
<li><a href="../330142/index.html">3 Ways to Break Single Responsibility Principle</a></li>
<li><a href="../330144/index.html">Teamwork. How to reconcile the designer and coder</a></li>
<li><a href="../330146/index.html">JSF 2 + Maven + Jetty. CDI, form and AJAX</a></li>
<li><a href="../330148/index.html">Why tree shaking does not work and how to live with it</a></li>
<li><a href="../330150/index.html">Writing Guard</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>