<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Our cloud-based JS is now ES2017, and this reduces the code by several times.</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Contrary to popular belief, Voximplant cloud does not use Node.js to perform client JavaScript code in parallel with voice and video calls. Each of ou...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Our cloud-based JS is now ES2017, and this reduces the code by several times.</h1><div class="post__text post__text-html js-mediator-article"><div style="text-align:center;"><img src="https://habrastorage.org/webt/59/e4/82/59e4828565e87888407830.png"></div><br>  Contrary to popular belief, Voximplant cloud does not use Node.js to perform client JavaScript code in parallel with voice and video calls.  Each of our servers simultaneously manages hundreds of calls: switching voice and video streams between calls, recording, voice recognition, synthesis, HTTP requests to external servers ‚Äî the whole story.  Node.js is designed to work alone.  A few hundred isolated instances are not about her.  They will distort for memory, resources and everything will end very sadly.  Therefore, we have a <a href="https://voximplant.com/docs/references/voxengine">highly isolated</a> and resource-constrained sandbox that does not allow client-side JavaScript code to disrupt entire servers in one small session.  Asterisk is also not used for similar reasons. <br><br>  Until recently, we supported ES5 syntax.  A typical communication scenario is a few hundred, or a maximum, thousand lines of code.  Difficult things customers still put on their own backend, and if you need a modern syntax, you can always use the transpiler and automatically ship the generated JavaScript using <a href="https://habrahabr.ru/company/Voximplant/blog/269473/">Continuous Integration</a> . <br><br>  But 2017 obliges, and clients love and use the Web editor and debugger to quickly create the right solutions.  Therefore, we wrote down the support for ES2017 (not from scratch, of course, but with ready-made components) and redid the training materials in a modern way.  Under the cut, I want to show <b>how</b> shorter and clearer the code becomes if we use modern JavaScript notation.  The difference is impressive. <br><a name="habracut"></a><br><h2>  async and await </h2><br>  Since our API has returned promises for quite some time, where it is possible, then the then chain with parameter passing turns into well readable linear code: 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <div class="oembed"><script type="text/javascript" src="https://gist.github.com/07f653dd7d8e0d8e718dc8992c842c18.js"></script><link rel="stylesheet" href="https://github.githubassets.com/assets/gist-embed-b3b573358bfc66d89e1e95dbf8319c09.css"><div id="gist77956590" class="gist">
    <div class="gist-file">
      <div class="gist-data">
        <div class="js-gist-file-update-container js-task-list-container file-box">
  <div id="file-async-await-example-js" class="file">
    

  <div itemprop="text" class="blob-wrapper data type-javascript ">
      
<table class="highlight tab-size js-file-line-container" data-tab-size="8">
      <tbody><tr>
        <td id="file-async-await-example-js-L1" class="blob-num js-line-number" data-line-number="1"></td>
        <td id="file-async-await-example-js-LC1" class="blob-code blob-code-inner js-file-line"><span class="pl-c"><span class="pl-c">//</span> </span></td>
      </tr>
      <tr>
        <td id="file-async-await-example-js-L2" class="blob-num js-line-number" data-line-number="2"></td>
        <td id="file-async-await-example-js-LC2" class="blob-code blob-code-inner js-file-line"><span class="pl-smi">VoxEngine</span>.<span class="pl-c1">addEventListener</span>(<span class="pl-smi">AppEvents</span>.<span class="pl-smi">Started</span>, <span class="pl-k">async</span> <span class="pl-k">function</span>(<span class="pl-smi">e</span>) {</td>
      </tr>
      <tr>
        <td id="file-async-await-example-js-L3" class="blob-num js-line-number" data-line-number="3"></td>
        <td id="file-async-await-example-js-LC3" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">var</span> text1, text2, text3;</td>
      </tr>
      <tr>
        <td id="file-async-await-example-js-L4" class="blob-num js-line-number" data-line-number="4"></td>
        <td id="file-async-await-example-js-LC4" class="blob-code blob-code-inner js-file-line">  <span class="pl-smi">Net</span>.<span class="pl-en">httpRequestAsync</span>(<span class="pl-s"><span class="pl-pds">"</span>www.ru<span class="pl-pds">"</span></span>)</td>
      </tr>
      <tr>
        <td id="file-async-await-example-js-L5" class="blob-num js-line-number" data-line-number="5"></td>
        <td id="file-async-await-example-js-LC5" class="blob-code blob-code-inner js-file-line">    .<span class="pl-c1">then</span>(<span class="pl-k">function</span>(<span class="pl-smi">e</span>) {</td>
      </tr>
      <tr>
        <td id="file-async-await-example-js-L6" class="blob-num js-line-number" data-line-number="6"></td>
        <td id="file-async-await-example-js-LC6" class="blob-code blob-code-inner js-file-line">      text1 <span class="pl-k">=</span> <span class="pl-smi">e</span>.<span class="pl-c1">text</span>;</td>
      </tr>
      <tr>
        <td id="file-async-await-example-js-L7" class="blob-num js-line-number" data-line-number="7"></td>
        <td id="file-async-await-example-js-LC7" class="blob-code blob-code-inner js-file-line">      <span class="pl-k">return</span> <span class="pl-smi">Net</span>.<span class="pl-en">httpRequestAsync</span>(<span class="pl-s"><span class="pl-pds">"</span>ya.ru<span class="pl-pds">"</span></span>);</td>
      </tr>
      <tr>
        <td id="file-async-await-example-js-L8" class="blob-num js-line-number" data-line-number="8"></td>
        <td id="file-async-await-example-js-LC8" class="blob-code blob-code-inner js-file-line">    })</td>
      </tr>
      <tr>
        <td id="file-async-await-example-js-L9" class="blob-num js-line-number" data-line-number="9"></td>
        <td id="file-async-await-example-js-LC9" class="blob-code blob-code-inner js-file-line">    .<span class="pl-c1">then</span>(<span class="pl-k">function</span>(<span class="pl-smi">e</span>) {</td>
      </tr>
      <tr>
        <td id="file-async-await-example-js-L10" class="blob-num js-line-number" data-line-number="10"></td>
        <td id="file-async-await-example-js-LC10" class="blob-code blob-code-inner js-file-line">      text2 <span class="pl-k">=</span> <span class="pl-smi">e</span>.<span class="pl-c1">text</span>;</td>
      </tr>
      <tr>
        <td id="file-async-await-example-js-L11" class="blob-num js-line-number" data-line-number="11"></td>
        <td id="file-async-await-example-js-LC11" class="blob-code blob-code-inner js-file-line">      <span class="pl-k">return</span> <span class="pl-smi">Net</span>.<span class="pl-en">httpRequestAsync</span>(<span class="pl-s"><span class="pl-pds">"</span>mail.ru<span class="pl-pds">"</span></span>);</td>
      </tr>
      <tr>
        <td id="file-async-await-example-js-L12" class="blob-num js-line-number" data-line-number="12"></td>
        <td id="file-async-await-example-js-LC12" class="blob-code blob-code-inner js-file-line">    })</td>
      </tr>
      <tr>
        <td id="file-async-await-example-js-L13" class="blob-num js-line-number" data-line-number="13"></td>
        <td id="file-async-await-example-js-LC13" class="blob-code blob-code-inner js-file-line">    .<span class="pl-c1">then</span>(<span class="pl-k">function</span>(<span class="pl-smi">e</span>) {</td>
      </tr>
      <tr>
        <td id="file-async-await-example-js-L14" class="blob-num js-line-number" data-line-number="14"></td>
        <td id="file-async-await-example-js-LC14" class="blob-code blob-code-inner js-file-line">      text3 <span class="pl-k">=</span> <span class="pl-smi">e</span>.<span class="pl-c1">text</span></td>
      </tr>
      <tr>
        <td id="file-async-await-example-js-L15" class="blob-num js-line-number" data-line-number="15"></td>
        <td id="file-async-await-example-js-LC15" class="blob-code blob-code-inner js-file-line">      <span class="pl-en">doSomething</span>(text1, text2, text3);</td>
      </tr>
      <tr>
        <td id="file-async-await-example-js-L16" class="blob-num js-line-number" data-line-number="16"></td>
        <td id="file-async-await-example-js-LC16" class="blob-code blob-code-inner js-file-line">      <span class="pl-smi">VoxEngine</span>.<span class="pl-c1">terminate</span>();</td>
      </tr>
      <tr>
        <td id="file-async-await-example-js-L17" class="blob-num js-line-number" data-line-number="17"></td>
        <td id="file-async-await-example-js-LC17" class="blob-code blob-code-inner js-file-line">    }</td>
      </tr>
      <tr>
        <td id="file-async-await-example-js-L18" class="blob-num js-line-number" data-line-number="18"></td>
        <td id="file-async-await-example-js-LC18" class="blob-code blob-code-inner js-file-line">});</td>
      </tr>
      <tr>
        <td id="file-async-await-example-js-L19" class="blob-num js-line-number" data-line-number="19"></td>
        <td id="file-async-await-example-js-LC19" class="blob-code blob-code-inner js-file-line"><span class="pl-c"><span class="pl-c">//</span> </span></td>
      </tr>
      <tr>
        <td id="file-async-await-example-js-L20" class="blob-num js-line-number" data-line-number="20"></td>
        <td id="file-async-await-example-js-LC20" class="blob-code blob-code-inner js-file-line"><span class="pl-smi">VoxEngine</span>.<span class="pl-c1">addEventListener</span>(<span class="pl-smi">AppEvents</span>.<span class="pl-smi">Started</span>, <span class="pl-k">async</span> <span class="pl-smi">e</span> <span class="pl-k">=&gt;</span> {</td>
      </tr>
      <tr>
        <td id="file-async-await-example-js-L21" class="blob-num js-line-number" data-line-number="21"></td>
        <td id="file-async-await-example-js-LC21" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">const</span> {text<span class="pl-k">:</span> <span class="pl-c1">text1</span>} <span class="pl-k">=</span> <span class="pl-k">await</span> <span class="pl-smi">Net</span>.<span class="pl-en">httpRequestAsync</span>(<span class="pl-s"><span class="pl-pds">"</span>www.ru<span class="pl-pds">"</span></span>);</td>
      </tr>
      <tr>
        <td id="file-async-await-example-js-L22" class="blob-num js-line-number" data-line-number="22"></td>
        <td id="file-async-await-example-js-LC22" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">const</span> {text<span class="pl-k">:</span> <span class="pl-c1">text2</span>} <span class="pl-k">=</span> <span class="pl-k">await</span> <span class="pl-smi">Net</span>.<span class="pl-en">httpRequestAsync</span>(<span class="pl-s"><span class="pl-pds">"</span>ya.ru<span class="pl-pds">"</span></span>);</td>
      </tr>
      <tr>
        <td id="file-async-await-example-js-L23" class="blob-num js-line-number" data-line-number="23"></td>
        <td id="file-async-await-example-js-LC23" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">const</span> {text<span class="pl-k">:</span> <span class="pl-c1">text3</span>} <span class="pl-k">=</span> <span class="pl-k">await</span> <span class="pl-smi">Net</span>.<span class="pl-en">httpRequestAsync</span>(<span class="pl-s"><span class="pl-pds">"</span>mail.ru<span class="pl-pds">"</span></span>);</td>
      </tr>
      <tr>
        <td id="file-async-await-example-js-L24" class="blob-num js-line-number" data-line-number="24"></td>
        <td id="file-async-await-example-js-LC24" class="blob-code blob-code-inner js-file-line">  <span class="pl-en">doSomething</span>(text1, text2, text3);</td>
      </tr>
      <tr>
        <td id="file-async-await-example-js-L25" class="blob-num js-line-number" data-line-number="25"></td>
        <td id="file-async-await-example-js-LC25" class="blob-code blob-code-inner js-file-line">  <span class="pl-smi">VoxEngine</span>.<span class="pl-c1">terminate</span>();</td>
      </tr>
      <tr>
        <td id="file-async-await-example-js-L26" class="blob-num js-line-number" data-line-number="26"></td>
        <td id="file-async-await-example-js-LC26" class="blob-code blob-code-inner js-file-line">});</td>
      </tr>
</tbody></table>


  </div>

  </div>
</div>

      </div>
      <div class="gist-meta">
        <a href="" style="float:right">view raw</a>
        <a href="">async-await-example.js</a>
        hosted with ‚ù§ by <a href="">GitHub</a>
      </div>
    </div>
</div>
</div><br><h2>  arrow functions and destructuring </h2><br>  Just shorten the code.  Especially destructuring, which removes temporary identifiers and leaves only what we need: <br><br><div class="oembed"><script type="text/javascript" src="https://gist.github.com/8ba250242ff1196d0466875c163c639c.js"></script><link rel="stylesheet" href="https://github.githubassets.com/assets/gist-embed-b3b573358bfc66d89e1e95dbf8319c09.css"><div id="gist77962249" class="gist">
    <div class="gist-file">
      <div class="gist-data">
        <div class="js-gist-file-update-container js-task-list-container file-box">
  <div id="file-arrow-destructuring-example-js" class="file">
    

  <div itemprop="text" class="blob-wrapper data type-javascript ">
      
<table class="highlight tab-size js-file-line-container" data-tab-size="8">
      <tbody><tr>
        <td id="file-arrow-destructuring-example-js-L1" class="blob-num js-line-number" data-line-number="1"></td>
        <td id="file-arrow-destructuring-example-js-LC1" class="blob-code blob-code-inner js-file-line"><span class="pl-c"><span class="pl-c">//</span> before</span></td>
      </tr>
      <tr>
        <td id="file-arrow-destructuring-example-js-L2" class="blob-num js-line-number" data-line-number="2"></td>
        <td id="file-arrow-destructuring-example-js-LC2" class="blob-code blob-code-inner js-file-line"><span class="pl-smi">call</span>.<span class="pl-c1">addEventListener</span>(<span class="pl-smi">CallEvents</span>.<span class="pl-smi">MessageReceived</span>, <span class="pl-k">function</span>(<span class="pl-smi">e</span>) {</td>
      </tr>
      <tr>
        <td id="file-arrow-destructuring-example-js-L3" class="blob-num js-line-number" data-line-number="3"></td>
        <td id="file-arrow-destructuring-example-js-LC3" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">var</span> headers <span class="pl-k">=</span> <span class="pl-smi">e</span>.<span class="pl-c1">headers</span>;</td>
      </tr>
      <tr>
        <td id="file-arrow-destructuring-example-js-L4" class="blob-num js-line-number" data-line-number="4"></td>
        <td id="file-arrow-destructuring-example-js-LC4" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">var</span> text <span class="pl-k">=</span> <span class="pl-smi">e</span>.<span class="pl-c1">text</span>;</td>
      </tr>
      <tr>
        <td id="file-arrow-destructuring-example-js-L5" class="blob-num js-line-number" data-line-number="5"></td>
        <td id="file-arrow-destructuring-example-js-LC5" class="blob-code blob-code-inner js-file-line">  <span class="pl-en">doSomething</span>(text, headers);</td>
      </tr>
      <tr>
        <td id="file-arrow-destructuring-example-js-L6" class="blob-num js-line-number" data-line-number="6"></td>
        <td id="file-arrow-destructuring-example-js-LC6" class="blob-code blob-code-inner js-file-line">});</td>
      </tr>
      <tr>
        <td id="file-arrow-destructuring-example-js-L7" class="blob-num js-line-number" data-line-number="7"></td>
        <td id="file-arrow-destructuring-example-js-LC7" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="file-arrow-destructuring-example-js-L8" class="blob-num js-line-number" data-line-number="8"></td>
        <td id="file-arrow-destructuring-example-js-LC8" class="blob-code blob-code-inner js-file-line"><span class="pl-c"><span class="pl-c">//</span> after</span></td>
      </tr>
      <tr>
        <td id="file-arrow-destructuring-example-js-L9" class="blob-num js-line-number" data-line-number="9"></td>
        <td id="file-arrow-destructuring-example-js-LC9" class="blob-code blob-code-inner js-file-line"><span class="pl-smi">call</span>.<span class="pl-c1">addEventListener</span>(<span class="pl-smi">CallEvents</span>.<span class="pl-smi">MessageReceived</span>, <span class="pl-smi">e</span> <span class="pl-k">=&gt;</span> {</td>
      </tr>
      <tr>
        <td id="file-arrow-destructuring-example-js-L10" class="blob-num js-line-number" data-line-number="10"></td>
        <td id="file-arrow-destructuring-example-js-LC10" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">const</span> {<span class="pl-c1">headers</span>, <span class="pl-c1">text</span>} <span class="pl-k">=</span> e;</td>
      </tr>
      <tr>
        <td id="file-arrow-destructuring-example-js-L11" class="blob-num js-line-number" data-line-number="11"></td>
        <td id="file-arrow-destructuring-example-js-LC11" class="blob-code blob-code-inner js-file-line">  <span class="pl-en">doSomething</span>(text, headers);</td>
      </tr>
      <tr>
        <td id="file-arrow-destructuring-example-js-L12" class="blob-num js-line-number" data-line-number="12"></td>
        <td id="file-arrow-destructuring-example-js-LC12" class="blob-code blob-code-inner js-file-line">});</td>
      </tr>
</tbody></table>


  </div>

  </div>
</div>

      </div>
      <div class="gist-meta">
        <a href="" style="float:right">view raw</a>
        <a href="">arrow-destructuring-example.js</a>
        hosted with ‚ù§ by <a href="">GitHub</a>
      </div>
    </div>
</div>
</div><br><h2>  let and const </h2><br>  It is good when there is a linter, autobild, autotest and auto-warm.  But in reality, you often need to quickly go into the script and change something from the web editor.  The new let and const allow you to write code that will protect the developer from "childish" errors: <br><br><div class="oembed"><script type="text/javascript" src="https://gist.github.com/5c8fd57fe349651f1874df475b61aa9e.js"></script><link rel="stylesheet" href="https://github.githubassets.com/assets/gist-embed-b3b573358bfc66d89e1e95dbf8319c09.css"><div id="gist77964430" class="gist">
    <div class="gist-file">
      <div class="gist-data">
        <div class="js-gist-file-update-container js-task-list-container file-box">
  <div id="file-let-const-example-js" class="file">
    

  <div itemprop="text" class="blob-wrapper data type-javascript ">
      
<table class="highlight tab-size js-file-line-container" data-tab-size="8">
      <tbody><tr>
        <td id="file-let-const-example-js-L1" class="blob-num js-line-number" data-line-number="1"></td>
        <td id="file-let-const-example-js-LC1" class="blob-code blob-code-inner js-file-line"><span class="pl-c"><span class="pl-c">//</span> before</span></td>
      </tr>
      <tr>
        <td id="file-let-const-example-js-L2" class="blob-num js-line-number" data-line-number="2"></td>
        <td id="file-let-const-example-js-LC2" class="blob-code blob-code-inner js-file-line"><span class="pl-smi">VoxEngine</span>.<span class="pl-c1">addEventListener</span>(<span class="pl-smi">AppEvents</span>.<span class="pl-smi">CallAlerting</span>, <span class="pl-k">function</span>(<span class="pl-smi">e</span>) {</td>
      </tr>
      <tr>
        <td id="file-let-const-example-js-L3" class="blob-num js-line-number" data-line-number="3"></td>
        <td id="file-let-const-example-js-LC3" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">var</span> callIn <span class="pl-k">=</span> <span class="pl-smi">e</span>.<span class="pl-smi">call</span>;</td>
      </tr>
      <tr>
        <td id="file-let-const-example-js-L4" class="blob-num js-line-number" data-line-number="4"></td>
        <td id="file-let-const-example-js-LC4" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">var</span> callIn <span class="pl-k">=</span> <span class="pl-smi">VoxEngine</span>.<span class="pl-en">callPSTN</span>(<span class="pl-s"><span class="pl-pds">"</span>+71234567890<span class="pl-pds">"</span></span>); <span class="pl-c"><span class="pl-c">//</span> bug</span></td>
      </tr>
      <tr>
        <td id="file-let-const-example-js-L5" class="blob-num js-line-number" data-line-number="5"></td>
        <td id="file-let-const-example-js-LC5" class="blob-code blob-code-inner js-file-line">  <span class="pl-smi">callIn</span>.<span class="pl-c1">addEventListener</span>(<span class="pl-smi">CallEvents</span>.<span class="pl-smi">Connected</span>, <span class="pl-k">function</span>(<span class="pl-smi">e</span>) {</td>
      </tr>
      <tr>
        <td id="file-let-const-example-js-L6" class="blob-num js-line-number" data-line-number="6"></td>
        <td id="file-let-const-example-js-LC6" class="blob-code blob-code-inner js-file-line">    <span class="pl-smi">VoxEngine</span>.<span class="pl-en">sendMediaBetween</span>(callIn, callOut);</td>
      </tr>
      <tr>
        <td id="file-let-const-example-js-L7" class="blob-num js-line-number" data-line-number="7"></td>
        <td id="file-let-const-example-js-LC7" class="blob-code blob-code-inner js-file-line">  });</td>
      </tr>
      <tr>
        <td id="file-let-const-example-js-L8" class="blob-num js-line-number" data-line-number="8"></td>
        <td id="file-let-const-example-js-LC8" class="blob-code blob-code-inner js-file-line">});</td>
      </tr>
      <tr>
        <td id="file-let-const-example-js-L9" class="blob-num js-line-number" data-line-number="9"></td>
        <td id="file-let-const-example-js-LC9" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="file-let-const-example-js-L10" class="blob-num js-line-number" data-line-number="10"></td>
        <td id="file-let-const-example-js-LC10" class="blob-code blob-code-inner js-file-line"><span class="pl-c"><span class="pl-c">//</span> after</span></td>
      </tr>
      <tr>
        <td id="file-let-const-example-js-L11" class="blob-num js-line-number" data-line-number="11"></td>
        <td id="file-let-const-example-js-LC11" class="blob-code blob-code-inner js-file-line"><span class="pl-smi">VoxEngine</span>.<span class="pl-c1">addEventListener</span>(<span class="pl-smi">AppEvents</span>.<span class="pl-smi">CallAlerting</span>, <span class="pl-smi">e</span> <span class="pl-k">=&gt;</span> {</td>
      </tr>
      <tr>
        <td id="file-let-const-example-js-L12" class="blob-num js-line-number" data-line-number="12"></td>
        <td id="file-let-const-example-js-LC12" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">const</span> <span class="pl-c1">callIn</span> <span class="pl-k">=</span> <span class="pl-smi">e</span>.<span class="pl-smi">call</span>;</td>
      </tr>
      <tr>
        <td id="file-let-const-example-js-L13" class="blob-num js-line-number" data-line-number="13"></td>
        <td id="file-let-const-example-js-LC13" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">const</span> <span class="pl-c1">callIn</span> <span class="pl-k">=</span> <span class="pl-smi">VoxEngine</span>.<span class="pl-en">callPSTN</span>(<span class="pl-s"><span class="pl-pds">"</span>+71234567890<span class="pl-pds">"</span></span>); <span class="pl-c"><span class="pl-c">//</span> bug found!</span></td>
      </tr>
      <tr>
        <td id="file-let-const-example-js-L14" class="blob-num js-line-number" data-line-number="14"></td>
        <td id="file-let-const-example-js-LC14" class="blob-code blob-code-inner js-file-line">  <span class="pl-smi">callIn</span>.<span class="pl-c1">addEventListener</span>(<span class="pl-smi">CallEvents</span>.<span class="pl-smi">Connected</span>, <span class="pl-smi">e</span> <span class="pl-k">=&gt;</span> {</td>
      </tr>
      <tr>
        <td id="file-let-const-example-js-L15" class="blob-num js-line-number" data-line-number="15"></td>
        <td id="file-let-const-example-js-LC15" class="blob-code blob-code-inner js-file-line">    <span class="pl-smi">VoxEngine</span>.<span class="pl-en">sendMediaBetween</span>(callIn, callOut);</td>
      </tr>
      <tr>
        <td id="file-let-const-example-js-L16" class="blob-num js-line-number" data-line-number="16"></td>
        <td id="file-let-const-example-js-LC16" class="blob-code blob-code-inner js-file-line">  });</td>
      </tr>
      <tr>
        <td id="file-let-const-example-js-L17" class="blob-num js-line-number" data-line-number="17"></td>
        <td id="file-let-const-example-js-LC17" class="blob-code blob-code-inner js-file-line">});</td>
      </tr>
</tbody></table>


  </div>

  </div>
</div>

      </div>
      <div class="gist-meta">
        <a href="" style="float:right">view raw</a>
        <a href="">let-const-example.js</a>
        hosted with ‚ù§ by <a href="">GitHub</a>
      </div>
    </div>
</div>
</div><br><h2>  interpolation string literals </h2><br>  They make the code readable and protect against a lot of children's errors in the absence of the toolchain.  Yes, we know that developing on JS without a toolchain is a moveton.  But when the service has thousands of clients and many have their main business in no way connected with programming, I want to protect them already at the stage of examples and first experiments.  One of the ‚Äúchips‚Äù of Voximplant is that the company can take on its full-time web developer, it‚Äôs not very tough, and in a few hours it can easily assemble the necessary telephone automation from the ‚ÄúLego cubes‚Äù.  I really want the cubes to not try to explode in his hands: <br><br><div class="oembed"><script type="text/javascript" src="https://gist.github.com/3cbf17d9f81b4a433e13caa80dd0d4eb.js"></script><link rel="stylesheet" href="https://github.githubassets.com/assets/gist-embed-b3b573358bfc66d89e1e95dbf8319c09.css"><div id="gist77965107" class="gist">
    <div class="gist-file">
      <div class="gist-data">
        <div class="js-gist-file-update-container js-task-list-container file-box">
  <div id="file-interpolation-example-js" class="file">
    

  <div itemprop="text" class="blob-wrapper data type-javascript ">
      
<table class="highlight tab-size js-file-line-container" data-tab-size="8">
      <tbody><tr>
        <td id="file-interpolation-example-js-L1" class="blob-num js-line-number" data-line-number="1"></td>
        <td id="file-interpolation-example-js-LC1" class="blob-code blob-code-inner js-file-line"><span class="pl-c"><span class="pl-c">//</span> before</span></td>
      </tr>
      <tr>
        <td id="file-interpolation-example-js-L2" class="blob-num js-line-number" data-line-number="2"></td>
        <td id="file-interpolation-example-js-LC2" class="blob-code blob-code-inner js-file-line"><span class="pl-smi">call</span>.<span class="pl-en">say</span>(<span class="pl-s"><span class="pl-pds">"</span><span class="pl-pds">"</span></span> <span class="pl-k">+</span> name <span class="pl-k">+</span> <span class="pl-s"><span class="pl-pds">"</span>,  <span class="pl-pds">"</span></span> <span class="pl-k">+</span> order <span class="pl-k">+</span> <span class="pl-s"><span class="pl-pds">"</span>  <span class="pl-pds">"</span></span>);</td>
      </tr>
      <tr>
        <td id="file-interpolation-example-js-L3" class="blob-num js-line-number" data-line-number="3"></td>
        <td id="file-interpolation-example-js-LC3" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="file-interpolation-example-js-L4" class="blob-num js-line-number" data-line-number="4"></td>
        <td id="file-interpolation-example-js-LC4" class="blob-code blob-code-inner js-file-line"><span class="pl-c"><span class="pl-c">//</span> after. Watch the spaces!</span></td>
      </tr>
      <tr>
        <td id="file-interpolation-example-js-L5" class="blob-num js-line-number" data-line-number="5"></td>
        <td id="file-interpolation-example-js-LC5" class="blob-code blob-code-inner js-file-line"><span class="pl-smi">call</span>.<span class="pl-en">say</span>(<span class="pl-s"><span class="pl-pds">`</span> <span class="pl-s1"><span class="pl-pse">${</span>name<span class="pl-pse">}</span></span>,   <span class="pl-s1"><span class="pl-pse">${</span>order<span class="pl-pse">}</span></span>   <span class="pl-pds">`</span></span>);</td>
      </tr>
</tbody></table>


  </div>

  </div>
</div>

      </div>
      <div class="gist-meta">
        <a href="" style="float:right">view raw</a>
        <a href="">interpolation-example.js</a>
        hosted with ‚ù§ by <a href="">GitHub</a>
      </div>
    </div>
</div>
</div><br><h2>  Of-cycles, classes, helpers and other little things </h2><br>  Most of the scenarios for our platform are fairly ‚Äúlightweight‚Äù: requests to the backend, routing the call where necessary, and displaying in CRM, which is not necessary, automatic calls with proof of purchase or delivery, choosing the right counterparty under a number of conditions and the like.  But it's always great to do without our own backend in general and make our cloud do all the work not only with communications, but also with the business logic of these communications.  We generally do not mind, as long as the script fits within the boundaries of the sandbox and does not try to bite off too many server resources.  Native support for all ES2017 syntax sugar allows you to quickly add logic to scripts without having to set up a compiler from any TypeScript, tests and deploy.  Then all this, of course, does not hurt - but the ability to do a complex thing here and now in the online editor with a minimum of lines of code helps a lot. </div><p>Source: <a href="https://habr.com/ru/post/340188/">https://habr.com/ru/post/340188/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../340178/index.html">Monoids, semigroups and all-all-all</a></li>
<li><a href="../340180/index.html">Wi-Fi security is compromised due to multiple vulnerabilities found in WPA2</a></li>
<li><a href="../340182/index.html">Critical vulnerabilities detected in WPA2 - Key Reinstallation Attacks (KRACK)</a></li>
<li><a href="../340184/index.html">Introduction to Neural Network Architectures</a></li>
<li><a href="../340186/index.html">How to create a competitive advantage and value of a technological product</a></li>
<li><a href="../340190/index.html">Russian-speaking chat bot Boltoon: create a virtual companion</a></li>
<li><a href="../340192/index.html">Key QA Process Indicators</a></li>
<li><a href="../340194/index.html">A tricky javascript question asked at Google and Amazon interviews</a></li>
<li><a href="../340196/index.html">ScadaPy application modbus protocol</a></li>
<li><a href="../340198/index.html">Kali Linux: security test questions</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>