<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Auto compiler objects</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="The article is based on the Kotlin version "1.1-04". 


 This article is devoted to the description of the automatic class generation mechanism by the...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Auto compiler objects</h1><div class="post__text post__text-html js-mediator-article"><p> The article is based on the <code>Kotlin</code> version "1.1-04". </p><br><p>  This article is devoted to the description of the automatic class generation mechanism by the <code>Kotlin</code> compiler for anonymous block of user code.  It is described in which cases automatic classes are created, where they are located, how they are implemented and used. </p><br><p>  In <code>Java</code> there is only one way to create a code element - it is a lambda expression that can only implement a functional interface (for more details, see the <code>Java</code> documentation).  In <code>Kotlin</code> there are several different ways to describe an object containing custom code. </p><br><p>  It is a well-known feature of <code>Kotlin</code> that it is very easy to implement code that allows writing such constructs: </p><br><pre> <code class="hljs kotlin"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">fun</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Action</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">( cb:()</span></span></span></span>-&gt;<span class="hljs-built_in"><span class="hljs-built_in">Unit</span></span> ) { cb() } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">fun</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Test</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span> { Action{ <span class="hljs-comment"><span class="hljs-comment">//        } }</span></span></code> </pre> <br><p>  How is this implemented and what is the risk of using such a code in a program? </p><br><p>  PS: The original version of the article contained a logical error and incorrect conclusions.  I apologize to everyone for this fact.  This article has been revised and supplemented with additional data. </p><br><a name="habracut"></a><br><h1 id="avtomaticheskie-obekty-kompilyatora">  Auto compiler objects </h1><br><p>  The description of a separate code in the <code>JVM</code> not possible, you can operate only with classes.  In some situations, the <code>Kotlin</code> compiler automatically creates classes in which the specified code will be executed, and in some cases calls it directly.  In different cases, classes of different types will be created. </p><br><p>  <code>Kotlin</code> allows you to implement constructs with anonymous code using different syntaxes.  The examples below are divided by their method of use in the test programs, and not by the way they are implemented by the compiler. <br>  In fact, almost all of the listed syntax constructs are implemented in the same way. </p><br><p>  <strong>Anonymous function</strong> </p><br><p>  A block of code with arbitrary parameters and a return value, which can be called directly or passed as a parameter to a function. </p><br><div class="spoiler">  <b class="spoiler_title">An example of an anonymous function</b> <div class="spoiler_text"><pre> <code class="hljs kotlin"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">fun</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Action</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(cb : ()</span></span></span></span> -&gt; <span class="hljs-built_in"><span class="hljs-built_in">Int</span></span>) <span class="hljs-comment"><span class="hljs-comment">//  = println(cb()) class BB { fun F() = 1133 fun M() { Action(this::F) //     } } fun statMethod() = 1111 fun Test() { val cb = { 1122 } //     cb() //      Action(cb) //     Action { 1133 } //        Action(::statMethod) //      }</span></span></code> </pre> </div></div><br><p>  The constructions " <code>::statMethod</code> " and " <code>this::F</code> " are used to facilitate the syntax and are completely equivalent to <code>::statMethod</code> function in anonymous code: </p><br><pre> <code class="hljs objectivec"> Action{ statMethod() } <span class="hljs-comment"><span class="hljs-comment">//  Action(::statMethod) Action{ F() } //  Action(this::F)</span></span></code> </pre> <br><p>  <strong>Anonymous object function</strong> </p><br><p>  A block of code that runs in the context of an object instance, i.e.  will have a field " <code>this</code> ", referring to the object for which this code is called. </p><br><p>  In the implementation of this approach in <code>Kotlin</code> <code>this</code> object is emulated to simplify the syntax, but in fact an implicitly passed object instance is used.  It should be noted that despite the presence of the <code>this</code> and accessing the class elements without specifying an explicit object, the executed code is not part of the class and, accordingly, does not have access to its protected elements. </p><br><div class="spoiler">  <b class="spoiler_title">An example of an anonymous function object</b> <div class="spoiler_text"><pre> <code class="hljs kotlin"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> java.awt.event.ActionEvent <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> java.awt.event.ActionListener <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">fun</span></span></span><span class="hljs-function"> </span><span class="hljs-type"><span class="hljs-function"><span class="hljs-type">&lt;T&gt;</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">cAction</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(v : </span></span><span class="hljs-type"><span class="hljs-function"><span class="hljs-params"><span class="hljs-type">T</span></span></span></span><span class="hljs-function"><span class="hljs-params">, cb : </span></span><span class="hljs-type"><span class="hljs-function"><span class="hljs-params"><span class="hljs-type">T</span></span></span></span><span class="hljs-function"><span class="hljs-params">.()</span></span></span></span> -&gt; <span class="hljs-built_in"><span class="hljs-built_in">Int</span></span>) <span class="hljs-comment"><span class="hljs-comment">//       = println(v.cb()) class BB { fun F() = 1133 //   fun M() { cAction(this, BB::F) //       } } fun Test() { cAction("text", String::length) //       }</span></span></code> </pre> </div></div><br><p>  <strong>Lambda function</strong> </p><br><p>  A block implemented in an automatically created class, a successor of a functional interface, for a single method of this interface. </p><br><div class="spoiler">  <b class="spoiler_title">Example lambda function</b> <div class="spoiler_text"><pre> <code class="hljs kotlin"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">fun</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">add</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(i : </span></span><span class="hljs-type"><span class="hljs-function"><span class="hljs-params"><span class="hljs-type">ActionListener</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span></span> {} <span class="hljs-comment"><span class="hljs-comment">//   fun Test() { add(ActionListener { }) //  ,   }</span></span></code> </pre> </div></div><br><p>  <strong>Anonymous class</strong> </p><br><p>  Automatically created anonymous class, with the possibility of inheritance from the specified class. </p><br><div class="spoiler">  <b class="spoiler_title">Anonymous class example</b> <div class="spoiler_text"><pre> <code class="hljs kotlin"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">fun</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">add</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(i : </span></span><span class="hljs-type"><span class="hljs-function"><span class="hljs-params"><span class="hljs-type">ActionListener</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span></span> {} <span class="hljs-comment"><span class="hljs-comment">//   fun Test() { add(object : ActionListener {//  ,   override fun actionPerformed(e : ActionEvent?) {} }) }</span></span></code> </pre> </div></div><br><habracut><br><h2 id="vneshnie-avtomaticheskie-klassy">  External automatic classes </h2><br><p>  Let's put together all the above described methods of declaring automatic objects into one source file and compile it. </p><br><div class="spoiler">  <b class="spoiler_title">Full text of the test code</b> <div class="spoiler_text"><pre> <code class="hljs kotlin"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> java.awt.event.ActionEvent <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> java.awt.event.ActionListener <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">fun</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">add</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(i : </span></span><span class="hljs-type"><span class="hljs-function"><span class="hljs-params"><span class="hljs-type">ActionListener</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span></span> {} <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">fun</span></span></span><span class="hljs-function"> </span><span class="hljs-type"><span class="hljs-function"><span class="hljs-type">&lt;T&gt;</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">cAction</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(v : </span></span><span class="hljs-type"><span class="hljs-function"><span class="hljs-params"><span class="hljs-type">T</span></span></span></span><span class="hljs-function"><span class="hljs-params">, cb : </span></span><span class="hljs-type"><span class="hljs-function"><span class="hljs-params"><span class="hljs-type">T</span></span></span></span><span class="hljs-function"><span class="hljs-params">.()</span></span></span></span> -&gt; <span class="hljs-built_in"><span class="hljs-built_in">Int</span></span>) = println(v.cb()) <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">fun</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Action</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(cb : ()</span></span></span></span> -&gt; <span class="hljs-built_in"><span class="hljs-built_in">Int</span></span>) = println(cb()) <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">fun</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">statMethod</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span> = <span class="hljs-number"><span class="hljs-number">1111</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">BB</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">fun</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">F</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span> = <span class="hljs-number"><span class="hljs-number">1133</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">fun</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">M</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span> { <span class="hljs-comment"><span class="hljs-comment">//jm/test/ktest/BB$M$1.INSTANCE cAction(this, BB::F) //jm/test/ktest/BB$M$2 Action(this::F) //jm/test/ktest/BB$M$3 Action{F()} } } fun Test() { //jm/test/ktest/KMainKt$Test$1 add(object : ActionListener { override fun actionPerformed(e : ActionEvent?) {} }) //jm/test/ktest/KMainKt$Test$2.INSTANCE add(ActionListener { e-&gt; }) //jm/test/ktest/KMainKt$Test$cb$1.INSTANCE val cb = { 1122 } cb() Action(cb) //jm/test/ktest/KMainKt$Test$3.INSTANCE Action { 1133 } //jm/test/ktest/KMainKt$Test$4.INSTANCE Action(::statMethod) //jm/test/ktest/KMainKt$Test$5.INSTANCE cAction("text", String::length) }</span></span></code> </pre> </div></div><br><p>  If you look in the directory where the compiler saved the created classes, you can see the following files: </p><br><table><thead><tr><th>  File name </th><th>  Size, byte </th></tr></thead><tbody><tr><td>  BB.class </td><td>  1150 </td></tr><tr><td>  KMainKt.class </td><td>  3169 </td></tr><tr><td>  BB $ M $ 1.class </td><td>  1710 </td></tr><tr><td>  BB $ M $ 2.class </td><td>  1379 </td></tr><tr><td>  BB $ M $ 3.class </td><td>  1025 </td></tr><tr><td>  KMainKt $ Test $ 1.class </td><td>  973 </td></tr><tr><td>  KMainKt $ Test $ 2.class </td><td>  910 </td></tr><tr><td>  KMainKt $ Test $ 3.class </td><td>  1029 </td></tr><tr><td>  KMainKt $ Test $ 4.class </td><td>  1450 </td></tr><tr><td>  KMainKt $ Test $ 5.class </td><td>  1222 </td></tr><tr><td>  KMainKt $ Test $ cb $ 1.class </td><td>  1035 </td></tr></tbody></table><br><p>  It is clear where the first two files came from - these are the classes that are described in our program: </p><br><ul><li>  The file " <code>BB.class</code> " is a class declared in the text. </li><li>  The file " <code>KMainKt.class</code> " is the main class of the <code>Kotlin</code> program, which includes all data and methods that are not included in the classes.  The name of this file consists of the file name of the source program (in our case it is ‚Äú <code>kMain.kt</code> ‚Äù) and the suffix ‚Äú <code>Kt</code> ‚Äù.  In our example, all the methods used are placed in this class, such as ‚Äú <code>Action</code> ‚Äù, ‚Äú <code>cAction</code> ‚Äù, etc. </li></ul><br><p>  <strong>Where did the rest of the files come from?</strong> </p><br><p>  These files contain the code of classes that the compiler generated automatically.  In the program text above, in the comments, the names of the generated classes are indicated, in accordance with the place of their declaration in the program. </p><br><p>  <strong>ATTENTION:</strong> The compiler creates a new <strong>CLASS</strong> each time, rather than a new instance of some class.  Those.  each time the code is used, a new class is created in the program, which is used in the only place of the program! </p><br><p>  If you look at the source text, you can pay attention to the fact that the text, it would seem, not related to the creation of temporary objects, also leads to the generation of classes. </p><br><pre> <code class="hljs ruby"> Action(<span class="hljs-symbol"><span class="hljs-symbol">:</span></span><span class="hljs-symbol"><span class="hljs-symbol">:statMethod</span></span>) /<span class="hljs-regexp"><span class="hljs-regexp">/ jm/test</span></span><span class="hljs-regexp"><span class="hljs-regexp">/ktest/</span></span>KMainKt$Test$4.INSTANCE cAction(<span class="hljs-string"><span class="hljs-string">"text"</span></span>, String::length) /<span class="hljs-regexp"><span class="hljs-regexp">/ jm/test</span></span><span class="hljs-regexp"><span class="hljs-regexp">/ktest/</span></span>KMainKt$Test$5.INSTANCE</code> </pre> <br><p>  This is explained by the fact that in order to ensure the syntax used in the program text, the compiler simply creates wrapper classes that call the specified methods. </p><br><p>  The table above shows that the generated class files are quite large, large, to the size of the code that is executed in blocks of code for which they were created.  Despite the fact that in the example the volume of the actual useful code is almost zero, the volume of the created classes is almost 4 times the size of the main file of the program " <code>KMainKt.class</code> ".  The reason for this is that a lot of additional information is stored in the class files and, if the amount of class code is small, the amount of useful information in the class file will be a small part of it. </p><br><p>  If the code that executes the automatic classes is large, then the volume of the resulting files can be ignored.  If, in most cases, the code for the automatic class is very small, then it is rather difficult to call the creation of 1-1.5Kb files for each anonymous block described in the program effective or even acceptable. </p><br><p>  Automatically generated classes directly affect the size of the program in assembled form.  With the active use of anonymous code in the program, its size can grow rapidly.  In many cases, program size can play a significant role.  This may concern both mobile or WEB applications, as well as applications intended for execution on personal computers. </p><br><h2 id="dublirovanie-optimizaciya">  Duplication.  Optimization? </h2><br><p>  We will conduct another experiment: check the ability of <code>Kotlin</code> to optimize automatic classes. </p><br><p>  If we consider all the places where the compiler automatically creates classes in our example, then we can assume that there is an optimization related to the fact that classes will be created only for blocks with unique code, and in all other cases objects of already existing classes will be used. </p><br><p>  To test the optimization possibilities, simply duplicate two lines of code.  One, using custom code, and the second, using fully automatic code. </p><br><pre> <code class="hljs css"><span class="hljs-selector-tag"><span class="hljs-selector-tag">Action</span></span>{} <span class="hljs-selector-tag"><span class="hljs-selector-tag">Action</span></span>{} <span class="hljs-selector-tag"><span class="hljs-selector-tag">Action</span></span>( <span class="hljs-selector-pseudo"><span class="hljs-selector-pseudo">::statMethod</span></span> ) <span class="hljs-selector-tag"><span class="hljs-selector-tag">Action</span></span>( <span class="hljs-selector-pseudo"><span class="hljs-selector-pseudo">::statMethod</span></span> )</code> </pre> <br><p>  Ideally, <code>Kotlin</code> optimizes the use of the automatic class for both the first group and the second.  In a good version - only for the second.  Checking the uniqueness of the user code can be very difficult to implement, so we will only rely on the elementary optimization of classes created by the compiler completely in automatic mode. </p><br><p>  I will leave the modification of the example, its compilation and viewing of the class files as an independent exercise and proceed directly to the result. </p><br><p>  <strong>A new unique class will be created for each code description location!</strong> </p><br><p>  Unfortunately, in the current version of <code>Kotlin</code> (version 1.1-M04 is used), no optimization related to the generation of automatic classes does not exist and any use of the code will create a new class. </p><br><habracut><br><h2 id="kak-borotsya-s-lishnim-razmerom">  How to deal with the "extra" size? </h2><br><p>  In <code>Kotlin</code> programs, the use of anonymous code is very widespread and, without doubt, the ease of its description and use is one of the principal advantages of this language.  Due to the abundance of anonymous code applications, the problem of increasing the size of a program due to the generation of classes for each code fragment can become a very big problem. </p><br><p>  There are two ways to deal with the storage of redundant information in a file with the collected application. </p><br><p>  The first is to use various tools that are designed to remove service information from the compiled files for the <code>JVM</code> . </p><br><p>  One of the very interesting tools of this group is <a href="https://www.guardsquare.com/en/proguard"><code>ProGuard</code></a> .  This is a free tool that allows you to repack a <code>JAR</code> archive with the application and remove all service information from it.  In addition to the simple removal of proprietary information, it does a great job of optimizing the code for the classes.  As a bonus, this tool can be used as an " <code>Obfuscator</code> ", i.e.  a tool that makes it difficult to recover application logic from its code. <br>  This is a powerful tool, but its review goes beyond the goals of this article. </p><br><p>  The second way (which can be combined with the first) is to use the features of the <code>Kotlin</code> compiler.  This feature is discussed in the next section. </p><br><h2 id="vnutrennie-avtomaticheskie-klassy">  Internal Auto Classes </h2><br><p>  Let's make experiment with our example, having changed the description of two methods. </p><br><pre> <code class="hljs kotlin"><span class="hljs-keyword"><span class="hljs-keyword">inline</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">fun</span></span></span><span class="hljs-function"> </span><span class="hljs-type"><span class="hljs-function"><span class="hljs-type">&lt;T&gt;</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">cAction</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(v : </span></span><span class="hljs-type"><span class="hljs-function"><span class="hljs-params"><span class="hljs-type">T</span></span></span></span><span class="hljs-function"><span class="hljs-params">, cb : </span></span><span class="hljs-type"><span class="hljs-function"><span class="hljs-params"><span class="hljs-type">T</span></span></span></span><span class="hljs-function"><span class="hljs-params">.()</span></span></span></span> -&gt; <span class="hljs-built_in"><span class="hljs-built_in">Int</span></span>) = println(v.cb()) <span class="hljs-keyword"><span class="hljs-keyword">inline</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">fun</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Action</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(cb : ()</span></span></span></span> -&gt; <span class="hljs-built_in"><span class="hljs-built_in">Int</span></span>) = println(cb())</code> </pre> <br><p>  In this case, we added the <code>inline</code> to the write function. </p><br><p>  After compiling the program, the list of files created by the compiler for automatic classes was reduced to three: ‚Äú <code>KMainKt$Test$1.class</code> ‚Äù, ‚Äú <code>KMainKt$Test$2.class</code> ‚Äù and ‚Äú <code>KMainKt$Test$cb$1.class</code> ‚Äù.  Those.  there are only those classes that are not passed as parameters to the Action and cAction functions.  The size of the file " <code>KMainKt.class</code> " increased by about 200 bytes. </p><br><p>  <strong>Where are the other classes?</strong> </p><br><p>  The code of all functions declared with the <code>inline</code> modifier was inserted directly into the place where the functions were called.  In addition, the compiler has created separate functions with the same name.  The syntax of the language will not allow using the declared functions.  when you try to call it, its code will be placed in the place of use, but its static copy is created to provide access to this function through <code>reflection</code> . </p><br><h2 id="kak-eto-rabotaet">  How it works? </h2><br><p>  The block of anonymous code in Kotlin, depending on where it is used, can be implemented either with the help of automatic objects, or placed directly at the call site.  In the first case, an object of a certain class will be created, the description of which will be in this section, and in the second case such a block as an object does not exist at all. </p><br><p>  When creating automatic classes, Kotlin can create two types of objects: </p><br><ol><li>  An object of some class, a successor of a user class. </li><li>  An object representing a special class to call a block of code. </li></ol><br><p>  <strong>Custom Type Objects</strong> </p><br><p>  The first method is used when creating anonymous classes, lambda functions and implementing interfaces using delegates.  In this case, a class will be created, the successor of the specified (explicitly or implicitly) user class and the code block will be placed inside one of the methods of this class. </p><br><div class="spoiler">  <b class="spoiler_title">Code</b> <div class="spoiler_text"><pre> <code class="hljs kotlin"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">fun</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">add</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(i : </span></span><span class="hljs-type"><span class="hljs-function"><span class="hljs-params"><span class="hljs-type">ActionListener</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span></span> {} add(<span class="hljs-keyword"><span class="hljs-keyword">object</span></span> : ActionListener { <span class="hljs-keyword"><span class="hljs-keyword">override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">fun</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">actionPerformed</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(e : </span></span><span class="hljs-type"><span class="hljs-function"><span class="hljs-params"><span class="hljs-type">ActionEvent</span></span></span></span><span class="hljs-function"><span class="hljs-params">?)</span></span></span></span> {} }) add(ActionListener { e -&gt; })</code> </pre> </div></div><br><p>  If an automatic class is created for an anonymous class, then an object for it will be built in the place of the declaration and passed as a parameter to the destination.  If a class is created to implement a functional interface, then if it does not capture local variables, the previously created singleton of this class will be used.  If local variables are captured, a new object will be built, to which references to all captured variables will be passed to the constructor as parameters. </p><br><div class="spoiler">  <b class="spoiler_title">The implementation and method of calling such classes looks like this.</b> <div class="spoiler_text"><pre> <code class="hljs pgsql">//   : <span class="hljs-keyword"><span class="hljs-keyword">add</span></span>(ActionListener { e -&gt; }) <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> AutoClassForCase1 : ActionListener { override fun actionPerformed(e : ActionEvent?) { //        - } companion <span class="hljs-keyword"><span class="hljs-keyword">object</span></span> { @JvmField val INSTANCE = AutoClassForCase1() } } <span class="hljs-keyword"><span class="hljs-keyword">add</span></span>( AutoClassForCase1.INSTANCE ) //    </code> </pre> </div></div><br><p>  <strong>Capture Local Variables</strong> </p><br><p>  <code>Kotlin</code> , in contrast to <code>Java</code> , allows anonymous code to capture local variables of any type (in <code>Java</code> they must be " <code>effectively final</code> "), so the transfer of captured variables to an automatic class occurs through the special class " <code>Ref&lt;T&gt;</code> ".  As a result of this approach, if a local variable was captured by at least one block of code, then it automatically turns into a link at the place of its use, and all references to it are made using this link.  This method introduces some additional overhead in comparison with the method used in <code>Java</code> , but allows you to change the values ‚Äã‚Äãof variables. </p><br><div class="spoiler">  <b class="spoiler_title">Local variable capture code</b> <div class="spoiler_text"><p>  When blocking a local variable, the code is: </p><br><pre> <code class="hljs kotlin"> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">fun</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Test</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span> { <span class="hljs-keyword"><span class="hljs-keyword">val</span></span> local = <span class="hljs-number"><span class="hljs-number">10</span></span> Action{ local+<span class="hljs-number"><span class="hljs-number">1</span></span> } local + <span class="hljs-number"><span class="hljs-number">2</span></span> }</code> </pre> <br><p>  turns into this: </p><br><pre> <code class="hljs pgsql"> fun Test() { val <span class="hljs-keyword"><span class="hljs-keyword">local</span></span> = <span class="hljs-keyword"><span class="hljs-keyword">Ref</span></span>&lt;<span class="hljs-type"><span class="hljs-type">Int</span></span>&gt;(<span class="hljs-number"><span class="hljs-number">10</span></span>) //      Action{ <span class="hljs-keyword"><span class="hljs-keyword">local</span></span>.<span class="hljs-keyword"><span class="hljs-keyword">value</span></span> + <span class="hljs-number"><span class="hljs-number">1</span></span> } //        <span class="hljs-keyword"><span class="hljs-keyword">local</span></span>.<span class="hljs-keyword"><span class="hljs-keyword">value</span></span> + <span class="hljs-number"><span class="hljs-number">2</span></span> //     <span class="hljs-keyword"><span class="hljs-keyword">local</span></span>.<span class="hljs-keyword"><span class="hljs-keyword">value</span></span> = <span class="hljs-keyword"><span class="hljs-keyword">null</span></span> //       }</code> </pre> </div></div><br><p>  At the same time, you need to pay attention to the following points: </p><br><ol><li>  The value of the captured variable is accessed from the code block through the object of the automatic class, which contains the same object as the link in the function body.  This object is created and passed to the constructor object of the automatic class in the place where the code block is declared. </li><li>  In case the code captures any variables from the current context, not a singleton is used as an object of the automatic class, but a new object is created.  This happens in order to be able to call the constructor and pass references to the captured variables. </li><li>  At the end of the function, Kotlin automatically generates the object cleanup code for all captured variables, so after the function completes, the number of references to local objects is always equal to the number of automatic objects created. </li></ol><br><p>  <strong>Objects for code block</strong> </p><br><p>  The example described just above for calling an anonymous block of code is implemented by the compiler in approximately the following way: </p><br><div class="spoiler">  <b class="spoiler_title">Implementing an anonymous block of code</b> <div class="spoiler_text"><pre> <code class="hljs pgsql"> //       <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> AutoClassForMethod : Function0&lt;<span class="hljs-type"><span class="hljs-type">Int</span></span>&gt; { //       private val <span class="hljs-keyword"><span class="hljs-keyword">local</span></span> : <span class="hljs-keyword"><span class="hljs-keyword">Ref</span></span>&lt;<span class="hljs-type"><span class="hljs-type">Int</span></span>&gt; //       constructor( l:<span class="hljs-keyword"><span class="hljs-keyword">Ref</span></span>&lt;<span class="hljs-type"><span class="hljs-type">Int</span></span>&gt; ) { <span class="hljs-keyword"><span class="hljs-keyword">local</span></span>.<span class="hljs-keyword"><span class="hljs-keyword">value</span></span> = l.<span class="hljs-keyword"><span class="hljs-keyword">value</span></span> } //     fun invoke() : <span class="hljs-type"><span class="hljs-type">Int</span></span> { //      } } //          Action( AutoClassForMethod(<span class="hljs-keyword"><span class="hljs-keyword">local</span></span>) )</code> </pre> <br><p>  In this example, for simplicity, I lowered the layer of intermediate parameter conversions from <code>Any</code> (actually <code>Object</code> because this part of the <code>Kotlin</code> code is written in <code>Java</code> ) to specific types since  it does not affect understanding. </p></div></div><br><p>  All Kotlin code blocks always have the type <code>FunctionX&lt;Ret[,Param1[,...]]&gt;</code> , where <code>FunctionX</code> is a set of template classes that implement a method call with an arbitrary number of parameters.  The last template type is the return type, the first is the type of the first parameter, and so on.  The symbol <code></code> in the class name I used to denote the number of method parameters.  Those.  the method described in Kotlin as <code>()-&gt;Unit</code> will have the actual type <code>Function0&lt;Unit&gt;</code> , and the method described as <code>(Int,String)-&gt;Double</code> type <code>Function2&lt;Int,String,Double&gt;</code> , etc. </p><br><p>  <code>FunctionX</code> templates are described in the <code>Kotlin</code> library " <code>kotlin-runtime.jar</code> " and can be used in your program.  The syntax for describing blocks of code using the "standard" syntax in the form <code>()-&gt;Unit</code> and using the template <code>Function0&lt;Unit&gt;</code> absolutely equivalent.  You can verify this by replacing the function declaration in the original example. </p><br><pre> <code class="hljs kotlin"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">fun</span></span></span><span class="hljs-function"> </span><span class="hljs-type"><span class="hljs-function"><span class="hljs-type">&lt;T&gt;</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">cAction</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(v : </span></span><span class="hljs-type"><span class="hljs-function"><span class="hljs-params"><span class="hljs-type">T</span></span></span></span><span class="hljs-function"><span class="hljs-params">, cb : </span></span><span class="hljs-type"><span class="hljs-function"><span class="hljs-params"><span class="hljs-type">Function1</span></span></span></span><span class="hljs-function"><span class="hljs-params">&lt;</span></span><span class="hljs-type"><span class="hljs-function"><span class="hljs-params"><span class="hljs-type">T</span></span></span></span><span class="hljs-function"><span class="hljs-params">,</span></span><span class="hljs-built_in"><span class="hljs-function"><span class="hljs-params"><span class="hljs-built_in">Int</span></span></span></span><span class="hljs-function"><span class="hljs-params">&gt;)</span></span></span></span> = println(cb.invoke(v)) <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">fun</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Action</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(cb : </span></span><span class="hljs-type"><span class="hljs-function"><span class="hljs-params"><span class="hljs-type">Function0</span></span></span></span><span class="hljs-function"><span class="hljs-params">&lt;</span></span><span class="hljs-type"><span class="hljs-function"><span class="hljs-params"><span class="hljs-type">Int</span></span></span></span><span class="hljs-function"><span class="hljs-params">&gt;)</span></span></span></span> = println(cb.invoke())</code> </pre> <br><p>  The program will be collected and executed as before. <br>  Please note that the syntax " <code>T.() -&gt; Int</code> " used earlier was completely transparently replaced by the use of a template with passing an extra type corresponding to the type of object for which the method will be called.  Those.  the difference between calling the static function and the function of the object, only in the extra parameter " <code>this</code> ". </p><br><p>  <strong>What is this useful?</strong> </p><br><p>  From the point of view of a simple user, the available syntax of the language is a little useful here. </p><br><p>  But, from the point of view of a developer of a library, or a person implementing a complex control algorithm using dynamic lists of methods, knowing how automated objects are organized and how to handle blocks of code can be extremely useful. </p><br><p>      ‚Äî     . </p><br><habracut><br><h2 id="osobennosti-ispolzovaniya-inline-funkciy">   inline- </h2><br><p>     <code>inline</code> <a href="https://kotlinlang.org/docs/reference/inline-functions.html"> </a> .                 . </p><br><p>   <code>inline</code>      ,         .  Those.        " <code>++</code> ",       .  inline-  <code>Kotlin</code>  -   inline-    " <code>++</code> ".          ,         . </p><br><p>     <code>inline</code>  ,       ,     .      ,         .  Those.      " <code>inline</code> "           . </p><br><p> <strong> inline-   inline-</strong> </p><br><p>  ,     " <code>inline</code> "     ,          .     ,         " <code>inline</code> ",     .. </p><br><div class="spoiler"> <b class="spoiler_title">:    inline-</b> <div class="spoiler_text"><pre> <code class="hljs kotlin"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Holder</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> cb : (()-&gt;<span class="hljs-built_in"><span class="hljs-built_in">Unit</span></span>)? = <span class="hljs-literal"><span class="hljs-literal">null</span></span> <span class="hljs-keyword"><span class="hljs-keyword">inline</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">fun</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">setup</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">( cb:()</span></span></span></span>-&gt;<span class="hljs-built_in"><span class="hljs-built_in">Unit</span></span> ) { <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.cb = cb <span class="hljs-comment"><span class="hljs-comment">// :    inline- } } fun Test() { Holder().setup{ } }</span></span></code> </pre> </div></div><br><p>       <code>inline</code>  - <code>inline</code>         .  ,        ,     -  .  ,     ,     inline-,   ,           " <code>noinline</code> ". </p><br><div class="spoiler"> <b class="spoiler_title">  noinline</b> <div class="spoiler_text"><pre> <code class="hljs kotlin"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Holder</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> cb : (()-&gt;<span class="hljs-built_in"><span class="hljs-built_in">Unit</span></span>)? = <span class="hljs-literal"><span class="hljs-literal">null</span></span> <span class="hljs-keyword"><span class="hljs-keyword">inline</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">fun</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">setup</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">( cb:()</span></span></span></span>-&gt;<span class="hljs-built_in"><span class="hljs-built_in">Unit</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">noinline</span></span> delayed:(()-&gt;<span class="hljs-built_in"><span class="hljs-built_in">Unit</span></span>)?=<span class="hljs-literal"><span class="hljs-literal">null</span></span> ) { <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.cb = delayed cb() CallCodeWithDelay() } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">fun</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">DelayPassed</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span> = cb?.invoke() }</code> </pre> </div></div><br><p> <strong> </strong> </p><br><p>  <code>++</code>  <code>inline</code>          .  <code>Kotlin</code>    .       ,       ,               .     ,         .    " <code>inline</code> "       . </p><br><p>   ,    <code>inline</code> ,      .      ,         , <code>Kotlin</code>     ,  <code>Lint</code>   ,   ,      <code>inline</code>        .    ,  ,     . </p><br><pre> <code class="hljs kotlin"><span class="hljs-meta"><span class="hljs-meta">@Suppress(</span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">"NOTHING_TO_INLINE"</span></span></span><span class="hljs-meta">)</span></span> <span class="hljs-keyword"><span class="hljs-keyword">inline</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">fun</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">SetupControl</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">( ctl: </span></span><span class="hljs-type"><span class="hljs-function"><span class="hljs-params"><span class="hljs-type">Label</span></span></span></span><span class="hljs-function"><span class="hljs-params"> )</span></span></span></span> { ctl.text = <span class="hljs-string"><span class="hljs-string">"Label"</span></span> ctl.setSize( <span class="hljs-number"><span class="hljs-number">100</span></span>,<span class="hljs-number"><span class="hljs-number">100</span></span> ) } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">fun</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Test</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span> { SetupControl( Label() ) }</code> </pre> <br><p>     <code>SetupControl</code>    "" ,       . </p><br><p> <strong>   </strong> </p><br><p>     " <code>++</code> ",      ,       ,      <code>inline</code>   . </p><br><p>  ,      <code>Kotlin</code>     <code>return</code> .  ,       <strong></strong> <code>inline</code> ,     . </p><br><pre> <code class="hljs kotlin"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">fun</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Test1</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span> : <span class="hljs-built_in"><span class="hljs-built_in">Int</span></span> { Action { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span> } }</code> </pre> <br><p>       <code>inline</code> ,     ,   <code>return</code>      ,    ,    .  Those.        ,     " <code>Test</code> ".        <code>return</code>         ‚Äî   . </p><br><p> <strong>     </strong> </p><br><p>  ,      <code>inline</code>      ,  ,              . </p><br><p> <code>JVM</code>        ,   ,       .    ,    ,      .. </p><br><div class="spoiler"> <b class="spoiler_title">:   </b> <div class="spoiler_text"><pre> <code class="hljs kotlin"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">fun</span></span></span><span class="hljs-function"> </span><span class="hljs-type"><span class="hljs-function"><span class="hljs-type">&lt;T,P&gt;</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">templateTest</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(value : </span></span><span class="hljs-type"><span class="hljs-function"><span class="hljs-params"><span class="hljs-type">T</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span></span> : P { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ( value <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> P ) <span class="hljs-comment"><span class="hljs-comment">// :    return value } templateTest&lt;String,String&gt;("text")</span></span></code> </pre> </div></div><br><p>         inline-     " <code>reified</code> ". </p><br><pre> <code class="hljs kotlin"><span class="hljs-keyword"><span class="hljs-keyword">inline</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">fun</span></span></span><span class="hljs-function"> </span><span class="hljs-type"><span class="hljs-function"><span class="hljs-type">&lt;T,</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-type"><span class="hljs-keyword">reified</span></span></span></span><span class="hljs-function"><span class="hljs-type"> P&gt;</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">templateTest</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(value : </span></span><span class="hljs-type"><span class="hljs-function"><span class="hljs-params"><span class="hljs-type">T</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span></span> : P { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ( value <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> P ) <span class="hljs-comment"><span class="hljs-comment">//         return value }</span></span></code> </pre> <br><p>          .   ,     templateTest  ,      .   ,  Kotlin    <code>reified</code> ,       <br>     ,     , ,        <code>refrection</code> ,      ,    <code>reified</code> ,   . </p><br><pre> <code class="hljs pgsql">This <span class="hljs-keyword"><span class="hljs-keyword">function</span></span> has a reified <span class="hljs-keyword"><span class="hljs-keyword">type</span></span> parameter <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> thus can <span class="hljs-keyword"><span class="hljs-keyword">only</span></span> be inlined at compilation <span class="hljs-type"><span class="hljs-type">time</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">not</span></span> <span class="hljs-keyword"><span class="hljs-keyword">called</span></span> directly</code> </pre> <br><p> <strong> inline-</strong> </p><br><p> ,    <code>inline</code>    ,      . <br>         <code>Kotlin</code> .        .      . </p><br><habracut><br><h2 id="itogo-plyusy-i-minusy-vyvody"> :   ,  </h2><br><div class="spoiler"> <b class="spoiler_title"> inline-</b> <div class="spoiler_text"><ul><li><p>       ..    ,        . </p><br></li><li><p>      ,    ,      .   ,    , ,  ¬´Kotlin¬ª,     ¬´Ref¬ª.     ,            .           ,     . inline-   ,                        .. </p><br></li><li><p>         ,          ,     . </p><br></li><li>   inline-         . </li></ul></div></div><br><div class="spoiler"> <b class="spoiler_title"> inline-</b> <div class="spoiler_text"><ul><li><p>      ,          ,    "". </p><br></li><li><p>      :      ,   ,     .. </p><br></li><li><p>    ,       .  ,      . <br> ,      . </p><br></li><li>     JVM  <a href="http://docs.oracle.com/javase/specs/jvms/se7/html/jvms-4.html">Java 7</a>     <a href="http://docs.oracle.com/javase/specs/jvms/se8/html/jvms-4.html">Java 8</a>          <strong>65534 </strong> (.. 65536   ,            ).  inline-         ,       .  ,    . </li></ul></div></div><br><p>   ,  inline-  .       <code>Kotlin</code> ,          ‚Äî         . </p><br><p>         ,     . <br>        inline-, : </p><br><ul><li><p>     ,  ,    ,  ,     .        -,          . </p><br></li><li><p>           ,         (..      -inline-    ).  inline-       ,       ,            , ,       ,        .  Those.     ,     inline       ,    ‚Äî     .. </p><br></li><li><p>           .   ,       . </p><br></li><li> ,           .         ‚Äî              .        . </li></ul></habracut></habracut></habracut></habracut></div>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <p>Source: <a href="https://habr.com/ru/post/319692/">https://habr.com/ru/post/319692/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../319682/index.html">Notify user with 99% probability</a></li>
<li><a href="../319684/index.html">Welcome to Moscow Python Meetup January 19</a></li>
<li><a href="../319686/index.html">Software developer must have sysadmin experience</a></li>
<li><a href="../319688/index.html">Second Generation Cloud Computing: CLAVIRE System</a></li>
<li><a href="../319690/index.html">Simplify working with Tableau via Telegram</a></li>
<li><a href="../319694/index.html">The continuation of the epic with a USB stack</a></li>
<li><a href="../319696/index.html">How to iterate over all permutations and about factorial decomposition of natural numbers</a></li>
<li><a href="../319698/index.html">Windows has an internal list of undelete root certificates.</a></li>
<li><a href="../319700/index.html">Introduction to the 8pt mesh system</a></li>
<li><a href="../319702/index.html">Duplo Railroad Tycoon: Synthesis of the rail network with maximum coverage</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>