<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>How the site can send events ...</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Once upon a time (I don‚Äôt remember when, but long ago) I got together and launched a website for myself. At first it was used simply as a warehouse of...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>How the site can send events ...</h1><div class="post__text post__text-html js-mediator-article">  Once upon a time (I don‚Äôt remember when, but long ago) I got together and launched a website for myself.  At first it was used simply as a warehouse of what needs to be conveyed to someone.  Then, quite by chance, free time was formed and it turned out to fill the site with something meaningful and (hopefully) useful.  And I really wanted to be aware of the events taking place on the site.  The simplest solution is to send letters, which was done.  However, after some time, there was a desire to get rid of letters from the site as the flow of service mail during the day exceeds reasonable limits. <br><a name="habracut"></a><br>  And then the thought occurred that using mail as a transport for delivering site events is simply one of the most common approaches, but there are also transports that allow you to not only send messages almost instantly, but also monitor the recipient‚Äôs status and guarantee the delivery of the event.  One such transport is jabber. <br><br><h4>  A bit of reasoning before rushing into implementation. </h4><br>  So, at the moment the server sent me letters at any time: <br><ol><li>  Suggestions / comments that can be sent from the site </li><li>  Information on downloading files from the site </li><li>  Regularly small stats </li></ol><br>  I didn‚Äôt have to deliver all of these events at any time: I need information about downloading files from the site as the fact that ‚Äúright now someone is taking a file from the site‚Äù, rather than raking several emails in the morning after receiving the mail.  It would be more interesting to get statistics on demand (yes, you can just make a page, but such pages usually turn into monsters, but you need to see something like summary).  Thus, sending events should be like this: <br><ol><li>  <i>Suggestions / comments that can be sent from the site</i> - <b>always sent</b> </li><li>  <i>Information about downloading files from the site</i> - is <b>sent only when I am on-line</b> </li><li>  <i>Regularly small statistics</i> - <b>when I wanted to look at it</b> </li></ol><br>  By the way, my IM client starts up automatically and much earlier than the email client i.  I will see the site events faster. <br><br><h4>  Preparatory work. </h4><br>  For a start, I started a jabber ID under which my site will run.  I did not bother with the support of the authorization request site, I did all the necessary actions to add contacts and authorization manually, since  this is just an experiment.  In the future, you need to bind registered users to the contact list of the server. <br>  The second most important matter was the choice of a library for working with jabber protocol.  The network found a sufficient number of projects for .NET, but the final choice of a particular library, I have not done yet.  still keep comparing them. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h4>  We make from the site jabber client. </h4><br>  Everything is ready for implementation and the first code that was written, just logged in to the jabber server and appeared in my online contacts at the start of the site.  <s>The first problem that threatened to stop the experiment: for some reason, some libraries believe that they are simply obliged to ask the user for confirmation.</s>  <s>Naturally, the site could not answer them, and did not give a simple window.</s>  <s>After a simple replacement of the library for working with the protocol, I finally saw the long-awaited inscription "[Server] On-Line"</s> Then I got excited - I encountered this problem in a completely different library - the library for working with SVN, which I also attached to the site. <br><br><h4>  We start to send events. </h4><br>  Actually, the whole development consisted in writing the <b>void SendMessage</b> method <b>(Jid to, bool alwayssend, string format, params object [] args)</b> and placing calls to this method.  I also wrote a small method for auto answer: <br><blockquote><code><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="black"><font color="#0000ff">protected</font> <font color="#0000ff">void</font> processMessage(Jid jid, <font color="#0000ff">string</font> text) { <font color="#0000ff">string</font> cmd      = <font color="#0000ff">new</font> Regex( <font color="#A31515">"\\s+"</font> , RegexOptions.ECMAScript).Replace(text, <font color="#A31515">" "</font> ).ToLower(); <font color="#0000ff">switch</font> (cmd) { <font color="#0000ff">case</font> <font color="#A31515">"?"</font> : SendMessage(jid, <font color="#0000ff">false</font> , <font color="#A31515">":\n"</font> + <font color="#A31515">" ? -  \n"</font> + <font color="#A31515">"? -  IP \n"</font> + <font color="#A31515">"? -  \n"</font> + <font color="#A31515">" ? -   ."</font> ); <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> <font color="#A31515">" ?"</font> : SendMessage(jid, <font color="#0000ff">false</font> , Collector.GetSummary()); <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> <font color="#A31515">"?"</font> : SendMessage(jid, <font color="#0000ff">false</font> , Collector.GetIPs()); <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> <font color="#A31515">"?"</font> : SendMessage(jid, <font color="#0000ff">false</font> , Collector.GetPages()); <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> <font color="#A31515">" ?"</font> : SendMessage(jid, <font color="#0000ff">false</font> , Collector.GetServers()); <font color="#0000ff">break</font> ; } }</font> <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></code> <ol><li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="#0000ff">protected</font> <font color="#0000ff">void</font> processMessage(Jid jid, <font color="#0000ff">string</font> text) { <font color="#0000ff">string</font> cmd      = <font color="#0000ff">new</font> Regex( <font color="#A31515">"\\s+"</font> , RegexOptions.ECMAScript).Replace(text, <font color="#A31515">" "</font> ).ToLower(); <font color="#0000ff">switch</font> (cmd) { <font color="#0000ff">case</font> <font color="#A31515">"?"</font> : SendMessage(jid, <font color="#0000ff">false</font> , <font color="#A31515">":\n"</font> + <font color="#A31515">" ? -  \n"</font> + <font color="#A31515">"? -  IP \n"</font> + <font color="#A31515">"? -  \n"</font> + <font color="#A31515">" ? -   ."</font> ); <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> <font color="#A31515">" ?"</font> : SendMessage(jid, <font color="#0000ff">false</font> , Collector.GetSummary()); <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> <font color="#A31515">"?"</font> : SendMessage(jid, <font color="#0000ff">false</font> , Collector.GetIPs()); <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> <font color="#A31515">"?"</font> : SendMessage(jid, <font color="#0000ff">false</font> , Collector.GetPages()); <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> <font color="#A31515">" ?"</font> : SendMessage(jid, <font color="#0000ff">false</font> , Collector.GetServers()); <font color="#0000ff">break</font> ; } } <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="#0000ff">protected</font> <font color="#0000ff">void</font> processMessage(Jid jid, <font color="#0000ff">string</font> text) { <font color="#0000ff">string</font> cmd      = <font color="#0000ff">new</font> Regex( <font color="#A31515">"\\s+"</font> , RegexOptions.ECMAScript).Replace(text, <font color="#A31515">" "</font> ).ToLower(); <font color="#0000ff">switch</font> (cmd) { <font color="#0000ff">case</font> <font color="#A31515">"?"</font> : SendMessage(jid, <font color="#0000ff">false</font> , <font color="#A31515">":\n"</font> + <font color="#A31515">" ? -  \n"</font> + <font color="#A31515">"? -  IP \n"</font> + <font color="#A31515">"? -  \n"</font> + <font color="#A31515">" ? -   ."</font> ); <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> <font color="#A31515">" ?"</font> : SendMessage(jid, <font color="#0000ff">false</font> , Collector.GetSummary()); <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> <font color="#A31515">"?"</font> : SendMessage(jid, <font color="#0000ff">false</font> , Collector.GetIPs()); <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> <font color="#A31515">"?"</font> : SendMessage(jid, <font color="#0000ff">false</font> , Collector.GetPages()); <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> <font color="#A31515">" ?"</font> : SendMessage(jid, <font color="#0000ff">false</font> , Collector.GetServers()); <font color="#0000ff">break</font> ; } } <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="#0000ff">protected</font> <font color="#0000ff">void</font> processMessage(Jid jid, <font color="#0000ff">string</font> text) { <font color="#0000ff">string</font> cmd      = <font color="#0000ff">new</font> Regex( <font color="#A31515">"\\s+"</font> , RegexOptions.ECMAScript).Replace(text, <font color="#A31515">" "</font> ).ToLower(); <font color="#0000ff">switch</font> (cmd) { <font color="#0000ff">case</font> <font color="#A31515">"?"</font> : SendMessage(jid, <font color="#0000ff">false</font> , <font color="#A31515">":\n"</font> + <font color="#A31515">" ? -  \n"</font> + <font color="#A31515">"? -  IP \n"</font> + <font color="#A31515">"? -  \n"</font> + <font color="#A31515">" ? -   ."</font> ); <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> <font color="#A31515">" ?"</font> : SendMessage(jid, <font color="#0000ff">false</font> , Collector.GetSummary()); <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> <font color="#A31515">"?"</font> : SendMessage(jid, <font color="#0000ff">false</font> , Collector.GetIPs()); <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> <font color="#A31515">"?"</font> : SendMessage(jid, <font color="#0000ff">false</font> , Collector.GetPages()); <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> <font color="#A31515">" ?"</font> : SendMessage(jid, <font color="#0000ff">false</font> , Collector.GetServers()); <font color="#0000ff">break</font> ; } } <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="#0000ff">protected</font> <font color="#0000ff">void</font> processMessage(Jid jid, <font color="#0000ff">string</font> text) { <font color="#0000ff">string</font> cmd      = <font color="#0000ff">new</font> Regex( <font color="#A31515">"\\s+"</font> , RegexOptions.ECMAScript).Replace(text, <font color="#A31515">" "</font> ).ToLower(); <font color="#0000ff">switch</font> (cmd) { <font color="#0000ff">case</font> <font color="#A31515">"?"</font> : SendMessage(jid, <font color="#0000ff">false</font> , <font color="#A31515">":\n"</font> + <font color="#A31515">" ? -  \n"</font> + <font color="#A31515">"? -  IP \n"</font> + <font color="#A31515">"? -  \n"</font> + <font color="#A31515">" ? -   ."</font> ); <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> <font color="#A31515">" ?"</font> : SendMessage(jid, <font color="#0000ff">false</font> , Collector.GetSummary()); <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> <font color="#A31515">"?"</font> : SendMessage(jid, <font color="#0000ff">false</font> , Collector.GetIPs()); <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> <font color="#A31515">"?"</font> : SendMessage(jid, <font color="#0000ff">false</font> , Collector.GetPages()); <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> <font color="#A31515">" ?"</font> : SendMessage(jid, <font color="#0000ff">false</font> , Collector.GetServers()); <font color="#0000ff">break</font> ; } } <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="#0000ff">protected</font> <font color="#0000ff">void</font> processMessage(Jid jid, <font color="#0000ff">string</font> text) { <font color="#0000ff">string</font> cmd      = <font color="#0000ff">new</font> Regex( <font color="#A31515">"\\s+"</font> , RegexOptions.ECMAScript).Replace(text, <font color="#A31515">" "</font> ).ToLower(); <font color="#0000ff">switch</font> (cmd) { <font color="#0000ff">case</font> <font color="#A31515">"?"</font> : SendMessage(jid, <font color="#0000ff">false</font> , <font color="#A31515">":\n"</font> + <font color="#A31515">" ? -  \n"</font> + <font color="#A31515">"? -  IP \n"</font> + <font color="#A31515">"? -  \n"</font> + <font color="#A31515">" ? -   ."</font> ); <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> <font color="#A31515">" ?"</font> : SendMessage(jid, <font color="#0000ff">false</font> , Collector.GetSummary()); <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> <font color="#A31515">"?"</font> : SendMessage(jid, <font color="#0000ff">false</font> , Collector.GetIPs()); <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> <font color="#A31515">"?"</font> : SendMessage(jid, <font color="#0000ff">false</font> , Collector.GetPages()); <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> <font color="#A31515">" ?"</font> : SendMessage(jid, <font color="#0000ff">false</font> , Collector.GetServers()); <font color="#0000ff">break</font> ; } } <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="#0000ff">protected</font> <font color="#0000ff">void</font> processMessage(Jid jid, <font color="#0000ff">string</font> text) { <font color="#0000ff">string</font> cmd      = <font color="#0000ff">new</font> Regex( <font color="#A31515">"\\s+"</font> , RegexOptions.ECMAScript).Replace(text, <font color="#A31515">" "</font> ).ToLower(); <font color="#0000ff">switch</font> (cmd) { <font color="#0000ff">case</font> <font color="#A31515">"?"</font> : SendMessage(jid, <font color="#0000ff">false</font> , <font color="#A31515">":\n"</font> + <font color="#A31515">" ? -  \n"</font> + <font color="#A31515">"? -  IP \n"</font> + <font color="#A31515">"? -  \n"</font> + <font color="#A31515">" ? -   ."</font> ); <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> <font color="#A31515">" ?"</font> : SendMessage(jid, <font color="#0000ff">false</font> , Collector.GetSummary()); <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> <font color="#A31515">"?"</font> : SendMessage(jid, <font color="#0000ff">false</font> , Collector.GetIPs()); <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> <font color="#A31515">"?"</font> : SendMessage(jid, <font color="#0000ff">false</font> , Collector.GetPages()); <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> <font color="#A31515">" ?"</font> : SendMessage(jid, <font color="#0000ff">false</font> , Collector.GetServers()); <font color="#0000ff">break</font> ; } } <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="#0000ff">protected</font> <font color="#0000ff">void</font> processMessage(Jid jid, <font color="#0000ff">string</font> text) { <font color="#0000ff">string</font> cmd      = <font color="#0000ff">new</font> Regex( <font color="#A31515">"\\s+"</font> , RegexOptions.ECMAScript).Replace(text, <font color="#A31515">" "</font> ).ToLower(); <font color="#0000ff">switch</font> (cmd) { <font color="#0000ff">case</font> <font color="#A31515">"?"</font> : SendMessage(jid, <font color="#0000ff">false</font> , <font color="#A31515">":\n"</font> + <font color="#A31515">" ? -  \n"</font> + <font color="#A31515">"? -  IP \n"</font> + <font color="#A31515">"? -  \n"</font> + <font color="#A31515">" ? -   ."</font> ); <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> <font color="#A31515">" ?"</font> : SendMessage(jid, <font color="#0000ff">false</font> , Collector.GetSummary()); <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> <font color="#A31515">"?"</font> : SendMessage(jid, <font color="#0000ff">false</font> , Collector.GetIPs()); <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> <font color="#A31515">"?"</font> : SendMessage(jid, <font color="#0000ff">false</font> , Collector.GetPages()); <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> <font color="#A31515">" ?"</font> : SendMessage(jid, <font color="#0000ff">false</font> , Collector.GetServers()); <font color="#0000ff">break</font> ; } } <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="#0000ff">protected</font> <font color="#0000ff">void</font> processMessage(Jid jid, <font color="#0000ff">string</font> text) { <font color="#0000ff">string</font> cmd      = <font color="#0000ff">new</font> Regex( <font color="#A31515">"\\s+"</font> , RegexOptions.ECMAScript).Replace(text, <font color="#A31515">" "</font> ).ToLower(); <font color="#0000ff">switch</font> (cmd) { <font color="#0000ff">case</font> <font color="#A31515">"?"</font> : SendMessage(jid, <font color="#0000ff">false</font> , <font color="#A31515">":\n"</font> + <font color="#A31515">" ? -  \n"</font> + <font color="#A31515">"? -  IP \n"</font> + <font color="#A31515">"? -  \n"</font> + <font color="#A31515">" ? -   ."</font> ); <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> <font color="#A31515">" ?"</font> : SendMessage(jid, <font color="#0000ff">false</font> , Collector.GetSummary()); <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> <font color="#A31515">"?"</font> : SendMessage(jid, <font color="#0000ff">false</font> , Collector.GetIPs()); <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> <font color="#A31515">"?"</font> : SendMessage(jid, <font color="#0000ff">false</font> , Collector.GetPages()); <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> <font color="#A31515">" ?"</font> : SendMessage(jid, <font color="#0000ff">false</font> , Collector.GetServers()); <font color="#0000ff">break</font> ; } } <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="#0000ff">protected</font> <font color="#0000ff">void</font> processMessage(Jid jid, <font color="#0000ff">string</font> text) { <font color="#0000ff">string</font> cmd      = <font color="#0000ff">new</font> Regex( <font color="#A31515">"\\s+"</font> , RegexOptions.ECMAScript).Replace(text, <font color="#A31515">" "</font> ).ToLower(); <font color="#0000ff">switch</font> (cmd) { <font color="#0000ff">case</font> <font color="#A31515">"?"</font> : SendMessage(jid, <font color="#0000ff">false</font> , <font color="#A31515">":\n"</font> + <font color="#A31515">" ? -  \n"</font> + <font color="#A31515">"? -  IP \n"</font> + <font color="#A31515">"? -  \n"</font> + <font color="#A31515">" ? -   ."</font> ); <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> <font color="#A31515">" ?"</font> : SendMessage(jid, <font color="#0000ff">false</font> , Collector.GetSummary()); <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> <font color="#A31515">"?"</font> : SendMessage(jid, <font color="#0000ff">false</font> , Collector.GetIPs()); <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> <font color="#A31515">"?"</font> : SendMessage(jid, <font color="#0000ff">false</font> , Collector.GetPages()); <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> <font color="#A31515">" ?"</font> : SendMessage(jid, <font color="#0000ff">false</font> , Collector.GetServers()); <font color="#0000ff">break</font> ; } } <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="#0000ff">protected</font> <font color="#0000ff">void</font> processMessage(Jid jid, <font color="#0000ff">string</font> text) { <font color="#0000ff">string</font> cmd      = <font color="#0000ff">new</font> Regex( <font color="#A31515">"\\s+"</font> , RegexOptions.ECMAScript).Replace(text, <font color="#A31515">" "</font> ).ToLower(); <font color="#0000ff">switch</font> (cmd) { <font color="#0000ff">case</font> <font color="#A31515">"?"</font> : SendMessage(jid, <font color="#0000ff">false</font> , <font color="#A31515">":\n"</font> + <font color="#A31515">" ? -  \n"</font> + <font color="#A31515">"? -  IP \n"</font> + <font color="#A31515">"? -  \n"</font> + <font color="#A31515">" ? -   ."</font> ); <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> <font color="#A31515">" ?"</font> : SendMessage(jid, <font color="#0000ff">false</font> , Collector.GetSummary()); <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> <font color="#A31515">"?"</font> : SendMessage(jid, <font color="#0000ff">false</font> , Collector.GetIPs()); <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> <font color="#A31515">"?"</font> : SendMessage(jid, <font color="#0000ff">false</font> , Collector.GetPages()); <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> <font color="#A31515">" ?"</font> : SendMessage(jid, <font color="#0000ff">false</font> , Collector.GetServers()); <font color="#0000ff">break</font> ; } } <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="#0000ff">protected</font> <font color="#0000ff">void</font> processMessage(Jid jid, <font color="#0000ff">string</font> text) { <font color="#0000ff">string</font> cmd      = <font color="#0000ff">new</font> Regex( <font color="#A31515">"\\s+"</font> , RegexOptions.ECMAScript).Replace(text, <font color="#A31515">" "</font> ).ToLower(); <font color="#0000ff">switch</font> (cmd) { <font color="#0000ff">case</font> <font color="#A31515">"?"</font> : SendMessage(jid, <font color="#0000ff">false</font> , <font color="#A31515">":\n"</font> + <font color="#A31515">" ? -  \n"</font> + <font color="#A31515">"? -  IP \n"</font> + <font color="#A31515">"? -  \n"</font> + <font color="#A31515">" ? -   ."</font> ); <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> <font color="#A31515">" ?"</font> : SendMessage(jid, <font color="#0000ff">false</font> , Collector.GetSummary()); <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> <font color="#A31515">"?"</font> : SendMessage(jid, <font color="#0000ff">false</font> , Collector.GetIPs()); <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> <font color="#A31515">"?"</font> : SendMessage(jid, <font color="#0000ff">false</font> , Collector.GetPages()); <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> <font color="#A31515">" ?"</font> : SendMessage(jid, <font color="#0000ff">false</font> , Collector.GetServers()); <font color="#0000ff">break</font> ; } } <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="#0000ff">protected</font> <font color="#0000ff">void</font> processMessage(Jid jid, <font color="#0000ff">string</font> text) { <font color="#0000ff">string</font> cmd      = <font color="#0000ff">new</font> Regex( <font color="#A31515">"\\s+"</font> , RegexOptions.ECMAScript).Replace(text, <font color="#A31515">" "</font> ).ToLower(); <font color="#0000ff">switch</font> (cmd) { <font color="#0000ff">case</font> <font color="#A31515">"?"</font> : SendMessage(jid, <font color="#0000ff">false</font> , <font color="#A31515">":\n"</font> + <font color="#A31515">" ? -  \n"</font> + <font color="#A31515">"? -  IP \n"</font> + <font color="#A31515">"? -  \n"</font> + <font color="#A31515">" ? -   ."</font> ); <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> <font color="#A31515">" ?"</font> : SendMessage(jid, <font color="#0000ff">false</font> , Collector.GetSummary()); <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> <font color="#A31515">"?"</font> : SendMessage(jid, <font color="#0000ff">false</font> , Collector.GetIPs()); <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> <font color="#A31515">"?"</font> : SendMessage(jid, <font color="#0000ff">false</font> , Collector.GetPages()); <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> <font color="#A31515">" ?"</font> : SendMessage(jid, <font color="#0000ff">false</font> , Collector.GetServers()); <font color="#0000ff">break</font> ; } } <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="#0000ff">protected</font> <font color="#0000ff">void</font> processMessage(Jid jid, <font color="#0000ff">string</font> text) { <font color="#0000ff">string</font> cmd      = <font color="#0000ff">new</font> Regex( <font color="#A31515">"\\s+"</font> , RegexOptions.ECMAScript).Replace(text, <font color="#A31515">" "</font> ).ToLower(); <font color="#0000ff">switch</font> (cmd) { <font color="#0000ff">case</font> <font color="#A31515">"?"</font> : SendMessage(jid, <font color="#0000ff">false</font> , <font color="#A31515">":\n"</font> + <font color="#A31515">" ? -  \n"</font> + <font color="#A31515">"? -  IP \n"</font> + <font color="#A31515">"? -  \n"</font> + <font color="#A31515">" ? -   ."</font> ); <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> <font color="#A31515">" ?"</font> : SendMessage(jid, <font color="#0000ff">false</font> , Collector.GetSummary()); <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> <font color="#A31515">"?"</font> : SendMessage(jid, <font color="#0000ff">false</font> , Collector.GetIPs()); <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> <font color="#A31515">"?"</font> : SendMessage(jid, <font color="#0000ff">false</font> , Collector.GetPages()); <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> <font color="#A31515">" ?"</font> : SendMessage(jid, <font color="#0000ff">false</font> , Collector.GetServers()); <font color="#0000ff">break</font> ; } } <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="#0000ff">protected</font> <font color="#0000ff">void</font> processMessage(Jid jid, <font color="#0000ff">string</font> text) { <font color="#0000ff">string</font> cmd      = <font color="#0000ff">new</font> Regex( <font color="#A31515">"\\s+"</font> , RegexOptions.ECMAScript).Replace(text, <font color="#A31515">" "</font> ).ToLower(); <font color="#0000ff">switch</font> (cmd) { <font color="#0000ff">case</font> <font color="#A31515">"?"</font> : SendMessage(jid, <font color="#0000ff">false</font> , <font color="#A31515">":\n"</font> + <font color="#A31515">" ? -  \n"</font> + <font color="#A31515">"? -  IP \n"</font> + <font color="#A31515">"? -  \n"</font> + <font color="#A31515">" ? -   ."</font> ); <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> <font color="#A31515">" ?"</font> : SendMessage(jid, <font color="#0000ff">false</font> , Collector.GetSummary()); <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> <font color="#A31515">"?"</font> : SendMessage(jid, <font color="#0000ff">false</font> , Collector.GetIPs()); <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> <font color="#A31515">"?"</font> : SendMessage(jid, <font color="#0000ff">false</font> , Collector.GetPages()); <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> <font color="#A31515">" ?"</font> : SendMessage(jid, <font color="#0000ff">false</font> , Collector.GetServers()); <font color="#0000ff">break</font> ; } } <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="#0000ff">protected</font> <font color="#0000ff">void</font> processMessage(Jid jid, <font color="#0000ff">string</font> text) { <font color="#0000ff">string</font> cmd      = <font color="#0000ff">new</font> Regex( <font color="#A31515">"\\s+"</font> , RegexOptions.ECMAScript).Replace(text, <font color="#A31515">" "</font> ).ToLower(); <font color="#0000ff">switch</font> (cmd) { <font color="#0000ff">case</font> <font color="#A31515">"?"</font> : SendMessage(jid, <font color="#0000ff">false</font> , <font color="#A31515">":\n"</font> + <font color="#A31515">" ? -  \n"</font> + <font color="#A31515">"? -  IP \n"</font> + <font color="#A31515">"? -  \n"</font> + <font color="#A31515">" ? -   ."</font> ); <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> <font color="#A31515">" ?"</font> : SendMessage(jid, <font color="#0000ff">false</font> , Collector.GetSummary()); <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> <font color="#A31515">"?"</font> : SendMessage(jid, <font color="#0000ff">false</font> , Collector.GetIPs()); <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> <font color="#A31515">"?"</font> : SendMessage(jid, <font color="#0000ff">false</font> , Collector.GetPages()); <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> <font color="#A31515">" ?"</font> : SendMessage(jid, <font color="#0000ff">false</font> , Collector.GetServers()); <font color="#0000ff">break</font> ; } } <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="#0000ff">protected</font> <font color="#0000ff">void</font> processMessage(Jid jid, <font color="#0000ff">string</font> text) { <font color="#0000ff">string</font> cmd      = <font color="#0000ff">new</font> Regex( <font color="#A31515">"\\s+"</font> , RegexOptions.ECMAScript).Replace(text, <font color="#A31515">" "</font> ).ToLower(); <font color="#0000ff">switch</font> (cmd) { <font color="#0000ff">case</font> <font color="#A31515">"?"</font> : SendMessage(jid, <font color="#0000ff">false</font> , <font color="#A31515">":\n"</font> + <font color="#A31515">" ? -  \n"</font> + <font color="#A31515">"? -  IP \n"</font> + <font color="#A31515">"? -  \n"</font> + <font color="#A31515">" ? -   ."</font> ); <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> <font color="#A31515">" ?"</font> : SendMessage(jid, <font color="#0000ff">false</font> , Collector.GetSummary()); <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> <font color="#A31515">"?"</font> : SendMessage(jid, <font color="#0000ff">false</font> , Collector.GetIPs()); <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> <font color="#A31515">"?"</font> : SendMessage(jid, <font color="#0000ff">false</font> , Collector.GetPages()); <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> <font color="#A31515">" ?"</font> : SendMessage(jid, <font color="#0000ff">false</font> , Collector.GetServers()); <font color="#0000ff">break</font> ; } } <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="#0000ff">protected</font> <font color="#0000ff">void</font> processMessage(Jid jid, <font color="#0000ff">string</font> text) { <font color="#0000ff">string</font> cmd      = <font color="#0000ff">new</font> Regex( <font color="#A31515">"\\s+"</font> , RegexOptions.ECMAScript).Replace(text, <font color="#A31515">" "</font> ).ToLower(); <font color="#0000ff">switch</font> (cmd) { <font color="#0000ff">case</font> <font color="#A31515">"?"</font> : SendMessage(jid, <font color="#0000ff">false</font> , <font color="#A31515">":\n"</font> + <font color="#A31515">" ? -  \n"</font> + <font color="#A31515">"? -  IP \n"</font> + <font color="#A31515">"? -  \n"</font> + <font color="#A31515">" ? -   ."</font> ); <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> <font color="#A31515">" ?"</font> : SendMessage(jid, <font color="#0000ff">false</font> , Collector.GetSummary()); <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> <font color="#A31515">"?"</font> : SendMessage(jid, <font color="#0000ff">false</font> , Collector.GetIPs()); <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> <font color="#A31515">"?"</font> : SendMessage(jid, <font color="#0000ff">false</font> , Collector.GetPages()); <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> <font color="#A31515">" ?"</font> : SendMessage(jid, <font color="#0000ff">false</font> , Collector.GetServers()); <font color="#0000ff">break</font> ; } } <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="#0000ff">protected</font> <font color="#0000ff">void</font> processMessage(Jid jid, <font color="#0000ff">string</font> text) { <font color="#0000ff">string</font> cmd      = <font color="#0000ff">new</font> Regex( <font color="#A31515">"\\s+"</font> , RegexOptions.ECMAScript).Replace(text, <font color="#A31515">" "</font> ).ToLower(); <font color="#0000ff">switch</font> (cmd) { <font color="#0000ff">case</font> <font color="#A31515">"?"</font> : SendMessage(jid, <font color="#0000ff">false</font> , <font color="#A31515">":\n"</font> + <font color="#A31515">" ? -  \n"</font> + <font color="#A31515">"? -  IP \n"</font> + <font color="#A31515">"? -  \n"</font> + <font color="#A31515">" ? -   ."</font> ); <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> <font color="#A31515">" ?"</font> : SendMessage(jid, <font color="#0000ff">false</font> , Collector.GetSummary()); <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> <font color="#A31515">"?"</font> : SendMessage(jid, <font color="#0000ff">false</font> , Collector.GetIPs()); <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> <font color="#A31515">"?"</font> : SendMessage(jid, <font color="#0000ff">false</font> , Collector.GetPages()); <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> <font color="#A31515">" ?"</font> : SendMessage(jid, <font color="#0000ff">false</font> , Collector.GetServers()); <font color="#0000ff">break</font> ; } } <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="#0000ff">protected</font> <font color="#0000ff">void</font> processMessage(Jid jid, <font color="#0000ff">string</font> text) { <font color="#0000ff">string</font> cmd      = <font color="#0000ff">new</font> Regex( <font color="#A31515">"\\s+"</font> , RegexOptions.ECMAScript).Replace(text, <font color="#A31515">" "</font> ).ToLower(); <font color="#0000ff">switch</font> (cmd) { <font color="#0000ff">case</font> <font color="#A31515">"?"</font> : SendMessage(jid, <font color="#0000ff">false</font> , <font color="#A31515">":\n"</font> + <font color="#A31515">" ? -  \n"</font> + <font color="#A31515">"? -  IP \n"</font> + <font color="#A31515">"? -  \n"</font> + <font color="#A31515">" ? -   ."</font> ); <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> <font color="#A31515">" ?"</font> : SendMessage(jid, <font color="#0000ff">false</font> , Collector.GetSummary()); <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> <font color="#A31515">"?"</font> : SendMessage(jid, <font color="#0000ff">false</font> , Collector.GetIPs()); <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> <font color="#A31515">"?"</font> : SendMessage(jid, <font color="#0000ff">false</font> , Collector.GetPages()); <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> <font color="#A31515">" ?"</font> : SendMessage(jid, <font color="#0000ff">false</font> , Collector.GetServers()); <font color="#0000ff">break</font> ; } } <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="#0000ff">protected</font> <font color="#0000ff">void</font> processMessage(Jid jid, <font color="#0000ff">string</font> text) { <font color="#0000ff">string</font> cmd      = <font color="#0000ff">new</font> Regex( <font color="#A31515">"\\s+"</font> , RegexOptions.ECMAScript).Replace(text, <font color="#A31515">" "</font> ).ToLower(); <font color="#0000ff">switch</font> (cmd) { <font color="#0000ff">case</font> <font color="#A31515">"?"</font> : SendMessage(jid, <font color="#0000ff">false</font> , <font color="#A31515">":\n"</font> + <font color="#A31515">" ? -  \n"</font> + <font color="#A31515">"? -  IP \n"</font> + <font color="#A31515">"? -  \n"</font> + <font color="#A31515">" ? -   ."</font> ); <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> <font color="#A31515">" ?"</font> : SendMessage(jid, <font color="#0000ff">false</font> , Collector.GetSummary()); <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> <font color="#A31515">"?"</font> : SendMessage(jid, <font color="#0000ff">false</font> , Collector.GetIPs()); <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> <font color="#A31515">"?"</font> : SendMessage(jid, <font color="#0000ff">false</font> , Collector.GetPages()); <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> <font color="#A31515">" ?"</font> : SendMessage(jid, <font color="#0000ff">false</font> , Collector.GetServers()); <font color="#0000ff">break</font> ; } } <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="#0000ff">protected</font> <font color="#0000ff">void</font> processMessage(Jid jid, <font color="#0000ff">string</font> text) { <font color="#0000ff">string</font> cmd      = <font color="#0000ff">new</font> Regex( <font color="#A31515">"\\s+"</font> , RegexOptions.ECMAScript).Replace(text, <font color="#A31515">" "</font> ).ToLower(); <font color="#0000ff">switch</font> (cmd) { <font color="#0000ff">case</font> <font color="#A31515">"?"</font> : SendMessage(jid, <font color="#0000ff">false</font> , <font color="#A31515">":\n"</font> + <font color="#A31515">" ? -  \n"</font> + <font color="#A31515">"? -  IP \n"</font> + <font color="#A31515">"? -  \n"</font> + <font color="#A31515">" ? -   ."</font> ); <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> <font color="#A31515">" ?"</font> : SendMessage(jid, <font color="#0000ff">false</font> , Collector.GetSummary()); <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> <font color="#A31515">"?"</font> : SendMessage(jid, <font color="#0000ff">false</font> , Collector.GetIPs()); <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> <font color="#A31515">"?"</font> : SendMessage(jid, <font color="#0000ff">false</font> , Collector.GetPages()); <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> <font color="#A31515">" ?"</font> : SendMessage(jid, <font color="#0000ff">false</font> , Collector.GetServers()); <font color="#0000ff">break</font> ; } } <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="#0000ff">protected</font> <font color="#0000ff">void</font> processMessage(Jid jid, <font color="#0000ff">string</font> text) { <font color="#0000ff">string</font> cmd      = <font color="#0000ff">new</font> Regex( <font color="#A31515">"\\s+"</font> , RegexOptions.ECMAScript).Replace(text, <font color="#A31515">" "</font> ).ToLower(); <font color="#0000ff">switch</font> (cmd) { <font color="#0000ff">case</font> <font color="#A31515">"?"</font> : SendMessage(jid, <font color="#0000ff">false</font> , <font color="#A31515">":\n"</font> + <font color="#A31515">" ? -  \n"</font> + <font color="#A31515">"? -  IP \n"</font> + <font color="#A31515">"? -  \n"</font> + <font color="#A31515">" ? -   ."</font> ); <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> <font color="#A31515">" ?"</font> : SendMessage(jid, <font color="#0000ff">false</font> , Collector.GetSummary()); <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> <font color="#A31515">"?"</font> : SendMessage(jid, <font color="#0000ff">false</font> , Collector.GetIPs()); <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> <font color="#A31515">"?"</font> : SendMessage(jid, <font color="#0000ff">false</font> , Collector.GetPages()); <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> <font color="#A31515">" ?"</font> : SendMessage(jid, <font color="#0000ff">false</font> , Collector.GetServers()); <font color="#0000ff">break</font> ; } } <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="#0000ff">protected</font> <font color="#0000ff">void</font> processMessage(Jid jid, <font color="#0000ff">string</font> text) { <font color="#0000ff">string</font> cmd      = <font color="#0000ff">new</font> Regex( <font color="#A31515">"\\s+"</font> , RegexOptions.ECMAScript).Replace(text, <font color="#A31515">" "</font> ).ToLower(); <font color="#0000ff">switch</font> (cmd) { <font color="#0000ff">case</font> <font color="#A31515">"?"</font> : SendMessage(jid, <font color="#0000ff">false</font> , <font color="#A31515">":\n"</font> + <font color="#A31515">" ? -  \n"</font> + <font color="#A31515">"? -  IP \n"</font> + <font color="#A31515">"? -  \n"</font> + <font color="#A31515">" ? -   ."</font> ); <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> <font color="#A31515">" ?"</font> : SendMessage(jid, <font color="#0000ff">false</font> , Collector.GetSummary()); <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> <font color="#A31515">"?"</font> : SendMessage(jid, <font color="#0000ff">false</font> , Collector.GetIPs()); <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> <font color="#A31515">"?"</font> : SendMessage(jid, <font color="#0000ff">false</font> , Collector.GetPages()); <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> <font color="#A31515">" ?"</font> : SendMessage(jid, <font color="#0000ff">false</font> , Collector.GetServers()); <font color="#0000ff">break</font> ; } } <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="#0000ff">protected</font> <font color="#0000ff">void</font> processMessage(Jid jid, <font color="#0000ff">string</font> text) { <font color="#0000ff">string</font> cmd      = <font color="#0000ff">new</font> Regex( <font color="#A31515">"\\s+"</font> , RegexOptions.ECMAScript).Replace(text, <font color="#A31515">" "</font> ).ToLower(); <font color="#0000ff">switch</font> (cmd) { <font color="#0000ff">case</font> <font color="#A31515">"?"</font> : SendMessage(jid, <font color="#0000ff">false</font> , <font color="#A31515">":\n"</font> + <font color="#A31515">" ? -  \n"</font> + <font color="#A31515">"? -  IP \n"</font> + <font color="#A31515">"? -  \n"</font> + <font color="#A31515">" ? -   ."</font> ); <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> <font color="#A31515">" ?"</font> : SendMessage(jid, <font color="#0000ff">false</font> , Collector.GetSummary()); <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> <font color="#A31515">"?"</font> : SendMessage(jid, <font color="#0000ff">false</font> , Collector.GetIPs()); <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> <font color="#A31515">"?"</font> : SendMessage(jid, <font color="#0000ff">false</font> , Collector.GetPages()); <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> <font color="#A31515">" ?"</font> : SendMessage(jid, <font color="#0000ff">false</font> , Collector.GetServers()); <font color="#0000ff">break</font> ; } } <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="#0000ff">protected</font> <font color="#0000ff">void</font> processMessage(Jid jid, <font color="#0000ff">string</font> text) { <font color="#0000ff">string</font> cmd      = <font color="#0000ff">new</font> Regex( <font color="#A31515">"\\s+"</font> , RegexOptions.ECMAScript).Replace(text, <font color="#A31515">" "</font> ).ToLower(); <font color="#0000ff">switch</font> (cmd) { <font color="#0000ff">case</font> <font color="#A31515">"?"</font> : SendMessage(jid, <font color="#0000ff">false</font> , <font color="#A31515">":\n"</font> + <font color="#A31515">" ? -  \n"</font> + <font color="#A31515">"? -  IP \n"</font> + <font color="#A31515">"? -  \n"</font> + <font color="#A31515">" ? -   ."</font> ); <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> <font color="#A31515">" ?"</font> : SendMessage(jid, <font color="#0000ff">false</font> , Collector.GetSummary()); <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> <font color="#A31515">"?"</font> : SendMessage(jid, <font color="#0000ff">false</font> , Collector.GetIPs()); <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> <font color="#A31515">"?"</font> : SendMessage(jid, <font color="#0000ff">false</font> , Collector.GetPages()); <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> <font color="#A31515">" ?"</font> : SendMessage(jid, <font color="#0000ff">false</font> , Collector.GetServers()); <font color="#0000ff">break</font> ; } } <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> <li> <code><font color="black"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="#0000ff">protected</font> <font color="#0000ff">void</font> processMessage(Jid jid, <font color="#0000ff">string</font> text) { <font color="#0000ff">string</font> cmd      = <font color="#0000ff">new</font> Regex( <font color="#A31515">"\\s+"</font> , RegexOptions.ECMAScript).Replace(text, <font color="#A31515">" "</font> ).ToLower(); <font color="#0000ff">switch</font> (cmd) { <font color="#0000ff">case</font> <font color="#A31515">"?"</font> : SendMessage(jid, <font color="#0000ff">false</font> , <font color="#A31515">":\n"</font> + <font color="#A31515">" ? -  \n"</font> + <font color="#A31515">"? -  IP \n"</font> + <font color="#A31515">"? -  \n"</font> + <font color="#A31515">" ? -   ."</font> ); <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> <font color="#A31515">" ?"</font> : SendMessage(jid, <font color="#0000ff">false</font> , Collector.GetSummary()); <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> <font color="#A31515">"?"</font> : SendMessage(jid, <font color="#0000ff">false</font> , Collector.GetIPs()); <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> <font color="#A31515">"?"</font> : SendMessage(jid, <font color="#0000ff">false</font> , Collector.GetPages()); <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> <font color="#A31515">" ?"</font> : SendMessage(jid, <font color="#0000ff">false</font> , Collector.GetServers()); <font color="#0000ff">break</font> ; } } <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></font></code> </li> </ol> <code><font color="gray"><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="black"><font color="#0000ff">protected</font> <font color="#0000ff">void</font> processMessage(Jid jid, <font color="#0000ff">string</font> text) { <font color="#0000ff">string</font> cmd      = <font color="#0000ff">new</font> Regex( <font color="#A31515">"\\s+"</font> , RegexOptions.ECMAScript).Replace(text, <font color="#A31515">" "</font> ).ToLower(); <font color="#0000ff">switch</font> (cmd) { <font color="#0000ff">case</font> <font color="#A31515">"?"</font> : SendMessage(jid, <font color="#0000ff">false</font> , <font color="#A31515">":\n"</font> + <font color="#A31515">" ? -  \n"</font> + <font color="#A31515">"? -  IP \n"</font> + <font color="#A31515">"? -  \n"</font> + <font color="#A31515">" ? -   ."</font> ); <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> <font color="#A31515">" ?"</font> : SendMessage(jid, <font color="#0000ff">false</font> , Collector.GetSummary()); <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> <font color="#A31515">"?"</font> : SendMessage(jid, <font color="#0000ff">false</font> , Collector.GetIPs()); <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> <font color="#A31515">"?"</font> : SendMessage(jid, <font color="#0000ff">false</font> , Collector.GetPages()); <font color="#0000ff">break</font> ; <font color="#0000ff">case</font> <font color="#A31515">" ?"</font> : SendMessage(jid, <font color="#0000ff">false</font> , Collector.GetServers()); <font color="#0000ff">break</font> ; } }</font> * This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></code> </blockquote> <br>  Everything, now I see, when my site works, sends me the necessary events and answers questions.  This is what the chat window with my site looks like: <br><img src="https://habrastorage.org/getpro/habr/post_images/0fc/39c/a5e/0fc39ca5e2147f4079f75c9c65692920.png" alt="image"><br>  Actually write an answering machine is not difficult. <br><br><h4>  Results </h4><br>  Using the jabber protocol as a transport for delivering site events is convenient and easy.  The advantage is immediately visible - all events can be divided into several types and tied to the presence of the user (in this case, me) on communications and (if necessary) on my status (do not disturb, busy, etc.): <ul><li>  Important messages are what I need to see. </li><li>  Events that are of interest, but when I'm off-line or my status says about my workload, then they can not be sent </li><li>  Information sent on request - only when I wanted to look at it, i.e.  it generally looks like a command line :) </li></ul><br>  The number of ‚Äúlike‚Äù necessary letters has been reduced, which in 99% of cases are deleted without reading. <br>  In general, it turned out that the potential of such a solution is quite high.  For example, you can go further - drastically change the registration process: ask only jabber ID, send an authorization request, pull out the initial data and send a password, but for now the low prevalence of using the protocol stops. <br>  The implementation of the test mechanism on the server fit into 134 lines of code, if anyone is interested, I can lay out, but this code is almost completely taken from the examples that came with the library.  While I like the results, the experiment continues.  Ahead - load testing, tight work with a list of contacts through the site and a lot of ideas. <br><br><h5>  Addition: about components for working with jabber </h5><br>  The first worthy project is <a href="http://code.google.com/p/jabber-net/">Jabber .NET</a> : since mail and jabber for my domain work through Google Apps, the main criterion is normal work with google, the connection work went smoothly.  There are some flaws, but the basic functions are provided quite well.  What did not suit me: <br><ol><li>  Inheritance of objects from System.ComponentModel.Component </li><li>  Multiple dll </li><li>  The structure of the project is completely incomprehensible to me, the projects are too mixed </li></ol><br><br>  The second project is <a href="http://www.ag-software.de/index.php%3Fpage%3Dagsxmpp-sdk">agsxmpp</a> : I <a href="http://www.ag-software.de/index.php%3Fpage%3Dagsxmpp-sdk">am</a> currently using it, but most likely I will have to give it up because of the license.  Again, google works fine, the library is more serious than the first. <br><br>  Both considered libraries contain components for Windows.Forms, but firstly they cannot be looked at without a shudder, and secondly they are unnecessary for me on the server. <br><br>  Everything else that I could find was swept away already at the stage of studying sites.  However, there are some good JScript projects, maybe one of them can simply be ported to C #. </div><p>Source: <a href="https://habr.com/ru/post/43844/">https://habr.com/ru/post/43844/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../43831/index.html">Curious facts about the new taskbar interface in Windows 7</a></li>
<li><a href="../43837/index.html">Selling fake Antiviruses in full swing!</a></li>
<li><a href="../43838/index.html">Ffmpeg for every day</a></li>
<li><a href="../43839/index.html">ASP.NET MVC + jQuery = Paradise for AJAX</a></li>
<li><a href="../43842/index.html">Joy of life part 2</a></li>
<li><a href="../43846/index.html">Began accepting applications for domains in the TEL zone</a></li>
<li><a href="../43847/index.html">Just add water: headup.com</a></li>
<li><a href="../43855/index.html">How to determine natural numbers</a></li>
<li><a href="../43856/index.html">Open iron + open soft =?</a></li>
<li><a href="../43857/index.html">Holographic display Dreamoc 3D</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>