<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>BEM with a human face and backend integration</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="The layout of modern web-projects is difficult, time consuming and expensive. It would seem that with the transition of IE to automatic updates, HTML5...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>BEM with a human face and backend integration</h1><div class="post__text post__text-html js-mediator-article">  The layout of modern web-projects is difficult, time consuming and expensive.  It would seem that with the transition of IE to automatic updates, HTML5, the end of support for Win XP, we all need to heal in a fairyland with a pony and a rainbow.  Why did not it become easier? <br><br><ul><li>  HTML5 and CSS3 gave the web the opportunity to create a UI that is almost as good as desktop applications.  Nothing is given just like that, HTML, CSS and JS have become many times more.  Previously, we had three files: <i>styles.css</i> , <i>stupid-ie-must-die.css</i> , <i>scripts.js</i> .  Now the number of scripts, styles, downloadable fonts, images is measured in tens and hundreds.  There was a need for minification, acceleration of rendering and organization of all this junk in the file system. </li><li>  Sites have gradually ceased to be a set of related hypertext pages and have become web-based applications.  If earlier for many sites it was enough to create the ‚Äúmain‚Äù and ‚Äúinternal‚Äù pages, now everything is not so simple.  The number of design layouts easily reaches tens and hundreds. </li><li>  We‚Äôve all heard a lot about the Landing Page, a / b testing and a multiple increase in conversion for ‚Äújust so‚Äù.  Let's leave the question about the effectiveness of these techniques.  Design began to redo often - this is a fact.  It is known that making changes and supporting is much more expensive and more difficult than development. </li><li>  There are mobile devices and the need for responsive design.  Testing has become harder and longer.  The cycle of fixing bugs found during testing has become longer.  Testing UI is almost not amenable to automation, with the growth of the functional time for regression testing is steadily increasing. </li><li>  The integration with the backend-code has become more complicated, there is a need to do this much more often. </li></ul><br><br><h3>  All this makes you think about optimizing work with the frontend. </h3><br>  <i>I want to:</i> <br><ul><li>  Reduce the time and the number of integration work (‚Äústretching‚Äù of the layout on the server technology) </li><li>  Increase html, css and js reuse, reduce the amount of corresponding code </li><li>  Reduce time to modify existing code </li><li>  Reduce the number of errors in the modification, especially regression </li><li>  Learn how to create and impose responsive design effectively. </li></ul><br><a name="habracut"></a>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h3>  The simplest solution is to abandon server templating at all, switch to REST-API and SPA </h3><br><h4>  pros </h4><br><ul><li>  The integration phase disappears altogether. </li><li>  The back and front are separated, each team is more mobile and they don‚Äôt have to use a common set of tools at all. </li><li>  Front end does not need to deploy server stack </li></ul><br><h4>  Minuses </h4><br><ul><li>  SEO </li><li>  The need for a "fat client" </li><li>  Implicit code duplication: ViewModel on the client and DTO on the server </li></ul><br><br><blockquote>  The cons are pretty serious.  What are the options if the templates are on the server? </blockquote><br><br><h3>  Frontedschik edits server templates </h3><br><h4>  pros </h4><br><ul><li>  Do not "pull" backend </li></ul><br><h3>  Minuses </h3><br><ul><li>  The front runner needs to hold two sets of tools and switch between them. </li><li>  It is difficult for the front-endman to use unfamiliar technology, all sorts of <i>@using (Hml.BeginForm (//</i> ... and <i>&lt;? Php $ form-&gt; textbox ('name')</i> </li><li>  Frontman may ‚Äúbreak‚Äù the server code and not understand it </li><li>  Frontman doesn‚Äôt know backend coding standards </li><li>  The front-runner needs to deploy and configure the entire application, incl.  DB and other dependencies </li></ul><br><br><h3>  Front-end user edits his templates in pure html without server inserts (possibly with preprocessors) and sends to the backend </h3><br><h4>  pros </h4><br><ul><li>  No need to duplicate a set of tools, each does his own job, in which he is a specialist </li><li>  Easy to configure environments </li><li>  The ability to simultaneously impose a lot of completely different layouts by different contractors </li></ul><br><h4>  Minuses </h4><br><ul><li>  Duplication of work </li><li>  Need to edit a template in two places </li><li>  We did not reduce the cost of integration. </li></ul><br><br><h3>  Front-end user uses server engine during layout and independently allocates layouts, blocks and patterns. </h3><br><h4>  pros </h4><br><ul><li>  Integration costs are almost disappearing. </li><li>  The server and client use the same set of tools and programming language (this approach is especially attractive for node.js) </li><li>  Closer interaction between front and back commands is required to coordinate the "cutting" of patterns and blocks </li></ul><br><h4>  Minuses </h4><br><ul><li>  Required tools, maybe they already exist, you may have to write (for php and asp.net this is done in a day or two) </li><li>  Tools may not be compatible with sass / less / stylus / other favorite preprocessors. </li><li>  Sharper learning curve for new employees </li><li>  The need for a clear written rules and style guide for creating templates, view models and the location of files in the file system </li><li>  Closer interaction between front and back commands is required to coordinate the ‚Äúcutting‚Äù of patterns and blocks (yes, this is plus and minus) </li></ul><br><br><blockquote>  I tried all the approaches described.  My experience says that, depending on the type of project, other things being equal, the first and last options work best. </blockquote><br><h2>  And here bam? </h2><br>  Perhaps BEM is one of the most holivore themes of our time, so I can't help but insert the picture below. <br><br><img src="https://habrastorage.org/files/cdf/66f/0c6/cdf66f0c69aa44b88978622c345b1563.png">  . <br><br>  I tried to work with ‚ÄúBEM‚Äù and ‚Äúsemantic‚Äù layout and came to the conclusion that constant changes in requirements and modifications lead to the frequent need to change the markup and be tied to tag names and cascades in CSS - the idea is so-so. <br><br><h3>  What are bad cascades? </h3>  The idea of ‚Äã‚Äã"throwing out" from the "cascading" style pages cascade at first glance seems seditious, but: <br><ul><li>  Most browsers handle right-to-left styles, and the rendering speed difference <i>.some-block .some-element li&gt; p</i> a and <i>.some-block__link</i> can reach several times and should be considered. </li><li>  Cascades are very difficult to maintain and refine, it is difficult to create reusable components. </li><li>  Rejecting style IDs eliminates view constructs. <br><pre><code class="css hljs"><span class="hljs-selector-id"><span class="hljs-selector-id">#some-element</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">p</span></span>, <span class="hljs-selector-id"><span class="hljs-selector-id">#some-other-element</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">p</span></span>, <span class="hljs-selector-id"><span class="hljs-selector-id">#one-more-fucking-id</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">p</span></span>, <span class="hljs-selector-class"><span class="hljs-selector-class">.what-the-hell-class-name</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">p</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.is-doing-here</span></span>{ <span class="hljs-comment"><span class="hljs-comment">/*‚Ä¶*/</span></span> }</code> </pre> <br></li><li>  ‚ÄúClassic‚Äù CSS recommends, but does not dictate clear rules and regulations, respectively, Vasya may not like the way that Fedya is imposing and vice versa.  BEM assumes a unified methodology, therefore Vasya and Fedya are doing everything the same way - according to the methodology.  This not bad increases the bus factor on the project and reduces the search time for the required style. <br></li><li>  The concept of blocks, elements and especially modifiers is very well suited for responsive design, when you want to display different blocks / or display blocks / elements of different elements depending on the screen size. </li><li>  Block, element and modifier are successful terms for communication between different specialists.  They are intuitive enough that not "non-techies" are not afraid of these words and at the same time are associated with certain techniques. <br><br>  These facts make me reckon with BEM and endure the ugly class names.  However, even the BEM authors themselves insist that BEM is a methodology that can and should be ‚Äúdoped‚Äù for the needs of the project and the team.  For this team need checklists. </li></ul><br><a name="checklist"></a><br><h3>  My checklist </h3><br><h4>  General requirements </h4><ol><li>  Layout should be cross-browser and on the grid, correction of errors in indents in the design is allowed </li><li>  Layout must be implemented by BEM-methodology </li><li>  Layout must undergo <a href="http://validator.w3.org/">w3c validation</a> </li><li>  Layout to meet the requirements of <a href="https://github.com/delka/html5checklist">this checklist</a> </li><li>  Tables should only be used to present tabular data, nested tables are prohibited. </li></ol><br><h4>  Forms </h4><ol><li>  Forms must always be designed using the <i>form</i> tag, the tag must contain an <i>action</i> attribute </li><li>  Buttons must be tagged as <i>input</i> or <i>button.</i> </li><li>  For phones, you must use the input mask </li><li>  Validation must be implemented </li></ol><br><h4>  BEM </h4><ol><li>  It is forbidden to use element id and tag names, except for the exceptions below, to set styles </li><li>  Classes should be named as follows: <i>some-block__ some-element_ some-modificator</i> </li><li>  It is forbidden to use inline-styles. </li><li>  The names of the blocks and elements should correspond to their purpose and function, and not to how they are displayed. <br>  If the blocks perform different functions, but look the same, they should be arranged as one block with a neutral name, reflecting their similarity.  No unnecessary duplication of code </li><li>  It is necessary to use normalization for all tags that cannot have a class name (the cases are described below), the use of reset.css is not allowed.  Using <a href="">normalize.css is</a> permissible, exactly like the normalization variant only for tags for which it is impossible to set a class </li><li>  It is forbidden to use cascading styles with a depth of more than one element (for example, <i>table td</i> ), except for the following situation: depending on the block modifier applied, the child elements / blocks should be displayed differently.  The cascade will be short, with dynamic switching of the java-script modifier, the implementation is much simpler and more efficient from the point of view of interaction with the DOM than in the case of modifying the styles of all child elements. </li><li>  B-prefixes for blocks are not used </li><li>  Global modifiers must be declared as a separate class, for example <i>_uppercase</i> .  Underscore at the beginning indicates that it is a modifier, not a block.  For adaptive layout, it is necessary to use the <i>_desktop</i> , <i>_tablet</i> and <i>_phone</i> global modifiers for the blocks that need to be displayed only on a specific device.  It is preferable to use the mobile-first approach: from simple to complex </li><li>  Styles should be applied to tags through the parent cascade in cases where it is impossible to control classes of elements, for example: <br><ul><li>  The content is entered by the user through a form on the website, is created dynamically or comes from other sources beyond our control. </li><li>  Controls in the form: it is preferable to use the parent cascade, because the elements of the form can be created using the server code.  Additional reformatting is required to preserve the styles of the elements.  This is undesirable. </li></ul></li></ol><br><h4>  Formatting and file system </h4><ol><li>  Using one large CSS file or JS file is not allowed, you must use an extensive file structure, namely: </li><li>  Each block is located in its own folder, reusable blocks and main layouts are located in the shared folder. </li><li>  The description of the block and all elements is located in one file called <i>&lt;BLOCK_NAME&gt; .css</i> .  If the description of blocks and elements exceeds 600 lines, it is necessary to decompose it. </li><li>  Class names and CSS rules are sorted alphabetically. </li><li>  The modifier should override no more than 40% of styles, otherwise it is better to create a new block. </li><li>  The block HTML template is in the same folder (server or client templating technology is used) </li><li>  Layouts are separated from pages, all necessary pages are ‚Äúcut‚Äù by separate files </li></ol><br><h4>  Bundling, minification and build </h4><ol><li>  All resources must be prepared for production and divided into bundles.  Bundles should be grouped in such a way that their number is minimal, and the bundle weight does not exceed 250KB. </li><li>  The use of server technology for splitting html layouts into layouts, pages and blocks is allowed and encouraged. </li><li>  Delivery acceptance is made after the "assembly".  The result is n html pages and an index.html file with links to all the folded pages.  It is permissible to transfer the layout in the ‚Äúsource code‚Äù, with the attached bat / makefile and the ‚Äúcollector‚Äù, if the size of the ‚Äúcollector‚Äù does not exceed 10MB and can be guaranteed to be run on the OS of the receiving layout. </li><li>  Links in css and js files must be absolute, otherwise there is a risk that they will not work correctly after minification </li></ol><br><hr><br><h4>  A selection of good materials on BEM: </h4><ul><li>  <a href="http://habrahabr.ru/company/yandex/blog/234905/">habrahabr.ru/company/yandex/blog/234905</a> </li><li>  <a href="http://habrahabr.ru/post/171437/">habrahabr.ru/post/171437</a> </li><li>  <a href="http://ru.bem.info/method/history/">ru.bem.info/method/history</a> </li><li>  <a href="http://habrahabr.ru/post/203440/">habrahabr.ru/post/203440</a> </li></ul><br><br><h4>  Just awesome getting started guide for new employees. </h4>  It is difficult to use as a checklist because of the scale of this document: <a href="http://habrahabr.ru/post/114256/">habrahabr.ru/post/114256</a> .  There is an abbreviated version, which is suitable as a checklist: <a href="https://github.com/delka/html5checklist">github.com/delka/html5checklist</a> . <br><br><h4>  BEM check </h4><pre> <code class="javascript hljs">s=<span class="hljs-built_in"><span class="hljs-built_in">document</span></span>.createElement(<span class="hljs-string"><span class="hljs-string">'script'</span></span>);s.src =<span class="hljs-string"><span class="hljs-string">"//2gis.github.io/makeup/autoload/script.js"</span></span>;<span class="hljs-built_in"><span class="hljs-built_in">document</span></span>.body.appendChild(s)</code> </pre></div><p>Source: <a href="https://habr.com/ru/post/246143/">https://habr.com/ru/post/246143/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../246131/index.html">Why "IT people" exhibitions and conferences</a></li>
<li><a href="../246133/index.html">Ad Visualization 1.1 - Decisions and Conclusion</a></li>
<li><a href="../246135/index.html">Home automation system TAIYITO</a></li>
<li><a href="../246137/index.html">Alex Schulz (part 1): an introduction to growth hacking</a></li>
<li><a href="../246139/index.html">Turing A-Machine and Hoara Pit-Stop Coffee Machine</a></li>
<li><a href="../246153/index.html">Fighting packet loss in video conferencing</a></li>
<li><a href="../246155/index.html">How the developers sat in St. Petersburg and quietly ate mushrooms, and then they wrote the OS for data storage systems</a></li>
<li><a href="../246159/index.html">Curious ecommerce statistics for 2014</a></li>
<li><a href="../246161/index.html">C # for AS3 developers. Part 1: Class Basics</a></li>
<li><a href="../246169/index.html">Meet the service HockeyApp - your assistant for analyzing the work of mobile applications</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>