<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>We are friends with AirPlaySDK</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="It's no secret that coding for mobile phones is an interesting, profitable and promising business. I always launch a game on the PDA when I go down to...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>We are friends with AirPlaySDK</h1><div class="post__text post__text-html js-mediator-article">  It's no secret that coding for mobile phones is an interesting, profitable and promising business.  I always launch a game on the PDA when I go down to the subway and see how the people around me do the same.  But unfortunately the current variety of platforms often forces us to limit the range of supported devices. <a name="habracut"></a><br><br>  Ideaworks Labs took care of us and created AirPlaySDK.  This toolkit allows you to write code in C ++ once and compile it into native applications for iOS, Android, Samsung Bada, Symbian, Windows Mobile, BREW, Palm / HP WebOS and Maemo platforms.  Well, impressive?  In addition, AirPlaySDK has excellent documentation (albeit in English) and allows you to use the unique features of a particular platform.  You can download and try AirPlaySDK for free from <a href="http://www.airplaysdk.com/">www.airplaysdk.com</a> or buy a Indie license for only $ 99, and iPhone developers can use this tool for free (that is, for free). <br><br><h4>  Creating a project </h4><br>  AirPlaySDK allows you to write applications in Windows or Mac OS, and integrates well with Visual Studio (from version 6.0) and XCode, respectively.  I will be guided by the Visual Studio, but I am sure that for XCode everything will look just as easy. <br>  So, you downloaded and installed AirPlaySDK and Visual Studio.  Create a <i>HelloWorld</i> folder in some place on your disk.  It is in this folder will be placed our first project. <br>  The main file of the entire solution is <i>HelloWorld.mkb</i> in the <i>HelloWorld</i> folder, create and open it for editing and enter the following contents there: 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <pre><code class="cpp hljs">options { s3e-data-dir=<span class="hljs-string"><span class="hljs-string">"data"</span></span> } files { (source) HelloWorld.cpp HelloWorld.h HelloWorldMain.cpp } subprojects { iw2d }</code> </pre> <br><br>  Here, the <i>s3e-data-dir</i> parameter of the <i>options</i> section defines the folder in which the resources of the future application will be located.  It can be images, music or something else.  Create the <i>data</i> folder we declared in the <i>HelloWorld</i> folder. <br><br>  The <i>files</i> section describes the list of project files.  In parentheses we indicate the <i>source</i> folder, which should also be created.  In it we will put three files: <i>HelloWorld.cpp</i> , <i>HelloWorld.h</i> and <i>HelloWorldMain.cpp</i> . <br><br>  The <i>subprojects</i> section contains the names of the libraries that we want to use in our project. <br><br><h4>  Cross-platform ‚ÄúHello World!‚Äù </h4><br>  So, the preparation of the project is completed and we can start programming.  To do this, double-click on the <i>HelloWorld.mkb</i> file and you will first see the AirPlaySDK logo, and then you will see a project in Visual Studio.  Beat the code below into the <i>HelloWorldMain.cpp</i> file, but for now I‚Äôll explain what's what. <br><br><pre> <code class="cpp hljs"><span class="hljs-meta"><span class="hljs-meta">#</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">include</span></span></span><span class="hljs-meta"> </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">"s3e.h"</span></span></span><span class="hljs-meta"> #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">include</span></span></span><span class="hljs-meta"> ‚ÄúHelloWorld.h‚Äù int main() { GameInit(); while (true) { s3eDeviceYield(0); s3eKeyboardUpdate(); bool result = GameUpdate(); </span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">if</span></span></span><span class="hljs-meta"> ((result == false) || (s3eKeyboardGetState(s3eKeyEsc) &amp; S3E_KEY_STATE_DOWN) || (s3eKeyboardGetState(s3eKeyLSK) &amp; S3E_KEY_STATE_DOWN) || (s3eDeviceCheckQuitRequest())) break; GameRender(); } GameShutdown(); }</span></span></code> </pre> <br><br>  With the help of the directive <i>#include ‚Äús3e.h‚Äù</i> we connect the standard header file AirPlaySDK, which allows us to work with a mobile device. <br><br>  The <i>GameInit ()</i> function we write ourselves.  It will initialize the variables we need, create objects in every possible way, load resources and perform other actions immediately when the program starts. <br><br>  The <i>s3eDeviceYield (..)</i> function stops the device operation for the time specified in the parameter and allows the operating system to perform some actions.  As a parameter of this function, we passed a zero, and therefore we obtain the minimum possible delay allowed by the operating system. <br><br>  <i>s3eKeyboardUpdate ()</i> updates the information on the current status of the keys of the mobile phone and checks whether the user has pressed any keys during the cycle pass. <br><br>  We will write the function <i>GetUpdate () by</i> ourselves.  As usual, all the logic of the application operation is usually placed in it.  If you are writing a game, then in this function you should check if the next monster has died after the user's shot.  It should be noted that the function returns <i>true</i> if the application continues its work, or <i>false</i> if, for example, the user has clicked ‚ÄúExit game‚Äù. <br><br>  This is followed by checking whether the user did not want to exit the application by pressing the corresponding menu item or the phone key, and whether the operating system asks our application to terminate, and in case of a positive result, ends the main loop.  If the application should continue to work - go ahead. <br><br>  In <i>GameRender ()</i> , which we will again create independently, there is a drawing of everything and everything on the screen.  And finally, <i>GameShutdown ()</i> (the fourth so far non-existent function) terminates the work of our application, saving the results, freeing up memory and performing other operations. <br>  Well, we have disassembled the main function of the application.  It is worth noting that the <i>HelloWorldMain.cpp</i> file is a template.  Such a file with almost the same content will be present in all projects that you will create using AirPlaySDK. <br><br><h4>  We describe the application logic </h4><br>  Now it's time to do the functions that will directly determine the logic of the application.  To do this, open the HelloWorld.cpp file and type in the code: <br><br><pre> <code class="cpp hljs"><span class="hljs-meta"><span class="hljs-meta">#</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">include</span></span></span><span class="hljs-meta"> </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">"Iw2D.h"</span></span></span><span class="hljs-meta"> void GameInit() { Iw2DInit(); } bool GameUpdate() { return true; } void GameRender() { Iw2DSetColour(0xFF000000); Iw2DFillRect( CIwSVec2(0, 0), CIwSVec2(Iw2DGetSurfaceWidth(), Iw2DGetSurfaceHeight()) ); Iw2DSetColour(0xFF00FF00); Iw2DFillArc( CIwSVec2(Iw2DGetSurfaceWidth()/2, Iw2DGetSurfaceHeight()/2), CIwSVec2(30, 30), 0, 0x800 * 2 ); Iw2DSurfaceShow(); } void GameShutdown() { Iw2DTerminate(); }</span></span></code> </pre> <br><br>  As you have already noticed, the <i>HelloWorld.cpp</i> file code contains the functions that I promised to describe.  There is nothing difficult in this listing.  He just fills the screen with black color and displays a green circle in the middle. <br><br>  Now it is worth describing the prototypes of these functions in the header file <i>HelloWorld.h</i> , to be able to call them from the main function <i>main ()</i> .  It will look like this: <br><br><pre> <code class="cpp hljs"><span class="hljs-meta"><span class="hljs-meta">#</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">ifndef</span></span></span><span class="hljs-meta"> HELLOWORLD_H #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">define</span></span></span><span class="hljs-meta"> HELLOWORLD_H void GameInit(); bool GameUpdate(); void GameRender(); void GameShutdown(); #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">endif</span></span></span></span></code> </pre> <br><br>  Listing does not need comments.  The code of our application is ready and you can run it for execution by pressing the F5 key in Visual Studio.  Before you open the emulator window, which will demonstrate our first creation on AirPlaySDK. <br><br><h4>  Build project </h4><br>  Well, it is time to demonstrate the main advantage of AirPlaySDK - application portability from one platform to another. <br><br>  Select ‚ÄúGCC (ARM) Release‚Äù as the active project configuration and press F5.  You will see the Airplay System Deployment Tool window.  Check the ‚ÄúARM GCC Release‚Äù and click ‚ÄúNext‚Äù.  The next step is nothing interesting for us so far, so click ‚ÄúNext‚Äù once more.  It is here that you want to note the variety of platforms under which we want to compile our application.  Let's mark the OS Bada, click ‚ÄúDeploy All‚Äù and wait for the end of the compilation of our project. <br><br>  <i>PS In addition to the two-dimensional graphics, AirPlaySDK allows you to <a href="http://habrahabr.ru/blogs/gdev/122891/">create three-dimensional games</a> , work with GPS, sounds, contact lists, a network, video, and a bunch of other things.</i> <br><br>  <b>UPD.</b>  For some time, the Airplay SDK has been renamed to Marmalade SDK. </div><p>Source: <a href="https://habr.com/ru/post/120684/">https://habr.com/ru/post/120684/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../120674/index.html">.NET Micro Framework: Porting in Brief</a></li>
<li><a href="../120675/index.html">Free books in Russian - Windows Phone, Visual Studio, Small Basic</a></li>
<li><a href="../120676/index.html">TileMill - cartographic design studio</a></li>
<li><a href="../120678/index.html">Do not miss SharePoint Conference 2011 Russia</a></li>
<li><a href="../120681/index.html">Myths about SaaS, cloud platforms and cloud computing</a></li>
<li><a href="../120685/index.html">We start talking about multitasking</a></li>
<li><a href="../120686/index.html">Graphics via OpenGL on Haskell</a></li>
<li><a href="../120688/index.html">Your tool for team work on texts.</a></li>
<li><a href="../120690/index.html">Service for convenient embedding of content 200+ services in your website / blog</a></li>
<li><a href="../120692/index.html">The law of the Astrakhan Region ‚ÄúOn the Universal Electronic Card‚Äù was adopted by the Duma in the first reading.</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>