<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>From the installation of AWX to the launch of the first playbook - setting up centralized control Ansible</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="The number of servers in our infrastructure has already exceeded 800, although a year ago there were about 500 . To work with this, Red Hat solutions ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>From the installation of AWX to the launch of the first playbook - setting up centralized control Ansible</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/webt/ww/tw/wh/wwtwwh3edq-fkzaucew35slxxdy.png"><br><br>  The number of servers in our infrastructure has already exceeded 800, although a year ago there were about <a href="https://habrahabr.ru/company/pixonic/blog/325040/">500</a> .  To work with this, Red Hat solutions are widely used.  We have already <a href="https://habrahabr.ru/company/pixonic/blog/325546/">written</a> about FreeIPA - for organizing and managing access for Linux-servers - now I want to touch on the topic of configuration management.  For these purposes, we use Ansible, and more recently AWX has been added to it - a solution presented for six months ago for centralized management of playbooks, their launch schedule, inventory management, server access credentials, and a callback mechanism for requesting configurations from server side. <br><br>  Because of a number of things, we were not immediately able to integrate it with our main project War Robots, but there were plenty of AWX verification fields.  First, the company is developing new projects that need dev / stage-environments and, of course, production-environments in the future.  And recently, a project for internal analytics was added to this, which required a completely new cluster. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      So, let's begin! <a name="habracut"></a><br><br>  AWX was introduced in September 2017 - this is a free <a href="https://github.com/ansible/awx">open source</a> project, distributed under the Apache-2.0 license, which is upstream for the commercial project <a href="https://www.ansible.com/products/tower">Ansible Tower</a> .  In general, this is the same principle as other Red Hat projects: Red Hat Cloud Forms - ManageIQ;  RHEV - Ovirt;  Red Hat Identify Managment - FreeIPA and so on. <br><br>  This article is a guide - from installing AWX to launching the first playbook.  But first, let's list the main features of AWX: <br><br><ul><li>  Integration with version control systems (git / mercurial / subversion). </li><li>  Tracking the status of playbukov in real time. </li><li>  Setting the schedule for the automatic launch of playbukov. </li><li>  Execution of several playbooks within one workflow. </li><li>  Remote execution of commands without playbooks (Ansible ad hoc). </li><li>  Support for callbacks that allow new servers to request configurations from their side. </li><li>  Inventory management for ansibla, including with the ability to integrate with AWS / Azure / OpenStack platforms, etc., as well as support for your own scripts to generate Dynamic Inventory. </li><li>  Flexible access control system.  Integration with LDAP / SAML / Active Directory, etc. </li><li>  Native email / Slack / PagerDuty / HipChat / MatterMost / IRC notification support. </li><li>  Integration with external log aggregation systems: Logstash / Splunk / Loggly / Sumologic. </li></ul><br><h3>  Installation </h3><br>  Currently, several installation options are supported: <br><br><ol><li>  Kubernetes. </li><li>  Openshift </li><li>  Docker / Docker Compose. </li></ol><br>  All of them are described in the <a href="">documentation on GitHub</a> , and for example, consider the option with a clean Docker, since this is the fastest option that does not require additional configuration of OpenShift / Kubernetes. <br><br>  We will install everything on Centos 7. Docker's installation is also described in the <a href="https://docs.docker.com/install/linux/docker-ce/centos/">official documentation</a> , so we will not touch it in the article. <br><br>  Next, we need to install the ansible and docker-py module.  This can be done from pip: <br><br><pre><code class="bash hljs">pip install ansible pip install docker-py</code> </pre> <br>  Clone the AWX repository: <br><br><pre> <code class="bash hljs">git <span class="hljs-built_in"><span class="hljs-built_in">clone</span></span> https://github.com/ansible/awx.git <span class="hljs-built_in"><span class="hljs-built_in">cd</span></span> awx/installer</code> </pre> <br>  Edit the file inventory.  First of all, I recommend correcting the postgres_data_dir variable.  By default, it is equal to / tmp / pgdocker, but if left in this form - after some time, you can lose the postgresql database that AWX uses. <br><br>  If you want to use an external database, specify the variables: <br><br><pre> <code class="bash hljs">pg_hostname pg_username pg_password pg_database pg_port</code> </pre> <br>  After this, run: <br><br><pre> <code class="bash hljs">ansible-playbook -i inventory install.yml</code> </pre> <br>  This command will start the playbook execution, which will load the required docker images and launch the containers directly with AWX and additional components: Postgres, MemCached, RabbitMQ. <br><br>  After the completion of the playbook, we should see the following containers: <br><br><pre> <code class="bash hljs">docker ps CONTAINER ID IMAGE COMMAND CREATED STATUS PORTS NAMES b1bd94f83420 ansible/awx_task:latest <span class="hljs-string"><span class="hljs-string">"/tini -- /bin/sh ..."</span></span> 6 days ago Up 6 days 8052/tcp awx_task abf30fd81335 ansible/awx_web:latest <span class="hljs-string"><span class="hljs-string">"/tini -- /bin/sh ..."</span></span> 6 days ago Up 6 days 0.0.0.0:80-&gt;8052/tcp awx_web b13ee3c7cbb7 memcached:alpine <span class="hljs-string"><span class="hljs-string">"docker-entrypoint..."</span></span> 2 months ago Up 6 days 11211/tcp memcached 3c4cac5a4ce5 rabbitmq:3 <span class="hljs-string"><span class="hljs-string">"docker-entrypoint..."</span></span> 2 months ago Up 6 days 4369/tcp, 5671-5672/tcp, 25672/tcp rabbitmq b717c6019e02 postgres:9.6 <span class="hljs-string"><span class="hljs-string">"docker-entrypoint..."</span></span> 2 months ago Up 6 days 5432/tcp postgres</code> </pre> <br>  You can follow the AWX installation process as follows: <br><br><pre> <code class="bash hljs">docker logs -f awx_task</code> </pre> <br>  AWX will be available at the server address on port 80 (if you did not change the port in the inventory file). <br><br>  Default login and password: <br><br><pre> <code class="bash hljs">Admin:password</code> </pre> <br><h3>  Use and examples </h3><br>  We now turn directly to AWX, but first we will deal a little with how everything is organized. <br><br>  First of all, we are interested in the Projects section.  Projects in AWX terminology means a collection of playbooks that are located locally on a server with AWX or in a repository. <br><br>  Let's create our first Project: <br><br><img src="https://habrastorage.org/webt/vu/x5/fs/vux5fsqhdi3ysx67nhirplwe0lm.png"><br><br>  - Name: the name of the project, let it be firstproject. <br>  - Organization: in AWX, this is the entity that is used to delimit access.  Organization may include inventories, users, user groups, playbooks.  Choose Default. <br>  - SCM TYPE: repository type, can be either a local directory, or one of the version control systems to choose from: git, mercurial, subversion. <br>  - SCM Url: URL for the repository. <br>  - SCM branch / tag / commit: optionally, you can specify the desired branch / tag / commit. <br>  - In the field SCM credentials, you can select the details that will be used to access the repository. <br><br>  You can also check the checkboxes: <br><br>  - Clean: delete all local changes before updating. <br>  - Delete on Update: when updating Project, delete the local copy and reload the new copy of the repository. <br>  - Update on Launch: every time you start a playbook from this Project, update the local copy of the repository to the current version.  It can be used in conjunction with Delete on Update, but this may lead to a longer execution of the playbook, since each time you need to wait for the end of synchronization with the repository. <br><br>  Choose Clean and Update on Launch.  Click Save and after that the creation of our first Project is completed. <br><br>  Go to the Projects section and for our Project, click on the Start an scm update button.  Let's wait for the completion of the first download of our repository (you can monitor the status of the update in the Jobs section). <br><br>  Let's look at the playbook, which is in our repository.  On Habr√© there are many articles in which it is told about Ansible and the structure of his playbooks / roles, therefore we will not detail this moment (here are some articles for example: <a href="https://habrahabr.ru/post/305400/">1</a> , <a href="https://habrahabr.ru/post/304732/">2</a> , <a href="https://habrahabr.ru/company/express42/blog/254959/">3</a> ). <br><br><pre> <code class="bash hljs">firstproject/ ‚îú‚îÄ‚îÄ ansible.cfg ‚îú‚îÄ‚îÄ group_vars/ ‚îú‚îÄ‚îÄ host_vars/ ‚îú‚îÄ‚îÄ roles/ ‚îÇ ‚îî‚îÄ‚îÄ requirements.yml ‚îî‚îÄ‚îÄ run.yml</code> </pre> <br>  AWX files that are located in the root of the firstproject directory are .yml files as playbooks. <br><br>  Contents of the run.yml file: <br><br><pre> <code class="bash hljs">--- - name: Test Role hosts: - all gather_facts: <span class="hljs-literal"><span class="hljs-literal">true</span></span> roles: - roleawx</code> </pre> <br>  That is, we simply start roleawx, after collecting facts.  Hosts we specify all as it is possible to specify hosts and host of group in AWX. <br><br>  Next interesting point is the contents of the roles / requirements.yml file: <br><br><pre> <code class="bash hljs">- src: git@gitlab.example.com:ansible-roles/roleawx.git scm: git</code> </pre> <br>  When synchronizing Project, AWX will install all roles into the roles directory in accordance with the requirements.yml file.  In this case, it will establish the roleawx role from the git repository. <br><br>  Create a role using the command: <br><br><pre> <code class="bash hljs">ansible-galaxy init roleawx</code> </pre> <br>  The role structure will be as follows: <br><br><pre> <code class="bash hljs">roleawx/ ‚îú‚îÄ‚îÄ README.md ‚îú‚îÄ‚îÄ defaults ‚îÇ ‚îî‚îÄ‚îÄ main.yml ‚îú‚îÄ‚îÄ files ‚îú‚îÄ‚îÄ handlers ‚îÇ ‚îî‚îÄ‚îÄ main.yml ‚îú‚îÄ‚îÄ meta ‚îÇ ‚îî‚îÄ‚îÄ main.yml ‚îú‚îÄ‚îÄ tasks ‚îÇ ‚îî‚îÄ‚îÄ main.yml ‚îú‚îÄ‚îÄ templates ‚îú‚îÄ‚îÄ tests ‚îÇ ‚îú‚îÄ‚îÄ inventory ‚îÇ ‚îî‚îÄ‚îÄ test.yml ‚îî‚îÄ‚îÄ vars ‚îî‚îÄ‚îÄ main.yml</code> </pre> <br>  Contents of tasks / main.yml file: <br><br><pre> <code class="bash hljs">--- <span class="hljs-comment"><span class="hljs-comment"># tasks file for roleawx - name: Test Message debug: msg: "AWX and Ansible"</span></span></code> </pre> <br>  To start, just display the message ‚ÄúAWX and Ansible‚Äù. <br><br>  Note that in order for AWX to automatically install the roles specified in the requirements.yml file, the meta / main.yml file must be correctly formed in the role itself (if you created a template for the role using an ansible-galaxy init, then with meta / main .yml is fine and AWX will be able to load this role). <br><br>  So, we have a repository with a playbook, there is a repository with a role.  And we also have several virtual machines with addresses 192.168.10.233, 192.168.10.234 and 192.168.10.239. <br><br>  Before launching our playbook, we need to ensure that Ansible can get from our AWX server to our hosts (in our case via SSH).  We can specify passwords directly in the variables inside the playbook, but this is not interesting.  AWX is able to manage the details for access to the servers and we will use this. <br><br>  Go to the Credentials tab and click the Add button: <br><br><img src="https://habrastorage.org/webt/su/ih/98/suih98rhqp4fbyak8m0mszxzzai.png"><br><br>  - Name: specify the name for our details. <br>  - Credential Type: here you can select the type of details.  We are interested in Machine to use them to access our servers.  In addition, AWX offers many different types of access details that can be used to integrate with various services such as scm (git, svn, mercurial), Red Hat Insight, AWS, Azure, Red Hat Satellite, RHEV, Vmware, OpenStack.  You can also create your own credentials types. <br>  - Username: choose root. <br>  - Password: leave blank, since we will use access by key. <br>  - PRIVATE KEY PASSPHRASE: password for the key, if the key is created with a password.  In our case, the key is without a password, so the field is left blank. <br>  - PRIVILEGE ESCALATION METHOD: privilege elevation method.  For example: sudo, su, pfexec, etc. <br>  - PRIVILEGE ESCALATION USERNAME: the user under which Ansible should receive privileges. <br>  - PRIVILEGE ESCALATION PASSWORD: password for privilege escalation. <br><br>  We will leave the fields associated with the escalation of privileges empty, since we will be logged in as root. <br><br>  Please note: a number of fields have the Prompt on launch checkbox.  When you activate this checkbox, you will be asked to fill in the corresponding field manually each time you start the playbook with which these details are associated.  Thus, it is possible not to save the password inside AWX, but to request it every time a playbook is launched. <br><br>  So, we created Project and details for access to servers.  Now we need Inventory. <br><br>  Go to the Inventory section, click the Add button.  The choice will be asked to create: <br><br>  - Inventory: normal Inventory. <br>  - Smart Inventory: allows you to generate inventory based on existing hosts, based on any parameters, for example, the type of operating system. <br><br>  Create a regular inventory: <br><br><img src="https://habrastorage.org/webt/do/62/zt/do62ztdla2chffmzpmbmqmtjws4.png"><br><br>  - In the Name field specify the name. <br>  - Select the Default Organization. <br>  - In the Variables field, you can specify variables that will later be available from the playbook. <br><br>  We try to specify: <br><br><pre> <code class="bash hljs">--- awxinvvar: <span class="hljs-string"><span class="hljs-string">"Test"</span></span></code> </pre> <br>  The remaining tabs are inactive until we save our Inventory. <br><br>  Save and return to the Inventory section.  Our inventory appeared in the list.  Go to it: after creating the top tabs have become active. <br><br>  - Permissions: control over which user or user group has access to Inventory. <br>  - Groups: list of host groups. <br>  - Hosts: list of hosts. <br>  - Sources: a list of sources for Inventory.  You can unload inventory from AWS / Azure / OpenStack / RHEV and a number of other services, you can specify the inventory file that is inside our Project or you can specify your own script as the source, which generates Dynamic Inventory. <br>  - Completed Jobs: list of running playbooks associated with hosts from the current Inventory. <br><br>  We fill our inventory with hands, as we have few hosts.  Go to the Hosts tab and create several hosts: <br><br><img src="https://habrastorage.org/webt/8o/u_/uk/8ou_ukqsirxmkn7rvfc3bgmxwqw.png"><br><br>  - In the Host Name field, you can specify the IP address of the server or its DNS name. <br>  - In the Variables field, we try to override the awxinvvar variable for one of our hosts: <br><br><pre> <code class="bash hljs">--- awxinvvar: <span class="hljs-string"><span class="hljs-string">"Host1"</span></span></code> </pre> <br>  After creating the hosts, go to the Groups tab and create groups for our hosts: <br><br><img src="https://habrastorage.org/webt/ni/gg/t_/niggt_yc4xlzhemflhtfrf3y8r8.png"><br><br>  In the same way, we specify the name of the group and override the variable awxinvvar for one of the groups. <br><br>  Go back to the Hosts tab, select one of the hosts from the list, go to the Groups tab for this host and click Associate Group: <br><br><img src="https://habrastorage.org/webt/f6/6t/m7/f66tm76tss26ukyrowflgslk-j4.png"><br><br>  In the Hosts tab, you can now see which groups each host is in: <br><br><img src="https://habrastorage.org/webt/5y/_x/0v/5y_x0vveun9lbbmcnvfcdrsanbo.png"><br><br>  By the way, the Run command button is also available on the Hosts and Groups tabs.  This is an analogue of <a href="http://docs.ansible.com/ansible/latest/user_guide/intro_adhoc.html">ad-hoc commands</a> in Ansible, which allow you to perform actions on remote hosts, without a playbook. <br><br>  Let's try.  Select our hosts from the list, select the SSH access key that we created earlier and try to execute the date command using the shell module: <br><br><img src="https://habrastorage.org/webt/gp/km/bd/gpkmbdv2bqqej6ix7aeaalbjvr8.png"><br><br>  Click Launch.  We should be transferred to a page where we can monitor the implementation in real time.  Also, all startups of playbooks / ad-hoc commands are visible in the Jobs section. <br><br><img src="https://habrastorage.org/webt/pw/rh/cb/pwrhcbcnfyyfcxmy5nokqagdflm.png"><br><br>  Our ad-hoc team successfully completed. <br><br>  Let's now try to run our playbook.  Go to the Templates section, click the Add button, select the Job Template. <br><br>  In terminology, AWX Template is a set of parameters that are used to launch a playbook.  In the minimum form, you must specify the name of the template, select the project, select the playbook, select inventory. <br><br>  Template creation looks like this: <br><br><img src="https://habrastorage.org/webt/4o/4d/si/4o4dsictigtghc15fbmgnzy06-4.png"><br><br>  - Name and Description: the name and description of the template. <br>  - Job Type: Run or Check.  That is, starting the playbook or just checking the playbook (dry-run) without making changes. <br>  - Inventory: Inventory with which the playbook will be launched. <br>  - Project and Playbook: designed to select a Project with playbooks and a specific playbook from Project. <br>  - Limit: list of hosts and groups on which the playbook will be launched. <br>  - Verbosity: how much detail Ansible will output the result of execution (analogue of the keys -v -vv -vvv). <br>  - Job tags: list of tags - tasks that should be run.  If not specified, all tasks described in the roles will be performed. <br>  - Skip tags: list of tags - tasks that will not be performed. <br>  - Labels: tags that will be associated with this template.  Can be used to filter in the AWX itself. <br>  - Show diff: show the changes that Ansibl makes (the analog of the --diff key). <br><br>  Save the project, go back to the Templates section, and launch our playbook (the button is in the form of a rocket): <br><br><img src="https://habrastorage.org/webt/yc/qe/_z/ycqe_zd3zans2-ukzxxxt6xflvc.png"><br><br>  Hooray, our playbook started, loaded the necessary roles and successfully worked.  By the way, on the same page you can download the result of the playbook.  It is also possible to search for the output of the playbook. <br><br>  Remember we added the awxinvvar variable in several places?  Let's try to bring it in and see what happens. <br><br>  We add the following to our role in the tasks / main.yml file: <br><br><pre> <code class="bash hljs"> - name: Print var debug: msg: <span class="hljs-string"><span class="hljs-string">"{{ awxinvvar }}"</span></span></code> </pre> <br>  And again we launch our template. <br><br><img src="https://habrastorage.org/webt/pt/yb/fs/ptybfsxtqpc3k8yxiez14nyzm2e.png"><br><br>  Playbook sees our variable, which we defined in the Inventory and correctly redefines it in accordance with the <a href="http://docs.ansible.com/ansible/latest/user_guide/playbooks_variables.html">priority of the use of variables</a> . <br><br>  Variables, by the way, can also be stored in the repository in the host_vars group_vars directories, if that‚Äôs convenient for you.  However, in this case, they will not be displayed in the Inventory in the AWX. <br><br><h3>  Instead of conclusion </h3><br>  AWX we have been using for several months and for now everything suits us.  Of course, since this is a new project, we occasionally meet with various kinds of problems (mostly minor bugs in the interface), but they are not critical and do not interfere with work. <br><br>  <i>Note: New releases are now coming out often and there may be problems when updating.</i>  <i>Make backups!</i> <br><br>  This manual is written to familiarize you with the basic features of AWX, and if it‚Äôs interesting, we‚Äôll write about additional useful features, such as integration with sources for Dynamic Inventory, callback mechanism, etc. <br><br>  PS This is, by the way, our AWX dashboard, which we use for a part of the infrastructure: <br><br><img src="https://habrastorage.org/webt/0y/os/op/0yosop_jolgxh-xhcsjk1pbcjf0.png"></div><p>Source: <a href="https://habr.com/ru/post/352184/">https://habr.com/ru/post/352184/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../352174/index.html">FPGA accelerators go to the clouds</a></li>
<li><a href="../352176/index.html">When the actor framework turns into a ‚Äúblack box‚Äù and what can we do about it?</a></li>
<li><a href="../352178/index.html">All according to GOST. Information security when using virtualization technologies</a></li>
<li><a href="../352180/index.html">Patch from Meltdown led to a more critical vulnerability Windows 7x64 / 2008R2</a></li>
<li><a href="../352182/index.html">Validation of email addresses to protect against spam bots on the site</a></li>
<li><a href="../352186/index.html">Cache problems and solutions</a></li>
<li><a href="../352188/index.html">Camel in questions and answers</a></li>
<li><a href="../352190/index.html">Divide and conquer: demarcation of access to the records of conversations</a></li>
<li><a href="../352192/index.html">How to become a GPU engineer in an hour</a></li>
<li><a href="../352194/index.html">How to grow from a junior tester into a good tester? Continuation</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>