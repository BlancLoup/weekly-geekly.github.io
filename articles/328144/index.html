<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Docker containers slightly increase server power consumption</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Power consumption of a computer with Linux OS and Docker service without any load (without loading the container) 

 Virtualization offers many benefi...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Docker containers slightly increase server power consumption</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/web/a23/7ea/75e/a237ea75edca4f47bf12a8e07c42a291.png"><br>  <font color="gray">Power consumption of a computer with Linux OS and Docker service without any load (without loading the container)</font> <br><br>  Virtualization offers many benefits, especially for isolating processes and controlling resources.  Deploying software has never been easier with images of a complete and configured system.  The work of the hypervisor for virtual machines meant the simultaneous operation of two cores of the operating system.  Therefore, a lightweight alternative to virtual machines has emerged - containers that are now rapidly replacing virtual machines as the most optimal way of virtualization. <br><br>  Since two operating system cores do not work in containers at the same time as in virtual machines, it would seem that they should have the same power consumption as with a normal operating system.  But it is not.  <a href="https://arxiv.org/abs/1705.01176">Comparative testing of Linux and Docker</a> showed that the power consumption of Docker containers is slightly higher. <br><a name="habracut"></a><br>  Experts from the Computer Science Department at the University of Alberta (Canada) compared the power consumption of servers with standard Docker containers and Linux servers for the same tasks.  To run tasks on the test server and to record the measurement results, a separate machine (test runner) of the Dell PowerEdge R710 of the same hardware configuration was used. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <div style="text-align:center;"><img src="https://habrastorage.org/web/b8a/8f2/733/b8a8f273390f4f509f5ebcc3607026ec.png"></div><br>  <b>Dell PowerEdge R710 Test Server Hardware Configuration:</b> <br><br><ul><li>  Processor: 2 six-core Intel Xeon X5670 at a clock frequency of 2.93 GHz </li><li>  RAM: 72 GB ECC DDR3 </li><li>  Network: Gigabit Ethernet </li><li>  Storage: 146 GB SAS hard drive at 15000 rpm </li><li>  Power supply: 870 W (120 V, 12A at 60 Hz) </li></ul><br>  <b>Software versions on the test server:</b> <br><table><tbody><tr><th>  Software </th><th>  Version </th><th>  Docker image </th></tr><tr><td>  Distributive </td><td>  Ubuntu Server 16.04.1 LTS </td><td></td></tr><tr><td>  Core </td><td>  Linux 4.4.0 </td><td></td></tr><tr><td>  Docker </td><td>  1.12.1 </td><td></td></tr><tr><td>  Apache </td><td>  2.4.10 </td><td>  php: 5.6-apache </td></tr><tr><td>  Php </td><td>  5.6.24 </td><td>  php: 5.6-apache </td></tr><tr><td>  Mysql </td><td>  5.7.15 </td><td>  mysql: 5.7.15 </td></tr><tr><td>  Wordpress </td><td>  4.6.0 </td><td>  wordpress: 4.6-apache </td></tr><tr><td>  Redis </td><td>  3.2.3 </td><td>  redis: 3.2.3 </td></tr><tr><td>  PostgreSQL </td><td>  9.5.4 </td><td>  postgres: 9.5.4 </td></tr></tbody></table><br>  Energy consumption measured wattmeter.  This is the most objective test, because this is how the total consumption of the system is measured - the processor, memory, network, and even the overhead of the power supply.  Wattmeter gives the average value every second (RMS).  As <a href="http://dl.acm.org/citation.cfm%3Fid%3D2002193">practice has shown</a> , such accuracy is sufficient for correct measurements.  The data was recorded by a modified version of the program <a href="https://github.com/yyongpil/wattsup">yyongpil's wattsup</a> . <br><br>  To begin with, the power consumption of a computer running Linux and Docker service was measured as a ‚Äúbaseline‚Äù level without any load (without loading the container).  During each test, the server worked without load for 10 minutes, and the test was repeated 40 times.  The results are shown in the very first diagram in the article.  Increased power consumption is caused by the dockerd background process.  This server, written in the Go programming language, wakes up periodically, even if there is not a single running container.  The study showed that it calls various Go functions for garbage collection and scheduling (runtime.findrunnable, runtime.scanobject, runtime.heapBitsForObject, runtime.greyobject). <br><br>  Then, the researchers sequentially launched under Linux and in the container three tasks Redis, WordPress and PostgreSQL - and processed the results using various statistical methods.  Graphically, the results are most clearly shown as violin charts and density maps.  Violin charts well illustrate the statistical distribution of indicators.  For example, this is the graph for Linux and Docker without load. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/web/acf/62f/e47/acf62fe4732e4a099fa7ca93fd43ad88.png"></div><br>  But the violin chart for the test with WordPress. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/web/a23/2ef/0e4/a232ef0e434944a89bf2f7fe4544adaf.png"></div><br>  And the density map for it is the same, which also shows the distribution of the load and energy consumption over time. <br><br><img src="https://habrastorage.org/web/6e3/e4b/01d/6e3e4b01d5a348f6b40f8b5e697a1e4d.png"><br><br>  As you can see, in the case of the WordPress task, the difference in energy consumption is also great.  In this test, a blog was generated using WP Example Content Plugin 1.3, and then the HTTP load was simulated using Tsung 1.6.0. <br><br>  For PostgreSQL, the difference in power consumption is not so noticeable, but in the case of Redis, the situation is aggravated by the fact that in the Docker container the test took more time to complete. <br><br>  Violin chart for Redis. <br><br><img src="https://habrastorage.org/web/780/2a8/84a/7802a884aa594af88d8e3aa36f2ee792.png"><br><br>  Density map for it. <br><br><img src="https://habrastorage.org/web/0b6/9c8/a61/0b69c8a613e8498e94f2bd894b28dda9.png"><br><br>  The work of all the tests took a total of 2 days and 20 hours, but the researchers managed to collect comprehensive and objective statistics.  It turned out that simply running the dockerd background process without performing tasks increases the power consumption by 2 watts.  Further, in the case of Redis and WordPress, the increase in power consumption is largely due to a decrease in performance.  Since the work is done in a container, it takes more time, which leads to an increase in overall energy consumption. <br><br>  Researchers emphasize that using containers should take into account increased energy consumption.  But it should be remembered about the big savings in maintenance and support of containers, compared with the usual software installations on the server.  The benefits of convenience and time savings can greatly outweigh the losses on energy consumption, especially since these losses are not that disastrous, and one can say, minimal. <br><br>  The scientific work was <a href="https://arxiv.org/abs/1705.01176">published</a> on May 2, 2017 on the site of preprints arXiv.org (arXiv: 1705.01176). </div><p>Source: <a href="https://habr.com/ru/post/328144/">https://habr.com/ru/post/328144/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../328126/index.html">Parallels Mac Management: Transition Difficulties</a></li>
<li><a href="../328128/index.html">Quake 2 source code overview</a></li>
<li><a href="../328130/index.html">Pygest # 8. Releases, articles, interesting projects from the world of Python [April 11, 2017 - May 7, 2017]</a></li>
<li><a href="../328134/index.html">Recovering data from damaged RAID 5 to Linux NAS</a></li>
<li><a href="../328138/index.html">Neuroculture Part 0. Or neuro-free chicken coop</a></li>
<li><a href="../328146/index.html">A simple model of the adaptive Kalman filter by means of Python</a></li>
<li><a href="../328148/index.html">BK-0010 emulator on FPGA - part 2</a></li>
<li><a href="../328152/index.html">As I wrote my Redux</a></li>
<li><a href="../328156/index.html">How Studying Smalltalk Can Improve Your Programming Skills</a></li>
<li><a href="../328158/index.html">As we did a short-term forecast of precipitation. Lecture in Yandex</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>