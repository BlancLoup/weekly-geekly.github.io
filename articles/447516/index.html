<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>How we dispersed CAD KOMPAS-3D ‚Üí Part 2</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="In the last part, we talked about the emergence of KOMPAS-3D v18, something about the selection of criteria and models for testing new functions, and ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>How we dispersed CAD KOMPAS-3D ‚Üí Part 2</h1><div class="post__text post__text-html js-mediator-article">  In the <a href="https://habr.com/ru/company/ascon/blog/444714/">last part,</a> we talked about the emergence of KOMPAS-3D v18, something about the selection of criteria and models for testing new functions, and also touched upon the theme of rendering in the Basic version. <br>  Let's continue with the story about the version of the drawing ‚ÄúSuperior‚Äù. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/rg/eh/lx/rgehlxcmqgdhw0tfwtdl_ajgyp8.jpeg"></div><a name="habracut"></a><br><h1>  <font color="#00B2FF">Draw calls</font> </h1><blockquote> <a href=""><img align="right" src="https://habrastorage.org/webt/ld/gb/19/ldgb19esjt6fk41auvk5dirjluy.png"></a>  <b>Alexander Tulup, programmer:</b> <br>  ‚ÄúThe main performance problem of displaying large scenes is associated with a large number of so-called‚Äú drawing calls ‚Äù.  The old version of rendering is built on top of a mathematical data model.  Thus, for each primitive ‚Äî points, edges, faces ‚Äî a separate method was called for its display. <br><br>  For each ‚Äúdraw call‚Äù <a href="https://ru.wikipedia.org/wiki/OpenGL">OpenGL</a> (driver) performs a series of checks, simultaneously translating incoming commands in a format that is understandable to the video card, after which the calls are added to the queue and from there they are sent for execution. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <img src="https://habrastorage.org/webt/ei/rd/on/eirdonw__vgqgxcuby2kfglkm9c.png"><br>  <i>GPU Command Transfer Scheme in OpenGL ( <a href="http://developer.download.nvidia.com/gameworks/events/GDC2016/Vulkan_Essentials_GDC16_tlorach.pdf">source</a> )</i> <br><br>  With a large number of details, the number of calls to the CPU grows so much that the data simply do not have time to go to the video card.  We get a situation where on a very strong video card it ‚Äúslows down‚Äù as well as on a medium or weaker one. <br><br>  You can fight this by reducing the number of drawings (state changes) - group by material, combine common geometry ( <a href="https://ru.wikipedia.org/wiki/Geometry_Instancing">instancing</a> ), and so on. <br><br>  We should not forget that from the whole scene we see only a part of it.  The <a href="https://en.wikipedia.org/wiki/Hidden-surface_determination">algorithms for detecting invisible objects are</a> applicable here (frustum culling, occlusion culling, etc.) <br><br>  Inspired by the example of <a href="http://www.openglsuperbible.com/2013/10/16/the-road-to-one-million-draws/">The Road to One Million Draws</a> and <a href="https://www.youtube.com/watch%3Fv%3DK70QbvzB6II">AZDO</a> , we decided to take a rather unusual way: to get rid of the state changes on the CPU side as much as possible.  Now almost everything is done on the video card.  All the necessary attributes are obtained directly from the video memory while drawing from the shader itself ( <a href="https://ru.wikipedia.org/wiki/%25D0%25A8%25D0%25B5%25D0%25B9%25D0%25B4%25D0%25B5%25D1%2580">shader</a> ), which was made possible by the increase in the amount of video memory ( <a href="https://ru.wikipedia.org/wiki/VRAM">VRAM</a> ) and the advent of <a href="https://www.khronos.org/opengl/wiki/Shader_Storage_Buffer_Object">SSBO</a> . <br><br><img src="https://habrastorage.org/webt/ta/is/xf/taisxf8tjdkcztftev7mbuvxi2m.png"><br>  <i>1,000,000 cubes</i> <br><br>  From the advantages of this approach: the display speed has become really high.  The speed is limited only by the capabilities of the GPU, namely the amount of data it is capable of processing. <br><br>  It also made it possible to effectively implement the mechanisms for cutting off invisible objects.  The results of the visibility check are recorded directly into the video memory, and drawing commands are formed from there on the basis of them.  That is, it is not necessary to wait on the CPU side. <br><br>  One of the main disadvantages of this approach is the high complexity of the development.  Much has to be implemented again, taking into account the chosen approach.  In addition, we often had to deal with a situation where the same shader code worked differently or did not work at all on video cards from different manufacturers.  Often this was ‚Äúcured‚Äù by updating the driver, but sometimes after a long debugging it was necessary to rewrite the code. <br><br>  Naturally, the requirements for the video card also increased.  OpenGL 4.5 support is key, but not the only requirement. </blockquote>  Below are the results of the rendering speed during rotation of the assembly.  Recall that 24 frames per second (fps) are considered comfortable indicators for the human eye. <br><blockquote>  <b>Hereinafter, measurements were performed on a PC with the following configuration:</b> <br>  CPU: Intel Core i7-6700K 4.00 GHz <br>  RAM: 32 Gb <br>  GPU: NVidia Quadro P2000 <br>  OS: Microsoft Windows 10 x64 Professional </blockquote>  <i>Table 1. Frame rate (number of frames per second, fps) on various models.</i>  <i>More is better.</i>  <i>Display Mode: Halftone + Frame, Simplified Mode Off, Smoothing: Medium (MSAA 8x)</i> <br><table><tbody><tr><td rowspan="2">  <b>Model</b> </td><td rowspan="2">  <b>amount</b> <b><br></b>  <b>components</b> </td><td colspan="3">  <b>Frame rate, fps</b> </td></tr><tr><td>  <b>V16.1</b> </td><td>  <b>v17.1</b> </td><td>  <b>v18</b> </td></tr><tr><td><img src="https://habrastorage.org/webt/ls/hl/6s/lshl6shv12lncujsabab3t5ed1c.png" alt="image"><br>  <a href="http://best.ascon.ru/gallery/24045/">A machine</a> <a href="http://best.ascon.ru/gallery/24045/"><br></a>  <a href="http://best.ascon.ru/gallery/24045/">mosaic grinding</a> <br></td><td>  2764 </td><td>  4.1 </td><td>  4.7 </td><td>  <b>124.9</b> </td></tr><tr><td><img src="https://habrastorage.org/webt/_d/4j/bn/_d4jbnztqcslsnedjtneaudg3ey.png"><br>  <a href="http://best.ascon.ru/gallery/23004/">PGU-410</a> </td><td>  108337 </td><td>  0.3 </td><td>  0.4 </td><td>  <b>28.6</b> </td></tr><tr><td><img src="https://habrastorage.org/webt/w6/nm/m5/w6nmm5nt369jn5vldy_5faa2iii.png"><br>  <a href="http://best.ascon.ru/gallery/25013/">Wagon tipper</a> </td><td>  17342 </td><td>  1.1 </td><td>  1.4 </td><td>  <b>124.7</b> </td></tr><tr><td><img src="https://habrastorage.org/webt/vb/qs/xz/vbqsxzx8qc1gj8isnfdynncvhy0.png"><br>  <a href="http://edu.ascon.ru/main/competition/gallery/items/%3Fbm_id%3D56082">Trolley bus</a> </td><td>  9783 </td><td>  1.9 </td><td>  2.4 </td><td>  <b>124.9</b> </td></tr><tr><td><img src="https://habrastorage.org/webt/wp/bv/jm/wpbvjmjl094bur5ajdkwgpjf7z8.png"><br>  <a href="http://best.ascon.ru/gallery/18042/">North tidal</a> <a href="http://best.ascon.ru/gallery/18042/"><br></a>  <a href="http://best.ascon.ru/gallery/18042/">power station</a> </td><td>  48445 </td><td>  0.3 </td><td>  0.5 </td><td>  <b>76.1</b> </td></tr><tr><td><img src="https://habrastorage.org/webt/s2/mg/lv/s2mglv84fvskfbb_x-qxojpdx4o.png"><br>  <a href="http://best.ascon.ru/gallery/18034/">Installation</a> <a href="http://best.ascon.ru/gallery/18034/"><br></a>  <a href="http://best.ascon.ru/gallery/18034/">vacuum technology</a> </td><td>  7189 </td><td>  1.9 </td><td>  2.3 </td><td>  <b>124.9</b> </td></tr><tr><td><img src="https://habrastorage.org/webt/uj/vz/m2/ujvzm20hrhc5-r5ohmqnmeea7kw.png"><br>  <a href="http://best.ascon.ru/gallery/21003/">Ship Reducer</a> <a href="http://best.ascon.ru/gallery/21003/"><br></a>  <a href="http://best.ascon.ru/gallery/21003/">power plant</a> </td><td>  6414 </td><td>  2.6 </td><td>  3.6 </td><td>  <b>123.9</b> </td></tr></tbody></table><br><br><h3>  <font color="#00B2FF">Adding components to a large assembly</font> </h3><br>  The scenario with the addition of components to a larger assembly eventually evolved into the so-called complex test, which is described in Table 2. <br><br>  <i>Table 2. Scenario with adding components to a larger assembly.</i>  <i>Testing criteria</i> <br><table><tbody><tr><td>  <b>Criterion</b> </td><td>  <b>Criterion Description</b> </td></tr><tr><td>  File opening speed </td><td>  <i>Components to be added to the assembly need to be loaded from disk.</i> </td></tr><tr><td>  Drawing speed </td><td>  <i>The assembly and the component to be inserted must be positioned; to do this, you need to rotate / move / zoom the image</i> </td></tr><tr><td>  Object selection speed </td><td>  <i>To create mates, you need to select basic objects: faces, planes, edges, etc.</i> </td></tr><tr><td>  Synchronization speed with the construction tree </td><td>  <i>The component added to the assembly and its mates must be represented in the construction tree</i> </td></tr><tr><td>  Synchronization rate with the specification module </td><td>  <i>The component added to the assembly must be taken into account in the specification.</i> </td></tr></tbody></table><br>  In the table you can see the points (drawing, opening), which from the very beginning were chosen as separate directions of accelerations.  But improvements required other components. <br><br>  Significant time occupied by synchronization with the tree.  We solved the problem by implementing its partial update. <br><br>  Another difficulty was the significant effect of specification characteristics on the performance of KOMPAS-3D.  In some integrated test scenarios, this component was basic (50% or more). <br><div class="spoiler">  <b class="spoiler_title">Specification</b> <div class="spoiler_text"><blockquote>  The specification is a module of the KOMPAS-3D system, which is responsible for the formation of the design document of the same name.  It is developed by a separate team. <br><br>  In particular, the team accelerated synchronization when inserting by reworking the internal mechanisms of the specification module. </blockquote><br></div></div><br><h3>  <font color="#00B2FF">Some results</font> </h3><br>  Add components to the assembly "Ship Power Plant Reducer". <br><br><img src="https://habrastorage.org/webt/oh/zs/d-/ohzsd-w4xu3jcz-zko7iein1t8g.png"><br>  <i>Comprehensive test for the assembly of the "Reducer of the ship power plant."</i> <i><br></i>  <i>Figures show: 1 - bracket, 2 - washer, 3 - bolt.</i> <br><br>  <i>Table 3. Time to insert components into a large assembly in seconds.</i>  <i>Less is better.</i> <br><table><tbody><tr><td rowspan="2">  <b>Component</b> </td><td colspan="2" rowspan="2">  <b>Act</b> </td><td colspan="3">  <b>Time with</b> </td></tr><tr><td>  <b>V16.1</b> </td><td>  <b>v17.1</b> </td><td>  <b>v18</b> </td></tr><tr><td rowspan="13">  Insert <br>  component <br>  Bracket <br><br><img src="https://habrastorage.org/webt/0_/uh/gz/0_uhgzadc0r1vpwsjdijjrsx-qa.png"></td><td colspan="2">  Loading </td><td>  <b>2.0</b> </td><td>  3.0 </td><td>  2.2 </td></tr><tr><td colspan="2">  Switch to mate mode </td><td>  0.6 </td><td>  0.4 </td><td>  0.4 </td></tr><tr><td rowspan="3">  First mate </td><td>  Select the first object </td><td>  0.4 </td><td>  1.0 </td><td>  <b>0.2</b> </td></tr><tr><td>  Select the second object </td><td>  0.5 </td><td>  1.1 </td><td>  <b>0.2</b> </td></tr><tr><td>  Select the desired mate </td><td>  3.8 </td><td>  3.6 </td><td>  <b>1.0</b> </td></tr><tr><td rowspan="3">  Second mate </td><td>  Select the first object </td><td>  0.5 </td><td>  1.4 </td><td>  0.5 </td></tr><tr><td>  Select the second object </td><td>  0.5 </td><td>  1.4 </td><td>  <b>0.2</b> </td></tr><tr><td>  Select the desired mate </td><td>  3.6 </td><td>  3.0 </td><td>  <b>1.2</b> </td></tr><tr><td rowspan="3">  Third mate </td><td>  Select the first object </td><td>  0.5 </td><td>  0.5 </td><td>  0.5 </td></tr><tr><td>  Select the second object </td><td>  0.3 </td><td>  1.1 </td><td>  0.3 </td></tr><tr><td>  Select the desired mate </td><td>  3.7 </td><td>  3.2 </td><td>  <b>1.1</b> </td></tr><tr><td colspan="2">  Confirm Insert Creation </td><td>  7,8 </td><td>  5.2 </td><td>  <b>2.3</b> </td></tr><tr><td colspan="2">  Total insert kronshteyna </td><td>  24.2 </td><td>  24.6 </td><td>  <b>10.1</b> </td></tr><tr><td rowspan="4">  Insert <br>  washers <br>  from the library <br>  standard <br>  products <br><br><img src="https://habrastorage.org/webt/ch/hm/6g/chhm6g-guxcbwvetqsd5teyb3os.png"><br><br></td><td colspan="2">  Select first mate </td><td>  6.4 </td><td>  2.4 </td><td>  <b>0.4</b> </td></tr><tr><td colspan="2">  Select the second pairing </td><td>  4.2 </td><td>  3.1 </td><td>  <b>0.4</b> </td></tr><tr><td colspan="2">  Confirm Insert Creation </td><td>  15.7 </td><td>  9.2 </td><td>  <b>4.4</b> </td></tr><tr><td colspan="2">  Totally to insert the puck </td><td>  26.3 </td><td>  14.7 </td><td>  <b>5.2</b> </td></tr><tr><td rowspan="13">  Insert <br>  the bolt <br><br><img src="https://habrastorage.org/webt/14/lp/ro/14lproscfkxs7g82wmaemf0ncbe.png"></td><td colspan="2">  Loading </td><td>  2.0 </td><td>  2.7 </td><td>  2.0 </td></tr><tr><td colspan="2">  Switch to mate mode </td><td>  0.5 </td><td>  0.5 </td><td>  0.5 </td></tr><tr><td rowspan="3">  First mate </td><td>  Select the first object </td><td>  0.4 </td><td>  1.0 </td><td>  <b>0.2</b> </td></tr><tr><td>  Select the second object </td><td>  0.4 </td><td>  1.1 </td><td>  <b>0.2</b> </td></tr><tr><td>  Select the desired mate </td><td>  3.4 </td><td>  2.7 </td><td>  <b>1.0</b> </td></tr><tr><td rowspan="3">  Second mate </td><td>  Select the first object </td><td>  0.4 </td><td>  1.2 </td><td>  0.4 </td></tr><tr><td>  Select the second object </td><td>  0.5 </td><td>  0.5 </td><td>  <b>0.4</b> </td></tr><tr><td>  Select the desired mate </td><td>  3.7 </td><td>  2.9 </td><td>  <b>1.0</b> </td></tr><tr><td rowspan="3">  Third mate </td><td>  Select the first object </td><td>  0.5 </td><td>  1.0 </td><td>  0.5 </td></tr><tr><td>  Select the second object </td><td>  0.5 </td><td>  1.0 </td><td>  <b>0.2</b> </td></tr><tr><td>  Select the desired mate </td><td>  4.2 </td><td>  3.9 </td><td>  <b>1.2</b> </td></tr><tr><td colspan="2">  Confirm Insert Creation </td><td>  32.5 </td><td>  5.4 </td><td>  <b>2.2</b> </td></tr><tr><td colspan="2">  Total for bolt insertion </td><td>  49 </td><td>  21.2 </td><td>  <b>9.8</b> </td></tr><tr><td colspan="3">  <i><b>Totally insert three components</b></i> </td><td>  <i>99.5</i> </td><td>  <i>60.5</i> </td><td>  <b><i>25.1</i></b> </td></tr></tbody></table><br><br>  A comprehensive test can be viewed as one of the assembly editing scenarios (among the common ones). <br><br>  In addition, the rebuilding of assemblies has accelerated.  Now, if you edit any operation, a complete rebuilding of the entire assembly will not occur - only the changed objects will be updated.  To determine dependent operations, i.e., those operations, the result of which could be affected by the result of a modified operation, a special algorithm is used that builds connections between operations, bodies and inserts. <br><br><h3>  <font color="#00B2FF">Opening assemblies</font> </h3><br>  The main idea to increase the speed of reading files is to make KOMPAS-3D read only what the user needs at the moment. <br><br>  For example: <br><br><ul><li>  read only the current execution for assembly inserts, </li><li>  for download types, read only the necessary information: triangulation or triangulation + results ( <a href="https://ru.wikipedia.org/wiki/%25D0%2593%25D1%2580%25D0%25B0%25D0%25BD%25D0%25B8%25D1%2587%25D0%25BD%25D0%25BE%25D0%25B5_%25D0%25BF%25D1%2580%25D0%25B5%25D0%25B4%25D1%2581%25D1%2582%25D0%25B0%25D0%25B2%25D0%25BB%25D0%25B5%25D0%25BD%25D0%25B8%25D0%25B5">B-rep</a> ). </li></ul><br>  All this required the refinement of the data structure in the file so that it could be read into individual parts. <br><br><blockquote><a href=""><img align="right" src="https://habrastorage.org/webt/br/cu/ku/brcukuey6fmjicbcsx2tibjhjhw.png"></a>  <b>Anton Sidyakin, programmer, teamlead:</b> <br><br>  ‚ÄúFor some time the KOMPAS-3D file has been an archive that combines several service files.  One of them contains data on the model / assembly document organized in a tree structure.  The ability to navigate through this structure has already been.  For partial reading it was necessary to ensure the independence of the parts from each other.  Thus, the received parts should not refer to each other, otherwise the part with the reference would become ‚Äúincomplete‚Äù. <br><br>  As a result, for details, it was possible to separate performances from the document and from each other.  In assemblies, the container of inserts and mates is highlighted separately.  Inside the performances, it also turned out to separate the source data for the construction and the results in the form of triangulation and bodies. <br><br><img src="https://habrastorage.org/webt/yh/h3/kc/yhh3kchzbyacjohgjlzvu1laoz4.png"><br><br>  If we talk about simplified loading types, then the edited assembly is loaded completely, and from its inserts only triangulation is loaded and, depending on the type, the boundary representation (B-rep).  Some difficulties were represented by the display in this mode of inserts with modified external variables, since they were previously obtained on the fly by rebuilding when reading, and in simplified loading types there is no data for this.  The decision was to record the results of rebuilding such inserts in the assembly.  This gave acceleration due to the lack of rebuilding. <br><br>  The described division of the document into parts allowed loading into the assembly only the performances selected in the inserts. </blockquote>  In addition to speeding up the opening of files, partial reading also helped to reduce consumed resources - primarily RAM. <br><br>  On the basis of improvements, a new type of assembly loading appeared - ‚ÄúPartial‚Äù.  In this type of loading, only results (bodies, surfaces) and triangulation are read from the file.  Partial download allows you to create mates and, in terms of functionality, is close to full component loading. <br><br>  After the implementation of improvements on partial reading, the creation of custom loading types becomes promising. <br><br><div class="spoiler">  <b class="spoiler_title">hint</b> <div class="spoiler_text"><blockquote>  Custom download types are combinations of the system component download methods.  This function is not new, but the improvements made in v18, allow you to get noticeable bonuses from its use. </blockquote><br></div></div><br>  For components that are not important for further constructions, the loading type ‚ÄúEmpty‚Äù can be applied.  These can be components hidden inside others (‚Äúvnutryanka‚Äù).  In v18, components (and entire assemblies) with the ‚ÄúEmpty‚Äù download type open almost instantly. <br><br>  <i>Table 4. Opening time for assemblies with ‚ÄúEmpty‚Äù and ‚ÄúDimension‚Äù download types in seconds.</i>  <i>Less is better.</i> <br><table><tbody><tr><td rowspan="2">  Model </td><td rowspan="2">  Download type </td><td colspan="3">  Opening time, with </td></tr><tr><td>  V16.1 </td><td>  v17.1 </td><td>  v18 </td></tr><tr><td rowspan="2"><img src="https://habrastorage.org/webt/s2/mg/lv/s2mglv84fvskfbb_x-qxojpdx4o.png"><br>  <a href="http://best.ascon.ru/gallery/18034/">Installation</a> <a href="http://best.ascon.ru/gallery/18034/"><br></a>  <a href="http://best.ascon.ru/gallery/18034/">vacuum technology</a> </td><td>  Empty </td><td>  12.8 </td><td>  11.7 </td><td>  <b>2.5</b> </td></tr><tr><td>  Dimension </td><td>  21.2 </td><td>  20.8 </td><td>  <b>2.6</b> </td></tr><tr><td rowspan="2"><img src="https://habrastorage.org/webt/uj/vz/m2/ujvzm20hrhc5-r5ohmqnmeea7kw.png"><br>  <a href="http://best.ascon.ru/gallery/21003/">Ship Reducer</a> <a href="http://best.ascon.ru/gallery/21003/"><br></a>  <a href="http://best.ascon.ru/gallery/21003/">power plant</a> </td><td>  Empty </td><td>  31.0 </td><td>  15.9 </td><td>  <b>7.2</b> </td></tr><tr><td>  Dimension </td><td>  371.5 </td><td>  114.8 </td><td>  <b>7.3</b> </td></tr></tbody></table><br><br>  The remaining components that are needed to understand the appearance of the product or will be used as reference objects for further construction can be downloaded "Fully" or "Partially". <br><br>  As a tool for the preparation of custom download types, you can use new commands to select "invisible" components.  We use the command and then use the context menu to change the type of download for the selected components to ‚ÄúEmpty‚Äù. <br><br><h3>  <font color="#00B2FF">Projection</font> </h3><br>  While accelerating the projection, we asked ourselves the question of filtering the input data to the mathematical core. <br><br>  First decided to filter the invisible components / bodies.  For this purpose, they used the mechanism for cutting off invisible bodies (occlusion-culling) - it allows you to find out if the body to be projected is visible or it is closed and is inside some other body.  This operation is performed on the side of the video card. <br><br>  The greatest effect will be when creating projections of models with a large number of components hidden inside closed volumes, for example: <br><br><ul><li>  complex drives, gears, etc., </li><li>  vehicles </li><li>  buildings, </li><li>  electrical cabinets. </li></ul><br>  For the inclusion of responsible option "draft projection."  The name is non-random - relatively small parts may not be projected on the scale of the assembly (for example, a bolt on the scale of a power plant).  Many users will be satisfied with this state of affairs, especially in the case of creating dimensional drawings and general drawings. <br><br><div class="spoiler">  <b class="spoiler_title">Read more about the option ‚ÄúRough projection‚Äù</b> <div class="spoiler_text"><blockquote>  The option is available only for standard projections.  For clarifying images (sections, sections, detail views) "Rough projection" is not involved. </blockquote><br></div></div><br>  Even without using this option, the projection is noticeably faster compared to the V16 and v17.  This was helped by improvements on the side of the mathematical core. <br><br>  <i>Table 5. Time to create three standard projections in seconds.</i>  <i>Less is better.</i> <br><table><tbody><tr><td rowspan="2">  Model </td><td colspan="4">  Creation time of three standard projections, with </td></tr><tr><td>  V16.1 </td><td>  v17.1 </td><td>  v18 <br>  Enabled <br>  draft <br>  projection </td><td>  v18 <br>  Disabled <br>  draft <br>  projection </td></tr><tr><td><img src="https://habrastorage.org/webt/s2/mg/lv/s2mglv84fvskfbb_x-qxojpdx4o.png"><br>  <a href="http://best.ascon.ru/gallery/18034/">Installation</a> <a href="http://best.ascon.ru/gallery/18034/"><br></a>  <a href="http://best.ascon.ru/gallery/18034/">vacuum technology</a> </td><td>  124.1 </td><td>  47.5 </td><td>  <b>12.9</b> </td><td>  34.6 </td></tr><tr><td><img src="https://habrastorage.org/webt/uj/vz/m2/ujvzm20hrhc5-r5ohmqnmeea7kw.png"><br>  <a href="http://best.ascon.ru/gallery/21003/">Ship Reducer</a> <a href="http://best.ascon.ru/gallery/21003/"><br></a>  <a href="http://best.ascon.ru/gallery/21003/">power plant</a> </td><td>  256 </td><td>  410 </td><td>  <b>38.4</b> </td><td>  54.4 </td></tr><tr><td><img src="https://habrastorage.org/webt/bi/nn/nl/binnnlusnbewy71vya0vorxubpg.png"><br>  <a href="http://bestmodels.ascon.ru/yearlist/items/%3Fbm_id%3D23003">Multipurpose</a> <a href="http://bestmodels.ascon.ru/yearlist/items/%3Fbm_id%3D23003"><br></a>  <a href="http://bestmodels.ascon.ru/yearlist/items/%3Fbm_id%3D23003">unified</a> <a href="http://bestmodels.ascon.ru/yearlist/items/%3Fbm_id%3D23003"><br></a>  <a href="http://bestmodels.ascon.ru/yearlist/items/%3Fbm_id%3D23003">box body</a> </td><td>  99.9 </td><td>  123.4 </td><td>  <b>44.9</b> </td><td>  53.5 </td></tr></tbody></table><br><br>  Also in v18, the possibility of rebuilding individual associative species was realized. <br><br>  In the drawing, which contains many associative views, the user has the opportunity to rebuild some irrelevant views.  For example, the one in which he wants to add annotations.  You can also specify the types built with the ‚ÄúRough projection‚Äù option enabled. <br><br><div class="spoiler">  <b class="spoiler_title">Rebuilding a separate view</b> <div class="spoiler_text"><img src="https://habrastorage.org/webt/og/nk/em/ognkemiqn2re1hneq0cbw4rcjgy.png"><br></div></div><br>  This feature does not apply to explicit accelerations, but allows the user to save time. <br><br>  The result of the work done to accelerate the projection of the model. Installation of vacuum-technological in the drawing: <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/P2kloyNOedE" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>  <b>In the next part, we will explain how the calculation of mass-centering characteristics (ICC) accelerated, the contribution to the performance of KOMPAS-3D of the geometric core of <a href="https://habr.com/ru/users/c3dlabs/" class="user_link">c3dlabs</a> , changes in C3D Modeler, and what hardware is suitable for v18.</b> </div><p>Source: <a href="https://habr.com/ru/post/447516/">https://habr.com/ru/post/447516/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../447500/index.html">Why are operators scared by eSIM</a></li>
<li><a href="../447502/index.html">How to create a resume for foreign it-companies</a></li>
<li><a href="../447508/index.html">Sergey Zonov: ‚ÄúI did the first Spectrum because I was interested‚Äù</a></li>
<li><a href="../447510/index.html">GeekUniversity opens a set of design faculty</a></li>
<li><a href="../447512/index.html">And who did this? We automate the audit of information security</a></li>
<li><a href="../447522/index.html">What is useful you can get out of the logs of the workstation based on Windows</a></li>
<li><a href="../447526/index.html">Your bike to sync MariaDB and Sphinx</a></li>
<li><a href="../447528/index.html">Who is responsible for the quality?</a></li>
<li><a href="../447530/index.html">OceanLotus: Malvari update for macOS</a></li>
<li><a href="../447536/index.html">IdM implementation. Preparation for implementation by the customer</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>