<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>0b1001 ways to solve the problem of converting numbers to the Roman notation</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hello friends. Here you have a simple little problem. How would you translate arabic numbers to roman using python? True with one condition - the numb...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>0b1001 ways to solve the problem of converting numbers to the Roman notation</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/getpro/habr/post_images/23a/839/a27/23a839a27430bff53aa2f91027b86ff4.png" alt="image"><br><br>  Hello friends.  Here you have a simple little problem.  How would you translate arabic numbers to roman using python?  True with one condition - the numbers can not be more than 4000. <br><br>  I think it should be easy, but let me show you a series of interesting solutions and non-trivial approaches: <br><a name="habracut"></a><br><h3>  "13 steps" from StefanPochmann </h3><br>  Very simple idea and at the same time the most popular.  We make a table of correspondences of Arabic and Roman numbers.  Following the table of these correspondences, we reduce the Arabic number and increase the Roman number. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <pre><code class="python hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">checkio</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(n)</span></span></span><span class="hljs-function">:</span></span> result = <span class="hljs-string"><span class="hljs-string">''</span></span> <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> arabic, roman <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> zip((<span class="hljs-number"><span class="hljs-number">1000</span></span>, <span class="hljs-number"><span class="hljs-number">900</span></span>, <span class="hljs-number"><span class="hljs-number">500</span></span>, <span class="hljs-number"><span class="hljs-number">400</span></span>, <span class="hljs-number"><span class="hljs-number">100</span></span>, <span class="hljs-number"><span class="hljs-number">90</span></span>, <span class="hljs-number"><span class="hljs-number">50</span></span>, <span class="hljs-number"><span class="hljs-number">40</span></span>, <span class="hljs-number"><span class="hljs-number">10</span></span>, <span class="hljs-number"><span class="hljs-number">9</span></span>, <span class="hljs-number"><span class="hljs-number">5</span></span>, <span class="hljs-number"><span class="hljs-number">4</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>), <span class="hljs-string"><span class="hljs-string">'M CM D CD C XC L XL X IX V IV I'</span></span>.split()): result += n // arabic * roman n %= arabic print(<span class="hljs-string"><span class="hljs-string">'({}) {} =&gt; {}'</span></span>.format(roman, n, result)) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> result</code> </pre> <br>  I added the print function for you so that the solution is clearer.  And what will be the conclusion: <br><br><pre> <code class="bash hljs">&gt;&gt;&gt; checkio(177) (M) 177 =&gt; (CM) 177 =&gt; (D) 177 =&gt; (CD) 177 =&gt; (C) 77 =&gt; C (XC) 77 =&gt; C (L) 27 =&gt; CL (XL) 27 =&gt; CL (X) 7 =&gt; CLXX (IX) 7 =&gt; CLXX (V) 2 =&gt; CLXXV (IV) 2 =&gt; CLXXV (I) 0 =&gt; CLXXVII <span class="hljs-string"><span class="hljs-string">'CLXXVII'</span></span></code> </pre><br>  Now you see how the Roman and Arabic numbers change at each iteration. <br><br><h3>  "Thous, hunds, tens and ones" by mdeakyne </h3><br><pre> <code class="python hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">checkio</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(data)</span></span></span><span class="hljs-function">:</span></span> ones = [<span class="hljs-string"><span class="hljs-string">""</span></span>,<span class="hljs-string"><span class="hljs-string">"I"</span></span>,<span class="hljs-string"><span class="hljs-string">"II"</span></span>,<span class="hljs-string"><span class="hljs-string">"III"</span></span>,<span class="hljs-string"><span class="hljs-string">"IV"</span></span>,<span class="hljs-string"><span class="hljs-string">"V"</span></span>,<span class="hljs-string"><span class="hljs-string">"VI"</span></span>,<span class="hljs-string"><span class="hljs-string">"VII"</span></span>,<span class="hljs-string"><span class="hljs-string">"VIII"</span></span>,<span class="hljs-string"><span class="hljs-string">"IX"</span></span>] tens = [<span class="hljs-string"><span class="hljs-string">""</span></span>,<span class="hljs-string"><span class="hljs-string">"X"</span></span>,<span class="hljs-string"><span class="hljs-string">"XX"</span></span>,<span class="hljs-string"><span class="hljs-string">"XXX"</span></span>,<span class="hljs-string"><span class="hljs-string">"XL"</span></span>,<span class="hljs-string"><span class="hljs-string">"L"</span></span>,<span class="hljs-string"><span class="hljs-string">"LX"</span></span>,<span class="hljs-string"><span class="hljs-string">"LXX"</span></span>,<span class="hljs-string"><span class="hljs-string">"LXXX"</span></span>,<span class="hljs-string"><span class="hljs-string">"XC"</span></span>] hunds = [<span class="hljs-string"><span class="hljs-string">""</span></span>,<span class="hljs-string"><span class="hljs-string">"C"</span></span>,<span class="hljs-string"><span class="hljs-string">"CC"</span></span>,<span class="hljs-string"><span class="hljs-string">"CCC"</span></span>,<span class="hljs-string"><span class="hljs-string">"CD"</span></span>,<span class="hljs-string"><span class="hljs-string">"D"</span></span>,<span class="hljs-string"><span class="hljs-string">"DC"</span></span>,<span class="hljs-string"><span class="hljs-string">"DCC"</span></span>,<span class="hljs-string"><span class="hljs-string">"DCCC"</span></span>,<span class="hljs-string"><span class="hljs-string">"CM"</span></span>] thous = [<span class="hljs-string"><span class="hljs-string">""</span></span>,<span class="hljs-string"><span class="hljs-string">"M"</span></span>,<span class="hljs-string"><span class="hljs-string">"MM"</span></span>,<span class="hljs-string"><span class="hljs-string">"MMM"</span></span>,<span class="hljs-string"><span class="hljs-string">"MMMM"</span></span>] t = thous[data // <span class="hljs-number"><span class="hljs-number">1000</span></span>] h = hunds[data // <span class="hljs-number"><span class="hljs-number">100</span></span> % <span class="hljs-number"><span class="hljs-number">10</span></span>] te = tens[data // <span class="hljs-number"><span class="hljs-number">10</span></span> % <span class="hljs-number"><span class="hljs-number">10</span></span>] o = ones[data % <span class="hljs-number"><span class="hljs-number">10</span></span>] <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> t+h+te+o</code> </pre><br>  In this case, we already have an inverse correspondence of the Arab to the Roman.  In this case, we no longer need a cycle. <br><br><h3>  "Base.replace" by MaikSchoepe </h3><br><pre> <code class="python hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">checkio</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(data)</span></span></span><span class="hljs-function">:</span></span> base = <span class="hljs-string"><span class="hljs-string">"I"</span></span>*data base = base.replace(<span class="hljs-string"><span class="hljs-string">"I"</span></span>*<span class="hljs-number"><span class="hljs-number">5</span></span>, <span class="hljs-string"><span class="hljs-string">"V"</span></span>) base = base.replace(<span class="hljs-string"><span class="hljs-string">"V"</span></span>*<span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-string"><span class="hljs-string">"X"</span></span>) base = base.replace(<span class="hljs-string"><span class="hljs-string">"X"</span></span>*<span class="hljs-number"><span class="hljs-number">5</span></span>, <span class="hljs-string"><span class="hljs-string">"L"</span></span>) base = base.replace(<span class="hljs-string"><span class="hljs-string">"L"</span></span>*<span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-string"><span class="hljs-string">"C"</span></span>) base = base.replace(<span class="hljs-string"><span class="hljs-string">"C"</span></span>*<span class="hljs-number"><span class="hljs-number">5</span></span>, <span class="hljs-string"><span class="hljs-string">"D"</span></span>) base = base.replace(<span class="hljs-string"><span class="hljs-string">"D"</span></span>*<span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-string"><span class="hljs-string">"M"</span></span>) base = base.replace(<span class="hljs-string"><span class="hljs-string">"DCCCC"</span></span>, <span class="hljs-string"><span class="hljs-string">"CM"</span></span>) base = base.replace(<span class="hljs-string"><span class="hljs-string">"CCCC"</span></span>, <span class="hljs-string"><span class="hljs-string">"CD"</span></span>) base = base.replace(<span class="hljs-string"><span class="hljs-string">"LXXXX"</span></span>, <span class="hljs-string"><span class="hljs-string">"XC"</span></span>) base = base.replace(<span class="hljs-string"><span class="hljs-string">"XXXX"</span></span>, <span class="hljs-string"><span class="hljs-string">"XL"</span></span>) base = base.replace(<span class="hljs-string"><span class="hljs-string">"VIIII"</span></span>, <span class="hljs-string"><span class="hljs-string">"IX"</span></span>) base = base.replace(<span class="hljs-string"><span class="hljs-string">"IIII"</span></span>, <span class="hljs-string"><span class="hljs-string">"IV"</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> base</code> </pre><br>  I believe that this is not the most effective way to solve, but one of the most fun.  It starts with what makes a long string of ‚ÄúI‚Äù, the size of the number transferred.  The next order replaces every five ‚ÄúI‚Äù characters with the ‚ÄúV‚Äù character.  Then two ‚ÄúV‚Äù on ‚ÄúX‚Äù and so on.  At the end of the path we get the string we were looking for. <br><br><h3>  "Enum" from veky </h3><br>  In order to understand how the following solution works, you need to know the Enum module.  If you do not know - there is a great chance to google it. <br><br><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">from</span></span> enum <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> Enum‚Äã <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Roman</span></span></span><span class="hljs-params"><span class="hljs-class"><span class="hljs-params">(Enum)</span></span></span><span class="hljs-class">:</span></span> M = <span class="hljs-number"><span class="hljs-number">1000</span></span> CM = <span class="hljs-number"><span class="hljs-number">900</span></span> D = <span class="hljs-number"><span class="hljs-number">500</span></span> CD = <span class="hljs-number"><span class="hljs-number">400</span></span> C = <span class="hljs-number"><span class="hljs-number">100</span></span> XC = <span class="hljs-number"><span class="hljs-number">90</span></span> L = <span class="hljs-number"><span class="hljs-number">50</span></span> XL = <span class="hljs-number"><span class="hljs-number">40</span></span> X = <span class="hljs-number"><span class="hljs-number">10</span></span> IX = <span class="hljs-number"><span class="hljs-number">9</span></span> V = <span class="hljs-number"><span class="hljs-number">5</span></span> IV = <span class="hljs-number"><span class="hljs-number">4</span></span> I = <span class="hljs-number"><span class="hljs-number">1</span></span>‚Äã @classmethod <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">encode</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(cls, n)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> numeral <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> cls: rep, n = divmod(n, numeral.value) <span class="hljs-keyword"><span class="hljs-keyword">yield</span></span> numeral.name * rep‚Äã checkio = <span class="hljs-keyword"><span class="hljs-keyword">lambda</span></span> n: <span class="hljs-string"><span class="hljs-string">''</span></span>.join(Roman.encode(n))</code> </pre><br>  In general, the example works the same as we saw in the first example from StefanPochmann, but with some syntactic syntax.  Such as enum and yield <br><br><h3>  "A derelict battery" by veky </h3><br>  I collected all these solutions with <a href="https://checkio.org/">CheckiO</a> . <br><br>  And when a user publishes his decision on this resource, he must choose in which category he wants to add it.  There is such a category as ‚ÄúCreative‚Äù, where you don‚Äôt have to bother much about speed or how easy your decision is to read.  The only thing you have to think about is how creative and unusual your decision is. <br><br>  This decision is just from this category. <br><br><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> formatter, functools checkio = functools.partial(formatter.AbstractFormatter.format_roman, <span class="hljs-keyword"><span class="hljs-keyword">None</span></span>, <span class="hljs-string"><span class="hljs-string">'I'</span></span>)</code> </pre><br>  Yes, that's all.  It is worth mentioning, however, that the formater module has been closed since version 3.4 due to the fact that very few people have used it.  So we‚Äôll probably write Guido‚Äôs petition to leave this module in Python.  Your up-and-down for this decision - you somehow put your signature on this petition. <br><br><h3>  ‚ÄúEnough elegant, but not very Pythonic‚Äù from nathan.l.cook </h3><br>  We move on and decisions get harder. <br><br><pre> <code class="python hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">checkio</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(data)</span></span></span><span class="hljs-function">:</span></span> rom = [<span class="hljs-string"><span class="hljs-string">'I'</span></span>, <span class="hljs-string"><span class="hljs-string">'V'</span></span>, <span class="hljs-string"><span class="hljs-string">'X'</span></span>, <span class="hljs-string"><span class="hljs-string">'L'</span></span>, <span class="hljs-string"><span class="hljs-string">'C'</span></span>, <span class="hljs-string"><span class="hljs-string">'D'</span></span>, <span class="hljs-string"><span class="hljs-string">'M'</span></span>] str_data = str(data) str_data = str_data[::<span class="hljs-number"><span class="hljs-number">-1</span></span>] num_digits = len(str_data) ans = <span class="hljs-string"><span class="hljs-string">""</span></span> rom_pointer = <span class="hljs-number"><span class="hljs-number">0</span></span>‚Äã <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> place <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> range(num_digits): <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> str_data[place] <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> [<span class="hljs-string"><span class="hljs-string">"0"</span></span>, <span class="hljs-string"><span class="hljs-string">"1"</span></span>, <span class="hljs-string"><span class="hljs-string">"2"</span></span>, <span class="hljs-string"><span class="hljs-string">"3"</span></span>]: ans = rom[rom_pointer] * int(str_data[place]) + ans <span class="hljs-keyword"><span class="hljs-keyword">elif</span></span> str_data[place] <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> [<span class="hljs-string"><span class="hljs-string">"4"</span></span>]: ans = rom[rom_pointer] + rom[rom_pointer + <span class="hljs-number"><span class="hljs-number">1</span></span>] + ans <span class="hljs-keyword"><span class="hljs-keyword">elif</span></span> str_data[place] <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> [<span class="hljs-string"><span class="hljs-string">"5"</span></span>, <span class="hljs-string"><span class="hljs-string">"6"</span></span>, <span class="hljs-string"><span class="hljs-string">"7"</span></span>, <span class="hljs-string"><span class="hljs-string">"8"</span></span>]: ans = rom[rom_pointer + <span class="hljs-number"><span class="hljs-number">1</span></span>] + rom[rom_pointer] * (int(str_data[place]) - <span class="hljs-number"><span class="hljs-number">5</span></span>) + ans <span class="hljs-keyword"><span class="hljs-keyword">elif</span></span> str_data[place] <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> [<span class="hljs-string"><span class="hljs-string">"9"</span></span>]: ans = rom[rom_pointer] + rom[rom_pointer + <span class="hljs-number"><span class="hljs-number">2</span></span>] + ans rom_pointer += <span class="hljs-number"><span class="hljs-number">2</span></span>‚Äã <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> ans</code> </pre><br>  You know, when you read someone's decision and the first lines you see it: <br><br><pre> <code class="python hljs"> str_data = str(data) str_data = str_data[::<span class="hljs-number"><span class="hljs-number">-1</span></span>]</code> </pre><br>  Do you think: ‚ÄúOk, there will definitely be some magic here‚Äù <br><br><h3>  ‚ÄúA bit of history from‚Äù from veky (or from ...) </h3><br><pre> <code class="python hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">checkio</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(n:int)</span></span></span><span class="hljs-function"> -&gt; str:</span></span> pool = <span class="hljs-string"><span class="hljs-string">"m2d5c2l5x2v5i"</span></span> rep = <span class="hljs-keyword"><span class="hljs-keyword">lambda</span></span> t: int(pool[t - <span class="hljs-number"><span class="hljs-number">1</span></span>]) <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">roman</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(n, j=</span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">0</span></span></span></span><span class="hljs-function"><span class="hljs-params">, v=</span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">1000</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">while</span></span> <span class="hljs-keyword"><span class="hljs-keyword">True</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">while</span></span> n &gt;= v: <span class="hljs-keyword"><span class="hljs-keyword">yield</span></span> pool[j]; n -= v <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> n &lt;= <span class="hljs-number"><span class="hljs-number">0</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> k = j + <span class="hljs-number"><span class="hljs-number">2</span></span>; u = v // rep(k) <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> rep(k) == <span class="hljs-number"><span class="hljs-number">2</span></span>: k += <span class="hljs-number"><span class="hljs-number">2</span></span>; u //= rep(k) <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> n + u &gt;= v: <span class="hljs-keyword"><span class="hljs-keyword">yield</span></span> pool[k]; n += u <span class="hljs-keyword"><span class="hljs-keyword">else</span></span>: j += <span class="hljs-number"><span class="hljs-number">2</span></span>; v //= rep(j) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-string"><span class="hljs-string">""</span></span>.join(roman(n)).upper()</code> </pre><br>  You can know the author of this solution from books like The Art of Computer Programming, Concrete Mathematics, Surreal Numbers, and so on. <br><br><h3>  "This Strange Roman Mathematics" by LukeSolo </h3><br>  Quite often you meet solutions on CheckiO, and at the same time you have no idea how they work: <br><br><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">from</span></span> math <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> sqrt‚Äã alpha = <span class="hljs-string"><span class="hljs-string">"IVXLCDM"</span></span> one = <span class="hljs-keyword"><span class="hljs-keyword">lambda</span></span> n, s: (n % <span class="hljs-number"><span class="hljs-number">5</span></span> &gt;&gt; n % <span class="hljs-number"><span class="hljs-number">5</span></span> // <span class="hljs-number"><span class="hljs-number">4</span></span> * <span class="hljs-number"><span class="hljs-number">2</span></span>) * alpha[s] two = <span class="hljs-keyword"><span class="hljs-keyword">lambda</span></span> n, s: (<span class="hljs-number"><span class="hljs-number">3</span></span> &lt; n) * alpha[s + (<span class="hljs-number"><span class="hljs-number">3</span></span> &lt; n) + (<span class="hljs-number"><span class="hljs-number">8</span></span> &lt; n)] three = <span class="hljs-keyword"><span class="hljs-keyword">lambda</span></span> n, s: sqrt(n) == int(sqrt(n)) <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> <span class="hljs-string"><span class="hljs-string">''</span></span>.join(reversed(s)) <span class="hljs-keyword"><span class="hljs-keyword">or</span></span> s go = <span class="hljs-keyword"><span class="hljs-keyword">lambda</span></span> n, s: three(n, two(n, s) + one(n, s))‚Äã <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">checkio</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(data, s = </span></span><span class="hljs-number"><span class="hljs-function"><span class="hljs-params"><span class="hljs-number">0</span></span></span></span><span class="hljs-function"><span class="hljs-params">, conc = </span></span><span class="hljs-string"><span class="hljs-function"><span class="hljs-params"><span class="hljs-string">""</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span><span class="hljs-function">:</span></span> d, m = divmod(data, <span class="hljs-number"><span class="hljs-number">10</span></span>) text = go(m, s) + conc <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> d <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> checkio(d, s + <span class="hljs-number"><span class="hljs-number">2</span></span>, text) <span class="hljs-keyword"><span class="hljs-keyword">or</span></span> text</code> </pre><br>  But I think you will figure it out :) <br><br><h3>  thank </h3><br>  In the list of used materials, I added links to <a href="https://checkio.org/">CheckiO</a> solutions of users that I used in this article.  By clicking on them, you can read the code review of other users or write your own. <br><br>  This is the first time when I try to share this collection of the most interesting solutions on <a href="https://checkio.org/">CheckiO</a> .  Let me know how interesting it is for you to read about it and how much you like the format itself. <br><br>  <a href="https://checkio.org/">CheckiO</a> user solutions were used to create this article: <br><br><ul><li>  <a href="https://py.checkio.org/mission/roman-numerals/publications/StefanPochmann/python-3/short-and-clear/share/5d2c491115fa261d66d9f7713d66c77f/">‚Äú13 steps‚Äù by StefanPochmann</a> </li><li>  <a href="https://py.checkio.org/mission/roman-numerals/publications/mdeakyne/python-3/first/share/53882d47af904f942fc8daf06c0ed270/">‚ÄúThous, hunds, tens and ones‚Äù by mdeakyne</a> </li><li>  <a href="https://py.checkio.org/mission/roman-numerals/publications/MaikSchoepe/python-27/first/share/e7ad6f8d48bc629ff056d4ffa4da9e08/">‚ÄúBase.replace‚Äù by MaikSchoepe</a> </li><li>  <a href="https://py.checkio.org/mission/roman-numerals/publications/veky/python-3/enum/share/22e044ab85d2e00f7c2bb4b0c7550f41/">‚ÄúEnum‚Äù by veky</a> </li><li>  <a href="https://py.checkio.org/mission/roman-numerals/publications/veky/python-3/a-derelict-battery/share/9e31f24941a1a595a0b6a5eda8a030f5/">‚ÄúA derelict battery‚Äù by veky</a> </li><li>  <a href="https://py.checkio.org/mission/roman-numerals/publications/nathan.l.cook/python-27/i-think-this-is-pretty-elegant-probably-not-pythonic-though/share/18f1f27270680d418558d357fc06c729/">‚ÄúElegant enough, but not very Pythonic‚Äù from nathan.l.cook</a> </li><li>  <a href="https://py.checkio.org/mission/roman-numerals/publications/veky/python-3/history/share/39d8049cdda5f405fa95586c7752ff7a/">‚ÄúA bit of history from‚Äù from veky (or from ...)</a> </li><li>  <a href="https://py.checkio.org/mission/roman-numerals/publications/LukeSolo/python-3/strange-roman-math/share/3f9fc3efd5fff7d4c7db923e63314afe/">‚ÄúThis Strange Roman Mathematics‚Äù by LukeSolo</a> </li></ul><br>  <b>PS:</b> By the way, there is still the ‚ÄúSpeedy‚Äù category for solutions.  And when you say that the solution to the problem can not be longer than 4000 characters, then this is the quickest solution for this task.  For obvious reasons, I can only show you the link. </div><p>Source: <a href="https://habr.com/ru/post/311678/">https://habr.com/ru/post/311678/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../311664/index.html">The study states that CIOs enjoy greater business influence.</a></li>
<li><a href="../311666/index.html">NoSQL's layered approach to big data security</a></li>
<li><a href="../311670/index.html">Antiviruses for Android may not see the virus - study and "Laundry viruses"</a></li>
<li><a href="../311674/index.html">Passage of the quest from mail.ru</a></li>
<li><a href="../311676/index.html">We generate pseudo-random ID a la Youtube</a></li>
<li><a href="../311680/index.html">The task of the snail</a></li>
<li><a href="../311682/index.html">Simon Edwards (SE Labs): ‚ÄúProtecting an enterprise is much more than plugging holes in computer technology‚Äù</a></li>
<li><a href="../311684/index.html">We invite you to an open master class of Dmitry Inshakov ‚ÄúHow to develop and execute an IT strategy‚Äù</a></li>
<li><a href="../311686/index.html">Fairy-tale city: dream work in Innopolis</a></li>
<li><a href="../311688/index.html">Satya Nadella: a new era of intelligence in Microsoft</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>