<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>The choice of architecture solutions for the marketplace of freight services</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Agorafreight.com is the first service in Russia for online pricing and ordering of air, road and container transport, general cargo by all modes of tr...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>The choice of architecture solutions for the marketplace of freight services</h1><div class="post__text post__text-html js-mediator-article"><p>  <strong>Agorafreight.com is the first service in Russia for online pricing and ordering of air, road and container transport, general cargo by all modes of transport, including door-to-door rates.</strong> <strong><br></strong> </p><br><img src="https://habrastorage.org/getpro/habr/post_images/cd8/97f/4c7/cd897f4c724fcf503eedbb1ce779553f.jpg" alt="image"><br><p>  The history of the project Agorafreight tells the project manager Reksoft (part of the GC "Technoserv") Dmitry Dolgikh. </p><br><p>  Russian startup Agorafreight is a marketplace for international cargo transportation, which is designed to calculate the cost of freight services provided by forwarding companies and carriers.  The system is a link between the customer of the carriage (the client), shipping companies and freight forwarders.  The system allows you to conduct a preliminary selection of the route, companies and services, as well as the calculation of the cost of transportation. </p><a name="habracut"></a><br><p>  The project itself is very interesting and ambitious.  Interesting at least because there is no such decision in Russia yet.  The word ‚Äúinternational‚Äù gave the project ambiguity - on the one hand, the project‚Äôs ambitions in terms of scaling to the whole world were declared, and on the other, we understood that the project had to pave the way in a fairly competitive environment.  Part of such an environment is always the project‚Äôs ability to respond quickly to changes and unexpected reversals in terms of requirements.  All this at once set a certain level of responsibility in the choice of the solution architecture, all the more so as there was not enough time to implement the first version of the product. </p><br><p>  First we had to choose a database, or rather a data management system.  The choice fell on MongoDB - the NoSQL document-oriented database with geo-query support, full-text search in 15 languages, with a hierarchical data structure.  The MongoDB system is available for free under the GNU 3.0 license.  It scales horizontally and can be used as load-balanced file storage and data replication. <br>  pros </p><br><ol><li>  Hierarchy of data - the ability to optimize the scheme and queries for hierarchical data (multilingual, tariffs, etc.). </li><li>  Schema-less, non-rigid data schema - cheap and fast changes to the database schema, which does not require migrations. </li><li>  Scalable is cheaper than relational databases, does not require processing the source code or rewriting queries to the database. </li><li>  Support for geo-queries and indexes, full-text search. </li><li>  An open source open source system. </li><li>  It is possible to buy paid support from the authors of MongoDB, enterprise support. </li><li>  MongoDB can be used as load-balanced file storage and data replication. </li><li>  With MongoDB, it is easier and faster to prototype applications and services. </li></ol><br><p>  <strong>Minuses</strong> <strong><br></strong>  1. There is no support for Join'ov, however this problem is solved by the data hierarchy or MapReduce-functional (but not 100%). </p><br><ol><li>  There are no transactions, there is atomicity at the document level, you can implement transaction emulation. </li><li>  The consistency at the database level is not implemented, it is necessary to do this in the source code of the application. </li><li>  There are no triggers as in classical databases, however often this functionality is not used. </li></ol><br><p>  <strong>Special features</strong> </p><br><ol><li>  MongoDB does not require administration at the start and a little after it; a setting is required for scaling. </li><li>  There are hosting providers that can provide MongoDB in the cloud for the required scale, such services are rarely found in MySQL or PostgreSQL. </li><li>  The leader among NoSQL-data warehouses at the moment. </li><li>  It has tools for building MapReduce queries that can be used to build complex reports, but not in real-time. </li><li>  The critical shortcomings of this database were resolved with the release of the 3rd version. </li></ol><br><p>  The team made a choice in favor of the MongoDB based on the analysis of the project.  Initially, it was clear that the project is characterized by a high probability of variability in terms of setting technical specifications on the basis of business processes.  This is due to the fact that the project is a startup, so it is highly probable that many business processes will change in the course of project implementation and its adaptation to the realities of market demands.  To ensure the flexibility of changes and reduce internal costs of changing the data model, as well as reduce their own risks, a choice was made in favor of a non-relational database.  One of the leaders in this segment is MongoDB. </p><br><p>  This choice, as shown by subsequent practice, proved to be correct.  Everything happened as it was supposed to - constant changes in the formulation, improvements from the series ‚Äúand we still wanted to realize it‚Äù, and all this required a flexible and quick change of the data model.  MongoDB allowed the project not only to respond adequately to changes, but also not to ‚Äúfall out‚Äù from the budget.  As you know, defects at the design stage lead to substantial reengineering in the implementation and increase in the risk of missing within the deadlines and in the project budget.  All these risks were minimized, including due to the selected architecture. </p><br><p>  The second architectural choice was the ReactJS library for the implementation of the frontend.  It is the popularity of technology and a large formed community made it possible to make a choice in favor of ReactJS. </p><br><p>  <strong>Advantages of this framework:</strong> <strong><br></strong> </p><br><ol><li>  One of the most popular client development frameworks.  It has a large community, there are many examples of its use, good documentation. </li><li>  Those developers of our company who have experience with him speak well of him. </li><li>  More flexible in terms of development in comparison, for example, with Angular. </li><li>  Supports the so-called Server Rendering, which allows you to index application pages by search engines. </li><li>  Suitable for applications with a large number of dynamic pages.  We have many such pages (entry forms for various types of tariffs, surcharges, fees; forms for calculating the cost of transportation, etc.) </li></ol><br><p>  As a result, ReactJS allowed quite flexibly and dynamically changing parts of the frontend against the background of changing requirements and improvements. </p><br><p>  In the course of the project, in addition to developing, it was necessary to solve algorithmic and optimization problems of drawing up an optimal transportation plan, comparing and building hundreds of variants of delivery routes with the selection and formation of the most optimal recommendations.  And in this vein, the project has a high development potential in the direction of recommender systems based on artificial intelligence. <br>  In general, despite all the difficulties that arose in the development of the project, it was interesting in terms of the use of modern and promising technologies for developing information systems for the international transportation market. </p><br><p>  Currently, the system contains tens of thousands of current tariffs for sea, road and air transportation.  The geography of coverage covers China, Vietnam, South Korea, EU countries and Russia, and expansion is planned for other countries.  Now dozens of freight forwarders from China and the Russian Federation are already working with the system. </p><br><img src="https://habrastorage.org/getpro/habr/post_images/033/d79/665/033d796658ef7644111e647d963b0e8c.jpg" alt="image"></div>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <p>Source: <a href="https://habr.com/ru/post/433202/">https://habr.com/ru/post/433202/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../433188/index.html">The State Duma submitted a bill on the autonomous work of the RuNet</a></li>
<li><a href="../433192/index.html">Kubernetes: an amazingly affordable solution for personal projects</a></li>
<li><a href="../433194/index.html">Night light with scheduled shutdown</a></li>
<li><a href="../433196/index.html">New Year Gift Guide</a></li>
<li><a href="../433198/index.html">10 dollars on hosting: 20 years ago and today</a></li>
<li><a href="../433204/index.html">How to learn Java development? The experience of Nikita Chernetsov GeekUniversity student</a></li>
<li><a href="../433206/index.html">We invite you on December 22 to Data Yolku</a></li>
<li><a href="../433208/index.html">"Moon Odyssey" LEGO Education: we are implementing the Russian space program</a></li>
<li><a href="../433210/index.html">The widespread blur of satellite photos reveals the location of secret bases</a></li>
<li><a href="../433212/index.html">As the author of TV-B-Gone made ArduTouch music synthesizer</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>