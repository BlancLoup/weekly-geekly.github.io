<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>TeaCSS - the obvious approach to creating styles</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Introduction 
 Although there are not so many CSS-like languages ‚Äã‚Äã- it‚Äôs at the hearing and afloat now alone Sass and Less, I‚Äôll start by answering t...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>TeaCSS - the obvious approach to creating styles</h1><div class="post__text post__text-html js-mediator-article"><h4>  Introduction </h4><br>  Although there are not so many CSS-like languages ‚Äã‚Äã- it‚Äôs at the hearing and afloat now alone Sass and Less, I‚Äôll start by answering the question ‚ÄúWhy do I need another one?‚Äù. <br><br>  In short, TeaCSS does not produce new entities, because this is the same CSS in which JavaScript was added as a language. <br><br>  This approach has its pros and cons. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Pros - almost no pitfalls.  The tea file is converted to JavaScript, filled with simple output commands.  This JavaScript can be debugged, look in FireBug and in general its behavior is predictable.  This is the obvious approach, the JS prevails on the web already, so you don‚Äôt have to learn anything new. <br><a name="habracut"></a><br><br>  Cons - you still lose some of the entities of the CSS domain, such as "pixels", "percentages", etc.  You work with CSS just like text.  You'll have to write <i>width: @ {100 + 200} px</i> , not <i>width: 100px + 200px</i> . <br><br>  TeaCSS is exactly the CSS templating or preprocessor, not a new language to learn.  This is his strength and weakness. <br><br>  I planned to write several articles in which with increasing complexity will be told about the language and the tasks for which it was developed. <br><br>  In this (first) article, I will tell you how to incorporate TeaCSS into your development cycle and show with examples what Sass and Less cannot do, but the hero of today's article knows how. <br><br><h4>  Short tutorial </h4><br>  For those who use Sass and Less, you can read diagonally. <br><br>  There are only 3 simple things that TeaCSS can describe.  It: <br><ol><li>  Embedded javascript </li><li>  Nested rules </li><li>  Mixin (optional and may be replaced by claim 1) </li></ol><br><h5>  Embedded javascript </h5><br>  During CSS processing, you can execute any JS code.  It will be executed exactly as written.  With this, you can declare variables, functions, do cycles to declare similar rules, generate pictures, draw auxiliary interfaces, and in general - do what your heart desires. <br><br>  To execute the code is simple: <br><pre><code class="javascript hljs"><span class="hljs-comment"><span class="hljs-comment">/*   */</span></span> @ <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> baseColor = <span class="hljs-string"><span class="hljs-string">'red'</span></span>;</code> </pre> <br>  Or so: <br><pre> <code class="javascript hljs"><span class="hljs-comment"><span class="hljs-comment">/*   */</span></span> @{ <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> baseColor = <span class="hljs-string"><span class="hljs-string">'red'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> borderColor = darken(<span class="hljs-string"><span class="hljs-string">'red'</span></span>,<span class="hljs-number"><span class="hljs-number">20</span></span>); }</code> </pre><br><br>  Then inside any CSS rules you can use JS expressions. <br><br>  For example: <br><pre> <code class="javascript hljs">body { <span class="hljs-attr"><span class="hljs-attr">color</span></span>: @baseColor; } <span class="hljs-comment"><span class="hljs-comment">//   ,  /*   @{}      */ body { color: @{lighten(baseColor,Math.sin(3.14)); }</span></span></code> </pre><br><h5>  Nested rules </h5><br>  Allow to write compound selectors ladder. <br><pre> <code class="javascript hljs"><span class="hljs-comment"><span class="hljs-comment">/* TeaCSS */</span></span> #header { h1 { font-size: <span class="hljs-number"><span class="hljs-number">26</span></span>px; font-weight: bold; } p { font-size: <span class="hljs-number"><span class="hljs-number">12</span></span>px; a { text-decoration: none; &amp;:hover { border-width: <span class="hljs-number"><span class="hljs-number">1</span></span>px } } } }</code> </pre><br><h5>  Mixins </h5><br>  Syntactic sugar, similar to the LESS-ovsky.  Allows you to save a set of rules for use in another context with parameters. <br><pre> <code class="javascript hljs">.my_mixin(color) { <span class="hljs-comment"><span class="hljs-comment">// -     my_mixin = function (color) { color: @color; } body { .my_mixin('red'); }</span></span></code> </pre><br>  For more detailed explanations refer to the website - <a href="http://teacss.org/">teacss.org</a> <br><br><h5>  How to connect to your project </h5><br>  It is very important to understand that teacss does not pretend to become a replacement for CSS in production, this is a development solution, so there must be both a way to turn TeaCSS into regular CSS, and a way to see what happens right in the browser. <br><br>  To view everything is simple. <br><pre> <code class="html hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">link</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">tea</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"style.tea"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">src</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"teacss.js"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="undefined"></span><span class="hljs-tag"><span class="undefined"></span><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br>  And voila, you will see a preview of your style on the current page.  In my projects I use something like. <br><pre> <code class="php hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> $applicationMode==<span class="hljs-string"><span class="hljs-string">'development'</span></span> <span class="hljs-meta"><span class="hljs-meta">?&gt;</span></span> &lt;link tea=<span class="hljs-string"><span class="hljs-string">"style.tea"</span></span>&gt; &lt;script src=<span class="hljs-string"><span class="hljs-string">"teacss.js"</span></span>&gt;&lt;/script&gt; <span class="hljs-meta"><span class="hljs-meta">&lt;?</span></span> <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-meta"><span class="hljs-meta">?&gt;</span></span> &lt;link type=<span class="hljs-string"><span class="hljs-string">"text/css"</span></span> rel=<span class="hljs-string"><span class="hljs-string">"stylesheet"</span></span> href=<span class="hljs-string"><span class="hljs-string">"style.css"</span></span>&gt; <span class="hljs-meta"><span class="hljs-meta">&lt;?</span></span> <span class="hljs-keyword"><span class="hljs-keyword">endif</span></span> <span class="hljs-meta"><span class="hljs-meta">?&gt;</span></span></code> </pre><br>  The question remains, how to turn * .tea into * .css <br><br>  In earlier versions for this was a console utility, but since  TeaCSS began to support various pure browser-based chips, like Canvas, it was decided to leave this issue to the developer.  You can display a simple interface to save the file and decide what to do with the received text.  In general, this is part of the big concept ‚ÄúYour code is your IDE‚Äù, which I will discuss in future articles, but for now just add something like this to the dev version of the layout: <br><pre> <code class="php hljs">&lt;script&gt; teacss.buildCallback(<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(files)</span></span></span></span>{ $.post(location.href,{css:files[<span class="hljs-string"><span class="hljs-string">'default.css'</span></span>]}); }); <span class="hljs-meta"><span class="hljs-meta">&lt;?</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">isset</span></span>($_POST[<span class="hljs-string"><span class="hljs-string">'css'</span></span>]) file_put_contents(<span class="hljs-string"><span class="hljs-string">'your/location/style.css'</span></span>, $_POST[<span class="hljs-string"><span class="hljs-string">'css'</span></span>]) <span class="hljs-meta"><span class="hljs-meta">?&gt;</span></span> &lt;/script&gt;</code> </pre><br>  Similarly, in other server languages ‚Äã‚Äã(by the way, pull requests are welcome). <br><br><h4>  Create pictures on the fly </h4><br>  The first and only focus in this article. <br><br>  In fact, the built-in teacss Canvas is a wrapper over the browser canvas, a wrapper that allows you to use WebGL and the usual two-dimensional context for generating images. <br><br>  When translating * .tea to * .css, you can save the generated image to a file.  Why do you need it? <br><br>  Talking about variables in CSS and giving examples of the DRY approach to development, the developers of the same LESS are cunning.  Not every design can be composed of pure CSS, sites where this is achievable rather in the minority.  Most of the tricky borders, backgrounds, hats, etc.  also depend on these variables (basic colors, for example), so after a simple replacement of the value, you need to open Photoshop and redraw or change the graphics for the site. <br><br>  With a teacss, you can make parametric graphics too (example from documentation): <br><pre> <code class="javascript hljs">@ color1 = <span class="hljs-string"><span class="hljs-string">'red'</span></span>; @ color2 = <span class="hljs-string"><span class="hljs-string">'blue'</span></span>; body { @{ <span class="hljs-comment"><span class="hljs-comment">// pretty clear here, huh? var canvas = new Canvas("background.png"); canvas.replaceColors( { '#ffae00':color1, '#f7e7ba':lighten(color1,30), '#705551':color2 }); // display canvas.background('bg.png'); } }</span></span></code> </pre><br><br>  For a more complete understanding of the principle, I will show the generation of the background from 0. For example, a striped background.  By the way, you can arrange it as a mixin and then use it in subsequent projects. <br><br><pre> <code class="javascript hljs">.background_striped(size,width,color) { @{ (<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Canvas(size,size)) .draw2D(<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">ctx</span></span></span><span class="hljs-function">)</span></span>{ ctx.beginPath(); ctx.lineWidth = width; ctx.strokeStyle = color.toString(); ctx.moveTo(-size,-size); ctx.lineTo(size*<span class="hljs-number"><span class="hljs-number">2</span></span>,size*<span class="hljs-number"><span class="hljs-number">2</span></span>); ctx.moveTo(-size-size,-size); ctx.lineTo(size,size*<span class="hljs-number"><span class="hljs-number">2</span></span>); ctx.moveTo(-size+size,-size); ctx.lineTo(size*<span class="hljs-number"><span class="hljs-number">3</span></span>,size*<span class="hljs-number"><span class="hljs-number">2</span></span>); ctx.stroke(); }) .background(); } }</code> </pre><br>  And here is an example of use: <br>  <a href="http://teacss.org/stripes.htm">teacss.org/stripes.htm</a> <br><br><h4>  Conclusion </h4><br>  As it probably became clear from the previous section, teacss is not really a CSS template because  gives out for output, for example, also pictures.  I will say more, it can be used as a universal template engine and generate mobile interfaces, templates and scripts for it. <br><br>  Just about this and about the architecture of the project itself, I will tell in the next article. <br><br><h4>  PS </h4><br>  I decided to write this article because  in essence, I am doing things very similar at the same time to the latest Adobe project, Brackets, and to Kickstarter Light-table.  But there are a few differences and it seems to me that they can be key, to tell about them, you need to start with the library, which underlies the project - a teacss.  I hope to find like-minded people and assistants / partners in this largest project in Habre. </div><p>Source: <a href="https://habr.com/ru/post/146745/">https://habr.com/ru/post/146745/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../146740/index.html">Research In Motion incurs losses, dismisses 5,000 employees and transfers BB 10</a></li>
<li><a href="../146741/index.html">Google Now cards</a></li>
<li><a href="../146742/index.html">Latex calculations? Yes, easily!</a></li>
<li><a href="../146743/index.html">Google Maps for Android has appeared offline mode</a></li>
<li><a href="../146744/index.html">Droider Chart. Issue 94, Return of the zombies!</a></li>
<li><a href="../146746/index.html">Vertical Video Syndrome</a></li>
<li><a href="../146749/index.html">New version of HostCMS, 6 - what is it?</a></li>
<li><a href="../146750/index.html">File allocation system</a></li>
<li><a href="../146751/index.html">Where do you keep backups from remote servers?</a></li>
<li><a href="../146752/index.html">Broadcast Nokia Developer Days</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>