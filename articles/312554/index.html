<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>How I did the Brick Game on Unity3D for Android and got a lock from Google</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Wikipedia: Brick Game (‚ÄúPlaying with Bricks‚Äù; it is also called ‚ÄúTetris‚Äù) is a gaming device that runs on galvanic elements, equipped with several pre...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>How I did the Brick Game on Unity3D for Android and got a lock from Google</h1><div class="post__text post__text-html js-mediator-article"><img align="left" width="80" src="https://habrastorage.org/files/6a9/c00/84c/6a9c0084c6764fafacf4adc267018c7e.png">  <b>Wikipedia:</b> <i>Brick Game (‚ÄúPlaying with Bricks‚Äù; it is also called ‚ÄúTetris‚Äù) is a gaming device that runs on galvanic elements, equipped with several pre-installed games and a black and white (monochrome) screen.</i>  <i>On such devices there is almost always a game similar to Tetris, although with it there are often other games.</i>  <i>There are different types of devices with different numbers of games.</i> <br><br>  I will talk about how (and why) I created the Brick Game simulator on Unity3D for Android with Tetris, snake, races, tanks and other games, about the monetization experiment, and also about what Google Play can block such an application and how then unlock. <br><a name="habracut"></a><br><h3>  Prehistory  "Tetris" without Tetris </h3><br>  Once I wanted to play Tetris (at first it was Tetris, not the device that we called Tetris in childhood).  Rummaged through Google Play, found only two official versions from EA games.  I was amazed at the number of useless (in my opinion) fashionable fiches and the availability of in-game payments.  In Tetris!  In general, the sensations were "not the same." <br><br>  And then I remembered such a thing as the Brick Game and how great it was to play Tetris.  I thought that there must be a simulator on Google Play, and I was not mistaken.  There were many such simulators.  I put the most popular and ... did not find Tetris among the games.  In addition, in the middle of the small screen there was a menu of buttons with modern smoothed fonts, with which it was necessary to start the game, switch the sound, and so on.  Not realistic.  Strange, a million downloads and such flaws.  I checked the rest of the simulators - even more pitiable and Tetris is almost nowhere to be found, and where it is, it‚Äôs crooked, it‚Äôs inconvenient to play.  Not to mention the realism of the graphic embodiment. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      In general, I decided to fill the gap and create my own simulator, with a good Tetris and a realistic screen, for myself and for all. <br><br>  From Wikipedia (and later in my own experience, read about it below) I learned why there is no Tetris game in many popular simulators. <br><br>  <i>In 1996, the alleged author of Tetris (by the way, came from the USSR), together with a certain Henk Rogers (born Henk Rogers) created abroad the company The Tetris Company LLC and Blue Planet Software, trying to profit from the brand Tetris.</i>  <i>The Tetris Company LLC (TTC) has registered the word Tetris as a trademark.</i>  <i>Since then, several companies have purchased a trademark license from TTC.</i>  <i>According to American laws, the game cannot be protected by copyright (only patented), so the main property of the company is the Tetris trademark.</i>  <i>Despite this, TTC pursues clones of the game under names other than Tetris.</i>  <i>In May 2010, a TTC lawyer sent a letter to Google demanding that all 35 clones of this game be removed from the Android Market, although their names are not similar to the name ‚ÄúTetris‚Äù.</i> <br><br><h3>  Development.  Tool selection </h3><br>  Initially, I had to choose between 1) Unity3D and 2) Android + any library or on the Android API goal. <br><br>  I previously had experiments with Unity3D and C # and Java + Android, so I considered these options. <br><br>  1) Pros: <br>  + Many ready-made functions that will be useful for such a simulator <br>  + the ability to instantly test the application in the editor directly on the PC <br><br>  Minuses: <br>  - big weight of * .apk file - from 20 MB <br>  - longer run <br>  - gluttony (the battery sits faster, more heated) <br><br>  2) Pros: <br>  + small weight ("pay" mainly for the weight of graphic files) <br>  + high startup speed and battery saving <br><br>  Minuses: <br>  - you have to write more code (more precisely, abstractions, or drown in the procedural code) <br>  - slow testing process on an emulator / device <br><br>  Surely not everyone will agree with my assessments, this is a matter of personal skills and taste.  I donated size and gluttony in favor of speed of development and chose Unity3D. <br><br><h3>  Development.  Graphic presentation </h3><br>  I started by drawing a skin with buttons and a screen.  He drew in a vector graphic editor, drawn all the details down to each cube on the screen and the sticks in the digital LCD blocks.  Full photorealism could not be achieved, especially with the buttons, but overall it turned out well.  Exported to PNG and threw it in Unity, on Quad, as a texture. <br><br>  Ôøº <img width="300" src="https://habrastorage.org/files/357/215/556/3572155560754d47bb3c1de1410520a3.png"><br><br>  Later added two more skins - with a large screen and rotated. <br>  Skin with a large screen (can be convenient on devices with a small display diagonal): <br><br>  Ôøº <img width="300" src="https://habrastorage.org/files/1ab/5ce/602/1ab5ce602d5c43cca4a0a5db47f438f7.png"><br><br>  Without hesitation, the screen decided to animate with the help of small squares with inactive pixels.  That is, the substrate I have consists of active pixels, and on top of the objects with inactive pixels, which I switch visibility, namely the enable flag.  The display class contains the most common modifiable array of 200 elements (10x20) (cell by cell), it is convenient to work with it. <br><br>  Ôøº <img width="300" src="https://habrastorage.org/files/afd/1d2/ca6/afd1d2ca680247cfad50b5de829c29b7.png"><br><br>  I suffered a little with the alignment, maybe there were small displacements somewhere, but they are not noticeable, because the most important thing is that the active pixels, which are brighter, are placed strictly along the grid and this is sewn into the picture, therefore scaling (using high-quality anti-aliasing) should not spoil the alignment of the squares.  I checked - it happened, everything is smooth and neat, it pleases the eye, the solution "in the forehead" worked the first time. <br><br>  There is a small shadow around the buttons in the unpressed state. To animate the buttons I added a mask with a hole for the button and shading that appear when pressed and make the button visually pressed into the case. <br><br>  Ôøº <img width="300" src="https://habrastorage.org/files/efe/471/3ac/efe4713acd1b477787b2975f1c2152fb.png"><br>  ÔøºÔøº <br>  The colliders of buttons are spherical and radius slightly protrude beyond the buttons to make it easier to get into (this is especially true for the top row of small buttons). <br><br>  Ôøº <img width="300" src="https://habrastorage.org/files/bdc/43b/f8e/bdc43bf8e9c04ec4a48e220e747eb014.png"><br><br><h3>  Development.  Sound </h3><br>  While working on the application, I found a real Brick Game on the city market, brought it home, and recorded the sounds of pressing and releasing real buttons.  Many players, by the way, were annoyed by these sounds, I released an update that disables these sounds in Mute mode, but even through the sound of the device itself, the sound of pressing buttons was punched through and people asked to make these sounds quieter.  And I liked these sounds so much that I didn‚Äôt want to dull them. <br><br>  Squeak generated in advance by the simplest synthesizer (mixed several types of waves). <br><br><h3>  Development.  Logics </h3><br>  The first game I added to my simulator was, of course, Tetris.  Here I tried: a symmetrical system of turns, rebounds from walls and the floor when turning, turning 180 degrees in a narrow well, fair generator of the choice of a figure, sliding after a soft fall, control (good responsiveness in general, a sharp drop by double pressing down, turning back side up) and even the famous T-spin seems to be able to do.  As a result, it was more convenient and more pleasant for me to play this game on my simulator in a smartphone than on a real Brick Game.  Not to mention the official Tetris for Android which looks more like a circus performance than Tetris (IMHO). <br><br>  Ôøº <img width="300" src="https://habrastorage.org/files/8b5/105/d46/8b5105d461ae4d71bb7041d9786e63ea.png"><br><br>  In Unity3D, you can use C # and all the advantages of OOP, which I did.  I wrote the base class for all games (with the banal name Game) and added them one by one, inheriting from this class. <br><br>  I added a snake, races, several more types of Tetris (for example, with figures from 5 blocks), pong, later tanchiki, arkanoid ... I also shoved in a couple of games unusual for this device: Digger and Bomber.  Digger turned out to be super-complex and incomprehensible, but decided to leave it as a highlight. <br><br>  Made a standard screen fill animation when losing (with the representation of the display in the code as an array, it was elementary), explosion animation for racing and a couple of other games.  Sprite, AnimatedSprite added to classes.  For example, each Tetris figure I have is a Sprite, and after shifting this sprite, you can check for collisions with the playing field and react accordingly. <br><br>  In general, the development of logic went like clockwork, and a month later, from the start of development, I posted my simulator on Google Play.  The first icon was a screenshot from the game, eventually drew a stylized icon more beautifully (while drawing, dreamed about the application with exactly this design, a smaller screen and three buttons which should be enough for a tetris and a snake in principle): <br><br><img width="64" src="https://habrastorage.org/files/ee2/cce/c09/ee2ccec09a6041c6894bb0359a4e86e5.png"><br>  Ôøº <br><h3>  Promotion </h3><br>  Of the 39 thousand, only a couple of hundred people came on the links from the Internet, which I left on various sites dedicated to Android-games.  All the rest - independently found the application in Google Play search. <br><br><h3>  Monetization </h3><br>  I wondered how much money could be earned on such a game, because all simulators were full of advertisements to disgrace, advertisements of all kinds, and it seemed that there was some sense in it.  I connected Google AdMob and according to my calculations it turned out that if you close up the entire application with advertising, you can get at least $ 5 for each thousand downloads.  Less advertising - less money.  Make advertising 5 times less, it will be roughly $ 1 for 1000 downloads.  Million downloads = $ 1000.  Or $ 5,000, if users manage to feed advertising with small patches of the game itself.  This applies only to AdMob, they say there are more generous affiliate programs, and I also had most of the traffic from the CIS countries and Brazil (for some reason), the rates for clicks from these countries are low, this also affects. <br><br>  You must have been embarrassed that I only consider downloading at my place.  As shown by my statistics from regular users, the inflow is small, mostly the newcomers are playing, half of those who download all delete the application immediately or the next day, and those who have left play so rarely that they have little effect on the statistics. <br><br>  A month later, I decided to turn off advertising in order not to spoil the application.  I note that after disabling advertising, the average rating increased and the popularity of the application also went up, users began to note the lack of advertising as one of the exclusive advantages of my simulator. <br><br><h3>  Lock and unlock </h3><br>  Ôøº <img width="500" src="https://habrastorage.org/files/e0e/263/3b4/e0e2633b4cfa4c55b884e03abb24fb67.png"><br>  Ôøº <br>  On October 4, the game was blocked and Google Play Support sent me a letter stating that my app ‚Äúhas been removed from Google Play‚Äù because it violates our metadata policy.  You are a compliant update. ‚Äù, Which means something is wrong with the description or title.  No details what exactly they did not suit, they did not report.  Like, read the rules, guess yourself, correct, or file an appeal. <br><br>  I immediately suggested that the cause of the Tetris game in the simulator and the mention of it in the description.  But this is a device simulator, in which there was always Tetris (there was nothing in the first Brick Game except Tetris)!  And it just so happened that the Brick Game device was called ‚ÄúTetris‚Äù here, even though it was wrong, it got acclimatized, it became nominal. <br><br>  But still I didn‚Äôt know for certain the reason, therefore, without changing anything, I appealed. <br><br>  After 2 days, the answer came: <br>  Ôøº <br><img width="600" src="https://habrastorage.org/files/1ee/6fb/774/1ee6fb77468e4e1bb34e543f777ae6ed.png"><br><br>  <b>Translation</b> : <i>We do not allow applications with metadata that are deceptive, irrelevant to the application, redundant or unacceptable.</i>  <i>Metadata includes application description, icons, screenshots and promotional images.</i> <i><br></i>  <i>For example, the description of your application has references to Tetris.</i> <i><br></i>  <i>Please remove extraneous keywords ...</i> <br><br>  This is such an insanity, you cannot write that you have Tetris in the game, even if it is there, but it is better to remove it at all, probably, so that there will be no problems in the future.  It would be possible to save time if they immediately wrote that the point is in the word tetris in the description. <br><br>  Subject to censored description: <br><br><img width="500" src="https://habrastorage.org/files/0c3/1ea/c6b/0c31eac6ba3145e3baa8a270e5e52692.png"><br><br>  The application is then unblocked.  I do not exclude that in the future they can slap a lock for the fact that there is Tetris in the screenshot or that it is in the simulator itself. <br><br><h3>  Links </h3><br>  Links removed on the advice of one commentator, so as not to break the rules. </div><p>Source: <a href="https://habr.com/ru/post/312554/">https://habr.com/ru/post/312554/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../312544/index.html">An example of corporate anti-virus integration with a SIEM platform</a></li>
<li><a href="../312546/index.html">Stories old maylrushechki</a></li>
<li><a href="../312548/index.html">How to stop using MVVM</a></li>
<li><a href="../312550/index.html">It's time to teach your designer to buy illustrations in photobanks</a></li>
<li><a href="../312552/index.html">Statistics for mathematics</a></li>
<li><a href="../312556/index.html">Methods for remote access to the Linux GUI</a></li>
<li><a href="../312558/index.html">node-direct - one NodeJS server for several sites</a></li>
<li><a href="../312560/index.html">Monitoring agent: simple thing or not?</a></li>
<li><a href="../312562/index.html">"Any technical change should answer the question" why? "- Classmates about Java and not only</a></li>
<li><a href="../312564/index.html">readRss - local rss reader as browser extension</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>