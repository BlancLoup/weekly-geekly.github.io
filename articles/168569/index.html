<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>RSS feed by mail</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="There is one important RSS feed for me. And I want to quickly find out about the ‚Äúnew news‚Äù in it. Unfortunately, this news server does not provide a ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>RSS feed by mail</h1><div class="post__text post__text-html js-mediator-article">  There is one important RSS feed for me.  And I want to quickly find out about the ‚Äúnew news‚Äù in it.  Unfortunately, this news server does not provide a mailing list.  I‚Äôm used to using the Google Reader web service for reading RSS, and he, in spite of his background and family ties to Gmail, doesn‚Äôt provide this feature either.  And his mobile client does not notify about the news in the tapes.  Maybe thank God - some feeds are very prolific - but there are cases when it is useful.  That's how I got out. <br><a name="habracut"></a><br><br>  A little googling, I found a fairly simple solution.  A great automation service is <a href="https://ifttt.com/">ifttt.com</a> (If This Then That).  The service allows you to create rules according to the ‚Äúif-then‚Äù principle and supports the darkness of social networks and other services.  In particular, you can create a rule that when news appears in a particular feed, an email will be sent to such and such a box.  It seems to be what is necessary, but a few moments did not give rest.  What are the flaws I see here: <br><br><ol><li>  In Google Reader you need to create a tape that you don‚Äôt need to use in practice.  After all, if I receive mail about new events, why do I need this feed in the client? </li><li>  This means that unread news will accumulate in this feed.  Clean them still not to loom ... </li><li>  For the tape, you will have to specifically create a folder so that ifttt can identify this tape.  This is already a feature of ifttt with the Google Reader service. </li><li>  In order to use ifttt, you have to register in it.  Another account, how many are you? </li></ol><br>  What to think of?  Definitely need a server solution.  And then the Corporation of Good comes to the rescue, all this in white, if again it does not close any service.  I remembered Google Apps Script and Google Drive.  The solution is very simple.  Create a table on the Goolge Disk and add the following script to it (menu ‚ÄúTools‚Äù =&gt; ‚ÄúScript Editor ...‚Äù): 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <pre><code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">onTimer</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> sheet = SpreadsheetApp.getActiveSheet(); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> maxPubDate = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> <span class="hljs-built_in"><span class="hljs-built_in">Date</span></span>(sheet.getRange(<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>).getValue()); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> txt = UrlFetchApp.fetch(<span class="hljs-string"><span class="hljs-string">"http://habrahabr.ru/rss/best/"</span></span>).getContentText(); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> doc = Xml.parse(txt, <span class="hljs-literal"><span class="hljs-literal">false</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> channel = doc.getElement().getElement(<span class="hljs-string"><span class="hljs-string">"channel"</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> mailBody = <span class="hljs-string"><span class="hljs-string">""</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> items = channel.getElements(<span class="hljs-string"><span class="hljs-string">"item"</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> curMaxPubDate = maxPubDate; <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> hasNews = <span class="hljs-literal"><span class="hljs-literal">false</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">var</span></span> i <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> items) { <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> pubDate = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> <span class="hljs-built_in"><span class="hljs-built_in">Date</span></span>(items[i].getElement(<span class="hljs-string"><span class="hljs-string">"pubDate"</span></span>).getText()); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (pubDate &gt; maxPubDate) { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (pubDate &gt; curMaxPubDate) { curMaxPubDate = pubDate } hasNews = <span class="hljs-literal"><span class="hljs-literal">true</span></span>; mailBody += <span class="hljs-string"><span class="hljs-string">"\n: "</span></span> + items[i].getElement(<span class="hljs-string"><span class="hljs-string">"title"</span></span>).getText(); mailBody += <span class="hljs-string"><span class="hljs-string">"\n: "</span></span> + items[i].getElement(<span class="hljs-string"><span class="hljs-string">"link"</span></span>).getText(); mailBody += <span class="hljs-string"><span class="hljs-string">"\n : "</span></span> + pubDate; mailBody += <span class="hljs-string"><span class="hljs-string">"\n"</span></span>; } } <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (hasNews) { GmailApp.sendEmail(<span class="hljs-string"><span class="hljs-string">"xxxxxxxx@gmail.com"</span></span>, <span class="hljs-string"><span class="hljs-string">" !"</span></span>, mailBody); sheet.getRange(<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>).setValue(curMaxPubDate); } }</code> </pre> <br>  Yes, one should not forget to enter some ancient date in cell A1, ‚Äú01/30/2002 13:00:00‚Äù, as an option.  Then set the script to run, for example, every 10 minutes.  To do this, in the script editor, select the menu item ‚ÄúResources‚Äù =&gt; ‚ÄúTriggers of the current project ...‚Äù and add a ‚Äúdynamic minute timer‚Äù. <br><br>  The script receives the contents of the tape, parses, selects news, the date of publication of which exceeds the date from cell A1, and sends them to me by mail.  Towards the curtain puts in A1 the biggest date that I found. <br><br>  For the sake of simplicity and brevity, the script lacks Atom protocol parsing.  Well, the table should add a list of observed feeds, but this is a matter of technology. <br><br>  It turns out that I did not need RSS clients, automation servers and additional accounts.  Only my google.  Just in case, I emphasize - the one described above is not at all a replacement for RSS clients.  This is just an email notification of news in one or two favorite tapes. <br><br>  To my shame, I have to admit that this is the first time it occurred to me to use Google Apps Script.  Did you have to use Google Apps Script?  If this is not a secret, please share your experience in the comments - for which tasks? <br><br>  <b>UPD:</b> <br>  I added Atom protocol parsing and monitoring of several feeds.  Details <a href="http://dmitrydzz-hobby.blogspot.ru/2013/02/rss.html">in my blog</a> . </div><p>Source: <a href="https://habr.com/ru/post/168569/">https://habr.com/ru/post/168569/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../168553/index.html">DneprPy # 1 - Great Python Web Framework Showdown (Dnepropetrovsk)</a></li>
<li><a href="../168557/index.html">A tiny quadcopter drone is now available for pre-order.</a></li>
<li><a href="../168559/index.html">Another way to shoot yourself in Perl</a></li>
<li><a href="../168563/index.html">Jumpstart: how the new economy began for the IT sphere on January 1</a></li>
<li><a href="../168565/index.html">PAK FPSU-IP and its buns</a></li>
<li><a href="../168571/index.html">Implementing yield in Kotlin</a></li>
<li><a href="../168573/index.html">A terrible bedtime story for Android users</a></li>
<li><a href="../168575/index.html">Kindle 5 Review</a></li>
<li><a href="../168577/index.html">Microsoft is going to release Office for Linux in 2014</a></li>
<li><a href="../168583/index.html">Gossip. A new commercial of the new Chromebook Pixel with a touch screen and a resolution of 2560 x 1700 px</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>