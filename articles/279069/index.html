<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>1.2 SFML and Code :: Blocks (MinGW)</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="From the translator: This article is the second in the translation cycle of the official SFML library manual. Past article can be found here. This ser...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>1.2 SFML and Code :: Blocks (MinGW)</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/files/bc7/94a/b37/bc794ab377be444f8090426e56ae38bd.png"><br><br>  <i>From the translator: This article is the second in the translation cycle of the official SFML library manual.</i>  <i>Past article can be found <a href="https://habrahabr.ru/post/278977/" title="Previous article: SFML and Visual Studio">here.</a></i>  <i>This series of articles aims to provide people who do not know the original language the opportunity to get acquainted with this library.</i>  <i>SFML is a simple and cross-platform multimedia library.</i>  <i>SFML provides a simple interface for developing games and other multimedia applications.</i>  <i>The original article can be found <a href="http://www.sfml-dev.org/tutorials/2.3/start-cb.php" title="Original article: SFML and Code :: Blocks (MinGW)">here</a> .</i>  <i>Let's start.</i> <br><a name="habracut"></a><br><div class="spoiler">  <b class="spoiler_title">Table of contents:</b> <div class="spoiler_text">  0.1 Introduction <br><br>  1. Getting Started 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <ol><li>  <a href="https://habrahabr.ru/post/278977/" title="Go to the article: SFML and Visual Studio">SFML and Visual Studio</a> </li><li>  <a href="https://habrahabr.ru/post/279069/" title="Go to Article: SFML and Code :: Blocks (MinGW)">SFML and Code :: Blocks (MinGW)</a> </li><li>  <a href="https://habrahabr.ru/post/279107/" title="Go to Article: SFML and Linux">SFML and Linux</a> </li><li>  <a href="https://habrahabr.ru/post/279147/" title="Go to Article: SFML and Xcode (Mac OS X)">SFML and Xcode (Mac OS X)</a> </li><li>  <a href="https://habrahabr.ru/post/279279/" title="Go to Article: Compiling SFML with CMake">Compiling SFML with CMake</a> </li></ol><br>  2. System Module <br><br><ol><li>  <a href="https://habrahabr.ru/post/279347/" title="Go to article: Processing Time">Processing time</a> </li><li>  <a href="https://habrahabr.ru/post/279653/" title="Go to article: Streams">Streams</a> </li><li>  <a href="https://habrahabr.ru/post/279689/" title="Go to article: Working with custom data streams">Work with custom data streams</a> </li></ol><br>  3. Window Module <br><br><ol><li>  <a href="https://habrahabr.ru/post/279957/" title="Go to Article: Opening and Managing Windows">Opening and managing windows</a> </li><li>  <a href="https://habrahabr.ru/post/280153/" title="Go to article: Event Handling">Event handling</a> </li><li>  Work with the keyboard, mouse and joysticks </li><li>  Using OpenGL </li></ol><br>  4. Graphics Module <br><br><ol><li>  Drawing 2D objects </li><li>  Sprites and textures </li><li>  Text and Fonts </li><li>  Forms </li><li>  Designing your own objects using arrays of vertices </li><li>  Position, Rotation, Scale: Transform Objects </li><li>  Adding special effects with shaders </li><li>  2D camera control and view </li></ol><br>  5. Audio module <br><br><ol><li>  Playing sounds and music </li><li>  Audio recording </li><li>  Custom audio streams </li><li>  Spitalization: sounds in 3D </li></ol><br>  6. Network module <br><br><ol><li>  Socket communication </li><li>  Use and Expansion Packages </li><li>  Web requests using HTTP </li><li>  File Transfer Using FTP </li></ol><br></div></div><br><h2>  Introduction </h2><br>  This article is the first one you should read if you use the Code :: Blocks development environment with the GCC compiler (this is the standard compiler for this development environment).  It will tell you how to set up your project. <br><br><h2>  SFML installation </h2><br>  First you need to download the SFML SDK from the <a href="http://www.sfml-dev.org/download.php" title="Go to download page">download page</a> . <br><br>  There are several versions of GCC for Windows that are incompatible with each other (differences in exception handling, in the threading model, etc.).  Make sure you select the package that matches the version of GCC that you are using.  If you are not sure, check which of the files (libgcc_s_sjlj-1.dll or libgcc_s_dw2-1.dll) are present in your MinGW / bin directory.  If MinGW is installed with Code :: Blocks, you probably have the SJLJ version.  If your version of GCC cannot work with a pre-compiled version of the SFML library, you will have to <a href="http://www.sfml-dev.org/tutorials/2.3/compile-with-cmake.php" title="How to build SFML">build SFML yourself</a> .  It is not difficult. <br><br>  Next you have to unpack the archive with SFML in any directory convenient for you.  Copying header files and libraries into your MinGW installation is not recommended.  It is better to keep the libraries in a separate place, especially if you intend to use several versions of one library or several compilers. <br><br><h2>  Creating and configuring an SFML project </h2><br>  The first thing you need to do is choose the type of project you are creating.  Code :: Blocks offers a wide range of project types, including the SFML project.  Do not use it!  This type of project has not been updated for quite a long time and is most likely incompatible with the latest versions of SFML.  Instead, create an empty project.  If you want to get rid of the console, in the project properties go to ‚ÄúBuild targets‚Äù and in the combo box select ‚ÄúGUI application‚Äù instead of ‚ÄúConsole application‚Äù. <br><br>  Now you need to tell the compiler where to look for header files (files with the .hpp extension) and the linker, where to look for SFML libraries (files with the .lib extension). <br><br>  Add the following to the ‚ÄúBuild options‚Äù tab in the ‚ÄúSearch directories‚Äù tab: <br><br><ul><li>  Path to SFML headers ( <em>&lt;install-SFML-path&gt; / include</em> ) in Compiler search directories </li><li>  Path to the SFML libraries ( <em>&lt;installation path-SFML&gt; / lib</em> ) in Linker search directories </li></ul><br>  These paths are the same for Debug and Release configurations, so you can set them globally for your project. <br><br><img src="https://habrastorage.org/files/842/c6f/0ae/842c6f0ae9b64776bbe52183d87338fc.png"><br><br>  The next step is to build your application with the SFML libraries (files with the extension .a).  SFML consists of five modules (system, window, graphics, network and audio) and libraries for each of them.  Libraries should be added to ‚ÄúLink libraries‚Äù to the list of options for building your project, under the ‚ÄúLinker settings‚Äù tab.  Add all the SFML libraries that you need, for example ‚Äúsfml-graphics‚Äù, ‚Äúsfml-window‚Äù and ‚Äúsfml-system‚Äù (the ‚Äúlib‚Äù prefix and the extension ‚Äú.a‚Äù should be omitted). <br><br><img src="https://habrastorage.org/files/fc5/a05/650/fc5a0565026f4d2498b9dacdf7eda7e5.png"><br><br>  It is important to specify the libraries corresponding to the configuration: ‚Äúsfml-xxx-d‚Äù for Debug and ‚Äúsfml-xxx‚Äù for Release, otherwise errors may occur. <br><br>  When compiling SFML libraries, make sure that you arrange the libraries in the correct order; this is very important for GCC.  The rule is that libraries that depend on other libraries should be placed first on the list.  Any SFML library depends on sfml-graphics, sfml-window and sfml-system.  This is shown in the screenshot above. <br><br>  The settings above allow you to build your project with a dynamic version of SFML, which requires DLL files.  If you want to directly integrate SFML into your executable file, rather than using the build with a dynamic library, you must build a static version of the library.  SFML static libraries have the suffix "-s": "sfml-xxx-sd" for Debug configuration and "sfml-xxx-s" for Release. <br><br>  You also need to define the SFML_STATIC macro in the preprocessor options of your project. <br><br><img src="https://habrastorage.org/files/c5d/574/e6b/c5d574e6b69549149ee6f1461663d690.png"><br><br>  Starting with SFML 2.2 with a static layout, you also need to build all the SFML dependencies.  This means that if, for example, you build sfml-window-s or sfml-window-sd, you also have to build opengl32, winmm and gdi32.  Some of these libraries may already be listed in the ‚ÄúInherited values‚Äù section, but adding them should not cause any problems. <br><br>  The table below shows the dependencies for each module, add -d if you want to build the SFML Debug library: <br><table><thead><tr><th>  Module </th><th>  Dependencies </th></tr></thead><tbody><tr><td><code>sfml-graphics-s</code> </td> <td><ul><li>  sfml-window-s </li><li>  sfml-system-s </li><li>  opengl32 </li><li>  freetype </li><li>  jpeg </li></ul></td></tr><tr><td> <code>sfml-window-s</code> </td> <td><ul><li>  sfml-system-s </li><li>  opengl32 </li><li>  winmm </li><li>  gdi32 </li></ul></td></tr><tr><td> <code>sfml-audio-s</code> </td> <td><ul><li>  sfml-system-s </li><li>  openal32 </li><li>  flac </li><li>  vorbisenc </li><li>  vorbisfile </li><li>  vorbis </li><li>  ogg </li></ul></td></tr><tr><td> <code>sfml-network-s</code> </td> <td><ul><li>  sfml-system-s </li><li>  ws2_32 </li></ul></td></tr><tr><td> <code>sfml-system-s</code> </td> <td><ul><li>  winmm </li></ul></td></tr></tbody></table><br>  From the table, you may have noticed that some SFML modules may depend on others, for example, sfml-graphics-s depends on sfml-window-s and sfml-system-s.  If you produce the static layout of the SFML library, be sure that all dependencies from the dependency chain have been satisfied.  If one of the dependencies is missing, you will get a linker error. <br><br>  If you're a little confused, don't worry, it‚Äôs completely normal for a beginner to be overloaded with all this static binding information. If you don‚Äôt get it right the first time, you can try again with all the above in mind.  If you still have problems with static binding, you can try searching for a solution in the <a href="http://www.sfml-dev.org/faq.php" title="Go to the FAQ section">FAQ</a> section or on the <a href="http://en.sfml-dev.org/forums/index.php%3Fboard%3D4.0" title="Go to the main forum page">forum</a> . <br><br>  If you do not know the difference between dynamic (also called common) and static libraries and what type of libraries to use, you can find more information on the Internet.  There are many good articles / blogs / posts on this topic. <br><br>  Your project is ready, let's write some code to check that everything works correctly.  Place the following code in the main.cpp file: <br><br><pre> <code class="hljs mel">#include &lt;SFML/Graphics.hpp&gt; <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> main() { sf::RenderWindow <span class="hljs-keyword"><span class="hljs-keyword">window</span></span>(sf::VideoMode(<span class="hljs-number"><span class="hljs-number">200</span></span>, <span class="hljs-number"><span class="hljs-number">200</span></span>), <span class="hljs-string"><span class="hljs-string">"SFML works!"</span></span>); sf::CircleShape shape(<span class="hljs-number"><span class="hljs-number">100.</span></span>f); shape.setFillColor(sf::Color::Green); <span class="hljs-keyword"><span class="hljs-keyword">while</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">window</span></span>.isOpen()) { sf::Event <span class="hljs-keyword"><span class="hljs-keyword">event</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">while</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">window</span></span>.pollEvent(<span class="hljs-keyword"><span class="hljs-keyword">event</span></span>)) { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">event</span></span>.type == sf::Event::Closed) <span class="hljs-keyword"><span class="hljs-keyword">window</span></span>.close(); } <span class="hljs-keyword"><span class="hljs-keyword">window</span></span>.<span class="hljs-keyword"><span class="hljs-keyword">clear</span></span>(); <span class="hljs-keyword"><span class="hljs-keyword">window</span></span>.draw(shape); <span class="hljs-keyword"><span class="hljs-keyword">window</span></span>.display(); } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span>; }</code> </pre><br><br>  Now compile the project, and if you linked your program with a dynamic version of SFML, do not forget to copy the files with the extension .DLL (they are located in &lt;SFML installation path / / bin) to the directory where the executable file of your program is located .  Run the program, and if everything was done correctly, you should see this: <br><br><img src="https://habrastorage.org/files/936/c3e/f4f/936c3ef4fae8462b8d90c7273c1cbcfa.png"><br><br>  If you are using the sfml-audio module (regardless of its static or dynamic version), you should also copy the external dll OpenAL32.dll.  This file can also be found in the <em>&lt;install-SFML-path&gt; / bin directory</em> . <br><br>  Next article: <a href="https://habrahabr.ru/post/279107/" title="Go to the next article">SFML and Linux.</a> </div><p>Source: <a href="https://habr.com/ru/post/279069/">https://habr.com/ru/post/279069/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../279055/index.html">West Game Development Forum: Create, Share, Improve</a></li>
<li><a href="../279059/index.html">Svezhak for iOS developers - Digest MBLTdev</a></li>
<li><a href="../279061/index.html">Icy Rocks Test for Android: it's time for a real test</a></li>
<li><a href="../279063/index.html">Automatically update Firefox extensions</a></li>
<li><a href="../279067/index.html">How to create animations and transitions using Motion UI</a></li>
<li><a href="../279071/index.html">AlphaGo on the fingers</a></li>
<li><a href="../279073/index.html">Security Week 10: extortionist for OS X, iPhone passcode bypass, Facebook vulnerability and bug bounty benefits</a></li>
<li><a href="../279075/index.html">Android N Preview: API and Developer Tools</a></li>
<li><a href="../279081/index.html">4 ways to make game learning interesting</a></li>
<li><a href="../279083/index.html">Grid implementation for working with large tables. Part 2</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>