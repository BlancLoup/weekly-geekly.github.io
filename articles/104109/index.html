<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>The art of programming under Unix (and not only). Part six, the ‚Äúcode-saving rule‚Äù</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="I continue the series of articles devoted to some simple rules for developing under Unix ‚Äúaccording to Eric Raymond ‚Äù, which, in my deepest conviction...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>The art of programming under Unix (and not only). Part six, the ‚Äúcode-saving rule‚Äù</h1><div class="post__text post__text-html js-mediator-article">  I continue the series of articles devoted to some simple rules for developing under Unix ‚Äúaccording to <a href="http://ru.wikipedia.org/wiki/%25D0%25A0%25D1%258D%25D0%25B9%25D0%25BC%25D0%25BE%25D0%25BD%25D0%25B4,_%25D0%25AD%25D1%2580%25D0%25B8%25D0%25BA">Eric Raymond</a> ‚Äù, which, in my deepest conviction, can be extended to any other operating system.  I have already told in the first three parts about the rules of <a href="http://habrahabr.ru/blogs/development/101040/">modularity</a> , <a href="http://habrahabr.ru/blogs/development/101290/">clarity</a> , <a href="http://habrahabr.ru/blogs/development/103004/">composition</a> , <a href="http://habrahabr.ru/blogs/development/103207/">separation</a> and <a href="http://habrahabr.ru/blogs/development/103628/">simplicity</a> .  Today it came to the sixth rule - <br><br>  <b>Code savings rule: develop large programs only if there are objective reasons to do it</b> <a name="habracut"></a><br><br>  There is a generation of programmers whom I call <nobr>write-only programmers</nobr> .  These are people who love to create, but do not have time to comprehend.  They can in a very short time write a quite working monster, but after a week they already find it difficult to change <nobr>something</nobr> in it.  Especially if the change is not petty.  The rule of code-economy echoes Raymond's other rules, moreover, it is inextricably linked with them.  A module that solves one well-formulated problem should be small in volume.  If this does not work, then you need to think, and is it possible to break one task into several smaller ones?  In the original interpretation of this rule there are words 'by demonstration', which means that you should be able to prove to your colleagues in the shop that it is impossible to break further or impractical. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      The development of a large amount of code immediately in a short time is often caused not only by the investor‚Äôs desire to get the product soon (although this is the most common reason).  A greater misfortune is excessive perfectionism attached to the wrong place.  Programmers who have completed the first version of the product, it becomes ‚Äúboring‚Äù to do routine support and sluggish development and correcting their own mistakes, because they already understand perfectly well that they have done ‚Äúwrong‚Äù from the very beginning.  And they start everything from scratch.  This is usually presented to investors as a boon.  In fact, this is often a path leading to even more problems.  Not always giving, but there are many negative examples even among well-known brands. It is known that it is much more difficult to ‚Äúread‚Äù code than to write it.  The smaller the person in the team, the better and more consistent the product comes out, because there are fewer communications and, consequently, opinions and ‚Äúdifferent handwriting‚Äù.  But to ensure that this product was supported by others, with this approach is not easy.  Because ‚Äúnot lordly this business‚Äù is to write technical documentation and administration interfaces ( <i>‚ÄúSARCASM‚Äù sign</i> ). <br><br>  From my own experience, I can recall the development of the object programming language ArtPublishing.  We created it in C / <nobr>C ++</nobr> , instead of the existing implementation of the <acronym>Perl</acronym> template <acronym>language</acronym> .  The latter did not suit us in the first place in terms of performance.  As a result, the language of the templates turned out to be the language on which fairly complex websites were built - <nobr>online shopping</nobr> , communities, complex corporate websites, <nobr>intranet systems</nobr> and, most interesting, full-fledged content management system.  From the very beginning, we understood that the monster would turn out and we should do it right.  In developing the interpreter of the language, the most important thing is to lay a reserve for development, because it promises to be very intensive.  <nobr>Somewhere</nobr> we managed it, <nobr>somewhere</nobr> - no.  For example, the wrong choice of storing strings (‚Äúsishny‚Äù, from 00 at the end) made a very expensive refinement for using <nobr>UTF-8</nobr> .  On the other hand, the use of external plug-ins and APIs made it possible to develop the system without affecting the so-called.  ‚ÄúCore‚Äù, since several sites for different clients worked in parallel on it at once. <br><br>  To quickly put the language into test operation, we first completely repeated the syntax of the Template library for <acronym>Perl</acronym> , and switched the processing of templates to <nobr>C ++</nobr> .  We made sure that everything worked on the example of the project <a href="http://chernobil.ru/">chernobil.ru</a> , and then began to build up the language with all sorts of useful constructions that were not in <acronym>Perl</acronym> , leaving backward compatibility.  In fact, the first system run was on some ‚Äúplugs‚Äù, which, one by one, were replaced with workable modules.  If anyone is interested, there is some rather poor documentation for the language <a href="http://raliev.ru/node/17">here</a> .  By the way, being a little distracted from the topic, they were very close to releasing the compiler in <nobr>C ++</nobr> .  Imagine a website compiled into a binary code in the form of a single executable <nobr>exe-shnik</nobr> and a set of <nobr>dll-modules</nobr> (in Unix, respectively, of the executable file and <nobr>so-modules</nobr> )?  That is, an interpreter for debugging and a compiler with a compiler for publishing.  For 2001-2002, it would be a rather interesting decision, but, alas, time has already run away. The language, unfortunately, was monstrous in syntax - but this could not be avoided, it was necessary to withstand backward compatibility with the <nobr>Perl version</nobr> .  Here is what the functionality of one of the forum modules looked like, for example: <hr><pre>  &amp; {../ templates / header ()};
 &amp; {init ()};
 &amp; {# message_id = param ('id')};
 &amp; {# message_parent = "&amp;&amp; {../ papa (#message_id)};"};
 &amp; {# tree = "&amp;&amp; {../ tree_message (#message_parent)};"};
 &lt;! -% if {: '&amp; {# message_id};'  ne '':} -&gt;
 &lt;! -% repeat source = "sql_uprate (#message_id)" -&gt; &lt;! -% / repeat -&gt;
 &lt;! -% repeat source = "sql_message (# message_id, # approved_check)" -&gt;
         &amp; {# message_answer = .. / templates / message_answer ()};
         &amp; {# author = "&amp; f {#author};"};
         &amp; {# title = "&amp; f {#title};"};
         &lt;! -% if {: '&amp; {# user_mode};'  eq 'admin':} -&gt; &amp; {# admin_message = .. / templates / admin_message ()}; &lt;! -% / if -&gt;
         &lt;! -% if {: '&amp; {# email};'  ne '':} -&gt; &amp; {# author = "&lt;a href='mailto:&amp;{#email};'&gt; &amp; {# author}; &lt;/a&gt;"}; &lt;! -% / if- -&gt;
         &lt;! -% repeat source = "sql_forum (#forum_id)" -&gt;
                 &amp; {# path = "&amp; {../ templates / path ()};"};
         &lt;! -% / repeat -&gt;
         &amp; {../ templates / message ()};
 &lt;! -% / repeat -&gt;
 &lt;! -% / if -&gt;
 &amp; {../ templates / footer ()};
</pre><hr>  But with all, at times, terrible programming style in this language, one important feature was observed, without which it is simply impossible to program on it.  This is the need to think modularly.  A rare file with logic inside, such as the one shown above, did not exceed the screen page in size.  It has always had an interface that allows it to be used elsewhere.  If a new person connected to the product support, he could always start a small piece of the module for debugging and see how it works. <br><br>  As a result, returning to the topic, here are my recommendations for the development of large systems: <ul><li>  The system should be assembled from ‚Äúbricks‚Äù, each of which should be as ‚Äúisolated‚Äù as possible. ‚ÄúBricks‚Äù should form a hierarchy.  Ideally, it should be possible to replace the ‚Äúbricks‚Äù with ‚Äúplugs‚Äù that imitate their work for the earliest possible test run. </li><li>  To work on the "building blocks" you can hire a fairly large group of programmers, and on the architecture of the project - the most compact team of professionals.  Technical management of the development of "bricks" and responsible acceptance should be on this team.  The development of interfaces between the ‚Äúbricks‚Äù and the entire architecture as a whole will definitely take time, which is often saved with other approaches.  This is the biggest mistake when developing large systems. </li><li>  Documenting the work of "building blocks" should be as compact as possible: what is at the entrance, what is at the exit and how it works in a nutshell, plus a few important points that may not be clear from the code.  Of the documents, the scheme of integrating ‚Äúbricks‚Äù into the system is much more important.  It should be built so that you can explain in five minutes how the program works. </li><li>  Each module should be supplied with a set of tests that demonstrate its operation in accordance with the requirements.  The criterion for accepting the module to work ‚Äî the tests pass, the documentation is short, understandable and corresponds to the tests, satisfactory and ‚Äúreadable‚Äù code. </li></ul><table><tbody><tr><td>  " <a href="http://habrahabr.ru/blogs/development/103628/"><b>Previously: the rule of simplicity</b></a> </td><td>  <a href="http://habrahabr.ru/blogs/development/104191/"><b>Transparency Rule</b></a> </td></tr></tbody></table></div><p>Source: <a href="https://habr.com/ru/post/104109/">https://habr.com/ru/post/104109/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../104102/index.html">Digital lock on the room</a></li>
<li><a href="../104103/index.html">Parallel tasks. The case of "perfect parallelism." Part 2</a></li>
<li><a href="../104104/index.html">Compilation. 10: compile in ELF</a></li>
<li><a href="../104106/index.html">Limb framework version 2010.1 RC2</a></li>
<li><a href="../104108/index.html">Boris Bobrovnikov: IT business today by itself</a></li>
<li><a href="../104114/index.html">Photo review of HP Proliant DL980 G7</a></li>
<li><a href="../104115/index.html">Microsoft congratulates on the Day of the programmer!</a></li>
<li><a href="../104120/index.html">Herman Klimenko does not want to invest "losers"</a></li>
<li><a href="../104121/index.html">For those who want to learn to perceive English by ear</a></li>
<li><a href="../104122/index.html">Russian Android-smartphone 4G with two screens</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>