<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Automatic numbering of the assembly on the example of haxe</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Introduction 
 Currently, I am working on a project, one of the main tools in which the language is haxe. As a development environment for haxe, in th...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Automatic numbering of the assembly on the example of haxe</h1><div class="post__text post__text-html js-mediator-article"><h4>  Introduction </h4><br>  Currently, I am working on a project, one of the main tools in which the language is haxe.  As a development environment for haxe, in this project, I use FlashDevelop.  During the day, the project is collected many times, and you need to know exactly which build, now, is shared.  For this you need to number the assembly.  Since neither the haxe nor the FlashDevelop standard tool for generating an assembly number was found, I propose to do a certain trick to solve this problem. <br><a name="habracut"></a><br><br><h4>  Trick </h4><br>  First, create a Build class containing the following code: <br><br> <code>package ; <br> class Build { <br> public static var number:Int = 1; <br> }</code> <br> <br>  Now, anywhere in our project, we can find out the build number by referring to the number field of the Build class. <br>  For example: <br> <code>new Label(this, 10, height-20, Config.version+"."+Build.number, Colors.white, 12);</code> <br> <br>  The next step was to automate the increment build number.  Create a .build file, in the root of the project, this file will contain a single line num = 1 (or the number with which to start the account). 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     <code>num=1</code> <br> <br>  And now, the prebuild.bat script, which will do the ‚Äúdirty work‚Äù for me.  Place the script next to the .build file.  This script will create a Build class containing the current build number based on the number already contained in the .build file.  And then increase it by one and overwrite .build. <br><br> <code>@echo off <br> <br> set filename=.build <br> set hxclass=.\src\build.hx <br> call :read_settings %filename% || exit /b 1 <br> <br> set /a RESULT=NUM + 1 <br> <br> echo Build : %RESULT% <br> <br> echo num=%RESULT%&gt;%filename% <br> rem        <br> echo package ; class Build { public static var number:Int = %RESULT%; }&gt;%hxclass% <br> echo <br> <br> exit /b 0 <br> <br> rem <br> rem      . <br> rem : <br> rem %1 -     <br> :read_settings <br> <br> set fname=%1 <br> <br> rem    <br> if not exist %fname% ( <br> echo FAIL:     <br> exit /b 1 <br> ) <br> <br> for /f "eol=# delims== tokens=1,2" %%i in (%fname%) do ( <br> set %%i=%%j <br> ) <br> <br> exit /b 0</code> <br> <br>  It remains to answer the question: "How to run prebuild.bat before the general build of the project?". <br>  For FlashDevelop (for other IDEs by analogy), this is done like this: open the Project-&gt; Properties menu, then the Build tab and the Pre-build command line field, in which we write the following $ (ProjectDir) \ prebuild.bat. <br><br>  On this, the trick is done.  Before each build, the Build class will be overwritten with the new value of the number field, which will provide the desired result. <br><br>  PS Function code read_setting taken from the site rsdn.ru. <br><br>  The article is published at the request of a friend without a residence permit in Habr√©. </div><p>Source: <a href="https://habr.com/ru/post/83739/">https://habr.com/ru/post/83739/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../83731/index.html">Opera will show Opera Mini for iPhone</a></li>
<li><a href="../83733/index.html">Updated Battle.net</a></li>
<li><a href="../83735/index.html">Level 80 summary or ‚ÄúEaster egg‚Äù on hh.ru</a></li>
<li><a href="../83736/index.html">Pseudo Linking in Axure</a></li>
<li><a href="../83737/index.html">LiveInternet statistics on social networks</a></li>
<li><a href="../83742/index.html">beeline and imposition of services</a></li>
<li><a href="../83746/index.html">Author SauceKit arrested</a></li>
<li><a href="../83747/index.html">Poll: Russian-speaking community of MMORPG players</a></li>
<li><a href="../83748/index.html">Envato which is ‚ÄúMust Have‚Äù for everyone</a></li>
<li><a href="../83749/index.html">Habraohrana and culture of speech</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>