<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>DaData.ru calculates coordinates, and the address parser wags its tail</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="DaData.ru is a service for automatically checking and correcting contact information (name, addresses, phone numbers, email). 

 November is in the ya...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>DaData.ru calculates coordinates, and the address parser wags its tail</h1><div class="post__text post__text-html js-mediator-article">  <i>DaData.ru is a service for automatically checking and correcting contact information (name, addresses, phone numbers, email).</i> <br><br>  November is in the yard, and new features on <a href="http://www.dadata.ru/">DaData.ru</a> : <br><ul><li>  geocoordinate definition, </li><li>  Daytime sms </li><li>  new address algorithm </li><li>  optimization for smartphones </li><li>  statistics in your account, </li><li>  module for iOS. </li></ul><br><br><a name="habracut"></a><h2>  Do not let the parcel go to Khimki instead of the center of Moscow </h2><br>  Once the operator of the Tula call center accepted the order and drove the address ‚ÄúMoscow Nagornoye 1‚Äù instead of ‚ÄúMoscow Nagornaya Street 1‚Äù.  Then the address was automatically chased through Yandex and received geo-coordinates of the Nagorny Highway in Khimki.  The parcel left for Khimki, and took it out with great difficulty. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      To make such stories smaller, we added geocoordinates to the <a href="https://dadata.ru/api/">API</a> .  Transfer the address in one line, and we will sort through KLADR and put down geo-coordinates. <br><br><img height="359" src="https://habrastorage.org/getpro/habr/post_images/6e1/b9f/509/6e1b9f50975b8898f7fa2d0e4c35f469.png" width="613"><br>  We are looking for carefully - we return the coordinates of the street, if the house is not found.  And the coordinates of the city center, if not found street. <br>  We always indicate the accuracy with which the geo-coordinates of the object were found - this is a house, street or settlement (see <a href="https://dadata.ru/api/clean/">quality codes</a> ). <br>  We use <a href="http://www.openstreetmap.org/">OSM</a> . <br><br>  Coverage of houses: <br><ul><li>  Moscow - 45%, </li><li>  other million cities - 35%, </li><li>  the rest of Russia is 10%. </li></ul><br>  Street coverage: <br><br><ul><li>  Moscow - 90%, </li><li>  other million cities - 60%, </li><li>  the rest of Russia - 25%. </li></ul><br><br>  Gradually we plan to add data on geocodes to increase coverage. <br><br><h2>  Send SMS on time </h2><br>  The online store that does the SMS distribution, the API will determine the time zone for the delivery address. <br><br><img height="572" src="https://habrastorage.org/getpro/habr/post_images/657/36a/f55/65736af55b0b67076b748b43e3168a27.png" width="423"><br><br><h2>  Tips on region, city, street and home </h2><br>  For those whose CMS does not allow entering the address in one line, they made <a href="http://codepen.io/dadata/pen/cGkah%3Feditors%3D101">granular prompts for addresses</a> . <br><br> <a href="https://dadata.ru/suggestions/"><img height="438" src="https://habrastorage.org/getpro/habr/post_images/1e0/9c8/74d/1e09c874d8aee777fa7768b94a9f00fe.png" width="553"></a> <br><br><h2>  Tips on smartphones </h2><br>  It used to be inconvenient to enter a company or address on a smartphone. <br><br><img height="533" src="https://habrastorage.org/getpro/habr/post_images/198/bc0/233/198bc0233fb96ec3547df9a91574e933.png" width="300"><br><br>  And now even the owner of a 3.5-inch phone will fill in the company details in 10 seconds (we checked). <br><br><img height="533" src="https://habrastorage.org/getpro/habr/post_images/dcb/feb/59b/dcbfeb59bc59bdb26faa205661fe40c6.png" width="300"><br><br>  TIN on a separate line and clearly visible.  And the address does not litter the space, only the region remains from it. <br><br><h2>  Process addresses through a new smart filter. </h2><br>  Last year we actively reworked the email address recognition algorithm.  A year of heated debates between developers and testers on the topic ‚Äúhow to properly parse addresses‚Äù.  Year of permanent code fixes and daily monitoring of automated tests. <br><br>  And here it is - a new address filter.  Call it through an API or process files.  Tested on 50 million autotests. <br><br>  Those who wrote errors on the forum - many thanks! <br><br>  Special thanks to the authors of the topics: <br><ul><li>  <a href="http://dadata.userecho.com/topic/513746-petrovsko-razumovskij-proezd-msk/">Petrovsko-Razumovsky passage MSC</a> </li><li>  <a href="http://dadata.userecho.com/topic/513204-oshibka-v-opredelenii-rajona-iz-adresa-dlya-respubliki-bashkortostan/">Error in determining the area from the address for the Republic of Bashkortostan</a> </li><li>  <a href="http://dadata.userecho.com/topic/508300-davat-prioritet-regionalnyim-tsentram/">Give priority to regional centers</a> </li><li>  <a href="http://dadata.userecho.com/topic/313801-6-novopodmoskovnyij-pereulok-perevodit-v-novopodmoskovnyij-1-j/">6 Novopodoskovny lane translates to Novopodmoskovny 1st</a> </li><li>  <a href="http://dadata.userecho.com/topic/486852-kak-po-kladr-dolzhen-razbiratsya-adres-moskva-47-km-mkad/">How should KLADR understand the address of Moscow, 47 km of the Moscow Ring Road?</a> </li><li>  <a href="http://dadata.userecho.com/topic/445787-ne-razbiraet-ulitsu-letchika-gritsevtsa/">Does not understand the street Pilot Gritsevets</a> </li><li>  <a href="http://dadata.userecho.com/topic/439952-nepravilno-raspoznaet-adresa-v-rostove/">Incorrectly recognizes addresses in Rostov</a> </li><li>  <a href="http://dadata.userecho.com/topic/392655-oshibka-opredeleniya-ulitsyi-riharda-zorge/">Error determining the street Richard Sorge</a> </li><li>  <a href="http://dadata.userecho.com/topic/368428-oshibki-pri-opredelenii-adresov-moskvyi/">Errors in determining the addresses of Moscow</a> </li></ul><br><br><h2>  Count the money </h2><br>  See statistics for processed records in your account. <br><br> <a href="https://dadata.ru/profile/"><img src="https://habrastorage.org/getpro/habr/post_images/95d/321/bfc/95d321bfc6a9f42ec68fd22dc67bd888.png" width="817"></a> <br><br><h2>  Enable tips for iOS </h2><br>  Nikolay Sotsky from InstaDev made an excellent module for calling hints from iOS: <a href="https://github.com/InstaDev/IDDaDataSuggestions">https://github.com/InstaDev/IDDaDataSuggestions</a> . <br><br>  We will be glad to questions <a href="http://dadata.userecho.com/">on the forum</a> ! <br></div><p>Source: <a href="https://habr.com/ru/post/242557/">https://habr.com/ru/post/242557/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../242539/index.html">David Chappell about the clouds and the future development</a></li>
<li><a href="../242541/index.html">Writing a framework on asyncio, aiohttp and thinking about Python3 part one</a></li>
<li><a href="../242543/index.html">Detailed description of development capabilities with Microsoft Azure Cloud Services</a></li>
<li><a href="../242545/index.html">Practical application of FlexBox</a></li>
<li><a href="../242547/index.html">Dagaz: A new beginning</a></li>
<li><a href="../242559/index.html">Top 5 ORM for Android</a></li>
<li><a href="../242567/index.html">How to sell an idea or 7 types of idea buyers</a></li>
<li><a href="../242569/index.html">Internet services: how to find now and what they promise in the near future</a></li>
<li><a href="../242571/index.html">Will SAFe be an industry standard in Enterprise Agile?</a></li>
<li><a href="../242577/index.html">The process of connecting Yii 1.1.15 to the CMS as an application on the example of Shop-Script 5</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>