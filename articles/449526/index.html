<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Introducing Tartiflette: an open source implementation of GraphQL for Python 3.6+</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Friends, on the eve of the May holidays, we decided not to overwhelm you with complex technical articles, so we found quite interesting, and most impo...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Introducing Tartiflette: an open source implementation of GraphQL for Python 3.6+</h1><div class="post__text post__text-html js-mediator-article">  Friends, on the eve of the May holidays, we decided not to overwhelm you with complex technical articles, so we found quite interesting, and most importantly, easy-to-read material, which we gladly share with you.  This material we want to coincide with the launch of the course <a href="https://otus.pw/rkJs/">"Web-developer in Python"</a> . <br><br>  The original can be found <a href="https://medium.com/dailymotion/tartiflette-graphql-api-engine-python-open-source-a200c5bbc477">here</a> . <br><br><img src="https://habrastorage.org/webt/xw/2j/xa/xw2jxayregkf_rgejzkojjpbijc.png">
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      The acquisition of <a href="https://www.dailymotion.com/fr">Vivendi dailymotion</a> three years ago was a turning point for our organization.  This allowed us to rethink the vector of our work, to rethink our work from beginning to end.  We used the opportunity to assess <i>dailymotion</i> as a whole, rethink our infrastructure and, more importantly, the architecture of our products. <br><br>  In the end, the conducted self-analysis confirmed what we already knew: we wanted to territorially distribute our platform and develop <u>API-interfaces</u> , mobile and TV applications.  This marked the rejection of the current monolithic structure and the adoption of an API-based approach.  This article describes the path we took. <br><a name="habracut"></a><br>  <b>Criteria and concept checks</b> <br><br>  We started the project with the definition of API criteria, which ultimately narrowed to four points: <br><br><ul><li>  <b>Ensuring a good DX</b> (developer experience), ease of use and implementation; </li><li>  <b>Cultivating a solid and growing community</b> , one that would aggregate and use common technologies; </li><li>  <b>Behavior similar to the gateway in terms of software architecture</b> , aimed at simplifying the transformation of our system integration from monolith to SOA (service-oriented architecture); </li><li>  The ability to implement API management tools, namely API management, documentation, and data access. </li></ul><br>  Next, we selected several API models and tested several concepts in order to understand their feasibility: <br><br><ul><li>  <b>Rest API</b> with Swagger </li><li>  <b>GraphQL API</b> with Graphene </li><li>  <b>API</b> with Falcor </li></ul><br><img src="https://habrastorage.org/webt/xk/ma/yp/xkmaypvpzny_c_gxphrivqjbt-q.gif"><br><br>  After rigorous testing, we found that <a href="https://graphql.org/">GraphQL</a> and its implementations of Graphene best fit our criteria in comparison with other models.  This allowed our front-end developers to more easily use our API, and at the same time simplify its use in client applications (for example, React JS and Apollo Client).  In our architecture, GraphQL also turned out to be simpler and more efficient as a pattern gateway.  As a result, we finally decided to move on with GraphQL and Graphene. <br><br>  <b>Production path</b> <br><br>  In April 2017, after intensive semi-annual development, we went into production with our API.  By the summer, we transplanted all the <i>dailymotion</i> products (web, mobile and TV) to our GraphQL API. <br><br><img src="https://habrastorage.org/webt/8e/jb/m-/8ejbm-h9edui0cjctdwrtflufti.png"><br><br>  When we chose GraphQL three years ago, it was still in beta and did not reach the popularity it has today.  We were the first major players in this arena and this made our internal reconstruction even more pleasant. <br><br>  <b>Birth Tartiflette</b> <br><br>  In the first months of 2018, after more than half a year of using Graphene, we decided to go a step further and write our own GraphQL engine.  This allowed us to implement some requirements that were not met by Graphene.  We developed criteria for our own engine.  He must: <br><br><ul><li>  <b>Provide the best DX</b> , oriented to the thinking of Python developers; </li><li>  <b>Use SDL</b> (Schema Definition Language); </li><li>  <a href="https://docs.python.org/3/library/asyncio.html">Use asyncio</a> as a self-executing engine; </li></ul><br>  After nearly a year of development and many weeks of testing our infrastructure (an average of over 100 million calls per day were processed), we proudly offer our own open source Tartiflette engine to the GraphQL community. <br><br>  <b>DNA tartiflette</b> <br><br>  Tartiflette is a implementation of GraphQL Server built on <b>Python 3.6+</b> <br>  The <b>GraphQL</b> scheme <b>is</b> described using the new <a href="">SDL (Schema Definition Language)</a> ; <br>  <b>Productivity</b> is a key element of our work and this is reflected in <b>Tartiflette</b> ; <br>  Built to reflect <b><a href="https://www.python.org/dev/peps/pep-0020/">Zen of Python</a></b> .  Not overly complicated. <br><br>  <b>Hello world on Tartiflette</b> <br><br><img src="https://habrastorage.org/webt/pi/g7/7j/pig77jaj0w1zso5k6n_nmflduzi.gif"><br><br><pre><code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> asyncio <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> tartiflette <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> Engine, Resolver @Resolver(<span class="hljs-string"><span class="hljs-string">"Query.hello"</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">async</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">resolver_hello</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(parent, args, ctx, info)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-string"><span class="hljs-string">"hello "</span></span> + args[<span class="hljs-string"><span class="hljs-string">"name"</span></span>] <span class="hljs-keyword"><span class="hljs-keyword">async</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">run</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function">:</span></span> ttftt = Engine(<span class="hljs-string"><span class="hljs-string">""" type Query { hello(name: String): String } """</span></span>) result = <span class="hljs-keyword"><span class="hljs-keyword">await</span></span> ttftt.execute( query=<span class="hljs-string"><span class="hljs-string">'query { hello(name: "Chuck") }'</span></span> ) print(result) <span class="hljs-comment"><span class="hljs-comment"># {'data': {'hello': 'hello Chuck'}} if __name__ == "__main__": loop = asyncio.get_event_loop() loop.run_until_complete(run())</span></span></code> </pre> <br>  You can learn about the new functionality in the <a href="https://tartiflette.io/docs/tutorial/getting-started">tartiflette.io manual</a> . <br><br>  <b>What happens next with Tartiflette?</b> <br><br>  Open source Tartiflette is only the first step.  Here are some ideas and future plans for the development of Tartiflette: <br><br><ul><li>  <b>"Polishing" documentation</b> for users and the community; </li><li>  <b>Providing more examples and expanding use cases</b> to encourage you to experiment with <b>Tartiflette's features</b> ; </li><li>  <b>Increased productivity</b> , mainly at the level of the performing engine. </li></ul><br>  <b>And we also need you!</b> <br><br><img src="https://habrastorage.org/webt/jy/9r/gk/jy9rgkiml72zuzrn6_whoimztww.gif"><br><br>  You can use our project for almost any purpose and help us develop Tartiflette!  Please check it for strength, feel free to look for errors or inconsistencies in the code and provide feedback to improve the product.  We truly believe that Tartiflette will be better in close collaboration with the community. <br><br>  <b>How to contribute to the project?</b> <br><br>  <a href="https://github.com/dailymotion/tartiflette">Tartiflette on Github</a> ; <br>  Read the <a href="https://tartiflette.io/">tartiflette.io</a> documentation; <br>  Send feedback and suggestions to <a href="https://join.slack.com/t/tartiflette-io/shared_invite/enQtNTcxMjI5NjQwMzg5LWQ4NzdlYWZjMjY0MjYzY2QxYTFkZTU2YWYxYTIwMTFkZWZkMDI5Y2FiYTI4NGIxZWM5YmY1ZmI5ZDBmMTUyMzc">Slack</a> ; <br>  Join the <a href="https://twitter.com/dailymotionEng">Twitter</a> community. </div><p>Source: <a href="https://habr.com/ru/post/449526/">https://habr.com/ru/post/449526/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../449506/index.html">Overview: six ways to use resident proxies to solve corporate problems</a></li>
<li><a href="../449510/index.html">.NET: The Good Parts - from CLR to the community</a></li>
<li><a href="../449516/index.html">Getting ready for a hackathon: how to squeeze a maximum of 48 hours</a></li>
<li><a href="../449518/index.html">Selection: 5 useful services for writing articles in English</a></li>
<li><a href="../449520/index.html">As I neuron in the "dinosaur" play taught</a></li>
<li><a href="../449528/index.html">On the decomposition of the multichannel system response in "pseudo-specific" forms of oscillations</a></li>
<li><a href="../449534/index.html">SLA technology concept car: how it is done in China</a></li>
<li><a href="../449536/index.html">iOS digest number 4 (April 5 - April 26)</a></li>
<li><a href="../44954/index.html">Blog promotion: 50 simple ways to attract new RSS subscribers. Part 1 (1-25)</a></li>
<li><a href="../449540/index.html">Doodle shader effect</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>