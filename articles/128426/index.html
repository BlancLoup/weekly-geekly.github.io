<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Master Part Chart with Highcharts and jQuery UI</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="If there is a large amount of statistical data, such as currency quotes (and other data related to financial topics), the consumption of something (wa...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Master Part Chart with Highcharts and jQuery UI</h1><div class="post__text post__text-html js-mediator-article">  If there is a large amount of statistical data, such as currency quotes (and other data related to financial topics), the consumption of something (water, etc.), generally speaking, any data that can be presented in one way or another in as a pair of "date - value", it is convenient to present them in graphical form.  Since the data can be collected for a sufficiently long period of time, it makes sense to represent them as a pair of graphs: a ‚Äúmaster‚Äù chart, on which all points will be displayed, and a ‚Äúdetails‚Äù graph, where points will be displayed for the required period.  In this article I will try to tell you how to build a graph of this type using the standard tools of the HighCharts libraries and jQuery UI. <br><br>  The solution given below is, in principle, a bicycle, since  With the advent of the new product from the developers HighCharts, which was called HighStock, the need for implementation in a similar way disappears.  However, HighStock is still in beta. <br><a name="habracut"></a><br><h4>  How will it look like </h4><br><img src="https://habrastorage.org/storage1/c7b0a776/722c4d99/64d9d68c/b8a5ec1e.png"><br><br><br>  In the figure above, 4 zones are highlighted that correspond to what will be necessary to implement: <br><ol><li>  Details chart </li><li>  Schedule "master" </li><li>  Display period </li><li>  Scrollbar for dragging period </li></ol><br><h4>  First look </h4><br>  Obviously, HighCharts will be used to display charts, and jQuery UI Silder for sliders.  HTML markup is nothing but 4 consecutive DIVs, which are arranged according to the list above.  Since JS is not so simple, the main problem here is the synchronization of actions of the scrollbar, slider and graphics "details."  There are no difficulties in creating and updating graphs, you can easily understand the configuration using the documentation.  Of the principal features, it is worth noting that on the "master" graphic, it is necessary to leave only the X axis and the captions to it, and to hide the remaining service elements. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h4>  Sliders </h4><br>  Sliders are created as follows: <br><br><pre><code class="hljs javascript"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">createSlider</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> sliderId = <span class="hljs-string"><span class="hljs-string">"#"</span></span> + _sliderContainerId; $(sliderId).slider({ <span class="hljs-attr"><span class="hljs-attr">range</span></span>: <span class="hljs-literal"><span class="hljs-literal">true</span></span>, <span class="hljs-attr"><span class="hljs-attr">min</span></span>: _minDate, <span class="hljs-attr"><span class="hljs-attr">max</span></span>: _maxDate, <span class="hljs-attr"><span class="hljs-attr">values</span></span>: [_minDate, _maxDate], <span class="hljs-attr"><span class="hljs-attr">stop</span></span>: onSliderStop, <span class="hljs-attr"><span class="hljs-attr">slide</span></span>: onSliderSlide }); $(sliderId + <span class="hljs-string"><span class="hljs-string">" &gt; .ui-widget-header"</span></span>).addClass(_sliderRangeClass); $(sliderId + <span class="hljs-string"><span class="hljs-string">" &gt; .ui-slider-handle"</span></span>).addClass(_sliderHandleClass); $(sliderId).show(); createScrollbar(); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">createScrollbar</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> scrollId = <span class="hljs-string"><span class="hljs-string">"#"</span></span> + _scrollbarContainerId; $(scrollId).slider({ <span class="hljs-attr"><span class="hljs-attr">min</span></span>: _minDate, <span class="hljs-attr"><span class="hljs-attr">max</span></span>: _maxDate, <span class="hljs-attr"><span class="hljs-attr">slide</span></span>: onScrollbarSlide, <span class="hljs-attr"><span class="hljs-attr">stop</span></span>: onScrollbarStop }); $(scrollId + <span class="hljs-string"><span class="hljs-string">" &gt; .ui-slider-handle"</span></span>).addClass(_scrollbarHandleClass); $(scrollId).show(); }</code> </pre> <br>  The limit values ‚Äã‚Äãof the slider and the scrollbar are the same: the left border corresponds to the minimum date, the right border - the maximum. <br><br>  The range slider (number 3 in the figure) allows you to change the right and left borders of the displayed period.  In parallel with the change of borders, the width of the slider No. 4, which is used as a scrollbar, should also change.  For these purposes, the appropriate handlers are assigned to the <i>slide</i> event.  Updating of the schedule should be assigned to the <i>stop</i> event of the sliders in order to avoid brakes due to constant redrawing when using any of the sliders. <br><br>  Since the graph number 3 is a range-slider, when you update, you only need to set the left and right borders, jQuery will perfectly cope with the rest.  In the case of a scrollbar, the handle size has to be changed manually, since  standardly this possibility is not provided (and indeed, why?).  When this is necessary to do the following: <br><br><pre> <code class="hljs vhdl">scrollbar.css(<span class="hljs-string"><span class="hljs-string">"margin-left"</span></span>, -<span class="hljs-number"><span class="hljs-number">1</span></span> * <span class="hljs-literal"><span class="hljs-literal">width</span></span> / <span class="hljs-number"><span class="hljs-number">2</span></span> - <span class="hljs-number"><span class="hljs-number">1</span></span>);</code> </pre><br>  This measure will allow not to leave the scrollbar handle visually half a case per container.  In addition, because  this slider takes a single value corresponding to the middle of the handle, then the value of the scrollbar will be equal to the position of the left edge plus half its width.  Also, when using a scrollbar, you need to monitor whether it has reached the right or left edge, and stop it in this case (using <i>preventDefault</i> ). <br><br>  Given the above, in my case the handlers looked like this: <br><pre> <code class="hljs javascript"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">updateSlider</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">from, to</span></span></span><span class="hljs-function">) </span></span>{ _from = <span class="hljs-keyword"><span class="hljs-keyword">from</span></span>; _to = to; <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> $slider = $(<span class="hljs-string"><span class="hljs-string">"#"</span></span> + _sliderContainerId); $slider.slider(<span class="hljs-string"><span class="hljs-string">"values"</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">from</span></span>); $slider.slider(<span class="hljs-string"><span class="hljs-string">"values"</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>, to); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">updateScrollbar</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">from, to</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> range = to - <span class="hljs-keyword"><span class="hljs-keyword">from</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> $scrollbar = $(<span class="hljs-string"><span class="hljs-string">"."</span></span> + _scrollbarHandleClass); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> width = $(<span class="hljs-string"><span class="hljs-string">"."</span></span> + _sliderRangeClass).width(); $scrollbar.width(width); $scrollbar.css(<span class="hljs-string"><span class="hljs-string">"margin-left"</span></span>, <span class="hljs-number"><span class="hljs-number">-1</span></span> * width / <span class="hljs-number"><span class="hljs-number">2</span></span> - <span class="hljs-number"><span class="hljs-number">1</span></span>); $scrollbar.attr(<span class="hljs-string"><span class="hljs-string">"range"</span></span>, range); $(<span class="hljs-string"><span class="hljs-string">"#"</span></span> + _scrollbarContainerId).slider(<span class="hljs-string"><span class="hljs-string">"value"</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> + range / <span class="hljs-number"><span class="hljs-number">2</span></span>); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">onSliderSlide</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">event, ui</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> = _from = ui.values[<span class="hljs-number"><span class="hljs-number">0</span></span>]; <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> to = _to = ui.values[<span class="hljs-number"><span class="hljs-number">1</span></span>]; <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> fromDate = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> <span class="hljs-built_in"><span class="hljs-built_in">Date</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">from</span></span>).toUTCString(); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> toDate = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> <span class="hljs-built_in"><span class="hljs-built_in">Date</span></span>(to).toUTCString(); updateScrollbar(<span class="hljs-keyword"><span class="hljs-keyword">from</span></span>, to); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">onSliderStop</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">event, ui</span></span></span><span class="hljs-function">) </span></span>{ updateChart(ui.values[<span class="hljs-number"><span class="hljs-number">0</span></span>], ui.values[<span class="hljs-number"><span class="hljs-number">1</span></span>]); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">onScrollbarSlide</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">event, ui</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> value = ui.value; <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> range = $(<span class="hljs-string"><span class="hljs-string">"."</span></span> + _scrollbarHandleClass).attr(<span class="hljs-string"><span class="hljs-string">"range"</span></span>) * <span class="hljs-number"><span class="hljs-number">1</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> minReached = value - _minDate &lt; range / <span class="hljs-number"><span class="hljs-number">2</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> maxReached = _maxDate - value &lt; range / <span class="hljs-number"><span class="hljs-number">2</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (minReached) { updateSlider(_minDate, _minDate + range); event.preventDefault(); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (maxReached) { updateSlider(_maxDate - range, _maxDate); event.preventDefault(); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span>; } updateSlider(value - range / <span class="hljs-number"><span class="hljs-number">2</span></span>, value + range / <span class="hljs-number"><span class="hljs-number">2</span></span>); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">onScrollbarStop</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">event, ui</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> value = ui.value; <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> range = $(<span class="hljs-string"><span class="hljs-string">"."</span></span> + _scrollbarHandleClass).attr(<span class="hljs-string"><span class="hljs-string">"range"</span></span>) * <span class="hljs-number"><span class="hljs-number">1</span></span>; updateChart(value - range / <span class="hljs-number"><span class="hljs-number">2</span></span>, value + range / <span class="hljs-number"><span class="hljs-number">2</span></span>); }</code> </pre><br><br><h4>  results </h4><br>  In the end, following the instructions, you can create something like this: <a href="http://daess.narod.ru/index.htm">demo</a> .  With the help of CSS, the appearance can be made almost anywhere.  It is easy to add things to the resulting graphic, such as dynamic loading and updating, data comparison, etc. <br><br>  References: <br><ol><li>  <a href="http://highcharts.com/products/highcharts">Highcharts</a> </li><li>  <a href="http://jqueryui.com/">jQuery UI</a> </li><li>  <a href="http://highcharts.com/products/highstock">Highstock</a> </li></ol></div><p>Source: <a href="https://habr.com/ru/post/128426/">https://habr.com/ru/post/128426/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../128420/index.html">Installing FreeBSD 9.0-BETA2 as DomU in PV mode</a></li>
<li><a href="../128422/index.html">Twitter bot on C #</a></li>
<li><a href="../128423/index.html">Simple synthesizer for Arduino</a></li>
<li><a href="../128424/index.html">Evernote extension for Chrome improved copying articles</a></li>
<li><a href="../128425/index.html">Itanium Poulson: what's new</a></li>
<li><a href="../128427/index.html">How to stop worrying and start working?</a></li>
<li><a href="../128428/index.html">6 sad squids cuddle tenderly</a></li>
<li><a href="../128429/index.html">Extreme data recovery from degraded 5th raid</a></li>
<li><a href="../128431/index.html">Daemon for remote control of a computer via e-mail</a></li>
<li><a href="../128432/index.html">The dark side of programming for beginners, including php</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>