<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Farm SharePoint 2013 in Windows Azure. AD DC</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="As you know, you can already download and try SharePoint 2013 (at the moment the product is in the Preview status). 
 In order to work with the new ve...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Farm SharePoint 2013 in Windows Azure. AD DC</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/storage2/37b/965/4e6/37b9654e66f4fd21c75a90340feab637.png" alt="image"><br>  As you know, you can already download and try SharePoint 2013 (at the moment the product is in the Preview status). <br>  In order to work with the new version, it is not necessary to buy a new server or create virtual machines with obviously inappropriate <a href="http://technet.microsoft.com/en-us/library/cc262485(v%3Doffice.15).aspx">requirements</a> . <br><ul><li>  <a href="http://dplotnikov.wordpress.com/2012/09/28/%25D1%2584%25D0%25B5%25D1%2580%25D0%25BC%25D0%25B0-sharepoint-2013-%25D0%25B2-windows-azure-ad-dc/">Farm SharePoint 2013 in Windows Azure.</a>  <a href="http://dplotnikov.wordpress.com/2012/09/28/%25D1%2584%25D0%25B5%25D1%2580%25D0%25BC%25D0%25B0-sharepoint-2013-%25D0%25B2-windows-azure-ad-dc/">AD DC</a> (this article) </li><li>  <a href="http://wp.me/p1dM47-k5">Farm SharePoint 2013 in Windows Azure.</a>  <a href="http://wp.me/p1dM47-k5">SQL Server 2012</a> </li><li>  <a href="http://wp.me/p1dM47-kS">Farm SharePoint 2013 in Windows Azure.</a>  <a href="http://wp.me/p1dM47-kS">SharePoint 2013</a> </li></ul><br>  Consider how to create a farm with SharePoint 2013 using the capabilities of Windows Azure. <br><a name="habracut"></a><br><h4>  The necessary conditions </h4><br><ul><li>  <a href="https://www.windowsazure.com/en-us/manage/downloads/">Windows Azure PowerShell Cmdlets</a> </li><li>  Subscribe to Windows Azure with the included ability to preview virtual machines - you can register for free <a href="http://bit.ly/WindowsAzureFreeTrial">here</a> </li></ul><br><br><h4>  Get subscription credentials </h4><br>  To perform all further actions, you will need security credentials for your subscription.  Windows Azure allows you to load the <i>Publish Settings</i> file with all the information you need to manage your account in your development environment. <br><br><h5>  Upload and Import Publish Settings File </h5><br>  At this stage, you need to log in to the Windows Azure portal and upload the file with the publish settings.  This file contains security credentials and additional information about a Windows Azure subscription that will be used in your development environment.  You then need to import this file using Windows Azure cmdlets to install the certificate and get the account information. <br>  Go to <a href="https://windows.azure.com/download/publishprofile.aspx">https://windows.azure.com/download/publishprofile.aspx</a> and log in using your <b>Microsoft Account</b> credentials that match your <b>Windows Azure</b> account. <br>  <b>Save</b> the publish file to your local PC. <br><img src="https://habrastorage.org/storage2/806/447/ab9/806447ab9fc6eea4c41ffd37ef7cfd3f.png"><br>  <i>Uploading a file with publish settings</i> <br>  Run <b>Windows</b> <b>Azure</b> <b>PowerShell</b> and as administrator. <br>  Next, you need to import the file with the parameters and generate the XML file with your credentials using PowerShell <br><pre><code class="cs hljs">Import-AzurePublishSettingsFile <span class="hljs-string"><span class="hljs-string">'[YOUR-PUBLISH-SETTINGS-PATH]'</span></span></code> </pre> <br>  Run the following commands and note the subscription name and storage account name, we still need them <br><pre> <code class="cs hljs">Get-AzureSubscription | <span class="hljs-keyword"><span class="hljs-keyword">select</span></span> SubscriptionName Get-AzureStorageAccount | <span class="hljs-keyword"><span class="hljs-keyword">select</span></span> StorageAccountName[/sourcecode]</code> </pre> <br>  Run the following commands to assign the current storage account to your subscription <br><pre> <code class="cs hljs">Set-AzureSubscription -SubscriptionName <span class="hljs-string"><span class="hljs-string">'[YOUR-SUBSCRIPTION-NAME]'</span></span> -CurrentStorageAccount <span class="hljs-string"><span class="hljs-string">'[YOUR-STORAGE-ACCOUNT]'</span></span>[/sourcecode]</code> </pre> <br>  Let's move on to setting up a virtual network. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h4>  Configuring a virtual network </h4><br>  To work in an Active Directory domain, clients will need static IP addresses; clients must connect to a DNS server that supports Active Directory.  Internal DNS (iDNS), deployed in Windows Azure, will not work because it assigns dynamic IP addresses to virtual machines.  For this solution, a virtual network will be created in which you can connect virtual machines to specific subnets <br><ul><li>  A virtual network called SP2013-VNET, address prefix: 192.168.0.0/16 </li><li>  Subnet called SP2013AD-Subnet, address prefix: 192.168.1.0/24 </li><li>  Subnet called SP2013Farm-Subnet, address prefix: 192.168.2.0/24 </li></ul><br><br><h5>  Create a territorial group </h5><br>  Open <a href="https://manage.windowsazure.com/">https://manage.windowsazure.com/</a> .  Enter your credentials for <b>Windows Azure</b> when prompted.  In the Windows Azure portal, click <b><i>Networks</i></b> , <b><i>Affinity Groups</i></b> , and click <b><i>Create</i></b> at the bottom. <br>  Name the regional group <i>SP2013-AG</i> and select the region.  To create a territorial group, click <i>Finish.</i> <br><img src="https://habrastorage.org/storage2/b02/e3e/8df/b02e3e8df8b0c355a82db4983e802b40.png"><br>  <i>Creation of a territorial group</i> <br><br>  Create a new virtual network <br>  Create a new virtual network for your subscription. <br>  In the Windows Azure portal, click <b>Networks</b> , then <b><i>Virtual Networks</i></b> .  At the bottom click <b>Create</b> . <br>  Name the new virtual network <i>SP2013-VNET</i> , enter a description, and click the arrow button to continue. <br><img src="https://habrastorage.org/storage2/1c0/d3a/bc7/1c0d3abc7f6a2400874be3f5afae741b.png"><br>  <i>Creating a new virtual network</i> <br>  In the <b><i>Address Space</i></b> field, enter <i>192.168.0.0/16</i> and add two subnets: <i>SP2013AD-Subnet</i> with the prefix <i>192.168.1.0/24</i> and <i>SP2013Farm-Subnet</i> with the prefix <i>192.168.2.0/24</i> . <br><img src="https://habrastorage.org/storage2/262/762/d1d/262762d1d02e4d59e6ec9f1099ac8a1e.png"><br>  <i>Add address space and subnets</i> <br>  Leave the default DNS settings and click Finish. <br><img src="https://habrastorage.org/storage2/a08/2ed/3c9/a082ed3c9db995665f4e9df1dea3af57.png"><br>  <i>Creating a virtual network</i> <br>  Thus, we have created a virtual network through the management portal. <br>  A similar task can be performed using PowerShell scripts. <br><br><h5>  Using PowerShell Script </h5><br>  <b>The contents of the script CreateVnet</b> <b>.ps</b> <b>1</b> <br><pre> <code class="cs hljs"><span class="hljs-meta"><span class="hljs-meta">#   Azure Get-AzureSubscription | Select SubscriptionName #     $subscriptionName = "-" $storageAccount = "--" Select-AzureSubscription $subscriptionName Set-AzureSubscription $subscriptionName -CurrentStorageAccount $storageAccount #    Get-AzureLocation | Select Name #    $AGLocation = "West US" $AGDesc = "SharePoint 2013 Affinity Group" $AGName = "SP2013-AG" $AGLabel = "SP2013-AG" #     New-AzureAffinityGroup -Location $AGLocation -Description $AGDesc -Name $AGName -Label $AGLabel #     Set-AzureVNetConfig -ConfigurationPath "C:\SharePoint2013FarmVNET.xml"</span></span></code> </pre> <br>  Content of the <b>SharePoint2013FarmVNET.xml</b> configuration file <br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">NetworkConfiguration</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">xmlns:xsi</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"http://www.w3.org/2001/XMLSchema-instance"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">xmlns:xsd</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"http://www.w3.org/2001/XMLSchema"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">xmlns</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"http://schemas.microsoft.com/ServiceHosting/2011/07/NetworkConfiguration"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">VirtualNetworkConfiguration</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Dns</span></span></span><span class="hljs-tag"> /&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">VirtualNetworkSites</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">VirtualNetworkSite</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"SP2013-VNET"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">AffinityGroup</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"SP2013-AG"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">AddressSpace</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">AddressPrefix</span></span></span><span class="hljs-tag">&gt;</span></span>192.168.0.0/16<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">AddressPrefix</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">AddressSpace</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Subnets</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Subnet</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"SP2013AD-Subnet"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">AddressPrefix</span></span></span><span class="hljs-tag">&gt;</span></span>192.168.1.0/24<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">AddressPrefix</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Subnet</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Subnet</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"SP2013Farm-Subnet"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">AddressPrefix</span></span></span><span class="hljs-tag">&gt;</span></span>192.168.2.0/24<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">AddressPrefix</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Subnet</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Subnets</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">VirtualNetworkSite</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">VirtualNetworkSites</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">VirtualNetworkConfiguration</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">NetworkConfiguration</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br><br><h4>  We expand the domain controller </h4><br>  You can use a Windows Azure portal or PowerShell to prepare a virtual machine that will become a domain controller. <br><br>  Create a new virtual machine through the portal <br>  In the Windows Azure portal, click <b><i>New</i></b> and select <b><i>Virtual</i></b> <b><i>Machine</i></b> <i>|</i>  <b><i>From</i></b> <b><i>Gallery</i></b> <i>(Virtual Machine | From Gallery)</i> . <br><img src="https://habrastorage.org/storage2/fa0/3ad/aa5/fa03adaa533b023f481aa71ffe1f7b7d.png"><br>  <i>New virtual machine from the gallery</i> <br>  Select a <b>Windows Server 2012</b> image from the list.  Click the arrow to continue. <br>  Enter the name of the virtual machine, for example, <em>SP2013-DC1,</em> in the <strong><i>Virtual Machine Name</i></strong> field and set the password for the <strong>Administrator</strong> user.  Click the arrow to continue. <br><img src="https://habrastorage.org/storage2/989/a35/9bb/989a359bb64740c8bb91ea6def85582e.png"><br>  <em>Creating a new virtual machine</em> <br>  DNS name must be unique.  You can choose an existing storage <strong>account</strong> or automatically create a new one.  Select your virtual network from the <strong>Region / Affinity Group / Virtual Network</strong> drop-down list.  Click the arrow to continue. <br><img src="https://habrastorage.org/storage2/eae/e66/7ea/eaee667ea29e7272340d7eb63358b6e0.png"><br>  <em>Virtual network selection for a virtual machine</em> <br>  Check the box next to <strong>SP2013AD-Subnet</strong> in the <strong><i>Virtual Network Subnets</i></strong> list.  To create a virtual machine, click Finish. <br><img src="https://habrastorage.org/storage2/077/d3d/6e5/077d3d6e5ece99dcc6f070f4c828a05a.png"><br>  <em>Select Active Directory subnet</em> <br>  Wait for the virtual machine creation process to complete.  Click the name of the virtual machine and select <strong><i>Dashboard</i></strong> <i>.</i> <br>  Click <strong><i>Attach</i></strong> in the menu at the bottom of the page and select <strong><i>Attach Empty Disk</i></strong> <i>.</i> <br><img src="https://habrastorage.org/storage2/12b/9c7/4a3/12b9c74a37d789494543bcf20b75a175.png"><br>  <em>Attaching an empty disk</em> <br>  On the <strong><i>Attach empty disk to virtual machine</i></strong> page, set the <strong><i>Size</i></strong> parameter to ‚Äú <em>20</em> GB‚Äù (20 GB) and click the Finish button to create the disk. <br><img src="https://habrastorage.org/storage2/277/ac7/1a7/277ac71a7612960f7dc11f13c7b344a9.png"><br>  <i>Create a new disk</i> <br>  In addition to the above method for creating new machines through the portal, you can use PowerShell. <br><br><h5>  Create a new virtual machine using PowerShell script </h5><br><pre> <code class="cs hljs"><span class="hljs-meta"><span class="hljs-meta">#   Azure Get-AzureSubscription | Select SubscriptionName $subscriptionName = "-" $storageAccount = "--" Select-AzureSubscription $subscriptionName Set-AzureSubscription $subscriptionName -CurrentStorageAccount $storageAccount #      Get-AzureVMImage | Select ImageName #    #1 $vmName = 'SP2013-DC1' $imageName = 'MSFT__Windows-Server-2012-Datacenter-201208.01-en.us-30GB.vhd' $size = "ExtraSmall" $subnet = 'SP2013AD-Subnet' $password = 'pass@word1' #    $dc1 = New-AzureVMConfig -Name $vmName -InstanceSize $size -ImageName $imageName Add-AzureProvisioningConfig -Windows -Password $password -VM $dc1 | Add-AzureDataDisk -CreateNew -DiskSizeInGB 20 -DiskLabel 'data' -LUN 0 Set-AzureSubnet -SubnetNames $subnet -VM $dc1 #    $serviceName = "SP2013DC-Service" $serviceLabel = "SP2013DC-Service" $serviceDesc = "Domain Controller for SharePoint 2013" $vnetname = 'SP2013-VNET' $ag = 'SP2013-AG' #    New-AzureVM -ServiceName $serviceName -ServiceLabel $serviceLabel -ServiceDescription $serviceDesc -AffinityGroup $ag -VNetName $vnetname -VMs $dc1</span></span></code> </pre> <br><br><h5>  Create a domain controller </h5><br>  Wait until the virtual machine is ready: this may take several minutes.  Log in to the newly created virtual machine in the Windows Azure portal.  To do this, go to the <i>Virtual Machines</i> section, select <b>SP2013-DC1</b> and click <b><i>Connect</i></b> at the bottom. <br>  Open the <b><i>Computer Management</i></b> panel <i>,</i> expand the <b><i>Storage</i></b> node, and select <b><i>Disk Management</i></b> <i>.</i> <br><img src="https://habrastorage.org/storage2/765/b28/5c1/765b285c1f6b25548d960dcf5053ff48.png"><br>  <i>Open Disk Management window</i> <br>  Initialize <b>Disk 2</b> by clicking <b>OK</b> in the <b><i>Initialize Disk</i></b> dialog box. <br><img src="https://habrastorage.org/storage2/765/b28/5c1/765b285c1f6b25548d960dcf5053ff48.png"><br>  <i>Disk initialization</i> <br>  Right-click unallocated disk space and select <b><i>New Simple Volume</i></b> <i>.</i> <br><img src="https://habrastorage.org/storage2/082/a70/805/082a708050f6212dbc2d6feeb722033e.png"><br>  <i>Create a new simple volume</i> <br>  This will launch the <b>New Simple Volume Wizard</b> .  Click <b><i>Next</i></b> and leave the default values ‚Äã‚Äãon the <i>Specify Volume Size</i> and <i>Assign Drive Letter or Path</i> screens. <br>  On the <i>Format Partition</i> screen, set the <b><i>Volume label</i></b> field to <i>DIT</i> and click <b>Next</b> . <br>  To start the formatting process, click <b>Finish</b> .  After this process is complete, the disk will be ready for use. <br><img src="https://habrastorage.org/storage2/9b3/391/bfa/9b3391bfa9e1db536ccaf718274e1ee0.png"><br>  <i>Formatted disk</i> <br>  In Windows Server 2012, the mechanism for creating a domain controller has changed (DCPROMO is outdated).  Open <b><i>Server</i></b> <b><i>Manager</i></b> , then select Manage and Add Roles and Features <br><img src="https://habrastorage.org/storage2/dca/2c7/dda/dca2c7ddadfb4791de1cadde9cab31b0.png"><br>  <i>Server</i> <i>manager</i> <br>  In the wizard that opens, click <b>Next</b> , then select the <b><i>Create a domain in a new forest option</i></b> and click <b>Next.</b>  Next, select <b>Role-based or feature-based installation</b> and click <b>Next.</b> <br><img src="https://habrastorage.org/storage2/8cc/786/823/8cc786823c8a4be97921c4b224698bb1.png"><br>  <i>Choosing a way to add roles</i> <br>  Select a server to add roles and click <b>Next</b> <br><img src="https://habrastorage.org/storage2/c0c/e7f/a6c/c0ce7fa6c219f8e9e54cb228776516c1.png"><br>  <i>Choosing a server to add roles</i> <br>  In the next step, select <b>Active</b> <b>Directory</b> <b>Domain</b> <b>Services</b> <b>.</b>  After that, in the window that appears, select <b>Add</b> <b>Features</b> <br><img src="https://habrastorage.org/storage2/789/20c/d72/78920cd7220b811ef6e6a068184dad6c.png"><br>  <i>Add</i> <i>AD</i> <i>DS</i> <i>Role</i> <br>  In all the next steps of the wizard, click on <b>Next</b> . <br><img src="https://habrastorage.org/storage2/a38/815/bcd/a38815bcdf27fb1c276bcec02fbb3e10.png"><br>  <i>The final step of installing the</i> <i>AD</i> <i>DS</i> <i>role</i> <br>  The server now has the AD DS role, but it is not yet a domain controller.  To make our server DC, open <b>Server</b> <b>Manager</b> <br><img src="https://habrastorage.org/storage2/88d/842/62d/88d84262d0c826aaf08f1c1ecb4685fd.png"><br>  <i>Making the server a domain controller from</i> <i>Server</i> <i>Manager</i> <br>  Select <b><i>Add</i></b> <b><i>a</i></b> <b><i>new</i></b> <b><i>forest</i></b> <i>,</i> give the root domain ( <b>Root</b> <b>Domain</b> <b>Name</b> ) the name contoso.com and click <b>Next</b> <br><img src="https://habrastorage.org/storage2/dba/0ad/158/dba0ad158e4b5e734c5bb18881b4e18c.png"><br>  <i>Select Deployment Type</i> <br>  Select the mode of operation of <b>Windows</b> <b>Server</b> <b>2012,</b> use the default settings to create a <b>DNS server</b> and set the domain administrator password (preferably different from the administrator password on the created server).  Click <b>Next</b> <br><img src="https://habrastorage.org/storage2/85c/075/213/85c075213a1cf9b3fbc24179f2e941e0.png"><br>  <i>Domain Controller Options</i> <br>  In this practice, you will not integrate into your existing Active Directory environment, so click <b>Next</b> <b><i>.</i></b> <br><img src="https://habrastorage.org/storage2/be4/929/737/be4929737a337b79f0172ba69259b3aa.png"><br>  <i>DNS creation warning message</i> <br>  For the repository for the <b>Database</b> , <b>Log files,</b> and <b>SYSVOL folders,</b> specify a recently formatted data disk (for example, <i>F: \ NTDS</i> for a database, <i>F: \ NTDSLogs</i> for logs, and <i>F: \ SYSVOL</i> for SYSVOL).  Click <b>Next</b> to continue. <br><img src="https://habrastorage.org/storage2/795/595/ff2/795595ff253242e48669897237b6dda9.png"><br>  <i>Settings for the location of the Database, Logs and SYSVOL folders</i> <br>  Finally, click <b>Next</b> again and wait for the Active Directory configuration process to complete, which may take several minutes.  When prompted to restart, click <b><i>Restart Now</i></b> <i>.</i> <br>  So we created a domain controller for the SharePoint 2013 farm. </div><p>Source: <a href="https://habr.com/ru/post/152655/">https://habr.com/ru/post/152655/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../152643/index.html">Pillow that allows you to fall asleep anywhere and not notice others</a></li>
<li><a href="../152645/index.html">Case study: Diary.ru and Windows Azure</a></li>
<li><a href="../152647/index.html">Organization of the Internet broadcast of the event by budgetary funds</a></li>
<li><a href="../152651/index.html">Find IT tomorrow</a></li>
<li><a href="../152653/index.html">What is Selenium?</a></li>
<li><a href="../152659/index.html">Lehmann Audio Black Cube for 1000 r and 3 days? Easy!</a></li>
<li><a href="../152661/index.html">Forecast traffic jams on Yandex.Maps</a></li>
<li><a href="../152665/index.html">Build solutions with IBM SmartCloud Enterprise. Part 1: Practical Recommendations and Tools</a></li>
<li><a href="../152667/index.html">US scientists have developed soluble electronic circuits</a></li>
<li><a href="../152671/index.html">Nokia PureMotion: how new Nokia screens work</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>