<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Character calculations using Python. Part 1. The basics</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="When solving problems of mathematical modeling of processes and objects, it is often very practical to use algorithms in the Python language using sym...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Character calculations using Python. Part 1. The basics</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/webt/8i/dz/zr/8idzzrbau0tqu9yhd5cilr2oxfa.jpeg" alt="image"><br><br>  When solving problems of mathematical modeling of processes and objects, it is often very practical to use algorithms in the Python language using symbolic calculations.  Based on the SymPy library, Python successfully copes with solving equations and systems, integrating and differentiating, calculating limits, decomposing into series and summing series, simplifying expressions, and searching for solutions to differential equations and systems. <br><a name="habracut"></a><br>  When using symbolic calculations, the user is given the opportunity to control the operation of the program during its execution by entering any valid functions with a specified number of variables. <br><br>  As a teacher in Computer Science and Programming, in the module on programming in Python, I introduce students to the possibilities of this language for research.  Your attention is a series of articles in which you can familiarize yourself with symbolic calculations in Python.  I want to immediately warn that these articles do not claim to be unique, since they are collected on the basis of materials from various sources, their goal is to teach students the basics of symbolic calculations. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      The very first step to symbol computing is to import the functions of the SymPy module using pip, the Python package management system.  If you have coped with this, we will immediately proceed to the declaration of variables. <br><br>  <i>Note.</i>  <i>To shorten the record in all the following examples, the first line is not given:</i> <b>from sympy import *</b> <br><br><h3>  Explicit declaration of character variables </h3><br>  For symbolic computations using the <b>SymPy</b> module <b>,</b> character variables and functions must be declared as such.  In programs for mathematical calculations, such as Mathematica or Maple, variables are immediately treated as symbolic.  In Python, you must force them to be declared symbolic, and this can be done in several ways.  The easiest way is to use the <b>symbols ()</b> or <b>var ()</b> functions.  The first function returns a reference to a character object in the form of a variable.  The second, without assignment, creates a character variable. <br><br><div class="spoiler">  <b class="spoiler_title">Code example</b> <div class="spoiler_text"><pre><code class="python hljs"><span class="hljs-meta"><span class="hljs-meta">&gt;&gt;&gt; </span></span>x,y,a,b = symbols(<span class="hljs-string"><span class="hljs-string">'xya b'</span></span>) <span class="hljs-comment"><span class="hljs-comment">#    ,      &gt;&gt;&gt; f=a**3*x + 3*a**2*x**2/2 + a*x**3 + x**4/4 #  f    &gt;&gt;&gt; type(f) &lt;class 'sympy.core.add.Add'&gt; &gt;&gt;&gt; var('u,v') (u, v) &gt;&gt;&gt; f=sin(u)**2+tan(v) #  f    &gt;&gt;&gt; type(f) &lt;class 'sympy.core.add.Add'&gt;</span></span></code> </pre> <br></div></div><br>  The main difference between the <b>symbols ()</b> and <b>var ()</b> functions is that the first function returns a reference to a character object.  For further use, it must be assigned to a variable.  The second, without assignment, creates a character variable. <br>  In the functions symbols () and var (), you can declare character variables with an index: <br><br><div class="spoiler">  <b class="spoiler_title">Code example</b> <div class="spoiler_text"><pre> <code class="python hljs"><span class="hljs-meta"><span class="hljs-meta">&gt;&gt;&gt; </span></span>x=symbols(<span class="hljs-string"><span class="hljs-string">'x:9'</span></span>); x <span class="hljs-comment"><span class="hljs-comment">#    0  9 (x0, x1, x2, x3, x4, x5, x6, x7, x8) &gt;&gt;&gt; x=symbols('x5:10'); x #    5  9 (x5, x6, x7, x8, x9) &gt;&gt;&gt; x=var('x:9'); x #    0  9 (x0, x1, x2, x3, x4, x5, x6, x7, x8) &gt;&gt;&gt; x=var('x5:10'); x #    5  9 (x5, x6, x7, x8, x9)</span></span></code> </pre><br></div></div><br>  You can also assign a type and impose restrictions on the character variables directly in the symbols () and var () functions.  Sometimes, without such limitations, obvious transformations do not work, for example, compare: <br><br><div class="spoiler">  <b class="spoiler_title">Code example</b> <div class="spoiler_text"><pre> <code class="python hljs"><span class="hljs-meta"><span class="hljs-meta">&gt;&gt;&gt; </span></span>x = symbols(<span class="hljs-string"><span class="hljs-string">'x'</span></span>, integer=<span class="hljs-keyword"><span class="hljs-keyword">True</span></span>) <span class="hljs-comment"><span class="hljs-comment">#   &gt;&gt;&gt; sqrt(x**2) Abs(x) &gt;&gt;&gt; x = symbols('x', positive = True, integer=True) &gt;&gt;&gt; sqrt(x**2) x &gt;&gt;&gt; x = symbols('x') &gt;&gt;&gt; sqrt(x**2) #  x,  x‚â•0 sqrt(x**2) &gt;&gt;&gt; x = var('x', integer=True) &gt;&gt;&gt; sqrt(x**2) Abs(x) &gt;&gt;&gt; x = var('x', positive = True, integer=True) &gt;&gt;&gt; sqrt(x**2) x &gt;&gt;&gt; x = var('x') &gt;&gt;&gt; sqrt(x**2) #  x,  x‚â•0 sqrt(x**2)</span></span></code> </pre><br></div></div><br>  To create a container for a single character, use the argument <b>seq = True:</b> <br><br><pre> <code class="python hljs"><span class="hljs-meta"><span class="hljs-meta">&gt;&gt;&gt; </span></span>symbols(<span class="hljs-string"><span class="hljs-string">'x'</span></span>,seq=<span class="hljs-keyword"><span class="hljs-keyword">True</span></span>) (x,)</code> </pre><br>  Determination of real values ‚Äã‚Äãfor character variables: <br><br><pre> <code class="python hljs"><span class="hljs-meta"><span class="hljs-meta">&gt;&gt;&gt; </span></span>x, y, z = symbols(<span class="hljs-string"><span class="hljs-string">'x,y,z'</span></span>, real=<span class="hljs-keyword"><span class="hljs-keyword">True</span></span>) &gt;&gt;&gt; x.is_real <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> y.is_real <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> z.is_real <span class="hljs-keyword"><span class="hljs-keyword">True</span></span></code> </pre><br><h3>  S () function </h3><br>  Sometimes symbolic expressions can be interpreted as Python numeric constants, not SymPy.  Therefore, to declare character variables, as well as to convert numeric constants to character, use the function S (), for example, compare: <br><br><pre> <code class="python hljs"><span class="hljs-meta"><span class="hljs-meta">&gt;&gt;&gt; </span></span>expr = x**<span class="hljs-number"><span class="hljs-number">2</span></span> + sin(y) + S(<span class="hljs-number"><span class="hljs-number">10</span></span>)/<span class="hljs-number"><span class="hljs-number">2</span></span>; expr x**<span class="hljs-number"><span class="hljs-number">2</span></span> + sin(y) + <span class="hljs-number"><span class="hljs-number">5</span></span> &gt;&gt;&gt; type(<span class="hljs-number"><span class="hljs-number">10</span></span>) &lt;<span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> '</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">int</span></span></span><span class="hljs-class">'&gt; &gt;&gt;&gt; </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">type</span></span></span><span class="hljs-params"><span class="hljs-class"><span class="hljs-params">(S</span></span><span class="hljs-params"><span class="hljs-class"><span class="hljs-params"><span class="hljs-params">(</span></span></span><span class="hljs-number"><span class="hljs-class"><span class="hljs-params"><span class="hljs-params"><span class="hljs-number">10</span></span></span></span></span><span class="hljs-class"><span class="hljs-params"><span class="hljs-params">)</span></span></span></span><span class="hljs-class"><span class="hljs-params">)</span></span></span><span class="hljs-class"> #    &lt;</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">class</span></span></span><span class="hljs-class"> '</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">sympy</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">core</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">numbers</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Integer</span></span></span><span class="hljs-class">'&gt;</span></span></code> </pre><br>  The difference between the Python constant and the symbolic constant is that the symbolic constant can be calculated with a given degree of accuracy, as shown in the following example in comparison with the standard <b>round ()</b> function: <br><br><pre> <code class="python hljs">z=<span class="hljs-number"><span class="hljs-number">1</span></span>/<span class="hljs-number"><span class="hljs-number">7</span></span>; z <span class="hljs-comment"><span class="hljs-comment">#   z    0.14285714285714285 z1=S(1)/7; z1 1/7 z2=z1.n(30); z2 #   z2    30   0.142857142857142857142857142857 z3=round(z1,30); z3 0.14285714285714285</span></span></code> </pre> <br><h3>  Character Names </h3><br>  If it is necessary to use symbolic mathematics all the time in the current session, then you can import common symbolic names from the <b>sympy.abc</b> module: <br><br><div class="spoiler">  <b class="spoiler_title">Code example</b> <div class="spoiler_text"><pre> <code class="python hljs"><span class="hljs-meta"><span class="hljs-meta">&gt;&gt;&gt; </span></span><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> sympy.abc &gt;&gt;&gt; dir(sympy.abc) [<span class="hljs-string"><span class="hljs-string">'A'</span></span>, <span class="hljs-string"><span class="hljs-string">'B'</span></span>, <span class="hljs-string"><span class="hljs-string">'C'</span></span>, <span class="hljs-string"><span class="hljs-string">'D'</span></span>, <span class="hljs-string"><span class="hljs-string">'E'</span></span>, <span class="hljs-string"><span class="hljs-string">'F'</span></span>, <span class="hljs-string"><span class="hljs-string">'G'</span></span>, <span class="hljs-string"><span class="hljs-string">'H'</span></span>, <span class="hljs-string"><span class="hljs-string">'I'</span></span>, <span class="hljs-string"><span class="hljs-string">'J'</span></span>, <span class="hljs-string"><span class="hljs-string">'K'</span></span>, <span class="hljs-string"><span class="hljs-string">'L'</span></span>, <span class="hljs-string"><span class="hljs-string">'M'</span></span>, <span class="hljs-string"><span class="hljs-string">'N'</span></span>, <span class="hljs-string"><span class="hljs-string">'O'</span></span>, <span class="hljs-string"><span class="hljs-string">'P'</span></span>, <span class="hljs-string"><span class="hljs-string">'Q'</span></span>, <span class="hljs-string"><span class="hljs-string">'R'</span></span>, <span class="hljs-string"><span class="hljs-string">'S'</span></span>, <span class="hljs-string"><span class="hljs-string">'T'</span></span>, <span class="hljs-string"><span class="hljs-string">'U'</span></span>, <span class="hljs-string"><span class="hljs-string">'V'</span></span>, <span class="hljs-string"><span class="hljs-string">'W'</span></span>, <span class="hljs-string"><span class="hljs-string">'X'</span></span>, <span class="hljs-string"><span class="hljs-string">'Y'</span></span>, <span class="hljs-string"><span class="hljs-string">'Z'</span></span>, <span class="hljs-string"><span class="hljs-string">'__builtins__'</span></span>, <span class="hljs-string"><span class="hljs-string">'__cached__'</span></span>, <span class="hljs-string"><span class="hljs-string">'__doc__'</span></span>, <span class="hljs-string"><span class="hljs-string">'__file__'</span></span>, <span class="hljs-string"><span class="hljs-string">'__loader__'</span></span>, <span class="hljs-string"><span class="hljs-string">'__name__'</span></span>, <span class="hljs-string"><span class="hljs-string">'__package__'</span></span>, <span class="hljs-string"><span class="hljs-string">'__spec__'</span></span>, <span class="hljs-string"><span class="hljs-string">'_clash'</span></span>, <span class="hljs-string"><span class="hljs-string">'_clash1'</span></span>, <span class="hljs-string"><span class="hljs-string">'_clash2'</span></span>, <span class="hljs-string"><span class="hljs-string">'a'</span></span>, <span class="hljs-string"><span class="hljs-string">'alpha'</span></span>, <span class="hljs-string"><span class="hljs-string">'b'</span></span>, <span class="hljs-string"><span class="hljs-string">'beta'</span></span>, <span class="hljs-string"><span class="hljs-string">'c'</span></span>, <span class="hljs-string"><span class="hljs-string">'chi'</span></span>, <span class="hljs-string"><span class="hljs-string">'d'</span></span>, <span class="hljs-string"><span class="hljs-string">'delta'</span></span>, <span class="hljs-string"><span class="hljs-string">'division'</span></span>, <span class="hljs-string"><span class="hljs-string">'e'</span></span>, <span class="hljs-string"><span class="hljs-string">'epsilon'</span></span>, <span class="hljs-string"><span class="hljs-string">'eta'</span></span>, <span class="hljs-string"><span class="hljs-string">'exec_'</span></span>, <span class="hljs-string"><span class="hljs-string">'f'</span></span>, <span class="hljs-string"><span class="hljs-string">'g'</span></span>, <span class="hljs-string"><span class="hljs-string">'gamma'</span></span>, <span class="hljs-string"><span class="hljs-string">'greeks'</span></span>, <span class="hljs-string"><span class="hljs-string">'h'</span></span>, <span class="hljs-string"><span class="hljs-string">'i'</span></span>, <span class="hljs-string"><span class="hljs-string">'iota'</span></span>, <span class="hljs-string"><span class="hljs-string">'j'</span></span>, <span class="hljs-string"><span class="hljs-string">'k'</span></span>, <span class="hljs-string"><span class="hljs-string">'kappa'</span></span>, <span class="hljs-string"><span class="hljs-string">'l'</span></span>, <span class="hljs-string"><span class="hljs-string">'lamda'</span></span>, <span class="hljs-string"><span class="hljs-string">'m'</span></span>, <span class="hljs-string"><span class="hljs-string">'mu'</span></span>, <span class="hljs-string"><span class="hljs-string">'n'</span></span>, <span class="hljs-string"><span class="hljs-string">'nu'</span></span>, <span class="hljs-string"><span class="hljs-string">'o'</span></span>, <span class="hljs-string"><span class="hljs-string">'omega'</span></span>, <span class="hljs-string"><span class="hljs-string">'omicron'</span></span>, <span class="hljs-string"><span class="hljs-string">'p'</span></span>, <span class="hljs-string"><span class="hljs-string">'phi'</span></span>, <span class="hljs-string"><span class="hljs-string">'pi'</span></span>, <span class="hljs-string"><span class="hljs-string">'print_function'</span></span>, <span class="hljs-string"><span class="hljs-string">'psi'</span></span>, <span class="hljs-string"><span class="hljs-string">'q'</span></span>, <span class="hljs-string"><span class="hljs-string">'r'</span></span>, <span class="hljs-string"><span class="hljs-string">'rho'</span></span>, <span class="hljs-string"><span class="hljs-string">'s'</span></span>, <span class="hljs-string"><span class="hljs-string">'sigma'</span></span>, <span class="hljs-string"><span class="hljs-string">'string'</span></span>, <span class="hljs-string"><span class="hljs-string">'symbols'</span></span>, <span class="hljs-string"><span class="hljs-string">'t'</span></span>, <span class="hljs-string"><span class="hljs-string">'tau'</span></span>, <span class="hljs-string"><span class="hljs-string">'theta'</span></span>, <span class="hljs-string"><span class="hljs-string">'u'</span></span>, <span class="hljs-string"><span class="hljs-string">'upsilon'</span></span>, <span class="hljs-string"><span class="hljs-string">'v'</span></span>, <span class="hljs-string"><span class="hljs-string">'w'</span></span>, <span class="hljs-string"><span class="hljs-string">'x'</span></span>, <span class="hljs-string"><span class="hljs-string">'xi'</span></span>, <span class="hljs-string"><span class="hljs-string">'y'</span></span>, <span class="hljs-string"><span class="hljs-string">'z'</span></span>, <span class="hljs-string"><span class="hljs-string">'zeta'</span></span>]</code> </pre><br></div></div><br>  The variable name from the namespace can be removed with the command <b>del name1, name2, ..</b> : <br><br><pre> <code class="python hljs"><span class="hljs-meta"><span class="hljs-meta">&gt;&gt;&gt; </span></span>type(x) &lt;<span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> '</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">sympy</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">core</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">symbol</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Symbol</span></span></span><span class="hljs-class">'&gt; &gt;&gt;&gt; </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">del</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">x</span></span></span><span class="hljs-class">,</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">y</span></span></span><span class="hljs-class"> &gt;&gt;&gt; </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">x</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">NameError</span></span></span><span class="hljs-class">:</span></span> name <span class="hljs-string"><span class="hljs-string">'x'</span></span> <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> <span class="hljs-keyword"><span class="hljs-keyword">not</span></span> defined</code> </pre> <br>  To restore the values ‚Äã‚Äãof standard constants, as well as the names of some functions, you need to reload the sympy module. <br><br><pre> <code class="python hljs"><span class="hljs-meta"><span class="hljs-meta">&gt;&gt;&gt; </span></span><span class="hljs-keyword"><span class="hljs-keyword">from</span></span> sympy <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> *</code> </pre> <br><h3>  The subs (...) method </h3><br>  It should be remembered that when writing a symbolic expression, it can be automatically simplified, for example: <br><br><pre> <code class="python hljs"><span class="hljs-meta"><span class="hljs-meta">&gt;&gt;&gt; </span></span>a,b,c,d,x,y,z,u,v,w = symbols(<span class="hljs-string"><span class="hljs-string">'abcdxyzuv w'</span></span>) &gt;&gt;&gt; x - z + <span class="hljs-number"><span class="hljs-number">20</span></span> -z- <span class="hljs-number"><span class="hljs-number">15</span></span> + <span class="hljs-number"><span class="hljs-number">3</span></span>*sin(pi/<span class="hljs-number"><span class="hljs-number">2</span></span>)+<span class="hljs-number"><span class="hljs-number">2</span></span>*z x + <span class="hljs-number"><span class="hljs-number">8</span></span></code> </pre> <br>  The <b>subs (...)</b> method is used to calculate a character expression for given values ‚Äã‚Äãof variables, for example: <br><br><pre> <code class="python hljs"><span class="hljs-meta"><span class="hljs-meta">&gt;&gt;&gt; </span></span>a, x = symbols(<span class="hljs-string"><span class="hljs-string">'a x'</span></span>) &gt;&gt;&gt; f= a**<span class="hljs-number"><span class="hljs-number">3</span></span>*x + <span class="hljs-number"><span class="hljs-number">3</span></span>*a**<span class="hljs-number"><span class="hljs-number">2</span></span>*x**<span class="hljs-number"><span class="hljs-number">2</span></span>/<span class="hljs-number"><span class="hljs-number">2</span></span> + a*x**<span class="hljs-number"><span class="hljs-number">3</span></span> + x**<span class="hljs-number"><span class="hljs-number">4</span></span>/<span class="hljs-number"><span class="hljs-number">4</span></span> &gt;&gt;&gt; f.subs(a,<span class="hljs-number"><span class="hljs-number">1</span></span>) <span class="hljs-comment"><span class="hljs-comment">#   f   a    x**4/4 + x**3 + 3*x**2/2 + x</span></span></code> </pre> <br>  If two arguments are used in the subs method, they are interpreted as subs (old, new), i.e.  old identifier old is replaced by new new.  The argument to the subs () method can be a sequence that must contain pairs (old, new), or it can be a character expression, for example: <br><br><pre> <code class="python hljs"><span class="hljs-meta"><span class="hljs-meta">&gt;&gt;&gt; </span></span>a,b,c,d,x,y,z = symbols(<span class="hljs-string"><span class="hljs-string">'abcdxy z'</span></span>) &gt;&gt;&gt; f=a*x**<span class="hljs-number"><span class="hljs-number">3</span></span> +b*y**<span class="hljs-number"><span class="hljs-number">2</span></span> + c*z+d &gt;&gt;&gt; f.subs([(a,<span class="hljs-number"><span class="hljs-number">1</span></span>),(b,<span class="hljs-number"><span class="hljs-number">2</span></span>),(c,<span class="hljs-number"><span class="hljs-number">3</span></span>),(d,<span class="hljs-number"><span class="hljs-number">4</span></span>)]) <span class="hljs-comment"><span class="hljs-comment">#   a=1, b=2, c=3, d=4 x**3 + 2*y**2 + 3*z + 4 &gt;&gt;&gt; pr= x**3+4*x**2+6*x+10 &gt;&gt;&gt; pr.subs(x,1/x) #     10 + 6/x + 4/x**2 + x**(-3)</span></span></code> </pre> <br>  We draw your attention to the following peculiarity of working with variables (character and regular Python variables).  Run the following code: <br><br><pre> <code class="python hljs"><span class="hljs-meta"><span class="hljs-meta">&gt;&gt;&gt; </span></span>x=<span class="hljs-string"><span class="hljs-string">'Hello'</span></span> &gt;&gt;&gt; pr=x+<span class="hljs-string"><span class="hljs-string">'world'</span></span> &gt;&gt;&gt; pr <span class="hljs-string"><span class="hljs-string">'Helloworld'</span></span> &gt;&gt;&gt; x=<span class="hljs-string"><span class="hljs-string">'AAA'</span></span> <span class="hljs-comment"><span class="hljs-comment">#   x   &gt;&gt;&gt; pr 'Helloworld'</span></span></code> </pre> <br>  The rule here is that if a variable has changed, then the expression created earlier containing this variable is not automatically recalculated.  This rule also works for regular Python variables. <br><br><h3>  Fraction Operations </h3><br>  The SymPy module can perform calculations with fractions and bring them to a common denominator, for example, compare: <br><br><pre> <code class="python hljs"><span class="hljs-meta"><span class="hljs-meta">&gt;&gt;&gt; </span></span>S(<span class="hljs-number"><span class="hljs-number">1</span></span>)/<span class="hljs-number"><span class="hljs-number">3</span></span>+S(<span class="hljs-number"><span class="hljs-number">2</span></span>)/<span class="hljs-number"><span class="hljs-number">5</span></span> <span class="hljs-number"><span class="hljs-number">11</span></span>/<span class="hljs-number"><span class="hljs-number">15</span></span> &gt;&gt;&gt; <span class="hljs-number"><span class="hljs-number">1</span></span>/<span class="hljs-number"><span class="hljs-number">3</span></span>+<span class="hljs-number"><span class="hljs-number">2</span></span>/<span class="hljs-number"><span class="hljs-number">5</span></span> <span class="hljs-number"><span class="hljs-number">0.7333333333333334</span></span></code> </pre><br>  The functions <b>Rational (numerator, denominator)</b> and <b>Integer (...)</b> are used to create rational fractions without decimal rounding: <br><br><pre> <code class="python hljs"><span class="hljs-meta"><span class="hljs-meta">&gt;&gt;&gt; </span></span>z=Rational(<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">7</span></span>)+Rational(<span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">5</span></span>); z <span class="hljs-number"><span class="hljs-number">19</span></span>/<span class="hljs-number"><span class="hljs-number">35</span></span> &gt;&gt;&gt; Integer(<span class="hljs-number"><span class="hljs-number">1</span></span>)/Integer(<span class="hljs-number"><span class="hljs-number">5</span></span>) <span class="hljs-number"><span class="hljs-number">1</span></span>/<span class="hljs-number"><span class="hljs-number">5</span></span> &gt;&gt;&gt; <span class="hljs-number"><span class="hljs-number">1</span></span>/<span class="hljs-number"><span class="hljs-number">5</span></span> <span class="hljs-number"><span class="hljs-number">0.2</span></span> &gt;&gt;&gt; z=Integer(<span class="hljs-number"><span class="hljs-number">1</span></span>)/Integer(<span class="hljs-number"><span class="hljs-number">5</span></span>)+Rational(<span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">7</span></span>); z <span class="hljs-number"><span class="hljs-number">17</span></span>/<span class="hljs-number"><span class="hljs-number">35</span></span></code> </pre> <br><h3>  Rounding calculations </h3><br>  In symbolic calculations, the rule works - if nothing is said, do not do any rounding.  See how in the first case Python converts the expression, but leaves the square root in the answer record and does not perform any rounding, and in the second, since one of the numbers is given with a decimal point, the result will be approximate: <br><br><pre> <code class="python hljs"><span class="hljs-meta"><span class="hljs-meta">&gt;&gt;&gt; </span></span>sqrt(<span class="hljs-number"><span class="hljs-number">20</span></span>) <span class="hljs-number"><span class="hljs-number">2</span></span>*sqrt(<span class="hljs-number"><span class="hljs-number">5</span></span>) &gt;&gt;&gt; sqrt(<span class="hljs-number"><span class="hljs-number">20.0</span></span>) <span class="hljs-comment"><span class="hljs-comment">#        4.47213595499958</span></span></code> </pre> <br>  For any character object, there is an <b>evalf (...)</b> method ( <b>eval</b> uate <b>f</b> loat), which returns its decimal representation: <br><br><pre> <code class="python hljs"><span class="hljs-meta"><span class="hljs-meta">&gt;&gt;&gt; </span></span>sqrt(<span class="hljs-number"><span class="hljs-number">20</span></span>).evalf() <span class="hljs-comment"><span class="hljs-comment">#  sqrt()  sympy 4.47213595499958 &gt;&gt;&gt; E.evalf() 2.71828182845905</span></span></code> </pre> <br>  In the <b>evalf ([n, ...])</b> method <b>,</b> you can use an argument specifying the accuracy of the result (n = number of significant digits) <br><br><pre> <code class="python hljs"><span class="hljs-meta"><span class="hljs-meta">&gt;&gt;&gt; </span></span>sqrt(<span class="hljs-number"><span class="hljs-number">20</span></span>).evalf(<span class="hljs-number"><span class="hljs-number">30</span></span>) <span class="hljs-number"><span class="hljs-number">4.47213595499957939281834733746</span></span> &gt;&gt;&gt; pi.evalf(<span class="hljs-number"><span class="hljs-number">20</span></span>) <span class="hljs-number"><span class="hljs-number">3.1415926535897932385</span></span></code> </pre> <br>  You should also always remember that real arithmetic does not return an exact result, compare: <br><br><pre> <code class="python hljs"><span class="hljs-meta"><span class="hljs-meta">&gt;&gt;&gt; </span></span><span class="hljs-keyword"><span class="hljs-keyword">from</span></span> sympy <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> * &gt;&gt;&gt; one=S(<span class="hljs-string"><span class="hljs-string">'one'</span></span>) &gt;&gt;&gt; one = cos(<span class="hljs-number"><span class="hljs-number">1</span></span>)**<span class="hljs-number"><span class="hljs-number">2</span></span> + sin(<span class="hljs-number"><span class="hljs-number">1</span></span>)**<span class="hljs-number"><span class="hljs-number">2</span></span> &gt;&gt;&gt; one.evalf() <span class="hljs-comment"><span class="hljs-comment">#  1 1.00000000000000 &gt;&gt;&gt; (one-1).evalf() #    0 -0.e-124</span></span></code> </pre> <br>  If the result is known to contain a calculation error, then using the <b>chop = True</b> option of the <b>evalf ()</b> method, it can be removed.  A very small value of the real or imaginary part of the result in this case is replaced by zero.  Take the previous example: <br><br><pre> <code class="python hljs"><span class="hljs-meta"><span class="hljs-meta">&gt;&gt;&gt; </span></span>(one<span class="hljs-number"><span class="hljs-number">-1</span></span>).evalf() <span class="hljs-comment"><span class="hljs-comment">#    0 -0.e-124 &gt;&gt;&gt; (one - 1).evalf(chop=True) 0</span></span></code> </pre> <br><h3>  Infinity </h3><br>  After the first line <b>from sympy import *</b> is executed, the infinity symbol - <b>oo</b> (two letters ‚Äûo) becomes available, with which you can also perform certain operations: <br><br><pre> <code class="python hljs"><span class="hljs-meta"><span class="hljs-meta">&gt;&gt;&gt; </span></span>oo+<span class="hljs-number"><span class="hljs-number">1</span></span> oo &gt;&gt;&gt; <span class="hljs-number"><span class="hljs-number">1000000</span></span>&lt;oo <span class="hljs-keyword"><span class="hljs-keyword">True</span></span> &gt;&gt;&gt; <span class="hljs-number"><span class="hljs-number">1</span></span>/oo <span class="hljs-number"><span class="hljs-number">0</span></span></code> </pre> <br>  The infinity symbol is mainly used by the functions <b>limit ()</b> and <b>integrate ()</b> when defining the limits of integration, which we will discuss in one of the following articles. <br><br><h3>  Conclusion </h3><br>  The symbolic calculations considered in the article differ from numerical methods in that the results can be further investigated, for example, to determine the extremes of functions, solve equations with nested variables, and so on. <br><br>  I hope my article will be useful to anyone interested in Python programming, students and those who are engaged in scientific research. </div><p>Source: <a href="https://habr.com/ru/post/423731/">https://habr.com/ru/post/423731/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../423721/index.html">"You're one ugly motherf ** ker": hate speech algorithms and methods for circumventing them</a></li>
<li><a href="../423723/index.html">(Non) commercial project: Redis change licenses, but remain in open source</a></li>
<li><a href="../423725/index.html">Design processes in the ISPsystem. How to introduce ideology, build a department and stay alive</a></li>
<li><a href="../423727/index.html">AI, practical course. Deep learning to generate music</a></li>
<li><a href="../423729/index.html">5 million accounts have already been registered in ProtonMail cryptographic mail.</a></li>
<li><a href="../423733/index.html">The impact of GDPR on Russian personal data operators</a></li>
<li><a href="../423735/index.html">The ‚ÄúStartup Battle‚Äù will be held at the ‚ÄúInternet of Things‚Äù conference. We invite participants</a></li>
<li><a href="../423737/index.html">Severe optimization of work with market data for cryptobirds</a></li>
<li><a href="../423739/index.html">Angular and SEO: how to make friends?</a></li>
<li><a href="../423741/index.html">Abstract CRUD from the repository to the controller: what else can you do with Spring + Generics</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>