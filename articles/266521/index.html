<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Release Phalcon 2.1.0 beta 1</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="We are pleased to present you the first beta release of Phalcon 2.1 ! 

 2.1.x releases will be supported for a longer period, 2.1 will be our first v...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Release Phalcon 2.1.0 beta 1</h1><div class="post__text post__text-html js-mediator-article">  We are pleased to present you the first beta release of <b>Phalcon 2.1</b> ! <br><br>  2.1.x releases will be supported for a longer period, 2.1 will be our first version with long-term support ( <a href="https://en.wikipedia.org/wiki/Long-term_support">LTS</a> ). <br><br>  In 2.0.x we introduced several new features and fixed a lot of bugs.  However, our attention has always been paid to maintaining backward compatibility with Phalcon 1.3.x, while at the same time we encouraged developers to upgrade to 2.0.x.  This gave enough time for developers to make changes to their applications to work with the new branch. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Phalcon 2.1 provides new features, some of which are incompatible with previous versions, so make sure you check your applications before updating production systems. <br><br>  We are sure that the changes in this release will justify the update :) <a name="habracut"></a><br><br><h4>  End of PHP 5.3 support </h4><br>  Phalcon 2.0.x - the latest release series with PHP 5.3 support (&gt; = 5.3.21).  Because of this limitation, we cannot incorporate some performance improvements into the framework. <br><br>  Since version 2.1.x, we strongly recommend recommending developers to upgrade to 5.6, and PHP7 is already there.  We are focused on working with PHP 7, but at the same time the recommended PHP version for working now is 5.6. <br><br>
<h4>  <code>Phalcon\Mvc\Model\Validation</code> been deprecated </h4><br>  <a href="https://docs.phalconphp.com/en/latest/reference/models.html"><code>Phalcon\Mvc\Model\Validation</code></a> replaced by <a href="https://docs.phalconphp.com/en/latest/reference/validation.html"><code>Phalcon\Validation</code></a> .  The functionality of both components merges into one, thereby simplifying the support of the code base. <br><br>  Previously, validation was carried out as follows: <br><br><pre> <code class="php hljs"><span class="hljs-keyword"><span class="hljs-keyword">namespace</span></span> <span class="hljs-title"><span class="hljs-title">Invo</span></span>\<span class="hljs-title"><span class="hljs-title">Models</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">use</span></span> <span class="hljs-title"><span class="hljs-title">Phalcon</span></span>\<span class="hljs-title"><span class="hljs-title">Mvc</span></span>\<span class="hljs-title"><span class="hljs-title">Model</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">use</span></span> <span class="hljs-title"><span class="hljs-title">Phalcon</span></span>\<span class="hljs-title"><span class="hljs-title">Mvc</span></span>\<span class="hljs-title"><span class="hljs-title">Model</span></span>\<span class="hljs-title"><span class="hljs-title">Validator</span></span>\<span class="hljs-title"><span class="hljs-title">Email</span></span> <span class="hljs-title"><span class="hljs-title">as</span></span> <span class="hljs-title"><span class="hljs-title">EmailValidator</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">use</span></span> <span class="hljs-title"><span class="hljs-title">Phalcon</span></span>\<span class="hljs-title"><span class="hljs-title">Mvc</span></span>\<span class="hljs-title"><span class="hljs-title">Model</span></span>\<span class="hljs-title"><span class="hljs-title">Validator</span></span>\<span class="hljs-title"><span class="hljs-title">Uniqueness</span></span> <span class="hljs-title"><span class="hljs-title">as</span></span> <span class="hljs-title"><span class="hljs-title">UniquenessValidator</span></span>; <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Users</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Model</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">validation</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;validate( <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> EmailValidator( [ <span class="hljs-string"><span class="hljs-string">'field'</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">'email'</span></span>, ] ) ); <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;validate( <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> UniquenessValidator( [ <span class="hljs-string"><span class="hljs-string">'field'</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">'username'</span></span>, <span class="hljs-string"><span class="hljs-string">'message'</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">'Sorry, That username is already taken'</span></span>, ] ) ); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;validationHasFailed() == <span class="hljs-keyword"><span class="hljs-keyword">true</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">false</span></span>; } } }</code> </pre><br>  With the introduction of <a href="https://docs.phalconphp.com/en/latest/reference/validation.html"><code>Phalcon\Validation</code></a> , you will need to change the above code: <br><br><pre> <code class="php hljs"><span class="hljs-keyword"><span class="hljs-keyword">namespace</span></span> <span class="hljs-title"><span class="hljs-title">Invo</span></span>\<span class="hljs-title"><span class="hljs-title">Models</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">use</span></span> <span class="hljs-title"><span class="hljs-title">Phalcon</span></span>\<span class="hljs-title"><span class="hljs-title">Mvc</span></span>\<span class="hljs-title"><span class="hljs-title">Model</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">use</span></span> <span class="hljs-title"><span class="hljs-title">Phalcon</span></span>\<span class="hljs-title"><span class="hljs-title">Validation</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">use</span></span> <span class="hljs-title"><span class="hljs-title">Phalcon</span></span>\<span class="hljs-title"><span class="hljs-title">Validation</span></span>\<span class="hljs-title"><span class="hljs-title">Validator</span></span>\<span class="hljs-title"><span class="hljs-title">Email</span></span> <span class="hljs-title"><span class="hljs-title">as</span></span> <span class="hljs-title"><span class="hljs-title">EmailValidator</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">use</span></span> <span class="hljs-title"><span class="hljs-title">Phalcon</span></span>\<span class="hljs-title"><span class="hljs-title">Validation</span></span>\<span class="hljs-title"><span class="hljs-title">Validator</span></span>\<span class="hljs-title"><span class="hljs-title">Uniqueness</span></span> <span class="hljs-title"><span class="hljs-title">as</span></span> <span class="hljs-title"><span class="hljs-title">UniquenessValidator</span></span>; <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Users</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Model</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">validation</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ $validator = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Validation(); $validator-&gt;add( <span class="hljs-string"><span class="hljs-string">'email'</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> EmailValidator() ); $validator-&gt;add( <span class="hljs-string"><span class="hljs-string">'username'</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> UniquenessValidator( [ <span class="hljs-string"><span class="hljs-string">'message'</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">'Sorry, That username is already taken'</span></span>, ] ) ); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;validate(); } }</code> </pre><br>  Agree, this change makes the code much more readable. <br><br><h4>  Changes in the designer <code>Phalcon\Mvc\Model</code> </h4><br>  The class model constructor has been modified to allow you to pass an array of data for initialization: <br><br><pre> <code class="php hljs">$customer = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Customer( [ <span class="hljs-string"><span class="hljs-string">'name'</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">'Peter'</span></span>, <span class="hljs-string"><span class="hljs-string">'status'</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">'Active'</span></span>, ] );</code> </pre><br>  Using this method is analogous to <code>assign()</code> , i.e.  an available setter (implemented in a specific model or embedded) will be used to assign a property. <br><br><h4>  <code>Phalcon\Mvc\View</code> supports multiple view directories. </h4><br>  It was one of the features that our community has requested many times.  We are glad to announce that now you can use any kind of hierarchy when specifying directories with views.  This is especially useful for reuse in multiple modules: <br><br><pre> <code class="php hljs"><span class="hljs-keyword"><span class="hljs-keyword">use</span></span> <span class="hljs-title"><span class="hljs-title">Phalcon</span></span>\<span class="hljs-title"><span class="hljs-title">Mvc</span></span>\<span class="hljs-title"><span class="hljs-title">View</span></span>; <span class="hljs-comment"><span class="hljs-comment">// ... $di-&gt;set( 'view', function () { $view = new View(); $view-&gt;setViewsDir( [ '/var/www/htdocs/blog/modules/backend/views/', '/var/www/htdocs/blog/common/views/', ] ); return $view; } );</span></span></code> </pre><br><h4>  <code>Phalcon\Mvc\View</code> now supports absolute paths. </h4><br>  The absolute path can now be used in <code>Mvc\View::setLayoutsDir</code> and <code>Mvc\View::setPartialsDir</code> .  This allows you to use folders outside the main view directory. <br><br><pre> <code class="php hljs"><span class="hljs-keyword"><span class="hljs-keyword">use</span></span> <span class="hljs-title"><span class="hljs-title">Phalcon</span></span>\<span class="hljs-title"><span class="hljs-title">Mvc</span></span>\<span class="hljs-title"><span class="hljs-title">View</span></span>; <span class="hljs-comment"><span class="hljs-comment">// ... $di-&gt;set( 'view', function () { $view = new View(); $view-&gt;setViewsDir( [ '/var/www/htdocs/blog/modules/backend/views/', '/var/www/htdocs/blog/common/views/', ] ); $view-&gt;setLayoutsDir( '/var/www/htdocs/common/views/layouts/' ); return $view; } );</span></span></code> </pre><br><h4>  <code>Phalcon\Di</code> now tied to service closures </h4><br>  In the past, we had to pass the dependency container inside the service closure if it was necessary to perform some actions inside.  For example, to access the configuration or event manager.  Now we can use <code>$this</code> to get access to <code>Phalcon\Di</code> , as well as to already registered services. <br><br>  Code before: <br><br><pre> <code class="php hljs"><span class="hljs-keyword"><span class="hljs-keyword">use</span></span> <span class="hljs-title"><span class="hljs-title">Phalcon</span></span>\<span class="hljs-title"><span class="hljs-title">Mvc</span></span>\<span class="hljs-title"><span class="hljs-title">Dispatcher</span></span>; <span class="hljs-comment"><span class="hljs-comment">// ... $di-&gt;set( 'dispatcher', function () use ($di) { $eventsManager = $di-&gt;getEventsManager(); $eventsManager-&gt;attach( 'dispatch:beforeException', new NotFoundPlugin() ); $dispatcher = new Dispatcher; $dispatcher-&gt;setEventsManager($eventsManager); return $dispatcher; } );</span></span></code> </pre><br>  Now you can access the services without transferring <code>$di</code> : <br><br><pre> <code class="php hljs"><span class="hljs-keyword"><span class="hljs-keyword">use</span></span> <span class="hljs-title"><span class="hljs-title">Phalcon</span></span>\<span class="hljs-title"><span class="hljs-title">Mvc</span></span>\<span class="hljs-title"><span class="hljs-title">Dispatcher</span></span>; <span class="hljs-comment"><span class="hljs-comment">// ... $di-&gt;set( 'dispatcher', function () { $eventsManager = $this-&gt;getEventsManager(); $eventsManager-&gt;attach( 'dispatch:beforeException', new NotFoundPlugin() ); $dispatcher = new Dispatcher; $dispatcher-&gt;setEventsManager($eventsManager); return $dispatcher; } );</span></span></code> </pre><br><h4>  Service override allowed </h4><br>  If the object is returned after the <code>beforeServiceResolve</code> event in <code>Phalcon\Di</code> , the returned instance overrides the default service value. <br><br>  The following example shows how to override the creation of the <code>response</code> service from its plugin: <br><br><pre> <code class="php hljs"><span class="hljs-keyword"><span class="hljs-keyword">use</span></span> <span class="hljs-title"><span class="hljs-title">Phalcon</span></span>\<span class="hljs-title"><span class="hljs-title">Di</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">use</span></span> <span class="hljs-title"><span class="hljs-title">Phalcon</span></span>\<span class="hljs-title"><span class="hljs-title">Http</span></span>\<span class="hljs-title"><span class="hljs-title">Response</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">use</span></span> <span class="hljs-title"><span class="hljs-title">Phalcon</span></span>\<span class="hljs-title"><span class="hljs-title">Events</span></span>\<span class="hljs-title"><span class="hljs-title">Manager</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">use</span></span> <span class="hljs-title"><span class="hljs-title">MyApp</span></span>\<span class="hljs-title"><span class="hljs-title">Plugins</span></span>\<span class="hljs-title"><span class="hljs-title">ResponseResolverInterceptor</span></span>; $di = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Di(); $eventsManager = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> EventsManager; <span class="hljs-comment"><span class="hljs-comment">// Intercept service creation $eventsManager-&gt;attach( 'di', new ResponseResolverInterceptor() ); $di-&gt;set('response', Response::class); $di-&gt;setInternalEventsManager($eventsManager);</span></span></code> </pre><br>  Using plugins, you can intercept the creation of services: <br><br><pre> <code class="php hljs"><span class="hljs-keyword"><span class="hljs-keyword">namespace</span></span> <span class="hljs-title"><span class="hljs-title">MyApp</span></span>\<span class="hljs-title"><span class="hljs-title">Plugins</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">use</span></span> <span class="hljs-title"><span class="hljs-title">Phalcon</span></span>\<span class="hljs-title"><span class="hljs-title">Http</span></span>\<span class="hljs-title"><span class="hljs-title">Response</span></span>; <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ResponseResolverInterceptor</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> $cache = <span class="hljs-keyword"><span class="hljs-keyword">false</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">beforeServiceResolve</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">($event, $di, $parameters)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-comment"><span class="hljs-comment">// Intercept creation of responses if ($parameters['name'] == 'response' &amp;&amp; $this-&gt;cache == false) { $response = new Response(); $response-&gt;setHeader('Cache-Control', 'no-cache, must-revalidate'); return $response; } } }</span></span></code> </pre><br><h4>  Disabling the view from the <code>action</code> method </h4><br>  Sometimes there is a need to turn off the view by calling <code>$this-&gt;view-&gt;disable()</code> within a particular controller's <code>action</code> method in order to prevent <code>Phalcon\Mvc\View</code> further processing the result. <br><br>  This has become much easier;  just return <code>false</code> : <br><br><pre> <code class="php hljs"><span class="hljs-keyword"><span class="hljs-keyword">use</span></span> <span class="hljs-title"><span class="hljs-title">Phalcon</span></span>\<span class="hljs-title"><span class="hljs-title">Mvc</span></span>\<span class="hljs-title"><span class="hljs-title">Controller</span></span>; <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Api</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Controller</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">loginAction</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;safeApp-&gt;isBanned()) { <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;response-&gt;setStatusCode(<span class="hljs-number"><span class="hljs-number">401</span></span>, <span class="hljs-string"><span class="hljs-string">"Unauthorized"</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">false</span></span>; } <span class="hljs-comment"><span class="hljs-comment">// ... } }</span></span></code> </pre><br><h4>  Returning a string makes it the body of the response. </h4><br>  Returning the string from the controller action is taken as the response body: <br>  (same as <code>return $this-&gt;response-&gt;setContent('Hello world')</code> ) <br><br><pre> <code class="php hljs"><span class="hljs-keyword"><span class="hljs-keyword">use</span></span> <span class="hljs-title"><span class="hljs-title">Phalcon</span></span>\<span class="hljs-title"><span class="hljs-title">Mvc</span></span>\<span class="hljs-title"><span class="hljs-title">Controller</span></span>; <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Session</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Controller</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">welcomeAction</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-string"><span class="hljs-string">'&lt;h1&gt;Hello world!&lt;/h1&gt;'</span></span>; } }</code> </pre><br>  Especially useful if <code>Phalcon\Mvc\View\Simple</code> used instead of <code>Phalcon\Mvc\View</code> : <br><br><pre> <code class="php hljs"><span class="hljs-keyword"><span class="hljs-keyword">use</span></span> <span class="hljs-title"><span class="hljs-title">Phalcon</span></span>\<span class="hljs-title"><span class="hljs-title">Mvc</span></span>\<span class="hljs-title"><span class="hljs-title">Controller</span></span>; <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Session</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Controller</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">welcomeAction</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">($name)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;view-&gt;render( <span class="hljs-string"><span class="hljs-string">'welcome/index'</span></span>, [ <span class="hljs-string"><span class="hljs-string">'name'</span></span> =&gt; $name, ] ); } }</code> </pre><br>  This feature is also available in <code>Mvc\Micro</code> handlers: <br><br><pre> <code class="php hljs"><span class="hljs-keyword"><span class="hljs-keyword">use</span></span> <span class="hljs-title"><span class="hljs-title">Phalcon</span></span>\<span class="hljs-title"><span class="hljs-title">Mvc</span></span>\<span class="hljs-title"><span class="hljs-title">Micro</span></span>; $app = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Micro(); <span class="hljs-comment"><span class="hljs-comment">// ... $app-&gt;get( '/hello/{name}', function () { return $this-&gt;view-&gt;render( 'hello', [ 'name' =&gt; $name, ] ); } );</span></span></code> </pre><br><h4>  Redefining dispatcher behavior + views in routes </h4><br>  Routes can now be assigned callbacks that can override the default behavior of the manager and view: <br><br><pre> <code class="php hljs"><span class="hljs-comment"><span class="hljs-comment">// Make a redirection if the /help route is matched $router-&gt;add('/help', [])-&gt;match(function () { return $this-&gt;getResponse()-&gt;redirect('https://support.google.com/'); }); // Return a string directly from the route $router-&gt;add('/', [])-&gt;match(function () { return '&lt;h1&gt;It works&lt;/h1&gt;'; });</span></span></code> </pre><br>  Read the full list of changes to Phalcon 2.1 at <a href="">CHANGELOG</a> . <br><br><h4>  Help with testing </h4><br>  This version can be installed from the <code>2.1.</code> branch.  If you do not have Zephir, run the following commands: <br><br><pre> <code class="bash hljs">git <span class="hljs-built_in"><span class="hljs-built_in">clone</span></span> https://github.com/phalcon/cphalcon git checkout 2.1.x <span class="hljs-built_in"><span class="hljs-built_in">cd</span></span> cphalcon/ext sudo ./install</code> </pre><br>  If you have Zephir installed: <br><br><pre> <code class="bash hljs">git <span class="hljs-built_in"><span class="hljs-built_in">clone</span></span> https://github.com/phalcon/cphalcon <span class="hljs-built_in"><span class="hljs-built_in">cd</span></span> cphalcon/ git checkout 2.1.x zephir build</code> </pre><br>  We hope you enjoy these improvements and additions.  We invite you to share your thoughts and questions about this version on <a href="https://forum.phalconphp.com/">Phosphorum</a> . <br><br>  &lt;3 Phalcon Team </div><p>Source: <a href="https://habr.com/ru/post/266521/">https://habr.com/ru/post/266521/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../266509/index.html">RCC 2015 final September 19</a></li>
<li><a href="../266513/index.html">Perfect ERP or controlled blast</a></li>
<li><a href="../266515/index.html">CRM work protocol in a medical institution</a></li>
<li><a href="../266517/index.html">‚ÄúSweet‚Äù programming, or How to select a label from a can of jam in Mathematica?</a></li>
<li><a href="../266519/index.html">Intel Broadwell Xeon E3-1200 v4 - all you need to know about the new line of Xeon and eDRAM</a></li>
<li><a href="../266527/index.html">One customer, two premises, four providers and eight connections</a></li>
<li><a href="../266529/index.html">Zigbee for the little ones. Post number 1</a></li>
<li><a href="../266533/index.html">A variety of network security tests: a review of IXIA solutions</a></li>
<li><a href="../266537/index.html">How to stop freezing in the data center?</a></li>
<li><a href="../266539/index.html">Indoor navigation - from idea to working prototype</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>