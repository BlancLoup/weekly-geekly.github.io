<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>GPU in the clouds</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Need to build more GPU 

 Deep Learning is one of the most rapidly developing areas in machine learning. Advances in research in the field of in-depth...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>GPU in the clouds</h1><div class="post__text post__text-html js-mediator-article"><div style="text-align:center;"><img src="https://habrastorage.org/files/dfb/562/12f/dfb56212fc1c48f79f84ae1cd764acd2.jpg"></div><br>  <em>Need to build more GPU</em> <br><br>  <em>Deep Learning</em> is one of the most rapidly developing areas in machine learning.  Advances in research in the field of in-depth (deep) learning lead to an increase in the number of <abbr title="Machine learning">ML</abbr> / <abbr title="Deep learning">DL</abbr> frameworks (including those from Google, Microsoft, Facebook) implementing these algorithms.  For the ever increasing computational complexity of DL algorithms, and, as a result, for the increasing complexity of DL frameworks, the hardware power of either desktop or even server CPUs has not been stolen for a long time. <br><br>  The solution was found, and it is simple (it seems so) to use <abbr title="Graphics processor (eng. Graphics processing unit, GPU)">GPU</abbr> / FPGA calculations for this type of compute-intensive-tasks.  But here is the problem: you can, of course, use the video card of your favorite laptop for these purposes, but which <del>  Russian </del>  data scientist does not like <del>  drive fast </del>  NVidia Tesla? 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      There are at least two approaches to owning high-performance GPUs: buy ( <em>on-premises</em> ) and rent ( <em>on-demand</em> ).  How to save and buy is not the topic of this article.  In this one, we will look at what offers are available for renting VM instances with high-performance GPUs from cloud providers <em>Amazon Web Service</em> and <em>Windows Azure</em> . <br><a name="habracut"></a><br><h2>  1. GPU in Azure </h2><br><p>  In early August 2016, the launch of private testing of virtual machine instances equipped with NVidia Tesla cards was announced [1].  This feature is provided within the <em>Azure VM</em> service - <abbr title="Infrastructure as a service (English Infrastructure-as-a-Service, IaaS)">IaaS</abbr> -service providing on-demand virtual machines (similar to <em>Amazon EC2</em> ). <br></p><br><p>  From the point of view of application access to the graphics processor, the service architecture looks like this: <br></p><br><img alt="Azure VM GPU Instances Architecture" src="https://habrastorage.org/getpro/habr/post_images/495/5a4/3f2/4955a43f26ddb92d6ab9cea573d864a9.png"><br><br><p>  GPU calculations are available on N-series virtual machines, which, in turn, fall into 2 categories: <br></p><br><ul><li>  <strong>NC Series</strong> ( <em>computer-focused</em> ): GPU, aimed at computing; </li><li>  <strong>NV Series</strong> ( <em>visualization-focused</em> ): GPUs aimed at graphical calculations. </li></ul><br><h3>  1.1.  NC Series VMs </h3><br><p>  Graphics processors designed to compute-intensive loads using CUDA / OpenCL.  NVidia Tesla K80: 4992 CUDA cores,&gt; 2.91 / 8.93 Tflops (double / single precision) serve as graphics cards for them.  Access to the cards is done using the DDA technology (discrete device assignment), which brings the performance of the GPU closer when using a VM to the bare-metal performance of the card. <br></p><br><p>  It is easy to guess that VM series NC are designed for ML / DL tasks. <br></p><br><p>  The following VM configurations equipped with a Tesla K80 are available in Azure. <br></p><table><tbody><tr><td></td><td>  <strong>NC6</strong> <br></td><td>  <strong>NC12</strong> <br></td><td>  <strong>NC24</strong> <br></td></tr><tr><td>  Corores <br></td><td>  6 (E5-2690v3) <br></td><td>  12 (E5-2690v3) <br></td><td>  24 (E5-2690v3) <br></td></tr><tr><td>  GPU <br></td><td>  1 x K80 GPU (1/2 Physical Card) <br></td><td>  2 x K80 GPU (1 Physical Card) <br></td><td>  4 x K80 GPU (2 Physical Cards) <br></td></tr><tr><td>  Memory <br></td><td>  56 GB <br></td><td>  112 GB <br></td><td>  224 GB <br></td></tr><tr><td>  Disk <br></td><td>  380 GB SSD <br></td><td>  680 GB SSD <br></td><td>  1.44 TB SSD </td></tr></tbody></table><h3>  1.2.  NV Series VMs </h3><br><p>  Virtual machines of the NV series are intended for visualization.  On the VM data, there are Tesla M60 GPUs (4086 CUDA cores, 36 threads at 1080p H.264).  These maps are suitable for tasks (de) coding, rendering, 3D-modeling. <br></p><br><p>  Declared availability of VM instances with the following configurations: <br></p><table><tbody><tr><td></td><td>  <strong>NV6</strong> <br></td><td>  <strong>NV12</strong> <br></td><td>  <strong>NV24</strong> <br></td></tr><tr><td>  Corores <br></td><td>  6 (E5-2690v3) <br></td><td>  12 (E5-2690v3) <br></td><td>  24 (E5-2690v3) <br></td></tr><tr><td>  GPU <br></td><td>  1 x M60 GPU (1/2 Physical Card) <br></td><td>  2 x M60 GPU (1 Physical Card) <br></td><td>  4 x M60 GPU (2 Physical Cards) <br></td></tr><tr><td>  Memory <br></td><td>  56 GB <br></td><td>  112 GB <br></td><td>  224 GB <br></td></tr><tr><td>  Disk <br></td><td>  380 GB SSD <br></td><td>  680 GB SSD <br></td><td>  1.44 TB SSD </td></tr></tbody></table><h3>  1.3.  Prices </h3><br><p>  Prices for N-Series Azure VM are as follows (October 2016) [5]: <br></p><br><img alt="azurevm gpu instances prices" src="https://habrastorage.org/getpro/habr/post_images/7da/999/8ec/7da9998ece17480052a609cefd4e6729.png"><br><br><p>  But let your curiosity do not diminish these 4-digit numbers: as always, in the cloud we pay for the use of resources.  For IaaS services, which is the Azure VM service, this is understood as hourly billing.  In addition, there are many ways <a href="http://www.codeinstinct.pro/2016/10/cloud-for-free.html">to get</a> Microsoft Azure. <del>  gold </del>  computing resources are completely free. <br></p><br><p>  This applies to new accounts in Azure, for students, for startups, if you <del>  looking for a cure for cancer </del>  a researcher, or if you / the company you work for, is an MSDN subscription holder. <br></p><br><h2>  2. Amazon EC2 GPU Instances (+ dangerous comparison) </h2><br><p>  The cloud provider Amazon Web Services (AWS) started providing VM instances with GPUs back in 2010. <br></p><br><p>  Back in early September (2016), AWS GPU instances were represented only by the G2 family. <br></p><br><div class="spoiler">  <b class="spoiler_title">Technical Details on the G2 Instance Family</b> <div class="spoiler_text"><p>  Configurations of virtual machines of the G2 family: <br></p><table><tbody><tr><td>  Model </td><td>  GPUs </td><td>  vCPU </td><td>  Mem (GiB) </td><td>  SSD Storage (GB) </td><td>  Price, per hour / month </td></tr><tr><td>  g2.2xlarge </td><td>  one </td><td>  eight </td><td>  15 </td><td>  1 x 60 </td><td>  0.65 / 468 </td></tr><tr><td>  g2.8xlarge </td><td>  four </td><td>  32 </td><td>  60 </td><td>  2 x 120 </td><td>  2.6 / 1872 </td></tr></tbody></table><p>  G2 instances are equipped with NVidia GRID K520 graphics processors with 1556 CUDA cores, supporting 4x 1080p H.264 video streams.  CUDA / OpenCL support announced.  There is also support for HVM technology (hardware virtual machine), which, by analogy with the DDA in Azure VM, minimizes the costs associated with virtualization, allowing the guest VM to get a GPU performance close to bare-metal performance. </p><br></div></div><br><p><del>  While I was writing an article </del>  a month ago (end of September 2016) AWS announced P2 instances containing more modern graphic cards. <br></p><br><p>  Instances of the P2 family can include up to 8 NVIDIA Tesla K80 cards.  CUDA 7.5, OpenCL 1.2 support announced.  The p2.8xlarge and p2.16xlarge instances support a high-speed GPU-to-GPU connection, and a local network can connect up to 20 Gbps using ENA technology (Elastic Network Adapter ‚Äî a high-speed network interface for Amazon EC2). <br></p><table><tbody><tr><td>  Instance Name </td><td>  GPU Cores </td><td>  vCPU Cores </td><td>  Memory, Gb </td><td>  CUDA Cores </td><td>  GPU Memory </td><td>  Network, Gbps </td></tr><tr><td align="left">  <strong>p2.xlarge</strong> </td><td align="center">  one </td><td align="center">  four </td><td align="center">  61 </td><td align="center">  2496 </td><td align="center">  12 </td><td align="center">  High </td></tr><tr><td align="left">  <strong>p2.8xlarge</strong> </td><td align="center">  eight </td><td align="center">  32 </td><td align="center">  488 </td><td align="center">  19968 </td><td align="center">  96 </td><td align="center">  ten </td></tr><tr><td align="left">  <strong>p2.16xlarge</strong> </td><td align="center">  sixteen </td><td align="center">  64 </td><td align="center">  732 </td><td align="center">  39936 </td><td align="center">  192 </td><td align="center">  20 </td></tr></tbody></table><p>  For comparison * let's take the most productive (NC24) and the most budget (NC6) instances in Azure VM and the ones that are closest in performance to Azhurovskih ones to Amazon EC2. <br></p><table><tbody><tr><td>  Instance family </td><td>  GPU Model </td><td>  GPU Cores </td><td>  vCPU Core </td><td>  RAM, Gb </td><td>  Network, Gbps </td><td>  CUDA / OpenCL </td><td>  Status </td><td>  Price, $ / mo </td><td>  Price, $ per GPU / mo </td></tr><tr><td>  <strong>Amazon p2.xlarge</strong> </td><td>  K80 </td><td>  one </td><td>  four </td><td>  61 </td><td>  High </td><td>  7.5 / 1.2 </td><td>  GA </td><td>  648 </td><td>  648 </td></tr><tr><td>  <strong>Azure NC6</strong> </td><td>  K80 </td><td>  one </td><td>  6 </td><td>  56 </td><td>  ten (?) </td><td>  + / + </td><td>  Private preview </td><td>  461 </td><td>  461 </td></tr><tr><td>  <strong>Amazon p2.8xlarge</strong> </td><td>  K80 </td><td>  eight </td><td>  32 </td><td>  488 </td><td>  ten </td><td>  7.5 / 1.2 </td><td>  GA </td><td>  5184 </td><td>  648 </td></tr><tr><td>  <strong>Azure NC24</strong> </td><td>  K80 </td><td>  eight </td><td>  24 </td><td>  224 </td><td>  ten (?) </td><td>  + / + </td><td>  Private preview </td><td>  1882 </td><td>  235 </td></tr></tbody></table>  * UDP: Prices and configurations are current as of October 25, 2016. <br><br><h2>  Conclusion </h2><br>  AWS has long been ‚Äútormented‚Äù by the data-science-community by rather weak and at the same time expensive GPU instances of the G2 family.  But the competition in the cloud providers market has done its job - a month ago GPU instances of the P2 family appeared, and they look very decent. <br><br>  Microsoft Azure also tormented the community for a long time with the lack of GPU instances (this was one of the most anticipated features of the Azure platform).  At the moment, the GPU instances in Azure look extremely good, although they lack technical details.  The preview status of this feature is <del>  big minus </del>  the usual stage in the life cycle of most cloud services. <br><br>  In general, Microsoft literally over the course of a year or two has been seriously overgrown with various AI technologies / frameworks / tools, including (maybe - first of all) for developers and data scientists.  How seriously and conveniently this can be assessed on your own by looking at the records of the Microsoft ML &amp; DS Summit held in late September [6]. <br><br>  <em>In addition, exactly one week later - on November 1 - the <a href="http://www.msdevcon.ru/">Microsoft DevCon School</a> conference will take place, one of the tracks of which is entirely devoted to machine learning.</em>  <em>And they will not talk there exclusively about proprietary technologies MS, but about the usual and "free" Python, R, Apache Spark.</em> <br><br><h2>  List of sources </h2><br><ol><li>  <a href="http://gpu.azure.com/">NVIDIA GPUs in Azure</a> : check in the preview program. </li><li>  <a href="https://channel9.msdn.com/Shows/Azure-Friday/Leveraging-NVIDIA-GPUs-in-Azure">Leveraging NVIDIA GPUs in Azure</a> .  Webcast on Channel 9. </li><li>  <a href="http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/using_cluster_computing.html">Linux GPU Instances</a> : documentation. </li><li>  <a href="https://aws.amazon.com/blogs/aws/new-p2-instance-type-for-amazon-ec2-up-to-16-gpus/">Announcement of P2 instances in AWS</a> , September 29, 2016. </li><li>  <a href="https://azure.microsoft.com/en-us/pricing/details/virtual-machines/linux/">Prices for Azure Virtual Machines</a> (including Azure VM GPU). </li><li>  <a href="https://ignite.microsoft.com/microsoftdatascience">Microsoft Machine Learning &amp; Data Science Summit</a> Conference. </li></ol></div><p>Source: <a href="https://habr.com/ru/post/313478/">https://habr.com/ru/post/313478/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../313466/index.html">The opening of a mobile development studio from scratch in St. Petersburg - 3.5 years later. Reincarnation. Part 1</a></li>
<li><a href="../313468/index.html">AVA - Futuristic JavaScript library for testing.</a></li>
<li><a href="../313472/index.html">Slideshow without JS</a></li>
<li><a href="../313474/index.html">Short and simple about the complex - the service "8-800" (Freephone)</a></li>
<li><a href="../313476/index.html">Simplify Excel binary search - Double VLOOKUP Trick implementation using UDF</a></li>
<li><a href="../313480/index.html">Grandstream IP phones and Avaya Aura PBX</a></li>
<li><a href="../313482/index.html">Creating a blog engine with Phoenix and Elixir / Part 2. Authorization</a></li>
<li><a href="../313484/index.html">Recall all: Java JET conference. April 25, 2016. Report number 2</a></li>
<li><a href="../313486/index.html">Another way to display strings in Go</a></li>
<li><a href="../313488/index.html">Laziness is the engine of progress. Task generator Part 1</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>