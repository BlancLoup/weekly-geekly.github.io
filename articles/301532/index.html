<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>It's time to say goodbye to Rails.</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Last year, I decided that I would no longer use Rails, and would not support Rails in my gems. In addition, I will do everything possible so that I ne...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>It's time to say goodbye to Rails.</h1><div class="post__text post__text-html js-mediator-article"><p>  Last year, I decided that I would no longer use Rails, and would not support Rails in my gems.  In addition, I will do everything possible so that I never have to face Rails again at work. </p><br><p>  Since I‚Äôm involved in many Ruby projects, people often ask me why I don‚Äôt like Rails, what problems I have with it and so on.  Therefore, I decided to write this long post to summarize and explain everything. </p><br><p>  The article is partly technical, partly personal and, unfortunately, partly angry.  I am not writing this to attract attention, get visitors, etc., I have no interest in this.  I am writing this because I want to end my discussions on Rails and that there is a place to give links every time I hear the same questions. </p><br><p>  I would also like to tell you a couple of stories that "novice Rails developers" have probably never heard of, and highlight some of the questions that are important enough to at least think about them. </p><a name="habracut"></a><br><h3>  Good part </h3><br><p>  I will not pretend that everything in Rails is bad, wrong, and the framework is the embodiment of evil.  It would not be fair, and just stupid.  There are a lot of good things to say about Rails.  And I will mention a couple of (obvious?) Things to maintain balance. </p><br><p>  So, Rails made Ruby popular.  It is a fact.  I became a Ruby developer, which in turn changed my career and gave me a lot of amazing features thanks to Rails.  Many rubists of those days went the same way.  We are all here thanks to Rails.  In many cases, Rails actually had a huge impact on people, and literally improved their lives.  People got better jobs, better opportunities and good money.  This was a radical change in the conditions of the "game" for many of us. </p><br><p>  Over the years, Rails &amp; DHH has inspired many people, including people from other communities, to rethink what they are doing.  For example, I‚Äôm sure that Rails helped improve the PHP community (you can try to prove that I‚Äôm wrong, but I have pretty vivid memories of how Symfony got a lot of Rails inspiration).  The same thing happened in Java, the Play framework is an example. </p><br><p>  There are other fantastic aspects.  Rails has always been focused on ease of use and the ability to quickly create web applications, which have allowed initiatives such as Rails Girls to succeed.  Rails proved to people that they were able to create something on their own, without any programming experience, in a relatively short amount of time.  This is surprising, as it can easily become a gateway to the world of programming for people who otherwise did not even consider becoming a programmer. </p><br><h3>  My trip </h3><br><p>  Let me tell you a little about my background and how I came to Rails. </p><br><p>  I started working with Ruby at the end of 2006, because my thesis was about Rails.  I studied the language while I was writing my diploma.  It was fun, it was interesting, it was something new for me.  Then I still worked as a PHP developer.  And as a typical PHP programmer in ~ 2005-6, I did all these typical things: I wrote SQL queries in presentation templates, wrote in a procedural style, and then developed my own framework and my own ORM, I was disappointed and burned out.  Despite some knowledge of C, C ++, Java and Python, I decided to switch to Ruby, because of Rails.  I chose them for my diploma and quite by chance I came across a job offer from a local Rails store.  I answered and they hired me.  This was in March 2007. </p><br><p>  So, since March 2007, I started working with Ruby professionally, and somewhere in 2009 I started to contribute to OpenSource projects in Ruby.  Since then I have been working in a consulting company for 3.5 years, mainly with large and complex projects.  Then he worked as a freelancer for several years, worked with a bunch of clients, opened his own company, and then returned to full-time work, and then back to freelancing, and now I'm a full-time employee again.  I created Rails applications from scratch and participated in the development of relatively large Rails applications. </p><br><p>  Let me tell you a story.  Once I joined an existing project.  It was an awesome app that managed the online shopping community website.  Complex sales models, complex promotions, intricate configurations of goods, coupons, user groups, messages - it had all this.  I joined them to help add some new features.  One of my first tasks was ... add a link to something on some page.  It took me a few days to add this stupid link.  Why?  The application was a big ball of complex domain logic, rolled out on several layers and with such complex views that it was not easy to even find the desired template in which to add a link.  Since I needed some data from the order in order to create this link, it was not obvious how I should get it.  The lack of internal application APIs and reliance solely on ActiveRecord made this task extremely difficult.  I am not kidding. </p><br><p>  My first frustrations with Rails started quite early.  I experienced discontent from ActiveRecord after about 6 months of using it.  I also never liked how Rails approached JavaScript and AJAX.  In case you don‚Äôt remember, or didn‚Äôt catch the version before Rails adopted the UJS approach (which was the hit of the discussions in 2007-2008), Rails used inline JavaScript in templates generated by a bunch of nasty helpers.  Like everything with Rails, it was "easy and pleasant in the beginning" and then turned into unsupported crap.  In the end, Rails adopted UJS in version 3.0 and the community seems to have agreed that this is the best approach.  That was when Merb was <del>  killed by </del>  poured into rails.  Oh, you do not know what is Merb?  Ok, let's talk about this. </p><br><h3>  Why I was delighted with Merb &amp; DataMapper </h3><br><p>  Merb is a project created by Ezra Zygmuntowicz.  It began as a hack to make file uploads faster and thread-safe.  And he walked an interesting path from this hack to a modular, thread-safe, fast full-stack framework for developing web applications.  I remember how people started talking about Merb in 2008 and it was an amazing feeling that something new was happening, and it would be great! </p><br><p>  You may have been delighted when the API mode appeared in Rails, right?  Hmm, and Merb had 3 modes: full stack mode, API mode and micro mode, in which it was trimmed to a minimum, and I still remember that this was the fastest thing that ever existed in the Ruby world.  That was over 7 years ago.  Think about it. </p><br><p>  At the same time, another project attracted the attention of the community - DataMapper.  He became part of the Merb stack, being his choice for ORM.  I was very excited about how he solved many of the problems that were in ActiveRecord.  DataMapper already in ~ 2008-9 had attribute definitions in models, custom types, lazy queries, more powerful DSL queries, and so on.  In 2008, Yehuda Katz was one of the core developers of the project, he <a href="https://www.youtube.com/watch%3Fv%3D-S5ADwI56_8">actively promoted him</a> and there was a big stir in this regard.  DataMapper was ultimately a better ORM than ActiveRecord in 2008-9.  It would be unfair not to mention that Sequel appeared at about the same time and it is still used far less than ActiveRecord, even though it is a better solution. </p><br><p>  I was delighted with Merb and DataMapper as they brought hope that we can do something better and create healthy competition for Rails.  I was excited because both projects encouraged a modular approach and thread safety, not to mention such things as simply better standards for writing code. </p><br><p>  Both projects were eventually killed by Rails, since Merb was <a href="http://yehudakatz.com/2008/12/23/rails-and-merb-merge/">"flush"</a> with Rails, which resulted in a huge Rails refactoring for version 3.0.  DataMapper lost the attention of the community and without much support the project could not develop, as it could be if Merb would not be "infused" in Rails. </p><br><p>  With this solution, the Ruby ecosystem lost a bunch of important projects and only Rails benefited from it.  Whether the decision to kill a Merb is good or not is a matter of personal opinion, we can only assume what could have happened if the decision had not been made.  However, there is a simple truth about competition - that's great.  Lack of competition means monopoly, and the simple truth about monopoly is not great.  Competition promotes progress and innovation, competition creates a healthy ecosystem, it allows people to work together more to share what is common to create a better foundation.  This is not what happens in the Ruby community. </p><br><p> After Merb &amp; DataMapper were virtually destroyed (in the long run), it was extremely difficult to create something new in the Ruby ecosystem.  Because people focused on Rails, new projects were heavily influenced by it.  Breaking through with new ideas was difficult, to say the least ... because every time you demonstrate something, people just want it to be like Rails and work well with Rails.  Making projects that work with Rails is hard, but I will come back to this issue later. </p><br><p>  After all these years, we eventually came to one framework subordinating our entire ecosystem, affecting thousands of developers and creating standards that ... are very controversial.  We lost the diversity of the ecosystem, which began to grow in 2008 and was suppressed by Rails. </p><br><p>  Hey, I know how it sounds almost like conspiracy theories, but don‚Äôt treat it that way.  What I have said here are facts with a mixture of my personal feelings.  I started participating in DataMapper at the end of 2009 and, seeing how it collapses was very sad. </p><br><h3>  Complexity! </h3><br><p>  Difficulty is our biggest enemy.  People began to show less enthusiasm for Rails, as it quickly turned out that in dealing with growing complexity, it leaves us with a lot of unanswered questions.  What DHH &amp; co offer.  never was enough to solve many problems that thousands of developers began to fight back in 2007-2008.  Some people had hoped that maybe Merb / DataMapper would bring improvements, but now you know what happened, so we all went back to Rails in 2010 when Rails 3.0 was released. </p><br><p>  A couple of days ago, someone posted on <a href="https://www.reddit.com/r/ruby/comments/4ip6dj/organize_your_app_with_service_objects/">/ r / ruby ‚Äã‚Äãa</a> link to an article about organizing code using "Service objects".  This is one of many similar articles.  If you think this is a kind of recent trend, take a look at the James Golick article from March 2010 - <a href="http://jamesgolick.com/2010/3/14/crazy-heretical-and-awesome-the-way-i-write-rails-apps.html">"Crazy, Heretical, and Awesome: The Way I Write Rails Apps</a> . <a href="http://jamesgolick.com/2010/3/14/crazy-heretical-and-awesome-the-way-i-write-rails-apps.html">"</a> </p><br><p>  We‚Äôre talking about ways to improve the architecture of our Rails applications for about 6 years.  I tried to contribute to this discussion as much as I could - articles, speeches at conferences and work on many open source projects that seek to solve various complex problems. </p><br><p>  However, such arguments and ideas are always ridiculed by members of the Rails Core Team, and especially DHH.  This was scary and discouraging for me, and this is the reason why I never tried to contribute to Rails.  I‚Äôm pretty damn sure that my suggestions will end up in the end.  Monkey-patches?  C'mon, no problem, we love our 10.years.ago!  New abstractions?  Who needs it, Rails is easy!  TDD?  Not a problem, <a href="http://david.heinemeierhansson.com/2014/tdd-is-dead-long-live-testing.html">she is dead</a> , do not worry!  ActiveRecord is bloated - so what, it's so convenient, let's <a href="https://github.com/rails/rails/pull/18910">add more features</a> ! </p><br><p>  The Rails ecosystem, especially around its Core Team, has never made a good impression on me, and it‚Äôs not a problem for me to admit that I‚Äôm just afraid to suggest any changes.  This is especially true since the first thing I would suggest is "Please remove ActiveSupport" (haha ... imagine it!). </p><br><p>  Okay, let's get to some technical details. </p><br><h3>  Convenience-Based Rails Design </h3><br><p>  As I said, Rails was built with usability in mind.  Do not confuse this with simplicity.  Just yesterday, I stumbled upon this tweet, which says it all: </p><br><p><img src="https://habrastorage.org/files/2c7/661/7dc/2c76617dc9384e35bc1bd2fd729d30fc.png" alt="Simple vs easy"></p><br><p>  This is how Rails works, a classic example: </p><br><pre><code class="ruby">User.create(params[:user])</code></pre><br>
<p>    ,     (  ,   User  ActiveRecord),   .     ,      .   /        ,   ?</p><br>
<p>,      ,   ,   " "  ,  :</p><br>
<ul>
<li>params    -  </li>
<li>params   </li>
<li>params      ,     ,   </li>
<li>       ,      ( I18n)</li>
<li> params     ,        </li>
<li>           </li>
</ul><br>
<p>   ,       .   (coupling)      .</p><br>
<p>  Rails     .  Rails       SRP ( SOLID  )     ",  ,  ".   ,      ,         ,  Rails   YAGNI.   ,     ,        ,  Rails,   <a href="https://twitter.com/tenderlove/status/734437704893505536">tenderlove</a>,   ‚Äúuse ActiveSupport::Concerns‚Äù.</p><br>
<p> Rails-  ,  <strong>,   -    ActiveRecord</strong>,   ,  .</p><br>
<p>      ‚Äî    ,    . <strong>  Rails,        </strong>,     ,     ,   ,      .        ,        . ActiveRecord     ,  Rails     ,   Rails  .</p><br>
<p>  ,        ActiveRecord ,    Attributes API (     ,    ).  ,     ActiveRecord     200        concerns,    ORM,        .</p><br>
<p>     Rails?    .      ,  -    ,    Rails   .   ‚Äî    <code>ActiveRecord.suppress</code>,   <a href="https://github.com/rails/rails/issues/18847">  DHH</a>.    ,         Ruby , : ",     ,    CreateCommentWithNotificationsFactory". -!</p><br>
<h3>ActiveCoupling</h3><br>
<p>  Rails   ?    ,      <a href="https://www.youtube.com/watch%3Fv%3DWpkDN78P884">  </a>,          -    .   ,   ,  Rails       .      Rails,      .  ,   ,   DHH  :</p><br>
<p><img src="https://habrastorage.org/files/340/11c/3a4/34011c3a47944e42b31e32758b45da45.png" alt="Rails is your app"></p><br>
<p>      ,   ?    ", ".  , ?   !</p><br>
<p><strong>Rails   </strong>,    ,      ,     ,       .</p><br>
<p>  :</p><br>
<ul>
<li><strong>ActiveRecord        .</strong>          .         ,    .  Rails    ,     ActiveRecord,     SRP,    LoD,               .       Rails.</li>
<li> ""   Rails   ActiveModel,        Active Record ORM (    Sequel,     )</li>
<li>    Rails-,       </li>
<li>     Rails-,    </li>
<li>  Rails,     gems,   Rails,    ( mixins,    ). Rails   gems    ,   ,   ,      ‚Äî      .</li>
</ul><br>
<p>   ,    ,  Rails ‚Äî   .       ,   ,           . <strong>       Rails   ,  ,     "" Java .</strong> Rails          - .</p><br>
<p>   .  .</p><br>
<h3> </h3><br>
<p>   ,      Rails ‚Äî  ActiveSupport.     <a href="http://solnic.eu/2015/06/06/cutting-corners-or-why-rails-may-kill-ruby.html">  </a>,   ,    .        .</p><br>
<p>,     ,   - ActiveSupport    Rails    Ruby.        Rails  .   ,   ,        , ,     API,  -  . !</p><br>
<p>Rails   ,        .     -   Rails,      ,     ActiveSupport,            ,     ,  ,   ,  Rails     ,   .</p><br>
<p>,   Rails,      ,   .  ,  ,       Rails ( , ,      Rails),        .    ,     ,        Rails?  ,      ,  ActiveRecord,   ,    ‚Äî ActiveModel,    ActiveRecord  Rails 3.0.</p><br>
<p>  ,     Rails   .</p><br>
<p>   ,                  . Rails  ,   .  ,     ,   Spring.        ,      ,        Rails.     ,  ,     . <strong> ,     Ruby  ,               .</strong>    ,   ,     Rails.     Rails,       ,   ,     , ,       .   -       ,        .  ,      ,  ,  ,     ,    ,    F5.    .</p><br>
<p> ,  ,    ,      !    Rails        .  ,      .</p><br>
<p>      ActiveSupport,  ActiveRecord     ,       ORM,  ,   ,   -   Rails.</p><br>
<h3>  Rails</h3><br>
<p>       Rails      OpenSource   Ruby,  .    ,       Rails.     ,        .    ,   ,  -   Rails.   ! ! <strong>Rails    ,      ,  -     ,  ,  -.</strong>     -,  Rails    !   <em>   </em>.</p><br>
<p>    .        ,  <a href="http://dry-rb.org/">dry-rb</a>, <a href="http://hanamirb.org/">hanami</a> and <a href="http://trailblazer.to/">trailblazer</a>       <a href="http://rom-rb.org/">rom-rb</a>.      , ,  ,     ,       Merb  DataMapper.</p><br>
<p>   ,    , ,    .   ,    ,      .</p><br>
<h3>  Ruby</h3><br>
<p>  ,    Rails ‚Äî      ‚Äî   Ruby    .        .   ,          Ruby.     <a href="http://elixir-lang.org/">Elixir</a>   .    Clojure,          "  ".    ,     .      ,     Haskell,      .         Scala.          ,   ,         ,    TypeError .    ‚Äî      ,    ,       - .</p><br>
<p>      ,       Rails,       . Monkey-patching,     ,  ORM ‚Äî          .</p><br>
<p> ,   " Ruby  - ,     ,  ,      ,     ".    .  , Ruby  -     (,   ..). -,     ,  ,       Ruby-.      ,      , ‚Äî     .</p><br>
<p>    ,   Ruby.     .   ,    .       rom-rb, dry-rb,   hanami  trailblazer.    ,      ,       .</p><br>
<h3>   </h3><br>
<p>       ,       ,   .</p><br>
<blockquote>. Rails       .</blockquote><br>
<p>      ,   .  ,  ,     .   ,   ,      .    ,  ,    "" -,   ,  ,    ,           ,        .     Rails,  ,   .</p><br>
<blockquote>  ,   ,    ,   Rails  ,       </blockquote><br>
<p>         .     ,    GitHub,   2435   OSS  .      . ,      Rails - ,      .    ,     ,          .        ,       OpenSource ,      GitHub.</p><br>
<blockquote> OSS,   Rails</blockquote><br>
<p>   .         ,         ,       .  Rails     .     Rails,     ,   ActiveSupport         ActiveRecord  ..     - ,       (. <a href="http://hanamirb.org/">Hanami</a>).</p></div>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <p>Source: <a href="https://habr.com/ru/post/301532/">https://habr.com/ru/post/301532/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../301518/index.html">Russian IT companies view Agile as a means to implement an ‚Äúemergency strategy‚Äù of development in the market.</a></li>
<li><a href="../301520/index.html">ITMO University Digest: # 3 Neural networks: interesting articles from ITMO University journals</a></li>
<li><a href="../301522/index.html">Structure from motion</a></li>
<li><a href="../301524/index.html">What does Apple Watch: a year later</a></li>
<li><a href="../301528/index.html">80 for 20 - how not to optimize processes</a></li>
<li><a href="../301534/index.html">Manual installation of Windows 7/8 / 8.1 / 10 in a system with GRUB2 bootloader</a></li>
<li><a href="../301536/index.html">FizzBuzz on TensorFlow</a></li>
<li><a href="../301538/index.html">Promotion in social networks. Part 1 - VKontakte and how is everything here?</a></li>
<li><a href="../301540/index.html">How is the training of the highest paid IT-specialists - those who need to understand a very expensive iron</a></li>
<li><a href="../301542/index.html">Another blog for the protection of information and personal data</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>