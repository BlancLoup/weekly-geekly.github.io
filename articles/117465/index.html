<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Dropbox vulnerable initially?</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="In the past few days, articles with titles like ‚ÄúDropbox is insecure‚Äù, ‚ÄúA serious vulnerability in Dropbox‚Äù, etc. have started to go around the Intern...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Dropbox vulnerable initially?</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/storage/habraeffect/0a/b6/0ab60c5bd658f079d98531c2a8b0cabb.jpg" alt="image" align="left">  In the past few days, articles with titles like ‚ÄúDropbox is insecure‚Äù, ‚ÄúA serious vulnerability in Dropbox‚Äù, etc. have started to go around the Internet.  I, as a dropbox user, decided to figure out what was the matter.  Russian-speaking sources of information, as is usually the case, are full of loud statements in the spirit of ‚ÄúEverything is gone !!!!!!!!‚Äù, and the reference to the source should be considered a bad form.  Under the cut, I will tell you how it really is. <br><a name="habracut"></a><br>  So a week ago <b>Derek Newton</b> made a <a href="http://dereknewton.com/2011/04/dropbox-authentication-static-host-ids/">Dropbox authentication: insecure by design</a> entry on his blog.  The recording is quite voluminous, so I will try to briefly convey the author‚Äôs main thoughts. <br><br>  Under Windows (Derek uses Windows, but I'm sure everything described will work everywhere) Dropbox saves settings, lists of files / directories, hashes, etc.  in multiple files format <i>sqlite</i> .  These files are in <b>% APPDATA% \ Dropbox</b> .  Consider the main database directly related to the dropbox configuration: <b>config.db</b> .  Having opened it in any <i>SQLite</i> file viewer, you can see that there is only one table ( <b>config</b> ) with several fields in the database.  Consider three of them: <br><br><ul><li>  <b>email</b> : account owner email.  Surprisingly, this address is not involved in the authorization process and can be changed to any value (formatted as a valid email address) without any consequences. </li><li>  <b>dropbox_path</b> : determines where the folder syncs with Dropbox. </li><li>  <b>host_id</b> : assigned to the system after the first authorization.  <i>Never change afterwards.</i> </li></ul>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      After experimenting with the file (data modification, etc.), it became clear that Dropbox only uses the value of <b>host_id</b> for authorization.  The problem is that the config.db file is portable and completely unrelated to the system.  It turns out that if you get access to this file (or just the <b>host_id</b> line) you will get full access to the files until the system's link to the account is deleted via the Dropbox web interface.  Copying the file config.db to another system (you may have to change the <b>dropbox_path</b> to the correct one) and running Dropbox immediately synchronizes this system with the account <b>without notifying the user and not even adding the new system to the list of trusted users in the web interface (even if the new system has a different name ).</b>  <b>Moreover, the host_id remains valid even after the user has changed the password.</b> <br><br>  Next, Derek logically notes that once you have access to the config.db file, then most likely there is access directly to the dropbox files, which means that this is not such a serious vulnerability.  All right, but rather good prospects are opening up for attackers: <br><br><ul><li>  A relatively simple ‚Äútargeted‚Äù virus can be developed, aimed at acquiring host_id from personalities of interest to the attacker, with subsequent access to the files or their infection. </li><li>  Even if a virus is detected on a compromised system, normal steps to ensure security (removing the virus, changing the password, reinstalling the system, etc.) will not prevent access to the victim‚Äôs files.  The user will need to manually remove the compromised system from the trusted list on the dropbox site. </li><li>  Transferring only a config.db file (several kilobytes in size) is in most cases less noticeable than transferring files directly from the dropbox folder.  Access to dropbox files is possible at a distance, even when the user has turned off the computer. </li></ul><br><br>  Derek offers three security options that are pretty obvious, by the way: <br><br><ol><li>  Do not use Dropbox.  This is the easiest, but not the most acceptable way, of course. </li><li>  Protect your data: use encryption for important files stored in the dropbox and keep the access key secret (for example, it will be stupid to store it in the dropbox folder or on the same system) </li><li>  Follow the list of authorized devices and do not be lazy to delete those that you no longer plan to use. Also pay attention to the ‚ÄúLast Activity‚Äù field in the ‚ÄúMy Computers‚Äù list in the dropbox web interface.  If you see that the files were accessed when it should not be - immediately remove this system from the trusted ones. </li></ol></div><p>Source: <a href="https://habr.com/ru/post/117465/">https://habr.com/ru/post/117465/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../117459/index.html">Four birthday Linux</a></li>
<li><a href="../117460/index.html">Crowdsourcing power?</a></li>
<li><a href="../117461/index.html">High likelihood is that Firefox 5 will start supporting CSS3 Animations. (And if it doesn't, then the animations will certainly appear in Firefox 6.)</a></li>
<li><a href="../117462/index.html">JavaOne / Oracle Develop: General Impressions</a></li>
<li><a href="../117463/index.html">Google Corporation is unhappy with the negotiations with record labels</a></li>
<li><a href="../117466/index.html">kedDroid - S02E10. Video review software for Android</a></li>
<li><a href="../117468/index.html">Information Systems Integration</a></li>
<li><a href="../117469/index.html">Tele2 will come to Sakhalin, Kamchatka, Chukotka, Koryak district</a></li>
<li><a href="../117470/index.html">We disassemble ThinkPad T410s</a></li>
<li><a href="../117471/index.html">Create an application for Windows Phone 7 from start to finish. Part 2. Tools for creating applications, recommendations for designing an interface</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>