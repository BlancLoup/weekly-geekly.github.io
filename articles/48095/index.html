<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>We revive the DSL-G604T router</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="I got a wonderful unit, I was told that he knows how to do a lot, but he works with errors (for this reason he got it). Turning in my hands, I decided...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>We revive the DSL-G604T router</h1><div class="post__text post__text-html js-mediator-article">  I got a wonderful unit, I was told that he knows how to do a lot, but he works with errors (for this reason he got it).  Turning in my hands, I decided to look at what this device is capable of. <br><br><img src="https://habrastorage.org/getpro/geektimes/post_images/64c/c30/07b/64cc3007b6877f2ed3978c452723781e.jpg" alt="image"><br><a name="habracut"></a><br><h2>  Overview </h2><br>  Since I was given only the router itself, I decided to first see what it is.  Of course, the internet helped me. <br>  Brief characteristics: <br><table><tbody><tr><td>  Type of </td><td>  Wi-Fi ADSL access point (802.11g) </td></tr><tr><td>  VPN pass through support </td><td>  there is </td></tr><tr><td>  Protection of information </td><td>  WEP, WPA </td></tr><tr><td>  Router </td><td>  there is </td></tr><tr><td>  Switch </td><td>  4xLAN </td></tr></tbody></table><br>  On the manufacturer‚Äôs website there is nothing about this device.  Therefore, we had to look for reviews and articles in other places (dated 2005): <br>  <a href="http://www.ixbt.com/comm/wrls-adsl-dlink-dsl-g604t.shtml">[IXBT.COM] D-Link DSL-G604T Wireless ADSL Router</a> <a href="http://www.ixbt.com/comm/wrls-adsl-dlink-dsl-g604t.shtml"><br></a>  <a href="http://www.ixbt.com/comm/wrls-adsl-dlink-dsl-g604t_2.shtml">[IXBT.COM] Performance Testing</a> <br>  These articles were enough for me to understand what I was holding. <br><br><h2>  purpose </h2><br>  Purpose: Set up a wi-fi hotspot for internet access 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h2>  Used appliances </h2><br>  I have available: <br>  <a href="">Asus eee pc 901 green</a> <br>  <a href="http://habrahabr.ru/blogs/atnikvariat/46122/">Toshiba Portege SS S4 / 275PNHW</a> <br>  <a href="http://habrahabr.ru/blogs/nokia/41531/">Nokia 5800 XpressMusic</a> <br><br>  All devices work with wi-fi and have different OS: <a href="http://ru.wikipedia.org/wiki/Ubuntu">Ubuntu Linux</a> , <a href="http://ru.wikipedia.org/wiki/Windows_XP">Windows XP</a> , <a href="http://ru.wikipedia.org/wiki/Symbian">Symbian OS</a> <br><br>  Setting up wi-fi on the router was not difficult, the web interface is not the most convenient, but this is not a hindrance.  Initially, inside the network we set up a router on the Internet, and our router will connect to it.  DHCP is extremely clumsy and refused to work normally, so I had to prescribe statically IP addresses on devices. <br><br><h2>  Problems </h2><br>  The access point is working normally, but the wi-fi connection periodically hangs or disappears.  The signal is good only within the room, already 40% of the signal is through the supporting wall.  When the Nokia 5800 connects to WPA, after 1 minute, the wi-fi access point simply rebooted and recovered within 2 minutes, although at those settings the laptops work fine.  So it was decided to reflash the point. <br><br><h2>  Flashing </h2><br>  All sites say that everything runs smoothly and beautifully, we download the firmware through the web interface and everything is ok.  In my case, the web interface gave an error, and the dot died during the firmware.  So I had to conjure. <br><br>  I tried to <a href="http://healthlife.freehosting.net/cgi-bin/blog">install</a> an alternative firmware from <a href="http://healthlife.freehosting.net/cgi-bin/blog">healthlife</a> , in the archive with the firmware there was the firmware itself in the form of an img file, the tiupgrade utility and its cofigs. <br><br>  After an unsuccessful operation through the web, the point stopped responding to all external signals, no lights flashed except for the network status.  The search gave me three ways to revive her: <br>  1) <a href="http://mcmcc.bat.ru/dlinkt/HOWTO_RECOVERY.koi8-r.txt">ADAM2 FTP server</a> <br>  2) <a href="http://mcmcc.bat.ru/dlinkt/doc_rus/G604T_README.RUS.win.txt">Corrupted-image mode in tiupgrade utility</a> <br>  3) <a href="http://msevm.com/md/769/dlink.htm">Via EJTAG cable</a> <br><br><h3>  ADAM2 FTP </h3><br>  In the first case, the developer offered to solve the problem like this: <br><br> <code>B    D-Link   FTP  ADAM2  ip  10.8.8.8, <br>  DSL-G604T,   ip  10.48.88.66,      <br>  eth0:1,   : <br> [root@mcmcc root]# ifconfig eth0:1 10.8.8.7 up <br>     ftp   ip 10.8.8.8,     <br> [igor@mcmcc igor]$ ftp 10.8.8.8 ( DSL-G604T - 10.48.88.66) <br>         2      <br> , ..   ftp     ,    <br>      ,     : <br> Connected to 10.8.8.8. <br> 220 ADAM2 FTP Server ready. <br> 530 Please login with USER and PASS. <br> 530 Please login with USER and PASS. <br> KERBEROS_V4 rejected as an authentication type <br> Name (10.8.8.8:igor): adam2 <br> 331 Password required for adam2. <br> Password: adam2 <br> 230 User adam2 successfully logged in. <br> Remote system type is UNIX. <br> ftp&gt; debug <br> Debugging on (debug=1). <br> ftp&gt; bin <br> ---&gt; TYPE I <br> 200 Type set to I. <br> ftp&gt; quote MEDIA FLSH <br> ---&gt; MEDIA FLSH <br> 200 Media set to FLSH. <br> ftp&gt; put fs.img "fs.img mtd0" ( : put kernel.img "kernel.img mtd1") <br> local: fs.img remote: fs.img mtd0 <br> ---&gt; PASV <br> 227 Entering Passive Mode (10,8,8,8,162,0). <br> ---&gt; STOR fs.img mtd0 <br> 150 Opening BINARY mode data connection for file transfer. <br> 226 Transfer complete. <br> 1318920 bytes sent in 30.3 seconds (54 Kbytes/s) <br> ftp&gt; quote REBOOT <br> ---&gt; REBOOT <br> 221-Thank you for using the FTP service on ADAM2. <br> 221 Goodbye. <br> ftp&gt; quit <br> ---&gt; QUIT <br>  : <br> debug   ,     quote MEDIA FLSH,  <br>    BINARY , ..  bin,    MTD, .. <br>    : <br> mtd0: fs  (     fs.img,      ) <br> mtd1: kernel  <br> mtd2:   ftp  ADAM2 <br> mtd3: Environment + config.xml <br></code> <br><br>  Since the firmware is based on the writings of <a href="http://mcmcc.bat.ru/">McMCC</a> , his method helped a lot in this situation.  Half an hour of games with a power point, I could not find the ftp server from ADAM2, as well as the point itself at addresses 10.8.8.8, 10.48.88.66, 192.168.1.1 <br><br><h3>  TIUPGRADE Corrupted-image mode </h3><br>  The developer proposes to solve it this way: <br> <code>   GUI  tiupgrade.exe  Windows/Wine Unix: <br> 1)  tiupgrade.exe. <br> 2)  ip     . <br> 3)  ""     . <br> 4)      ,   <br>      "Corrupted-image mode". <br> !!! tiupgrade.exe  ip  ADAM2, , ,  10.48.88.66, <br>       ,    199, ..     <br> 192.168.1.0,  ip  192.168.1.199... <br></code> <br><br>  Having connected the laptop with the patch and the dot, I ticked Corrupted-image mode in the program and followed all its instructions several times without success, the program crashed several times with a memory access error.  I was already thinking of switching to the third method, but just in case I pulled out a switch and stuck a point and a laptop into it.  Again, I checked the different options for turning off the power and turning it on, but I saw a new Script error at different stages of the flashing. <br><br>  Everything was decided only by setting the address on the laptop 192.168.1.2 and shutting down all programs except the tiupgrade utility, in general, if a script error occurs, then you can safely try again, the firmware got up 5 times and the router started. <br><br><h2>  Conclusion </h2><br>  Flashing solved all the problems that arose with the old firmware from D-Link, wi-fi began to work stably and the point from the connection with the mobile phone did not restart.  The router stopped hanging and it became much more pleasant to work with it.  The web interface is taken from the Accorp firmware (the McMCC developer wrote the Accorp firmware) and is much nicer than the native one from D-Link. <br><br><h2>  PS </h2><br>  As for the third option, I was ready to try it, but the program method saved me from this method. <br>  Successful to you experiments! </div><p>Source: <a href="https://habr.com/ru/post/48095/">https://habr.com/ru/post/48095/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../48087/index.html">Grouping files in Windows Explorer</a></li>
<li><a href="../48088/index.html">Acoustics of Cow2.0 format</a></li>
<li><a href="../48089/index.html">Binoculars camera</a></li>
<li><a href="../48090/index.html">Enigma - 192 GB USB Flash Drive</a></li>
<li><a href="../48094/index.html">Why on the clock with the Roman numbering write IIII, and not IV</a></li>
<li><a href="../48096/index.html">MSI Introduces Wind U115 Hybrid Netbook</a></li>
<li><a href="../48097/index.html">Time tracking</a></li>
<li><a href="../48099/index.html">Graphics in LaTeX. Part I</a></li>
<li><a href="../48109/index.html">A laptop. Three-display. Gaming</a></li>
<li><a href="../48110/index.html">Miscalculation cyclometric complexity in pkhp</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>