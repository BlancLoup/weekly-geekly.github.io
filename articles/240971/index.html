<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Microsoft Server App-V - what is it and what is it eaten with</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Server App-V is an interesting Microsoft product, unfairly, in my opinion, deprived of attention. In general, I noticed that while marketers and PR sp...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Microsoft Server App-V - what is it and what is it eaten with</h1><div class="post__text post__text-html js-mediator-article">  Server App-V is an interesting Microsoft product, unfairly, in my opinion, deprived of attention.  In general, I noticed that while marketers and PR specialists of this corporation break spears, demonstrating the next tables of support for the maximum number of processors and terabytes of memory in their products, truly interesting and useful things pass unnoticed and known only to a narrow circle of enthusiasts. <br>  In short, the App-V Server provides a mechanism for virtualizing applications, isolating them from the OS, and simplifies their delivery, just like App-V, only for servers.  Currently available from System Center Virtual Machine Management 2012, since it can significantly speed up the deployment of server platforms, which makes it a good help in creating and maintaining all kinds of "clouds". <br>  With this article, I want to share my view on the concept of application virtualization as a whole, provide me with information about Server App-V (as well as streamline it in my head) and show what the deployment procedure looks like by a simple example. <br><br><img src="https://habrastorage.org/files/7ef/83e/d07/7ef83ed070db4ad5855e0b158a6a22fd.png" alt="image"><br><a name="habracut"></a><br>  To say that virtualization makes IT management easier is to lie.  Virtualization in itself saves space, energy, money, but not time and labor.  For the procedures for setting up and servicing virtual and physical servers are almost identical: prepare hardware, install the OS, install the necessary applications, configure all of this, and then update, patch and troubleshoot. <br>  It simplifies the management of IT various automation tools.  And here we are helped by virtual infrastructure management systems - SCVMM, vCenter ... You can prepare virtual machine templates, both in terms of virtual hardware and OS settings.  However, there is a third layer of infrastructure - applications.  And here, as practice shows, there has been practically no progress since ... I don't even know.  For all my 12 years of experience, little has changed.  Distributions, perhaps, more steel. <br><br>  So, what methods of stuffing the OS (no matter the server or workstation) are available to us? 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      <i><b>1. Classic</b></i> - insert a disk / flash drive or go to the shared folder ‚ÄúDistrib‚Äù on the file sharing service and run the installer.  The method is simple, reliable, but not fast.  And most importantly - tedious and tedious, if you need to stamp the machine on a regular basis.  You can install applications directly into the VM template so that after the deployment you already have everything installed, but, first, each VM requires its own set of software, and second, to update each program you will need to shake up all the templates.  Well, if there is a centralized update system, like Microsoft WSUS or 2GIS is there, but this is not for everyone, and leaving updates to the user is also a bad idea. <br><br>  <i><b>2. Centralized deployment (group policy, SCCM, scripts).</b></i>  Removes the problem of routine (at least in part of the massively used applications), removes the problem of updating.  Creates new difficulties.  Impact on the virtual environment.  The Adobe Reader Mass Update can introduce a VDI farm into a half day coma.  Not only will the machines pull the distribution over the network at about the same time, it also hits the processor and the disks.  In addition, not all applications can be deployed in silent installation mode. <br><br>  Both of the above methods have such a common disadvantage as the fact that applications become, in fact, part of the OS ‚Äî they fill it with their own libraries, registry entries, services, configs, and various incomprehensible files.  Not everything can be cleaned up or even correctly updated, and sometimes a successfully crashed application or a damaged DLL drags the operating system into the abyss of BSOD and other undesirable phenomena.  Another common drawback is that two (and more) different applications may require different versions of java, for example, or otherwise mutually exclude each other (when I supported Microsoft Exchange 2003, I remember you could not use Outlook on a server with Exchange installed due to the fact that both used a library with the same name but different functionality) <br><br>  <i><b>3. Delivery of virtual applications (App-V, ThinApp, XenApp)</b></i> .  This is when an application is specially prepared ‚Äî installed in a special virtual container and delivered to the target OS by simple copying (App-V, ThinApp) or it runs and runs on a remote server (Citrix XenApp).  Removes the problem of routine, removes the problem of updating, reduces the load on processors and disks during deployment, isolates the system from the effects of application crashes and simplifies the process of preparing virtual machines - in addition to ticking the necessary configuration and OS templates, we need to indicate what software we need. you will need to have inside the VM and, in fact, everything.  Of course, this is not a magic tablet, there are shortcomings here, ranging from the cost of additional licenses and ending with the fact that not all software can be virtualized like this, but I think you need to know about this path, and if you can, then use it.  Once upon a time, server virtualization seemed like a dubious event. <br><br><h4>  Server App-V </h4><br>  In essence, the Server App-V solution is similar to the App-V product.  The [Server] App-V Sequencer is also used to ‚Äúpackage‚Äù applications, and the App-V Agent is needed for deployment to the end system.  A special App-V server (App-V Server) is used for delivering App-V to desktops, and VMM is used for Server App-V. <br><br><img src="https://habrastorage.org/files/ca7/29a/3e1/ca729a3e1c404c0d86e4cc12779b5158.png" alt="image"><br><br>  Using the same terms in the title leads to confusion for search engines, which further reduces the chance of the Server App-V to become known and annoying when searching for information. <br>  For all the similarities, however, these are two different products and you should not try to use the Server App-V Sequencer to create Desktop App-V applications.  And vice versa. <br><br>  Why do we need application virtualization on servers?  Well, these are not desktops, there is often one server - one application, and it is doubtful that you can virtualize, for example, Exchange.  This is yes, it is impossible.  Like Microsoft SQL Server (here, MySQL, I heard that you can), SharePoint.  maybe some other large server software.  In the development of the next versions there is a priority for the support of Sharepoint and Exchange roles.  Also under the restriction fall antiviruses and programs involving work at the level of the kernel and / or "hardware".  I also did not see a list of software that is clearly supported, but it is known that Server App-V is optimized for applications with the following attributes: <br><ul><li>  stored locally on disk; </li><li>  web applications (for IIS); </li><li>  Windows Services; </li><li>  SQL Server Report Services; </li><li>  interaction with the registry (registry), objects COM + / DCOM, WMI, use of the functionality of local users and groups, task scheduler. </li></ul><br><br><img src="https://habrastorage.org/files/717/b98/58e/717b9858e6074a0ebd7e684ff28cca92.png" alt="image"><br><br>  Actually, the support of a larger number of these attributes distinguishes Server App-V from App-V for desktops. The comparison of specific features in the table: <br><table><tbody><tr><th>  App-V </th><th>  Server App-V </th></tr><tr><td><ul><li>  Configuration and data changes apply to all users. </li><li>  Application files (as well as COM / DCOM, services and WMI providers) are available only to the application itself. </li><li>  New processes are added to the virtual environment manually. </li></ul><br></td><td><ul><li>  Configuration and data changes are applied to a specific user. </li><li>  Application files (as well as COM / DCOM, services, and WMI providers) are available to all computer processes.  For example, a service from an App-V container can be managed through Service Manager in the general list of server services. </li><li>  Adding new processes to the virtual environment is performed by a sequencer based on heuristics.  Of course, you can add manually. </li></ul><br></td></tr></tbody></table><br><br>  I will not dive into the installation and use procedures in detail, because the interface is so uncomplicated that it is difficult to get confused.  I will note only the important points and give a small example. <br><br><h4>  Installation </h4><br>  Installation files can be found either on the media with System Center VMM 2012 in the X: \ SAV directory, or on a server with VMM installed - C: \ Program Files \ Microsoft System Center 2012 \ Virtual Machine Manager \ SAV. <br>  Include sequencer installer, agent and cmdlet 'for both. <br>  You can install on the OS of the following versions: <br><ul><li>  Windows 2003 R2 SP2; </li><li>  Windows 2008 SP2; </li><li>  Windows 2008 R2; </li><li>  Windows 2012. </li></ul><br>  The installation itself, that the sequencer, that the agent, I think, will not cause anyone any difficulties.  It should be borne in mind that the sequencer is better to install on a clean fresh OS.  Even the App-V agent should not be on it. <br><div class="spoiler">  <b class="spoiler_title">The agent can be installed in silent mode:</b> <div class="spoiler_text"><pre><code class="hljs swift"><span class="hljs-type"><span class="hljs-type">AgentSetup</span></span>.exe /q <span class="hljs-type"><span class="hljs-type">INSTALLDIR</span></span>=<span class="hljs-built_in"><span class="hljs-built_in">c</span></span>:\serverappv <span class="hljs-type"><span class="hljs-type">SWIGLOBALDATA</span></span>=<span class="hljs-built_in"><span class="hljs-built_in">c</span></span>:\<span class="hljs-type"><span class="hljs-type">SWIGlobalData</span></span> <span class="hljs-type"><span class="hljs-type">SWIUSERDATA</span></span>=<span class="hljs-built_in"><span class="hljs-built_in">c</span></span>:\<span class="hljs-type"><span class="hljs-type">SWIUserData</span></span> <span class="hljs-type"><span class="hljs-type">SWIFSDRIVE</span></span>=q /<span class="hljs-type"><span class="hljs-type">ACCEPTEULA</span></span></code> </pre> <br><br>  INSTALLDIR - installation path. <br>  SWIGLOBALDATA - determines the directory where the main data will be stored (including application packages). <br>  SWIUSERDATA - defines the user data storage directory. <br>  SWIFSDRIVE - defines the drive letter for the virtual environment file system. <br>  ACCEPTEULA - accepts the license agreement.  Required parameter for silent installation. <br>  The following keys are also available: <br>  / q - activation of the "quiet" mode. <br>  / u - uninstall. <br>  /?  - call for help attached to the installer. <br>  The installation log is saved in% Temp%. <br></div></div><br><br>  Both the agent and the sequencer create a virtual disk during installation (the default is Q :) for the virtual environment file system. <br><br><h4>  Sequencing </h4><br>  I do not know how to accurately translate this term.  The option ‚Äúplacing an application into a queue‚Äù, seen in the course description of the TC Specialist, seems delusional.  I call this process ‚Äúpackaging.‚Äù <br>  So, we installed the sequencer.  On a fresh, clean OS.  The ‚Äúpackaging‚Äù of each application requires a clean OS.  And here we can be invaluable help snapshots VM.  What else should be kept in mind before starting the procedure: <br><ul><li>  It is best that the version and revision of the OS match the version and revision of the target OS (where it will be deployed). </li><li>  The necessary roles and means (Roles and Features), if they are required by the application, must be established BEFORE the procedure of its virtualization. </li><li>  If a virtualized application involves creating databases in MS SQL, Microsoft SQL Server 2012 Feature Pack is required. </li></ul><br><br>  Next, run the sequencer (as its main window looks like, you can see it at the beginning of this article).  To create a new virtual application package (Virtual Application Package), select the target distribution, set the name and note that our virtual file system disk (Q :) will be specified as the final directory by default.  Without the need to change it is not worth it, and in addition, you will need to install the application there in the same folder. <br><br><img src="https://habrastorage.org/files/655/d0b/304/655d0b30449242878362ac65de9e9e0c.png" alt="image"><br><br>  Once the application is installed, you can add something else to the same container (other applications), as well as perform the initial launch of the application to configure or accept the license agreement. <br>  After completing the procedure to the end, we get the SFT file of the virtual application container and a pack of auxiliary files. <br><br><img src="https://habrastorage.org/files/4b0/c2d/91c/4b0c2d91c84f47d2980f95177f16868a.png" alt="image"><br><br><h4>  Deployment </h4><br>  To deploy a virtual application package on the target OS, the Server App-V Agent must be installed.  Required Roles and Features of the server must be installed BEFORE the application is deployed.  Packets received are distributed using VMM (Library - Application Profiles), but for one-time deployment, for example in a test environment, you can use the PowerShell cmdlets (AgentCmdletsSetup.exe). <br><br>  PS C: \&gt; Set-ExecutionPolicy Remotesigned <br>  PS C: \&gt; Import-Module ServerAppVAgent <br>  PS C: \&gt; Add-ServerAppvPackage ‚ÄìName <b><i>MyApp</i></b> ‚ÄìManifest <i>C: \ <b>MyApp \ MyApp</b> _manifest.xml</i> ‚ÄìSFT C: \ MyApp \ MyApp.s ‚ÄìConfiguration <i>C: \ <b>MyApp</b> \ deploymentconfig.xml</i> <br><br>  Example: <br><br><img src="https://habrastorage.org/files/d83/ae4/438/d83ae443837042cf87bbabe76110f6bb.png" alt="image"><br><br>  As a result, we will get a link to the new application in the Start menu.  It will be placed on the Q: disk.  The link in the properties of the shortcut will look something like this: <br><br><pre> <code class="hljs mel"><span class="hljs-string"><span class="hljs-string">"C:\Program Files (x86)\Server Application Virtualization\savlnch.exe"</span></span> /<span class="hljs-keyword"><span class="hljs-keyword">launch</span></span>:<span class="hljs-string"><span class="hljs-string">"7-Zip File Manager 9.20.0.0"</span></span></code> </pre> <br><br>  That's all.  You can use. </div><p>Source: <a href="https://habr.com/ru/post/240971/">https://habr.com/ru/post/240971/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../240955/index.html">Microsoft DocumentDB: Article One, Introduction</a></li>
<li><a href="../240957/index.html">Develop CSS in GitHub</a></li>
<li><a href="../240961/index.html">Dell Solutions Forum 2014: registration is open</a></li>
<li><a href="../240963/index.html">Fujitsu LifeBook U904 Ultrabook Video Review</a></li>
<li><a href="../240969/index.html">We study Javascript by going through the bones of Backbone.js</a></li>
<li><a href="../240975/index.html">Results Russian AI Cup 2014</a></li>
<li><a href="../240977/index.html">You too can become a victim of developer paralysis.</a></li>
<li><a href="../240979/index.html">Freelancers supply and demand analysis using the example of the oDesk exchange</a></li>
<li><a href="../240985/index.html">How will Apple Pay affect the mobile payment market?</a></li>
<li><a href="../240987/index.html">Announcement of the annual EMC forum</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>