<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Google+-like navigation</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Recently installed the google + app on the iPad, and met something fresh from the navigation menu. In principle, updating the tape through paging on S...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Google+-like navigation</h1><div class="post__text post__text-html js-mediator-article"> Recently installed the google + app on the iPad, and met something fresh from the navigation menu.  In principle, updating the tape through paging on ScrollView does not represent much new technologies, but in combination with the upper text bar (on which, by the way, the font changes interestingly) and the cyclical behavior looks quite comfortable and interesting.  For people who have no idea what it looks like in a google + iphone-client, you can try to present it in the picture below: <br><br><img src="https://habrastorage.org/storage1/a9881029/0bf59696/fea33b0b/cf0984c6.png"><br><br>  Therefore, I decided to spend several hours to make the same convenient control, and in the future I think it will come in handy many times.  The implementation was not as simple personally as I expected, so I decided to share the method of creating such a control, I think it may be needed by many developers, or at least a normally working cyclical scrollView will also provide interest.  By the way, first of all I naturally started looking for similar engines on stackoverflow and other code resources, but I could not find it.  I didn‚Äôt make a special emphasis on the design part, everything will be primitive, but at the same time universal. <a name="habracut"></a>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      <b>1st step</b> .  We need a UIViewController - where the main elements will be a UIScrollView to scroll left-right, 3 UIViews (which will be displayed as pages) and the upper bar to display floating text. <br><br>  Let's start with a general description: <br><pre> <code class="hljs objectivec"><code>mainScroll = [[<span class="hljs-built_in"><span class="hljs-built_in">UIScrollView</span></span> alloc] initWithFrame:<span class="hljs-built_in"><span class="hljs-built_in">CGRectMake</span></span>(<span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.view.frame.size.width, <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.view.frame.size.height)]; [<span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.view addSubview:mainScroll]; mainScroll.backgroundColor = [<span class="hljs-built_in"><span class="hljs-built_in">UIColor</span></span> clearColor]; mainScroll.contentSize = <span class="hljs-built_in"><span class="hljs-built_in">CGSizeMake</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.view.frame.size.width*<span class="hljs-number"><span class="hljs-number">3</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.view.frame.size.height); mainScroll.pagingEnabled = <span class="hljs-literal"><span class="hljs-literal">YES</span></span>; mainScroll.scrollEnabled = <span class="hljs-literal"><span class="hljs-literal">YES</span></span>; mainScroll.delegate = <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>; scrollBar = [[YOScrollBar alloc] initWithFrame:<span class="hljs-built_in"><span class="hljs-built_in">CGRectMake</span></span>(<span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">320</span></span>, <span class="hljs-number"><span class="hljs-number">27</span></span>)]; [<span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.view addSubview:scrollBar]; pages = [[<span class="hljs-built_in"><span class="hljs-built_in">NSMutableArray</span></span> alloc] initWithCapacity:<span class="hljs-number"><span class="hljs-number">3</span></span>]; <span class="hljs-built_in"><span class="hljs-built_in">UIView</span></span> *view1 = [[<span class="hljs-built_in"><span class="hljs-built_in">UIView</span></span> alloc] initWithFrame:<span class="hljs-built_in"><span class="hljs-built_in">CGRectMake</span></span>(<span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.view.frame.size.width, <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.view.frame.size.height)]; [mainScroll addSubview:view1]; view1.tag = <span class="hljs-number"><span class="hljs-number">0</span></span>; [pages addObject:view1]; view1.backgroundColor = [<span class="hljs-built_in"><span class="hljs-built_in">UIColor</span></span> lightGrayColor]; [view1 release]; <span class="hljs-built_in"><span class="hljs-built_in">UIView</span></span> *view2 = [[<span class="hljs-built_in"><span class="hljs-built_in">UIView</span></span> alloc] initWithFrame:<span class="hljs-built_in"><span class="hljs-built_in">CGRectMake</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.view.frame.size.width, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.view.frame.size.width, <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.view.frame.size.height)]; [mainScroll addSubview:view2]; [pages addObject:view2]; view2.tag = <span class="hljs-number"><span class="hljs-number">1</span></span>; view2.backgroundColor = [<span class="hljs-built_in"><span class="hljs-built_in">UIColor</span></span> grayColor]; [view2 release]; <span class="hljs-built_in"><span class="hljs-built_in">UIView</span></span> *view3 = [[<span class="hljs-built_in"><span class="hljs-built_in">UIView</span></span> alloc] initWithFrame:<span class="hljs-built_in"><span class="hljs-built_in">CGRectMake</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.view.frame.size.width*<span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.view.frame.size.width, <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.view.frame.size.height)]; [mainScroll addSubview:view3]; [pages addObject:view3]; view3.tag = <span class="hljs-number"><span class="hljs-number">2</span></span>; view3.backgroundColor = [<span class="hljs-built_in"><span class="hljs-built_in">UIColor</span></span> blackColor]; [view3 release]; pageIndex = (<span class="hljs-keyword"><span class="hljs-keyword">int</span></span>)[pages count]/<span class="hljs-number"><span class="hljs-number">2</span></span>; [mainScroll setContentOffset:<span class="hljs-built_in"><span class="hljs-built_in">CGPointMake</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.view.frame.size.width, <span class="hljs-number"><span class="hljs-number">0</span></span>)];</code></code> </pre><br>  Here I think there can be no difficulties, we create a UIScrollView with the paging enabled for 3 pages, it‚Äôs worth paying attention only to that each UIView is assigned a tag, later it will be used for the top bar.  In this example, the result was tested on 3 pages, but for future universality, there is already an array of pages. <br><br>  <b>2nd step</b> .  Now it is necessary to process the delegate from UIScrollView to calculate positions and replace pages.  A little in words: <br>  UIScrollView holds constant contentSize equal to mainScroll.frame.size.width * 3 <br>  When moving to the right, we use the following rule (the active position is highlighted in bold): <br>  view1, <b>view2</b> , view3, shift <br>  view2, view2, <b>view3</b> , now it is recalculated and we get the following composition <br>  view2, <b>view3</b> , view1 <br>  When moving to the left, the rearrangement will occur in the opposite direction. <br><br>  Now create the appropriate code.  To begin, use the delegate from UIScrollView <br><pre> <code class="hljs objectivec"><code>- (<span class="hljs-keyword"><span class="hljs-keyword">void</span></span>)scrollViewDidScroll:(<span class="hljs-built_in"><span class="hljs-built_in">UIScrollView</span></span> *)scrollView { <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> indexF = (mainScroll.contentOffset.x / mainScroll.frame.size.width); <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> indexI = (<span class="hljs-keyword"><span class="hljs-keyword">int</span></span>)indexF; <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> rez = indexF - (<span class="hljs-keyword"><span class="hljs-keyword">float</span></span>)indexI; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (rez == <span class="hljs-number"><span class="hljs-number">0.</span></span>f) { <span class="hljs-comment"><span class="hljs-comment">//   } [scrollBar scroll:mainScroll.contentOffset]; }</span></span></code></code> </pre><br><br>  Ask why such an unusual logic?  Answer: so that we receive an event of the type ‚Äúchanged page‚Äù only with full dragging of the page to 320px.  No matter how I played with roundf, truncf, ceilf, I could not get the result I needed.  Now we can catch the moment when the extreme page has become central and can do a UIView permutation, change the order in the pages array, and fictitiously move the UIScrollView position back to the center.  All of the above is described in the code below: <br><br><pre> <code class="hljs ruby"><code>int newPageIndex = indexI; int center; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (newPageIndex &lt; pageIndex) { <span class="hljs-regexp"><span class="hljs-regexp">//</span></span>     <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (int i=<span class="hljs-number"><span class="hljs-number">0</span></span>; i &lt; [pages count]-<span class="hljs-number"><span class="hljs-number">1</span></span>; i++) { UIView *moveView = [pages <span class="hljs-symbol"><span class="hljs-symbol">objectAtIndex:</span></span>i]; moveView.frame = CGRectMake(moveView.frame.origin.x + moveView.frame.size.width, moveView.frame.origin.y, moveView.frame.size.width, moveView.frame.size.height); }/<span class="hljs-regexp"><span class="hljs-regexp">/       UIView *moveView = [pages lastObject]; moveView.frame = CGRectMake(0, moveView.frame.origin.y, moveView.frame.size.width, moveView.frame.size.height); /</span></span><span class="hljs-regexp"><span class="hljs-regexp">/   view for (int i=[pages count]-1; i &gt; 0; i--) [pages exchangeObjectAtIndex:i-1 withObjectAtIndex:i]; /</span></span><span class="hljs-regexp"><span class="hljs-regexp">/     center = (int)[pages count]/</span></span><span class="hljs-number"><span class="hljs-number">2</span></span>; <span class="hljs-regexp"><span class="hljs-regexp">//</span></span>    pageIndex = center; newPageIndex = pageIndex; <span class="hljs-regexp"><span class="hljs-regexp">//</span></span>       UIView *view = [pages <span class="hljs-symbol"><span class="hljs-symbol">objectAtIndex:</span></span>center]; [scrollBar <span class="hljs-symbol"><span class="hljs-symbol">changePage:</span></span>view.tag]; [mainScroll <span class="hljs-symbol"><span class="hljs-symbol">setContentOffset:</span></span>CGPointMake(center*mainScroll.frame.size.width, <span class="hljs-number"><span class="hljs-number">0</span></span>) <span class="hljs-symbol"><span class="hljs-symbol">animated:</span></span>NO]; }<span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (newPageIndex &gt; pageIndex) { <span class="hljs-regexp"><span class="hljs-regexp">//</span></span>     <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (int i=<span class="hljs-number"><span class="hljs-number">1</span></span>; i &lt; [pages count]; i++) { UIView *moveView = [pages <span class="hljs-symbol"><span class="hljs-symbol">objectAtIndex:</span></span>i]; moveView.frame = CGRectMake(moveView.frame.origin.x - moveView.frame.size.width, moveView.frame.origin.y, moveView.frame.size.width, moveView.frame.size.height); } UIView *moveView = [pages <span class="hljs-symbol"><span class="hljs-symbol">objectAtIndex:</span></span><span class="hljs-number"><span class="hljs-number">0</span></span>]; moveView.frame = CGRectMake(([pages count]-<span class="hljs-number"><span class="hljs-number">1</span></span>)*moveView.frame.size.width, moveView.frame.origin.y, moveView.frame.size.width, moveView.frame.size.height); <span class="hljs-regexp"><span class="hljs-regexp">//</span></span>   view <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (int i=<span class="hljs-number"><span class="hljs-number">0</span></span>; i &lt; [pages count]-<span class="hljs-number"><span class="hljs-number">1</span></span>; i++) [pages <span class="hljs-symbol"><span class="hljs-symbol">exchangeObjectAtIndex:</span></span>i <span class="hljs-symbol"><span class="hljs-symbol">withObjectAtIndex:</span></span>i+<span class="hljs-number"><span class="hljs-number">1</span></span>]; <span class="hljs-regexp"><span class="hljs-regexp">//</span></span>     center = (int)[pages count]/<span class="hljs-number"><span class="hljs-number">2</span></span>; <span class="hljs-regexp"><span class="hljs-regexp">//</span></span>    pageIndex = center; newPageIndex = pageIndex; <span class="hljs-regexp"><span class="hljs-regexp">//</span></span>       UIView *view = [pages <span class="hljs-symbol"><span class="hljs-symbol">objectAtIndex:</span></span>center]; [scrollBar <span class="hljs-symbol"><span class="hljs-symbol">changePage:</span></span>view.tag]; [mainScroll <span class="hljs-symbol"><span class="hljs-symbol">setContentOffset:</span></span>CGPointMake(center*mainScroll.frame.size.width, <span class="hljs-number"><span class="hljs-number">0</span></span>) <span class="hljs-symbol"><span class="hljs-symbol">animated:</span></span>NO]; }</code></code> </pre><br><br>  In this second step is over and we already have a fully working UIScrollView with three pages that can scroll right and left cyclically. <br><br>  <b>3rd step</b> .  Adding a top bar with changing text.  Here begins the most tricks and miscalculations.  This moment is most coordinate attached now and is not universal, if you want to make a composition of 3, 4, 4, or other number of floating inscriptions, you will have to change the calculation logic. <br><br>  Let's turn to implementation.  Header file: <br><br><pre> <code class="hljs objectivec"><code><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">@interface</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">YOScrollBar</span></span></span><span class="hljs-class"> : </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">UIView</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-built_in"><span class="hljs-built_in">UIImageView</span></span> *background; <span class="hljs-built_in"><span class="hljs-built_in">NSMutableArray</span></span> *labels; <span class="hljs-built_in"><span class="hljs-built_in">UILabel</span></span> *labelLeft, *labelCenter, *labelRight, *labelMirrowLeft, *labelMirrowRight; <span class="hljs-keyword"><span class="hljs-keyword">float</span></span> step; } - (<span class="hljs-keyword"><span class="hljs-keyword">void</span></span>)scroll:(<span class="hljs-built_in"><span class="hljs-built_in">CGPoint</span></span>)point; - (<span class="hljs-keyword"><span class="hljs-keyword">void</span></span>)changePage:(<span class="hljs-keyword"><span class="hljs-keyword">int</span></span>)pageIndex; - (<span class="hljs-keyword"><span class="hljs-keyword">void</span></span>)selectCenter; <span class="hljs-keyword"><span class="hljs-keyword">@end</span></span></code></code> </pre><br><br>  We will need 5 UILabel 3 basic and 2 auxiliary for mirroring, the step between them will be 120. I will not give the full text of the creation, only the frame and the inscription, since only they carry the meaning, the font for the central inscription is Helvetica 14, for the rest of Helvetica 12 <br><br><pre> <code class="hljs objectivec"><code>labelMirrowLeft = [[<span class="hljs-built_in"><span class="hljs-built_in">UILabel</span></span> alloc] initWithFrame:<span class="hljs-built_in"><span class="hljs-built_in">CGRectMake</span></span>(<span class="hljs-number"><span class="hljs-number">-109</span></span>, <span class="hljs-number"><span class="hljs-number">5</span></span>, <span class="hljs-number"><span class="hljs-number">60</span></span>, <span class="hljs-number"><span class="hljs-number">14</span></span>)]; labelMirrowLeft.text = <span class="hljs-string"><span class="hljs-string">@""</span></span>; labelLeft = [[<span class="hljs-built_in"><span class="hljs-built_in">UILabel</span></span> alloc] initWithFrame:<span class="hljs-built_in"><span class="hljs-built_in">CGRectMake</span></span>(<span class="hljs-number"><span class="hljs-number">9</span></span>, <span class="hljs-number"><span class="hljs-number">5</span></span>, <span class="hljs-number"><span class="hljs-number">60</span></span>, <span class="hljs-number"><span class="hljs-number">14</span></span>)]; labelLeft.text = <span class="hljs-string"><span class="hljs-string">@""</span></span>; labelCenter = [[<span class="hljs-built_in"><span class="hljs-built_in">UILabel</span></span> alloc] initWithFrame:<span class="hljs-built_in"><span class="hljs-built_in">CGRectMake</span></span>(<span class="hljs-number"><span class="hljs-number">129</span></span>, <span class="hljs-number"><span class="hljs-number">5</span></span>, <span class="hljs-number"><span class="hljs-number">60</span></span>, <span class="hljs-number"><span class="hljs-number">14</span></span>)]; labelCenter.text = <span class="hljs-string"><span class="hljs-string">@""</span></span>; labelRight = [[<span class="hljs-built_in"><span class="hljs-built_in">UILabel</span></span> alloc] initWithFrame:<span class="hljs-built_in"><span class="hljs-built_in">CGRectMake</span></span>(<span class="hljs-number"><span class="hljs-number">249</span></span>, <span class="hljs-number"><span class="hljs-number">5</span></span>, <span class="hljs-number"><span class="hljs-number">60</span></span>, <span class="hljs-number"><span class="hljs-number">14</span></span>)]; labelRight.text = <span class="hljs-string"><span class="hljs-string">@""</span></span>; labelMirrowRight = [[<span class="hljs-built_in"><span class="hljs-built_in">UILabel</span></span> alloc] initWithFrame:<span class="hljs-built_in"><span class="hljs-built_in">CGRectMake</span></span>(<span class="hljs-number"><span class="hljs-number">369</span></span>, <span class="hljs-number"><span class="hljs-number">5</span></span>, <span class="hljs-number"><span class="hljs-number">60</span></span>, <span class="hljs-number"><span class="hljs-number">14</span></span>)]; labelMirrowRight.text = <span class="hljs-string"><span class="hljs-string">@""</span></span>;</code></code> </pre><br><br>  Go to the main method of moving: <br><br><pre> <code class="hljs pgsql"><code>- (<span class="hljs-type"><span class="hljs-type">void</span></span>)scroll:(CGPoint)<span class="hljs-type"><span class="hljs-type">point</span></span> { <span class="hljs-type"><span class="hljs-type">float</span></span> k = step/<span class="hljs-number"><span class="hljs-number">320</span></span>; CGPoint pointT = CGPointMake(-(<span class="hljs-type"><span class="hljs-type">point</span></span>.x<span class="hljs-number"><span class="hljs-number">-320</span></span>)*k, <span class="hljs-number"><span class="hljs-number">0</span></span>); <span class="hljs-type"><span class="hljs-type">float</span></span> fontT = (step - abs((<span class="hljs-type"><span class="hljs-type">int</span></span>)pointT.x))/step*<span class="hljs-number"><span class="hljs-number">2</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (pointT.x &gt; <span class="hljs-number"><span class="hljs-number">0</span></span>) { //   labelLeft.font = [UIFont fontWithName:@"Helvetica" size:<span class="hljs-number"><span class="hljs-number">14.</span></span>f-fontT]; }<span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (pointT.x &lt; <span class="hljs-number"><span class="hljs-number">0</span></span>) { //   labelRight.font = [UIFont fontWithName:@"Helvetica" size:<span class="hljs-number"><span class="hljs-number">14.</span></span>f-fontT]; } labelCenter.font = [UIFont fontWithName:@"Helvetica" size:<span class="hljs-number"><span class="hljs-number">12.</span></span>f+fontT]; labelLeft.frame = CGRectMake(<span class="hljs-number"><span class="hljs-number">9</span></span> + pointT.x, labelLeft.frame.origin.y, labelLeft.frame.size.width, labelLeft.frame.size.height); labelCenter.frame = CGRectMake(<span class="hljs-number"><span class="hljs-number">129</span></span> + pointT.x, labelCenter.frame.origin.y, labelCenter.frame.size.width, labelCenter.frame.size.height); labelRight.frame = CGRectMake(<span class="hljs-number"><span class="hljs-number">249</span></span> + pointT.x, labelRight.frame.origin.y, labelRight.frame.size.width, labelRight.frame.size.height); labelMirrowLeft.frame = CGRectMake(<span class="hljs-number"><span class="hljs-number">-111</span></span> + pointT.x, labelMirrowLeft.frame.origin.y, labelMirrowLeft.frame.size.width, labelMirrowLeft.frame.size.height); labelMirrowRight.frame = CGRectMake(<span class="hljs-number"><span class="hljs-number">369</span></span> + pointT.x, labelMirrowRight.frame.origin.y, labelMirrowRight.frame.size.width, labelMirrowRight.frame.size.height); }</code></code> </pre><br><br>  And all we have to do is to register the change of texts with a complete page shift, since at this moment there is a substitution of contentOffset. <br><br><pre> <code class="hljs pgsql"><code>- (<span class="hljs-type"><span class="hljs-type">void</span></span>)changePage:(<span class="hljs-type"><span class="hljs-type">int</span></span>)pageIndex { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (pageIndex == <span class="hljs-number"><span class="hljs-number">0</span></span>) { labelMirrowLeft.text = @""; labelLeft.text = @""; labelCenter.text = @""; labelRight.text = @""; labelMirrowRight.text = @""; }<span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (pageIndex == <span class="hljs-number"><span class="hljs-number">1</span></span>) { labelMirrowLeft.text = @""; labelLeft.text = @""; labelCenter.text = @""; labelRight.text = @""; labelMirrowRight.text = @""; }<span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (pageIndex == <span class="hljs-number"><span class="hljs-number">2</span></span>) { labelMirrowLeft.text = @""; labelLeft.text = @""; labelCenter.text = @""; labelRight.text = @""; labelMirrowRight.text = @""; } }</code></code> </pre><br><br>  Well, in the end we got the finished engine, not inferior to google +. <br>  You can see the result in the video below.  Sorry to use screen capture demo.  The screen flick which I always used became paid, I had to look for an alternative solution. <br><br><iframe width="420" height="315" src="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://www.youtube.com/embed/227sqm8Wl7Q%3Ffeature%3Doembed&amp;xid=17259,15700022,15700186,15700190,15700253,15700256,15700259&amp;usg=ALkJrhhWC9EjzVXKgFw_1GHfOGR07g2wqA" frameborder="0" allowfullscreen=""></iframe><br><br>  Download the original project here: <a href="https://github.com/katleta3000/Google-Navi">https://github.com/katleta3000/Google-Navi</a> </div><p>Source: <a href="https://habr.com/ru/post/134415/">https://habr.com/ru/post/134415/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../134410/index.html">About marketing, netbooks and CMS</a></li>
<li><a href="../134411/index.html">Competition for the best phrase for a T-shirt from a start-up KidsReview.ru. Prize - iPhone 4</a></li>
<li><a href="../134412/index.html">Android application development on the example of Calculator ++. From idea to implementation</a></li>
<li><a href="../134413/index.html">"Validity" extensions for Firefox and a couple of little things</a></li>
<li><a href="../134414/index.html">Beautiful and effective email marketing</a></li>
<li><a href="../134416/index.html">Pocket router Sapido RB-1632</a></li>
<li><a href="../134417/index.html">Using Binary Search to Optimize Data Retrieval Request</a></li>
<li><a href="../134418/index.html">Inside the perverted mind of a security professional</a></li>
<li><a href="../134419/index.html">Droider Show # 19. Durov corner</a></li>
<li><a href="../134420/index.html">We launched a new startup: Pinme.ru</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>