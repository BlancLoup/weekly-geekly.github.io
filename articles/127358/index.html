<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Authorization through Habr</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="I would like Habr to be able to authorize users on third-party services. 

 What for? 
 First, habrayusers will receive an additional authorization se...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Authorization through Habr</h1><div class="post__text post__text-html js-mediator-article">  I would like Habr to be able to authorize users on third-party services. <br><br><h2>  What for? </h2><br>  First, habrayusers will receive an additional authorization service, they will not get worse from it, on the contrary - additional freedom of choice. <br><br>  Secondly, some habrayusers design services whose target audience is Habr, for example, the well-known hosting of <a href="http://habreffect.ru/goodbye">habreffect.ru</a> pictures, all kinds of karma and rating monitors, and so on.  It goes without saying that for such services habraautorization arises. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Thirdly, with such an authorization, the developer may introduce restrictions, for example, not to allow users with a karma &lt;-100, which, you see, sometimes makes sense. <br><a name="habracut"></a><br><h2>  How? </h2><br>  The scheme described below is very trivial and familiar to all who have at least once integrated their website with services like Loginza. <br><br>  1) The third-party site sends a request to a special API-URL Habr, passing the login of the habrayuser-owner of the site (public key), url of the redirect and signature created on the basis of the password of the habrayuzer (private key).  Thus, only one who knows the username and password of a habrauser can send such a request. <br><br>  2) The token is returned in response.  It has a short lifespan (5-10 minutes), it can be used once.  Based on the token, a link is created for authorization. <br><br>  3) The visitor follows the link to a special Habr page, where he enters his login and password, after which he is redirected to the address that was specified during the initialization of the token.  In this case, the site in the request string will be passed to the visitor‚Äôs habralog and the signature obtained by the method indicated above (signed by the application owner's password).  If the signature is correct, then the request is correct and you can authorize the visitor based on his login.  Here you can also request the karma and rating of the newly created user and fulfill some conditions. <br><br>  Would you like to have authorization through Habr? <br><br>  <b>UPD</b> <br><h2>  Example </h2><br>  Since I am registered on Habr√©, I automatically have a public key (login) and a private key (password).  Suppose that they are respectively equal to "igrishaev" and "pass123".  Now I want to make an entry to my service through Habr.  The procedure is as follows: <br><br>  1) I am sending a request to <a href="http://habrahabr.ru/api/auth/get_token">habrahabr.ru/api/auth/get_token</a> , passing the parameters: <br>  login = igrishaev, <br>  url = http: //mysite.ru/habra_auth <br>  signature = md5 (login + url + md5 ("pass123")) <br><br>  2) In response, I get a token, for example, ‚Äú334-dfas9fdas30sdf‚Äù.  The link for authorization on Habr√© will be <a href="http://habrahabr.ru/api/auth%3Ftoken%3D334-dfas9fdas30sdf">habrahabr.ru/api/auth?token=334-dfas9fdas30sdf</a> <br><br>  3) By clicking on this link, the sumkin visitor enters his username and password.  Pay attention that he enters them on the Habr page, therefore I cannot receive them in any way. <br><br>  4) Habr redirects the sumkin user to my site using the link <a href="http://mysite.ru/habra_auth">mysite.ru/habra_auth</a> , in the query string parameters: <br>  login = sumkin <br>  name = Fedor <br>  lastname = Sumkin <br>  signature = md5 (login + md5 ("pass123")) <br><br>  5) I check the validity of the signature (it is signed by my password), and if everything is in order, authenticate the user as sumkin. <br>  Everything. </div><p>Source: <a href="https://habr.com/ru/post/127358/">https://habr.com/ru/post/127358/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../127351/index.html">Why do you need design patterns or ‚ÄúWhat is MVC?‚Äù</a></li>
<li><a href="../127352/index.html">Chrome Hackathon & Contest in Kiev: how it was</a></li>
<li><a href="../127353/index.html">Free IBM Connections Mobiles</a></li>
<li><a href="../127354/index.html">PHP CodeIgniter Framework - coming soon for CUBRID users</a></li>
<li><a href="../127356/index.html">Hello, we are looking for teams!</a></li>
<li><a href="../127359/index.html">Someone decided to remove all references to himself on the network. What to do?</a></li>
<li><a href="../127360/index.html">Overview of the global video analysis market</a></li>
<li><a href="../127361/index.html">Apache POI 3.8beta4 has been released.</a></li>
<li><a href="../127362/index.html">Droider Chart. Issue 67, applied</a></li>
<li><a href="../127363/index.html">Fantasy? No, Wacom!</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>