<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Multiseat on a Debian computer</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="This article describes one of the ways to configure Multiseat (two independent workstations) on one computer, running under the Debian Operating Syste...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Multiseat on a Debian computer</h1><div class="post__text post__text-html js-mediator-article">  This article describes one of the ways to configure Multiseat (two independent workstations) on one computer, running under the Debian Operating System, this solution allows you to create two full-fledged workstations on the basis of one computer, this solution has been implemented and has been successfully operating for several months. <br><br><div style="text-align:center;"><img src="http://bankmebel.ru/wp-content/uploads/2009/08/sillaguarda-2.jpg" alt="image"></div><br><a name="habracut"></a><br>  The following was carried out on a computer running Debian 8.6 x64 OS, with other systems, the performance of this solution is not guaranteed, the LightDM display manager, the XFCE desktop environment. <br><br>  Gigabyte GA-P41T-D3P rev 1.5 motherboard, two GeForce GT 430 and GeForce 8500 GT video cards, the motherboard can be absolutely any, the main thing is to be able to simultaneously install two video cards, video cards can also be any, the main condition is that they can work with one driver version, when using two powerful graphics cards, we don‚Äôt forget about the power supply capacity. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Please note that the computer must have 2 video cards installed, it‚Äôs impossible to do the same multiseat on the two-headed multiseat video card, the video card integrated into the motherboard in most cases will not work either, since it turns off when another video card is connected to the computer. <br><br>  So, let's begin: <br><br>  First, you need to install two video cards in the computer, and connect each monitor card to the monitor, if you have several PCI-E x16 connectors in your motherboard, then there will be no problems, if you have only one PCI-E x16 connector in the motherboard there are PCI-E x1 connectors, then you can connect it to the motherboard through a device called raiser pci-e 1x-16x, which can be found for example on aliexpress. <br><br>  As the first keyboard and mouse, you can use both devices with USB ports and PS / 2 ports, as the second keyboard and mouse, you must use devices with USB ports, do not try to use USB adapters&gt; 2 PS / 2, get the desired effect will not work. <br><br>  LightDM should be used as a display manager, it is used by default in Debian. <br><br>  If you are using nvidia video cards, then you need to install a proprietary driver, how to do this is described in this article, I think it would be superfluous. <br><br>  Next, you need to configure X for simultaneous operation of two monitors, it can be done in any way, either by creating it manually, or using any utility, if nvidia video cards are used, you can do this by running nvidia-settings from the root, to enable the second monitor, enter X Server Display Configuration , select the second monitor, select New X screen in the Configuration field, it is better to set the resolution and frequency in the corresponding fields manually, at the end of the setup, do not forget to click save to X configuration file. <br><br>  Rebooting, both monitors should work, if it is, continue.  Make a backup copy of the file /etc/X11/xorg.conf, then open it.  I had it in this form: <br><br><pre><code class="hljs pgsql">Section "ServerLayout" Identifier "Layout0" Screen <span class="hljs-number"><span class="hljs-number">0</span></span> "Screen0" <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> Screen <span class="hljs-number"><span class="hljs-number">1</span></span> "Screen1" RightOf "Screen0" InputDevice "Keyboard0" "CoreKeyboard" InputDevice "Mouse0" "CorePointer" <span class="hljs-keyword"><span class="hljs-keyword">Option</span></span> "Xinerama" "0" EndSection Section "Files" EndSection Section "InputDevice" Identifier "Mouse0" Driver "mouse" <span class="hljs-keyword"><span class="hljs-keyword">Option</span></span> "Protocol" "auto" <span class="hljs-keyword"><span class="hljs-keyword">Option</span></span> "Device" "/dev/psaux" <span class="hljs-keyword"><span class="hljs-keyword">Option</span></span> "Emulate3Buttons" "no" <span class="hljs-keyword"><span class="hljs-keyword">Option</span></span> "ZAxisMapping" "4 5" EndSection Section "InputDevice" Identifier "Keyboard0" Driver "kbd" EndSection Section "Monitor" Identifier "Monitor0" VendorName "Unknown" ModelName "LG Electronics W2253" HorizSync <span class="hljs-number"><span class="hljs-number">30.0</span></span> - <span class="hljs-number"><span class="hljs-number">83.0</span></span> VertRefresh <span class="hljs-number"><span class="hljs-number">56.0</span></span> - <span class="hljs-number"><span class="hljs-number">75.0</span></span> <span class="hljs-keyword"><span class="hljs-keyword">Option</span></span> "DPMS" EndSection Section "Monitor" Identifier "Monitor1" VendorName "Unknown" ModelName "LG Electronics LG IPS FULLHD" HorizSync <span class="hljs-number"><span class="hljs-number">30.0</span></span> - <span class="hljs-number"><span class="hljs-number">83.0</span></span> VertRefresh <span class="hljs-number"><span class="hljs-number">56.0</span></span> - <span class="hljs-number"><span class="hljs-number">75.0</span></span> EndSection Section "Device" Identifier "Device0" Driver "nvidia" VendorName "NVIDIA Corporation" BoardName "GeForce GT 430" BusID "PCI:1:0:0" EndSection Section "Device" Identifier "Device1" Driver "nvidia" VendorName "NVIDIA Corporation" BoardName "GeForce 8500 GT" BusID "PCI:4:0:0" EndSection Section "Screen" Identifier "Screen0" Device "Device0" Monitor "Monitor0" DefaultDepth <span class="hljs-number"><span class="hljs-number">24</span></span> <span class="hljs-keyword"><span class="hljs-keyword">Option</span></span> "Stereo" "0" <span class="hljs-keyword"><span class="hljs-keyword">Option</span></span> "metamodes" "DVI-I-1: 1920x1080_60 +0+0" <span class="hljs-keyword"><span class="hljs-keyword">Option</span></span> "SLI" "Off" <span class="hljs-keyword"><span class="hljs-keyword">Option</span></span> "MultiGPU" "Off" <span class="hljs-keyword"><span class="hljs-keyword">Option</span></span> "BaseMosaic" "off" SubSection "Display" Depth <span class="hljs-number"><span class="hljs-number">24</span></span> EndSubSection EndSection Section "Screen" Identifier "Screen1" Device "Device1" Monitor "Monitor1" DefaultDepth <span class="hljs-number"><span class="hljs-number">24</span></span> <span class="hljs-keyword"><span class="hljs-keyword">Option</span></span> "Stereo" "0" <span class="hljs-keyword"><span class="hljs-keyword">Option</span></span> "metamodes" "DVI-I-1: 1920x1080_60 +0+0" <span class="hljs-keyword"><span class="hljs-keyword">Option</span></span> "SLI" "Off" <span class="hljs-keyword"><span class="hljs-keyword">Option</span></span> "MultiGPU" "Off" <span class="hljs-keyword"><span class="hljs-keyword">Option</span></span> "BaseMosaic" "off" SubSection "Display" Depth <span class="hljs-number"><span class="hljs-number">24</span></span> EndSubSection EndSection</code> </pre> <br>  Make sure you have two sections of <i>Monitor, Device</i> and <i>Screen</i> , if so, we don‚Äôt touch them anymore.  We delete the ServerLayout section and add instead: <br><br><pre> <code class="hljs pgsql">Section "ServerLayout" Identifier "Layout0" Screen <span class="hljs-number"><span class="hljs-number">0</span></span> "Screen0" <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> InputDevice "Keyboard0" "CoreKeyboard" InputDevice "Mouse0" "CorePointer" <span class="hljs-keyword"><span class="hljs-keyword">Option</span></span> "Xinerama" "0" EndSection Section "ServerLayout" Identifier "Layout1" Screen <span class="hljs-number"><span class="hljs-number">1</span></span> "Screen1" <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> InputDevice "Keyboard1" "CoreKeyboard" InputDevice "Mouse1" "CorePointer" <span class="hljs-keyword"><span class="hljs-keyword">Option</span></span> "Xinerama" "0" EndSection</code> </pre> <br>  We delete the InputDevice sections (there were two of them), instead of them we add 4 sections: <br><br><pre> <code class="hljs pgsql">Section "InputDevice" Identifier "Mouse0" Driver "mouse" <span class="hljs-keyword"><span class="hljs-keyword">Option</span></span> "Protocol" "ImPS/2" <span class="hljs-keyword"><span class="hljs-keyword">Option</span></span> "Device" "/dev/input/mouse0" <span class="hljs-keyword"><span class="hljs-keyword">Option</span></span> "Protocol" "ExplorerPS/2" EndSection Section "InputDevice" Identifier "Mouse1" Driver "mouse" <span class="hljs-keyword"><span class="hljs-keyword">Option</span></span> "Protocol" "ImPS/2" <span class="hljs-keyword"><span class="hljs-keyword">Option</span></span> "Device" "/dev/input/mouse1" EndSection Section "InputDevice" Identifier "Keyboard0" Driver "evdev" <span class="hljs-keyword"><span class="hljs-keyword">Option</span></span> "Device" "/dev/input/by-path/platform-i8042-serio-0-event-kbd" <span class="hljs-keyword"><span class="hljs-keyword">Option</span></span> "XkbRules" "xorg" <span class="hljs-keyword"><span class="hljs-keyword">Option</span></span> "XkbModel" "evdev" <span class="hljs-keyword"><span class="hljs-keyword">Option</span></span> "XkbLayout" "us" <span class="hljs-keyword"><span class="hljs-keyword">Option</span></span> "GrabDevice" "yes" EndSection Section "InputDevice" Identifier "Keyboard1" Driver "evdev" <span class="hljs-keyword"><span class="hljs-keyword">Option</span></span> "Device" "/dev/input/by-id/usb-SIGMACH1P_USB_Keykoard-event-kbd" <span class="hljs-keyword"><span class="hljs-keyword">Option</span></span> "XkbRules" "xorg" <span class="hljs-keyword"><span class="hljs-keyword">Option</span></span> "XkbModel" "evdev" <span class="hljs-keyword"><span class="hljs-keyword">Option</span></span> "XkbLayout" "us" <span class="hljs-keyword"><span class="hljs-keyword">Option</span></span> "GrabDevice" "yes" EndSection</code> </pre> <br>  <b>In the <i>Option ‚ÄúDevice‚Äù line of</i> each InputDevice section, we indicate our devices</b> , for this we search in <br><br><blockquote>  / dev / input <br>  / dev / input / by-id <br>  / dev / input / by-path </blockquote><br>  their mouse and keyboard, the mouse most likely will be / dev / input / mouse0 and / dev / input / mouse1, the keyboard for all individually. <br><br>  After this, we add a section to the beginning of the file. <br><br><pre> <code class="hljs pgsql">Section "ServerFlags" <span class="hljs-keyword"><span class="hljs-keyword">Option</span></span> "DefaultServerLayout" "Layout0" <span class="hljs-keyword"><span class="hljs-keyword">Option</span></span> "AllowMouseOpenFail" "true" <span class="hljs-keyword"><span class="hljs-keyword">Option</span></span> "AutoAddDevices" "false" <span class="hljs-keyword"><span class="hljs-keyword">Option</span></span> "AutoEnableDevices" "false" <span class="hljs-keyword"><span class="hljs-keyword">Option</span></span> "AllowEmptyInput" "true" <span class="hljs-keyword"><span class="hljs-keyword">Option</span></span> "DontZap" "false" <span class="hljs-keyword"><span class="hljs-keyword">Option</span></span> "AutoAddGPU" "false" <span class="hljs-keyword"><span class="hljs-keyword">Option</span></span> "DontVTSwitch" "false" EndSection</code> </pre> <br>  We make a backup copy of the <i>/etc/lightdm/lightdm.conf</i> file, open it, after the line: <br><br><pre> <code class="hljs json">[LightDM]</code> </pre> <br>  Add: <br><br><pre> <code class="hljs pgsql">minimum-display-number=<span class="hljs-number"><span class="hljs-number">0</span></span> [SeatDefaults] xserver-command=/usr/bin/X <span class="hljs-keyword"><span class="hljs-keyword">user</span></span>-<span class="hljs-keyword"><span class="hljs-keyword">session</span></span>=xfce greeter-<span class="hljs-keyword"><span class="hljs-keyword">session</span></span>=lightdm-gtk-greeter <span class="hljs-keyword"><span class="hljs-keyword">exit</span></span>-<span class="hljs-keyword"><span class="hljs-keyword">on</span></span>-failure=<span class="hljs-keyword"><span class="hljs-keyword">true</span></span> [Seat:<span class="hljs-number"><span class="hljs-number">0</span></span>] xserver-command=/usr/bin/X :<span class="hljs-number"><span class="hljs-number">0</span></span> -sharevts autologin-guest=<span class="hljs-keyword"><span class="hljs-keyword">false</span></span> xserver-layout=Layout0 [Seat:<span class="hljs-number"><span class="hljs-number">1</span></span>] xserver-command=/usr/bin/X :<span class="hljs-number"><span class="hljs-number">1</span></span> -sharevts autologin-guest=<span class="hljs-keyword"><span class="hljs-keyword">false</span></span> xserver-layout=Layout1</code> </pre> <br>  Reboot, try to log in, do not forget that you need to log in under different users. <br><br>  Now let's deal with the sound.  In order to listen to the sound from both workstations, we do the following: <br><br>  Open the file <i>/etc/pulse/default.pa</i> , add the line to the beginning of the file: <br><br><pre> <code class="hljs sql"><span class="hljs-keyword"><span class="hljs-keyword">load</span></span>-<span class="hljs-keyword"><span class="hljs-keyword">module</span></span> <span class="hljs-keyword"><span class="hljs-keyword">module</span></span>-<span class="hljs-keyword"><span class="hljs-keyword">native</span></span>-protocol-unix auth-anonymous=<span class="hljs-number"><span class="hljs-number">1</span></span> socket=/tmp/my-pulse-socket-<span class="hljs-keyword"><span class="hljs-keyword">name</span></span></code> </pre> <br>  Open the file <i>/etc/pulse/client.conf</i> , insert the line at the beginning of the file <br><br><pre> <code class="hljs pgsql"><span class="hljs-keyword"><span class="hljs-keyword">default</span></span>-<span class="hljs-keyword"><span class="hljs-keyword">server</span></span> = unix:/tmp/my-pulse-socket-<span class="hljs-type"><span class="hljs-type">name</span></span></code> </pre> <br>  Create the file <i>/root/pulse.sh</i> with the following lines: <br><br><pre> <code class="hljs perl">pulseaudio -k <span class="hljs-keyword"><span class="hljs-keyword">sleep</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> pulseaudio -D <span class="hljs-keyword"><span class="hljs-keyword">sleep</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> pulseaudio -D ‚Äî<span class="hljs-keyword"><span class="hljs-keyword">system</span></span></code> </pre> <br>  We put 700 on it. At the end of the <i>/ etc / crontab</i> file we add the line: <br><br><pre> <code class="hljs scala"><span class="hljs-meta"><span class="hljs-meta">@reboot</span></span> root cd /root &amp;&amp; ./pulse.sh</code> </pre> <br>  After this line, make one blank line.  To control the sound, use pavucontrol, if it is not there, then install it. <br><br>  If you have two sound cards, then through pavucontrol, you can choose which device to play sound for each application. To do this, select the sound card in the ‚ÄúPlayback‚Äù tab next to the corresponding application in the drop-down list, you can use one sound card for both workstations In this case, sound from both workstations will be output through one speaker system. <br><br>  "Just in case, I attach an archive with files from the working system <a href="https://yadi.sk/d/CXEqz6Oeww2XD">multiseat.zip</a> </div><p>Source: <a href="https://habr.com/ru/post/312900/">https://habr.com/ru/post/312900/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../312890/index.html">Kerosene vs. Patriots: How American military programmers learned how to round correctly</a></li>
<li><a href="../312892/index.html">We introduce a full-fledged system of feedback about each other on "Freelance"</a></li>
<li><a href="../312894/index.html">How in Java to shoot yourself in the leg of lambda and not to miss</a></li>
<li><a href="../312896/index.html">Welcome to Moscow CocoaHeads Meetup October 28</a></li>
<li><a href="../312898/index.html">Thermal Resistance: Theory</a></li>
<li><a href="../312902/index.html">Filter characters entered in input</a></li>
<li><a href="../312904/index.html">Perfect marketing on the example of the series ‚ÄúBetter Call Saul‚Äù</a></li>
<li><a href="../312908/index.html">UX-mitap October 26 in St. Petersburg: work on design sprints, LeanUX, usability research</a></li>
<li><a href="../312912/index.html">Frequent errors when creating game animations</a></li>
<li><a href="../312916/index.html">Sergey Baryshnikov, BigPicture: ‚ÄúTo this led me a complete lack of money‚Äù</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>