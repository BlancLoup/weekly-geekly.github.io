<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>SCT Error Recovery Control</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="... or what is actually a 'raid edition' for hard drives 


 A bit of theory 
 There are two strategies for the behavior of an HDD when an error is de...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>SCT Error Recovery Control</h1><div class="post__text post__text-html js-mediator-article"><h5>  ... or what is actually a 'raid edition' for hard drives </h5><br><img src="https://habrastorage.org/getpro/geektimes/post_images/939/59f/71f/93959f71fff6392ff8fb666fa6a034fa.jpg"><br><br><h1>  A bit of theory </h1><br>  There are two strategies for the behavior of an HDD when an error is detected: <br><ul><li>  standalone / desktop - try to read to the last.  It feels like a ‚Äúbraking screw‚Äù, which still works, if it is a single failure, it ‚Äúblunted, but passed,‚Äù plus the characteristic rebuff of recalibrating heads. </li><li>  raid - fall off right there.  It feels like ‚Äúthere was suddenly a disk error but then mhdd, etc.  HAVE NOTHING TO FIND ME. ‚Äù </li></ul>  The strategies are obviously different in purpose - the desktop will be better protup, but it will not give an error, there is a spare screw in the raid, and no one has any ability to endure the minute brakes on reading.  Couldn't read?  We read from the spare screws, mark the entire screw as failed, we start the resync, and then the disk will be sent to the utilizer.  Perhaps unfairly, but there is nothing to hiccup in a responsible position. <br><br>  Managing error behavior strategies is a feature of expensive hard drives.  In the desktop series, it is often just not there, or it is, but without the right of inclusion - the hard drive tupit over the error as much as it sees fit.  The second important point is that on raid hard drives this option is enabled by default.  That can lead to problems. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h1>  Deciphering the name </h1><br>  The ability to control the behavior of the disk in case of errors is called very confusing: SCT ERC.  This stands for SCT Error Recovery Control.  SCT is in turn the name of a common protocol SMART Command Transport.  SMART, in turn, stands for Self-Monitoring, Analysis and Reporting Technology, so the complete SCT ERC decry is: <i>Self-Monitoring, Analysis and Reporting Technology</i> (exhaled). <br><a name="habracut"></a><br><h4>  Quick reference </h4><br>  You can see if the hard disk supports error management using the <code>smartctl -a /dev/sdxx</code> line SCT capabilities: <br><br><pre> <code class="hljs markdown">SCT capabilities: (0x303f) SCT Status supported. SCT Error Recovery Control supported. <span class="hljs-strong"><span class="hljs-strong">*****</span></span> SCT Feature Control supported.</code> </pre><br>  If there is no line, the disc does not support them (commands). <br><br>  Then - in fact, the management process.  In the disks that I saw, there are two parameters - the timeout of the read operation and the timeout of the write operation.  Below I will give the values ‚Äã‚Äãfor all the disks to which my hands have reached. <br><br>  To see the timeouts, use the <code>smartctl -l scterc /dev/sda</code> .  The output looks like this: <br><br><pre> <code class="hljs pgsql"># smartctl -l scterc /dev/sda SCT Error Recovery Control: <span class="hljs-keyword"><span class="hljs-keyword">Read</span></span>: <span class="hljs-number"><span class="hljs-number">70</span></span> (<span class="hljs-number"><span class="hljs-number">7.0</span></span> seconds) <span class="hljs-keyword"><span class="hljs-keyword">Write</span></span>: <span class="hljs-number"><span class="hljs-number">70</span></span> (<span class="hljs-number"><span class="hljs-number">7.0</span></span> seconds) # smartctl -l scterc /dev/sde SCT Error Recovery Control: <span class="hljs-keyword"><span class="hljs-keyword">Read</span></span>: Disabled <span class="hljs-keyword"><span class="hljs-keyword">Write</span></span>: Disabled # smartctl -l scterc /dev/sdd <span class="hljs-built_in"><span class="hljs-built_in">Warning</span></span>: device does <span class="hljs-keyword"><span class="hljs-keyword">not</span></span> support SCT Error Recovery Control command</code> </pre><br>  For installation, respectively, we specify the values ‚Äã‚Äãseparated by commas after scterc: <code>smartctl -l scterc,120,60 /dev/sde</code> (the value is indicated in tenths of a second, that is, 120 corresponds to 12 seconds, the first number is read, the second is write).  0 means "to the bitter end", that is, indefinitely. <br><br><h4>  Default values </h4><br>  Here are the data from different disks that I have on the farm: <br><table><tbody><tr><th>  Title </th><th>  Model </th><th>  ERC (yes or no, if there are, default values) </th></tr><tr><td>  Western Digital VelociRaptor </td><td>  WDC WD1500HLFS-01G6U1 </td><td>  Yes, 7/7 </td></tr><tr><td>  Western Digital RE4 Serial ATA </td><td>  WDC WD1500HLFS-01G6U1 </td><td>  Yes, 7/7 </td></tr><tr><td>  Western Digital RE3 Serial ATA family </td><td>  WD1002FBYS-02A6B0 </td><td>  Yes, 7/7 </td></tr><tr><td>  Western Digital Caviar Green (Adv. Format) </td><td>  WDC WD20EARS-00MVWB0 </td><td>  not supported </td></tr><tr><td>  Western Digital Caviar Green </td><td>  WD7500AACS-00D6B0 </td><td>  Yes, 0/0, can not be enabled </td></tr><tr><td>  Seagate Maxtor DiamondMax 22 </td><td>  STM3500320AS </td><td>  Yes, 0/0, you can enable </td></tr><tr><td>  Seagate Barracuda 7200.9 </td><td>  ST3400633AS </td><td>  No (for the maxtors / sigates of the same years, but for the sowers there is no - wow) </td></tr><tr><td>  Seagate Barracuda 7200.10 </td><td>  ST3500630AS </td><td>  not </td></tr><tr><td>  Seagate Barracuda 7200.11 </td><td>  ST31500341AS </td><td>  (suddenly!) Yes, 0/0, you can enable </td></tr><tr><td>  Seagate Barracuda LP </td><td>  ST31500541AS </td><td>  Yes, 0/0 (i.e. disabled), you can enable </td></tr><tr><td>  SAMSUNG SpinPoint F4 EG (AFT) </td><td>  SAMSUNG HD204UI </td><td>  Yes, 0/0 (disabled), you can enable </td></tr><tr><td>  Hitachi Deskstar 7K3000 </td><td>  HDS723030ALA640 </td><td>  Yes, 0/0, cannot be enabled (scsi error aborted command) </td></tr><tr><td>  Hitachi Deskstar T7K500 </td><td>  HDT725032VLA360 </td><td>  Yes, 0/0, can not be enabled </td></tr></tbody></table><br>  (just don‚Äôt ask me where I got so many drives at home). <br><br><h4>  Morality </h4><br>  People who take RE4 disks (and other raid editions from other remaining manufacturers), as well as velocity raptors for use as a single hard disk and do not set ERC to zero, make a huge nonsense, comparable only to people‚Äôs , which the desktop screws drive into the raid without ERC setup and hope that in case of a failure, the raid will save them. <br><br>  Essentially: bought a cool screw home in the amount of one piece: turn off the ERC (0,0).  Bought a screw in a raid - check that its ERC is different from zero, and better closer to a reasonable value in the region of 3-10s.  (300-1000). <br><br>  Models that require attention on the desktop: WD RE3, RE4, Raptor, Seagate NS. <br><br>  PS In addition to ERC, manufacturers promise increased quality and reliability of the RE / NS series, but we cannot verify this, but the presence / absence of ERC is an objective easily verifiable feature.  A disk without an ERC in a raid should not be under any circumstances, since in case of a failure it will bring more harm than good. <br><br>  PPS How to perform operations with SMART in Microsoft Windows - I have not the slightest idea.  Call the manufacturer's support service and ask.  Telephone 8 (800) 200-8001. <br><br>  For Mac OS X, as far as I know, there is a smartmontools port, so the specified commands (from the root) are quite feasible there. <br><br>  PPPS (from comments) For WD there is a WDTLER utility (Time-Limited Error Recovery) on some hdd green-series you can still enable ERC / TLER: blog.agdunn.net/?p=208 </div><p>Source: <a href="https://habr.com/ru/post/92701/">https://habr.com/ru/post/92701/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../92691/index.html">MediaHackDay: developing media and IT projects</a></li>
<li><a href="../92692/index.html">"The Internet will not be another TV." (And certainly Fidonet will not become him.)</a></li>
<li><a href="../92693/index.html">Authorization Vkontakte in your applications without a browser component</a></li>
<li><a href="../92697/index.html">Lubuntu 10.04 released</a></li>
<li><a href="../92699/index.html">Vinyl Killer. Literally</a></li>
<li><a href="../92702/index.html">Twisted application profiling</a></li>
<li><a href="../92703/index.html">Personal finance on paper</a></li>
<li><a href="../92704/index.html">Quick start blog based on Orchard (in pictures)</a></li>
<li><a href="../92705/index.html">Python in Visual Studio 2010</a></li>
<li><a href="../92706/index.html">We consider letters in works of Russian literature.</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>