<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>IT infrastructure reanimation</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Greetings, Habrazhiteli. 

 I inherited a ‚Äúlegacy‚Äù IT infrastructure of a budget organization, very powerful, with a margin for performance, but absol...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>IT infrastructure reanimation</h1><div class="post__text post__text-html js-mediator-article">  Greetings, Habrazhiteli. <br><br>  I inherited a ‚Äúlegacy‚Äù IT infrastructure of a budget organization, very powerful, with a margin for performance, but absolutely not manageable.  What we have: <br><ul><li>  4000 hosts on the network </li><li>  Access Level Switches: Cisco Catalyst 35xx (~ 2500 ports) </li><li>  In the center is a Cisco Catalyst 6500 optical switch </li><li>  Cisco wireless access points of various models (~ 1500 clients daily) managed by a Cisco 44xx controller </li><li>  Internet Releases Cisco 38xx Router </li><li>  More than 50 vlans are created in the network. </li></ul><br>  All this is seasoned with an indefinite number of hardware and virtual servers (more than fifty).  In view of the fact that there is no documentation (the notes of the administrators do not count) it is impossible to clothe the network parameters in any specific numbers. <br><br>  How did that happen? <a name="habracut"></a>  It's very simple - the average administrator's salary is 12 thousand rubles, hence a very large staff turnover and a pathological reluctance to work normally for those who still wished to stay working.  The second point - there were many expensive projects with very correct goals, which were never brought to a logical conclusion.  Third, the skills and computer skills of the majority of staff are extremely low. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Initially, when the trees were bigger and the grass is greener, and the number of ports only passed for 1000, everything was conceived beautifully and competently: <br><br>  <i>Infrastructure</i> <br><br>  The network was built and built only on the equipment of Cisco Systems.  At the core of the network is an optical switch, the highways are routed only with optics, the access level is exclusively for Cisco-controlled L3 switches.  On all ports of the access level, port security was labeled with the MAC address; when another computer was connected, the port dropped.  This was abandoned at the moment when the average employee could afford a laptop.  Naturally, he put him on to work, stuck and craved to work, but he got a drop in the port, nerves, etc., plus the painful craving for some employees to change places also did not contribute to the development of this practice. <br><br>  <i>Network logic</i> <br><br>  Virtual network segments were created with a linkage of these to a specific territorial location.  This practice has sunk into oblivion after the bright idea came to issue vlan to the port in divisions and isolate them from the rest of the subnets.  But the people who started it, left and it turned out that the vlans and the ACL managed to spawn, but they didn‚Äôt have time to deploy in the enterprise and kill the old logic.  It turned out a mess. <br><br>  <i>Car park</i> <br><br>  99.9% of all machines are Windows.  How to steer?  Of course the domain!  No sooner said than done.  Raised, set up, started an org.  structure, group policies were hanged, users were brought in and received a megaproser (sorry for my French, but the organizational measures accompanying the technical solution were merged into the toilet).  The average computer was used by several people during the working day.  Those who were too lazy to remember the login and password, he pasted it on the monitor, the rest even wrote down a piece of paper (by the way, there were printed cards with credentials that were lost even faster than handwritten) did not bother themselves and went to the machines with the ‚Äúshared‚Äù password.  Someone saw an incomplete session, sat down, worked, saved documents, the next day already working with his profile matt yelled "Where are my documents that I did yesterday, the My Documents folder is empty."  As a result, the real domain works only in one department, where for a long time very educated people work in terms of IT. <br><br>  <i>Information Services</i> <br><br>  As such, in our organization they are not.  It is possible with a certain stretch to include sites, business cards units on the third-level domains.  Here is a separate story.  There was a hosting - hacked.  They created a new "more secure", dragged the most important sites to it - they hacked it again.  Created a third - the story repeated.  As a result, we have 4 or 5 hosting sites plus sites of those divisions where there are own developers. <br><br>  <b>Nowadays</b> <br><br>  All these problems over time and the increase in the number of subscribers only multiplied, very literate people came, tried to patch holes, gained experience and left without regret for more adequate money, and all their undertakings overgrown with mud and only created problems due to the need for certain skills of admins for their operation.  A lot of problems added a project to deploy a WiFi network (60 points).  Netbooks, tablets, phones got into the network.  The management‚Äôs reproaches are constantly heard that it slows down the network, in fact it turns out that the local network is working hardly at 10% of its capacity, and everything rests on the provider‚Äôs channel width (90 Mbps). <br><br>  <b>What to do?</b> <br><br>  For myself, he outlined three stages of work in order to clear up this chaos and at the same time not to tear the navel, and most importantly * om <br><br>  <i>The first stage: "Control all and all"</i> <br><br>  Screwed the collection of statistics on SNMP from the equipment.  Used Cacti.  The tasks are solved by 100%, beautiful graphics, the leadership likes. <br>  I installed and configured the ticket system (OTRS), set up departments in queues, escalation and all that.  Open sloppiness became less.  Again, reports for management seem to be liking too. <br>  It is planned to raise a normal Call-center, dispatch service so that not a single call goes nowhere and the admins do not blink their eyes, saying ‚ÄúI don‚Äôt know anything, I don‚Äôt remember, they could call‚Äù, and at the same time remove the personal contact of the admins and staff. <br>  A transparent proxy and a tough Gestapo are planned (I hate Vkontakte! It gives more than 50% of traffic). <br>  As soon as I understand in the smallest detail what is happening in my network, you can safely move on to the second stage. <br><br>  <i>The second stage: "Sanitary"</i> <br><br>  Cremation of all stillborn, who died by his own death, but who is in a state of zombies, or hellish agonizing.  In other words, removing unnecessary Vlans, transferring hardware servers to virtuals.  From the released iron to collect some cluster, have not yet decided which one.  The goal of this stage is to make from the fact that there is a system that is as simple as possible and convenient in terms of maintenance.  Moreover, this should be done as imperceptibly as possible for users, because the internal resistance of the organization to everything new is simply colossal in strength. <br><br>  <i>The third stage: ‚ÄúWe can‚Äôt do that‚Äù</i> <br><br>  If a couple of intelligent administrators can manage all of these (enikeyshchiki do not count), then it will be possible to focus on creating a single information space, with a portal and real information services.  But it seems to me that it will not be soon. <br><br>  On this I want to complete my narration, thank you for your attention, waiting for the criticism on the merits. <br>  If the community is interested, I will publish specific solutions to the challenges we face. </div><p>Source: <a href="https://habr.com/ru/post/163027/">https://habr.com/ru/post/163027/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../163013/index.html">Instagram got the right to sell photos of users.</a></li>
<li><a href="../163017/index.html">Opera 12.12 Final</a></li>
<li><a href="../163019/index.html">Yandex.Navigator learned to work offline</a></li>
<li><a href="../163021/index.html">We test the site on game consoles. Part II</a></li>
<li><a href="../163023/index.html">How we iOS application tested from under Ubuntu</a></li>
<li><a href="../163029/index.html">The Perl programming language is 25 years old today.</a></li>
<li><a href="../163031/index.html">AWS: EBS Image Copies</a></li>
<li><a href="../163033/index.html">JavaScript alternatives</a></li>
<li><a href="../163035/index.html">Ultrabook Desten X354 and the process of abduction</a></li>
<li><a href="../163037/index.html">HabraQuotes: Reboot</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>