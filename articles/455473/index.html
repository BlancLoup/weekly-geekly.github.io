<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Generics in TypeScript: sorting out together</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hello! The TestMace team publishes a regular translation of an article from the world of web development. This time for newbies! Enjoy reading. 


 Di...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Generics in TypeScript: sorting out together</h1><div class="post__text post__text-html js-mediator-article"><p>  <em>Hello!</em>  <em>The <a href="https://client.testmace.com/">TestMace</a> team publishes a regular translation of an article from the world of web development.</em>  <em>This time for newbies!</em>  <em>Enjoy reading.</em> </p><br><p> <strong>Dispel the veil of mystery and misunderstanding over the syntax <code>&lt;T&gt;</code> and finally make friends with it</strong> </p><br><p><img src="https://habrastorage.org/webt/gg/a2/ha/gga2haulyptvliw6d_lqeraqsqy.png"></p><br><p>  Probably only experienced developers of <a href="https://en.wikipedia.org/wiki/Generics_in_Java">Java</a> or other strongly typed languages ‚Äã‚Äãdo not blink when they see a generic in TypeScript.  Its syntax is fundamentally different from all that we used to see in JavaScript, so it‚Äôs so difficult to guess what it does at all. </p><br><p>  I would like to show you that everything is actually much simpler than it seems.  I will prove that if you are able to implement a function with arguments in JavaScript, then you can use generics without any extra effort.  Go! </p><a name="habracut"></a><br><h2 id="dzheneriki-v-typescript">  Generics in TypeScript </h2><br><p>  The TypeScript documentation provides the following definition: "generics are the ability to create components that work not only with one, but with several data types." </p><br><p>  Great!  So, the basic idea is that generics allow us to create some reusable components that work with different types of data transferred to them.  But how is this possible?  That's what I think. </p><br><p>  <strong>Generics and types are related to each other, like the values ‚Äã‚Äãand arguments of a function.</strong>  <strong>This is such a way to tell components (functions, classes or interfaces) what type you need to use when calling them, just like during a call we tell functions which values ‚Äã‚Äãto use as arguments.</strong> </p><br><p>  It is best to analyze this by the example of a generic identity function.  The identity function is a function that returns the value of the argument passed to it.  In javascript it will look like this: </p><br><div class="spoiler">  <b class="spoiler_title">identity.js</b> <div class="spoiler_text"><pre> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">identity</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">value</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> value; } <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(identity(<span class="hljs-number"><span class="hljs-number">1</span></span>)) <span class="hljs-comment"><span class="hljs-comment">// 1</span></span></code> </pre> </div></div><br><p>  Let's make it work with numbers: </p><br><div class="spoiler">  <b class="spoiler_title">identity.ts</b> <div class="spoiler_text"><pre> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">identity</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">value: Number</span></span></span><span class="hljs-function">) : </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Number</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> value; } <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(identity(<span class="hljs-number"><span class="hljs-number">1</span></span>)) <span class="hljs-comment"><span class="hljs-comment">// 1</span></span></code> </pre> </div></div><br><p>  Well, we added a type to the definition of the identical function, but we would like it to be more flexible and work for values ‚Äã‚Äãof any type, not just numbers.  This is what the generics are for.  They allow functions to take values ‚Äã‚Äãof any data type at the input and, depending on them, convert the function itself. </p><br><div class="spoiler">  <b class="spoiler_title">genericIdentity.ts</b> <div class="spoiler_text"><pre> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">identity</span></span></span><span class="hljs-function"> &lt;</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">T</span></span></span><span class="hljs-function">&gt;(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">value: T</span></span></span><span class="hljs-function">) : </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">T</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> value; } <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(identity&lt;<span class="hljs-built_in"><span class="hljs-built_in">Number</span></span>&gt;(<span class="hljs-number"><span class="hljs-number">1</span></span>)) <span class="hljs-comment"><span class="hljs-comment">// 1</span></span></code> </pre> </div></div><br><p>  Oh, this weird <code>&lt;T&gt;</code> syntax!  Set aside the panic.  We just pass the type we want to use for a particular function call. </p><br><p><img src="https://habrastorage.org/webt/t4/iw/um/t4iwumpqdrscps6mcei9qjfc6ug.png"></p><br><p>  Look at the picture above.  When you call <code>identity&lt;Number&gt;(1)</code> , the <code>Number</code> type is the same argument as 1. It is substituted instead of <code>T</code> everywhere.  A function can take several types in the same way that it takes several arguments. </p><br><p><img src="https://habrastorage.org/webt/oc/9z/yc/oc9zycadxccq1txecvuclkwgfqa.png"></p><br><p>  Look at the function call.  Now, the generics syntax shouldn't scare you.  <code>T</code> <strong>and</strong> <code>U</code> <strong>are simply the names of the variables that you assign yourself.</strong>  <strong>When calling a function, the types with which the function will operate are indicated instead</strong> . </p><br><p>  An alternative version of understanding the concept of generics is that they transform the function depending on the specified data type.  The animation below shows how the function's entry changes and the result returned when the type changes. </p><br><p><img src="https://habrastorage.org/getpro/habr/post_images/e46/0b8/821/e460b88216a1d8c217b256c91a931eac.gif"></p><br><p>  As you can see, the function accepts any type, which allows you to create reusable components of various types, as promised in the documentation. </p><br><p>  <strong>Pay particular attention</strong> to the second console.log call on the animation above - the type is not passed to it.  In this case, TypeScript will attempt to compute the type from the transferred data. </p><br><h2 id="obobschyonnye-klassy-i-interfeysy">  Generic Classes and Interfaces </h2><br><p>  You already know that generics are just a way to transfer types to a component.  You have just seen how they work with functions, and I have good news: they work with classes and interfaces in exactly the same way.  In this case, an indication of the types follows the name of the interface or class. </p><br><p>  Look at the example and try to figure it out for yourself.  I hope you did it. </p><br><div class="spoiler">  <b class="spoiler_title">genericClass.ts</b> <div class="spoiler_text"><pre> <code class="javascript hljs">interface GenericInterface&lt;U&gt; { <span class="hljs-attr"><span class="hljs-attr">value</span></span>: U getIdentity: <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> U } <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">IdentityClass</span></span></span><span class="hljs-class">&lt;</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">T</span></span></span><span class="hljs-class">&gt; </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">implements</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">GenericInterface</span></span></span><span class="hljs-class">&lt;</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">T</span></span></span><span class="hljs-class">&gt; </span></span>{ value: T <span class="hljs-keyword"><span class="hljs-keyword">constructor</span></span>(value: T) { <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.value = value } getIdentity () : T { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.value } } <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> myNumberClass = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> IdentityClass&lt;<span class="hljs-built_in"><span class="hljs-built_in">Number</span></span>&gt;(<span class="hljs-number"><span class="hljs-number">1</span></span>) <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(myNumberClass.getIdentity()) <span class="hljs-comment"><span class="hljs-comment">// 1 const myStringClass = new IdentityClass&lt;string&gt;("Hello!") console.log(myStringClass.getIdentity()) // Hello!</span></span></code> </pre> </div></div><br><p>  If the code is not immediately clear, try to track the <code>type</code> from top to bottom down to function calls.  The procedure is as follows: </p><br><ol><li>  A new instance of the <code>IdentityClass</code> class is created, and the type of <code>Number</code> and the value <code>1</code> are passed to it. </li><li>  In the class, the value <code>T</code> assigned the type <code>Number</code> . </li><li>  <code>IdentityClass</code> implements <code>GenericInterface&lt;T&gt;</code> , and we know that <code>T</code> is <code>Number</code> , and this record is equivalent to writing <code>GenericInterface&lt;Number&gt;</code> . </li><li>  In <code>GenericInterface</code> generic <code>U</code> becomes <code>Number</code> .  In this example, I intentionally used different variable names to show that the value of the type goes up the chain, and the name of the variable has no value. </li></ol><br><h2 id="realnye-sluchai-ispolzovaniya-vyhodim-za-ramki-primitivnyh-tipov">  Real use cases: go beyond primitive types </h2><br><p>  In all the above code inserts, primitive types like <code>Number</code> and <code>string</code> were used.  For examples, the fact is, <strong>but in practice you are unlikely to begin using generics for primitive types.</strong>  <strong>Generics will be truly useful when working with arbitrary types or classes that form an inheritance tree.</strong> </p><br><p>  Consider the classic example of inheritance.  Suppose we have a class <code>Car</code> , which is the basis of the classes <code>Truck</code> and <code>Vespa</code> .  We write the service function <code>washCar</code> , which takes a generic instance of <code>Car</code> and returns it. </p><br><div class="spoiler">  <b class="spoiler_title">car.ts</b> <div class="spoiler_text"><pre> <code class="javascript hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Car</span></span></span><span class="hljs-class"> </span></span>{ label: string = <span class="hljs-string"><span class="hljs-string">'Generic Car'</span></span> numWheels: <span class="hljs-built_in"><span class="hljs-built_in">Number</span></span> = <span class="hljs-number"><span class="hljs-number">4</span></span> horn() { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-string"><span class="hljs-string">"beep beep!"</span></span> } } <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Truck</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Car</span></span></span><span class="hljs-class"> </span></span>{ label = <span class="hljs-string"><span class="hljs-string">'Truck'</span></span> numWheels = <span class="hljs-number"><span class="hljs-number">18</span></span> } <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Vespa</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Car</span></span></span><span class="hljs-class"> </span></span>{ label = <span class="hljs-string"><span class="hljs-string">'Vespa'</span></span> numWheels = <span class="hljs-number"><span class="hljs-number">2</span></span> } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">washCar</span></span></span><span class="hljs-function"> &lt;</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">T</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">extends</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Car</span></span></span><span class="hljs-function">&gt; (</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">car: T</span></span></span><span class="hljs-function">) : </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">T</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(<span class="hljs-string"><span class="hljs-string">`Received a </span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${car.label}</span></span></span><span class="hljs-string"> in the car wash.`</span></span>) <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(<span class="hljs-string"><span class="hljs-string">`Cleaning all </span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${car.numWheels}</span></span></span><span class="hljs-string"> tires.`</span></span>) <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(<span class="hljs-string"><span class="hljs-string">'Beeping horn -'</span></span>, car.horn()) <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(<span class="hljs-string"><span class="hljs-string">'Returning your car now'</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> car } <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> myVespa = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Vespa() washCar&lt;Vespa&gt;(myVespa) <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> myTruck = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Truck() washCar&lt;Truck&gt;(myTruck)</code> </pre> </div></div><br><p>  By <code>washCar</code> function that <code>T extends Car</code> , we denote which functions and properties we can use inside this function.  Generic also allows you to return data of the specified type instead of the usual <code>Car</code> . </p><br><p>  The result of this code will be: </p><br><pre> <code class="bash hljs">Received a Vespa <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> the car wash. Cleaning all 2 tires. Beeping horn - beep beep! Returning your car now Received a Truck <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> the car wash. Cleaning all 18 tires. Beeping horn - beep beep! Returning your car now</code> </pre> <br><h2 id="podvedem-itogi">  Let's sum up </h2><br><p>  I hope I helped you deal with generics.  Remember, all you have to do is just pass the <code>type</code> value to the function :) </p><br><p>  If you want to read more about generics, I attached a couple of links further. </p><br><p>  <strong>What to read</strong> : </p><br><ul><li>  <a href="https://www.typescriptlang.org/docs/handbook/generics.html">TypeScript Generics Documentation</a> - generics documentation </li><li>  <a href="https://medium.com/%40rossbulat/typescript-generics-explained-15c6493b510f">TypeScript Generics Explained</a> - a deeper dive into the topic of generics </li></ul><br><p>  <em>Our team creates a cool <a href="https://client.testmace.com/">TestMace</a> tool - a powerful IDE for working with APIs.</em>  <em>Create scripts, test endpoints and use all the power of advanced autocompletion and syntax highlighting.</em>  <em>Write to us!</em>  <em>We are here: <a href="https://t.me/testmace">Telegram</a> , <a href="https://testmaceslackin.herokuapp.com/">Slack</a> , <a href="https://www.facebook.com/testmace/">Facebook</a> , <a href="https://vk.com/testmace">Vk</a></em> <em><br></em> </p></div>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <p>Source: <a href="https://habr.com/ru/post/455473/">https://habr.com/ru/post/455473/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../455465/index.html">Canada will ban the use of disposable plastic</a></li>
<li><a href="../455467/index.html">If you are not writing a program, do not use a programming language.</a></li>
<li><a href="../455469/index.html">To be full and not be them</a></li>
<li><a href="../45547/index.html">What is more effective: fine or work?</a></li>
<li><a href="../455471/index.html">Translation of the book ‚ÄúUsing Google Analytics with R‚Äù (Michal Brys)</a></li>
<li><a href="../455475/index.html">Product Design Digest May 2019</a></li>
<li><a href="../455479/index.html">How we implemented the navigation from Jetpack into the combat application. Report Yandex. Food</a></li>
<li><a href="../455481/index.html">Three stories about wild hunting</a></li>
<li><a href="../455483/index.html">Artist Ai-Da: a humanoid robot prepares for his first solo exhibition</a></li>
<li><a href="../455485/index.html">Check Point Scripts - run scripts directly from the Smart Console</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>