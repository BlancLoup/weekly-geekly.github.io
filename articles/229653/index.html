<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>First look at Themosis, a framework for WordPress developers</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="More recently, I heard about a new project called Themosis , a ‚Äúframework for WordPress developers.‚Äù In this article we will explore its capabilities ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>First look at Themosis, a framework for WordPress developers</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/getpro/habr/post_images/5ec/6ec/4ca/5ec6ec4ca1159a490b5510264eef07fd.png"><br><br>  More recently, I heard about a new project called <a href="http://www.themosis.com/">Themosis</a> , a ‚Äúframework for WordPress developers.‚Äù  In this article we will explore its capabilities and consider an example - a <a href="https://github.com/themosis/bookstore">site</a> created by the developers of Themosis.  The most interesting is hidden behind the cut. <br><a name="habracut"></a><br><h4>  What is Themosis? </h4><br><br>  For anyone familiar with the word ‚Äúframework,‚Äù especially regarding PHP, this may sound surprising.  Is WP really lacking blogging features?  In general, yes. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Themosis is not a framework in the sense in which you understand it.  This is an API for easy site creation.  Themosis is a whole set of APIs for developing WordPress components with classes, anonymous functions and Composer support. <br><br>  Themosis itself is a plugin for writing other plugins.  Curious isn't it?  It has a tool for creating paths, as well as its own template engine - Scout.  It is designed specifically to work with WordPress.  For example, pattern loop: <br><br><pre><code class="hljs php">@loop(<span class="hljs-keyword"><span class="hljs-keyword">array</span></span>(<span class="hljs-string"><span class="hljs-string">'post_type'</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">'post'</span></span>, <span class="hljs-string"><span class="hljs-string">'posts_per_page'</span></span> =&gt; <span class="hljs-number"><span class="hljs-number">-1</span></span>)) &lt;h1&gt;{{ Loop::title() }}&lt;/h1&gt; &lt;div&gt; {{ Loop::content() }} &lt;/div&gt; @endloop</code> </pre> <br><br>  uses the API to request information, as well as the <code>Loop</code> class. <br><br><h5>  Installation </h5><br><br>  Installation is done using Composer and the WordPress command line tool.  When you create a Composer project for Themosis, you need to perform a standard WP installation.  After that, you can start working with the framework. <br><br>  You can follow the <a href="">official installation instructions</a> for running your first example below. <br><br><h4>  Sample project </h4><br><br>  Themosis suggests to try an example from their official site - a <a href="https://github.com/themosis/bookstore">site for selling books</a> . <br><br><h5>  Attempt at writing </h5><br><br>  You can use <a href="http://www.sitepoint.com/quick-tip-get-homestead-vagrant-vm-running/">this tip</a> to get started with the system.  Then simply register the site with: <br><br><pre> <code class="hljs vhdl">- <span class="hljs-keyword"><span class="hljs-keyword">map</span></span>: bookstore.local <span class="hljs-keyword"><span class="hljs-keyword">to</span></span>: /home/vagrant/Code/themosis_example</code> </pre> <br><br>  Of course, do not forget to add the <code>bookstore.local</code> alias to your <code>hosts</code> file as described <a href="http://www.sitepoint.com/quick-tip-get-homestead-vagrant-vm-running/">here</a> . <br><br>  Clone the repository with the command <code><a href="https://github.com/themosis/bookstore"></a> git clone github.com/themosis/bookstore themosis_example</code>  <code><a href="https://github.com/themosis/bookstore"></a> git clone github.com/themosis/bookstore themosis_example</code> , and go to <code><a href="http://bookstore.local/"></a> bookstore.local:8000</code>  <code><a href="http://bookstore.local/"></a> bookstore.local:8000</code> in your browser for installing WordPress. <br><br>  After completing the installation, follow the remaining instructions <a href="https://github.com/themosis/bookstore">written here</a> .  Now you can do whatever you want, and not be afraid that something will go wrong.  At any time, you can rebuild the VM and start the process again. <br><br>  After completing all of the above instructions, you can open the Themosis sample application. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/c8b/e19/9d2/c8be199d2fbb2554a14eaed22cdaa5cc.png"><br><br>  At the moment, you will not notice anything interesting, since any WordPress site can be customized to look like the example below.  However, at the moment I want to highlight two key points: <br><br><ol><li>  We started this project very quickly, practically doing nothing; </li><li>  Themosis uses the WordPress API and processes requests extremely quickly. </li></ol><br><br>  What about the code?  What does he look like?  Let's explore this question in the next paragraph. <br><br><h5>  Actually, the code </h5><br><br>  You can view the code in the sample project repository: <a href="https://github.com/themosis/bookstore">https://github.com/themosis/bookstore</a> .  Let's see what we can point out here.  As I said before, Themosis is a plugin, so consider the plugin code for a book site: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/63c/263/d85/63c263d8503f53f1bf430ae0ca346b2c.png"><br><br>  Here we see three folders: an <code>app</code> containing the logical part of our site, <code>src</code> containing the source code Themosis (the folder structure resembles other frameworks, and their names correspond to the classes), and <code>vendor</code> is the place where Composer works. <br><br>  Speaking about the quality of the code, one can note the observance of most modern standards (names, classes), as well as the use of special code to restrict access to PHP. <br><br>  However, this is not the only place where Themosis code is contained.  The entire logical part is contained in the app, and the template is in other folders. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/22d/16d/770/22d16d7706a2c3ef6eae72204734382b.png"><br><br><h5>  MVC </h5><br><br>  Looking at the structure of MVC, I can say that it is well done.  It would be nice if it were not divided into fragments (in several parent folders), but we will not change anything ourselves.  As in Laravel, the folder with the paths is located in the <code>app</code> folder; a special syntax is supported.  Our example also uses controllers.  From <code>home.controller.php</code> : <br><br><pre> <code class="php hljs"><span class="hljs-keyword"><span class="hljs-keyword">return</span></span> View::make(<span class="hljs-string"><span class="hljs-string">'pages.home'</span></span>)-&gt;with(<span class="hljs-keyword"><span class="hljs-keyword">array</span></span>( <span class="hljs-string"><span class="hljs-string">'promo'</span></span> =&gt; Books::getPromoBook(<span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;page), <span class="hljs-string"><span class="hljs-string">'books'</span></span> =&gt; Books::getPopularBooks(<span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;bookId), <span class="hljs-string"><span class="hljs-string">'news'</span></span> =&gt; News::get(), <span class="hljs-string"><span class="hljs-string">'newspage'</span></span> =&gt; get_page_by_path(<span class="hljs-string"><span class="hljs-string">'news'</span></span>) ));</code> </pre><br><br><h5>  Routing with parameters </h5><br><br>  Looking at some code fragments, it is impossible not to be surprised by their simplicity.  Consider, for example, a search page.  This page is so simple that it doesn‚Äôt even need a controller.  She simply refers to the search engine WP ... <br><br><pre> <code class="php hljs"><span class="hljs-comment"><span class="hljs-comment">//   Route::is('search', function(){ return View::make('search', array('search' =&gt; $_GET['s'])); });</span></span></code> </pre><br><br>  I like it not only because of its simplicity, but also because the WP search system ‚Äî which is usually not the best ‚Äî can be easily replaced. <br><br>  More routing information can be found <a href="">here</a> .  Still, as an option, you can see examples. <br><br><h5>  Creating a page with its own controller </h5><br><br>  Let's find out if it's really about creating pages as easy as they say. <br><br>  First, we will write all the routes into the <code>routes.php</code> file: <br><br><pre> <code class="php hljs">Route::only(<span class="hljs-string"><span class="hljs-string">'page'</span></span>, <span class="hljs-string"><span class="hljs-string">'test'</span></span>, <span class="hljs-string"><span class="hljs-string">'test@index'</span></span>);</code> </pre><br><br>  After creating a new file named <code>est.scout.php</code> : <br><br><pre> <code class="php hljs">@<span class="hljs-keyword"><span class="hljs-keyword">include</span></span>(<span class="hljs-string"><span class="hljs-string">'header'</span></span>) Hello World @<span class="hljs-keyword"><span class="hljs-keyword">include</span></span>(<span class="hljs-string"><span class="hljs-string">'footer'</span></span>)</code> </pre><br><br>  And finally, let's create a controller in the <code>controllers</code> folder: <br><br><pre> <code class="php hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Test_Controller</span></span></span></span>{ <span class="hljs-comment"><span class="hljs-comment">/** *    . * * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@return</span></span></span><span class="hljs-comment"> object. */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">index</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> View::make(<span class="hljs-string"><span class="hljs-string">'pages.test'</span></span>); } }</code> </pre><br><br>  In theory, this should output ‚Äúhello world‚Äù for the <code>/test</code> route in any framework, but due to the fact that Themosis works with the WordPress API, we need to perform one more step.  Let's add a page to the system to make the route work. <br><br><img src="//habrastorage.org/files/bae/bfb/bb8/baebfbbb81b14142821d7129e5ed3de0.png"><br><br>  After the reboot, we get our Hello world. <br><br><img src="//habrastorage.org/files/049/ea3/15e/049ea315ebf34c10a2915c84f98f1eee.png"><br><br>  But we wrote ‚ÄúIs anyone there?‚Äù In the content of the page, not ‚ÄúHello World‚Äù!  Why did it happen?  To include our content on the page, we need to access the <code>$post</code> global variable in our controller. <br><br>  If we change our controller to work with content: <br><br><pre> <code class="php hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Test_Controller</span></span></span></span>{ <span class="hljs-comment"><span class="hljs-comment">/** *     . * * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@return</span></span></span><span class="hljs-comment"> object. */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">index</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">global</span></span> $post; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> View::make(<span class="hljs-string"><span class="hljs-string">'pages.test'</span></span>)-&gt;with(<span class="hljs-keyword"><span class="hljs-keyword">array</span></span>( <span class="hljs-string"><span class="hljs-string">'post'</span></span> =&gt; $post )); } }</code> </pre><br><br>  and add something to the view: <br><br><pre> <code class="php hljs">@<span class="hljs-keyword"><span class="hljs-keyword">include</span></span>(<span class="hljs-string"><span class="hljs-string">'header'</span></span>) &lt;h1&gt;Page Content: {{ $post-&gt;post_content;}} &lt;/h1&gt; @<span class="hljs-keyword"><span class="hljs-keyword">include</span></span>(<span class="hljs-string"><span class="hljs-string">'footer'</span></span>)</code> </pre><br><br>  ... then we get what we needed: <br><br><img src="//habrastorage.org/files/9f0/882/16b/9f088216be624282806d0cc47fd1ddb7.png"><br><br>  Difficult?  It is possible that slightly, but I think you can get used to this.  The important thing here is that we made it possible to process all the information of WordPress. <br><br><h4>  Conclusion </h4><br><br>  Thinking about developing with the help of the Themosis plug-in, we can say that it would not be needed if the WP core were more perfect.  Themosis creates the necessary structure and removes unnecessary chaos, with which we had to reconcile. <br><br>  Themosis is still at the very beginning of development, being in version 0.8, but not until the release of 1.0 is so far, and I wish the <a href="http://jlambe.be/en/">developer</a> good luck and success in his project. </div><p>Source: <a href="https://habr.com/ru/post/229653/">https://habr.com/ru/post/229653/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../229643/index.html">Raise our Vertcoin P2Pool * node with merged thru and flops</a></li>
<li><a href="../229645/index.html">LG G Watch: a complete review of iFixit (and 9 out of 10 on the repair scale)</a></li>
<li><a href="../229647/index.html">Baby Monitor from Android smartphone</a></li>
<li><a href="../229649/index.html">Useful materials for mobile developer # 61 (July 7-13)</a></li>
<li><a href="../229651/index.html">We collect a modern system unit cheaper than 150 euros</a></li>
<li><a href="../229655/index.html">Building React reliable web applications: Part 1, browser prototypes</a></li>
<li><a href="../229657/index.html">Banking Trojan Zeus Gameover returns in new modification</a></li>
<li><a href="../229659/index.html">Twitter will start to show the number of views microblogging?</a></li>
<li><a href="../229663/index.html">DARPA successfully tested self-guided bullets</a></li>
<li><a href="../229667/index.html">Python-digest # 32. News, interesting projects, articles and interviews [July 6, 2014 - July 13, 2014]</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>