<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>wysiwyg do it yourself</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="There is a bunch of paid \ free visual editors for every taste and color. But what if they do not work in all browsers, you are not satisfied with the...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>wysiwyg do it yourself</h1><div class="post__text post__text-html js-mediator-article">  There is a bunch of paid \ free visual editors for every taste and color.  But what if they do not work in all browsers, you are not satisfied with the design or functionality, or just the soul lies in writing your own?  The answer to the question how to do it - <a name="habracut"></a>  under the cut. <br><br>  For visual editing, use the iframe element's designMode mode.  Editors are usually embedded on top of the textarea tag.  For example, the editor TinyMCE can replace them all on the page.  To do this: <br><br>  - Find the desired item by its id <br>  - Create a container for the editor, put the textbook there. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <blockquote><pre> // Suppose that we know the id of the necessary textarea tag
 var Textarea = document.getElementById (textarea_id); 
 var Container = document.createElement ("DIV");

 // Add the container to the parent of the Textile, then move it inside the container and hide it
 Textarea.parentNode.insertBefore (Container, Textarea); 
 Container.appendChild (Textarea);
 Textarea.style.display = 'none';
</pre></blockquote><br>  Now we need to add an iframe and enable editing mode in it.  The tag itself, we add the html-code, otherwise it will not work to remove the standard design, such as frameborder.  With the release of opera 9.5 and firefox 3, many editors, in particular the editor in Blogger, on LJ and others, have ceased to function due to the introduction of XSS protection.  To work correctly, it is necessary that the domain of the frame coincides with the domain of the page of our editor. <br><br>  There is one more thing that lies in wait for us - this is a different document object model in IE.  So: <br><br>  - Create a frame <br>  - Add the page source code to it and substitute the value from the textbook <br>  - Turn on edit mode <br><br><blockquote><pre> // Create a frame and add it to the editor container
 var iframe = "&lt;iframe style = 'width: 100%; height: 100%;'  src = \ "javascript: document.open ();  document.domain = '"+
  document.domain + "'; document.close (); \" frameborder =' 0 '&gt; &lt;/ iframe&gt; ";

 Container.innerHTML = iframe + Container.innerHTML;
 var Frame = Container.childNodes [0];

 // The sly definition of IE;)
 var isIE = / * @ cc_on! @ * / false;

 // Select the frame document into a separate variable
 var FrameDoc = isIE?  Frame.contentWindow.document: Frame.contentDocument;

 FrameDoc.open ();

 // If the content of the body tag is empty, in FF the cursor will become somehow too small. 
 // To avoid this, add &amp; nbsp;  (without space)
 FrameDoc.write ('&lt;html&gt; &lt;head&gt; &lt;/ head&gt; &lt;body&gt;' + Textarea.value + '&amp; nbsp; &lt;/ body&gt; &lt;/ html&gt;');
 FrameDoc.close ();
 FrameDoc.designMode = "on";
</pre></blockquote><br><br>  Now our editor is ready to enter and format text.  Standard formatting - <b>B</b> <i>I</i> <u>U</u> <s>S</s> is applied using the document execCommand () function, for example <br><br><blockquote><pre>  FrameDoc.execCommand ("Strikethrough", false, ''); </pre></blockquote><br>  will format the text as strikethrough. <br><br>  To insert images and other objects, we will need to define the selected area, and then insert the html code there <br><br><blockquote><pre> // If IE does not set the focus on the window of the edited frame, 
 // then in the future it can insert the code at the top of your page, and not into the frame;)
 Frame.contentWindow.focus ();
 var SelectionRange = isIE?  FrameDoc.selection.createRange (): Frame.contentWindow.getSelection (). GetRangeAt (0);

 // insert image
 var html = "&lt;img src = 'mypicture.gif' /&gt;";

 if (isIE) {
     // everything is simple
     SelectionRange.pasteHTML (html);
 } else {
     // for the rest we use an auxiliary tag
     SelectionRange.deleteContents ();
     var el = document.createElement ("SPAN");
     FrameDoc.getElementsByTagName ("BODY") [0] .appendChild (el);

     // Firefox will not understand if you immediately replace outerHTML.  In versions below the 3rd such property is absent.
     el.innerHTML = html;
     SelectionRange.insertNode (el);
     el.outerHTML = html;
 }
</pre></blockquote><br><br>  So, above I outlined the basic techniques for creating a wysiwyg editor.  I will be glad to answer all the questions. </div><p>Source: <a href="https://habr.com/ru/post/38077/">https://habr.com/ru/post/38077/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../38068/index.html">yougetsignal.com - a set of useful network tools!</a></li>
<li><a href="../38069/index.html">QIP 2008 concept</a></li>
<li><a href="../38072/index.html">Motor Controller = ATMega8 + L293D + DCDC</a></li>
<li><a href="../38073/index.html">Release Firebug 1.2.0</a></li>
<li><a href="../38075/index.html">AVR programmer</a></li>
<li><a href="../38078/index.html">Run the program when you start Mac OS X - Launchd</a></li>
<li><a href="../38081/index.html">Fast site</a></li>
<li><a href="../38082/index.html">One dialogue when creating a site</a></li>
<li><a href="../38083/index.html">E-mail won, or Ode to the pioneer of the Russian Web</a></li>
<li><a href="../38084/index.html">Raise subversion for enjoyable development</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>