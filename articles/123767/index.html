<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Learn Haskel for good! Applicative Functors</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="More recently, the publisher No Starch Press has prepared and published a print edition of the wonderful textbook Learn You a Haskell for Great Good! ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Learn Haskel for good! Applicative Functors</h1><div class="post__text post__text-html js-mediator-article">  More recently, the publisher <i>No Starch Press has</i> prepared and <a href="http://nostarch.com/lyah.htm">published a</a> print edition of the wonderful textbook <a href="http://learnyouahaskell.com/">Learn You a Haskell for Great Good!</a>  (online version) written by Miran Lipovaƒça. <br><br>  I want to present you the most current translation of Chapter 11 <i>Applicative functors</i> , the original for which was the publication from <i>No Starch Press</i> , adapted for printing. <br><a name="habracut"></a><br><h1>  Applicative Functors </h1><br>  The combination of purity, higher-order functions, parameterized algebraic data types, and type classes in Haskell makes the implementation of polymorphism simpler than in other languages.  We do not need to think about types belonging to a large hierarchy.  Instead, we look at how types can act, and then we connect them using the appropriate type classes.  <code>Int</code> can behave like a multitude of entities ‚Äî a compared entity, an ordered entity, an enumerated entity, and so on. <br><br>  Type classes are open, which means that we can define our own data type, think about how it can act, and associate it with the type classes that define its behavior.  We can also introduce a new type class, and then make existing types of it instances.  For this reason, and thanks to the excellent Haskell type system, which allows us to know a lot about a function only by its type declaration, we can define classes of types that describe very general and abstract behavior. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      We talked about classes of types that define operations to check whether two elements are equal and to compare two elements by placing them in some order.  These are very abstract and elegant behaviors, although we do not think of them as something very special, since we have dealt with them for most of our lives.  In Chapter 7, functors were introduced, which are types whose values ‚Äã‚Äãcan be displayed.  This is an example of a useful and still rather abstract property that type classes can describe.  In this chapter, we will take a closer look at functors, as well as with slightly stronger and more useful versions of functors, which are called applicative functors. <br><br><h2>  Functors are returned. </h2><br><br>  As you learned in Chapter 7, functors are entities that can be displayed, such as lists, <code>Maybe</code> values, and trees.  In Haskell, they are described by the <code>Functor</code> type class, which contains only one type class method: <code>fmap</code> .  <code>fmap</code> is of type <code>fmap :: (a -&gt; b) -&gt; fa -&gt; fb</code> , which says, ‚ÄúGive me a function that accepts a and returns b and a box containing a (or several a) inside, and I will return the box with <code>b</code> (or several <code>b</code> ) inside. ‚ÄùIt applies the function to the item inside the box. <br><br>  We can also perceive the values ‚Äã‚Äãof functors as values ‚Äã‚Äãwith an additional context.  For example, <code>Maybe</code> values ‚Äã‚Äãhave an additional context that the calculations might have failed.  In relation to lists, the context is that the value may be multiple or absent.  <code>fmap</code> applies a function to a value, keeping its context. <br><br>  If we want to make a type constructor an instance of <code>Functor</code> , it must be <code>* -&gt; *</code> , which means that it takes exactly one particular type as a type parameter.  For example, <code>Maybe</code> can be made an instance, since it takes one type parameter to produce a particular type, such as <code>Maybe Int</code> or <code>Maybe String</code> .  If the type constructor takes two parameters, like <code>Either,</code> we must partially apply the type constructor until it takes only one parameter.  Therefore, we cannot write <code>Functor Either where</code> , but we can write <code>Functor (Either a) where</code> .  Then, if we imagined that <code>fmap</code> intended only for working with <code>Either a</code> , it would have the following type description: <br><br><pre> <code class="haskell hljs"><span class="hljs-title"><span class="hljs-title">fmap</span></span> :: (b -&gt; c) -&gt; <span class="hljs-type"><span class="hljs-type">Either</span></span> ab -&gt; <span class="hljs-type"><span class="hljs-type">Either</span></span> ac</code> </pre> <br><br>  As you can see, the <code>Either a</code> part is fixed because <code>Either a</code> takes only one type parameter. <br><br><h3>  I / O actions as functors </h3><br><br>  You have now learned how many types (to be exact, type constructors) are instances of <code>Functor</code> : <code>[]</code> and <code>Maybe</code> , <code>Either a</code> , and also the type <code>Tree</code> that we created in Chapter 7. You saw how you can display them using functions for the sake of good.  Now let's take a look at the <code>IO</code> instance. <br><br>  If, say, an <code>IO String</code> type has any value, it means that it is an I / O action that will go out into the real world and get some string for us, which it then returns as a result.  We can use <code>&lt;-</code> in the do syntax to bind this result to a name.  In Chapter 8, we talked about how I / O actions look like boxes with small legs that go outside and get some value for us from the outside world.  We can see what they brought, but after viewing we need to wrap the value back into <code>IO</code> .  Considering this analogy of boxed legs, you can understand how <code>IO</code> acts as a functor. <br><br>  Let's see how <code>IO</code> is an instance of <code>Functor</code> .  When we use <code>fmap</code> to display an I / O action with a function, we want to get back an I / O action that does the same thing, but our function applies to its resulting value.  Here is the code: <br><pre> <code class="haskell hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">instance</span></span></span><span class="hljs-class"> </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Functor</span></span></span><span class="hljs-class"> </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">IO</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">where</span></span></span></span> fmap f action = <span class="hljs-keyword"><span class="hljs-keyword">do</span></span> result &lt;- action return (f result)</code> </pre> <br>  The result of displaying an I / O action with something will be an I / O action, so we immediately use the <code>do</code> syntax to glue the two actions together and create one new one.  In the implementation for <code>fmap</code> we create a new I / O action that first performs the initial I / O action, giving the result the name <code>result</code> .  Then we execute <code>return (f result)</code> .  Recall that <code>return</code> is a function that creates an I / O action that does nothing, but only returns something as its result. <br><br>  The action that the <code>do</code> block produces will always return the resulting value of its last action.  That's why we use <code>return</code> to create an I / O action that doesn‚Äôt really do anything, but simply returns <code>f result</code> as the result of a new I / O action.  Take a look at this piece of code: <br><br><pre> <code class="haskell hljs"><span class="hljs-title"><span class="hljs-title">main</span></span> = <span class="hljs-keyword"><span class="hljs-keyword">do</span></span> line &lt;- getLine <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> line' = reverse line putStrLn $ <span class="hljs-string"><span class="hljs-string">"You said "</span></span> ++ line' ++ <span class="hljs-string"><span class="hljs-string">" backwards!"</span></span> putStrLn $ <span class="hljs-string"><span class="hljs-string">"Yes, you really said"</span></span> ++ line' ++ <span class="hljs-string"><span class="hljs-string">" backwards!</span></span></code> </pre> <br><br>  The user is prompted for a string, and we give it back to the user, but upside down.  This is how you can rewrite it using <code>fmap</code> : <br><br><pre> <code class="haskell hljs"><span class="hljs-title"><span class="hljs-title">main</span></span> = <span class="hljs-keyword"><span class="hljs-keyword">do</span></span> line &lt;- fmap reverse getLine putStrLn $ <span class="hljs-string"><span class="hljs-string">"You said "</span></span> ++ line ++ <span class="hljs-string"><span class="hljs-string">" backwards!"</span></span> putStrLn $ <span class="hljs-string"><span class="hljs-string">"Yes, you really said"</span></span> ++ line ++ <span class="hljs-string"><span class="hljs-string">" backwards!"</span></span></code> </pre> <br><br><img src="http://s3.amazonaws.com/lyah/alien.png" alt="alien">  Just as we can display <code>Just "blah"</code> using <code>fmap reverse</code> , getting <code>Just "halb"</code> , we can display <code>getLine</code> using <code>fmap reverse</code> .  <code>getLine</code> is an I / O action that has an <code>IO String</code> type and displaying it with <code>reverse</code> gives us an I / O action that will go out into the real world and get a string, and then apply <code>reverse</code> to its result.  In the same way that we can apply a function to what's inside the <code>Maybe</code> box, we can apply the function to what's inside the <code>IO</code> box, but it must go to the real world to get something.  Then, when we bind the result to a name using <code>&lt;-</code> , the name will reflect the result to which <code>reverse</code> has already been applied. <br><br>  The <code>fmap (++"!") getLine</code> I / O operation of <code>fmap (++"!") getLine</code> behaves exactly like <code>getLine</code> , except that the result is always added to the <code>"!"</code>  In the end! <br><br>  If <code>fmap</code> worked only with <code>IO</code> , it would have the type <code>fmap :: (a -&gt; b) -&gt; IO a -&gt; IO b</code> .  <code>fmap</code> takes a function and an I / O operation, and returns a new I / O operation, similar to the old one, except that a function is applied to the result contained in it. <br><br>  If you ever find yourself in a situation where you associate the result of an I / O operation with a name just to apply a function to it, and then give the next result some other name, consider using <code>fmap</code> .  If you want to apply several functions to some data inside a functor, you can declare your function at the top level, create a lambda function, or, ideally, use a composition of functions: <br><br><pre> <code class="haskell hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> Data.Char <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> Data.List main = do line &lt;- fmap (<span class="hljs-title"><span class="hljs-title">intersperse</span></span> '-' . <span class="hljs-title"><span class="hljs-title">reverse</span></span> . <span class="hljs-title"><span class="hljs-title">map</span></span> <span class="hljs-title"><span class="hljs-title">toUpper</span></span>) getLine putStrLn line</code> </pre><br><br>  This is what happens if we run this code and enter hello there: <br><pre> <code class="bash hljs">$ runhaskell fmapping_io hello there EREHT- -OLLEH</code> </pre> <br>  <code>intersperse '-' . reverse . map toUpper</code> function <code>intersperse '-' . reverse . map toUpper</code> <code>intersperse '-' . reverse . map toUpper</code>  <code>intersperse '-' . reverse . map toUpper</code> takes a string, displays it with <code>toUpper</code> , applies <code>reverse</code> to this result, and then applies <code>intersperse '-'</code> to this result.  This is a more beautiful way to write the following code: <br><br> <code>(\xs -&gt; intersperse '-' (reverse (map toUpper xs)))</code> <br> <br><h3>  Functions as functors </h3><br><br>  Another instance of <code>Functor</code> that we have been dealing with all the time is <code>(-&gt;) r</code> .  Stand still  What the hell does <code>(-&gt;) r</code> mean?  The type of the function <code>r -&gt; a</code> can be rewritten as <code>(-&gt;) ra</code> , just as we can write <code>2 + 3</code> as <code>(+) 2 3</code> .  When we perceive it as <code>(-&gt;) ra</code> , we see <code>(-&gt;)</code> slightly different light.  It's just a type constructor that takes two type parameters, as <code>Either</code> does. <br><br>  But remember that the type constructor must take exactly one type parameter so that it can be made an instance of <code>Functor</code> .  That is why we cannot make <code>(-&gt;)</code> instance of <code>Functor</code> ;  however, if you partially apply it before <code>(-&gt;) r</code> , this does not pose any problems.  If the syntax would allow partial use of type constructors using sections (as we can use <code>+</code> by doing <code>(2+)</code> , which is similar to <code>(+) 2</code> ), you could write <code>(-&gt;) r</code> as <code>(r-&gt;)</code> . <br><br>  How are functions functors?  Well, let's take a look at the implementation that is in <code>Control.Monad.Instances</code> . <br><br><pre> <code class="haskell hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">instance</span></span></span><span class="hljs-class"> </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Functor</span></span></span><span class="hljs-class"> ((-&gt;) r) </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">where</span></span></span></span> fmap fg = (\x -&gt; f (gx))</code> </pre> <br><br>  Let's first think about the <code>fmap</code> type: <br><pre> <code class="haskell hljs"><span class="hljs-title"><span class="hljs-title">fmap</span></span> :: (a -&gt; b) -&gt; fa -&gt; fb</code> </pre> <br>  Next, let's mentally replace each <code>f</code> , which is the role that our copy of the functor plays, with <code>(-&gt;) r</code> .  This allows us to understand how <code>fmap</code> should behave in the case of this particular instance.  Here is the result: <br><pre> <code class="haskell hljs"><span class="hljs-title"><span class="hljs-title">fmap</span></span> :: (a -&gt; b) -&gt; ((-&gt;) ra) -&gt; ((-&gt;) rb)</code> </pre> <br>  Now we can write the types <code>(-&gt;) ra</code> and <code>(-&gt;) rb</code> in infix form, i.e. <br>  <code>r -&gt; a</code> and <code>r -&gt; b</code> , as we usually do with functions: <br><pre> <code class="haskell hljs"><span class="hljs-title"><span class="hljs-title">fmap</span></span> :: (a -&gt; b) -&gt; (r -&gt; a) -&gt; (r -&gt; b)</code> </pre> <br>  Good.  Displaying one function with another function should produce a function, just like <code>Maybe</code> displaying with a function should produce <code>Maybe</code> , and displaying a list with a function should produce a list.  What does the previous type tell us?  We see that it takes a function from <code>a</code> to <code>b</code> and a function from <code>r</code> to <code>a</code> and returns a function from <code>r</code> to <code>b</code> .  Does this remind you of anything?  Yes, the composition of functions!  We attach the output <code>r -&gt; a</code> to the input <code>a -&gt; b</code> to get the function <code>r -&gt; b</code> , which is exactly the composition of the functions.  Here is another way to record this instance: <br><pre> <code class="haskell hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">instance</span></span></span><span class="hljs-class"> </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Functor</span></span></span><span class="hljs-class"> ((-&gt;) r) </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">where</span></span></span></span> fmap = (.)</code> </pre> <br>  This code makes it clear that applying <code>fmap</code> to functions is simply a composition of functions.  In the script, import <code>Control.Monad.Instances</code> , since this is the module where this instance is defined, then load the script and try to play with the display of functions: <br><pre> <code class="haskell hljs"><span class="hljs-title"><span class="hljs-title">ghci</span></span>&gt; :t fmap (*<span class="hljs-number"><span class="hljs-number">3</span></span>) (+<span class="hljs-number"><span class="hljs-number">100</span></span>) fmap (*<span class="hljs-number"><span class="hljs-number">3</span></span>) (+<span class="hljs-number"><span class="hljs-number">100</span></span>) :: (<span class="hljs-type"><span class="hljs-type">Num</span></span> a) =&gt; a -&gt; a ghci&gt; fmap (*<span class="hljs-number"><span class="hljs-number">3</span></span>) (+<span class="hljs-number"><span class="hljs-number">100</span></span>) <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">303</span></span> ghci&gt; (*<span class="hljs-number"><span class="hljs-number">3</span></span>) `fmap` (+<span class="hljs-number"><span class="hljs-number">100</span></span>) $ <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">303</span></span> ghci&gt; (*<span class="hljs-number"><span class="hljs-number">3</span></span>) . (+<span class="hljs-number"><span class="hljs-number">100</span></span>) $ <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">303</span></span> ghci&gt; fmap (show . (*<span class="hljs-number"><span class="hljs-number">3</span></span>)) (*<span class="hljs-number"><span class="hljs-number">100</span></span>) <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-string"><span class="hljs-string">"300"</span></span></code> </pre> <br>  We can call <code>fmap</code> as an infix function to make a similarity with <code>.</code>  was obvious.  In the second input line, we display <code>(+100)</code> with <code>(*3)</code> , which gives a function that accepts input, applies it <code>(+100)</code> , and then applies <code>(*3)</code> to this result.  Then we apply this function to <code>1</code> . <br><br>  Like all functors, functions can be perceived as values ‚Äã‚Äãwith contexts.  When we have a function like <code>(+3)</code> , we can consider the value as the final result of the function, and the context is that we have to apply this function to something to get the result.  Applying <code>fmap (*3)</code> to <code>(+100)</code> will create another function that acts the same as <code>(+100)</code> , but before returning the result, <code>(*3)</code> will be applied to this result. <br><br>  The fact that <code>fmap</code> is a composition of functions when applied to functions is not too useful at the moment, but at least it is very interesting.  It also changes our consciousness a little and allows us to see how entities that act more like calculations than boxes ( <code>IO</code> and <code>(-&gt;) r</code> ) can be functors.  The display of the calculation using the function returns the same type of calculation, but the result of this calculation is changed by the function. <br><br><img src="http://s3.amazonaws.com/lyah/lifter.png" alt="lifter"><br>  Before moving on to the laws that <code>fmap</code> should follow, let's think again about the type of <code>fmap</code> : <br><br><pre> <code class="haskell hljs"><span class="hljs-title"><span class="hljs-title">fmap</span></span> :: (a -&gt; b) -&gt; fa -&gt; fb</code> </pre> <br><br>  Introduction to curried functions in Chapter 5 began with the statement that all functions in Haskell actually take one parameter.  The function <code>a -&gt; b -&gt; c</code> actually takes only one parameter of type <code>a</code> , and then returns the function <code>b -&gt; c</code> , which takes one parameter and returns <code>c</code> .  That is why calling a function with an insufficient number of parameters (its partial application) returns us back to a function that takes several parameters that we missed (if we again perceive functions as if they accept several parameters).  Therefore, <code>a -&gt; b -&gt; c</code> can be written as <code>a -&gt; (b -&gt; c)</code> to make currying more obvious. <br><br>  In the same vein, if we write <code>fmap :: (a -&gt; b) -&gt; (fa -&gt; fb)</code> , we can take <code>fmap</code> not as a function that takes one function and a value of a functor and returns the value of a functor, but as a function which takes a function and returns a new function that is the same as the previous one, except that it takes the value of the functor as a parameter and returns the value of the functor as a result.  It takes the function <code>a -&gt; b</code> and returns the function <code>fa -&gt; fb</code> .  This is called "lifting function."  Let's play with this idea using the command <code>:t</code> in GHCi: <br><br><pre> <code class="haskell hljs"><span class="hljs-title"><span class="hljs-title">ghci</span></span>&gt; :t fmap (*<span class="hljs-number"><span class="hljs-number">2</span></span>) fmap (*<span class="hljs-number"><span class="hljs-number">2</span></span>) :: (<span class="hljs-type"><span class="hljs-type">Num</span></span> a, <span class="hljs-type"><span class="hljs-type">Functor</span></span> f) =&gt; fa -&gt; fa ghci&gt; :t fmap (replicate <span class="hljs-number"><span class="hljs-number">3</span></span>) fmap (replicate <span class="hljs-number"><span class="hljs-number">3</span></span>) :: (<span class="hljs-type"><span class="hljs-type">Functor</span></span> f) =&gt; fa -&gt; f [a]</code> </pre> <br><br>  The <code>fmap (*2)</code> expression is a function that takes a functor <code>f</code> over numbers and returns a functor over numbers.  This functor can be a list, the value <code>Maybe</code> , <code>Either String</code> , or something else.  The <code>fmap (replicate 3)</code> expression <code>fmap (replicate 3)</code> will get a functor over any type and return the functor over the list of elements of this type.  This becomes even more obvious if we partially apply, say, <code>fmap (++"!")</code> , And then assign it to a name in GHCi. <br><br>  You can perceive <code>fmap</code> two ways: <br><br><ul><li>  As a function that accepts a function and a value of a functor, and then displays this value of a functor using this function </li><li>  As a function that accepts a function and performs its lifting, so that it operates on the values ‚Äã‚Äãof functors </li></ul><br><br>  Both points of view are correct. <br><br>  The type <code>fmap (replicate 3) :: (Functor f) =&gt; fa -&gt; f [a]</code> means that the function will work with any functor.  What exactly it will do depends on the functor.  If we apply <code>fmap (replicate 3)</code> to the list, the <code>fmap</code> implementation will be chosen for the list, i.e. just <code>map</code> .  If we apply it to <code>Maybe a</code> , it will apply <code>replicate 3</code> to the value inside <code>Just</code> .  If this value is <code>Nothing</code> , then it will remain <code>Nothing</code> .  Here are some examples: <br><br><pre> <code class="haskell hljs"><span class="hljs-title"><span class="hljs-title">ghci</span></span>&gt; fmap (replicate <span class="hljs-number"><span class="hljs-number">3</span></span>) [<span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">2</span></span>,<span class="hljs-number"><span class="hljs-number">3</span></span>,<span class="hljs-number"><span class="hljs-number">4</span></span>] [[<span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">1</span></span>],[<span class="hljs-number"><span class="hljs-number">2</span></span>,<span class="hljs-number"><span class="hljs-number">2</span></span>,<span class="hljs-number"><span class="hljs-number">2</span></span>],[<span class="hljs-number"><span class="hljs-number">3</span></span>,<span class="hljs-number"><span class="hljs-number">3</span></span>,<span class="hljs-number"><span class="hljs-number">3</span></span>],[<span class="hljs-number"><span class="hljs-number">4</span></span>,<span class="hljs-number"><span class="hljs-number">4</span></span>,<span class="hljs-number"><span class="hljs-number">4</span></span>]] ghci&gt; fmap (replicate <span class="hljs-number"><span class="hljs-number">3</span></span>) (<span class="hljs-type"><span class="hljs-type">Just</span></span> <span class="hljs-number"><span class="hljs-number">4</span></span>) <span class="hljs-type"><span class="hljs-type">Just</span></span> [<span class="hljs-number"><span class="hljs-number">4</span></span>,<span class="hljs-number"><span class="hljs-number">4</span></span>,<span class="hljs-number"><span class="hljs-number">4</span></span>] ghci&gt; fmap (replicate <span class="hljs-number"><span class="hljs-number">3</span></span>) (<span class="hljs-type"><span class="hljs-type">Right</span></span> <span class="hljs-string"><span class="hljs-string">"blah"</span></span>) <span class="hljs-type"><span class="hljs-type">Right</span></span> [<span class="hljs-string"><span class="hljs-string">"blah"</span></span>,<span class="hljs-string"><span class="hljs-string">"blah"</span></span>,<span class="hljs-string"><span class="hljs-string">"blah"</span></span>] ghci&gt; fmap (replicate <span class="hljs-number"><span class="hljs-number">3</span></span>) <span class="hljs-type"><span class="hljs-type">Nothing</span></span> <span class="hljs-type"><span class="hljs-type">Nothing</span></span> ghci&gt; fmap (replicate <span class="hljs-number"><span class="hljs-number">3</span></span>) (<span class="hljs-type"><span class="hljs-type">Left</span></span> <span class="hljs-string"><span class="hljs-string">"foo"</span></span>) <span class="hljs-type"><span class="hljs-type">Left</span></span> <span class="hljs-string"><span class="hljs-string">"foo"</span></span></code> </pre> <br><br><h2>  The laws of functors </h2><br><br>  It is assumed that all functors exhibit certain types of properties and behaviors.  They must behave reliably as entities that can be displayed.  Applying <code>fmap</code> to a functor should only display a functor using a function ‚Äî nothing more.  This behavior is described in the laws of functors.  All copies of <code>Functor</code> must follow these two laws.  Haskell does not force these laws to be carried out automatically, so you should check them yourself when creating a functor.  All <code>Functor</code> instances in the standard library obey these laws. <br><br><h3>  Act 1 </h3><br><br>  The first law of functors states that if we apply the function <code>id</code> to the value of a functor, then the value of the functor we get should be the same as the original value of the functor.  In a bit more formal, this means that <code>fmap id = id</code> .  Essentially, it says that if we apply <code>fmap id</code> to the value of a functor, it should be the same as simply applying <code>id</code> to the value.  Recall that <code>id</code> is an identity function that simply returns its parameter unchanged.  It can also be written as <code>\x -&gt; x</code> .  If we take the value of a functor as something that can be displayed, then the law <code>fmap id = id</code> looks rather trivial and obvious. <br><br>  Let's see if this law holds for some values ‚Äã‚Äãof functors. <br><br><pre> <code class="haskell hljs"><span class="hljs-title"><span class="hljs-title">ghci</span></span>&gt; fmap id (<span class="hljs-type"><span class="hljs-type">Just</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span>) <span class="hljs-type"><span class="hljs-type">Just</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span> ghci&gt; id (<span class="hljs-type"><span class="hljs-type">Just</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span>) <span class="hljs-type"><span class="hljs-type">Just</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span> ghci&gt; fmap id [<span class="hljs-number"><span class="hljs-number">1.</span></span><span class="hljs-number"><span class="hljs-number">.5</span></span>] [<span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">2</span></span>,<span class="hljs-number"><span class="hljs-number">3</span></span>,<span class="hljs-number"><span class="hljs-number">4</span></span>,<span class="hljs-number"><span class="hljs-number">5</span></span>] ghci&gt; id [<span class="hljs-number"><span class="hljs-number">1.</span></span><span class="hljs-number"><span class="hljs-number">.5</span></span>] [<span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">2</span></span>,<span class="hljs-number"><span class="hljs-number">3</span></span>,<span class="hljs-number"><span class="hljs-number">4</span></span>,<span class="hljs-number"><span class="hljs-number">5</span></span>] ghci&gt; fmap id [] [] ghci&gt; fmap id <span class="hljs-type"><span class="hljs-type">Nothing</span></span> <span class="hljs-type"><span class="hljs-type">Nothing</span></span></code> </pre> <br><br>  If you look at the implementation of <code>fmap</code> , for example, for <code>Maybe</code> , we can see why the first law of functors is true: <br><br><pre> <code class="haskell hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">instance</span></span></span><span class="hljs-class"> </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Functor</span></span></span><span class="hljs-class"> </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Maybe</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">where</span></span></span></span> fmap f (<span class="hljs-type"><span class="hljs-type">Just</span></span> x) = <span class="hljs-type"><span class="hljs-type">Just</span></span> (fx) fmap f <span class="hljs-type"><span class="hljs-type">Nothing</span></span> = <span class="hljs-type"><span class="hljs-type">Nothing</span></span></code> </pre> <br><br>  We imagine that <code>id</code> plays the role of the parameter <code>f</code> in this implementation.  We see that if we apply <code>fmap id</code> to <code>Just x</code> , the result will be <code>Just (id x)</code> , and since <code>id</code> simply returns its parameter, we can conclude that <code>Just (id x)</code> is equal to <code>Just x</code> .  Therefore, we now know that if we apply <code>id</code> to the <code>Maybe</code> value created using the <code>Just</code> value constructor, we get the same value back. <br><br>  To see that applying <code>id</code> to <code>Nothing</code> returns the same value is trivial.  Therefore, from these two equalities in the implementation of <code>fmap</code> we see that the law <code>fmap id = id</code> is observed. <br><br><h3>  Act 2 </h3><br><br><img src="http://s3.amazonaws.com/lyah/justice.png" alt="justice">  The second law says that the composition of two functions and the subsequent application of the resulting function to the functor should give the same result as the application of the first function to the functor, and then the application of another function.  In the formal notation, this means that <code>fmap (f . g) = fmap f . fmap g</code>  <code>fmap (f . g) = fmap f . fmap g</code> .  Or if we write it differently, then for any value of the functor <code>x</code> following should be <code>fmap (f . g) x = fmap f (fmap gx)</code> : <code>fmap (f . g) x = fmap f (fmap gx)</code> . <br><br>  If we can reveal that a certain type obeys the two laws of functors, we can hope that it possesses the same fundamental behaviors as other functors when it comes to mapping.  We can know that when we apply <code>fmap</code> to it, nothing happens behind the scenes except the display, and that it will act as an entity that can be displayed ‚Äî that is, a functor. <br><br>  We can figure out how the second law is fulfilled with respect to some type by looking at the implementation of <code>fmap</code> for that type, and then using the method we used to check if <code>Maybe</code> obeys the first law.  So, to test how the second law of functors holds for <code>Maybe</code> , if we apply <code>fmap (f . g)</code> to <code>Nothing</code> , we get <code>Nothing</code> , because applying any function to <code>Nothing</code> gives <code>Nothing</code> .  If we do <code>fmap f (fmap g Nothing)</code> , we get <code>Nothing</code> for the same reasons. <br><br>  It's pretty easy to see how the second law is executed for <code>Maybe</code> when the value is <code>Nothing</code> .  ,    <code>Just</code> ? ,    <code>fmap (f . g) (Just x)</code> ,    ,     <code>Just ((f . g) x)</code> ,   <code>Just (f (gx))</code> .    <code>fmap f (fmap g (Just x))</code> ,    ,  <code>fmap g (Just x)</code>  <code>Just (gx)</code> . , <code>fmap f (fmap g (Just x))</code>  <code>fmap f (Just (gx))</code> ,     ,    <code>Just (f (gx))</code> . <br><br>      ,  . ,   ,    .     ,    ,       .                  ,      . <br><br><h3>   </h3><br><br>       ,      Functor,    ,      . ,      : <br><pre> <code class="haskell hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">data</span></span></span><span class="hljs-class"> </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">CMaybe</span></span></span><span class="hljs-class"> a = </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">CNothing</span></span></span><span class="hljs-class"> | </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">CJust</span></span></span><span class="hljs-class"> </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Int</span></span></span><span class="hljs-class"> a </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">deriving</span></span></span><span class="hljs-class"> (</span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Show</span></span></span><span class="hljs-class">)</span></span></code> </pre> <br> <code>C</code>   .   ,      Maybe a,   <code>Just</code>     .      <code>CJust</code>     <code>Int</code> ,      .      <code>a</code> ,     ,        ,     <code>CMaybe a</code> .      : <br><br><pre> <code class="haskell hljs"><span class="hljs-title"><span class="hljs-title">ghci</span></span>&gt; <span class="hljs-type"><span class="hljs-type">CNothing</span></span> <span class="hljs-type"><span class="hljs-type">CNothing</span></span> ghci&gt; <span class="hljs-type"><span class="hljs-type">CJust</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-string"><span class="hljs-string">"haha"</span></span> <span class="hljs-type"><span class="hljs-type">CJust</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-string"><span class="hljs-string">"haha"</span></span> ghci&gt; :t <span class="hljs-type"><span class="hljs-type">CNothing</span></span> <span class="hljs-type"><span class="hljs-type">CNothing</span></span> :: <span class="hljs-type"><span class="hljs-type">CMaybe</span></span> a ghci&gt; :t <span class="hljs-type"><span class="hljs-type">CJust</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-string"><span class="hljs-string">"haha"</span></span> <span class="hljs-type"><span class="hljs-type">CJust</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-string"><span class="hljs-string">"haha"</span></span> :: <span class="hljs-type"><span class="hljs-type">CMaybe</span></span> [<span class="hljs-type"><span class="hljs-type">Char</span></span>] ghci&gt; <span class="hljs-type"><span class="hljs-type">CJust</span></span> <span class="hljs-number"><span class="hljs-number">100</span></span> [<span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">2</span></span>,<span class="hljs-number"><span class="hljs-number">3</span></span>] <span class="hljs-type"><span class="hljs-type">CJust</span></span> <span class="hljs-number"><span class="hljs-number">100</span></span> [<span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">2</span></span>,<span class="hljs-number"><span class="hljs-number">3</span></span>]</code> </pre> <br><br>     <code>CNothing</code> ,    .     <code>CJust</code> ,     ,   ‚Äî    .      <code>Functor</code> ,    ,    <code>fmap</code> ,     ,      <code>1</code> . <br><br><pre> <code class="haskell hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">instance</span></span></span><span class="hljs-class"> </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Functor</span></span></span><span class="hljs-class"> </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">CMaybe</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">where</span></span></span></span> fmap f <span class="hljs-type"><span class="hljs-type">CNothing</span></span> = <span class="hljs-type"><span class="hljs-type">CNothing</span></span> fmap f (<span class="hljs-type"><span class="hljs-type">CJust</span></span> counter x) = <span class="hljs-type"><span class="hljs-type">CJust</span></span> (counter+<span class="hljs-number"><span class="hljs-number">1</span></span>) (fx)</code> </pre> <br><br>        <code>Maybe</code> ,     <code>fmap</code>  ,      ( <code>CJust</code> ),       ,      <code>1</code> .    .       : <br><br><pre> <code class="haskell hljs"><span class="hljs-title"><span class="hljs-title">ghci</span></span>&gt; fmap (++<span class="hljs-string"><span class="hljs-string">"ha"</span></span>) (<span class="hljs-type"><span class="hljs-type">CJust</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-string"><span class="hljs-string">"ho"</span></span>) <span class="hljs-type"><span class="hljs-type">CJust</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-string"><span class="hljs-string">"hoha"</span></span> ghci&gt; fmap (++<span class="hljs-string"><span class="hljs-string">"he"</span></span>) (fmap (++<span class="hljs-string"><span class="hljs-string">"ha"</span></span>) (<span class="hljs-type"><span class="hljs-type">CJust</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-string"><span class="hljs-string">"ho"</span></span>)) <span class="hljs-type"><span class="hljs-type">CJust</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-string"><span class="hljs-string">"hohahe"</span></span> ghci&gt; fmap (++<span class="hljs-string"><span class="hljs-string">"blah"</span></span>) <span class="hljs-type"><span class="hljs-type">CNothing</span></span> <span class="hljs-type"><span class="hljs-type">CNothing</span></span></code> </pre> <br><br>      ?  ,  ,  -   ,     . <br><br><pre> <code class="haskell hljs"><span class="hljs-title"><span class="hljs-title">ghci</span></span>&gt; fmap id (<span class="hljs-type"><span class="hljs-type">CJust</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-string"><span class="hljs-string">"haha"</span></span>) <span class="hljs-type"><span class="hljs-type">CJust</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-string"><span class="hljs-string">"haha"</span></span> ghci&gt; id (<span class="hljs-type"><span class="hljs-type">CJust</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-string"><span class="hljs-string">"haha"</span></span>) <span class="hljs-type"><span class="hljs-type">CJust</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-string"><span class="hljs-string">"haha"</span></span></code> </pre> <br><br>     ,        id,      ,     <code>id</code>     .   ,        <code>CMaybe</code> .        <code>Functor</code> ,       , ,   . <br><br>  <code>CMaybe</code>   ,     ,          .    ,    ,       ,        ,            .    <code>CMaybe</code>   ,    ,    .  !   ,  <code>CMaybe</code>   ,    ,   Int  ,    <code>fmap</code> . <br><br>         .    ,     ,       ,    .     ,  ,   <code>fmap</code>          ‚Äî  .    ,      ,      ,    ,     ,    ,     . <br><br>   ,       <code>Functor</code> ,  ,  ,     .            ,   ,    .  ,      ,            ,        . <br><br><h2>    </h2><br><img src="http://s3.amazonaws.com/lyah/present.png" alt="present"><br>       ,    . <br><br>            ,    .   ,       ,    ?      : <br><br>     <code>Just 3</code>    <code>fmap (*) (Just 3)</code> ,   ?    <code>Maybe</code>  <code>Functor</code>  ,     <code>Just</code> ,       <code>Just</code> .   <code>fmap (*) (Just 3)</code>  <code>Just ((*) 3)</code> ,         <code>Just (3 *)</code> ,    .  Interesting!   ,   <code>Just</code> ! <br><br>       : <br><br><pre> <code class="haskell hljs"><span class="hljs-title"><span class="hljs-title">ghci</span></span>&gt; :t fmap (++) (<span class="hljs-type"><span class="hljs-type">Just</span></span> <span class="hljs-string"><span class="hljs-string">"hey"</span></span>) fmap (++) (<span class="hljs-type"><span class="hljs-type">Just</span></span> <span class="hljs-string"><span class="hljs-string">"hey"</span></span>) :: <span class="hljs-type"><span class="hljs-type">Maybe</span></span> ([<span class="hljs-type"><span class="hljs-type">Char</span></span>] -&gt; [<span class="hljs-type"><span class="hljs-type">Char</span></span>]) ghci&gt; :t fmap compare (<span class="hljs-type"><span class="hljs-type">Just</span></span> 'a') fmap compare (<span class="hljs-type"><span class="hljs-type">Just</span></span> 'a') :: <span class="hljs-type"><span class="hljs-type">Maybe</span></span> (<span class="hljs-type"><span class="hljs-type">Char</span></span> -&gt; <span class="hljs-type"><span class="hljs-type">Ordering</span></span>) ghci&gt; :t fmap compare <span class="hljs-string"><span class="hljs-string">"A LIST OF CHARS"</span></span> fmap compare <span class="hljs-string"><span class="hljs-string">"A LIST OF CHARS"</span></span> :: [<span class="hljs-type"><span class="hljs-type">Char</span></span> -&gt; <span class="hljs-type"><span class="hljs-type">Ordering</span></span>] ghci&gt; :t fmap (\xyz -&gt; x + y / z) [<span class="hljs-number"><span class="hljs-number">3</span></span>,<span class="hljs-number"><span class="hljs-number">4</span></span>,<span class="hljs-number"><span class="hljs-number">5</span></span>,<span class="hljs-number"><span class="hljs-number">6</span></span>] fmap (\xyz -&gt; x + y / z) [<span class="hljs-number"><span class="hljs-number">3</span></span>,<span class="hljs-number"><span class="hljs-number">4</span></span>,<span class="hljs-number"><span class="hljs-number">5</span></span>,<span class="hljs-number"><span class="hljs-number">6</span></span>] :: (<span class="hljs-type"><span class="hljs-type">Fractional</span></span> a) =&gt; [a -&gt; a -&gt; a]</code> </pre> <br><br>        <code>compare</code> ,    <code>(Ord a) =&gt; a -&gt; a -&gt; Ordering</code> ,      <code>Char -&gt; Ordering</code> ,    <code>compare</code>       .      <code>(Ord a) =&gt; a -&gt; Ordering</code> ,     <code>a</code>   <code>Char</code> ,     <code>a</code>     ,    <code>Char</code> . <br><br>  ,       ¬´¬ª ,    ,     .        ? ,       ,       ,     ,     ,    ,      ,   . <br><br><pre> <code class="haskell hljs"><span class="hljs-title"><span class="hljs-title">ghci</span></span>&gt; <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> a = fmap (*) [<span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">2</span></span>,<span class="hljs-number"><span class="hljs-number">3</span></span>,<span class="hljs-number"><span class="hljs-number">4</span></span>] ghci&gt; :ta a :: [<span class="hljs-type"><span class="hljs-type">Integer</span></span> -&gt; <span class="hljs-type"><span class="hljs-type">Integer</span></span>] ghci&gt; fmap (\f -&gt; f <span class="hljs-number"><span class="hljs-number">9</span></span>) a [<span class="hljs-number"><span class="hljs-number">9</span></span>,<span class="hljs-number"><span class="hljs-number">18</span></span>,<span class="hljs-number"><span class="hljs-number">27</span></span>,<span class="hljs-number"><span class="hljs-number">36</span></span>]</code> </pre> <br><br>  ,       <code>Just (3 *)</code>    <code>Just 5</code> ,       <code>Just (3 *)</code>      <code>Just 5</code> ?        ,            .     ,  ,   <code>\f -&gt; f 9</code> ,        .   ,    <code>fmap</code> ,      ,     ,    .       <code>Just</code>       ,       <code>Just 5</code> ,        ,   . <br><br><h3>    </h3><br><br>    Applicative,    <code>Control.Applicative</code> .    : <code>pure</code>  <code>&lt;*&gt;</code> .        -   ,      ,     -   .     : <br><br><pre> <code class="haskell hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> (</span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Functor</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">f</span></span></span><span class="hljs-class">) =&gt; </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Applicative</span></span></span><span class="hljs-class"> f </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">where</span></span></span></span> pure :: a -&gt; fa (&lt;*&gt;) :: f (a -&gt; b) -&gt; fa -&gt; fb</code> </pre> <br><br>           !       <code>Applicative</code> ,      .  ,           <code>Applicative</code> , ,  ,     <code>Functor</code> .     ,       <code>Applicative</code> ,      <code>Functor</code> ,        <code>fmap</code> . <br><br>  ,   ,  <code>pure</code> .      <code>pure :: a -&gt; fa</code> . <code>f</code>       .        ,    ,     ‚Äî        ,       ,    ‚Äî  . <br><br> <code>pure</code>              .  ¬´ ¬ª,       ,    ,      .   <code>a -&gt; fa</code>    .         ,         .      <code>pure</code> ‚Äî  ,             (  ) ‚Äî  ,  -   . <br><br>  <code>&lt;*&gt;</code>  .      : <br><br><pre> <code class="haskell hljs"><span class="hljs-title"><span class="hljs-title">f</span></span> (a -&gt; b) -&gt; fa -&gt; fb</code> </pre> <br><br>     -?    <code>fmap :: (a -&gt; b) -&gt; fa -&gt; fb</code> .     <code>&lt;*&gt;</code>    <code>fmap</code> .   <code>fmap</code>     ,      , <code>&lt;*&gt;</code>   ,     ,   ,       ,       . <br><br><h3>   Maybe </h3><br><br>      <code>Applicative</code>  <code>Maybe</code> : <br><br><pre> <code class="haskell hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">instance</span></span></span><span class="hljs-class"> </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Applicative</span></span></span><span class="hljs-class"> </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Maybe</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">where</span></span></span></span> pure = <span class="hljs-type"><span class="hljs-type">Just</span></span> <span class="hljs-type"><span class="hljs-type">Nothing</span></span> &lt;*&gt; _ = <span class="hljs-type"><span class="hljs-type">Nothing</span></span> (<span class="hljs-type"><span class="hljs-type">Just</span></span> f) &lt;*&gt; something = fmap f something</code> </pre> <br><br>  ,     ,  <code>f</code> ,     ,        ,    instance <code>Applicative Maybe where</code>  <code>instance Applicative (Maybe a) where</code> . <br><br> ,    <code>pure</code> . ,     -      .   <code>pure = Just</code> ,      <code>Just</code>   .      <code>pure x = Just x</code> . <br><br> ,     <code>&lt;*&gt;</code> .       <code>Nothing</code> ,      .   ,        <code>Nothing</code> ,   <code>Nothing</code> . <br><br>    <code>Applicative</code>    <code>Functor</code> ,  ,    ,     <code>&lt;*&gt;</code>   .      <code>Nothing</code> ,  <code>Just</code>    ,   ,          .      ,     <code>Nothing</code> ,    <code>Nothing</code>    ,  <code>fmap</code> ,  <code>Nothing</code> . ,    <code>Maybe</code>  <code>&lt;*&gt;</code>     ,   <code>Just</code> ,       .  -    <code>Nothing</code> ,    <code>Nothing</code> . <br><br>    : <br><br><pre> <code class="haskell hljs"><span class="hljs-title"><span class="hljs-title">ghci</span></span>&gt; <span class="hljs-type"><span class="hljs-type">Just</span></span> (+<span class="hljs-number"><span class="hljs-number">3</span></span>) &lt;*&gt; <span class="hljs-type"><span class="hljs-type">Just</span></span> <span class="hljs-number"><span class="hljs-number">9</span></span> <span class="hljs-type"><span class="hljs-type">Just</span></span> <span class="hljs-number"><span class="hljs-number">12</span></span> ghci&gt; pure (+<span class="hljs-number"><span class="hljs-number">3</span></span>) &lt;*&gt; <span class="hljs-type"><span class="hljs-type">Just</span></span> <span class="hljs-number"><span class="hljs-number">10</span></span> <span class="hljs-type"><span class="hljs-type">Just</span></span> <span class="hljs-number"><span class="hljs-number">13</span></span> ghci&gt; pure (+<span class="hljs-number"><span class="hljs-number">3</span></span>) &lt;*&gt; <span class="hljs-type"><span class="hljs-type">Just</span></span> <span class="hljs-number"><span class="hljs-number">9</span></span> <span class="hljs-type"><span class="hljs-type">Just</span></span> <span class="hljs-number"><span class="hljs-number">12</span></span> ghci&gt; <span class="hljs-type"><span class="hljs-type">Just</span></span> (++<span class="hljs-string"><span class="hljs-string">"hahah"</span></span>) &lt;*&gt; <span class="hljs-type"><span class="hljs-type">Nothing</span></span> <span class="hljs-type"><span class="hljs-type">Nothing</span></span> ghci&gt; <span class="hljs-type"><span class="hljs-type">Nothing</span></span> &lt;*&gt; <span class="hljs-type"><span class="hljs-type">Just</span></span> <span class="hljs-string"><span class="hljs-string">"woot"</span></span> <span class="hljs-type"><span class="hljs-type">Nothing</span></span></code> </pre> <br><br>  ,   <code>pure (+3)</code>  <code>Just (+3)</code>    ‚Äî     .  <code>pure</code> ,       <code>Maybe</code>    (   <code>&lt;*&gt;</code> );      <code>Just</code> . <br><br>     ,   ,     ,    ,          .    ,       <code>Nothing</code> ,    -   ,     <code>Nothing</code> . <br><br>           ,      -  ,       .  ,   ,      ,   . <br><br><h3>   </h3><br><br>     <code>Applicative</code>      <code>&lt;*&gt;</code>  ,          ,     . , ,  : <br><br><pre> <code class="haskell hljs"><span class="hljs-title"><span class="hljs-title">ghci</span></span>&gt; pure (+) &lt;*&gt; <span class="hljs-type"><span class="hljs-type">Just</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span> &lt;*&gt; <span class="hljs-type"><span class="hljs-type">Just</span></span> <span class="hljs-number"><span class="hljs-number">5</span></span> <span class="hljs-type"><span class="hljs-type">Just</span></span> <span class="hljs-number"><span class="hljs-number">8</span></span> ghci&gt; pure (+) &lt;*&gt; <span class="hljs-type"><span class="hljs-type">Just</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span> &lt;*&gt; <span class="hljs-type"><span class="hljs-type">Nothing</span></span> <span class="hljs-type"><span class="hljs-type">Nothing</span></span> ghci&gt; pure (+) &lt;*&gt; <span class="hljs-type"><span class="hljs-type">Nothing</span></span> &lt;*&gt; <span class="hljs-type"><span class="hljs-type">Just</span></span> <span class="hljs-number"><span class="hljs-number">5</span></span> <span class="hljs-type"><span class="hljs-type">Nothing</span></span></code> </pre> <br><br><img src="http://s3.amazonaws.com/lyah/whale.png" alt="whale">    <code>+</code>   ,    <code>&lt;*&gt;</code> ,      ,      . <br><br>  ,   ,   . <code>&lt;*&gt;</code> ,  ,  : <br><pre> <code class="haskell hljs"><span class="hljs-title"><span class="hljs-title">pure</span></span> (+) &lt;*&gt; <span class="hljs-type"><span class="hljs-type">Just</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span> &lt;*&gt; <span class="hljs-type"><span class="hljs-type">Just</span></span> <span class="hljs-number"><span class="hljs-number">5</span></span></code> </pre> <br>   ,    : <br><pre> <code class="haskell hljs">(pure (+) &lt;*&gt; <span class="hljs-type"><span class="hljs-type">Just</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span>) &lt;*&gt; <span class="hljs-type"><span class="hljs-type">Just</span></span> <span class="hljs-number"><span class="hljs-number">5</span></span></code> </pre> <br>   <code>+</code>     ‚Äî     <code>Maybe</code> ,   . ,    <code>pure (+)</code> ,     <code>Just (+)</code> . ,   <code>Just (+) &lt;*&gt; Just 3</code> .    <code>Just (3+)</code> .  -  .   <code>3</code>   <code>+</code>    ,         <code>3</code> . ,  <code>Just (3+) &lt;*&gt; Just 5</code> ,     <code>Just 8</code> . <br><br>    ?!       <code>pure f &lt;*&gt; x &lt;*&gt; y &lt;*&gt; ...</code>   ,   ,    ,          .     ,   ,            <code>&lt;*&gt;</code> . <br><br>       ,       ,  <code>pure f &lt;*&gt; x</code>  <code>fmap fx</code> .      .          ,   ,    . <code>pure</code>      .         ,            ,     ,          .   <code>pure f &lt;*&gt; x &lt;*&gt; y &lt;*&gt; ...</code> ,    <code>fmap fx &lt;*&gt; y &lt;*&gt; ...</code> .   <code>Control.Applicative</code>  ,  <code>&lt;$&gt;</code> ,     <code>fmap</code>    .    : <br><pre> <code class="haskell hljs">(&lt;$&gt;) :: (<span class="hljs-type"><span class="hljs-type">Functor</span></span> f) =&gt; (a -&gt; b) -&gt; fa -&gt; fb f &lt;$&gt; x = fmap fx</code> </pre> <br><br> <b></b> : <i>,            .  <code>f</code>         ,  ,    ,   <code>f</code> ,      <code>Functor</code> . <code>f</code>     ,      <code>x</code> .  ,    <code>f</code>      ,        .</i> <br><br>   <code>&lt;$&gt;</code>       ,         <code>f</code>    ,     <code>f &lt;$&gt; x &lt;*&gt; y &lt;*&gt; z</code> .      ,    <code>fxyz</code> . <br><br>   ,   . ,      <code>Just "johntra"</code>  <code>Just "volta"</code>   ,    <code>Maybe</code> .    : <br><pre> <code class="haskell hljs"><span class="hljs-title"><span class="hljs-title">ghci</span></span>&gt; (++) &lt;$&gt; <span class="hljs-type"><span class="hljs-type">Just</span></span> <span class="hljs-string"><span class="hljs-string">"johntra"</span></span> &lt;*&gt; <span class="hljs-type"><span class="hljs-type">Just</span></span> <span class="hljs-string"><span class="hljs-string">"volta"</span></span> <span class="hljs-type"><span class="hljs-type">Just</span></span> <span class="hljs-string"><span class="hljs-string">"johntravolta"</span></span></code> </pre> <br>  ,      ,     : <br><pre> <code class="haskell hljs"><span class="hljs-title"><span class="hljs-title">ghci</span></span>&gt; (++) <span class="hljs-string"><span class="hljs-string">"johntra"</span></span> <span class="hljs-string"><span class="hljs-string">"volta"</span></span> <span class="hljs-string"><span class="hljs-string">"johntravolta"</span></span></code> </pre> <br>       ,     <code>&lt;$&gt;</code>  <code>&lt;*&gt;</code> ,           .    ? <br><br>    <code>(++) &lt;$&gt; Just "johntra" &lt;*&gt; Just "volta"</code> :  <code>(++)</code> ,    <code>(++) :: [a] -&gt; [a] -&gt; [a]</code>  <code>Just "johntra"</code> .       ,  <code>Just ("johntra"++)</code> ,    <code>Maybe ([Char] -&gt; [Char])</code> . ,     <code>(++)</code>     <code>a</code>    <code>Char</code> .     <code>Just ("johntra"++) &lt;*&gt; Just "volta"</code> ,     <code>Just</code>      <code>Just "volta"</code> ,     <code>Just "johntravolta"</code> .        <code>Nothing</code> ,     <code>Nothing</code> . <br><br><h3>  Lists </h3><br>  (     , <code>[]</code> )   .   !    <code>[]</code>   <code>Applicative</code> : <br><pre> <code class="haskell hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">instance</span></span></span><span class="hljs-class"> </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Applicative</span></span></span><span class="hljs-class"> [] </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">where</span></span></span></span> pure x = [x] fs &lt;*&gt; xs = [fx | f &lt;- fs, x &lt;- xs]</code> </pre> <br> ,  <code>pure</code>         .  ,      ,      .        ,      ,        ,     <code>pure</code> .   <code>pure</code>        .  ,      <code>Maybe</code>   <code>Nothing</code> ,        ,  <code>pure</code>     <code>Maybe</code>   <code>Just</code> . <br><br>  <code>pure</code>  : <br><pre> <code class="haskell hljs"><span class="hljs-title"><span class="hljs-title">ghci</span></span>&gt; pure <span class="hljs-string"><span class="hljs-string">"Hey"</span></span> :: [<span class="hljs-type"><span class="hljs-type">String</span></span>] [<span class="hljs-string"><span class="hljs-string">"Hey"</span></span>] ghci&gt; pure <span class="hljs-string"><span class="hljs-string">"Hey"</span></span> :: <span class="hljs-type"><span class="hljs-type">Maybe</span></span> <span class="hljs-type"><span class="hljs-type">String</span></span> <span class="hljs-type"><span class="hljs-type">Just</span></span> <span class="hljs-string"><span class="hljs-string">"Hey"</span></span></code> </pre> <br>   <code>&lt;*&gt;</code> ?     <code>&lt;*&gt;</code>    ,    <code>(&lt;*&gt;) :: [a -&gt; b] -&gt; [a] -&gt; [b]</code> .      . <code>&lt;*&gt;</code>  -       ,        .         ,   ,   ,        .           .               .               . <br><br>    <code>&lt;*&gt;</code>    : <br><pre> <code class="haskell hljs"><span class="hljs-title"><span class="hljs-title">ghci</span></span>&gt; [(*<span class="hljs-number"><span class="hljs-number">0</span></span>),(+<span class="hljs-number"><span class="hljs-number">100</span></span>),(^<span class="hljs-number"><span class="hljs-number">2</span></span>)] &lt;*&gt; [<span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">2</span></span>,<span class="hljs-number"><span class="hljs-number">3</span></span>] [<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">101</span></span>,<span class="hljs-number"><span class="hljs-number">102</span></span>,<span class="hljs-number"><span class="hljs-number">103</span></span>,<span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">4</span></span>,<span class="hljs-number"><span class="hljs-number">9</span></span>]</code> </pre> <br>     ,      ,       .           .      ,   ,         . <br><br>          : <br><pre> <code class="haskell hljs"><span class="hljs-title"><span class="hljs-title">ghci</span></span>&gt; [(+),(*)] &lt;*&gt; [<span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">2</span></span>] &lt;*&gt; [<span class="hljs-number"><span class="hljs-number">3</span></span>,<span class="hljs-number"><span class="hljs-number">4</span></span>] [<span class="hljs-number"><span class="hljs-number">4</span></span>,<span class="hljs-number"><span class="hljs-number">5</span></span>,<span class="hljs-number"><span class="hljs-number">5</span></span>,<span class="hljs-number"><span class="hljs-number">6</span></span>,<span class="hljs-number"><span class="hljs-number">3</span></span>,<span class="hljs-number"><span class="hljs-number">4</span></span>,<span class="hljs-number"><span class="hljs-number">6</span></span>,<span class="hljs-number"><span class="hljs-number">8</span></span>]</code> </pre> <br> <code>&lt;*&gt;</code> ,    <code>[(+),(*)] &lt;*&gt; [1,2]</code> ,      ,  <code>[(1+),(2+),(1*),(2*)]</code> ,          .   <code>[(1+),(2+),(1*),(2*)] &lt;*&gt; [3,4]</code> ,    . <br><br>       ! <br><pre> <code class="haskell hljs"><span class="hljs-title"><span class="hljs-title">ghci</span></span>&gt; (++) &lt;$&gt; [<span class="hljs-string"><span class="hljs-string">"ha"</span></span>,<span class="hljs-string"><span class="hljs-string">"heh"</span></span>,<span class="hljs-string"><span class="hljs-string">"hmm"</span></span>] &lt;*&gt; [<span class="hljs-string"><span class="hljs-string">"?"</span></span>,<span class="hljs-string"><span class="hljs-string">"!"</span></span>,<span class="hljs-string"><span class="hljs-string">"."</span></span>] [<span class="hljs-string"><span class="hljs-string">"ha?"</span></span>,<span class="hljs-string"><span class="hljs-string">"ha!"</span></span>,<span class="hljs-string"><span class="hljs-string">"ha."</span></span>,<span class="hljs-string"><span class="hljs-string">"heh?"</span></span>,<span class="hljs-string"><span class="hljs-string">"heh!"</span></span>,<span class="hljs-string"><span class="hljs-string">"heh."</span></span>,<span class="hljs-string"><span class="hljs-string">"hmm?"</span></span>,<span class="hljs-string"><span class="hljs-string">"hmm!"</span></span>,<span class="hljs-string"><span class="hljs-string">"hmm."</span></span>]</code> </pre> <br>  ,    ,   ,    ,     . <br><br>       .   <code>100</code>  <code>"what"</code>     ,     ,     <code>[1,2,3]</code>    ,    ,     ,       .     -  <code>(+) &lt;$&gt; [1,2,3] &lt;*&gt; [4,5,6]</code> ,            <code>+</code>   ,      ,       . <br><br>           .   1        <code>[2,5,10]</code>  <code>[8,10,11]</code> ,      : <br><pre> <code class="haskell hljs"><span class="hljs-title"><span class="hljs-title">ghci</span></span>&gt; [ x*y | x &lt;- [<span class="hljs-number"><span class="hljs-number">2</span></span>,<span class="hljs-number"><span class="hljs-number">5</span></span>,<span class="hljs-number"><span class="hljs-number">10</span></span>], y &lt;- [<span class="hljs-number"><span class="hljs-number">8</span></span>,<span class="hljs-number"><span class="hljs-number">10</span></span>,<span class="hljs-number"><span class="hljs-number">11</span></span>]] [<span class="hljs-number"><span class="hljs-number">16</span></span>,<span class="hljs-number"><span class="hljs-number">20</span></span>,<span class="hljs-number"><span class="hljs-number">22</span></span>,<span class="hljs-number"><span class="hljs-number">40</span></span>,<span class="hljs-number"><span class="hljs-number">50</span></span>,<span class="hljs-number"><span class="hljs-number">55</span></span>,<span class="hljs-number"><span class="hljs-number">80</span></span>,<span class="hljs-number"><span class="hljs-number">100</span></span>,<span class="hljs-number"><span class="hljs-number">110</span></span>]</code> </pre> <br>              .       : <br><br><pre> <code class="haskell hljs"><span class="hljs-title"><span class="hljs-title">ghci</span></span>&gt; (*) &lt;$&gt; [<span class="hljs-number"><span class="hljs-number">2</span></span>,<span class="hljs-number"><span class="hljs-number">5</span></span>,<span class="hljs-number"><span class="hljs-number">10</span></span>] &lt;*&gt; [<span class="hljs-number"><span class="hljs-number">8</span></span>,<span class="hljs-number"><span class="hljs-number">10</span></span>,<span class="hljs-number"><span class="hljs-number">11</span></span>] [<span class="hljs-number"><span class="hljs-number">16</span></span>,<span class="hljs-number"><span class="hljs-number">20</span></span>,<span class="hljs-number"><span class="hljs-number">22</span></span>,<span class="hljs-number"><span class="hljs-number">40</span></span>,<span class="hljs-number"><span class="hljs-number">50</span></span>,<span class="hljs-number"><span class="hljs-number">55</span></span>,<span class="hljs-number"><span class="hljs-number">80</span></span>,<span class="hljs-number"><span class="hljs-number">100</span></span>,<span class="hljs-number"><span class="hljs-number">110</span></span>]</code> </pre> <br><br>      ,   ,     <code>*</code>    .            ,  <code>50</code> ,    : <br><br><pre> <code class="haskell hljs"><span class="hljs-title"><span class="hljs-title">ghci</span></span>&gt; filter (&gt;<span class="hljs-number"><span class="hljs-number">50</span></span>) $ (*) &lt;$&gt; [<span class="hljs-number"><span class="hljs-number">2</span></span>,<span class="hljs-number"><span class="hljs-number">5</span></span>,<span class="hljs-number"><span class="hljs-number">10</span></span>] &lt;*&gt; [<span class="hljs-number"><span class="hljs-number">8</span></span>,<span class="hljs-number"><span class="hljs-number">10</span></span>,<span class="hljs-number"><span class="hljs-number">11</span></span>] [<span class="hljs-number"><span class="hljs-number">55</span></span>,<span class="hljs-number"><span class="hljs-number">80</span></span>,<span class="hljs-number"><span class="hljs-number">100</span></span>,<span class="hljs-number"><span class="hljs-number">110</span></span>]</code> </pre> <br><br>  ,   <code>pure f &lt;*&gt; xs</code>     <code>fmap f xs</code> . <code>pure f</code> ‚Äî   <code>[f]</code> ,  <code>[f] &lt;*&gt; xs</code>           ,       ,     . <br><br><h3> IO     </h3><br><br>   <code>Applicative</code> ,     ,  <code>IO</code> .     : <br><pre> <code class="haskell hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">instance</span></span></span><span class="hljs-class"> </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Applicative</span></span></span><span class="hljs-class"> </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">IO</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">where</span></span></span></span> pure = return a &lt;*&gt; b = <span class="hljs-keyword"><span class="hljs-keyword">do</span></span> f &lt;- a x &lt;- b return (fx)</code> </pre> <br><img src="http://s3.amazonaws.com/lyah/knight.png" alt="knight"><br>   <code>pure</code>       ,       , ,  <code>pure</code> ‚Äî   <code>return</code> . <code>return</code>   -,    .    -     ,     -        . <br><br>   <code>&lt;*&gt;</code>    <code>IO</code> ,     <code>(&lt;*&gt;) :: IO (a -&gt; b) -&gt; IO a -&gt; IO b</code> .    <code>IO</code>    - <code>a</code> ,   ,   -      <code>f</code> .     - <code>b</code>      <code>x</code> . ,    <code>f</code>  <code>x</code>        .        <code>do</code> . (,    <code>do</code>   ,     -       .) <br><br>   <code>Maybe</code>  <code>[]</code>       <code>&lt;*&gt;</code>        ,       .   <code>IO</code>    ,         ,      -     .        -,   ,      -,    .   : <br><br><pre> <code class="haskell hljs"><span class="hljs-title"><span class="hljs-title">myAction</span></span> :: <span class="hljs-type"><span class="hljs-type">IO</span></span> <span class="hljs-type"><span class="hljs-type">String</span></span> myAction = <span class="hljs-keyword"><span class="hljs-keyword">do</span></span> a &lt;- getLine b &lt;- getLine return $ a ++ b</code> </pre> <br><br>   -,                .         - <code>getLine</code>  <code>return</code> ,         -    <code>a ++ b</code> .          : <br><br><pre> <code class="haskell hljs"><span class="hljs-title"><span class="hljs-title">myAction</span></span> :: <span class="hljs-type"><span class="hljs-type">IO</span></span> <span class="hljs-type"><span class="hljs-type">String</span></span> myAction = (++) &lt;$&gt; getLine &lt;*&gt; getLine</code> </pre> <br><br>   ,    ,     -,         -. ,  <code>getLine</code> ‚Äî   -,    <code>getLine :: IO String</code> .    <code>&lt;*&gt;</code>    ,    ,      . <br><br>       ,     <code>getLine</code>  ,         .  <code>(++) &lt;$&gt; getLine &lt;*&gt; getLine</code>  , ' ,           ,           . <br><br>  <code>(++) &lt;$&gt; getLine &lt;*&gt; getLine</code>   <code>IO String</code> .  ,        -,    ,    ,     -.       : <br><br><pre> <code class="haskell hljs"><span class="hljs-title"><span class="hljs-title">main</span></span> = <span class="hljs-keyword"><span class="hljs-keyword">do</span></span> a &lt;- (++) &lt;$&gt; getLine &lt;*&gt; getLine putStrLn $ <span class="hljs-string"><span class="hljs-string">"The two lines concatenated turn out to be: "</span></span> ++ a</code> </pre> <br><br><h3>      </h3><br><br>    <code>Applicative</code>  <code>(-&gt;) r</code>  .        ,       ,   ,    . <br><br><pre> <code class="haskell hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">instance</span></span></span><span class="hljs-class"> </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Applicative</span></span></span><span class="hljs-class"> ((-&gt;) r) </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">where</span></span></span></span> pure x = (\_ -&gt; x) f &lt;*&gt; g = \x -&gt; fx (gx)</code> </pre> <br><br>          <code>pure</code> , ,   ,    .     -      .       <code>pure</code>     ,          .  <code>pure</code>   <code>(-&gt;) r</code>   <code>pure :: a -&gt; (r -&gt; a)</code> . <br><br><pre> <code class="haskell hljs"><span class="hljs-title"><span class="hljs-title">ghci</span></span>&gt; (pure <span class="hljs-number"><span class="hljs-number">3</span></span>) <span class="hljs-string"><span class="hljs-string">"blah"</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span></code> </pre> <br><br> -    ,      : <br><br><pre> <code class="haskell hljs"><span class="hljs-title"><span class="hljs-title">ghci</span></span>&gt; pure <span class="hljs-number"><span class="hljs-number">3</span></span> <span class="hljs-string"><span class="hljs-string">"blah"</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span></code> </pre> <br><br>   <code>&lt;*&gt;</code>  ,   ,          : <br><br><pre> <code class="haskell hljs"><span class="hljs-title"><span class="hljs-title">ghci</span></span>&gt; :t (+) &lt;$&gt; (+<span class="hljs-number"><span class="hljs-number">3</span></span>) &lt;*&gt; (*<span class="hljs-number"><span class="hljs-number">100</span></span>) (+) &lt;$&gt; (+<span class="hljs-number"><span class="hljs-number">3</span></span>) &lt;*&gt; (*<span class="hljs-number"><span class="hljs-number">100</span></span>) :: (<span class="hljs-type"><span class="hljs-type">Num</span></span> a) =&gt; a -&gt; a ghci&gt; (+) &lt;$&gt; (+<span class="hljs-number"><span class="hljs-number">3</span></span>) &lt;*&gt; (*<span class="hljs-number"><span class="hljs-number">100</span></span>) $ <span class="hljs-number"><span class="hljs-number">5</span></span> <span class="hljs-number"><span class="hljs-number">508</span></span></code> </pre> <br><br>   <code>&lt;*&gt;</code>       ,        ,   .  What is going on here?    <code>(+) &lt;$&gt; (+3) &lt;*&gt; (*100)</code> ,   ,   <code>+</code>     <code>(+3)</code>  <code>(*100)</code>    .   <code>(+) &lt;$&gt; (+3) &lt;*&gt; (*100) $ 5</code> , <code>(+3)</code>  <code>(*100)</code>    <code>5</code> ,     <code>8</code>  <code>500</code> .  <code>+</code>    <code>8</code>  <code>500</code> ,     <code>508</code> . <br><br>   : <br><br><pre> <code class="haskell hljs"><span class="hljs-title"><span class="hljs-title">ghci</span></span>&gt; (\xyz -&gt; [x,y,z]) &lt;$&gt; (+<span class="hljs-number"><span class="hljs-number">3</span></span>) &lt;*&gt; (*<span class="hljs-number"><span class="hljs-number">2</span></span>) &lt;*&gt; (/<span class="hljs-number"><span class="hljs-number">2</span></span>) $ <span class="hljs-number"><span class="hljs-number">5</span></span> [<span class="hljs-number"><span class="hljs-number">8.0</span></span>,<span class="hljs-number"><span class="hljs-number">10.0</span></span>,<span class="hljs-number"><span class="hljs-number">2.5</span></span>]</code> </pre> <br><br><img src="http://s3.amazonaws.com/lyah/jazzb.png" alt="jazzb">   ,    <code>\xyz -&gt; [x, y, z]</code>    ,   <code>(+3)</code> , <code>(*2)</code>  <code>(/2)</code> . <code>5</code>     ,       <code>\xyz -&gt; [x, y, z]</code> . <br><br> <b></b> : <i>   ,   ,    <code>(-&gt;) r</code>  <code>Applicative</code> ,    ,      .      ,      ,       .</i> <br><br><h3>   </h3><br><br> ,         .     :  <code>&lt;*&gt;</code>      ,                . <br><br> ,    <code>[(+3),(*2)] &lt;*&gt; [1,2]</code> ,  <code>(+3)</code>     <code>1</code>   <code>2</code> ,   <code>(*2)</code>      <code>1</code>   <code>2</code> ,       : <code>[4,5,2,4]</code> . , <code>[(+3),(*2)] &lt;*&gt; [1,2]</code>      ,               ,        ,  . .       : <code>[4,4]</code> .       <code>[1 + 3, 2 * 2]</code> . <br><br>  <code>Applicative</code> ,      ,  <code>ZipList</code> ,     <code>Control.Applicative</code> . <br><br>               ,    <code>ZipList a</code> ,      <code>(ZipList)</code>    ().  : <br><br><pre> <code class="haskell hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">instance</span></span></span><span class="hljs-class"> </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">Applicative</span></span></span><span class="hljs-class"> </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">ZipList</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">where</span></span></span></span> pure x = <span class="hljs-type"><span class="hljs-type">ZipList</span></span> (repeat x) <span class="hljs-type"><span class="hljs-type">ZipList</span></span> fs &lt;*&gt; <span class="hljs-type"><span class="hljs-type">ZipList</span></span> xs = <span class="hljs-type"><span class="hljs-type">ZipList</span></span> (zipWith (\fx -&gt; fx) fs xs)</code> </pre> <br><br> <code>&lt;*&gt;</code>      ,   ‚Äî   ,  . .     <code>zipWith (\fx -&gt; fx) fs xs</code> .    <code>zipWith</code>      ,       . <br><br> <code>pure</code>   .        ,       . <code>pure "haha"</code>  <code>ZipList (["haha","haha","haha"...</code> .      ,   ,  <code>pure</code>      ,  -   .     ,    -    .        ,        .      ,  <code>pure f &lt;*&gt; xs</code>    <code>fmap f xs</code> .    <code>pure 3</code>   <code>ZipList [3]</code> ,  <code>pure (*2) &lt;*&gt; ZipList [1,5,10]</code>     <code>ZipList [2]</code> ,                .       ,         . <br><br>         ?  Let's get a look. ,  <code>ZipList a</code>    <code>Show</code> ,      <code>getZipList</code>       : <br><br><pre> <code class="haskell hljs"><span class="hljs-title"><span class="hljs-title">ghci</span></span>&gt; getZipList $ (+) &lt;$&gt; <span class="hljs-type"><span class="hljs-type">ZipList</span></span> [<span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">2</span></span>,<span class="hljs-number"><span class="hljs-number">3</span></span>] &lt;*&gt; <span class="hljs-type"><span class="hljs-type">ZipList</span></span> [<span class="hljs-number"><span class="hljs-number">100</span></span>,<span class="hljs-number"><span class="hljs-number">100</span></span>,<span class="hljs-number"><span class="hljs-number">100</span></span>] [<span class="hljs-number"><span class="hljs-number">101</span></span>,<span class="hljs-number"><span class="hljs-number">102</span></span>,<span class="hljs-number"><span class="hljs-number">103</span></span>] ghci&gt; getZipList $ (+) &lt;$&gt; <span class="hljs-type"><span class="hljs-type">ZipList</span></span> [<span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">2</span></span>,<span class="hljs-number"><span class="hljs-number">3</span></span>] &lt;*&gt; <span class="hljs-type"><span class="hljs-type">ZipList</span></span> [<span class="hljs-number"><span class="hljs-number">100</span></span>,<span class="hljs-number"><span class="hljs-number">100.</span></span>.] [<span class="hljs-number"><span class="hljs-number">101</span></span>,<span class="hljs-number"><span class="hljs-number">102</span></span>,<span class="hljs-number"><span class="hljs-number">103</span></span>] ghci&gt; getZipList $ max &lt;$&gt; <span class="hljs-type"><span class="hljs-type">ZipList</span></span> [<span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">2</span></span>,<span class="hljs-number"><span class="hljs-number">3</span></span>,<span class="hljs-number"><span class="hljs-number">4</span></span>,<span class="hljs-number"><span class="hljs-number">5</span></span>,<span class="hljs-number"><span class="hljs-number">3</span></span>] &lt;*&gt; <span class="hljs-type"><span class="hljs-type">ZipList</span></span> [<span class="hljs-number"><span class="hljs-number">5</span></span>,<span class="hljs-number"><span class="hljs-number">3</span></span>,<span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">2</span></span>] [<span class="hljs-number"><span class="hljs-number">5</span></span>,<span class="hljs-number"><span class="hljs-number">3</span></span>,<span class="hljs-number"><span class="hljs-number">3</span></span>,<span class="hljs-number"><span class="hljs-number">4</span></span>] ghci&gt; getZipList $ (,,) &lt;$&gt; <span class="hljs-type"><span class="hljs-type">ZipList</span></span> <span class="hljs-string"><span class="hljs-string">"dog"</span></span> &lt;*&gt; <span class="hljs-type"><span class="hljs-type">ZipList</span></span> <span class="hljs-string"><span class="hljs-string">"cat"</span></span> &lt;*&gt; <span class="hljs-type"><span class="hljs-type">ZipList</span></span> <span class="hljs-string"><span class="hljs-string">"rat"</span></span> [('d','c','r'),('o','a','a'),('g','t','t')]</code> </pre> <br><br> <b></b> : <i> <code>(,,)</code> ‚Äî    ,  <code>\xyz -&gt; (x,y,z)</code> . ,  <code>(,)</code> ‚Äî   ,  <code>\xy -&gt; (x,y)</code> .</i> <br><br>  <code>zipWith</code>      ,  <code>zipWith3</code> , <code>zipWith4</code> ,   <code>7</code> . <code>zipWith</code>  ,    ,       . <code>zipWith3</code>  ,    ,       ,  . .                  ,       .                ,    . <br><br><h3>   </h3><br><br>    ,       .      ,   <code>pure f &lt;*&gt; x = fmap fx</code> .                .     : <br><br><ul><li> <code>pure id &lt;*&gt; v = v</code> </li> <li> <code>pure (.) &lt;*&gt; u &lt;*&gt; v &lt;*&gt; w = u &lt;*&gt; (v &lt;*&gt; w)</code> </li> <li> <code>pure f &lt;*&gt; pure x = pure (fx)</code> </li> <li> <code>u &lt;*&gt; pure y = pure ($ y) &lt;*&gt; u</code> </li> </ul><br><br>      ,            .   ,        ,      . <br><br><h2>        </h2><br><br> <code>Control.Applicative</code>  ,   <code>liftA2</code>    : <br><br><pre> <code class="haskell hljs"><span class="hljs-title"><span class="hljs-title">liftA2</span></span> :: (<span class="hljs-type"><span class="hljs-type">Applicative</span></span> f) =&gt; (a -&gt; b -&gt; c) -&gt; fa -&gt; fb -&gt; fc</code> </pre> <br><br>    : <br><br><pre> <code class="haskell hljs"><span class="hljs-title"><span class="hljs-title">liftA2</span></span> :: (<span class="hljs-type"><span class="hljs-type">Applicative</span></span> f) =&gt; (a -&gt; b -&gt; c) -&gt; fa -&gt; fb -&gt; fc liftA2 fab = f &lt;$&gt; a &lt;*&gt; b</code> </pre> <br><br>        ,     ,   .    ,          . <br><br>              .            .         <code>(a -&gt; b -&gt; c) -&gt; (fa -&gt; fb -&gt; fc)</code> .      ,   ,  <code>liftA2</code>         ,      . <br><br>   :             ,           . ,    <code>Just 3</code>  <code>Just 4</code> . ,      ,      : <br><br><pre> <code class="haskell hljs"><span class="hljs-title"><span class="hljs-title">ghci</span></span>&gt; fmap (\x -&gt; [x]) (<span class="hljs-type"><span class="hljs-type">Just</span></span> <span class="hljs-number"><span class="hljs-number">4</span></span>) <span class="hljs-type"><span class="hljs-type">Just</span></span> [<span class="hljs-number"><span class="hljs-number">4</span></span>]</code> </pre> <br><br> , ,    <code>Just 3</code>  <code>Just [4]</code> .    <code>Just [3,4]</code> ?  : <br><br><pre> <code class="haskell hljs"><span class="hljs-title"><span class="hljs-title">ghci</span></span>&gt; liftA2 (:) (<span class="hljs-type"><span class="hljs-type">Just</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span>) (<span class="hljs-type"><span class="hljs-type">Just</span></span> [<span class="hljs-number"><span class="hljs-number">4</span></span>]) <span class="hljs-type"><span class="hljs-type">Just</span></span> [<span class="hljs-number"><span class="hljs-number">3</span></span>,<span class="hljs-number"><span class="hljs-number">4</span></span>] ghci&gt; (:) &lt;$&gt; <span class="hljs-type"><span class="hljs-type">Just</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span> &lt;*&gt; <span class="hljs-type"><span class="hljs-type">Just</span></span> [<span class="hljs-number"><span class="hljs-number">4</span></span>] <span class="hljs-type"><span class="hljs-type">Just</span></span> [<span class="hljs-number"><span class="hljs-number">3</span></span>,<span class="hljs-number"><span class="hljs-number">4</span></span>]</code> </pre> <br><br> ,  <code>:</code> ‚Äî  ,              . ,     <code>Just [3,4]</code> ,        <code>Just 2</code> ,   <code>Just [2,3,4]</code> ? ,  . ,           ,         . <br><br>    ,         ,        .    <code>sequenceA</code> : <br><br><pre> <code class="haskell hljs"><span class="hljs-title"><span class="hljs-title">sequenceA</span></span> :: (<span class="hljs-type"><span class="hljs-type">Applicative</span></span> f) =&gt; [fa] -&gt; f [a] sequenceA [] = pure [] sequenceA (x:xs) = (:) &lt;$&gt; x &lt;*&gt; sequenceA xs</code> </pre> <br><br> , !     .          .          .            ,         .     .          (, <code>x</code> ‚Äî   ,  <code>xs</code> ‚Äî  ,   ),   <code>sequenceA</code>  ,        .     ,     <code>x</code> , ,     ,  ! <br><br> ,   : <br><br><pre> <code class="haskell hljs"><span class="hljs-title"><span class="hljs-title">sequenceA</span></span> [<span class="hljs-type"><span class="hljs-type">Just</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-type"><span class="hljs-type">Just</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span>]</code> </pre> <br><br>     : <br><br><pre> <code class="haskell hljs">(:) &lt;$&gt; <span class="hljs-type"><span class="hljs-type">Just</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> &lt;*&gt; sequenceA [<span class="hljs-type"><span class="hljs-type">Just</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span>]</code> </pre> <br><br>   ,  : <br><br><pre> <code class="haskell hljs">(:) &lt;$&gt; <span class="hljs-type"><span class="hljs-type">Just</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> &lt;*&gt; ((:) &lt;$&gt; <span class="hljs-type"><span class="hljs-type">Just</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span> &lt;*&gt; sequenceA [])</code> </pre> <br><br>  ,   <code>sequenceA []</code>    <code>Just []</code> ,       : <br><br><pre> <code class="haskell hljs">(:) &lt;$&gt; <span class="hljs-type"><span class="hljs-type">Just</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> &lt;*&gt; ((:) &lt;$&gt; <span class="hljs-type"><span class="hljs-type">Just</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span> &lt;*&gt; <span class="hljs-type"><span class="hljs-type">Just</span></span> [])</code> </pre> <br><br>   : <br><br><pre> <code class="haskell hljs">(:) &lt;$&gt; <span class="hljs-type"><span class="hljs-type">Just</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> &lt;*&gt; <span class="hljs-type"><span class="hljs-type">Just</span></span> [<span class="hljs-number"><span class="hljs-number">2</span></span>]</code> </pre> <br><br>   <code>Just [1,2]</code> ! <br><br>    <code>sequenceA</code> ‚Äî   . ,    ,            ,      : <br><br><pre> <code class="haskell hljs"><span class="hljs-title"><span class="hljs-title">sequenceA</span></span> :: (<span class="hljs-type"><span class="hljs-type">Applicative</span></span> f) =&gt; [fa] -&gt; f [a] sequenceA = foldr (liftA2 (:)) (pure [])</code> </pre> <br><br>     ,    ,  <code>pure []</code> .   <code>liftA2 (:)</code>      ,      ,     .    <code>liftA2 (:)</code>          ,  . .,   ,       ,       . <br><br>       -  : <br><br><pre> <code class="haskell hljs"><span class="hljs-title"><span class="hljs-title">ghci</span></span>&gt; sequenceA [<span class="hljs-type"><span class="hljs-type">Just</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span>, <span class="hljs-type"><span class="hljs-type">Just</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-type"><span class="hljs-type">Just</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span>] <span class="hljs-type"><span class="hljs-type">Just</span></span> [<span class="hljs-number"><span class="hljs-number">3</span></span>,<span class="hljs-number"><span class="hljs-number">2</span></span>,<span class="hljs-number"><span class="hljs-number">1</span></span>] ghci&gt; sequenceA [<span class="hljs-type"><span class="hljs-type">Just</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span>, <span class="hljs-type"><span class="hljs-type">Nothing</span></span>, <span class="hljs-type"><span class="hljs-type">Just</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span>] <span class="hljs-type"><span class="hljs-type">Nothing</span></span> ghci&gt; sequenceA [(+<span class="hljs-number"><span class="hljs-number">3</span></span>),(+<span class="hljs-number"><span class="hljs-number">2</span></span>),(+<span class="hljs-number"><span class="hljs-number">1</span></span>)] <span class="hljs-number"><span class="hljs-number">3</span></span> [<span class="hljs-number"><span class="hljs-number">6</span></span>,<span class="hljs-number"><span class="hljs-number">5</span></span>,<span class="hljs-number"><span class="hljs-number">4</span></span>] ghci&gt; sequenceA [[<span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">2</span></span>,<span class="hljs-number"><span class="hljs-number">3</span></span>],[<span class="hljs-number"><span class="hljs-number">4</span></span>,<span class="hljs-number"><span class="hljs-number">5</span></span>,<span class="hljs-number"><span class="hljs-number">6</span></span>]] [[<span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">4</span></span>],[<span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">5</span></span>],[<span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">6</span></span>],[<span class="hljs-number"><span class="hljs-number">2</span></span>,<span class="hljs-number"><span class="hljs-number">4</span></span>],[<span class="hljs-number"><span class="hljs-number">2</span></span>,<span class="hljs-number"><span class="hljs-number">5</span></span>],[<span class="hljs-number"><span class="hljs-number">2</span></span>,<span class="hljs-number"><span class="hljs-number">6</span></span>],[<span class="hljs-number"><span class="hljs-number">3</span></span>,<span class="hljs-number"><span class="hljs-number">4</span></span>],[<span class="hljs-number"><span class="hljs-number">3</span></span>,<span class="hljs-number"><span class="hljs-number">5</span></span>],[<span class="hljs-number"><span class="hljs-number">3</span></span>,<span class="hljs-number"><span class="hljs-number">6</span></span>]] ghci&gt; sequenceA [[<span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">2</span></span>,<span class="hljs-number"><span class="hljs-number">3</span></span>],[<span class="hljs-number"><span class="hljs-number">4</span></span>,<span class="hljs-number"><span class="hljs-number">5</span></span>,<span class="hljs-number"><span class="hljs-number">6</span></span>],[<span class="hljs-number"><span class="hljs-number">3</span></span>,<span class="hljs-number"><span class="hljs-number">4</span></span>,<span class="hljs-number"><span class="hljs-number">4</span></span>],[]] []</code> </pre> <br><br>     <code>Maybe</code> , <code>sequenceA</code>   <code>Maybe</code> ,        .      <code>Nothing</code> ,     <code>Nothing</code> .  ,       <code>Maybe</code> ,              <code>Nothing</code> . <br><br>    , <code>sequenceA</code>      ,   .      ,              ,     . <code>sequenceA [(+3),(+2),(+1)] 3</code>  <code>(+3)</code>   <code>3</code> , <code>(+2)</code> ‚Äî   <code>3</code> ,  <code>(+1)</code> ‚Äî   <code>3</code> ,        . <br><br>  <code>(+) &lt;$&gt; (+3) &lt;*&gt; (*2)</code>  ,   ,    <code>(+3)</code>  <code>(*2)</code> ,    <code>+</code>    .    ,    ,  <code>sequenceA [(+3),(*2)]</code>  ,          .   <code>+</code>      <code>:</code>  <code>pure []</code>      ,     . <br><br>  <code>sequenceA</code> ,                 ,     . ,       ,       .      : <br><br><pre> <code class="haskell hljs"><span class="hljs-title"><span class="hljs-title">ghci</span></span>&gt; map (\f -&gt; f <span class="hljs-number"><span class="hljs-number">7</span></span>) [(&gt;<span class="hljs-number"><span class="hljs-number">4</span></span>),(&lt;<span class="hljs-number"><span class="hljs-number">10</span></span>),odd] [<span class="hljs-type"><span class="hljs-type">True</span></span>,<span class="hljs-type"><span class="hljs-type">True</span></span>,<span class="hljs-type"><span class="hljs-type">True</span></span>] ghci&gt; and $ map (\f -&gt; f <span class="hljs-number"><span class="hljs-number">7</span></span>) [(&gt;<span class="hljs-number"><span class="hljs-number">4</span></span>),(&lt;<span class="hljs-number"><span class="hljs-number">10</span></span>),odd] <span class="hljs-type"><span class="hljs-type">True</span></span></code> </pre> <br><br> ,  and     <code>Bool</code>   <code>True</code> ,     <code>True</code> .        ‚Äî   <code>sequenceA</code> : <br><br><pre> <code class="haskell hljs"><span class="hljs-title"><span class="hljs-title">ghci</span></span>&gt; sequenceA [(&gt;<span class="hljs-number"><span class="hljs-number">4</span></span>),(&lt;<span class="hljs-number"><span class="hljs-number">10</span></span>),odd] <span class="hljs-number"><span class="hljs-number">7</span></span> [<span class="hljs-type"><span class="hljs-type">True</span></span>,<span class="hljs-type"><span class="hljs-type">True</span></span>,<span class="hljs-type"><span class="hljs-type">True</span></span>] ghci&gt; and $ sequenceA [(&gt;<span class="hljs-number"><span class="hljs-number">4</span></span>),(&lt;<span class="hljs-number"><span class="hljs-number">10</span></span>),odd] <span class="hljs-number"><span class="hljs-number">7</span></span> <span class="hljs-type"><span class="hljs-type">True</span></span></code> </pre> <br><br> sequenceA [(&gt;4),(&lt;10),odd]  ,          <code>[(&gt;4),(&lt;10),odd]</code> ,     .      <code>(Num a) =&gt; [a -&gt; Bool]</code>     <code>(Num a) =&gt; a -&gt; [Bool]</code> .  , ? <br><br>   ,           ,  .       <code>[ord, (+3)]</code> ,   <code>ord</code>     ,   <code>(+3)</code>     . <br><br>    <code>[]</code> , <code>sequenceA</code>       .      ,        .  ,   ,    <code>sequenceA</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">and then executed using a list generator:</font></font><br><br><pre> <code class="haskell hljs"><span class="hljs-title"><span class="hljs-title">ghci</span></span>&gt; sequenceA [[<span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">2</span></span>,<span class="hljs-number"><span class="hljs-number">3</span></span>],[<span class="hljs-number"><span class="hljs-number">4</span></span>,<span class="hljs-number"><span class="hljs-number">5</span></span>,<span class="hljs-number"><span class="hljs-number">6</span></span>]] [[<span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">4</span></span>],[<span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">5</span></span>],[<span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">6</span></span>],[<span class="hljs-number"><span class="hljs-number">2</span></span>,<span class="hljs-number"><span class="hljs-number">4</span></span>],[<span class="hljs-number"><span class="hljs-number">2</span></span>,<span class="hljs-number"><span class="hljs-number">5</span></span>],[<span class="hljs-number"><span class="hljs-number">2</span></span>,<span class="hljs-number"><span class="hljs-number">6</span></span>],[<span class="hljs-number"><span class="hljs-number">3</span></span>,<span class="hljs-number"><span class="hljs-number">4</span></span>],[<span class="hljs-number"><span class="hljs-number">3</span></span>,<span class="hljs-number"><span class="hljs-number">5</span></span>],[<span class="hljs-number"><span class="hljs-number">3</span></span>,<span class="hljs-number"><span class="hljs-number">6</span></span>]] ghci&gt; [[x,y] | x &lt;- [<span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">2</span></span>,<span class="hljs-number"><span class="hljs-number">3</span></span>], y &lt;- [<span class="hljs-number"><span class="hljs-number">4</span></span>,<span class="hljs-number"><span class="hljs-number">5</span></span>,<span class="hljs-number"><span class="hljs-number">6</span></span>]] [[<span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">4</span></span>],[<span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">5</span></span>],[<span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">6</span></span>],[<span class="hljs-number"><span class="hljs-number">2</span></span>,<span class="hljs-number"><span class="hljs-number">4</span></span>],[<span class="hljs-number"><span class="hljs-number">2</span></span>,<span class="hljs-number"><span class="hljs-number">5</span></span>],[<span class="hljs-number"><span class="hljs-number">2</span></span>,<span class="hljs-number"><span class="hljs-number">6</span></span>],[<span class="hljs-number"><span class="hljs-number">3</span></span>,<span class="hljs-number"><span class="hljs-number">4</span></span>],[<span class="hljs-number"><span class="hljs-number">3</span></span>,<span class="hljs-number"><span class="hljs-number">5</span></span>],[<span class="hljs-number"><span class="hljs-number">3</span></span>,<span class="hljs-number"><span class="hljs-number">6</span></span>]] ghci&gt; sequenceA [[<span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">2</span></span>],[<span class="hljs-number"><span class="hljs-number">3</span></span>,<span class="hljs-number"><span class="hljs-number">4</span></span>]] [[<span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">3</span></span>],[<span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">4</span></span>],[<span class="hljs-number"><span class="hljs-number">2</span></span>,<span class="hljs-number"><span class="hljs-number">3</span></span>],[<span class="hljs-number"><span class="hljs-number">2</span></span>,<span class="hljs-number"><span class="hljs-number">4</span></span>]] ghci&gt; [[x,y] | x &lt;- [<span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">2</span></span>], y &lt;- [<span class="hljs-number"><span class="hljs-number">3</span></span>,<span class="hljs-number"><span class="hljs-number">4</span></span>]] [[<span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">3</span></span>],[<span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">4</span></span>],[<span class="hljs-number"><span class="hljs-number">2</span></span>,<span class="hljs-number"><span class="hljs-number">3</span></span>],[<span class="hljs-number"><span class="hljs-number">2</span></span>,<span class="hljs-number"><span class="hljs-number">4</span></span>]] ghci&gt; sequenceA [[<span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">2</span></span>],[<span class="hljs-number"><span class="hljs-number">3</span></span>,<span class="hljs-number"><span class="hljs-number">4</span></span>],[<span class="hljs-number"><span class="hljs-number">5</span></span>,<span class="hljs-number"><span class="hljs-number">6</span></span>]] [[<span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">3</span></span>,<span class="hljs-number"><span class="hljs-number">5</span></span>],[<span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">3</span></span>,<span class="hljs-number"><span class="hljs-number">6</span></span>],[<span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">4</span></span>,<span class="hljs-number"><span class="hljs-number">5</span></span>],[<span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">4</span></span>,<span class="hljs-number"><span class="hljs-number">6</span></span>],[<span class="hljs-number"><span class="hljs-number">2</span></span>,<span class="hljs-number"><span class="hljs-number">3</span></span>,<span class="hljs-number"><span class="hljs-number">5</span></span>],[<span class="hljs-number"><span class="hljs-number">2</span></span>,<span class="hljs-number"><span class="hljs-number">3</span></span>,<span class="hljs-number"><span class="hljs-number">6</span></span>],[<span class="hljs-number"><span class="hljs-number">2</span></span>,<span class="hljs-number"><span class="hljs-number">4</span></span>,<span class="hljs-number"><span class="hljs-number">5</span></span>],[<span class="hljs-number"><span class="hljs-number">2</span></span>,<span class="hljs-number"><span class="hljs-number">4</span></span>,<span class="hljs-number"><span class="hljs-number">6</span></span>]] ghci&gt; [[x,y,z] | x &lt;- [<span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">2</span></span>], y &lt;- [<span class="hljs-number"><span class="hljs-number">3</span></span>,<span class="hljs-number"><span class="hljs-number">4</span></span>], z &lt;- [<span class="hljs-number"><span class="hljs-number">5</span></span>,<span class="hljs-number"><span class="hljs-number">6</span></span>]] [[<span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">3</span></span>,<span class="hljs-number"><span class="hljs-number">5</span></span>],[<span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">3</span></span>,<span class="hljs-number"><span class="hljs-number">6</span></span>],[<span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">4</span></span>,<span class="hljs-number"><span class="hljs-number">5</span></span>],[<span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">4</span></span>,<span class="hljs-number"><span class="hljs-number">6</span></span>],[<span class="hljs-number"><span class="hljs-number">2</span></span>,<span class="hljs-number"><span class="hljs-number">3</span></span>,<span class="hljs-number"><span class="hljs-number">5</span></span>],[<span class="hljs-number"><span class="hljs-number">2</span></span>,<span class="hljs-number"><span class="hljs-number">3</span></span>,<span class="hljs-number"><span class="hljs-number">6</span></span>],[<span class="hljs-number"><span class="hljs-number">2</span></span>,<span class="hljs-number"><span class="hljs-number">4</span></span>,<span class="hljs-number"><span class="hljs-number">5</span></span>],[<span class="hljs-number"><span class="hljs-number">2</span></span>,<span class="hljs-number"><span class="hljs-number">4</span></span>,<span class="hljs-number"><span class="hljs-number">6</span></span>]]</code> </pre> <br><br> <code>(+) &lt;$&gt; [1,2] &lt;*&gt; [4,5,6]</code>      <code>x + y</code> ,  <code>x</code>     <code>[1,2]</code> ,  <code>y</code>     <code>[4,5,6]</code> .      ,     .  ,    <code>sequenceA [[1,2],[3,4],[5,6]]</code> ,     <code>[x,y,z]</code> ,  <code>x</code>     <code>[1,2]</code> ,  <code>y</code>     <code>[3,4]</code>  . .         ,         .      . <br><br>     -, <code>sequenceA</code> ‚Äî    ,   <code>sequence</code> !     -    -,                  -.  ,      <code>[IO a]</code>   <code>IO [a]</code> ,    -,     ,    -       ,       ,    .       -,   . <br><br>     - <code>getLine</code>  : <br><br><pre> <code class="haskell hljs"><span class="hljs-title"><span class="hljs-title">ghci</span></span>&gt; sequenceA [getLine, getLine, getLine] heyh ho woo [<span class="hljs-string"><span class="hljs-string">"heyh"</span></span>,<span class="hljs-string"><span class="hljs-string">"ho"</span></span>,<span class="hljs-string"><span class="hljs-string">"woo"</span></span>]</code> </pre> <br><br>  ,     ,    .       ‚Äî , ,  -,  , ,    ,  . ., ‚Äî   .   <code>&lt;$&gt;</code>  <code>&lt;*&gt;</code> ,     ,               . <br><hr><br>    ,     (  ): <br><ol><li>  <a href="http://translated.by/you/learn-you-a-haskell-for-great-good-chapter-introduction/into-ru/">Introduction</a> </li><li>  <a href="http://translated.by/you/learn-you-a-haskell-for-great-good-chapter-starting-out-1/into-ru/">Start</a> </li><li> <a href="http://translated.by/you/learn-you-a-haskell-for-great-good-chapter-types-and-typeclasses/into-ru/">   </a> </li><li> <a href="http://translated.by/you/learn-you-a-haskell-for-great-good-chapter-syntax-in-functions/into-ru/"> </a> </li><li> <a href="http://translated.by/you/learn-you-a-haskell-for-great-good/into-ru/"></a> </li><li> <a href="http://translated.by/you/learn-you-a-haskell-for-great-good-higher-order-functions/into-ru/">  </a> </li><li>  <a href="http://translated.by/you/learn-you-a-haskell-for-great-good-modules/into-ru/">Modules</a> </li><li> <a href="http://translated.by/you/learn-you-a-haskell-for-great-good-making-our-own-types-and-typeclasses/into-ru/">      </a> </li><li> <a href="http://translated.by/you/learn-you-a-haskell-for-great-good-input-and-output/into-ru/">-</a> </li><li> <a href="http://translated.by/you/izuchaj-haskell-radi-dobra-funktsional-noe-reshenie-problem/into-ru/">  </a> </li></ol><br><br>      ‚Äî  <i><a href="http://habrahabr.ru/blogs/Haskell/128586/"></a></i> .        .  Thank! </div><p>Source: <a href="https://habr.com/ru/post/123767/">https://habr.com/ru/post/123767/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../123752/index.html">Analysis of the next version of the hidden radmin</a></li>
<li><a href="../123754/index.html">8.9 "SONY subnotebook with integrated video capture card (~ 2001 onwards)</a></li>
<li><a href="../123755/index.html">In the search line of the Rambler, you can not only write - but also speak</a></li>
<li><a href="../123757/index.html">DIV-based mailing lists: this is possible!</a></li>
<li><a href="../123760/index.html">Implementing AES on Wolfram Mathematica</a></li>
<li><a href="../123768/index.html">On the specifics of children's perception and peculiarities of mental development by the console and igraham</a></li>
<li><a href="../123771/index.html">The long-awaited release of Centos 6.0</a></li>
<li><a href="../123776/index.html">The ‚ÄúGoogle +1‚Äù button is more popular than the Twitter button.</a></li>
<li><a href="../123777/index.html">Virtual fitting room based on Kinect</a></li>
<li><a href="../123778/index.html">Migrating with Ruby</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>