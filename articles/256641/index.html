<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>To help the fisherman - bite warning device</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Regularly visiting the nearest reservoirs with a fishing rod and bait, I thought about how to apply the education of an electronics engineer to automa...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>To help the fisherman - bite warning device</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/files/f12/801/f45/f12801f4585948d2a324543f1f4df04d.jpg"><br><br>  Regularly visiting the nearest reservoirs with a fishing rod and bait, I thought about how to apply the education of an electronics engineer to automate fishing.  Fishing rods, echo sounders, boats, bait and much more interesting can be improved and offered to the community of fishermen.  It was decided to start with something simple and, undoubtedly, useful in every workplace of quiet hunting.  So, in this article you will read about how the bite alarm was developed. <br><a name="habracut"></a><br><br><h4>  Fishing at the bottom and bite alarms </h4>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      I'll tell you in order.  The principle of fishing at the bottom is that the bait, complete with bait, is placed in a special feeder and thrown into the water with a fishing rod, where it lies at the bottom.  Floats are not used, instead of them an indicator is put on the fishing line - sliver, bell, light bulb, etc.  When the fish bite, it jerks the line and the indicator moves.  The fisherman raises the bait and winds the line, at best, along with the fish.  Sometimes the indicator is worn on the rod, which fluctuates when biting.  The evolution of indicators began with wooden pegs, fixed on the fishing line, then they were replaced by bells.  A little later there were luminescent chemical or LED light fixtures.  Now the market is full of Chinese devices that, when poked, produce sound and light signals simultaneously.  One of the advantages of electronic signaling devices is that they continue to squeak and blink for a while after the end of the bite, giving the fisherman more chances to notice it if he has turned away or just gape.  As a rule, indicators are placed on the rod or permanently on special pegs.  The principle of operation of such devices is based on capturing vibrations of fishing rods or fishing line movements.  An important point: there are practically no (I have never seen) electronic devices that are directly attached to the fishing line in the way that pegs or bells were attached to. <br><br>  Simultaneously with the evolution of indicators, the evolution of their anchorages took place.  It ended with the appearance of a universal suspension, worn on a fishing line, into which you can insert Chinese bells or LEDs.  My own experience and communication with fellow fishermen suggested that everything was not yet invented and improved. <br><br>  So, let's designate the living space of the proposed design: a light and sound indicator will be developed, which is worn directly on the fishing line or inserted into a Chinese suspension.  If such things already exist, then I will not be upset, as it is just interesting to work in this direction. <br><br><h4>  The principle of operation and the choice of element base </h4><br><br>  Several designs came to my mind that can be used as a basis for a signaling device: <br><ul><li>  piezo signaling device.  The piezo element oscillates, deforms and produces tension.  This principle is used in many alarms, for example, automobile; </li><li>  movable magnet combined with a Hall sensor.  The element oscillates, the sensor picks it up, the alarm goes off; </li><li>  the same, only with a LED and a photo sensor; </li><li>  sensor with reed switch and movable magnet. </li></ul><br><br>  I decided to stay at the first option.  Piezo element is good because it produces stress during deformation, and if voltage is applied to it, then it, on the contrary, is deformed and at the same time produces a sound. <br><br>  That is, it turns out the sensor and squeaker in one bottle, the obvious savings in space and weight.  It remains to choose a specific model of tweeters.  For this, I went to the nearest radio shop and bought all the available models. <br><br><img src="https://habrastorage.org/files/415/9a1/e72/4159a1e728104dcbb038e6cff5df1e1e.jpg"><br><br>  Among all the variety, it was necessary to find the loudest and most sensitive squeaker that would work from battery power.  It is important to note that, in order for the squeaker to make sounds, it must be energized, oscillating at a frequency of about a few kilohertz.  To get this voltage, I planned to use a special device ‚Äúsignal generator of a special form‚Äù, but it just broke, I also had an idea to take voltage from a sound card, but in the end I decided to solder the generator on a breadboard, and immediately debug both the squeaker and the circuit as a whole .  After a brief search on the Internet, several variants of multivibrator and single vibrator circuits on logical integrated circuits were found, they were slightly modified, and as a result, a circuit containing a single vibrator and a multivibrator was obtained.  One-shot starts for a few seconds after receiving a signal from the piezo sensor (tweeter).  As long as it is on, it energizes the multivibrator, which generates oscillations at a frequency of 1-5 kHz and thereby causes the squeaker to make sounds.  After some time, the one-shot turns off, the circuit calms down and goes into standby mode.  Such a bite warning circuit can be assembled from fairly simple and cheap components.  But, being embodied in a real device, it is difficult to change and this is its main drawback.  However, the circuit board was soldered; it is shown in the following figure.  In addition to the elements of logic, it still has a battery compartment and an operational amplifier (AD822), which is needed to increase the signal from the piezo sensor, if it turns out to be too small. <br><br><img src="https://habrastorage.org/files/609/595/889/609595889f5c423fb024a6c518b51871.jpg"><br><br>  After testing various piezo sensors, the element MFT-31T-2.8 was chosen.  It turned out to be the most sensitive - with oscillations with a period of 1-2 Hertz and an amplitude of 5-15 cm, a voltage of about one volt is produced.  The sound he produced was also pleased.  In any case, the sound in the room seemed rather loud.  Other elements produced a lower voltage, of the order of several hundred millivolts.  And in terms of sound, they were slightly superior or slightly inferior. <br><br>  Having decided on the piezo element, I proceeded to select other nodes of the device.  The decision to use the logical elements OR-NOT / AND-NOT as a control part was appealing with its simplicity and cheapness.  Honestly, I didn‚Äôt know how else one could put together a cheap scheme and had already even begun to prepare this one for production.  But then the PIC10F220T microcontroller caught the eye.  Owners of smartphones, computers and tablets will be interested to know that there are devices with such characteristics: <br><br><img src="https://habrastorage.org/files/d30/61a/a39/d3061aa390ad460992d5ef36ccda12d8.jpg"><br><br>  This microcircuit is ideally suited for the bite alarm: small size, low power consumption, necessary peripherals on board, including an ADC and a timer.  All this at a price of $ 0.5.  Changing the software, you can experiment and bring to mind the functional part, which means that the device gets the flexibility of the design, which is so necessary for new developments.  Without hesitation, I replaced the logic chips with this microcontroller.  It remains the case for small - to determine the power source.  A battery with a charge circuit and a connector on the board would complicate the design too much.  Just in case, I flipped through several catalogs of radio components.  Pleasantly pleased with the common batteries 2032 - voltage 3V at a capacity of 210 mAh.  It is easy to calculate that a microcontroller that consumes 100 nA in sleep mode from such a battery can sleep through the autumn, winter and spring, in general, the entire break between fishing seasons.  In operation, she also promised to serve more than one fishing.  The voltage level allowed the microcontroller and other components to work.  Given the cost of these batteries, it was decided to use them.  In addition, suitable KLS5-CR2032-03 mounts were selected, from which the battery, after full discharge, is easily removed and replaced with a new one.  In general, the cost of components is 5-7 $.  Having adopted this element base, I developed a schematic diagram and turned to a familiar designer of printed circuit boards.  After a brief discussion and oral presentation of the TK, a printed circuit board was designed and then manufactured, which is ultimately used in the first prototypes. <br><br><img src="https://habrastorage.org/files/991/68f/91b/99168f91bdb44aed96f37b4e6160522d.jpg"><br><br><h4>  Design and manufacture of housing </h4><br><br>  What kind of electronic device without a case and what a prototype without a case printed on a 3d printer?  For several days the same familiar designer developed the necessary drawings.  The body consists of a base and cover.  The base contains a pin for insertion into the Chinese gimbal (my know-how) and an ear for attaching to a fishing line. <br><br>  At that time I did not know that the printer could not print a transparent case.  Faced with the harsh realities of the 3d first printers, I had to make the walls of the case thinner so that the light from the LED could penetrate the ivory-colored plastic (the only one that was available in the printed salon).  Having gained experience in the field of 3d printing, a Chinese reprap prusa i3 printer with a kilogram of translucent plastic was acquired for future samples of this and other devices.  I hope this will increase the freedom of choice in the part of the buildings, but at that moment I had to use the services of a third-party manufacturer. <br><br>  The placement of the LED inside the case is dictated by the requirements of the water resistance of the device.  Light transmission is provided by translucency, but what about the controls - the power button and the selection of sensitivity modes?  The answer was found in Google.  It turns out that in the computer keyboard under the keys there is a special silicone pad.  The first keyboard was disassembled, the gasket removed, from this gasket were cut and glued to the body kruglyashi for sealing the button.  The board is attached with screws, as well, only with the addition of rubber gaskets, the cover and the body of the detector are connected. <br><br><img src="https://habrastorage.org/files/355/134/40c/35513440c6ad4386a68bf29b527fe828.jpg"><br><br><h4>  Software </h4><br><br>  After sending the PCB into production, the software development stage began.  The operation algorithm is quite simple: they pressed the button and the alarm wakes up, the subsequent presses change the sensitivity mode, there are four of them.  In case the signal from the ADC exceeds a certain threshold value, which means biting, the microcontroller generates a sound signal using a piezo emitter.  If the button is pressed for more than 5 seconds, the device goes into sleep mode.  The program came out small and simple, the only difficulty was to fit all the code into the available 256 bytes of flash memory. <br><br><h4>  Signaling characteristics </h4><br><br>  In the end, the board was soldered, the program was written, and the whole device was packed in a case.  It's time to bring the characteristics of the detector: <br><ul><li>  dimensions are 43 x 35 x 18 mm; </li><li>  weight 15g; </li><li>  fastening on a scaffold or in a suspension; </li><li>  4 sensitivity modes; </li><li>  CR2032 battery; </li><li>  the time to discharge the battery during operation is approximately 400 hours; </li><li>  the time to discharge the battery in sleep mode&gt; 1 year; </li><li>  moisture protection from rain or spray. </li></ul><br><br><h4>  Tests </h4><br><br>  And then came the long-awaited moment of field trials.  The end of September, a small pond, non-flying weather.  Three donks were abandoned and three indicators were put on alert.  Unfortunately, in a few hours there was not a single bite, so I had to imitate them by twitching the fishing line.  At the same time, it was possible to assess the response of the detector to poklevka and side rolling in strong wind conditions, audibility of sound and visibility of light signals.  The sensor showed good sensitivity with small poklevkah, while the operation occurred equally well with different directions of movement of the fishing line.  However, a strong side wind rocked the device and also led to its triggering.  To eliminate the effect of side roll, it was necessary to reduce the sensitivity, lowering it to the fourth level.  Of course, at the same time, the reaction to light bites worsened, but with strong wind they are not noticeable in principle.  The audibility of the signal was worse than expected.  Thus, during strong wind gusts, the sound is almost not audible even from a distance of two meters, although at home or on a fine day outside, it was perceived as loud and sharp.  It should be noted that we were in the hoods. <br><br>  The visibility of the LED is significantly deteriorated by the opaque housing.  At the beginning of fishing, even in the twilight, the display was noticeable, then with the rising of the sun I had to get accustomed to distinguish it.  The device has two LEDs - front and rear, this was done so that the alarm was visible at any angle.  After the tests, I wonder how to position both LEDs on the fisherman‚Äôs side. <br><br>  It also turned out that it is necessary to change the button operation algorithm.  In real conditions - with a strong wind and frozen hands, switching occurs with some emotional effort.  Perhaps you should increase the time constant of the contact bounce filter or add a separate on / off button. <br><br><img src="https://habrastorage.org/files/5d5/34a/edc/5d534aedcf25405d9fac5e6f4ddd051e.jpg"><br><br><h4>  Results </h4><br><br>  Tests have shown that the bite alarm basically performs its functions, with some nodes requiring changes.  First of all, I plan to make transparent or translucent cases, change their shape and think more carefully about the junction of the base and the cover for better moisture protection.  A more costly operation is to increase the volume, since this requires changing the circuit and the printed circuit board of the device.  And finally, the most difficult is the elimination of sensitivity to lateral rolling. <br><br>  In general, the work on the indicator took two months of episodic work or a total of one and a half weeks, not counting the substantive communication with the fishermen, which brings only pleasure and, of course, does not go into the total bill of time. <br><br><h4>  PS </h4><br>  You can <a href="https://bitbucket.org/abrakada/fishing_indikator">download the</a> drawings and source codes of the detector program. </div><p>Source: <a href="https://habr.com/ru/post/256641/">https://habr.com/ru/post/256641/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../256629/index.html">Exposable pattern. Independent injections by expansion</a></li>
<li><a href="../256631/index.html">The digest of interesting materials for the mobile developer # 100 (April 20-26)</a></li>
<li><a href="../256635/index.html">How to create a template for Joomla</a></li>
<li><a href="../256637/index.html">We close the project CppCat</a></li>
<li><a href="../256639/index.html">A modern approach to HTTP with PHPixie and PSR-7</a></li>
<li><a href="../256643/index.html">Material Design. Dynamic Toolbar on a live example</a></li>
<li><a href="../256647/index.html">Container in linux, linux in egg, egg in python</a></li>
<li><a href="../256649/index.html">PHP Digest number 61 - interesting news, materials and tools (April 13 - 26, 2015)</a></li>
<li><a href="../256651/index.html">93 video lectures on Scala</a></li>
<li><a href="../256653/index.html">Microsoft SQL Server Data Tools</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>