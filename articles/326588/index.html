<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>How to make your IDEA IDE level</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Some time ago I published a post in which I raised the topic of the low quality level of my favorite tool - PyCharm, and asked: what to do? This probl...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>How to make your IDEA IDE level</h1><div class="post__text post__text-html js-mediator-article"> Some time ago I published a <a href="https://habrahabr.ru/post/319774/">post</a> in which I raised the topic of the low quality level of my favorite tool - PyCharm, and asked: what to do?  This problem seems to me to be completely discouraging: the 21st century is in the yard, and the only professional IDE available to me develops according to the principle ‚Äúbetter is more, but worse.‚Äù  There are about a dozen bugs, the correction of which I personally have been waiting for years, not to mention the problems that I was too lazy to report.  The number of bugs grows every year at a constant rate, and as an excuse, I hear a story about the dependence of the number of bugs on the number of users.  There are no alternatives, but to cut your IDE is almost unreal.  So what to do? <br><br>  Among the stream of emotional comments, I was particularly interested in one - unnoticed by anyone, in which the user <a href="https://habrahabr.ru/users/vistall/" class="user_link">VISTALL</a> modestly <a href="https://habrahabr.ru/post/319774/">told</a> how he solved this problem for himself.  He made his IDEA fork for .NET and C # - <b><a href="https://github.com/consulo">Consulo IDE</a></b> .  For me personally, such a statement was a complete surprise.  Sorry if someone does not share my surprise, but for me it is completely incomprehensible just like the ever-present eternal bugs in PyCharm.  After all, IDE is developing large development teams, and he decided to make his fork, even a <u>fork</u> , but <u>his own</u> , which needs to be maintained and developed by himself ... <b>How ???</b>  I decided to ask this question personally to the author of the fork, <a href="https://habrahabr.ru/users/VISTALL/">Valery Semenchuk</a> , and at the same time many other questions.  Word for word, it turned out a small interview, I hope, interesting not only to me ... <a name="habracut"></a><br><br>  <b>- Valery, have you been acquainted with IDEA for a long time?</b> 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      - Honestly, I already forgot when I met IDEA (like IDEA 7, but not a fact).  I started writing plugins with IDEA 8. After the appearance of IDEA Community Edition, a new thread in history began.  Slowly, I began to study the platform, which later resulted in pull requests and dialogs on the tracker (and not only there).  But there were unpleasant stories.  For example, the plugin for Play 1: after some regular editing by the platform, the plugin became unstable (toolwindow did not close, but turned into a light green rectangle).  There was no fix, the plugin itself was closed (its code).  And instead of waiting for the fix, I simply wrote a plugin from scratch, because it was boiling.  And from that time I will write my plugin (or fix) faster than I will wait for corrections. <br><br>  <b>- How many plugins have you written at the moment?</b>  <b>Can you list the most interesting?</b> <br><br>  - Play, Lombok, and several nameless plug-ins were written to IDEA.  I also tried to restore the C ++ plugin to IDEA, but I was disappointed that the analysis was written in C ++ (and was not discovered by the authors).  Later, almost all of my plugins grew into plugins to my IDEA fork.  I also wrote more than 10 new plugins.  The most interesting are, of course, support for .NET and C #. <br><br>  <b>- How did it happen that you decided to fork IDEA?</b> <br><br>  - My first public fork IDEA was to support the <a href="https://projectlombok.org/">Lombok framework</a> .  The first problem was that IDEA has its analysis of java files, and it was not possible to expand the analysis without changing the Java implementation itself.  The second problem is that Java is nailed into IDEA: you cannot simply replace the Java implementation with the patched version.  There were many controversial issues in my solution to the problem - in the end, the fork did not go farther. <br><br>  <b>- And there were also non-public?</b> <br><br>  - Yes.  I was playing with a Java compiler (javac) and my support for the features I created in IDEA.  Since then, I have almost always sat on my IDEA builds. <br><br>  <b>- I understand that you did not stop at this?</b> <br><br>  - Yes.  As an author of plug-ins, I saw problems, and tried to fix them through patches or through pull-requests.  The part was accepted, and the part is still in limbo. <br><br>  <b>- Apparently, these were architectural fixes?</b>  <b>I can imagine how difficult it is to get such patches.</b>  <b>After all, the project has its own architects with their own opinion, the project has its own plans, and your patches may be at least questionable for them, if not incompatible with their point of view.</b> <br><br>  - Most of my patches were small and did not touch global things.  As for big changes, I raised several tasks in the tracker and on the forum.  Of the most global ones, I wanted to align the Java implementation with other plugins.  The bottom line is that IntelliJ IDEA is positioned mainly as a development environment for Java, as a result, part of the interface is nailed to Java features. <br><br>  This can be seen, for example, when you open a Project Structure in a Node.js project, or in the same Node.js project you see menu items for Java. <br><br>  <b>- How did it bother you?</b> <br><br>  - A trivial question - why should a user download the entire Java development stack in order to work with C #, for example. <br><br>  <b>- Didn‚Äôt they offer Rider for C # at that time?</b> <br><br>  - Not.  At the moment, Rider is a hybrid of Resharper and IntelliJ.  I cannot call it a full-fledged IDE based on IntelliJ, because the whole analysis (and not only) lies on the shoulders of Resharper, which runs in parallel with Rider.  He is responsible for all the features that relate to the .NET platform. <br><br>  <b>- What is he like your fork?</b> <br><br>  - The main idea is to make a universal IDE similar to IDEA, but Java will be a plugin, and not part of the platform. <br><br>  I also wanted to correct (if possible) the bugs I found.  Closeness of almost all plug-ins created a feeling of a ‚Äúslave‚Äù situation.  Fixed a bug - and wait.  Even if the bug is fixed, you need to wait for either EAP or release.  As a result, it was decided to make a completely open project. <br><br>  <b>- A whole company works on IntelliJ IDEA, and you - one.</b>  <b>Is it really possible to saw your IDE alone, even on a ready-made platform?</b> <br><br>  - In fact, I am not myself.  The technical part helps me familiar, as well as with the tests.  But plugin development is hard.  We have to choose the most important thing from what needs to be done, and not to be sprayed.  And the desire to do something new is, for example, the F # language. <br>  I also periodically transfer changes from IDEA to Consul, but not all.  A lot of controversial features, or prevents Kotlin, which they are now trying to bring to the platform. <br><br>  <b>- What is stopping you Kotlin?</b>  <b>Is it sewn as tightly as Java?</b> <br><br>  - The problem is different.  They begin to write part of the code on Kotlin.  From their point of view, this is normal.  And as from the side of a fork, having a ‚Äúnew‚Äù language in the platform is a ‚Äúheavy load‚Äù.  It should be noted that Kotlin is not yet in the Consul. <br><br>  <b>- Someday they will transfer their IDE to Kotlin completely - what then?</b>  <b>How do you think in general, everything goes to this?</b> <br><br>  - In fact - we convert the code.  Of course, I don‚Äôt redo big piles of anything on Kotlin.  Yes - sooner or later it will be so.  If we consider that Rider is written in Kotlin, and not only it.  When it comes, it will be the new era of the Consul.  The era of rebirth or extinction - time will tell :) <br><br>  <b>- In the past, my post I raised the topic of IDEA buggy.</b>  <b>So you say that partly the bugs and the speed of their correction prompted the creation of a fork.</b>  <b>What did you encounter while fixing bugs?</b>  <b>How many are there?</b>  <b>How do you even IDEA code in general?</b> <br><br>  - I inherited almost all IDEA bugs, I also have some of my own.  The IDEA code, famous for its ‚Äúdocumentation‚Äù (sarcasm), is understandable.  But there are internal things that are not understood if you do not work in JetBrains. <br><br>  <b>- I've noticed that in some menus the first underscore is not displayed.</b>  <b>Instead, the underlined symbol displays the symbol following the lost underscore.</b>  <b>This is in different places: ‚ÄúFile -&gt; Open Recent‚Äù, ‚ÄúRun -&gt; Prifle‚Äù, ‚ÄúRun -&gt; Concurrency Diagram‚Äù.</b>  <b>Only in the latest version this was fixed in ‚ÄúOpen Recent‚Äù, but the problem remains in ‚ÄúRun‚Äù.</b> <br><br>  - Judging by the problem - this is an extra Mnemonic processing in the menu text.  You just need to disable mnemonic processing.  Apparently, someone forgot when this code once again rules.  I do not understand why such bugs should hang for a long time.  A quick search for a problem is such a <a href="https://github.com/JetBrains/intellij-community/commit/0e70992658ebd209574a86168a76d072dc66e9da">commit</a> . <br><br>  <b>- Honestly, such errors look terribly unprofessional.</b>  <b>I wonder how old these bugs are.</b>  <b>Did you catch them in Consulo?</b> <br><br>  - Quick dough - a little.  In Recent Projects, I do not see the problem.  But in Run Configurations, I see this bug.  Fix on this bug will take somewhere 10 minutes. <br><br>  <b>- When I open these menus, I look for a long time to find the right item.</b>  <b>I was tormented with ‚ÄúOpen Recent‚Äù for a very long time - I don‚Äôt know how much.</b>  <b>The ticket I found was hanging for a year and a half.</b>  <b>And you show a commit in which only one parameter is added.</b>  <b>And it is not known how much more error hangs in the ‚ÄúRun‚Äù.</b>  <b>What tickets, according to your observations, in JetBrains close faster?</b>  <b>Adding support to imoji?</b>  <b>:)</b> <br><br>  - Imoji is a frequently requested feature.  And for its implementation, you need to edit the JRE.  I am for adding, but not at the expense of others. <br><br>  <b>- Since you are transferring changes from IDEA, you probably are watching what features are added there.</b>  <b>Are there any features that you did not transfer because of their principal uselessness in the IDE?</b> <br><br>  - <a href="https://www.jetbrains.com/help/idea/2017.1/setting-background-image.html">Editor Background Image</a> .  I do not understand the meaning of this feature at all.  For architectural reasons, I did not transfer the implementation of External Compiler (jps inside IDEA).  For a controversial implementation that generates duplicates.  Perhaps I will return this subsystem if I solve architectural problems.  A transparent scroll joins this list.  In the editor it looks too awful.  Since IDEA 8, I have seen UI shifts for scrolls in the editor, so far they are looking for a middle ground.  But testing users without the ability to return to the old UI is bad (I have a problem in 2010 where I complained about the usability of the scroll). <br><br>  <b>- Do you somehow improve your UI in your Consulo, besides supporting HiDPI?</b> <br><br>  - Yes.  As is known, in IDEA there is no possibility of a normal change of the UI Theme (Laf), because many components have ‚Äúhard-coded‚Äù rendering, as well as colors. <br><br>  <b>- Why is it necessary?</b>  <b>Here I sit, I program, and in general I do not understand very well, what difference does it make which topic this IDE has.</b>  <b>PyCharm with its native theme initially looked like a stranger on my desktop, but he did the job better than anyone.</b>  <b>And now I'm used to?</b>  <b>and do not pay attention to the appearance.</b> <br><br>  - Once upon a time, backdated rendering was one of the main problems on the way to the appearance of a dark theme in IDEA.  But they did not succeed in making good decisions, as a result, IDEA has two Light / Dark modes.  And for each mode there is a set of colors that can not be changed (adequately of course).  I want to make a normal decision to give users the opportunity to customize the interface for themselves.  There are several IDEA plugins that do this.  But still they meet insurmountable obstacles for this - another hardcode. <br><br>  <b>- Is there a lot of such unpleasant hardcode?</b>  <b>I mean, not in topics, but in something else that has to be redone.</b> <br><br>  - Yes, we have to meet the ghost of the past from the time when IDEA had only Java implementation.  The platform has checks for java language / java file for example. <br><br>  <b>- What are you doing when choosing new features?</b>  <b>What features do you prefer?</b>  <b>What functional development do you consider the most important in Consulo, and which one should be postponed due to lack of resources?</b> <br><br>  - At one time, I postponed all the problems relating to web services.  And more was busy supporting C # / Mono / Unity.  Four months (September 2016) back I decided to redo the whole web part.  I switched to Jenkins, wrote a service for users and a new repository for plug-ins and a platform (in turn, this added the ability to auto-update). <br><br>  After closing the second Consul‚Äôs beta, I want to support .NET Core. <br><br>  <b>- What is the difference between your approach to the development of the IDE and the one used in JetBrains?</b>  <b>In addition, you are guided by a universal platform.</b> <br><br>  - The first difference is that everything that is available to the user can be seen on the github in the form of sources.  You can also influence the development itself. <br><br>  The second is faster releases.  Currently, the ‚Äúrelease‚Äù channel has builds every month (beta is every week, alpha is every day). <br><br>  I want a more aggressive API change.  Also actively support developers of third-party plug-ins.  I myself help the developer of the Perl plug-in to IDEA (and not only) - I play the role of a walking encyclopedia on the platform. <br><br>  This is one of the most basic differences. <br><br>  <b>- You say "you can influence the development."</b>  <b>And no one will say to the user ‚Äúthis is our business,‚Äù yes?</b>  <b>One person complained that he was answered that way when he offered to change something in IDEA.</b> <br><br>  - Nobody pays me, I won't say that.  Yes, there can be controversial requests, but everything is solved.  I do not plan to sell any of the components of the Consul. <br><br>  <b>- Have you tried to calculate at least approximately how much time you have already spent working on Consulo?</b>  <b>Does this make sense?</b>  <b>Maybe it would be more efficient to spend this time on work for which they pay?</b> <br><br>  - I've been working on the Consul since 2013.  The meaning is very simple: Consul is my main development environment.  If I meet a bug - I fix it during the day, and not wait for several months (another IDEA release for example). <br><br>  <b>- How many people now use the Consul on a regular basis?</b>  <b>Is it possible to somehow reliably calculate?</b> <br><br>  - Reliably - no.  Alas, the statistics service I have written on my knee, and does not give accurate information.  And so - up to 2 thousand on the first version, and more than 400 people on the second (which is recently available for download, but has beta status).  Since February 2017, the first version is no longer available for download. <br><br>  <b>- How often do users send pull requests?</b> <br><br>  - Very rarely.  Since most of my users are Unity (.NET platform + C #), there are some difficulties in editing Java sources.  I also have lame documentation on the whole project (more than 100 repositories, and that only I know in them), I supplement it very slowly.  But there are people who do pull-requests to several repositories at the same time (as a common fix for one problem) <br><br>  <b>- And bugreports and feature requests?</b>  <b>How often do they send, and how quickly do you react to them?</b> <br><br>  - Features - rarely, bugs - more often.  Now I have achieved good stability of the main functionality, so there are few bugs. <br><br>  I almost always react the same day.  Correcting bugs as the priority of the plugin, but if the fix is ‚Äã‚Äãsimple - then fix it on the same day <br><br>  <b>- What do you think, for what reason people give preference to Consulo (those who give).</b>  <b>You have already listed the main advantages, but I have a feeling that this is your point of view, that is, advantages for you personally.</b>  <b>And what do users like?</b> <br><br>  - It's simple.  Consul was the only normal C # environment for macOS.  Although the number of Windows + Linux users is catching up with macOS.  Previously, only one environment was available - it is MonoDevelop (but this is silent horror).  Now there are Visual Studio Code and Rider. <br><br>  <b>‚ÄúIf users keep arriving, they probably find something in Consulo that is not found in other IDEs?‚Äù</b>  <b>What exactly?</b> <br><br>  - A large part of my audience is Unity developers, there is still no good counterpart to Consul.  There is a Rider which is in EAP status, and in the future it will be paid. <br><br>  <b>- Have you thought about making your paid version with extended functionality?</b>  <b>If at all possible with an existing license.</b>  <b>Such a move could attract the funds necessary for the development of the project.</b> <br><br>  - It was not, no, and will not.  This is my decision in principle about the closed functionality.  This is one of the reasons why I moved away from IDEA.  And I'm not going to go back to this.  I want to make an open project, and the closed functionality will interfere. <br><br>  <b>- What about donations?</b> <br><br>  - Where without them.  I still have reasons that interfere with this.  This year I will try to improve, and then finally the long-awaited Donate button will appear. <br><br>  <b>- How would you like to see the future of the Consul, and how do you think this can really be achieved?</b> <br><br>  - Grow into a full-fledged organization / project for the development of IDE (not only on Desktop).  Is it real?  Yes - but by the power of one person for a very long time. <br><br>  Thank you very much, Valery, for agreeing to tell about your experience and for permission to publish this dialogue.  I hope this post will help you find new users and like-minded people, and I wish you good luck and a lot of patience. <br><br>  More IDE - good and different! </div><p>Source: <a href="https://habr.com/ru/post/326588/">https://habr.com/ru/post/326588/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../326576/index.html">Test Data Generator for C ++</a></li>
<li><a href="../326578/index.html">My C ++ I / O streams using std :: streambuf</a></li>
<li><a href="../326580/index.html">Switch from bash to zsh</a></li>
<li><a href="../326582/index.html">The story of how the parser turned into a full-fledged IRCO bot for Telegrams</a></li>
<li><a href="../326584/index.html">Notes on Cisco Catalyst: VLAN setup, password reset, IOS operating system flashing</a></li>
<li><a href="../326590/index.html">Mail.Ru Group Online Course News: Restarting Advanced C ++ Programming</a></li>
<li><a href="../326592/index.html">Fat programs - speed factors</a></li>
<li><a href="../326594/index.html">Bash scripts, part 4: input and output</a></li>
<li><a href="../326596/index.html">Exoskeleton do it yourself</a></li>
<li><a href="../326600/index.html">Hello, who is calling or determining the number in Asterisk</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>