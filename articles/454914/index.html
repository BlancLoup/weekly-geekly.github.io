<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Use Yii2. We write another CMS or an attempt to significantly speed up development with minimal overhead</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Practically every developer who has been working with a specific framework for a long time has a set of his own tools that allow him to speed up the d...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Use Yii2. We write another CMS or an attempt to significantly speed up development with minimal overhead</h1><div class="post__text post__text-html js-mediator-article">  Practically every developer who has been working with a specific framework for a long time has a set of his own tools that allow him to speed up the development of the site.  However, often, they are poorly structured, have no documentation and are being finalized in the ‚Äúprocess‚Äù of production. <br><br>  The idea of ‚Äã‚Äãthe yicms project was to collect all the developments for the Yii2 framework, which seemed convenient to a certain system, at the head of which should be ease of use, flexibility and the ability to significantly accelerate the development of standard sites using its tools.  This project was developed by me for the "soul", but at the moment it is already in beta. <br><a name="habracut"></a><br>  The essence of yicms lies somewhere in the middle between the capabilities of the framework and the usual features of the CMS.  This is not a CMS in the usual sense of the word, but simply a set of modules that can significantly accelerate the development of the site using its tools, while having full "access" to the capabilities of the framework.  The main features that are incorporated in yicms are the admin-generated on-the-fly and auto-annotated classes that allow you to use IDE auto-completion and have an intuitive interface. <br><br><h3>  Installation and Setup </h3><br>  So, let's get acquainted with yicms with its installation.  For dating it is easiest to use the Open Server or any other similar server platform.  Since yicms has a hard dependency on Yii, we will first install it.  For simplicity, we will use the basic pattern: 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     <code>composer create-project --prefer-dist yiisoft/yii2-app-basic basic</code> <br> <br>  After the composer installs the framework, add the section require of the composer.json file with four modules yicms and run composer update. <br><br><pre> <code class="json hljs"> <span class="hljs-string"><span class="hljs-string">"require"</span></span>: { <span class="hljs-attr"><span class="hljs-attr">"php"</span></span>: <span class="hljs-string"><span class="hljs-string">"&gt;=5.4.0"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"yiisoft/yii2"</span></span>: <span class="hljs-string"><span class="hljs-string">"~2.0.14"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"yiisoft/yii2-bootstrap"</span></span>: <span class="hljs-string"><span class="hljs-string">"~2.0.0"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"yiisoft/yii2-swiftmailer"</span></span>: <span class="hljs-string"><span class="hljs-string">"~2.0.0 || ~2.1.0"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"iliich246/yii2-yicms-common"</span></span>: <span class="hljs-string"><span class="hljs-string">"dev-master"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"iliich246/yii2-yicms-pages"</span></span>: <span class="hljs-string"><span class="hljs-string">"dev-master"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"iliich246/yii2-yicms-essences"</span></span>: <span class="hljs-string"><span class="hljs-string">"dev-master"</span></span>, <span class="hljs-attr"><span class="hljs-attr">"iliich246/yii2-yicms-feedback"</span></span>: <span class="hljs-string"><span class="hljs-string">"dev-master"</span></span> },</code> </pre><br>  Each module represents a set of specific functionality, which will be considered later.  For now, just install them all. <br><br>  Next, you need to remember to configure the server.  In the Open Server we use Apache and configure .htaccess as follows: <br><br>  For the root .htaccess file: <br><pre> <code class="apache hljs"><span class="hljs-attribute"><span class="hljs-nomarkup"><span class="hljs-attribute"><span class="hljs-nomarkup">Options</span></span></span></span> +FollowSymLinks IndexIgnore */* RewriteEngine <span class="hljs-literal"><span class="hljs-literal">on</span></span> RewriteCond <span class="hljs-variable"><span class="hljs-variable">%{REQUEST_URI}</span></span> !^/(web) RewriteRule ^assets/(.*)$ /web/assets/<span class="hljs-number"><span class="hljs-number">$1</span></span><span class="hljs-meta"><span class="hljs-meta"> [L] RewriteRule ^css/(.*)$ web/css/$1 [L] RewriteRule ^js/(.*)$ web/js/$1 [L] RewriteRule ^images/(.*)$ web/images/$1 [L] RewriteRule ^files/(.*)$ web/files/$1 [L] RewriteRule (.*) /web/$1 RewriteCond %{REQUEST_FILENAME} !-f RewriteCond %{REQUEST_FILENAME} !-d RewriteRule . web/index.php</span></span></code> </pre><br>  For the .htaccess file in the web directory <br><br><pre> <code class="apache hljs"><span class="hljs-attribute"><span class="hljs-nomarkup"><span class="hljs-attribute"><span class="hljs-nomarkup">RewriteCond</span></span></span></span> <span class="hljs-variable"><span class="hljs-variable">%{REQUEST_FILENAME}</span></span> !-f RewriteCond <span class="hljs-variable"><span class="hljs-variable">%{REQUEST_FILENAME}</span></span> !-d RewriteRule . index.php</code> </pre><br>  The next step is to roll the migrations of each yicms module into the database.  In the console, execute the following commands in sequence: <br><br> <code>yii migrate/up --migrationPath=@vendor/iliich246/yii2-yicms-common/Migrations</code> <br> <br> <code>yii migrate/up --migrationPath=@vendor/iliich246/yii2-yicms-pages/Migrations</code> <br> <br> <code>yii migrate/up --migrationPath=@vendor/iliich246/yii2-yicms-essences/Migrations</code> <br> <br> <code>yii migrate/up --migrationPath=@vendor/iliich246/yii2-yicms-feedback/Migrations</code> <br> <br>  Now we will start configuration in the config / web.php file. <br><br>  We configure the modules section as follows: <br><br><pre> <code class="php hljs"><span class="hljs-string"><span class="hljs-string">'modules'</span></span> =&gt; [ <span class="hljs-string"><span class="hljs-string">'common'</span></span> =&gt; [ <span class="hljs-string"><span class="hljs-string">'class'</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">'Iliich246\YicmsCommon\CommonModule'</span></span>, ], <span class="hljs-string"><span class="hljs-string">'pages'</span></span> =&gt; [ <span class="hljs-string"><span class="hljs-string">'class'</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">'Iliich246\YicmsPages\PagesModule'</span></span>, ], <span class="hljs-string"><span class="hljs-string">'essences'</span></span> =&gt; [ <span class="hljs-string"><span class="hljs-string">'class'</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">'Iliich246\YicmsEssences\EssencesModule'</span></span>, ], <span class="hljs-string"><span class="hljs-string">'feedback'</span></span> =&gt; [ <span class="hljs-string"><span class="hljs-string">'class'</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">'Iliich246\YicmsFeedback\FeedbackModule'</span></span>, ], <span class="hljs-string"><span class="hljs-string">'redactor'</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">'yii\redactor\RedactorModule'</span></span>, ],</code> </pre><br>  The bootstrap section is configured as follows: <br><br><pre> <code class="php hljs"><span class="hljs-string"><span class="hljs-string">'bootstrap'</span></span> =&gt; [<span class="hljs-string"><span class="hljs-string">'log'</span></span>, <span class="hljs-string"><span class="hljs-string">'common'</span></span>, <span class="hljs-string"><span class="hljs-string">'pages'</span></span>, <span class="hljs-string"><span class="hljs-string">'essences'</span></span>, <span class="hljs-string"><span class="hljs-string">'feedback'</span></span>],</code> </pre> <br>  Set up the user section as follows: <br><br><pre> <code class="php hljs"><span class="hljs-string"><span class="hljs-string">'user'</span></span> =&gt; [ <span class="hljs-string"><span class="hljs-string">'identityClass'</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">'Iliich246\YicmsCommon\Base\CommonUser'</span></span>, <span class="hljs-string"><span class="hljs-string">'enableAutoLogin'</span></span> =&gt; <span class="hljs-keyword"><span class="hljs-keyword">true</span></span>, ],</code> </pre><br>  Remove commenting section urlManager: <br><br><pre> <code class="php hljs"><span class="hljs-string"><span class="hljs-string">'urlManager'</span></span> =&gt; [ <span class="hljs-string"><span class="hljs-string">'enablePrettyUrl'</span></span> =&gt; <span class="hljs-keyword"><span class="hljs-keyword">true</span></span>, <span class="hljs-string"><span class="hljs-string">'showScriptName'</span></span> =&gt; <span class="hljs-keyword"><span class="hljs-keyword">false</span></span>, <span class="hljs-string"><span class="hljs-string">'rules'</span></span> =&gt; [ ], ],</code> </pre><br>  The Yii2 framework and the yicms system are successfully configured. <br><br>  After the first launch, if everything has been configured correctly, the yicms directory should be created in the root directory of the project, which will contain the files that can be modified by the user and also create auto-annotated classes in it. <br><br><img src="https://habrastorage.org/webt/ws/zc/n6/wszcn6cnsn9mjmguj_cq5mwkt8k.jpeg"><br><br><h3>  Description of Common and Pages Modules </h3><br>  The yicms system consists of two sections.  Dev section, which should be available only to the developer (it can break the code in it) and the section Admin should be accessible to the site administrator (it manages the content).  To get started, go to the Dev section, for this you need to use the following URL: <br><br> <code>http://&lt;  &gt;/web/common/dev/login-as-dev?hash=123456&amp;asDev</code> <br> <br>  After this, the Dev panel should open: <br><br><img src="https://habrastorage.org/webt/hy/2m/zr/hy2mzrfv8ln9m2jtpk_xbnx4b1q.jpeg"><br><br>  Now we start to understand the functionality of yicms.  To begin with, in the Pages module we will create a page called index, which will be the main page of the site.  Go to the List of pages and create a new page called index.  By default, the title, meta_description and meta_keywords fields will be created for the page.  Additionally, we will create another field through the add new field button with the name text, all of its parameters will remain the default. <br><br>  Now if you follow the link <br><br> <code>http://&lt;  &gt;/web/pages/admin</code> <br> <br>  The admin section will open.  The index page will be available in it for filling in with content.  Fill in all fields with arbitrary text. <br><br>  At the time of creation in the dev section of the index page, the Index class was created in the yicms / Pages / Models directory in which annotations were also created for the title, meta_description, meta_keywords fields, and also for the text field that we created on the fly.  We can use the object of this class to get the field values.  Consider how this can be done.  In the standard controller SiteController of the basic template in action actionIndex we will write the following: <br><br><pre> <code class="php hljs"><span class="hljs-comment"><span class="hljs-comment">/** * Displays homepage. * * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@return</span></span></span><span class="hljs-comment"> string * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@throws</span></span></span><span class="hljs-comment"> \Iliich246\YicmsPages\Base\PagesException */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">actionIndex</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ $indexPage = \app\yicms\Pages\Models\Index::getInstance(); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;render(<span class="hljs-string"><span class="hljs-string">'index'</span></span>, [ <span class="hljs-string"><span class="hljs-string">'indexPage'</span></span> =&gt; $ indexPage ]); }</code> </pre><br>  Since the \ app \ yicms \ Pages \ Models \ Index class was generated automatically, the auto-completion for it will work in the IDE.  Now $ indexPage can be used as an index.  Now open the index view.  Remove from there all unnecessary and write: <br><br><pre> <code class="php hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> <span class="hljs-comment"><span class="hljs-comment">/** </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@var</span></span></span><span class="hljs-comment"> $this yii\web\View */</span></span> <span class="hljs-comment"><span class="hljs-comment">/** </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@var</span></span></span><span class="hljs-comment"> $indexPage \app\yicms\Pages\Models\Index */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;title = $indexPage-&gt;title; <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;registerMetaTag([ <span class="hljs-string"><span class="hljs-string">'name'</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">'description'</span></span>, <span class="hljs-string"><span class="hljs-string">'content'</span></span> =&gt; $indexPage-&gt;meta_description ]); <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;registerMetaTag([ <span class="hljs-string"><span class="hljs-string">'name'</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">'keywords'</span></span>, <span class="hljs-string"><span class="hljs-string">'content'</span></span> =&gt; $indexPage-&gt;meta_keywords ]); <span class="hljs-meta"><span class="hljs-meta">?&gt;</span></span> &lt;div <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class">="</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">site</span></span></span><span class="hljs-class">-</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">index</span></span></span><span class="hljs-class">"&gt; &lt;</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">div</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">class</span></span></span><span class="hljs-class">="</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">jumbotron</span></span></span><span class="hljs-class">"&gt; &lt;</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">h1</span></span></span><span class="hljs-class">&gt;&lt;?= $</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">indexPage</span></span></span><span class="hljs-class">-&gt;</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">text</span></span></span><span class="hljs-class"> ?&gt;&lt;/</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">h1</span></span></span><span class="hljs-class">&gt; &lt;/</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">div</span></span></span><span class="hljs-class">&gt; &lt;</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">div</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">class</span></span></span><span class="hljs-class">="</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">body</span></span></span><span class="hljs-class">-</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">content</span></span></span><span class="hljs-class">"&gt; &lt;/</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">div</span></span></span><span class="hljs-class">&gt; &lt;/</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">div</span></span></span><span class="hljs-class">&gt;</span></span></code> </pre><br>  Annotation of the $ indexPage variable is required for IDE autocompletion.  Now use the $ indexPage object.  All the fields that we created in the dev section for the index page are available in the Index class object, which, thanks to autoannotation, are supplemented by the IDE after entering the arrow operator. <br><br>  In total, in a short time we created an Index page for which an admin panel was automatically created to edit its content.  We used programming only to create a page object in a standard framework controller, and in a form in which we could quickly use the page object thanks to auto-completion and an intuitive interface. <br><br>  We considered only the minimum part of the yicms capabilities.  Now we will slightly complicate the main page of the site using yicms. <br><br>  yicms supports multilingual out of the box.  To activate the second language in the dev section of the common module, select the list of languages, then select the Russian language and activate it in it: <br><br><img src="https://habrastorage.org/webt/ka/eh/uw/kaehuwkq6y1qeubwmue9obzqtv4.jpeg"><br><br>  Now in the admin panel we will be able to fill in the fields for several languages.  You can create new languages ‚Äã‚Äãin the system.  However, it will be necessary to translate the admin panel using the standard framework tools.  Therefore, when creating a new language, you must adhere to ISO.  For content controls just add a new plate with a new language. <br><br><h4>  Component file blocks </h4><br>  Next, consider the element file blocks.  In the dev panel of the index page we will create a file block with the program name document.  The remaining block settings will remain the default.  Now in the admin panel for the index page, editing of the document file has become available.  Load an arbitrary file.  Now the link to download it can be displayed on the index page of the site: <br><br><pre> <code class="php hljs">‚Ä¶ &lt;div <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class">="</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">body</span></span></span><span class="hljs-class">-</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">content</span></span></span><span class="hljs-class">"&gt; &lt;</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">div</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">class</span></span></span><span class="hljs-class">="</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">row</span></span></span><span class="hljs-class">"&gt; &lt;</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">h3</span></span></span><span class="hljs-class">&gt;</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Document</span></span></span><span class="hljs-class">&lt;/</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">h3</span></span></span><span class="hljs-class">&gt; &lt;</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">a</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">href</span></span></span><span class="hljs-class">="&lt;?= $</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">indexPage</span></span></span><span class="hljs-class">-&gt;</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">document</span></span></span><span class="hljs-class">-&gt;</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">uploadUrl</span></span></span><span class="hljs-class">() ?&gt;"&gt; &lt;?= $</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">indexPage</span></span></span><span class="hljs-class">-&gt;</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">document</span></span></span><span class="hljs-class"> ?&gt; &lt;/</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">a</span></span></span><span class="hljs-class">&gt; &lt;/</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">div</span></span></span><span class="hljs-class">&gt; ‚Ä¶ &lt;/</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">div</span></span></span><span class="hljs-class">&gt;</span></span></code> </pre><br>  Now on the link page, the file that we uploaded to the admin panel will be uploaded.  By default, the file block is in single-file mode for all languages.  However, in the dev panel you can switch the Language type to the Translateable type and then for each language you will need to load your own file.  In this case, the link will be downloaded to the file whose language is currently active on the site.  Of course, you can download for a specific language, which will be considered later. <br><br>  The next step in the dev panel is to create a file recipes for which we specify the type as multiple type.  In this mode, you can upload many files for a single file block.  To do this, in the admin panel, in the appeared recipes tab, we will upload several arbitrary files. <br>  After that in the form of index we display the list of files: <br><br><pre> <code class="php hljs">‚Ä¶ &lt;div <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class">="</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">row</span></span></span><span class="hljs-class">"&gt; &lt;</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">h3</span></span></span><span class="hljs-class">&gt;</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Recipes</span></span></span><span class="hljs-class">&lt;/</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">h3</span></span></span><span class="hljs-class">&gt; &lt;?</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">php</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">foreach</span></span></span><span class="hljs-class"> ($</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">indexPage</span></span></span><span class="hljs-class">-&gt;</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">recipes</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">as</span></span></span><span class="hljs-class"> $</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">recipe</span></span></span><span class="hljs-class">): ?&gt; &lt;</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">a</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">href</span></span></span><span class="hljs-class">="&lt;?= $</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">recipe</span></span></span><span class="hljs-class">-&gt;</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">uploadUrl</span></span></span><span class="hljs-class">() ?&gt;"&gt; &lt;?= $</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">recipe</span></span></span><span class="hljs-class"> ?&gt; &lt;/</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">a</span></span></span><span class="hljs-class">&gt; &lt;?</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">php</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">endforeach</span></span></span><span class="hljs-class">; ?&gt; &lt;/</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">div</span></span></span><span class="hljs-class">&gt; ‚Ä¶</span></span></code> </pre><br>  In the multiple type mode, the file block can be bypassed via foreach or an iterator. <br><br><h4>  Component images block </h4><br>  Now consider the images block element.  Let's create a picture block for the index page, leaving all the default parameters.  Similarly, the file blocks in the admin panel, the opportunity to upload a picture picture.  Load an arbitrary image.  Now in the form of index we will write the following: <br><br><pre> <code class="php hljs">&lt;div <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class">="</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">row</span></span></span><span class="hljs-class">"&gt; &lt;</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">h3</span></span></span><span class="hljs-class">&gt;</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Image</span></span></span><span class="hljs-class">&lt;/</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">h3</span></span></span><span class="hljs-class">&gt; &lt;</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">img</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">src</span></span></span><span class="hljs-class">="&lt;?= $</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">indexPage</span></span></span><span class="hljs-class">-&gt;</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">picture</span></span></span><span class="hljs-class"> ?&gt;" </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">alt</span></span></span><span class="hljs-class">=""&gt; &lt;/</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">div</span></span></span><span class="hljs-class">&gt;</span></span></code> </pre><br>  Similar to image files, by default one is loaded into all languages, however, for images, this behavior can be changed in the dev panel and you can upload your own image for each language.  You can also upload many images into one block. <br><br>  Create a gallery image block in the dev panel, set its type as Multiple images.  For images, you can also hang text boxes on the fly.  Therefore, in the modal window of the gallery block settings, go to the section ‚ÄúView image block field‚Äù.  In this section, for images, create fields named alt and name.  Now in the admin panel for each image there is an opportunity to set text fields alt and name.  Also in yicms for the images out of the box the possibility of ‚Äúcropping‚Äù and creating thumbnails is available.  For example, create a thumbnail template for the gallery block.  In the modal window of the image block, go to the ‚ÄúConfig images thumbnails‚Äù section.  In it, we will create a thumbnail configurator with the name ‚Äúx2‚Äù and the parameters divider = 2 and quality = 80. By name we will be able to refer to the thumbnail, the divider will determine how much to reduce the size of the original image, quality determines the quality of the thumbnail compression.  Next, we will create another miniature template with parameters: program_name = "x5", divider = 5, quality = 50. Now, when we load the image from the admin panel, two miniatures with the parameters we have chosen will be automatically created for it. <br><br>  Now we will upload several images into the admin panel for the gallery group.  After the image is created and uploaded, you can fill in the alt and name fields, the templates of which we created in the dev panel.  Let's see how to display all this on the site. <br><br><pre> <code class="php hljs">&lt;div <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class">="</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">row</span></span></span><span class="hljs-class">"&gt; &lt;?</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">php</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">foreach</span></span></span><span class="hljs-class">($</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">indexPage</span></span></span><span class="hljs-class">-&gt;</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">gallery</span></span></span><span class="hljs-class">-&gt;</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">getImages</span></span></span><span class="hljs-class">() </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">as</span></span></span><span class="hljs-class"> $</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">image</span></span></span><span class="hljs-class">): ?&gt; &lt;</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">div</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">class</span></span></span><span class="hljs-class">="</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">col</span></span></span><span class="hljs-class">-</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">lg</span></span></span><span class="hljs-class">-4"&gt; &lt;</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">img</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">src</span></span></span><span class="hljs-class">="&lt;?= $</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">image</span></span></span><span class="hljs-class"> ?&gt;" </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">width</span></span></span><span class="hljs-class">="100%" </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">alt</span></span></span><span class="hljs-class">="&lt;?= $</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">image</span></span></span><span class="hljs-class">-&gt;</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">alt</span></span></span><span class="hljs-class"> ?&gt;"&gt; &lt;</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">img</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">src</span></span></span><span class="hljs-class">="&lt;?= $</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">image</span></span></span><span class="hljs-class">-&gt;</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">outputThumbnail</span></span></span><span class="hljs-class">('</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">x2</span></span></span><span class="hljs-class">') ?&gt;" </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">alt</span></span></span><span class="hljs-class">="&lt;?= $</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">image</span></span></span><span class="hljs-class">-&gt;</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">alt</span></span></span><span class="hljs-class"> ?&gt;"&gt; &lt;</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">img</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">src</span></span></span><span class="hljs-class">="&lt;?= $</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">image</span></span></span><span class="hljs-class">-&gt;</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">outputThumbnail</span></span></span><span class="hljs-class">('</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">x5</span></span></span><span class="hljs-class">') ?&gt;" </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">alt</span></span></span><span class="hljs-class">="&lt;?= $</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">image</span></span></span><span class="hljs-class">-&gt;</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">alt</span></span></span><span class="hljs-class"> ?&gt;"&gt; &lt;</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">p</span></span></span><span class="hljs-class">&gt;&lt;?= $</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">image</span></span></span><span class="hljs-class">-&gt;</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">name</span></span></span><span class="hljs-class"> ?&gt;&lt;/</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">p</span></span></span><span class="hljs-class">&gt; &lt;/</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">div</span></span></span><span class="hljs-class">&gt; &lt;?</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">php</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">endforeach</span></span></span><span class="hljs-class">; ?&gt; &lt;/</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">div</span></span></span><span class="hljs-class">&gt;</span></span></code> </pre><br>  Here, the getImages () method returns an array of objects of the autoannotated class app \ yicms \ Pages \ Models \ Index \ Images \ GalleryImage in which annotations were created for the alt and name fields that we created on the fly and IDE autocompletion is available for them.  Also, by calling the outputThumbnail method (&lt;Name of the thumbnail template&gt;) on the object, we switch the object to the thumbnail output mode. <br><br>  For image blocks it is possible to create not only fields but also conditions (conditions) that will be considered by us a little later.  You can also create fields and conditions for file blocks.  Works on a similar principle. <br><br><h4>  Conditions component </h4><br>  Now consider the next item.  These are conditions.  Conditions are convenient for creating lists, checkboxes and so on in the admin panel.  Which will determine certain behaviors when pages are operated.  Consider an example.  Create a condition in the dev panel on the index page with the name background.  Type select ‚Äúselect dropdown type‚Äù.  After creating the conditions go to the section "Config condition options".  Create three condition values ‚Äã‚Äãwith transparent, red, and green values. <br><br>  After that, a condition appears in the admin panel of the index page with a drop-down list with the values ‚Äã‚ÄãTRANSPARENT, RED and GREEN.  They are translated to upper case, since in the newly created auto-annotated class they are represented as constants. <br><br>  Now we will try to use the created condition.  We use it in a slightly different way to show other possibilities.  Since the index page in the site is home, it will semantically correctly change the background color of the site from its settings.  Therefore, our condition will have to change the background color throughout the site, so we insert it into the layout of the controller.  Open the layout template Yii2 framework template file and create an Index object: <br><br><pre> <code class="php hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> <span class="hljs-comment"><span class="hljs-comment">/* </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@var</span></span></span><span class="hljs-comment"> $this \yii\web\View */</span></span> <span class="hljs-comment"><span class="hljs-comment">/* </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@var</span></span></span><span class="hljs-comment"> $content string */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">use</span></span> <span class="hljs-title"><span class="hljs-title">app</span></span>\<span class="hljs-title"><span class="hljs-title">widgets</span></span>\<span class="hljs-title"><span class="hljs-title">Alert</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">use</span></span> <span class="hljs-title"><span class="hljs-title">yii</span></span>\<span class="hljs-title"><span class="hljs-title">helpers</span></span>\<span class="hljs-title"><span class="hljs-title">Html</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">use</span></span> <span class="hljs-title"><span class="hljs-title">yii</span></span>\<span class="hljs-title"><span class="hljs-title">bootstrap</span></span>\<span class="hljs-title"><span class="hljs-title">Nav</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">use</span></span> <span class="hljs-title"><span class="hljs-title">yii</span></span>\<span class="hljs-title"><span class="hljs-title">bootstrap</span></span>\<span class="hljs-title"><span class="hljs-title">NavBar</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">use</span></span> <span class="hljs-title"><span class="hljs-title">yii</span></span>\<span class="hljs-title"><span class="hljs-title">widgets</span></span>\<span class="hljs-title"><span class="hljs-title">Breadcrumbs</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">use</span></span> <span class="hljs-title"><span class="hljs-title">app</span></span>\<span class="hljs-title"><span class="hljs-title">assets</span></span>\<span class="hljs-title"><span class="hljs-title">AppAsset</span></span>; AppAsset::register(<span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>); $pagesIndex = \app\yicms\Pages\Models\Index::getInstance(); <span class="hljs-meta"><span class="hljs-meta">?&gt;</span></span> <span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;beginPage() <span class="hljs-meta"><span class="hljs-meta">?&gt;</span></span> &lt;!DOCTYPE html&gt; &lt;html lang=<span class="hljs-string"><span class="hljs-string">"&lt;?= Yii::$app-&gt;language ?&gt;"</span></span>&gt; &lt;head&gt; &lt;meta charset=<span class="hljs-string"><span class="hljs-string">"&lt;?= Yii::$app-&gt;charset ?&gt;"</span></span>&gt; &lt;meta http-equiv=<span class="hljs-string"><span class="hljs-string">"X-UA-Compatible"</span></span> content=<span class="hljs-string"><span class="hljs-string">"IE=edge"</span></span>&gt; &lt;meta name=<span class="hljs-string"><span class="hljs-string">"viewport"</span></span> content=<span class="hljs-string"><span class="hljs-string">"width=device-width, initial-scale=1"</span></span>&gt; <span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;registerCsrfMetaTags() <span class="hljs-meta"><span class="hljs-meta">?&gt;</span></span> &lt;title&gt;<span class="hljs-meta"><span class="hljs-meta">&lt;?</span></span>= Html::encode(<span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;title) <span class="hljs-meta"><span class="hljs-meta">?&gt;</span></span>&lt;/title&gt; <span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;head() <span class="hljs-meta"><span class="hljs-meta">?&gt;</span></span> &lt;/head&gt; &lt;body&gt; <span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;beginBody() <span class="hljs-meta"><span class="hljs-meta">?&gt;</span></span> ‚Ä¶</code> </pre><br>  Since the object of the Index class is something like a singleton, we can call the static getInstance () method as much as you like without the risk of making unnecessary duplicate queries to the database and other overhead costs when it is created.  Now, using the $ pagesIndex object, we change the tag by adding an inline style to it: <br><br><pre> <code class="php hljs">&lt;body style=<span class="hljs-string"><span class="hljs-string">"background-color: &lt;?php if ($pagesIndex-&gt;background-&gt;value() == \app\yicms\Pages\Models\Index\Conditions\Background::TRANSPARENT):?&gt; transparent; &lt;?php elseif ($pagesIndex-&gt;background-&gt;value() == \app\yicms\Pages\Models\Index\Conditions\Background::RED):?&gt; #FFD3D3 &lt;?php else: ?&gt; #BBFFC8 &lt;?php endif; ?&gt; "</span></span>&gt;</code> </pre><br>  Calling $ pagesIndex-&gt; ‚Äã‚Äãbackground-&gt; value () and comparing with the constant that was created in the auto-annotated class \ app \ yicms \ Pages \ Models \ Index \ Conditions \ Background we choose the background color of the site. <br><br>  Next, we consider the possibilities of autoannotated classes.  During yicms, a lot of events occur that can be processed by the Yii framework.  Let's give an example. <br><br><pre> <code class="php hljs">app\yicms\Pages\Models\Index\Fields\Text</code> </pre> <br>  This file was created by the auto-annotator while we were creating the text field for the index page in the dev panel.  When we write &lt;? = $ IndexPage-&gt; text?&gt; In the template, we create something similar to the singleton of this particular class, which in the template is cast to the string through the magic __toString (). <br><br>  To change the content, subscribe to the event and process it via the callback function: <br><br><pre> <code class="php hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Text</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Field</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">init</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;on(<span class="hljs-keyword"><span class="hljs-keyword">self</span></span>::EVENT_BEFORE_OUTPUT, <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">($event)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-comment"><span class="hljs-comment">/** </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@var</span></span></span><span class="hljs-comment"> $event \Iliich246\YicmsCommon\Base\HookEvent */</span></span> }); } }</code> </pre><br>  The EVENT_BEFORE_OUTPUT event occurs before displaying the contents of a field.  Let's try to change it.  To do this, use the event object \ Iliich246 \ YicmsCommon \ Base \ HookEvent: <br><br><pre> <code class="php hljs"><span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;on(<span class="hljs-keyword"><span class="hljs-keyword">self</span></span>::EVENT_BEFORE_OUTPUT, <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">($event)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-comment"><span class="hljs-comment">/** </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@var</span></span></span><span class="hljs-comment"> $event \Iliich246\YicmsCommon\Base\HookEvent */</span></span> $value = $event-&gt;getHook(); $value = strrev($value); $event-&gt;setHook($value); });</code> </pre><br>  The HookEvent event gets the value of the field before the event fires.  In an event, you can get this value through $ event-&gt; getHook (), change it, and send it back to the object through the event using $ event-&gt; setHook ($ value).  Thus in the event we turned the text backwards, which displays the Text field. <br><br>  Virtually every autoannounced class has a number of events to which you can connect in this way, but their consideration goes beyond the introductory article. <br><br>  Total in this article we considered two modules yicms, namely the modules Common and Pages.  The Common module includes components such as Fields, Files Blocks, Images Blocks and Conditions.  The Pages module is responsible for creating page objects in which all elements of the Common module are present.  Those.  all yicms modules depend on the main Common module. <br><br><h3>  Yii2-yicms-essences module </h3><br>  Now we will get acquainted with the Essences module.  This module is designed to create entities such as category-&gt; entity for example, product category-&gt; product, vehicle type (cars, motorcycle) -&gt; specific vehicle, and so on.  Within the module, these elements are called categories (categories) and representations (represents). <br><br>  For example, we will show the creation of the simplest category-&gt; type catalog for an online store. <br><br>  In the Dev section of the Essences module, we‚Äôll go to the list of essences and go to the create new essence section.  Give it the program name of products, and leave the rest of the settings by default.  By default, an entity with a behavior is created: one view can belong to one category.  However, you can specify other behaviors: just creating views without categories, or a single view can belong to several categories. <br><br>  The categories themselves are built according to the tree principle, when any category has a parent (except the highest one).  Those.  categories are leaves of a tree type data structure. <br><br>  Total product essence is created.  For her, auto-annotated classes were created in the app \ yicms \ Essences \ Models directory.  Next in the dev panel we need to create class templates and presentation templates.  All this is similar to how we created them for the index page.  For them, the Fields, Files Blocks, Images Blocks and Conditions elements are available on the fly.  As soon as we are done with the creation of templates in the admin panel, the creation of categories and views with the elements of the templates that we set in the dev panel is available. <br><br>  So, we will create several categories of goods.  And for each category of goods several products.  Once this is done the whole thing can be displayed on the main site.  Consider how this is done.  In SiteController, create an actionProcuts action: <br><br><pre> <code class="php hljs"><span class="hljs-comment"><span class="hljs-comment">/** * * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@return</span></span></span><span class="hljs-comment"> string */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">actionProducts</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ $productsEssence = Products::getInstance(); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;render(<span class="hljs-string"><span class="hljs-string">'products'</span></span>, [ <span class="hljs-string"><span class="hljs-string">'productsEssence'</span></span> =&gt; $productsEssence ]); }</code> </pre><br>  For it, create the products view. <br><br><pre> <code class="php hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> <span class="hljs-comment"><span class="hljs-comment">/** </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@var</span></span></span><span class="hljs-comment"> $this yii\web\View */</span></span> <span class="hljs-comment"><span class="hljs-comment">/** </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@var</span></span></span><span class="hljs-comment"> $productsEssence \app\yicms\Essences\Models\Products */</span></span> <span class="hljs-meta"><span class="hljs-meta">?&gt;</span></span> &lt;div <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class">="</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">body</span></span></span><span class="hljs-class">-</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">content</span></span></span><span class="hljs-class">"&gt; &lt;?</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">php</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">foreach</span></span></span><span class="hljs-class">($</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">productsEssence</span></span></span><span class="hljs-class">-&gt;</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">categories</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">as</span></span></span><span class="hljs-class"> $</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">category</span></span></span><span class="hljs-class">): ?&gt; &lt;</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">h1</span></span></span><span class="hljs-class">&gt;: &lt;?= $</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">category</span></span></span><span class="hljs-class">-&gt;</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">name</span></span></span><span class="hljs-class"> ?&gt;&lt;/</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">h1</span></span></span><span class="hljs-class">&gt; &lt;?</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">php</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">foreach</span></span></span><span class="hljs-class">($</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">category</span></span></span><span class="hljs-class">-&gt;</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">represents</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">as</span></span></span><span class="hljs-class"> $</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">product</span></span></span><span class="hljs-class">): ?&gt; &lt;</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">h2</span></span></span><span class="hljs-class">&gt;: &lt;?= $</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">product</span></span></span><span class="hljs-class">-&gt;</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">name</span></span></span><span class="hljs-class"> ?&gt;&lt;/</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">h2</span></span></span><span class="hljs-class">&gt; &lt;?</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">php</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">endforeach</span></span></span><span class="hljs-class">; ?&gt; &lt;?</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">php</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">endforeach</span></span></span><span class="hljs-class">; ?&gt; &lt;/</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">div</span></span></span><span class="hljs-class">&gt;</span></span></code> </pre><br>  Thanks to the autoannotation mechanism, the $ productsEssence-&gt; categories modode returns an array of objects of the auto-annotated class app \ yicms \ Essences \ Models \ ProductsCategory.  As in the previous autoannotated classes, there are annotations on the fields in this class, which we created on the fly, the IDE can use auto-completion.  It is also worth noting that the autoannotated classes were developed with the idea that the user yicms would be able to place their own business logic in them, i.e.  you can write your own code in them, and the auto-annotation mechanism changes specially marked areas and no user code will be affected. <br><br>  The $ category-&gt; represents method also returns an array of app \ yicms \ Essences \ Models \ ProductsRepresents objects that have all the same autoannotation advantages as for categories.  Of course, there are more flexible methods for obtaining representations.  For example, $ category-&gt; getRepresentsQuery () will return the ActiveQuery object of the Yii2 framework, which can be further configured to refine the query to the database, use to create pagination or lazy loading. <br><br>  Total module Essenses allows you to very quickly create the skeleton of the functional store, with the admin working already.  Additional business logic can be written in autoannotated classes. <br><br><h3>  Yii2-yicms feedback module </h3><br>  This module is designed to construct on the website information entry forms by guests and site users.  The ideology of the work remains the same; first, we type the required fields in the dev panel. <br><br>  Consider the work of the module by example.  Let's create an entry with the program name messages in the dev panel in the feedback module.  On the messages settings page we can see the button Feedback pages templates.  Using this link we can create elements of the type field, files block, images block, conditions that can be used to decorate the content of the messages page.  They are no different from what we considered for the Pages module.  Now we are more interested in the section Feedback input templates.  In this section, we will be able to create such entities as input fields, input files, input images and input conditions.  These entities are just necessary for creating user input forms. <br><br>  Create two input fields with the names name and surname.  Input image with the name photo.  Input condition named agreement.<font style="vertical-align: inherit;"><font style="vertical-align: inherit;">For now, let's leave all the default settings for these entities. </font><font style="vertical-align: inherit;">Later in this example, we will configure validators that are also attached to these entities on the fly (Validators are also available for Common entity entities and work according to the same logic as for the feedback module. We will look at it a little later). </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Now apply the module in our website. </font><font style="vertical-align: inherit;">First, create a new action in SiteController:</font></font><br><br><pre> <code class="php hljs"><span class="hljs-comment"><span class="hljs-comment">/** * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@return</span></span></span><span class="hljs-comment"> string */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">actionMessage</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ $messages = \app\yicms\Feedback\Models\Messages::getInstance(); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;render(<span class="hljs-string"><span class="hljs-string">'message'</span></span>, [ <span class="hljs-string"><span class="hljs-string">'messages'</span></span> =&gt; $messages ]); }</code> </pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Next, create a message view and write the following in it: </font></font><br><br><pre> <code class="php hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> <span class="hljs-comment"><span class="hljs-comment">/** </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@var</span></span></span><span class="hljs-comment"> $this yii\web\View */</span></span> <span class="hljs-comment"><span class="hljs-comment">/** </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@var</span></span></span><span class="hljs-comment"> $message \app\yicms\Feedback\Models\Messages */</span></span> <span class="hljs-meta"><span class="hljs-meta">?&gt;</span></span> <span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> $form = \yii\bootstrap\ActiveForm::begin([ <span class="hljs-string"><span class="hljs-string">'id'</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">'some-form'</span></span>, <span class="hljs-string"><span class="hljs-string">'options'</span></span> =&gt; [ <span class="hljs-string"><span class="hljs-string">'data-pjax'</span></span> =&gt; <span class="hljs-keyword"><span class="hljs-keyword">true</span></span>, ], ]); <span class="hljs-meta"><span class="hljs-meta">?&gt;</span></span> &lt;div <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class">="</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">row</span></span></span><span class="hljs-class">"&gt; &lt;</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">div</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">class</span></span></span><span class="hljs-class">="</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">col</span></span></span><span class="hljs-class">-</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">xs</span></span></span><span class="hljs-class">-12"&gt; &lt;?= \</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">yii</span></span></span><span class="hljs-class">\</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">helpers</span></span></span><span class="hljs-class">\</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Html</span></span></span><span class="hljs-class">::</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">submitButton</span></span></span><span class="hljs-class">('</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Save</span></span></span><span class="hljs-class">', ['</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">class</span></span></span><span class="hljs-class">' =&gt; '</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">btn</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">btn</span></span></span><span class="hljs-class">-</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">success</span></span></span><span class="hljs-class">']) ?&gt; &lt;/</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">div</span></span></span><span class="hljs-class">&gt; &lt;/</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">div</span></span></span><span class="hljs-class">&gt; &lt;?</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">php</span></span></span><span class="hljs-class"> \</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">yii</span></span></span><span class="hljs-class">\</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">bootstrap</span></span></span><span class="hljs-class">\</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ActiveForm</span></span></span><span class="hljs-class">::</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">end</span></span></span><span class="hljs-class">(); ?&gt;</span></span></code> </pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">To create the form, we will use the standard tools of the framework. </font><font style="vertical-align: inherit;">In order to take advantage of the feedback module, we will write the following:</font></font><br><br><pre> <code class="php hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ($messages-&gt;input_name-&gt;isActive): <span class="hljs-meta"><span class="hljs-meta">?&gt;</span></span> <span class="hljs-meta"><span class="hljs-meta">&lt;?</span></span>= $form-&gt;field($messages-&gt;input_name, $messages-&gt;input_name-&gt;key) <span class="hljs-meta"><span class="hljs-meta">?&gt;</span></span> <span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> <span class="hljs-keyword"><span class="hljs-keyword">endif</span></span>; <span class="hljs-meta"><span class="hljs-meta">?&gt;</span></span> <span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ($messages-&gt;input_surname-&gt;isActive): <span class="hljs-meta"><span class="hljs-meta">?&gt;</span></span> <span class="hljs-meta"><span class="hljs-meta">&lt;?</span></span>= $form-&gt;field($messages-&gt;input_surname, $messages-&gt;input_surname-&gt;key) <span class="hljs-meta"><span class="hljs-meta">?&gt;</span></span> <span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> <span class="hljs-keyword"><span class="hljs-keyword">endif</span></span>; <span class="hljs-meta"><span class="hljs-meta">?&gt;</span></span> <span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ($messages-&gt;input_photo-&gt;isActive): <span class="hljs-meta"><span class="hljs-meta">?&gt;</span></span> <span class="hljs-meta"><span class="hljs-meta">&lt;?</span></span>= $form-&gt;field($messages-&gt;input_photo, $messages-&gt;input_photo-&gt;key) -&gt;fileInput() <span class="hljs-meta"><span class="hljs-meta">?&gt;</span></span> <span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> <span class="hljs-keyword"><span class="hljs-keyword">endif</span></span>; <span class="hljs-meta"><span class="hljs-meta">?&gt;</span></span> <span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ($messages-&gt;input_agreement-&gt;isActive): <span class="hljs-meta"><span class="hljs-meta">?&gt;</span></span> <span class="hljs-meta"><span class="hljs-meta">&lt;?</span></span>= $form-&gt;field($messages-&gt;input_agreement, $messages-&gt;input_agreement-&gt;key)-&gt;checkbox() <span class="hljs-meta"><span class="hljs-meta">?&gt;</span></span> <span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> <span class="hljs-keyword"><span class="hljs-keyword">endif</span></span>; <span class="hljs-meta"><span class="hljs-meta">?&gt;</span></span></code> </pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">For entities of type input, you must use the prefix input_, otherwise autoannotations work for them the same way as for other things in yicms. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">At the beginning there is a check on the field activity, if the field is inactive, then it should not be rendered, and even if it is rendered, the data that was filled in it will not be uploaded to the server. The field activity can be enabled / disabled in the dev panel. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Next comes the standard form of the framework where you need to write like this.</font></font><br><br><pre> <code class="php hljs">$form-&gt;field($messages-&gt;input_name, $messages-&gt;input_name-&gt;key)</code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">$ messages-&gt; input_name returns an object of class app \ yicms \ Feedback \ Models \ Message \ InputFields \ Name which is a successor to the Model framework Yii2 and can be used in forms, $ messages-&gt; input_name-&gt; key returns the correct key value, in order so that the form can be loaded. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Now, when we go to the page with the form, all its fields are rendered, but the upload to the server is not working yet. Make it very easy. I tried to make the interface of working with feedback as similar as possible to the interface of working models in the framework. Yes, I had to ‚Äúsacrifice‚Äù a bit of architecture, but in general it turned out like this:</font></font><br><br><pre> <code class="php hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">actionMessage</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ $messages = \app\yicms\Feedback\Models\Messages::getInstance(); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ($messages-&gt;load(Yii::$app-&gt;request-&gt;post()) &amp;&amp; $messages-&gt;validate()) { $messages-&gt;handle(); } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;render(<span class="hljs-string"><span class="hljs-string">'message'</span></span>, [ <span class="hljs-string"><span class="hljs-string">'messages'</span></span> =&gt; $messages ]); }</code> </pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Now the form is loaded, validated and saved on the server. </font><font style="vertical-align: inherit;">In the admin section, we can see the information that was entered into the form. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Of course, you can use the auto-annotated class:</font></font><br><br> <code>\app\yicms\Feedback\Models\Messages</code> <br> <br><pre> <code class="php hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Messages</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Feedback</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-comment"><span class="hljs-comment">/** * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@return</span></span></span><span class="hljs-comment"> self instance . */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getInstance</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>::getByName(<span class="hljs-string"><span class="hljs-string">'messages'</span></span>); } <span class="hljs-comment"><span class="hljs-comment">/** * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@inheritdoc</span></span></span><span class="hljs-comment"> */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">init</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;on(<span class="hljs-keyword"><span class="hljs-keyword">self</span></span>::EVENT_AFTER_HANDLE, <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">($event)</span></span></span><span class="hljs-function"> </span></span>{ Yii::$app-&gt;mailer-&gt;compose(<span class="hljs-string"><span class="hljs-string">'message'</span></span>, [ <span class="hljs-string"><span class="hljs-string">'message'</span></span> =&gt; <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span> ]) -&gt;setFrom(<span class="hljs-string"><span class="hljs-string">'from@domain.com'</span></span>) -&gt;setTo(<span class="hljs-string"><span class="hljs-string">'to@domain.com'</span></span>) -&gt;setSubject(<span class="hljs-string"><span class="hljs-string">'Message subject'</span></span>) -&gt;send(); }); } }</code> </pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">In this example, we have subscribed to the event EVENT_AFTER_HANDLE. </font><font style="vertical-align: inherit;">The event occurs after the form data has been saved to the server. </font><font style="vertical-align: inherit;">In this case, we send an email, in the template of which we can insert saved form data:</font></font><br><br><pre> <code class="php hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> <span class="hljs-comment"><span class="hljs-comment">/** </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@var</span></span></span><span class="hljs-comment"> $this \yii\web\View view component instance */</span></span> <span class="hljs-comment"><span class="hljs-comment">/** </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@var</span></span></span><span class="hljs-comment"> $message \app\yicms\Feedback\Models\Message */</span></span> <span class="hljs-meta"><span class="hljs-meta">?&gt;</span></span> &lt;h1&gt;Mail on message&lt;/h1&gt; &lt;h1&gt;Name: <span class="hljs-meta"><span class="hljs-meta">&lt;?</span></span>= $message-&gt;input_name-&gt;value <span class="hljs-meta"><span class="hljs-meta">?&gt;</span></span>&lt;/h1&gt; &lt;h2&gt;Surname: <span class="hljs-meta"><span class="hljs-meta">&lt;?</span></span>= $message-&gt;input_surname-&gt;value <span class="hljs-meta"><span class="hljs-meta">?&gt;</span></span>&lt;/h2&gt;</code> </pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">$ message-&gt; input_name-&gt; value simply returns the current data that has been saved to the database. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Now let's see how validators work. Add the Required validator to the input field entity named name in the dev panel. This is the standard validator yii \ validators \ RequiredValidator framework. When we added it, it is not active yet, since the button with its name is white. In order to activate it, you must click on this button, the validator settings window will open. There you need to install the checkbox and activate it. At the same time there you can configure all other parameters of the validator, such as error messages in all languages ‚Äã‚Äãof the system, etc. After saving, the validator icon turns green, which means it has become active and will be applied when validating forms.</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">On the input_condition with the name agreement, we hang the compare validator. </font><font style="vertical-align: inherit;">And we set it up for comparison with 1, the number type and the == operator. </font><font style="vertical-align: inherit;">Additionally, you can write a message in the error text fields, such as "You must necessarily agree to the terms of the offer." </font><font style="vertical-align: inherit;">Now the validation on the form will take place only in the case when the agreement checkbox is selected. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Total in this article we reviewed the main features of the system yicms. </font></font><br><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PS The</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> work on yicms was very interesting and exciting for me, and personally the system seems to me quite comfortable. </font><font style="vertical-align: inherit;">However, this is my subjective opinion. I am wondering if it will be useful for the community, should I tidy up the repositories, write documentation, cover the system with tests, etc.</font></font></div><p>Source: <a href="https://habr.com/ru/post/454914/">https://habr.com/ru/post/454914/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../45490/index.html">Programming cost</a></li>
<li><a href="../454900/index.html">How to make web forms on the site convenient and safe: development tools and designers</a></li>
<li><a href="../454904/index.html">Samsung opens a free online course on neural networks in computer vision tasks</a></li>
<li><a href="../454906/index.html">Rating sites additional education in IT: the results of the study "My Circle"</a></li>
<li><a href="../454912/index.html">By Dwarf Fortress Tarn Adams talks about game development.</a></li>
<li><a href="../454916/index.html">Neural network architecture for the implementation of the RL algorithm with the ability to specify simultaneously running actions</a></li>
<li><a href="../454918/index.html">How to combine backups of two retailers on SAP in 12 hours</a></li>
<li><a href="../454920/index.html">Frontend performance: parse important metrics</a></li>
<li><a href="../454922/index.html">Tales about foreign customers and their peculiarities of work in Russia after the law on PD</a></li>
<li><a href="../454926/index.html">Everything you know about word2vec is not true</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>