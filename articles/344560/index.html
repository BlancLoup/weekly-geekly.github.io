<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>IQ correlation with our life (Feature ranking)</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Prologue 
 Sometimes each of us has a question that bothers us. And as a rule, the answer to such a question can be obtained only by analyzing the exp...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>IQ correlation with our life (Feature ranking)</h1><div class="post__text post__text-html js-mediator-article"><h3>  Prologue </h3><br>  Sometimes each of us has a question that bothers us.  And as a rule, the answer to such a question can be obtained only by analyzing the experience of a large number of people.  I have a question: ‚ÄúWhat factors influence IQ and is it just a little advantage?‚Äù.  Of course, the reader may exclaim that everyone has long known everything and can read articles on this topic.  To some extent you will be right, but alas, articles on IQ turned out to be extremely controversial and forced on me even more questions.  That's why I decided to conduct my modest research on this topic. <br><br><img src="https://habrastorage.org/webt/vp/ql/ss/vpqlssrutevbl_gsvlh4detgs0c.jpeg"><br><a name="habracut"></a><br><h3>  <b>Cambridge study in delinquent development</b> </h3><br>  In 1962, in England, a large-scale and long-term study (20 years) began on what factors influence antisocial behavior.  About 500 10-year-old boys were selected as respondents, 890 parameters are attached to each respondent, which describe his youth, maturity, the life of his family and his environment.  Among these parameters was the level of IQ, which led me to the idea of ‚Äã‚Äãstudying the dependencies between it and other variables. <br><br><img src="https://habrastorage.org/webt/oz/md/3a/ozmd3aj3ybjyd7ylza8zvfplgp0.jpeg">
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h3>  <b>Import libraries and load data:</b> </h3><br><pre><code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> pandas <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> pd <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> matplotlib.pyplot <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> plt <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> sklearn <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> preprocessing <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> matplotlib.pyplot <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> plt <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> seaborn <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> sns <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> numpy <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> np <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> sklearn <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> preprocessing <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> warnings warnings.filterwarnings(<span class="hljs-string"><span class="hljs-string">'ignore'</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> random <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> rn <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> sklearn.cross_validation <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> train_test_split <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> sklearn.naive_bayes <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> GaussianNB <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> sklearn.ensemble <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> RandomForestRegressor <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> sklearn.neighbors <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> KNeighborsClassifier <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> sklearn.linear_model <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> LogisticRegression <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> sklearn <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> svm</code> </pre> <br><pre> <code class="python hljs">data = pd.read_stata(<span class="hljs-string"><span class="hljs-string">'/Users/####/Downloads/ICPSR_08488/DS0001/08488-0001-Data.dta'</span></span>)</code> </pre> <br><h3>  Data processing </h3><br>  IQ was chosen as the target variable, and it needed a small adjustment: <br><br><pre> <code class="python hljs">data[<span class="hljs-string"><span class="hljs-string">'V288'</span></span>].replace(<span class="hljs-string"><span class="hljs-string">'IQ75'</span></span>,<span class="hljs-number"><span class="hljs-number">75</span></span>,inplace=<span class="hljs-keyword"><span class="hljs-keyword">True</span></span> ) data[<span class="hljs-string"><span class="hljs-string">'V288'</span></span>].replace(<span class="hljs-string"><span class="hljs-string">'IQ129'</span></span>,<span class="hljs-number"><span class="hljs-number">129</span></span>,inplace=<span class="hljs-keyword"><span class="hljs-keyword">True</span></span>) data[<span class="hljs-string"><span class="hljs-string">'V288'</span></span>].replace(<span class="hljs-string"><span class="hljs-string">'IQ128'</span></span>,<span class="hljs-number"><span class="hljs-number">128</span></span>,inplace=<span class="hljs-keyword"><span class="hljs-keyword">True</span></span>)</code> </pre> <br><h3>  Selection of required signs </h3><br><pre> <code class="python hljs"><span class="hljs-comment"><span class="hljs-comment"># ,         ranks = {} #       def ranking(ranks, names, order=1): minmax = MinMaxScaler() ranks = minmax.fit_transform(order*np.array([ranks]).T).T[0] ranks = map(lambda x: round(x,2), ranks) return dict(zip(names, ranks))</span></span></code> </pre> <br><pre> <code class="python hljs"><span class="hljs-comment"><span class="hljs-comment">#  (Y) Y = data['V288'].values # Y     IQ = data.drop(['V288'], axis=1) X = data.as_matrix() #   colnames = IQ.columns</span></span></code> </pre> <br><pre> <code class="python hljs">%matplotlib inline <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> sklearn.feature_selection <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> RFE, f_regression <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> sklearn.linear_model <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> (LinearRegression, Ridge, Lasso, RandomizedLasso) <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> sklearn.preprocessing <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> MinMaxScaler <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> sklearn.ensemble <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> RandomForestRegressor <span class="hljs-comment"><span class="hljs-comment">#      rlasso = RandomizedLasso(alpha=0.04) Y = data['V288'].values rlasso.fit(X, Y) ranks["rlasso/Stability"] = ranking(np.abs(rlasso.scores_), colnames) print('finished')</span></span></code> </pre> <br>  In order not to load the article with the code, I gave a fragment of only one test for assessing the signs. <br><br><h3>  We display all the importance values ‚Äã‚Äãin our dictionary. </h3><br><pre> <code class="python hljs">r = {} <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> name <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> colnames: r[name] = round(np.mean([ranks[method][name] <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> method <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> ranks.keys()]), <span class="hljs-number"><span class="hljs-number">2</span></span>) methods = sorted(ranks.keys()) ranks[<span class="hljs-string"><span class="hljs-string">"Mean"</span></span>] = r methods.append(<span class="hljs-string"><span class="hljs-string">"Mean"</span></span>) print(<span class="hljs-string"><span class="hljs-string">"\t%s"</span></span> % <span class="hljs-string"><span class="hljs-string">"\t"</span></span>.join(methods)) <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> name <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> colnames: print(<span class="hljs-string"><span class="hljs-string">"%s\t%s"</span></span> % (name, <span class="hljs-string"><span class="hljs-string">"\t"</span></span>.join(map(str, [ranks[method][name] <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> method <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> methods]))))</code> </pre> <br>  The matrix of results is as follows, and the last column displays the average importance value based on all tests: <br><br><img src="https://habrastorage.org/webt/my/w7/wl/myw7wlgyfxhl56scxotumoau5iu.png"><br><br>  Let's select the top 100 variables by average: <br><br><pre> <code class="python hljs">sorted(r, key=r.get, reverse=<span class="hljs-keyword"><span class="hljs-keyword">True</span></span>)[:<span class="hljs-number"><span class="hljs-number">100</span></span>]</code> </pre> <br><h3>  Description of the most significant signs of signs </h3><br>  Also, just in case, I rechecked these variables using the Pearson criterion. <br><br>  <b>1. Average IQ and state of life:</b> <br>  p_value 0.035 <br>  Normal: 98.171533 <br>  Awful: 103.934307 <br><br>  <b>2. Average IQ and behavior:</b> <br>  p_value 0.005 <br>  Rowdy: 102.395833 <br>  Adequate: 98.286385 <br><br>  <b>3. Middle IQ and Lies</b> <br>  p_value 0.004 <br>  Rarely lies: 94.357895 <br>  Periodically lying: 99.627907 <br>  Often lies: 101.702381 <br>  Always lying: 102.204545 <br><br>  <b>4. Middle IQ and social support:</b> <br>  Implied subsidies and benefits. <br>  p_value 0.004 <br>  Not supported by the state: 98.310976 <br>  Supported: 107.132530 <br><br>  <b>5. Middle IQ and appearance:</b> <br>  p_value 0.011 <br>  Preppy: 96.295597 <br>  Average: 102.608696 <br>  Untidy: 100.526316 <br><br>  <b>6.Medium IQ and concentration</b> <br>  p_value 0.007 <br>  Good concentration: 98.732218 <br>  Poor concentration: 105.186207 <br><br>  <b>7. Middle IQ and developmental problems in infancy.</b> <br>  p_value 0.012 <br>  Normal: 99.294304 <br>  Development Delay: 104.562500 <br><br>  In the end, it was interesting to see the dependence of what kind of IQ the child had at school and how much he earns at the age of 30 (the average weekly income is taken) <br><br>  <b>IQ and salary:</b> <br><br>  111 and above: 17.500000 <br>  101-110: 16.906250 <br>  91-100: 17.364486 <br>  90 and below: 17.558140 <br><br><h3>  Conclusion </h3><br>  There are factors that are really able to influence our IQ, but on the other hand, the IQ in the case of our sample could not affect the level of earnings. </div><p>Source: <a href="https://habr.com/ru/post/344560/">https://habr.com/ru/post/344560/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../344548/index.html">Zabbix: LLD monitoring of disks without UserParameter and agent scripts</a></li>
<li><a href="../344550/index.html">The history of victory in the international competition for the recognition of documents of the SmartEngines company</a></li>
<li><a href="../344552/index.html">OSU! Relax (basics)</a></li>
<li><a href="../344556/index.html">[DotNetBook] Type Instance Structure and VMT</a></li>
<li><a href="../344558/index.html">Garland generation algorithm for the New Year puzzle</a></li>
<li><a href="../344562/index.html">Lua and Corona SDK (3/3 part)</a></li>
<li><a href="../344564/index.html">Finite Element Programming</a></li>
<li><a href="../344566/index.html">We build in-app purchase into our app</a></li>
<li><a href="../344570/index.html">Virtual nuclear installations: full development cycle for Oculus Rift in one person (UPD 12/18/2017)</a></li>
<li><a href="../344572/index.html">Vulnerability from 1998 again in the ranks - meet ROBOT</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>