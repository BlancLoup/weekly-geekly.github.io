<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Fake S3 for offline development and money saving</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Curtis Spencer (Curtis Spencer) and colleagues from Spool have developed a lightweight Fake S3 server that behaves like a real Amazon S3 and helps tes...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Fake S3 for offline development and money saving</h1><div class="post__text post__text-html js-mediator-article">  Curtis Spencer (Curtis Spencer) and colleagues from Spool have developed a lightweight <a href="https://github.com/jubos/fake-s3">Fake S3</a> server that behaves like a real Amazon S3 and helps test projects without driving data to the cloud and not spending money on traffic.  In addition, for testing Fake S3 is more reliable, because it works locally.  Spencer says that thanks to Fake S3, they saved about $ 1000 in the last month on traffic alone. <br><br>  <b>Installation</b> <br><br><pre><code class="hljs sql">gem <span class="hljs-keyword"><span class="hljs-keyword">install</span></span> fakes3</code> </pre> <br>  <b>To start the server you need to specify the host and port</b> 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <pre> <code class="hljs nginx"><span class="hljs-attribute"><span class="hljs-attribute">fakes3</span></span> -r /mnt/fakes3_root -p <span class="hljs-number"><span class="hljs-number">4567</span></span></code> </pre> <br><a name="habracut"></a>  <b>Sample Client Code</b> <br><br><pre> <code class="ruby hljs"><span class="hljs-keyword"><span class="hljs-keyword">require</span></span> <span class="hljs-string"><span class="hljs-string">'rubygems'</span></span> <span class="hljs-keyword"><span class="hljs-keyword">require</span></span> <span class="hljs-string"><span class="hljs-string">'aws/s3'</span></span> <span class="hljs-keyword"><span class="hljs-keyword">include</span></span> AWS::S3 AWS::S3::Base.establish_connection!(<span class="hljs-symbol"><span class="hljs-symbol">:access_key_id</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">"123"</span></span>, <span class="hljs-symbol"><span class="hljs-symbol">:secret_access_key</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">"abc"</span></span>, <span class="hljs-symbol"><span class="hljs-symbol">:server</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">"localhost"</span></span>, <span class="hljs-symbol"><span class="hljs-symbol">:port</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">"10001"</span></span>) Bucket.create(<span class="hljs-string"><span class="hljs-string">'mystuff'</span></span>) (<span class="hljs-string"><span class="hljs-string">'a'</span></span>..<span class="hljs-string"><span class="hljs-string">'z'</span></span>).each <span class="hljs-keyword"><span class="hljs-keyword">do</span></span> <span class="hljs-params"><span class="hljs-params">|filename|</span></span> S3Object.store(filename, <span class="hljs-string"><span class="hljs-string">'Hello World'</span></span>, <span class="hljs-string"><span class="hljs-string">'mystuff'</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">end</span></span> bucket = Bucket.find(<span class="hljs-string"><span class="hljs-string">'mystuff'</span></span>) bucket.objects.each <span class="hljs-keyword"><span class="hljs-keyword">do</span></span> <span class="hljs-params"><span class="hljs-params">|s3_obj|</span></span> puts <span class="hljs-string"><span class="hljs-string">"</span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">#{s3_obj.key}</span></span></span><span class="hljs-string">:</span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">#{s3_obj.value}</span></span></span><span class="hljs-string">"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">end</span></span> Bucket.delete(<span class="hljs-string"><span class="hljs-string">"mystuff"</span></span>,<span class="hljs-symbol"><span class="hljs-symbol">:force</span></span> =&gt; <span class="hljs-literal"><span class="hljs-literal">true</span></span>) <span class="hljs-comment"><span class="hljs-comment"># Delete your bucket and all its keys</span></span></code> </pre> <br>  It is even possible to emulate network conditions, for example, the maximum channel width. <br><br><pre> <code class="hljs pgsql">fakes3 -r ~/fakes3_root -p <span class="hljs-number"><span class="hljs-number">10001</span></span> <span class="hljs-comment"><span class="hljs-comment">--limit=50K</span></span></code> </pre> <br>  This command will limit the bandwidth for GET requests to 50K / s per request. <br><br>  The developers emphasize that their server is designed specifically for testing projects, and not for replacing S3.  If you want to make a S3 replacement, then they <a href="http://blog.getspool.com/2012/04/18/fake-s3-save-time-money-and-develop-offline/">recommend</a> using other tools for this: <a href="http://ceph.newdream.net/">Ceph</a> , <a href="https://github.com/mattjamieson/parkplace">ParkPlace</a> (supports bitorrent), <a href="https://github.com/razerbeans/boardwalk">Boardwalk</a> (S3 interface before MongoDB) and <a href="http://basho.com/products/riakcs/">RiakCS</a> . </div><p>Source: <a href="https://habr.com/ru/post/142566/">https://habr.com/ru/post/142566/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../142559/index.html">Weekly Digest # 2: Simple-Science - Simple Experiments</a></li>
<li><a href="../142562/index.html">The twi journal</a></li>
<li><a href="../142563/index.html">Release Midnight Commander 4.8.3</a></li>
<li><a href="../142564/index.html">Another article on code review</a></li>
<li><a href="../142565/index.html">Pravdometer.ru - results for 2 years</a></li>
<li><a href="../142567/index.html">Google conducts "spring cleaning"</a></li>
<li><a href="../142568/index.html">The program from Navizon allows you to search for nearby smartphones with Wi-Fi</a></li>
<li><a href="../142569/index.html">How do you write terms in SI-like languages? With brackets in terms of or without?</a></li>
<li><a href="../142570/index.html"># BADA55-colors for web design</a></li>
<li><a href="../142572/index.html">Persistent segment trees</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>