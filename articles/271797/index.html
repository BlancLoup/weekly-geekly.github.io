<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>COUNT (*)</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="I have a selection of simple questions that I like to ask during the interview. For example, how to calculate the total number of records to a table? ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>COUNT (*)</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/files/d83/7af/d85/d837afd8559d4ab59f578bf7474843d5.PNG"><br><br>  I have a selection of simple questions that I like to ask during the interview.  For example, how to calculate the total number of records to a table?  It seems to be nothing complicated, but if you dig deeper, you can tell a lot of interesting nuances to the other person. <br><br>  Let's start with a simple one ... Do these requests differ from one another in terms of the final result? 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <pre><code class="1c hljs">SELECT COUNT(*) FROM Sales.SalesOrderDetail SELECT COUNT_BIG(*) FROM Sales.SalesOrderDetail</code> </pre> <a name="habracut"></a><br>  Most answered: "No." <br><br>  Less often, they tried to formulate the answer more thoroughly: ‚ÄúRequests will return an identical result, but <i>COUNT</i> will return a value of type <i>INT</i> , and <i>COUNT_BIG</i> will return a type of <i>BIGINT</i> ‚Äù. <br><br>  If you analyze the execution plan, you will notice the differences that many overlook.  When using <i>COUNT,</i> <i>Compute Scalar</i> operation will be on the plan: <br><br><img src="https://habrastorage.org/files/dc9/064/235/dc90642352b04a6f9c46032aa8597816.png"><br><br>  If you look at the properties of the operator, we will see there: <br><br><pre> <code class="1c hljs">[Expr1003] = Scalar Operator(CONVERT_IMPLICIT(int,[Expr1004],<span class="hljs-number"><span class="hljs-number">0</span></span>))</code> </pre><br>  This is because when calling <i>COUNT</i> , <i>COUNT_BIG</i> is implicitly used and the result is converted to <i>INT</i> . <br><br>  I would not say that significantly, but type conversion increases the load on the processor.  Many, of course, can say that this statement is worthless when executed, but it is necessary to note a simple fact - <i>SQL Server</i> very often underestimates <i>Compute Scalar</i> statements. <br><br>  I also know people who like to use <i>SUM</i> instead of <i>COUNT</i> : <br><br><pre> <code class="1c hljs">SELECT SUM(<span class="hljs-number"><span class="hljs-number">1</span></span>) FROM Sales.SalesOrderDetail</code> </pre><br>  This option is roughly equivalent to <i>COUNT</i> .  We will also get an extra <i>Compute Scalar</i> on the execution plan: <br><br><pre> <code class="1c hljs">[Expr1003] = Scalar Operator(CASE WHEN [Expr1004]=(<span class="hljs-number"><span class="hljs-number">0</span></span>) THEN <span class="hljs-literal"><span class="hljs-literal">NULL</span></span> ELSE [Expr1005] END)</code> </pre><br>  Now let's take a closer look at performance issues. ... <br><br>  If you use the queries above, in order to count the number of <i>SQL Server</i> entries, you must run <i>Full Index Scan</i> (or <i>Full Table Scan</i> if the table is a heap).  In any case, these operations are far from the fastest.  It is best to use system views to get the number of records: <a href="https://msdn.microsoft.com/en-us/library/ms187737%2528v%3Dsql.110%2529.aspx">sys.dm_db_partition_stats</a> or <a href="https://msdn.microsoft.com/en-us/library/ms175012%2528v%3Dsql.110%2529.aspx">sys.partitions</a> (there are still <a href="https://msdn.microsoft.com/en-us/library/ms190283.aspx">sysindexes</a> , but left for backward compatibility with <i>SQL Server 2000</i> ). <br><br><pre> <code class="1c hljs">USE AdventureWorks2012 GO SET STATISTICS IO ON SET STATISTICS TIME ON GO SELECT COUNT_BIG(*) FROM Sales.SalesOrderDetail SELECT SUM(p.[rows]) FROM sys.partitions p WHERE p.[object_id] = OBJECT_ID('Sales.SalesOrderDetail') AND p.index_id &lt; <span class="hljs-number"><span class="hljs-number">2</span></span> SELECT SUM(s.row_count) FROM sys.dm_db_partition_stats s WHERE s.[object_id] = OBJECT_ID('Sales.SalesOrderDetail') AND s.index_id &lt; <span class="hljs-number"><span class="hljs-number">2</span></span></code> </pre><br>  If you compare the execution plans, then access to system views is less expensive: <br><br><img src="https://habrastorage.org/files/48b/f6f/56d/48bf6f56d5a248b587a58e465c70df74.png"><br><br>  At <i>AdventureWorks, the</i> advantage of using system views is not evident: <br><br><pre> <code class="1c hljs">Table 'SalesOrderDetail'. Scan count <span class="hljs-number"><span class="hljs-number">1</span></span>, logical reads <span class="hljs-number"><span class="hljs-number">276</span></span>, ... SQL Server Execution Times: CPU time = <span class="hljs-number"><span class="hljs-number">12</span></span> ms, elapsed time = <span class="hljs-number"><span class="hljs-number">26</span></span> ms. Table 'sysrowsets'. Scan count <span class="hljs-number"><span class="hljs-number">1</span></span>, logical reads <span class="hljs-number"><span class="hljs-number">5</span></span>, ... SQL Server Execution Times: CPU time = <span class="hljs-number"><span class="hljs-number">4</span></span> ms, elapsed time = <span class="hljs-number"><span class="hljs-number">4</span></span> ms. Table 'sysidxstats'. Scan count <span class="hljs-number"><span class="hljs-number">1</span></span>, logical reads <span class="hljs-number"><span class="hljs-number">2</span></span>, ... SQL Server Execution Times: CPU time = <span class="hljs-number"><span class="hljs-number">2</span></span> ms, elapsed time = <span class="hljs-number"><span class="hljs-number">1</span></span> ms.</code> </pre><br>  Runtime on a partitioned table with 30 million entries: <br><br><pre> <code class="1c hljs">Table 'big_test'. Scan count <span class="hljs-number"><span class="hljs-number">6</span></span>, logical reads <span class="hljs-number"><span class="hljs-number">114911</span></span>, ... SQL Server Execution Times: CPU time = <span class="hljs-number"><span class="hljs-number">4859</span></span> ms, elapsed time = <span class="hljs-number"><span class="hljs-number">5079</span></span> ms. Table 'sysrowsets'. Scan count <span class="hljs-number"><span class="hljs-number">1</span></span>, logical reads <span class="hljs-number"><span class="hljs-number">25</span></span>, ... SQL Server Execution Times: CPU time = <span class="hljs-number"><span class="hljs-number">0</span></span> ms, elapsed time = <span class="hljs-number"><span class="hljs-number">2</span></span> ms. Table 'sysidxstats'. Scan count <span class="hljs-number"><span class="hljs-number">1</span></span>, logical reads <span class="hljs-number"><span class="hljs-number">2</span></span>, ... SQL Server Execution Times: CPU time = <span class="hljs-number"><span class="hljs-number">0</span></span> ms, elapsed time = <span class="hljs-number"><span class="hljs-number">2</span></span> ms.</code> </pre><br>  If you need to check the presence of records in the table, the use of metadata as shown above will not give special advantages ... <br><br><pre> <code class="1c hljs">IF EXISTS(SELECT * FROM Sales.SalesOrderDetail) PRINT <span class="hljs-number"><span class="hljs-number">1</span></span> IF EXISTS( SELECT * FROM sys.dm_db_partition_stats WHERE [object_id] = OBJECT_ID('Sales.SalesOrderDetail') AND row_count &gt; <span class="hljs-number"><span class="hljs-number">0</span></span> ) PRINT <span class="hljs-number"><span class="hljs-number">1</span></span></code> </pre><br><pre> <code class="1c hljs">Table 'SalesOrderDetail'. Scan count <span class="hljs-number"><span class="hljs-number">1</span></span>, logical reads <span class="hljs-number"><span class="hljs-number">2</span></span>,... SQL Server Execution Times: CPU time = <span class="hljs-number"><span class="hljs-number">1</span></span> ms, elapsed time = <span class="hljs-number"><span class="hljs-number">3</span></span> ms. Table 'sysidxstats'. Scan count <span class="hljs-number"><span class="hljs-number">1</span></span>, logical reads <span class="hljs-number"><span class="hljs-number">2</span></span>,... SQL Server Execution Times: CPU time = <span class="hljs-number"><span class="hljs-number">4</span></span> ms, elapsed time = <span class="hljs-number"><span class="hljs-number">5</span></span> ms.</code> </pre><br>  And in practice, it will even be a bit slower, since <i>SQL Server</i> generates a more complex execution plan for sampling from metadata. <br><br><img src="https://habrastorage.org/files/452/8f3/1cd/4528f31cdaee4231af1f8a1c4c7cf3d5.png"><br><br>  It becomes even more interesting when you need to count the number of records for all tables at once.  In practice, I met several options that can be summarized. <br><br>  Variant # 1 with the use of an undocumented procedure that bypasses all user tables with a cursor: <br><br><pre> <code class="1c hljs">IF OBJECT_ID('tempdb.dbo.#temp') IS NOT <span class="hljs-literal"><span class="hljs-literal">NULL</span></span> DROP TABLE <span class="hljs-meta"><span class="hljs-meta">#temp GO CREATE TABLE #temp (obj SYSNAME, row_count BIGINT) GO EXEC sys.sp_MSForEachTable @command1 = 'INSERT #temp SELECT ''?'', COUNT_BIG(*) FROM ?' SELECT * FROM #temp ORDER BY row_count DESC</span></span></code> </pre><br>  Option # 2 is dynamic SQL that generates <i>SELECT COUNT (*)</i> queries: <br><br><pre> <code class="1c hljs">DECLARE @SQL NVARCHAR(MAX) SELECT @SQL = STUFF(( SELECT 'UNION ALL SELECT ''' + SCHEMA_NAME(o.[schema_id]) + '.' + o.name + ''', COUNT_BIG(*) FROM [' + SCHEMA_NAME(o.[schema_id]) + '].[' + o.name + ']' FROM sys.objects o WHERE o.[type] = 'U' AND o.is_ms_shipped = <span class="hljs-number"><span class="hljs-number">0</span></span> FOR XML PATH(''), TYPE).value('.', 'NVARCHAR(MAX)'), <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">10</span></span>, '') + ' ORDER BY 2 DESC' PRINT @SQL EXEC sys.sp_executesql @SQL</code> </pre><br>  Option # 3 is a quick option for every day: <br><br><pre> <code class="1c hljs">SELECT SCHEMA_NAME(o.[schema_id]), o.name, t.row_count FROM sys.objects o JOIN ( SELECT p.[object_id], row_count = SUM(p.row_count) FROM sys.dm_db_partition_stats p WHERE p.index_id &lt; <span class="hljs-number"><span class="hljs-number">2</span></span> GROUP BY p.[object_id] ) t ON t.[object_id] = o.[object_id] WHERE o.[type] = 'U' AND o.is_ms_shipped = <span class="hljs-number"><span class="hljs-number">0</span></span> ORDER BY t.row_count DESC</code> </pre><br>  I gave a lot of praises that system views are so good.  However, when working with them, ‚Äúpleasant‚Äù surprises may lie in wait for us. <br><br>  It is remembered that there was such a fun bug when, when migrating from <i>SQL Server 2000</i> to <i>2005,</i> some system views were incorrectly updated.  Particularly lucky people, in this case, incorrect values ‚Äã‚Äãabout the number of records in the tables were returned from the metadata.  It was treated with all this command <a href="https://msdn.microsoft.com/ru-ru/library/ms188414%2528v%3Dsql.110%2529.aspx">DBCC UPDATEUSAGE</a> . <br><br>  Together with <i>SQL Server 2005 SP1,</i> this bug was fixed and everything would be fine ... But I observed a similar situation one more time when I restored backup from <i>SQL Server 2005 SP4</i> to <i>SQL Server 2012 SP2</i> .  Alas, I can‚Äôt reproduce the problem on a real environment, so I‚Äôm a little deceiving the optimizer: <br><br><pre> <code class="1c hljs">UPDATE STATISTICS Person.Person WITH ROWCOUNT = <span class="hljs-number"><span class="hljs-number">1000000000000000000</span></span></code> </pre><br>  I will tell on a simple example. <br><br>  The most innocuous query started running longer than usual: <br><br><pre> <code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">SELECT</span></span> FirstName, <span class="hljs-keyword"><span class="hljs-keyword">COUNT</span></span>(*) <span class="hljs-keyword"><span class="hljs-keyword">FROM</span></span> Person.Person <span class="hljs-keyword"><span class="hljs-keyword">GROUP</span></span> <span class="hljs-keyword"><span class="hljs-keyword">BY</span></span> FirstName</code> </pre><br>  Looked at the plan for the request and saw there is clearly an inadequate value <i>Estimated number of rows</i> : <br><br><img src="https://habrastorage.org/files/57e/6df/b17/57e6dfb179004d72b495940f59fa2491.png"><br><br>  Looked at the statistics on the cluster index: <br><br><pre> <code class="1c hljs">DECLARE @SQL NVARCHAR(MAX) DECLARE @obj SYSNAME = 'Person.Person' SELECT @SQL = 'DBCC SHOW_STATISTICS(''' + @obj + ''', ' + name + ') WITH STAT_HEADER' FROM sys.stats WHERE [object_id] = OBJECT_ID(@obj) AND stats_id &lt; <span class="hljs-number"><span class="hljs-number">2</span></span> EXEC sys.sp_executesql @SQL</code> </pre><br>  Everything was normal: <br><br><img src="https://habrastorage.org/files/838/22b/ef4/83822bef4de54f76baf018b1ba19deb6.png"><br><br>  But in system representations about which we spoke earlier: <br><br><pre> <code class="1c hljs">SELECT rowcnt FROM sys.sysindexes WHERE id = OBJECT_ID('Person.Person') AND indid &lt; <span class="hljs-number"><span class="hljs-number">2</span></span> SELECT SUM([rows]) FROM sys.partitions p WHERE p.[object_id] = OBJECT_ID('Person.Person') AND p.index_id &lt; <span class="hljs-number"><span class="hljs-number">2</span></span></code> </pre><br>  there was sadness: <br><br><img src="https://habrastorage.org/files/64a/1b9/9d6/64a1b99d65f64fd79c40325026449463.png"><br><br>  The query did not have predicates for filtering and the optimizer chose <i>Full Index Scan</i> .  With <i>Full Index / Table Scan, the</i> optimizer does not take the expected number of rows from statistics, but refers to metadata (it is not sure if it always happens). <br><br>  It‚Äôs no secret that, based on <i>Estimated number of rows,</i> <i>SQL Server</i> generates an execution plan and calculates how much memory is needed to execute it.  If the estimate is incorrect, then more memory may be allocated to execute the request than is actually necessary. <br><br><pre> <code class="1c hljs">SELECT session_id, query_cost, requested_memory_kb, granted_memory_kb, required_memory_kb, used_memory_kb FROM sys.dm_exec_query_memory_grants</code> </pre><br>  This is where the incorrect estimate of the number of lines leads: <br><br><pre> <code class="1c hljs">query_cost requested_memory_kb granted_memory_kb required_memory_kb used_memory_kb ----------- -------------------- -------------------- -------------------- -------------- <span class="hljs-number"><span class="hljs-number">1133156839</span></span> <span class="hljs-number"><span class="hljs-number">769552</span></span> <span class="hljs-number"><span class="hljs-number">769552</span></span> <span class="hljs-number"><span class="hljs-number">6504</span></span> <span class="hljs-number"><span class="hljs-number">6026</span></span></code> </pre><br>  The problem was solved quite simply: <br><br><pre> <code class="sql hljs">DBCC UPDATEUSAGE(AdventureWorks2012, 'Person.Person') <span class="hljs-keyword"><span class="hljs-keyword">WITH</span></span> COUNT_ROWS DBCC FREEPROCCACHE</code> </pre><br>  After recompilating the request, everything returned to normal: <br><br><img src="https://habrastorage.org/files/dbc/a99/471/dbca994716a24cfb802f472ab5fc16ae.png"><br><br><pre> <code class="1c hljs">query_cost requested_memory_kb granted_memory_kb required_memory_kb used_memory_kb ----------- -------------------- -------------------- -------------------- -------------- <span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">2919</span></span> <span class="hljs-number"><span class="hljs-number">1168</span></span> <span class="hljs-number"><span class="hljs-number">1168</span></span> <span class="hljs-number"><span class="hljs-number">1024</span></span> <span class="hljs-number"><span class="hljs-number">952</span></span></code> </pre><br>  If system representations no longer seem to be a "saving wand", what options do we have left?  You can do everything in the old fashioned way: <br><br><pre> <code class="1c hljs">SELECT COUNT_BIG(*) FROM ...</code> </pre><br>  But with intensive insertion into the table, I would not trust the results.  The "magic" hint <i>NOLOCK</i> does not guarantee the correct value: <br><br><pre> <code class="1c hljs">SELECT COUNT_BIG(*) FROM ... WITH(NOLOCK)</code> </pre><br>  In fact, to get the correct value for the number of rows in a table, you need to perform a query under the <i>SERIALIZABLE</i> isolation <i>level</i> either using the TABLOCKX <i>hint</i> : <br><br><pre> <code class="1c hljs">SELECT COUNT_BIG(*) FROM ... WITH(TABLOCKX)</code> </pre><br>  And what we get in the end ... exclusive table locking for the period of the query execution.  And then everyone should decide for himself what is better for him to use.  My choice is metadata. <br><br>  Even more interesting is when you need to quickly calculate the number of rows by condition: <br><br><pre> <code class="1c hljs">SELECT City, COUNT_BIG(*) FROM Person.[Address] --WHERE City = N'London' GROUP BY City</code> </pre><br>  If the table does not have frequent insert-delete operations, then you can create an indexed view: <br><br><pre> <code class="1c hljs">IF OBJECT_ID('dbo.CityAddress', 'V') IS NOT <span class="hljs-literal"><span class="hljs-literal">NULL</span></span> DROP VIEW dbo.CityAddress GO CREATE VIEW dbo.CityAddress WITH SCHEMABINDING AS SELECT City, [Rows] = COUNT_BIG(*) FROM Person.[Address] GROUP BY City GO CREATE UNIQUE CLUSTERED INDEX IX ON dbo.CityAddress (City)</code> </pre><br>  For these queries, the optimizer will generate an identical plan based on the cluster index of the view: <br><br><pre> <code class="1c hljs">SELECT City, COUNT_BIG(*) FROM Person.[Address] WHERE City = N'London' GROUP BY City SELECT * FROM dbo.CityAddress WHERE City = N'London'</code> </pre><br>  Execution plan with and without an index view: <br><br><img src="https://habrastorage.org/files/536/aae/7b5/536aae7b57b14f35a86eef8efa2f4ee4.png"><br><br>  With this post I wanted to show that there are no perfect solutions for all occasions.  And in each specific situation you need to act with an individual approach. <br><br>  Everything was tested on <i>SQL Server 2012 SP3 (11.00.6020)</i> . <br><br>  <b>As conclusions</b> ... When you need to calculate the total number of rows on a table, then I use metadata - this is the fastest way.  And do not be afraid of the situation with the old bug, which I cited above. <br><br>  If you need to quickly calculate the number of rows in a section of a field or by condition - then I try to use indexed views or filtered indexes.  It all depends on the situation. <br><br>  When the table is small or performance issues are not so hot, it‚Äôs really easier to write <i>SELECT COUNT (*)</i> in the old-fashioned way ... <br><br>  If you want to share this article with an English-speaking audience: <br>  <a href="http://blog.devart.com/fastest_way_to_calculate_the_record_count.html">What is the fastest way to calculate the record COUNT?</a> </div><p>Source: <a href="https://habr.com/ru/post/271797/">https://habr.com/ru/post/271797/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../271785/index.html">Car safety: what lessons can we learn from recalling cars?</a></li>
<li><a href="../271789/index.html">Go Mutex Dancing</a></li>
<li><a href="../271791/index.html">Black Friday 2015</a></li>
<li><a href="../271793/index.html">Black Friday at hosters</a></li>
<li><a href="../271795/index.html">Use TSQL to play Baldu</a></li>
<li><a href="../271799/index.html">An example of express analysis of the performance of storage using the free service Mitrend</a></li>
<li><a href="../271803/index.html">Google spam confession</a></li>
<li><a href="../271805/index.html">Jira Automation on Groovy</a></li>
<li><a href="../271809/index.html">Investigation of the installation error Visual Studio 2015</a></li>
<li><a href="../271811/index.html">Development of fast mobile applications on Android. Part two</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>