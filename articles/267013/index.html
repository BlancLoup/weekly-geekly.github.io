<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Secure WiFi in Yandex Browser. About protection for those who have not had time to HTTPS</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Today I want to tell you about the new technology Yandex. The browser, which protects traffic when using public WiFi. And soon in the framework of the...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Secure WiFi in Yandex Browser. About protection for those who have not had time to HTTPS</h1><div class="post__text post__text-html js-mediator-article">  Today I want to tell you about the new technology Yandex. The browser, which protects traffic when using public WiFi.  And soon in the framework of the competition at the ZeroNights conference, anyone can try to find a vulnerability in it.  But first things first. <br><br> <a href="http://habrahabr.ru/company/yandex/blog/267013/"><img src="https://habrastorage.org/files/217/564/f7c/217564f7ce0b408abaa07e1a224aeaca.png"></a> <br><br>  <b>Insecure wifi</b> 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      About the risks that are open or poorly protected WiFi, you can not tell on Habr√©.  Suffice it to recall the largest in the history of <a href="http://secureinfo.info/breaches/the-tjx-hack">bank data</a> loss, when the loss of millions of credit card numbers became possible largely due to the use of unreliable WEP protocol in WiFi networks.  Ten years have passed since then, but the situation has not become better, because now we are everywhere surrounded by dots without any encryption at all.  They can be found in cafes, airports and even at bus stops.  In this case, the interception of such WiFi can master any student with a sniffer.  And the simplest devices for hacking are generally <a href="http://www.networkworld.com/article/2208671/wireless/wi-fi-key-cracking-kits-sold-in-china-mean-free-internet.html">sold</a> on the Internet for a few dollars. <br><a name="habracut"></a><br><br>  Although why hack something, if a scammer needs to create his own open WiFi-point in a public place with the name of the form "Free WiFi".  Moreover, if its name coincides with the name of another widespread one, then the smartphone can automatically connect to such a point as soon as it is within the radius of action.  As a result, fraudsters intercept all unencrypted data.  Or replace the DNS with all its consequences.  And after all, they can, on the contrary, embed shock advertising or fake authorization forms into this stream. <br><br>  The risk of data interception is well known.  That is why the use of HTTPS is an unspoken rule for any site that works with confidential data.  In the browser industry, even the <a href="http-as-non-secure">idea of</a> switching from HTTPS marking to scary warnings about the insecurity of sites with HTTP is discussed.  But change does not happen so quickly.  For example, according to our data, 68% of all downloaded pages in the browser still use HTTP.  And users, we admit to ourselves, for the most part do not pay attention to the locks in the address bar. <br><br><img src="https://habrastorage.org/files/9c7/29b/cfd/9c729bcfd66e437ab2f7be56fe05d304.png"><br>  Chromium experiment <br><br>  At some point, when sorting out requests for support, we thought, and if we do not turn on traffic encryption on the browser side?  Moreover, we already have a proxy server, and Turbo technology, which is responsible for optimizing pages and videos, runs on it.  But Turbo mode, contrary to popular belief, did not know how to encrypt traffic.  A few words about how the old version of Turbo technology worked now in our browser. <br><br>  <b>Turbo 1.0</b> <br><br>  Turbo server component was once written by Opera in such widely known in very narrow circles language as <a href="https://ru.wikipedia.org/wiki/Pike">Pike</a> .  Therefore, we tried not to touch the server again, remembering you know what commandment. <br><br>  Data exchange with the client was carried out through an already outdated version of SPDY without any TLS.  The client code in the browser, initially focused on the simplest mode of operation with compression (ON / OFF), over time has acquired new chips.  We taught him to turn on automatically depending on the speed.  Moreover, even the statistics of other users from the nearest IP addresses were taken into account in order to turn on the acceleration before the person feels the brakes.  And then integrated such a cool chip, as the compression of streaming video.  The code from all this for some reason did not get any easier, but really wanted to. <br><br>  In other words, for the beginning it was necessary to update all the technology of proxying.  Fortunately, we had slippers. <br><br>  <b>Project Slippers</b> <br><br>  Slippers (TAPOC is Advanced Page Optimizer and Compressor) is a project within the Yandex.Browser development team that initially arose on the personal initiative of several people.  The purpose of Sneaker was to update the Turbo code and bring it to modern requirements.  At a minimum, it was necessary to rewrite the server part using common technologies.  This would allow more actively develop it.  Plus, it was necessary to bring order to the client, which was becoming harder to test.  And one more trifle: it was important not to break anything. <br><br><img src="https://habrastorage.org/files/534/c97/d87/534c97d871b04cebb5ff8c3b53485ae3.png"><br><br>  Fortunately, Slippers flew (in a good way), and the plan was even exceeded.  The server part was rewritten in slightly more common C ++ using nginx as the kernel.  And to compress the pages, instead of the old code, we decided to use the open source library <a href="https://developers.google.com/speed/pagespeed/psol">PageSpeed ‚Äã‚ÄãOptimization</a> .  Thanks to this, our Turbo mode has learned to minify CSS / JS / HTML, and not just compress.  Although something added from myself.  For example, converting heavy animated gifs to WebP.  They didn‚Äôt start producing bicycles on the client and, to the maximum, used the code already existing in Chromium, which is responsible for communication with Data Reduction Proxy (this is a Google server, where content compression also takes place).  It was only necessary to make friends this code with video compression and other functions of Yandex. Browser. <br><br>  But the most pleasant thing is that the connection between the browser and the server now works over HTTP / 2.  This includes traffic encryption, stream prioritization, and server push support for critical resources (by the way, they <a href="https://code.google.com/p/chromium/issues/detail%3Fid%3D377538">helped</a> the Chromium project with them in due time). <br><br>  <b>Secure wifi</b> <br><br>  The issue of encryption was resolved (and at the same time we updated the entire content compression technology).  This protected our users' HTTP traffic from interception and DNS spoofing (HTTPS is protected by a certificate without us).  But we did not stop there, because we had a more specific goal.  Remember the wifi protection? <br><br>  From the very beginning of this story, we wanted to protect user data, but not to interfere with it, i.e.  work without any optimization or compression.  Therefore, at the stage of restructuring Turbo, we added a special mode ‚Äúwithout compression‚Äù ‚Äúunder the hood‚Äù.  If it is activated, all HTTP traffic will go encrypted through our proxy server, but the content itself will not be changed.  But this is not enough. <br><br>  We taught the browser to analyze the connection and enable secure WiFi only when it is really needed.  Modern encryption using the WPA and WPA2 protocols is quite reliable.  What can not be said about WEP or those points that do not require a password at all.  For them, the secure WiFi mode will be turned on automatically.  Connection verification will be performed again each time one of the following changes: IP, router's Mac address, ESSID.  By the way, the check includes intranet detection as well, in order not to try to send traffic through a proxy without going online. <br><br><img src="https://habrastorage.org/files/4f7/b70/3be/4f7b703be8ae4fc793a86ccbeb7ed354.png"><br><br>  Protecting WiFi from interception is now available in Yandex Browser for <a href="https://browser.yandex.ru/">Windows, OS X</a> and <a href="https://play.google.com/store/apps/details%3Fid%3Dcom.yandex.browser">Android</a> .  Our team continues to refine it now, so your feedback would be very helpful. <br><br>  <b>Yandex. Browser on ZeroNights</b> <br><br>  We understand that it is impossible to work on security in an isolated environment.  Therefore, soon Yandex. Browser will be available to search for errors and vulnerabilities in a special contest.  It will be held in conjunction with the organizers of the conference ZeroNights, which traditionally attracts experts in the field of security.  Winners will receive cash prizes.  Follow the news! </div><p>Source: <a href="https://habr.com/ru/post/267013/">https://habr.com/ru/post/267013/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../267001/index.html">Adaptive design alone is not enough: we need adaptive performance.</a></li>
<li><a href="../267003/index.html">Reinforced.Typings - more details</a></li>
<li><a href="../267007/index.html">How I ran a poster for Jewish events</a></li>
<li><a href="../267009/index.html">Publishing logs in Elasticsearch - life without regular expressions and without logstash</a></li>
<li><a href="../267011/index.html">RailsClub 2015: Interview with Ivan Nemytchenko</a></li>
<li><a href="../267015/index.html">Scheme Introduction</a></li>
<li><a href="../267017/index.html">Modern methods of hacking corporate networks and systems at the conference "Secure IT World 2015"</a></li>
<li><a href="../267019/index.html">Joint action with ISPsystem: ISPmanager 5 Lite license free of charge to all cloud-based VPS, incident report dated August 31, 2015</a></li>
<li><a href="../267021/index.html">Zero Security: A - Beginner Ethical Hacking Courses</a></li>
<li><a href="../267023/index.html">Comparison of mobile applications for 3D reconstruction</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>