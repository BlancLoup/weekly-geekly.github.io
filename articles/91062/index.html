<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>MODx - news archive in the form of a calendar (simplified version)</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="So let's start with the fact that many who work with MODx, sooner or later face the fact that no matter how comfortable Ditto is, but, nevertheless, h...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>MODx - news archive in the form of a calendar (simplified version)</h1><div class="post__text post__text-html js-mediator-article"> So let's start with the fact that many who work with MODx, sooner or later face the fact that no matter how comfortable Ditto is, but, nevertheless, he cannot do many things, one of which, in my opinion, should be In general, in the basic features - an archive of news in the form of a calendar, for example: <br><br><img src="https://habrastorage.org/getpro/geektimes/post_images/0a0/a29/c13/0a0a29c132d855ea2532ca9d0109f262.jpg" alt="image"><br><br>  At the moment, unfortunately, there is only a simplified solution to this problem: DittoCal.  You can always download it <a href="http://modxcms.com/extras/package/99">here</a> . <br>  Why simplified?  Yes, because the snippet does not know how to show several news at once for the same date, but displays the very first one, but for some it‚Äôs not necessary anymore, so let's get started. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <a name="habracut"></a><br>  After downloading the archive, we will see 2 files in it: JSON.php and snippet.DittoCal.php, go to MODx and create a new ‚ÄúDittoCal‚Äù snippet, copy the contents of the snippet.DittoCal.php file into it.  Open our ftp and create a new folder ‚ÄúDittoCal‚Äù in assets / snippets, then upload the JSON.php file to it. <br><br>  Now the most interesting: how it all works. <br><br>  1. Create a new document with the following parameters: <br>  Headline: blog json output <br>  Nickname: blog-json-output <br>  Template: blank <br>  Show in menu: no <br>  Post: yes <br>  Searchable: no <br>  Content Type: text / plain <br>  2. In the content we write: <br> <code>[!Ditto? startID=`id____` &amp;summarize=`100` &amp;format=`json` &amp;dateFormat=`%d-%m-%Y` &amp;sortDir=`desc`!]</code> <br>  3. Save the document <br>  4. Paste our calendar call somewhere: <br> <code>[!DittoCal? &amp;calSource=`_./blog-json-output` &amp;dayNameLength=`1`!] <br></code> <br>  Everything, you can enjoy our calendar: <br><img src="https://habrastorage.org/getpro/geektimes/post_images/5d2/f56/3bc/5d2f563bc44aaaccd2a3999fd224ffcc.jpg" alt="image"><br><br>  But in the picture he is Russian, but I don‚Äôt!  This happens, even though the snippet has a function responsible for the regional settings of the calendar, but it does not always work, so the <b>next point: Russification</b> . <br><br>  1. Open snapshot DittoCal in MODx. <br>  2. Looking for a line <br> <code>$title = htmlentities(ucfirst($month_name)).' '.$year; #note that some locales don't capitalize month and day names</code> <br>  And add after it <br> <code>switch(ucfirst($month_name)) <br> { <br> case "January": $title=""; break; <br> case "February": $title=""; break; <br> case "March": $title=""; break; <br> case "April": $title=""; break; <br> case "May": $title=""; break; <br> case "June": $title=""; break; <br> case "July": $title=""; break; <br> case "August": $title=""; break; <br> case "September": $title=""; break; <br> case "October": $title=""; break; <br> case "November": $title=""; break; <br> case "December": $title=""; break; <br> } <br> $title.=' '.$year;</code> <br>  3. We are looking for: <br> <code>foreach($day_names as $d) <br> $calendar .= ''.htmlentities($day_name_length &lt; 4 ? substr($d,0,$day_name_length) : $d).'';</code> <br>  and replace with <br> <code>$calendar .= ''; <br> $calendar .= ''; <br> $calendar .= ''; <br> $calendar .= ''; <br> $calendar .= ''; <br> $calendar .= ''; <br> $calendar .= '';</code> <br> <br>  Everything.  Now the calendar is Russified. <br>  For those who do everything as it is written, but still everything is in English or does not work at all, I will give here a link to the full code of the snippet already Russified: <a href="http://narod.ru/disk/19605634000/DittoCalRus.txt.html">DittoCalRus</a> <br><br>  Now it would be nice to stylize it, well, there is nothing complicated at all to save you time, I offer a <b>ready-made version of CSS</b> : <br><br> <code>/********************************************* <br> <b>CSS  </b> <br> *********************************************/ <br> table.calendar { <br> width: 182px; <br> padding: 0px; <br> margin: 0px auto; <br> margin-bottom: 5px; <br> border-left: 1px solid #A2ADBC; <br> font: bold 12px/20px; <br> text-align: center; <br> background-color: #EEE; <br> color: #888888; <br> } <br> .calendar-prev, .calendar-prev a, .calendar-next, .calendar-next a { <br> font-size: 24px; <br> text-align: center; <br> text-decoration: none; <br> } <br> caption.calendar-month { <br> margin: 0px auto; <br> margin-top: 5px; <br> padding: 5px 0px; <br> width: 182px; <br> color: #8e2c3a; <br> font-size: 18px; <br> text-align: center; <br> <br> } <br> table.calendar th { <br> font-size: 16px; <br> color: #616B76; <br> width: 26px; <br> height: 25px; <br> border-right: 1px solid #A2ADBC; <br> border-bottom: 1px solid #A2ADBC; <br> border-top: 1px solid #A2ADBC; <br> text-align: center; <br> } <br> table.calendar td { <br> border-right: 1px solid #A2ADBC; <br> border-bottom: 1px solid #A2ADBC; <br> width: 26px; <br> height: 25px; <br> text-align: center; <br> } <br> table.calendar td a { <br> text-decoration: none; <br> font-weight: bold; <br> display: block; <br> font-size:100%; <br> } <br> table.calendar td a:link, table.calendar td a:visited { <br> color: #000; <br> } <br> table.calendar td a:hover, table.calendar td a:active { <br> color: #8e2c3a; <br> }</code> <br> <br>  So, we get this: <br><img src="http://hostingkartinok.com/pictures/7c5dd828ad980b232a4cb53c6ea575a2.jpg" alt="image"><br><br>  At the request of users, I will add an example of use, so that the work of the archive would be clear: <br>  <a href="http://www.muddydogpaws.com/notebook/%3Fcalmonth%3D03%26calyear%3D2009">Sample on muddydogpaws.com</a> <br><br>  All pleasant enjoy, thank you! <br>  ZY: maybe the time will appear the other day, then I'll try to see what can be done with the output of several news for one date. <br><br>  Appendix - Parameters DittoCal <br><br> <code><a href="http://www.mysite.ru/blog-json-output"></a> <b>&amp;calSource</b> <br>  : ,   <br> : [ URI ] <br> :   ,         (..     : www.mysite.ru/blog-json-output) <br> <b>&amp;linkClass</b> <br>  : cal_link <br> : [ string ] <br> :     (td),   . <br> <b>&amp;dayNameLength</b> <br>  : 3 <br> : [ 0 | 1 | 2 | 3 | 4 ] <br> :      (4 -    ). <br> <b>&amp;firstDay</b> <br>  : 0 <br> : [ 0 | 1 | 2 | 3 | 4 | 5 | 6 ] <br> :     . 0=, 1=,  .... <br> <b>&amp;showPn</b> <br>  : 1 <br> : [ 0 | 1 ] <br> :   / . <br> <b>&amp;debug</b> <br>  : 0 <br> : [ 0 | 1 ] <br> :    , 1 - . <br> <b>&amp;ph</b> <br>  : cal_link <br> : [ string ] <br> :  ,    . <br> <b>&amp;activeDay</b> <br>  : curDay <br> : [ string ] <br> :    ,   .</code> </div><p>Source: <a href="https://habr.com/ru/post/91062/">https://habr.com/ru/post/91062/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../91048/index.html">Mouse "Alien" and other work in the category "Modification of peripheral devices" competition "King of Modding 2009"</a></li>
<li><a href="../91050/index.html">Do you keep your old sources and projects somewhere?</a></li>
<li><a href="../91052/index.html">Opera Mini ‚Ññ1 in the AppStore in almost all countries</a></li>
<li><a href="../91055/index.html">Counting money</a></li>
<li><a href="../91061/index.html">What do maps of various countries remind you of?</a></li>
<li><a href="../91065/index.html">How does Adobe bring disassembly from Apple to court?</a></li>
<li><a href="../91067/index.html">Do you use geo search, abroad during holidays, and what are you looking for?</a></li>
<li><a href="../91069/index.html">Your Menu - add links to favorite applications in the context menu of Windows 7</a></li>
<li><a href="../91071/index.html">Events on HabraHabr√©</a></li>
<li><a href="../91073/index.html">Slackware. Src2pkg utility or how not to make a dump out of</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>