<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>How does the CROC engineering service work - and what happens if, at 3 am, a cluster breaks somewhere far away</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="DL360 is a hot-swapped Pentium I server. Somewhere far in Siberia, under the constant load, his twin brother has been working for many years. If it fa...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>How does the CROC engineering service work - and what happens if, at 3 am, a cluster breaks somewhere far away</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/getpro/habr/post_images/898/a73/fc4/898a73fc442b68cf5c3bad3ceec637f5.jpg"><br>  <i>DL360 is a hot-swapped Pentium I server.</i>  <i>Somewhere far in Siberia, under the constant load, his twin brother has been working for many years.</i>  <i>If it fails, we have a replacement that allows you to simply continue to work without a radical changeover.</i> <br><br><img src="https://habrastorage.org/getpro/habr/post_images/877/837/d1b/877837d1b4d59a17857b4e76965900b1.jpg"><br>  <i>But with such a picture often begins the morning on the road</i> <br><br>  <b>Good morning!</b>  My name is Alexander, I work as the head of the CROC service team. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Across the country there are many facilities where the failure of a cluster immediately leads to the local main hit the TV.  These are various scientific research institutes, industrial enterprises, nodes of banks, insurance companies, oil companies, airports, and so on.  And we put there the hardware and software, and we keep it all on support. <br><br>  Let's start with the fact that installation without adventures almost never happens.  Well, if we just forgot to give food or a network.  Worse, when the server rack is outside the building, because someone incorrectly indicated the dimensions of the door.  There are also moments like: ‚ÄúGuys, we have prepared everything, connected it, only there is a nuance - your server was dropped during unloading.  Well, just a couple of times. ‚Äù  Now I will tell and show how our work looks. <a name="habracut"></a><br><br><h4>  Sense of work </h4><br>  During my time at CROC, I traveled almost all over the country on installations and support.  Now I am in charge of the department, so I myself travel very rarely. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/a42/493/6ec/a424936ec1501f0dba19535d89432dba.jpg"><br>  <i>My work place.</i>  <i>Folders, as can be seen, more than glands</i> <br><br>  <b>The usual scenario for a shift shift is: we are sitting and waiting for a call.</b>  When something breaks, we have quite stringent standards for the time to fix the damage.  For example, at critical sites in Moscow, the time to replace iron is 4 hours from circulation.  In Novosibirsk and other cities, too, there are particularly important objects, since there are no problems with booking tickets now. <br><br>  <b>From the team that is waiting for the call, you must be on site and on duty.</b>  As a rule, the fighters at this time either pick a new iron and study it, or are engaged in self-study.  In general, we train and improve skills. <br><br>  <b>Sometimes we lick at new solutions and order them to "see for ourselves".</b>  From this it turns out many interesting projects - from the office lighting system that adapts to the weather and open windows, and ending with different solutions for our own security. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/d4e/233/715/d4e2337156e69322cd035a3fffa3b639.jpg"><br>  <i>Tests</i> <br><br>  <b>Another part of the engineers is engaged in regular installation and maintenance.</b>  They do not need to break and run to the terminal or rush to the airport.  They know in advance what, where, how and when.  It does not get any easier because, I repeat, each installation is a separate adventure.  And to prepare for it is also better carefully, which in practice is much more nervous work than rushing to help, like Chip and Dale. <br><br>  <b>Outside the battle shift, we also work with our hardware, but we can already do it outside the office.</b>  Another important aspect is our engineers.  These are people with very large practical experience, and some of them often speak for internal training as well as at various technical conferences.  Except for those fighters who work under the service, of course.  Although in theory, if we have several critical situations at the same time, a full-time engineer can also interrupt his speech in half-word and run away.  But this was in my memory only once. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/603/aac/bb2/603aacbb2a2a70fbf02e70e8a2e3eebc.jpg"><br>  <i>Cups are not mine.</i>  <i>But it is very good to, for example, put all sorts of small details there so that they are not lost.</i> <br><br><h4>  Departure for installation </h4><br>  For example, in the case of a regular cluster installation, as a rule, more than one specialist is needed.  One is the person who does the operating system and the cluster setting itself, the other is the stack manager, and the third is the application, depending on whether the customer puts the butt on it or not.  It happens when we get by with two, networkers often happen on the spot, but it happens that sometimes there is no one at all at any particular IT point. <br><br>  <b>Starts with unloading.</b>  It happens, they beat iron.  We take photographs when we need to prove a malfunction (for example, that the equipment came broken through the fault of the transport company).  Then we understand for a long time. <br><br>  <b>Suppose everything came as it should.</b>  We put the system, the same cluster.  Everything is good: there is a specification, hardware, software, we work on setting up, there are some agreements between managers.  Everything has been discussed a hundred times, all difficult moments are experimentally agreed.  An engineer arrives, and he understands that the ideal world is not here. <br><br>  He comes up to, say, a network salesman and says: ‚ÄúI need to allocate eight interfaces on the switch‚Äù.  And they say to him: ‚ÄúI have only six, and two more will be tomorrow or the day after tomorrow.  We must order them from the warehouse. ‚Äù  The engineer runs, everyone asks for something.  When they give him everything, when he is pushed a place in the rack, they will connect electricity, pull cables to it - it can take a couple of days. <br><br>  Then he starts calling the administrators who register him in the domain, then he calls the specialists on the DBMS, who begin to tell him how everything is arranged, the administrators also enter him into their system.  Every time he works with someone new, and not the fact that he is prepared.  A combat system, and the password engineer does not know, which means that the admin should be sitting next to and drive it for him.  They also do not have much fun.  Yes, and people can be different.  For example, the SQL boxer likes to drink, and someone walks in a T-shirt with the Simpsons at minus thirty, because his wife left.  To each need to find an approach.  It is clear that all these people help, because there is a common task, but still there is some kind of fan in that you need to learn something from everyone in order to complete your work.  Everyone must explain to you how and what is arranged.  Very often, documentation with reality is somewhat divergent, and the concept of editing may change.  Or suddenly it turns out that a certain type of packages in the network is prohibited by the policy of Moscow (and the belt is different, and in Moscow it is deep night, you will not call). <br><br>  <b>At about this stage, it may turn out that the backup has been going on for a year now.</b>  Haha  And it begins, again, a lot of erotic adventures.  Of course, we can set up without a backup, formally we, like, have nothing to do with it.  But then the negative will remain: some came, they say, broke everything and left. <br><br><h4>  Accessories </h4><br>  We should also say about our warehouse.  We have about eighty thousand items for hot replacement in stock.  Understandably, when you have a 4 hour replacement SLA, the warehouse must give up a piece of iron before you go down the elevator.  Therefore, our storekeepers methodically keep accurate records and check everything. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/845/865/57d/84586557d35508de0df66985ff2f949c.jpg"><br>  <i>The accounting system says: "Your piece of iron in a box is such and such in a block of such and such."</i>  <i>Regardless of whether it is small or large.</i> <br><br><img src="https://habrastorage.org/getpro/habr/post_images/fcd/8a7/0f2/fcd8a70f2d2cfcb7135aaf3e171d5c99.jpg"><br>  <i>You come up - it‚Äôs immediately clear what lies here.</i> <br><br><img src="https://habrastorage.org/getpro/habr/post_images/a81/ced/1ff/a81ced1ff06ae8f1db36f6f2389a08b8.jpg"><br>  <i>In one of the sections of the warehouse we have a ‚Äúmuseum‚Äù - the place where such exhibits lie</i> <br><br>  They are really working and really needed for hot swapping.  When a system is complex, critical and ‚Äúdon't touch while it works,‚Äù it is easier to change a failed node to exactly the same one than to reconfigure and redo.  Therefore, we keep reserves worthy of the museum. </div><p>Source: <a href="https://habr.com/ru/post/228529/">https://habr.com/ru/post/228529/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../228519/index.html">Case: Clouds as a Tool for Optimizing IT Infrastructure</a></li>
<li><a href="../228521/index.html">A new version of the distribution has been released to create a pfSense 2.1.4 firewall.</a></li>
<li><a href="../228523/index.html">How to impose a theme for WordPress</a></li>
<li><a href="../228525/index.html">Structure from Motion - classic implementation</a></li>
<li><a href="../228527/index.html">How does international roaming work?</a></li>
<li><a href="../228531/index.html">DMA in general and in particular</a></li>
<li><a href="../228533/index.html">GameDev for quizzes - I brought you a bunch of useless facts and a bit of veterinary</a></li>
<li><a href="../228535/index.html">Month of use of the IBM cloud server: free opportunity to get acquainted with the Softlayer platform</a></li>
<li><a href="../228537/index.html">New AppStore section, the dependence of the number of installations on the weight of the application and the report on the growth of Google Play over the past year - the main mobile news for the week</a></li>
<li><a href="../228539/index.html">Cisco removed backdoor from VoIP and Jabber controller</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>