<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Prism Developer Guide - Part 7.1, UI Design Guidelines</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Table of contents 


1. Introduction 
2. Initializing Prism Applications 
3. Manage dependencies between components 
4. Modular Application Developmen...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Prism Developer Guide - Part 7.1, UI Design Guidelines</h1><div class="post__text post__text-html js-mediator-article"><blockquote>  <b>Table of contents</b> <br><ol><li>  <a href="http://habrahabr.ru/post/176851/">Introduction</a> </li><li>  <a href="http://habrahabr.ru/post/176853/">Initializing Prism Applications</a> </li><li>  <a href="http://habrahabr.ru/post/176861/">Manage dependencies between components</a> </li><li>  <a href="http://habrahabr.ru/post/176863/">Modular Application Development</a> </li><li>  <a href="http://habrahabr.ru/post/176867/">Implementation of the MVVM pattern</a> </li><li>  <a href="http://habrahabr.ru/post/176869/">Advanced MVVM scripts</a> </li><li>  <a href="http://habrahabr.ru/post/176895/">Creating user interface</a> <br><ol><li>  <a href="http://habrahabr.ru/post/177925/">UI design guidelines</a> </li></ol></li><li>  <a href="http://habrahabr.ru/post/178009/">Navigation</a> <ol><li>  <a href="http://habrahabr.ru/post/182052/">View-Based Navigation (View-Based Navigation)</a> </li></ol></li><li>  <a href="http://habrahabr.ru/post/182580/">The interaction between loosely coupled components</a> </li></ol></blockquote><br><h3>  UI design guidelines </h3><br>  The purpose of this section is to provide a shallow guide for XAML designers and programmers building applications using WPF, Silverlight, or Windows RT and the Prism library.  This section describes the user interface layout, visual presentation, data binding, resources, and data mapping model.  After reading this section, you will get a cursory understanding of how to create a user interface using the Prism library, as well as how to use techniques that can help you create a supported UI in a modular application. <br><a name="habracut"></a><br><h4>  UI development </h4><br>  The markup of composite applications created using the Prism library is built on the standard principles of WPF and Silverlight - the markup uses the concept of panels containing related elements.  However, in composite applications, the content of the panels is dynamic and not known until the moment the application is launched.  This forces designers and developers to create such a markup structure that can display dynamic content, and then develop each of the elements of this content separately.  For you, this means that you will have to learn the two main concepts of the Prism library: container composition and regions. <br><br><h5>  <i>Container Composition</i> </h5><br>  Container composition is merely an extension of the content model provided by WFP and Silverlight by default.  The term ‚Äúcontainer‚Äù can refer to any element, such as a window, page, user control, panel, special control, control pattern, or dynamic content.  The fixed content will be the general structure of the user interface element, and the dynamic content will be what is placed inside the regions. <br><br>  Support for design time from tools, for composite applications, is somewhat limited, but the fact that you know what content will be placed in different regions at runtime is crucial for development.  For example, compare the view of the window at design time to the illustration below, and the view after starting the application, in the following illustration.  At the time of design, the page is mostly blank.  Compare with the view after the launch, when you see a lot of controls that perform the basic functions of the application.  Based on this, you can imagine the complexity of the task facing developers and designers of composite applications. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Elements cannot be seen during design, therefore, determining what size they should be, and how they will fit the overall appearance of the application, presents certain difficulties.  Consider the following points when composing your containers: <br><br><ul><li>  Are there any restrictions on the maximum size of the content?  If there are, consider using containers that support scrolling. </li><li> Consider using a combination of <code>Expander</code> and <code>ScrollViewer</code> for situations where a large amount of dynamic content should be placed in a limited space. </li><li>  Pay close attention to how the content will resize when the application window is resized, to be sure that your application will look attractive at any window size. </li></ul><br>  <b>Stock Trader RI main window in Expression Blend.</b> <br><img src="https://habrastorage.org/getpro/habr/post_images/690/5d8/d7a/6905d8d7a3b189e62e36350f27de35dd.png" alt="Stock Trader RI main window in Expression Blend."><br><br>  <b>Stock Trader RI main window after launch.</b> <br><img src="https://habrastorage.org/getpro/habr/post_images/d93/8c5/2e9/d938c52e976cfe152df8693d288445fb.png" alt="Stock Trader RI main window after launch."><br><br><h5>  Type of composite application at design time </h5><br>  The previous two illustrations show one of the problems in developing composite applications.  Each user interface element in a composite application must be developed separately.  This makes it difficult to visualize how the application will look after launch.  In order to present what the application will look like in the assembled state, you can create a test project with a page or window containing all the user interface elements for the presentation you want to test. <br><br><ul><li>  Additionally, consider using sample design-time data provided by Expression Blend and Visual Studio 2010-2012 for populating UI elements.  This feature can be very useful when working with data templates, lists, graphs, or charts.  For more information, see <a href="http://msdn.microsoft.com/en-us/library/ff921098(v%3Dpandp.40).aspx">Guidelines for Design-Time Sample Data</a> . </li></ul><br><h5>  Markup </h5><br>  Consider the following points when designing the layout of a composite application: <br><br><ul><li>  The shell specifies the basic layout of the application.  Each layout region is a region, and must be an empty container.  Do not place content inside regions at design time; it will be loaded into them at startup. </li><li>  The shell should contain a background and headers.  Think of it as a master page in ASP.NET. </li><li>  Controls that serve as containers for a region are separated from the view they contain.  Therefore, you will need to be able to resize the view, without modifying the controls, and resize the controls without modifying the view.  You should consider the following points when setting the presentation size: <br><ul><li>  If the view will be used in several regions, or you are not sure where it will be used, design it with dynamic height and width. </li><li>  If views have fixed sizes, the regions in the shell must have dynamic sizes. </li><li>  If the regions in the shell have fixed sizes, then the views should have dynamic sizes. </li><li>  Views may require a fixed height and dynamic width.  As an example of this approach, <i>Stock Trader RI</i> has a <code>PositionPieChart</code> view located in the sidebar. </li><li>  The remaining views may have dynamic height and width.  For example, the <code>NewsReader</code> on the sidebar in <i>Stock Trader RI</i> .  Its height depends on the length of its title, and the width must always correspond to the size of the region.  The same rules apply to PositionSummaryView, where the width of the table must adapt to the size of the screen, and the height to the number of rows in the table. </li></ul><br></li><li>  Views should generally have a transparent background, allowing the shell to provide its background. </li><li>  Always use named resources to assign colors, brushes, and fonts, rather than assign them directly to element properties.  This will greatly simplify application support.  Also, it may allow the display of dynamic changes in resource dictionaries at run time. </li></ul><br><h5>  Animations </h5><br>  Consider the following points if you are using animations in the shell, or in views: <br><br><ul><li>  You can animate the shell layout, but you will need to animate its contents and views separately. </li><li>  Design and animate each presentation separately. </li><li>  Use soft and unobtrusive animation to indicate that a visual element has been added to, or removed from, a view.  This will add gloss to your application. </li></ul><br>  Expression Blend provides a rich set of behaviors, fading functions, as well as tremendous possibilities for creating and editing animations and transitions based on states and events.  For more information, see the <a href="http://msdn.microsoft.com/en-us/library/cc626338(v%3DVS.95).aspx">"VisualStateManager Class"</a> article in MSDN. <br><br><h5>  Runtime optimization </h5><br>  Consider the following points to optimize performance: <br><br><ul><li>  Place any shared resources in the <code>App.xaml</code> file, or in a <code>App.xaml</code> dictionary to prevent duplicate styles. </li><li>  In Silverlight, avoid using non-system fonts for text styles that are different from the rest of the application, for example, for headings.  In this case, consider converting text into a path, or embedding a font in an application.  The introduction of a font into an application can significantly affect its size, since some font files are relatively large.  To reduce the size of the loaded .xap file, Expression Blend allows you to load only a subset of characters, and not the entire font. </li></ul><br>  For more information, see <a href="http://silverlight.net/learn/learnvideo.aspx%3Fvideo%3D69800">‚ÄúUsing Custom Fonts in Silverlight‚Äù</a> . <br><br><h5>  Design time optimization </h5><br>  Further recommendations and solutions to some problems arising from the visual design of the application are given. <br><br><h6>  Big solutions with lots of XAML resources </h6><br>  In a large solution with a lot of XAML resources that are part of it, the load time of the visual editor can increase dramatically.  This happens because the visual editor must load and parse all the embedded resources.  One way to deal with this is to transfer all XAML resources into a separate project, compile this project, and then create a link to the resulting DLL from the original project.  Since now all resources are in a binary assembly, the designer does not need to disassemble them independently, which has a positive effect on performance during design.  While moving XAML resources to another project, you can consider using <code>ComponentResourceKeys</code> for your resources.  For more information, see <a href="http://msdn.microsoft.com/en-us/library/ms753186.aspx">‚ÄúComponentResourceKey Markup Extension‚Äù</a> on MSDN. <br><br><h6>  XAML resources </h6><br>  XAML is a powerful and expressive language for creating resources such as images, diagrams, drawings and 3D scenes.  Some developers and designers prefer to create such resources instead of using graphic images.  The first advantage of this approach is independence of screen resolution.  The second is the ability to use only the Expression Suite, both for creating all the necessary resources and for the design of the application. <br><br><h6>  Visual editor and builds </h6><br>  The downside to using a separate assembly for resources is that the property editor in Expression Blend and Visual Studio 2010 does not display resources located in such assemblies.  From this it follows that you will have to manually type the names of resources located in other assemblies. <br><br><h5>  <i>Silverlight Design-Time App.xaml</i> resources </h5><br>  Composite Silverlight applications can be structured to either reduce download time due to deferred loading of assemblies, or to reduce the initial .xap file.  One strategy is to create the main Silverlight application, and then add assembly satellites to each module.  When adding such an assembly, you can choose one of the templates, this is either a Silverlight project, or a Silverlight class library. <br><br>  The choice for assembly satellites of the Silverlight project template provides an advantage when deploying: the assembly will be packaged in an <code>.xap</code> file when compiled.  However, a side effect is that the visual designer, if there are several Silverlight projects in one solution, uses resources only from the active project's <code>App.xaml</code> file. <br><br>  Expression Blend 4 provides a solution to this problem.  When he identifies such a problem, he shows a dialogue where he suggests choosing the necessary library of resources to be used throughout the application.  Visual Studio 2010 does not have this feature, respectively, assembly-satellites will not have the same support for visual editing, unless you put all the application-level resources in a separate assembly.  If you chose this approach, then do not forget to remove these resources from the projects of satellite assemblies before deploying the application. <br><br><h3>  Guide to creating design-friendly views </h3><br>  The following points are characteristics of design-friendly views (also known as <i>blendable</i> , or <i>tool-able</i> ): <br><br><ul><li>  They can be effectively edited using the designers in Visual Studio, or Expression Blend. </li><li>  You can use various tools, such as a binding expression builder. </li><li>  They provide sample data for display at design time. </li><li>  They allow code to run at design time without generating unhandled exceptions. </li></ul><br>  The following operations are performed multiple times during editing.  User code that is not user-friendly for a designer can prevent them from being executed, thereby reducing the productivity of the designer or programmer. <br><br><ul><li>  Design surface actions: <br><ul><li>  Creating objects </li><li>  Loading objects </li><li>  Setting Property Values </li><li>  Event handling design surface </li><li>  Using a control as root </li><li>  Putting one control inside another </li><li>  Opening, closing and reloading a XAML file </li><li>  Recompile project </li><li>  Designer reload </li></ul><br></li><li>  Anchor expression builder actions: <br><ul><li>  <code>DataContext</code> Detection </li><li>  Listing available data sources </li><li>  Enumeration of data source type properties </li></ul><br></li><li>  Selective design-time data actions: <br><ul><li>  Using controls on the design surface to correctly display sample data </li></ul><br></li></ul><br><h4>  Creating code for execution at design time </h4><br>  For ease of use designer, Visual Studio and Expression Blend create objects and execute code during design.  However, null reference exceptions caused by code that attempts to access objects before they are created can cause a large number of loading errors and unnecessary exceptions during design. <br><br>  The following table lists the main issues affecting designer usability.  By avoiding these problems and using techniques to eliminate them, you can significantly improve your productivity and satisfaction with the use of visual designers. <br><br><table><tbody><tr><td>  <strong>Avoid this in your code.</strong> <br></td><td width="75">  <strong>Visual studio 2010</strong> <br></td><td width="75">  <strong>Blend 4</strong> <br></td></tr><tr><td>  Run multiple threads at design time.  For example, creating and starting <code>Timer</code> in the constructor, or in the <code>Loaded</code> event. </td><td><img src="https://habrastorage.org/getpro/habr/post_images/506/124/e47/506124e474326d2c668d152c631a9469.png"></td><td><img src="https://habrastorage.org/getpro/habr/post_images/506/124/e47/506124e474326d2c668d152c631a9469.png"></td></tr><tr><td>  Use controls that could cause a stack to overflow during design, or that will recursively load themselves. </td><td><img src="https://habrastorage.org/getpro/habr/post_images/506/124/e47/506124e474326d2c668d152c631a9469.png"></td><td><img src="https://habrastorage.org/getpro/habr/post_images/506/124/e47/506124e474326d2c668d152c631a9469.png"></td></tr><tr><td>  Generate null reference exceptions in a converter, or in a data template selector. </td><td><img src="https://habrastorage.org/getpro/habr/post_images/506/124/e47/506124e474326d2c668d152c631a9469.png"></td><td><img src="https://habrastorage.org/getpro/habr/post_images/506/124/e47/506124e474326d2c668d152c631a9469.png"></td></tr><tr><td>  Generate a null reference exception, or any other exception in the constructor.  This may be caused by: <br><ul><li>  Use code that makes calls to a business layer, or application data layer, to retrieve data from a database, or through a network, during design. </li><li>  Attempts to resolve dependencies by using a container before running the loader or container initialization code. </li></ul><br></td><td><img src="https://habrastorage.org/getpro/habr/post_images/506/124/e47/506124e474326d2c668d152c631a9469.png"></td><td><img src="https://habrastorage.org/getpro/habr/post_images/506/124/e47/506124e474326d2c668d152c631a9469.png"></td></tr><tr><td>  Generate a null reference exception, or any other exception within the control's <code>Loaded</code> event.  This can happen when you make an assumption about the state of the control, which may be true at run time, but not run at design time. </td><td><img src="https://habrastorage.org/getpro/habr/post_images/506/124/e47/506124e474326d2c668d152c631a9469.png"></td><td><img src="https://habrastorage.org/getpro/habr/post_images/506/124/e47/506124e474326d2c668d152c631a9469.png"></td></tr><tr><td>  Attempts to access an <code>Application</code> , or <code>Application.Current</code> object at design time. </td><td><img src="https://habrastorage.org/getpro/habr/post_images/506/124/e47/506124e474326d2c668d152c631a9469.png"></td><td><img src="https://habrastorage.org/getpro/habr/post_images/506/124/e47/506124e474326d2c668d152c631a9469.png"></td></tr><tr><td>  Using <code>StaticResource</code> in WPF <code>UserControls</code> . </td><td><img src="https://habrastorage.org/getpro/habr/post_images/f78/e95/9c8/f78e959c894dcf9bc42db2c6b55a67a8.png"></td><td><img src="https://habrastorage.org/getpro/habr/post_images/506/124/e47/506124e474326d2c668d152c631a9469.png"></td></tr><tr><td>  Creating very large projects. </td><td><img src="https://habrastorage.org/getpro/habr/post_images/f78/e95/9c8/f78e959c894dcf9bc42db2c6b55a67a8.png"></td><td><img src="https://habrastorage.org/getpro/habr/post_images/506/124/e47/506124e474326d2c668d152c631a9469.png"></td></tr></tbody></table><br><h5>  Handling code problems during design </h5><br>  A number of defensive programming practices can eliminate almost all the items listed in the table above.  However, before tackling problems in the code executed during design, we need to understand that the controls and application code are executed by the designer in isolation, inside an uninitialized application domain.  Uninitialized, in this context, means that the loader or initialization code is not executed. <br><br>  When your application starts running after startup, the code in <code>App.xaml.cs</code> .  If there is any code on which your application depends, then it will not be executed at design time.  If you don‚Äôt expect unwanted exceptions.  To eliminate this: <br><br><ul><li>  Never assume that an object will be created at design time.  In code that can be executed at design time, always check for <code>null</code> before working with an object. </li><li>  If your code works with an <code>Application</code> , or <code>Application.Current</code> object, check them before this for <code>null</code> . </li><li>  If the code in your constructor, or in the <code>Loaded</code> event, accesses a database or network service, consider the following options: <br><ul><li>  Before calling the code, check whether it is executed in the designer by calling the following method: <br><ul><li>  <b>WPF</b> : <code>DesignerProperties.GetIsInDesignMode</code> </li><li>  <b>Silverlight</b> : <code>DesignerProperties.IsInDesignTool</code> </li></ul><br></li><li>  Instead of running the code directly in the constructor, or in the handler of the <code>Loaded</code> event, abstract it behind the method call through the interface, after which you can apply one of many techniques using different implementations at runtime, design, and tests. </li></ul><br></li></ul><br><h5>  Determining that code is executed at design time. </h5><br>  Both Expression Blend and Visual Studio use the root object layout displayed in the designer panel.  This is necessary to provide the designer with the necessary functions.  Since the root object is fake, its constructor and the <code>Loaded</code> event are not raised during design.  However, the remaining controls on the stage are constructed normally, and their <code>Loaded</code> event is raised the same as at run time. <br><br>  In the following illustration, the constructor of the <code>Windows</code> root element and its <code>Loaded</code> event are not raised, but the child element is called. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/163/c54/30a/163c5430a8122f910113aefb50468990.png"><br><br>  This concept is particularly important when creating composite applications that are dynamically constructed at run time. <br><br>  Most of the views in the application are created independently.  Because of this, they are usually the root objects in the designer, respectively, their designers and <code>Loaded</code> events are never raised. <br><br>  However, if you place such a control on the design surface as a child element, previously isolated, it now begins to run during design.  If you did not follow the design practices listed above, then this element can suddenly become a source of unpleasant mistakes and a reason for reducing the usability of the visual designer. <br><br><h5>  Design Time Properties </h5><br>  The built-in design-time properties with the prefix " <code>d:</code> " provide an easy way to increase productivity during design. <br><br>  The problem we are trying to solve is to provide a designer with a binding expression of a type from which he can get information about his properties through reflection.  You may also need to provide sample data that will be displayed at design time. <br><br>  The following sections describe how to use the <code>d:DataContext</code> and the <code>d:DesignInstance</code> markup <code>d:DesignInstance</code> . <br><br>  " <code>d:</code> " in the previous paragraph is a pseudonym for the namespace in which the design-time tools are located.  The following articles further disclose the " <code>d:</code> " properties and markup extensions: <br><br><ul><li>  <a href="http://msdn.microsoft.com/en-us/library/ee839627.aspx">Design-Time Attributes in the WPF Designer</a> </li><li>  <a href="http://msdn.microsoft.com/en-us/library/ff602277(VS.95).aspx">"Design-Time Attributes in the Silverlight Designer"</a> </li></ul><br>  " <code>d:</code> " markup properties and extensions cannot be created, or used in custom code, they can only be applied in XAML.  They are also not compiled into your application, they are only used by tools in Visual Studio and Expression Blend. <br><br><h5>  <i>D: DataContext</i> Property </h5><br>  <code>d:DataContext</code> sets the runtime data context for the control and its descendants.  When specifying <code>d:DataContext</code> you must always provide data of the same type for the <code>DataContext</code> data context at run time. <br><br>  If both the <code>DataContext</code> and a <code>d:DataContext</code> specified for the control, the design tools will select <code>d:DataContext</code> . <br><br><h5>  Markup extension d: DesignInstance </h5><br>  If you do not know what markup extensions are, I advise you to read the article in MSDN <a href="http://msdn.microsoft.com/en-us/library/ms747254.aspx">"Markup Extensions and WPF XAML"</a> . <br><br>  <code>d:DesignInstance</code> creates and returns an object of the type you want to use as the data context during design.  This type does not have to be with the ability to create an object.  The following paragraphs explain the properties of the <code>d:DesignInstance</code> : <br><br><table><tbody><tr><th>  Markup Extension Property </th><th>  Description </th></tr><tr><td> <code>Type</code> </td> <td>  Type name  Type is a constructor parameter. </td></tr><tr><td> <code>IsDesignTimeCreatable</code> </td> <td>  Specifies whether an instance of this type will be created.  If set to <code>false</code> , a pseudo-type will be created, not a real one.  The default is false. </td></tr><tr><td> <code>CreateList</code> </td> <td>  If true, then returns a generic list with elements of this type.  The default is <code>false</code> . </td></tr></tbody></table><br><h5>  Typical usage scenarios for <i>d: DataContext</i> </h5><br>  The following code examples show a repeating pattern for associating views with view models. <br><br>  PersonView has a dependency on <code>PersonViewModel</code> resolved at runtime.  Although the model presented in the example is intentionally simplified, in real-world applications it will have dependencies, usually injected into the constructor. <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">When created </font></font><code>PersonView</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, its dependency </font></font><code>PersonViewModel</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">will be created and resolved through the container.</font></font><br><blockquote> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">The note. </font></font></b> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">If the view model does not have any dependencies, it can be created entirely in XAML. </font><font style="vertical-align: inherit;">In this installation </font></font><code>DataContext</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, and </font></font><code>d:DataContext</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">is not required.</font></font><br></blockquote><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PersonViewModel.cs</font></font></b> <br><pre> <code class="cs hljs">[<span class="hljs-meta"><span class="hljs-meta">Export</span></span>] <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">PersonViewModel</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> String FirstName { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">set</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> String LasName { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">set</span></span>; } }</code> </pre> <br><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PersonView.xaml.cs</font></font></b> <br><pre> <code class="cs hljs">[<span class="hljs-meta"><span class="hljs-meta">Export</span></span>] <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">partial</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">PersonView</span></span> : <span class="hljs-title"><span class="hljs-title">UserControl</span></span> { <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">PersonView</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { InitializeComponent(); } [Import] <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> PersonViewModel ViewModel { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.DataContext <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> PersonViewModel; } <span class="hljs-keyword"><span class="hljs-keyword">set</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.DataContext = <span class="hljs-keyword"><span class="hljs-keyword">value</span></span>; } } }</code> </pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">This is a good template for linking a view and a view model. However, it leaves the view in the dark about what data context it should use during design. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">In the following XAML, you can see the markup extension </font></font><code>d:DesignInstance</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">used on the element </font></font><code>Grid</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">that returns the pseudo-instance </font></font><code>PersonViewModel</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">in which the property is set </font></font><code>d:DataContext</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. As a result, the child elements </font></font><code>Grid</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">will inherit the value </font></font><code>d:DataContext</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, which allows the use of design tools to review properties and types in the context of the data, which greatly facilitates the work of the designer and programmer. </font></font><br><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PersonView.xaml</font></font></b> <br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">UserControl</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">xmlns:local</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"clr-namespace:WpfApplication1"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">x:Class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"WpfApplication1.PersonView"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">xmlns</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"http://schemas.microsoft.com/winfx/2006/xaml/presentation"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">xmlns:x</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"http://schemas.microsoft.com/winfx/2006/xaml"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">xmlns:mc</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"http://schemas.openxmlformats.org/markup-compatibility/2006"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">xmlns:d</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"http://schemas.microsoft.com/expression/blend/2008"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">mc:Ignorable</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"d"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">d:DesignHeight</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"300"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">d:DesignWidth</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"300"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Border</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">BorderBrush</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"LightGray"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">BorderThickness</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"1"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">CornerRadius</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"10"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">Padding</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"10"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Grid</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">d:DataContext</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"{d:DesignInstance local:PersonViewModel}"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Grid.RowDefinitions</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">RowDefinition</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">Height</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"Auto"</span></span></span><span class="hljs-tag"> /&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">RowDefinition</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">Height</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"Auto"</span></span></span><span class="hljs-tag"> /&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Grid.RowDefinitions</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Grid.ColumnDefinitions</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">ColumnDefinition</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">Width</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"100"</span></span></span><span class="hljs-tag"> /&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">ColumnDefinition</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">Width</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"Auto"</span></span></span><span class="hljs-tag"> /&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Grid.ColumnDefinitions</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Label</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">Grid.Column</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"0"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">Grid.Row</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"0"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">Content</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"First Name"</span></span></span><span class="hljs-tag"> /&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Label</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">Grid.Column</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"0"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">Grid.Row</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"1"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">Content</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"Las Name"</span></span></span><span class="hljs-tag"> /&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">TextBox</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">Grid.Column</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"1"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">Grid.Row</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"0"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">Width</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"150"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">MaxLength</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"50"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">HorizontalAlignment</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"Left"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">VerticalAlignment</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"Top"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">Text</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"{Binding Path=FirstName, Mode=TwoWay}"</span></span></span><span class="hljs-tag"> /&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">TextBox</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">Grid.Column</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"1"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">Grid.Row</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"1"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">Width</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"150"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">MaxLength</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"50"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">HorizontalAlignment</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"Left"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">VerticalAlignment</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"Top"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">Text</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"{Binding Path=LasName, Mode=TwoWay}"</span></span></span><span class="hljs-tag"> /&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Grid</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Border</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">UserControl</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br><blockquote> <b>:      <i>ViewModel Locator</i> .</b> <br>          ,    .    ,  ,     ,      .                <code>DataContext</code> .      ,      ,    . <br><br>     ,       <code>d:DataContext ‚Äì d:DesignInstance</code> ,            ,   <code>d:DesignInstance</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Regardless of what technique you use, it is necessary that it is used consistently throughout the application. </font><font style="vertical-align: inherit;">Consistency simplifies application deployment and leads to successful interaction between the designer and the programmer.</font></font><br></blockquote><br><h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Custom Design Time Creation Guide </font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">The WPF and Silverlight design team has published an in-depth article that describes the use of sample data in WPF and Silverlight projects. </font><font style="vertical-align: inherit;">This article is available on MSDN: </font></font><a href="http://blogs.msdn.com/b/wpfsldesigner/archive/2010/06/30/sample-data-in-the-wpf-and-silverlight-designer.aspx"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"Sample Data in the WPF and Silverlight Designer</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><a href="http://blogs.msdn.com/b/wpfsldesigner/archive/2010/06/30/sample-data-in-the-wpf-and-silverlight-designer.aspx"><font style="vertical-align: inherit;">"</font></a></font><br><br><h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Using sample data ( </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Design-Time Sample Data</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> )</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sample data becomes especially important when using visual design tools such as Expression Blend, or Visual Studio. </font><font style="vertical-align: inherit;">Views can be filled with data and images, which greatly simplifies the work of the designer and makes it more productive. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Empty lists containing data templates will not be visible until you add data to them. </font><font style="vertical-align: inherit;">Therefore, editing invisible data templates and running the application regularly to see how they will look, slows down the work and gets on your nerves to designers and programmers.</font></font><br><br><h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Sample Sources </font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> You can get sample data from the following sources: </font></font><br><br><ul><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Expression Blend XML sample data </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Expression Blend 4 and Visual Studio 2010 XAML sample data </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> XAML resources </font></font></li><li>  Code </li></ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Obtaining data from these sources is discussed below. </font></font><br><br><h5><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Expression Blend XML Sample Data </font></font></h5><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Expression Blend allows you to quickly create an XML schema and populate the corresponding XML file with data. </font><font style="vertical-align: inherit;">This is done without adding any extraneous projects to the solution. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">The purpose of this type of sample data is that the designer can start working on the project, without waiting for the programmer to write the necessary classes. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Although most of the sample data is available in both Expression Blend and Visual Studio 2010 designer, sample XML data is a feature of Expression Blend and is not displayed in Visual Studio 2010 designer.</font></font><br><blockquote> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">The note. </font></font></b> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">The sample XML data file is not compiled and added to the assembly. </font><font style="vertical-align: inherit;">However, the XML schema is compiled into a final assembly.</font></font><br></blockquote><br><h5><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Expression Blend 4 and Visual Studio 2010 </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">XAML Sample Data</font></font></i> </h5><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Starting with Expression Blend 4 and Visual Studio 2010, a markup extension has been added </font></font><code>d:DesignData</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">that allows you to load sample data during design. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A XAML file with sample data contains markup in which one or more instances of types are created, after which some data are assigned to their properties. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">There </font></font><code>d:DesignData</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">is a property </font></font><code>Source</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">that accepts a URI on a XAML file with sample data located in the project. The markup extension </font></font><code>d:DesignData</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">loads this file, parses it and returns the object graph. It can be used by a property </font></font><code>d:DataContext</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, property </font></font><code>CollectionViewSource d:DesignSource</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, or property </font></font><code>DomainDataSource d:DesignData</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">One of the problems solved by expansion</font></font><code>d:DesignData</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, is that it can create custom data for custom types that cannot be created. </font><font style="vertical-align: inherit;">For example, in a WCF RIA application, service entity objects cannot be created in code. </font><font style="vertical-align: inherit;">In addition to this, developers can have their own uncreated types, for which they still wanted to be selective data. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">You can change how </font></font><code>d:DesignData</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">your sample data is processed by setting the </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Build Action</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> property </font><font style="vertical-align: inherit;">on the data file in </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Solution Explorer</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , as shown below:</font></font><br><br><ul><li> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Build Action = DesignData</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - pseudotypes will be created</font></font></li><li> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Build Action = DesignDataWithDesignTimeCreatableTypes</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - real types will be created</font></font></li></ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">When using Expression Blend to create sample data, it creates a XAML file with a </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Build Action</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> already installed in </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">DesignData</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . If you need real types, open the solution in Visual Studio and change the </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Build Action</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> for the data file to </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">DesignDataWithDesignTimeCreatableTypes</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br><blockquote> <b>.</b> <br>   ,  <i>Custom Tool</i> .       .  , Expression Blend     . <br><br>       Visual Studio 2010,      ,    .   ,    <i>Build Action</i>    <i>Custom Tool</i> . <br></blockquote><br><img src="https://habrastorage.org/getpro/habr/post_images/e89/722/0ec/e897220ec6564dd3e18cb14ee5d11efb.png" alt="   "><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Expression Blend provides tools for quickly creating and linking custom XAML data. </font><font style="vertical-align: inherit;">This data can also be used in the Visual Studio 2010 designer, as shown in the illustration below. </font></font><br><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Setting the sample data in Expression Blend 4</font></font></b> <br><img src="https://habrastorage.org/getpro/habr/post_images/aac/6d1/acc/aac6d1accc29cd3e2a9db496cfabfc16.png" alt="    Expression Blend 4"><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> After creating the sample data, they will appear in the data panel, as shown below. </font></font><br><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Data panel. </font></font></b> <br><img src="https://habrastorage.org/getpro/habr/post_images/315/595/0f3/3155950f3ee0846e450f2a6c96dac635.png" alt=" "><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">After that, you can drag and drop them onto the root element of the view, such as </font></font><code>UserControl</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, which properly installs it </font></font><code>d:DataContext </code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">You can also drag a collection of sample data to </font></font><code>ItemsControl</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, after which Blend will bind to this data.</font></font><br><blockquote> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">The note. </font></font></b> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Selective XAML data is not compiled and is not included in the final assembly.</font></font><br></blockquote><br><h5><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> XAML resources </font></font></h5><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">You can create a resource in XAML, where the desired type is created, and then bind it to </font></font><code>DataContext</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, or to the list. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">This technique can be used to quickly create one-time data that is used to edit a data template.</font></font><br><br><h5>  Code </h5><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">If you prefer to create sample data in code, you can write a class that has properties and methods that return sample data. For example, you can write a class </font></font><code>Customers</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">that in the standard non-parametric constructor fills itself with instances of the class </font></font><code>Customer</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">filled with the required data. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">One way to consume such data is to use the bundle </font></font><code>d:DataContext ‚Äî d:DesignInstance</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, setting the property </font></font><code>d:DesignInstance.IsDesignTimeCreatable</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">to </font></font><code>true</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, so that the code is executed during design. If this property is not set, a pseudo-type will be created, and only the type data will be available at design time. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">The following XAML demonstrates instantiating a class </font></font><code>Customers</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">and setting it as </font></font><code>d:DataContext</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. Subsidiaries</font></font><code>Grid</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">controls can then use the sample data provided by the class </font></font><code>Customers</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.</font></font><br><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Grid</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">d:DataContext</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"{d:DesignInstance local:Customers, IsDesignTimeCreatable=True}"</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br><h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Key decisions when creating user interface markup </font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">When creating a composite application project, you will need to make some decisions about user interface design that will be difficult to change in the future. </font><font style="vertical-align: inherit;">As a rule, these are solutions of the whole application level, and their consistency will increase the productivity of developers and designers. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">These solutions are as follows:</font></font><br><br><ul><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Define the application flow and set the regions according to it. </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Determine what type of views will be loaded into each used region. </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Decide whether you will use </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Region Navigation APIs</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font></li><li> ,          (MVVM, presentation model,  ). </li><li>     . </li></ul><br><h3>  Additional Information </h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">For more information on expanding the Prism Library, see " </font></font><a href="http://msdn.microsoft.com/en-us/library/gg430866(v%3Dpandp.40).aspx"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Extending Prism</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ." </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">For more information on commands, see " </font></font><a href="http://msdn.microsoft.com/en-us/library/gg405484(v%3Dpandp.40).aspx"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Commands</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> " in Part 5, " </font></font><a href="http://msdn.microsoft.com/en-us/library/gg405484(v%3Dpandp.40).aspx"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Implementing the MVVM Pattern</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ." </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">For more information about data binding, see " </font></font><a href="http://msdn.microsoft.com/en-us/library/gg405484(v%3Dpandp.40).aspx"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Data Binding</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> " in Part 5, " </font></font><a href="http://msdn.microsoft.com/en-us/library/gg405484(v%3Dpandp.40).aspx"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Implementing the MVVM Pattern</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ." </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">For more information about navigating regions, see part 8, " </font></font><a href="http://msdn.microsoft.com/en-us/library/gg430861(v%3Dpandp.40).aspx"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Navigation</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ." </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">For more information on the guides discussed in this chapter, see:</font></font><br><br><ul><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> "Dependency Properties Overview" on MSDN: </font></font></li><li> <a href="http://msdn.microsoft.com/en-us/library/ms752914.aspx">http://msdn.microsoft.com/en-us/library/ms752914.aspx</a> . </li><li> Data binding; see: <ul><li> ¬´Data Binding Overview¬ª on MSDN: <br> <a href="http://msdn.microsoft.com/en-us/library/ms742521.aspx">http://msdn.microsoft.com/en-us/library/ms742521.aspx</a> . </li><li> ¬´Data Binding in WPF¬ª in <em>MSDN Magazine</em> : <br> <a href="http://msdn.microsoft.com/en-us/magazine/cc163299.aspx">http://msdn.microsoft.com/en-us/magazine/cc163299.aspx</a> . </li></ul></li><li> ¬´Data Templating Overview¬ª on MSDN: <br> <a href="http://msdn.microsoft.com/en-us/library/ms742521.aspx">http://msdn.microsoft.com/en-us/library/ms742521.aspx</a> . </li><li> ¬´Resources Overview¬ª on MSDN: <br> <a href="http://msdn.microsoft.com/en-us/library/ms750613.aspx">http://msdn.microsoft.com/en-us/library/ms750613.aspx</a> . </li><li> ¬´UserControl Class¬ª on MSDN: <br> <a href="http://msdn.microsoft.com/en-us/library/system.windows.forms.usercontrol.aspx">http://msdn.microsoft.com/en-us/library/system.windows.forms.usercontrol.aspx</a> . </li><li> ¬´VisualStateManager Class¬ª on MSDN: <br> <a href="http://msdn.microsoft.com/en-us/library/cc626338(v%3DVS.95).aspx">http://msdn.microsoft.com/en-us/library/cc626338(v=VS.95).aspx</a> . </li><li> ¬´Customizing Controls For Windows Presentation Foundation¬ª in <em>MSDN Magazine</em> : <br> <a href="http://msdn.microsoft.com/en-us/magazine/cc163421.aspx">http://msdn.microsoft.com/en-us/magazine/cc163421.aspx</a> . </li><li> ¬´ComponentResourceKey Markup Extension¬ª MSDN topic: <br> <a href="http://msdn.microsoft.com/en-us/library/ms753186.aspx">http://msdn.microsoft.com/en-us/library/ms753186.aspx</a> . </li><li> ¬´Design-Time Attributes in the WPF Designer¬ª on MSDN: <br> <a href="http://msdn.microsoft.com/en-us/library/ee839627.aspx">http://msdn.microsoft.com/en-us/library/ee839627.aspx</a> . </li><li> ¬´Design-Time Attributes in the Silverlight Designer¬ª on MSDN: <br> <a href="http://msdn.microsoft.com/en-us/library/ff602277(VS.95).aspx">http://msdn.microsoft.com/en-us/library/ff602277(VS.95).aspx</a> . </li><li> ¬´Markup Extensions and WPF XAML¬ª on MSDN: <br> <a href="http://msdn.microsoft.com/en-us/library/ms747254.aspx">http://msdn.microsoft.com/en-us/library/ms747254.aspx</a> . </li><li> ¬´Using Custom Fonts in Silverlight¬ª: <br> <a href="http://silverlight.net/learn/learnvideo.aspx%3Fvideo%3D69800">http://silverlight.net/learn/learnvideo.aspx?video=69800</a> . </li><li> ¬´Sample Data in the WPF and Silverlight Designer¬ª on MSDN: <br> <a href="http://blogs.msdn.com/b/wpfsldesigner/archive/2010/06/30/sample-data-in-the-wpf-and-silverlight-designer.aspx">http://blogs.msdn.com/b/wpfsldesigner/archive/2010/06/30/sample-data-in-the-wpf-and-silverlight-designer.aspx</a> . </li><li> Learning the Visual Studio WPF and Silverlight DesignerThis contains tutorials and articles on layout, resources, data binding, sample data, debugging data bindings, object data sources, and master-detail forms. </li><li> <a href="http://blogs.msdn.com/b/wpfsldesigner/archive/2010/01/15/learn.aspx">http://blogs.msdn.com/b/wpfsldesigner/archive/2010/01/15/learn.aspx</a> . </li></ul></div><p>Source: <a href="https://habr.com/ru/post/177925/">https://habr.com/ru/post/177925/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../177909/index.html">Practical application of a universal electronic card (UEC) in the city and the Internet. Part 3</a></li>
<li><a href="../17791/index.html">E-ticket sweeps the country</a></li>
<li><a href="../177915/index.html">My Boot Camp - wherever I want, I put it there</a></li>
<li><a href="../177917/index.html">NASA has made it possible for everyone to follow the fate of Voyager 1</a></li>
<li><a href="../177921/index.html">Video interview from Silicon Valley. Max Skibinsky - serial entrepreneur, business angel and incubator mentor 500 Startups</a></li>
<li><a href="../177929/index.html">Django auto-completion multiple choice field</a></li>
<li><a href="../177931/index.html">Stephen Wolfram Mathematical Analysis of Social Networks</a></li>
<li><a href="../177933/index.html">How I translated Leisure Suit Larry</a></li>
<li><a href="../177937/index.html">Ubuntu 13.04 Raring Ringtail Release</a></li>
<li><a href="../177939/index.html">VIZIO. Low cost laptop with Full HD IPS screen</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>