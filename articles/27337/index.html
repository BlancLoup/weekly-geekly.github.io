<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Installing and configuring Ubuntu 8.04 on the ASUS Eee PC</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="When I bought myself an ASUS Eee PC, I did not think at all about what operating system I would install on it - it would definitely be Ubuntu Linux. F...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Installing and configuring Ubuntu 8.04 on the ASUS Eee PC</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/getpro/habr/olpictures/48b/46f/f3f/48b46ff3f4679ae54f63acff446f4737.gif" width="351" height="294" hspace="10" vspace="10"><br>  When I bought myself an ASUS Eee PC, I did not think at all about what operating system I would install on it - it would definitely be Ubuntu Linux.  Firstly, because I have Ubuntu at home and at work, secondly, because at home and at work I have a <a href="http://konishchevdmitry.blogspot.com/2007/10/local-repository-creating.html">local mirror of the Ubuntu repository</a> , and thirdly, simply because this distribution kit suits everyone . <br><br>  After the purchase, I immediately got into the Internet in search of various HowTo to install Ubuntu 8.04 on the Eee PC.  The result surprised me a little.  Despite the huge excitement around the Eee PC, there are not that many HowTo on the network + most of them are aimed at Ubuntu 7.10 and offer to run some script that will replace the system configuration files with their own, sharpened for Eee PC. <br><br>  I didn‚Äôt even look at these scripts, since they are intended for Ubuntu 7.10, and their launch on Ubuntu 8.04 can lead to bad consequences.  Therefore, during the search for the necessary information on the network, I paid attention only to those articles that describe how you can configure Ubuntu under the Eee PC with your own hands.  I didn‚Äôt manage to find a HowTo that would contain answers to all the questions before me, so I decided to systematize the information I collected and merge it into one article.  Now my system is already set up, so I will try to remember all the actions that I performed on it, so that everything worked as I want.  I hope I won't miss anything.  :) 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <a name="habracut"></a><br>  <strong>Installation</strong> <br><br>  For installation, we need a boot disk with Ubuntu 8.04 and a flash drive with 1 GB or more. <br>  Before using the flash drive, do not forget to copy all the important data from it. <br><blockquote>  # Making a disk image <br>  dd if = / dev / cdrom of = ubuntu.iso <br><br>  # Install the syslinux package <br>  sudo apt-get install syslinux <br><br>  # Download the script that will write the ISO image to the flash drive <br>  wget <a href="">kiwilinux.org/public/isotostick.sh</a> <br><br>  # Making this script executable <br>  sudo chmod a + x isotostick.sh <br><br>  # It is assumed below that / dev / sdX1 is the device file of your flash drive. <br><br>  # Format the flash drive <br>  sudo mkfs.vfat -F 32 -n ubuntu / dev / sdX1 <br><br>  # Make the partition bootable <br>  sudo parted / dev / sdX set 1 boot on <br><br>  # Run the downloaded script <br>  sudo ./isotostick.sh cd.iso / dev / sdX1 <br><br>  # Making a bootable flash drive <br>  sudo syslinux / dev / sdX1 </blockquote><br>  Everything, now you can boot from this flash drive as a disk and install Ubuntu on an Eee PC.  To do this, during the Eee PC bootup, press F2 to enter the BIOS and on the Boot tab, make the appropriate settings so that the boot will occur from the flash card. <br><br>  <strong>Loading</strong> <br><br>  To increase the operating system boot speed, in /boot/grub/menu.lst replace the line <blockquote>  # defoptions = quiet splash </blockquote>  on <blockquote>  # defoptions = quiet splash clocksource = hpet </blockquote>  and run <blockquote>  sudo update-grub </blockquote>  Now the operating system boot time should be reduced by about 40 seconds. <br><br>  <strong>Power off</strong> <br><br>  After installation, the first thing that catches your eye is that Ubuntu does not want to shut down.  :) At the halt command, the system shutdown process is started, the running services are stopped, the screen goes blank, but the computer does not turn off. <br><br>  To fix this, open /etc/init.d/halt and add the line "modprobe -r snd-hda-intel" to the body of the do_stop function, as shown below: <blockquote>  ... <br>  do_stop () { <br>  modprobe -r snd-hda-intel <br><br>  if ["$ INIT_HALT" = ""] <br>  .... </blockquote><br><br>  <strong>Sound</strong> <br><br>  Add to the /etc/modprobe.d/snd-hda-intel file (if the file does not exist, create it) the line <blockquote>  options snd-hda-intel model = 3stack-dig </blockquote><br><br>  <strong>Fn + F hotkeys support [1-9]</strong> <br><br>  Install the source files and compile the module from them: <blockquote>  sudo apt-get install module-assistant eeepc-acpi-source <br>  sudo ma ai eeepc-acpi <br>  sudo sh -c 'echo eeepc-acpi &gt;&gt; / etc / modules' </blockquote><br>  If you upgrade your kernel in the future, you will have to run the command <blockquote>  sudo ma ai eeepc-acpi </blockquote>  which will reassemble the module for the new kernel. <br><br>  I did not earn all the keys.  The sleep button and the display brightness increase / decrease buttons work fine.  About the setting of the on / off button Wi-Fi, I will tell below.  The volume off / decrease / increase buttons did not work when I tried to adjust them according to the HowTo I was caught.  I did not dig deeper in this direction, because I personally do not need sound on the Eee PC (I turned it off in the BIOS at all).  Therefore, the solution to this problem I leave to you.  :) If someone writes in the comments how to set them up - I will be grateful, maybe later it will come in handy. <br><br>  <strong>Dynamic CPU frequency change</strong> <br><br>  I‚Äôll say right away that when I read discussions on forums about reducing the frequency of the processor in order to save energy, I often met the opinions of people who say that saving a lot of battery life will not work - a maximum of 10-15 minutes.  I did not do any tests myself, but I still tuned the frequency reduction - maybe at least it will be less heated, and these 15 minutes are also not superfluous ... <br><br>  It is also worth noting that although the manufacturer claims that the processor frequency is 900 MHz, in fact, it operates at a frequency of 630 MHz.  Judging by the reviews, even if you raise the frequency to 900 MHz, then you will not get a performance boost - you need to overclock the bus, which I didn‚Äôt do - for me the battery life is much more important. <br><br>  So‚Ä¶ <br><br>  Install the package we need, allowing us to change the processor frequency on the fly: <blockquote>  sudo apt-get install cpufrequtils </blockquote>  and add the following lines to /etc/rc.local: <blockquote>  # Turn on the dynamic change of the processor frequency <br>  modprobe p4-clockmod <br>  modprobe cpufreq-ondemand <br>  # Turn on the smooth change of the processor frequency depending <br>  # from the load in the range from 112 MHz to 675 MHz.  New value <br>  # frequencies will be calculated every 500 ms. <br>  echo 112500&gt; / sys / devices / system / cpu / cpu0 / cpufreq / scaling_min_freq <br>  echo 675000&gt; / sys / devices / system / cpu / cpu0 / cpufreq / scaling_max_freq <br>  powernowd -m 1 -p 500 </blockquote>  If the application doesn‚Äôt work for you, then you can increase the minimum processor frequency (you can see the list of available frequencies in / sys / devices / system / cpu / cpu0 / cpufreq / scaling_available_frequencies) or decrease the value of the -p option powernowd. <br><br>  <strong>Wi-Fi</strong> <br><br>  Compile and install the required module: <blockquote>  sudo apt-get install build-essential <br>  wget 'http://snapshots.madwifi.org/special/madwifi-nr-r3366+ar5007.tar.gz' <br>  tar zxvf madwifi-nr-r3366 + ar5007.tar.gz <br>  cd madwifi-nr-r3366 + ar5007 <br>  make clean <br>  make <br>  sudo make install <br>  sudo reboot </blockquote>  If you update the kernel in the future, you will need to recompile and install the module. <br><br>  Create the /etc/acpi/actions/wireless-toggle.sh file with the following lines: <blockquote><pre>  #! / bin / sh
 # main wifi toggle script (loads / unloads modules)
 .  / usr / share / acpi-support / key-constants
 # The sequence here * may * be important.
 # (It seems to fail intermittently if you deviate.)
 unload_modules () {
    rmmod wlan_scan_sta
    rmmod wlan_tkip
    rmmod wlan_wep
    rmmod wlan_ccmp
    rmmod wlan_acl
    rmmod ath_pci
    sleep 1
    rmmod ath_rate_atheros
    rmmod ath_hal
    rmmod wlan
    rmmod ath_dfs
 }

 # At least this one's straightforward.
 load_modules () {
    modprobe ath_pci
 }

 wifi_on () {
    # Force PCI Express Hotplug to reinit
    rmmod pciehp
    sleep 1
    # pciehp_force may be unnecessary;  Xandros did it.
    modprobe pciehp pciehp_force = 1
    sleep 1
    # Switch on the hardware
    echo 1&gt; / proc / acpi / asus / wlan
    sleep 1
    load_modules
 }

 wifi_off () {
    unload_modules
    echo 0&gt; / proc / acpi / asus / wlan
 }

 case $ 1 in
    on)
       acpi_fakekey $ KEY_PROG1
       wifi_on
       ;;
    off)
       acpi_fakekey $ KEY_PROG2
       wifi_off
       ;;
    toggle)
       STAT = `cat / proc / acpi / asus / wlan`
       if ["$ STAT" = "1"];
          then wifi_off;
          else wifi_on;
       fi
       ;;
 esac </pre></blockquote><br>  Also create the file /etc/acpi/eeepc-hotkeys.sh: <blockquote><pre>  #! / bin / sh
 code = $ 3
 case $ code in
     # Fn + F2 - enable / disable wifi
     00000010)
         /etc/acpi/actions/wireless-toggle.sh on
     ;;
     00000011)
         /etc/acpi/actions/wireless-toggle.sh off
     ;;
 esac </pre></blockquote><br>  Making these files executable: <blockquote>  chmod a + x /etc/acpi/actions/wireless-toggle.sh <br>  chmod a + x /etc/acpi/eeepc-hotkeys.sh </blockquote><br>  And create the file / etc / acpi / events / hotkey, in which we write: <blockquote>  event = hotkey ATKD <br>  action = / etc / acpi / eeepc-hotkeys.sh% e </blockquote><br>  Everything, now Wi-Fi and its on / off button should work.  In principle, you can use graphic utilities to connect to a Wi-Fi point, but personally it‚Äôs much more convenient for me to type a few words in the console than to click on a lot of buttons.  Therefore: <blockquote>  # Install the package to work with WPA encryption <br>  sudo apt-get install wpasupplicant </blockquote><br>  Create the file /etc/wpa_supplicant/wpa_supplicant.conf with the following content: <blockquote>  ctrl_interface = / var / run / wpa_supplicant <br>  ctrl_interface_group = 0 <br>  ap_scan = 1 <br>  fast_reauth = 1 <br>  eapol_version = 1 <br><br>  network = { <br>  ssid = "ROUTER_ID" <br>  psk = "PASSWORD" <br>  priority = 5 <br>  } </blockquote>  where ROUTER_ID is the name of the access point, and PASSWORD is the password to access it. <br><br>  Add the following lines to / etc / network / interfaces: <blockquote>  iface ath0 inet dhcp <br>  wpa-driver wext <br>  wpa-conf /etc/wpa_supplicant/wpa_supplicant.conf </blockquote><br>  All, now to connect to the access point you need to run the command <blockquote>  sudo ifup ath0 </blockquote><br>  If you are using a Wi-Fi open access point, you don‚Äôt need to install wpasupplicant and create the /etc/wpa_supplicant/wpa_supplicant.conf file - you just need to add lines to / etc / network / interfaces <blockquote>  iface ath0 inet dhcp <br>  pre-up ifconfig ath0 up <br>  pre-up iwconfig ath0 essid "ROUTER_ID" </blockquote><br>  To break an already established connection, use the command <blockquote>  sudo ifdown ath0 </blockquote><br>  In principle, you can add the ifup / ifdown commands to the /etc/acpi/actions/wireless-toggle.sh script, so that when you press the Wi-Fi on / off button, a connection to the Wi-Fi point will automatically occur. <br><br>  <strong>We save electricity</strong> <br><br>  To see which applications / services cause the processor to most often go from a sleeping state to a working state and, consequently, increase power consumption, use the powertop utility. <br><br>  My most active were Wi-Fi, USB and Ethernet.  Therefore, I added the following lines to /etc/rc.local, which disable all these interfaces during the boot phase: <blockquote>  # Disable Ethernet <br>  / sbin / ifconfig eth0 down <br><br>  # Disable USB <br>  rmmod ehci-hcd <br>  rmmod uhci-hcd <br><br>  # Turn off Wi-Fi <br>  / sbin / ifconfig ath0 down </blockquote><br>  I turn them on only when I need them.  They are enabled by the following commands: <blockquote>  # Ethernet <br>  ifup eth0 <br><br>  # Usb <br>  sudo modprobe ehci-hcd <br>  sudo modprobe uhci-hcd <br><br>  # Wi-Fi <br>  ifup ath0 </blockquote><br>  If there is no desire to type all these commands in the console each time, then you can install the <a href="">Eee PC sm-Control</a> program, written by a friend, Serge_RUS, which allows you to perform the same actions through a graphical interface. <br><br><img src="https://habrastorage.org/getpro/habr/olpictures/8fc/daa/adb/8fcdaaadbd214df971cc7a26be58f797.png" width="281" height="333" hspace="10" vspace="10"><br><br>  <strong>SD / SDHC card</strong> <br><br>  So far I have enough of the built-in SSD drive, and I don‚Äôt think to buy additional flash memory to my Eee PC.  But, reading various HowTo and forums, I noticed that many have problems with some memory cards.  Because I don‚Äôt have such a problem yet, I wasn‚Äôt really interested in which cards it was better to buy and how to deal with problems if they suddenly arise.  At the end of the article I gave a couple of links on this topic, if it is relevant to you. <br><br>  <strong>Longer SSD life</strong> <br><br>  To reduce the number of write operations on the SSD, add the following lines to / etc / fstab so that all temporary files and logs are written to RAM: <blockquote>  tmpfs / tmp tmpfs defaults, noatime, nodiratime 0 0 <br>  tmpfs / var / tmp tmpfs defaults, noatime, nodiratime 0 0 <br>  tmpfs / var / log tmpfs defaults, noatime, nodiratime 0 0 </blockquote><br>  Attention!  If you use programs that create very large temporary files in / tmp, then the first line should not be added to avoid a shortage of RAM when creating such files. <br><br>  In the mount parameters of the SSD partition specify the options noatime and nodiratime.  That is, if your partition is mounted by the string <blockquote>  UUID = 79d788c4-a8fb-4f03-92c2-e90d4c26b51b / ext2 defaults, errors = remount-ro 0 1 </blockquote>  then replace it with <blockquote>  UUID = 79d788c4-a8fb-4f03-92c2-e90d4c26b51b / ext2 defaults, noatime, nodiratime, errors = remount-ro 0 1 </blockquote>  Enabling these options prevents the update of the last access time each time you access a file or folder in this section. <br><br>  If you don‚Äôt use the locate command, you can delete (or just exit 0 after the line #! / Bin / sh) the file /etc/cron.daily/mlocate.  This script runs every day and updates the locate database containing the paths of all files in the system (it is very convenient to use locate if you need to quickly find some file by name - the find command works much slower because it uses an unprepared database, but each time browses the entire directory tree).  If you use locate, you can move /etc/cron.daily/mlocate to /etc/cron.weekly/ to update the database once a week. <br><br>  Also, in order to reduce the number of write operations on SSD, turn off all logs (IMHO, they are not needed on a pocket laptop): <blockquote>  apt-get remove klogd sysklogd logrotate </blockquote><br><br>  <strong>Save space on SSD</strong> <br><br>  Install the localepurge package.  It will ask you for the list of locales you need and remove all others.  The localepurge will also automatically launch each time apt starts. <br><br>  Launch Synaptic, go to the Settings-&gt; Preferences menu, go to the Columns and Fonts tab and check the box next to Installed Size.  Now one more column will appear in the list of packages - Size.  If the package is installed, then this column will display the size of the files of this package.  Sort the list of packages by this column and delete all unnecessary packages that take up a lot of space. <br><br>  <strong>Compact theme</strong> <br><br>  To increase the amount of useful information displayed on the relatively small screen of the Eee PC, I recommend that you install the compact theme for the GTK - <a href="http://gnome-look.org/content/show.php/Human%2BCompact%3Fcontent%3D80980">Human Compact</a> . <br><br><img src="https://habrastorage.org/getpro/habr/olpictures/4f9/8b9/631/4f98b9631265490bb7c86c3d8a44bf1b.png" width="450" height="255" hspace="10" vspace="10"><img src="https://habrastorage.org/getpro/habr/olpictures/dde/126/3e5/dde1263e50f5ed1628e882c65d14c9db.png" width="450" height="349" hspace="10" vspace="10"><img src="https://habrastorage.org/getpro/habr/olpictures/60d/4d1/3c0/60d4d13c0196fd39590f1c1e74a5fee7.png" width="450" height="362" hspace="10" vspace="10"><br><br>  <strong>Reading of books</strong> <br><br>  For reading books I can recommend <a href="http://www.fbreader.org/">FBReader</a> . <br><br><img src="https://habrastorage.org/getpro/habr/olpictures/eae/b8f/683/eaeb8f683ed2195f1d52611a0faedea7.png" width="450" height="256" hspace="10" vspace="10"><img src="https://habrastorage.org/getpro/habr/olpictures/aa9/2a7/f15/aa92a7f1557b4c74e2a4277bdc6535b4.png" width="450" height="270" hspace="10" vspace="10"><br><br>  <strong>Related Links</strong> <br><br>  <a href="http://wiki.debian.org/DebianEeePC/HowTo/Wifi">DebianEeePC / HowTo / Wifi</a> <br>  <a href="http://wiki.eeeuser.com/getting_ubuntu_8.04_to_work_perfectly">Ubuntu 8.04 (Hardy Heron) on the Asus Eee PC</a> <br>  <a href="http://wiki.eeeuser.com/hardware:eee_un_supported_devices">(Un) supported Hardware</a> <br>  <a href="http://habrahabr.ru/blog/eeepc/41434.html">Problems with SDHC and their solution</a> <br>  <a href="http://habrahabr.ru/blog/eeepc/35625.html">Installing Ubuntu on an Eee PC</a> <br>  <a href="http://eee-pc.ru/wiki/ubuntu:%25D0%25B3%25D0%25BB%25D0%25B0%25D0%25B2%25D0%25BD%25D0%25B0%25D1%258F">Install and configure Ubuntu</a> <br><br>  Source: Crossposting from my blog - <a href="http://konishchevdmitry.blogspot.com/">konishchevdmitry.blogspot.com</a> . </div><p>Source: <a href="https://habr.com/ru/post/27337/">https://habr.com/ru/post/27337/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../273359/index.html">Stop using jQuery, you can do better without it.</a></li>
<li><a href="../27336/index.html">I got Opera magazine today</a></li>
<li><a href="../273363/index.html">Build XGBoost for Python under Windows</a></li>
<li><a href="../273365/index.html">Performance Comparison PHP 7.0 and HHVM</a></li>
<li><a href="../273367/index.html">Native Elements concept</a></li>
<li><a href="../273371/index.html">Detailed instructions for OpenVPN v2.3.8 on Windows server 2008R2</a></li>
<li><a href="../273373/index.html">How to make a password safe and memorable</a></li>
<li><a href="../273377/index.html">Copyright and streaming</a></li>
<li><a href="../273379/index.html">Enough of talking about the fact that each task has its own tool, we already know</a></li>
<li><a href="../27338/index.html">Done - Adsense payments can be received by Rapida</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>