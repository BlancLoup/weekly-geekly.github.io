<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Create a drop-down menu on the CMS S.Builder</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="This is my first post on Habr√©, so do not judge strictly! ;) 

 In my first article I will tell you about how to integrate the drop-down (dynamic menu...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Create a drop-down menu on the CMS S.Builder</h1><div class="post__text post__text-html js-mediator-article">  This is my first post on Habr√©, so do not judge strictly!  ;) <br><br>  In my first article I will tell you about how to integrate the drop-down (dynamic menu) into <b>CMS <font color="#cc0000">S.</font> Builder</b> . <br><br>  An example of a dynamic menu in action can be viewed in the original article: <br>  <a href="http://www.sbuilder.ru/article_more.php%3Faid%3D61">http://www.sbuilder.ru/article_more.php?aid=61</a> . 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Unfortunately, I could not include JavaScript in the message body here. <br><br><br>  The menu can be horizontal or vertical.  It makes no difference!  Will fall anyway.  ;) <br>  I will show how to do both such and such. <br><br><a name="habracut"></a><br><br>  I will use the free Angus Turnbull script - <b>FreeStyle v1.0 RC9</b> ( <a href="http://www.twinhelix.com/">http://www.twinhelix.com/</a> ).  But on the website of the author of the script, you can download a later version of FreeStyle v1.0 RC11 ( <a href="">http://www.twinhelix.com/dhtml/fsmenu/fsmenu.zip</a> ). <br>  From the point of view of integration into our system, there is no difference between releases of RC9 and RC11. <br><br>  I stopped at this script for the following reasons: <br><br><ol><li>  CSS and JavaScript codes are completely separated.  Therefore, when integrating the script, knowledge of JavaScript is not needed.  All you need to know is CSS.  But if you have a desire to modify something in JavaScript code, then your code with detailed comments of the author is at your service; </li><li>  Cross-browser script; </li><li>  The logic of the script operation completely coincides with the logic of the Menu module in the <b>CMS <font color="#cc0000">S.</font> Builder</b> . </li></ol><br>  Many thanks to Angus for the work done! <br><br>  <a href="">Here</a> you can find a somewhat truncated, but translated version of the <b>FreeStyle v1.0 RC9 script</b> .  But if you have no problems with English, then you can download the full version of <b>FreeStyle v1.0 RC11</b> from the author‚Äôs site <b>-</b> <a href="">http://www.twinhelix.com/dhtml/fsmenu/fsmenu.zip</a> . <br><br>  I will customize the menu on <b>CMS <font color="#cc0000">S.</font> Builder</b> version <b>4.0</b> , but in this case there is practically no difference between 4.0 and 3.7.  So, the article will be useful to absolutely everyone, and even those who do not create websites based on our CMS. <br><br>  I will proceed from the fact that you already know where and how a regular menu is created and configured in <strong>CMS <font color="#cc0000">S.</font> Builder</strong> . <br><br>  So let's get started! <br><br>  Suppose we have the following menu in the system: <br><br><img height="250" src="https://habrastorage.org/getpro/geektimes/post_images/67e/79a/b37/67e79ab37d3dd74b45d443a5ed47528b.gif" width="253"><br><br><img height="280" src="https://habrastorage.org/getpro/geektimes/post_images/98f/5ad/779/98f5ad779c5d5b5c28b69ea684a7b6a2.gif" width="466"><br><br>  Go to the menu design layouts: <br><br> <a href="http://www.sbuilder.ru/images/articles_cms/dmenu/img/nav_menu_dis_menu_b.gif%257C%2522,%2522binn_popup_image%2522,%2522width%3D596,height%3D226,scrollbars%3Dno,toolbar%3Dno,location%3Dno,status%3Dno,resizable%3Dyes,left%3D%2522%2B((screen.availWidth-596)%2520/%25202)%2B%2522,top%3D%2522%2B((screen.availHeight-226)%2520/%25202))%3Bwnd.focus()%3B"><img height="180" src="https://habrastorage.org/getpro/geektimes/post_images/0b7/5b8/a76/0b75b8a76c0cbe75d28a1aeb3c8cc6d7.gif" width="475"></a> <br><br>  And create a new design layout: <br><br><img height="185" src="https://habrastorage.org/getpro/geektimes/post_images/563/e14/357/563e1435707db5767e8af03eef6c2007.gif" width="235"><br><br><img height="187" src="https://habrastorage.org/getpro/geektimes/post_images/6fb/748/0c5/6fb7480c5b1efae7a643ff216620264c.gif" width="475"><br><br>  I switch to ‚ÄúLevel 1‚Äù and insert the code into the fields. <br><br>  In the field <b>‚ÄúTop‚Äù I</b> insert: <br><br>  <i>&lt;UL class = menulist id = listMenuRoot&gt;</i> <br><br>  In the field <b>‚ÄúItem with sub-items‚Äù</b> we put the code: <br><br>  <i>&lt;LI&gt; &lt;a href="{URL}"&gt; {TEXT} &lt;/a&gt; {SUB_ITEMS} &lt;/ LI&gt;</i> <br><br>  In the field <b>"Item with sub-items (selected)"</b> put the code: <br><br>  <i>&lt;LI&gt; &lt;a href="{URL}"&gt; {TEXT} &lt;/a&gt; {SUB_ITEMS} &lt;/ LI&gt;</i> <br><br>  In the field <b>"Item without sub-items"</b> put the code: <br><br>  <i>&lt;LI&gt; &lt;a href="{URL}"&gt; {TEXT} &lt;/a&gt; &lt;/ LI&gt;</i> <br><br>  In the field <b>"Item without subparagraphs (selected)"</b> put the code: <br><br>  <i>&lt;LI&gt; &lt;a href="{URL}"&gt; {TEXT} &lt;/a&gt; &lt;/ LI&gt;</i> <br><br>  <i>In the field <strong>"Bottom"</strong> close the list:</i> <br><br>  <i>&lt;/ Ul&gt;</i> <br><br>  <i>&lt;script type = "text / javascript"&gt;</i> <i><br></i>  <i>var listMenu = new FSMenu ('listMenu', false, 'visibility', 'visible', 'hidden');</i> <br><br>  <i>listMenu.cssLitClass = 'highlighted';</i> <i><br></i> <br><br>  <i>function animClipDown (ref, counter)</i> <i><br></i>  <i>{</i> <i><br></i>  <i>var cP = Math.pow (Math.sin (Math.PI * counter / 200), 0.75);</i> <i><br></i>  <i>ref.style.clip = (counter == 100?</i> <i><br></i>  <i>((window.opera || navigator.userAgent.indexOf ('KHTML')&gt; -1)? '':</i> <i><br></i>  <i>'rect (auto, auto, auto, auto)'):</i> <i><br></i>  <i>'rect (0,' + ref.offsetWidth + 'px,' + (ref.offsetHeight * cP) + 'px, 0)');</i> <i><br></i>  <i>};</i> <br><br>  <i>function animFade (ref, counter)</i> <i><br></i>  <i>{</i> <i><br></i>  <i>var f = ref.filters, done = (counter == 100);</i> <i><br></i>  <i>if (f)</i> <i><br></i>  <i>{</i> <i><br></i>  <i>if (! done &amp;&amp; ref.style.filter.indexOf ("alpha") == -1)</i> <i><br></i>  <i>ref.style.filter + = 'alpha (opacity =' + counter + ')';</i> <i><br></i>  <i>else if (f.length &amp;&amp; f.alpha) with (f.alpha)</i> <i><br></i>  <i>{</i> <i><br></i>  <i>if (done) enabled = false;</i> <i><br></i>  <i>else {opacity = counter;</i>  <i>enabled = true}</i> <i><br></i>  <i>}</i> <i><br></i>  <i>}</i> <i><br></i>  <i>else ref.style.opacity = ref.style.MozOpacity = counter / 100.1;</i> <i><br></i>  <i>};</i> <br><br>  <i>var arrow = null;</i> <i><br></i>  <i>if (document.createElement &amp;&amp; document.documentElement)</i> <i><br></i>  <i>{</i> <i><br></i>  <i>arrow = document.createElement ('span');</i> <i><br></i>  <i>arrow.appendChild (document.createTextNode ('&gt;'));</i> <i><br></i>  <i>// You can replace the above two lines for a small arrow image ...</i> <i><br></i>  <i>// arrow = document.createElement ('img');</i> <i><br></i>  <i>//arrow.src = 'arrow.gif';</i> <i><br></i>  <i>//arrow.style.borderWidth = '0';</i> <br><br>  <i>arrow.className = 'subind';</i> <i><br></i>  <i>}</i> <br><br>  <i>addEvent (window, 'load', new Function ('listMenu.activateMenu ("listMenuRoot", arrow)'));</i> <br><br>  <i>&lt;/ script&gt;</i> <br><br>  <b>Attention</b> <b>:</b> <i>addEvent</i> string <i>(window, 'load', new Function ('listMenu.activateMenu ("listMenuRoot", arrow)'));</i>  We recommend changing to listMenu.activateMenu (‚ÄúlistMenuRoot‚Äù, arrow);  The author activates the drop-down menu only when the page is fully loaded.  Because  we inserted this code after displaying the menu, then we don‚Äôt need to load the entire page. <br><br>  This script works with a menu constructed as a &lt;UL&gt; list. <br><br>  There is a version that works with DIVs, but since  on &lt;UL&gt; you can build almost any menu, we will not stop at the DIV version of the menu. <br><br>  I am getting the first level so far: <br><img height="616" src="https://habrastorage.org/getpro/geektimes/post_images/316/fd2/d36/316fd2d36671cc255486fd63297e7414.gif" width="475"><br><br>  Next to the tab "Level 1" there is a tab "+" I click it to add another tab "Level 2": <br><br><img height="106" src="https://habrastorage.org/getpro/geektimes/post_images/222/104/3dc/2221043dcee3562cfe652b667f06756a.gif" width="475"><br><br>  In the field <b>‚ÄúTop‚Äù I</b> insert: <br><br>  <i>&lt;Ul&gt;</i> <br><br>  In the field <b>‚ÄúItem with sub-items‚Äù</b> we put the code: <br><br>  <i>&lt;LI&gt; &lt;a href="{URL}"&gt; {TEXT} &lt;/a&gt; {SUB_ITEMS} &lt;/ LI&gt;</i> <br><br>  In the field <b>"Item with sub-items (selected)"</b> put the code: <br><br>  <i>&lt;LI&gt; &lt;a href="{URL}"&gt; {TEXT} &lt;/a&gt; {SUB_ITEMS} &lt;/ LI&gt;</i> <br><br>  In the field <b>"Item without sub-items"</b> put the code: <br><br>  <i>&lt;LI&gt; &lt;a href="{URL}"&gt; {TEXT} &lt;/a&gt; &lt;/ LI&gt;</i> <br><br>  In the field <b>"Item without subparagraphs (selected)"</b> put the code: <br><br>  <i>&lt;LI&gt; &lt;a href="{URL}"&gt; {TEXT} &lt;/a&gt; &lt;/ LI&gt;</i> <br><br>  <i>In the field <strong>"Bottom"</strong> close the list:</i> <br><br>  <i>&lt;/ Ul&gt;</i> <br><br>  Continuing this way I set up the desired number of levels. <br><br>  <strong>Attention:</strong> if the design of the level is not set, then it will be built on the basis of the design of the previous level.  Therefore, in our case, it is enough to configure two levels - Level 1 and Level 2. <br>  Now I need to place this menu in the page design layout.  This is done as follows: <br><br>  To do this, I turn to the design layouts of the site ‚ÄúDeveloper Menu‚Äù -&gt; ‚ÄúSite Design Layouts‚Äù: <br><br><img height="145" src="https://habrastorage.org/getpro/geektimes/post_images/ea7/8b1/12d/ea78b112dc78aeec65318af48d000733.gif" width="233"><br><br>  Open the desired layout for editing by clicking on it with the right mouse button and selecting ‚ÄúEdit design layout‚Äù from the context menu that appears (you can simply click on the template name): <br><img height="382" src="https://habrastorage.org/getpro/geektimes/post_images/eb4/867/c82/eb4867c82c5adbd101739676412cc70c.gif" width="475"><br><br>  In the window that opens, select the ‚ÄúRelated components‚Äù tab: <br><img height="307" src="https://habrastorage.org/getpro/geektimes/post_images/342/b2e/133/342b2e13320dbf26fb29300084654c20.gif" width="475"><br><br>  In the list that appears, I find an <i>edited block</i> ‚ÄúMAIN MENU‚Äù, this is the block that I need now. <br>  Further in the column ‚ÄúType of component‚Äù I select the component of the module ‚ÄúSite navigation -&gt; Menu display‚Äù we need: <br><br><img height="506" src="https://habrastorage.org/getpro/geektimes/post_images/3c5/2a7/d9f/3c52a7d9f1467f422197993dbcb70b9b.gif" width="474"><br><br>  Now I click the settings icon: <br><img height="48" src="https://habrastorage.org/getpro/geektimes/post_images/92f/850/5d8/92f8505d86cad0cb18e774915144ea0a.gif" width="475"><br><br>  In the window that opens, select a section (it‚Äôs the menu) of the site: <br><br><img height="337" src="https://habrastorage.org/getpro/geektimes/post_images/5d1/93d/a1f/5d193da1f72590dd85f4193fb1a7bab4.gif" width="475"><br><br>  And go to the tab "Properties": <br><br><img height="337" src="https://habrastorage.org/getpro/geektimes/post_images/37c/94b/eab/37c94beabc4fad26ccd77c38644d508f.gif" width="475"><br><br>  I choose the layout of the design.  I tick off ‚ÄúKeep selection at top-level items‚Äù.  And I press the "Select" button. <br><br>  That's all!  Menu on the page posted! <br><br>  Yes! <br><br>  I almost forgot!  In the design layout, in the &lt;HEAD&gt; ... &lt;/ HEAD&gt; tag you need to place: <br><br>  <i>&lt;link rel = "stylesheet" type = "text / css" href = "/ css / listmenu_v.css" /&gt;</i> <br><br>  <i>&lt;script type = "text / javascript" src = "/ scripts / fsmenu.js"&gt; &lt;/ script&gt;</i> <br><br>  <i>&lt;noscript&gt; &lt;link rel = "stylesheet" type = "text / css" href = "/ css / listmenu_fallback.css" /&gt; &lt;/ noscript&gt;</i> <br><br>  Moreover, if you need a horizontal drop-down menu, in the first line specify: <br><br>  <i>&lt;link rel = "stylesheet" type = "text / css" href = "/ css / listmenu_h.css" /&gt;</i> <br><br>  If vertical, then: <br><br>  <i>&lt;link rel = "stylesheet" type = "text / css" href = "/ css / listmenu_v.css" /&gt;</i> <br><br>  I assume that you know how to upload the necessary files to the appropriate folders on the server. <br>  We get: <br><br><img height="357" src="https://habrastorage.org/getpro/geektimes/post_images/a44/654/a74/a44654a74de0d5b79ccddcbb4167e6ba.gif" width="424"><br><br>  Look what happened: <br><br><img height="189" src="https://habrastorage.org/getpro/geektimes/post_images/1c8/1b2/77a/1c81b277aa2ec830aa814b2ff42c3476.gif" width="475"><br><br>  Everything is working! <br><br>  By changing the styles in the listmenu_v.css or listmenu_h.css file, you can achieve various menu display options: <br><br><img height="189" src="https://habrastorage.org/getpro/geektimes/post_images/e43/f22/7bd/e43f227bdad861be71ce5c829046bd9e.gif" width="475"><br><br>  Perhaps a much more serious change in the design of the menu.  Virtually any! <br><br>  Use! <br><br>  More complete instructions on setting up the menu (including setting background images for items, etc.) are in the menu file. <br>  About this further ... <br><br><h3>  We analyze the files in the archive drop-down menu </h3><br><br><br>  Menu styles have a wide range of settings!  I do not see any reason to paint them within the article.  they are detailed in the corresponding files: <br><br><ul><li>  <strong>fsmenu.html</strong> - file with an example and description of the menu. <br>  <strong><font color="#ff0000">Attention:</font></strong> <em>Instructions for setting are located directly in the HTML code of the file;</em> <em><br></em> <br></li><li>  <strong>fsmenu.js</strong> - JavaScript menu itself.  This is the drop down menu!  Do not forget to connect it.  Without this file, the menu will not work; <br><br></li><li>  <strong>listmenu_v.css</strong> - CSS file, with the settings of the <strong>vertical</strong> drop <strong>-</strong> down menu.  You can connect this file separately or include its code in your CSS file; <br><br></li><li>  <strong>listmenu_h.css</strong> - CSS file, with settings for the <strong>horizontal</strong> drop-down menu.  You can connect this file separately or include its code in your CSS file; <br><br></li><li>  <strong>listmenu_fallback.css</strong> - this file implements the menu without using JavaScript.  Used if the user has javascript disabled in the browser. </li></ul><br>  Download the archive with the script files <a href="">here</a> . <br><br>  <strong>If you like, write and I will continue this cycle!</strong> <br><br></div><p>Source: <a href="https://habr.com/ru/post/40583/">https://habr.com/ru/post/40583/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../40575/index.html">Talk about interaction with freelancers # 2</a></li>
<li><a href="../40576/index.html">How to organize working copies of multiple projects for multiple developers on a single development server</a></li>
<li><a href="../40578/index.html">The fight for the second click. Councils of Jacob Nielsen.</a></li>
<li><a href="../40580/index.html">Rootkit Rootkit Knock Out</a></li>
<li><a href="../40582/index.html">Steve Ballmer sputters again</a></li>
<li><a href="../40584/index.html">Author GreaseMonkey helps to make extensions for Chrome</a></li>
<li><a href="../40585/index.html">Game programming in Light Bot</a></li>
<li><a href="../40587/index.html">The first electronic paper factory opened</a></li>
<li><a href="../40588/index.html">How to survive a credit crunch</a></li>
<li><a href="../40589/index.html">Book networks of Runet: user view</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>