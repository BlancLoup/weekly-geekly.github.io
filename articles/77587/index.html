<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Programmer and antivirus</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="I develop software for high-speed and automated trading in securities and derivatives in the Russian stock market, mainly for individuals. The project...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Programmer and antivirus</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/getpro/habr/post_images/883/7ea/8c7/8837ea8c747d18630bad022179810fcf.jpg" alt="image"><br>  I develop software for high-speed and automated trading in securities and derivatives in the Russian stock market, mainly for individuals.  The project is a little more than six months and distribute the product freely.  Until recently, everything went as usual - expanding functionality, catching bugs, adding new ones, catching, expanding, adding, in general, the normal life cycle of a project and so on until I encountered an unexpected problem, the solution of which seemed to me at least amazing and worthy of this publication. <br><a name="habracut"></a><br>  It all started with the fact that after the next program update I received complaints from users, it turned out that the new version of the program is recognized by the NOD32 antivirus as ‚Äúprobably unknown NewHeur_PE virus‚Äù.  In this case, the antivirus behaves very aggressively with respect to the program: it prevents the program from downloading the archive, deletes the exe-file from the user's hard disk, directly from the archive.  The remaining antiviruses respond to the program adequately.  Well, okay, okay, I swear to users that the program does not contain any virus, I recommend checking the program with other antiviruses or adding NOD32 to the exceptions, and in the meantime I am trying to solve the situation with ESET.  About a month of talking with phone support and email correspondence, I get a long-awaited response from ESET: <br><br>  <em>Hello.</em> <em><br></em>  <em>The problem is solved in the virus signature database version 4613. If</em> <em><br></em>  <em>there will be any problems - please inform</em> <em><br></em> <br><br>  But my joy was not long.  After the release of the new version (about a month has passed since the start of negotiations with ESET, I substantially updated the functionality and fixed another batch of bugs) new complaints fell from users: the problem began to manifest itself again.  I swear again to users that the program does not contain any virus, I recommend checking the program with other antiviruses or adding NOD32 to the exceptions, and in the meantime I am trying to resolve the situation.  Which leads to the following interesting correspondence with ESET employees: 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      &gt;&gt;&gt; <br>  <strong>Response to the appeal number 159 914</strong> <br>  <em>Hello.</em> <em><br></em>  <em>Add this application to Antivirus Exceptions.</em> <br>  &lt;&lt;&lt; <br><br>  &gt;&gt;&gt; <br><br>  <strong>Your appeal is registered with the number 160 768</strong> <br><br>  You do not understand me.  I am an application developer and I want to <br>  Antivirus users did not block the application, did not interfere with it <br>  download from the site, did not delete from the archive and did not deliver them other inconveniences. <br><br>  And I notify you that in order to improve the quality, your answers to my letters will be available to users of the program and will be published on the program's website. <br><br>  Respectfully, <br>  &lt;&lt;&lt; <br><br>  &gt;&gt;&gt; <br>  <strong>ESET.</strong>  <strong>Response to the appeal number 160 768</strong> <br><br>  <em>Hello.</em> <em><br></em>  <em>Advise users to add this file to Antivirus Exceptions.</em> <em><br><br></em>  <em>Since the creation of new versions every 10 days and the addition of their ‚Äúwhite‚Äù signatures to the virus database is not a solution.</em> <em><br></em> <br>  &lt;&lt;&lt; <br><br>  &gt;&gt;&gt; <br>  <strong>Your appeal is registered with the number 160 792</strong> <br><br>  Hello. <br>  Are you sure that this is a good solution for antivirus technical support that prevents users from working with another, non-infected application, to recommend that users add this application to the exception? <br>  You do not think that the function of the anti-virus interferes with malicious activity of the programs, and also does not interfere with work with other programs? <br><br>  The rest of antiviruses can distinguish infected from non-infected programs, including for any versions of this program, which means there is a way, it is a question of competence <br><br>  Respectfully, <br>  &lt;&lt;&lt; <br><br>  &gt;&gt;&gt; <br>  <strong>ESET.</strong>  <strong>Response to the appeal number 160 792</strong> <br>  <em>Hello.</em> <em><br></em>  <em>Your file is detected by heuristics - which automatically detects the malicious functions of the files.</em> <em><br><br></em>  <em>If the file is detected by the antivirus, it means that it carries malicious functions.</em>  <em>Another question is whether these functions are necessary for the program to work or not.</em> <em><br><br></em>  <em>In this case, the user himself must decide whether he trusts this program or not.</em> <em><br></em> <br>  &lt;&lt;&lt; <br><br>  &gt;&gt;&gt; <br>  <strong>Your appeal is registered with the number 160 822</strong> <br><br>  Hello. <br>  Your antivirus does not allow the user to make a choice and does not inform him that the user must make a choice.  It prevents the antivirus from downloading, deletes the exe-file from the archive and writes the user ‚ÄúVirus: Unknown Virus‚Äù.  And how after that <br>  my explanations to users look like a tech support specialist said this <br>  message does not mean that the program is a virus?  What does this not at all antivirus swears, but only an automatic heuristic analyzer? <br><br>  Once again I remind you that this problem does not have other antiviruses, which means that the problem is in NOD. <br><br>  If you refuse to look for a further solution, then I will give the appeal number and recommend NOD users and my program on the site who doubt the ‚Äúcleanliness‚Äù of the program to call and write to you personally, and ask for confirmation whether the program really has no virus. <br><br>  Then please introduce yourself so that users ask you personally and do not disturb other employees. <br><br>  Respectfully, <br>  &gt;&gt;&gt; <br><br>  &gt;&gt;&gt; <br>  <strong>ESET.</strong>  <strong>Response to the appeal number 160 822</strong> <br><br>  <em>Hello.</em> <em><br></em>  <em>You were not told that your program does not contain a virus.</em> <em><br><br></em>  <em>Read the previous letter.</em> <em><br><br></em>  <em>Regarding the possibility of choice - when the antivirus finds a malicious program - the user receives a notification with a choice of actions where there is a ‚Äúdo nothing‚Äù option, and then he can add the file to the exclusions.</em> <em><br><br></em>  <em>"Once again I remind you that other antiviruses do not have this problem, which means that the problem is in NOD." - this phrase has no semantic meaning.</em> <em><br><br></em>  <em>My name @@@ @@@@@@.</em>  <em>I would like to warn you that the dissemination of personal data of a person without his consent is an angular crime.</em>  <em>Accordingly, I am not allowing you to use my name on my site and on other resources.</em> <em><br><br></em>  <em>If your user calls this problem, he will receive exactly the same answer - as in the previous letter - that this program <strong>is malicious</strong> and he can install it, adding to Exceptions under his responsibility.</em> <em><br></em> <br>  &lt;&lt;&lt; <br><br>  &gt;&gt;&gt; <br>  <strong>Your appeal is registered with the number 161 013</strong> <br><br>  Hello. <br><br>  ESR&gt; Hello. <br>  ESR&gt; you were not told that your program does not contain a virus. <br>  Is that so?  Your statement, to put it mildly, is surprising. <br>  The previous version of the program was even included in the updates. <br>  the anti-virus database and the anti-virus did not detect anything malicious in <br>  program, in the previous letter, the problem was commented by you <br>  in the following way: <br>  "Since the creation of new versions every 10 days and adding them" white " <br>  virus signature signatures are not the answer. ‚Äù  Now suddenly <br>  was the reason for the harmfulness of the program?  Why such an unexpected turn? <br><br>  ESR&gt; Read the previous letter. <br><br>  ESR&gt; About the possibility of choice when the antivirus finds <br>  ESR&gt; Malware - the user is notified with <br>  ESR&gt; the choice of action, where there is a point "do nothing", and <br>  ESR&gt; can then add the file to the exceptions. <br>  You know, I'm not a NOD user, but judging by the user feedback, they <br>  Surprise watching, as from just downloaded archive antivirus <br>  deletes the exe file. <br><br>  ESR&gt; "Once again I remind you that this problem does not have others <br>  ESR&gt; antivirus means the problem is in NOD. ‚Äù- this phrase is not <br>  ESR&gt; has a semantic load. <br>  Well, how can not be.  We check the program with other antiviruses - nothing <br>  suspicious, as it should be. <br><br>  ESR&gt; My name is @@@ @@@@.  I would like to warn you that <br>  ESR&gt; distribution of personal data of a person without his consent <br>  ESR&gt; is an angular crime.  Accordingly, my name, I do not <br>  ESR&gt; permits. Use on your site and on other resources. <br>  Do not worry, without your permission I am not going to publish your <br>  name.  All correspondence will be published, except for your <br>  name. <br><br>  I think public discussion is a chance for you in public. <br>  demonstrate your competence and solve the problem promptly. <br>  Interested in this and I and you. <br><br>  ESR&gt; If your user calls this problem, he <br>  ESR&gt; will receive exactly the same answer as in the previous letter <br>  ESR&gt; this program is malicious and it can install it, <br>  ESR&gt; adding to the Exceptions under its own responsibility. <br>  Since you know criminal law very well, you probably know <br>  that slander is also a criminal offense, and I want you to <br>  warn against such actions.  This information will be knowingly <br>  your previous letters will be false and proof of that. <br>  the company's actions to incorporate the program into the signature database, as well as <br>  check results by other antivirus programs.  Besides you <br>  will have to specify exactly what malicious actions does <br>  the program, and since there are none, you cannot do it. <br>  Although you do not want your name to be in public <br>  discussion, when responding to the client by phone or by correspondence, to you (or <br>  another employee) will have to introduce themselves at the request of the client and carry <br>  responsible for their words. <br>  &lt;&lt;&lt; <br><br>  No answer. <br>  I swear to users that the program does not contain any virus, I recommend checking the program with other antiviruses or adding NOD32 to the exceptions and using the program at your own peril and risk. <br><br>  I am surprised most of all in this story 2 things: <br><br>  First, until I came across, I did not think that it turns out that an antivirus company is a special kind of power that has come from nowhere, thanks to which interested persons can damage the reputation of any software product, and the more popular this company is, the more power it has . <br><br>  Secondly, it is surprising how this power can be used by an ordinary employee of the company's technical support, whose mood change, the program for which the issue was previously resolved positively, further becomes unequivocally malicious. <br><br>  PS While I was writing this article, I had the following dialogue with the [presumably] ESET employee on the program website: <br><br>  <em><strong>abibos</strong></em> <em><br></em>  <em>Well, you give, in the whole opus is considered the reluctance to understand the other side or lack of knowledge.</em> <em><br><br></em>  <em>Try to figure it out:</em> <em><br><br></em>  <em>Heuristics - a set of methods for finding a solution to a problem that can reduce the number of searches.</em> <em><br></em>  <em>You can read more here - <a href="http://ru.wikipedia.org/wiki/%25D0%25AD%25D0%25B2%25D1%2580%25D0%25B8%25D1%2581%25D1%2582%25D0%25B8%25D1%2587%25D0%25B5%25D1%2581%25D0%25BA%25D0%25B8%25D0%25B9_%25D0%25B0%25D0%25BD%25D0%25B0%25D0%25BB%25D0%25B8%25D0%25B7">ru.wikipedia.org/wiki/%D0%AD%D0%B2%D1%80%D0%B8%D1%81%D1%82 %D0BB% D1%87%D0%B5% D1% 81% D0% BA% D0% B8% D0% B9_% D0% B0% D0% BD% D0% B0% D0% BB% D0% B8% D0% B7</a></em> <em><br><br></em>  <em>Simply put, heuristics are a search engine for suspicious actions and conditions that are considered antivirus to be malicious.</em>  <em>Therefore, false positives or, more precisely, the detection of malicious actions of "useful" programs are very frequent.</em> <em><br><br></em>  <em>That is, to solve the problem of detecting your program, you need to either redo the heuristic mechanism in the antivirus (which, you agree, few people want to do), or add a special signature to the virus database, this ‚Äúinternal‚Äù exception is what was done at the beginning.</em> <em><br><br></em>  <em>Then, you released a new version and the problem repeated - because the signature that was added was no longer matched to your program.</em> <em><br><br></em>  <em>To add every time - when a new version of your program is released - signatures increase the size of virus databases (which is critical for antivirus programs), as well as unnecessary work for you and for antivirus developers.</em>  <em>That's why you were told that it is necessary to add a file to the antivirus exceptions.</em> <em><br><br></em>  <em>If I were you, I would start digging in the direction of the code of my program - find what causes the detection of the antivirus and fix it.</em>  <em>It can be any anti-virus functions, and even the use of certain packers.</em> <em><br><br></em>  <em>Once I ran into it myself, so I know what I'm talking about)</em> <em><br></em> <br><br>  abibos <br><br>  I tried to interact with ESET on this issue constructively, and would calmly go on editing the code if I received any recommendations from technical support staff.  But no one has suggested anything like this to me in ESET.  Instead, I get a one-time addition of a version of the program to the database, then a refusal to continue this practice and a refusal to look for other solutions, then, after my objections, that recommending users to add a program to exceptions is not a solution either, I‚Äôm getting offended by the kings who proclaim the program as malicious. <br><br>  Those.  in this situation, in the absence of support from the antivirus, in order to ‚Äúdig my code‚Äù I have to do what?  buy and install NOD, remove your antivirus and conduct a series of experiments to disable features and search for which one of them activates the NOD heuristic analyzer.  Forget that this situation greatly upsets me.  Maybe someday I'll do it.  But at this stage I have a lot of plans that I intend to devote priority to the functionality of my product, and this struggle with windmills is at their very tail and is a big question.  I think that at this stage I can live without NOD32 <br><br>  I understand perfectly what the essence and cause of the false positives of the heuristic analyzer are.  The fact is that the antivirus responds to the diagnosis of heuristics as aggressively as a real virus.  And I understand why: trying to protect the user from a possible virus that the antivirus does not yet know.  But at the expense of the user experience with non-malware programs that the antivirus suspects.  This is a fine line, but, in my opinion, the developers of antiviruses, and not software, should walk on this fine line in the first place.  With the approach ‚Äúto alter the mechanism of heuristics in antivirus very few people want‚Äù, I disagree radically.  There are many antiviruses and each of them has a heuristic analyzer.  And the quality criterion of heuristic analysis is the maximum correct detection of malicious objects and the minimum number of false positives (otherwise, why heuristics are needed, let's suspect all objects in general and completely block the user's work).  And if the heuristic of all antiviruses except NOD32 responds to the object adequately (and QuikOrdersDOM is not an isolated case in this respect, NOD has a frequent history), then the approach ‚Äúto alter the heuristic mechanism in antivirus few people want‚Äù leads to a defeat in a competitive comparison of NOD with other antivirus software. <br><br>  <em><strong>abibos</strong></em> <em><br></em>  <em>Maybe you are right, but on the other hand you need all this, and not technical support - they have no tasks to solve these problems.</em> <em><br></em>  <em>These are tasks of antivirus developers, look for ways to interact with them (for example, an official forum).</em> <em><br><br></em>  <em>About - ‚ÄúAnd if the heuristics of all antiviruses, except NOD32, responds to the object adequately (and QuikOrdersDOM is not an isolated case in this respect, this is a frequent story for NOD)‚Äù - I don‚Äôt agree with you.</em>  <em>I ‚Äúrotate‚Äù a little in this topic and I know that official tests of independent laboratories recognize that this antivirus has the minimum number of false heuristic positives.</em> <em><br><br></em>  <em>Just you and your program "no luck")</em> <em><br></em> <br><br>  abibos <br>  &gt; Maybe you are right, but on the other hand you need all this, not technical support, they have no tasks to solve these problems. <br>  &gt; These are the tasks of antivirus developers, look for ways to interact with them (for example, an official forum). <br>  As far as I need it, I have determined in my priorities.  I have already interacted with the staff, I understood the official position <br><br>  &gt; Regarding - ‚ÄúAnd if the heuristics of all antiviruses, except NOD32, responds to the object adequately (and QuikOrdersDOM is not an isolated case in this regard&gt; case, NOD has a frequent history)‚Äù - I don‚Äôt agree with you.  I ‚Äúrotate‚Äù a little in this topic and I know that the official tests of independent&gt; laboratories recognize that this antivirus has the minimum number of false heuristics. <br>  &gt; Just you and your program "not lucky") <br>  Are you an eset nod employee?  Then no one else will hear from you and expect <br>  On the Internet, you can find many stories about the false positives of ESET. <br>  And then it also sounds ridiculous how to advertise near a soft-boiled broken car because of an accident due to the fault of the designers, that it has excellent safety characteristics, just this car was not lucky <br><br>  <em><strong>abibos</strong></em> <em><br></em>  <em>No, I'm not an employee of this company.</em> <em><br><br></em>  <em>Just as it was stated above, I came across this problem, figured out the position of technical support - it was about the same - I just understood everything faster)</em> <em><br></em>  <em>Then I turned to the official forum where the developers of the antivirus answer - <a href="http://www.wilderssecurity.com/">www.wilderssecurity.com</a> - where they helped me fix the ‚Äúflaws‚Äù of my program.</em> <em><br><br></em>  <em>I sometimes use your software, and use this antivirus, when problems arose just added a file to the exceptions and that's it.</em> <em><br></em>  <em>I painted everything here only because I do not like it when people are accused of not understanding their position or because of the unwillingness to do something myself.</em> <em><br><br></em>  <em>Behind this I take my leave.</em> <em><br></em> <br><br>  abibos <br><br>  &gt; No, I am not an employee of this company. <br><br>  Then perhaps it is a coincidence that the external IP address from which you write has the domain name eset-mail.esetnod32.ru <br><br>  I do not understand why making a show on a blog now and giving some recommendations on workarounds when it was possible to resolve the issue in direct correspondence.  I haven‚Äôt received an answer to the last letter <br><br>  ====== <br><br>  Well, not a circus?  What generally happens in this ESET?  Initially, I want to think that a solid company and employees should be adequate, life shows that, unfortunately, this is not always the case ( </div><p>Source: <a href="https://habr.com/ru/post/77587/">https://habr.com/ru/post/77587/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../77578/index.html">Say nothing is invented?</a></li>
<li><a href="../77581/index.html">How to deal with the human factor in the introduction of software?</a></li>
<li><a href="../77583/index.html">I want to stay in the framework of microhabra</a></li>
<li><a href="../77584/index.html">Douglas Engelbart and the Mouse</a></li>
<li><a href="../77585/index.html">Red Hat introduced the release of the platform MRG 1.2</a></li>
<li><a href="../77589/index.html">There are no humanists</a></li>
<li><a href="../77591/index.html">Graphomania post. Free idea for "Vkontakte" and "My World"</a></li>
<li><a href="../77592/index.html">How to make money on vending machines: business and plans</a></li>
<li><a href="../77593/index.html">Load Testing ‚ÄúQuickly‚Äù</a></li>
<li><a href="../77595/index.html">Asus P50IJ - IceCool Cooling Business Notebook</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>