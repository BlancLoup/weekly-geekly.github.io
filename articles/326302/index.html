<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Writing a 2-d game in Java # 2</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Good day to all! Continuation of the 1st lesson ( link to the first ). 

 Tasks 
 Today we have to create a player and implement the movement method i...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Writing a 2-d game in Java # 2</h1><div class="post__text post__text-html js-mediator-article">  Good day to all!  Continuation of the 1st lesson ( <a href="https://habrahabr.ru/post/326032/">link to the first</a> ). <br><br><h3>  Tasks </h3><br>  Today we have to create a player and implement the movement method in it. <br><a name="habracut"></a><br><h3>  Start </h3><br>  Let's get started  First, create a new class Player.java. <br><br>  Create several variables of type int.  The first is x, the second is y, and the third is speed.  Let them be private, in order to avoid further errors (set them immediately, x = 0, y = 0, speed = any speed, I will set 2).  Also, create three methods - getSpeed ‚Äã‚Äã(), getX () and getY ().  They look like this: 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <pre><code class="java hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getX</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> x; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getY</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> y; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getSpeed</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> speed; }</code> </pre> <br>  They will return us the current x and y coordinates of our player, as well as the player‚Äôs speed. <br><br>  Now, we need a method responsible for the movement.  So we call it - move.  As long as we do not have a key listener, for this, we simply write: <br><br><pre> <code class="java hljs"> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">move</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ x+= speed; }</code> </pre> <br>  We return to our class Main.java and in it, create the object of our player: <br><br><pre> <code class="java hljs">Player player = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Player();</code> </pre> <br>  Further, in the actionPerformed () method we write: <br><br><pre> <code class="java hljs">player.move();</code> </pre> <br>  Now, with each update of the timer, the player will move.  But now we will not see this movement, because  We do not use player coordinates.  Now I will briefly explain how the movement occurs on the screen.  It‚Äôs not the picture of our player that moves, but the background, which simulates the player‚Äôs movement.  So, go to the paint () method and, instead of drawing coordinates, enter player.getX () and player.getY ().  It should go like this: <br><br><pre> <code class="java hljs">g.drawImage(img, player.getX(), player.getY(),frame.getWidth(), frame.getHeight(), <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>);</code> </pre> <br>  Run, and see that our background is moving. <br><br>  Now I will explain what we did not quite correctly. <br><br>  We must have two separate coordinates - the coordinate of the map and the coordinate of the player.  What is it for?  Now we are drawing a layer relative to the player's coordinates.  In the future, we will have objects located on the map, and it will be easier for the player to interact with them, having map coordinates.  I hope, explained clearly, and now we will realize it. <br><br>  In a good way, we must have a separate object, the Universe (Universe), which will contain information about our map (time of day, coordinates, etc.).  In the subsequent lessons we will do this, but for now, we simply add two new variables in the player‚Äôs class: mapX and mapY, and immediately set their values, 0 and 0. And, as in the case of x and y, we will create 2 getters. <br><br>  Now we will correct our method move (). <br><br>  Let's write instead of x + = speed this: <br><br><pre> <code class="java hljs">x-=speed; mapX+=speed;</code> </pre> <br>  And back to the paint method and change <br><br><pre> <code class="java hljs">g.drawImage(img, player.getX(), player.getY(),frame.getWidth(), frame.getHeight(), <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>);</code> </pre> <br>  On: <br><br><pre> <code class="java hljs">g.drawImage(img, player.getMapX(), player.getMapY(),frame.getWidth(), frame.getHeight(), <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>);</code> </pre> <br>  We start, and see that nothing has changed.  This is a good sign, so we did everything right. <br><br>  But we see that the picture is one, and behind it remains a trace.  And here we come to such a fork.  We can create a game in which the world will constantly expand, depending on which direction the player is heading.  Or, to make a game with a certain size location, beyond which it is impossible to go, but the location can change.  What problems I encountered when creating these two options.  If we create a game without limits, then: <br><br><ol><li>  It will be necessary to carry out the generation of this world, and if it has no limits, then it must be made random, i.e.  There will be drawing bugs that we will encounter all the time. </li></ol><br>  If you will create a game based on a change of locations, then: <br><br><ol><li>  Either it will be straightforward, with a plot, or a change of locations will be random, but in this case, problem number 2 arises. </li><li>  There should be a lot of locations so that a person does not get tired of playing this game. </li></ol><br>  Under this article is a survey.  Do not forget to vote. <br><br>  Well, while we manage without additional layers, we will create a listener of keystrokes. <br><br>  In the constructor of the class Main.java, we add the following line: <br><br><pre> <code class="java hljs">frame.addKeyListener(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> KeyAdapter() { });</code> </pre> <br>  Some may ask why we use the ‚Äúadd listener‚Äù method and add an adapter?  The adapter simply allows us not to use all three methods of the class of the listener, but let's say, as in our case, we implement only two in it: <br><br><pre> <code class="java hljs"><span class="hljs-meta"><span class="hljs-meta">@Override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">keyPressed</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(KeyEvent e)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-comment"><span class="hljs-comment">// TODO Auto-generated method stub } @Override public void keyReleased(KeyEvent e) { // TODO Auto-generated method stub }</span></span></code> </pre> <br>  The first method is responsible for pressing the key, and the second for releasing it.  The third method responds to a short keystroke, rather than delaying it, as in the first method.  Now, so that we do not get a beleberd, and in order not to complicate our lives, we will do exactly the same two methods in the player‚Äôs class.  And now in our methods that are in the class Main.java we write: <br><br>  In keyPressed: <br><br><pre> <code class="java hljs">player.keyPressed(e);</code> </pre> <br>  In keyReleased: <br><br><pre> <code class="java hljs">player.keyReleased(e);</code> </pre> <br>  Done!  Now we have a keystroke listener.  Let's check its performance by simply writing the following line in each of the methods in the Player.java class: <br><br><pre> <code class="java hljs">System.out.println(e.getKeyCode());</code> </pre> <br>  Run the program, look at our console, and click on the keys. <br><br>  If each time you press a key, numbers are written out to the console, this means that you did everything correctly.  Do not be afraid, it is not necessary to memorize all these keys, the KeyEvent class has already done this for us. <br><br>  Now create an enum that will be responsible for the direction of the player.  For those who do not know, enum, this is a variable that can have several values ‚Äã‚Äãthat we have previously registered.  Create an enum called Direction.  In it, separated by commas, we write the following values: UP, DOWN, LEFT, RIGHT, NONE.  Now, in the Player class, create a new variable of type Direction, which we will call playerDirection (immediately set the value to Direction.NONE).  Now, we will make it so that when you press the corresponding buttons, the player's direction changes.  By the way, we will always work with the keyPressed and keyReleased methods from the Player.java class; in the Main.java class, do not touch them.  So, for starters, in the keyPressed method, we declare a variable, of type int, which is equal to e.getKeyCode ().  We do this for convenience, so that in the future each time not to prescribe the same thing.  So, then we write: <br><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(key == KeyEvent.VK_W) { playerDirection = Direction.UP; } <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(key == KeyEvent.VK_S) { playerDirection = Direction.DOWN; } <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(key == KeyEvent.VK_A) { playerDirection = Direction.LEFT; } <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(key == KeyEvent.VK_D) { playerDirection = Direction.RIGHT; }</code> </pre> <br>  These are conditions, how our direction of the player will change depending on the keys pressed. <br><br>  Next, change the move method.  It should look like this: <br><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">switch</span></span>(playerDirection) { <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> UP: mapY+=speed; <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> DOWN: mapY-=speed; <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> LEFT: mapX+=speed; <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> RIGHT: mapX-=speed; <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">default</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; }</code> </pre> <br>  For those who do not know, switch is the same as if, only in a more convenient form.  Run the program, and admire! <br><br>  That's all for today.  Again, I leave all the code for those who get confused. <br><br><h3>  Player.java </h3><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> java.awt.event.KeyEvent; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Player</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> x = <span class="hljs-number"><span class="hljs-number">0</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> y = <span class="hljs-number"><span class="hljs-number">0</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> speed = <span class="hljs-number"><span class="hljs-number">2</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> mapX = <span class="hljs-number"><span class="hljs-number">0</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> mapY = <span class="hljs-number"><span class="hljs-number">0</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> Direction playerDirection = Direction.NONE; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">move</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">switch</span></span>(playerDirection) { <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> UP: mapY+=speed; <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> DOWN: mapY-=speed; <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> LEFT: mapX+=speed; <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> RIGHT: mapX-=speed; <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">default</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; } } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">keyPressed</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(KeyEvent e)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> key = e.getKeyCode(); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(key == KeyEvent.VK_W) { playerDirection = Direction.UP; } <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(key == KeyEvent.VK_S) { playerDirection = Direction.DOWN; } <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(key == KeyEvent.VK_A) { playerDirection = Direction.LEFT; } <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(key == KeyEvent.VK_D) { playerDirection = Direction.RIGHT; } } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">keyReleased</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(KeyEvent e)</span></span></span><span class="hljs-function"> </span></span>{ System.out.println(e.getKeyCode()); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getX</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> x; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getY</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> y; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getSpeed</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> speed; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getMapX</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> mapX; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getMapY</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> mapY; } }</code> </pre><br><h3>  Main.java </h3><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> java.awt.Graphics; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> java.awt.Image; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> java.awt.event.ActionEvent; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> java.awt.event.ActionListener; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> java.awt.event.KeyAdapter; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> java.awt.event.KeyEvent; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> javax.swing.ImageIcon; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> javax.swing.JFrame; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> javax.swing.JPanel; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> javax.swing.Timer; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Main</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">JPanel</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">implements</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ActionListener</span></span></span><span class="hljs-class"> </span></span>{ Image img = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> ImageIcon(<span class="hljs-string"><span class="hljs-string">"2.png"</span></span>).getImage(); Timer timer = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Timer(<span class="hljs-number"><span class="hljs-number">20</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>); Player player = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Player(); JFrame frame; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Main</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(JFrame frame)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.frame = frame; timer.start(); frame.addKeyListener(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> KeyAdapter() { <span class="hljs-meta"><span class="hljs-meta">@Override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">keyPressed</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(KeyEvent e)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-comment"><span class="hljs-comment">// TODO Auto-generated method stub player.keyPressed(e); } @Override public void keyReleased(KeyEvent e) { // TODO Auto-generated method stub player.keyReleased(e); } }); } public void paint(Graphics g) { g.drawImage(img, player.getMapX(), player.getMapY(),frame.getWidth(), frame.getHeight(), null); } @Override public void actionPerformed(ActionEvent e) { // TODO Auto-generated method stub repaint(); player.move(); } }</span></span></code> </pre><br><h3>  Display.java </h3><br>  Has not changed. <br><br>  Thanks for attention!  Do not forget to vote. </div><p>Source: <a href="https://habr.com/ru/post/326302/">https://habr.com/ru/post/326302/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../326288/index.html">Sandbox technology. Check Point SandBlast. Part 3</a></li>
<li><a href="../326292/index.html">‚ÄúHow it works‚Äù: introduction to SSL / TLS</a></li>
<li><a href="../326294/index.html">The book "User stories. The Art of Agile Software Development</a></li>
<li><a href="../326296/index.html">Oscillating link model in resonant oscillation mode in Python</a></li>
<li><a href="../326298/index.html">Problems with the speed of the "gettimeofday" and "clock_gettime" system calls in AWS EC2</a></li>
<li><a href="../326304/index.html">Why use static types in javascript? (Example of static typing on Flow)</a></li>
<li><a href="../326308/index.html">Google released technical data and TPU appointment</a></li>
<li><a href="../326312/index.html">How to write a chat bot for vk.com in 3 minutes</a></li>
<li><a href="../326314/index.html">Delta has lost $ 150 million due to the desire of the manufacturer of emergency generators for the data center</a></li>
<li><a href="../326316/index.html">Useful Plugins and Security Tips for WordPress</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>