<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>We look part of someone else's favorite VKontakte</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Images from the film "50 shades of gray" 

 This time, using a simple piece of javascript code, let's take a look at the mysterious depths of human pr...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>We look part of someone else's favorite VKontakte</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/files/a11/cfa/c12/a11cfac1226347c3a5c3144817d6cdc9.png"><br>  <i>Images from the film "50 shades of gray"</i> <br><br>  This time, using a simple piece of javascript code, let's take a look at the mysterious depths of human preferences.  Namely, we get a part of the list of bookmarks (‚Äúlikes‚Äù of community entries) of the VK account. <br><br>  According to <a href="http://wordstat.yandex.ru/">wordstat.yandex.ru</a> , up to 2,000 times a month, a search robot is asked "how to see who likes what."  The answer to the search results is a LikeCheker virus program, which doesn‚Äôt actually answer the question.  And we will answer. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Why do you need it?  If you believe the Internet (and it is better not to believe), for example, the handwriting of a person can determine his character.  for example <br><blockquote>  Sarcastic people can be recognized by writing the letter "e."  The more unusual the image of the points placed above this letter, the sharper his sense of humor and brighter his ability to imitate. </blockquote><br>  I have an assumption that using pictures and posts that a person ‚Äúlikes‚Äù can build a more accurate portrait of a person than according to his handwriting.  However, to get this information you need to work a little. <br><a name="habracut"></a><br><h2>  Description of the situation </h2><br><h3>  In contact with </h3><br>  Previously, information about what records the user notes heart was completely confidential and visible only to the user.  After another redesign, privacy is gone.  If user A is a friend of user B and they are subscribed to the same community, then he can find out if user B has ‚Äúliked‚Äù under a specific record of this community. <br><br>  In the case of the VK.com desktop version, the information that user B ‚Äúliked‚Äù her is displayed in the form of his avatar, if you hover your mouse on a heart: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/e61/b99/6a3/e61b996a3bfc4850878bb7ed4de773c8.png"></div><br><h3>  Formulation of the problem </h3><br>  Our goal is to get a list of records that the user has marked with a heart.  I don‚Äôt know whether it is possible to get to this information using VK API (I didn‚Äôt find such an opportunity through a quick glance through the documentation), we will go in a simple way - through a browser. <br><br>  So, in order to get a list of someone else's favorites, we need: <br><br><ul><li>  Be a victim of friends in the VC </li><li>  Subscribe to the same communities as he </li><li>  Try to keep all community entries </li></ul><br>  With the first paragraph, everything is clear, the second and third will be automated. <br><br><h3>  To business </h3><br>  In order not to touch real-life friends, let's register two accounts and make friends with them. <br>  Spend 30 rubles, buy two virtual sim cards (without a phone, VK does not register) and register heroes of the film ‚Äú50 shades of gray‚Äù: <br><br><img src="https://habrastorage.org/files/cf6/ea0/a60/cf6ea0a603584efdb60e794a4b799421.png"><br><br>  We use Gray's account as usual - we manually subscribe to different communities and mark various posts in the tape with ‚Äúlikes‚Äù. <br><br>  From the account of Anastacia, we start the hunt for "Likes".  Javascript will help us today.  You can use bookmarklets, you can make Google Extension.  We will go in a simple way, through the Developer Console (F12). <br><br>  <b>1.</b> Get the list of communities on the victim's page: <br><br><pre><code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> x = <span class="hljs-built_in"><span class="hljs-built_in">document</span></span>.getElementsByClassName(<span class="hljs-string"><span class="hljs-string">"module_body clear_fix"</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">var</span></span> i = <span class="hljs-number"><span class="hljs-number">0</span></span>; i &lt; x[<span class="hljs-number"><span class="hljs-number">1</span></span>].children.length; i++) { <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(x[<span class="hljs-number"><span class="hljs-number">1</span></span>].children[i].children[<span class="hljs-number"><span class="hljs-number">0</span></span>].children[<span class="hljs-number"><span class="hljs-number">0</span></span>].href + <span class="hljs-string"><span class="hljs-string">" "</span></span> + x[<span class="hljs-number"><span class="hljs-number">1</span></span>].children[i].innerText) }</code> </pre> <br>  <b>2. You can</b> subscribe to them like this: <br><br><pre> <code class="javascript hljs"><span class="hljs-built_in"><span class="hljs-built_in">document</span></span>.location=<span class="hljs-string"><span class="hljs-string">"https://vk.com/sci"</span></span>; <span class="hljs-built_in"><span class="hljs-built_in">document</span></span>.getElementById(<span class="hljs-string"><span class="hljs-string">"public_subscribe"</span></span>).click()</code> </pre> <br>  <b>3.</b> Open the news feed and scroll n times: <br><br><pre> <code class="javascript hljs"><span class="hljs-built_in"><span class="hljs-built_in">document</span></span>.getElementById(<span class="hljs-string"><span class="hljs-string">"show_more_link"</span></span>).click();</code> </pre><br>  <b>4.</b> Bruteforce entries in the tape: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> z = <span class="hljs-built_in"><span class="hljs-built_in">document</span></span>.getElementsByClassName(<span class="hljs-string"><span class="hljs-string">"post_like _like_wrap"</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">var</span></span> k= <span class="hljs-number"><span class="hljs-number">0</span></span>; k&lt; z.length; k++){ z[k].onmouseover(); z[k].focus(); } <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> y = <span class="hljs-built_in"><span class="hljs-built_in">document</span></span>.getElementsByClassName(<span class="hljs-string"><span class="hljs-string">"like_tt_owners me_hidden _content"</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">var</span></span> j= <span class="hljs-number"><span class="hljs-number">0</span></span>; j&lt; y.length; j++){ <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">var</span></span> i = <span class="hljs-number"><span class="hljs-number">0</span></span>; i &lt; y[j].children.length; i++) { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (y[j].children[i].title == <span class="hljs-string"><span class="hljs-string">" "</span></span>){ <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log( <span class="hljs-string"><span class="hljs-string">"https://vk.com/feed?w=wall"</span></span> + z[j].onmouseover.toString().split(<span class="hljs-string"><span class="hljs-string">"'"</span></span>)[<span class="hljs-number"><span class="hljs-number">1</span></span>]); } } }</code> </pre> <br>  Result: <br><br><img src="https://habrastorage.org/files/73b/b94/ab4/73bb94ab48bb4733952e55963e4dca7f.png"><br><br>  Success! <br><br><h3>  Conclusion </h3><br>  <i>‚ÄúIt's not a bug - it's a feature‚Äù</i> say you and maybe I will agree with you, but I would like to see in the privacy settings a tick off such a ‚Äúfeature‚Äù. <br><br>  Of course, this information is not directly so personal and difficult to use against a person.  Nevertheless, I am sure that there are cases when such an analysis, in addition to something, will either independently help one to understand a person‚Äôs thoughts, his character, political, religious views and so on.  I repeat - not for everyone and not always. </div><p>Source: <a href="https://habr.com/ru/post/316562/">https://habr.com/ru/post/316562/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../316546/index.html">2.5F Authentication</a></li>
<li><a href="../316548/index.html">Vulnerability in the management software allows you to flash controllers Schneider Electric</a></li>
<li><a href="../316550/index.html">IIS Request filtering against ddos ‚Äã‚Äãattacks</a></li>
<li><a href="../316556/index.html">Two aspects of ‚Äúdecentralized‚Äù one-page applications</a></li>
<li><a href="../316558/index.html">An example of using the Product API from Fetchee for parsing products online store</a></li>
<li><a href="../316564/index.html">New generation of Cambium Networks products: ePMP Elevate</a></li>
<li><a href="../316566/index.html">A practical guide to VR design</a></li>
<li><a href="../316568/index.html">Investing in points, not lines</a></li>
<li><a href="../316570/index.html">What to expect from the cloud market in the next five years?</a></li>
<li><a href="../316574/index.html">The dangers of charming in design</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>