<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>How to make client to HTTP API on Swagger in 10 minutes</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="When you need to make several requests to the HTTP API, the developer usually takes his usual language / framework and quickly writes an analogue of c...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>How to make client to HTTP API on Swagger in 10 minutes</h1><div class="post__text post__text-html js-mediator-article"><div style="text-align:center;"><img src="https://habrastorage.org/webt/rx/oo/dk/rxoodkkmw-pkzgffxidjs-f55ag.png"></div><br>  When you need to make several requests to the HTTP API, the developer usually takes his usual language / framework and quickly writes an analogue of <b>curl</b> in the code: HTTP request, minimal error control, query or json arguments, json body parsing with field names as strings.  All this works wonderfully until the project begins to grow and several calls do not turn into several dozens, and pieces of low-level code do not begin to multiply with copy-paste.  And then - a standard set of bugs, born copy-paste, which gradually begin to have time with the developer. <br><br>  <a href="https://swagger.io/">Swagger / OpenAPI</a> is one of the "combines" for working with the HTTP API.  This is an API description language (recently, a generator and a spec project have been merged), server and client code generators, documentation, tests ‚Äî many useful pieces.  Under the cat, I will show how to create an OpenAPI description and generate a client in Python using the ‚Äúhuman‚Äù description of the API on the company's website with a few lines of code.  And the better such a client is than a hand-written code. <br><a name="habracut"></a><br><h2>  Use the Voximplant HTTP API as a test subject. </h2><br>  Voximplant HTTP API was made by us more than five years ago and allows you to fully manage the cloud: create scripts for working with calls, users, rent and connect numbers, initiate calls and so on, and so on.  The developer‚Äôs admin panel is entirely made on top of the API and is a good illustration of its use, if you look at the browser‚Äôs HTTP requests log. <br><br>  For example, take endpoint <a href="httpapi/managing_scenarios">/ AddScenario</a> , which uploads JavaScript code to the cloud.  This code will be executed for incoming / outgoing calls and manage these calls (connect with each other, recognize and synthesize voice, record and so on).  We wrote in the documentation that the HTTP API can be used with any verb (GET, POST, and so on), arguments can be passed url-encoded or body-encoded, and the return value is JSON with documented fields.  Also, most APIs use a single authentication scheme: you can use account id, name or email as an identifier, and api key, password or temporary session id as confirmation. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h2>  Describe the HTTP API with Swagger </h2><br>  Despite the fact that the <a href="https://swagger.io/">official site</a> meets us with the specification of version 3.0, this is a snag.  The generator so far can only 2.0, which we will use.  Swagger supports descriptions in YAML or JSON format, and I will use YAML to reduce the amount of code.  The ‚Äúintroductory‚Äù part of the API description fixes the version of the spec and the root URL where requests will be made: <br><br><div class="oembed"><script type="text/javascript" src="https://gist.github.com/2d960c97afba2d780c56eb65ee8ac1be.js"></script><link rel="stylesheet" href="https://github.githubassets.com/assets/gist-embed-b3b573358bfc66d89e1e95dbf8319c09.css"><div id="gist84479511" class="gist">
    <div class="gist-file">
      <div class="gist-data">
        <div class="js-gist-file-update-container js-task-list-container file-box">
  <div id="file-voximplant-swagger-1-yaml" class="file">
    

  <div itemprop="text" class="blob-wrapper data type-yaml ">
      
<table class="highlight tab-size js-file-line-container" data-tab-size="8">
      <tbody><tr>
        <td id="file-voximplant-swagger-1-yaml-L1" class="blob-num js-line-number" data-line-number="1"></td>
        <td id="file-voximplant-swagger-1-yaml-LC1" class="blob-code blob-code-inner js-file-line"><span class="pl-ent">swagger</span>: <span class="pl-s"><span class="pl-pds">"</span>2.0<span class="pl-pds">"</span></span></td>
      </tr>
      <tr>
        <td id="file-voximplant-swagger-1-yaml-L2" class="blob-num js-line-number" data-line-number="2"></td>
        <td id="file-voximplant-swagger-1-yaml-LC2" class="blob-code blob-code-inner js-file-line"><span class="pl-ent">host</span>: <span class="pl-s">api.voximplant.com</span></td>
      </tr>
      <tr>
        <td id="file-voximplant-swagger-1-yaml-L3" class="blob-num js-line-number" data-line-number="3"></td>
        <td id="file-voximplant-swagger-1-yaml-LC3" class="blob-code blob-code-inner js-file-line"><span class="pl-ent">basePath</span>: <span class="pl-s">/platform_api</span></td>
      </tr>
      <tr>
        <td id="file-voximplant-swagger-1-yaml-L4" class="blob-num js-line-number" data-line-number="4"></td>
        <td id="file-voximplant-swagger-1-yaml-LC4" class="blob-code blob-code-inner js-file-line"><span class="pl-ent">schemes</span>:</td>
      </tr>
      <tr>
        <td id="file-voximplant-swagger-1-yaml-L5" class="blob-num js-line-number" data-line-number="5"></td>
        <td id="file-voximplant-swagger-1-yaml-LC5" class="blob-code blob-code-inner js-file-line">  - <span class="pl-s">https</span></td>
      </tr>
</tbody></table>


  </div>

  </div>
</div>

      </div>
      <div class="gist-meta">
        <a href="" style="float:right">view raw</a>
        <a href="">voximplant-swagger-1.yaml</a>
        hosted with ‚ù§ by <a href="">GitHub</a>
      </div>
    </div>
</div>
</div><br>  We describe Endpoint: <br><br><div class="oembed"><script type="text/javascript" src="https://gist.github.com/1582edc66d5622b7edf12daec326ef7a.js"></script><link rel="stylesheet" href="https://github.githubassets.com/assets/gist-embed-b3b573358bfc66d89e1e95dbf8319c09.css"><div id="gist84480150" class="gist">
    <div class="gist-file">
      <div class="gist-data">
        <div class="js-gist-file-update-container js-task-list-container file-box">
  <div id="file-voximplant-swagger-2-yaml" class="file">
    

  <div itemprop="text" class="blob-wrapper data type-yaml ">
      
<table class="highlight tab-size js-file-line-container" data-tab-size="8">
      <tbody><tr>
        <td id="file-voximplant-swagger-2-yaml-L1" class="blob-num js-line-number" data-line-number="1"></td>
        <td id="file-voximplant-swagger-2-yaml-LC1" class="blob-code blob-code-inner js-file-line"><span class="pl-ent">paths</span>:</td>
      </tr>
      <tr>
        <td id="file-voximplant-swagger-2-yaml-L2" class="blob-num js-line-number" data-line-number="2"></td>
        <td id="file-voximplant-swagger-2-yaml-LC2" class="blob-code blob-code-inner js-file-line">  <span class="pl-ent">/AddScenario</span>:</td>
      </tr>
      <tr>
        <td id="file-voximplant-swagger-2-yaml-L3" class="blob-num js-line-number" data-line-number="3"></td>
        <td id="file-voximplant-swagger-2-yaml-LC3" class="blob-code blob-code-inner js-file-line">    <span class="pl-ent">post</span>: <span class="pl-c"><span class="pl-c">#</span>   ,   POST</span></td>
      </tr>
      <tr>
        <td id="file-voximplant-swagger-2-yaml-L4" class="blob-num js-line-number" data-line-number="4"></td>
        <td id="file-voximplant-swagger-2-yaml-LC4" class="blob-code blob-code-inner js-file-line">      <span class="pl-ent">description</span>: <span class="pl-s">Adds a new scenario</span></td>
      </tr>
</tbody></table>


  </div>

  </div>
</div>

      </div>
      <div class="gist-meta">
        <a href="" style="float:right">view raw</a>
        <a href="">voximplant-swagger-2.yaml</a>
        hosted with ‚ù§ by <a href="">GitHub</a>
      </div>
    </div>
</div>
</div><br>  We describe the authorization options.  If we make a description for ourselves, then from the possible options it is enough to describe the one that we will use.  For example, by account id and api key: <br><br><div class="oembed"><script type="text/javascript" src="https://gist.github.com/e63314e2fc2ac2ef829912f9c59798a2.js"></script><link rel="stylesheet" href="https://github.githubassets.com/assets/gist-embed-b3b573358bfc66d89e1e95dbf8319c09.css"><div id="gist84480475" class="gist">
    <div class="gist-file">
      <div class="gist-data">
        <div class="js-gist-file-update-container js-task-list-container file-box">
  <div id="file-voximplant-swagger-3-yaml" class="file">
    

  <div itemprop="text" class="blob-wrapper data type-yaml ">
      
<table class="highlight tab-size js-file-line-container" data-tab-size="8">
      <tbody><tr>
        <td id="file-voximplant-swagger-3-yaml-L1" class="blob-num js-line-number" data-line-number="1"></td>
        <td id="file-voximplant-swagger-3-yaml-LC1" class="blob-code blob-code-inner js-file-line">      <span class="pl-ent">consumes</span>:</td>
      </tr>
      <tr>
        <td id="file-voximplant-swagger-3-yaml-L2" class="blob-num js-line-number" data-line-number="2"></td>
        <td id="file-voximplant-swagger-3-yaml-LC2" class="blob-code blob-code-inner js-file-line">        - <span class="pl-s">multipart/form-data </span><span class="pl-c"><span class="pl-c">#</span>   body</span></td>
      </tr>
      <tr>
        <td id="file-voximplant-swagger-3-yaml-L3" class="blob-num js-line-number" data-line-number="3"></td>
        <td id="file-voximplant-swagger-3-yaml-LC3" class="blob-code blob-code-inner js-file-line">      <span class="pl-ent">parameters</span>:</td>
      </tr>
      <tr>
        <td id="file-voximplant-swagger-3-yaml-L4" class="blob-num js-line-number" data-line-number="4"></td>
        <td id="file-voximplant-swagger-3-yaml-LC4" class="blob-code blob-code-inner js-file-line">        - <span class="pl-ent">name</span>: <span class="pl-s">account_id</span></td>
      </tr>
      <tr>
        <td id="file-voximplant-swagger-3-yaml-L5" class="blob-num js-line-number" data-line-number="5"></td>
        <td id="file-voximplant-swagger-3-yaml-LC5" class="blob-code blob-code-inner js-file-line">          <span class="pl-ent">in</span>: <span class="pl-s">query </span><span class="pl-c"><span class="pl-c">#</span>     url query string</span></td>
      </tr>
      <tr>
        <td id="file-voximplant-swagger-3-yaml-L6" class="blob-num js-line-number" data-line-number="6"></td>
        <td id="file-voximplant-swagger-3-yaml-LC6" class="blob-code blob-code-inner js-file-line">          <span class="pl-ent">type</span>: <span class="pl-s">string</span></td>
      </tr>
      <tr>
        <td id="file-voximplant-swagger-3-yaml-L7" class="blob-num js-line-number" data-line-number="7"></td>
        <td id="file-voximplant-swagger-3-yaml-LC7" class="blob-code blob-code-inner js-file-line">          <span class="pl-ent">description</span>: <span class="pl-s">Account ID for authentication</span></td>
      </tr>
      <tr>
        <td id="file-voximplant-swagger-3-yaml-L8" class="blob-num js-line-number" data-line-number="8"></td>
        <td id="file-voximplant-swagger-3-yaml-LC8" class="blob-code blob-code-inner js-file-line">        - <span class="pl-ent">name</span>: <span class="pl-s">api_key</span></td>
      </tr>
      <tr>
        <td id="file-voximplant-swagger-3-yaml-L9" class="blob-num js-line-number" data-line-number="9"></td>
        <td id="file-voximplant-swagger-3-yaml-LC9" class="blob-code blob-code-inner js-file-line">          <span class="pl-ent">in</span>: <span class="pl-s">formData </span><span class="pl-c"><span class="pl-c">#</span>    body </span></td>
      </tr>
      <tr>
        <td id="file-voximplant-swagger-3-yaml-L10" class="blob-num js-line-number" data-line-number="10"></td>
        <td id="file-voximplant-swagger-3-yaml-LC10" class="blob-code blob-code-inner js-file-line">          <span class="pl-ent">type</span>: <span class="pl-s">string</span></td>
      </tr>
      <tr>
        <td id="file-voximplant-swagger-3-yaml-L11" class="blob-num js-line-number" data-line-number="11"></td>
        <td id="file-voximplant-swagger-3-yaml-LC11" class="blob-code blob-code-inner js-file-line">          <span class="pl-ent">description</span>: <span class="pl-s">Account API key for authentication</span></td>
      </tr>
      <tr>
        <td id="file-voximplant-swagger-3-yaml-L12" class="blob-num js-line-number" data-line-number="12"></td>
        <td id="file-voximplant-swagger-3-yaml-LC12" class="blob-code blob-code-inner js-file-line">          </td>
      </tr>
</tbody></table>


  </div>

  </div>
</div>

      </div>
      <div class="gist-meta">
        <a href="" style="float:right">view raw</a>
        <a href="">voximplant-swagger-3.yaml</a>
        hosted with ‚ù§ by <a href="">GitHub</a>
      </div>
    </div>
</div>
</div><br>  We describe the name and code of the script.  Our server handles the parameters from url and body in the same way, but the network infrastructure is unlikely to be happy if we send a request with a dozen other kilobytes of text in the URL.  Therefore, for <b>scenario_script</b> we write strictly the transmission through the body: <br><br><div class="oembed"><script type="text/javascript" src="https://gist.github.com/ff863614b9da306472082f38a1f1703c.js"></script><link rel="stylesheet" href="https://github.githubassets.com/assets/gist-embed-b3b573358bfc66d89e1e95dbf8319c09.css"><div id="gist84483861" class="gist">
    <div class="gist-file">
      <div class="gist-data">
        <div class="js-gist-file-update-container js-task-list-container file-box">
  <div id="file-voximplant-swagger-4-yaml" class="file">
    

  <div itemprop="text" class="blob-wrapper data type-yaml ">
      
<table class="highlight tab-size js-file-line-container" data-tab-size="8">
      <tbody><tr>
        <td id="file-voximplant-swagger-4-yaml-L1" class="blob-num js-line-number" data-line-number="1"></td>
        <td id="file-voximplant-swagger-4-yaml-LC1" class="blob-code blob-code-inner js-file-line">        - <span class="pl-ent">name</span>: <span class="pl-s">scenario_name</span></td>
      </tr>
      <tr>
        <td id="file-voximplant-swagger-4-yaml-L2" class="blob-num js-line-number" data-line-number="2"></td>
        <td id="file-voximplant-swagger-4-yaml-LC2" class="blob-code blob-code-inner js-file-line">          <span class="pl-ent">in</span>: <span class="pl-s">query</span></td>
      </tr>
      <tr>
        <td id="file-voximplant-swagger-4-yaml-L3" class="blob-num js-line-number" data-line-number="3"></td>
        <td id="file-voximplant-swagger-4-yaml-LC3" class="blob-code blob-code-inner js-file-line">          <span class="pl-ent">type</span>: <span class="pl-s">string</span></td>
      </tr>
      <tr>
        <td id="file-voximplant-swagger-4-yaml-L4" class="blob-num js-line-number" data-line-number="4"></td>
        <td id="file-voximplant-swagger-4-yaml-LC4" class="blob-code blob-code-inner js-file-line">          <span class="pl-ent">maxLength</span>: <span class="pl-c1">30</span> <span class="pl-c"><span class="pl-c">#</span> swagger   </span></td>
      </tr>
      <tr>
        <td id="file-voximplant-swagger-4-yaml-L5" class="blob-num js-line-number" data-line-number="5"></td>
        <td id="file-voximplant-swagger-4-yaml-LC5" class="blob-code blob-code-inner js-file-line">          <span class="pl-ent">description</span>: <span class="pl-s">Scenario name string</span></td>
      </tr>
      <tr>
        <td id="file-voximplant-swagger-4-yaml-L6" class="blob-num js-line-number" data-line-number="6"></td>
        <td id="file-voximplant-swagger-4-yaml-LC6" class="blob-code blob-code-inner js-file-line">        - <span class="pl-ent">name</span>: <span class="pl-s">scenario_script</span></td>
      </tr>
      <tr>
        <td id="file-voximplant-swagger-4-yaml-L7" class="blob-num js-line-number" data-line-number="7"></td>
        <td id="file-voximplant-swagger-4-yaml-LC7" class="blob-code blob-code-inner js-file-line">          <span class="pl-ent">in</span>: <span class="pl-s">formData </span><span class="pl-c"><span class="pl-c">#</span>   -   body</span></td>
      </tr>
      <tr>
        <td id="file-voximplant-swagger-4-yaml-L8" class="blob-num js-line-number" data-line-number="8"></td>
        <td id="file-voximplant-swagger-4-yaml-LC8" class="blob-code blob-code-inner js-file-line">          <span class="pl-ent">type</span>: <span class="pl-s">string</span></td>
      </tr>
      <tr>
        <td id="file-voximplant-swagger-4-yaml-L9" class="blob-num js-line-number" data-line-number="9"></td>
        <td id="file-voximplant-swagger-4-yaml-LC9" class="blob-code blob-code-inner js-file-line">          <span class="pl-ent">maxLength</span>: <span class="pl-c1">131072</span></td>
      </tr>
      <tr>
        <td id="file-voximplant-swagger-4-yaml-L10" class="blob-num js-line-number" data-line-number="10"></td>
        <td id="file-voximplant-swagger-4-yaml-LC10" class="blob-code blob-code-inner js-file-line">          <span class="pl-ent">description</span>: <span class="pl-s">Scenario code string</span></td>
      </tr>
</tbody></table>


  </div>

  </div>
</div>

      </div>
      <div class="gist-meta">
        <a href="" style="float:right">view raw</a>
        <a href="">voximplant-swagger-4.yaml</a>
        hosted with ‚ù§ by <a href="">GitHub</a>
      </div>
    </div>
</div>
</div><br>  The final touch is the return value.  All API return JSON: <br><br><div class="oembed"><script type="text/javascript" src="https://gist.github.com/b2b290f3e774eeffcfdd8ea782068068.js"></script><link rel="stylesheet" href="https://github.githubassets.com/assets/gist-embed-b3b573358bfc66d89e1e95dbf8319c09.css"><div id="gist84484297" class="gist">
    <div class="gist-file">
      <div class="gist-data">
        <div class="js-gist-file-update-container js-task-list-container file-box">
  <div id="file-voximplant-swagger-5-yaml" class="file">
    

  <div itemprop="text" class="blob-wrapper data type-yaml ">
      
<table class="highlight tab-size js-file-line-container" data-tab-size="8">
      <tbody><tr>
        <td id="file-voximplant-swagger-5-yaml-L1" class="blob-num js-line-number" data-line-number="1"></td>
        <td id="file-voximplant-swagger-5-yaml-LC1" class="blob-code blob-code-inner js-file-line">      <span class="pl-ent">produces</span>:</td>
      </tr>
      <tr>
        <td id="file-voximplant-swagger-5-yaml-L2" class="blob-num js-line-number" data-line-number="2"></td>
        <td id="file-voximplant-swagger-5-yaml-LC2" class="blob-code blob-code-inner js-file-line">        - <span class="pl-s">application/json</span></td>
      </tr>
      <tr>
        <td id="file-voximplant-swagger-5-yaml-L3" class="blob-num js-line-number" data-line-number="3"></td>
        <td id="file-voximplant-swagger-5-yaml-LC3" class="blob-code blob-code-inner js-file-line">      <span class="pl-ent">responses</span>:</td>
      </tr>
      <tr>
        <td id="file-voximplant-swagger-5-yaml-L4" class="blob-num js-line-number" data-line-number="4"></td>
        <td id="file-voximplant-swagger-5-yaml-LC4" class="blob-code blob-code-inner js-file-line">        <span class="pl-ent">200</span>:</td>
      </tr>
      <tr>
        <td id="file-voximplant-swagger-5-yaml-L5" class="blob-num js-line-number" data-line-number="5"></td>
        <td id="file-voximplant-swagger-5-yaml-LC5" class="blob-code blob-code-inner js-file-line">          <span class="pl-ent">description</span>: <span class="pl-s">Success</span></td>
      </tr>
      <tr>
        <td id="file-voximplant-swagger-5-yaml-L6" class="blob-num js-line-number" data-line-number="6"></td>
        <td id="file-voximplant-swagger-5-yaml-LC6" class="blob-code blob-code-inner js-file-line">          <span class="pl-ent">schema</span>:</td>
      </tr>
      <tr>
        <td id="file-voximplant-swagger-5-yaml-L7" class="blob-num js-line-number" data-line-number="7"></td>
        <td id="file-voximplant-swagger-5-yaml-LC7" class="blob-code blob-code-inner js-file-line">            <span class="pl-ent">type</span>: <span class="pl-s">object</span></td>
      </tr>
      <tr>
        <td id="file-voximplant-swagger-5-yaml-L8" class="blob-num js-line-number" data-line-number="8"></td>
        <td id="file-voximplant-swagger-5-yaml-LC8" class="blob-code blob-code-inner js-file-line">            <span class="pl-ent">properties</span>:</td>
      </tr>
      <tr>
        <td id="file-voximplant-swagger-5-yaml-L9" class="blob-num js-line-number" data-line-number="9"></td>
        <td id="file-voximplant-swagger-5-yaml-LC9" class="blob-code blob-code-inner js-file-line">              <span class="pl-ent">error</span>:</td>
      </tr>
      <tr>
        <td id="file-voximplant-swagger-5-yaml-L10" class="blob-num js-line-number" data-line-number="10"></td>
        <td id="file-voximplant-swagger-5-yaml-LC10" class="blob-code blob-code-inner js-file-line">                <span class="pl-ent">type</span>: <span class="pl-s">string</span></td>
      </tr>
      <tr>
        <td id="file-voximplant-swagger-5-yaml-L11" class="blob-num js-line-number" data-line-number="11"></td>
        <td id="file-voximplant-swagger-5-yaml-LC11" class="blob-code blob-code-inner js-file-line">                <span class="pl-ent">description</span>: <span class="pl-s">Error description</span></td>
      </tr>
      <tr>
        <td id="file-voximplant-swagger-5-yaml-L12" class="blob-num js-line-number" data-line-number="12"></td>
        <td id="file-voximplant-swagger-5-yaml-LC12" class="blob-code blob-code-inner js-file-line">              <span class="pl-ent">scenario_id</span>:</td>
      </tr>
      <tr>
        <td id="file-voximplant-swagger-5-yaml-L13" class="blob-num js-line-number" data-line-number="13"></td>
        <td id="file-voximplant-swagger-5-yaml-LC13" class="blob-code blob-code-inner js-file-line">                <span class="pl-ent">type</span>: <span class="pl-s">string</span></td>
      </tr>
      <tr>
        <td id="file-voximplant-swagger-5-yaml-L14" class="blob-num js-line-number" data-line-number="14"></td>
        <td id="file-voximplant-swagger-5-yaml-LC14" class="blob-code blob-code-inner js-file-line">                <span class="pl-ent">description</span>: <span class="pl-s">Scenario ID</span></td>
      </tr>
</tbody></table>


  </div>

  </div>
</div>

      </div>
      <div class="gist-meta">
        <a href="" style="float:right">view raw</a>
        <a href="">voximplant-swagger-5.yaml</a>
        hosted with ‚ù§ by <a href="">GitHub</a>
      </div>
    </div>
</div>
</div><br><h2>  We generate client using swagger-codegen </h2><br>  With the resulting API file description, you can do a lot of interesting things: generate a server, documentation, tests.  We will generate a client!  For example, in Python - Swagger supports dozens of combinations of programming languages ‚Äã‚Äãand frameworks.  The easiest way to <a href="">download the</a> code generator is to <a href="">download it</a> as a jar-archive and run it using the pre-installed Java: <br><br><div class="oembed"><script type="text/javascript" src="https://gist.github.com/9b58dc55ab29788c1b1b2a889d2d8909.js"></script><link rel="stylesheet" href="https://github.githubassets.com/assets/gist-embed-b3b573358bfc66d89e1e95dbf8319c09.css"><div id="gist84485330" class="gist">
    <div class="gist-file">
      <div class="gist-data">
        <div class="js-gist-file-update-container js-task-list-container file-box">
  <div id="file-voximplant-swagger-5-sh" class="file">
    

  <div itemprop="text" class="blob-wrapper data type-shell ">
      
<table class="highlight tab-size js-file-line-container" data-tab-size="8">
      <tbody><tr>
        <td id="file-voximplant-swagger-5-sh-L1" class="blob-num js-line-number" data-line-number="1"></td>
        <td id="file-voximplant-swagger-5-sh-LC1" class="blob-code blob-code-inner js-file-line">java -jar swagger-codegen-cli-2.2.1.jar generate -i spec.yaml -l python</td>
      </tr>
</tbody></table>


  </div>

  </div>
</div>

      </div>
      <div class="gist-meta">
        <a href="" style="float:right">view raw</a>
        <a href="">voximplant-swagger-5.sh</a>
        hosted with ‚ù§ by <a href="">GitHub</a>
      </div>
    </div>
</div>
</div><br>  The result of the team will be a completely ready Python project with documentation in <b>.md</b> format, customized tests, deployments and other good stuff.  Which you can immediately try to work: <br><br><div class="oembed"><script type="text/javascript" src="https://gist.github.com/1941c29f57b6aa5591a4ced93183074a.js"></script><link rel="stylesheet" href="https://github.githubassets.com/assets/gist-embed-b3b573358bfc66d89e1e95dbf8319c09.css"><div id="gist84486218" class="gist">
    <div class="gist-file">
      <div class="gist-data">
        <div class="js-gist-file-update-container js-task-list-container file-box">
  <div id="file-voximplant-swagger-6-py" class="file">
    

  <div itemprop="text" class="blob-wrapper data type-python ">
      
<table class="highlight tab-size js-file-line-container" data-tab-size="8">
      <tbody><tr>
        <td id="file-voximplant-swagger-6-py-L1" class="blob-num js-line-number" data-line-number="1"></td>
        <td id="file-voximplant-swagger-6-py-LC1" class="blob-code blob-code-inner js-file-line"><span class="pl-k">import</span> swagger_client</td>
      </tr>
      <tr>
        <td id="file-voximplant-swagger-6-py-L2" class="blob-num js-line-number" data-line-number="2"></td>
        <td id="file-voximplant-swagger-6-py-LC2" class="blob-code blob-code-inner js-file-line">api <span class="pl-k">=</span> swagger_client.DefaultApi()</td>
      </tr>
      <tr>
        <td id="file-voximplant-swagger-6-py-L3" class="blob-num js-line-number" data-line-number="3"></td>
        <td id="file-voximplant-swagger-6-py-LC3" class="blob-code blob-code-inner js-file-line">api.add_scenario_post(<span class="pl-v">account_id</span><span class="pl-k">=</span><span class="pl-s"><span class="pl-pds">"</span>1234<span class="pl-pds">"</span></span>, <span class="pl-v">api_key</span><span class="pl-k">=</span><span class="pl-s"><span class="pl-pds">"</span>foo-bar-baz<span class="pl-pds">"</span></span>, <span class="pl-v">scenario_name</span><span class="pl-k">=</span><span class="pl-s"><span class="pl-pds">"</span>foo<span class="pl-pds">"</span></span>, <span class="pl-v">scenario_script</span><span class="pl-k">=</span><span class="pl-s"><span class="pl-pds">"</span>bar<span class="pl-pds">"</span></span>)</td>
      </tr>
</tbody></table>


  </div>

  </div>
</div>

      </div>
      <div class="gist-meta">
        <a href="" style="float:right">view raw</a>
        <a href="">voximplant-swagger-6.py</a>
        hosted with ‚ù§ by <a href="">GitHub</a>
      </div>
    </div>
</div>
</div><br><h2>  Why generate a client? </h2><br>  The generated client is, above all, error control.  You once describe your (or someone else's) HTTP API with all restrictions and objects, after which the generated code will check the correctness of the calls and usage.  OpenAPI syntax allows you to specify reusable fragments, so duplicate parts are not copy-paste even in the specification. <br><br>  Swagger can do many languages ‚Äã‚Äãand frameworks, so once having described the API, you will get ready-made clients for Python, Java, Ruby, PHP, Node.js, Android, iOS - the list goes on for quite a while: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/e6/kw/ex/e6kwex6alinnitya7elofbumh1e.png"></div><br><br>  For our <a href="httpapi/">HTTP API,</a> we generate a Swagger description in JSON format, if you are interested in trying, then it is available <a href="http://voximplant.com/docs/references/">here</a> . </div><p>Source: <a href="https://habr.com/ru/post/345148/">https://habr.com/ru/post/345148/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../345138/index.html">Bitcoin farhulst</a></li>
<li><a href="../345140/index.html">From 15 and more: how to ensure the scalability of CI</a></li>
<li><a href="../345142/index.html">Why Agile doesn't work and what to do about it.</a></li>
<li><a href="../345144/index.html">ITIL update: what's new in 2018</a></li>
<li><a href="../345146/index.html">CompTIA Network + Certification</a></li>
<li><a href="../345150/index.html">Creating a blockchain application for an insurance company using IBM's Hyperledger Fabric</a></li>
<li><a href="../345152/index.html">PVS-Studio and GOST. How the KOMPAS-Expert application for checking drawings appeared</a></li>
<li><a href="../345154/index.html">How data warehouses are arranged: a review for beginners</a></li>
<li><a href="../345156/index.html">The history of the programmer who created the company "Maxilect", 100% working remotely</a></li>
<li><a href="../345158/index.html">Simple object DBMS</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>