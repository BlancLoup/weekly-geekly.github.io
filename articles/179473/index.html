<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Forms in Angularjs. How I found love</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="I had to do it again. It would seem nothing terrible, I did it hundreds of times. But the feeling ... the feeling that everything is wrong, should not...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Forms in Angularjs. How I found love</h1><div class="post__text post__text-html js-mediator-article"><img align="left" src="https://habrastorage.org/storage2/d12/f7e/d9a/d12f7ed9ac29ac3d2a02f91696657295.png">  I had to do it again.  It would seem nothing terrible, I did it hundreds of times.  But the feeling ... the feeling that everything is wrong, should not be and there should be another way out, did not leave me.  Then I did not know that soon I would have a meeting that would change my world forever, open my eyes and fill life with meaning.  The meaning of getting up every morning, the meaning of doing something that has practically ceased to give me pleasure, the meaning of sharing this feeling with others. <br><a name="habracut"></a><br><br><h2>  River flows... </h2><br>  This story originates in the distant 1992, when the <a href="http://www.w3.org/History/19921103-hypertext/hypertext/WWW/MarkUp/Tags.html">first version of the holy scripture</a> was published, most of the precepts of which determined the course of human development for many years to come.  The attentive reader will surely note that in this manuscript there is no mention of several very important canons, without which today there is not a single scholar. <br><br>  Among them is one of the main characters of my story.  The naked eye can see that HTML primordial, like a diamond that has not been cut, was formless.  Naturally, this could not continue for a long time, and already on November 8, 1993, the <a href="http://www.w3.org/MarkUp/HTMLPlus/htmlplus_41.html">first features of the new form</a> appeared from the depths of the jewelry workshop to the world, which subsequently received their rightful place on the <a href="http://tools.ietf.org/html/rfc1866">tables of the second coming</a> . 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      And it would seem that peace has come to the world.  Now ordinary people could not only receive information, but also respond.  And if heresy is found in their words, the mysterious guard from Backend will always come to the rescue and guide them on the right path with their righteous speeches.  But calm has no place in this drama. <br><br>  The whole history of humanity is the path to freedom.  Freedom from slavery, from the yoke of kings, from the borders of their native lands.  It is enough that for a thousand people living in humility, there is one free-thinker, and here again the ships are sailing, barricades are erected, negros are running for president.  So it was this time, people wanted freedom, freedom from the bonds of the server part.  Freedom, which promised them the divine power of interfaces, savings on data transfer, the road to the golden city of Frontend. <br><br><h2>  Come to the point </h2><br>  But back to the main story line.  What happened to the form?  The form began to change.  With the development of the Frontend from such a pagan portal into the world of wandering life, it became an element of its decoration, transferring its power into the hands of the Church of Javascript.  Why this happened, only Morgan Freeman is aware, we look at the facts.  But the facts are such that only the Old Believers, and the Jesuits, who spat on the human desire for perfection in the context of customer ignorance, continued to check the form on the server part. <br><br><img align="right" src="https://habrastorage.org/storage2/26b/1a7/662/26b1a7662716ec791b4e408217ec5b1e.jpg">  Your humble servant has never attributed himself to either one or the other.  Young rage, I lived and enjoyed life.  Need validation?  Yes, please, <a href="http://bassistance.de/jquery-plugins/jquery-plugin-validation/">jQuery validation</a> , but at least I'll write it myself.  Time after time the same thing: email, password, name ... email, password, name ... email, password, date ... And now, like a top in a safe, a thought originated in my head that twisted and turned endlessly.  Now that I had the task to write the form processing, I was overcome by the feeling that I was an Indonesian peasant who was forced by a mop to clean the snow from the windshield of his moped for lack of janitors who, according to common sense, had to be installed at the factory. <br><br>  And here, of course, as a decent parishioner of the church of the <a href="http://www.w3.org/">Holy Trinity</a> , my joy knew no bounds when the <a href="http://www.w3.org/html/wg/drafts/html/master/forms.html">miraculous attributes of the fifth reincarnation</a> were revealed to us.  Once again they gave me hope and faith that there, on the other side of the cable, there is someone and he hears my pleas.  But, to admit, the euphoria was short.  The absence of the possibility of stylization, control over the status of filling in the form still required that each time the logic that controls the presentation was recorded. <br><br>  But once, <a href="http://www.habrahabr.ru/">in a circle of their sectarian friends,</a> they brought me to a beautiful maiden.  She was young and just started to appear.  Called her, if the Russian style, <a href="http://angularjs.org/">Angela</a> .  At first she seemed strange to me.  Most of all, I was embarrassed by the fact that she did not try to hide anything, but everything was head-on.  It was wild for <a href="http://en.wikipedia.org/wiki/Imperative_programming">my upbringing</a> .  I don‚Äôt know if she attracted me with her manners or, perhaps, I was influenced by the fact that I admired <a href="https://www.google.ru/">her father</a> , a serious authority in our circles.  But I wanted to know Angela better, because as a girl she was <a href="http://docs.angularjs.org/tutorial">available</a> . <br><br><h2>  Well, well, do not pull </h2><br>  I will not go into all the details of our relationship, especially since I was <a href="http://habrahabr.ru/post/172975/">not the first to have her</a> .  Angela's language was capable of such incredible things that I wanted to learn it deeper and deeper.  But as I remember the day when I finally lost my head.  On this day, she first showed me the form. <br><br><h2>  Have waited </h2><br>  In general, it was indescribable.  She, as if reading my thoughts, did everything that I could wish for.  Want to set styles for pristine input and no?  Ask, she swallow. <br><br><pre><code class="css hljs"><span class="hljs-selector-class"><span class="hljs-selector-class">.ng-pristine</span></span>{ <span class="hljs-comment"><span class="hljs-comment">/* */</span></span> } <span class="hljs-selector-class"><span class="hljs-selector-class">.ng-dirty</span></span>{ <span class="hljs-comment"><span class="hljs-comment">/* */</span></span> }</code> </pre> <br>  It remains only to write the code that will apply these styles.  Here he is: <br><br>  [ <a href="http://jsfiddle.net/Sc7C3/">jsFiddle</a> ] <br><pre> <code class="html hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">input</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"text"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">ng-model</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"example"</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br><br>  If someone already got up <br>  The question is what about valid-invalid: <br><br>  [ <a href="http://jsfiddle.net/rSM5F/">jsFiddle</a> ] <br><pre> <code class="css hljs"><span class="hljs-selector-class"><span class="hljs-selector-class">.ng-valid</span></span>{ <span class="hljs-comment"><span class="hljs-comment">/* */</span></span> } <span class="hljs-selector-class"><span class="hljs-selector-class">.ng-invalid</span></span>{ <span class="hljs-comment"><span class="hljs-comment">/* */</span></span> }</code> </pre><br><pre> <code class="html hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">input</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"email"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">ng-model</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"example"</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br><br>  In general, guys, dabbled.  Started her courting.  And then she, I must say, revealed to the full.  I realized that the task of styles was just fun for a first date.  In fact, she could not have dreamed of others.  Make a validation interface with custom messages without a single javascript line?  Made by: <br><br>  [ <a href="http://jsfiddle.net/AnSu5/">jsFiddle</a> ] <br><pre> <code class="html hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">form</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"LovelyForm"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">input</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"email"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"LovelyEmail"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">ng-model</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"email"</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">span</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">ng-show</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"LovelyForm.LovelyEmail.$invalid"</span></span></span><span class="hljs-tag">&gt;</span></span>You break my heart<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">span</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">form</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br>  And here is a complete analogy with styles, that is, logical properties are defined in the LovelyForm.LovelyEmail object that correspond to the styles given earlier: <br><br><pre> <code class="javascript hljs">(boolean) LovelyForm.LovelyEmail.$invalid; (boolean) LovelyForm.LovelyEmail.$valid; (boolean) LovelyForm.LovelyEmail.$dirty; (boolean) LovelyForm.LovelyEmail.$pristine;</code> </pre><br>  The juice is that Angular out of the box contains directives that duplicate the attributes of the HTML5 form validation. <br><br>  [ <a href="http://jsfiddle.net/xMrK4/">jsFiddle</a> ] <br><pre> <code class="html hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">form</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"LovelyForm"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">input</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"number"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"LovelyNumber"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">ng-model</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"number"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">min</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"0"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">max</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"10"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">required</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">span</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">ng-show</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"LovelyForm.LovelyNumber.$error.required"</span></span></span><span class="hljs-tag">&gt;</span></span>Show me your number<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">span</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">span</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">ng-show</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"LovelyForm.LovelyNumber.$error.min"</span></span></span><span class="hljs-tag">&gt;</span></span>OMG, so min<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">span</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">span</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">ng-show</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"LovelyForm.LovelyNumber.$error.max"</span></span></span><span class="hljs-tag">&gt;</span></span>OMG, too max<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">span</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">input</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"text"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"LovelyLove"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">placeholder</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"I Love U"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">ng-model</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"love"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">ng-pattern</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"/I love U too/"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">required</span></span></span><span class="hljs-tag"> /&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">span</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">ng-show</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"LovelyForm.LovelyLove.$error.pattern"</span></span></span><span class="hljs-tag">&gt;</span></span>What?! Fucking buster!<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">span</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">form</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br>  Personally, I was delighted, because it was just such minimal flexibility in singing that the notorious HTML5 lacked. <br><br><h2>  Own validator </h2><br>  But the most important thing is how easily Angela is ready to accept the validator that you created on the side into her womb.  For this, all you need to do is write the appropriate directive: <br><br>  [ <a href="http://jsfiddle.net/zCUVf/">jsFiddle</a> ] <br><pre> <code class="javascript hljs">app.directive(<span class="hljs-string"><span class="hljs-string">'mimimi'</span></span>, <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> { <span class="hljs-attr"><span class="hljs-attr">require</span></span>: <span class="hljs-string"><span class="hljs-string">'ngModel'</span></span>, <span class="hljs-attr"><span class="hljs-attr">link</span></span>: <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">scope, elm, attrs, ctrl</span></span></span><span class="hljs-function">) </span></span>{ ctrl.$parsers.unshift(<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">mimimi</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (<span class="hljs-regexp"><span class="hljs-regexp">/mimimi/</span></span>.test(mimimi)) { alert(<span class="hljs-string"><span class="hljs-string">'mimimi'</span></span>); ctrl.$setValidity(<span class="hljs-string"><span class="hljs-string">'mimimi'</span></span>, <span class="hljs-literal"><span class="hljs-literal">true</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> mimimi.toUpperCase(); } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { ctrl.$setValidity(<span class="hljs-string"><span class="hljs-string">'mimimi'</span></span>, <span class="hljs-literal"><span class="hljs-literal">false</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-literal"><span class="hljs-literal">undefined</span></span>; } }); } }; });</code> </pre><br><pre> <code class="html hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">form</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"LovelyForm"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">input</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"text"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"LovelyMimimi"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">placeholder</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"mimimi"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">ng-model</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"mimimi"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">mimimi</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">span</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">ng-show</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"LovelyForm.LovelyMimimi.$error.mimimi"</span></span></span><span class="hljs-tag">&gt;</span></span>Mimimi, please<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">span</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">span</span></span></span><span class="hljs-tag">&gt;</span></span>{{mimimi}}<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">span</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">form</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br>  It often seems to me that the developers of Angular sought to create such a framework, the code of which would cause the same feelings among people who are familiar with programming or not.  Therefore, I will explain a little about what is happening all the more since its essence is quite simple. <br><br>  When using the ngModel Angular directive, it creates an instance of a special <a href="http://docs.angularjs.org/api/ng.directive:ngModel.NgModelController">NgModelController</a> controller, which in general is responsible for all these validation properties: $ invalid, $ valid, $ pristine, $ dirty, $ error.  Therefore, when writing a validator, we need to use a controller that belongs to ngModel, which we do: <br><br><pre> require: "ngModel"
</pre><br>  Now the link function, which is called upon any changes, will take the <a href="http://docs.angularjs.org/api/ng.directive:ngModel.NgModelController">NgModelController</a> controller as the ctl parameter. <br><br>  Next we turn to the $ parsers array of the NgModelController object, which sequentially performs the specified functions, passing the contents of the input to them. <br><br>  Perform a regular expression check.  And if everything is ok, declare LovelyForm.LovelyMimimi. $ Error.mimimi as valid ctrl. $ SetValidity ('mimimi', true).  The value returned by the function will be passed to the parent $ scope, in our case, to the mimimi variable. <br><br><h2>  Submitsim </h2><br>  Finally, we want to process the data that the user has kindly provided to us.  With Angular, this is also done on time: <br><br>  [ <a href="http://jsfiddle.net/8vP3Y/">jsFiddle</a> ] <br><pre> <code class="html hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">form</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"LovelyForm"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">novalidate</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">ng-controller</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"formController"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">ng-submit</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"submit()"</span></span></span><span class="hljs-tag"> &gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">input</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"text"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"LovelyText"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">placeholder</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"Some Text 1"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">ng-model</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"text1"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">required</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">input</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"text"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"LovelyText2"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">placeholder</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"Some Text 2"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">ng-model</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"text2"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">required</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">input</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"text"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"LovelyText3"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">placeholder</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"Some Text 3"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">ng-model</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"text3"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">required</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">input</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"submit"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">value</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"Send Text"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">ng-disabled</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"LovelyForm.$invalid"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">form</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br><pre> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">formController</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">$scope</span></span></span><span class="hljs-function">)</span></span>{ $scope.submit=<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span>{ alert(angular.toJson($scope.LovelyForm)); } }</code> </pre><br>  In essence, one of the two ngSubmit or ngClick directives is enough.  The only difference is that the first one you specify in the form tag, the second to input with the attribute type = "submit".  In this case, the specified function will be executed, both when clicking on the button, and when you press Enter after entering in one of the fields. <br><br>  Of course, in order to prevent the emergence of native HTML5 validation messages, it is advisable to assign the novalidate attribute to the form.  And in order to make the submit or click action impossible when the form is filled with errors, we use the ngDisabled directive.  If ngDisabled is true, then submit will not pass. <br><br><h2>  Married </h2><br>  In general, what is it I, men.  Be careful.  I lived my life, changed the plug-ins for jQuery like gloves.  But once I relaxed, I stuck my nose, but I did not pull it out in time.  Now we‚Äôll have our children with Angelica soon, one-page, so I can't even look at jQuery now.  But I think I'm not the only one here.  Thank you for listening. </div><p>Source: <a href="https://habr.com/ru/post/179473/">https://habr.com/ru/post/179473/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../179463/index.html">Tronsmart MK908 - a new generation of mini-computers on a 4-core Rockchip RK3188 chip</a></li>
<li><a href="../179465/index.html">Google Glass in action (video)</a></li>
<li><a href="../179467/index.html">Author Hydra, Amap and SuSEFirewall to Speak at PHDays</a></li>
<li><a href="../179469/index.html">Megatrade: presentation on NetApp FAS storage</a></li>
<li><a href="../179471/index.html">How we did the right production</a></li>
<li><a href="../179475/index.html">Privileged Account Management</a></li>
<li><a href="../179481/index.html">Moving to MySQL 5.6, is it worth it?</a></li>
<li><a href="../179483/index.html">Laser weapons destroy a rocket at a distance of 1.5 km (video)</a></li>
<li><a href="../179487/index.html">Protection of Android applications from hacking</a></li>
<li><a href="../179489/index.html">On the other side of a like: our Facebook people</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>