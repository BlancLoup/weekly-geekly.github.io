<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Suffering by CMF or Zend + Doctrine. Part 1</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Attempts to create their own system began a long time ago (I think everyone is familiar with it). Over the past couple of years, the circuit has been ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Suffering by CMF or Zend + Doctrine. Part 1</h1><div class="post__text post__text-html js-mediator-article"> Attempts to create their own system began a long time ago (I think everyone is familiar with it).  Over the past couple of years, the circuit has been rolled back on its system, but the system itself safely rested in the Bose.  If there were attempts to somehow use Zend as a component, then in the end it was decided not to reinvent the wheel, but simply to take Zend as a basis. <br>  Zend - 1.8 / Doctrine - 1.1 at the time of writing. <br><br>  What was decided to keep the system from the previous version <br>  1) Multisite <br>  2) Multilingual.  Internationalization is done at the expense of Zend and Doctrine. <br>  3) Modularity.  At the same time, you can create a module in the system itself by specifying the yaml scheme and obtaining standard methods for working with the help of controllers and autogenerated forms (Zend_Form). <br>  4) In created modules, by default, there is support for i18n, versionable, timestampable. <br>  Each site has display modes - backend, frontend, etc.  Model - one for all.  The basis for the models chosen is Doctrine.  It seemed very comfortable. <br><a name="habracut"></a><br>  Appropriately, the application has the following scheme: <br> <code>/application <br> ---&gt;/backend <br> ------&gt;/helpers <br> ------&gt;/languages <br> ------&gt;/layouts <br> ------&gt;/modules <br> ---&gt;/frontend <br> ---&gt;/installer <br> /models <br> /tests <br> /library <br> ---&gt;/Xms <br> ---&gt;/Xms/Core <br> ---&gt;/Xms/Backend <br> ---&gt;/Xms/Frontend <br> ---&gt;/Zend <br> ---&gt;/Doctrine <br></code> <br>  When you start the application, it is determined in which mode it starts up, after which the Boostrap starts.  You can use the one that defaults to / application.  You can (as was done in the case of the installer) define your own. <br>  Application launch <br><blockquote> <code><font color="#000088">$application</font> <font color="#339933">=</font> <font color="#000000">new</font> Xms_Application <font color="#009900">(</font> &lt;br/&gt; <br> APPLICATION_ENV <font color="#339933">,</font> &lt;br/&gt; <br> <font color="#990000">array</font> <font color="#009900">(</font> <font color="#0000ff">'config'</font> <font color="#339933">=&gt;</font> XMS_ROOT <font color="#339933">.</font> <font color="#0000ff">'/config/application.ini'</font> <font color="#339933">,</font> &lt;br/&gt; <br> <font color="#0000ff">'mode'</font> <font color="#339933">=&gt;</font> <font color="#0000ff">'backend'</font> <font color="#009900">)</font> &lt;br/&gt; <br> <font color="#009900">)</font> <font color="#339933">;</font> &lt;br/&gt; <br> <font color="#000088">$application</font> <font color="#339933">-&gt;</font> <font color="#004000">setBootstrap</font> <font color="#009900">(</font> APPLICATION_PATH <font color="#339933">.</font> <font color="#0000ff">'/Bootstrap.php'</font> <font color="#009900">)</font> <font color="#339933">;</font> &lt;br/&gt; <br> <font color="#000088">$application</font> <font color="#339933">-&gt;</font> <font color="#004000">bootstrap</font> <font color="#009900">(</font> <font color="#009900">)</font> <font color="#339933">-&gt;</font> <font color="#004000">run</font> <font color="#009900">(</font> <font color="#009900">)</font> <font color="#339933">;</font> <br></code> </blockquote> <code><font color="#000088">$application</font> <font color="#339933">=</font> <font color="#000000">new</font> Xms_Application <font color="#009900">(</font> &lt;br/&gt; <br> APPLICATION_ENV <font color="#339933">,</font> &lt;br/&gt; <br> <font color="#990000">array</font> <font color="#009900">(</font> <font color="#0000ff">'config'</font> <font color="#339933">=&gt;</font> XMS_ROOT <font color="#339933">.</font> <font color="#0000ff">'/config/application.ini'</font> <font color="#339933">,</font> &lt;br/&gt; <br> <font color="#0000ff">'mode'</font> <font color="#339933">=&gt;</font> <font color="#0000ff">'backend'</font> <font color="#009900">)</font> &lt;br/&gt; <br> <font color="#009900">)</font> <font color="#339933">;</font> &lt;br/&gt; <br> <font color="#000088">$application</font> <font color="#339933">-&gt;</font> <font color="#004000">setBootstrap</font> <font color="#009900">(</font> APPLICATION_PATH <font color="#339933">.</font> <font color="#0000ff">'/Bootstrap.php'</font> <font color="#009900">)</font> <font color="#339933">;</font> &lt;br/&gt; <br> <font color="#000088">$application</font> <font color="#339933">-&gt;</font> <font color="#004000">bootstrap</font> <font color="#009900">(</font> <font color="#009900">)</font> <font color="#339933">-&gt;</font> <font color="#004000">run</font> <font color="#009900">(</font> <font color="#009900">)</font> <font color="#339933">;</font> <br></code> <br><br>  The Xms_Application class performs initial initialization. <br><blockquote> <code><font color="#b1b100">require_once</font> <font color="#0000ff">'Zend/Loader/Autoloader.php'</font> <font color="#339933">;</font> &lt;br/&gt; <br> <font color="#b1b100">require_once</font> <font color="#009900">(</font> <font color="#0000ff">'Doctrine.php'</font> <font color="#009900">)</font> <font color="#339933">;</font> &lt;br/&gt; <br> Zend_Loader_Autoloader <font color="#339933">::</font> <font color="#004000">getInstance</font> <font color="#009900">(</font> <font color="#009900">)</font> &lt;br/&gt; <br> <font color="#339933">-&gt;</font> <font color="#004000">pushAutoloader</font> <font color="#009900">(</font> <font color="#990000">array</font> <font color="#009900">(</font> <font color="#0000ff">'Doctrine'</font> <font color="#339933">,</font> <font color="#0000ff">'autoload'</font> <font color="#009900">)</font> <font color="#009900">)</font> <font color="#339933">;</font> &lt;br/&gt; <br> Zend_Loader_Autoloader <font color="#339933">::</font> <font color="#004000">getInstance</font> <font color="#009900">(</font> <font color="#009900">)</font> <font color="#339933">-&gt;</font> <font color="#004000">registerNamespace</font> <font color="#009900">(</font> <font color="#0000ff">'Xms_'</font> <font color="#009900">)</font> <font color="#339933">;</font> &lt;br/&gt; <br> Zend_Loader_Autoloader <font color="#339933">::</font> <font color="#004000">getInstance</font> <font color="#009900">(</font> <font color="#009900">)</font> <font color="#339933">-&gt;</font> <font color="#004000">registerNamespace</font> <font color="#009900">(</font> <font color="#0000ff">'Scienta_'</font> <font color="#009900">)</font> <font color="#339933">;</font> <br></code> </blockquote> <code><font color="#b1b100">require_once</font> <font color="#0000ff">'Zend/Loader/Autoloader.php'</font> <font color="#339933">;</font> &lt;br/&gt; <br> <font color="#b1b100">require_once</font> <font color="#009900">(</font> <font color="#0000ff">'Doctrine.php'</font> <font color="#009900">)</font> <font color="#339933">;</font> &lt;br/&gt; <br> Zend_Loader_Autoloader <font color="#339933">::</font> <font color="#004000">getInstance</font> <font color="#009900">(</font> <font color="#009900">)</font> &lt;br/&gt; <br> <font color="#339933">-&gt;</font> <font color="#004000">pushAutoloader</font> <font color="#009900">(</font> <font color="#990000">array</font> <font color="#009900">(</font> <font color="#0000ff">'Doctrine'</font> <font color="#339933">,</font> <font color="#0000ff">'autoload'</font> <font color="#009900">)</font> <font color="#009900">)</font> <font color="#339933">;</font> &lt;br/&gt; <br> Zend_Loader_Autoloader <font color="#339933">::</font> <font color="#004000">getInstance</font> <font color="#009900">(</font> <font color="#009900">)</font> <font color="#339933">-&gt;</font> <font color="#004000">registerNamespace</font> <font color="#009900">(</font> <font color="#0000ff">'Xms_'</font> <font color="#009900">)</font> <font color="#339933">;</font> &lt;br/&gt; <br> Zend_Loader_Autoloader <font color="#339933">::</font> <font color="#004000">getInstance</font> <font color="#009900">(</font> <font color="#009900">)</font> <font color="#339933">-&gt;</font> <font color="#004000">registerNamespace</font> <font color="#009900">(</font> <font color="#0000ff">'Scienta_'</font> <font color="#009900">)</font> <font color="#339933">;</font> <br></code> 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      The Bootstrap class inherits from Xms_Core_Abstract, which in turn inherits from Zend_Application_Bootstrap_Bootstrap.  Run method: <br><blockquote> <code><font color="#000088">$this</font> <font color="#339933">-&gt;</font> _readConfig <font color="#009900">(</font> <font color="#009900">)</font> <font color="#339933">;</font> &lt;br/&gt; <br> <font color="#000088">$this</font> <font color="#339933">-&gt;</font> _setDb <font color="#009900">(</font> <font color="#009900">)</font> <font color="#339933">;</font> &lt;br/&gt; <br> <font color="#000088">$this</font> <font color="#339933">-&gt;</font> _setEnvironment <font color="#009900">(</font> <font color="#009900">)</font> <font color="#339933">;</font> &lt;br/&gt; <br> <font color="#000088">$this</font> <font color="#339933">-&gt;</font> _setLayout <font color="#009900">(</font> <font color="#009900">)</font> <font color="#339933">;</font> &lt;br/&gt; <br> <font color="#000088">$this</font> <font color="#339933">-&gt;</font> _setSystem <font color="#009900">(</font> <font color="#009900">)</font> <font color="#339933">;</font> &lt;br/&gt; <br> <font color="#000088">$this</font> <font color="#339933">-&gt;</font> _setSecurity <font color="#009900">(</font> <font color="#009900">)</font> <font color="#339933">;</font> &lt;br/&gt; <br> &lt;br/&gt; <br> Zend_Registry <font color="#339933">::</font> <font color="#004000">set</font> <font color="#009900">(</font> <font color="#0000ff">'Xms_Bo'</font> <font color="#339933">,</font> <font color="#000088">$this</font> <font color="#009900">)</font> <font color="#339933">;</font> &lt;br/&gt; <br> parent <font color="#339933">::</font> <font color="#004000">run</font> <font color="#009900">(</font> <font color="#009900">)</font> <font color="#339933">;</font> <br></code> </blockquote> <code><font color="#000088">$this</font> <font color="#339933">-&gt;</font> _readConfig <font color="#009900">(</font> <font color="#009900">)</font> <font color="#339933">;</font> &lt;br/&gt; <br> <font color="#000088">$this</font> <font color="#339933">-&gt;</font> _setDb <font color="#009900">(</font> <font color="#009900">)</font> <font color="#339933">;</font> &lt;br/&gt; <br> <font color="#000088">$this</font> <font color="#339933">-&gt;</font> _setEnvironment <font color="#009900">(</font> <font color="#009900">)</font> <font color="#339933">;</font> &lt;br/&gt; <br> <font color="#000088">$this</font> <font color="#339933">-&gt;</font> _setLayout <font color="#009900">(</font> <font color="#009900">)</font> <font color="#339933">;</font> &lt;br/&gt; <br> <font color="#000088">$this</font> <font color="#339933">-&gt;</font> _setSystem <font color="#009900">(</font> <font color="#009900">)</font> <font color="#339933">;</font> &lt;br/&gt; <br> <font color="#000088">$this</font> <font color="#339933">-&gt;</font> _setSecurity <font color="#009900">(</font> <font color="#009900">)</font> <font color="#339933">;</font> &lt;br/&gt; <br> &lt;br/&gt; <br> Zend_Registry <font color="#339933">::</font> <font color="#004000">set</font> <font color="#009900">(</font> <font color="#0000ff">'Xms_Bo'</font> <font color="#339933">,</font> <font color="#000088">$this</font> <font color="#009900">)</font> <font color="#339933">;</font> &lt;br/&gt; <br> parent <font color="#339933">::</font> <font color="#004000">run</font> <font color="#009900">(</font> <font color="#009900">)</font> <font color="#339933">;</font> <br></code> <br>  A little more about the _setEnvironment (), _setSystem () and _setSecurity () methods <br>  _setEnvironment () <br><blockquote> <code>protected <font color="#000000">function</font> _setEnvironment <font color="#009900">(</font> <font color="#009900">)</font> &lt;br/&gt; <br> <font color="#009900">{</font> &lt;br/&gt; <br> Doctrine <font color="#339933">::</font> <font color="#004000">loadModels</font> <font color="#009900">(</font> <font color="#990000">array</font> <font color="#009900">(</font> &lt;br/&gt; <br> XMS_ROOT <font color="#339933">.</font> <font color="#009900">DIRECTORY_SEPARATOR</font> <font color="#339933">.</font> &lt;br/&gt; <br> Xms_Application <font color="#339933">::</font> <font color="#004000">APPLICATION_FOLDER</font> <font color="#339933">.</font> <font color="#009900">DIRECTORY_SEPARATOR</font> <font color="#339933">.</font> &lt;br/&gt; <br> Xms_Application <font color="#339933">::</font> <font color="#004000">MODELS_FOLDER</font> <font color="#339933">.</font> <font color="#009900">DIRECTORY_SEPARATOR</font> <font color="#339933">.</font> <font color="#0000ff">'core'</font> <font color="#339933">.</font> <font color="#009900">DIRECTORY_SEPARATOR</font> <font color="#339933">.</font> &lt;br/&gt; <br> Xms_Application <font color="#339933">::</font> <font color="#004000">MODELS_FOLDER_GENERATED</font> <font color="#339933">,</font> &lt;br/&gt; <br> XMS_ROOT <font color="#339933">.</font> <font color="#009900">DIRECTORY_SEPARATOR</font> <font color="#339933">.</font> &lt;br/&gt; <br> Xms_Application <font color="#339933">::</font> <font color="#004000">APPLICATION_FOLDER</font> <font color="#339933">.</font> <font color="#009900">DIRECTORY_SEPARATOR</font> <font color="#339933">.</font> &lt;br/&gt; <br> Xms_Application <font color="#339933">::</font> <font color="#004000">MODELS_FOLDER</font> <font color="#339933">.</font> <font color="#009900">DIRECTORY_SEPARATOR</font> <font color="#339933">.</font> <font color="#0000ff">'core'</font> &lt;br/&gt; <br> <font color="#009900">)</font> &lt;br/&gt; <br> <font color="#009900">)</font> <font color="#339933">;</font> &lt;br/&gt; <br> <font color="#000088">$this</font> <font color="#339933">-&gt;</font> _defineUri <font color="#009900">(</font> <font color="#009900">)</font> <font color="#339933">;</font> &lt;br/&gt; <br> <font color="#000088">$this</font> <font color="#339933">-&gt;</font> _loadModes <font color="#009900">(</font> <font color="#009900">)</font> <font color="#339933">;</font> &lt;br/&gt; <br> <font color="#000088">$this</font> <font color="#339933">-&gt;</font> _loadSites <font color="#009900">(</font> <font color="#009900">)</font> <font color="#339933">;</font> &lt;br/&gt; <br> <font color="#000088">$this</font> <font color="#339933">-&gt;</font> _loadModules <font color="#009900">(</font> <font color="#009900">)</font> <font color="#339933">;</font> &lt;br/&gt; <br> <font color="#000088">$this</font> <font color="#339933">-&gt;</font> _loadLanguages <font color="#009900">(</font> <font color="#009900">)</font> <font color="#339933">;</font> &lt;br/&gt; <br> <font color="#000088">$this</font> <font color="#339933">-&gt;</font> _loadRouters <font color="#009900">(</font> <font color="#009900">)</font> <font color="#339933">;</font> &lt;br/&gt; <br> <font color="#009900">}</font> <br></code> </blockquote> <code>protected <font color="#000000">function</font> _setEnvironment <font color="#009900">(</font> <font color="#009900">)</font> &lt;br/&gt; <br> <font color="#009900">{</font> &lt;br/&gt; <br> Doctrine <font color="#339933">::</font> <font color="#004000">loadModels</font> <font color="#009900">(</font> <font color="#990000">array</font> <font color="#009900">(</font> &lt;br/&gt; <br> XMS_ROOT <font color="#339933">.</font> <font color="#009900">DIRECTORY_SEPARATOR</font> <font color="#339933">.</font> &lt;br/&gt; <br> Xms_Application <font color="#339933">::</font> <font color="#004000">APPLICATION_FOLDER</font> <font color="#339933">.</font> <font color="#009900">DIRECTORY_SEPARATOR</font> <font color="#339933">.</font> &lt;br/&gt; <br> Xms_Application <font color="#339933">::</font> <font color="#004000">MODELS_FOLDER</font> <font color="#339933">.</font> <font color="#009900">DIRECTORY_SEPARATOR</font> <font color="#339933">.</font> <font color="#0000ff">'core'</font> <font color="#339933">.</font> <font color="#009900">DIRECTORY_SEPARATOR</font> <font color="#339933">.</font> &lt;br/&gt; <br> Xms_Application <font color="#339933">::</font> <font color="#004000">MODELS_FOLDER_GENERATED</font> <font color="#339933">,</font> &lt;br/&gt; <br> XMS_ROOT <font color="#339933">.</font> <font color="#009900">DIRECTORY_SEPARATOR</font> <font color="#339933">.</font> &lt;br/&gt; <br> Xms_Application <font color="#339933">::</font> <font color="#004000">APPLICATION_FOLDER</font> <font color="#339933">.</font> <font color="#009900">DIRECTORY_SEPARATOR</font> <font color="#339933">.</font> &lt;br/&gt; <br> Xms_Application <font color="#339933">::</font> <font color="#004000">MODELS_FOLDER</font> <font color="#339933">.</font> <font color="#009900">DIRECTORY_SEPARATOR</font> <font color="#339933">.</font> <font color="#0000ff">'core'</font> &lt;br/&gt; <br> <font color="#009900">)</font> &lt;br/&gt; <br> <font color="#009900">)</font> <font color="#339933">;</font> &lt;br/&gt; <br> <font color="#000088">$this</font> <font color="#339933">-&gt;</font> _defineUri <font color="#009900">(</font> <font color="#009900">)</font> <font color="#339933">;</font> &lt;br/&gt; <br> <font color="#000088">$this</font> <font color="#339933">-&gt;</font> _loadModes <font color="#009900">(</font> <font color="#009900">)</font> <font color="#339933">;</font> &lt;br/&gt; <br> <font color="#000088">$this</font> <font color="#339933">-&gt;</font> _loadSites <font color="#009900">(</font> <font color="#009900">)</font> <font color="#339933">;</font> &lt;br/&gt; <br> <font color="#000088">$this</font> <font color="#339933">-&gt;</font> _loadModules <font color="#009900">(</font> <font color="#009900">)</font> <font color="#339933">;</font> &lt;br/&gt; <br> <font color="#000088">$this</font> <font color="#339933">-&gt;</font> _loadLanguages <font color="#009900">(</font> <font color="#009900">)</font> <font color="#339933">;</font> &lt;br/&gt; <br> <font color="#000088">$this</font> <font color="#339933">-&gt;</font> _loadRouters <font color="#009900">(</font> <font color="#009900">)</font> <font color="#339933">;</font> &lt;br/&gt; <br> <font color="#009900">}</font> <br></code> <br>  This is where the application is initialized - loading available modes, sites, modules, locales and routers. <br><br>  _setSystem () <br><blockquote> <code><font color="#b1b100">foreach</font> <font color="#009900">(</font> <font color="#000088">$this</font> <font color="#339933">-&gt;</font> _moduleMatrix <font color="#b1b100">as</font> <font color="#000088">$key</font> <font color="#339933">=&gt;</font> <font color="#000088">$val</font> <font color="#009900">)</font> <font color="#009900">{</font> &lt;br/&gt; <br> <font color="#000088">$front</font> <font color="#339933">-&gt;</font> <font color="#004000">addControllerDirectory</font> <font color="#009900">(</font> XMS_ROOT <font color="#339933">.</font> <font color="#009900">DIRECTORY_SEPARATOR</font> <font color="#339933">.</font> &lt;br/&gt; <br> Xms_Application <font color="#339933">::</font> <font color="#004000">APPLICATION_FOLDER</font> <font color="#339933">.</font> <font color="#009900">DIRECTORY_SEPARATOR</font> <font color="#339933">.</font> &lt;br/&gt; <br> Xms_Application <font color="#339933">::</font> <font color="#004000">APPLICATION_EXT</font> <font color="#339933">.</font> <font color="#009900">DIRECTORY_SEPARATOR</font> <font color="#339933">.</font> &lt;br/&gt; <br> <font color="#000088">$this</font> <font color="#339933">-&gt;</font> _mode <font color="#339933">.</font> <font color="#009900">DIRECTORY_SEPARATOR</font> <font color="#339933">.</font> Xms_Application <font color="#339933">::</font> <font color="#004000">MODULES_FOLDER</font> <font color="#339933">.</font> <font color="#009900">DIRECTORY_SEPARATOR</font> <font color="#339933">.</font> <font color="#000088">$key</font> <font color="#339933">,</font> <font color="#000088">$key</font> <font color="#009900">)</font> <font color="#339933">;</font> &lt;br/&gt; <br> <font color="#009900">}</font> <br></code> </blockquote> <code><font color="#b1b100">foreach</font> <font color="#009900">(</font> <font color="#000088">$this</font> <font color="#339933">-&gt;</font> _moduleMatrix <font color="#b1b100">as</font> <font color="#000088">$key</font> <font color="#339933">=&gt;</font> <font color="#000088">$val</font> <font color="#009900">)</font> <font color="#009900">{</font> &lt;br/&gt; <br> <font color="#000088">$front</font> <font color="#339933">-&gt;</font> <font color="#004000">addControllerDirectory</font> <font color="#009900">(</font> XMS_ROOT <font color="#339933">.</font> <font color="#009900">DIRECTORY_SEPARATOR</font> <font color="#339933">.</font> &lt;br/&gt; <br> Xms_Application <font color="#339933">::</font> <font color="#004000">APPLICATION_FOLDER</font> <font color="#339933">.</font> <font color="#009900">DIRECTORY_SEPARATOR</font> <font color="#339933">.</font> &lt;br/&gt; <br> Xms_Application <font color="#339933">::</font> <font color="#004000">APPLICATION_EXT</font> <font color="#339933">.</font> <font color="#009900">DIRECTORY_SEPARATOR</font> <font color="#339933">.</font> &lt;br/&gt; <br> <font color="#000088">$this</font> <font color="#339933">-&gt;</font> _mode <font color="#339933">.</font> <font color="#009900">DIRECTORY_SEPARATOR</font> <font color="#339933">.</font> Xms_Application <font color="#339933">::</font> <font color="#004000">MODULES_FOLDER</font> <font color="#339933">.</font> <font color="#009900">DIRECTORY_SEPARATOR</font> <font color="#339933">.</font> <font color="#000088">$key</font> <font color="#339933">,</font> <font color="#000088">$key</font> <font color="#009900">)</font> <font color="#339933">;</font> &lt;br/&gt; <br> <font color="#009900">}</font> <br></code> <br>  The modules are being installed here.  That is, a module that does not have a connection with the launched website will not be available. <br><br>  _setSecurity () <br><blockquote> <code><font color="#000088">$this</font> <font color="#339933">-&gt;</font> _acl <font color="#339933">=</font> <font color="#000000">new</font> Xms_Core_Acl <font color="#009900">(</font> <font color="#000088">$this</font> <font color="#339933">-&gt;</font> _siteId <font color="#339933">,</font> <font color="#000088">$this</font> <font color="#339933">-&gt;</font> _modeId <font color="#009900">)</font> <font color="#339933">;</font> &lt;br/&gt; <br> <font color="#000088">$front</font> <font color="#339933">-&gt;</font> <font color="#004000">registerPlugin</font> <font color="#009900">(</font> <font color="#000000">new</font> Xms_Core_Controller_Plugin_auth <font color="#009900">(</font> Zend_Auth <font color="#339933">::</font> <font color="#004000">getInstance</font> <font color="#009900">(</font> <font color="#009900">)</font> <font color="#339933">,</font> <font color="#000088">$this</font> <font color="#339933">-&gt;</font> _acl <font color="#009900">)</font> <font color="#009900">)</font> <font color="#339933">;</font> <br></code> </blockquote> <code><font color="#000088">$this</font> <font color="#339933">-&gt;</font> _acl <font color="#339933">=</font> <font color="#000000">new</font> Xms_Core_Acl <font color="#009900">(</font> <font color="#000088">$this</font> <font color="#339933">-&gt;</font> _siteId <font color="#339933">,</font> <font color="#000088">$this</font> <font color="#339933">-&gt;</font> _modeId <font color="#009900">)</font> <font color="#339933">;</font> &lt;br/&gt; <br> <font color="#000088">$front</font> <font color="#339933">-&gt;</font> <font color="#004000">registerPlugin</font> <font color="#009900">(</font> <font color="#000000">new</font> Xms_Core_Controller_Plugin_auth <font color="#009900">(</font> Zend_Auth <font color="#339933">::</font> <font color="#004000">getInstance</font> <font color="#009900">(</font> <font color="#009900">)</font> <font color="#339933">,</font> <font color="#000088">$this</font> <font color="#339933">-&gt;</font> _acl <font color="#009900">)</font> <font color="#009900">)</font> <font color="#339933">;</font> <br></code> <br><br>  From the point of view of differentiation of access rights, it was decided to dwell on the fact that the final resource would not be Zend_Action, but the controller itself.  Well, just imagine the situation when a new action is added to the controller (which is more than likely in the case of the same AJAX) and the procedure for changing roles and grant access rights to a new action :) <br><br>  Doctrine <br>  This is a special thanks to the Doctrine developers for the Doctrine_Template. <br>  Task: By default, tables are created with Doctrine_I18n, Versionable, SoftDelete, and Timestampable support.  There was a problem - <a href="http://trac.doctrine-project.org/ticket/1708">trac.doctrine-project.org/ticket/1708</a> .  Inheritance and removal of an unnecessary reference succeeded in avoiding it quickly.  In addition, now each entry is also characterized by belonging to the user and the site. <br><br>  What we have at the moment. <br>  1) Installer mode.  System installation. <br>  2) Backend mode.  Adding a module causes tables, controllers and forms to be created. <br>  3) Frontend mode in the embryonic state.  It seems to use Action_Stack to form pages in accordance with the module connected to this page. <br><br>  The system, in addition to differentiating access rights to actions, must have a distinction of rights to data.  In addition to access to the resources of the controllers, the role will also have access to the data slice.  The slice is formed on the basis of access to each field of the table. <br><br>  I would like to use Zend_Project to generate new modes - I‚Äôm thinking about opensocial mode (social support <a href="http://code.google.com/intl/ru/apis/opensocial/">code.google.com/intl/ru/apis/opensocial</a> ), office (since charts can be generated from yaml, then why not create a graphical table creation tool) , jquery-grid and so on. <br>  Considering Doctrine_Event to make the system run the process.  That is, the installation created by someone - when adding an entry to table A, cause adding an entry to table B and sending an email should work. <br><br>  This is an attempt to briefly describe what happened.  Thanks to habrayuzer for notes with the experience - means not only it is interesting to us to reinvent the wheel :) <br>  The code is planned to be laid out in OpenSource, so if anyone is interested in looking and feeling it, well. </div><p>Source: <a href="https://habr.com/ru/post/64014/">https://habr.com/ru/post/64014/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../64004/index.html">New promotional video Office 2010</a></li>
<li><a href="../64005/index.html">Symfony version 1.3 is available (unstable)</a></li>
<li><a href="../64008/index.html">What is the difference between god and larry ellison</a></li>
<li><a href="../64009/index.html">And what have the cat on the main?</a></li>
<li><a href="../64012/index.html">Parsing XML in Java. DOM vs. SAX</a></li>
<li><a href="../64015/index.html">Stories for managers: Color envelopes</a></li>
<li><a href="../64016/index.html">Rounded corners on clean CSS without JS without anti-aliasing images</a></li>
<li><a href="../64020/index.html">> UP</a></li>
<li><a href="../64021/index.html">www.DinkyPage.com - disposable pages in 5 seconds</a></li>
<li><a href="../64026/index.html">CIO - IT specialist or manager?</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>