<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>CMakeProjectManager2: a bit of convenience when working with CMake in Qt Creator</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Good afternoon, 

 CMakeProjectManager2 is a fork of the original Qt Creator plugin to support the CMake build system. The sluggish history of this pr...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>CMakeProjectManager2: a bit of convenience when working with CMake in Qt Creator</h1><div class="post__text post__text-html js-mediator-article">  Good afternoon, <br><br>  <a href="https://github.com/h4tr3d/cmakeprojectmanager2">CMakeProjectManager2</a> is a fork of the original Qt Creator plugin to support the CMake build system.  The sluggish history of this project has been going on since 2011 (my first blog post: <a href="http://htrd.su/wiki/zhurnal/2011-03-24_14.49_qt_creator_i_cmake_-_prodolzhenie">htrd.su/wiki/zhurnal/2011-03-24_14.49_qt_creator_i_cmake_-_prodolzhenie</a> , second update from 2012: <a href="http://htrd.su/wiki/zhurnal/2012/10/17/cmakeprojectmanager2_-_poslednie_izmenenija">htrd.su/wiki/zhurnal/2012/ 10/17 / cmakeprojectmanager2 _-_ poslednie_izmenenija</a> ).  Since then, nothing new has been added.  Compatibility with the latest versions of Qt Creator was provided, the repository moved to GitHub (as an experiment). <br><br>  But yesterday and today several more changes were added, which was the reason to mention the project on Habr√©. <br><a name="habracut"></a><br>  So, the initial changes have added not so much functionality, namely: <br><ul><li>  The structure of the project files is taken not from the .cbp file, but by scanning the project tree.  As an option, it can be slow on large projects, on the other hand, tree reloading does not occur every time, but when changing CMakeLists.txt or adding, deleting, renaming files (this is not the case, by the way, in the base plugin) </li><li>  Now you can create new files in the project tree directly from Qt Creator </li><li>  Now you can rename files </li><li>  Now you can delete files from disk </li></ul><br>  At the same time, the idea of ‚Äã‚Äãadding support for parsing CMakeFiles.txt to the plugin, bypassing launching CMake and generating the .cbp file, came to the fore.  But (looking ahead), this idea remained an idea: a parser and a tokenizer were written separately based on CMake source code, but the developments have sunk into oblivion along with the next screw collapse.  Before integration into the plugin has not reached. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      The second package of changes was added in 2012, included the following features and fixes: <br><ul><li>  For each assembly profile, the entered parameters for CMake are saved, so choosing the next time ‚ÄúRun CMake‚Äù does not need to remember with what parameters you started it and it is easier to manage the assembly profiles.  Together with the latest feature from the Upstream: saving the global history of parameters for CMake, it turns out to be quite a powerful mechanism. </li><li>  Using the above information, it became possible when updating the source tree (adding, deleting, renaming) in the background to start updating the CBP file and the assembly tree, which is especially important when using globbing. </li><li>  Compared with the first option, it turned out to significantly reduce the memory consumption when using the plugin, especially when there are many auxiliary modules in the project tree, temporary C / C ++ code. </li></ul><br>  Starting from this version, you can quite comfortably use CMake if the list of files is based on globing, i.e.  if the list is given by mask, like this: <br><pre><code class="cmake hljs"><span class="hljs-comment"><span class="hljs-comment"># UTILS file(GLOB_RECURSE UTIL_SOURCES "../util/*.cpp") file(GLOB_RECURSE UTIL_HEADERS "../util/*.h" "../util/*.hpp")</span></span></code> </pre> <br>  When you add a file through Qt Creator, the cache is automatically updated and the file is seen in the tree, the build system and the C ++ parser. <br><br>  Since then, the code base has only been synchronized with the upstream (in fact, there are no major changes relative to it).  For the first version, an attempt was made to submit a merge request, but was hacked away because of the display of all the files, instead of those that are somehow written in CMakeLists.txt.  After this attempt ceased.  Those who want to push through part or all of the changes - well! <br><br>  But it so happened that there was a need for cross-compiling CMake projects from the depths of Qt Creator.  This is not difficult to do, it is enough to issue a Toolchain file ( <a href="http://www.vtk.org/Wiki/CMake_Cross_Compiling">more</a> info) and pass it through a special parameter to the cmake process.  It is inconvenient only to register the parameters by hand. <br><br>  So there were changes which appeared today in a repository: <br><ul><li>  Added the ability to choose the type of assembly </li><li>  Added ability to assign toolchain </li></ul><br>  Yes, there are not many changes, but I think this is not important.  It is important that it became a little more convenient and easier. <br><br>  In fact, these parameters are used to set the parameters for CMake in a more friendly form: -DCMAKE_BUILD_TYPE = and -DCMAKE_TOOLCHAIN_FILE, respectively. <br><br>  About tulchan a little more.  Initially planned three ways to set it: <br><ul><li>  Automatic construction based on Qt Creator Kit (now this knowledge is used only by the parser, cmake can easily find any other suitable compiler and use it for building) </li><li>  Manual setting of the file (so far made without the possibility of opening the search dialog, only manual input: <a href="https://github.com/h4tr3d/cmakeprojectmanager2/issues/2">issue # 2</a> ) </li><li>  "Inline" toolchain: edits in the built-in editor, when launched, the content is saved in the tweak directory under the name QtCreator-toolchain-override.cmake </li></ul><br>  For now, the Qt Creator Kit-based option is turned off ( <a href="https://github.com/h4tr3d/cmakeprojectmanager2/issues/4">issue # 4</a> ). <br><br>  Plus, there is a nuance: according to the CMake documentation, a change of the toolchain is possible only on a new configuration or on a full cleaning of the current one (delete CMakeFiles and CMakeCache.txt), therefore, if changes of the toolchain are noticed, a full reconfiguration is made without using a cache.  I plan to add a dialog with a warning ( <a href="https://github.com/h4tr3d/cmakeprojectmanager2/issues/1">issue # 1</a> ). <br><br>  It should be noted that the user input of parameters is saved, moreover, it is determined that if the parameter is already set, then the user input will be used. <br><br>  Well, the picture, what it looks like: <br><img src="https://habrastorage.org/files/e2c/e92/21a/e2ce9221a006440b8391a2a4ea8500f2.png"><br><br>  If it seems useful to someone, I will be glad.  Especially I will be glad to pull requests with fixing bugs and implementing new features.  The reports are also good, but according to the development trend of the project you can understand: there is not much time for it, so the reaction can be from ‚Äúslow‚Äù to ‚Äúooooochen slow‚Äù. <br><br>  UPD / 2015-07-18 /: Made the PPA for Ubuntu 14.04 / Mint 17.x with QtC from git [master] and CMakeProjectManager2: <a href="https://launchpad.net/~adrozdoff/%2Barchive/ubuntu/qtcreator-git">launchpad.net/~adrozdoff/+archive/ubuntu/qtcreator-git</a> </div><p>Source: <a href="https://habr.com/ru/post/248517/">https://habr.com/ru/post/248517/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../248503/index.html">JetBrains products at last year's prices</a></li>
<li><a href="../248505/index.html">Repository pattern. Basics and explanations</a></li>
<li><a href="../248507/index.html">WebSocket RPC or how to write a live web browser application</a></li>
<li><a href="../248509/index.html">Qt Android and system audio control dialog</a></li>
<li><a href="../248511/index.html">Website without backend: user authentication in BaaS parse.com through social networks</a></li>
<li><a href="../248519/index.html">PID problem 1 zombie reaping in Docker</a></li>
<li><a href="../248521/index.html">We collect bad data - 2. 1.5 years later, about how not to publish open data</a></li>
<li><a href="../248525/index.html">Workflow in Document Approval System</a></li>
<li><a href="../248527/index.html">How to write great pull requests</a></li>
<li><a href="../248529/index.html">HP server conference online ‚Äî only 10 days to win 2 tablets</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>