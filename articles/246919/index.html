<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>NORD POS. The story of why I needed another fork of Openbravo POS</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Introduction 
 In the last article I told readers a brief history of ten years of development of the Openbravo POS project. For 7 years I took an acti...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>NORD POS. The story of why I needed another fork of Openbravo POS</h1><div class="post__text post__text-html js-mediator-article"><h4>  Introduction </h4><br>  In the <a href="http://habrahabr.ru/post/245765/">last article</a> I told readers a brief history of ten years of development of the Openbravo POS project.  For 7 years I took an active part in it and, together with other participants, developed an outlet source management system.  But this year I decided to transfer all my accumulated achievements to the independent project <a href="http://nordpos.mobi/">nordpos.mobi</a> and develop them within the framework of my own fork, created on the basis of the open source code Openbravo POS. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/494/4d9/750/4944d97509b34746bea5ca0747c68a71.jpg"></div><br><br><h4>  Origins </h4><br>  The key reason for stopping the development of Openbravo POS, was the actual departure from the project of its founder Edrin Romer, he completely switched to the development of the commercial version of Openbravo Web POS and since 2010 has not touched the original code of the original version.  Therefore, I didn‚Äôt have much hope for the revival of the project, and I had a need for the development of the application. <br><a name="habracut"></a><br>  Almost from the first days in parallel with the public work on the localization of Openbravo POS, I led the development of an internal project for my family‚Äôs business called NORD POS.  Since we have a family business connected with technical maintenance of cash and other trading equipment, we were quite interested in the further development of our own application that can work with this equipment.  Which prompted me in 2012 to post the NORD POS source code first to the Mercurial repository on Bitbucket, and then to GitHub after switching to Git.  Version numbering had to start right from the number 3 due to the fact that one of the main features of my application was the ability to migrate from the latest version of Openbravo POS.  As a result, the first version of NORD POS was the version for the number 3.0.0, it included not only cosmetic interface changes and library version updates, but also changes affecting the structure of the entire project as a whole. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h4>  Separation of base and superstructure </h4><br>  By itself, the Openbravo POS application was generally self-sufficient for the tasks of organizing cash accounting.  It contained a full range of functions performed at the cashier‚Äôs workplace, but all the time, users lacked the capabilities and flexibility to adjust them to the specifics of a particular business.  Although something could be solved by writing embedded scripts, their scope was limited only to the sales panel.  If you had to somehow change the business logic and connect new hardware, you had to make changes to the core of the application.  And since it was initially monolithic and was developed as a matter of fact by only one person, these changes could affect a significant part of the source code.  Although from version 2.10, where Adrian Romero singled out the generation of reports into a separate plug-in resource, a gradual transition to modularity and extensibility began by removing part of the resources from the application source code kernel, but unfortunately since 2009 the project was essentially frozen and this process did not get further development.  Also, this direction did not find development in the forks based on Openbravo POS and it became interesting for me to try to implement it myself. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/7cf/331/73e/7cf33173ede34c5fbe4fcc8b6eced0a3.png"></div><br><br>  <b>Current desktop version</b> : NORD POS 3.0.1 Community Edition <br>  <b>System requirements</b> : Windows or Linux OS with Java SE 7. <br>  <b>Interface</b> : Java Swing in the desktop application and jQuery Mobile in mobile web applications. <br>  <b>Databases</b> : Apache Derby and MySQL as basic but accessible to use PostgeSQL, HSQL, Firebird or Oracle DBMS. <br>  <b>Interface languages</b> : English and Russian. <br>  <b>Source Code</b> : <a href="https://github.com/nordpos/nordpos">github.com/nordpos/nordpos</a> <br>  <b>Binary builds</b> : <a href="https://sourceforge.net/projects/nordpos/files/app-platform/">sourceforge.net/projects/nordpos/files/app-platform</a> <br>  <b>License</b> : GNU GPL v3. <br><br><h5>  Plug-in hardware in peripheral drivers </h5><br>  I spotted this decision in the commercial version of Openbravo Web POS, where the interfaces were rendered using <a href="http://docs.oracle.com/javase/tutorial/ext/basics/spi.html">Java SPI</a> into separate packages for each type of equipment.  This made it possible to resolve the problem with the connection of equipment that was present only in our local market, for which now there is no need to make a separate fork of the entire system, and it is enough to make changes only to one driver that was installed in an independent library.  In the same way, NORD POS implements connection to payment gateways of card processing. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/c7e/1e1/29d/c7e1e129d76b4703b3ee9cc88cfce1a6.png"></div><br><br>  The diagram shows the implemented interfaces for individual types of commercial equipment.  At the same time, the customer‚Äôs display, fiscal registrar, check and printer etiquette are controlled by special XML templates, the structure of these templates is described in <b>Schema.Printer.xsd</b> .  Also, to implement work via plug-in drivers, the directory structure of the application has been changed to edit resources without having to compile the main package. <br><ul><li>  <b>./services</b> , files with the declaration of called services; </li><li>  <b>./templates</b> , custom templates; </li><li>  <b>./lib-ext</b> , the driver libraries themselves. </li></ul><br>  In addition, as in Openbravo POS, barcode scanners or magnetic cards can be connected to NORD POS without problems in the keyboard mode. <br><br><h5>  Business logic in mobile add-ons </h5><br>  I already described the idea in detail in the article <a href="http://habrahabr.ru/post/156781/">Compact Java servlet for the mobile web</a> , in the future it could become the flagship of the development of Openbravo POS, but unfortunately, apart from me, it was not picked up by anyone, and today it is the main feature of the nordpos.mobi project .  At the same time, it not only hosts the source code for creating your own Java servlets, but also has the opportunity to try out demos for <a href="http://nordpos.mobi/product-catalog/">the product catalog</a> and <a href="http://nordpos.mobi/restaurant-service/">the waiter‚Äôs workplace</a> , which are already compiled and deployed on a virtual machine in the Windows Azure cloud.  And now I have plans to make for NORD POS a mobile online store and a mobile data collection terminal for the warehouse. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/f79/426/a5e/f79426a5ebda48078297e0f75a3c488b.png"></div><br><br>  From a technical point of view, these are standalone web applications that have only a common database with the desktop version of NORD POS, while the database is not much different from the original one, and web applications from NORD POS can be used in conjunction with other Openbravo forks POS.  Unlike the desktop versions, where the interaction with the database management system was carried out through SQL queries, Java servlets use <a href="http://ormlite.com/">ORMLite</a> Java annotations to access information through the data model.  The list of supported databases through the JDBC driver is quite extensive, and all you need to connect is in the servlet <b>/WEB-INF/web.xml</b> to specify the connection parameters.  In this case, the only condition is that in the <b>/ WEB-INF / lib</b> folder there is a JDBC driver for the corresponding DBMS.  Here is an example of settings for MySQL: <br><br><pre><code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">context-param</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">param-name</span></span></span><span class="hljs-tag">&gt;</span></span>db.URL<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">param-name</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">param-value</span></span></span><span class="hljs-tag">&gt;</span></span>jdbc:mysql://localhost:3306/nordpos?useUnicode=yes&amp;characterEncoding=UTF-8<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">param-value</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">context-param</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">context-param</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">param-name</span></span></span><span class="hljs-tag">&gt;</span></span>db.user<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">param-name</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">param-value</span></span></span><span class="hljs-tag">&gt;</span></span>nordposuser<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">param-value</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">context-param</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">context-param</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">param-name</span></span></span><span class="hljs-tag">&gt;</span></span>db.password<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">param-name</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">param-value</span></span></span><span class="hljs-tag">&gt;</span></span>nordpospassword<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">param-value</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">context-param</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">context-param</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">param-name</span></span></span><span class="hljs-tag">&gt;</span></span>db.application.id<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">param-name</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">param-value</span></span></span><span class="hljs-tag">&gt;</span></span>nordpos<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">param-value</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">context-param</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br><br><h5>  Visual schemes for data synchronization </h5><br>  Another necessary feature of POS programs is the availability of means of integration with other software already implemented or planned for implementation.  We usually have it 1C, abroad it is a different ERP system, also very often there are online stores built on popular CMS, as well as self-written ones.  Most often, POS developers use upload and download to a text file as a universal solution, which the external system then processes.  But I liked the solution, use specialized software for ETL.  In the Openbravo POS 2.30 version, the <a href="http://www.pentaho.com/product/data-integration">Pentaho Data Integration</a> software package was used.  Since this is a more universal approach, then it is possible both to adapt to the API of other systems, and to implement your own data exchange options.  Pentaho Data Integration uses a visual approach to the process of extracting, transforming and uploading data.  For example, the scheme for unloading tables of goods, categories and taxes from the NORD POS database will look as follows. <br><br><img src="https://habrastorage.org/files/b85/c6e/c4d/b85c6ec4d9c54b6b9bdd7a60a1728d8d.png"><br><br>  Pentaho Data Integration transformation schemes can be launched in several ways: from a graphical shell, from the command line, according to a schedule, via a web server or built into another API application.  For NORD POS, I chose the latter option, since it is most convenient for users. <br><br>  Implemented the integration of transformation schemes was similar to the integration of JasperReports report templates.  In the visual editor creates a transformation scheme. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/6cc/aea/9c2/6ccaea9c2d894fd8be39cb5f47267035.png"></div><br><br>  After that, a script is created in a text editor or IDE to call it from the application. <br><br><pre> <code class="java hljs">transformation = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> com.nordpos.sync.panel.PanelTransformationBean(); transformation.setTitleKey(<span class="hljs-string"><span class="hljs-string">"Menu.SyncImportProducts"</span></span>); transformation.setTransformation(<span class="hljs-string"><span class="hljs-string">"/com/nordpos/transformations/csv/IMPORT_PRODUCTS.ktr"</span></span>); transformation.addTransVariable(<span class="hljs-string"><span class="hljs-string">"db.URL"</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.app.getProperties().getDBURL()); transformation.addTransVariable(<span class="hljs-string"><span class="hljs-string">"db.driver"</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.app.getProperties().getDBDriver()); transformation.addTransVariable(<span class="hljs-string"><span class="hljs-string">"db.user"</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.app.getProperties().getDBUser()); transformation.addTransVariable(<span class="hljs-string"><span class="hljs-string">"db.password"</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.app.getProperties().getDBPassword()); transformation;</code> </pre><br>  In it, as the reference to the scheme is given, the parameters of the variables necessary for the conversion are also set.  If the conversion will be associated with the processing of information from the database, then it is necessary to set the parameters for connecting to it.  Then, in the resource <b>Menu.Root, the</b> button and the call to the script execution panel in the application menu are set. <br><br><pre> <code class="java hljs"> submenu.addPanel(<span class="hljs-string"><span class="hljs-string">"/com/openbravo/images/database_imp.png"</span></span>, <span class="hljs-string"><span class="hljs-string">"Menu.SyncImportProducts"</span></span>, <span class="hljs-string"><span class="hljs-string">"/com/nordpos/transformations/csv/import_products.bsh"</span></span>);</code> </pre><br>  And in the rights of the user's role access to it is allowed. <br><br><pre> <code class="xml hljs"> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">class</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"/com/nordpos/transformations/csv/import_products.bsh"</span></span></span><span class="hljs-tag">/&gt;</span></span></code> </pre><br>  After restarting the application, it will be possible to directly download data from external files to NORD POS using the Pentaho Data Integration schemes. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/b6d/17e/588/b6d17e588699462c8c2094308e19072c.png"></div><br><br><h4>  Embedded servers </h4><br><h5>  Database server </h5><br>  The default database in Openbravo POS was <a href="http://db.apache.org/derby/">Apache Derby</a> , but not the network version, with the possibility of several simultaneous connections at once, but the embedded version from the JDBC driver with only one simultaneous connection.  At the same time, in order to connect several POS systems to one database, it was necessary either to install the Apache Derby server, or select another DBMS in which the function for simultaneous connection of several connections was initially supported.  Also, using multiple connections was necessary for exchanging data through the Pentaho Data Integration.  Since the migration function from Openbravo POS to NORD POS was originally planned for me, I decided to use the embedded version of the <a href="http://db.apache.org/derby/papers/DerbyTut/ns_intro.html">Apache Derby Network Server</a> as a convenient means of updating the database.  Now for updating it is enough to copy the folder with the database from Openbravo POS to the folder <b>.derby-db of</b> the user's directory, register its names in the URL of the JDBC driver, and the update will take place automatically.  If another DBMS is used as storage, then the launch of the built-in server can be disabled. <br><br><h5>  Web application server </h5><br>  Since the main audience of NORD POS will still be simple users who are inexperienced in installing web servers and deploying web applications in servlet containers, similarly to the embedded database server, the <a href="http://eclipse.org/jetty/">Jetty 9</a> web server was integrated into the application.  It is launched optionally, if it is set in the settings. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/553/208/977/553208977bd14b45bdf927c19cdcf3dd.png"></div><br><br>  Web applications are installed in the <b>./webapps</b> folder directly in the NORD POS directory; during installation, the precompiled contents of the war file must be unpacked into the folder with the corresponding name.  After launching NORD POS, the installed web application will be available according to the name of this folder in the browser line. <br><br><h4>  More changes and plans </h4><br>  In addition to the above, global changes are enough, there is in NORD POS and not so drastic: <br><ul><li>  all libraries have been updated completely, including RXTX replaced with <a href="https://github.com/NeuronRobotics/nrjavaserial">Neuron Robotics Java Serial</a> , and JasperReports updated to 4.8.0; </li><li>  support for two-dimensional DataMatrix barcodes and a QR code; </li><li>  the ability to use discounts on the entire amount of the check or on individual items; </li><li>  new reports; </li><li>  syntax highlighting in resources and scripts; </li><li>  <a href="http://code.google.com/p/faenza-icon-theme/">Faenza</a> icon set and stream theme by default. </li></ul><br>  It was also planned, but for the time being it was left unrealized, to transfer work with the database to ORMLite, and to make calculations in BigDecimal, just as it has already been done in mobile web applications. <br>  Otherwise, I now want to concentrate more on working out what has already been done and creating extensions to the basis that I managed to create in the first public version of NORD POS (for example, there is already a branch for implementing payment with Bitcoin in it).  But at the same time, I am most interested in attracting new participants to work on the project.  So, if after reading this article you have questions about automation in trade, you are always happy to help and tell more about how this can be done using the open source NORD POS. </div><p>Source: <a href="https://habr.com/ru/post/246919/">https://habr.com/ru/post/246919/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../246905/index.html">Why you should NOT use AngularJs</a></li>
<li><a href="../246907/index.html">Top 15 JavaScript Libraries for Building Diagrams and Pivot Tables</a></li>
<li><a href="../246909/index.html">Implementing Sunburst Chart on JavaScript and HTML5 Canvas</a></li>
<li><a href="../246911/index.html">OpenGL ES 1.1 on Windows 8 and Windows Phone 8.1</a></li>
<li><a href="../246913/index.html">New optimizations for x86 in GCC 5.0: PIC in 32-bit mode</a></li>
<li><a href="../246921/index.html">We open the brain to the sales manager. How to get an investment, sell a product or service</a></li>
<li><a href="../246929/index.html">Anonymous leaked a large list of passwords, credit cards, and the film ‚ÄúThe Interview‚Äù by Sony</a></li>
<li><a href="../246933/index.html">Docker, SkyDNS and SkyDock - quickly and conveniently</a></li>
<li><a href="../246935/index.html">The digest of interesting materials for the mobile developer # 85 (December 22-28)</a></li>
<li><a href="../246937/index.html">Thermal barriers, tombstones and other delights of printed circuit boards</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>