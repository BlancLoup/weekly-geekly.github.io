<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Installing the Nvidia CUDA toolkit on Ubuntu 12.04 x86_64</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Good day, habrovchane, in this post, I will try to visually explain about installing Nvidia CUDA toolkit on Ubuntu 12.04 x86_64. To begin with, it mad...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Installing the Nvidia CUDA toolkit on Ubuntu 12.04 x86_64</h1><div class="post__text post__text-html js-mediator-article">  Good day, habrovchane, in this post, I will try to visually explain about installing Nvidia CUDA toolkit on Ubuntu 12.04 x86_64.  To begin with, it made me write this post.  Most recently, I needed to install the Nvidia CUDA toolkit on my home computer. <img src="https://habrastorage.org/getpro/geektimes/post_images/9b5/579/625/9b55796251bcccd37f253ec8de6a3dd3.png" alt="image">  After reading a good part of the installation manuals, not only in Russian, I decided that it would be easier to install a package from Nvidia, but here I was mistaken.  Most of the manuals are sharpened for the old versions of ubunt, moreover, they often lack certain features of the installation, which sooner or later leads the reader to a dead end.  And so who is interested - you are welcome under the cat ... <br><a name="habracut"></a><br>  <b><u>We divide the installation into several stages:</u></b> <br>  1) Download the necessary software components. <br>  2) Preparing for installation. <br>  3) Install the driver, toolkit and sdk. <br>  4) System setup after installation. <br>  5) Compile and run examples to test performance. <br><br>  <i><b>Stage 1 - Download the necessary software components.</b></i> <br><br>  I think it's silly to tell people reading this post why CUDA technology is needed, because  if you are reading it, then you have decided what you need it for.  Because  CUDA technology exists only on Nvidia graphic cards, you need a card from this manufacturer.  A list of cards supporting CUDA technology can be found on the official Nvidia website - <a href="http://developer.nvidia.com/cuda-gpus">developer.nvidia.com/cuda-gpus</a> .  The benchmark in the desktop segment can be considered the GeForce 8100 mGPU, and accordingly in the notebook - the GeForce 8400M GT.  So dealt with the card.  Now you need to go to the site <a href="http://developer.nvidia.com/">developer.nvidia.com</a> and select the column "Cuda Download" (Figure 1). 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <img src="https://habrastorage.org/getpro/geektimes/post_images/ff1/256/f72/ff1256f72a3b78120779479470714ede.jpg" alt="image">  <u>Fig.</u>  <u>1. Developer.nvidia.com home page.</u> <br><br>  Immediately after clicking on the link "Cuda Download", we get to the software download page.  Because  Ubuntu 12.04 was released relatively recently, the site still has software for previous stable versions, namely 11.04 and 10.04.  When installing on my PC, I selected 11.04 x64.  With the rest of the components, it is intuitively clear - depending on the version of the distribution kit, we select the correct product and download it (Figure 2). <br><br><img src="https://habrastorage.org/getpro/geektimes/post_images/612/294/a68/612294a6871a98ee10b6527d05359842.png" alt="image">  <u>Fig.</u>  <u>2. software for installation.</u> <u><br></u> <br>  As a result, in the selected folder (I have this Downloads) there should be 3 files (Figure 3): <br>  1) cudatoolkit_4.2.9_linux_64_ubuntu11.04.run <br>  2) devdriver_4.2_linux_64_295.41.run <br>  3) gpucomputingsdk_4.2.9_linux.run <br><br><img src="https://habrastorage.org/getpro/geektimes/post_images/866/a35/89b/866a3589b17883030268dd737e910c0d.png" alt="image">  <u>Fig.</u>  <u>3. View the folder with the downloaded files.</u> <br><br>  <i><b>Stage 2 - Preparation for installation</b></i> <br><br>  Actually the whole problem with the installation is in the Nvidia developer driver that needs to be installed, and we will install it first.  First you need to add free drivers to the blacklist.  Open any blacklist text editor (in my case, gedit), in the terminal (Figure 4): <br><pre><code class="bash hljs">sudo gedit /etc/modprobe.d/blacklist.conf</code> </pre> <br>  and add the following lines to the very end of the blacklist: <br><pre> <code class="bash hljs">blacklist amd76x_edac <span class="hljs-comment"><span class="hljs-comment">#     ,    . blacklist vga16fb blacklist nouveau blacklist lbm-nouveau blacklist rivafb blacklist nvidiafb blacklist rivatv</span></span></code> </pre><br><img src="https://habrastorage.org/getpro/geektimes/post_images/553/823/ee7/553823ee73eb90c16ed1be478d5ea9d8.png" alt="image"><br>  <u>Fig.</u>  <u>4. Edit the blacklist.</u> <br><br>  Save it and close until better times.  After that you can try to install the driver.  But before it is necessary to get rid of all sorts of garbage that the old drivers leave, in the terminal we enter: <br><pre> <code class="bash hljs">sudo apt-get remove --purge nvidia*</code> </pre><br>  After the operation is completed, you need to restart the PC: <br><pre> <code class="bash hljs">sudo reboot</code> </pre><br>  But here it is worth noting an interesting thing that the above manipulations do not disable the nouveau driver, and on the clean system it is he who prevents to put the CUDA driver, accordingly we need to arm ourselves again with a text editor and do the following (Figure 5): <br><pre> <code class="bash hljs">sudo gedit /etc/modprobe.d/nvidia-graphics-drivers.conf</code> </pre><br>  open this file and add the following to it: <br><pre> <code class="bash hljs">blacklist nouveau blacklist lbm-nouveau blacklist nvidia-173 blacklist nvidia-96 blacklist nvidia-current blacklist nvidia-173-updates blacklist nvidia-96-updates <span class="hljs-built_in"><span class="hljs-built_in">alias</span></span> nvidia nvidia_current_updates <span class="hljs-built_in"><span class="hljs-built_in">alias</span></span> nouveau off <span class="hljs-built_in"><span class="hljs-built_in">alias</span></span> lbm-nouveau off</code> </pre><br><img src="https://habrastorage.org/getpro/geektimes/post_images/91d/63b/7e0/91d63b7e0bd8c2bf06d50d25ef7c3c55.png" alt="image"><br>  <u>Fig.</u>  <u>5. Edit nvidia-graphics-drivers.conf.</u> <br><br>  <i><b>Step 3 - Install the driver, toolkit and sdk.</b></i> <br><br>  This step will show how correctly you did everything.  And so, we loaded up to the moment of choosing a user and entering a password (the so-called login screen).  It is on the login screen'e press the key combination: <br><pre> <code class="bash hljs">ctrl + alt + F1</code> </pre><br>  We fall into the console mode.  You need to log in and go to the folder with previously downloaded Nvidia software products, and also disable gdm or lightdm to install the CUDA driver, then you need to change the access rights for our driver and install it directly: <br><pre> <code class="bash hljs"><span class="hljs-built_in"><span class="hljs-built_in">cd</span></span> Downloads sudo service lightdm stop <span class="hljs-comment"><span class="hljs-comment"># sudo service gdm stop chmod +x devdriver_4.2_linux_64_295.41.run sudo ./devdriver_4.2_linux_64_295.41.run</span></span></code> </pre><br>  Then everything is simple, click "Accept" and the installation has begun.  In the course of the installation, they will ask you whether it is necessary to install the OpenGL libraries - this is the case, as they say.  Then the system will inform you about the successful installation of the CUDA driver.  You must restart the system again.  After the reboot, install the remaining components, namely cudatoolkit_4.2.9_linux_64_ubuntu11.04.run and gpucomputingsdk_4.2.9_linux.run, go to the folder with the downloaded files and install the necessary components: <br><pre> <code class="bash hljs"><span class="hljs-built_in"><span class="hljs-built_in">cd</span></span> Downloads sudo ./cudatoolkit_4.2.9_linux_64_ubuntu11.04.run sudo ./gpucomputingsdk_4.2.9_linux.run</code> </pre><br>  Here it can be noted that during installation, the program will ask you to specify different types of paths, you should not really bother - if this situation occurs, simply press ‚ÄúEnter‚Äù. <br><br>  <i><b>Stage 4 - System setup after installation.</b></i> <br>  Next, you need to configure the system, for this we enter in the terminal: <br><pre> <code class="bash hljs"><span class="hljs-built_in"><span class="hljs-built_in">export</span></span> PATH=/usr/<span class="hljs-built_in"><span class="hljs-built_in">local</span></span>/cuda/bin:<span class="hljs-variable"><span class="hljs-variable">$PATH</span></span> &amp;&amp;<span class="hljs-built_in"><span class="hljs-built_in">export</span></span> LD_LIBRARY_PATH=/usr/<span class="hljs-built_in"><span class="hljs-built_in">local</span></span>/cuda/lib64:<span class="hljs-variable"><span class="hljs-variable">$LD_LIBRARY_PATH</span></span></code> </pre><br><pre> <code class="bash hljs"><span class="hljs-built_in"><span class="hljs-built_in">echo</span></span> <span class="hljs-string"><span class="hljs-string">'export PATH=/usr/local/cuda/bin:$PATH'</span></span> &gt;&gt; ~/.bashrc &amp;&amp; <span class="hljs-built_in"><span class="hljs-built_in">echo</span></span> <span class="hljs-string"><span class="hljs-string">'export LD_LIBRARY_PATH=/usr/local/cuda/lib64:$LD_LIBRARY_PATH'</span></span> &gt;&gt; ~/.bashrc</code> </pre><br>  Well, like, everything, the system is set up.  The case is left for small, go to the fifth stage. <br><br>  <i><b>Step 5 - Compile and run the runtime examples.</b></i> <br><br>  Now you only need to compile the examples and finally test the performance.  To do this, enter in the terminal: <br><pre> <code class="bash hljs"><span class="hljs-built_in"><span class="hljs-built_in">cd</span></span> ~/NVIDIA_GPU_Computing_SDK/C make</code> </pre><br>  When building examples, errors may occur, well, actually, then you need to run the ‚Äúmake‚Äù utility under the root and try building or running the utility again with the -k flag: <br><pre> <code class="bash hljs">make -k</code> </pre><br>  And so the climax, it remains to run any of the compiled examples, enter in the terminal (Figure 6): <br><pre> <code class="bash hljs"><span class="hljs-built_in"><span class="hljs-built_in">cd</span></span> ~/NVIDIA_GPU_Computing_SDK/C/bin/linux/release ./deviceQuery</code> </pre><br><img src="https://habrastorage.org/getpro/geektimes/post_images/d2d/17b/50d/d2d17b50d5d9131076ce4968ef76f493.png" alt="image"><br>  <u>Fig.</u>  <u>6. The result of launching the deviceQuery program.</u> <br><br>  Well, in general, that's all I wanted to tell you about setting up the CUDA toolkit.  Please do not judge strictly, because  This is my first post on Habr√©, I tried to do everything thoroughly.  I hope this post will help someone in setting up the CUDA toolkit.  Thanks for attention. </div><p>Source: <a href="https://habr.com/ru/post/146541/">https://habr.com/ru/post/146541/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../146536/index.html">3D-simulator data center with reference to the monitoring</a></li>
<li><a href="../146537/index.html">Code Review Open Source Projects</a></li>
<li><a href="../146538/index.html">Mini reverse engineering and modification of Windows Phone applications</a></li>
<li><a href="../146539/index.html">Improving Redgate SQL Search: Some Development Points</a></li>
<li><a href="../146540/index.html">What is Digital Venturis 466 capable of?</a></li>
<li><a href="../146542/index.html">165 terabytes of satellite photos will be added to the Bing cards</a></li>
<li><a href="../146543/index.html">Summer. Windows 8. Application Excellence Labs</a></li>
<li><a href="../146544/index.html">AAAA batteries of 9V crown</a></li>
<li><a href="../146545/index.html">New Yandex.Maps for iOS - with public transport routes</a></li>
<li><a href="../146547/index.html">Remote debugging using xdebug port forwarding</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>