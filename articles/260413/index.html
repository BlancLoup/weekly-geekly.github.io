<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Instructions: Setting up the Gateway PD (AltLinux SPT 6.0 + VipNet Coordinator)</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Introduction 
 The information presented in this manual is intended for setting the ‚ÄúGateway PDN‚Äù PAK. All information is formed from personal experie...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Instructions: Setting up the Gateway PD (AltLinux SPT 6.0 + VipNet Coordinator)</h1><div class="post__text post__text-html js-mediator-article"><h2>  Introduction </h2><br>  The information presented in this manual is intended for setting the ‚ÄúGateway PDN‚Äù PAK.  All information is formed from personal experience <strike>with this "stupid thing"</strike> with the gateway PDN.  I will begin with the advice: if you were instructed to configure / reconfigure the PACK "SLOOZ-PDN", have patience.  Perhaps not everything will be obtained the first time.  At the time of writing this manual, nothing like it was found on the Internet (date of instruction writing: June 2015), only minor details of installing this or that software, without describing possible problems and errors.  Help from software developer technical support do not wait.  I spent on the entire setup and installation of approximately 2 weeks, taking into account the fact that I had not done this before.  So, let's begin. <br><a name="habracut"></a><br>  Before setting up, read the manuals on the official Alt Linux and InfoTeCS websites.  Understanding in the configuration process will be more.  Configuring forwarding rules, enabling coordinator and firewall modes, parsing sections and configuration parameters, and many other useful information are contained in these manuals.  Well, if you read and fail, please read this manual.  I can not guarantee that it will help you 100% in your situation, but it‚Äôs still worth reading. <br><habracut text=""><br><h2>  Start setting / installation </h2><br>  Before you start setting up / installing software on the PACK ‚ÄúSLOOZ-PDN‚Äù, you need to find out if it worked before or not.  In my case, the gateway was certified about 1.5 years ago and at the moment the certificate for it is over.  Information about network interfaces is also weighing, in this example there is one network interface.  It is planned to use this gateway at the university to work with the state information systems <abbr title="Federal Information System &quot;Unified State Exam&quot;">FIS EGE</abbr> and <abbr title="Federal Information System &quot;Federal Register of Education Documents&quot;">FIS FRDO</abbr> .  The <i>‚Äúcurved‚Äù</i> Alt Linux shell and the outdated version of the VipNet coordinator were installed on the gateway, it was decided to <u>remove</u> everything and install the full Alt Linux SPT 6.0 and the new version of the VipNet Coordinator 3.7. <br><br><h2>  Create backup </h2><br>  First of all, you need to make a backup copy of the hard disk of our gateway.  This can be done using the software: Acronis True Image, previously writing it as a boot disk, for example, on an external USB drive.  It is necessary to make a backup copy on an alternate medium, using the same hard drive of the gateway for the backup copy does not make sense. <br><br>  After creating a backup, make sure that the backup disk file of the gateway is visible on the media and occupies a certain size.  Then you can remove all the used / usb drives and go to the Alt Linux installation. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h2>  Installing Alt Linux SPT 6.0 </h2><br>  Installing the Alt Linux distribution is not difficult, all settings are made by default, and you don‚Äôt even have to suffer from partitioning disks.  For the VipNet Coordinator to work, we will need to install a 32-bit system. <br>  <i>The example shows screenshots of Alt Linux <b>Centaurus</b> , do not pay attention at the moment, the procedure for installing SPT is the same.</i> <br><br><h2>  System loading </h2><br>  In order to start a normal installation (if you have an installation CD with the distribution kit and a DVD reader), you need to boot from the CD or DVD-disk on which the distribution kit is recorded.  In this case, you may need to enable the BIOS boot option from the CD / DVD drive. <br><br>  <i><b>PS</b> In most cases, an indication of how to enter the BIOS is displayed on your monitor immediately after turning on the computer.</i>  <i>The way to enter the BIOS menu and information about the location of the settings is determined by the manufacturer of the equipment used.</i>  <i>For information, you can refer to the documentation for your equipment.</i> <br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/f54/9dc/3ee/f549dc3ee74040f29afc89190092d59e.png"></div><br><br>  After booting the computer from the installation disc, a menu is displayed in which you can choose the possible system boot options, as well as launch the OS already installed on the hard disk, perform a memory check, boot into recovery mode and start in the LiveCD mode. <br><br>  <i><b>PS</b> Mouse at this stage of installation is not supported.</i>  <i>To select installation options and various options, you must use the keyboard.</i> <br><br>  To start the installation process, use the up and down cursor keys to select the Setup menu item, and then press <b>"Enter"</b> .  The initial stage of installation does not require intervention: the equipment is automatically detected and the components of the installation program are launched. <br><ul><li>  Messages about what is happening at this stage can be viewed by pressing the <b>ESC</b> key. </li><li>  For help, type <b>F1</b> . </li><li>  The language of the loader interface and the installer depends on the choice of language in the loader.  Select the language by pressing <b>F2</b> . </li><li>  <b>F3</b> opens the menu of available video modes (screen resolutions).  This permission will be used during installation and boot of the installed system, etc. </li></ul><br>  <i><b>PS</b> In the initial bootloader, a short waiting time for user actions is set: if you have not taken any steps to select the menu item you need, the system that is already installed on the hard disk will be loaded.</i>  <i>If you missed the right moment, then restart your computer and select <b>‚ÄúInstallation‚Äù on time</b> .</i> <br><br><h2>  Installation sequence </h2><br>  The installation process is divided into steps.  Each step is dedicated to setting up or setting a specific property of the system.  Steps need to be completed in succession, the transition to the next step occurs by clicking the <b>"Next"</b> button.  Using the <b>‚ÄúBack‚Äù</b> button, if necessary, you can return to the step that has already been passed and change the settings.  However, the ability to go to the previous step is limited to those steps in which there is no dependence on previously entered data. <br><br>  If for some reason you need to stop the installation, click the reset button on the computer system unit.  It is important to remember that it is completely safe to stop the installation only until the ‚ÄúDisk preparation‚Äù step, since up to this point no changes are made on the hard disk.  If you interrupt the installation between the steps "Preparing the disk" and "Installing the bootloader", then probably none of the installed systems will be able to boot from the hard disk. <br><br>  Each step is accompanied by a brief help that can be accessed by clicking <b>the Help</b> button or by pressing <b>F1</b> . <br><br>  During installation, the following steps are taken: <br><ul><li>  Tongue </li><li>  License agreement </li><li>  date and time </li><li>  Disc preparation </li><li>  System installation </li><li>  Saving settings </li><li>  Install the bootloader </li><li>  Network configuration </li><li>  System administrator </li><li>  System user </li><li>  Installation completion </li></ul><br><br><h2>  Tongue </h2><br><div style="text-align:center;"><img src="https://habrastorage.org/files/1f3/148/d21/1f3148d215204b818e5116bdbda87815.png"></div><br><br>  Installation begins with the choice of the main language - the language of the installer interface and the installed system.  In addition to the language selected at the initial stage of loading, English is indicated in the list of available languages ‚Äã‚Äãof the region. <br>  At the same stage, the option of switching the keyboard layout is selected.  The keyboard layout is the binding of letters, numbers and special characters to the keys on the keyboard.  In addition to entering characters in the main language, it is necessary to be able to enter Latin characters (names of commands, files, etc.) on any Linux system.  For this, the standard English keyboard layout is usually used.  Switching between layouts is carried out with the help of specially reserved keys.  For the Russian language, the following options for switching layouts are available: <br><ul><li>  Alt and Shift keys simultaneously; </li><li>  Capslock key ;; </li><li>  Control and Shift keys simultaneously ;; </li><li>  Control key ;; </li><li>  Alt key; </li></ul><br>  If the selected primary language has only one layout (for example, when selecting English as the main language), this single layout will be automatically accepted. <br><br><h2>  License agreement </h2><br><div style="text-align:center;"><img src="https://habrastorage.org/files/34b/358/f48/34b358f484df4813876f423daf62187e.png"></div><br><br>  Before proceeding with the installation, you should carefully read the license terms.  The license says about your rights.  In particular, you are entitled to: <br><ul><li>  operation of programs on any number of computers and for any purpose; </li><li>  distribution of programs (accompanying them with a copy of the copyright agreement); </li><li>  getting the source code of programs. </li></ul><br>  If you purchased a distribution kit, then this license agreement is attached in print to your copy of the distribution kit.  The license applies to the entire ALT Linux distribution.  If you agree to the terms of the license, check the box <b>‚ÄúYes, I agree to the terms and conditions and click Next.‚Äù</b> <br><br><h2>  date and time </h2><br>  To set the date and time correctly, it is enough to specify the time zone correctly and set the desired values ‚Äã‚Äãfor the date and time. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/e55/9d3/60a/e559d360ad7e45ba8eb06062e3b7f314.png"></div><br><br>  At this step, you should select the time zone for which you want to set the clock.  To do this, select the country and the region in the corresponding lists.  Search the list can be accelerated by typing on the keyboard the first letters of the search word. <br>  Note the <b>‚ÄúStore time in BIOS GMT‚Äù</b> mark.  If Linux is the only operating system installed, check this box.  If Linux is installed as a second system, then this mark must be removed.  If this is not done, the time and date in the already installed operating system may not be displayed correctly. <br><br>  Check whether the date and time are displayed correctly in the <b>‚ÄúCurrent time‚Äù</b> column, and, if necessary, set the correct values ‚Äã‚Äã(the <b>‚ÄúChange ...‚Äù</b> button). <br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/c7c/c6b/51c/c7cc6b51cfb24d25987e2cb335aadf03.png"></div><br><br>  If your computer is connected to a local network or to the Internet, you can enable the system clock synchronization feature with a remote server (NTP).  To do this, it is enough to mark the item <b>‚ÄúReceive exact time from the NTP server‚Äù</b> and specify the preferred NTP server.  In most cases, you will be satisfied with the pool.ntp.org server. <br>  If the option <b>‚ÄúReceive exact time from NTP server‚Äù is</b> selected, then your computer may itself be an exact time server.  For example, be used as a time server by machines on your local network.  To activate this feature, check <b>‚ÄúWork as NTP server‚Äù</b> . <br><br><h2>  Disc preparation </h2><br>  The transition to this step may take some time.  The waiting time depends on the performance of the computer, the size of the hard disk, the number of partitions on it, etc.  At this stage, a platform is prepared for the installation of ALT Linux, first of all - free disk space is allocated. <br><br><h2>  Selecting a partitioning profile </h2><br><div style="text-align:center;"><img src="https://habrastorage.org/files/d08/a9b/ed5/d08a9bed54fb49c28a38b2391c29c84d.png"></div><br><br>  The list of partitions lists the partitions that already exist on the hard drives (including removable flash drives connected to the computer at the time of installation).  The following are the available partitioning profiles.  A profile is a template for allocating disk space for a Linux installation.  You can select one of the profiles: <br><ul><li>  Server installation; </li><li>  Installation workstation. </li></ul><br>  In our case, since the Coordinator is a server, during the installation, we select the hard disk partitioning for the server installation option. <br><br><h2>  Automatic partitioning profiles </h2><br>  Profiles assume automatic partitioning.  The selection of an automatic disk partitioning profile also affects the default software set. <br><br>  <b>Server installation</b> - the server software set will be installed by default.  This allows you to use the installed system to perform various service tasks.  When installing the <b>‚ÄúServer</b> installation <b>‚Äù</b> type, the graphical user interface will not start when the system is booted, unless you have installed the corresponding software packages yourself. <br><br>  <b>Workstation installation</b> - by default, a set of software will be installed, including a graphical environment and development tools for solving everyday tasks. <br><br>  If you select the <b>‚ÄúServer installation‚Äù option</b> , if there are two hard disks on the computer, a RAID1 array will be created, and if there are three or more disks, RAID5 will be created.  The use of RAID technology ensures data integrity even if one hard drive fails.  Please note that when installing the distribution kit in a virtual machine, RAID-arrays are not automatically created. <br><br><h2>  System installation </h2><br><div style="text-align:center;"><img src="https://habrastorage.org/files/ab1/f42/092/ab1f4209263743048bb0d5a8f29e16e1.png"></div><br><br>  In any ALT Linux distribution, a significant number of programs are available (up to several thousand), some of which constitute the operating system itself, and the rest are application programs and utilities. <br><br>  In the Linux operating system, all installation and removal operations are performed on packages ‚Äî individual components of the system.  A package and a program correspond ambiguously: sometimes one program consists of several packages, sometimes one package includes several programs. <br><br>  During the installation of the system, a detailed selection of components at the package level is usually not required - this requires too much time and knowledge from the installer.  Moreover, the distribution kit is selected in such a way that it is possible to create a complete working environment for the corresponding audience of users from the available programs.  Therefore, in the process of installing the system, the user is asked to select from a small list of groups of packages that combine the packages necessary to solve the most common tasks.  Under the list of groups on the screen displays information about the amount of disk space that will be occupied after the installation of packages included in the selected groups. <br><br>  After selecting the necessary groups, click <b>‚ÄúNext‚Äù</b> , after which the installation of packages will begin. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/15e/802/212/15e80221233e45a4a29ceaeaabcdc3d6.png"></div><br><br>  At this stage, the installation of a set of programs necessary for the operation of the system. <br>  Installation takes place automatically in two steps: <br><ul><li>  receiving packages; </li><li>  package installation. </li></ul><br>  Packages are received from the source selected during the initial boot phase.  With a network installation (via FTP or HTTP), the execution time of this step will depend on the connection speed and may be much longer compared to the installation from the laser disk. <br>  The waiting time for the end of the installation process can be devoted to reading the manual. <br><br><h2>  Saving settings </h2><br><div style="text-align:center;"><img src="https://habrastorage.org/files/c30/af8/457/c30af8457f9d42aa8526f778e3e09d8a.png"></div><br><br>  After the installation of the base system is complete, the save settings step begins.  It passes automatically and does not require user intervention.  A progress bar is displayed on the screen. <br><br>  At this step, the settings made during the first installation steps are transferred.  Information on the correspondence of partitions of the hard disk to the file systems mounted on them is recorded in the newly installed base system.  The repository on the laser installation disk is added to the list of available software package sources. <br><br>  After saving the settings, the system proceeds automatically to the next step. <br><br><h2>  Install the bootloader </h2><br><div style="text-align:center;"><img src="https://habrastorage.org/files/ce3/fbf/d78/ce3fbfd78cd3477d9b0771d106507236.png"></div><br><br>  The Linux loader is a program that allows you to boot Linux and other operating systems.  If only Linux is installed on your computer, then there is no need to change anything, just click <b>‚ÄúNext‚Äù</b> . <br>  If you plan to use other operating systems already installed on this computer, then it matters what hard drive or partition in which the boot loader will be located.  In most cases, the installer itself correctly selects the location of the bootloader.  You can specify the location yourself, or not install the proposed bootloader at all if, for example, you already use some third-party bootloader. <br><br><h2>  Network configuration </h2><br><div style="text-align:center;"><img src="https://habrastorage.org/files/1d8/1b1/840/1d81b1840cc5440db2609dacd12091a5.png"></div><br><br>  At this stage, you must specify the network configuration parameters: IP addresses of network interfaces, DNS server, gateway, etc.  The specific values ‚Äã‚Äãwill depend on your network environment.  Manual configuration can be avoided if there is a configured DHCP server on your network.  In this case, all necessary network settings will be obtained automatically. <br><br><h2>  System administrator </h2><br>  Linux is a multi-user system.  In practice, this means that you need to register to work in the system, i.e.  make it clear to the system who exactly is behind the monitor and keyboard.  The most common way to register today is to use system names (login name) and passwords (password).  This is a reliable means of confirming that the one who needs is working with the system.  Users are encouraged to create fairly complex, not too short passwords and keep them secret. <br>  When typing the password instead of the characters on the screen are highlighted asterisks.  To avoid typos when entering a password, it is suggested to enter it twice.  You can use the automatic password creation by selecting <b>"Create automatically"</b> .  You will be offered a randomly generated and fairly reliable password option.  You can accept the automatically generated password (do not forget to remember the password!) Or request another version of the password using the <b>‚ÄúGenerate‚Äù</b> button. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/c5a/ec8/11f/c5aec811f5a944bc87d124aa84f36896.png"></div><br><br>  On any Linux system there is always one special user - the system administrator, who is also the superuser.  A standard system name, root, is reserved for it. <br><br>  The system administrator is different from all other users in that he is allowed to make any, including the most destructive changes in the system.  Therefore, the choice of the system administrator password is a very important moment for security.  Anyone who can enter it correctly (find out or pick up) will get unlimited access to the system.  Even your own careless actions on behalf of root can be disastrous for the entire system. <br><br>  <i><b>Ps</b> .</i>  <i>It is worth remembering the root password - you will need to enter it to get the right to change system settings using standard ALT Linux configuration tools.</i> <br><br><h2>  System user </h2><br><div style="text-align:center;"><img src="https://habrastorage.org/files/cb0/840/279/cb08402794e64bef9df6e3527344c3a3.png"></div><br><br>  In addition to the administrator (root), you must add at least one regular system user to the system.  Working on behalf of a system administrator is considered dangerous, so daily work in Linux should be performed on behalf of a system user who is limited in authority. <br><br>  When adding a system user, you are prompted to enter the name of the user account.  The account name is always one word, consisting only of lowercase Latin letters (uppercase letters are prohibited), numbers and the underscore character ‚Äú_‚Äù (and the number and symbol ‚Äú_‚Äù cannot stand at the beginning of a word). <br><br>  In order to eliminate typos, the user password is entered twice.  The user password can be created automatically, similar to the automatic creation of the superuser password. <br><br>  During the installation process, it is proposed to create only one system user account ‚Äî on its behalf, you can perform tasks that do not require superuser privileges. <br><br>  Accounts for all other users of the system can be created at any time after installing the operating system. <br><br><h2>  Installation completion </h2><br><div style="text-align:center;"><img src="https://habrastorage.org/files/ff4/dc5/611/ff4dc561106e4c31af98024584394857.png"></div><br><br>  The screen for the last installation step displays information about the completion of the installation.  This information may contain important notes on the use of the distribution.  After clicking the <b>"Finish"</b> button, the computer restarts.  Do not forget to extract the installation DVD (if this does not happen automatically).  Then you can boot the installed system in normal mode. <br><br><h2>  First aid </h2><br>  In case of any troubles, do not panic, but calmly make out the situation.  Linux is not so easy to bring to the complete inoperability and loss of valuable data.  Hasty actions of a desperate user can lead to disastrous results.  Remember that there is a solution and it will definitely be there! <br><br><h2>  Problems installing the system </h2><br>  If the system did not configure any component after the package installation stage, do not despair, finish the installation, boot into the system and try to repeat the setting in a calm atmosphere. <br>  In case of problems with the installation, you can manually set the necessary parameters in the <b>boot parameters</b> row of the bootloader menu: <br><ul><li>  xdriver - a graphical installer attempts to automatically select a video card driver, but sometimes it fails.  This parameter can turn off the "artificial intelligence" and explicitly specify the desired driver version; </li><li>  instdebug - if this parameter is present, the shell will be launched before launch and after the completion of the graphical installer.  This is a very useful tool for identifying the reasons for not running the graphical part of the installer.  The sequence of internal scripts is as follows: install2 ‚Üí xinit ‚Üí alterator-install2 ‚Üí alterator-wizard.  If necessary, you can manually download Xorg (xinit command) and in the terminal window that opens, run alterator-install2 (or alterator-wizard) manually. </li></ul><br>  If you could not install the system at all (the package installation stage did not occur or did not complete), then first try to try again in <b>Installation</b> mode <b>in safe mode</b> .  You may have some new or non-standard equipment, but it may turn out that it is perfectly tuned with the old drivers.  In any case, you can always report your problems to us: <br><ul><li>  to mailing lists (http://lists.altlinux.org/); </li><li>  Technical support (http://www.altlinux.ru/support); </li><li>  to the forum (http://forum.altlinux.org/). </li></ul><br>  If you want to get an exact answer, please provide a detailed list of your equipment and a detailed description of the problem. <br><br><h2>  Configuring Alt Linux SPT 6.0 </h2><br>  After Alt Linux is installed, work with it is not completed yet.  Before installing the VipNet Coordinator, you need to update the kernel, modules and several applications.  Therefore, launch Alt Linux, connect the Internet and start setting / updating. <br><br>  To update the modules provided package manager <b>Synaptic</b> . <br><br><h2>  Synaptic Package Manager </h2><br>  To start the Synaptic package manager, start the terminal on behalf of the superuser, for this, on the top panel of the operating system, click the menu item <b>‚ÄúApplications‚Äù</b> -&gt; <b>‚ÄúStandard‚Äù</b> -&gt; <b>‚ÄúRoot Terminal‚Äù</b> . <br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/c05/808/c3f/c05808c3fe814891b448cd22f20901a8.png"></div><br><br>  When starting the terminal on behalf of the superuser, the system will ask you to enter its password, enter the password set for the superuser (System Administrator) during the installation of the Alt Linux OS. <br>  In the terminal, enter the command to enable the superuser mode: <br><blockquote>  <b>su-</b> </blockquote><br>  Next, we will update the modules and kernel of the OS in order to better navigate, enter the command to determine the kernel version of your OS: <br><blockquote>  <b>uname ‚Äìr</b> </blockquote><br>  After entering the command, you will see information about the installed kernel. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/760/c07/89e/760c0789ea1e43e1ba7670c2bca1408f.png"></div><br><br>  After installing Alt Linux, I had a <b>2.6.32-el-smp</b> -alt42.M60C.1 kernel <br><br>  Then enter the Synaptic package manager start command: <br><blockquote>  <b>synaptic</b> </blockquote><br>  The Synaptic Package Manager opens. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/1c8/d2f/9e4/1c8d2f9e459a45c6bd86132a20ad6b54.png"></div><br><br><h2>  Enable Repositories </h2><br>  In order to update the packages we need, you must enable repositories.  To do this, in the Synaptic package manager menu, click <b>‚ÄúOptions‚Äù</b> -&gt; <b>‚ÄúRepositories‚Äù</b> .  We only need the Atl Linux server ftp.  Tick ‚Äã‚Äãthe following repositories: <br><ul><li>  <a href="">ftp.altlinux.org/pub/distributions/ALTLinux/Linux/cert6</a> - The <b>i586</b> distribution; </li><li>  <a href="">ftp.altlinux.org/pub/distributions/ALTLinux/Linux/cert6</a> - The <a href="">noarch</a> distribution. </li></ul><br>  Then click <b>"OK"</b> . <br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/869/adf/50a/869adf50aa964a158ff39334e94351e2.png"></div><br><br>  To update the list of packages from the added repositories, in the main window of the Synaptic package manager, click the <b>"Get Details"</b> button. <br><br><h2>  Module Updates / Kernel Updates </h2><br>  The list of required modules for updating: <br><ul><li>  kernel-image-std-def # 1: 3.0.26-alt0.M60P.1 </li><li>  gcc4.5 </li><li>  glibc-devel </li><li>  kernel-headers-modules-std-def </li><li>  glibc </li><li>  kernel-headers-std-def </li><li>  kernel-headers-common </li><li>  glibc-kernheaders </li><li>  kernel-source-3.0 </li></ul><br>  To reduce the time to search for the necessary components, use the search.  After you find the first package, step on it and click on the ‚ÄúMark for update‚Äù button on the panel, then go on to search for the next package.  After you have checked all the packages listed in the list, click on the ‚ÄúApply‚Äù button on the panel, the packages will start loading.  After downloading the package manager will ask for permission to install the modules, agree. <br>  After successful installation of all packages, check again in the list of modules whether they are all installed.  For final completion, click on the "Retrieve" button a couple of times; if the update no longer occurs, you can restart the OS, the Alt Linux configuration is complete. <br><br><h2>  Alt Linux boot with new kernel </h2><br>  After updating the packages / modules, restart the gateway, when you start the OS, select Alt Linux with the updated kernel (in this case, the new kernel std-def 3.0). <br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/c1e/17e/819/c1e17e819b1a4a569365b07ff8729fe5.png"></div><br><br><h2>  VipNet Coordinator (Linux) </h2><br>       VipNet Coordinator (Linux),    3.7,       <a href="http:// ">InfoTeCS</a> . <br><br><h2>    </h2><br>  ViPNet Coordinator      (/home), , <b>¬´DISTRIB¬ª</b> .  Since      ¬´installer¬ª,      /home/installer/DISTRIB/.      ,    -  <b>¬´*.dst¬ª</b> . <br><br><h2>  VipNet Coordinator </h2><br>          DISTRIB/distribute.       : <br><blockquote> <b>cd /home/installer/DISTRIB/distribute</b> </blockquote><br>   : <br><blockquote> <b>ll</b> </blockquote><br><br><div class="spoiler"> <b class="spoiler_title">  </b> <div class="spoiler_text"> [root@coord1 distribute]# ll <br>  17228 <br> drwxr-xr-x 4 installer installer 4096  24 14:30 ../ <br> drwxr-xr-x 2 installer installer 4096  24 14:30 patch/ <br> drwxr-xr-x 4 installer installer 4096  24 14:30 ./ <br> -rw-r--r-- 1 installer installer 17546378  24 14:30 distribute.tar.gz <br> drwxr-xr-x 2 installer installer 4096  24 14:30 doc/ <br> -rw-r--r-- 1 installer installer 5214  24 14:30 license.txt <br> -rw-r--r-- 1 installer installer 778  24 14:30 warning.txt <br> -rw-r--r-- 1 installer installer 28372  24 14:30 install.sh <br> -rw-r--r-- 1 installer installer 248  24 14:30 version <br> -rw-r--r-- 1 installer installer 20  24 14:30 noanswer <br> -rw-r--r-- 1 installer installer 27658  24 14:30 install.cf <br></div></div><br>  ¬´install.sh¬ª     ,    ,  : <br><blockquote> <b>chmod 755 install.sh</b> </blockquote><br>        : <br><br><blockquote> <b>chown ‚ÄìR root /home/installer/DISTRIB/distribute/*</b> </blockquote><br>       : <br><br><div class="spoiler"> <b class="spoiler_title">  </b> <div class="spoiler_text"> [root@coord1 distribute]# ll <br>  17244 <br> -rw-r--r-- 1 root root 15204  24 15:24 abn_0001.dst <br> -rw-r--r-- 1 root installer 17546378  24 15:24 distribute.tar.gz <br> drwxr-xr-x 2 root installer 4096  24 15:24 doc/ <br> -rw-r--r-- 1 root installer 27658  24 15:24 install.cf <br> -rw-r--r-- 1 root installer 28372  24 15:24 install.sh <br> -rw-r--r-- 1 root installer 5214  24 15:24 license.txt <br> -rw-r--r-- 1 root installer 20  24 15:24 noanswer <br> drwxr-xr-x 2 root installer 4096  24 15:24 patch/ <br> -rw-r--r-- 1 root installer 248  24 15:24 version <br> -rw-r--r-- 1 root installer 778  24 15:24 warning.txt <br> drwxr-xr-x 4 installer installer 4096  24 15:02 ./ <br> drwxr-xr-x 4 installer installer 4096  24 14:30 ../ <br></div></div><br>       VipNet Coordinator. <br>   : <br><blockquote> <b>./install.sh</b> </blockquote><br> C     ,      : <br><ol><li>    (    ); </li><li>      . </li></ol><br>   .      ENTER    ,  ENTER       . <br><br>          ,   <b>¬´y¬ª</b> . <br><br>                        , ,  ,  <b>¬´y¬ª</b> . <br><br>                 dst     ,  , . .      .  1, . .   dst . <br><br>      ,    ENTER      ,   /etc/vipnet/,      . <br><br>         .     UsersPass.txt   ¬´ ¬ª,   UsersPass.txt   ,   .  . <br><br>           ,  <b>¬´y¬ª</b> . <br>    ,   . <br><br>       : <br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/d5e/60c/8ef/d5e60c8efda744139764b2e5eeee3e49.png"></div><br><br>       : <br><br><blockquote> <b>Iplir check</b> </blockquote><br><blockquote> <b>mftp check</b> </blockquote><br><br>        ,      PID     : <br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/06d/c9a/d9e/06dc9ad9e0fa41fcb4bab3a7fb69c9d4.png"></div><br><br>      ,  VipNet Coordinator  . <br><br><h2>  VipNet Coordinator </h2><br>      <abbr title="   ¬´  ¬ª"> </abbr>  <abbr title="   ¬´     ¬ª"> </abbr>    . <br><br><h2>   ¬´   ¬ª </h2><br>             . <br>    ViPNet Coordinator Linux       <b>iplir.conf</b>  : <br><ul><li>    <b>[id]</b>   <b>usefirewall</b>   <b>on</b> . </li><li>    <b>[id]</b>   <b>port</b>     <b>1-65535</b> ( 55777),     . </li><li>   <b>[adapter]</b> ,   ,       ,   <b>type</b>   <b>external</b> . </li><li>   <b>[dynamic]</b>   <b>dynamic_proxy</b>   <b>on</b> . </li><li>   <b>[dynamic]</b>   <b>forward_id</b>   <b>id</b>      .    ,      . </li></ul><br><br>        VipNet Coordinator  : <br><br><blockquote> <b>Iplir stop</b> </blockquote><br><br> <i><b>PS</b>    ,     .</i> <br><br>  <b>Iplir.conf</b>     .                <b>Midnight Commander</b> .     : <br><br><blockquote> <b>mc</b> </blockquote><br>    Midnight ommander.           ,      <b>Ctrl+O</b> . <br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/87d/614/934/87d61493404e4bfdb67c36f98f0a4d25.png"></div><br><br>  <b>Iplir.conf</b>   : <b>etc/vipnet/user</b> . <br>   <b>Iplir.conf</b>  F4        .        : <br><br><div class="spoiler"> <b class="spoiler_title">  iplir.conf</b> <div class="spoiler_text"> [id] <br> id= 0x099a0e10 <br> name= APS2 id_****** <br> filterdefault= pass <br> ip= 192.168.122.1 <br> tunnel= 193.169.176.116-193.169.176.119 to 193.169.176.116-193.169.176.119 <br> firewallip= 192.168.122.1 <br> port= 55777 <br> proxyid= 0x099a0e10 <br> usefirewall= on <br> fixfirewall= off <br> virtualip= 10.0.0.1 <br> version= 3.0-670 <br><br> [id] <br> id= 0xffffffff <br> name= Encrypted broadcasts <br> filterdefault= drop <br> filterudp= 137, 137, pass, any <br> filterudp= 138, 138, pass, any <br> filterudp= 68, 67, pass, any <br> filterudp= 67, 68, pass, any, disable <br> filterudp= 2046, 0-65535, pass, recv <br> filterudp= 2046, 2046, pass, send <br> filterudp= 2048, 0-65535, pass, recv <br> filterudp= 2050, 0-65535, pass, recv <br> filterudp= 2050, 2050, pass, send <br><br> [id] <br> id= 0xfffffffe <br> name= Main Filter <br> filterdefault= pass <br><br> [id] <br> id= 0x099a000b <br> name= AP Administrator <br> filterdefault= pass <br> ip= 10.0.4.246 <br> accessip= 10.0.0.2 <br> firewallip= 10.0.4.245 <br> port= 55777 <br> proxyid= 0x099a000a <br> dynamic_timeout= 0 <br> usefirewall= on <br> always_use_server= on <br> virtualip= 10.0.0.2 <br> version= 3.2-672 <br><br> [id] <br> id= 0x099a066d <br> name= CM Failover2 <br> filterdefault= pass <br> ip= 85.143.100.25 <br> ip= 10.0.4.242 <br> ip= 169.254.241.1 <br> ip= 192.168.0.1 <br> accessip= 10.0.0.3 <br> tunnel= 10.0.3.1-10.0.3.1 to 10.0.3.1-10.0.3.1 <br> firewallip= 85.143.100.25 <br> port= 55777 <br> proxyid= 0x099a066d <br> dynamic_timeout= 0 <br> usefirewall= on <br> virtualip= 10.0.0.3 <br> version= 3.0-670 <br><br> [id] <br> id= 0x0e18000a <br> name= CM-OBRNADZOR-HW-1 3608 <br> filterdefault= pass <br> ip= 192.168.0.121 <br> ip= 10.3.54.101 <br> accessip= 10.0.0.4 <br> tunnel= 10.3.54.15-10.3.54.15 to 10.3.54.15-10.3.54.15 <br> firewallip= 62.76.166.101 <br> port= 55777 <br> proxyid= 0xfffffffe <br> dynamic_timeout= 0 <br> usefirewall= on <br> virtualip= 10.0.0.4 <br> version= 3.0-670 <br><br> [id] <br> id= 0x0e18000d <br> name= AP-Admin3608 3608 <br> filterdefault= pass <br> accessip= 0.0.0.0 <br> port= 55777 <br> dynamic_timeout= 0 <br> usefirewall= on <br> virtualip= 10.0.0.5 <br><br> [adapter] <br> name= eth0 <br> allowtraffic= on <br> type= external <br><br> [adapter] <br> name= virbr0 <br> ip= 192.168.122.1 <br> allowtraffic= on <br> type= internal <br><br> [dynamic] <br> dynamic_proxy= on <br> firewallip= 192.168.122.1 <br> port= 32466 <br> forward_id= 0x099a066d <br> always_use_server= off <br> timeout= 25 <br><br> [misc] <br> packettype= 4.1 <br> timediff= 7200 <br> warnoldautosave= on <br> client_pollinterval= 300 <br> server_pollinterval= 900 <br> iparponly= off <br> ifcheck_timeout= 30 <br> ipforwarding= on <br> iscaggregate= on <br> ompnumthreads= 1 <br> mssdecrease= 0 <br> ciphertype= gost <br><br> [debug] <br> debuglevel= 3 <br> debuglogfile= file:/var/log/iplircfg.debug.log <br><br> [servers] <br> server= 0x099a066d, CM Failover2 <br> server= 0x0e18000a, CM-OBRNADZOR-HW-1 3608 <br><br> [virtualip] <br> startvirtualip= 10.0.0.1 <br> endvirtualip= 10.0.0.6 <br> maxvirtualip= 10.0.254.254 <br>  ; Do not delete or change the following line!!! <br> startvirtualiphash= 0x18E80620 <br><br> [visibility] <br> default= auto <br><br></div></div><br><br>    ,  . <br><br><h2>    </h2><br>       ,      .    2 ,   .   4    <b>iplir.conf-eth0</b> .     : <b>etc/vipnet/user</b> . <br><br>      : <br><br><div class="spoiler"> <b class="spoiler_title">  iplir.conf-eth0</b> <div class="spoiler_text"> [mode] <br> mode= 2 <br><br> [db] <br> maxsize= 50 MBytes <br> timedif= 60 <br> registerall= off <br> registerbroadcast= off <br> registertcpserverport= off <br></div></div><br>   <b>[mode]</b>   <b>mode= 2</b>  <b>mode= 4</b> ,      . <br>    Vipnet : <br><blockquote> <b>Iplir start</b> </blockquote><br>     ,         . <br><br><h2>    </h2><br>      ,      ,           ,                ip-  : <br><ul><li> 192.168.xxx.xxx; </li><li> 172.16.xxx.xxx; </li><li>    10.1.xxx.xxx  10.255.xxx.xxx. </li></ul><br> Ip-     (   ). <br>       ip-,   ,     . <br><br><h2>     </h2><br>   ,     ,       ip-         . ,        <b>Iplir.config</b> . <br>    <b>[id]</b>    <b>tunnel</b>    ip-. <br>   : <br><div class="spoiler"> <b class="spoiler_title">  iplir.conf  </b> <div class="spoiler_text"> [id] <br> id= 0x099a0e10 <br> name= APS2 id_***** <br> filterdefault= pass <br> ip= 192.168.122.1 <br> tunnel= 193.169.176.116-193.169.176.119 to 193.169.176.116-193.169.176.119 <br> firewallip= 192.168.122.1 <br> port= 55777 <br> proxyid= 0x099a0e10 <br> usefirewall= on <br> fixfirewall= off <br> virtualip= 10.0.0.1 <br> version= 3.0-670 <br></div></div><br><br>   : <br><div class="spoiler"> <b class="spoiler_title">  iplir.conf  </b> <div class="spoiler_text"> [id] <br> id= 0x099a0e10 <br> name= APS2 id_***** <br> filterdefault= pass <br> ip= 192.168.122.1 <br> tunnel= 193.169.176.116-193.169.176.119 to 193.169.176.116-193.169.176.119 <br> tunnel= 192.168.xxx.xxx <br> tunnel= 172.16.xxx.xxx <br> tunnel= 10.1.xxx.xxx <br> firewallip= 192.168.122.1 <br> port= 55777 <br> proxyid= 0x099a0e10 <br> usefirewall= on <br> fixfirewall= off <br> virtualip= 10.0.0.1 <br> version= 3.0-670 <br></div></div><br><br><h2>    </h2><br>          .                 ip- '    .     ip- '    : <br><blockquote> <b>ifconfig</b> </blockquote><br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/e8b/e2c/a89/e8be2ca898ec409dbe2566dda4e148e1.png"></div><br><br>  ,    ,     eth0, ip-      inet addr. <br><br>      ,     VPN .     IE      ‚Äì 10.0.3.1    ‚Äì 10.3.54.15.    ,     .           ,        . <br><br><h2>   </h2><br>           : <br><br><blockquote> <b>Iplir view</b> </blockquote><br><br>   <b>¬´Enter¬ª</b> .         ,    . <br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/f50/b17/e4d/f50b17e4dd7a46e6a6f1de35f851ae7b.png"></div><br><br>    ip-  ,      ,       ip-. <br><br><h2>   </h2><br>                    ,    .       <b>firewall.conf</b> . <br>   <b>[forward]</b>     c  ip-, : <br><div class="spoiler"> <b class="spoiler_title"> </b> <div class="spoiler_text"> rule= proto any from 172.16.xxx.xxx to any pass <br> rule= proto any from 192.168.xxx.xxx to any pass <br> rule= proto any from 10.1.xxx.xxx to any pass <br> rule= proto any from 10.255.xxx.xxx to any pass <br></div></div><br><br>          ,    ,              ip-   .              . <br><br><h2>   </h2><br>   ,     Linux  ,               , ..  .       Linux.   : <br><ul><li> Ctrl+O ‚Äì /  ; </li><li> Alt+F1 ‚Äì   ; </li><li> Ctrl+Q ‚Äì   ; </li><li> Ctrl+T ‚Äì    ; </li><li> F10 ‚Äì  ; </li><li> F11 ‚Äì    . </li></ul><br><br><h1>  Sources used </h1><br> 1. Wiki  Alt Linux ‚Äî <a href="http://www.altlinux.org/">www.altlinux.org</a> <br> 2.  InfoTeCS ‚Äî <a href="http://www.infotecs.ru/forum">www.infotecs.ru/forum</a> <br> 3.   VipNet Coordinator Linux ‚Äî <a href="">files.infotecs.ru/_dl/sess/vipnet_coordinator_linux/docs/ViPNet_Coordinator_Linux_docs.zip</a> <br> 4.   Google ‚Äî <a href="https://www.google.ru/">www.google.ru</a> <br> 5. ! </habracut></div><p>Source: <a href="https://habr.com/ru/post/260413/">https://habr.com/ru/post/260413/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../260397/index.html">SQA Days-17: with the best memories - to the next conference</a></li>
<li><a href="../260403/index.html">The main thing is to sit shoe. How 3D-technology helps to choose shoes by foot</a></li>
<li><a href="../260407/index.html">Experience using Object Change Notification in Oracle</a></li>
<li><a href="../260409/index.html">Sale of books at a discount of 50% and 30%</a></li>
<li><a href="../260411/index.html">Transformice story: indie game with 60 million users</a></li>
<li><a href="../260415/index.html">Tale of how we supported the domestic manufacturer</a></li>
<li><a href="../260417/index.html">Compile and decompile try-with-resources</a></li>
<li><a href="../260419/index.html">ECP and process management API</a></li>
<li><a href="../260425/index.html">Tin - the basis of circuitry in your home</a></li>
<li><a href="../260427/index.html">Prototypes are objects (and why this is important)</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>