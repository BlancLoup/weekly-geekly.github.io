<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Self-documenting code is (usually) nonsense</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hello! 

 Anticipating today's translated publication, we immediately note that this text is intended as a follow-up to the recent discussion material...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Self-documenting code is (usually) nonsense</h1><div class="post__text post__text-html js-mediator-article">  Hello! <br><br>  Anticipating today's translated publication, we immediately note that this text is intended as a follow-up to the recent discussion material " <a href="https://habr.com/ru/company/piter/blog/458990/">Stop zealous with comments in the code</a> ."  We were so impressed by the discussion that took place there and by 189 comments as of 07/19/2019, that we decided to give the floor to another author from the Medium portal (Christopher Lane), who, on almost all matters of principle, contributes to the theses of the first article.  Note that in the original this article came out a month later than the previous one (May 16 and June 16), but gathered almost half the applause (706 vs. 1.5K at the time of publication of the translation).  Let's see what will be on Habr√© ... <br><br><img src="https://habrastorage.org/webt/2h/q5/1n/2hq51npshnexh7zdl8nlr6voz7w.jpeg">
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Photo taken from <a href="https://www.pexels.com/%40rawpixel%3Futm_content%3DattributionCopyText%26utm_medium%3Dreferral%26utm_source%3Dpexels%26source%3Dpost_page---------------------------">rawpixels.com</a> by <a href="https://www.pexels.com/photo/person-holding-pen-point-on-blueprint-1537008/%3Futm_content%3DattributionCopyText%26utm_medium%3Dreferral%26utm_source%3Dpexels%26source%3Dpost_page---------------------------">Pexels</a> <br><a name="habracut"></a><br>  I carefully read <a href="https://medium.com/%40cindyscheung/pleeeeaase-explain-your-code-e1fdfdf19566">Cindy Cheung</a> 's excellent <a href="https://medium.com/%40cindyscheung/pleeeeaase-explain-your-code-e1fdfdf19566">article</a> on technical documentation and why developers should better explain their own code ‚Äî and I must say that I fully agree with it. <br><br>  I‚Äôve been fucking long at this your IT, and my experience suggests that there is such a self-deception in our business that developers and engineers simply cannot resist. <br><blockquote>  My code is self-documenting - erroneous developer </blockquote>  In theory, the code of a good engineer should be so clear and readable that he simply does not need any documentation. <br><br>  You know, this is nonsense ... as a rule. <br><br><h3>  Why is the ‚Äúself-documenting code‚Äù nonsense? </h3><br>  Suppose you write code as coolly as <a href="https://habr.com/ru/company/piter/blog/275245/">Hemingway wrote prose</a> .  Perhaps your super-duper code is clean and straightforward (to another developer).  In the end, this code is written by a techie for a techie, and no matter how clean and concise your code may seem, it is still not meant to be read by non-programmers who might grumble: ‚Äúwhat the hell is all this mean ?! <br><br>  Why do I think that self-documenting code is complete nonsense?  Let me put it in detail. <br><br>  <b>Reason 1: The programming is full of all sorts of tricks that are not self-documented.</b> <br><br>  Just because most people, including developers, are not machines.  Yes, most likely I‚Äôll go through your code, understand correctly the names of your methods and classes, even understand exactly what you are doing in each method. <br><br>  But code is written for machines.  They understand much better what to do with it, and it is in order to describe it to them that we have programming languages.  With people, you need to communicate in a more human language so that the person can understand what your software does. <br><br>  There is a very big difference between ‚ÄúI read the code and see what happens in it‚Äù and the documentation.  In the code, you can write down with all the details what is being done in it, but is it possible in that case to call it ‚Äúself-documenting‚Äù?  I think everyone understands that it is impossible. <br><br>  Consider the following simple C # blob.  I read the file, get its contents, and then get the file encoding using StreamReader. <br><br><pre><code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> fileContents = ‚Äú‚Äù; Encoding fileEncoding; <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">var</span></span> reader = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> StreamReader(filePath, Encoding.Default, <span class="hljs-literal"><span class="hljs-literal">true</span></span>)) { reader.Peek(); fileEncoding = reader.CurrentEncoding; fileContents = reader.ReadToEnd(); }</code> </pre> <br>  If you abstract from possible ambiguities with StreamReader, otherwise this code is quite simple, right?  Then ... have mercy, and what is being done in this line? <br><br><pre> <code class="cs hljs">reader.Peek();</code> </pre> <br>  It turns out that the reader must perform this action to get the file encoding.  Tell me, where is the self-documentation?  But it is enough to spend some 10 seconds to make the code much clearer. <br><br><pre> <code class="cs hljs">reader.Peek(); <span class="hljs-comment"><span class="hljs-comment">//     ,    .</span></span></code> </pre> <br>  This is just one example, and, damn simple.  As your code becomes more complicated, such small details begin to emerge everywhere and gradually litter the once clean code.  The person who will read it is becoming increasingly difficult to grasp what is happening in the code. <br><br>  <b>Reason 2: Complexity is not self-documenting in its essence.</b> <br><br>  If you have been able to write BASH or BAT files, then you know that the actions outlined in such a file are performed sequentially.  One task after another.  The file resembles a short story, which is read from the first to the last line. <br><br>  However, if you are writing a program, and especially a web application, such a consistent history will not be there, except for the code for initial loading and configuration of all web services. <br><br>  The classes themselves, which constitute a modern web application, are not executed sequentially.  In essence, they are a collection of web or API controllers that are called during the interaction of a client with a web application.  Each web or API controller can provide execution threads for which new processes are branched off, messages are sent to other services, responses are expected, so that the web hooks of the listeners will work according to their results.  Nothing can hardly be described in a ‚Äúplot‚Äù format.  From all your ‚Äúself-documenting code‚Äù, a novice or non-programmer will only extract ‚Äúit seems, I understand what is happening here.‚Äù  Again, hardly anyone will dare to trust such ‚Äúdocumentation‚Äù. <br><br>  The more complex your application, the higher the likelihood that its classes, methods, and the entire framework will not work in sequential mode.  Assuming that anyone who encounters such an application easily understands from the code what is happening in it, you are entering an increasingly slippery path. <br><br>  <b>Reason 3: The syntax of programming languages ‚Äã‚Äãin principle can not be called readable</b> <br><br>  Just take a look at this jquery function, the calling endpoint API. <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> myURL=<span class="hljs-string"><span class="hljs-string">"https://some.url/path?access_token=my_token"</span></span>; $.ajax({ <span class="hljs-attr"><span class="hljs-attr">url</span></span>: myURL+<span class="hljs-string"><span class="hljs-string">"&amp;callback=?"</span></span>, <span class="hljs-attr"><span class="hljs-attr">data</span></span>: <span class="hljs-string"><span class="hljs-string">"message="</span></span>+someOtherData, <span class="hljs-attr"><span class="hljs-attr">type</span></span>: <span class="hljs-string"><span class="hljs-string">'POST'</span></span>, <span class="hljs-attr"><span class="hljs-attr">success</span></span>: <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">resp</span></span></span><span class="hljs-function">) </span></span>{ alert(resp); }, <span class="hljs-attr"><span class="hljs-attr">error</span></span>: <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">e</span></span></span><span class="hljs-function">) </span></span>{ alert(<span class="hljs-string"><span class="hljs-string">'Error: '</span></span>+e); } });</code> </pre> <br>  Phew ... <br><br>  No, I do not want to say that there is something wrong with the syntax.  Everything is perfectly acceptable for calling jquery.  But I emphasize that if you look at it through the eyes of a novice or non-programmer programmer, then this listing may well turn out to be no more understandable to him than bytecode.  There will be no more meaning in it. <br><br>  Syntactically, programming languages ‚Äã‚Äãare designed so that they can actively use the restrictions defined by the language itself, as well as useful shortcuts that help keep the code compact and easily change it as needed.  A programming language does not conceive of as a uniquely reliable means of communication, in which everyone will understand.  It is designed for professionals who know the language itself, its syntax and shortcuts. <br><br>  For all others, the programming language is incomprehensible. <br><br>  <b>What to do?</b> <br><br>  There are some tricks that you can use to help non-specialists understand your code. <br><br><h3>  Stage 1: Try to write documentation </h3><br>  Blasphemous sounds, right?  Write documentation ?!  Nothing funnier you could think of! <br><br>  Seriously, no one requires you to write "War and Peace."  But try to describe in the technical documentation the main actions, validation and error handling - a simple consistent style. <br><br><ul><li>  The client calls the endpoint API <code>/someurl/object/{id}</code> </li><li>  The API controller uses <code>{id}</code> (of type <code>int</code> ) to find the desired object in the database. </li><li>  If the object returns <code>null</code> , the API controller issues an HTTP 404 response to the client (file not found).  The API controller logs this as a warning. </li><li>  If the returned object is <code>NOT null</code> , then the API controller converts this object to JSON format and returns it to the caller with an HTTP response of 200 (OK). </li></ul><br>  It is hardly difficult to do, but by writing such documentation you will make life easier for someone.  If selfish motivation is closer to you, think about it: if every time you are asked for help and explanations, you can simply point them to the documentation and not interpret the same things over and over again. <br><br><h3>  Stage 2: Draw Schemes </h3><br>  If you write simple documentation for you all the same difficult, then at least try to draw the most necessary schemes, as they often serve as the very ‚Äúglue‚Äù that helps a person from the outside to correlate your code with what is happening in it. <br>  Check out <a href="https://www.websequencediagrams.com/%3Fsource%3Dpost_page---------------------------">websequencediagrams</a> , where you can write excellent sequence diagrams in a simple text format ‚Äî and then create them. <br><br>  <i>Text</i> <br><br><pre> <code class="plaintext hljs">title Service one to service two Service two requester -&gt; Service two http client: Get Contract Service two http client -&gt; Service one REST API: GET /api/contracts/{123} Service one REST API -&gt; Service one app logic: get Contract with id 123 Service one app logic -&gt; Service one REST API: Contract Service one REST API -&gt; Service one REST API: Serialise to JSON / XML / etc. Service one REST API -&gt; Service two http client: Serialised data Service two http client -&gt; Service two http client : Deserialise to Contract Service two http client -&gt; Service two requester: Contract</code> </pre> <br>  The diagram that comes out of it <br><br><img src="https://habrastorage.org/webt/fi/nz/pu/finzpueor8-zuqa93ee4uxb7gss.png"><br><br>  Handsomely! <br><br>  The phrase that a picture is worth a thousand words is true, however.  Such diagrams and flowcharts will help a non-programmer understand the behavior of your application, and for this he will only need to carefully examine the picture.  Colleagues will appreciate it, and from your side it will be a small investment in a common cause. <br><br><h3>  Step 3: Name your classes and activities in the Unified Language (Ubiquitous Language) </h3><br>  As you know, the <a href="https://habr.com/ru/post/232881/">Unified Language</a> is a concept from DDD (subject-oriented design), where the team and users are required to develop a language that would describe all classes and their interactions.  Such a language is understandable to a non-expert, so customers, testers, instructors and business representatives will be able to read and understand what exactly our program does and how it solves user problems in a given subject area. <br><br>  Once the Unified Language is consistent, you must ensure that all your classes, their methods, events, and everything else are named as close to the Unified Language as possible. <br><br><pre> <code class="cs hljs"><span class="hljs-comment"><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">///</span></span></span><span class="hljs-comment"> </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">&lt;summary&gt;</span></span></span><span class="hljs-comment"> </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">///</span></span></span><span class="hljs-comment">        /  ,            </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">///</span></span></span><span class="hljs-comment"> settings </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">///</span></span></span><span class="hljs-comment"> </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">&lt;/summary&gt;</span></span></span><span class="hljs-comment"> public interface ICustomer { Task</span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">&lt;AuthenticationResult&gt;</span></span></span><span class="hljs-comment"> Login(string username, EncryptedString password); Task Logout(); Task</span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">&lt;CustomerProfileInformation&gt;</span></span></span><span class="hljs-comment"> GetMyProfile(); Task SaveMyProfile(CustomerProfileInformation); Task</span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">&lt;CustomerSettings&gt;</span></span></span><span class="hljs-comment"> GetMySettings(); Task SaveMySettings(CustomerSettings);</span></span></code> </pre> <br>  Although it is just a code fragment, it is written above it in a simple and commonly understood language what is happening here. <br><br><h3>  Stage 4: Just Write Comments </h3><br>  If all of the above seems too burdensome to you - just provide your code with informative comments.  You may not need them right now (you are now immersed in the code with your head, everything is clear to you), but in the future they may be very useful to you. <br><br>  Just a few correctly spaced lines with comments, a comment to a class or method will be enough to make the code much clearer.  I do not urge you to comment on each line (this only makes the code more complicated).  Just comment with comments on the most difficult parts of the code so that the one who will go through it will understand where this code will lead him. <br><br>  I hope these tips will be useful to you. </div><p>Source: <a href="https://habr.com/ru/post/460725/">https://habr.com/ru/post/460725/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../460713/index.html">Application development on SwiftUI. Part 1: Data Flow and Redux</a></li>
<li><a href="../460717/index.html">Weekly news: tests of the OneWeb satellite network, Ilona Mask's neural interfaces and non-spyware electronic devices</a></li>
<li><a href="../46072/index.html">IMHO happy 3D :)</a></li>
<li><a href="../460721/index.html">Medium Weekly Digest (12 - 19 Jul 2019)</a></li>
<li><a href="../460723/index.html">NVIDIA Jetson Nano: Tests and First Impressions</a></li>
<li><a href="../460727/index.html">Simple text encryption - tuple of numbers, with complexity adjustment</a></li>
<li><a href="../460729/index.html">Pleasant and helpful in teaching</a></li>
<li><a href="../460731/index.html">US authorities completed an investigation into the accident robotovusa, which occurred in 2017</a></li>
<li><a href="../460735/index.html">CI \ CD for a startup: what tools are there, and why not only large and well-known companies use them</a></li>
<li><a href="../460737/index.html">Listen to the background: podcasts about project management</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>