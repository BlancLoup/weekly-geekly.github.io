<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Version control systems. Handbook for engineers, artists and writers</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hi, Habr. I decided to touch upon the topic that was exhausted in many articles, more specifically, to describe in many respects non-standard (I would...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Version control systems. Handbook for engineers, artists and writers</h1><div class="post__text post__text-html js-mediator-article">  Hi, Habr.  I decided to touch upon the topic that was exhausted in many articles, more specifically, to describe in many respects non-standard (I would say, disproportionate) use of version control systems (hereinafter - SCR).  Comrades, programmers, let's hide the rotten tomatoes and pass by, because this article is not for you.  Yes, all of you have already learned all the subtleties of Git, SVN, CVS, and you know many other clever words.  Let us, mere mortals, familiarize yourself with all the advantages of using hard currency. <br>  I invite everyone to get acquainted with hard currency as well as all those who, one way or another, deal with rapidly changing data. <br><a name="habracut"></a><br><h4>  Why do you need it </h4><br>  I myself am a student at a technical university and almost constantly work with documents (texts, drawings, drawings), changing them three (ten, one hundred) times a day.  Sometimes it turns out that edits made during the last week must be canceled and returned to documents in the state of a week ago.  Well, if the changes were made a little, in this case, can help fifty strokes on Ctrl + Z.  However, if during this week there was more or less active work with the document, it would be impossible to simply restore the status ‚Äúbefore an important revision made a week ago‚Äù.  This requires a copy of the document at the time of "before important edits", as well as a dozen more copies of "before another important edits", "before dubious edits" and "before edits, which most likely will have to be canceled."  In principle, this approach is possible and practiced by many.  Until recently, I myself kept important versions of files, preserving them with ‚Äúdate_time‚Äù prefixes, and, it seems, was pleased.  The advantage of this method is simplicity, the disadvantage is the ‚Äúswelling‚Äù of working folders and inconvenience of use.  And, if you can somehow fight the first of them (large hard disks and 7zip), then something had to be done with the inconvenience. <br><br><h4>  What can be done with this, or what is SLE </h4><br>  We tear out a paragraph from Wikipedia: ‚ÄúVersion control system (from the English. Version Control System, VCS or Revision Control System) - software to facilitate the work with changing information.  The version control system allows you to store multiple versions of the same document, if necessary, return to earlier versions, determine who made this or that change and when, and much more. ‚Äù  It looks like the principle of the work of Wikipedia itself - all versions of articles with all edits are available for study. <br>  Thus, using SCR in a situation where you need to store multiple versions of files is what you need.  The advantages of this approach include ease of use and savings in free disk space due to so-called delta compression (when not the files themselves are saved in different versions, but changes from version to version, which reduces the amount of stored data).  Let's try. <br><br><h4>  What are SLE </h4><br>  The same Wikipedia suggests that SLE can be centralized and distributed, large and small, with and without lotion.  We are not particularly interested in this, since we will use (at least, at first) only a part of the hard-ware functionality.  This is the most functional and consider. <br>  Almost all hard currency are a kind of storage in which all versions of the files with which we work are stored.  Here it is necessary to clarify that the versions of stored files are most often determined by the user.  We made, let's say, a dozen minor edits and decided that it was time to save the results of our activities in the repository.  An analogy with the periodic pressing of Ctrl + S comes to mind, with the only difference that this version of the file can be accessed in the future.  Naturally, in one fell swoop in this way you can add an arbitrarily large number of files to the version repository.  This action is called "commit", or "commit changes" in a simple way. <br>  At any time you can add a new file or delete an existing file to the repository (that is how the storage is cleverly called), and the hard currency will ‚Äúremember‚Äù when and what we added / deleted.  And thanks to the comments in commit'ah, you can also describe why the commit itself is executed (‚Äúadded a bauble to there‚Äù / ‚Äúremoved perhaps the necessary piece from there‚Äù). <br>  When we finally understand that it is time for us to return to the version of a week ago, we have the whole history of changes.  And here we can choose what to do.  If you need to copy the necessary piece from the old file and paste it into the current version, simply extract the old file from the storage and copy the necessary one from it.  If it is necessary to completely roll back and continue working with the old version, SLE comes to our rescue again - you can go back to the earlier version and create a so-called new branch (‚Äúbranch‚Äù), while retaining everything that we ‚Äúrefused‚Äù, rolling back to versions a week ago.  Thus, the project version history can be represented graphically in the form of a tree - from the ‚Äúroots‚Äù (the beginning of the project) to the ‚Äúbranches‚Äù (successful and unsuccessful edits).  In addition, the ‚Äúbranch‚Äù can also be created artificially, for example, in the case when we decide to develop two different versions from some source files - in the first we work on some baubles, in the second - on others.  Moreover, in case the working files are text documents (and in some others), it is possible to merge different branches into one - the so-called merge (‚Äúmerge‚Äù).  Now imagine that there are several people working on the project, and each of them is engaged in such a ‚Äúlittle bauble‚Äù.  Having a common repository in this case greatly simplifies development. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h4>  From theory to practice, or starting to use hard currency </h4><br>  So, I hope, I convinced you that using hard currency is good.  It remains only to learn how to use SLE.  And this will do. <br>  There are various version control systems, differing from each other in various aspects of use.  Since we are not interested in (at least at first) the subtleties of the work of various systems, let us dwell on the simplest and most friendly of them.  In my humble opinion, this system, oddly enough, is Mercurial - ‚Äúcross-platform distributed version control system designed to work effectively with very large code repositories‚Äù with the TortoiseHg GUI.  Working with the system is possible under Windows, Linux and Mac OS X. <br>  Immediately make a reservation that I will describe the work with the system in Windows.  Masters of Linux will not be difficult to learn everything by analogy. <br>  In addition, at the same time we will learn how to work with free hosting of Mercurial repositories - bitbucket.org, necessary if you are working on a project not alone or, which is very convenient, you want to have access to all versions of the project via the Internet.  In fact, this is a convenient Dropbox replacement if you used it before. <br>  First, install Mercurial + TortoiseHg from here: tortoisehg.bitbucket.org. <br>  This system works in the console, so for ease of use later we will write some *. Bat files for typical operations. <br>  All operations are performed with the hg command.  Called without parameters, it displays a list of basic commands. <br>  As a repository, there is any directory we choose (I will use the ‚ÄúC: \ project \‚Äù folder), in which all files of our future project should be stored.  Of course, no one forbids having multiple repositories on the same computer. <br>  To make the system ‚Äúunderstand‚Äù that we want to create a repository, execute the command: <br> <code>hg init c:\project</code> <br>  after which the folder ‚Äúc: \ project \‚Äù will be created if it has not been created earlier and the folder ‚Äúc: \ project \ .hg \‚Äù, in which Mercurial will store all the service information. <br>  We also remember that we want to receive not only a local repository on our computer, but also a remote repository, to which we will send all our changes (or, as the smart guys say, push the changes to the remote repository, from the English. "Push").  To do this, go to bitbucket.org, register, and create your first repository (Repositories - Create new repository).  Give the repository a name (for definiteness, I‚Äôll call it remote_project) and click on Create repository. <br>  Now we have two repositories - local, located in the ‚Äúc: \ project \‚Äù folder and remote, located at ‚Äúbitbucket.org/your_name/remote_project/‚Äù, where your_name_name is specified at registration on bitbucket, remote_project is the name of the repository, selected when creating it. <br>  In order to continue the study, we need to put something in our local repository.  Just create in it (in my case - in the folder ‚Äúc: \ project \‚Äù) any file of your future project or copy your current project there. <br>  Now, strictly speaking, we need to specify Mercurial: ‚Äúwe added such-and-such files and a couple of new folders to the project folder‚Äù, for this the ‚Äúhg add‚Äù command is provided.  However, another approach is more convenient - at the next commit, we will order Mercurial to pick up all the newly created files from the project folder and forget about the deleted ones, which is much easier than every time you create a new document, perform ‚Äúhg add c: \ project \ new_document.doc ". <br>  So, we proceed to our first commit.  It is executed by the following command: <br> <code>hg commit ‚ÄìA ‚Äìm ‚Äúcomment to commit‚Äù</code> <br>  Let's sort everything in order.  The command should be entered when we are in the repository (that is, you must first run ‚Äúcd c: \ project‚Äù).  The ‚Äú-A‚Äù option is necessary for Mercurial to ‚Äúpick up‚Äù newly created files (see above), the ‚Äú-m‚Äù option allows you to add a comment to the commit.  These comments will be displayed when viewing versions (or changesets - change lists) in TortoiseHg and on the project page in bitbucket.org.  It is very important to give meaningful comments, so that you do not suffer, remembering when this or that revision was made. <br>  Now the initial version of our project is stored in our repository.  All further commit'y are performed similarly after we decide that it is time to save the current version. <br>  A commit can be ‚Äúpushed‚Äù into the remote repository with the command: <br> <code><a href="https://bitbucket.org/%25D0%25B8%25D0%25BC%25D1%258F_%25D0%25B2%25D0%25B0%25D1%2588%25D0%25B5%25D0%25B9_%25D1%2583%25D1%2587%25D0%25B5%25D1%2582%25D0%25BA%25D0%25B8/remote_project"></a> hg push https://bitbucket.org/__/remote_project</code> <br>  At the same time it is also necessary to be in the folder corresponding to the repository.  After entering the command, the name and password of our account on bitbucket.org will be requested, in order not to enter them with each push you can replace the command with the following: <br> <code><a href="https://%25D0%25B8%25D0%25BC%25D1%258F_%25D0%25B2%25D0%25B0%25D1%2588%25D0%25B5%25D0%25B9_%25D1%2583%25D1%2587%25D0%25B5%25D1%2582%25D0%25BA%25D0%25B8:%25D0%25BF%25D0%25B0%25D1%2580%25D0%25BE%25D0%25BB%25D1%258C_%25D0%25B2%25D0%25B0%25D1%2588%25D0%25B5%25D0%25B9_%25D1%2583%25D1%2587%25D0%25B5%25D1%2582%25D0%25BA%25D0%25B8%40bitbucket.org/%25D0%25B8%25D0%25BC%25D1%258F_%25D0%25B2%25D0%25B0%25D1%2588%25D0%25B5%25D0%25B9_%25D1%2583%25D1%2587%25D0%25B5%25D1%2582%25D0%25BA%25D0%25B8/remote_project"></a> hg push hg push https://__:__@bitbucket.org/__/remote_project</code> <br>  Since we will score all the commands in the * .bat file, in this case the password will be stored unencrypted, which poses some security risk, but for me this is acceptable. <br>  So, for convenience we create commit.bat, push.bat and commit &amp; push.bat files with the following content in the direct reach zone: <br>  <b>[content of commit.bat]</b> <br> <code>IF !%1==! goto exit1 <br> cd C:\project <br> hg commit -A -m "%*" <br> goto exit0 <br> :exit1 <br> echo "NO COMMAND-LINE ARG!" <br> :exit0</code> <br>  This file, invoked with arguments, will commit the project with the entry of arguments in the commit comment.  Example: we execute ‚Äúcommit.bat my first commit‚Äù and we get commit with the comment ‚Äúmy first commit‚Äù.  In FAR, it is convenient to use the combination Ctrl + Enter for this. <br>  <b>[content of the push.bat file]</b> <br> <code>cd C:\project</code> <br> <code><a href="https://%25D0%25B8%25D0%25BC%25D1%258F_%25D0%25B2%25D0%25B0%25D1%2588%25D0%25B5%25D0%25B9_%25D1%2583%25D1%2587%25D0%25B5%25D1%2582%25D0%25BA%25D0%25B8:%25D0%25BF%25D0%25B0%25D1%2580%25D0%25BE%25D0%25BB%25D1%258C_%25D0%25B2%25D0%25B0%25D1%2588%25D0%25B5%25D0%25B9_%25D1%2583%25D1%2587%25D0%25B5%25D1%2582%25D0%25BA%25D0%25B8%40bitbucket.org/%25D0%25B8%25D0%25BC%25D1%258F_%25D0%25B2%25D0%25B0%25D1%2588%25D0%25B5%25D0%25B9_%25D1%2583%25D1%2587%25D0%25B5%25D1%2582%25D0%25BA%25D0%25B8/remote_project"></a> hg push https://__:__@bitbucket.org/__/remote_project</code> <br>  This file will push to the remote repository. <br>  <b>[content of the commit &amp; push.bat file]</b> <br> <code>IF !%1==! goto exit1 <br> cd C:\project <br> hg commit -A -m "%*" <br> goto exit0 <br> :exit1 <br> echo "NO COMMAND-LINE ARG!" <br> :exit0 <br> call ./push.bat</code> <br>  This file, invoked with arguments, will perform a consecutive commit and push project with entering arguments in the commit comment. <br>  In addition, for small intermediate commit I recommend creating a file commit_date_time.bat: <br>  <b>[content of commit_date_time.bat file]</b> <br> <code>cd C:\project <br> hg commit -A -m "%DATE% %TIME%"</code> <br>  This file will produce a commit indicating the current date and time as a comment, which is often convenient. <br>  The question of the frequency of commitments and pushes is decided individually, depending on the intensity and complexity of the edits made.  Although it is recommended to follow the rule "more often - better." <br>  By right-clicking on the file / folder of the repository, you can start the Repository Explorer (TortoiseHg - Repository Explorer), in which all of our commit'y with comments to them are presented.  In this window, the tree structure of our repository is displayed, from here you can perform commit'y, push'i, rollbacks to previous versions (backout'y) and other operations. <br>  At bitbucket.org/your_account/remote_project there is a similar set of changesets, and you can download any version of the project in one archive, which is sometimes also very convenient. <br>  In general, I consider the initial acquaintance with Mercurial to be over.  For more information, please contact: <a href="http://translated.by/you/mercurial-the-definitive-guide/into-ru/trans/">translated.by/you/mercurial-the-definitive-guide/into-ru/trans/</a> <br><br><h4>  Who is this article for? </h4><br>  I will finish, perhaps, with what I should start with - for whom is this article?  The answer is simple - for those who want to learn how to use SLE.  I managed to get some designers, engineers and even a writer on the hard currency.  Try it and you - that you may greatly facilitate your work. <br><br>  PS Transferred to the version control system blog. </div><p>Source: <a href="https://habr.com/ru/post/122060/">https://habr.com/ru/post/122060/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../122051/index.html">The factory for the production of ringtones on your site</a></li>
<li><a href="../122053/index.html">Sberbank - Always nearby</a></li>
<li><a href="../122054/index.html">PHP module for Tarantool</a></li>
<li><a href="../122056/index.html">New mouse and HDD allow you to feel the "weight" and file size</a></li>
<li><a href="../122059/index.html">Digital console Elecard iTelec STB</a></li>
<li><a href="../122061/index.html">More about Java performance</a></li>
<li><a href="../122062/index.html">DXperience v2011 vol 1 - New version of .NET components from DevExpress</a></li>
<li><a href="../122065/index.html">Corporate trolling. Part one</a></li>
<li><a href="../122067/index.html">Programs, data and their owners</a></li>
<li><a href="../122068/index.html">Brand cards: get your bonus!</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>