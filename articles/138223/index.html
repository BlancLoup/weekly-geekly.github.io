<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Easy way to start testing</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="If you are a PHP developer, and do not write tests for your applications for various reasons, then this article is for you. In it, I will try to brief...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Easy way to start testing</h1><div class="post__text post__text-html js-mediator-article">  If you are a PHP developer, and do not write tests for your applications for various reasons, then this article is for you.  In it, I will try to briefly show where to start and what to do, so that writing tests brings you joy, and your application stability. <br><br>  So the first tip.  Forget everything you know about unit tests.  Throw a stool at the person who told you that you can not do without them.  Let's try to figure out in which cases it is necessary to use them, and in which cases it is inexpedient. <br><a name="habracut"></a><br>  I am absolutely sure that PHP programmers rarely write tests, because they start at the wrong end.  Everyone knows that tests are good and cool.  But having opened the site of the same <a href="http://www.phpunit.de/">PHPUnit</a> , and having read a colorful example about testing a calculator who can perform the operation a + b, they ask themselves: what relation does this calculator have to my application?  The answer is no.  Exactly like all similar examples, on sites of other testing frameworks.  As if everyone had forgotten that PHP is primarily for the web.  As if everyone is writing calculators, not sites based on the MVC paradigm. <br><br>  Suppose you are creating a website or developing a web application.  It already has some pages, forms, perhaps even interactive elements.  How do you (or, say, your customer) check that the site is working?  Surely you go to the site, click on the links, fill out forms, look at the result.  And in a good way, all these routine processes of clicking and filling out forms should be automated first of all. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      And therefore we will talk about functional tests (or acceptance tests). <br><br><blockquote>  Functional testing is the testing of software in order to verify the feasibility of functional requirements, that is, the ability of the software to solve the tasks that users need in certain conditions.  Functional requirements determine what exactly the software does, what tasks it solves. <br></blockquote><br>  <a href="http://ru.wikipedia.org/wiki/%25D0%25A4%25D1%2583%25D0%25BD%25D0%25BA%25D1%2586%25D0%25B8%25D0%25BE%25D0%25BD%25D0%25B0%25D0%25BB%25D1%258C%25D0%25BD%25D0%25BE%25D0%25B5_%25D1%2582%25D0%25B5%25D1%2581%25D1%2582%25D0%25B8%25D1%2580%25D0%25BE%25D0%25B2%25D0%25B0%25D0%25BD%25D0%25B8%25D0%25B5">Wikipedia</a> <br><br>  Why writing tests should start with them?  Yes, just to be sure that your site is functioning, and everything works there.  Acceptance tests are equally well suited for a solid web application, as well as a simple website riveted overnight on the knee.  Therefore, it is worth starting with them. <br><br>  What do we have for functional testing?  Of all I know, this is <a href="http://codeception.com/">Codeception</a> and, for example, PHPUnit + Mink or direct use of Selenium.  I wanted to include Behat in this cookies, but its author asked <a href="https://twitter.com/">not to use Behat for functional testing</a> . <br><br>  If testing with Selenium or PHPUnit + Mink was easy, you would probably already use them.  Therefore we will stop on Codeception. <br><br>  The test is described in it as follows: <br><br><pre><code class="php hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> $I = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> WebGuy($scenario); $I-&gt;wantTo(<span class="hljs-string"><span class="hljs-string">'see my site is working'</span></span>); $I-&gt;amOnPage(<span class="hljs-string"><span class="hljs-string">'/'</span></span>); $I-&gt;see(<span class="hljs-string"><span class="hljs-string">'Welcome, on my site!'</span></span>); <span class="hljs-meta"><span class="hljs-meta">?&gt;</span></span></code> </pre> <br><br>  Just a few lines you check that at a minimum, the main page of your site opens.  For a long work, break it is not so difficult. <br>  In the same way, you can describe further actions: <br><br><pre> <code class="php hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> $I-&gt;click(<span class="hljs-string"><span class="hljs-string">'Feedback'</span></span>); $I-&gt;see(<span class="hljs-string"><span class="hljs-string">'Submit your feedback'</span></span>); $I-&gt;fillField(<span class="hljs-string"><span class="hljs-string">'Body'</span></span>,<span class="hljs-string"><span class="hljs-string">'Your site is great!'</span></span>); $I-&gt;click(<span class="hljs-string"><span class="hljs-string">'Submit'</span></span>); $I-&gt;see(<span class="hljs-string"><span class="hljs-string">'Thanks for your feedback!'</span></span>); <span class="hljs-meta"><span class="hljs-meta">?&gt;</span></span></code> </pre> <br><br>  Here we are already checking that the feedback form on your site works.  At least the user is shown that his opinion has been taken into account. <br><br>  However, <a href="http://habrahabr.ru/blogs/php/136477/">I already wrote about</a> Habr√© <a href="http://habrahabr.ru/blogs/php/136477/">about Codeception</a> . <br><br>  And now we will try to decide on unit-tests. <br><br><blockquote>  Unit testing, or unit testing (unit testing) is a programming process that allows you to check for the correctness of individual modules of the program's source code. <br><br>  The idea is to write tests for each non-trivial function or method.  This allows you to quickly verify whether the next code change did not lead to regression, that is, to the appearance of errors in the already tested program areas, and also facilitates the detection and elimination of such errors. <br></blockquote><br>  <a href="http://ru.wikipedia.org/wiki/%25D0%259C%25D0%25BE%25D0%25B4%25D1%2583%25D0%25BB%25D1%258C%25D0%25BD%25D0%25BE%25D0%25B5_%25D1%2582%25D0%25B5%25D1%2581%25D1%2582%25D0%25B8%25D1%2580%25D0%25BE%25D0%25B2%25D0%25B0%25D0%25BD%25D0%25B8%25D0%25B5">Wikipedia</a> <br><br>  The trouble with using them is that usually web applications are based on CMS or frameworks.  And sometimes it is not always possible to select specific modules for testing.  Especially inconveniently it turns out, when the application logic is scattered in various classes, and each specific unit in fact does nothing.  The testing process will be further complicated by the fact that all modules are somehow interconnected, have many inherited methods, configurations, and where to select the code is yours, and where the library code is sometimes very difficult. <br><br>  But if within the framework of functional tests you have checked everything that a user can do, then in unit tests try to take into account what he should not do. <br><br>  For example, check if your code does not allow creating two users with the same name.  Check that when you try to create a duplicate, the application will not fall, and the white screen of death will not show, but will intercept the error and show its text to the user.  Agree, the user may mess things up, much more than you want.  Therefore, it is sometimes impossible to foresee all possible scenarios and cover them with functional tests. <br><br>  Or one more example: you have a special offer on your site - every 100th registered user receives a gift.  How to verify that gifts are given out and not create 100 extra users?  Here, write unit tests.  Without them, most likely, in any way. <br><br>  If in your application business logic is clearly expressed, for example: ‚Äúthis method creates a user, and this method allows changing the group status‚Äù, then it is quite reasonable to cover such methods with unit tests. <br><br>  And another thing: if you create a website or application based on your framework, CMS, or some of your modules for these frameworks and CMS, be sure to write unit tests to them.  There are no options.  If you use third-party popular solutions, and do not invent bicycles, then most likely their code has already been tested by the author and you should not dwell on their testing. <br><br>  For unit testing there are a lot of frameworks: <br><ul><li>  <a href="http://www.phpunit.de/">PHPUnit</a> </li><li>  <a href="https://github.com/mageekguy/atoum">Atoum</a> </li><li>  <a href="http://net.tutsplus.com/tutorials/php/testing-your-php-codebase-with-enhancephp/">EnhancePHP</a> </li><li>  <a href="http://www.simpletest.org/">Simpletest</a> </li><li>  <a href="http://tutorialzine.com/projects/testify/">Testify</a> </li></ul><br>  As an alternative to traditional unit tests: <br><ul><li>  <a href="http://www.phpspec.net/">PHPSpec</a> </li><li>  <a href="http://github.com/mkharitonov/spectrum/">Spectrum</a> (with excellent <a href="http://mkharitonov.net/spectrum/">documentation in Russian</a> ). </li><li>  same Codeception.  Oddly enough, <a href="http://habrahabr.ru/blogs/php/137097/">I wrote</a> about him <a href="http://habrahabr.ru/blogs/php/137097/">too</a> . </li></ul><br>  Again, choose for yourself.  PHPUnit is certainly a standard, but more modern frameworks can be simpler and more efficient. <br><br>  Summing up, I would say this: tests are really needed and they are not as scary as you can imagine.  Start writing tests with acceptance tests, continue with modular tests.  <b>Test what is important and test what you are not sure about</b> . <br><br>  <strong>Disclaimer</strong> : I apologize for a number of intentional simplifications and inaccuracies in the article.  From my point of view, they are necessary to explain the basic principles of automatic testing of PHP applications.  The more people who test their applications, the better the world will be.  After all, the main thing is to start. </div><p>Source: <a href="https://habr.com/ru/post/138223/">https://habr.com/ru/post/138223/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../138217/index.html">From weak to strong connections. Community or social network 3</a></li>
<li><a href="../138218/index.html">A patient with an artificial lens began to see ultraviolet light. How?</a></li>
<li><a href="../138219/index.html">Google Public DNS receives 70 billion queries per day</a></li>
<li><a href="../138220/index.html">WP7PUBLISH: fast way to deliver content to Windows Phone 7</a></li>
<li><a href="../138222/index.html">Free e-book on design patterns in Ukrainian</a></li>
<li><a href="../138226/index.html">Sales experience on the App Store and the first $ 12,500</a></li>
<li><a href="../138227/index.html">Philip Gross on safety in social networks in the transfer Solovyov</a></li>
<li><a href="../138228/index.html">"Budyst": a social network of mutual assistance in the awakenings</a></li>
<li><a href="../138231/index.html">Thinstation 5.0 - How, already ?!</a></li>
<li><a href="../138232/index.html">Joel Spolsky: Stop Making Backups</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>