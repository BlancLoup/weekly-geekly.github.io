<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Kruglendar for 2014</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hello, friends! 
 Last year I made the first captainer . 
 We continue, we experiment. 

 The idea of ‚Äã‚Äãthe project is to create a calendar that allow...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Kruglendar for 2014</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/getpro/habr/post_images/cad/cad/e6b/cadcade6b286c4e62beb696d3904408b.png"><br><br>  Hello, friends! <br>  Last year I made the <a href="http://habrahabr.ru/post/168697/">first captainer</a> . <br>  We continue, we experiment. <br><br>  The idea of ‚Äã‚Äãthe project is to create a calendar that allows you to see all the days of the year, recall the pleasant moments of the past and the expected events of the future. <br>  There are a <a href="https://www.google.ru/search%3Fq%3Dround%2Bcalendar%26newwindow%3D1%26tbm%3Disch%26tbo%3Du%26source%3Duniv%26sa%3DX%26ei%3DOafyUqLnAuWvyAOwrYGoAw%26ved%3D0CCUQsAQ%26biw%3D1920%26bih%3D936">lot of analogues</a> , the peculiarity of this project is minimalism and emptiness, because the foreground should be the doodle of the owner. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      ‚Ä¢ <a href="https://github.com/illus0r/kruglendar2014/">Download from Github</a> (or <i>git clone <a href="">github.com/illus0r/kruglendar2014.git</a></i> ) <br>  ‚Ä¢ We print on A1 format <br>  ‚Ä¢ We hang on the wall in a convenient place (especially good - in the toilet), next - a felt-tip pen on a thread. <br>  ‚Ä¢ Did something interesting happen?  Famously draws a captainer!  By the end of the year it will be fun to watch. <br><br> <a rel="license" href=""><img alt="Creative Commons License" src="https://habrastorage.org/getpro/habr/post_images/134/521/05a/13452105acc9cb47b5c27a6d553855c0.png"></a> <br>  Also, like the previous one, this calendar is published under <a href="">the Creative Commons Attribution 3.0 license 3.0 Unported.</a> <br><br>  Happy New Year! <br><br>  Under the cut a little about the process of creation. <br><a name="habracut"></a><br><h4>  Process </h4><br>  This year it all started with sketches.  I thought to do something heaped up and fractal, with the lunar calendar in the appendage.  But back to the first minimalist sketch. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/2ec/775/8f9/2ec7758f991d215d854f8a9492caf65f.png"><img src="https://habrastorage.org/getpro/habr/post_images/6ec/15e/bb7/6ec15ebb70db7c9538b52bf8924ae1c2.png"><br><br>  As a real bummer, I decided to write a script that does the lion‚Äôs share of the work.  So the opportunity to play in sizes, thicknesses and, of course, fonts. <br><br>  At first I set the radii and thickness of the circles by hand, but then I decided that it would be much more natural and pleasant if they were determined by a geometric progression. <br><br>  Over the flowers for a long time did not think.  In Photoshop, I opened the color selection window and switched to the mode with the same Lightness Lab color scheme (it takes into account human perception of color and the intensity of colors will be similar). <br><br><img src="https://habrastorage.org/getpro/habr/post_images/348/1ba/4b2/3481ba4b21c8421d55d33c75a6b6c703.png"><br><br>  There are several points, the rest are obtained by interpolation.  Well, I chose not the easiest way, and I could get by with the mask in the illustrator.  But so fun! <br><br><div class="spoiler">  <b class="spoiler_title">The script itself</b> <div class="spoiler_text"><pre><code class="python hljs"><span class="hljs-comment"><span class="hljs-comment"># -*- coding: utf-8 -*- import svgwrite, math, numpy def frange(x, y, jump): while x &lt; y: yield x x += jump if __name__ == '__main__': # Calendar parameters textAngleShift = -(0.26*math.pi*2/365) canvasSize = (500,707) mid = canvasSize[0]/2.0, canvasSize[1]/2.0 dayFontFamily = "PT Sans" dayFontSize = "1.8pt" svgFileName = 'calendar_03.svg' # we will interpolate rainbow gradient through these points rainbowGradient = [[ 0, 0, 0,239,255,255, 0, 0], # Red [254,248,246,194, 0, 0,211,254], # Green [255,193, 0, 0, 0,210,255,255]] # Blue rainbowGradientPoints = [math.pi*2/7*0, math.pi*2/7*1, math.pi*2/7*2, math.pi*2/7*3, math.pi*2/7*4, math.pi*2/7*5, math.pi*2/7*6, math.pi*2/7*7 ] #======================================= # Calendar circle parameters #======================================= k = 3.0 # multiplication koef. delta = 1.9 # first step in progression initRad = canvasSize[0]*0.3684 # initial size radiusProgression = [initRad] for i in range(4): nextValue = initRad-delta*pow(k,i) radiusProgression += [nextValue] R_dates = 1.2*canvasSize[0]*0.312 R_days_end, \ R_days_beg, \ R_weeks_beg, \ R_mounthes_beg, \ R_seasons_beg = radiusProgression #R_weekend_end = R_days_beg + 20; R_weekend_end = R_days_end; # Stroke width stroke_k = 1.8 stroke_thinest = 0.15 dayLineStrokeWidth, \ weekLineStrokeWidth, \ mounthLineStrokeWidth, \ seasonLineStrokeWidth = [0.1*(stroke_k**i) for i in range(4,0,-1)] weekendStrokeWidth = 6.7 #======================================= # Filling mounth arrays #======================================= dayAngle = math.pi*2/365 weekAngle = dayAngle*7 mounthes = [u'',\ u'',\ u'',\ u'',\ u'',\ u'',\ u'',\ u'',\ u'',\ u'',\ u'',\ u''\ ] mounthDays = [31,28,31,30,31,30,31,31,30,31,30,31] # days in each mounth yearDays = ["%d %s"%(i+1, mounthes[index]) \ for index, m in enumerate(mounthDays) \ for i in range(m)] # array with marks for yearDays: # 1 means first day of mounth # 2 means first day of mounth and of season allFirstDates = [ 0 if i!=0 else \ 1 if (index+1)%3!=0 else \ 2 \ for index, m in enumerate(mounthDays) \ for i in range(m)] mounthAngles = [d*dayAngle for d in mounthDays] #======================================= # Making svg and groups #======================================= dwg = svgwrite.Drawing(svgFileName, profile='tiny') textGroup = dwg.g(font_family=dayFontFamily, \ font_size=dayFontSize,\ text_anchor="start" ) dayLineGroup = dwg.g(stroke_width=dayLineStrokeWidth, fill='none') weekLineGroup = dwg.g(stroke_width=weekLineStrokeWidth, fill='none') mounthLineGroup = dwg.g(stroke_width=mounthLineStrokeWidth, fill='none') seasonLineGroup = dwg.g(stroke_width=seasonLineStrokeWidth, fill='none') weekendGroup = dwg.g(stroke_width=weekendStrokeWidth, fill='none') #======================================= # Drawing in defined groups #======================================= for index, angle in enumerate(frange(0,math.pi*2,dayAngle)): # interpolation will help us to find # all necessary segments for every segment of circles colorTuple = (int(numpy.interp(angle, rainbowGradientPoints, \ rainbowGradient[0])), \ int(numpy.interp(angle, rainbowGradientPoints, \ rainbowGradient[1])), \ int(numpy.interp(angle, rainbowGradientPoints, \ rainbowGradient[2]))) color = "rgb%s"%(str(colorTuple)) sinus = math.sin(angle) cosinus = math.cos(angle) # Draw a week segment if (index-5)%7 == 0: weekLineGroup.add (dwg.line( (mid[0]-R_weeks_beg*sinus, \ mid[1]+R_weeks_beg*cosinus), \ (mid[0]-R_days_beg *sinus,mid[1]+R_days_beg *cosinus), \ stroke=color) ) # Draw a weekend sinus_weekend = math.sin(angle-dayAngle) cosinus_weekend = math.cos(angle-dayAngle) weekendGroup.add (dwg.line( (mid[0]-R_days_beg*sinus_weekend, \ mid[1]+R_days_beg*cosinus_weekend), \ (mid[0]-R_weekend_end *sinus_weekend,mid[1]+R_weekend_end *\ cosinus_weekend), \ stroke=color) ) #if (index-) weekLineGroup.add (dwg.line( (mid[0]-R_weeks_beg*sinus, \ mid[1]+R_weeks_beg*cosinus), \ (mid[0]-R_days_beg *sinus,mid[1]+R_days_beg *cosinus), \ stroke=color) ) # Draw a mounth+season segments if allFirstDates[index]!=0: mounthLineGroup.add (dwg.line( (mid[0]-R_mounthes_beg*sinus,mid[1]+\ R_mounthes_beg*cosinus), \ (mid[0]-R_weeks_beg *sinus,mid[1]+R_weeks_beg*cosinus), \ stroke=color) ) # Draw a season segments if allFirstDates[index]==2: seasonLineGroup.add (dwg.line( (mid[0]-R_seasons_beg*sinus,mid[1]+\ R_seasons_beg*cosinus), \ (mid[0]-R_mounthes_beg *sinus,mid[1]+R_mounthes_beg*cosinus), \ stroke=color) ) # Draw a day segments dayLineGroup.add (dwg.line( (mid[0]-R_days_beg*sinus,mid[1]+\ R_days_beg*cosinus), \ (mid[0]-R_days_end *sinus,mid[1]+R_days_end *cosinus), \ stroke=color ) ) # Draw a day name if (index-4)%7 == 0 or (index-3)%7 == 0: fillColor = color #"rgb(255,255,255)" #fontWeight = "bold" weekendMargin = 2.0 else: fillColor = "rgb(0,0,0)" #fontWeight = "normal" weekendMargin = 0 wordGroup = dwg.g(transform="rotate(%f, %f, %f) translate(%f,0)" \ %( math.degrees(angle+dayAngle+textAngleShift)+90, \ mid[0], mid[1], +R_dates+weekendMargin ) \ ) wordGroup.add( dwg.text( '%s'%(yearDays[index]), \ insert=mid, fill=fillColor \ #,style="font-weight: %s;"%(fontWeight) )) textGroup.add(wordGroup) #======================================= # Dray a circle segments #======================================= sinus_end = math.sin(angle+dayAngle) cosinus_end = math.cos(angle+dayAngle) dayLineGroup.add( dwg.line( (mid[0]-R_days_beg*sinus, \ mid[1]+R_days_beg*cosinus), \ (mid[0]-R_days_beg*sinus_end,mid[1]+R_days_beg*cosinus_end), \ stroke=color ) ) weekLineGroup.add( dwg.line((mid[0]-R_weeks_beg*sinus, \ mid[1]+R_weeks_beg*cosinus), \ (mid[0]-R_weeks_beg*sinus_end,mid[1]+R_weeks_beg*cosinus_end), \ stroke=color ) ) mounthLineGroup.add( dwg.line((mid[0]-R_mounthes_beg*sinus, \ mid[1]+R_mounthes_beg*cosinus), \ (mid[0]-R_mounthes_beg*sinus_end,mid[1]+R_mounthes_beg*cosinus_end), \ stroke=color ) ) seasonLineGroup.add( dwg.line((mid[0]-R_seasons_beg*sinus, \ mid[1]+R_seasons_beg*cosinus), \ (mid[0]-R_seasons_beg*sinus_end,mid[1]+R_seasons_beg*cosinus_end), \ stroke=color ) ) #======================================= # Simple circles for quick testing #======================================= #dayLineGroup.add( dwg.circle(center=mid, r=R_days_end, stroke='black' ) ) #dayLineGroup.add( dwg.circle(center=mid, r=R_days_beg, stroke='black' ) ) #weekLineGroup.add( dwg.circle(center=mid, r=R_weeks_beg, stroke='black' ) ) #mounthLineGroup.add( dwg.circle(center=mid, r=R_mounthes_beg, stroke='black' ) ) #seasonLineGroup.add( dwg.circle(center=mid, r=R_seasons_beg, stroke='black') ) dwg.add(dayLineGroup) dwg.add(weekLineGroup) dwg.add(mounthLineGroup) dwg.add(seasonLineGroup) dwg.add(weekendGroup) dwg.add(textGroup) # As I didn't learn how to set document width and height, just draw a rect dwg.add(dwg.rect((0, 0), canvasSize, stroke='gray', fill="none")) dwg.add(dwg.text("2014", insert=(mid[0],mid[1]+4), \ text_anchor="middle", font_family="PT Serif", font_size="10pt")) #======================================= # Finaly, draw it! #======================================= dwg.save()</span></span></code> </pre> <br></div></div><br>  At the output we get <a href="">such a SVG file</a> , which remains to be slightly modified with a <s>file</s> in Illustrator.  Namely, enlarge the document to the size of A1, correct the kerning of the number 2014, increase the number of small captions, add a signature at the bottom. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/de3/1ce/708/de31ce70894833c968d19909edfdc669.png"><br><br>  Oh, la!  Kruglendar ready.  We make a <a href="http://vk.com/kruglendar">group in contact</a> to get feedback, write <a href="https://github.com/illus0r/kruglendar2014">readme</a> for <a href="https://github.com/illus0r/kruglendar2014">GitHub</a> and an article on Habr. <br><br>  Thank you all for your attention, I will be glad to your comments. </div><p>Source: <a href="https://habr.com/ru/post/209550/">https://habr.com/ru/post/209550/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../209538/index.html">New features for profiling Windows Store applications in Visual Studio 2013</a></li>
<li><a href="../209540/index.html">Why do you need to enter a password in sudo?</a></li>
<li><a href="../209544/index.html">Small game "Tic-tac-toe" on JavaScript</a></li>
<li><a href="../209546/index.html">Forecasts for Linux and Open source for 2014 from Jack Wallen. And which of them do you agree with?</a></li>
<li><a href="../209548/index.html">The digest of interesting materials from the world of web development and IT for the last week ‚Ññ92 (January 12 - 18, 2014)</a></li>
<li><a href="../209552/index.html">Not all comments are equally helpful.</a></li>
<li><a href="../209554/index.html">The effectiveness of personal recommendations: a contextual approach</a></li>
<li><a href="../209566/index.html">CERN and the collider through the eyes of a tourist</a></li>
<li><a href="../209568/index.html">ActiveRecord vs DAO - Test memory consumption and query execution speed</a></li>
<li><a href="../209572/index.html">Optimize your wireless connection or iwconfig can all</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>