<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Abstract classes and interfaces in Python</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Abstract base classes and interfaces are similar in purpose and meaning to the entity. Both the first and the second are a peculiar way of documenting...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Abstract classes and interfaces in Python</h1><div class="post__text post__text-html js-mediator-article">  Abstract base classes and interfaces are similar in purpose and meaning to the entity.  Both the first and the second are a peculiar way of documenting code and help limit (decouple) the interaction of individual abstractions in the program (classes). <br><br>  Python is a very flexible language.  One facet of this flexibility is the possibilities provided by metaprogramming.  And although in the core of the language abstract classes and interfaces are not represented, the first were implemented in the standard abc module, the second in the Zope project (zope.interfaces module). <br><br>  It makes no sense to use both at the same time, and therefore each programmer must determine for himself which tool to use when designing applications. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <a name="habracut"></a><br><br><h2>  2 Abstract base classes (abc) </h2><br><br>  Starting with the 2.6 version of the language, the abc module is added to the standard library, which adds abstract base classes to the language (hereinafter referred to as ABC). <br><br>  ABCs allow you to define a class, while specifying which methods or properties must be redefined in successor classes: <br><br><pre> from abc import ABCMeta, abstractmethod, abstractproperty
 class Movable ():
     __metaclass __ = ABCMeta

     @abstractmethod
     def move ():
     "" "Move object" ""
    
     @abstractproperty
     def speed ():
     "" "Object speed" ""
</pre><br><br>  Thus, if we want to use an object in the code that has the ability to move and a certain speed, then we should use the Movable class as one of the base classes. <br><br>  The presence of the necessary methods and attributes of the object is now guaranteed by the presence of ABK among the ancestors of the class: <br><br><pre> class Car (Movable):
     def __init__:
         self.speed = 10
         self.x = 0

     def move (self):
         self.c + = self.speed
         def speed (self):
         return self.speed
    
 assert issubclass (Car, Movable)
 assert ininstance (Car (), Movable)
</pre><br><br>  It can be seen that the concept of ABK fits well with the class inheritance hierarchy, it is easy to use them, and the implementation, if you look at the source code of the abc module, is very simple.  Abstract classes are used in standard collections and number modules, specifying methods that are necessary for defining custom <br>  heir classes. <br><br>  Details and considerations regarding the use of ABA can be found in PEP 3119 <br>  ( <a href="http://www.python.org/dev/peps/pep-3119/">http://www.python.org/dev/peps/pep-3119/</a> ). <br><br><h2>  3 Interfaces (zope.interfaces) </h2><br><br>  The implementation of the Zope project in working on Zope3 decided to focus on the component architecture;  The framework has become a set of almost independent components.  The glue that joins the components is the interfaces and the adapters based on them. <br><br>  The zope.interfaces module is the result of this work. <br><br>  In the simplest case, the use of interfaces resembles an ABA try-in: <br><br><pre> import zope.interface

 class IVehicle (zope.interface.Interface):
     "" "Any moving thing" ""
     speed = zope.interface.Attribute ("" "Movement speed" "")
     def move ():
         "" "Make a single step" ""
    
 class Car (object):
     zope.interface.implements (IVehicle)

     def __init__:
         self.speed = 1
         self.location = 1

     def move (self):
         self.location = self.speed * 1
         print "moved!"
    
 assert IVehicle.implementedBy (Car)
 assert IVehicle.providedBy (Car ())
</pre><br><br>  The interface declaratively shows what attributes and methods the object should have.  Moreover, the class implements (implements) the interface, and the class object provides (provides).  Pay attention to the difference between these concepts! <br><br>  ‚ÄúImplementing‚Äù an interface with something means that only an ‚Äúproduced‚Äù entity will have the necessary properties;  and the ‚Äúprovision‚Äù of an interface speaks of the specific capabilities of the entity being evaluated.  Accordingly, in Python, by the way, classes can both implement and provide an interface. <br><br>  In fact, the declaration implement (IVehicle) is a convention;  just a promise that this class and its objects behave in this way.  No real checks <b>will be</b> conducted. <br><br><pre> class IVehicle (zope.interface.Interface):
     "" "Any moving thing" ""
     speed = zope.interface.Attribute ("" "Movement speed" "")

     def move ():
         "" "Make a single step" ""

 class Car (object):
     zope.interface.implements (IVehicle)

 assert IVehicle.implementedBy (Car)
 assert IVehicle.providedBy (Car ())
</pre><br><br>  It can be seen that in the simplest cases, interfaces only complicate the code, as, incidentally, ABK <br><br>  Zope component architecture includes another important concept - adapters.  Generally speaking, it is a simple design pattern, correcting one class for use somewhere where a different set of methods and attributes is required.  So, <br><br><h2>  4 Adapters </h2><br><br>  Consider, greatly simplifying, an example from the <a href="http://www.muthukadan.net/docs/zca.html">Comprehensive Guide to Zope Component Architecture.</a> <br><br>  Suppose there are a couple of classes, Guest and Desk.  Define the interfaces to them, plus the class that implements the Guest interface: <br><br><pre> import zope.interface
 from zope.interface import implements

 from zope.component import adapts, getGlobalSiteManager

 class IDesk (zope.interface.Interface):
     def register ():
         "Register a person"

 class IGuest (zope.interface.Interface):
     name = zope.interface.Attribute ("" "Person`s name" "")

 class Guest (object):
     implements (IGuest)

     def __init __ (self, name):
         self.name = name
</pre><br><br>  The adapter must consider an anonymous guest by registering in the list of names: <br><br><pre> class GuestToDeskAdapter (object):
     adapts (IGuest)
     implements (IDesk)
    
     def __init __ (self, guest):
         self.guest = guest
    
     def register (self):
         guest_name_db.append (self.guest.name)
</pre><br><br>  There is a registry that keeps track of adapters by interfaces.  Thanks to him, you can get the adapter by passing an adaptable object to the interface class call.  If the adapter is not registered, the second interface argument will be returned: <br><br><pre> guest = Guest ("Ivan")
 adapter = IDesk (guest, alternate = None)
 print adapter
 &gt;&gt;&gt;&gt; None found

 gsm = getGlobalSiteManager ()
 gsm.registerAdapter (GuestToDeskAdapter)

 adapter = IDesk (guest, alternate = "None found")
 print adapter

 &gt;&gt;&gt;&gt; __ main __. GuestToDeskAdapter object at 0xb7beb64c&gt;
</pre><br><br>  This infrastructure is convenient to use to separate the code into components and their binding. <br><br>  One of the most striking examples of using this approach besides Zope itself is the Twisted network framework, where a good part of the architecture relies on interfaces from zope.interfaces. <br><br><h2>  5 Conclusion </h2><br><br>  Upon closer inspection, it turns out that interfaces and abstract base classes are different things. <br><br>  Abstract classes basically rigidly set the required interface part.  Checking an object for compliance with an abstract class interface is checked using the built-in isinstance function;  class - issubclass.  An abstract base class should be included in the hierarchy as a base class or mixin  ªa. <br><br>  The minus can be considered the semantics of checks issubclass, isinstance, which intersect with ordinary classes (their inheritance hierarchy).  No additional abstractions are built on ABK. <br><br>  Interfaces - the essence of a declarative, they do not put any framework;  it is simply stated that the class implements, and its object provides the interface.  Semantic statements implementedBy, providedBy are more correct.  It is convenient to build component architecture using such adapters and other derived entities on such a simple base, which is done by large Zope and Twisted frameworks. <br><br>  It should be understood that the use of both tools only makes sense when building and using relatively large OOP systems ‚Äî frameworks and libraries; in small programs, they can only confuse and complicate the code with unnecessary abstractions. </div><p>Source: <a href="https://habr.com/ru/post/72757/">https://habr.com/ru/post/72757/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../72747/index.html">I just posted a picture - you did the rest!</a></li>
<li><a href="../72750/index.html">How to make money on vending machines: laws and taxes</a></li>
<li><a href="../72753/index.html">Barter Startups</a></li>
<li><a href="../72754/index.html">Backup on amazon S3 for beginners</a></li>
<li><a href="../72756/index.html">The robotics revolution begins!</a></li>
<li><a href="../72761/index.html">Fujitsu's first lifebook netbook</a></li>
<li><a href="../72762/index.html">How to scare the user?</a></li>
<li><a href="../72764/index.html">interesting bug in IE7 (or feature)</a></li>
<li><a href="../72765/index.html">Using V8 Part 3</a></li>
<li><a href="../72767/index.html">Patterns & Practices Summary: SharePoint Guidance</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>