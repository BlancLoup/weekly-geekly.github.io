<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Extend platform functionality for ReadyScript online stores</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Today, each customer wants to see unique chips in his online store. These can be interesting cumulative discounts, referral programs, non-standard fil...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Extend platform functionality for ReadyScript online stores</h1><div class="post__text post__text-html js-mediator-article">  Today, each customer wants to see unique chips in his online store.  These can be interesting cumulative discounts, referral programs, non-standard filters for searching for certain products, etc.  All this requires individual improvements in CMS functionality.  In this article we will describe what features <a href="http://readyscript.ru/">ReadyScript</a> offers for creating customized solutions. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/7d5/a25/871/7d5a258712be41d78387a1d563206e72.jpg"></div><br><a name="habracut"></a><br>  Like many CMS that support automatic updates, ReadyScript does not allow you to grossly interfere with the code of standard modules and the kernel; such changes will be reversed the next time the system is updated.  New functions should be introduced into the system through new files. For this purpose, appropriate mechanisms are provided for in the CMS, which will be discussed below. <br><br><h2>  1. Event handling </h2><br>  Event system - a tool that allows you to change the standard course of the system by installing handlers for various system events.  The result of the handlers can be taken into account by the system and adjust the overall progress of the program.  Consider the technical part of the event: 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      As soon as the entry point script index.php gets control, it looks for a Config / MyHandlers or Config / Handlers class for each module.  If one of these classes is found, then the init method is called, in which each module must subscribe to events.  All event handlers are also usually described in the same class in which the subscription occurs.  Thus, the module has a single place in which all its ‚Äúexternal‚Äù activity is visible. <br><br>  After forming the list of subscribers, the script continues its execution, during which it generates various events that are processed by the modules. <br><br>  Calling events in ReadyScript occurs at key points in the system, event names, as a rule, consist of a prefix and a variable part.  The variable part usually carries the clarifying meaning of the event.  For example, all write operations to the database in ReadyScript occur through ORM objects, respectively, there is an event in the system that is called before the data of the ORM object is written.  The name of such events is formed as follows: <br><br>  <b>orm.beforewrite. &lt;short name of the ORM object&gt;</b> , where: <br><ul><li>  The short name of the ORM object is formed from the full class name by a simple transformation.  Part of Model \ Orm is excluded, and slashes are replaced with minuses.  For example, if the class name of an ORM object can be written like this: Catalog \ Model \ Orm \ Product, then its ‚Äúshort name‚Äù would look like this: catalog-product </li></ul><br>  This event receives parameters in the form of an array, the keys of which are: <br><ul><li>  orm - an object that is written to the database </li><li>  flag - type of object saving.  may be: INSERT, UPDATE, REPLACE </li></ul><br>  If the event handler is called inside the handler, the object will not be saved.  Let's write an example of the code that will stop updating the product, and display an error: ‚ÄúI do not want to update the product!‚Äù. <br><br>  First you need to create a simple module with the following structure: <br><br><pre><code class="php hljs">test <span class="hljs-comment"><span class="hljs-comment">//   config //    file.inc.php //   handlers.inc.php //  </span></span></code> </pre> <br><br>  The file file.inc.php may be as follows: <br><br><pre> <code class="php hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> <span class="hljs-keyword"><span class="hljs-keyword">namespace</span></span> <span class="hljs-title"><span class="hljs-title">Test</span></span>\<span class="hljs-title"><span class="hljs-title">Config</span></span>; <span class="hljs-comment"><span class="hljs-comment">/** *    */</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">File</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> \</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">RS</span></span></span><span class="hljs-class">\</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Orm</span></span></span><span class="hljs-class">\</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ConfigObject</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-comment"><span class="hljs-comment">/** *    - * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@return</span></span></span><span class="hljs-comment"> array */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getDefaultValues</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">array</span></span>( <span class="hljs-string"><span class="hljs-string">'name'</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">''</span></span>, <span class="hljs-string"><span class="hljs-string">'description'</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">' '</span></span>, <span class="hljs-string"><span class="hljs-string">'version'</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">'1.0.0.0'</span></span>, <span class="hljs-string"><span class="hljs-string">'author'</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">'ReadyScript lab.'</span></span> ); } }</code> </pre><br><br>  The module should be placed in the <i>/ modules</i> folder, installed on the system and enabled in the section Website -&gt; Configuring Modules. <br>  An example of the file handlers.inc.php, which intercepts the save event: <br><br><pre> <code class="php hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> <span class="hljs-comment"><span class="hljs-comment">/** *     Test. *      /modules/test/config/handlers.inc.php */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">namespace</span></span> <span class="hljs-title"><span class="hljs-title">Test</span></span>\<span class="hljs-title"><span class="hljs-title">Config</span></span>; <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Handlers</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> \</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">RS</span></span></span><span class="hljs-class">\</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Event</span></span></span><span class="hljs-class">\</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">HandlerAbstract</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">init</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;bind(<span class="hljs-string"><span class="hljs-string">'orm.beforewrite.catalog-product'</span></span>); } <span class="hljs-comment"><span class="hljs-comment">/** *   " ". *      . *         (  ). *      Handlers,     . * * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@param</span></span></span><span class="hljs-comment"> mixed $params -   * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@param</span></span></span><span class="hljs-comment"> \RS\Event\Event $event -    * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@return</span></span></span><span class="hljs-comment"> void */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">ormBeforewriteCatalogProduct</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(array $params, \RS\Event\Event $event)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ($params[<span class="hljs-string"><span class="hljs-string">'flag'</span></span>] == \RS\Orm\AbstractObject::UPDATE_FLAG) { <span class="hljs-comment"><span class="hljs-comment">//    /** *    ORM  * @var \Catalog\Model\Orm\Product */ $product = $params['orm']; $product-&gt;addError('   !'); $event-&gt;stopPropagation(); } } }</span></span></code> </pre><br><br>  This module will block the ability to save goods in the entire system.  Similarly, you can intercept the events of saving the order, the user, and all other objects in the system, since all of them are ORM objects. <br><br>  ‚Äú <b>Is it possible to expand with the help of events, for example, the product card page in the administrative panel and add a column to the table of products in the database?</b>  ".  Answer: it is possible.  Below I will tell you how. <br><br>  Since all interaction with the database in the system occurs through ORM objects, it will be sufficient to set the handler for the initialization event of the ORM object, and add additional properties to the object in the handler.  Let me remind you that all properties of objects are set during their initial initialization.  Initialization of one class of objects occurs only once during the execution of the PHP script. <br><br>  The name of the initialization event of the ORM object is constructed as follows: <br>  <b>orm.init. &lt;short name of the ORM object&gt;</b> <br><br>  As a parameter, an ORM object is initialized to the event.  An example of a handler code expanding the product card: <br><pre> <code class="php hljs"><span class="hljs-keyword"><span class="hljs-keyword">namespace</span></span> <span class="hljs-title"><span class="hljs-title">Test</span></span>\<span class="hljs-title"><span class="hljs-title">Config</span></span>; <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Handlers</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> \</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">RS</span></span></span><span class="hljs-class">\</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Event</span></span></span><span class="hljs-class">\</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">HandlerAbstract</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">init</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;bind(<span class="hljs-string"><span class="hljs-string">'orm.init.catalog-product'</span></span>); } <span class="hljs-comment"><span class="hljs-comment">/** *   " ORM  ". *        --&gt; .   -&gt;  * * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@param</span></span></span><span class="hljs-comment"> \Catalog\Model\Orm\Product * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@return</span></span></span><span class="hljs-comment"> void */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">ormInitCatalogProduct</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(\Catalog\Model\Orm\Product $orm_product)</span></span></span><span class="hljs-function"> </span></span>{ $orm_product-&gt;getPropertyIterator()-&gt;append(<span class="hljs-keyword"><span class="hljs-keyword">array</span></span>( <span class="hljs-comment"><span class="hljs-comment">//    ' ', //.      'test_property' =&gt; new \RS\Orm\Type\Integer(array( // .     INT 'maxLength' =&gt; 1, //      INT(1) 'description' =&gt; ' ', //  'checkboxView' =&gt; array(1,0), //1 -   checkbox, 0 -   //  : //-       . .  \RS\Orm\Type\Integer )) )); } }</span></span></code> </pre><br><br>  After adding such a handler to the system, you need to reinstall the module <i>‚Äúproduct catalog‚Äù</i> (via the administrative panel, section Website-&gt; Module Settings-&gt; Product Catalog) in order for ReadyScript to add a new column to the database table of the \ Catalog \ Model \ Orm \ Product object . <br><br>  In the product card, a new field will be located on a separate tab and look like this: <br><br><img src="https://habrastorage.org/files/604/fad/d95/604fadd95c9a415bb6960b4ebc74a69c.jpg"><br><br>  Consider another example of event system capabilities.  Suppose that a task has arisen to add an item to the menu of actions on a single product, which is located in the section <i>‚Äúproduct catalog‚Äù</i> in the administrative panel.  To solve the problem, it is necessary to intercept an event that throws a CRUD controller (\ RS \ Controller \ Admin \ Crud) after forming the appearance helper and before calling the action of the controller.  Event Name: <br><br>  <b>controller.exec. &lt;controller short name&gt;. &lt;action name&gt;</b> , where <br><ul><li>  controller short name - formed by excluding the \ Controller part from the full class name, including NameSpace.  And replacing the backslash with a minus. </li><li>  action name - the name of the action that will be called on the controller (without the action prefix) </li></ul><br>  For example, if the \ Catalog \ Controller \ Admin \ Ctrl controller is called with the Index action, the full name of the event will look like this: controller.exec.catalog-admin-ctrl.index <br><br>  Below is an example of the event handler: <br><br><pre> <code class="php hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> <span class="hljs-keyword"><span class="hljs-keyword">namespace</span></span> <span class="hljs-title"><span class="hljs-title">Test</span></span>\<span class="hljs-title"><span class="hljs-title">Config</span></span>; <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Handlers</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> \</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">RS</span></span></span><span class="hljs-class">\</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Event</span></span></span><span class="hljs-class">\</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">HandlerAbstract</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">init</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;bind(<span class="hljs-string"><span class="hljs-string">'controller.exec.catalog-admin-ctrl.index'</span></span>); } <span class="hljs-comment"><span class="hljs-comment">/** *   * * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@param</span></span></span><span class="hljs-comment"> \RS\Controller\Admin\Helper\CrudCollection $helper -    .  * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@return</span></span></span><span class="hljs-comment"> void */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">controllerExecCatalogAdminCtrlIndex</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(\RS\Controller\Admin\Helper\CrudCollection $helper)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-comment"><span class="hljs-comment">/** * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@var</span></span></span><span class="hljs-comment"> \RS\Html\Table\Control - :   */</span></span> $table_control = $helper[<span class="hljs-string"><span class="hljs-string">'table'</span></span>]; $columns = $table_control-&gt;getTable()-&gt;getColumns(); <span class="hljs-comment"><span class="hljs-comment">//   foreach($columns as $column) { if ($column instanceof \RS\Html\Table\Type\Actions) { //    // $column -         //      foreach($column-&gt;getActions() as $action) { if ($action instanceof \RS\Html\Table\Type\Action\DropDown) { //        //       .  $action-&gt;addItem(array( 'title' =&gt; ' !', //  'attr' =&gt; array( //  //  crud-get,     ajax    'class' =&gt; 'crud-get', //crud-get    data-confirm-text,    ,    'data-confirm-text' =&gt; '     ()?', //@   ,     , ..       //          . //,   : ?id=@id&amp;do=action,   @id,    id   //   getAdminPattern    /admin/test-example/?do=Action&amp;id=@id '@href' =&gt; \RS\Router\Manager::obj()-&gt;getAdminPattern('Action', array(':id' =&gt; '@id'), 'test-example'), ), )); } } } } } }</span></span></code> </pre><br><br>  The result of the action of this code will be the following item in the menu: <br><br><img src="https://habrastorage.org/files/243/6ba/285/2436ba2853dd45f0b5952e37437fdd06.jpg"><br><br>  A complete list of events in ReadyScript with descriptions can be found in the official documentation <a href="http://readyscript.ru/dev-manual/dev_hooks.html">here</a> . <br><br><h2>  2. Overload routes </h2><br>  Overloading routes allows you to transfer specific addresses (URLs) of a site to a non-native controller for processing. <br>  Let's say we have a need to make changes to the checkout controller.  How to do it better? <br><br>  To answer the question, consider the whole situation.  Control of the controller passes the route.  It is he who establishes the connection between the URL / checkout / ... and the \ Shop \ Controller \ Front \ Checkout controller.  Other modules and templates use the id of this route (shop-front-checkout) to form links to checkout.  The route id is not a <i>short controller name</i> , since if a route does not explicitly specify a handler controller to which control will pass, then a controller is searched for, whose short name is equal to the route id. <br><br>  Accordingly, the solution to our problem would be to create a route with the same id, processing the same URL, but which will transfer control to another controller.  And already in another controller, we can implement anything. <br><br>  There is a task - to disable the route registered by another module and create a route with the same id with its own module.  In this we will be helped by the possibility of the event subsystem to set the priority to the event handler. <br><br>  Since all routes are entered into the system using the getroute event, it is enough to set the priority of the handler in our module so that it will be called at the very end.  The rule will work here: when adding two routes with the same id, the last one remains in the system.  Consider the code: <br><br><pre> <code class="php hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> <span class="hljs-keyword"><span class="hljs-keyword">namespace</span></span> <span class="hljs-title"><span class="hljs-title">Test</span></span>\<span class="hljs-title"><span class="hljs-title">Config</span></span>; <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Handlers</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> \</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">RS</span></span></span><span class="hljs-class">\</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Event</span></span></span><span class="hljs-class">\</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">HandlerAbstract</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">init</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;bind(<span class="hljs-string"><span class="hljs-string">'getroute'</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>, <span class="hljs-comment"><span class="hljs-comment">//callback_class -   $this null, //callback_method -       0 //.   ,    .  - - 10 ); } /** *     */ public static function getRoute(array $routes) { //    $routes[] = new \RS\Router\Route( 'shop-front-checkout', //ID  array('/checkout/{Act}/', '/checkout/'), //  URL array('controller' =&gt; 'test-front-examplecontroller'), // -.      ' ' //   .  ); return $routes; } }</span></span></code> </pre><br><br>  The handler given above will send all requests to the controller with the class \ Test \ Controller \ Front \ ExampleController, which you can inherit from \ Shop \ Controller \ Front \ Checkout, and overload any selected methods, or implement the controller completely from scratch . <br><br><h2>  3. Replacing standard event handlers </h2><br>  If there is a disagreement with the way a module handles events, ReadyScript allows you to overload the "alien" event-handling file.  As mentioned above, during the initialization of the event system, the modules are first looking for the MyHandlers class, and then the Handlers, to call the first found init method. <br><br>  It is enough to declare a module of another module in the namespace \ MODULE_NAME \ Config class MyHandlers, in order to specify its own event handlers in it. <br><br>  If global changes are not required, you can create the MyHandlers class inherited from Handlers and overload only some methods. <br><br><h2>  4. Class substitution (NOT recommended method) </h2><br>  All functionality in ReadyScript is implemented in classes.  All classes of modules and kernels are loaded using autoload.  The following condition is set in the script connection rules: first, in the folder corresponding to the class namespace, the files are searched for the name CLASSA.my.inc.php and if this does not exist, then the search and attachment of the file NAME CLASSA.inc.php is performed <br><br>  All classes present in the distribution have the extension .inc.php, respectively, any files with the extension .my.inc.php will not be overwritten during the upgrade, they can be used to implement the modified functionality of the standard classes. <br><br>  However, this method is NOT recommended, but developers should be aware of it.  When upgrading to ‚Äúoriginal‚Äù classes, methods that may use other modules may change, which in general may affect the stability of the system. <br><br><h2>  5. Possibilities of themes </h2><br>  Expansion of functionality is not always associated with the server side, and can often affect only the frontend, for example, if you need to add your own JavaScript to the product card page. <br><br>  For the appearance of the site meets the theme of the design.  The design theme has the ability to overload the default module templates, for this is the moduleview folder.  To reload the product card template /modules/catalog/view/product.tpl, just copy it in the following path /templates/{__ }/moduleview/catalog/product.tpl, then you can edit the new file.  It is worth noting that all CSS and JS files are connected in templates, this allows you to overload the required template and prescribe new constructions for connecting styles and scripts in new ways. <br><br>  Changes in the standard templates will be overwritten during the centralized system update process, so it is recommended to create your own theme beforehand (by cloning the contents of the folder with one of the standard themes) in order to modify it further. <br><br><h2>  Conclusion </h2><br>  The capabilities of <a href="http://readyscript.ru/">the ReadyScript platform</a> allow developers to embody the most sophisticated ideas of customers.  The system architecture pushes for the expansion of the functionality of the system with the help of additional modules, which later allows you to reuse the written code. </div><p>Source: <a href="https://habr.com/ru/post/235647/">https://habr.com/ru/post/235647/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../235631/index.html">Tear down the TV tower</a></li>
<li><a href="../235633/index.html">The Japanese will send a descent probe to the asteroid 1999 JU3 at the end of this year.</a></li>
<li><a href="../235635/index.html">The project to "fight against death" from Google will receive a research center at the cost of 1.5 billion US dollars</a></li>
<li><a href="../235639/index.html">[Translation] News from the world of Node: Tint, Redbird</a></li>
<li><a href="../235641/index.html">Bootstrapping mobile applications, or how to save a little on the development and publication</a></li>
<li><a href="../235649/index.html">Mobile Trio: Gmini mPlay</a></li>
<li><a href="../235657/index.html">Tesla's Gigafabrika for 5 billion to be built in Nevada</a></li>
<li><a href="../235661/index.html">Gear VR - Samsung's Unusual Virtual Reality Helmet</a></li>
<li><a href="../235665/index.html">Lumia 830, Lumia 730 and Lumia 735 announced in Berlin</a></li>
<li><a href="../235667/index.html">Health IT-Schnick and Relax Eye's</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>