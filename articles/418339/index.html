<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>"Manual" manipulator</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Once, during my second year at university, I was given the task: to cook something ‚Äúsort of‚Äù in order to confirm the high title of ‚Äúfuture robotics en...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>"Manual" manipulator</h1><div class="post__text post__text-html js-mediator-article">  Once, during my second year at university, I was given the task: to cook something ‚Äúsort of‚Äù in order to confirm the high title of ‚Äúfuture robotics engineer‚Äù.  On this pathetic note, I went into the depths of consciousness to search for ideas.  After a short journey, the thought of a device appeared, the creation theory of which I want to share with the public. <br><br>  The essence of this development.  Consider the usual, say, 5-axis manipulator (the kinematic structural diagram is shown in the figure below).  Its capabilities when moving in space are wide: it is capable of making movements in 5 coordinates, and simultaneously, i.e.  3 coordinates on three axes XYZ and rotation around two of them.  In this case, the working element of the manipulator is able to occupy any position in the working space and at the same time maintain the required orientation of the working body (not counting the rotation of the working element around its own axis). <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/h5/gw/vy/h5gwvyur-unszdlq6w-knkvihwe.jpeg" width="60%" height="60%" title="Kinematic manipulator circuit"></div><br><a name="habracut"></a><br>  This design refers to the anthropomorphic type manipulators and therefore is capable, of course, to reproduce the movement of the human hand.  Arguing over this thesis, it was just the thought that it would be interesting to do so that the manipulator could remotely copy the movements of my hand in real time.  So that I simply put a sensor on my arm that reads the movements of the arms (both linear and angular), and this mechanical thing will repeat them after me.  As a manipulator can perform the functions of moving and orienting the working organ, a person can move and orient his palm with the help of the arm, therefore these two processes are similar and can be represented as one common process - the capture of arm movement in real time. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <div class="spoiler">  <b class="spoiler_title">Rolled lip</b> <div class="spoiler_text">  Looking ahead, I will say that it was only possible to realize the capture of the orienting movement of the palm, i.e.  I could control the orientation of the working body, but not its linear movement in space. <br></div></div><br>  This completes the task statement.  Now we will analyze the task (it doesn‚Äôt turn the language to call it a ‚Äútechnical task‚Äù).  It is necessary to develop two structurally independent devices: the manipulator itself and the movement tracking device, which is mounted on the arm.  Then comes the time-consuming process of creating mathematical descriptions, compiling an algorithm, and writing software.  We divide the project into three parts: <br><br>  <b>1. Development of the manipulator</b> <b><br></b>  <b>2. Development of a device for tracking hand movements</b> <b><br></b>  <b>3. Everything else</b> <br><br>  <i>In brief about each of the stages:</i> <br><br><ol><li>  Here everything is trivial ... In CAD, we design the structure, carry out the detail drawings and produce them, then assemble them.  Then we calculate the kinematics and write our own software, which will hide the low-level references to the drives. </li><li>  At this stage, we determine the type of sensors, design a schematic diagram, manufacture a printed circuit board, develop an algorithm for determining the position in space, write software. </li><li>  Actually, for what were the previous stages - to force the manipulator to obey the owner.  Here I am developing an algorithm for converting coordinates into the working field of a manipulator. </li></ol><br><h2>  1. Development of the manipulator </h2><br>  In this project, as mentioned above, we use a manipulator with 5 degrees of freedom.  Such a number of degrees of freedom is sufficient, since  These include three linear displacements and two rotational displacements.  The last two are necessary for the orientation of the working body, since the direction of the PO in space can be specified as a vector, and the vector can definitely be reconstructed from two angles of rotation (disregarding lengths).  In this case, we need five generalized coordinates, equal to the number of axes. <br><br>  The links of the manipulator are connected by rotational kinematic pairs of the fifth class.  The design of the manipulator is standard for its type (the kinematic scheme is presented at the beginning of the article).  It consists of a fixed frame, with which the basic coordinate system is connected, a swivel rack, to which other moving links are attached, connected to a chain.  The end member (flange) is attached to the working body, in this case, its imitation is in the form of an arrow pointer (see the image below). <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/ma/wm/4x/mawm4xwu-eu237qnfobxwh-iod8.jpeg" width="80%" height="80%" title="3D model of the manipulator"></div><br><br><div class="spoiler">  <b class="spoiler_title">Build report</b> <div class="spoiler_text"><img src="https://habrastorage.org/webt/uo/py/zw/uopyzw7xmplktrnn2gczig6galw.jpeg"><br><br><img src="https://habrastorage.org/webt/6g/ij/fm/6gijfmin3vrlxabv1tvn-vo-n5o.jpeg"><br><br><img src="https://habrastorage.org/webt/og/km/os/ogkmosewl4f4_ov6aqdderxdi_m.jpeg"><br><br><img src="https://habrastorage.org/webt/yr/l0/07/yrl007rorumttpnvybjpgjuyjtq.jpeg"><br><br><img src="https://habrastorage.org/webt/eh/fu/ib/ehfuiby-5hzfhy-v0yvsuy4sm-0.jpeg"><br><br><img src="https://habrastorage.org/webt/ci/jl/ta/cijltadjdhzgeuuku5hokzt9qms.jpeg"><br><br><img src="https://habrastorage.org/webt/_e/sl/19/_esl19t5vwczrkiwo8mwe49chfs.jpeg"><br><br><img src="https://habrastorage.org/webt/jy/4r/sq/jy4rsqxkg9yqoyleniicbovkhxa.jpeg"><br><br><img src="https://habrastorage.org/webt/lv/jk/in/lvjkinurhswlmgxihrwjnsremm0.jpeg"><br><br><img src="https://habrastorage.org/webt/os/2d/qg/os2dqg9xqm5r0asdqhg4x5i7fha.jpeg"><br><br><img src="https://habrastorage.org/webt/kb/_h/sj/kb_hsjevrr-7afglodhdqwn1-rg.jpeg"><br><br><img src="https://habrastorage.org/webt/d8/vy/2u/d8vy2ulgeoqdhhn77c2vgrbqca8.jpeg"><br><br><img src="https://habrastorage.org/webt/om/z8/kc/omz8kcwufsjxk2jdips7u79e1n4.jpeg"><br><br><img src="https://habrastorage.org/webt/gz/8x/dj/gz8xdjl3wol93j0frmypb9ay-u8.jpeg"><br><br><img src="https://habrastorage.org/webt/8g/sd/6h/8gsd6hqozjd18azsi3wihiksjxy.jpeg"><br><br><img src="https://habrastorage.org/webt/xj/-k/q4/xj-kq4etmfcu6it8gmzhufpmo6y.jpeg"><br><br><img src="https://habrastorage.org/webt/ny/ys/qp/nyysqp24zqjeotp3wpr4mg8fn8s.jpeg"><br></div></div><br>  D ‚Äì model is built in CAD ‚ÄúCompass 3D‚Äù.  Material parts - 4 mm plywood and PLA for plastic parts.  Plywood details were cut out on a laser machine, plastic parts were printed on a 3d printer.  As the axis drives, Dynamixel AX-12 digital servo drives are used.  The appearance of the manipulator resembles one vile insect, from which he received the nickname "Komar". <br><br><h3>  Mathematical description of kinematics </h3><br>  At this stage it is necessary to calculate the direct and inverse kinematics of the manipulator.  The direct task is to determine the positions of the links relative to some basic coordinate system using known values ‚Äã‚Äãof the generalized coordinates (in this case, the angles of rotation of the links).  The inverse problem, called the inverse or inverse kinematics, consists in determining the parameters of the generalized coordinates to achieve the desired position and orientation of the manipulator's working body. <br><br>  Let's start with the calculation of inverse kinematics.  We draw the geometrical scheme of the manipulator, from which the geometric relations of interest to us will be clear. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/ik/vr/-o/ikvr-ojptuokifmwb90wksx7zbs.jpeg" width="100%" height="100%" title="Manipulator geometry"></div><br><br>  The desired position is depicted by the radius vector <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1"><span class="MJXp-mtext" id="MJXp-Span-2">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-3"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">v </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-4"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">e </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-5"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">c </font></font></span><span class="MJXp-mrow" id="MJXp-Span-6"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-7"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">r</font></font></span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-1-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="4.847ex" height="1.455ex" viewBox="0 -520.7 2087 626.5" role="img" focusable="false" style="vertical-align: -0.246ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/418339/&amp;xid=17259,1500004,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjRcJbFD5AaVt2F0wrXrRQfsZyc4g#MJMATHI-76" x="250" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/418339/&amp;xid=17259,1500004,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjRcJbFD5AaVt2F0wrXrRQfsZyc4g#MJMATHI-65" x="735" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/418339/&amp;xid=17259,1500004,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjRcJbFD5AaVt2F0wrXrRQfsZyc4g#MJMATHI-63" x="1202" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/418339/&amp;xid=17259,1500004,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjRcJbFD5AaVt2F0wrXrRQfsZyc4g#MJMATHI-72" x="1635" y="0"></use></g></svg></span><script type="math/tex" id="MathJax-Element-1"> \ vec {r} </script>  .  It is worth explaining why the vector <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-8"><span class="MJXp-mtext" id="MJXp-Span-9">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-10"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">v </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-11"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">e </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-12"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">c </font></font></span><span class="MJXp-mrow" id="MJXp-Span-13"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-14"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">r</font></font></span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-2-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="4.847ex" height="1.455ex" viewBox="0 -520.7 2087 626.5" role="img" focusable="false" style="vertical-align: -0.246ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/418339/&amp;xid=17259,1500004,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjRcJbFD5AaVt2F0wrXrRQfsZyc4g#MJMATHI-76" x="250" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/418339/&amp;xid=17259,1500004,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjRcJbFD5AaVt2F0wrXrRQfsZyc4g#MJMATHI-65" x="735" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/418339/&amp;xid=17259,1500004,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjRcJbFD5AaVt2F0wrXrRQfsZyc4g#MJMATHI-63" x="1202" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/418339/&amp;xid=17259,1500004,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjRcJbFD5AaVt2F0wrXrRQfsZyc4g#MJMATHI-72" x="1635" y="0"></use></g></svg></span><script type="math/tex" id="MathJax-Element-2"> \ vec {r} </script>  drawn to the flange point, and not to the end point of the PO.  Since the orientation of the working body is known to us in advance (I define it myself according to some requirements), it is necessary that the flange point be in the right place, indicated as a vector <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-15"><span class="MJXp-mtext" id="MJXp-Span-16">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-17"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">v </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-18"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">e </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-19"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">c </font></font></span><span class="MJXp-mrow" id="MJXp-Span-20"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-21"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">r</font></font></span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-3-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="4.847ex" height="1.455ex" viewBox="0 -520.7 2087 626.5" role="img" focusable="false" style="vertical-align: -0.246ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/418339/&amp;xid=17259,1500004,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjRcJbFD5AaVt2F0wrXrRQfsZyc4g#MJMATHI-76" x="250" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/418339/&amp;xid=17259,1500004,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjRcJbFD5AaVt2F0wrXrRQfsZyc4g#MJMATHI-65" x="735" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/418339/&amp;xid=17259,1500004,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjRcJbFD5AaVt2F0wrXrRQfsZyc4g#MJMATHI-63" x="1202" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/418339/&amp;xid=17259,1500004,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjRcJbFD5AaVt2F0wrXrRQfsZyc4g#MJMATHI-72" x="1635" y="0"></use></g></svg></span><script type="math/tex" id="MathJax-Element-3"> \ vec {r} </script>  .  This vector is obtained by subtracting from the radius vector <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-22"><span class="MJXp-mtext" id="MJXp-Span-23">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-24"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">v </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-25"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">e </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-26"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">c </font></font></span><span class="MJXp-mrow" id="MJXp-Span-27"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-28"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">R</font></font></span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-4-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="5.563ex" height="2.057ex" viewBox="0 -780.1 2395 885.9" role="img" focusable="false" style="vertical-align: -0.246ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/418339/&amp;xid=17259,1500004,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjRcJbFD5AaVt2F0wrXrRQfsZyc4g#MJMATHI-76" x="250" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/418339/&amp;xid=17259,1500004,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjRcJbFD5AaVt2F0wrXrRQfsZyc4g#MJMATHI-65" x="735" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/418339/&amp;xid=17259,1500004,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjRcJbFD5AaVt2F0wrXrRQfsZyc4g#MJMATHI-63" x="1202" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/418339/&amp;xid=17259,1500004,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjRcJbFD5AaVt2F0wrXrRQfsZyc4g#MJMATHI-52" x="1635" y="0"></use></g></svg></span><script type="math/tex" id="MathJax-Element-4"> \ vec {R} </script>  drawn to the end point PO, its orientation vector <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-29"><span class="MJXp-mtext" id="MJXp-Span-30">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-31"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">v </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-32"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">e </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-33"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">c </font></font></span><span class="MJXp-mrow" id="MJXp-Span-34"><span class="MJXp-msubsup" id="MJXp-Span-35"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-36" style="margin-right: 0.05em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">v </font></font></span><span class="MJXp-mn MJXp-script" id="MJXp-Span-37" style="vertical-align: -0.4em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">0</font></font></span></span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-5-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="5.98ex" height="1.817ex" viewBox="0 -520.7 2574.9 782.1" role="img" focusable="false" style="vertical-align: -0.607ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/418339/&amp;xid=17259,1500004,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjRcJbFD5AaVt2F0wrXrRQfsZyc4g#MJMATHI-76" x="250" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/418339/&amp;xid=17259,1500004,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjRcJbFD5AaVt2F0wrXrRQfsZyc4g#MJMATHI-65" x="735" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/418339/&amp;xid=17259,1500004,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjRcJbFD5AaVt2F0wrXrRQfsZyc4g#MJMATHI-63" x="1202" y="0"></use><g transform="translate(1635,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/418339/&amp;xid=17259,1500004,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjRcJbFD5AaVt2F0wrXrRQfsZyc4g#MJMATHI-76" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/418339/&amp;xid=17259,1500004,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjRcJbFD5AaVt2F0wrXrRQfsZyc4g#MJMAIN-30" x="686" y="-213"></use></g></g></svg></span><script type="math/tex" id="MathJax-Element-5"> \ vec {v_0} </script>  regarding BSC, i.e. <br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-38"><span class="MJXp-mtext" id="MJXp-Span-39">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-40"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">v </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-41"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">e </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-42"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">c </font></font></span><span class="MJXp-mrow" id="MJXp-Span-43"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-44"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">r</font></font></span></span><span class="MJXp-mo" id="MJXp-Span-45" style="margin-left: 0.333em; margin-right: 0.333em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> = </font></font></span><font style="vertical-align: inherit;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-47"><font style="vertical-align: inherit;">v </font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-48"><font style="vertical-align: inherit;">e </font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-49"><font style="vertical-align: inherit;">c </font></span><span class="MJXp-mrow" id="MJXp-Span-50"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-51"><font style="vertical-align: inherit;">R</font></span></span><span class="MJXp-mo" id="MJXp-Span-52" style="margin-left: 0.267em; margin-right: 0.267em;"><font style="vertical-align: inherit;"> - </font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-54"><font style="vertical-align: inherit;">v </font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-55"><font style="vertical-align: inherit;">e </font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-56"><font style="vertical-align: inherit;">c </font></span><span class="MJXp-mrow" id="MJXp-Span-57"><span class="MJXp-msubsup" id="MJXp-Span-58"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-59" style="margin-right: 0.05em;"><font style="vertical-align: inherit;">v </font></span></span></span><span class="MJXp-mrow" id="MJXp-Span-57"><span class="MJXp-msubsup" id="MJXp-Span-58"><span class="MJXp-mn MJXp-script" id="MJXp-Span-60" style="vertical-align: -0.4em;"><font style="vertical-align: inherit;">0</font></span></span></span></font><span class="MJXp-mtext" id="MJXp-Span-46">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-47"><font style="vertical-align: inherit;"></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-48"><font style="vertical-align: inherit;"></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-49"><font style="vertical-align: inherit;"></font></span><span class="MJXp-mrow" id="MJXp-Span-50"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-51"><font style="vertical-align: inherit;"></font></span></span><span class="MJXp-mo" id="MJXp-Span-52" style="margin-left: 0.267em; margin-right: 0.267em;"><font style="vertical-align: inherit;"></font></span><span class="MJXp-mtext" id="MJXp-Span-53">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-54"><font style="vertical-align: inherit;"></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-55"><font style="vertical-align: inherit;"></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-56"><font style="vertical-align: inherit;"></font></span><span class="MJXp-mrow" id="MJXp-Span-57"><span class="MJXp-msubsup" id="MJXp-Span-58"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-59" style="margin-right: 0.05em;"><font style="vertical-align: inherit;"></font></span><span class="MJXp-mn MJXp-script" id="MJXp-Span-60" style="vertical-align: -0.4em;"><font style="vertical-align: inherit;"></font></span></span></span></span></span><div class="MathJax_SVG_Display MathJax_SVG_Processed" style="text-align: center;"><span class="MathJax_SVG" id="MathJax-Element-6-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="22.329ex" height="2.419ex" viewBox="0 -780.1 9613.9 1041.5" role="img" focusable="false" style="vertical-align: -0.607ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/418339/&amp;xid=17259,1500004,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjRcJbFD5AaVt2F0wrXrRQfsZyc4g#MJMATHI-76" x="250" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/418339/&amp;xid=17259,1500004,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjRcJbFD5AaVt2F0wrXrRQfsZyc4g#MJMATHI-65" x="735" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/418339/&amp;xid=17259,1500004,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjRcJbFD5AaVt2F0wrXrRQfsZyc4g#MJMATHI-63" x="1202" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/418339/&amp;xid=17259,1500004,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjRcJbFD5AaVt2F0wrXrRQfsZyc4g#MJMATHI-72" x="1635" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/418339/&amp;xid=17259,1500004,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjRcJbFD5AaVt2F0wrXrRQfsZyc4g#MJMAIN-3D" x="2364" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/418339/&amp;xid=17259,1500004,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjRcJbFD5AaVt2F0wrXrRQfsZyc4g#MJMATHI-76" x="3671" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/418339/&amp;xid=17259,1500004,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjRcJbFD5AaVt2F0wrXrRQfsZyc4g#MJMATHI-65" x="4156" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/418339/&amp;xid=17259,1500004,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjRcJbFD5AaVt2F0wrXrRQfsZyc4g#MJMATHI-63" x="4623" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/418339/&amp;xid=17259,1500004,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjRcJbFD5AaVt2F0wrXrRQfsZyc4g#MJMATHI-52" x="5056" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/418339/&amp;xid=17259,1500004,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjRcJbFD5AaVt2F0wrXrRQfsZyc4g#MJMAIN-2212" x="6038" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/418339/&amp;xid=17259,1500004,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjRcJbFD5AaVt2F0wrXrRQfsZyc4g#MJMATHI-76" x="7289" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/418339/&amp;xid=17259,1500004,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjRcJbFD5AaVt2F0wrXrRQfsZyc4g#MJMATHI-65" x="7774" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/418339/&amp;xid=17259,1500004,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjRcJbFD5AaVt2F0wrXrRQfsZyc4g#MJMATHI-63" x="8241" y="0"></use><g transform="translate(8674,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/418339/&amp;xid=17259,1500004,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjRcJbFD5AaVt2F0wrXrRQfsZyc4g#MJMATHI-76" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/418339/&amp;xid=17259,1500004,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjRcJbFD5AaVt2F0wrXrRQfsZyc4g#MJMAIN-30" x="686" y="-213"></use></g></g></svg></span></div><script type="math/tex;mode=display" id="MathJax-Element-6"> \ vec {r} = \ vec {R} - \ vec {v_0} </script></p><br>  Consider moving the flange point to the desired position.  It is carried out by the turns of the links <i>a</i> and <i>b</i> (I depicted them as vectors) in the hinges <i>A</i> , <i>B</i> and <i>C.</i>  The beginning of the base coordinate system (BSC) is placed at the hinge point <i>B.</i>  The axis of rotation of the hinge <i>A is</i> directed along the <i>Z</i> axis, the axes <i>B</i> and <i>C are</i> perpendicular to <i>Z.</i> <br><br>  When all the formalities are met, let's get to the point.  To solve the inverse problem of kinematics, I used the geometric approach due to the simplicity of the design of the manipulator.  From the geometry it is clear that the vector <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-61"><span class="MJXp-mtext" id="MJXp-Span-62">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-63"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">v </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-64"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">e </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-65"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">c </font></font></span><span class="MJXp-mrow" id="MJXp-Span-66"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-67"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">r</font></font></span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-7-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="4.847ex" height="1.455ex" viewBox="0 -520.7 2087 626.5" role="img" focusable="false" style="vertical-align: -0.246ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/418339/&amp;xid=17259,1500004,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjRcJbFD5AaVt2F0wrXrRQfsZyc4g#MJMATHI-76" x="250" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/418339/&amp;xid=17259,1500004,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjRcJbFD5AaVt2F0wrXrRQfsZyc4g#MJMATHI-65" x="735" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/418339/&amp;xid=17259,1500004,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjRcJbFD5AaVt2F0wrXrRQfsZyc4g#MJMATHI-63" x="1202" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/418339/&amp;xid=17259,1500004,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjRcJbFD5AaVt2F0wrXrRQfsZyc4g#MJMATHI-72" x="1635" y="0"></use></g></svg></span><script type="math/tex" id="MathJax-Element-7"> \ vec {r} </script>  equals sum of link vectors <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-68"><span class="MJXp-mtext" id="MJXp-Span-69">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-70"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">v </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-71"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">e </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-72"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">c </font></font></span><span class="MJXp-mrow" id="MJXp-Span-73"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-74"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">a</font></font></span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-8-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="5.028ex" height="1.455ex" viewBox="0 -520.7 2165 626.5" role="img" focusable="false" style="vertical-align: -0.246ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/418339/&amp;xid=17259,1500004,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjRcJbFD5AaVt2F0wrXrRQfsZyc4g#MJMATHI-76" x="250" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/418339/&amp;xid=17259,1500004,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjRcJbFD5AaVt2F0wrXrRQfsZyc4g#MJMATHI-65" x="735" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/418339/&amp;xid=17259,1500004,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjRcJbFD5AaVt2F0wrXrRQfsZyc4g#MJMATHI-63" x="1202" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/418339/&amp;xid=17259,1500004,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjRcJbFD5AaVt2F0wrXrRQfsZyc4g#MJMATHI-61" x="1635" y="0"></use></g></svg></span><script type="math/tex" id="MathJax-Element-8"> \ vec {a} </script>  and <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-75"><span class="MJXp-mtext" id="MJXp-Span-76">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-77"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">v </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-78"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">e </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-79"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">c </font></font></span><span class="MJXp-mrow" id="MJXp-Span-80"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-81"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">b</font></font></span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-9-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="4.796ex" height="2.057ex" viewBox="0 -780.1 2065 885.9" role="img" focusable="false" style="vertical-align: -0.246ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/418339/&amp;xid=17259,1500004,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjRcJbFD5AaVt2F0wrXrRQfsZyc4g#MJMATHI-76" x="250" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/418339/&amp;xid=17259,1500004,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjRcJbFD5AaVt2F0wrXrRQfsZyc4g#MJMATHI-65" x="735" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/418339/&amp;xid=17259,1500004,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjRcJbFD5AaVt2F0wrXrRQfsZyc4g#MJMATHI-63" x="1202" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/418339/&amp;xid=17259,1500004,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjRcJbFD5AaVt2F0wrXrRQfsZyc4g#MJMATHI-62" x="1635" y="0"></use></g></svg></span><script type="math/tex" id="MathJax-Element-9"> \ vec {b} </script>  .  Corners <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-82"><span class="MJXp-mtext" id="MJXp-Span-83">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-84"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">t </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-85"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">h </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-86"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">e </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-87"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">t </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-88"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">a</font></font></span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-10-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="5.912ex" height="2.057ex" viewBox="0 -780.1 2545.5 885.9" role="img" focusable="false" style="vertical-align: -0.246ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/418339/&amp;xid=17259,1500004,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjRcJbFD5AaVt2F0wrXrRQfsZyc4g#MJMATHI-74" x="250" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/418339/&amp;xid=17259,1500004,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjRcJbFD5AaVt2F0wrXrRQfsZyc4g#MJMATHI-68" x="611" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/418339/&amp;xid=17259,1500004,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjRcJbFD5AaVt2F0wrXrRQfsZyc4g#MJMATHI-65" x="1188" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/418339/&amp;xid=17259,1500004,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjRcJbFD5AaVt2F0wrXrRQfsZyc4g#MJMATHI-74" x="1654" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/418339/&amp;xid=17259,1500004,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjRcJbFD5AaVt2F0wrXrRQfsZyc4g#MJMATHI-61" x="2016" y="0"></use></g></svg></span><script type="math/tex" id="MathJax-Element-10"> \ theta </script>  , <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-89"><span class="MJXp-mtext" id="MJXp-Span-90">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-91"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">g </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-92"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">a </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-93"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">m </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-94"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">m </font></font></span><span class="MJXp-msubsup" id="MJXp-Span-95"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-96" style="margin-right: 0.05em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">a </font></font></span><span class="MJXp-mn MJXp-script" id="MJXp-Span-97" style="vertical-align: -0.4em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1</font></font></span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-11-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="9.291ex" height="1.817ex" viewBox="0 -520.7 4000.4 782.1" role="img" focusable="false" style="vertical-align: -0.607ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/418339/&amp;xid=17259,1500004,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjRcJbFD5AaVt2F0wrXrRQfsZyc4g#MJMATHI-67" x="250" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/418339/&amp;xid=17259,1500004,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjRcJbFD5AaVt2F0wrXrRQfsZyc4g#MJMATHI-61" x="730" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/418339/&amp;xid=17259,1500004,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjRcJbFD5AaVt2F0wrXrRQfsZyc4g#MJMATHI-6D" x="1260" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/418339/&amp;xid=17259,1500004,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjRcJbFD5AaVt2F0wrXrRQfsZyc4g#MJMATHI-6D" x="2138" y="0"></use><g transform="translate(3017,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/418339/&amp;xid=17259,1500004,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjRcJbFD5AaVt2F0wrXrRQfsZyc4g#MJMATHI-61" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/418339/&amp;xid=17259,1500004,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjRcJbFD5AaVt2F0wrXrRQfsZyc4g#MJMAIN-31" x="748" y="-213"></use></g></g></svg></span><script type="math/tex" id="MathJax-Element-11"> \ gamma_1 </script>  , <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-98"><span class="MJXp-mtext" id="MJXp-Span-99">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-100"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">g </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-101"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">a </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-102"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">m </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-103"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">m </font></font></span><span class="MJXp-msubsup" id="MJXp-Span-104"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-105" style="margin-right: 0.05em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">a </font></font></span><span class="MJXp-mn MJXp-script" id="MJXp-Span-106" style="vertical-align: -0.4em;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2</font></font></span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-12-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="9.291ex" height="1.817ex" viewBox="0 -520.7 4000.4 782.1" role="img" focusable="false" style="vertical-align: -0.607ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/418339/&amp;xid=17259,1500004,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjRcJbFD5AaVt2F0wrXrRQfsZyc4g#MJMATHI-67" x="250" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/418339/&amp;xid=17259,1500004,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjRcJbFD5AaVt2F0wrXrRQfsZyc4g#MJMATHI-61" x="730" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/418339/&amp;xid=17259,1500004,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjRcJbFD5AaVt2F0wrXrRQfsZyc4g#MJMATHI-6D" x="1260" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/418339/&amp;xid=17259,1500004,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjRcJbFD5AaVt2F0wrXrRQfsZyc4g#MJMATHI-6D" x="2138" y="0"></use><g transform="translate(3017,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/418339/&amp;xid=17259,1500004,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjRcJbFD5AaVt2F0wrXrRQfsZyc4g#MJMATHI-61" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/418339/&amp;xid=17259,1500004,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjRcJbFD5AaVt2F0wrXrRQfsZyc4g#MJMAIN-32" x="748" y="-213"></use></g></g></svg></span><script type="math/tex" id="MathJax-Element-12"> \ gamma_2 </script>  - angles of rotation of links <i>A</i> , <i>B</i> and <i>C,</i> respectively. <br>  Consider a triangle bounded by vectors <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-107"><span class="MJXp-mtext" id="MJXp-Span-108">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-109"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">v </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-110"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">e </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-111"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">c </font></font></span><span class="MJXp-mrow" id="MJXp-Span-112"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-113"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">r</font></font></span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-13-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="4.847ex" height="1.455ex" viewBox="0 -520.7 2087 626.5" role="img" focusable="false" style="vertical-align: -0.246ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/418339/&amp;xid=17259,1500004,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjRcJbFD5AaVt2F0wrXrRQfsZyc4g#MJMATHI-76" x="250" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/418339/&amp;xid=17259,1500004,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjRcJbFD5AaVt2F0wrXrRQfsZyc4g#MJMATHI-65" x="735" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/418339/&amp;xid=17259,1500004,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjRcJbFD5AaVt2F0wrXrRQfsZyc4g#MJMATHI-63" x="1202" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/418339/&amp;xid=17259,1500004,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjRcJbFD5AaVt2F0wrXrRQfsZyc4g#MJMATHI-72" x="1635" y="0"></use></g></svg></span><script type="math/tex" id="MathJax-Element-13"> \ vec {r} </script>  , <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-114"><span class="MJXp-mtext" id="MJXp-Span-115">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-116"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">v </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-117"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">e </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-118"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">c </font></font></span><span class="MJXp-mrow" id="MJXp-Span-119"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-120"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">a</font></font></span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-14-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="5.028ex" height="1.455ex" viewBox="0 -520.7 2165 626.5" role="img" focusable="false" style="vertical-align: -0.246ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/418339/&amp;xid=17259,1500004,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjRcJbFD5AaVt2F0wrXrRQfsZyc4g#MJMATHI-76" x="250" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/418339/&amp;xid=17259,1500004,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjRcJbFD5AaVt2F0wrXrRQfsZyc4g#MJMATHI-65" x="735" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/418339/&amp;xid=17259,1500004,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjRcJbFD5AaVt2F0wrXrRQfsZyc4g#MJMATHI-63" x="1202" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/418339/&amp;xid=17259,1500004,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjRcJbFD5AaVt2F0wrXrRQfsZyc4g#MJMATHI-61" x="1635" y="0"></use></g></svg></span><script type="math/tex" id="MathJax-Element-14"> \ vec {a} </script>  and <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-121"><span class="MJXp-mtext" id="MJXp-Span-122">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-123"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">v </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-124"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">e </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-125"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">c </font></font></span><span class="MJXp-mrow" id="MJXp-Span-126"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-127"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">b</font></font></span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-15-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="4.796ex" height="2.057ex" viewBox="0 -780.1 2065 885.9" role="img" focusable="false" style="vertical-align: -0.246ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/418339/&amp;xid=17259,1500004,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjRcJbFD5AaVt2F0wrXrRQfsZyc4g#MJMATHI-76" x="250" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/418339/&amp;xid=17259,1500004,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjRcJbFD5AaVt2F0wrXrRQfsZyc4g#MJMATHI-65" x="735" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/418339/&amp;xid=17259,1500004,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjRcJbFD5AaVt2F0wrXrRQfsZyc4g#MJMATHI-63" x="1202" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/418339/&amp;xid=17259,1500004,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjRcJbFD5AaVt2F0wrXrRQfsZyc4g#MJMATHI-62" x="1635" y="0"></use></g></svg></span><script type="math/tex" id="MathJax-Element-15"> \ vec {b} </script>  .  From this triangle, by the cosine theorem, we find the angles <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-128"><span class="MJXp-mtext" id="MJXp-Span-129">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-130"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">a </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-131"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">l </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-132"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">p </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-133"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">h </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-134"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">a</font></font></span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-16-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="6.242ex" height="2.419ex" viewBox="0 -780.1 2687.5 1041.5" role="img" focusable="false" style="vertical-align: -0.607ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/418339/&amp;xid=17259,1500004,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjRcJbFD5AaVt2F0wrXrRQfsZyc4g#MJMATHI-61" x="250" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/418339/&amp;xid=17259,1500004,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjRcJbFD5AaVt2F0wrXrRQfsZyc4g#MJMATHI-6C" x="779" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/418339/&amp;xid=17259,1500004,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjRcJbFD5AaVt2F0wrXrRQfsZyc4g#MJMATHI-70" x="1078" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/418339/&amp;xid=17259,1500004,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjRcJbFD5AaVt2F0wrXrRQfsZyc4g#MJMATHI-68" x="1581" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/418339/&amp;xid=17259,1500004,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjRcJbFD5AaVt2F0wrXrRQfsZyc4g#MJMATHI-61" x="2158" y="0"></use></g></svg></span><script type="math/tex" id="MathJax-Element-16"> \ alpha </script>  and <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-135"><span class="MJXp-mtext" id="MJXp-Span-136">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-137"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">b </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-138"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">e </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-139"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">t </font></font></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-140"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">a</font></font></span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-17-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="4.731ex" height="2.057ex" viewBox="0 -780.1 2037 885.9" role="img" focusable="false" style="vertical-align: -0.246ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/418339/&amp;xid=17259,1500004,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjRcJbFD5AaVt2F0wrXrRQfsZyc4g#MJMATHI-62" x="250" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/418339/&amp;xid=17259,1500004,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjRcJbFD5AaVt2F0wrXrRQfsZyc4g#MJMATHI-65" x="679" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/418339/&amp;xid=17259,1500004,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjRcJbFD5AaVt2F0wrXrRQfsZyc4g#MJMATHI-74" x="1146" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/418339/&amp;xid=17259,1500004,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjRcJbFD5AaVt2F0wrXrRQfsZyc4g#MJMATHI-61" x="1507" y="0"></use></g></svg></span><script type="math/tex" id="MathJax-Element-17"> \ beta </script>  .  Let the lengths of the vectors be equal: <br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-141"><span class="MJXp-mrow" id="MJXp-Span-142"><span class="MJXp-mo" id="MJXp-Span-143" style="margin-left: 0.167em; margin-right: 0.167em;">|</span></span><span class="MJXp-mtext" id="MJXp-Span-144">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-145">v</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-146">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-147">c</span><span class="MJXp-mrow" id="MJXp-Span-148"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-149">r</span></span><span class="MJXp-mrow" id="MJXp-Span-150"><span class="MJXp-mo" id="MJXp-Span-151" style="margin-left: 0.167em; margin-right: 0.167em;">|</span></span><span class="MJXp-mo" id="MJXp-Span-152" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-153">r</span><span class="MJXp-mtext" id="MJXp-Span-154">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-155">q</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-156">u</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-157">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-158">d</span><span class="MJXp-mrow" id="MJXp-Span-159"><span class="MJXp-mo" id="MJXp-Span-160" style="margin-left: 0.167em; margin-right: 0.167em;">|</span></span><span class="MJXp-mtext" id="MJXp-Span-161">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-162">v</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-163">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-164">c</span><span class="MJXp-mrow" id="MJXp-Span-165"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-166">a</span></span><span class="MJXp-mrow" id="MJXp-Span-167"><span class="MJXp-mo" id="MJXp-Span-168" style="margin-left: 0.167em; margin-right: 0.167em;">|</span></span><span class="MJXp-mo" id="MJXp-Span-169" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-170">a</span><span class="MJXp-mtext" id="MJXp-Span-171">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-172">q</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-173">u</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-174">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-175">d</span><span class="MJXp-mrow" id="MJXp-Span-176"><span class="MJXp-mo" id="MJXp-Span-177" style="margin-left: 0.167em; margin-right: 0.167em;">|</span></span><span class="MJXp-mtext" id="MJXp-Span-178">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-179">v</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-180">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-181">c</span><span class="MJXp-mrow" id="MJXp-Span-182"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-183">b</span></span><span class="MJXp-mrow" id="MJXp-Span-184"><span class="MJXp-mo" id="MJXp-Span-185" style="margin-left: 0.167em; margin-right: 0.167em;">|</span></span><span class="MJXp-mo" id="MJXp-Span-186" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-187">b</span></span></span><div class="MathJax_SVG_Display MathJax_SVG_Processed" style="text-align: center;"><span class="MathJax_SVG" id="MathJax-Element-18-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="41.975ex" height="2.66ex" viewBox="0 -832 18072.7 1145.2" role="img" focusable="false" style="vertical-align: -0.728ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/418339/&amp;xid=17259,1500004,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjRcJbFD5AaVt2F0wrXrRQfsZyc4g#MJMAIN-7C" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/418339/&amp;xid=17259,1500004,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjRcJbFD5AaVt2F0wrXrRQfsZyc4g#MJMATHI-76" x="528" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/418339/&amp;xid=17259,1500004,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjRcJbFD5AaVt2F0wrXrRQfsZyc4g#MJMATHI-65" x="1014" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/418339/&amp;xid=17259,1500004,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjRcJbFD5AaVt2F0wrXrRQfsZyc4g#MJMATHI-63" x="1480" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/418339/&amp;xid=17259,1500004,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjRcJbFD5AaVt2F0wrXrRQfsZyc4g#MJMATHI-72" x="1914" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/418339/&amp;xid=17259,1500004,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjRcJbFD5AaVt2F0wrXrRQfsZyc4g#MJMAIN-7C" x="2365" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/418339/&amp;xid=17259,1500004,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjRcJbFD5AaVt2F0wrXrRQfsZyc4g#MJMAIN-3D" x="2921" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/418339/&amp;xid=17259,1500004,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjRcJbFD5AaVt2F0wrXrRQfsZyc4g#MJMATHI-72" x="3978" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/418339/&amp;xid=17259,1500004,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjRcJbFD5AaVt2F0wrXrRQfsZyc4g#MJMATHI-71" x="4679" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/418339/&amp;xid=17259,1500004,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjRcJbFD5AaVt2F0wrXrRQfsZyc4g#MJMATHI-75" x="5140" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/418339/&amp;xid=17259,1500004,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjRcJbFD5AaVt2F0wrXrRQfsZyc4g#MJMATHI-61" x="5712" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/418339/&amp;xid=17259,1500004,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjRcJbFD5AaVt2F0wrXrRQfsZyc4g#MJMATHI-64" x="6242" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/418339/&amp;xid=17259,1500004,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjRcJbFD5AaVt2F0wrXrRQfsZyc4g#MJMAIN-7C" x="6765" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/418339/&amp;xid=17259,1500004,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjRcJbFD5AaVt2F0wrXrRQfsZyc4g#MJMATHI-76" x="7294" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/418339/&amp;xid=17259,1500004,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjRcJbFD5AaVt2F0wrXrRQfsZyc4g#MJMATHI-65" x="7779" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/418339/&amp;xid=17259,1500004,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjRcJbFD5AaVt2F0wrXrRQfsZyc4g#MJMATHI-63" x="8246" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/418339/&amp;xid=17259,1500004,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjRcJbFD5AaVt2F0wrXrRQfsZyc4g#MJMATHI-61" x="8679" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/418339/&amp;xid=17259,1500004,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjRcJbFD5AaVt2F0wrXrRQfsZyc4g#MJMAIN-7C" x="9209" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/418339/&amp;xid=17259,1500004,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjRcJbFD5AaVt2F0wrXrRQfsZyc4g#MJMAIN-3D" x="9765" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/418339/&amp;xid=17259,1500004,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjRcJbFD5AaVt2F0wrXrRQfsZyc4g#MJMATHI-61" x="10821" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/418339/&amp;xid=17259,1500004,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjRcJbFD5AaVt2F0wrXrRQfsZyc4g#MJMATHI-71" x="11601" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/418339/&amp;xid=17259,1500004,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjRcJbFD5AaVt2F0wrXrRQfsZyc4g#MJMATHI-75" x="12061" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/418339/&amp;xid=17259,1500004,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjRcJbFD5AaVt2F0wrXrRQfsZyc4g#MJMATHI-61" x="12634" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/418339/&amp;xid=17259,1500004,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjRcJbFD5AaVt2F0wrXrRQfsZyc4g#MJMATHI-64" x="13163" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/418339/&amp;xid=17259,1500004,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjRcJbFD5AaVt2F0wrXrRQfsZyc4g#MJMAIN-7C" x="13687" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/418339/&amp;xid=17259,1500004,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjRcJbFD5AaVt2F0wrXrRQfsZyc4g#MJMATHI-76" x="14215" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/418339/&amp;xid=17259,1500004,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjRcJbFD5AaVt2F0wrXrRQfsZyc4g#MJMATHI-65" x="14701" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/418339/&amp;xid=17259,1500004,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjRcJbFD5AaVt2F0wrXrRQfsZyc4g#MJMATHI-63" x="15167" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/418339/&amp;xid=17259,1500004,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjRcJbFD5AaVt2F0wrXrRQfsZyc4g#MJMATHI-62" x="15601" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/418339/&amp;xid=17259,1500004,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjRcJbFD5AaVt2F0wrXrRQfsZyc4g#MJMAIN-7C" x="16030" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/418339/&amp;xid=17259,1500004,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjRcJbFD5AaVt2F0wrXrRQfsZyc4g#MJMAIN-3D" x="16586" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/418339/&amp;xid=17259,1500004,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjRcJbFD5AaVt2F0wrXrRQfsZyc4g#MJMATHI-62" x="17643" y="0"></use></g></svg></span></div><script type="math/tex;mode=display" id="MathJax-Element-18"> | \ vec {r} | = r \ quad | \ vec {a} | = a \ quad | \ vec {b} | = b </script></p><br>  We write the cosine theorem with respect to the desired angles: <br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-188"><span class="MJXp-msubsup" id="MJXp-Span-189"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-190" style="margin-right: 0.05em;">b</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-191" style="vertical-align: 0.5em;">2</span></span><span class="MJXp-mo" id="MJXp-Span-192" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-msubsup" id="MJXp-Span-193"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-194" style="margin-right: 0.05em;">a</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-195" style="vertical-align: 0.5em;">2</span></span><span class="MJXp-mo" id="MJXp-Span-196" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-msubsup" id="MJXp-Span-197"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-198" style="margin-right: 0.05em;">r</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-199" style="vertical-align: 0.5em;">2</span></span><span class="MJXp-mo" id="MJXp-Span-200" style="margin-left: 0.267em; margin-right: 0.267em;">‚àí</span><span class="MJXp-mn" id="MJXp-Span-201">2</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-202">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-203">r</span><span class="MJXp-mtext" id="MJXp-Span-204">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-205">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-206">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-207">s</span><span class="MJXp-mo" id="MJXp-Span-208" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mtext" id="MJXp-Span-209">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-210">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-211">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-212">p</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-213">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-214">a</span><span class="MJXp-mo" id="MJXp-Span-215" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mspace" id="MJXp-Span-216" style="width: 0em; height: 0em;"></span><span class="MJXp-msubsup" id="MJXp-Span-217"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-218" style="margin-right: 0.05em;">r</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-219" style="vertical-align: 0.5em;">2</span></span><span class="MJXp-mo" id="MJXp-Span-220" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-msubsup" id="MJXp-Span-221"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-222" style="margin-right: 0.05em;">a</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-223" style="vertical-align: 0.5em;">2</span></span><span class="MJXp-mo" id="MJXp-Span-224" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-msubsup" id="MJXp-Span-225"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-226" style="margin-right: 0.05em;">b</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-227" style="vertical-align: 0.5em;">2</span></span><span class="MJXp-mo" id="MJXp-Span-228" style="margin-left: 0.267em; margin-right: 0.267em;">‚àí</span><span class="MJXp-mn" id="MJXp-Span-229">2</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-230">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-231">b</span><span class="MJXp-mtext" id="MJXp-Span-232">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-233">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-234">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-235">s</span><span class="MJXp-mo" id="MJXp-Span-236" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mtext" id="MJXp-Span-237">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-238">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-239">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-240">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-241">a</span><span class="MJXp-mo" id="MJXp-Span-242" style="margin-left: 0em; margin-right: 0em;">)</span></span></span><div class="MathJax_SVG_Display MathJax_SVG_Processed"><span class="MathJax_SVG" id="MathJax-Element-19-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="93.735ex" height="6.756ex" viewBox="0 -987.6 40358 2908.9" role="img" focusable="false" style="vertical-align: -4.462ex; max-width: 778px;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><g transform="translate(13609,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/418339/&amp;xid=17259,1500004,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjRcJbFD5AaVt2F0wrXrRQfsZyc4g#MJMATHI-62" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/418339/&amp;xid=17259,1500004,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjRcJbFD5AaVt2F0wrXrRQfsZyc4g#MJMAIN-32" x="607" y="583"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/418339/&amp;xid=17259,1500004,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjRcJbFD5AaVt2F0wrXrRQfsZyc4g#MJMAIN-3D" x="1161" y="0"></use><g transform="translate(2217,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/418339/&amp;xid=17259,1500004,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjRcJbFD5AaVt2F0wrXrRQfsZyc4g#MJMATHI-61" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/418339/&amp;xid=17259,1500004,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjRcJbFD5AaVt2F0wrXrRQfsZyc4g#MJMAIN-32" x="748" y="583"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/418339/&amp;xid=17259,1500004,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjRcJbFD5AaVt2F0wrXrRQfsZyc4g#MJMAIN-2B" x="3423" y="0"></use><g transform="translate(4423,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/418339/&amp;xid=17259,1500004,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjRcJbFD5AaVt2F0wrXrRQfsZyc4g#MJMATHI-72" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/418339/&amp;xid=17259,1500004,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjRcJbFD5AaVt2F0wrXrRQfsZyc4g#MJMAIN-32" x="638" y="583"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/418339/&amp;xid=17259,1500004,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjRcJbFD5AaVt2F0wrXrRQfsZyc4g#MJMAIN-2212" x="5551" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/418339/&amp;xid=17259,1500004,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjRcJbFD5AaVt2F0wrXrRQfsZyc4g#MJMAIN-32" x="6552" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/418339/&amp;xid=17259,1500004,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjRcJbFD5AaVt2F0wrXrRQfsZyc4g#MJMATHI-61" x="7052" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/418339/&amp;xid=17259,1500004,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjRcJbFD5AaVt2F0wrXrRQfsZyc4g#MJMATHI-72" x="7582" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/418339/&amp;xid=17259,1500004,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjRcJbFD5AaVt2F0wrXrRQfsZyc4g#MJMATHI-63" x="8283" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/418339/&amp;xid=17259,1500004,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjRcJbFD5AaVt2F0wrXrRQfsZyc4g#MJMATHI-6F" x="8717" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/418339/&amp;xid=17259,1500004,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjRcJbFD5AaVt2F0wrXrRQfsZyc4g#MJMATHI-73" x="9202" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/418339/&amp;xid=17259,1500004,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjRcJbFD5AaVt2F0wrXrRQfsZyc4g#MJMAIN-28" x="9672" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/418339/&amp;xid=17259,1500004,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjRcJbFD5AaVt2F0wrXrRQfsZyc4g#MJMATHI-61" x="10311" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/418339/&amp;xid=17259,1500004,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjRcJbFD5AaVt2F0wrXrRQfsZyc4g#MJMATHI-6C" x="10841" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/418339/&amp;xid=17259,1500004,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjRcJbFD5AaVt2F0wrXrRQfsZyc4g#MJMATHI-70" x="11139" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/418339/&amp;xid=17259,1500004,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjRcJbFD5AaVt2F0wrXrRQfsZyc4g#MJMATHI-68" x="11643" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/418339/&amp;xid=17259,1500004,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjRcJbFD5AaVt2F0wrXrRQfsZyc4g#MJMATHI-61" x="12219" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/418339/&amp;xid=17259,1500004,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjRcJbFD5AaVt2F0wrXrRQfsZyc4g#MJMAIN-29" x="12749" y="0"></use></g><g transform="translate(13945,-1567)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/418339/&amp;xid=17259,1500004,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjRcJbFD5AaVt2F0wrXrRQfsZyc4g#MJMATHI-72" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/418339/&amp;xid=17259,1500004,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjRcJbFD5AaVt2F0wrXrRQfsZyc4g#MJMAIN-32" x="638" y="583"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/418339/&amp;xid=17259,1500004,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjRcJbFD5AaVt2F0wrXrRQfsZyc4g#MJMAIN-3D" x="1183" y="0"></use><g transform="translate(2239,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/418339/&amp;xid=17259,1500004,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjRcJbFD5AaVt2F0wrXrRQfsZyc4g#MJMATHI-61" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/418339/&amp;xid=17259,1500004,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjRcJbFD5AaVt2F0wrXrRQfsZyc4g#MJMAIN-32" x="748" y="583"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/418339/&amp;xid=17259,1500004,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjRcJbFD5AaVt2F0wrXrRQfsZyc4g#MJMAIN-2B" x="3445" y="0"></use><g transform="translate(4445,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/418339/&amp;xid=17259,1500004,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjRcJbFD5AaVt2F0wrXrRQfsZyc4g#MJMATHI-62" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/418339/&amp;xid=17259,1500004,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjRcJbFD5AaVt2F0wrXrRQfsZyc4g#MJMAIN-32" x="607" y="583"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/418339/&amp;xid=17259,1500004,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjRcJbFD5AaVt2F0wrXrRQfsZyc4g#MJMAIN-2212" x="5551" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/418339/&amp;xid=17259,1500004,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjRcJbFD5AaVt2F0wrXrRQfsZyc4g#MJMAIN-32" x="6552" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/418339/&amp;xid=17259,1500004,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjRcJbFD5AaVt2F0wrXrRQfsZyc4g#MJMATHI-61" x="7052" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/418339/&amp;xid=17259,1500004,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjRcJbFD5AaVt2F0wrXrRQfsZyc4g#MJMATHI-62" x="7582" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/418339/&amp;xid=17259,1500004,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjRcJbFD5AaVt2F0wrXrRQfsZyc4g#MJMATHI-63" x="8261" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/418339/&amp;xid=17259,1500004,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjRcJbFD5AaVt2F0wrXrRQfsZyc4g#MJMATHI-6F" x="8695" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/418339/&amp;xid=17259,1500004,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjRcJbFD5AaVt2F0wrXrRQfsZyc4g#MJMATHI-73" x="9180" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/418339/&amp;xid=17259,1500004,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjRcJbFD5AaVt2F0wrXrRQfsZyc4g#MJMAIN-28" x="9650" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/418339/&amp;xid=17259,1500004,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjRcJbFD5AaVt2F0wrXrRQfsZyc4g#MJMATHI-62" x="10289" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/418339/&amp;xid=17259,1500004,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjRcJbFD5AaVt2F0wrXrRQfsZyc4g#MJMATHI-65" x="10719" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/418339/&amp;xid=17259,1500004,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjRcJbFD5AaVt2F0wrXrRQfsZyc4g#MJMATHI-74" x="11185" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/418339/&amp;xid=17259,1500004,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjRcJbFD5AaVt2F0wrXrRQfsZyc4g#MJMATHI-61" x="11547" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/418339/&amp;xid=17259,1500004,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjRcJbFD5AaVt2F0wrXrRQfsZyc4g#MJMAIN-29" x="12076" y="0"></use></g></g></svg></span></div><script type="math/tex;mode=display" id="MathJax-Element-19"> b ^ 2 = a ^ 2 + r ^ 2-2ar \ cos (\ alpha) \\ r ^ 2 = a ^ 2 + b ^ 2-2ab \ cos (\ beta) </script></p><br>  Express angles <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-243"><span class="MJXp-mtext" id="MJXp-Span-244">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-245">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-246">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-247">p</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-248">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-249">a</span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-20-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="6.242ex" height="2.419ex" viewBox="0 -780.1 2687.5 1041.5" role="img" focusable="false" style="vertical-align: -0.607ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/418339/&amp;xid=17259,1500004,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjRcJbFD5AaVt2F0wrXrRQfsZyc4g#MJMATHI-61" x="250" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/418339/&amp;xid=17259,1500004,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjRcJbFD5AaVt2F0wrXrRQfsZyc4g#MJMATHI-6C" x="779" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/418339/&amp;xid=17259,1500004,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjRcJbFD5AaVt2F0wrXrRQfsZyc4g#MJMATHI-70" x="1078" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/418339/&amp;xid=17259,1500004,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjRcJbFD5AaVt2F0wrXrRQfsZyc4g#MJMATHI-68" x="1581" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/418339/&amp;xid=17259,1500004,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjRcJbFD5AaVt2F0wrXrRQfsZyc4g#MJMATHI-61" x="2158" y="0"></use></g></svg></span><script type="math/tex" id="MathJax-Element-20"> \ alpha </script>  and <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-250"><span class="MJXp-mtext" id="MJXp-Span-251">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-252">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-253">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-254">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-255">a</span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-21-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="4.731ex" height="2.057ex" viewBox="0 -780.1 2037 885.9" role="img" focusable="false" style="vertical-align: -0.246ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/418339/&amp;xid=17259,1500004,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjRcJbFD5AaVt2F0wrXrRQfsZyc4g#MJMATHI-62" x="250" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/418339/&amp;xid=17259,1500004,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjRcJbFD5AaVt2F0wrXrRQfsZyc4g#MJMATHI-65" x="679" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/418339/&amp;xid=17259,1500004,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjRcJbFD5AaVt2F0wrXrRQfsZyc4g#MJMATHI-74" x="1146" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/418339/&amp;xid=17259,1500004,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjRcJbFD5AaVt2F0wrXrRQfsZyc4g#MJMATHI-61" x="1507" y="0"></use></g></svg></span><script type="math/tex" id="MathJax-Element-21"> \ beta </script>  : <br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-256"><span class="MJXp-mtext" id="MJXp-Span-257">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-258">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-259">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-260">p</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-261">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-262">a</span><span class="MJXp-mo" id="MJXp-Span-263" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mtext" id="MJXp-Span-264">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-265">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-266">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-267">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-268">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-269">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-270">s</span><span class="MJXp-mtext" id="MJXp-Span-271">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-272">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-273">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-274">f</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-275">t</span><span class="MJXp-mo" id="MJXp-Span-276" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mtext" id="MJXp-Span-277">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-278">f</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-279">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-280">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-281">c</span><span class="MJXp-mrow" id="MJXp-Span-282"><span class="MJXp-msubsup" id="MJXp-Span-283"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-284" style="margin-right: 0.05em;">a</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-285" style="vertical-align: 0.5em;">2</span></span><span class="MJXp-mo" id="MJXp-Span-286" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-msubsup" id="MJXp-Span-287"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-288" style="margin-right: 0.05em;">r</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-289" style="vertical-align: 0.5em;">2</span></span><span class="MJXp-mo" id="MJXp-Span-290" style="margin-left: 0.267em; margin-right: 0.267em;">‚àí</span><span class="MJXp-msubsup" id="MJXp-Span-291"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-292" style="margin-right: 0.05em;">b</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-293" style="vertical-align: 0.5em;">2</span></span></span><span class="MJXp-mrow" id="MJXp-Span-294"><span class="MJXp-mn" id="MJXp-Span-295">2</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-296">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-297">r</span></span><span class="MJXp-mtext" id="MJXp-Span-298">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-299">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-300">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-301">g</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-302">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-303">t</span><span class="MJXp-mo" id="MJXp-Span-304" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mtext" id="MJXp-Span-305">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-306">q</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-307">u</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-308">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-309">d</span><span class="MJXp-mtext" id="MJXp-Span-310">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-311">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-312">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-313">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-314">a</span><span class="MJXp-mo" id="MJXp-Span-315" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mtext" id="MJXp-Span-316">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-317">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-318">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-319">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-320">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-321">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-322">s</span><span class="MJXp-mtext" id="MJXp-Span-323">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-324">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-325">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-326">f</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-327">t</span><span class="MJXp-mo" id="MJXp-Span-328" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mtext" id="MJXp-Span-329">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-330">f</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-331">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-332">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-333">c</span><span class="MJXp-mrow" id="MJXp-Span-334"><span class="MJXp-msubsup" id="MJXp-Span-335"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-336" style="margin-right: 0.05em;">a</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-337" style="vertical-align: 0.5em;">2</span></span><span class="MJXp-mo" id="MJXp-Span-338" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-msubsup" id="MJXp-Span-339"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-340" style="margin-right: 0.05em;">b</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-341" style="vertical-align: 0.5em;">2</span></span><span class="MJXp-mo" id="MJXp-Span-342" style="margin-left: 0.267em; margin-right: 0.267em;">‚àí</span><span class="MJXp-msubsup" id="MJXp-Span-343"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-344" style="margin-right: 0.05em;">r</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-345" style="vertical-align: 0.5em;">2</span></span></span><span class="MJXp-mrow" id="MJXp-Span-346"><span class="MJXp-mn" id="MJXp-Span-347">2</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-348">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-349">b</span></span><span class="MJXp-mtext" id="MJXp-Span-350">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-351">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-352">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-353">g</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-354">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-355">t</span><span class="MJXp-mo" id="MJXp-Span-356" style="margin-left: 0em; margin-right: 0em;">)</span></span></span><div class="MathJax_SVG_Display MathJax_SVG_Processed" style="text-align: center;"><span class="MathJax_SVG" id="MathJax-Element-22-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="102.159ex" height="3.021ex" viewBox="0 -987.6 43984.8 1300.8" role="img" focusable="false" style="vertical-align: -0.728ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/418339/&amp;xid=17259,1500004,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjRcJbFD5AaVt2F0wrXrRQfsZyc4g#MJMATHI-61" x="250" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/418339/&amp;xid=17259,1500004,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjRcJbFD5AaVt2F0wrXrRQfsZyc4g#MJMATHI-6C" x="779" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/418339/&amp;xid=17259,1500004,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjRcJbFD5AaVt2F0wrXrRQfsZyc4g#MJMATHI-70" x="1078" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/418339/&amp;xid=17259,1500004,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjRcJbFD5AaVt2F0wrXrRQfsZyc4g#MJMATHI-68" x="1581" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/418339/&amp;xid=17259,1500004,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjRcJbFD5AaVt2F0wrXrRQfsZyc4g#MJMATHI-61" x="2158" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/418339/&amp;xid=17259,1500004,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjRcJbFD5AaVt2F0wrXrRQfsZyc4g#MJMAIN-3D" x="2965" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/418339/&amp;xid=17259,1500004,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjRcJbFD5AaVt2F0wrXrRQfsZyc4g#MJMATHI-61" x="4271" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/418339/&amp;xid=17259,1500004,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjRcJbFD5AaVt2F0wrXrRQfsZyc4g#MJMATHI-72" x="4801" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/418339/&amp;xid=17259,1500004,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjRcJbFD5AaVt2F0wrXrRQfsZyc4g#MJMATHI-63" x="5252" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/418339/&amp;xid=17259,1500004,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjRcJbFD5AaVt2F0wrXrRQfsZyc4g#MJMATHI-63" x="5686" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/418339/&amp;xid=17259,1500004,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjRcJbFD5AaVt2F0wrXrRQfsZyc4g#MJMATHI-6F" x="6119" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/418339/&amp;xid=17259,1500004,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjRcJbFD5AaVt2F0wrXrRQfsZyc4g#MJMATHI-73" x="6605" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/418339/&amp;xid=17259,1500004,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjRcJbFD5AaVt2F0wrXrRQfsZyc4g#MJMATHI-6C" x="7324" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/418339/&amp;xid=17259,1500004,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjRcJbFD5AaVt2F0wrXrRQfsZyc4g#MJMATHI-65" x="7623" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/418339/&amp;xid=17259,1500004,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjRcJbFD5AaVt2F0wrXrRQfsZyc4g#MJMATHI-66" x="8089" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/418339/&amp;xid=17259,1500004,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjRcJbFD5AaVt2F0wrXrRQfsZyc4g#MJMATHI-74" x="8640" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/418339/&amp;xid=17259,1500004,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjRcJbFD5AaVt2F0wrXrRQfsZyc4g#MJMAIN-28" x="9001" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/418339/&amp;xid=17259,1500004,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjRcJbFD5AaVt2F0wrXrRQfsZyc4g#MJMATHI-66" x="9641" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/418339/&amp;xid=17259,1500004,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjRcJbFD5AaVt2F0wrXrRQfsZyc4g#MJMATHI-72" x="10191" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/418339/&amp;xid=17259,1500004,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjRcJbFD5AaVt2F0wrXrRQfsZyc4g#MJMATHI-61" x="10643" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/418339/&amp;xid=17259,1500004,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjRcJbFD5AaVt2F0wrXrRQfsZyc4g#MJMATHI-63" x="11172" y="0"></use><g transform="translate(11606,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/418339/&amp;xid=17259,1500004,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjRcJbFD5AaVt2F0wrXrRQfsZyc4g#MJMATHI-61" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/418339/&amp;xid=17259,1500004,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjRcJbFD5AaVt2F0wrXrRQfsZyc4g#MJMAIN-32" x="748" y="583"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/418339/&amp;xid=17259,1500004,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjRcJbFD5AaVt2F0wrXrRQfsZyc4g#MJMAIN-2B" x="1205" y="0"></use><g transform="translate(2206,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/418339/&amp;xid=17259,1500004,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjRcJbFD5AaVt2F0wrXrRQfsZyc4g#MJMATHI-72" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/418339/&amp;xid=17259,1500004,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjRcJbFD5AaVt2F0wrXrRQfsZyc4g#MJMAIN-32" x="638" y="583"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/418339/&amp;xid=17259,1500004,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjRcJbFD5AaVt2F0wrXrRQfsZyc4g#MJMAIN-2212" x="3333" y="0"></use><g transform="translate(4334,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/418339/&amp;xid=17259,1500004,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjRcJbFD5AaVt2F0wrXrRQfsZyc4g#MJMATHI-62" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/418339/&amp;xid=17259,1500004,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjRcJbFD5AaVt2F0wrXrRQfsZyc4g#MJMAIN-32" x="607" y="583"></use></g></g><g transform="translate(16824,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/418339/&amp;xid=17259,1500004,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjRcJbFD5AaVt2F0wrXrRQfsZyc4g#MJMAIN-32" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/418339/&amp;xid=17259,1500004,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjRcJbFD5AaVt2F0wrXrRQfsZyc4g#MJMATHI-61" x="500" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/418339/&amp;xid=17259,1500004,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjRcJbFD5AaVt2F0wrXrRQfsZyc4g#MJMATHI-72" x="1030" y="0"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/418339/&amp;xid=17259,1500004,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjRcJbFD5AaVt2F0wrXrRQfsZyc4g#MJMATHI-72" x="18555" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/418339/&amp;xid=17259,1500004,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjRcJbFD5AaVt2F0wrXrRQfsZyc4g#MJMATHI-69" x="19007" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/418339/&amp;xid=17259,1500004,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjRcJbFD5AaVt2F0wrXrRQfsZyc4g#MJMATHI-67" x="19352" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/418339/&amp;xid=17259,1500004,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjRcJbFD5AaVt2F0wrXrRQfsZyc4g#MJMATHI-68" x="19833" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/418339/&amp;xid=17259,1500004,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjRcJbFD5AaVt2F0wrXrRQfsZyc4g#MJMATHI-74" x="20409" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/418339/&amp;xid=17259,1500004,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjRcJbFD5AaVt2F0wrXrRQfsZyc4g#MJMAIN-29" x="20771" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/418339/&amp;xid=17259,1500004,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjRcJbFD5AaVt2F0wrXrRQfsZyc4g#MJMATHI-71" x="21410" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/418339/&amp;xid=17259,1500004,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjRcJbFD5AaVt2F0wrXrRQfsZyc4g#MJMATHI-75" x="21871" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/418339/&amp;xid=17259,1500004,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjRcJbFD5AaVt2F0wrXrRQfsZyc4g#MJMATHI-61" x="22443" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/418339/&amp;xid=17259,1500004,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjRcJbFD5AaVt2F0wrXrRQfsZyc4g#MJMATHI-64" x="22973" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/418339/&amp;xid=17259,1500004,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjRcJbFD5AaVt2F0wrXrRQfsZyc4g#MJMATHI-62" x="23746" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/418339/&amp;xid=17259,1500004,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjRcJbFD5AaVt2F0wrXrRQfsZyc4g#MJMATHI-65" x="24176" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/418339/&amp;xid=17259,1500004,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjRcJbFD5AaVt2F0wrXrRQfsZyc4g#MJMATHI-74" x="24642" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/418339/&amp;xid=17259,1500004,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjRcJbFD5AaVt2F0wrXrRQfsZyc4g#MJMATHI-61" x="25004" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/418339/&amp;xid=17259,1500004,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjRcJbFD5AaVt2F0wrXrRQfsZyc4g#MJMAIN-3D" x="25811" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/418339/&amp;xid=17259,1500004,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjRcJbFD5AaVt2F0wrXrRQfsZyc4g#MJMATHI-61" x="27117" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/418339/&amp;xid=17259,1500004,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjRcJbFD5AaVt2F0wrXrRQfsZyc4g#MJMATHI-72" x="27647" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/418339/&amp;xid=17259,1500004,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjRcJbFD5AaVt2F0wrXrRQfsZyc4g#MJMATHI-63" x="28098" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/418339/&amp;xid=17259,1500004,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjRcJbFD5AaVt2F0wrXrRQfsZyc4g#MJMATHI-63" x="28532" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/418339/&amp;xid=17259,1500004,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjRcJbFD5AaVt2F0wrXrRQfsZyc4g#MJMATHI-6F" x="28965" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/418339/&amp;xid=17259,1500004,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjRcJbFD5AaVt2F0wrXrRQfsZyc4g#MJMATHI-73" x="29451" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/418339/&amp;xid=17259,1500004,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjRcJbFD5AaVt2F0wrXrRQfsZyc4g#MJMATHI-6C" x="30170" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/418339/&amp;xid=17259,1500004,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjRcJbFD5AaVt2F0wrXrRQfsZyc4g#MJMATHI-65" x="30469" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/418339/&amp;xid=17259,1500004,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjRcJbFD5AaVt2F0wrXrRQfsZyc4g#MJMATHI-66" x="30935" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/418339/&amp;xid=17259,1500004,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjRcJbFD5AaVt2F0wrXrRQfsZyc4g#MJMATHI-74" x="31486" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/418339/&amp;xid=17259,1500004,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjRcJbFD5AaVt2F0wrXrRQfsZyc4g#MJMAIN-28" x="31847" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/418339/&amp;xid=17259,1500004,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjRcJbFD5AaVt2F0wrXrRQfsZyc4g#MJMATHI-66" x="32487" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/418339/&amp;xid=17259,1500004,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjRcJbFD5AaVt2F0wrXrRQfsZyc4g#MJMATHI-72" x="33037" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/418339/&amp;xid=17259,1500004,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjRcJbFD5AaVt2F0wrXrRQfsZyc4g#MJMATHI-61" x="33489" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/418339/&amp;xid=17259,1500004,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjRcJbFD5AaVt2F0wrXrRQfsZyc4g#MJMATHI-63" x="34018" y="0"></use><g transform="translate(34452,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/418339/&amp;xid=17259,1500004,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjRcJbFD5AaVt2F0wrXrRQfsZyc4g#MJMATHI-61" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/418339/&amp;xid=17259,1500004,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjRcJbFD5AaVt2F0wrXrRQfsZyc4g#MJMAIN-32" x="748" y="583"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/418339/&amp;xid=17259,1500004,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjRcJbFD5AaVt2F0wrXrRQfsZyc4g#MJMAIN-2B" x="1205" y="0"></use><g transform="translate(2206,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/418339/&amp;xid=17259,1500004,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjRcJbFD5AaVt2F0wrXrRQfsZyc4g#MJMATHI-62" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/418339/&amp;xid=17259,1500004,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjRcJbFD5AaVt2F0wrXrRQfsZyc4g#MJMAIN-32" x="607" y="583"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/418339/&amp;xid=17259,1500004,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjRcJbFD5AaVt2F0wrXrRQfsZyc4g#MJMAIN-2212" x="3311" y="0"></use><g transform="translate(4312,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/418339/&amp;xid=17259,1500004,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjRcJbFD5AaVt2F0wrXrRQfsZyc4g#MJMATHI-72" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/418339/&amp;xid=17259,1500004,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjRcJbFD5AaVt2F0wrXrRQfsZyc4g#MJMAIN-32" x="638" y="583"></use></g></g><g transform="translate(39670,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/418339/&amp;xid=17259,1500004,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjRcJbFD5AaVt2F0wrXrRQfsZyc4g#MJMAIN-32" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/418339/&amp;xid=17259,1500004,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjRcJbFD5AaVt2F0wrXrRQfsZyc4g#MJMATHI-61" x="500" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/418339/&amp;xid=17259,1500004,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjRcJbFD5AaVt2F0wrXrRQfsZyc4g#MJMATHI-62" x="1030" y="0"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/418339/&amp;xid=17259,1500004,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjRcJbFD5AaVt2F0wrXrRQfsZyc4g#MJMATHI-72" x="41379" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/418339/&amp;xid=17259,1500004,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjRcJbFD5AaVt2F0wrXrRQfsZyc4g#MJMATHI-69" x="41831" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/418339/&amp;xid=17259,1500004,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjRcJbFD5AaVt2F0wrXrRQfsZyc4g#MJMATHI-67" x="42176" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/418339/&amp;xid=17259,1500004,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjRcJbFD5AaVt2F0wrXrRQfsZyc4g#MJMATHI-68" x="42657" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/418339/&amp;xid=17259,1500004,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjRcJbFD5AaVt2F0wrXrRQfsZyc4g#MJMATHI-74" x="43233" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/418339/&amp;xid=17259,1500004,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjRcJbFD5AaVt2F0wrXrRQfsZyc4g#MJMAIN-29" x="43595" y="0"></use></g></svg></span></div><script type="math/tex;mode=display" id="MathJax-Element-22"> \ alpha = \ arccos \ left (\ frac {a ^ 2 + r ^ 2-b ^ 2} {2ar} \ right) \ quad \ beta = \ arccos \ left (\ frac {a ^ 2 + b ^ 2 -r ^ 2} {2ab} \ right) </script></p><br>  From the geometric scheme can be seen that: <br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-357"><span class="MJXp-mtext" id="MJXp-Span-358">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-359">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-360">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-361">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-362">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-363">a</span><span class="MJXp-mo" id="MJXp-Span-364" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mtext" id="MJXp-Span-365">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-366">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-367">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-368">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-369">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-370">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-371">n</span><span class="MJXp-mo" id="MJXp-Span-372" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mtext" id="MJXp-Span-373">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-374">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-375">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-376">f</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-377">t</span><span class="MJXp-mo" id="MJXp-Span-378" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mtext" id="MJXp-Span-379">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-380">f</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-381">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-382">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-383">c</span><span class="MJXp-mrow" id="MJXp-Span-384"><span class="MJXp-msubsup" id="MJXp-Span-385"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-386" style="margin-right: 0.05em;">r</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-387" style="vertical-align: -0.4em;">y</span></span></span><span class="MJXp-mrow" id="MJXp-Span-388"><span class="MJXp-msubsup" id="MJXp-Span-389"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-390" style="margin-right: 0.05em;">r</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-391" style="vertical-align: -0.4em;">x</span></span></span><span class="MJXp-mtext" id="MJXp-Span-392">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-393">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-394">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-395">g</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-396">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-397">t</span><span class="MJXp-mo" id="MJXp-Span-398" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mtext" id="MJXp-Span-399">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-400">q</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-401">u</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-402">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-403">d</span><span class="MJXp-mtext" id="MJXp-Span-404">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-405">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-406">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-407">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-408">g</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-409">a</span><span class="MJXp-mo" id="MJXp-Span-410" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mtext" id="MJXp-Span-411">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-412">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-413">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-414">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-415">s</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-416">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-417">n</span><span class="MJXp-mo" id="MJXp-Span-418" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mtext" id="MJXp-Span-419">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-420">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-421">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-422">f</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-423">t</span><span class="MJXp-mo" id="MJXp-Span-424" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mtext" id="MJXp-Span-425">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-426">f</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-427">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-428">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-429">c</span><span class="MJXp-mrow" id="MJXp-Span-430"><span class="MJXp-msubsup" id="MJXp-Span-431"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-432" style="margin-right: 0.05em;">r</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-433" style="vertical-align: -0.4em;">z</span></span></span><span class="MJXp-mrow" id="MJXp-Span-434"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-435">r</span></span><span class="MJXp-mtext" id="MJXp-Span-436">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-437">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-438">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-439">g</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-440">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-441">t</span><span class="MJXp-mo" id="MJXp-Span-442" style="margin-left: 0em; margin-right: 0em;">)</span></span></span><div class="MathJax_SVG_Display MathJax_SVG_Processed" style="text-align: center;"><span class="MathJax_SVG" id="MathJax-Element-23-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="87.123ex" height="2.78ex" viewBox="0 -832 37511.1 1197.1" role="img" focusable="false" style="vertical-align: -0.848ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/418339/&amp;xid=17259,1500004,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjRcJbFD5AaVt2F0wrXrRQfsZyc4g#MJMATHI-74" x="250" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/418339/&amp;xid=17259,1500004,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjRcJbFD5AaVt2F0wrXrRQfsZyc4g#MJMATHI-68" x="611" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/418339/&amp;xid=17259,1500004,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjRcJbFD5AaVt2F0wrXrRQfsZyc4g#MJMATHI-65" x="1188" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/418339/&amp;xid=17259,1500004,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjRcJbFD5AaVt2F0wrXrRQfsZyc4g#MJMATHI-74" x="1654" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/418339/&amp;xid=17259,1500004,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjRcJbFD5AaVt2F0wrXrRQfsZyc4g#MJMATHI-61" x="2016" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/418339/&amp;xid=17259,1500004,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjRcJbFD5AaVt2F0wrXrRQfsZyc4g#MJMAIN-3D" x="2823" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/418339/&amp;xid=17259,1500004,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjRcJbFD5AaVt2F0wrXrRQfsZyc4g#MJMATHI-61" x="4129" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/418339/&amp;xid=17259,1500004,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjRcJbFD5AaVt2F0wrXrRQfsZyc4g#MJMATHI-72" x="4659" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/418339/&amp;xid=17259,1500004,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjRcJbFD5AaVt2F0wrXrRQfsZyc4g#MJMATHI-63" x="5110" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/418339/&amp;xid=17259,1500004,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjRcJbFD5AaVt2F0wrXrRQfsZyc4g#MJMATHI-74" x="5544" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/418339/&amp;xid=17259,1500004,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjRcJbFD5AaVt2F0wrXrRQfsZyc4g#MJMATHI-61" x="5905" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/418339/&amp;xid=17259,1500004,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjRcJbFD5AaVt2F0wrXrRQfsZyc4g#MJMATHI-6E" x="6435" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/418339/&amp;xid=17259,1500004,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjRcJbFD5AaVt2F0wrXrRQfsZyc4g#MJMAIN-3D" x="7313" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/418339/&amp;xid=17259,1500004,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjRcJbFD5AaVt2F0wrXrRQfsZyc4g#MJMATHI-6C" x="8619" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/418339/&amp;xid=17259,1500004,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjRcJbFD5AaVt2F0wrXrRQfsZyc4g#MJMATHI-65" x="8918" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/418339/&amp;xid=17259,1500004,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjRcJbFD5AaVt2F0wrXrRQfsZyc4g#MJMATHI-66" x="9384" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/418339/&amp;xid=17259,1500004,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjRcJbFD5AaVt2F0wrXrRQfsZyc4g#MJMATHI-74" x="9935" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/418339/&amp;xid=17259,1500004,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjRcJbFD5AaVt2F0wrXrRQfsZyc4g#MJMAIN-28" x="10296" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/418339/&amp;xid=17259,1500004,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjRcJbFD5AaVt2F0wrXrRQfsZyc4g#MJMATHI-66" x="10936" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/418339/&amp;xid=17259,1500004,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjRcJbFD5AaVt2F0wrXrRQfsZyc4g#MJMATHI-72" x="11486" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/418339/&amp;xid=17259,1500004,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjRcJbFD5AaVt2F0wrXrRQfsZyc4g#MJMATHI-61" x="11938" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/418339/&amp;xid=17259,1500004,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjRcJbFD5AaVt2F0wrXrRQfsZyc4g#MJMATHI-63" x="12467" y="0"></use><g transform="translate(12901,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/418339/&amp;xid=17259,1500004,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjRcJbFD5AaVt2F0wrXrRQfsZyc4g#MJMATHI-72" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/418339/&amp;xid=17259,1500004,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjRcJbFD5AaVt2F0wrXrRQfsZyc4g#MJMATHI-79" x="638" y="-213"></use></g><g transform="translate(13804,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/418339/&amp;xid=17259,1500004,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjRcJbFD5AaVt2F0wrXrRQfsZyc4g#MJMATHI-72" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/418339/&amp;xid=17259,1500004,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjRcJbFD5AaVt2F0wrXrRQfsZyc4g#MJMATHI-78" x="638" y="-213"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/418339/&amp;xid=17259,1500004,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjRcJbFD5AaVt2F0wrXrRQfsZyc4g#MJMATHI-72" x="15010" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/418339/&amp;xid=17259,1500004,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjRcJbFD5AaVt2F0wrXrRQfsZyc4g#MJMATHI-69" x="15462" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/418339/&amp;xid=17259,1500004,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjRcJbFD5AaVt2F0wrXrRQfsZyc4g#MJMATHI-67" x="15807" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/418339/&amp;xid=17259,1500004,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjRcJbFD5AaVt2F0wrXrRQfsZyc4g#MJMATHI-68" x="16288" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/418339/&amp;xid=17259,1500004,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjRcJbFD5AaVt2F0wrXrRQfsZyc4g#MJMATHI-74" x="16864" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/418339/&amp;xid=17259,1500004,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjRcJbFD5AaVt2F0wrXrRQfsZyc4g#MJMAIN-29" x="17226" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/418339/&amp;xid=17259,1500004,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjRcJbFD5AaVt2F0wrXrRQfsZyc4g#MJMATHI-71" x="17865" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/418339/&amp;xid=17259,1500004,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjRcJbFD5AaVt2F0wrXrRQfsZyc4g#MJMATHI-75" x="18326" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/418339/&amp;xid=17259,1500004,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjRcJbFD5AaVt2F0wrXrRQfsZyc4g#MJMATHI-61" x="18898" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/418339/&amp;xid=17259,1500004,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjRcJbFD5AaVt2F0wrXrRQfsZyc4g#MJMATHI-64" x="19428" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/418339/&amp;xid=17259,1500004,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjRcJbFD5AaVt2F0wrXrRQfsZyc4g#MJMATHI-6F" x="20201" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/418339/&amp;xid=17259,1500004,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjRcJbFD5AaVt2F0wrXrRQfsZyc4g#MJMATHI-6D" x="20687" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/418339/&amp;xid=17259,1500004,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjRcJbFD5AaVt2F0wrXrRQfsZyc4g#MJMATHI-65" x="21565" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/418339/&amp;xid=17259,1500004,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjRcJbFD5AaVt2F0wrXrRQfsZyc4g#MJMATHI-67" x="22032" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/418339/&amp;xid=17259,1500004,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjRcJbFD5AaVt2F0wrXrRQfsZyc4g#MJMATHI-61" x="22512" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/418339/&amp;xid=17259,1500004,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjRcJbFD5AaVt2F0wrXrRQfsZyc4g#MJMAIN-3D" x="23319" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/418339/&amp;xid=17259,1500004,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjRcJbFD5AaVt2F0wrXrRQfsZyc4g#MJMATHI-61" x="24626" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/418339/&amp;xid=17259,1500004,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjRcJbFD5AaVt2F0wrXrRQfsZyc4g#MJMATHI-72" x="25155" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/418339/&amp;xid=17259,1500004,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjRcJbFD5AaVt2F0wrXrRQfsZyc4g#MJMATHI-63" x="25607" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/418339/&amp;xid=17259,1500004,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjRcJbFD5AaVt2F0wrXrRQfsZyc4g#MJMATHI-73" x="26040" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/418339/&amp;xid=17259,1500004,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjRcJbFD5AaVt2F0wrXrRQfsZyc4g#MJMATHI-69" x="26510" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/418339/&amp;xid=17259,1500004,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjRcJbFD5AaVt2F0wrXrRQfsZyc4g#MJMATHI-6E" x="26855" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/418339/&amp;xid=17259,1500004,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjRcJbFD5AaVt2F0wrXrRQfsZyc4g#MJMAIN-3D" x="27734" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/418339/&amp;xid=17259,1500004,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjRcJbFD5AaVt2F0wrXrRQfsZyc4g#MJMATHI-6C" x="29040" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/418339/&amp;xid=17259,1500004,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjRcJbFD5AaVt2F0wrXrRQfsZyc4g#MJMATHI-65" x="29338" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/418339/&amp;xid=17259,1500004,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjRcJbFD5AaVt2F0wrXrRQfsZyc4g#MJMATHI-66" x="29805" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/418339/&amp;xid=17259,1500004,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjRcJbFD5AaVt2F0wrXrRQfsZyc4g#MJMATHI-74" x="30355" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/418339/&amp;xid=17259,1500004,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjRcJbFD5AaVt2F0wrXrRQfsZyc4g#MJMAIN-28" x="30717" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/418339/&amp;xid=17259,1500004,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjRcJbFD5AaVt2F0wrXrRQfsZyc4g#MJMATHI-66" x="31356" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/418339/&amp;xid=17259,1500004,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjRcJbFD5AaVt2F0wrXrRQfsZyc4g#MJMATHI-72" x="31907" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/418339/&amp;xid=17259,1500004,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjRcJbFD5AaVt2F0wrXrRQfsZyc4g#MJMATHI-61" x="32358" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/418339/&amp;xid=17259,1500004,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjRcJbFD5AaVt2F0wrXrRQfsZyc4g#MJMATHI-63" x="32888" y="0"></use><g transform="translate(33321,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/418339/&amp;xid=17259,1500004,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjRcJbFD5AaVt2F0wrXrRQfsZyc4g#MJMATHI-72" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/418339/&amp;xid=17259,1500004,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjRcJbFD5AaVt2F0wrXrRQfsZyc4g#MJMATHI-7A" x="638" y="-213"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/418339/&amp;xid=17259,1500004,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjRcJbFD5AaVt2F0wrXrRQfsZyc4g#MJMATHI-72" x="34204" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/418339/&amp;xid=17259,1500004,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjRcJbFD5AaVt2F0wrXrRQfsZyc4g#MJMATHI-72" x="34906" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/418339/&amp;xid=17259,1500004,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjRcJbFD5AaVt2F0wrXrRQfsZyc4g#MJMATHI-69" x="35357" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/418339/&amp;xid=17259,1500004,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjRcJbFD5AaVt2F0wrXrRQfsZyc4g#MJMATHI-67" x="35703" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/418339/&amp;xid=17259,1500004,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjRcJbFD5AaVt2F0wrXrRQfsZyc4g#MJMATHI-68" x="36183" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/418339/&amp;xid=17259,1500004,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjRcJbFD5AaVt2F0wrXrRQfsZyc4g#MJMATHI-74" x="36760" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/418339/&amp;xid=17259,1500004,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjRcJbFD5AaVt2F0wrXrRQfsZyc4g#MJMAIN-29" x="37121" y="0"></use></g></svg></span></div><script type="math/tex;mode=display" id="MathJax-Element-23"> \ theta = \ arctan = \ left (\ frac {r_y} {r_x} \ right) \ quad \ omega = \ arcsin = \ left (\ frac {r_z} {r} \ right) </script></p><br>  Then: <br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-443"><span class="MJXp-mtext" id="MJXp-Span-444">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-445">g</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-446">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-447">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-448">m</span><span class="MJXp-msubsup" id="MJXp-Span-449"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-450" style="margin-right: 0.05em;">a</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-451" style="vertical-align: -0.4em;">1</span></span><span class="MJXp-mo" id="MJXp-Span-452" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mtext" id="MJXp-Span-453">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-454">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-455">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-456">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-457">g</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-458">a</span><span class="MJXp-mo" id="MJXp-Span-459" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-mtext" id="MJXp-Span-460">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-461">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-462">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-463">p</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-464">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-465">a</span><span class="MJXp-mtext" id="MJXp-Span-466">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-467">q</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-468">u</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-469">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-470">d</span><span class="MJXp-mtext" id="MJXp-Span-471">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-472">g</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-473">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-474">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-475">m</span><span class="MJXp-msubsup" id="MJXp-Span-476"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-477" style="margin-right: 0.05em;">a</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-478" style="vertical-align: -0.4em;">2</span></span><span class="MJXp-mo" id="MJXp-Span-479" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-msubsup" id="MJXp-Span-480"><span class="MJXp-mn" id="MJXp-Span-481" style="margin-right: 0.05em;">180</span><span class="MJXp-mtext MJXp-script" id="MJXp-Span-482" style="vertical-align: 0.5em;">&nbsp;</span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-483">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-484">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-485">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-486">c</span><span class="MJXp-mo" id="MJXp-Span-487" style="margin-left: 0.267em; margin-right: 0.267em;">‚àí</span><span class="MJXp-mtext" id="MJXp-Span-488">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-489">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-490">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-491">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-492">a</span></span></span><div class="MathJax_SVG_Display MathJax_SVG_Processed" style="text-align: center;"><span class="MathJax_SVG" id="MathJax-Element-24-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="62.202ex" height="2.419ex" viewBox="0 -780.1 26781.3 1041.5" role="img" focusable="false" style="vertical-align: -0.607ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/418339/&amp;xid=17259,1500004,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjRcJbFD5AaVt2F0wrXrRQfsZyc4g#MJMATHI-67" x="250" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/418339/&amp;xid=17259,1500004,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjRcJbFD5AaVt2F0wrXrRQfsZyc4g#MJMATHI-61" x="730" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/418339/&amp;xid=17259,1500004,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjRcJbFD5AaVt2F0wrXrRQfsZyc4g#MJMATHI-6D" x="1260" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/418339/&amp;xid=17259,1500004,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjRcJbFD5AaVt2F0wrXrRQfsZyc4g#MJMATHI-6D" x="2138" y="0"></use><g transform="translate(3017,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/418339/&amp;xid=17259,1500004,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjRcJbFD5AaVt2F0wrXrRQfsZyc4g#MJMATHI-61" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/418339/&amp;xid=17259,1500004,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjRcJbFD5AaVt2F0wrXrRQfsZyc4g#MJMAIN-31" x="748" y="-213"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/418339/&amp;xid=17259,1500004,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjRcJbFD5AaVt2F0wrXrRQfsZyc4g#MJMAIN-3D" x="4278" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/418339/&amp;xid=17259,1500004,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjRcJbFD5AaVt2F0wrXrRQfsZyc4g#MJMATHI-6F" x="5584" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/418339/&amp;xid=17259,1500004,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjRcJbFD5AaVt2F0wrXrRQfsZyc4g#MJMATHI-6D" x="6069" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/418339/&amp;xid=17259,1500004,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjRcJbFD5AaVt2F0wrXrRQfsZyc4g#MJMATHI-65" x="6948" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/418339/&amp;xid=17259,1500004,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjRcJbFD5AaVt2F0wrXrRQfsZyc4g#MJMATHI-67" x="7414" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/418339/&amp;xid=17259,1500004,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjRcJbFD5AaVt2F0wrXrRQfsZyc4g#MJMATHI-61" x="7895" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/418339/&amp;xid=17259,1500004,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjRcJbFD5AaVt2F0wrXrRQfsZyc4g#MJMAIN-2B" x="8647" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/418339/&amp;xid=17259,1500004,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjRcJbFD5AaVt2F0wrXrRQfsZyc4g#MJMATHI-61" x="9897" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/418339/&amp;xid=17259,1500004,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjRcJbFD5AaVt2F0wrXrRQfsZyc4g#MJMATHI-6C" x="10427" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/418339/&amp;xid=17259,1500004,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjRcJbFD5AaVt2F0wrXrRQfsZyc4g#MJMATHI-70" x="10725" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/418339/&amp;xid=17259,1500004,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjRcJbFD5AaVt2F0wrXrRQfsZyc4g#MJMATHI-68" x="11229" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/418339/&amp;xid=17259,1500004,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjRcJbFD5AaVt2F0wrXrRQfsZyc4g#MJMATHI-61" x="11805" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/418339/&amp;xid=17259,1500004,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjRcJbFD5AaVt2F0wrXrRQfsZyc4g#MJMATHI-71" x="12585" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/418339/&amp;xid=17259,1500004,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjRcJbFD5AaVt2F0wrXrRQfsZyc4g#MJMATHI-75" x="13045" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/418339/&amp;xid=17259,1500004,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjRcJbFD5AaVt2F0wrXrRQfsZyc4g#MJMATHI-61" x="13618" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/418339/&amp;xid=17259,1500004,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjRcJbFD5AaVt2F0wrXrRQfsZyc4g#MJMATHI-64" x="14147" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/418339/&amp;xid=17259,1500004,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjRcJbFD5AaVt2F0wrXrRQfsZyc4g#MJMATHI-67" x="14921" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/418339/&amp;xid=17259,1500004,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjRcJbFD5AaVt2F0wrXrRQfsZyc4g#MJMATHI-61" x="15401" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/418339/&amp;xid=17259,1500004,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjRcJbFD5AaVt2F0wrXrRQfsZyc4g#MJMATHI-6D" x="15931" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/418339/&amp;xid=17259,1500004,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjRcJbFD5AaVt2F0wrXrRQfsZyc4g#MJMATHI-6D" x="16809" y="0"></use><g transform="translate(17688,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/418339/&amp;xid=17259,1500004,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjRcJbFD5AaVt2F0wrXrRQfsZyc4g#MJMATHI-61" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/418339/&amp;xid=17259,1500004,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjRcJbFD5AaVt2F0wrXrRQfsZyc4g#MJMAIN-32" x="748" y="-213"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/418339/&amp;xid=17259,1500004,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjRcJbFD5AaVt2F0wrXrRQfsZyc4g#MJMAIN-3D" x="18949" y="0"></use><g transform="translate(20005,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/418339/&amp;xid=17259,1500004,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjRcJbFD5AaVt2F0wrXrRQfsZyc4g#MJMAIN-31"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/418339/&amp;xid=17259,1500004,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjRcJbFD5AaVt2F0wrXrRQfsZyc4g#MJMAIN-38" x="500" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/418339/&amp;xid=17259,1500004,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjRcJbFD5AaVt2F0wrXrRQfsZyc4g#MJMAIN-30" x="1001" y="0"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/418339/&amp;xid=17259,1500004,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjRcJbFD5AaVt2F0wrXrRQfsZyc4g#MJMATHI-63" x="21857" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/418339/&amp;xid=17259,1500004,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjRcJbFD5AaVt2F0wrXrRQfsZyc4g#MJMATHI-69" x="22290" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/418339/&amp;xid=17259,1500004,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjRcJbFD5AaVt2F0wrXrRQfsZyc4g#MJMATHI-72" x="22636" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/418339/&amp;xid=17259,1500004,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjRcJbFD5AaVt2F0wrXrRQfsZyc4g#MJMATHI-63" x="23087" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/418339/&amp;xid=17259,1500004,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjRcJbFD5AaVt2F0wrXrRQfsZyc4g#MJMAIN-2212" x="23743" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/418339/&amp;xid=17259,1500004,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjRcJbFD5AaVt2F0wrXrRQfsZyc4g#MJMATHI-62" x="24994" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/418339/&amp;xid=17259,1500004,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjRcJbFD5AaVt2F0wrXrRQfsZyc4g#MJMATHI-65" x="25423" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/418339/&amp;xid=17259,1500004,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjRcJbFD5AaVt2F0wrXrRQfsZyc4g#MJMATHI-74" x="25890" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/418339/&amp;xid=17259,1500004,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjRcJbFD5AaVt2F0wrXrRQfsZyc4g#MJMATHI-61" x="26251" y="0"></use></g></svg></span></div><script type="math/tex;mode=display" id="MathJax-Element-24"> \ gamma_1 = \ omega + \ alpha \ quad \ gamma_2 = 180 ^ \ circ- \ beta </script></p><br>  Finally, the transition from the linear coordinate to the angles of rotation of the links is carried out by the formulas: <br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-493"><span class="MJXp-mtext" id="MJXp-Span-494">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-495">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-496">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-497">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-498">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-499">a</span><span class="MJXp-mo" id="MJXp-Span-500" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-501">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-502">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-503">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-504">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-505">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-506">n</span><span class="MJXp-mtext" id="MJXp-Span-507">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-508">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-509">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-510">f</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-511">t</span><span class="MJXp-mo" id="MJXp-Span-512" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mtext" id="MJXp-Span-513">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-514">f</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-515">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-516">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-517">c</span><span class="MJXp-mrow" id="MJXp-Span-518"><span class="MJXp-msubsup" id="MJXp-Span-519"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-520" style="margin-right: 0.05em;">r</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-521" style="vertical-align: -0.4em;">y</span></span></span><span class="MJXp-mrow" id="MJXp-Span-522"><span class="MJXp-msubsup" id="MJXp-Span-523"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-524" style="margin-right: 0.05em;">r</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-525" style="vertical-align: -0.4em;">x</span></span></span><span class="MJXp-mtext" id="MJXp-Span-526">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-527">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-528">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-529">g</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-530">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-531">t</span><span class="MJXp-mo" id="MJXp-Span-532" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mspace" id="MJXp-Span-533" style="width: 0em; height: 0em;"></span><span class="MJXp-mtext" id="MJXp-Span-534">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-535">g</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-536">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-537">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-538">m</span><span class="MJXp-msubsup" id="MJXp-Span-539"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-540" style="margin-right: 0.05em;">a</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-541" style="vertical-align: -0.4em;">1</span></span><span class="MJXp-mo" id="MJXp-Span-542" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-543">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-544">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-545">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-546">s</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-547">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-548">n</span><span class="MJXp-mtext" id="MJXp-Span-549">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-550">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-551">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-552">f</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-553">t</span><span class="MJXp-mo" id="MJXp-Span-554" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mtext" id="MJXp-Span-555">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-556">f</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-557">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-558">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-559">c</span><span class="MJXp-mrow" id="MJXp-Span-560"><span class="MJXp-msubsup" id="MJXp-Span-561"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-562" style="margin-right: 0.05em;">r</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-563" style="vertical-align: -0.4em;">z</span></span></span><span class="MJXp-mrow" id="MJXp-Span-564"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-565">r</span></span><span class="MJXp-mtext" id="MJXp-Span-566">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-567">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-568">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-569">g</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-570">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-571">t</span><span class="MJXp-mo" id="MJXp-Span-572" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mo" id="MJXp-Span-573" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-574">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-575">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-576">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-577">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-578">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-579">s</span><span class="MJXp-mtext" id="MJXp-Span-580">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-581">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-582">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-583">f</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-584">t</span><span class="MJXp-mo" id="MJXp-Span-585" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mtext" id="MJXp-Span-586">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-587">f</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-588">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-589">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-590">c</span><span class="MJXp-mrow" id="MJXp-Span-591"><span class="MJXp-msubsup" id="MJXp-Span-592"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-593" style="margin-right: 0.05em;">a</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-594" style="vertical-align: 0.5em;">2</span></span><span class="MJXp-mo" id="MJXp-Span-595" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-msubsup" id="MJXp-Span-596"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-597" style="margin-right: 0.05em;">r</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-598" style="vertical-align: 0.5em;">2</span></span><span class="MJXp-mo" id="MJXp-Span-599" style="margin-left: 0.267em; margin-right: 0.267em;">‚àí</span><span class="MJXp-msubsup" id="MJXp-Span-600"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-601" style="margin-right: 0.05em;">b</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-602" style="vertical-align: 0.5em;">2</span></span></span><span class="MJXp-mrow" id="MJXp-Span-603"><span class="MJXp-mn" id="MJXp-Span-604">2</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-605">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-606">b</span></span><span class="MJXp-mtext" id="MJXp-Span-607">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-608">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-609">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-610">g</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-611">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-612">t</span><span class="MJXp-mo" id="MJXp-Span-613" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mspace" id="MJXp-Span-614" style="width: 0em; height: 0em;"></span><span class="MJXp-mtext" id="MJXp-Span-615">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-616">g</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-617">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-618">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-619">m</span><span class="MJXp-msubsup" id="MJXp-Span-620"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-621" style="margin-right: 0.05em;">a</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-622" style="vertical-align: -0.4em;">2</span></span><span class="MJXp-mo" id="MJXp-Span-623" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-msubsup" id="MJXp-Span-624"><span class="MJXp-mn" id="MJXp-Span-625" style="margin-right: 0.05em;">180</span><span class="MJXp-mtext MJXp-script" id="MJXp-Span-626" style="vertical-align: 0.5em;">&nbsp;</span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-627">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-628">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-629">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-630">c</span><span class="MJXp-mo" id="MJXp-Span-631" style="margin-left: 0.267em; margin-right: 0.267em;">‚àí</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-632">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-633">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-634">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-635">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-636">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-637">s</span><span class="MJXp-mtext" id="MJXp-Span-638">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-639">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-640">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-641">f</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-642">t</span><span class="MJXp-mo" id="MJXp-Span-643" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mtext" id="MJXp-Span-644">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-645">f</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-646">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-647">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-648">c</span><span class="MJXp-mrow" id="MJXp-Span-649"><span class="MJXp-msubsup" id="MJXp-Span-650"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-651" style="margin-right: 0.05em;">a</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-652" style="vertical-align: 0.5em;">2</span></span><span class="MJXp-mo" id="MJXp-Span-653" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-msubsup" id="MJXp-Span-654"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-655" style="margin-right: 0.05em;">b</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-656" style="vertical-align: 0.5em;">2</span></span><span class="MJXp-mo" id="MJXp-Span-657" style="margin-left: 0.267em; margin-right: 0.267em;">‚àí</span><span class="MJXp-msubsup" id="MJXp-Span-658"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-659" style="margin-right: 0.05em;">r</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-660" style="vertical-align: 0.5em;">2</span></span></span><span class="MJXp-mrow" id="MJXp-Span-661"><span class="MJXp-mn" id="MJXp-Span-662">2</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-663">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-664">r</span></span><span class="MJXp-mtext" id="MJXp-Span-665">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-666">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-667">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-668">g</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-669">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-670">t</span><span class="MJXp-mo" id="MJXp-Span-671" style="margin-left: 0em; margin-right: 0em;">)</span></span></span><div class="MathJax_SVG_Display MathJax_SVG_Processing"><span class="MathJax_SVG" id="MathJax-Element-25-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span></div><script type="math/tex;mode=display" id="MathJax-Element-25"> \ theta = arctan \ left (\ frac {r_y} {r_x} \ right) \\ \ gamma_1 = arcsin \ left (\ frac {r_z} {r} \ right) + arccos \ left (\ frac {a ^ 2 + r ^ 2-b ^ 2} {2ab} \ right) \\ \ gamma_2 = 180 ^ \ circ-arccos \ left (\ frac {a ^ 2 + b ^ 2-r ^ 2} {2ar} \ right) </script></p><br><br>  Now that the flange point has been moved to the desired position, the working member must be correctly oriented.  To do this, you need to know the coordinates of the vector. <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-672"><span class="MJXp-mtext" id="MJXp-Span-673">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-674">v</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-675">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-676">c</span><span class="MJXp-mrow" id="MJXp-Span-677"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-678">v</span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-26-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-26"> \ vec {v} </script>  relative to the flange point, i.e.  coordinates in the basis of the local coordinate system (LSC) - <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-679"><span class="MJXp-mrow" id="MJXp-Span-680"><span class="MJXp-msup" id="MJXp-Span-681"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-682" style="margin-right: 0.05em;">E</span><span class="MJXp-mo MJXp-script" id="MJXp-Span-683" style="vertical-align: 0.5em;">‚Ä≤</span></span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-27-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-27"> {E '} </script>  whose beginning is located at the flange point of the manipulator. <br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-684"><span class="MJXp-msup" id="MJXp-Span-685"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-686" style="margin-right: 0.05em;">E</span><span class="MJXp-mo MJXp-script" id="MJXp-Span-687" style="vertical-align: 0.5em;">‚Ä≤</span></span><span class="MJXp-mo" id="MJXp-Span-688" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mtext" id="MJXp-Span-689">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-690">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-691">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-692">f</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-693">t</span><span class="MJXp-mo" id="MJXp-Span-694" style="margin-left: 0em; margin-right: 0em;">[</span><span class="MJXp-mtext" id="MJXp-Span-695">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-696">v</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-697">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-698">c</span><span class="MJXp-msup" id="MJXp-Span-699"><span class="MJXp-mrow" id="MJXp-Span-700" style="margin-right: 0.05em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-701">x</span></span><span class="MJXp-mo MJXp-script" id="MJXp-Span-702" style="vertical-align: 0.5em;">‚Ä≤</span></span><span class="MJXp-mtext" id="MJXp-Span-703">&nbsp;</span><span class="MJXp-mtext" id="MJXp-Span-704">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-705">v</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-706">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-707">c</span><span class="MJXp-msup" id="MJXp-Span-708"><span class="MJXp-mrow" id="MJXp-Span-709" style="margin-right: 0.05em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-710">y</span></span><span class="MJXp-mo MJXp-script" id="MJXp-Span-711" style="vertical-align: 0.5em;">‚Ä≤</span></span><span class="MJXp-mtext" id="MJXp-Span-712">&nbsp;</span><span class="MJXp-mtext" id="MJXp-Span-713">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-714">v</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-715">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-716">c</span><span class="MJXp-msup" id="MJXp-Span-717"><span class="MJXp-mrow" id="MJXp-Span-718" style="margin-right: 0.05em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-719">z</span></span><span class="MJXp-mo MJXp-script" id="MJXp-Span-720" style="vertical-align: 0.5em;">‚Ä≤</span></span><span class="MJXp-mtext" id="MJXp-Span-721">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-722">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-723">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-724">g</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-725">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-726">t</span><span class="MJXp-mo" id="MJXp-Span-727" style="margin-left: 0em; margin-right: 0em;">]</span></span></span><div class="MathJax_SVG_Display MathJax_SVG_Processing"><span class="MathJax_SVG" id="MathJax-Element-28-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span></div><script type="math/tex;mode=display" id="MathJax-Element-28"> E '= \ left [\ vec {x}' \ \ vec {y} '\ \ vec {z}' \ right] </script></p><br>  Vector <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-728"><span class="MJXp-mtext" id="MJXp-Span-729">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-730">v</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-731">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-732">c</span><span class="MJXp-msup" id="MJXp-Span-733"><span class="MJXp-mrow" id="MJXp-Span-734" style="margin-right: 0.05em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-735">x</span></span><span class="MJXp-mo MJXp-script" id="MJXp-Span-736" style="vertical-align: 0.5em;">‚Ä≤</span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-29-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-29"> \ vec {x} '</script>  directed along link <i>b</i> , vector <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-737"><span class="MJXp-mtext" id="MJXp-Span-738">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-739">v</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-740">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-741">c</span><span class="MJXp-msup" id="MJXp-Span-742"><span class="MJXp-mrow" id="MJXp-Span-743" style="margin-right: 0.05em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-744">y</span></span><span class="MJXp-mo MJXp-script" id="MJXp-Span-745" style="vertical-align: 0.5em;">‚Ä≤</span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-30-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-30"> \ vec {y} '</script>  - along the swivel axis <i>f1</i> . <br>  To find the basis <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-746"><span class="MJXp-msup" id="MJXp-Span-747"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-748" style="margin-right: 0.05em;">E</span><span class="MJXp-mo MJXp-script" id="MJXp-Span-749" style="vertical-align: 0.5em;">‚Ä≤</span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-31-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-31"> E '</script>  we define the transition matrix from BSK (with basis <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-750"><span class="MJXp-msubsup" id="MJXp-Span-751"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-752" style="margin-right: 0.05em;">E</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-753" style="vertical-align: -0.4em;">0</span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-32-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-32"> E_0 </script>  ) and LSK.  This matrix is ‚Äã‚Äãobtained by a combination of turns in the hinges <i>A</i> , <i>B</i> and <i>C</i> : <br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-754"><span class="MJXp-msup" id="MJXp-Span-755"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-756" style="margin-right: 0.05em;">E</span><span class="MJXp-mo MJXp-script" id="MJXp-Span-757" style="vertical-align: 0.5em;">‚Ä≤</span></span><span class="MJXp-mo" id="MJXp-Span-758" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-759">C</span><span class="MJXp-msubsup" id="MJXp-Span-760"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-761" style="margin-right: 0.05em;">E</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-762" style="vertical-align: -0.4em;">0</span></span></span></span><div class="MathJax_SVG_Display MathJax_SVG_Processing"><span class="MathJax_SVG" id="MathJax-Element-33-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span></div><script type="math/tex;mode=display" id="MathJax-Element-33"> E '= CE_0 </script></p><br>  Where <br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-763"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-764">C</span><span class="MJXp-mo" id="MJXp-Span-765" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-msubsup" id="MJXp-Span-766"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-767" style="margin-right: 0.05em;">R</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-768" style="vertical-align: -0.4em;">C</span></span><span class="MJXp-msubsup" id="MJXp-Span-769"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-770" style="margin-right: 0.05em;">R</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-771" style="vertical-align: -0.4em;">B</span></span><span class="MJXp-msubsup" id="MJXp-Span-772"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-773" style="margin-right: 0.05em;">R</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-774" style="vertical-align: -0.4em;">A</span></span></span></span><div class="MathJax_SVG_Display MathJax_SVG_Processing"><span class="MathJax_SVG" id="MathJax-Element-34-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span></div><script type="math/tex;mode=display" id="MathJax-Element-34"> C = R_CR_BR_A </script></p><br>  Since  matrix <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-775"><span class="MJXp-msubsup" id="MJXp-Span-776"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-777" style="margin-right: 0.05em;">E</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-778" style="vertical-align: -0.4em;">0</span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-35-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-35"> E_0 </script>  is single, then: <br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-779"><span class="MJXp-msup" id="MJXp-Span-780"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-781" style="margin-right: 0.05em;">E</span><span class="MJXp-mo MJXp-script" id="MJXp-Span-782" style="vertical-align: 0.5em;">‚Ä≤</span></span><span class="MJXp-mo" id="MJXp-Span-783" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-784">C</span><span class="MJXp-mo" id="MJXp-Span-785" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-msubsup" id="MJXp-Span-786"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-787" style="margin-right: 0.05em;">R</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-788" style="vertical-align: -0.4em;">C</span></span><span class="MJXp-msubsup" id="MJXp-Span-789"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-790" style="margin-right: 0.05em;">R</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-791" style="vertical-align: -0.4em;">B</span></span><span class="MJXp-msubsup" id="MJXp-Span-792"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-793" style="margin-right: 0.05em;">R</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-794" style="vertical-align: -0.4em;">A</span></span></span></span><div class="MathJax_SVG_Display MathJax_SVG_Processing"><span class="MathJax_SVG" id="MathJax-Element-36-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span></div><script type="math/tex;mode=display" id="MathJax-Element-36"> E '= C = R_CR_BR_A </script></p><br><div class="spoiler">  <b class="spoiler_title">Knowledgeable reader</b> <div class="spoiler_text">  A knowledgeable reader can find here the similarity with the Denavit-Hartenberg representation for solving the direct problem of kinematics.  Yes, this is it, simplified to impossible and with my small changes.  Here I do not use homogeneous transformations, do not take into account design features, such as angular and linear displacement of axes, etc.  I just designed the structure in such a way that the above-mentioned extra parameters were absent there, leaving only those that are generalized coordinates. <br></div></div><br>  Matrix <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-795"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-796">C</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-37-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-37"> C </script>  it is calculated by multiplying the <i>rotation matrices around the axis by the angle</i> . <br>  Let us define a function that calculates this matrix: <br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-797"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-798">f</span><span class="MJXp-mo" id="MJXp-Span-799" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-800">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-801">x</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-802">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-803">s</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-804">A</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-805">n</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-806">g</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-807">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-808">e</span><span class="MJXp-mn" id="MJXp-Span-809">2</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-810">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-811">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-812">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-813">M</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-814">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-815">t</span><span class="MJXp-mo" id="MJXp-Span-816" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-817">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-818">x</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-819">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-820">s</span><span class="MJXp-mo" id="MJXp-Span-821" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-822">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-823">n</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-824">g</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-825">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-826">e</span><span class="MJXp-mo" id="MJXp-Span-827" style="margin-left: 0em; margin-right: 0em;">)</span></span></span><div class="MathJax_SVG_Display MathJax_SVG_Processing"><span class="MathJax_SVG" id="MathJax-Element-38-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span></div><script type="math/tex;mode=display" id="MathJax-Element-38"> f = axisAngle2rotMat (axis, angle) </script></p><br>  The axis is taken in the form of a vector as a column of the matrix obtained by previous turns, and the angles are already calculated above. <br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-828"><span class="MJXp-msubsup" id="MJXp-Span-829"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-830" style="margin-right: 0.05em;">C</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-831" style="vertical-align: -0.4em;">A</span></span><span class="MJXp-mo" id="MJXp-Span-832" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-833">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-834">x</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-835">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-836">s</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-837">A</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-838">n</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-839">g</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-840">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-841">e</span><span class="MJXp-mn" id="MJXp-Span-842">2</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-843">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-844">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-845">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-846">M</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-847">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-848">t</span><span class="MJXp-mo" id="MJXp-Span-849" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-msubsup" id="MJXp-Span-850"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-851" style="margin-right: 0.05em;">E</span><span class="MJXp-script-box" style="height: 1.86em; vertical-align: -0.64em;"><span class=" MJXp-script"><span><span style="margin-bottom: -0.25em;"><span class="MJXp-mrow" id="MJXp-Span-853"><span class="MJXp-mtext" id="MJXp-Span-854">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-855">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-856">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-857">n</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-858">g</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-859">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-860">e</span><span class="MJXp-mn" id="MJXp-Span-861">3</span><span class="MJXp-mtext" id="MJXp-Span-862">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-863">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-864">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-865">n</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-866">g</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-867">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-868">e</span></span></span></span></span><span class=" MJXp-script"><span><span style="margin-top: -0.85em;"><span class="MJXp-mn" id="MJXp-Span-852">0</span></span></span></span></span></span><span class="MJXp-mo" id="MJXp-Span-869" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mtext" id="MJXp-Span-870">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-871">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-872">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-873">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-874">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-875">a</span><span class="MJXp-mo" id="MJXp-Span-876" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mspace" id="MJXp-Span-877" style="width: 0em; height: 0em;"></span><span class="MJXp-msubsup" id="MJXp-Span-878"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-879" style="margin-right: 0.05em;">C</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-880" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-881">B</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-882">A</span></span></span><span class="MJXp-mo" id="MJXp-Span-883" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-msubsup" id="MJXp-Span-884"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-885" style="margin-right: 0.05em;">R</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-886" style="vertical-align: -0.4em;">B</span></span><span class="MJXp-msubsup" id="MJXp-Span-887"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-888" style="margin-right: 0.05em;">C</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-889" style="vertical-align: -0.4em;">A</span></span><span class="MJXp-mo" id="MJXp-Span-890" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-891">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-892">x</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-893">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-894">s</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-895">A</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-896">n</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-897">g</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-898">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-899">e</span><span class="MJXp-mn" id="MJXp-Span-900">2</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-901">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-902">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-903">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-904">M</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-905">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-906">t</span><span class="MJXp-mo" id="MJXp-Span-907" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-msubsup" id="MJXp-Span-908"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-909" style="margin-right: 0.05em;">C</span><span class="MJXp-script-box" style="height: 1.86em; vertical-align: -0.64em;"><span class=" MJXp-script"><span><span style="margin-bottom: -0.25em;"><span class="MJXp-mrow" id="MJXp-Span-911"><span class="MJXp-mtext" id="MJXp-Span-912">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-913">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-914">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-915">n</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-916">g</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-917">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-918">e</span><span class="MJXp-mn" id="MJXp-Span-919">2</span><span class="MJXp-mtext" id="MJXp-Span-920">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-921">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-922">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-923">n</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-924">g</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-925">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-926">e</span></span></span></span></span><span class=" MJXp-script"><span><span style="margin-top: -0.85em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-910">A</span></span></span></span></span></span><span class="MJXp-mo" id="MJXp-Span-927" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mtext" id="MJXp-Span-928">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-929">g</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-930">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-931">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-932">m</span><span class="MJXp-msubsup" id="MJXp-Span-933"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-934" style="margin-right: 0.05em;">a</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-935" style="vertical-align: -0.4em;">1</span></span><span class="MJXp-mo" id="MJXp-Span-936" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-msubsup" id="MJXp-Span-937"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-938" style="margin-right: 0.05em;">C</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-939" style="vertical-align: -0.4em;">A</span></span><span class="MJXp-mspace" id="MJXp-Span-940" style="width: 0em; height: 0em;"></span><span class="MJXp-msubsup" id="MJXp-Span-941"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-942" style="margin-right: 0.05em;">C</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-943" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-944">C</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-945">B</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-946">A</span></span></span><span class="MJXp-mo" id="MJXp-Span-947" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-msubsup" id="MJXp-Span-948"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-949" style="margin-right: 0.05em;">R</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-950" style="vertical-align: -0.4em;">C</span></span><span class="MJXp-msubsup" id="MJXp-Span-951"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-952" style="margin-right: 0.05em;">C</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-953" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-954">B</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-955">A</span></span></span><span class="MJXp-mo" id="MJXp-Span-956" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-957">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-958">x</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-959">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-960">s</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-961">A</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-962">n</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-963">g</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-964">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-965">e</span><span class="MJXp-mn" id="MJXp-Span-966">2</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-967">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-968">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-969">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-970">M</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-971">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-972">t</span><span class="MJXp-mo" id="MJXp-Span-973" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-msubsup" id="MJXp-Span-974"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-975" style="margin-right: 0.05em;">C</span><span class="MJXp-script-box" style="height: 1.86em; vertical-align: -0.64em;"><span class=" MJXp-script"><span><span style="margin-bottom: -0.25em;"><span class="MJXp-mrow" id="MJXp-Span-979"><span class="MJXp-mtext" id="MJXp-Span-980">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-981">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-982">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-983">n</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-984">g</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-985">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-986">e</span><span class="MJXp-mn" id="MJXp-Span-987">2</span><span class="MJXp-mtext" id="MJXp-Span-988">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-989">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-990">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-991">n</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-992">g</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-993">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-994">e</span></span></span></span></span><span class=" MJXp-script"><span><span style="margin-top: -0.85em;"><span class="MJXp-mrow" id="MJXp-Span-976"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-977">B</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-978">A</span></span></span></span></span></span></span><span class="MJXp-mo" id="MJXp-Span-995" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mtext" id="MJXp-Span-996">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-997">g</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-998">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-999">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1000">m</span><span class="MJXp-msubsup" id="MJXp-Span-1001"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1002" style="margin-right: 0.05em;">a</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-1003" style="vertical-align: -0.4em;">1</span></span><span class="MJXp-mo" id="MJXp-Span-1004" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-msubsup" id="MJXp-Span-1005"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1006" style="margin-right: 0.05em;">C</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-1007" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1008">B</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1009">A</span></span></span></span></span><div class="MathJax_SVG_Display MathJax_SVG_Processing"><span class="MathJax_SVG" id="MathJax-Element-39-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span></div><script type="math/tex;mode=display" id="MathJax-Element-39"> C_A = axisAngle2rotMat (E_0 ^ {\ langle3 \ rangle}, \ theta) \\ C_ {BA} = R_BC_A = axisAngle2rotMat (C_A ^ {\ langle2 \ rangle}, \ gamma_1) C_A \\ C_ {CBA} = R_CC_ { BA} = axisAngle2rotMat (C_ {BA} ^ {\ langle2 \ rangle}, \ gamma_1) C_ {BA} </script></p><br>  As a result, we obtain: <br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-1010"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1011">C</span><span class="MJXp-mo" id="MJXp-Span-1012" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-msubsup" id="MJXp-Span-1013"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1014" style="margin-right: 0.05em;">C</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-1015" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1016">C</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1017">B</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1018">A</span></span></span><span class="MJXp-mtext" id="MJXp-Span-1019">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1020">q</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1021">u</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1022">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1023">d</span><span class="MJXp-msup" id="MJXp-Span-1024"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1025" style="margin-right: 0.05em;">E</span><span class="MJXp-mo MJXp-script" id="MJXp-Span-1026" style="vertical-align: 0.5em;">‚Ä≤</span></span><span class="MJXp-mo" id="MJXp-Span-1027" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1028">C</span></span></span><div class="MathJax_SVG_Display MathJax_SVG_Processing"><span class="MathJax_SVG" id="MathJax-Element-40-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span></div><script type="math/tex;mode=display" id="MathJax-Element-40"> C = C_ {CBA} \ quad E '= C </script></p><br>  Let the vector of the working body in BSK <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1029"><span class="MJXp-mtext" id="MJXp-Span-1030">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1031">v</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1032">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1033">c</span><span class="MJXp-mrow" id="MJXp-Span-1034"><span class="MJXp-msubsup" id="MJXp-Span-1035"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1036" style="margin-right: 0.05em;">v</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-1037" style="vertical-align: -0.4em;">0</span></span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-41-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-41"> \ vec {v_0} </script>  .  Then the equality is true: <br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-1038"><span class="MJXp-mtext" id="MJXp-Span-1039">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1040">v</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1041">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1042">c</span><span class="MJXp-mrow" id="MJXp-Span-1043"><span class="MJXp-msubsup" id="MJXp-Span-1044"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1045" style="margin-right: 0.05em;">v</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-1046" style="vertical-align: -0.4em;">0</span></span></span><span class="MJXp-mo" id="MJXp-Span-1047" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-msup" id="MJXp-Span-1048"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1049" style="margin-right: 0.05em;">E</span><span class="MJXp-mo MJXp-script" id="MJXp-Span-1050" style="vertical-align: 0.5em;">‚Ä≤</span></span><span class="MJXp-mtext" id="MJXp-Span-1051">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1052">v</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1053">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1054">c</span><span class="MJXp-mrow" id="MJXp-Span-1055"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1056">v</span></span></span></span><div class="MathJax_SVG_Display MathJax_SVG_Processing"><span class="MathJax_SVG" id="MathJax-Element-42-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span></div><script type="math/tex;mode=display" id="MathJax-Element-42"> \ vec {v_0} = E '\ vec {v} </script></p><br>  From here we express <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1057"><span class="MJXp-mtext" id="MJXp-Span-1058">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1059">v</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1060">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1061">c</span><span class="MJXp-mrow" id="MJXp-Span-1062"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1063">v</span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-43-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-43"> \ vec {v} </script>  - vector of the working body in the basis <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1064"><span class="MJXp-msup" id="MJXp-Span-1065"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1066" style="margin-right: 0.05em;">E</span><span class="MJXp-mo MJXp-script" id="MJXp-Span-1067" style="vertical-align: 0.5em;">‚Ä≤</span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-44-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-44"> E '</script>  i.e.  relative to the flange point: <br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-1068"><span class="MJXp-mtext" id="MJXp-Span-1069">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1070">v</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1071">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1072">c</span><span class="MJXp-mrow" id="MJXp-Span-1073"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1074">v</span></span><span class="MJXp-mo" id="MJXp-Span-1075" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-msubsup" id="MJXp-Span-1076"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1077" style="margin-right: 0.05em;">E</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-1078" style="vertical-align: 0.5em;"><span class="MJXp-mo" id="MJXp-Span-1079">‚Ä≤</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1080">T</span></span></span><span class="MJXp-mtext" id="MJXp-Span-1081">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1082">v</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1083">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1084">c</span><span class="MJXp-mrow" id="MJXp-Span-1085"><span class="MJXp-msubsup" id="MJXp-Span-1086"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1087" style="margin-right: 0.05em;">v</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-1088" style="vertical-align: -0.4em;">0</span></span></span></span></span><div class="MathJax_SVG_Display MathJax_SVG_Processing"><span class="MathJax_SVG" id="MathJax-Element-45-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span></div><script type="math/tex;mode=display" id="MathJax-Element-45"> \ vec {v} = E '^ T \ vec {v_0} </script></p><br>  Now, knowing the vector PO, it is possible to calculate the angles of rotation of the orienting axes <i>f1</i> and <i>f2</i> <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/yv/0_/ha/yv0_har-jdzvaoxh9wbtecyamck.jpeg" width="80%" height="80%" title="Geometry of the working body"></div><br>  To move the RO to a given position, you need to make a turn at the corners <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1089"><span class="MJXp-mtext" id="MJXp-Span-1090">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1091">v</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1092">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1093">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1094">p</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1095">h</span><span class="MJXp-msubsup" id="MJXp-Span-1096"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1097" style="margin-right: 0.05em;">i</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-1098" style="vertical-align: -0.4em;">1</span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-46-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-46"> \ varphi_1 </script>  and <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1099"><span class="MJXp-mtext" id="MJXp-Span-1100">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1101">v</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1102">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1103">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1104">p</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1105">h</span><span class="MJXp-msubsup" id="MJXp-Span-1106"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1107" style="margin-right: 0.05em;">i</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-1108" style="vertical-align: -0.4em;">2</span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-47-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-47"> \ varphi_2 </script>  .  From the figure it is clear that <br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-1109"><span class="MJXp-mtext" id="MJXp-Span-1110">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1111">v</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1112">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1113">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1114">p</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1115">h</span><span class="MJXp-msubsup" id="MJXp-Span-1116"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1117" style="margin-right: 0.05em;">i</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-1118" style="vertical-align: -0.4em;">1</span></span><span class="MJXp-mo" id="MJXp-Span-1119" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1120">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1121">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1122">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1123">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1124">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1125">n</span><span class="MJXp-mtext" id="MJXp-Span-1126">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1127">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1128">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1129">f</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1130">t</span><span class="MJXp-mo" id="MJXp-Span-1131" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mtext" id="MJXp-Span-1132">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1133">f</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1134">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1135">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1136">c</span><span class="MJXp-mrow" id="MJXp-Span-1137"><span class="MJXp-msubsup" id="MJXp-Span-1138"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1139" style="margin-right: 0.05em;">v</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-1140" style="vertical-align: -0.4em;">y</span></span></span><span class="MJXp-mrow" id="MJXp-Span-1141"><span class="MJXp-msubsup" id="MJXp-Span-1142"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1143" style="margin-right: 0.05em;">v</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-1144" style="vertical-align: -0.4em;">z</span></span></span><span class="MJXp-mtext" id="MJXp-Span-1145">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1146">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1147">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1148">g</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1149">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1150">t</span><span class="MJXp-mo" id="MJXp-Span-1151" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mtext" id="MJXp-Span-1152">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1153">q</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1154">u</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1155">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1156">d</span><span class="MJXp-mtext" id="MJXp-Span-1157">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1158">v</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1159">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1160">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1161">p</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1162">h</span><span class="MJXp-msubsup" id="MJXp-Span-1163"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1164" style="margin-right: 0.05em;">i</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-1165" style="vertical-align: -0.4em;">2</span></span><span class="MJXp-mo" id="MJXp-Span-1166" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1167">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1168">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1169">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1170">s</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1171">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1172">n</span><span class="MJXp-mtext" id="MJXp-Span-1173">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1174">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1175">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1176">f</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1177">t</span><span class="MJXp-mo" id="MJXp-Span-1178" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mtext" id="MJXp-Span-1179">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1180">f</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1181">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1182">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1183">c</span><span class="MJXp-mrow" id="MJXp-Span-1184"><span class="MJXp-mtext" id="MJXp-Span-1185">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1186">s</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1187">q</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1188">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1189">t</span><span class="MJXp-mrow" id="MJXp-Span-1190"><span class="MJXp-msubsup" id="MJXp-Span-1191"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1192" style="margin-right: 0.05em;">v</span><span class="MJXp-script-box" style="height: 1.86em; vertical-align: -0.64em;"><span class=" MJXp-script"><span><span style="margin-bottom: -0.25em;"><span class="MJXp-mn" id="MJXp-Span-1194">2</span></span></span></span><span class=" MJXp-script"><span><span style="margin-top: -0.85em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1193">y</span></span></span></span></span></span><span class="MJXp-mo" id="MJXp-Span-1195" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-msubsup" id="MJXp-Span-1196"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1197" style="margin-right: 0.05em;">v</span><span class="MJXp-script-box" style="height: 1.86em; vertical-align: -0.64em;"><span class=" MJXp-script"><span><span style="margin-bottom: -0.25em;"><span class="MJXp-mn" id="MJXp-Span-1199">2</span></span></span></span><span class=" MJXp-script"><span><span style="margin-top: -0.85em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1198">z</span></span></span></span></span></span></span></span><span class="MJXp-mrow" id="MJXp-Span-1200"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1201">V</span></span><span class="MJXp-mtext" id="MJXp-Span-1202">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1203">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1204">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1205">g</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1206">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1207">t</span><span class="MJXp-mo" id="MJXp-Span-1208" style="margin-left: 0em; margin-right: 0em;">)</span></span></span><div class="MathJax_SVG_Display MathJax_SVG_Processing"><span class="MathJax_SVG" id="MathJax-Element-48-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span></div><script type="math/tex;mode=display" id="MathJax-Element-48"> \ varphi_1 = arctan \ left (\ frac {v_y} {v_z} \ right) \ quad \ varphi_2 = arcsin \ left (\ frac {\ sqrt {v_y ^ 2 + v_z ^ 2}} {V} \ right) </script></p><br>  Where <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1209"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1210">V</span><span class="MJXp-mo" id="MJXp-Span-1211" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mrow" id="MJXp-Span-1212"><span class="MJXp-mo" id="MJXp-Span-1213" style="margin-left: 0.167em; margin-right: 0.167em;">|</span></span><span class="MJXp-mtext" id="MJXp-Span-1214">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1215">v</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1216">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1217">c</span><span class="MJXp-mrow" id="MJXp-Span-1218"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1219">v</span></span><span class="MJXp-mrow" id="MJXp-Span-1220"><span class="MJXp-mo" id="MJXp-Span-1221" style="margin-left: 0.167em; margin-right: 0.167em;">|</span></span><span class="MJXp-mo" id="MJXp-Span-1222" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mtext" id="MJXp-Span-1223">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1224">s</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1225">q</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1226">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1227">t</span><span class="MJXp-mrow" id="MJXp-Span-1228"><span class="MJXp-msubsup" id="MJXp-Span-1229"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1230" style="margin-right: 0.05em;">v</span><span class="MJXp-script-box" style="height: 1.86em; vertical-align: -0.64em;"><span class=" MJXp-script"><span><span style="margin-bottom: -0.25em;"><span class="MJXp-mn" id="MJXp-Span-1232">2</span></span></span></span><span class=" MJXp-script"><span><span style="margin-top: -0.85em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1231">x</span></span></span></span></span></span><span class="MJXp-mo" id="MJXp-Span-1233" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-msubsup" id="MJXp-Span-1234"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1235" style="margin-right: 0.05em;">v</span><span class="MJXp-script-box" style="height: 1.86em; vertical-align: -0.64em;"><span class=" MJXp-script"><span><span style="margin-bottom: -0.25em;"><span class="MJXp-mn" id="MJXp-Span-1237">2</span></span></span></span><span class=" MJXp-script"><span><span style="margin-top: -0.85em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1236">y</span></span></span></span></span></span><span class="MJXp-mo" id="MJXp-Span-1238" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-msubsup" id="MJXp-Span-1239"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1240" style="margin-right: 0.05em;">v</span><span class="MJXp-script-box" style="height: 1.86em; vertical-align: -0.64em;"><span class=" MJXp-script"><span><span style="margin-bottom: -0.25em;"><span class="MJXp-mn" id="MJXp-Span-1242">2</span></span></span></span><span class=" MJXp-script"><span><span style="margin-top: -0.85em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1241">z</span></span></span></span></span></span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-49-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-49"> V = | \ vec {v} | = \ sqrt {v_x ^ 2 + v_y ^ 2 + v_z ^ 2} </script>  - the length of the working body, <br><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1243"><span class="MJXp-msubsup" id="MJXp-Span-1244"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1245" style="margin-right: 0.05em;">v</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-1246" style="vertical-align: -0.4em;">x</span></span><span class="MJXp-mo" id="MJXp-Span-1247" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-msubsup" id="MJXp-Span-1248"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1249" style="margin-right: 0.05em;">v</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-1250" style="vertical-align: -0.4em;">y</span></span><span class="MJXp-mo" id="MJXp-Span-1251" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-msubsup" id="MJXp-Span-1252"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1253" style="margin-right: 0.05em;">v</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-1254" style="vertical-align: -0.4em;">z</span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-50-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-50"> v_x, v_y, v_z </script>  - vector coordinates <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1255"><span class="MJXp-mtext" id="MJXp-Span-1256">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1257">v</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1258">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1259">c</span><span class="MJXp-mrow" id="MJXp-Span-1260"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1261">v</span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-51-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-51"> \ vec {v} </script>  . <br><br>  The software of the manipulator is divided into two levels, upper and lower.  The upper level is written in Matlab in the form of a library and various commands-methods, the lower level is written on the Atmega328 microcontroller.  The task of the upper level is to formulate the commands sent to the microcontroller.  His task is to get the team and in accordance with it to install the actuators in the desired position.  In this form, the control system turned out to be reliable (for now ...) and convenient to use. <br><br><div class="spoiler">  <b class="spoiler_title">Why matlab?</b> <div class="spoiler_text">  The highlight, as I see it, of Matlab is that operations with matrices take place there as usual algebraic relations, and there is no need to fence nested loops as it is done, for example, in the C language. Almost any ‚Äúdesired‚Äù mathematical operation is available in Matlab, which gives great happiness. <br></div></div><br>  The command is formulated and sent from the top level as follows: the user in the Matlab command window calls the function from the library (for example, the function of simple move to a point), specifies the necessary arguments (usually coordinates and PO orientation).  After the above, the mathematical considerations recorded in the library, calculate the angles of rotation of the axes and, if necessary, the speed of rotation.  After a simple protocol, we assemble a command and send it to the lower level microcontroller via a serial COM port. <br><br>  A few words about the written library.  It has the following functions: <br><br><ol><li>  serial connection functions </li><li>  movement functions </li></ol><br><ul><li>  to a point, with a constant speed of all drives </li><li>  to a point, with the final stop of all drives (the drive speed is adjusted in proportion to its own and the largest angle of rotation. Thus, at the end of the approach to the point, all drives end movement) </li><li>  to a point with smooth movement of each drive (in this case, the graph of speed looks like a trapezoid with acceleration, constant speed and deceleration areas) <br><br><div class="spoiler">  <b class="spoiler_title">Schedule</b> <div class="spoiler_text"><div style="text-align:center;"><img src="https://habrastorage.org/webt/rm/ma/cg/rmmacg0-745cih7mdr-qt2gg0mc.jpeg" width="60%" height="60%" title="Speed ‚Äã‚Äãcycle"></div><br></div></div><br></li><li>  to a point, manually set the angles of rotation of the axes and speed of rotation </li></ul><br>  The list of functions can of course be expanded, but it was enough of this functionality to solve directly the task for which the manipulator was designed. <br><br>  The video demonstrates the work of the manipulator. <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/xygd60ruiU0" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><h3>  2. Development of a device for tracking hand movements </h3><br>  Go to the next step.  Here you need to design a special device that can track in palm space in real time.  Also, this process is called ‚Äúmotion capture‚Äù.  To accomplish this, I decided to use a stitched inertial navigation system (SINS) based on three sensors: a gyroscope, an accelerometer and a magnetometer.  A bundle of these sensors is called the IMU - sensor (in translation, it is the very SINS). <br><br>  First, I designed a printed circuit board with the functionality I needed, on which I placed these three sensors.  As a processing controller, I chose (or rather took what was) the Atmega2560 microcontroller.  Sensors used common and cheap in the Chinese market.  These are paired sensors triaxial gyroscope and accelerometer MPU6050 and magnetometer HMC5883l. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/8p/rk/vq/8prkvqt0klxouxw-fxdxpblvgho.gif" width="100%" height="100%" title="Schematic diagram"></div><br><div class="spoiler">  <b class="spoiler_title">Photos of the finished board</b> <div class="spoiler_text"><img src="https://habrastorage.org/webt/f1/nj/40/f1nj40nobrj51cideljwm6roihw.jpeg"><br><br><img src="https://habrastorage.org/webt/rm/tx/v7/rmtxv7dwf-o8hxivquddv1exxvg.jpeg"><br></div></div><br>  The algorithm for calculating the position in space is quite simple: first we determine the orientation in the form of the basis of the local coordinate system (LSC), which is associated with the sensors, and ultimately with the palm of the hand. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/hm/or/gq/hmorgqbaim_bqqodfyoud5iwdxc.jpeg" width="40%" height="40%" title="Beans"></div><br><br>  The orientation is determined relative to the initial coordinate system (NSC), which is essentially the initial position of the device at the time of power-up.  The bases of the NSC and LSK consist of column vectors its ort: <br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-1262"><span class="noError" id="MJXp-Span-1263" style="display: inline-block;">E_0&nbsp;=&nbsp;\&nbsp;left&nbsp;[\&nbsp;vec&nbsp;{X}&nbsp;\&nbsp;\&nbsp;vec&nbsp;{Y}&nbsp;\&nbsp;\&nbsp;vec&nbsp;{Z}&nbsp;\&nbsp;right]&nbsp;=&nbsp;\&nbsp;left&nbsp;[\&nbsp;begin&nbsp;{array}&nbsp;{cccc}&nbsp;1&nbsp;&amp;&nbsp;0&nbsp;&amp;&nbsp;0&nbsp;\\&nbsp;0&nbsp;&amp;&nbsp;1&nbsp;&amp;&nbsp;0&nbsp;\\&nbsp;0&nbsp;&amp;&nbsp;0&nbsp;&amp;&nbsp;1&nbsp;\&nbsp;end&nbsp;{array}&nbsp;\&nbsp;right]&nbsp;\\&nbsp;E&nbsp;'=&nbsp;\&nbsp;left&nbsp;[\&nbsp;vec&nbsp;{x}'&nbsp;\&nbsp;\&nbsp;vec&nbsp;{y}&nbsp;'\&nbsp;\&nbsp;vec&nbsp;{z}'&nbsp;\&nbsp;right]</span></span></span><div class="MathJax_SVG_Display MathJax_SVG_Processing"><span class="MathJax_SVG" id="MathJax-Element-52-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span></div><script type="math/tex;mode=display" id="MathJax-Element-52"> E_0 = \ left [\ vec {X} \ \ vec {Y} \ \ vec {Z} \ right] = \ left [\ begin {array} {cccc} 1 & 0 & 0 \\ 0 & 1 & 0 \\ 0 & 0 & 1 \ end {array} \ right] \\ E '= \ left [\ vec {x}' \ \ vec {y} '\ \ vec {z}' \ right] </script></p><br>  They are related by: <br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-1264"><span class="MJXp-msup" id="MJXp-Span-1265"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1266" style="margin-right: 0.05em;">E</span><span class="MJXp-mo MJXp-script" id="MJXp-Span-1267" style="vertical-align: 0.5em;">‚Ä≤</span></span><span class="MJXp-mo" id="MJXp-Span-1268" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1269">C</span><span class="MJXp-msubsup" id="MJXp-Span-1270"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1271" style="margin-right: 0.05em;">E</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-1272" style="vertical-align: -0.4em;">0</span></span></span></span><div class="MathJax_SVG_Display MathJax_SVG_Processing"><span class="MathJax_SVG" id="MathJax-Element-53-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span></div><script type="math/tex;mode=display" id="MathJax-Element-53"> E '= CE_0 </script></p><br>  Where <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1273"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1274">C</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-54-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-54"> C </script>  - transition matrix, it is the rotation matrix in space.  The basis of the NSC will be considered the unit matrix.  Consequently <br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-1275"><span class="MJXp-msup" id="MJXp-Span-1276"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1277" style="margin-right: 0.05em;">E</span><span class="MJXp-mo MJXp-script" id="MJXp-Span-1278" style="vertical-align: 0.5em;">‚Ä≤</span></span><span class="MJXp-mo" id="MJXp-Span-1279" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1280">C</span></span></span><div class="MathJax_SVG_Display MathJax_SVG_Processing"><span class="MathJax_SVG" id="MathJax-Element-55-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span></div><script type="math/tex;mode=display" id="MathJax-Element-55"> E '= C </script></p>  . <br>  After, the acceleration vector <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1281"><span class="MJXp-mtext" id="MJXp-Span-1282">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1283">v</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1284">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1285">c</span><span class="MJXp-mrow" id="MJXp-Span-1286"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1287">A</span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-56-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-56"> \ vec {A} </script>  , which is known for LSK, must be defined in the NSC.  This is done by multiplying the acceleration column vector by the basis of the FCS: <br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-1288"><span class="MJXp-mtext" id="MJXp-Span-1289">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1290">v</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1291">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1292">c</span><span class="MJXp-mrow" id="MJXp-Span-1293"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1294">A</span></span><span class="MJXp-mo" id="MJXp-Span-1295" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-msup" id="MJXp-Span-1296"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1297" style="margin-right: 0.05em;">E</span><span class="MJXp-mo MJXp-script" id="MJXp-Span-1298" style="vertical-align: 0.5em;">‚Ä≤</span></span><span class="MJXp-mtext" id="MJXp-Span-1299">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1300">v</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1301">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1302">c</span><span class="MJXp-msup" id="MJXp-Span-1303"><span class="MJXp-mrow" id="MJXp-Span-1304" style="margin-right: 0.05em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1305">A</span></span><span class="MJXp-mo MJXp-script" id="MJXp-Span-1306" style="vertical-align: 0.5em;">‚Ä≤</span></span></span></span><div class="MathJax_SVG_Display MathJax_SVG_Processing"><span class="MathJax_SVG" id="MathJax-Element-57-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span></div><script type="math/tex;mode=display" id="MathJax-Element-57"> \ vec {A} = E '\ vec {A}' </script></p><br>  Then, the obtained acceleration vector is integrated twice in time and we get the distance, i.e.  coordinates: <br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-1307"><span class="MJXp-mtext" id="MJXp-Span-1308">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1309">v</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1310">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1311">c</span><span class="MJXp-mrow" id="MJXp-Span-1312"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1313">r</span></span><span class="MJXp-mo" id="MJXp-Span-1314" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mtext" id="MJXp-Span-1315">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1316">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1317">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1318">n</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1319">t</span><span class="MJXp-mtext" id="MJXp-Span-1320">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1321">v</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1322">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1323">c</span><span class="MJXp-mrow" id="MJXp-Span-1324"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1325">A</span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1326">d</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1327">t</span></span></span><div class="MathJax_SVG_Display MathJax_SVG_Processing"><span class="MathJax_SVG" id="MathJax-Element-58-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span></div><script type="math/tex;mode=display" id="MathJax-Element-58"> \ vec {r} = \ iint \ vec {A} dt </script></p><br>  The first attempts to implement this algorithm were very naive ... Naivety was that I found it possible only according to the gyroscope, using discrete integration, to obtain a rotation matrix around the axis.  In this case, the axis can be viewed as an angular velocity pseudovector, whose components (projections on the axes) are the output data from the gyroscope sensor.  And the angle in turn is obtained by integrating the modulus of the vector.  The initial enthusiasm and enthusiasm disappeared when I saw a monstrous magnitude, the so-called ‚Äúzero drift‚Äù, caused by a cumulative error due to discrete integration error and the sensor's own noise.  Even then, I thought that according to the accelerometer, which at rest shows a vector opposite to the gravitational acceleration vector (hereinafter referred to as the gravity vector), the matrix can be adjusted, but here too there is uncertainty due to the fact that only up to a rotation of the angle around the Z axis. The correction will be complete if it is possible to restore the rotation matrix in an alternative way, i.e.  without the use of gyro data. <br><br><div class="spoiler">  <b class="spoiler_title">Especially interested</b> <div class="spoiler_text">  Especially interested I will explain.  Why is it impossible to restore the rotation matrix using the accelerometer?  More precisely not enough data.  As we know, the gravity vector is always directed to the center of the planet, and, therefore, is perpendicular to the Earth's surface.  Since we associate the initial coordinate system, for example, with a table, so the XY plane is parallel to the table surface, which in turn is parallel (with some convention) to the floor, and the floor is in turn parallel to the base plane of the building, which is usually a tangent plane to the surface of the Earth .  Hence we conclude that the readings of the accelerometer at rest (or with uniform motion) tell us about the position of the axis <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1328"><span class="MJXp-mtext" id="MJXp-Span-1329">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1330">v</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1331">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1332">c</span><span class="MJXp-msup" id="MJXp-Span-1333"><span class="MJXp-mrow" id="MJXp-Span-1334" style="margin-right: 0.05em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1335">z</span></span><span class="MJXp-mo MJXp-script" id="MJXp-Span-1336" style="vertical-align: 0.5em;">‚Ä≤</span></span></span></span><script type="math/tex" id="MathJax-Element-59"> \ vec {z} '</script>  LSK, relative to the NSC.  At this the utility of this data is exhausted, since  axis rotation <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1337"><span class="MJXp-mtext" id="MJXp-Span-1338">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1339">v</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1340">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1341">c</span><span class="MJXp-msup" id="MJXp-Span-1342"><span class="MJXp-mrow" id="MJXp-Span-1343" style="margin-right: 0.05em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1344">z</span></span><span class="MJXp-mo MJXp-script" id="MJXp-Span-1345" style="vertical-align: 0.5em;">‚Ä≤</span></span></span></span><script type="math/tex" id="MathJax-Element-60"> \ vec {z} '</script>  will not change the axis itself <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1346"><span class="MJXp-mtext" id="MJXp-Span-1347">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1348">v</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1349">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1350">c</span><span class="MJXp-msup" id="MJXp-Span-1351"><span class="MJXp-mrow" id="MJXp-Span-1352" style="margin-right: 0.05em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1353">z</span></span><span class="MJXp-mo MJXp-script" id="MJXp-Span-1354" style="vertical-align: 0.5em;">‚Ä≤</span></span></span></span><script type="math/tex" id="MathJax-Element-61"> \ vec {z} '</script>  but changes the other two axes <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1355"><span class="MJXp-mtext" id="MJXp-Span-1356">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1357">v</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1358">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1359">c</span><span class="MJXp-msup" id="MJXp-Span-1360"><span class="MJXp-mrow" id="MJXp-Span-1361" style="margin-right: 0.05em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1362">x</span></span><span class="MJXp-mo MJXp-script" id="MJXp-Span-1363" style="vertical-align: 0.5em;">‚Ä≤</span></span></span></span><script type="math/tex" id="MathJax-Element-62"> \ vec {x} '</script>  and <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1364"><span class="MJXp-mtext" id="MJXp-Span-1365">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1366">v</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1367">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1368">c</span><span class="MJXp-msup" id="MJXp-Span-1369"><span class="MJXp-mrow" id="MJXp-Span-1370" style="margin-right: 0.05em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1371">y</span></span><span class="MJXp-mo MJXp-script" id="MJXp-Span-1372" style="vertical-align: 0.5em;">‚Ä≤</span></span></span></span><script type="math/tex" id="MathJax-Element-63"> \ vec {y} '</script>  .  Therefore, the accelerometer reading will not change and then the position will not be determined. <br></div></div><br>  Then it is necessary to use another factor by which it will be possible to make a full adjustment of the situation.  This factor is the magnetic field of the Earth, which, along with gravity at a particular point on the planet, does not change with time (in the short term, of course).  It is measured using the above-mentioned sensor HMC5883l.  In this case, we have two vectors, which are sufficient to determine the position in space relative to them. <br><br>  Now a natural question arises - ‚Äúhow to do it?‚Äù.  After unsuccessful attempts to answer this questioning on my own, I got into the Internet, where I found the information I needed.  The task of determining orientation in space according to three dimensions (angular velocity, gravity vector and magnetic field vector) also arises when designing amateur aircraft (for example, Copters), therefore this problem was not solved by various methods.  One popular method is the so-called Majvik filter (Sebastian OH Madgwick).  After reading the original <a href="http://x-io.co.uk/res/doc/madgwick_internal_report.pdf">article</a> and not understanding Anglitsky, I turned to a wonderful <a href="https://habr.com/post/255661/">translation</a> (thanks to the author for the work done).  While I was delving into studying the article, I had more and more thoughts about trying to write my own position filtering algorithm, considering that by this time my level of knowledge in this area had increased significantly.  At least for the sake of interest "reinvent the wheel"!  And I "invented" it.  I give my reasoning below. <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">The algorithm uses the readings of all three sensors. </font><font style="vertical-align: inherit;">Let me remind you, the task of the algorithm is the calculation of the orientation of the object and the compensation of the drift of the gyroscope zero, taking into account the given pairs of the accelerometer and the magnetometer. </font><font style="vertical-align: inherit;">As a mathematical tool describing the position, the quaternion is used, since </font><font style="vertical-align: inherit;">it is convenient in terms of construction and optimization of the algorithm and requires less mathematical operations to calculate it, unlike matrices. </font><font style="vertical-align: inherit;">Quaternion rotation in space is as follows:</font></font><br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-1373"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1374">q</span><span class="MJXp-mo" id="MJXp-Span-1375" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mrow" id="MJXp-Span-1376"><span class="MJXp-mo" id="MJXp-Span-1377" style="margin-left: 0em; margin-right: 0em; vertical-align: -0.244em;"><span class="MJXp-right MJXp-scale7" style="font-size: 1.978em; margin-left: -0.05em;">[</span></span><span class="MJXp-msubsup" id="MJXp-Span-1378"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1379" style="margin-right: 0.05em;">q</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-1380" style="vertical-align: -0.4em;">1</span></span><span class="MJXp-mtext" id="MJXp-Span-1381">&nbsp;</span><span class="MJXp-msubsup" id="MJXp-Span-1382"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1383" style="margin-right: 0.05em;">q</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-1384" style="vertical-align: -0.4em;">2</span></span><span class="MJXp-mtext" id="MJXp-Span-1385">&nbsp;</span><span class="MJXp-msubsup" id="MJXp-Span-1386"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1387" style="margin-right: 0.05em;">q</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-1388" style="vertical-align: -0.4em;">3</span></span><span class="MJXp-mtext" id="MJXp-Span-1389">&nbsp;</span><span class="MJXp-msubsup" id="MJXp-Span-1390"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1391" style="margin-right: 0.05em;">q</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-1392" style="vertical-align: -0.4em;">4</span></span><span class="MJXp-mo" id="MJXp-Span-1393" style="margin-left: 0em; margin-right: 0em; vertical-align: -0.244em;"><span class="MJXp-right MJXp-scale7" style="font-size: 1.978em; margin-left: -0.05em;">]</span></span></span></span></span><div class="MathJax_SVG_Display MathJax_SVG_Processing"><span class="MathJax_SVG" id="MathJax-Element-64-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span></div><script type="math/tex;mode=display" id="MathJax-Element-64">q=\left[ q_1\ q_2\ q_3\ q_4 \right]</script></p><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Knowing the axis of rotation described by the normalized vector </font></font><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1394"><span class="MJXp-mrow" id="MJXp-Span-1395"><span class="MJXp-munderover" id="MJXp-Span-1396"><span><span class="MJXp-over"><span class="" style="margin-bottom: -0.68em;"><span class="MJXp-mo" id="MJXp-Span-1398" style="margin-left: 0px; margin-right: 0px; font-size: 60%;">‚Üí</span></span><span class=""><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1397">v</span></span></span></span></span></span><span class="MJXp-mo" id="MJXp-Span-1399" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mrow" id="MJXp-Span-1400"><span class="MJXp-mo" id="MJXp-Span-1401" style="margin-left: 0em; margin-right: 0em; vertical-align: -0.244em;"><span class="MJXp-right MJXp-scale7" style="font-size: 1.978em; margin-left: -0.05em;">[</span></span><span class="MJXp-msubsup" id="MJXp-Span-1402"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1403" style="margin-right: 0.05em;">v</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-1404" style="vertical-align: -0.4em;">x</span></span><span class="MJXp-mtext" id="MJXp-Span-1405">&nbsp;</span><span class="MJXp-msubsup" id="MJXp-Span-1406"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1407" style="margin-right: 0.05em;">v</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-1408" style="vertical-align: -0.4em;">y</span></span><span class="MJXp-mtext" id="MJXp-Span-1409">&nbsp;</span><span class="MJXp-msubsup" id="MJXp-Span-1410"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1411" style="margin-right: 0.05em;">v</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-1412" style="vertical-align: -0.4em;">z</span></span><span class="MJXp-mo" id="MJXp-Span-1413" style="margin-left: 0em; margin-right: 0em; vertical-align: -0.244em;"><span class="MJXp-right MJXp-scale7" style="font-size: 1.978em; margin-left: -0.05em;">]</span></span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-65-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-65">\vec{v}=\left[ v_x\ v_y\ v_z \right]</script><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> and angle </font></font><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1414"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1415">œÜ</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-66-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-66">\varphi</script><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (where they come from above) can be calculated quaternion: </font></font><br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-1416"><span class="MJXp-msubsup" id="MJXp-Span-1417"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1418" style="margin-right: 0.05em;">q</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-1419" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1420">v</span><span class="MJXp-mo" id="MJXp-Span-1421">,</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1422">œÜ</span></span></span><span class="MJXp-mo" id="MJXp-Span-1423" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mrow" id="MJXp-Span-1424"><span class="MJXp-mo" id="MJXp-Span-1425" style="margin-left: 0em; margin-right: 0em; vertical-align: -0.5em;"><span class="MJXp-right MJXp-scale5" style="font-size: 3em; margin-left: -0.13em;">[</span></span><span class="MJXp-mi" id="MJXp-Span-1426">cos</span><span class="MJXp-mo" id="MJXp-Span-1427" style="margin-left: 0em; margin-right: 0em;"></span><span class="MJXp-mrow" id="MJXp-Span-1428"><span class="MJXp-mo" id="MJXp-Span-1429" style="margin-left: 0em; margin-right: 0em; vertical-align: -0.5em;"><span class="MJXp-right MJXp-scale5" style="font-size: 3em; margin-left: -0.13em;">(</span></span><span class="MJXp-mfrac" id="MJXp-Span-1430" style="vertical-align: 0.25em;"><span class="MJXp-box"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1431">œÜ</span></span><span class="MJXp-box" style="margin-top: -0.9em;"><span class="MJXp-denom"><span><span class="MJXp-rule" style="height: 1em; border-top: none; border-bottom: 1px solid; margin: 0.1em 0px;"></span></span><span><span class="MJXp-box"><span class="MJXp-mn" id="MJXp-Span-1432">2</span></span></span></span></span></span><span class="MJXp-mo" id="MJXp-Span-1433" style="margin-left: 0em; margin-right: 0em; vertical-align: -0.5em;"><span class="MJXp-right MJXp-scale5" style="font-size: 3em; margin-left: -0.13em;">)</span></span></span><span class="MJXp-mtext" id="MJXp-Span-1434">&nbsp;</span><span class="MJXp-mtext" id="MJXp-Span-1435">&nbsp;</span><span class="MJXp-msubsup" id="MJXp-Span-1436"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1437" style="margin-right: 0.05em;">v</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-1438" style="vertical-align: -0.4em;">x</span></span><span class="MJXp-mi" id="MJXp-Span-1439">sin</span><span class="MJXp-mo" id="MJXp-Span-1440" style="margin-left: 0em; margin-right: 0em;"></span><span class="MJXp-mrow" id="MJXp-Span-1441"><span class="MJXp-mo" id="MJXp-Span-1442" style="margin-left: 0em; margin-right: 0em; vertical-align: -0.5em;"><span class="MJXp-right MJXp-scale5" style="font-size: 3em; margin-left: -0.13em;">(</span></span><span class="MJXp-mfrac" id="MJXp-Span-1443" style="vertical-align: 0.25em;"><span class="MJXp-box"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1444">œÜ</span></span><span class="MJXp-box" style="margin-top: -0.9em;"><span class="MJXp-denom"><span><span class="MJXp-rule" style="height: 1em; border-top: none; border-bottom: 1px solid; margin: 0.1em 0px;"></span></span><span><span class="MJXp-box"><span class="MJXp-mn" id="MJXp-Span-1445">2</span></span></span></span></span></span><span class="MJXp-mo" id="MJXp-Span-1446" style="margin-left: 0em; margin-right: 0em; vertical-align: -0.5em;"><span class="MJXp-right MJXp-scale5" style="font-size: 3em; margin-left: -0.13em;">)</span></span></span><span class="MJXp-mtext" id="MJXp-Span-1447">&nbsp;</span><span class="MJXp-mtext" id="MJXp-Span-1448">&nbsp;</span><span class="MJXp-msubsup" id="MJXp-Span-1449"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1450" style="margin-right: 0.05em;">v</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-1451" style="vertical-align: -0.4em;">y</span></span><span class="MJXp-mi" id="MJXp-Span-1452">sin</span><span class="MJXp-mo" id="MJXp-Span-1453" style="margin-left: 0em; margin-right: 0em;"></span><span class="MJXp-mrow" id="MJXp-Span-1454"><span class="MJXp-mo" id="MJXp-Span-1455" style="margin-left: 0em; margin-right: 0em; vertical-align: -0.5em;"><span class="MJXp-right MJXp-scale5" style="font-size: 3em; margin-left: -0.13em;">(</span></span><span class="MJXp-mfrac" id="MJXp-Span-1456" style="vertical-align: 0.25em;"><span class="MJXp-box"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1457">œÜ</span></span><span class="MJXp-box" style="margin-top: -0.9em;"><span class="MJXp-denom"><span><span class="MJXp-rule" style="height: 1em; border-top: none; border-bottom: 1px solid; margin: 0.1em 0px;"></span></span><span><span class="MJXp-box"><span class="MJXp-mn" id="MJXp-Span-1458">2</span></span></span></span></span></span><span class="MJXp-mo" id="MJXp-Span-1459" style="margin-left: 0em; margin-right: 0em; vertical-align: -0.5em;"><span class="MJXp-right MJXp-scale5" style="font-size: 3em; margin-left: -0.13em;">)</span></span></span><span class="MJXp-mtext" id="MJXp-Span-1460">&nbsp;</span><span class="MJXp-mtext" id="MJXp-Span-1461">&nbsp;</span><span class="MJXp-msubsup" id="MJXp-Span-1462"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1463" style="margin-right: 0.05em;">v</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-1464" style="vertical-align: -0.4em;">z</span></span><span class="MJXp-mi" id="MJXp-Span-1465">sin</span><span class="MJXp-mo" id="MJXp-Span-1466" style="margin-left: 0em; margin-right: 0em;"></span><span class="MJXp-mrow" id="MJXp-Span-1467"><span class="MJXp-mo" id="MJXp-Span-1468" style="margin-left: 0em; margin-right: 0em; vertical-align: -0.5em;"><span class="MJXp-right MJXp-scale5" style="font-size: 3em; margin-left: -0.13em;">(</span></span><span class="MJXp-mfrac" id="MJXp-Span-1469" style="vertical-align: 0.25em;"><span class="MJXp-box"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1470">œÜ</span></span><span class="MJXp-box" style="margin-top: -0.9em;"><span class="MJXp-denom"><span><span class="MJXp-rule" style="height: 1em; border-top: none; border-bottom: 1px solid; margin: 0.1em 0px;"></span></span><span><span class="MJXp-box"><span class="MJXp-mn" id="MJXp-Span-1471">2</span></span></span></span></span></span><span class="MJXp-mo" id="MJXp-Span-1472" style="margin-left: 0em; margin-right: 0em; vertical-align: -0.5em;"><span class="MJXp-right MJXp-scale5" style="font-size: 3em; margin-left: -0.13em;">)</span></span></span><span class="MJXp-mo" id="MJXp-Span-1473" style="margin-left: 0em; margin-right: 0em; vertical-align: -0.5em;"><span class="MJXp-right MJXp-scale5" style="font-size: 3em; margin-left: -0.13em;">]</span></span></span><span class="MJXp-mspace" id="MJXp-Span-1474" style="width: 1em; height: 0em;"></span><span class="MJXp-mo" id="MJXp-Span-1475" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mo" id="MJXp-Span-1476" style="margin-left: 0.267em; margin-right: 0.267em;">‚àó</span><span class="MJXp-mo" id="MJXp-Span-1477" style="margin-left: 0em; margin-right: 0em;">)</span></span></span><div class="MathJax_SVG_Display MathJax_SVG_Processing"><span class="MathJax_SVG" id="MathJax-Element-67-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span></div><script type="math/tex;mode=display" id="MathJax-Element-67">q_{v,\varphi}=\left[ \cos\left( \frac{\varphi}{2} \right)\ \ v_x\sin\left( \frac{\varphi}{2} \right)\ \ v_y\sin\left( \frac{\varphi}{2} \right)\ \ v_z\sin\left( \frac{\varphi}{2} \right) \right]\quad(*)</script></p><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Then, using only the gyroscope readings, at each iteration of the cycle, we will calculate the current value of the quaternion by the expression: </font></font><br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-1478"><span class="MJXp-msubsup" id="MJXp-Span-1479"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1480" style="margin-right: 0.05em;">q</span><span class="MJXp-script-box" style="height: 1.86em; vertical-align: -0.64em;"><span class=" MJXp-script"><span><span style="margin-bottom: -0.25em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1482">G</span></span></span></span><span class=" MJXp-script"><span><span style="margin-top: -0.85em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1481">n</span></span></span></span></span></span><span class="MJXp-mo" id="MJXp-Span-1483" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-msubsup" id="MJXp-Span-1484"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1485" style="margin-right: 0.05em;">q</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-1486" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1487">n</span><span class="MJXp-mo" id="MJXp-Span-1488">‚àí</span><span class="MJXp-mn" id="MJXp-Span-1489">1</span></span></span><span class="MJXp-msubsup" id="MJXp-Span-1490"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1491" style="margin-right: 0.05em;">q</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-1492" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1493">v</span><span class="MJXp-mo" id="MJXp-Span-1494">,</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1495">d</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1496">œÜ</span></span></span></span></span><div class="MathJax_SVG_Display MathJax_SVG_Processing"><span class="MathJax_SVG" id="MathJax-Element-68-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span></div><script type="math/tex;mode=display" id="MathJax-Element-68">q_n^G=q_{n-1}q_{v,d\varphi}</script></p><br>  Here <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1497"><span class="MJXp-msubsup" id="MJXp-Span-1498"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1499" style="margin-right: 0.05em;">q</span><span class="MJXp-script-box" style="height: 1.86em; vertical-align: -0.64em;"><span class=" MJXp-script"><span><span style="margin-bottom: -0.25em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1501">G</span></span></span></span><span class=" MJXp-script"><span><span style="margin-top: -0.85em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1500">n</span></span></span></span></span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-69-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-69">q_n^G</script><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- quaternion at a given time. </font><font style="vertical-align: inherit;">The index </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">G</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> above indicates that this value refers to the measured relative to the gyroscope readings, i.e. </font><font style="vertical-align: inherit;">angular velocity;</font></font><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1502"><span class="MJXp-msubsup" id="MJXp-Span-1503"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1504" style="margin-right: 0.05em;">q</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-1505" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1506">n</span><span class="MJXp-mo" id="MJXp-Span-1507">‚àí</span><span class="MJXp-mn" id="MJXp-Span-1508">1</span></span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-70-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-70">q_{n-1}</script><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - the value of the quaternion at the previous time; </font></font><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1509"><span class="MJXp-msubsup" id="MJXp-Span-1510"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1511" style="margin-right: 0.05em;">q</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-1512" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1513">v</span><span class="MJXp-mo" id="MJXp-Span-1514">,</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1515">d</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1516">œÜ</span></span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-71-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-71">q_{v,d\varphi}</script><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ‚ÄìChange position for one step of measurement, we can say a discrete change of position by angle </font></font><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1517"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1518">d</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1519">œÜ</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-72-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-72">d\varphi</script>  behind <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1520"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1521">d</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1522">t</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-73-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-73">dt</script><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- the sampling period expressed by the rotation quaternion (*). </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">The next stage of calculation is finding the rotation matrix based on the data from a pair of accelerometer and magnetometer sensors. </font><font style="vertical-align: inherit;">Specifically, we consider the gravity vector and the induction vector of the Earth‚Äôs magnetic field, which, as mentioned above, are static relative to the Earth and the associated NSC. </font><font style="vertical-align: inherit;">Here the thesis is as follows: </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">knowing the values ‚Äã‚Äãof gravity and induction in the basis of LSK and NSC, one can calculate the transition matrix (rotation) from NSC to LSK and the quaternion of rotation in space</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br><br>  Denote by <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1523"><span class="MJXp-mrow" id="MJXp-Span-1524"><span class="MJXp-munderover" id="MJXp-Span-1525"><span><span class="MJXp-over"><span class="" style="margin-bottom: -0.43em;"><span class="MJXp-mo" id="MJXp-Span-1527" style="margin-left: 0px; margin-right: 0px; font-size: 60%;">‚Üí</span></span><span class=""><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1526">G</span></span></span></span></span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-74-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-74">\vec{G}</script><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">normalized initial gravity vector. </font><font style="vertical-align: inherit;">It can be taken as follows:</font></font><br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-1528"><span class="MJXp-mrow" id="MJXp-Span-1529"><span class="MJXp-munderover" id="MJXp-Span-1530"><span><span class="MJXp-over"><span class="" style="margin-bottom: -0.43em;"><span class="MJXp-mo" id="MJXp-Span-1532" style="margin-left: 0px; margin-right: 0px; font-size: 60%;">‚Üí</span></span><span class=""><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1531">G</span></span></span></span></span></span><span class="MJXp-mo" id="MJXp-Span-1533" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-msubsup" id="MJXp-Span-1534"><span class="MJXp-mrow" id="MJXp-Span-1535" style="margin-right: 0.05em;"><span class="MJXp-mrow" id="MJXp-Span-1536"><span class="MJXp-mo" id="MJXp-Span-1537" style="margin-left: 0em; margin-right: 0em;">[</span><span class="MJXp-mn" id="MJXp-Span-1538">0</span><span class="MJXp-mtext" id="MJXp-Span-1539">&nbsp;</span><span class="MJXp-mn" id="MJXp-Span-1540">0</span><span class="MJXp-mtext" id="MJXp-Span-1541">&nbsp;</span><span class="MJXp-mn" id="MJXp-Span-1542">1</span><span class="MJXp-mo" id="MJXp-Span-1543" style="margin-left: 0em; margin-right: 0em;">]</span></span></span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-1544" style="vertical-align: 0.5em;">T</span></span></span></span><div class="MathJax_SVG_Display MathJax_SVG_Processing"><span class="MathJax_SVG" id="MathJax-Element-75-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span></div><script type="math/tex;mode=display" id="MathJax-Element-75">\vec{G}={\left[ 0\ 0\ 1 \right]}^T</script></p><br>  Through <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1545"><span class="MJXp-mrow" id="MJXp-Span-1546"><span class="MJXp-munderover" id="MJXp-Span-1547"><span><span class="MJXp-over"><span class="" style="margin-bottom: -0.43em;"><span class="MJXp-mo" id="MJXp-Span-1549" style="margin-left: 0px; margin-right: 0px; font-size: 60%;">‚Üí</span></span><span class=""><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1548">H</span></span></span></span></span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-76-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-76">\vec{H}</script><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> denote the normalized initial magnetic induction vector: </font></font><br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-1550"><span class="MJXp-mrow" id="MJXp-Span-1551"><span class="MJXp-munderover" id="MJXp-Span-1552"><span><span class="MJXp-over"><span class="" style="margin-bottom: -0.43em;"><span class="MJXp-mo" id="MJXp-Span-1554" style="margin-left: 0px; margin-right: 0px; font-size: 60%;">‚Üí</span></span><span class=""><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1553">H</span></span></span></span></span></span><span class="MJXp-mo" id="MJXp-Span-1555" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-msubsup" id="MJXp-Span-1556"><span class="MJXp-mrow" id="MJXp-Span-1557" style="margin-right: 0.05em;"><span class="MJXp-mrow" id="MJXp-Span-1558"><span class="MJXp-mo" id="MJXp-Span-1559" style="margin-left: 0em; margin-right: 0em; vertical-align: -0.244em;"><span class="MJXp-right MJXp-scale7" style="font-size: 1.978em; margin-left: -0.05em;">[</span></span><span class="MJXp-msubsup" id="MJXp-Span-1560"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1561" style="margin-right: 0.05em;">H</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-1562" style="vertical-align: -0.4em;">x</span></span><span class="MJXp-mtext" id="MJXp-Span-1563">&nbsp;</span><span class="MJXp-msubsup" id="MJXp-Span-1564"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1565" style="margin-right: 0.05em;">H</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-1566" style="vertical-align: -0.4em;">y</span></span><span class="MJXp-mtext" id="MJXp-Span-1567">&nbsp;</span><span class="MJXp-msubsup" id="MJXp-Span-1568"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1569" style="margin-right: 0.05em;">H</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-1570" style="vertical-align: -0.4em;">z</span></span><span class="MJXp-mo" id="MJXp-Span-1571" style="margin-left: 0em; margin-right: 0em; vertical-align: -0.244em;"><span class="MJXp-right MJXp-scale7" style="font-size: 1.978em; margin-left: -0.05em;">]</span></span></span></span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-1572" style="vertical-align: 0.5em;">T</span></span></span></span><div class="MathJax_SVG_Display MathJax_SVG_Processing"><span class="MathJax_SVG" id="MathJax-Element-77-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span></div><script type="math/tex;mode=display" id="MathJax-Element-77">\vec{H}={\left[ H_x\ H_y\ H_z \right]}^T</script></p><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> A third vector is also required. </font></font><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1573"><span class="MJXp-mrow" id="MJXp-Span-1574"><span class="MJXp-munderover" id="MJXp-Span-1575"><span><span class="MJXp-over"><span class="" style="margin-bottom: -0.43em;"><span class="MJXp-mo" id="MJXp-Span-1577" style="margin-left: 0px; margin-right: 0px; font-size: 60%;">‚Üí</span></span><span class=""><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1576">K</span></span></span></span></span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-78-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-78">\vec{K}</script><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">which is associated with these two. </font><font style="vertical-align: inherit;">It is obtained by vector multiplication.</font></font><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1578"><span class="MJXp-mrow" id="MJXp-Span-1579"><span class="MJXp-munderover" id="MJXp-Span-1580"><span><span class="MJXp-over"><span class="" style="margin-bottom: -0.43em;"><span class="MJXp-mo" id="MJXp-Span-1582" style="margin-left: 0px; margin-right: 0px; font-size: 60%;">‚Üí</span></span><span class=""><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1581">H</span></span></span></span></span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-79-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-79">\vec{H}</script>  on <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1583"><span class="MJXp-mrow" id="MJXp-Span-1584"><span class="MJXp-munderover" id="MJXp-Span-1585"><span><span class="MJXp-over"><span class="" style="margin-bottom: -0.43em;"><span class="MJXp-mo" id="MJXp-Span-1587" style="margin-left: 0px; margin-right: 0px; font-size: 60%;">‚Üí</span></span><span class=""><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1586">G</span></span></span></span></span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-80-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-80">\vec{G}</script>  : <br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-1588"><span class="MJXp-mrow" id="MJXp-Span-1589"><span class="MJXp-munderover" id="MJXp-Span-1590"><span><span class="MJXp-over"><span class="" style="margin-bottom: -0.43em;"><span class="MJXp-mo" id="MJXp-Span-1592" style="margin-left: 0px; margin-right: 0px; font-size: 60%;">‚Üí</span></span><span class=""><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1591">K</span></span></span></span></span></span><span class="MJXp-mo" id="MJXp-Span-1593" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-msubsup" id="MJXp-Span-1594"><span class="MJXp-mrow" id="MJXp-Span-1595" style="margin-right: 0.05em;"><span class="MJXp-mrow" id="MJXp-Span-1596"><span class="MJXp-mo" id="MJXp-Span-1597" style="margin-left: 0em; margin-right: 0em; vertical-align: -0.244em;"><span class="MJXp-right MJXp-scale7" style="font-size: 1.978em; margin-left: -0.05em;">[</span></span><span class="MJXp-msubsup" id="MJXp-Span-1598"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1599" style="margin-right: 0.05em;">K</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-1600" style="vertical-align: -0.4em;">x</span></span><span class="MJXp-mtext" id="MJXp-Span-1601">&nbsp;</span><span class="MJXp-msubsup" id="MJXp-Span-1602"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1603" style="margin-right: 0.05em;">K</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-1604" style="vertical-align: -0.4em;">y</span></span><span class="MJXp-mtext" id="MJXp-Span-1605">&nbsp;</span><span class="MJXp-msubsup" id="MJXp-Span-1606"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1607" style="margin-right: 0.05em;">K</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-1608" style="vertical-align: -0.4em;">z</span></span><span class="MJXp-mo" id="MJXp-Span-1609" style="margin-left: 0em; margin-right: 0em; vertical-align: -0.244em;"><span class="MJXp-right MJXp-scale7" style="font-size: 1.978em; margin-left: -0.05em;">]</span></span></span></span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-1610" style="vertical-align: 0.5em;">T</span></span><span class="MJXp-mo" id="MJXp-Span-1611" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mrow" id="MJXp-Span-1612"><span class="MJXp-munderover" id="MJXp-Span-1613"><span><span class="MJXp-over"><span class="" style="margin-bottom: -0.43em;"><span class="MJXp-mo" id="MJXp-Span-1615" style="margin-left: 0px; margin-right: 0px; font-size: 60%;">‚Üí</span></span><span class=""><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1614">H</span></span></span></span></span></span><span class="MJXp-mo" id="MJXp-Span-1616" style="margin-left: 0.267em; margin-right: 0.267em;">√ó</span><span class="MJXp-mrow" id="MJXp-Span-1617"><span class="MJXp-munderover" id="MJXp-Span-1618"><span><span class="MJXp-over"><span class="" style="margin-bottom: -0.43em;"><span class="MJXp-mo" id="MJXp-Span-1620" style="margin-left: 0px; margin-right: 0px; font-size: 60%;">‚Üí</span></span><span class=""><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1619">G</span></span></span></span></span></span><span class="MJXp-mo" id="MJXp-Span-1621" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-msubsup" id="MJXp-Span-1622"><span class="MJXp-mrow" id="MJXp-Span-1623" style="margin-right: 0.05em;"><span class="MJXp-mrow" id="MJXp-Span-1624"><span class="MJXp-mo" id="MJXp-Span-1625" style="margin-left: 0em; margin-right: 0em; vertical-align: -0.244em;"><span class="MJXp-right MJXp-scale7" style="font-size: 1.978em; margin-left: -0.05em;">[</span></span><span class="MJXp-msubsup" id="MJXp-Span-1626"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1627" style="margin-right: 0.05em;">H</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-1628" style="vertical-align: -0.4em;">y</span></span><span class="MJXp-mtext" id="MJXp-Span-1629">&nbsp;</span><span class="MJXp-mo" id="MJXp-Span-1630" style="margin-left: 0.267em; margin-right: 0.267em;">‚àí</span><span class="MJXp-msubsup" id="MJXp-Span-1631"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1632" style="margin-right: 0.05em;">H</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-1633" style="vertical-align: -0.4em;">x</span></span><span class="MJXp-mtext" id="MJXp-Span-1634">&nbsp;</span><span class="MJXp-mn" id="MJXp-Span-1635">0</span><span class="MJXp-mo" id="MJXp-Span-1636" style="margin-left: 0em; margin-right: 0em; vertical-align: -0.244em;"><span class="MJXp-right MJXp-scale7" style="font-size: 1.978em; margin-left: -0.05em;">]</span></span></span></span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-1637" style="vertical-align: 0.5em;">T</span></span></span></span><div class="MathJax_SVG_Display MathJax_SVG_Processing"><span class="MathJax_SVG" id="MathJax-Element-81-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span></div><script type="math/tex;mode=display" id="MathJax-Element-81">\vec{K}={\left[ K_x\ K_y\ K_z \right]}^T= \vec{H}\times\vec{G}={\left[ H_y\ -H_x\ 0 \right]}^T</script></p><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Now the matrix is ‚Äã‚Äãformed </font></font><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1638"><span class="MJXp-msubsup" id="MJXp-Span-1639"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1640" style="margin-right: 0.05em;">M</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-1641" style="vertical-align: -0.4em;">0</span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-82-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-82">M_0</script><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">which characterizes the initial position, i.e. </font><font style="vertical-align: inherit;">NSC, since at the initial moment of time LSK coincides with the NSC. </font><font style="vertical-align: inherit;">The matrix is ‚Äã‚Äãobtained from the components of the vectors</font></font><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1642"><span class="MJXp-mrow" id="MJXp-Span-1643"><span class="MJXp-munderover" id="MJXp-Span-1644"><span><span class="MJXp-over"><span class="" style="margin-bottom: -0.43em;"><span class="MJXp-mo" id="MJXp-Span-1646" style="margin-left: 0px; margin-right: 0px; font-size: 60%;">‚Üí</span></span><span class=""><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1645">H</span></span></span></span></span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-83-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-83">\vec{H}</script>  , <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1647"><span class="MJXp-mrow" id="MJXp-Span-1648"><span class="MJXp-munderover" id="MJXp-Span-1649"><span><span class="MJXp-over"><span class="" style="margin-bottom: -0.43em;"><span class="MJXp-mo" id="MJXp-Span-1651" style="margin-left: 0px; margin-right: 0px; font-size: 60%;">‚Üí</span></span><span class=""><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1650">G</span></span></span></span></span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-84-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-84">\vec{G}</script>  and <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1652"><span class="MJXp-mrow" id="MJXp-Span-1653"><span class="MJXp-munderover" id="MJXp-Span-1654"><span><span class="MJXp-over"><span class="" style="margin-bottom: -0.43em;"><span class="MJXp-mo" id="MJXp-Span-1656" style="margin-left: 0px; margin-right: 0px; font-size: 60%;">‚Üí</span></span><span class=""><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1655">K</span></span></span></span></span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-85-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-85">\vec{K}</script>  : <br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-1657"><span class="MJXp-msubsup" id="MJXp-Span-1658"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1659" style="margin-right: 0.05em;">M</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-1660" style="vertical-align: -0.4em;">0</span></span><span class="MJXp-mo" id="MJXp-Span-1661" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mrow" id="MJXp-Span-1662"><span class="MJXp-mo" id="MJXp-Span-1663" style="margin-left: 0em; margin-right: 0em; vertical-align: -0.24em;"><span class="MJXp-right MJXp-scale7" style="font-size: 1.96em; margin-left: -0.05em;">[</span></span><span class="MJXp-mrow" id="MJXp-Span-1664"><span class="MJXp-munderover" id="MJXp-Span-1665"><span><span class="MJXp-over"><span class="" style="margin-bottom: -0.43em;"><span class="MJXp-mo" id="MJXp-Span-1667" style="margin-left: 0px; margin-right: 0px; font-size: 60%;">‚Üí</span></span><span class=""><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1666">H</span></span></span></span></span></span><span class="MJXp-mtext" id="MJXp-Span-1668">&nbsp;</span><span class="MJXp-mrow" id="MJXp-Span-1669"><span class="MJXp-munderover" id="MJXp-Span-1670"><span><span class="MJXp-over"><span class="" style="margin-bottom: -0.43em;"><span class="MJXp-mo" id="MJXp-Span-1672" style="margin-left: 0px; margin-right: 0px; font-size: 60%;">‚Üí</span></span><span class=""><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1671">G</span></span></span></span></span></span><span class="MJXp-mtext" id="MJXp-Span-1673">&nbsp;</span><span class="MJXp-mrow" id="MJXp-Span-1674"><span class="MJXp-munderover" id="MJXp-Span-1675"><span><span class="MJXp-over"><span class="" style="margin-bottom: -0.43em;"><span class="MJXp-mo" id="MJXp-Span-1677" style="margin-left: 0px; margin-right: 0px; font-size: 60%;">‚Üí</span></span><span class=""><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1676">K</span></span></span></span></span></span><span class="MJXp-mo" id="MJXp-Span-1678" style="margin-left: 0em; margin-right: 0em; vertical-align: -0.24em;"><span class="MJXp-right MJXp-scale7" style="font-size: 1.96em; margin-left: -0.05em;">]</span></span></span><span class="MJXp-mo" id="MJXp-Span-1679" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mrow" id="MJXp-Span-1680"><span class="MJXp-mo" id="MJXp-Span-1681" style="margin-left: 0em; margin-right: 0em; vertical-align: -1.256em;"><span class="MJXp-right MJXp-scale3" style="font-size: 6.022em; margin-left: -0.21em;">[</span></span><span class="MJXp-mtable" id="MJXp-Span-1682"><span><span class="MJXp-mtr" id="MJXp-Span-1683" style="vertical-align: baseline;"><span class="MJXp-mtd" id="MJXp-Span-1684" style="text-align: center;"><span class="MJXp-msubsup" id="MJXp-Span-1685"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1686" style="margin-right: 0.05em;">H</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-1687" style="vertical-align: -0.4em;">x</span></span></span><span class="MJXp-mtd" id="MJXp-Span-1688" style="padding-left: 1em; text-align: center;"><span class="MJXp-mn" id="MJXp-Span-1689">0</span></span><span class="MJXp-mtd" id="MJXp-Span-1690" style="padding-left: 1em; text-align: center;"><span class="MJXp-msubsup" id="MJXp-Span-1691"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1692" style="margin-right: 0.05em;">H</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-1693" style="vertical-align: -0.4em;">y</span></span></span></span><span class="MJXp-mtr" id="MJXp-Span-1694" style="vertical-align: baseline;"><span class="MJXp-mtd" id="MJXp-Span-1695" style="padding-top: 0.4em; text-align: center;"><span class="MJXp-msubsup" id="MJXp-Span-1696"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1697" style="margin-right: 0.05em;">H</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-1698" style="vertical-align: -0.4em;">y</span></span></span><span class="MJXp-mtd" id="MJXp-Span-1699" style="padding-left: 1em; padding-top: 0.4em; text-align: center;"><span class="MJXp-mn" id="MJXp-Span-1700">0</span></span><span class="MJXp-mtd" id="MJXp-Span-1701" style="padding-left: 1em; padding-top: 0.4em; text-align: center;"><span class="MJXp-mo" id="MJXp-Span-1702" style="margin-left: 0em; margin-right: 0.111em;">‚àí</span><span class="MJXp-msubsup" id="MJXp-Span-1703"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1704" style="margin-right: 0.05em;">H</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-1705" style="vertical-align: -0.4em;">x</span></span></span></span><span class="MJXp-mtr" id="MJXp-Span-1706" style="vertical-align: baseline;"><span class="MJXp-mtd" id="MJXp-Span-1707" style="padding-top: 0.4em; text-align: center;"><span class="MJXp-msubsup" id="MJXp-Span-1708"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1709" style="margin-right: 0.05em;">H</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-1710" style="vertical-align: -0.4em;">z</span></span></span><span class="MJXp-mtd" id="MJXp-Span-1711" style="padding-left: 1em; padding-top: 0.4em; text-align: center;"><span class="MJXp-mn" id="MJXp-Span-1712">1</span></span><span class="MJXp-mtd" id="MJXp-Span-1713" style="padding-left: 1em; padding-top: 0.4em; text-align: center;"><span class="MJXp-mn" id="MJXp-Span-1714">0</span></span></span></span></span><span class="MJXp-mo" id="MJXp-Span-1715" style="margin-left: 0em; margin-right: 0em; vertical-align: -1.256em;"><span class="MJXp-right MJXp-scale3" style="font-size: 6.022em; margin-left: -0.21em;">]</span></span></span></span></span><div class="MathJax_SVG_Display MathJax_SVG_Processing"><span class="MathJax_SVG" id="MathJax-Element-86-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span></div><script type="math/tex;mode=display" id="MathJax-Element-86">M_0=\left[ \vec{H}\ \vec{G}\ \vec{K} \right]=\left[ \begin{array}{cccc} H_x&0&H_y\\H_y&0&-H_x\\H_z&1&0 \end{array} \right]</script></p><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Similarly, but already at each iteration of the loop, a similar matrix is ‚Äã‚Äãcreated. </font></font><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1716"><span class="MJXp-msup" id="MJXp-Span-1717"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1718" style="margin-right: 0.05em;">M</span><span class="MJXp-mo MJXp-script" id="MJXp-Span-1719" style="vertical-align: 0.5em;">‚Ä≤</span></span><span class="MJXp-mo" id="MJXp-Span-1720" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mrow" id="MJXp-Span-1721"><span class="MJXp-mo" id="MJXp-Span-1722" style="margin-left: 0em; margin-right: 0em; vertical-align: -0.24em;"><span class="MJXp-right MJXp-scale7" style="font-size: 1.96em; margin-left: -0.05em;">[</span></span><span class="MJXp-mrow" id="MJXp-Span-1723"><span class="MJXp-munderover" id="MJXp-Span-1724"><span><span class="MJXp-over"><span class="" style="margin-bottom: -0.43em;"><span class="MJXp-mo" id="MJXp-Span-1726" style="margin-left: 0px; margin-right: 0px; font-size: 60%;">‚Üí</span></span><span class=""><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1725">h</span></span></span></span></span></span><span class="MJXp-mtext" id="MJXp-Span-1727">&nbsp;</span><span class="MJXp-mrow" id="MJXp-Span-1728"><span class="MJXp-munderover" id="MJXp-Span-1729"><span><span class="MJXp-over"><span class="" style="margin-bottom: -0.68em;"><span class="MJXp-mo" id="MJXp-Span-1731" style="margin-left: 0px; margin-right: 0px; font-size: 60%;">‚Üí</span></span><span class=""><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1730">g</span></span></span></span></span></span><span class="MJXp-mtext" id="MJXp-Span-1732">&nbsp;</span><span class="MJXp-mrow" id="MJXp-Span-1733"><span class="MJXp-munderover" id="MJXp-Span-1734"><span><span class="MJXp-over"><span class="" style="margin-bottom: -0.43em;"><span class="MJXp-mo" id="MJXp-Span-1736" style="margin-left: 0px; margin-right: 0px; font-size: 60%;">‚Üí</span></span><span class=""><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1735">k</span></span></span></span></span></span><span class="MJXp-mo" id="MJXp-Span-1737" style="margin-left: 0em; margin-right: 0em; vertical-align: -0.24em;"><span class="MJXp-right MJXp-scale7" style="font-size: 1.96em; margin-left: -0.05em;">]</span></span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-87-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-87">M'=\left[ \vec{h}\ \vec{g}\ \vec{k} \right]</script>  where <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1738"><span class="MJXp-mrow" id="MJXp-Span-1739"><span class="MJXp-munderover" id="MJXp-Span-1740"><span><span class="MJXp-over"><span class="" style="margin-bottom: -0.43em;"><span class="MJXp-mo" id="MJXp-Span-1742" style="margin-left: 0px; margin-right: 0px; font-size: 60%;">‚Üí</span></span><span class=""><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1741">h</span></span></span></span></span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-88-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-88">\vec{h}</script><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - current normalized vector of magnetic induction, </font></font><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1743"><span class="MJXp-mrow" id="MJXp-Span-1744"><span class="MJXp-munderover" id="MJXp-Span-1745"><span><span class="MJXp-over"><span class="" style="margin-bottom: -0.68em;"><span class="MJXp-mo" id="MJXp-Span-1747" style="margin-left: 0px; margin-right: 0px; font-size: 60%;">‚Üí</span></span><span class=""><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1746">g</span></span></span></span></span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-89-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-89">\vec{g}</script><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - current normalized gravity vector, </font></font><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1748"><span class="MJXp-mrow" id="MJXp-Span-1749"><span class="MJXp-munderover" id="MJXp-Span-1750"><span><span class="MJXp-over"><span class="" style="margin-bottom: -0.43em;"><span class="MJXp-mo" id="MJXp-Span-1752" style="margin-left: 0px; margin-right: 0px; font-size: 60%;">‚Üí</span></span><span class=""><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1751">k</span></span></span></span></span></span><span class="MJXp-mo" id="MJXp-Span-1753" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mrow" id="MJXp-Span-1754"><span class="MJXp-munderover" id="MJXp-Span-1755"><span><span class="MJXp-over"><span class="" style="margin-bottom: -0.43em;"><span class="MJXp-mo" id="MJXp-Span-1757" style="margin-left: 0px; margin-right: 0px; font-size: 60%;">‚Üí</span></span><span class=""><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1756">h</span></span></span></span></span></span><span class="MJXp-mo" id="MJXp-Span-1758" style="margin-left: 0.267em; margin-right: 0.267em;">√ó</span><span class="MJXp-mrow" id="MJXp-Span-1759"><span class="MJXp-munderover" id="MJXp-Span-1760"><span><span class="MJXp-over"><span class="" style="margin-bottom: -0.68em;"><span class="MJXp-mo" id="MJXp-Span-1762" style="margin-left: 0px; margin-right: 0px; font-size: 60%;">‚Üí</span></span><span class=""><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1761">g</span></span></span></span></span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-90-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-90">\vec{k} =\vec{h}\times\vec{g}</script>  .<font style="vertical-align: inherit;"><font style="vertical-align: inherit;">This matrix characterizes the position of the LSC, since </font><font style="vertical-align: inherit;">these vectors are known in the coordinate system of the sensors, which coincides with the LCS. </font><font style="vertical-align: inherit;">Then, knowing both matrices, we can write the following equation:</font></font><br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-1763"><span class="MJXp-msup" id="MJXp-Span-1764"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1765" style="margin-right: 0.05em;">E</span><span class="MJXp-mo MJXp-script" id="MJXp-Span-1766" style="vertical-align: 0.5em;">‚Ä≤</span></span><span class="MJXp-msup" id="MJXp-Span-1767"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1768" style="margin-right: 0.05em;">M</span><span class="MJXp-mo MJXp-script" id="MJXp-Span-1769" style="vertical-align: 0.5em;">‚Ä≤</span></span><span class="MJXp-mo" id="MJXp-Span-1770" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-msubsup" id="MJXp-Span-1771"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1772" style="margin-right: 0.05em;">E</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-1773" style="vertical-align: -0.4em;">0</span></span><span class="MJXp-msubsup" id="MJXp-Span-1774"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1775" style="margin-right: 0.05em;">M</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-1776" style="vertical-align: -0.4em;">0</span></span></span></span><div class="MathJax_SVG_Display MathJax_SVG_Processing"><span class="MathJax_SVG" id="MathJax-Element-91-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span></div><script type="math/tex;mode=display" id="MathJax-Element-91">E'M'=E_0M_0</script></p><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">It connects two matrices found under different circumstances. </font><font style="vertical-align: inherit;">Given the expression</font></font><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1777"><span class="MJXp-msup" id="MJXp-Span-1778"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1779" style="margin-right: 0.05em;">E</span><span class="MJXp-mo MJXp-script" id="MJXp-Span-1780" style="vertical-align: 0.5em;">‚Ä≤</span></span><span class="MJXp-mo" id="MJXp-Span-1781" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1782">C</span><span class="MJXp-msubsup" id="MJXp-Span-1783"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1784" style="margin-right: 0.05em;">E</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-1785" style="vertical-align: -0.4em;">0</span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-92-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-92">E'=CE_0</script><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> and that basis </font></font><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1786"><span class="MJXp-msubsup" id="MJXp-Span-1787"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1788" style="margin-right: 0.05em;">E</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-1789" style="vertical-align: -0.4em;">0</span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-93-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-93">E_0</script><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - unit matrix, we get: </font></font><br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-1790"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1791">C</span><span class="MJXp-msup" id="MJXp-Span-1792"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1793" style="margin-right: 0.05em;">M</span><span class="MJXp-mo MJXp-script" id="MJXp-Span-1794" style="vertical-align: 0.5em;">‚Ä≤</span></span><span class="MJXp-mo" id="MJXp-Span-1795" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-msubsup" id="MJXp-Span-1796"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1797" style="margin-right: 0.05em;">M</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-1798" style="vertical-align: -0.4em;">0</span></span></span></span><div class="MathJax_SVG_Display MathJax_SVG_Processing"><span class="MathJax_SVG" id="MathJax-Element-94-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span></div><script type="math/tex;mode=display" id="MathJax-Element-94">CM'=M_0</script></p><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Hence, we express the transition matrix </font></font><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1799"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1800">C</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-95-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-95"> C </script>  : <br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-1801"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1802">C</span><span class="MJXp-mo" id="MJXp-Span-1803" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-msubsup" id="MJXp-Span-1804"><span class="MJXp-mrow" id="MJXp-Span-1805" style="margin-right: 0.05em;"><span class="MJXp-mrow" id="MJXp-Span-1806"><span class="MJXp-mo" id="MJXp-Span-1807" style="margin-left: 0em; margin-right: 0em; vertical-align: -0.289em;"><span class="MJXp-right MJXp-scale6" style="font-size: 2.156em; margin-left: -0.09em;">(</span></span><span class="MJXp-msubsup" id="MJXp-Span-1808"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1809" style="margin-right: 0.05em;">M</span><span class="MJXp-script-box" style="height: 1.86em; vertical-align: -0.64em;"><span class=" MJXp-script"><span><span style="margin-bottom: -0.25em;"><span class="MJXp-mrow" id="MJXp-Span-1811"><span class="MJXp-mo" id="MJXp-Span-1812">‚àí</span><span class="MJXp-mn" id="MJXp-Span-1813">1</span></span></span></span></span><span class=" MJXp-script"><span><span style="margin-top: -0.85em;"><span class="MJXp-mn" id="MJXp-Span-1810">0</span></span></span></span></span></span><span class="MJXp-mo" id="MJXp-Span-1814" style="margin-left: 0em; margin-right: 0em; vertical-align: -0.289em;"><span class="MJXp-right MJXp-scale6" style="font-size: 2.156em; margin-left: -0.09em;">)</span></span></span></span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-1815" style="vertical-align: 0.82em;">T</span></span><span class="MJXp-msubsup" id="MJXp-Span-1816"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1817" style="margin-right: 0.05em;">M</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-1818" style="vertical-align: 0.5em;"><span class="MJXp-mo" id="MJXp-Span-1819">‚Ä≤</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1820">T</span></span></span></span></span><div class="MathJax_SVG_Display MathJax_SVG_Processing"><span class="MathJax_SVG" id="MathJax-Element-96-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span></div><script type="math/tex;mode=display" id="MathJax-Element-96">C={\left( M_0^{-1} \right)}^TM'^T</script></p><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">The first factor, as you can understand, is calculated only once at the very beginning of the algorithm, and does not require recalculation in the process. </font><font style="vertical-align: inherit;">The second factor is formed quite easily and not forcedly at each iteration of the cycle. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">After, when the transition matrix is ‚Äã‚Äãfound, we transform it into a quaternion</font></font><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1821"><span class="MJXp-msubsup" id="MJXp-Span-1822"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1823" style="margin-right: 0.05em;">q</span><span class="MJXp-script-box" style="height: 1.86em; vertical-align: -0.64em;"><span class=" MJXp-script"><span><span style="margin-bottom: -0.25em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1825">A</span></span></span></span><span class=" MJXp-script"><span><span style="margin-top: -0.85em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1824">n</span></span></span></span></span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-97-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-97">q_n^A</script><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(the algorithm for converting from matrix to quaternion is a public thing and I will not give it here). </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">As a result, we know two quaternions, found independently of each other. </font><font style="vertical-align: inherit;">And to combine the results, I applied a simple complementary filter with a coefficient</font></font><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1826"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1827">F</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-98-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-98"> F </script><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , which is taken from the range from 0 to 1: </font></font><br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-1828"><span class="MJXp-msubsup" id="MJXp-Span-1829"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1830" style="margin-right: 0.05em;">q</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-1831" style="vertical-align: -0.4em;">n</span></span><span class="MJXp-mo" id="MJXp-Span-1832" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1833">F</span><span class="MJXp-msubsup" id="MJXp-Span-1834"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1835" style="margin-right: 0.05em;">q</span><span class="MJXp-script-box" style="height: 1.86em; vertical-align: -0.64em;"><span class=" MJXp-script"><span><span style="margin-bottom: -0.25em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1837">G</span></span></span></span><span class=" MJXp-script"><span><span style="margin-top: -0.85em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1836">n</span></span></span></span></span></span><span class="MJXp-mo" id="MJXp-Span-1838" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-mrow" id="MJXp-Span-1839"><span class="MJXp-mo" id="MJXp-Span-1840" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mn" id="MJXp-Span-1841">1</span><span class="MJXp-mo" id="MJXp-Span-1842" style="margin-left: 0.267em; margin-right: 0.267em;">‚àí</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1843">F</span><span class="MJXp-mo" id="MJXp-Span-1844" style="margin-left: 0em; margin-right: 0em;">)</span></span><span class="MJXp-msubsup" id="MJXp-Span-1845"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1846" style="margin-right: 0.05em;">q</span><span class="MJXp-script-box" style="height: 1.86em; vertical-align: -0.64em;"><span class=" MJXp-script"><span><span style="margin-bottom: -0.25em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1848">A</span></span></span></span><span class=" MJXp-script"><span><span style="margin-top: -0.85em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1847">n</span></span></span></span></span></span></span></span><div class="MathJax_SVG_Display MathJax_SVG_Processing"><span class="MathJax_SVG" id="MathJax-Element-99-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span></div><script type="math/tex;mode=display" id="MathJax-Element-99">q_n=Fq_n^G+\left( 1-F \right)q_n^A</script></p><br>  As a result, we obtain a quaternion, in which there is up-to-date information about the position in space of the device with the SINS module. <br><br>  "Bicycle" went ... The algorithm worked, but in some positions it behaved somewhat inadequately, which in principle did not interfere, but also did not give reason to think about it positively.  I have satisfied my sports interest, and now you can turn to ready-made, better-quality solutions.  Then I returned to the article by Sebastian Majvik and decided to use his algorithm, the good thing is that this wonderful person published all the sources on the <a href="http://x-io.co.uk/posts/">project</a> website.  The archive contained source codes in various languages, including the Matlab language.  This fact influenced my decision to abandon the idea of ‚Äã‚Äãdoing all the calculations on a microcontroller (especially since it is 8-bit) and write the program already on a computer in Matlab.  The microcontroller is used only for interrogating sensors and sending data to a PC (a similar situation with a manipulator).  In this case, the main program code, which is subject to changes and debugging, is based on Matlab, which is very convenient in the process. <br><br>  Well, we got the orientation given by the quaternion.  What's next for the plan?  And then follows the finding of the linear coordinates of the object according to the accelerometer.  Well, here it is better to simply state that it is impossible to determine the coordinates with the required accelerometer accuracy.  Even at least find a change of position that would be adequate!  Of course, there were attempts to solve this problem, but it was impossible to find coordinates in real time.  Why?  Because the double discrete integration of noisy sensor readings led only to flight into the stratosphere, and at a breakneck speed, but not at all to a positive result.  Therefore, I have cut off the algorithm indicated at the beginning of the paragraph until the orientation is found, and stopped at this. <br><br><h2>  3. Everything else </h2><br>  So, here I am getting close to the final design stage, having played enough with the manipulator and screwed on the IMU-sensor.  Working on the two previous stages, I had a clear idea of ‚Äã‚Äãhow everything will work and by what algorithm.  Therefore, I dealt with this stage rather quickly.  Since only the orientation of the palm is known, we work directly with the working body that needs to be oriented accordingly.  The RO can take any direction, if it does not violate the working area (it does not turn out all 360). <br><br>  In the paragraph about the development of the manipulator, the vector RO was set manually, and afterwards there were angles of rotation of the drives.  So, this vector should be determined based on the orientation of the palm of the hand.  Orientation can be expressed as a basis <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1849"><span class="MJXp-msup" id="MJXp-Span-1850"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1851" style="margin-right: 0.05em;">E</span><span class="MJXp-mo MJXp-script" id="MJXp-Span-1852" style="vertical-align: 0.5em;">‚Ä≤</span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-100-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-100"> E '</script>  by finding it, converting the quaternion into a matrix.  The basis consists of its column vectors ort, therefore we get three vectors <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1853"><span class="MJXp-mtext" id="MJXp-Span-1854">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1855">v</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1856">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1857">c</span><span class="MJXp-msup" id="MJXp-Span-1858"><span class="MJXp-mrow" id="MJXp-Span-1859" style="margin-right: 0.05em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1860">x</span></span><span class="MJXp-mo MJXp-script" id="MJXp-Span-1861" style="vertical-align: 0.5em;">‚Ä≤</span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-101-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-101"> \ vec {x} '</script>  , <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1862"><span class="MJXp-mtext" id="MJXp-Span-1863">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1864">v</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1865">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1866">c</span><span class="MJXp-msup" id="MJXp-Span-1867"><span class="MJXp-mrow" id="MJXp-Span-1868" style="margin-right: 0.05em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1869">y</span></span><span class="MJXp-mo MJXp-script" id="MJXp-Span-1870" style="vertical-align: 0.5em;">‚Ä≤</span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-102-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-102"> \ vec {y} '</script>  and <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1871"><span class="MJXp-mtext" id="MJXp-Span-1872">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1873">v</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1874">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1875">c</span><span class="MJXp-msup" id="MJXp-Span-1876"><span class="MJXp-mrow" id="MJXp-Span-1877" style="margin-right: 0.05em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1878">z</span></span><span class="MJXp-mo MJXp-script" id="MJXp-Span-1879" style="vertical-align: 0.5em;">‚Ä≤</span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-103-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-103"> \ vec {z} '</script>  .  It will be convenient to take RO vector for orientation. <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1880"><span class="MJXp-mtext" id="MJXp-Span-1881">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1882">v</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1883">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1884">c</span><span class="MJXp-msup" id="MJXp-Span-1885"><span class="MJXp-mrow" id="MJXp-Span-1886" style="margin-right: 0.05em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1887">x</span></span><span class="MJXp-mo MJXp-script" id="MJXp-Span-1888" style="vertical-align: 0.5em;">‚Ä≤</span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-104-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-104"> \ vec {x} '</script>  as I assumed such initial position of the manipulator, when all the links and PO are located in the XZ plane of the base coordinate system, and the PO at this moment is horizontal, i.e.  vector <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1889"><span class="MJXp-mtext" id="MJXp-Span-1890">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1891">v</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1892">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1893">c</span><span class="MJXp-mrow" id="MJXp-Span-1894"><span class="MJXp-msubsup" id="MJXp-Span-1895"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1896" style="margin-right: 0.05em;">v</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-1897" style="vertical-align: -0.4em;">0</span></span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-105-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-105"> \ vec {v_0} </script>  at the beginning, it is aligned with the <i>X</i> axis of the BSC and the NSC (the initial position of the BINS module is positioned so that the NSC coincides with the BSC of the manipulator).  In this case, the first column of the matrix <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1898"><span class="MJXp-msup" id="MJXp-Span-1899"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1900" style="margin-right: 0.05em;">E</span><span class="MJXp-mo MJXp-script" id="MJXp-Span-1901" style="vertical-align: 0.5em;">‚Ä≤</span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-106-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-106"> E '</script>  equate to vector <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1902"><span class="MJXp-mtext" id="MJXp-Span-1903">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1904">v</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1905">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1906">c</span><span class="MJXp-mrow" id="MJXp-Span-1907"><span class="MJXp-msubsup" id="MJXp-Span-1908"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1909" style="margin-right: 0.05em;">v</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-1910" style="vertical-align: -0.4em;">0</span></span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-107-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-107"> \ vec {v_0} </script>  .  After normalizing it along the length of the PO, we obtain the required vector relative to the base coordinate system of the manipulator.  Then we follow the sequence of calculating the generalized coordinates from item 1. <br><br>  It should be noted that the manipulator, when changing the orientation of the PO, is able to perform movement in two modes: the first is when the flange point is stationary, the second is when the end point of the PO is stationary, but its orientation is observed.  The second mode is more interesting because  even in the absence of linear movement, all the axes of rotation are still involved to move the flange point, while at the same time observing the orientation of the PO.  However, the transition from the first mode to the second occurs with the addition of only one operation of vector subtraction to find the vector <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1911"><span class="MJXp-mtext" id="MJXp-Span-1912">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1913">v</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1914">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1915">c</span><span class="MJXp-mrow" id="MJXp-Span-1916"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1917">r</span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-108-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-108"> \ vec {r} </script>  (see paragraph 1). <br><br>  All the above operations were also programmed in the Matlab environment.  In general, the structure of the program is as follows: <br><br><ol><li>  Calibration on startup.  We set up the entire farm to its original position and, not daring to touch, calibrate the SINS module with a certain amount of raw data from it.  Calibration is necessary, because you need to remove the initial offset, which gave the filter (I did not understand why, and so it worked perfectly). </li><li>  The beginning of the script.  We initialize all libraries and variables, set the initial position of the flange or end point PO. </li><li>  Run a cycle.  At each iteration, we query the sensors, find the quaternion, translate it into a matrix, which is the basis <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1918"><span class="MJXp-msup" id="MJXp-Span-1919"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1920" style="margin-right: 0.05em;">E</span><span class="MJXp-mo MJXp-script" id="MJXp-Span-1921" style="vertical-align: 0.5em;">‚Ä≤</span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-109-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-109"> E '</script>  , it is the basis in which the RO is located.  The first column is taken as the orientation of the PO and we find all the generalized coordinates using the mathematical considerations from paragraph 1. </li><li>  Knowing the generalized coordinates at the last moment of time and at the present, we calculate the angular velocity of rotation of the axes. </li><li>  We send the data packet to the manipulator microcontroller. </li></ol><br><iframe width="560" height="315" src="https://www.youtube.com/embed/O5sPVAc5g8k" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>  It turned out of course koryavenko, but if you look, you can see a positive result of the study.  This work, of course, does not pretend to be completed and requires a lot of effort for refinement, but only if this can be applied.  But I have not yet found a specific application ... Can someone tell me? </div><p>Source: <a href="https://habr.com/ru/post/418339/">https://habr.com/ru/post/418339/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../418329/index.html">Organization of safe testing in production. Part 2</a></li>
<li><a href="../418331/index.html">Masters of servers and networks - with a holiday</a></li>
<li><a href="../418333/index.html">Uber robotic vehicles return to the roads, but people will drive them</a></li>
<li><a href="../418335/index.html">‚ÄúConfrontation‚Äù at Positive Hack Days 8: parsing chains of attacks</a></li>
<li><a href="../418337/index.html">Hot, summer DataGrip 2018.2</a></li>
<li><a href="../418341/index.html">Happy sys admin! Postcard with meaning</a></li>
<li><a href="../418345/index.html">Documenting information exchange formats is easy and simple.</a></li>
<li><a href="../418347/index.html">As I wrote the standard C ++ 11 library or why the boost is so scary. Chapter 4.3</a></li>
<li><a href="../418349/index.html">Azure Kubernetes Service (AKS) and PowerShell</a></li>
<li><a href="../418353/index.html">Mind map instead of test case, or How visualization allows you to test the application faster</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>