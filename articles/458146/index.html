<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Open-source accounting application in the region</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="We recently published an application to record communications in the region under the free Apache 2.0 license. implemented at IONDV. Framework - an op...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Open-source accounting application in the region</h1><div class="post__text post__text-html js-mediator-article"><p>  We recently published an application to record communications in the region under the free Apache 2.0 license.  implemented at IONDV.  Framework - an open source solution based on node.js for the rapid development of web applications.  Communication in the regions is an important condition for the development of the territory and a comfortable life.  We will discuss an example based on the Khabarovsk Territory.  And although our territory is comparable to Spain and Portugal combined, and it will remain all over the Baltic States (we will not joke about bears on the streets of Khabarovsk - we will find videos on Youtube ourselves)), but we still have cellular communication and the Internet in remote populated areas of the region, or their quality leaves much to be desired.  The application is applicable anywhere and is available for use without restrictions. </p><br><p>  How to analyze the current state of communication?  How to quickly understand the problem areas?  How to plan the subsequent development of communications in the region?  Creating a registry-type solution for maintaining information about the industry, preparing analytical reports based on them and forming development plans. </p><br><p><img src="https://habrastorage.org/webt/on/ut/5r/onut5rurrafq0utw5hjnufc8rq4.jpeg"></p><a name="habracut"></a><br><h3 id="veb-prilozhenie-svyaz">  Web application "Communication" </h3><br><p>  IONDV.  Telecom, or as we call it in a team, Communication is a software solution based on <a href="https://github.com/iondv/framework">IONDV.</a>  <a href="https://github.com/iondv/framework">Framework</a> implemented for organizing, recording, storing and displaying data on the availability of communication services (Internet, cellular, television, mail, etc.) in populated locations of the region, including the availability of communications on the objects of the Healthcare and Education sectors.  The application is published in the public domain on <a href="https://github.com/iondv/telecom-ru">github</a> .  Traditionally for all repositories on github there is an instruction in the README repository, but we deployed demo systems for review, without registration: <a href="https://telecom-ru.iondv.com/">https://telecom-ru.iondv.com</a> . </p><br><p>  You can also watch a short <a href="https://www.youtube.com/watch%3Fv%3Dr7NjctIR9bA%26feature%3Dyoutu.be">video</a> shot just on this demo. </p><br><div class="spoiler">  <b class="spoiler_title">Some technical details</b> <div class="spoiler_text"><p>  The demo is deployed on the server with 2 CPU cores and 2 GB of memory in the Yandex cloud.  And on this virtual machine such demo applications a dozen more.  We tested a similar system on the same resource in another article - ‚ÄúExperience of outputting the program implementation of the social project‚Äú Recall everyone ‚Äùinto an open source <br>  " <a href="https://habr.com/ru/post/451092/">Https://habr.com/ru/post/451092/</a> - it turned out up to 400 requests per second.  The system of communication metadata more difficult - up to 3-4 levels of depth. <br>  For example, a communication object has 10 related entities (cellular, Internet, mail, television, etc.).  Each of them is 3-5 more each - for cellular communication it is a standard, a connection type, an operator, a settlement, etc. And the operator also has an enclosure. </p><br><p>  But even on these resources, it behaves quite responsively, although MongoDb is not well suited for accessing related data.  We removed the metrics - to get 10 objects in the list (in which the related data were displayed), up to 1000-1500 queries were made to the database.  In this case, the standard time for the user in the browser is obtained in the region of 600-700 ms. </p></div></div><br><h3 id="o-razrabotke-prilozheniya-svyaz-na-platforme-iondv-framework">  About application development Communication on the IONDV platform.  Framework </h3><br><blockquote>  The application is based on <strong>IONDV</strong> technology <strong>.</strong>  <strong>Framework</strong> .  This is an open source framework for node.js for creating high-level web applications based on metadata that does not require serious programming skills.  The framework is an independent data model, kernel API, function modules, and presentation templates.  For DBMS, MongoDb is used - it stores application settings, metadata, and the data itself.  The framework runs in the Node.js environment.  All together, it provides a cross-platform framework. </blockquote><p>  By the way, for the framework, this application is key - the productive operation of the new version on node.js using mongoDB began with it.  In total, the development of the framework components for the project (geomodule, refinement of the reporting module) and application metadata took 2643 hours. </p><br><p>  A little bit about the principle of creating an application on the framework.  Everything is very simple - framework + modules + metadata = application.  Approach rapid application development in development. </p><br><p>  The core functionality of most IONDV applications.  Framework compiles a data registry - the Register module.  This is a key module designed specifically for working with data based on metadata structures. </p><br><p>  In essence, an application framework is those metadata structures that are initiated for the registration module.  It is also well suited for rapid prototyping of an application - the implementation of basic business logic. </p><br><p>  In this case, everything that does not fit into the typical behavior of the system is extended through HTML templates or writing new modules in JavaScript.  At the same time, there is a typical portal module in which it is more convenient to make specialized interfaces using any convenient front-end framework. </p><br><p>  Also in this application are used: </p><br><ul><li>  analytics module for building reports </li><li>  dashboard module to display information in the form of widgets, </li><li>  module geodata to display on the map of settlements with data on the industries, which are regulated manually, </li><li>  administrative module to manage users and access roles.  Administrator control panel. </li></ul><br><p>  In the IONDV app.  The Telecom register module serves to create and work on key entities of the system ‚Äî in metadata, they are called classes: locality, communications, health care, and education, as well as basic and additional information. </p><br><h3 id="primery-klyuchevyh-suschnostey">  Key Entry Examples </h3><br><p>  For example, a locality that contains information about a locality and is subsequently used to bundle all accounting entities ‚Äî for example, communications or educational facilities.  The screenshot is a screen form. </p><br><p><img src="https://habrastorage.org/webt/se/ws/gu/sewsgutbo9m3ccej72tkn-tduw0.png"></p><br><p>  And here is a fragment of metadata in JSON format. </p><br><pre><code class="plaintext hljs">{ "isStruct": false, "key": [ "okato" ], "semantic": "name", "name": "naselenniyPunkt", "version": "", "caption": " ", "ancestor": null, "container": "", "creationTracker": "", "changeTracker": "", "history": 0, "journaling": true, "compositeIndexes": null, "properties": [ { "orderNumber": 10, "name": "okato", "caption": "", "type": 0, "size": 11, "decimals": 0, "allowedFileTypes": null, "maxFileCount": 0, "nullable": false, "readonly": true, "indexed": true, "unique": true, "autoassigned": false, "hint": null, "defaultValue": null, "semantic": null, "selConditions": [], "selSorting": [], "selectionProvider": null, "indexSearch": false, "eagerLoading": false, "formula": null }, { "orderNumber": 30, "name": "name", "caption": "", "type": 0, "size": 128, "decimals": 0, "allowedFileTypes": null, "maxFileCount": 0, "nullable": true, "readonly": false, "indexed": true, "unique": false, "autoassigned": false, "hint": null, "defaultValue": null, "semantic": null, "selConditions": [], "selSorting": [], "selectionProvider": null, "indexSearch": false, "eagerLoading": false, "formula": null },</code> </pre> <br><p>  By the way, metadata classes can be inherited.  For them, views are defined separately, differing in different steps of business processes and much more.  The properties property lists a list of attributes.  <a href="">Learn more</a> about metadata.  Metadata can also be created in the <a href="http://studio.iondv.com/">Studio</a> application or deployed locally with a <a href="http://github.iondv.com/iondv/studio">github</a> - also available under the free Apache 2.0 license. </p><br><p>  Entity data is easily updated.  For example, for an educational institution, after entering data in the basic attributes and creating an object, the ‚ÄúAdditional Information‚Äù tab appears.  In our opinion, the most interesting is the implementation of the attribute ‚ÄúGeodata‚Äù.  In the screenshot of the object card, Education is a map.  The address of the object is substituted from the form and the system will automatically determine the coordinates.  The data in this attribute is stored in GeoJSON - i.e.  can be any object in this format - not only a point, but also a polygon or line. </p><br><p><img src="https://habrastorage.org/webt/u5/pa/4q/u5pa4qdczyibt-aiinh5okmfiio.png"></p><br><p>  We illustrate the work of the most visual module ‚Äî Geomap or the geodata module ‚Äî it uses the Yandex API to display data.  You can test the demo <a href="https://telecom-ru.iondv.com/geomap">here</a> , and we will tell what it shows. </p><br><p><img src="https://habrastorage.org/webt/lp/kt/kv/lpktkvg-gosald9jdvhvxkf7rdc.png"></p><br><p>  Map layers are shown on the left, where the "Locations" layer is selected by default.  On the map, you can click on the icon with the village.  As a result, a card appears on the right with information on the availability of information and telecommunications in it. </p><br><p>  You can go to the "Communication by settlements" layer and on the right the summary data on the regions of the region calculated in the analytical module will be displayed.  If you double-click on an area, then only the area will be displayed - the filter will turn on.  If you double-click the area again, the general map will return. </p><br><p>  Information about the layers as well as how to get the data is set as metadata in JSON.  And the way to display as a template html <br>  An example of a fragment about a pop-up window with brief information from the metadata for the 2G layer. </p><br><pre> <code class="plaintext hljs">"balloonContentLayoutClass" : "&lt;div class='map-ajax-balloon' data-url='geomap/render/khv-svyaz-info/2gMobileKray/0/{{ properties.itemId }}?template=geo/balloon/2gMobile'&gt;&lt;i class='fa fa-refresh fa-spin'&gt;&lt;/i&gt;&lt;/div&gt;"</code> </pre> <br><p>  An example of an EJS template with all the mobile data displayed in the right window.  It provides access to data by working with the item object and its properties: </p><br><pre> <code class="plaintext hljs">&lt;% let result = { title: item.get('name') } if (item.get('chislennost')) { result.title += ' (' + item.property('chislennost').evaluate() + ' .)'; } let itemSvyaz = item.property('svyaz').evaluate(); if (itemSvyaz) { %&gt; &lt;ul class='balloon-attrlist' style='width:225px'&gt; &lt;li&gt;&lt;%- result.title %&gt;&lt;/li&gt; &lt;/ul&gt; &lt;ul class='mt10'&gt; &lt;table&gt; &lt;% let coll = itemSvyaz.property('mobile').evaluate(); if (coll &amp;&amp; coll.length) { for (let elem of coll) { let collOp = elem.get('mobileOperator'); let collSt = elem.property('mobileStandart').evaluate(); if (collOp) { %&gt; &lt;tr&gt; &lt;td&gt; &lt;li&gt;&lt;%- elem.property('mobileOperator').evaluate() %&gt;&lt;/li&gt; &lt;/td&gt; &lt;td&gt;&lt;% for (let element of collSt) { %&gt; &lt;%- element %&gt; &lt;% } %&gt; &lt;/a&gt;&lt;/td&gt; &lt;/tr&gt; &lt;% } } } } %&gt; &lt;/table&gt; &lt;/ul&gt;</code> </pre> <br><p>  Data from the system can be downloaded for analytics in the BI system.  For example, we did integration with QlickView.  To simplify the work of analysts, they did not use the REST-API of the system, but directly connected QlickView to the DBMS via the MongoDB Connector - the SQL emulation is sufficiently high-quality for these tasks. </p><br><h3 id="kak-poluchit">  How to get? </h3><br><p>  Under Linux, the application can be installed in one line, if locally is git, node.js and mongodb using the installer <a href="https://github.com/iondv/iondv-app">iondv-app</a> .  The script will install the dependencies of the environment, clone all the necessary repositories of the framework, modules and applications from GitHub, collect, initiate and launch the application: </p><br><pre> <code class="plaintext hljs">bash &lt;(curl -sL https://raw.githubusercontent.com/iondv/iondv-app/master/iondv-app) -q -i -m localhost:27017 telecom-ru</code> </pre> <br><p>  Where instead of localhost: 27017 you need to specify the address MongoDb. </p><br><p>  You can also run the docker container: </p><br><pre> <code class="plaintext hljs">#   mongodb: docker run --name mongodb -v mongodb_data:/data/db -p 27017:27017 -d mongo #  IONDV. Telecom docker run -d -p 80:8888 --link mongodb iondv/telecom-ru</code> </pre> <br><p>  After launch, open the link <a href="http://localhost:8888/">http: // localhost: 8888</a> where demo data will be displayed on the geolayer.  And at the address <a href="http://localhost:8888/registy">http: // localhost: 8888 / registy</a> , the back office will be available with the <strong>demo</strong> account, the password is <strong>ion-demo</strong> . </p><br><p>  See also <a href="https://github.com/iondv/telecom-ru/blob/master/manuals/RP_telecom.docx">the application manual</a> . </p><br><h3 id="kakovy-plyusy">  What are the pros? </h3><br><p>  The main advantage of the IONDV communications registry.  Telecom is a visual representation of the state of development of the telecommunications sector in the region, which allows planning to improve the quality of the communications infrastructure, as well as provide this data in open access. </p><br><p>  Communication accounting solution is based on open source IONDV framework.  Framework, and this is open source code in JavaScript and an open metadata structure in JSON, which means complete freedom of development.  Almost, as part of Apache 2.0).  Correct, improve and sell for sure.  Given that the engine is not demanding of resources - it is great for developing reliable business applications of various sizes. </p></div>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <p>Source: <a href="https://habr.com/ru/post/458146/">https://habr.com/ru/post/458146/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../458134/index.html">Quantum computing can change everything, and IBM competes with Microsoft, Intel, and Google to master it.</a></li>
<li><a href="../458136/index.html">New GitLab 12.0 with visual reviews and a list of dependencies</a></li>
<li><a href="../45814/index.html">The second open test of the unofficial Fallout Online has begun.</a></li>
<li><a href="../458142/index.html">Breakout game development on Svelte</a></li>
<li><a href="../458144/index.html">News of the week: Raspberry Pi 4 on sale, Internet on the Unified State Exam, Roskomnadzor and VPN services, neural network strips people</a></li>
<li><a href="../458148/index.html">Retro electronics. Smart watches from the 80s</a></li>
<li><a href="../45815/index.html">Facebook lost user settings</a></li>
<li><a href="../458154/index.html">Incredible history of the origin of USB - port that changed everything</a></li>
<li><a href="../458156/index.html">PostgreSQL benchmarking on FreeBSD, CentOS, Ubuntu Debian and openSUSE</a></li>
<li><a href="../458158/index.html">Looking for asteroids - the project "Hubble Asteroid Hunter"</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>