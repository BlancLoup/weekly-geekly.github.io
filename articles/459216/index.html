<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>B-tree data structure</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hello! We have launched a new recruitment for the Algorithms for Developers course and today we want to share an interesting translation prepared for ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>B-tree data structure</h1><div class="post__text post__text-html js-mediator-article">  Hello!  We have launched a new recruitment for the <a href="https://otus.pw/iI9Y/">Algorithms for Developers</a> course and today we want to share an interesting translation prepared for the students of this course. <br><br><img src="https://habrastorage.org/webt/l-/39/ga/l-39gacvss92fga2m0hphyue-dg.png"><br><br>  In search trees, such as binary search tree, AVL tree, red-ebony, etc.  Each node contains only one value (key) and a maximum of two descendants.  However, there is a special type of search tree called a B-tree (pronounced Bi-Tree).  In it the node contains more than one value (key) and more than two descendants.  The B-tree was developed in 1972 by Bayer and McCreit and was called <i>Height Balanced Search Tree of order m (Height Balanced m-way Search Tree)</i> .  Its modern name B-tree received later. <a name="habracut"></a>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      B-tree can be defined as follows: <br>  <b>A B-tree is a balanced search tree, in which each node contains multiple keys and has more than two descendants.</b> <br><br>  Here the number of keys in the node and the number of its descendants depends on the order of the B-tree.  Every B-tree has an order. <br><br>  The b-tree of order <b>m</b> has the following properties: <br><br>  <i>Property 1:</i> The depth of all leaves is the same. <br>  <i>Property 2:</i> All nodes except the root must have at least <b><i>(m / 2) - 1</i></b> keys and a maximum of <i><b>m-1</b></i> keys. <br>  <i>Property 3:</i> All nodes without leaves, except the root (ie, all internal nodes) must have at least <b><i>m / 2</i></b> descendants. <br>  <i>Property 4:</i> If the root is a node containing no leaves, it must have at least <b>2</b> descendants. <br>  <i>Property 5:</i> A node without leaves with <b>n-1</b> keys must have <b>n</b> descendants. <br>  <i>Property 6:</i> All keys in a node must be in ascending order of their values. <br><br>  For example, a 4-order B-tree contains a maximum of 3 key values ‚Äã‚Äãand a maximum of 4 children for each node. <br><br><img src="https://habrastorage.org/webt/0o/hj/bm/0ohjbmh-fdbc2whjaozcuquxyxm.png"><br>  <i>B-tree 4 orders</i> <br><br>  <b>B-tree operations</b> <br><br>  The following operations can be performed on a B-tree: <br><ol><li>  Search </li><li>  Insert </li><li>  Deletion </li></ol><br><br>  <b>B-tree search</b> <br><br>  Search in a B-tree is similar to a search in a binary search tree.  In the binary search tree, the search starts from the root and each time a two-way decision is made (go along the left subtree or along the right).  In the B-tree, the search also begins with the root node, but at each step an n-sided decision is made, where n is the total number of descendants of the node in question.  In the B-tree, the search complexity is <b>O (log n)</b> .  The search is as follows: <br><br>  <i>Step 1:</i> Count the item to search. <br>  <i>Step 2:</i> Compare the item to the first key value in the root node of the tree. <br>  <i>Step 3:</i> If they match, output: ‚ÄúThe node was found!‚Äù And complete the search. <br>  <i>Step 4:</i> If they do not match, check the element value more or less than the current key value. <br>  <i>Step 5:</i> If the item you are looking for is smaller, continue searching the left subtree. <br>  <i>Step 6:</i> If the item you are looking for is larger, compare the item with the next key value in the node and repeat Steps 3, 4, 5 and 6 until a match is found or until the desired item is compared with the last key value in the leaf node. <br>  <i>Step 7:</i> If the last value of the key in the list node does not coincide with the required one, output ‚ÄúNo item found!‚Äù And complete the search. <br><br>  <b>B-tree insert operation</b> <br><br>  In the B-tree, a new element can only be added to the list node.  This means that a new key-value pair is always added only to the leaf node.  The insertion is as follows: <br><br>  <i>Step 1:</i> Check if the tree is empty. <br>  <i>Step 2:</i> If the tree is empty, create a new node with a new key value and take it as the root node. <br>  <i>Step 3:</i> If the tree is not empty, find the appropriate leaf node to which the new value will be added, using the logic of the binary search tree. <br>  <i>Step 4:</i> If there is an unused cell in the current leaf node, add a new key value to the current leaf node, following the increasing order of key values ‚Äã‚Äãinside the node. <br>  <i>Step 5:</i> If the current node is full and has no free cells, divide the leaf node by sending the average value to the parent node.  Repeat step until the value to be sent is fixed in the node. <br>  <i>Step 6:</i> If the separation occurs with the root of the tree, then the average value becomes the new root of the tree and the height of the tree is increased by one. <br><br>  <b>Example:</b> <br><br>  Let's create a B-tree of order 3 by adding numbers from 1 to 10 to it. <br><br>  <i>Insert (1):</i> <br>  Since ‚Äú1‚Äù is the first element of the tree, it is inserted into the new node and this node becomes the root of the tree. <br><br><img src="https://habrastorage.org/webt/pk/yb/_o/pkyb_o6rybgvsawx1r8a5uxkbu4.png"><br><br>  <i>Insert (2):</i> <br>  Element "2" is added to the existing list node.  Now we have only one node, therefore it is both a root and a leaf at the same time.  This sheet has an empty cell.  Then "2" rises in this empty cell. <br><br><img src="https://habrastorage.org/webt/zj/ny/gh/zjnyghs8_-ruah66pbdpnfcqbj0.png"><br><br>  <i>Insert (3):</i> <br>  Element "3" is added to the existing node list.  Now we have only one node, which is both a root and a leaf.  This sheet does not have an empty cell.  Therefore, we divide this node by sending the average value (2) to the parent node.  However, the current node has no parent node.  Therefore, the average value becomes the root node of the tree. <br><br><img src="https://habrastorage.org/webt/qt/nw/ce/qtnwce8lqzo4g8myqpj9qe8u_ng.png"><br><br>  <i>Insert (4):</i> <br>  Element "4" is greater than the root node with the value "2", and the root node is not a leaf.  Therefore, we move along the right subtree of ‚Äú2.‚Äù  We come to the leaf node with the value "3", which has an empty cell.  Thus, we can insert the element "4" in this empty cell. <br><br><img src="https://habrastorage.org/webt/vx/ky/ff/vxkyffrbrpug0qoggkdycg6bdo8.png"><br><br>  <i>Insert (5):</i> <br>  Element "5" is greater than the root node with the value "2", and the root node is not a leaf.  Therefore, we move along the right subtree of ‚Äú2.‚Äù  We arrive at a leaf node and find that it is already full and does not have empty cells.  Then we divide this node by sending the mean (4) to the parent node (2).  The parent node has an empty cell for it, so the value ‚Äú4‚Äù is added to the node where the value 2 already exists, and the new element 5 is added as a new sheet. <br><br><img src="https://habrastorage.org/webt/du/24/2p/du242plyzfgrpqrjrfv0cm5edje.png"><br><br>  <i>Insert (6):</i> <br>  Element "6" is larger than elements of the root "2" and "4", which is not a leaf.  We move on the right subtree from the element "4".  We reach a sheet with the value "5", which has an empty cell, so the element "6" is placed just in it. <br><br><img src="https://habrastorage.org/webt/ub/7_/0x/ub7_0xwotuauqmigavlchwfmioc.png"><br><br>  <i>Insert (7):</i> <br>  Element "7" is larger than the elements of the root "2" and "4", which is not a leaf.  We move on the right subtree from the element "4".  We reach the leaf node and see that it is full.  We divide this node by sending the average value ‚Äú6‚Äù up to the parent node with elements ‚Äú2‚Äù and ‚Äú4‚Äù.  However, the parent node is also full, so we divide the node with the elements ‚Äú2‚Äù and ‚Äú4‚Äù, sending the value ‚Äú4‚Äù to the parent node.  Only this site is not yet.  In this case, the node with the element "4" becomes the new root of the tree. <br><br><img src="https://habrastorage.org/webt/jt/iy/mn/jtiymncskjzavligvokqcht_2no.png"><br><br>  <i>Insert (8):</i> <br>  Element "8" is greater than the root node with the value "4", and the root node is not a leaf.  We move on the right subtree from the element ‚Äú4‚Äù and arrive at the node with the value ‚Äú6‚Äù.  ‚Äú8‚Äù is greater than ‚Äú6‚Äù and the node with the element ‚Äú6‚Äù is not a leaf, so we move along the right subtree from ‚Äú6‚Äù.  We reach the leaf node with "7", which has an empty cell, so we put "8" in it. <br><br><img src="https://habrastorage.org/webt/sr/_y/4m/sr_y4mak5gj30f72s9m1clbay5u.png"><br><br>  <i>Insert (9):</i> <br>  Element "9" is greater than the root node with the value "4", and the root node is not a leaf.  We move on the right subtree from the element ‚Äú4‚Äù and arrive at the node with the value ‚Äú6‚Äù.  ‚Äú9‚Äù is greater than ‚Äú6‚Äù and the node with the element ‚Äú6‚Äù is not a leaf, so we move along the right subtree from ‚Äú6‚Äù.  We reach the node list with the values ‚Äã‚Äã"7" and "8".  He is full.  We divide this node by sending the average value (8) to the parent node.  The parent node "6" has an empty cell, so we put "8" in it.  At the same time, the new element ‚Äú9‚Äù is added to the list node. <br><br><img src="https://habrastorage.org/webt/qk/ww/sy/qkwwsykzpzdwhky3q8rnyouatxe.png"><br><br>  Insert (10): <br>  Element "10" is greater than the root node with the value "4", and the root node is not a leaf.  We move on the right subtree from the element ‚Äú4‚Äù and arrive at the node with the values ‚Äã‚Äã‚Äú6‚Äù and ‚Äú8‚Äù.  ‚Äú10‚Äù is greater than ‚Äú6‚Äù and ‚Äú8‚Äù and the node with these elements is not a leaf, so we move along the right subtree from ‚Äú8.‚Äù  We reach the leaf node with the value "9".  He has an empty cell, so we put "10" there. <br><br><img src="https://habrastorage.org/webt/js/h7/qw/jsh7qw_swbb_skibdifvsdmmq1i.png"><br><br>  We suggest that you independently understand in practice how the B-trees are arranged, using <a href="https://www.cs.usfca.edu/~galles/visualization/BTree.html">this visualization</a> . <br><br>  We are waiting for everyone in the <a href="https://otus.pw/iI9Y/">free open lesson</a> , which will be held on July 12.  See you! </div><p>Source: <a href="https://habr.com/ru/post/459216/">https://habr.com/ru/post/459216/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../459206/index.html">9 years in monolith on Node.JS</a></li>
<li><a href="../459208/index.html">Running with prostheses: nekstgen simulation of human movement with the help of muscles, bones and neural networks</a></li>
<li><a href="../45921/index.html">Home server - AMD, Debian x64, Bind9, Apache 2, PHP5, MySQL5, Trac, Subversion and a lot of fun</a></li>
<li><a href="../459212/index.html">Implementing properties in C ++</a></li>
<li><a href="../459214/index.html">Fault tolerance in storage Qsan</a></li>
<li><a href="../459220/index.html">Integration testing to check for memory leaks</a></li>
<li><a href="../459224/index.html">From a realtor to a game developer 2. "Operation: Android"</a></li>
<li><a href="../459226/index.html">‚ÄúFast-PoE and Perpetual-PoE are new standards or not?‚Äù</a></li>
<li><a href="../459230/index.html">A trip to the call center and Product Backlog through the eyes of the developer</a></li>
<li><a href="../459232/index.html">Surround, bite, cut: new Mini AI Cup competition # 4</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>