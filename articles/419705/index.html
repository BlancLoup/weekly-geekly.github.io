<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>We want to replace devops with a script (not really): developers, you need your opinion</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="We are doing a cloud development project ‚Äî a platform that can make life as simple as possible for devops, developers, testers, timlids, and other pro...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>We want to replace devops with a script (not really): developers, you need your opinion</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/webt/gi/em/mu/giemmugoeg7lvmqu-jz1bhfrqae.png"><br>  We are doing a cloud development project ‚Äî a platform that can make life as simple as possible for devops, developers, testers, timlids, and other professionals involved in the development process.  This product is not for now and not for tomorrow, and the need for it is just being formed. <br><br>  The main idea is that you can deploy the pipeline with pre-configured tools, but with the possibility of making a number of settings, and you will only have to deploy the code. <br><a name="habracut"></a><br>  Where does this perversion come from?  We see a clear trend that now the speed of deployment of new projects affects the market.  Commerce depends on how quickly releases are delivered.  How quickly bugs will be fixed, how quickly new niches will be dealt with.  At the beginning of 2018, the global company 451 Research conducted a survey on which technologies would be a priority during development.  The top ten included technologies for creating and managing containers, as well as serverless application architecture and microservices, overtaking even such a HYIP theme as blockchain. <br><br>  And now we have a couple of questions for you. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Chart from the survey: <br><img src="https://habrastorage.org/webt/vc/fp/o2/vcfpo2b3wjmuaw96somymbtz68u.jpeg"><br><br><h3>  Is it necessary? </h3><br>  The use of containers in the development of a new product has both its advantages and disadvantages.  To use this technology or not, you need to decide on the basis of the tasks.  For a number of tasks without the use of containers can not do, and for some they are simply superfluous.  For example, for sites with low traffic will be quite enough simple architecture of the two servers.  But if a significant increase in development is planned, as well as a huge increase in visitors in a short time, then in this case it is worth considering the infrastructure using containers. <br><br>  There are several advantages to using containers: <br><br><ul><li>  Each application runs in its own container in isolation, which reduces configuration problems to a minimum. </li><li>  Application security is also achieved by isolating each container. </li><li>  Due to the fact that containers use the kernel of the operating system, now there is no need for a guest OS, due to which a large amount of resources are released. </li><li>  Also, due to the use of the operating system kernel, and because it does not need to rely on the hypervisor, containers require much less resources compared to other stacks. </li><li>  Again, due to the fact that containers do not require a guest operating system, they can be easily migrated from one server to another. </li><li>  Due to the fact that each application runs in an isolated container, it is easy to transfer from the local machine to the cloud; </li><li>  It is very ‚Äúcheap‚Äù to start and stop a container due to the use of the operating system kernel. </li></ul><br>  In connection with all the above, we believe that the containerization technology is currently the fastest, most resource-efficient and most secure stack.  Due to the advantages of containers, it is possible to have the same environment both on the local machine and in production, which facilitates the process of continuous integration and continuous delivery. <br><br>  The advantages of containers are so convincing that they will definitely be used for a long time. <br><br><h3>  What does the cloud to develop? </h3><br>  In the ideal world of the developer, any commit code should, at the touch of a button, roll back into production, as if by magic. <br><br>  We had this: there is a Hitlab with tasks and source.  When you need to collect something - GitLab Runner.  We work on Git Flow, all features on separate branches.  When a branch goes to the repository, tests on this code are run in GitLab.  If the tests passed, the developer of this branch can make a merge request, actually a request for review of the code.  After the review, the branch is accepted, merged into the dev-branch, and tests are run over it again.  With a Deploy, GitLab Runner collects the Docker container and rolls it out onto the hosting server, where it can be clicked and rejoiced.  And here is the first plug-in - we scan the code with our hands for compliance with the functionality and this is the first thing we fix.  After that we pour the code into the release branch.  And for her, we roll out a separate pre-productive version of our solution, which our business customers are watching.  After the pre-prod version is uploaded, we roll it into production and it rolls out onto grocery nodes.  There are auto-generation release notes and bug reports.  The assembly speed was more than 30 minutes, now it is an order of magnitude less.  We picked up a set of tools for ourselves and now we are thinking about how to make the same ready-made SaaS. <br><br>  Immediately, the typical withdrawal process for us is as follows: <br><br><ol><li>  Setting targets for the implementation of new features </li><li>  Code localization </li><li>  Changes according to the tasks.  Writing automatic tests before build. </li><li>  Code check, both manual and auto tests </li><li>  Merging code into a dev branch </li><li>  Build dev branches </li><li>  Test infrastructure deployment </li><li>  Depla release on test infrastructure </li><li>  Running testing, functional, integration, etc. </li><li>  In case of bugs, finish them immediately in the dev-branch </li><li>  Transferring the dev branch to the master branch </li></ol><br>  Here is a diagram with details for our process: <br><br><img src="https://habrastorage.org/webt/il/8m/nb/il8mnboobrdruvd3op3rfqva904.png"><br><img src="https://habrastorage.org/webt/jk/ww/8z/jkww8zqlbjgrulv6pcjnm9rcdmq.png"><br><br>  Actually, the first question - please tell us where you had any rakes and how versatile or not this scheme is.  If you use workflow, which is very different from this, then add a few words, why so, please. <br><br><h3>  What kind of product are we planning? </h3><br>  We decided not to copy Amazon in this regard, but to conduct our development taking into account the specifics of the market.  Immediately make a reservation that all the calculations - our subjective opinion, based on our analysis.  We are open to a constructive dialogue and are ready to change the roadmap of the product. <br><br>  When analyzing the existing pipeline from Amazon, we came to the conclusion that it possesses tremendous opportunities, but at the same time the emphasis is placed on very large corporate teams.  It seemed to us that in order to roll out a microservice in Docker you need an unreasonably long time, more than if, for example, you rolled out to Kubernetes, since  there is a setting of internal configs, the definition of internal agreements, etc.  and all this needs a long time to understand. <br><br>  On the other hand, there is, for example, Heroku, where you can deploy in one click.  But due to the fact that projects, as a rule, are quite extensive, with third-party microservices, at some point it becomes necessary to roll out custom docker-images with DBaaS services, and all this in Herocku does not really fit, because either expensive, either uncomfortable. <br><br>  We want to find another option.  Golden mean.  Depending on the type of project and tasks, provide you with a set of pre-configured tools already integrated into a single pipeline, while leaving both the possibility of a profound change of settings and the possibility of replacing the tools themselves. <br><br><h3>  So what will it be? </h3><br>  An ecosystem that includes a portal and a set of tools and services that minimize the interaction of developers with the infrastructure level.  You define environment parameters that are not tied to the physical environment: <br><br><ul><li>  Development environment (configuration management system, task setting system, repository for storing code and artifacts, task tracker) </li><li>  CI - Continuous Integration (build, infrastructure, and orchestration) </li><li>  QA - Quality Assurance (testing, monitoring and logging) </li><li>  Staging - Integration Environment / Predrelizny contour </li><li>  Production - Productive contour </li></ul><br>  When choosing tools, we focused on best-practice in the market. <br><br><img src="https://habrastorage.org/webt/5z/dv/rb/5zdvrb-feq3s-uhkg177nr5vu_4.png"><br><br>  We will build the infrastructure with Stage and Prod, using Docker and Kubernetes with parallel features. <br><br>  This will be done iteratively - at the first stage, a service is planned that will allow you to take a Docker file from the project, after which you will assemble the required container and lay them out Kubernetes. <br><br>  We also plan to pay special attention to the service to control the development process and continuous delivery.  What do we mean by this service?  This is an opportunity to form a hierarchical KPI model with indicators such as% coverage by unit tests, the average time to eliminate an incident or defect, the average time from commit to delivery, etc. <br><br>  Collecting source data from different systems - test management systems, task management, CI / CD components, infra monitoring tools, etc. <br><br>  And the most important thing is to show in an adequate form available for quick analysis - dashboards with the ability to drill down, a comparative analysis of indicators. <br><br><h3>  What we want to do </h3><br>  Actually, I would really like to hear from you about all this and our plans for the steps.  Now they are: <br><br><ul><li>  Infrastructure and Orchestration - Docker &amp; Kubernetes </li><li>  Task setting, code storage and artifacts, task tracker - Gitlab, Redmine, S3 </li><li>  Production and Development - Chef / Ansible </li><li>  Build - Jenkins </li><li>  Testing - Selenium, LoadRunner </li><li>  Monitoring and Logging - Prometheus &amp; ELK </li><li>  By the way, how do you see if there is a choice within the framework of the platform - I wanted it, chose Jenkins, did not want it - GitLab Runner? </li><li>  Or does it not matter what is inside, the main thing is that everything should be built, tested and deployed? </li></ul><br><h3>  How can I help? </h3><br>  The product will be developed for domestic developers.  If you tell us now how to do better, it will most likely come into release. <br><br>  <b>Tell me right now what stacks you are using.</b>  You can - in the comments or by mail to team@ts-cloud.ru. <br>  UPD: for convenience, we made a short questionnaire in Google-form - <a href="https://goo.gl/forms/DpLX6jIeQVajKnL42">here</a> . <br><br>  Next, we will keep you up to date with the development - and at some point we will give helping participants access to the beta (in fact, free access to good cloud computing resources in exchange for feedback). </div><p>Source: <a href="https://habr.com/ru/post/419705/">https://habr.com/ru/post/419705/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../419695/index.html">What to do immediately after a trip to a business conference? ISPsystem Buzzing Tips</a></li>
<li><a href="../419697/index.html">Telecommunications of the Yekaterinburg Arena Stadium: 20 kilometers of thick cable</a></li>
<li><a href="../419699/index.html">The history of testing the project "K": Kotlin & Spek</a></li>
<li><a href="../419701/index.html">Why in the presence of power you need a good old coal boiler in the car</a></li>
<li><a href="../419703/index.html">Registration of medical devices: how many mice will suffer in the process</a></li>
<li><a href="../419707/index.html">Gamification of applications - 5 moments that should not be forgotten</a></li>
<li><a href="../419711/index.html">The first IT Bike Quest in St. Petersburg. How it was</a></li>
<li><a href="../419715/index.html">You do not know how to work with transactions.</a></li>
<li><a href="../419717/index.html">Embedded architecture design</a></li>
<li><a href="../419719/index.html">[bookmark] 23 recommendations for the protection of Node.js applications</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>