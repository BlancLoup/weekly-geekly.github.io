<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>New engine for the new Call of Duty</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="One of the notable events of the past week was the announcement of the new part of Call of Duty - after all, Call of Duty: Modern Warfare , a reboot o...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>New engine for the new Call of Duty</h1><div class="post__text post__text-html js-mediator-article">  One of the notable events of the past week was the announcement of the new part of Call of Duty - after all, <i>Call of Duty: Modern Warfare</i> , a reboot of the 2007 hit of the same name, will be the first in 14 years game of the series that runs on a new engine, and will also support cross Play on PC, PS4 and Xbox One.  At a closed press show, arranged for the press and streamers in Los Angeles, Activision showed 15 minutes of gameplay, which caused an unprecedented delight among the public.  The rest of the gameplay will be demonstrated only at E3, but, fortunately, it will happen very soon. <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/bH1lHCirCGI" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>  Surprisingly, it seems that this is <i>really a</i> new engine, and not promises of Activision marketers, which you may have heard the last N times;  this is <a href="https://www.eurogamer.net/articles/digitalfoundry-2019-cod-modern-warfare-delivers-series-most-advanced-visuals-yet">confirmed by Digital Foundry experts</a> who talked with the developers and found out the technical details. <br><br>  Judging by the early testimonials of eyewitnesses, the Call of Duty engine will be able to compete fully with the current version of Frostbite, since the developers managed to achieve great success in terms of pictures and sound.  Engine development took 5 years;  Infinity Ward Poland studio, which was opened at the end of 2017 with the goal of R &amp; D, took part in its creation.  Veterans who left Infinity Ward after the release of the original <i>Modern Warfare</i> and went to Respawn, and now returned to work on the reboot (which is funny in itself - if not for the unprecedented success of <i>Modern Warfare</i> and the subsequent scandal between Activision and the founding fathers of Infinity Ward, Respawn and <i>Titanfall</i> would never have been born). <br><a name="habracut"></a><br>  The fact that Infinity Ward some time ago was joined by Jacob Minkoff and Taylor Kurosaki, who left Naughty Dog, where they took part in the work on <i>Uncharted</i> and <i>The Last of Us</i> , is <i>intriguing</i> , after which several more ex-Naughty Dog employees joined the company. .  Together they are responsible for the storyline component of the new game, which will be devoted to ‚Äúadult‚Äù topics and promises to be quite provocative. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h2>  Technical Details </h2><br><img src="https://habrastorage.org/getpro/habr/post_images/9e9/85d/235/9e985d235e82071a0067f6e596ee7075.jpg" alt="image"><br><br>  The point in creating a new engine is unambiguous: in the near future we are waiting for the next gen, which may come as early as 2020 and will be compatible with the current generation of consoles.  The developers of the new engine were faced with the task of laying the foundation for further games in the series, without losing its merits.  Considering that the technological priority of Call of Duty has always been the ability to maintain a frame rate of 60 FPS, this was not an easy task, but they successfully managed to cope with it. <br><br>  A distinctive feature of the new Call of Duty trailer is that (according to the developers) everything shown in it is ‚Äúfair,‚Äù and the trailer itself is recorded on the PlayStation 4 Pro (no CG / in-engine footage). <br><br><h3>  PBR and photogrammetry </h3><br>  The radical processing of the engine began with the creation of an advanced rendering system based on PBR and photogrammetry.  Everything is pretty standard here - when scanning objects, not only information about their shape is saved, but also material properties like <i>roughness / reflectivity</i> ;  This step is required to integrate with the new lighting system. <br><br>  From an artistic point of view, this allowed not only to achieve realism, but also the integrity of the visual image of the game - now not only the models of weapons and objects nearby the player, but also the whole environment can boast with a large number of details.  The advanced <i>culling</i> algorithm (elimination of hidden parts of the three-dimensional image) allows you to fit 5 times more geometry on stage than was possible in previous games of the series.  The crowd scene shown in the trailer, for example, is as many as 8 million polygons. <br><br>  A serious upgrade was received by the lighting system.  Now the engine implements <i>volumetric lighting</i> , so each light source in the game is volumetric in nature, thanks to which it became possible to diversify the atmosphere of the game levels - for example, add the effect of dampness or fog spreading on the ground.  Twilight rays ( <i>god rays</i> ) are also present in the game, but this is no longer the effect of post-processing, but the full result of the collision of rays with the geometry of game objects. <br><br>  Of course, the engine also supports raytracing on a PC - without it, today there is no way. <br><br>  If you carefully look at the trailer and <a href="">screenshots</a> , you can see how strongly the new technological stack and art direction are tied to each other - for example, skyboxes and light levels are reproduced in real locations, and the post-processing system is based on the latest parts of COD , but once again improved - this time mainly in part of the integration with volumetric light ( <i>volumetric lighting</i> ). <br><br>  For reference: the competitor CoD and Activision - Frostbite engine developed by DICE and used in <i>Battlefield</i> - has been working with photogrammetry since <i>Star Wars: Battlefront (2015)</i> , about which its developers <a href="https://www.youtube.com/watch%3Fv%3DU_WaqCBp9zo">have made a report at GDC</a> . <br><br><img src="https://habrastorage.org/getpro/habr/post_images/182/edb/6d5/182edb6d5fc49514c7227375c84b7d1f.jpg" alt="image"><br><br><h3>  Spectral rendering </h3><br>  An impressive innovation was the inclusion of what the developers call ‚Äúspectral rendering.‚Äù  This system ‚Äúsees‚Äù the Call of Duty renderer in real time outside the visible spectrum - that is, including thermal and infrared radiation.  Because of the new system of realistic lighting in some conditions, the night vision device is indispensable.  There is also a gameplay element here - if you suddenly turn on the light, you can dazzle those who are wearing night vision devices. <br><br>  Here, the developers completely surrendered to realism, so the device not only accurately conveys the shades of ambient temperatures and targets, but also simulates low-resolution sensors used in various equipment, reliably transmitting JPEG compression artifacts. <br><br>  Realistic infrared lighting is something that no one else in the games did.  It is not surprising that everyone was so impressed with the realism of night vision - because before IW, none of the developers included ‚Äúnative‚Äù infrared lighting in their renderer so that the materials could react to it realistically. <br><br><h3>  Hybrid tile streaming system </h3><br>  Some systems used in the engine have been developed with an eye to the future and the following games of the series.  In particular, the engine finally has the possibility of streaming levels, which potentially opens the way to creating much larger levels for multiplayer, than we have seen before in the games of the series.  The details of the system described in many respects resemble standard solutions used in other engines (for example, World Streamer for Unity), as well as a virtual texturing system implemented in the id Tech engine from version 5 (appeared in Rage, was brought to mind in the new <i>Doom</i> and <i>Wolfenstein</i> ) and other engines. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/91b/4c0/943/91b4c0943e6b0c2173eca14ef3fbcc8f.jpg" alt="image"><br><br><h3>  Optimization </h3><br>  According to Infinity Ward, when developing a COD, it is important to keep in mind the following goals: responsive management, fast player feedback, 60 FPS.  In order to achieve them, the company has changed its approach to when to engage in optimization.  The correct answer here is not to postpone it for the last moment. <br><br>  For night builds, automatic performance analysis is enabled, i.e.  for each build for the entire content of the game, for each of its levels there is a statistic of what the average FPS is in different parts of the level.  Over time, these statistics should improve, and if the opposite happens, then this is a red flag and evidence that the latest updates to the code base could create a problem.  To prevent such problems, reviews are periodically conducted in order to correct the ‚Äúhot spots‚Äù ( <i>hot spots</i> ), when a particular frame is dragged down by performance. <br><br>  Infinity Ward planned to allocate several months closer to the release to optimize performance, but the engine is already issuing 60 FPS in a single player, although full-scale optimization work has not even started yet.  At the moment, this is achieved through the use of <i>dynamic resolution scaling (DRS)</i> , successfully run in <i>Infinite Warfare</i> and <i>WWII</i> , but the developers are almost sure that after full optimization it will become a fallback solution, with the result that the game will work on your target resolution platforms almost all the time. <br><br>  We will have to wait for the remaining technical details at least until E3 (most likely, before the release / performance of the GDC developers). <br><br><h2>  History reference </h2><br><img src="https://habrastorage.org/getpro/habr/post_images/513/81f/fa6/51381ffa67b541d8fadec3aad76a7172.jpg" alt="image"><br><br>  The creator of the Call of Duty series is Infinity Ward, which was founded by 22 people from 2015, Inc.  - the studio that created the shooter <i>Medal of Honor: Allied Assault</i> , released in 2002 and became a hit, which used the good old id Tech 3 as its engine (written in C and at that time still called Quake 3 Engine).  Financing the development of Call of Duty was engaged in Activision, which immediately bought 30% of the studio, and after the release of the first Call of Duty at the end of 2003 - and the entire company.  This was not surprising, because the game received <a href="http://games.ign.com/articles/497/497239p1.html">90 awards "Game of the Year" and 50 "Election Editors"</a> . <br><br>  Id Tech 3 was chosen as the engine for COD1, since the studio‚Äôs employees were very familiar with it and were able to use the insights developed during the work on Medal of Honor: Allied Assault.  The sequel, which was released in 2005, was able to achieve even better commercial performance, and by then the heavily modified id Tech received support for DirectX 9 instead of OpenGL, an improved particle system and post-processing, as well as the official name <i>IW Engine 2.0</i> . <br><br><img src="https://habrastorage.org/getpro/habr/post_images/7eb/f7b/164/7ebf7b164b1f3e768775811c8eeb1121.jpg" alt="image"><br><br>  In the original <i>Call of Duty 4: Modern Warfare</i> , released in 2007 (after all, today we are dealing with its reboot), the engine was IW 3.0.  The game sold several times more than the first installment - less than a year after the release, it sold 10 million copies - and ranked one on sales with <i>Grand Theft Auto IV</i> and <i>Halo 3</i> (approximate sales of all parts of the series as of The end of 2015 can be found <a href="https://moneynation.com/how-much-money-has-every-call-of-duty-game-made/">here</a> ).  A post-game dedicated to the game was written by the leading designer and technical director of Infinity Ward and published in the Game Developer magazine - today it can be read <a href="https://www.gamasutra.com/view/news/258315/The_making_of_Call_of_Duty_4_Modern_Warfare.php">on Gamasutra</a> . <br><br>  In order to adjust the annual release of the new parts of Call of Duty, in the future, not only Infinity Ward itself, but also Treyarch, Sledgehammer Games and Raven Software were engaged in the development of new games of the series.  The next part of the series, <i>Call of Duty: World at War</i> , was developed by Treyarch, which made the fork of the engine and modernized it, and then used its version of IW 3.0 in the series Call of Duty: Black Ops (including last year‚Äôs Call of Duty: Black Ops 4).  In fact, in each of the following releases, individual engine modules were rewritten, however there were exceptions - for example, Sledgehammer for its <i>Call of Duty: Advanced Warfare</i> almost completely rewritten the code that they borrowed from the Modern Warfare 3 engine, although completely get rid of the ‚Äúlegacy‚Äù failed even to them.  From time to time, marketers of Activision tried to present the engine used in the next part of the game series as a new one - for example, as used in <i>Call of Duty: Infinite Warfare</i> IW Engine 7.0, which was the first studio engine designed for PlayStation 4 / Xbox One, and was based on the engine used in <i>Ghosts</i> , with the addition of innovations that appeared in <i>Advanced Warfare</i> . <br><br>  By the way, the developers of the new engine have already confirmed that their achievements will be transferred to Sledgehammer and Raven Games, so we can expect that <i>Call of Duty 2020</i> will look no worse than <i>Modern Warfare</i> . <br><br>  Enough to trace the changes in the engines will help <a href="https://en.wikipedia.org/wiki/IW_engine">Wikipedia</a> , as well as a <a href="http://c0de517e.blogspot.com/2016/08/a-retrospective-on-call-of-duty.html">post devoted to the analysis of renderers</a> in various parts of Call of Duty up to Infinity Warfare. </div><p>Source: <a href="https://habr.com/ru/post/454492/">https://habr.com/ru/post/454492/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../454482/index.html">Bitter AI Industry Lesson</a></li>
<li><a href="../454486/index.html">Common Lisp tragedy: why popular languages ‚Äã‚Äãswell in complexity</a></li>
<li><a href="../454488/index.html">Electronic state of the future</a></li>
<li><a href="../45449/index.html">Opera mini Mod</a></li>
<li><a href="../454490/index.html">Priority Questions: Nyquist, Shannon or Kotelnikov?</a></li>
<li><a href="../454498/index.html">The task with asterisks: we collect the electroweek on the example of Twitter Mantis-E0</a></li>
<li><a href="../4545/index.html">Golden Telecom will start making money on Wi-Fi in January 2007</a></li>
<li><a href="../454500/index.html">Douglas Engelbart: "Augmenting Human Intellect: A Conceptual Framework" (step 2)</a></li>
<li><a href="../454504/index.html">Why a programmer should understand finance</a></li>
<li><a href="../454506/index.html">Entropic - the new distributed package registry for Node.js</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>