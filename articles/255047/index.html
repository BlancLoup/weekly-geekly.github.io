<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>We collect your own smartphone</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="This guide describes, from start to finish, the construction of your own smartphone. It starts with printing on the 3D printer of the case, then the p...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>We collect your own smartphone</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/files/dd4/0a5/07a/dd40a507a23b413a9bc85cdd0b6b6290.jpg"><br><br>  This guide describes, from start to finish, the construction of your own smartphone.  It starts with printing on the 3D printer of the case, then the printed circuit boards are soldered, the whole thing is assembled, and, finally, the mobile operating system is installed on the smartphone, and using the Python programming language, it becomes your personal.  You can read more about this project at the <a href="http://hackaday.io/project/5083">link</a> . <br><br>  Required skills: <br>  - basic soldering skills; <br>  - familiarity with the Raspberry Pi. <br>  Or: <br>  - A lot of free time and patience. <br><a name="habracut"></a>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <img src="https://habrastorage.org/files/fb4/6f5/44b/fb46f544bc0940afbac1d56e44b1c5e6.jpg"><br><br><img src="https://habrastorage.org/files/4da/a50/e4b/4daa50e4b16a4093aea07dfd8402987b.jpg"><br><br><iframe width="560" height="315" src="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://www.youtube.com/embed/H2AY7ciEJvo%3Ffeature%3Doembed&amp;xid=17259,15700021,15700186,15700190,15700253&amp;usg=ALkJrhiDlJUrRfpFx3GpzMni6DAOLj0HiA" frameborder="0" allowfullscreen=""></iframe><br><br>  <b>Step 1: Collect the necessary materials</b> <br><br><img src="https://habrastorage.org/files/483/283/8f8/4832838f870047f89a70c34cc9c2779a.jpg"><br><br>  Before we begin, let's order all the components we need.  So, you will need the following electronic components and printed circuit boards (in Russia, components can be purchased, for example, in <a href="http://electronshik.ru/">such stores</a> ): <br>  1. <a href="http://www.amazon.com/Raspberry-Pi-Model-A-256MB/dp/B00PEX05TO/ref%3Dsr_1_1%3Fie%3DUTF8%26qid%3D1426789594%26sr%3D8-1%26keywords%3DRaspberry%2Bpi%2Ba%252B">Raspberry Pi A + 256MB</a> <br>  2. <a href="https://www.adafruit.com/product/1946">GSM module Adafruit FONA uFL Version</a> <br>  3. <a href="https://www.adafruit.com/product/2097">3.5 'PiTFT touch screen</a> <br>  4. <a href="http://www.amazon.com/Raspberry-5MP-Camera-Board-Module/dp/B00E1GGE40/ref%3Dsr_1_1%3Fie%3DUTF8%26qid%3D1426789794%26sr%3D8-1%26keywords%3Draspberry%2Bpi%2Bcamera">Raspberry Pi Camera 5MP</a> <br>  5. <a href="https://www.adafruit.com/product/1903">Powerboost 500 Basic Converter</a> <br>  6. <a href="https://www.adafruit.com/product/1991">GSM antenna</a> <br>  7. <a href="https://www.adafruit.com/products/1890">1B 8 Ohm speaker</a> <br>  8. <a href="http://www.amazon.com/Edimax-EW-7811Un-150Mbps-Raspberry-Supports/dp/B003MTTJOY/ref%3Dsr_1_1%3Fs%3Dpc%26ie%3DUTF8%26qid%3D1426790149%26sr%3D1-1%26keywords%3Dwifi%2Badapter">USB adapter - Wifi</a> <br>  9. <a href="https://www.adafruit.com/product/1935">electret microphone</a> <br>  10. <a href="https://www.adafruit.com/product/258">1200mA lithium ion battery</a> <br>  11. 4-40 x 3/8 'screws <br>  12. M2.5 x 5mm screws <br>  13. M2.5 x 20mm screws <br>  14. M2 x 5mm screws <br>  15. <a href="https://www.adafruit.com/product/258">slide switch</a> <br>  16. wires <br><br>  In the meantime, you are waiting for delivery of the order with all of the above, you can print the case. <br><br>  <b>Step 2: Print the body on a 3D printer</b> <br><br><img src="https://habrastorage.org/files/d14/75c/41a/d1475c41a55b459c938205f1c052e442.jpg"><br><br>  The case of the smartphone consists of two parts printed on a 3D printer: the top and bottom (or front and back, it looks like it look).  You can download .stl files from the <a href="http://www.thingiverse.com/thing:752746">thingiverse</a> resource.  Well, if you do not have a 3D printer, you can order the printing of any company that provides such services (for example, Shapeways).  And yes, if you want to make the body more personalized design, you can download the project for Solidworks from my page on <a href="https://github.com/spadgenske/tyfone">github</a> . <br><br>  <b>Step 3: Main build</b> <br><br><img src="https://habrastorage.org/files/f51/e76/585/f51e76585be846a68b78bc006304dd5c.jpg"><br><br><img src="https://habrastorage.org/files/b7b/85e/d8d/b7b85ed8d436466d8af84aba98cf1e52.jpg"><br><br>  Now let's put everything together.  The diagram shows the Raspberry Pi.  Instead of connecting directly to it, connect the wire to pin 26 on the PiTFT.  Now further. <br><br>  1. Connect the ‚Äúbat‚Äù contact on the GSM module (Adafruit FONA) to the same contact on the converter (PowerBoost). <br>  2. Solder the wire from the GND terminal (ground) on the GSM module to the same terminal on the converter. <br>  3. Solder the wire from the GND terminal on the converter to one of the half-switch switches. <br>  4. Also connect the GND pin from the transducer to the ‚Äúground‚Äù of the PiTFT display (The same pinout of the first 26 pins, like that of the Raspberry Pi, note that the arrow and ‚Äú1‚Äù denote the first contact). <br>  5. Connect the 5V line from the transmitter to the 5V line of the display. <br>  6. Solder the wire from the center contact of the slide switch to the ‚ÄúEN‚Äù (Enabled) contact on the converter. <br>  7. Solder the wire from the ‚ÄúKEY‚Äù pin on the GSM module to pin 12 (GPIO 18) on the display. <br>  8. Place the display over the Raspberry Pi. <br>  9. Recheck all connections! <br><br>  <b>ATTENTION: While being tested, make sure that the 5V micro USB connector is not connected.</b>  <b>The Raspberry Pi is already battery powered.</b> <br><br>  If you switch the slide switch, the LEDs on the converter should light up and the Raspberry Pi should turn on.  The display light should also turn on.  If you have configured to send a picture to the display on the Raspberry Pi SD card, then it should be displayed on it.  Otherwise, the display will just turn white, which at the moment will also go.  Most likely, the LEDs on the GSM module will not light up.  To turn it on, hold the power button on it for a couple of seconds.  Or, send a signal to the GPIO 18 connector on the Raspberry Pi during the same time.  If you managed to power the Raspberry Pi, the display and the GSM module from the battery, it's time to move on to the next step. <br><br>  <b>Step 4: Final Build</b> <br><br><img src="https://habrastorage.org/files/4b2/10a/9dd/4b210a9ddd9c411c9883904a254f71dd.jpg"><br><br>  After we connected the power, you can complete the connection of the modules to the Raspberry Pi, as well as connect the speaker and microphone.  Let's start. <br>  1. Solder the ‚Äúspk +‚Äù speaker contact (8 ohms) to the ‚Äúspk -‚Äù contact on the GSM module.  Polarity does not matter. <br>  2. Solder the red microphone wire to the Mic + contact on the GSM module. <br>  3. Solder the microphone's black wire to the Mic pin on the GSM module. <br>  4. Connect the ‚ÄúRI‚Äù contact (Call indicator) on the GSM module to contact 7 (GPIO 4) on the display. <br>  5. Connect the TX on the GSM module to pin 10 (RX) on the display. <br>  6. Solder the GSM RX module to pin 8 (TX) on the display. <br>  7. Connect Vio and bat on the GSM module.  If desired, you can use the 3v3 line on the Raspberry Pi. <br>  8. Attach the uFL antenna to the uFL connector on the GSM module. <br>  9. Recheck all connections! <br><br>  If you try to turn everything on now, the device behavior should be the same as in the previous step.  In the next step, we will install a SIM card in the GSM module, which will allow the device to contact the cellular network. <br><br>  <b>Step 5: Install SIM Card</b> <br><br><img src="https://habrastorage.org/files/843/e37/d95/843e37d952594ce89f94fedb49c2fc98.jpg"><br><br>  Now that the module connection is complete, you can install a SIM card so that the GSM module can communicate with the cellular network.  This module uses 2G networks for data transfer, such as T-Mobile.  Please note that the module does not work with 3G and 4G networks.  AT &amp; T plans to disable support for 2G networks by 2016, so we will use the T-Mobile SIM card.  This GSM module uses a standard format SIM card, so micro or nano SIM cards will not go here.  Activate the card according to the operator‚Äôs instructions.  Then install the SIM card in the GSM module and turn it on.  If the red LED of the module blinks every 3 seconds, then it is connected to the cellular network!  In the next step, we will install the software so that the Raspberry Pi can communicate with the GSM module. <br><br>  <b>Step 6: Install an SD Card</b> <br><br><img src="https://habrastorage.org/files/1ed/e42/5c8/1ede425c88c04fe897faf69c2423c165.jpg"><br><br>  Now that all the hardware has been collected, you can proceed to setting up the interaction of the Raspberry Pi with all this equipment.  Start with the latest PiTFT OS firmware on the Raspberry Pi SD card.  <a href="">Click here to download</a> .  When the SD card is ready, install it in the Raspberry Pi and turn it on.  You will need the raspi-config utility.  Here are a few things you need to customize: <br>  1. Expand the file system. <br>  2. Enable camera support. <br>  3. Turn off the serial port.  So Raspberry Pi will be able to communicate with the GSM module. <br>  4. Enable ssh.  This is important because the Raspberry Pi A + has only a USB port. <br><br>  Finish the installation and restart Raspberry Pi. <br>  Write startx and Raspberry Pi will launch LXDE on the display.  To enter via HDMI, type: <br><br><pre><code class="bash hljs">FRAMEBUFFER=/dev/fb0 startx</code> </pre> <br><br>  <b>Step 7: Install Wifi</b> <br><br><img src="https://habrastorage.org/files/6fe/2d8/1fb/6fe2d81fb0eb46e787ec60b35762188d.jpg"><br><br>  Your phone does not have a keyboard, so to access the device via the console, you need to install wifi to connect via ssh.  Connect the Wifi adapter to the computer and configure the connection via Wifi Config.  Turn off the Raspberry Pi and connect the Wifi adapter to it.  If you still cannot connect to the Raspberry Pi via ssh, try using a USB hub.  More information on configuring Wifi can be found <a href="http://www.raspberrypi.org/documentation/configuration/wireless/">here</a> . <br><br>  <b>Step 8: Final Software Preparation</b> <br><br>  <b>GSM module testing</b> <br><br>  To test the GSM module, install minicom with the command: <br><br><pre> <code class="bash hljs">sudo apt-get install minicom</code> </pre> <br><br>  Then run: <br><br><pre> <code class="bash hljs">sudo minicom -D /dev/ttyAMA0 -b 9600</code> </pre> <br><br>  The terminal should open for interaction with devices via com-port.  If you write: <br><br><pre> <code class="bash hljs">AT</code> </pre> <br><br>  in response should receive "OK".  If not received, then check all connections.  If received, then the GSM module is ready for operation. <br><br>  <b>Screen rotation</b> <br><br>  You may have noticed that the text on the screen is shown sideways, and not guided by the position of the phone.  Let's change this with the command: <br><br><pre> <code class="bash hljs">sudo nano /etc/modprobe.d/adafruit.conf</code> </pre> <br><br>  Change the value of the "rotate" parameter to 180 in the file. <br><br>  Finally, to add LXDE to autoload, follow the description in the <a href="https://learn.adafruit.com/adafruit-pitft-28-inch-resistive-touchscreen-display-raspberry-pi/extras">instructions</a> . <br><br>  <b>Installing camera software</b> <br><br>  Now let's install the software that helps to take a photo with a Raspberry Pi camera.  To get started, write: <br><br><pre> <code class="bash hljs">sudo apt-get install python-pip</code> </pre> <br><br>  Camera installation: <br><br><pre> <code class="bash hljs">sudo pip install picamera=0.8</code> </pre> <br><br>  Finally, download the software: <br><br><pre> <code class="bash hljs">git <span class="hljs-built_in"><span class="hljs-built_in">clone</span></span> https://github.com/spadgenske/adafruit-pi-cam</code> </pre> <br><br>  <b>Step 9: Install TYOS</b> <br><br><img src="https://habrastorage.org/files/66b/524/aa3/66b524aa36b042e2bb41cb5d28f6029a.jpg"><br><br>  TYOS is an operating system for mobile devices (Technically, a modified version of Raspbian is an operating system, and TYOS is only a graphical shell), enabling the phone to send and receive sms messages, as well as make calls.  In the console write: <br><br><pre> <code class="bash hljs">wget https://github.com/spadgenske/TYOS/archive/0.1.0.zip</code> </pre> <br><br>  Unpack the archive: <br><br><pre> <code class="bash hljs">unzip 0.1.0.zip</code> </pre> <br><br>  To run TYOS write: <br><br><pre> <code class="bash hljs">sudo python /home/pi/tyos/src/main.py</code> </pre> <br><br>  When TYOS starts, make sure that everything works by sending sms and making a call.  When you make sure everything is in order, you can set TYOS to autoload. <br><br>  Write <br><br><pre> <code class="bash hljs">sudo nano /etc/rc.local</code> </pre> <br><br>  to open the configuration file.  At the bottom, after the text and before the line ‚Äúexit 0‚Äù, add the following text: <br><br><pre> <code class="bash hljs">sudo python /home/pi/tyos/src/main.py --power</code> </pre> <br><br>  Now restart the Raspberry Pi.  TYOS should start when the device boots! <br><br>  <b>Step 10: Putting It All Together</b> <br><br><img src="https://habrastorage.org/files/e5f/5b9/00c/e5f5b900c77f4afbb46aca74f99b15ac.jpg"><br><br><img src="https://habrastorage.org/files/743/bee/fbf/743beefbfa494052a0a949fb54790602.jpg"><br><br>  Now you can safely pack everything into the case. <br>  1. Using hot glue, stick the microphone and speaker into the connectors for them. <br>  2. Using M2 screws, fasten the camera.  You will need to connect a camera and a Raspberry Pi with a ribbon cable, so position it appropriately. <br>  3. Using the M2.5 screws, fasten the Raspberry Pi along with the installed SD card and Wifi adapter to the bottom of the case. <br>  4. Attach the camera ribbon cable to the Raspberry Pi. <br>  5. Also using M2.5 screws, fasten the GSM module with the SIM card into the case. <br>  6. When laying the wire, make sure that they do not interfere with any other electronics. <br>  7. Wrap the transducer with tape to avoid a short circuit. <br>  8. Place the converter and battery between the Raspberry Pi and the display. <br>  9. Using hot glue, glue the slide switch to the connector for the top of the case. <br>  10. Using screws 4-40, connect the top and bottom of the case together. <br>  11. Check all connections. <br><br>  My congratulations!  You have just collected your own smartphone!  If you don‚Äôt like a phone called ‚Äútyfone‚Äù, you can change the logo in /home/pi/tyos/graphics/logo.png to whatever you want. </div><p>Source: <a href="https://habr.com/ru/post/255047/">https://habr.com/ru/post/255047/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../255033/index.html">What is under the hood of a dynamic magnetic strip?</a></li>
<li><a href="../255037/index.html">We start CloudLITE.ru cloud resource store</a></li>
<li><a href="../255039/index.html">Payler: PCI DSS Certification Update Updated to Version 3.0 - DONE</a></li>
<li><a href="../255043/index.html">Type casting on Go</a></li>
<li><a href="../255045/index.html">.NET development: switching between DEV and PROD environments. Part one</a></li>
<li><a href="../255049/index.html">Life hacking: How to combine two different commands in the Slack messenger</a></li>
<li><a href="../255051/index.html">Search for images in Android using Flickr</a></li>
<li><a href="../255053/index.html">MOOC Video Studio</a></li>
<li><a href="../255055/index.html">How I decided to go to game dev</a></li>
<li><a href="../255057/index.html">Kama Sutra with Worksheet and Range objects in Excel</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>