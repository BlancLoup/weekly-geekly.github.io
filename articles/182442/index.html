<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Gentle introduction to Coq: the beginning</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Foreword 
 It's no secret that mistakes in programs can lead to sad consequences. History knows many cases where overflowing a counter or an unhandled...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Gentle introduction to Coq: the beginning</h1><div class="post__text post__text-html js-mediator-article"><h4>  Foreword </h4><br>  It's no secret that mistakes in programs can lead to sad consequences.  History knows many cases where overflowing a counter or an unhandled exception resulted in high material costs and human losses.  For example, on June 4, 1996, the European launch vehicle Ariane 5 literally fell apart on the 39th second of flight.  An analysis of the incident revealed that the accident was due to a software error.  The damage amounted to about $ 7 billion. In February 1991, the Patriot missile missed the target due to a rounding error, managed to fly an extra 500 meters.  Damage: 28 dead and more than a hundred wounded.  This kind of errors are found in the hardware.  A recent bug in Pentium processors, due to the wrong division of floating-point numbers, forced Intel to replace the defective chips.  This mistake cost the company $ 475 million. <br><a name="habracut"></a><br>  When designing hardware or software with increased reliability requirements, formal verification is widely used - a formal proof of the conformity of the subject of verification to its formal description.  The subject here can be algorithms, digital circuits, HDL hardware descriptions, etc. <br><br>  The formal verification procedure is quite a long and routine exercise.  Therefore, it is not justified in all cases.  Ordinary testing is also suitable for everyday applications.  Here we must understand that testing can not prove the absence of errors in the program and its compliance with the formal description. <br><br>  Of course, not all statements can be proved automatically.  In such cases, proof checking systems (proof checker, proof assistant) come to the rescue, one of which is Coq. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h4>  Introduction </h4><br>  Coq is an interactive shell for proving theorems that uses its own functional programming language with dependent types - Gallina.  It was invented and implemented by the staff of the French Institute INRIA in the mid-80s.  Coq is currently available for GNU / Linux, Windows and MacOS.  Source codes are distributed under the terms of the license LGPL v.2. <br><br>  There are several ways to work with Coq: in the console in interactive mode, in graphic mode in CoqIDE or in Emacs using the Proof General plugin. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/60d/88f/af4/60d88faf456a3b0824c65e3e4c2c1765.jpg" alt="image"><br><br>  So, Coq is installed and ready to go.  Let's try to write something! <br><br>  There are no built-in batteries in the Coq language - neither logical values ‚Äã‚Äãnor numbers (in fact, there is a standard library with many useful definitions and lemmas, but for academic purposes, we assume that there is nothing like this).  Instead, Coq provides powerful tools for defining new data types and functions that operate and transform these types.  Consider a specific example: <br><br><pre> Inductive day: Type: =
   |  monday: day
   |  tuesday: day
   |  wednesday: day
   |  thursday: day
   |  friday: day
   |  saturday: day
   |  sunday: day.
</pre><br>  With this declaration, we tell Coq that we want to define a new set of data values ‚Äã‚Äã‚Äî a type.  This type is named <code>day</code> , and the values ‚Äã‚Äãof this type are <code>monday</code> , <code>tuesday</code> and so on. Now we can write a function over <code>day</code> values.  We write a function that calculates the next working day: <br><br><pre> Definition next_weekday (d: day): day: =
   match d with
   |  monday =&gt; tuesday
   |  tuesday =&gt; wednesday
   |  wednesday =&gt; thursday
   |  thursday =&gt; friday
   |  friday =&gt; monday
   |  saturday =&gt; monday
   |  sunday =&gt; monday
   end.
</pre><br>  In Coq, there is type inference, pattern matching, and other things inherent in functional programming languages. <br><br>  Once we have defined the function, it's time to test its performance with a few examples.  First, we can use the <code>Eval simpl</code> : <br><br><pre> Eval simpl in (next_weekday friday).
    (* ==&gt; monday: day *)
 Eval simpl in (next_weekday (next_weekday saturday)).
    (* ==&gt; tuesday: day *)
</pre><br>  Secondly, we can explicitly specify the expected result and instruct Coq to check it: <br><br><pre> Example test_next_weekday:
   (next_weekday (next_weekday saturday)) = tuesday.
 Proof.  simpl.  reflexivity.  Qed.
</pre><br>  When working in CoqIDE, it is convenient to use step-by-step program execution to see intermediate results: <br><img src="https://habrastorage.org/getpro/habr/post_images/efc/9c8/0d9/efc9c80d964bdec57bbaf17e4c1926bb.png" alt="image"><br><br>  The third way is to extract the definition into some programming language (OCaml, Scheme or Haskell).  This is one of the main features of the Coq system, for which everything was developed: <br><br><pre> Extraction Language Ocaml.
 Extraction "/tmp/day.ml" next_weekday.
</pre><br>  Here is the result of the extraction of our function in OCaml: <br><br><pre> type day =
 |  Monday
 |  Tuesday
 |  Wednesday
 |  Thursday
 |  Friday
 |  Saturday
 |  Sunday

 (** val next_weekday: day -&gt; day **)

 let next_weekday = function
 |  Monday -&gt; Tuesday
 |  Tuesday -&gt; Wednesday
 |  Wednesday -&gt; Thursday
 |  Thursday -&gt; Friday
 |  _ -&gt; Monday
</pre><br><h4>  Conclusion </h4><br>  In the following sections, we will look at ways to define recursive functions and work with the main tactics of evidence. <br><br>  Recommended reading: <br><ol><li>  <a href="http://www.cis.upenn.edu/~bcpierce/sf/">Software foundations</a> </li><li>  <a href="http://adam.chlipala.net/cpdt/">Certified Programming with Dependent Types</a> </li></ol><br><br>  <a href="http://habrahabr.ru/post/182748/">The next part</a> . </div><p>Source: <a href="https://habr.com/ru/post/182442/">https://habr.com/ru/post/182442/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../182430/index.html">Nuances of using APIs from AddThis and Ya.share</a></li>
<li><a href="../182432/index.html">Programming, fast and slow: the developers and the psychology of self-confidence</a></li>
<li><a href="../182434/index.html">Physicists have learned how to lose in diffraction pockets up to 46% of traffic</a></li>
<li><a href="../182438/index.html">Customize standard IOS icons without JailBreak</a></li>
<li><a href="../182440/index.html">Computex 2013: Cover InkCase with a second screen on the E Ink</a></li>
<li><a href="../182444/index.html">Overview of the mobile application Pronto for the Android platform</a></li>
<li><a href="../182450/index.html">The Washington Post: NSA Collects Data Directly from Google, Facebook, Microsoft and Apple Servers</a></li>
<li><a href="../182454/index.html">WTF QR CODE</a></li>
<li><a href="../182458/index.html">I once said ...</a></li>
<li><a href="../182462/index.html">DMITROBOT - the second open tournament in robotics</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>