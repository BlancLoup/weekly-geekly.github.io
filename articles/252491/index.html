<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>TLS in HTTP / 2</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="I wrote a review of ‚Äúhttp2 explained‚Äù and made some presentations on HTTP / 2. After I received a lot of questions about the TLS and HTTP / 2 bundle, ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>TLS in HTTP / 2</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/getpro/habr/post_images/47b/13d/895/47b13d895fc8ffa993dbc94c26083ae3.jpg" alt="image"><br><br>  I wrote a review of ‚Äúhttp2 explained‚Äù and made some presentations on HTTP / 2.  After I received a lot of questions about the TLS and HTTP / 2 bundle, so I would like to answer some of them in this article. <br><br><h4>  TLS is optional </h4><br>  In the approved HTTP / 2 specification, which will soon become the official RFC, there is nothing about the mandatory use of TLS.  On the contrary, it tells you how to transmit TCP plaintext data, and how - through TLS. <br><a name="habracut"></a><br><h4>  In fact, TLS will always be used. </h4><br>  Despite the previous paragraph, the representatives of the developers of Firefox and Chrome announced that they will implement support for HTTP / 2 only through TLS.  Therefore, HTTP / 2 will be supported only for URLs like HTTPS: //.  IE developers said that they will implement TCP support, but in their technological preview, Windows 10 browser only supported HTTP / 2 via TLS.  Most existing servers support HTTP / 2 via TLS 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      You need to understand the difference between what the specification permits and what is actually supported by browsers. <br><br>  If you are developing a server for HTTP / 2, then, in general, you will have to implement it for HTTPS so that you have some users.  A non-encrypted implementation will not be tested particularly hard ... <br><br>  Of course, not only browsers can be agents, but their share will surpass all others. <br><br><h4>  Stricter TLS implementation </h4><br>  When describing HTTP / 2 via TLS, the specification places more stringent requirements than those made for HTTP 1.1 via TLS.  For example, TLS must be at least version 1.2.  The specification prohibits compression and renegotiation.  Defines the minimum possible key sizes.  Simply put, HTTP / 2 will use a more secure version of TLS. <br><br>  Among other things, the specification requires ALPN support ‚Äî a relatively new TLS extension, RFC 7301, which helps identify the new HTTP version without losing time or sending unnecessary packets. <br><br><h4>  Binding TLS encourages HTTPS </h4><br>  Since browsers will only use HTTP / 2 through TLS, sites will have to accept users via HTTPS.  This is a slight pressure on site owners to start providing HTTPS.  More people switch to secure connections. <br><br>  I believe that this is good and right - and everyone who cares about users and their right to privacy, and the right to avoid mass surveillance, also think so. <br><br><h4>  Why not make TLS mandatory? </h4><br>  When creating the specification, we did not reach agreement on the binding nature of this protocol.  Many were against.  Prior to this, TLS has never been mandatory. <br><br>  People explained their objections in different ways. <br><br><h5>  1. Possible need for traffic tracking </h5><br>  Some say that sometimes you need to track traffic.  Prisons, schools, antivirus programs, copyright protection, legal requirements, etc.  In addition, sometimes caching is necessary - you cannot make a decently working Internet on an airplane or via satellite, etc.  without caching, which means no traffic interception. <br><br>  Of course, the MITM proxies, which are embedded in SSL traffic, are still encountered, so HTTP / 2 can do little in terms of restricting such mechanisms. <br><br><h5>  2. Remember the kids </h5><br>  "Miniature devices will not be able to cope with the additional load in the form of encryption."  Either because of the load on the CPU, or because of the need to process a bunch of certificates, which are also periodically outdated. <br><br><h5>  3. Certificates are expensive </h5><br>  The cost of certificates has always been cited as an argument against TLS - even without any relation to HTTP / 2.  There are already CAs that offer free or low-cost network certificates, and in the future, initiatives like letsencrypt.com will make life even easier. <br><br><h5>  4. CA system not working </h5><br>  Today, TLS requires a public key infrastructure, where there are organizations that sign certificates.  As a result, browsers trust several hundreds of organizations.  I don‚Äôt think everyone likes it, and that it‚Äôs the best security solution.  Some people think that this problem should be solved through DANE (DNSSEC), others work on patches like Certificate Transparency OCSP. <br><br>  Personally, I think that rejecting TLS because it is not perfect is a weak argument.  We do not have the best ways to secure sites than TLS and HTTPS.  I don‚Äôt mind improving these methods, but don‚Äôt do everything now via unprotected channels, until we come up with the next, better generation of protocols that will replace TLS. <br><br><h4>  What about opportunistic security? </h4><br>  In the IETF, work is now underway to introduce such an opportunity into the protocols.  It was also included in the HTTP / 2 draft, although later we removed it from there for simplicity.  In any case, it is not required to enter the main specification.  In addition, not all consider this possibility a good idea. <br><br>  Security is currently being developed for HTTP where possible beyond the HTTP / 2 specification whenever possible.  It allows the client to upgrade the normal TCP connection to "unauthorized TLS".  Yes, and of course, it is not necessary to designate such a connection as safe - no ‚Äúlock icons‚Äù or other security indicator should be shown. <br><br>  Firefox will include support for such connections for HTTP by default, starting with version 37. </div><p>Source: <a href="https://habr.com/ru/post/252491/">https://habr.com/ru/post/252491/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../252473/index.html">Adapt BDD for development on 1C together with cucumber and 1Script</a></li>
<li><a href="../252475/index.html">Personal data of users of Rozetka.ua in public access</a></li>
<li><a href="../252481/index.html">Wi-Fi thermometer on the ESP8266 + DS18B20 for only $ 4</a></li>
<li><a href="../252483/index.html">9 facts that programmers know and do not know everything else</a></li>
<li><a href="../252489/index.html">PHPUnit: spreadsheet (spreadsheet) as a data source (data provider)</a></li>
<li><a href="../252493/index.html">How to embed static analysis in a project with more than 10 megabytes of source code?</a></li>
<li><a href="../252495/index.html">Making another joystick (gamepad) on the Arduino</a></li>
<li><a href="../252497/index.html">DevCon 2015: announcement of the second wave of speakers and conference reports</a></li>
<li><a href="../252499/index.html">The digest of interesting materials from the world of web development and IT for the last week ‚Ññ150 (March 2 - 8, 2015)</a></li>
<li><a href="../252501/index.html">About one trick to return an error code from a function</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>