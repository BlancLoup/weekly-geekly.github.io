<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Hyper-V - a child of marketing or a real alternative?</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hi, Habr! Now I will ask you a question, and you think: What, which is very popular and once thrill to you personally, today is remembered only for ‚Äúp...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Hyper-V - a child of marketing or a real alternative?</h1><div class="post__text post__text-html js-mediator-article">  Hi, Habr!  Now I will ask you a question, and you think: What, which is very popular and once thrill to you personally, today is remembered only for ‚Äúponozhalgirovat‚Äù?  Surely, someone will remember Dendy or Super Nintendo, and some of their pager.  So, why am I ... There is an expression "nothing lasts forever."  In today's article, we‚Äôll see if this is really the case in development and should we abandon VMWare in favor of Hyper-V in the matter of virtualization?  We will also touch on the advantages of both platforms and the process of transition from one to another.  Look under the cat! <br><br><img src="https://habrastorage.org/webt/2j/c5/vz/2jc5vz3xi84j_fxrqpc_-bx6r_s.jpeg"><a name="habracut"></a><br><br>  I give the word to the author. <br><blockquote><h4>  Disclaimer: </h4><br><ol><li>  This article is informative in nature and does not pursue the desire to pohaypit, but simply the desire to share their story, which may be useful to someone.  Some things are purely individual, and judgments are personal. </li><li>  No, I did not sell MS.  I have just been looking for articles of such a plan as food for thought for a long time, but they were not there.  I had to do it myself. </li><li>  Blog MS - I do not have invite, and comrades liked the idea of ‚Äã‚Äãthe article, and they offered to post it. </li><li>  There will be no PR product, there will be a story about live testing / implementation. </li></ol></blockquote><br><div class="spoiler">  <b class="spoiler_title">Lyrical digression</b> <div class="spoiler_text">  We live in an amazing time.  And, perhaps, in a terrible, depending on which side to look.  Now it is possible that literally 20 years ago I read in science fiction books: the future came in 200‚Äì500‚Äì1000 years.  Flights to other planets, going beyond our solar system, ‚Äúblooming apple trees on Mars‚Äù - all this seemed far away and unrealizable. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      And now we have (well, practically) a cosmic nuclear engine, a plan to fly to Mars in 2024 and a satellite outside our solar system. <br><br>  So, actually, what am I leading to.  This is me to the fact that all this was made possible thanks to (or despite) the rapidly developing computer technologies.  Let's talk about one of these technologies now. </div></div><br><h2>  Epigraph </h2><br>  There was one company.  Neither big nor small, neither high nor low.  Such a straight poured out medium-sized business.  She lived to herself with several racks of equipment, old, from the mother of the inherited.  And the time has come to update this whole economy.  The comrades considered the cost of equipment, thought, and decided to implement virtualization.  And the year was a long-standing one; of the representatives of the glorious kind of universal virtualizations, only VMWare was.  In general, it and implemented.  Time passed, tasks changed, other representatives of the glorious kind of virtualization grew.  And the time has come to choose your representative again ... <br><br><h2>  The main question of an IT professional is ‚ÄúWhy?‚Äù <br>  (or "What for?") </h2><br>  Let me introduce myself.  My name is Anton and I manage the department of infrastructure solutions in one of the major Russian retailers.  As in any self-respecting organization, we use virtualization and, of course, our ‚Äúbeloved‚Äù 1C.  We implemented VMware for a long time, we lived with it, in principle, not bad (although the stories of gray hair that added to me are also enough), but, like with any development, we occasionally have to look around to learn about alternative solutions. <br><br>  And our transition story began with the fact that I saw Hyper-V in one corner with VMware in the Gartner quadrant.  It was then that I became thoughtful.  As a result of the deliberation, it turned out that such a sign was ‚Äúfor / against‚Äù the transition.  And also the famous VMware jambs with CBT ... Right down the hook.  Yes, and twice in two different releases.  Straight fire! <br><br><div class="spoiler">  <b class="spoiler_title">Minute HYIP</b> <div class="spoiler_text">  Here the joke is remembered: <br><br>  ‚ÄúHow to know that a man is an ardent vegan.  No  He will tell you about it. " <br>  So it is here - how to recognize an ardent Krasnoglazik.  No  He will tell you that Linux is God's grace, and Windows is a creature of the prince of darkness. <br><br>  Haters 2x354 immediately stand in a rack and, splashing fluids, will begin to tell how Microsoft updates break the hell out of the whole OS.  This is yes, I will not argue here, my friends have a love for such cheerful gifts.  But in general, the evolution process in my opinion at Microsoft is perfected.  The revolution is not theirs, but evolution is a horse.  And everyone chooses what is closer to him. <br></div></div><br>  Immediately make a reservation - the comparison of the ‚Äúby feature‚Äù was also, only in life no one ‚Äúin his right mind and strong memory‚Äù will build a cluster on the limit values.  Yes, and they actually look almost like twin brothers, and I don‚Äôt see a fundamental difference between how many hundreds of cores can be given to a single virtual machine. <br><br><div class="spoiler">  <b class="spoiler_title">Minute holivar</b> <div class="spoiler_text">  Why is VMware's ‚ÄúKiller feature‚Äù largely just marketing? <br><br>  Fault Tolerance.  Seriously?  Did you read the restrictions?  Do you really use it in production?  If yes, then I sincerely, humanly, feel sorry for you ... For all the time, I have never seen anyone really come in handy for this ... <br><br>  Forwarding USB and PCI devices.  Also a very controversial point.  These things deprive the virtual user of the main advantages of virtualization - free migration between hosts.  We used PCI probros, but as soon as we could refuse, we breathed a sigh of relief.  For USB probros, both software and hardware solutions have been invented and made long ago.  Much easier. <br><br>  Caching read data to local SSDs.  Yes, when I came out I was very happy about this opportunity.  But in reality, the increase was not seen even on synthetic data.  And in the work environment, I occasionally caught wild hangs of this system (I‚Äôm not saying here that the system‚Äôs fault ‚Äî perhaps it‚Äôs not my hands that were crooked).  And the cherry on the cake: this system caches only blocks of a certain size, and you have to spend a lot of time collecting information about the size of the disk request, thinking which virtual machine should be prioritized in using this technology. <br><br>  But Hyper-V has a regular opportunity to reduce the disk.  Do you know how many times I dreamed of this in VMware?  Much more than you can imagine. </div></div><br>  Yes, another moment.  Switching to another hypervisor is an individual solution, but here is my list of stop factors, in the presence of which, in my opinion, you definitely shouldn't switch to Hyper-V.  Well, or very carefully think things through and test. <br><br><ol><li>  You have a main OS on Linux servers. </li><li>  You need to run exotic. </li><li>  You need ready virtual servers from venders (I think it's just a matter of time). </li><li>  You do not like Microsoft. </li><li>  VMware you got for free with the equipment. </li></ol><br><h4>  Reflection plate </h4><table><tbody><tr><th align="center">  For the transition to Hyper-V </th><th align="center">  Against the transition to Hyper-V </th></tr><tr><td>  Reduce VMware license costs </td><td>  VMware Platform Fame </td></tr><tr><td>  On the basis of the same platform built Azure </td><td>  The size of the distribution (spoiler: Nano Server is not an analogue of esxi - it is a slightly different ideology and positioning) </td></tr><tr><td>  Interesting network virtualization </td><td>  Simple licensing scheme </td></tr><tr><td>  Replication on other virtualok storage systems using standard methods </td><td>  Support a large number of different operating systems </td></tr><tr><td>  Bonuses when buying a kit to build a virtualization (CIS set, which includes Windows Datacenter + System Center) </td><td>  VMware is already working </td></tr><tr><td>  Various buns when deploying Windows servers </td><td>  There is no support for the hypervisor as a separate product. </td></tr><tr><td>  You can shrink discs on the fly </td><td>  VDI can only be used here for labs / tests.  This is not suitable for production </td></tr><tr><td>  More operational support for newer versions of Windows </td><td>  Availability of interesting complete solutions for virtualization, when you buy hardware and software from one vendor, and you get one management console and one technical support window </td></tr><tr><td>  This is Microsoft </td><td>  This is Microsoft </td></tr></tbody></table><h2>  "Leap of faith" </h2><br>  I thought and wondered for a long time, but then the stars came together, and we updated the server park.  And the old ones remained, and not bad ones, only slow by today's standards and, moreover, morally obsolete.  And it was made a strategic decision to make a farm for development based on Hyper-V.  They dragged the server to the new site, updated all the server firmware and rushed. <br><br>  <b>The test plan was simple:</b> <br><br><ol><li>  We take the server. </li><li>  Install esxi on it.  We do not change anything, the default settings. </li><li>  We deploy a virtual machine. </li><li>  We perform tests 5 times: <br><br>  a) For 1C Gilev test. <br><br>  b) For SQL, write script. </li><li>  Customized by Best Practice's. </li><li>  We perform tests 5 times: <br><br>  a) For 1C Gilev test. <br><br>  b) For SQL, write script. </li><li>  Install Hyper-V.  We do not change anything, the default settings. </li><li>  We deploy a virtual machine. </li><li>  We perform tests 5 times: <br><br>  a) For 1C Gilev test. <br><br>  b) For SQL, write script. </li><li>  Customized by Best Practice's. </li><li>  We perform tests 5 times: <br><br>  a) For 1C Gilev test. <br><br>  b) For SQL, write script. </li><li>  We install on the Windows Server physical machine, set up according to Best Practice's and conduct tests. </li><li>  Compare and think. </li></ol><br>  <i>Hardware: Dell FC 630, 2 Intel Xeon E5-2643 v4 processor (purely for 1C), 512GB of memory.</i> <i><br></i>  <i>Drives: san-network based on Dell SC 200 with Read-Intensive SSD.</i> <br><br>  <b>We got the following results:</b> <br><table><tbody><tr><th align="center">  VMWare without Best Practices </th><th align="center">  Gilev test </th><th align="center">  SQL test </th></tr><tr><td align="center">  one </td><td align="center">  22.42 </td><td align="center">  12.2 </td></tr><tr><td align="center">  2 </td><td align="center">  18.6 </td><td align="center">  17.51 </td></tr><tr><td align="center">  3 </td><td align="center">  18.12 </td><td align="center">  7.12 </td></tr><tr><td align="center">  four </td><td align="center">  26.74 </td><td align="center">  7.18 </td></tr><tr><td align="center">  five </td><td align="center">  26.32 </td><td align="center">  4.22 </td></tr><tr><td align="center">  VMWare with Best Practices </td><td align="center">  Gilev test </td><td align="center">  SQL test </td></tr><tr><td align="center">  one </td><td align="center">  26.46 </td><td align="center">  4.28 </td></tr><tr><td align="center">  2 </td><td align="center">  26.6 </td><td align="center">  6.38 </td></tr><tr><td align="center">  3 </td><td align="center">  26.46 </td><td align="center">  4.22 </td></tr><tr><td align="center">  four </td><td align="center">  26.46 </td><td align="center">  6.56 </td></tr><tr><td align="center">  five </td><td align="center">  26.6 </td><td align="center">  4.2 </td></tr><tr><td align="center">  HyperV without Best Practices </td><td align="center">  Gilev test </td><td align="center">  SQL test </td></tr><tr><td align="center">  one </td><td align="center">  27.17 </td><td align="center">  4.32 </td></tr><tr><td align="center">  2 </td><td align="center">  26.46 </td><td align="center">  6.08 </td></tr><tr><td align="center">  3 </td><td align="center">  26.04 </td><td align="center">  4.24 </td></tr><tr><td align="center">  four </td><td align="center">  26.18 </td><td align="center">  5.58 </td></tr><tr><td align="center">  five </td><td align="center">  25.91 </td><td align="center">  6.01 </td></tr><tr><td align="center">  HyperV with Best Practices </td><td align="center">  Gilev test </td><td align="center">  SQL test </td></tr><tr><td align="center">  one </td><td align="center">  26.18 </td><td align="center">  6.02 </td></tr><tr><td align="center">  2 </td><td align="center">  27.62 </td><td align="center">  6.04 </td></tr><tr><td align="center">  3 </td><td align="center">  26.46 </td><td align="center">  6.2 </td></tr><tr><td align="center">  four </td><td align="center">  26.74 </td><td align="center">  4.23 </td></tr><tr><td align="center">  five </td><td align="center">  26.74 </td><td align="center">  6.02 </td></tr><tr><td align="center">  Physics </td><td align="center">  Gilev test </td><td align="center">  SQL test </td></tr><tr><td align="center">  one </td><td align="center">  35.97 </td><td align="center">  4.06 </td></tr><tr><td align="center">  2 </td><td align="center">  32.47 </td><td align="center">  4.04 </td></tr><tr><td align="center">  3 </td><td align="center">  31.85 </td><td align="center">  6.14 </td></tr><tr><td align="center">  four </td><td align="center">  32.47 </td><td align="center">  5.55 </td></tr><tr><td align="center">  five </td><td align="center">  32.89 </td><td align="center">  5.43 </td></tr></tbody></table><h4>  Legend </h4><br>  Gilev's test - more means better, abstract ‚Äúparrots‚Äù. <br><br>  SQL test - less means better execution time. <br><br>  <b>What set up:</b> <br><br>  <b>1. Steps to prepare the host DELL Poweredge 630.</b> <br><br>  1.1.  <a href="http://en.community.dell.com/techcenter/virtualization/w/wiki/3033.dell-vmware-vsphere-performance-best-practices">We adjust a</a> host according to recommendations from DELL <br><br>  1.1.1.  Enable Processor Settings -&gt; Virtualization Technology - enabled. <br><br>  1.1.2.  Enable Processor Settings -&gt; Logical Processor - enabled. <br><br>  1.1.3.  Enable System Profile Settings -&gt; Turbo Boost (in Turbo Mode documentation) - enabled. <br><br>  1.1.4.  Disable Memory Setting -&gt; Node Interleaving (includes NUMA) - disabled. <br><br>  1.1.5.  Enable Power Management -&gt; Maximum Performance - seems to be enabled. <br><br>  1.1.6.  Disable unnecessary devices in Integrated Devices - did not touch. <br><br>  1.1.7.  Disable System Profile Settings -&gt; 1E - disabled. <br><br>  1.1.8.  Enable Processor Settings -&gt; Hardware Prefetcher - enabled. <br><br>  1.1.9.  Enable Processor Settings -&gt; Adjacent Cache Line Prefetch - enabled. <br><br>  1.1.10.  Enable Processor Settings -&gt; DCU Streamer Prefetcher - enabled. <br><br>  1.1.11.  Enable Processor Settings -&gt; Data Reuse - not found. <br><br>  1.1.12.  Enable Processor Settings -&gt; DRAM Prefetcher - not found. <br><br>  1.2 <a href="http://en.community.dell.com/techcenter/extras/m/white_papers/2043800">Configure the</a> host by recommendation <br><br>  1.2.1 Configure Fiber Chanel HBA. <br><br>  1.2.1.1 When loading a host, go to QLogic Fast! UTIL (CTRL + Q). <br><br>  1.2.1.2 Select the first port. <br><br>  1.2.1.3 Reset Configuration Settings -&gt; Restore Default Settings. <br><br>  1.2.1.4 Enable Configuration Settings -&gt; Adapter Settings -&gt; Host Adapter BIOS -&gt; Host Adapter BIOS -&gt; Enable. <br><br>  1.2.1.5 Enable Configuration Settings -&gt; Adapter Settings -&gt; Host Adapter BIOS -&gt; Connection Options -&gt; 1. <br><br>  1.2.1.6 Enable Configuration Settings -&gt; Advanced Adapter Settings -&gt; Enable LIP Reset -&gt; Yes. <br><br>  1.2.1.7 Enable Configuration Settings -&gt; Advanced Adapter Settings -&gt; Enable LIP Full Login -&gt; Yes. <br><br>  1.2.1.8 Enable Configuration Settings -&gt; Advanced Adapter Settings -&gt; Login Retry Count -&gt; 60. <br><br>  1.2.1.9 Enable Configuration Settings -&gt; Advanced Adapter Settings -&gt; Port Down Retry Count -&gt; 60. <br><br>  1.2.1.10 Enable Configuration Settings -&gt; Advanced Adapter Settings -&gt; Link Down Timeout -&gt; 30. <br><br>  1.2.1.11. Configure the second port for items 1.2.1.3 - 1.2.1.10. <br><br>  <b>2. Testing steps on the VMware platform without best practices.</b> <br><br>  2.1 Install VMware 5.5 with all updates. <br><br>  2.2 Making the necessary settings on VMware (not included in the cluster, we test separately). <br><br>  2.3 Install Windows 2016 and all updates. <br><br>  2.4 Installing 1C: Enterprise.  Configure, if necessary, while we set by default, version 1C - 8.3.10.  (last). <br><br>  2.5 On a separate machine, install Windows 2016 with SQL Server 2016 ‚Äî with all updates. <br><br>  2.6 Perform tests (5 times). <br><br>  <b>3. Testing steps on the VMware platform according to <a href="http://www.vmware.com/pdf/Perf_Best_Practices_vSphere5.5.pdf">best practices</a> .</b> <br><br>  3.1.1 Place the swap file on the SSD disk.  Cluster -&gt; Swap file location -&gt; Store the swap file in the same directory as VM.  Configuration -&gt; VM Swapfile location -&gt; Edit. <br><br>  3.1.2 It is recommended to enable the vSphere Flash Infrastructure layer - I don‚Äôt know how feasible it is in our realities. <br><br>  3.1.3 Configure SAN Multipathing via Host -&gt; Configuration -&gt; Storage -&gt; Manage Paths -&gt; Path Selection -&gt; Round Robin. <br><br>  3.1.4 Enable Host -&gt; Configuration -&gt; Power management -&gt; Properties -&gt; High Perfomance. <br><br>  3.2 Configure the VM according to the recommendations: <br><br>  3.2.1 Use paravirtual disks: VM -&gt; SCSI Controller -&gt; Change Type -&gt; Paravirtual. <br><br>  3.2.2 It is advisable to use Thick provision eager zeroed. <br><br>  3.2.3 Turn on VM -&gt; Options -&gt; CPU / MMU Virtualization -&gt; Use Intel VTx for instruction set and Intel EPT for MMU Virtualization. <br><br>  3.2.4 Disable VM BIOS -&gt; Legacy diskette, VM BIOS -&gt; Primary Mater CD ROM. <br><br>  <b>4. Testing steps on the Windows Server platform without best practices:</b> <br><br>  4.1 Install Windows Server 2016 Datacenter on the host and all updates. <br><br>  4.2 Making the necessary settings on the host. <br><br>  4.3 Install a virtual machine with Windows and all updates. <br><br>  4.4 Installing 1C: Enterprise.  Configure, if necessary, while we set by default, version 1C - 8.3.10 (last). <br><br>  4.5 On a separate machine, install Windows Server 2016 with SQL Server 2016 with all updates. <br><br>  <b>5. Testing steps on the Windows Server platform according to best practices</b> <br>  <i>Best practices are stated <a href="http://en.community.dell.com/techcenter/extras/m/white_papers/20438008">here</a> , <a href="http://en.community.dell.com/techcenter/extras/m/white_papers/20437917">here</a> and <a href="http://en.community.dell.com/techcenter/extras/m/white_papers/20437923">here</a> .</i> <br><br>  5.1 Configuring Host according to the recommendations: <br><br>  5.1.1 <a href="https://docs.microsoft.com/ru-ru/windows-server/get-started/mpio-on-nano-server">Activate</a> MPIO: <br> <code>Enable-WindowsOptionalFeature ‚Äì Online ‚Äì FeatureName MultiPathIO <br> (Get-WindowsOptionalFeature ‚Äì Online ‚Äì FeatureName "MultiPathIO").State</code> <br> <br>  5.2 Configure the VM according to the recommendations: <br><br>  5.2.1 Use Generation2 VM. <br><br>  5.2.2 Use fixed disks in VM. <br><br><h2>  If life is on mars? </h2><br>  It seems that life was a success, the tests show that the calculations and rates were correct and now that very desired nirvana will come ... So I thought and hoped until we set up a cluster for developers in test mode. <br><br>  I will not lie, the installation really happens simply and unpretentiously.  The system itself checks everything that it needs for happiness, and if there is nothing, it sends you to the nearest grocery store for this to show a detailed report on what is wrong and even gives advice on how to fix the problem.  In this regard, I liked the Microsoft product much more. <br><br>  Immediately I remembered the story of a five-day correspondence with VMware technical support about the problem during the transition to 5.5.  It turned out fun stuff.  If you have a separate account for connecting to vSphere on the SQL server, then the password should be no longer than 14 characters (or 10, I don‚Äôt remember now), because then the system trivially cuts off and throws out a piece of the password as an unnecessary part.  Indeed, quite a reasonable behavior. <br><br>  But all the fun began later.  One server crashed and refused to see the network card (as a result, the OS had nothing to do with it).  Then the servers began to lose a quorum.  Then the servers randomly began to fly out of the cluster.  VMM did not really work and often simply could not connect to the farm.  Then the servers began to pause in the cluster.  Then, during the migration, the machines began to be seen on two hosts.  In general, the situation was close to disaster, as we thought. <br><br>  But, having gathered our courage, we, nevertheless, decided to make war.  And you know what?  Everything worked out.  And it turned out that the problems with the network card were hardware, the problem with the cluster was decided after the correct network configuration.  And after we rearranged the host OS and VMM to the English versions, everything was all right.  And then I felt sad ... 2017, but I still need to install English Windows so that there are fewer problems.  This is an epic fail in my opinion.  But the bonus got a much simpler search for the text of errors. <br><br>  As a result, the cluster started up, VMM works correctly, and we started distributing virtuals to users. <br><br>  By the way, a separate boiler in hell is deserved by the one who came up with the VMM interface and logic ... To say that it is incomprehensible is to say nothing.  When I first opened, I had the complete feeling that I was looking at the dashboard of an alien ship.  It seems that the forms are familiar, but there is no understanding what is there and why.  Although perhaps in many years I will get used to it.  Or just memorize actions like a monkey. <br><br><h2>  What is it like when you still started the tractor? </h2><br>  In general, my emotions and feelings from the transition are positive.  Patterns and their capabilities for Microsoft's OS do not go to any comparison with counterparts from VMware.  They are very comfortable, with a huge number of whistles and ryushechek, which in general are quite sensible.  While we are driving a cluster for developers, we get used to a new life. <br><br>  Still very much, but very pleasantly surprised by the issue of the migration of machines from VMWare.  Initially, I read forums, searched for software, thought how it would be.  It turned out that everything was already invented for me.  We connected in VMM vCenter in two accounts and directly from VMM said ‚Äúdear comrade, please, give me those sweets, it really hurts delicious, please send me this virtual machine to the new hypervisor.‚Äù And the most funny thing was that I migrated.  The first time.  Without tambourine and errors.  And in the end, the migration, for the test of which I planned to allocate a week, was packed within 40 minutes, of which 20 was the migration itself. <br><br>  <b>What is missing:</b> <br><br><ol><li>  Small distribution, sharpened just for virtualization (analog esxi). </li><li>  A normal management console (the console is inconvenient, especially after the VMware control, but there is hope for the Honolulu project. In any case, looking at the technical preview, there is an understanding that the product should give the same ease of management). </li><li>  Technical support product virtualization.  Yes, I know that there is Premium Support, but this is not at all what I want. </li></ol><br><h2>  Summing up (if you are too lazy to read the article): </h2><br><ol><li>  Now the performance of the two platforms is about the same. </li><li>  Performance 1C is the same. </li><li>  In Hyper-V, virtual disks can be either enlarged or reduced.  And online. </li><li>  Very, very well, very simple migration from VMWare. </li><li>  The trouble with support in its usual sense. </li><li>  VMM is extremely uncomfortable, especially after vCenter.  But on the other hand, VMM is just a graphical shell for PowerShell scripts, so you can steer all of this through the usual CLI Powershell. </li><li>  The transition requires retraining and understanding the subtleties of Hyper-V.  Many things and ideological approaches differ. </li><li>  Chic virtual machine templates with Windows.  Amazingly comfortable. </li><li>  Saving money. </li><li>  More interesting in my opinion is the implementation of Software-defined storage, but this is ‚Äúan amateur.‚Äù </li><li>  Respect for the fact that the whole Azure is built on its own technologies, which then come on-premise. </li><li>  Simple and very tight integration with the cloud. </li><li>  A good network virtualization, with many interesting moments. </li><li>  In my opinion, VDI is not about Microsoft and Hyper-V.  But on the other hand, streaming programs (RemoteApp) have been made quite soundly, and for most companies there will be little worse than the same Citrix. </li><li>  Weak support by third-party vendors for ready virtualos images for Hyper-V (I assume that the phenomenon is temporary). </li><li>  A very strange new licensing policy (by core). </li></ol><br><h2>  about the author </h2><br><img src="https://habrastorage.org/webt/af/ad/8b/afad8bsi6m1uvmkc5mh2dctu6uo.jpeg" align="left" width="120">  Anton Litvinov - the last 6 years working in the company 585 / Gold.  He has gone from a network engineer to the head of the infrastructure solutions department and as a result combines Mr. Jekyll and Dr. Hyde - a full-stack engineer and manager.  In IT for about 20 years. </div><p>Source: <a href="https://habr.com/ru/post/346776/">https://habr.com/ru/post/346776/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../346766/index.html">Recognizing motion gestures on Android using Tensorflow</a></li>
<li><a href="../346768/index.html">Two-factor authentication for Cisco Meraki Client VPN using Token2 TOTPRadius</a></li>
<li><a href="../346770/index.html">Undocumented CSS Techniques</a></li>
<li><a href="../346772/index.html">Using the KOMPAS-3D API ‚Üí Lesson 6 ‚Üí Saving a document in various formats</a></li>
<li><a href="../346774/index.html">JavaScript exceeded everyone</a></li>
<li><a href="../346778/index.html">Once again about SWAP in Linux "on hot" on AWS EC2 Instance</a></li>
<li><a href="../346782/index.html">Optional: Schr√∂dinger's cat in Java 8</a></li>
<li><a href="../346784/index.html">Web application on Node and Vue, part 5: finalizing the project</a></li>
<li><a href="../346786/index.html">Social architecture: 4 steps to a self-governing community</a></li>
<li><a href="../346788/index.html">How to build a community. Translation of Social Architecture: Chapter 3. ZeroMQ Community</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>