<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Simple digital arbitrary waveform generator</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="In amateur radio practice, it is sometimes necessary to have on hand a signal generator of a given shape and frequency for testing and testing radio e...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Simple digital arbitrary waveform generator</h1><div class="post__text post__text-html js-mediator-article"><img src="http://img12.imageshack.us/img12/4411/nyxcommon.jpg"><br><br>  In amateur radio practice, it is sometimes necessary to have on hand a signal generator of a given shape and frequency for testing and testing radio equipment nodes.  With the increasing availability of microcontrollers, it is possible to assemble a digital signal generator, in which any signal would be generated by software. <br><br><a name="habracut"></a>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <img src="http://img24.imageshack.us/img24/2513/nyxpcb.jpg"><br><img src="http://img18.imageshack.us/img18/7093/nyxxfinal.jpg"><br><br>  Digital signal generator "Nyx" (nikta).  Specifications: <br>  The sampling rate is 131072 Hz. <br>  The range of generated frequencies is 1 - 65536 Hz, with an adjustment step of 1 Hz. <br>  32 bit battery that theoretically allows you to get a resolution of 0.000030518 Hz. <br>  8 bit output, voltage range from -15V to + 15V. <br>  The generator is based on the atmel ATMEGA16 microcontroller, the R-2R network was used as a DAC, the output of which was passed through operational amplifiers, which made it possible to regulate the amplitude of the generated signal and its displacement relative to the ground. <br><br>  The software was written in C, with insertion in an assembler.  The generator works on the principle of direct digital synthesis.  You can read the theoretical material on the problems of digital signal synthesis in detail using the links at the end of the original page.  The program is structured as follows.  In RAM MK allocated array of 256 elements, which stores the value of the generated signal in the amount of one period.  Filling the array of values ‚Äã‚Äãis performed before the start of the synthesis, depending on what signal you need to get at the output.  It is this mechanism that makes it possible to describe the generated signal by a formula, and not manually clog the table, as is done in other constructions.  After starting the generator 131072, the interrupt starts to trigger once a second, in which the accumulator value increments, the first 8 bits are cut off from the variable value and the corresponding array element is called.  The whole process takes 113 microcontroller cycles. <br><br>  Unlike analogs, the frequency setting is performed from the numeric keypad, and not using the ‚Äú+‚Äù and ‚Äú-‚Äù buttons, which increases the speed of use of the generator.  Consider the instrument control interface.  How much is necessary to make gestures to set the frequency 32698 Hz?  A good idea to use the encoder. <br>  If at the output it is necessary to receive only a sinusoidal signal, then it would be a good idea to install a low-pass filter that would cut off the noise at the harmonics of the sampling rate.  But this is unacceptable if the output signal generator has a rectangular signal - the filter will fill up the fronts. <br><br><img src="http://img13.imageshack.us/img13/175/nexsine.jpg" alt="image"><br><img src="http://img23.imageshack.us/img23/2812/nyxsaw.jpg" alt="image"><br><br>  Despite the fact that, according to the Kotelnikov (Nyquist) theorem, for reconstruction with a frequency f, it is necessary to make samples (sampling) with a frequency of 2f, the recoverable signal will have shape distortions.  Thus, at least the limiting recoverable frequency is 65536 Hz, in fact, the ceiling is about 20 000 Hz.  At high frequencies, the waveform will not resemble a sine wave at all, therefore, when adjusting the circuits, consider this feature. <br><br>  The keyboard is an incomplete 4 * 4 matrix which is polled dynamically.  LCD screen WH1602.  The instrument case is industrial, purchased in IEC.  Windows sawn Dremel. <br><br>  <a href="http://licrym.org/images/b/b1/Nyx.c.txt">Firmware source code</a> <br><br>  What would be nice to do: <br>  1) Implement software or hardware PWM, which will allow you to use the generator to control the power given to the load. <br>  2) Separate separately the high-frequency square signal generated by timers on the MC (frequencies of the order of megahertz) <br>  <a href="http://licrym.org/index.php/%25D0%2593%25D0%25B5%25D0%25BD%25D0%25B5%25D1%2580%25D0%25B0%25D1%2582%25D0%25BE%25D1%2580_%25D1%2581%25D0%25B8%25D0%25B3%25D0%25BD%25D0%25B0%25D0%25BB%25D0%25BE%25D0%25B2">Original article</a> (as usual will probably fall) </div><p>Source: <a href="https://habr.com/ru/post/55219/">https://habr.com/ru/post/55219/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../55207/index.html">Another php template engine</a></li>
<li><a href="../55208/index.html">Autodesk 2010. Snake in champagne</a></li>
<li><a href="../55216/index.html">CMS architecture. Data model Part 3</a></li>
<li><a href="../55217/index.html">‚ÄúPersonal Cabinet QIWI‚Äù, the official results of 2008.</a></li>
<li><a href="../55218/index.html">A few words about the great and mighty.</a></li>
<li><a href="../55220/index.html">Internship at HP for students</a></li>
<li><a href="../55223/index.html">Simulator for gamers</a></li>
<li><a href="../55224/index.html">Models of artificial life. Part 2</a></li>
<li><a href="../55226/index.html">TV Episodes first week results</a></li>
<li><a href="../55232/index.html">How to solve some problems in Linux</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>