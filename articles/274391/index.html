<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Monitor SMART in Zabbix</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="For those who use Zabbix, and wants to learn how to make their own templates and monitor non-standard systems (which are not yet in Zabbix), as well, ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Monitor SMART in Zabbix</h1><div class="post__text post__text-html js-mediator-article"> For those who use Zabbix, and wants to learn how to make their own templates and monitor non-standard systems (which are not yet in Zabbix), as well, <br>  who needs advanced SMART monitoring, and who hasn't been satisfied with already existing templates, please under the cat. <br><a name="habracut"></a><br>  It all started with the fact that the existing template for SMART did not suit me.  He allowed me to look at a rather limited number of attributes, and building it up to a level acceptable to me became superimposed.  Especially due to the fact that he used simple fields in Zabbix Agent, and as their number increased, it somehow became uncomfortable.  Let's look at one line in the config file, with a parameter request (there are a lot of similar ones): <br><br> <code>UserParameter=uHDD[*], sudo smartctl -A /dev/$1| grep "$2"| tail -1| cut -c 88-|cut -f1 -d' '</code> <br> <br>  All is well if you only have this parameter, or a couple, but if you have ten of them?  And drives for example a dozen?  For each such parameter, are we going to pull the smartctl (twitching the disk once more)?  In addition, each such parameter is a separate request from Zabbix Server (well, or a group request with parameters substituted for *).  In such a situation, unfortunately there is no solution, Zabbix Agent does not support another way to get data, but Zabbix Trapper and the zabbix_sender utility, which allow you to send a whole pack of parameters, come to the rescue. <br><br>  Here we will deal with the preparation of data for them. <br>  Let's start by searching for devices that generally give us SMART, for which we will need: <br><ul><li>  The sg driver (modprobe sg), it allows, among other things, to see drives behind a number of RAID controllers (in particular, I have Adaptec) </li><li>  The sg_map utility, which will give us a list of devices associated with the sg driver </li><li>  And of course smartctl </li></ul><br><div class="spoiler">  <b class="spoiler_title">Let's write this script (smartdiscovery.sh):</b> <div class="spoiler_text"><pre> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment">#!/bin/bash # require: sg module and sg_map util # Get know generic scsi device from sg_map or from /usr/local/etc/smartdev.lst (is prefered used), # and then try to read some SMART attribue, if success, echo output combination to SDTOUT /usr/sbin/modprobe sg # dev_type so limit? becose i can`t test it on corresponding controller, /usr/local/etc/smartdev.lst can use for set dev_type manual DEV_TYPE=(sat scsi ata) DEV_LST='/usr/local/etc/smartdev.lst' while read -r -a attr; do if [ -z "${attr[1]}" ]; then DEV=${attr[0]} else DEV=${attr[1]} fi for i in "${DEV_TYPE[@]}";do /usr/sbin/smartctl -A -d $i $DEV | grep -q 'ID#' if [[ $? == 0 ]]; then DEV=$(basename $DEV) if [ -f $DEV_LST ]; then grep -q $DEV $DEV_LST if [[ $? != 0 ]]; then echo "$DEV $i" fi fi break fi done done &lt; &lt;(/usr/bin/sg_map) if [ -f $DEV_LST ]; then cat $DEV_LST fi</span></span></code> </pre><br></div></div><br>  He will look for devices for us (he searches for utilities and compares the one found with the /usr/local/etc/smartdev.lst file, if a match is found, then the values ‚Äã‚Äãfrom the file are used, this will temporarily bypass the inability to test the work with some controllers, for example 3ware ) and will list as pairs of values: &lt;device name&gt; &lt;connection type&gt; <br>  Then we will transfer this list to another script (zabbix_smart_discovery.sh), which will generate JSON for Zabbix: <br><div class="spoiler">  <b class="spoiler_title">zabbix_smart_discovery.sh</b> <div class="spoiler_text"><pre> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment">#!/bin/bash # Formating discovering device list to JSON format for zabbix echo -e "{\n\t\"data\":[" LN=0 while IFS=' ' read -r -a attribute; do if [[ $LN != 0 ]]; then echo "," fi echo -e "\t\t{ \"{#DEVNAME}\":\"${attribute[0]}\", \"{#DEVTYPE}\":\"${attribute[1]}\" }\c" LN=1 done &lt; /dev/stdin echo -e "\n\t]\n}"</span></span></code> </pre><br></div></div><br>  The output will be something like this: <br><div class="spoiler">  <b class="spoiler_title">smartctl.discovery</b> <div class="spoiler_text"><pre> <code class="javascript hljs">{ <span class="hljs-string"><span class="hljs-string">"data"</span></span>:[ { <span class="hljs-string"><span class="hljs-string">"{#DEVNAME}"</span></span>:<span class="hljs-string"><span class="hljs-string">"sg1"</span></span>, <span class="hljs-string"><span class="hljs-string">"{#DEVTYPE}"</span></span>:<span class="hljs-string"><span class="hljs-string">"sat"</span></span> }, { <span class="hljs-string"><span class="hljs-string">"{#DEVNAME}"</span></span>:<span class="hljs-string"><span class="hljs-string">"sg2"</span></span>, <span class="hljs-string"><span class="hljs-string">"{#DEVTYPE}"</span></span>:<span class="hljs-string"><span class="hljs-string">"sat"</span></span> }, { <span class="hljs-string"><span class="hljs-string">"{#DEVNAME}"</span></span>:<span class="hljs-string"><span class="hljs-string">"sg3"</span></span>, <span class="hljs-string"><span class="hljs-string">"{#DEVTYPE}"</span></span>:<span class="hljs-string"><span class="hljs-string">"sat"</span></span> }, { <span class="hljs-string"><span class="hljs-string">"{#DEVNAME}"</span></span>:<span class="hljs-string"><span class="hljs-string">"sg4"</span></span>, <span class="hljs-string"><span class="hljs-string">"{#DEVTYPE}"</span></span>:<span class="hljs-string"><span class="hljs-string">"sat"</span></span> }, { <span class="hljs-string"><span class="hljs-string">"{#DEVNAME}"</span></span>:<span class="hljs-string"><span class="hljs-string">"sg5"</span></span>, <span class="hljs-string"><span class="hljs-string">"{#DEVTYPE}"</span></span>:<span class="hljs-string"><span class="hljs-string">"sat"</span></span> }, { <span class="hljs-string"><span class="hljs-string">"{#DEVNAME}"</span></span>:<span class="hljs-string"><span class="hljs-string">"sg6"</span></span>, <span class="hljs-string"><span class="hljs-string">"{#DEVTYPE}"</span></span>:<span class="hljs-string"><span class="hljs-string">"sat"</span></span> }, { <span class="hljs-string"><span class="hljs-string">"{#DEVNAME}"</span></span>:<span class="hljs-string"><span class="hljs-string">"sg7"</span></span>, <span class="hljs-string"><span class="hljs-string">"{#DEVTYPE}"</span></span>:<span class="hljs-string"><span class="hljs-string">"sat"</span></span> }, { <span class="hljs-string"><span class="hljs-string">"{#DEVNAME}"</span></span>:<span class="hljs-string"><span class="hljs-string">"sg8"</span></span>, <span class="hljs-string"><span class="hljs-string">"{#DEVTYPE}"</span></span>:<span class="hljs-string"><span class="hljs-string">"sat"</span></span> }, { <span class="hljs-string"><span class="hljs-string">"{#DEVNAME}"</span></span>:<span class="hljs-string"><span class="hljs-string">"sdb"</span></span>, <span class="hljs-string"><span class="hljs-string">"{#DEVTYPE}"</span></span>:<span class="hljs-string"><span class="hljs-string">"sat"</span></span> }, { <span class="hljs-string"><span class="hljs-string">"{#DEVNAME}"</span></span>:<span class="hljs-string"><span class="hljs-string">"sdc"</span></span>, <span class="hljs-string"><span class="hljs-string">"{#DEVTYPE}"</span></span>:<span class="hljs-string"><span class="hljs-string">"sat"</span></span> }, { <span class="hljs-string"><span class="hljs-string">"{#DEVNAME}"</span></span>:<span class="hljs-string"><span class="hljs-string">"sdd"</span></span>, <span class="hljs-string"><span class="hljs-string">"{#DEVTYPE}"</span></span>:<span class="hljs-string"><span class="hljs-string">"sat"</span></span> }, { <span class="hljs-string"><span class="hljs-string">"{#DEVNAME}"</span></span>:<span class="hljs-string"><span class="hljs-string">"sde"</span></span>, <span class="hljs-string"><span class="hljs-string">"{#DEVTYPE}"</span></span>:<span class="hljs-string"><span class="hljs-string">"sat"</span></span> } ] }</code> </pre><br></div></div><br>  {#DEVNAME} and {#DEVTYPE} are macros that Zabbix will use for substitutions. <br>  The smart2zabbix.sh script will generate data for Zabbix Trapper <br><div class="spoiler">  <b class="spoiler_title">smart2zabbix.sh</b> <div class="spoiler_text"><pre> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment">#!/bin/bash # Format output from smartctl to zabbix_sender input # $1 is path for examine device # $2 type of device is used in smartctld -d paramentr # $3 hostname of monitoring system, can set to '-', if using -s or -c paramentr in zabbix_sender DEV_PATH=$1 DEV_TYPE=$2 HOSTNAME=$3 HEADERS=(id attribute_name flag value worst thresh type updated when_failed raw_value) DEVICE=$(basename $DEV_PATH) SECTION='' while IFS='' read -r line; do case $line in '=== START OF INFORMATION SECTION ===') SECTION='INFO' continue ;; '=== START OF READ SMART DATA SECTION ===') SECTION='HEALF' continue ;; 'ID#'*) SECTION='ATTR' continue ;; esac case $SECTION in 'INFO') if [ -z "$line" ]; then SECTION='' else IFS=':' read -r -a attribute &lt;&lt;&lt; "$line" PRE="$HOSTNAME smartctl.info[$DEVICE," ATTR_V=$( echo ${attribute[1]} | sed -e 's/^[ \t]*//' ) ATTR_N=$(echo ${attribute[0]} | tr '[:upper:]' '[:lower:]' | sed 's/ /_/' ) case ${attribute[0]} in 'Model Family') echo "${PRE}$ATTR_N] \"$ATTR_V\"" ;; 'Device Model') echo "${PRE}$ATTR_N] \"$ATTR_V\"" ;; 'Serial Number') echo "${PRE}$ATTR_N] \"$ATTR_V\"" ;; 'Firmware Version') echo "${PRE}$ATTR_N] \"$ATTR_V\"" ;; 'User Capacity') echo "${PRE}$ATTR_N] \"$ATTR_V\"" ;; 'Sector Size' | 'Sector Sizes') ATTR_N=$(echo 'Sector Size' | tr '[:upper:]' '[:lower:]' | sed 's/ /_/' ) echo "${PRE}$ATTR_N] \"$ATTR_V\"" ;; 'Rotation Rate') echo "${PRE}$ATTR_N] \"$ATTR_V\"" ;; esac fi ;; 'HEALF') if [ -z "$line" ]; then SECTION='' else IFS=':' read -r -a attribute &lt;&lt;&lt; "$line" PRE="$HOSTNAME smartctl.smart[$DEVICE," ATTR=$( echo ${attribute[1]} | sed -e 's/^[ \t]*//' ) case ${attribute[0]} in 'SMART overall-health self-assessment test result') echo "${PRE}test_result] \"$ATTR\"" ;; esac fi ;; 'ATTR') if [ -z "$line" ]; then SECTION='' else read -r -a attribute &lt;&lt;&lt; "$line" PRE="$HOSTNAME smartctl.smart[$DEVICE," for i in "${!attribute[@]}";do if [[ $i == 0 ]]; then continue fi case ${attribute[$i]} in ''|*[!0-9]*) ATTR="\"${attribute[$i]}\"" ;; *) ATTR="$(echo ${attribute[$i]} | sed 's/0*//')" ;; esac if [ -z "$ATTR" ]; then ATTR=0 fi echo "${PRE}${attribute[0]},${HEADERS[$i]}] $ATTR" done fi ;; esac done &lt; /dev/stdin</span></span></code> </pre><br></div></div><br>  The output will be something like this: <br><div class="spoiler">  <b class="spoiler_title">The output will be something like this:</b> <div class="spoiler_text"><pre> <code class="hljs pgsql">test.<span class="hljs-keyword"><span class="hljs-keyword">local</span></span> smartctl.<span class="hljs-keyword"><span class="hljs-keyword">info</span></span>[sg1,model_family] "Western Digital RE4 (SATA 6Gb/s)" test.<span class="hljs-keyword"><span class="hljs-keyword">local</span></span> smartctl.<span class="hljs-keyword"><span class="hljs-keyword">info</span></span>[sg1,device_model] "WDC WD2000FYYZ-01UL1B1" test.<span class="hljs-keyword"><span class="hljs-keyword">local</span></span> smartctl.<span class="hljs-keyword"><span class="hljs-keyword">info</span></span>[sg1,serial_number] "WD-WCC1P1175320" test.<span class="hljs-keyword"><span class="hljs-keyword">local</span></span> smartctl.<span class="hljs-keyword"><span class="hljs-keyword">info</span></span>[sg1,firmware_version] "01.01K02" test.<span class="hljs-keyword"><span class="hljs-keyword">local</span></span> smartctl.<span class="hljs-keyword"><span class="hljs-keyword">info</span></span>[sg1,user_capacity] "2 000 398 934 016 bytes [2,00 TB]" test.<span class="hljs-keyword"><span class="hljs-keyword">local</span></span> smartctl.<span class="hljs-keyword"><span class="hljs-keyword">info</span></span>[sg1,sector_size] "512 bytes logical/physical" test.<span class="hljs-keyword"><span class="hljs-keyword">local</span></span> smartctl.<span class="hljs-keyword"><span class="hljs-keyword">info</span></span>[sg1,rotation_rate] "7200 rpm" test.<span class="hljs-keyword"><span class="hljs-keyword">local</span></span> smartctl.smart[sg1,test_result] "PASSED" test.<span class="hljs-keyword"><span class="hljs-keyword">local</span></span> smartctl.smart[sg1,<span class="hljs-number"><span class="hljs-number">1</span></span>,attribute_name] "Raw_Read_Error_Rate" test.<span class="hljs-keyword"><span class="hljs-keyword">local</span></span> smartctl.smart[sg1,<span class="hljs-number"><span class="hljs-number">1</span></span>,flag] "0x002f" test.<span class="hljs-keyword"><span class="hljs-keyword">local</span></span> smartctl.smart[sg1,<span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-keyword"><span class="hljs-keyword">value</span></span>] <span class="hljs-number"><span class="hljs-number">200</span></span> test.<span class="hljs-keyword"><span class="hljs-keyword">local</span></span> smartctl.smart[sg1,<span class="hljs-number"><span class="hljs-number">1</span></span>,worst] <span class="hljs-number"><span class="hljs-number">200</span></span> test.<span class="hljs-keyword"><span class="hljs-keyword">local</span></span> smartctl.smart[sg1,<span class="hljs-number"><span class="hljs-number">1</span></span>,thresh] <span class="hljs-number"><span class="hljs-number">51</span></span> test.<span class="hljs-keyword"><span class="hljs-keyword">local</span></span> smartctl.smart[sg1,<span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-keyword"><span class="hljs-keyword">type</span></span>] "Pre-fail" test.<span class="hljs-keyword"><span class="hljs-keyword">local</span></span> smartctl.smart[sg1,<span class="hljs-number"><span class="hljs-number">1</span></span>,updated] "Always" test.<span class="hljs-keyword"><span class="hljs-keyword">local</span></span> smartctl.smart[sg1,<span class="hljs-number"><span class="hljs-number">1</span></span>,when_failed] "-" test.<span class="hljs-keyword"><span class="hljs-keyword">local</span></span> smartctl.smart[sg1,<span class="hljs-number"><span class="hljs-number">1</span></span>,raw_value] <span class="hljs-number"><span class="hljs-number">0</span></span> test.<span class="hljs-keyword"><span class="hljs-keyword">local</span></span> smartctl.smart[sg1,<span class="hljs-number"><span class="hljs-number">3</span></span>,attribute_name] "Spin_Up_Time" test.<span class="hljs-keyword"><span class="hljs-keyword">local</span></span> smartctl.smart[sg1,<span class="hljs-number"><span class="hljs-number">3</span></span>,flag] "0x0027" test.<span class="hljs-keyword"><span class="hljs-keyword">local</span></span> smartctl.smart[sg1,<span class="hljs-number"><span class="hljs-number">3</span></span>,<span class="hljs-keyword"><span class="hljs-keyword">value</span></span>] <span class="hljs-number"><span class="hljs-number">169</span></span> test.<span class="hljs-keyword"><span class="hljs-keyword">local</span></span> smartctl.smart[sg1,<span class="hljs-number"><span class="hljs-number">3</span></span>,worst] <span class="hljs-number"><span class="hljs-number">169</span></span> test.<span class="hljs-keyword"><span class="hljs-keyword">local</span></span> smartctl.smart[sg1,<span class="hljs-number"><span class="hljs-number">3</span></span>,thresh] <span class="hljs-number"><span class="hljs-number">21</span></span> test.<span class="hljs-keyword"><span class="hljs-keyword">local</span></span> smartctl.smart[sg1,<span class="hljs-number"><span class="hljs-number">3</span></span>,<span class="hljs-keyword"><span class="hljs-keyword">type</span></span>] "Pre-fail" test.<span class="hljs-keyword"><span class="hljs-keyword">local</span></span> smartctl.smart[sg1,<span class="hljs-number"><span class="hljs-number">3</span></span>,updated] "Always" test.<span class="hljs-keyword"><span class="hljs-keyword">local</span></span> smartctl.smart[sg1,<span class="hljs-number"><span class="hljs-number">3</span></span>,when_failed] "-" test.<span class="hljs-keyword"><span class="hljs-keyword">local</span></span> smartctl.smart[sg1,<span class="hljs-number"><span class="hljs-number">3</span></span>,raw_value] <span class="hljs-number"><span class="hljs-number">6508</span></span> test.<span class="hljs-keyword"><span class="hljs-keyword">local</span></span> smartctl.smart[sg1,<span class="hljs-number"><span class="hljs-number">4</span></span>,attribute_name] "Start_Stop_Count" test.<span class="hljs-keyword"><span class="hljs-keyword">local</span></span> smartctl.smart[sg1,<span class="hljs-number"><span class="hljs-number">4</span></span>,flag] "0x0032" test.<span class="hljs-keyword"><span class="hljs-keyword">local</span></span> smartctl.smart[sg1,<span class="hljs-number"><span class="hljs-number">4</span></span>,<span class="hljs-keyword"><span class="hljs-keyword">value</span></span>] <span class="hljs-number"><span class="hljs-number">100</span></span> test.<span class="hljs-keyword"><span class="hljs-keyword">local</span></span> smartctl.smart[sg1,<span class="hljs-number"><span class="hljs-number">4</span></span>,worst] <span class="hljs-number"><span class="hljs-number">100</span></span> test.<span class="hljs-keyword"><span class="hljs-keyword">local</span></span> smartctl.smart[sg1,<span class="hljs-number"><span class="hljs-number">4</span></span>,thresh] <span class="hljs-number"><span class="hljs-number">0</span></span> test.<span class="hljs-keyword"><span class="hljs-keyword">local</span></span> smartctl.smart[sg1,<span class="hljs-number"><span class="hljs-number">4</span></span>,<span class="hljs-keyword"><span class="hljs-keyword">type</span></span>] "Old_age" test.<span class="hljs-keyword"><span class="hljs-keyword">local</span></span> smartctl.smart[sg1,<span class="hljs-number"><span class="hljs-number">4</span></span>,updated] "Always" test.<span class="hljs-keyword"><span class="hljs-keyword">local</span></span> smartctl.smart[sg1,<span class="hljs-number"><span class="hljs-number">4</span></span>,when_failed] "-" test.<span class="hljs-keyword"><span class="hljs-keyword">local</span></span> smartctl.smart[sg1,<span class="hljs-number"><span class="hljs-number">4</span></span>,raw_value] <span class="hljs-number"><span class="hljs-number">36</span></span> test.<span class="hljs-keyword"><span class="hljs-keyword">local</span></span> smartctl.smart[sg1,<span class="hljs-number"><span class="hljs-number">5</span></span>,attribute_name] "Reallocated_Sector_Ct" test.<span class="hljs-keyword"><span class="hljs-keyword">local</span></span> smartctl.smart[sg1,<span class="hljs-number"><span class="hljs-number">5</span></span>,flag] "0x0033" test.<span class="hljs-keyword"><span class="hljs-keyword">local</span></span> smartctl.smart[sg1,<span class="hljs-number"><span class="hljs-number">5</span></span>,<span class="hljs-keyword"><span class="hljs-keyword">value</span></span>] <span class="hljs-number"><span class="hljs-number">200</span></span> test.<span class="hljs-keyword"><span class="hljs-keyword">local</span></span> smartctl.smart[sg1,<span class="hljs-number"><span class="hljs-number">5</span></span>,worst] <span class="hljs-number"><span class="hljs-number">200</span></span> test.<span class="hljs-keyword"><span class="hljs-keyword">local</span></span> smartctl.smart[sg1,<span class="hljs-number"><span class="hljs-number">5</span></span>,thresh] <span class="hljs-number"><span class="hljs-number">140</span></span> test.<span class="hljs-keyword"><span class="hljs-keyword">local</span></span> smartctl.smart[sg1,<span class="hljs-number"><span class="hljs-number">5</span></span>,<span class="hljs-keyword"><span class="hljs-keyword">type</span></span>] "Pre-fail" test.<span class="hljs-keyword"><span class="hljs-keyword">local</span></span> smartctl.smart[sg1,<span class="hljs-number"><span class="hljs-number">5</span></span>,updated] "Always" test.<span class="hljs-keyword"><span class="hljs-keyword">local</span></span> smartctl.smart[sg1,<span class="hljs-number"><span class="hljs-number">5</span></span>,when_failed] "-" test.<span class="hljs-keyword"><span class="hljs-keyword">local</span></span> smartctl.smart[sg1,<span class="hljs-number"><span class="hljs-number">5</span></span>,raw_value] <span class="hljs-number"><span class="hljs-number">0</span></span> test.<span class="hljs-keyword"><span class="hljs-keyword">local</span></span> smartctl.smart[sg1,<span class="hljs-number"><span class="hljs-number">7</span></span>,attribute_name] "Seek_Error_Rate" test.<span class="hljs-keyword"><span class="hljs-keyword">local</span></span> smartctl.smart[sg1,<span class="hljs-number"><span class="hljs-number">7</span></span>,flag] "0x002e" test.<span class="hljs-keyword"><span class="hljs-keyword">local</span></span> smartctl.smart[sg1,<span class="hljs-number"><span class="hljs-number">7</span></span>,<span class="hljs-keyword"><span class="hljs-keyword">value</span></span>] <span class="hljs-number"><span class="hljs-number">200</span></span> test.<span class="hljs-keyword"><span class="hljs-keyword">local</span></span> smartctl.smart[sg1,<span class="hljs-number"><span class="hljs-number">7</span></span>,worst] <span class="hljs-number"><span class="hljs-number">200</span></span> test.<span class="hljs-keyword"><span class="hljs-keyword">local</span></span> smartctl.smart[sg1,<span class="hljs-number"><span class="hljs-number">7</span></span>,thresh] <span class="hljs-number"><span class="hljs-number">0</span></span> test.<span class="hljs-keyword"><span class="hljs-keyword">local</span></span> smartctl.smart[sg1,<span class="hljs-number"><span class="hljs-number">7</span></span>,<span class="hljs-keyword"><span class="hljs-keyword">type</span></span>] "Old_age" test.<span class="hljs-keyword"><span class="hljs-keyword">local</span></span> smartctl.smart[sg1,<span class="hljs-number"><span class="hljs-number">7</span></span>,updated] "Always" test.<span class="hljs-keyword"><span class="hljs-keyword">local</span></span> smartctl.smart[sg1,<span class="hljs-number"><span class="hljs-number">7</span></span>,when_failed] "-" test.<span class="hljs-keyword"><span class="hljs-keyword">local</span></span> smartctl.smart[sg1,<span class="hljs-number"><span class="hljs-number">7</span></span>,raw_value] <span class="hljs-number"><span class="hljs-number">0</span></span> test.<span class="hljs-keyword"><span class="hljs-keyword">local</span></span> smartctl.smart[sg1,<span class="hljs-number"><span class="hljs-number">9</span></span>,attribute_name] "Power_On_Hours" test.<span class="hljs-keyword"><span class="hljs-keyword">local</span></span> smartctl.smart[sg1,<span class="hljs-number"><span class="hljs-number">9</span></span>,flag] "0x0032" test.<span class="hljs-keyword"><span class="hljs-keyword">local</span></span> smartctl.smart[sg1,<span class="hljs-number"><span class="hljs-number">9</span></span>,<span class="hljs-keyword"><span class="hljs-keyword">value</span></span>] <span class="hljs-number"><span class="hljs-number">79</span></span> test.<span class="hljs-keyword"><span class="hljs-keyword">local</span></span> smartctl.smart[sg1,<span class="hljs-number"><span class="hljs-number">9</span></span>,worst] <span class="hljs-number"><span class="hljs-number">79</span></span> test.<span class="hljs-keyword"><span class="hljs-keyword">local</span></span> smartctl.smart[sg1,<span class="hljs-number"><span class="hljs-number">9</span></span>,thresh] <span class="hljs-number"><span class="hljs-number">0</span></span> test.<span class="hljs-keyword"><span class="hljs-keyword">local</span></span> smartctl.smart[sg1,<span class="hljs-number"><span class="hljs-number">9</span></span>,<span class="hljs-keyword"><span class="hljs-keyword">type</span></span>] "Old_age" test.<span class="hljs-keyword"><span class="hljs-keyword">local</span></span> smartctl.smart[sg1,<span class="hljs-number"><span class="hljs-number">9</span></span>,updated] "Always" test.<span class="hljs-keyword"><span class="hljs-keyword">local</span></span> smartctl.smart[sg1,<span class="hljs-number"><span class="hljs-number">9</span></span>,when_failed] "-" test.<span class="hljs-keyword"><span class="hljs-keyword">local</span></span> smartctl.smart[sg1,<span class="hljs-number"><span class="hljs-number">9</span></span>,raw_value] <span class="hljs-number"><span class="hljs-number">15927</span></span> test.<span class="hljs-keyword"><span class="hljs-keyword">local</span></span> smartctl.smart[sg1,<span class="hljs-number"><span class="hljs-number">10</span></span>,attribute_name] "Spin_Retry_Count" test.<span class="hljs-keyword"><span class="hljs-keyword">local</span></span> smartctl.smart[sg1,<span class="hljs-number"><span class="hljs-number">10</span></span>,flag] "0x0032" test.<span class="hljs-keyword"><span class="hljs-keyword">local</span></span> smartctl.smart[sg1,<span class="hljs-number"><span class="hljs-number">10</span></span>,<span class="hljs-keyword"><span class="hljs-keyword">value</span></span>] <span class="hljs-number"><span class="hljs-number">100</span></span> test.<span class="hljs-keyword"><span class="hljs-keyword">local</span></span> smartctl.smart[sg1,<span class="hljs-number"><span class="hljs-number">10</span></span>,worst] <span class="hljs-number"><span class="hljs-number">253</span></span> test.<span class="hljs-keyword"><span class="hljs-keyword">local</span></span> smartctl.smart[sg1,<span class="hljs-number"><span class="hljs-number">10</span></span>,thresh] <span class="hljs-number"><span class="hljs-number">0</span></span> test.<span class="hljs-keyword"><span class="hljs-keyword">local</span></span> smartctl.smart[sg1,<span class="hljs-number"><span class="hljs-number">10</span></span>,<span class="hljs-keyword"><span class="hljs-keyword">type</span></span>] "Old_age" test.<span class="hljs-keyword"><span class="hljs-keyword">local</span></span> smartctl.smart[sg1,<span class="hljs-number"><span class="hljs-number">10</span></span>,updated] "Always" test.<span class="hljs-keyword"><span class="hljs-keyword">local</span></span> smartctl.smart[sg1,<span class="hljs-number"><span class="hljs-number">10</span></span>,when_failed] "-" test.<span class="hljs-keyword"><span class="hljs-keyword">local</span></span> smartctl.smart[sg1,<span class="hljs-number"><span class="hljs-number">10</span></span>,raw_value] <span class="hljs-number"><span class="hljs-number">0</span></span> test.<span class="hljs-keyword"><span class="hljs-keyword">local</span></span> smartctl.smart[sg1,<span class="hljs-number"><span class="hljs-number">11</span></span>,attribute_name] "Calibration_Retry_Count" test.<span class="hljs-keyword"><span class="hljs-keyword">local</span></span> smartctl.smart[sg1,<span class="hljs-number"><span class="hljs-number">11</span></span>,flag] "0x0032" test.<span class="hljs-keyword"><span class="hljs-keyword">local</span></span> smartctl.smart[sg1,<span class="hljs-number"><span class="hljs-number">11</span></span>,<span class="hljs-keyword"><span class="hljs-keyword">value</span></span>] <span class="hljs-number"><span class="hljs-number">100</span></span> test.<span class="hljs-keyword"><span class="hljs-keyword">local</span></span> smartctl.smart[sg1,<span class="hljs-number"><span class="hljs-number">11</span></span>,worst] <span class="hljs-number"><span class="hljs-number">253</span></span> test.<span class="hljs-keyword"><span class="hljs-keyword">local</span></span> smartctl.smart[sg1,<span class="hljs-number"><span class="hljs-number">11</span></span>,thresh] <span class="hljs-number"><span class="hljs-number">0</span></span> test.<span class="hljs-keyword"><span class="hljs-keyword">local</span></span> smartctl.smart[sg1,<span class="hljs-number"><span class="hljs-number">11</span></span>,<span class="hljs-keyword"><span class="hljs-keyword">type</span></span>] "Old_age" test.<span class="hljs-keyword"><span class="hljs-keyword">local</span></span> smartctl.smart[sg1,<span class="hljs-number"><span class="hljs-number">11</span></span>,updated] "Always" test.<span class="hljs-keyword"><span class="hljs-keyword">local</span></span> smartctl.smart[sg1,<span class="hljs-number"><span class="hljs-number">11</span></span>,when_failed] "-" test.<span class="hljs-keyword"><span class="hljs-keyword">local</span></span> smartctl.smart[sg1,<span class="hljs-number"><span class="hljs-number">11</span></span>,raw_value] <span class="hljs-number"><span class="hljs-number">0</span></span> test.<span class="hljs-keyword"><span class="hljs-keyword">local</span></span> smartctl.smart[sg1,<span class="hljs-number"><span class="hljs-number">12</span></span>,attribute_name] "Power_Cycle_Count" test.<span class="hljs-keyword"><span class="hljs-keyword">local</span></span> smartctl.smart[sg1,<span class="hljs-number"><span class="hljs-number">12</span></span>,flag] "0x0032" test.<span class="hljs-keyword"><span class="hljs-keyword">local</span></span> smartctl.smart[sg1,<span class="hljs-number"><span class="hljs-number">12</span></span>,<span class="hljs-keyword"><span class="hljs-keyword">value</span></span>] <span class="hljs-number"><span class="hljs-number">100</span></span> test.<span class="hljs-keyword"><span class="hljs-keyword">local</span></span> smartctl.smart[sg1,<span class="hljs-number"><span class="hljs-number">12</span></span>,worst] <span class="hljs-number"><span class="hljs-number">100</span></span> test.<span class="hljs-keyword"><span class="hljs-keyword">local</span></span> smartctl.smart[sg1,<span class="hljs-number"><span class="hljs-number">12</span></span>,thresh] <span class="hljs-number"><span class="hljs-number">0</span></span> test.<span class="hljs-keyword"><span class="hljs-keyword">local</span></span> smartctl.smart[sg1,<span class="hljs-number"><span class="hljs-number">12</span></span>,<span class="hljs-keyword"><span class="hljs-keyword">type</span></span>] "Old_age" test.<span class="hljs-keyword"><span class="hljs-keyword">local</span></span> smartctl.smart[sg1,<span class="hljs-number"><span class="hljs-number">12</span></span>,updated] "Always" test.<span class="hljs-keyword"><span class="hljs-keyword">local</span></span> smartctl.smart[sg1,<span class="hljs-number"><span class="hljs-number">12</span></span>,when_failed] "-" test.<span class="hljs-keyword"><span class="hljs-keyword">local</span></span> smartctl.smart[sg1,<span class="hljs-number"><span class="hljs-number">12</span></span>,raw_value] <span class="hljs-number"><span class="hljs-number">30</span></span> test.<span class="hljs-keyword"><span class="hljs-keyword">local</span></span> smartctl.smart[sg1,<span class="hljs-number"><span class="hljs-number">183</span></span>,attribute_name] "Runtime_Bad_Block" test.<span class="hljs-keyword"><span class="hljs-keyword">local</span></span> smartctl.smart[sg1,<span class="hljs-number"><span class="hljs-number">183</span></span>,flag] "0x0032" test.<span class="hljs-keyword"><span class="hljs-keyword">local</span></span> smartctl.smart[sg1,<span class="hljs-number"><span class="hljs-number">183</span></span>,<span class="hljs-keyword"><span class="hljs-keyword">value</span></span>] <span class="hljs-number"><span class="hljs-number">100</span></span> test.<span class="hljs-keyword"><span class="hljs-keyword">local</span></span> smartctl.smart[sg1,<span class="hljs-number"><span class="hljs-number">183</span></span>,worst] <span class="hljs-number"><span class="hljs-number">100</span></span> test.<span class="hljs-keyword"><span class="hljs-keyword">local</span></span> smartctl.smart[sg1,<span class="hljs-number"><span class="hljs-number">183</span></span>,thresh] <span class="hljs-number"><span class="hljs-number">0</span></span> test.<span class="hljs-keyword"><span class="hljs-keyword">local</span></span> smartctl.smart[sg1,<span class="hljs-number"><span class="hljs-number">183</span></span>,<span class="hljs-keyword"><span class="hljs-keyword">type</span></span>] "Old_age" test.<span class="hljs-keyword"><span class="hljs-keyword">local</span></span> smartctl.smart[sg1,<span class="hljs-number"><span class="hljs-number">183</span></span>,updated] "Always" test.<span class="hljs-keyword"><span class="hljs-keyword">local</span></span> smartctl.smart[sg1,<span class="hljs-number"><span class="hljs-number">183</span></span>,when_failed] "-" test.<span class="hljs-keyword"><span class="hljs-keyword">local</span></span> smartctl.smart[sg1,<span class="hljs-number"><span class="hljs-number">183</span></span>,raw_value] <span class="hljs-number"><span class="hljs-number">0</span></span> test.<span class="hljs-keyword"><span class="hljs-keyword">local</span></span> smartctl.smart[sg1,<span class="hljs-number"><span class="hljs-number">192</span></span>,attribute_name] "Power-Off_Retract_Count" test.<span class="hljs-keyword"><span class="hljs-keyword">local</span></span> smartctl.smart[sg1,<span class="hljs-number"><span class="hljs-number">192</span></span>,flag] "0x0032" test.<span class="hljs-keyword"><span class="hljs-keyword">local</span></span> smartctl.smart[sg1,<span class="hljs-number"><span class="hljs-number">192</span></span>,<span class="hljs-keyword"><span class="hljs-keyword">value</span></span>] <span class="hljs-number"><span class="hljs-number">200</span></span> test.<span class="hljs-keyword"><span class="hljs-keyword">local</span></span> smartctl.smart[sg1,<span class="hljs-number"><span class="hljs-number">192</span></span>,worst] <span class="hljs-number"><span class="hljs-number">200</span></span> test.<span class="hljs-keyword"><span class="hljs-keyword">local</span></span> smartctl.smart[sg1,<span class="hljs-number"><span class="hljs-number">192</span></span>,thresh] <span class="hljs-number"><span class="hljs-number">0</span></span> test.<span class="hljs-keyword"><span class="hljs-keyword">local</span></span> smartctl.smart[sg1,<span class="hljs-number"><span class="hljs-number">192</span></span>,<span class="hljs-keyword"><span class="hljs-keyword">type</span></span>] "Old_age" test.<span class="hljs-keyword"><span class="hljs-keyword">local</span></span> smartctl.smart[sg1,<span class="hljs-number"><span class="hljs-number">192</span></span>,updated] "Always" test.<span class="hljs-keyword"><span class="hljs-keyword">local</span></span> smartctl.smart[sg1,<span class="hljs-number"><span class="hljs-number">192</span></span>,when_failed] "-" test.<span class="hljs-keyword"><span class="hljs-keyword">local</span></span> smartctl.smart[sg1,<span class="hljs-number"><span class="hljs-number">192</span></span>,raw_value] <span class="hljs-number"><span class="hljs-number">29</span></span> test.<span class="hljs-keyword"><span class="hljs-keyword">local</span></span> smartctl.smart[sg1,<span class="hljs-number"><span class="hljs-number">193</span></span>,attribute_name] "Load_Cycle_Count" test.<span class="hljs-keyword"><span class="hljs-keyword">local</span></span> smartctl.smart[sg1,<span class="hljs-number"><span class="hljs-number">193</span></span>,flag] "0x0032" test.<span class="hljs-keyword"><span class="hljs-keyword">local</span></span> smartctl.smart[sg1,<span class="hljs-number"><span class="hljs-number">193</span></span>,<span class="hljs-keyword"><span class="hljs-keyword">value</span></span>] <span class="hljs-number"><span class="hljs-number">200</span></span> test.<span class="hljs-keyword"><span class="hljs-keyword">local</span></span> smartctl.smart[sg1,<span class="hljs-number"><span class="hljs-number">193</span></span>,worst] <span class="hljs-number"><span class="hljs-number">200</span></span> test.<span class="hljs-keyword"><span class="hljs-keyword">local</span></span> smartctl.smart[sg1,<span class="hljs-number"><span class="hljs-number">193</span></span>,thresh] <span class="hljs-number"><span class="hljs-number">0</span></span> test.<span class="hljs-keyword"><span class="hljs-keyword">local</span></span> smartctl.smart[sg1,<span class="hljs-number"><span class="hljs-number">193</span></span>,<span class="hljs-keyword"><span class="hljs-keyword">type</span></span>] "Old_age" test.<span class="hljs-keyword"><span class="hljs-keyword">local</span></span> smartctl.smart[sg1,<span class="hljs-number"><span class="hljs-number">193</span></span>,updated] "Always" test.<span class="hljs-keyword"><span class="hljs-keyword">local</span></span> smartctl.smart[sg1,<span class="hljs-number"><span class="hljs-number">193</span></span>,when_failed] "-" test.<span class="hljs-keyword"><span class="hljs-keyword">local</span></span> smartctl.smart[sg1,<span class="hljs-number"><span class="hljs-number">193</span></span>,raw_value] <span class="hljs-number"><span class="hljs-number">6</span></span> test.<span class="hljs-keyword"><span class="hljs-keyword">local</span></span> smartctl.smart[sg1,<span class="hljs-number"><span class="hljs-number">194</span></span>,attribute_name] "Temperature_Celsius" test.<span class="hljs-keyword"><span class="hljs-keyword">local</span></span> smartctl.smart[sg1,<span class="hljs-number"><span class="hljs-number">194</span></span>,flag] "0x0022" test.<span class="hljs-keyword"><span class="hljs-keyword">local</span></span> smartctl.smart[sg1,<span class="hljs-number"><span class="hljs-number">194</span></span>,<span class="hljs-keyword"><span class="hljs-keyword">value</span></span>] <span class="hljs-number"><span class="hljs-number">125</span></span> test.<span class="hljs-keyword"><span class="hljs-keyword">local</span></span> smartctl.smart[sg1,<span class="hljs-number"><span class="hljs-number">194</span></span>,worst] <span class="hljs-number"><span class="hljs-number">96</span></span> test.<span class="hljs-keyword"><span class="hljs-keyword">local</span></span> smartctl.smart[sg1,<span class="hljs-number"><span class="hljs-number">194</span></span>,thresh] <span class="hljs-number"><span class="hljs-number">0</span></span> test.<span class="hljs-keyword"><span class="hljs-keyword">local</span></span> smartctl.smart[sg1,<span class="hljs-number"><span class="hljs-number">194</span></span>,<span class="hljs-keyword"><span class="hljs-keyword">type</span></span>] "Old_age" test.<span class="hljs-keyword"><span class="hljs-keyword">local</span></span> smartctl.smart[sg1,<span class="hljs-number"><span class="hljs-number">194</span></span>,updated] "Always" test.<span class="hljs-keyword"><span class="hljs-keyword">local</span></span> smartctl.smart[sg1,<span class="hljs-number"><span class="hljs-number">194</span></span>,when_failed] "-" test.<span class="hljs-keyword"><span class="hljs-keyword">local</span></span> smartctl.smart[sg1,<span class="hljs-number"><span class="hljs-number">194</span></span>,raw_value] <span class="hljs-number"><span class="hljs-number">25</span></span> test.<span class="hljs-keyword"><span class="hljs-keyword">local</span></span> smartctl.smart[sg1,<span class="hljs-number"><span class="hljs-number">196</span></span>,attribute_name] "Reallocated_Event_Count" test.<span class="hljs-keyword"><span class="hljs-keyword">local</span></span> smartctl.smart[sg1,<span class="hljs-number"><span class="hljs-number">196</span></span>,flag] "0x0032" test.<span class="hljs-keyword"><span class="hljs-keyword">local</span></span> smartctl.smart[sg1,<span class="hljs-number"><span class="hljs-number">196</span></span>,<span class="hljs-keyword"><span class="hljs-keyword">value</span></span>] <span class="hljs-number"><span class="hljs-number">200</span></span> test.<span class="hljs-keyword"><span class="hljs-keyword">local</span></span> smartctl.smart[sg1,<span class="hljs-number"><span class="hljs-number">196</span></span>,worst] <span class="hljs-number"><span class="hljs-number">200</span></span> test.<span class="hljs-keyword"><span class="hljs-keyword">local</span></span> smartctl.smart[sg1,<span class="hljs-number"><span class="hljs-number">196</span></span>,thresh] <span class="hljs-number"><span class="hljs-number">0</span></span> test.<span class="hljs-keyword"><span class="hljs-keyword">local</span></span> smartctl.smart[sg1,<span class="hljs-number"><span class="hljs-number">196</span></span>,<span class="hljs-keyword"><span class="hljs-keyword">type</span></span>] "Old_age" test.<span class="hljs-keyword"><span class="hljs-keyword">local</span></span> smartctl.smart[sg1,<span class="hljs-number"><span class="hljs-number">196</span></span>,updated] "Always" test.<span class="hljs-keyword"><span class="hljs-keyword">local</span></span> smartctl.smart[sg1,<span class="hljs-number"><span class="hljs-number">196</span></span>,when_failed] "-" test.<span class="hljs-keyword"><span class="hljs-keyword">local</span></span> smartctl.smart[sg1,<span class="hljs-number"><span class="hljs-number">196</span></span>,raw_value] <span class="hljs-number"><span class="hljs-number">0</span></span> test.<span class="hljs-keyword"><span class="hljs-keyword">local</span></span> smartctl.smart[sg1,<span class="hljs-number"><span class="hljs-number">197</span></span>,attribute_name] "Current_Pending_Sector" test.<span class="hljs-keyword"><span class="hljs-keyword">local</span></span> smartctl.smart[sg1,<span class="hljs-number"><span class="hljs-number">197</span></span>,flag] "0x0032" test.<span class="hljs-keyword"><span class="hljs-keyword">local</span></span> smartctl.smart[sg1,<span class="hljs-number"><span class="hljs-number">197</span></span>,<span class="hljs-keyword"><span class="hljs-keyword">value</span></span>] <span class="hljs-number"><span class="hljs-number">200</span></span> test.<span class="hljs-keyword"><span class="hljs-keyword">local</span></span> smartctl.smart[sg1,<span class="hljs-number"><span class="hljs-number">197</span></span>,worst] <span class="hljs-number"><span class="hljs-number">200</span></span> test.<span class="hljs-keyword"><span class="hljs-keyword">local</span></span> smartctl.smart[sg1,<span class="hljs-number"><span class="hljs-number">197</span></span>,thresh] <span class="hljs-number"><span class="hljs-number">0</span></span> test.<span class="hljs-keyword"><span class="hljs-keyword">local</span></span> smartctl.smart[sg1,<span class="hljs-number"><span class="hljs-number">197</span></span>,<span class="hljs-keyword"><span class="hljs-keyword">type</span></span>] "Old_age" test.<span class="hljs-keyword"><span class="hljs-keyword">local</span></span> smartctl.smart[sg1,<span class="hljs-number"><span class="hljs-number">197</span></span>,updated] "Always" test.<span class="hljs-keyword"><span class="hljs-keyword">local</span></span> smartctl.smart[sg1,<span class="hljs-number"><span class="hljs-number">197</span></span>,when_failed] "-" test.<span class="hljs-keyword"><span class="hljs-keyword">local</span></span> smartctl.smart[sg1,<span class="hljs-number"><span class="hljs-number">197</span></span>,raw_value] <span class="hljs-number"><span class="hljs-number">0</span></span> test.<span class="hljs-keyword"><span class="hljs-keyword">local</span></span> smartctl.smart[sg1,<span class="hljs-number"><span class="hljs-number">198</span></span>,attribute_name] "Offline_Uncorrectable" test.<span class="hljs-keyword"><span class="hljs-keyword">local</span></span> smartctl.smart[sg1,<span class="hljs-number"><span class="hljs-number">198</span></span>,flag] "0x0030" test.<span class="hljs-keyword"><span class="hljs-keyword">local</span></span> smartctl.smart[sg1,<span class="hljs-number"><span class="hljs-number">198</span></span>,<span class="hljs-keyword"><span class="hljs-keyword">value</span></span>] <span class="hljs-number"><span class="hljs-number">200</span></span> test.<span class="hljs-keyword"><span class="hljs-keyword">local</span></span> smartctl.smart[sg1,<span class="hljs-number"><span class="hljs-number">198</span></span>,worst] <span class="hljs-number"><span class="hljs-number">200</span></span> test.<span class="hljs-keyword"><span class="hljs-keyword">local</span></span> smartctl.smart[sg1,<span class="hljs-number"><span class="hljs-number">198</span></span>,thresh] <span class="hljs-number"><span class="hljs-number">0</span></span> test.<span class="hljs-keyword"><span class="hljs-keyword">local</span></span> smartctl.smart[sg1,<span class="hljs-number"><span class="hljs-number">198</span></span>,<span class="hljs-keyword"><span class="hljs-keyword">type</span></span>] "Old_age" test.<span class="hljs-keyword"><span class="hljs-keyword">local</span></span> smartctl.smart[sg1,<span class="hljs-number"><span class="hljs-number">198</span></span>,updated] "Offline" test.<span class="hljs-keyword"><span class="hljs-keyword">local</span></span> smartctl.smart[sg1,<span class="hljs-number"><span class="hljs-number">198</span></span>,when_failed] "-" test.<span class="hljs-keyword"><span class="hljs-keyword">local</span></span> smartctl.smart[sg1,<span class="hljs-number"><span class="hljs-number">198</span></span>,raw_value] <span class="hljs-number"><span class="hljs-number">0</span></span> test.<span class="hljs-keyword"><span class="hljs-keyword">local</span></span> smartctl.smart[sg1,<span class="hljs-number"><span class="hljs-number">199</span></span>,attribute_name] "UDMA_CRC_Error_Count" test.<span class="hljs-keyword"><span class="hljs-keyword">local</span></span> smartctl.smart[sg1,<span class="hljs-number"><span class="hljs-number">199</span></span>,flag] "0x0032" test.<span class="hljs-keyword"><span class="hljs-keyword">local</span></span> smartctl.smart[sg1,<span class="hljs-number"><span class="hljs-number">199</span></span>,<span class="hljs-keyword"><span class="hljs-keyword">value</span></span>] <span class="hljs-number"><span class="hljs-number">200</span></span> test.<span class="hljs-keyword"><span class="hljs-keyword">local</span></span> smartctl.smart[sg1,<span class="hljs-number"><span class="hljs-number">199</span></span>,worst] <span class="hljs-number"><span class="hljs-number">200</span></span> test.<span class="hljs-keyword"><span class="hljs-keyword">local</span></span> smartctl.smart[sg1,<span class="hljs-number"><span class="hljs-number">199</span></span>,thresh] <span class="hljs-number"><span class="hljs-number">0</span></span> test.<span class="hljs-keyword"><span class="hljs-keyword">local</span></span> smartctl.smart[sg1,<span class="hljs-number"><span class="hljs-number">199</span></span>,<span class="hljs-keyword"><span class="hljs-keyword">type</span></span>] "Old_age" test.<span class="hljs-keyword"><span class="hljs-keyword">local</span></span> smartctl.smart[sg1,<span class="hljs-number"><span class="hljs-number">199</span></span>,updated] "Always" test.<span class="hljs-keyword"><span class="hljs-keyword">local</span></span> smartctl.smart[sg1,<span class="hljs-number"><span class="hljs-number">199</span></span>,when_failed] "-" test.<span class="hljs-keyword"><span class="hljs-keyword">local</span></span> smartctl.smart[sg1,<span class="hljs-number"><span class="hljs-number">199</span></span>,raw_value] <span class="hljs-number"><span class="hljs-number">0</span></span> test.<span class="hljs-keyword"><span class="hljs-keyword">local</span></span> smartctl.smart[sg1,<span class="hljs-number"><span class="hljs-number">200</span></span>,attribute_name] "Multi_Zone_Error_Rate" test.<span class="hljs-keyword"><span class="hljs-keyword">local</span></span> smartctl.smart[sg1,<span class="hljs-number"><span class="hljs-number">200</span></span>,flag] "0x0008" test.<span class="hljs-keyword"><span class="hljs-keyword">local</span></span> smartctl.smart[sg1,<span class="hljs-number"><span class="hljs-number">200</span></span>,<span class="hljs-keyword"><span class="hljs-keyword">value</span></span>] <span class="hljs-number"><span class="hljs-number">200</span></span> test.<span class="hljs-keyword"><span class="hljs-keyword">local</span></span> smartctl.smart[sg1,<span class="hljs-number"><span class="hljs-number">200</span></span>,worst] <span class="hljs-number"><span class="hljs-number">200</span></span> test.<span class="hljs-keyword"><span class="hljs-keyword">local</span></span> smartctl.smart[sg1,<span class="hljs-number"><span class="hljs-number">200</span></span>,thresh] <span class="hljs-number"><span class="hljs-number">0</span></span> test.<span class="hljs-keyword"><span class="hljs-keyword">local</span></span> smartctl.smart[sg1,<span class="hljs-number"><span class="hljs-number">200</span></span>,<span class="hljs-keyword"><span class="hljs-keyword">type</span></span>] "Old_age" test.<span class="hljs-keyword"><span class="hljs-keyword">local</span></span> smartctl.smart[sg1,<span class="hljs-number"><span class="hljs-number">200</span></span>,updated] "Offline" test.<span class="hljs-keyword"><span class="hljs-keyword">local</span></span> smartctl.smart[sg1,<span class="hljs-number"><span class="hljs-number">200</span></span>,when_failed] "-" test.<span class="hljs-keyword"><span class="hljs-keyword">local</span></span> smartctl.smart[sg1,<span class="hljs-number"><span class="hljs-number">200</span></span>,raw_value] <span class="hljs-number"><span class="hljs-number">0</span></span></code> </pre><br></div></div><br>  And then just send all this Zabbix Trapper: <br><div class="spoiler">  <b class="spoiler_title">zabbix_smartctl.sh</b> <div class="spoiler_text"><pre> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment">#!/bin/bash # Sending collected data to the zabbix server # Get device list and type from STDIN, produced by smartdiscovery.sh PREFIX='/usr/local/bin' AGENT_CFG='/etc/zabbix/zabbix_agentd.conf' while IFS=' ' read -r -a attr; do smartctl -A -H -i -d ${attr[1]} /dev/${attr[0]} | $PREFIX/smart2zabbix.sh /dev/${attr[0]} ${attr[1]} - | /usr/bin/zabbix_sender -c $AGENT_CFG -i - done &lt; /dev/stdin</span></span></code> </pre><br></div></div><br>  Next, you only need to enable sudo for some scripts, place the task in cron and import the template on Zabbix Server. <br>  The ready-made kit can be obtained from the official Zabbix Share portal, where it is all laid out for everyone: <a href="https://share.zabbix.com/storage-devices/smartmontools/s-m-a-r-t-monitoring-with-smartmontools-lld-trapper">SMART monitoring with smartmontools (LLD, Trapper)</a> 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      The main advantage over other similar templates / scripts is that you can load all the attributes that you later use at will, without changing the scripts, just by adding them on the server. </div><p>Source: <a href="https://habr.com/ru/post/274391/">https://habr.com/ru/post/274391/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../274377/index.html">Yota network readiness for the New Year holidays</a></li>
<li><a href="../274379/index.html">Annual Report Habrapost - 2015</a></li>
<li><a href="../274383/index.html">Graph databases: the holy grail for developers?</a></li>
<li><a href="../274385/index.html">Webpack ProvidePlugin: how not to write a sheet import / require at the beginning of the javascript module</a></li>
<li><a href="../274389/index.html">Happy New Year! Results of 2015</a></li>
<li><a href="../274393/index.html">happy (new Year (2016));</a></li>
<li><a href="../274397/index.html">Ajenti 2 and other news</a></li>
<li><a href="../274399/index.html">How to create a game engine for short stories in 3 days</a></li>
<li><a href="../274403/index.html">Challenge 2016</a></li>
<li><a href="../274413/index.html">Working with AngularJS Protractor from C # and Java</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>