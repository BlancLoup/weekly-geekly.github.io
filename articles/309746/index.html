<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ESP32: Getting to know, writing and launching the first firmware</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hello. A few days ago I got a copy of the ESP32 Demo Board V2, which I immediately happily announced at my FB. Of course, it‚Äôs not very easy to get it...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>ESP32: Getting to know, writing and launching the first firmware</h1><div class="post__text post__text-html js-mediator-article">  Hello.  A few days ago I got a copy of the ESP32 Demo Board V2, which I immediately happily announced at my FB.  Of course, it‚Äôs not very easy to get it now: the first batch (600 pieces), which went on sale at Seeed Studio, was scattered in a matter of hours! <br><br><img src="https://habrastorage.org/files/f41/c58/850/f41c5885045f4d158d0573db5ed920fc.jpg"><br><br>  But as a developer and hardware integrator of the <a href="https://github.com/blynkkk/blynk-library/">Open-Source library</a> for Blynk, I often get early access to various devices.  Blynk allows you to quickly prototype and build iOS / Android Apps for the Internet of Things using drag'n'drop blocks right on your phone. <br><a name="habracut"></a><br>  The fee, which fell into my hands, looks like this: 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/65b/e24/f3b/65be24f3b4911a20b39515acfa34796f.jpg" alt="image"></div><br><br>  <b>ESP32 promises to make a revolution in the IoT world again</b> , as its younger brother ESP8266 did in due time (and I sincerely hope that it will be so).  If you have not heard anything about ESP8266 before - read, for example, <a href="https://habrahabr.ru/company/coolrf/blog/235881/">here</a> and <a href="https://geektimes.ru/post/241054/">here</a> (and Google). <br><br>  What is the new ESP32?  Even at first glance, it is clear that this is a very powerful platform.  For example, Ivan Grokhotkov (developer of Arduino support for ESP8266) published a photo of the game DOOM on ESP32: <br><br><div class="oembed"><twitter-widget class="twitter-tweet twitter-tweet-rendered" id="twitter-widget-0" style="position: static; visibility: visible; display: block; transform: rotate(0deg); width: 500px; margin: 10px auto; max-width: 100%; min-width: 220px;" data-tweet-id="773071419638898688"></twitter-widget><script async="" src="//platform.twitter.com/widgets.js" charset="utf-8"></script></div><br><br><h2>  ESP32 specifications </h2><br>  <b>CPU:</b> Xtensa Dual-Core 32-bit LX6, 160 MHz or 240 MHz (up to 600 DMIPS) <br>  <b>Memory:</b> 520 KByte SRAM, 448 KByte ROM <br>  <b>Flash</b> on the module: 1, 2, 4 ... 64 MB <br>  <b>Wireless:</b> <br><ul><li>  Wi-Fi: 802.11b / g / n / e / i, up to 150 Mbps with HT40 </li><li>  Bluetooth: v4.2 BR / EDR and BLE </li></ul><br>  <b>Peripheral interfaces:</b> <br><ul><li>  12-bit SAR ADC up to 18 channels </li><li>  2 √ó 8-bit DAC </li><li>  10 √ó touch sensors </li><li>  Temperature sensor </li><li>  4 √ó SPI </li><li>  2 √ó I¬≤S </li><li>  2 √ó I¬≤C </li><li>  3 √ó UART </li><li>  1 host (SD / eMMC / SDIO) </li><li>  1 slave (SDIO / SPI) </li><li>  Ethernet MAC with DMA and IEEE 1588 support </li><li>  CAN 2.0 </li><li>  IR (TX / RX) </li><li>  Motor pwm </li><li>  LED PWM up to 16 channels </li><li>  Hall sensor </li><li>  Ultra low power analog pre-amplifier </li></ul><br>  <b>Security:</b> <br><ul><li>  IEEE 802.11 security WFA, WPA / WPA2 and WAPI </li><li>  Secure boot </li><li>  Flash encryption </li><li>  1024-bit OTP, including up to 768-bit per task </li><li>  Cryptographic engine: AES, SHA-2, RSA, ECC, RNG </li></ul><br>  In the picture it looks like this: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/800/49f/400/80049f400c545ea98968971ef11d9043.jpg" alt="image"></div><br>  More detailed (and almost complete) information is <a href="https://espressif.com/en/products/hardware/esp32/resources">on off.</a>  <a href="https://espressif.com/en/products/hardware/esp32/resources">Espressif Systems website</a> .  ESP32 will be available (at least) in several forms: <br><br>  ¬ª <b>ESP-WROOM-32 module</b> ($ 5?) <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/8c8/d9a/0e4/8c8d9a0e41747ad9df8f344fc4aa6a28.jpg" alt="image"></div><br><br>  <a href="">Pinout</a> |  <a href="https://espressif.com/sites/default/files/documentation/esp_wroom_32_datasheet_en.pdf">Datasheet</a> <br><br>  ¬ª <b>Module AI-Thinker ESP3212</b> , similar to the ESP-12F ($ 6.9).  On the ESP3212 no legs for SD-card, in contrast to the WROOM-32. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/42e/323/4b8/42e3234b89072d8618e00f2a1dd1f980.jpg" alt="image"><img src="https://habrastorage.org/getpro/habr/post_images/7e7/db9/fe8/7e7db9fe83264650c94fab0e7261d06a.jpg" alt="image"><br><br>  <a href="https://hackaday.io/project/14529-esp3212-eagle-library-and-breakout-board">Eagle Library</a> |  <a href="https://hackaday.io/project/13483-esp32-kicad-library">KiCAD Library</a> <br><br>  <b>Chip ESP32-D0WDQ6</b> ($ 2.8?) |  <a href="https://espressif.com/sites/default/files/documentation/esp32_datasheet_en_0.pdf">Datasheet</a> <br><br><img src="https://habrastorage.org/getpro/habr/post_images/20c/0cd/624/20c0cd62486e065e0841cd54941edc64.jpg" alt="image" align="left"><ul><li>  <b>D</b> : Dual-core </li><li>  <b>0</b> : No internal flash </li><li>  <b>W</b> : Wi-Fi </li><li>  <b>D</b> : Dual-mode Bluetooth </li><li>  <b>Q</b> : Quad Flat No-leads (QFN) package </li><li>  <b>6</b> : 6 mm √ó 6 mm package body size </li></ul><br>  It is worth noting that before the ESP32 release, the ESP31B (test version) was available as an Espressif ESP-WROOM-03 module, and on the Internet it is often confused with ESP32. <br><br>  <b>Caution!</b>  Almost all references to ESP32 until 09.2016 is actually about ESP31B, which is not the same at all. <br><br><h2>  Setting up the development environment </h2><br>  On the offsite now you can find links to two SDKs: <br><br>  ¬ª <a href="https://github.com/espressif/ESP31_RTOS_SDK">ESP31_RTOS_SDK</a> - SDK for ESP31B, built on FreeRTOS. <br>  ¬ª <a href="https://github.com/espressif/esp-idf">Espressif IDF (IoT Development Framework)</a> - Official development framework for ESP32. <br><br>  Although it is not obvious from the description on the site, <b>only ESP-IDF is suitable</b> for the release version.  There are installation instructions for <a href="">linux</a> , <a href="">windows</a> , <a href="">macos</a> . <br><br>  I have 64-bit Ubuntu Linux.  First downloaded the compiler: <br><br><pre><code class="bash hljs">sudo mkdir /opt/Espressif sudo chmod a+rw /opt/Espressif <span class="hljs-built_in"><span class="hljs-built_in">cd</span></span> /opt/Espressif wget https://dl.espressif.com/dl/xtensa-esp32-elf-linux64-1.22.0-59.tar.gz tar -xzf xtensa-esp32-elf-linux64-1.22.0-59.tar.gz</code> </pre> <br>  The <code>xtensa-esp32-elf</code> folder should appear.  Then I downloaded esp-idf (in the same <code>/opt/Espressif</code> folder): <br><br><pre> <code class="bash hljs">git <span class="hljs-built_in"><span class="hljs-built_in">clone</span></span> --recursive https://github.com/espressif/esp-idf.git</code> </pre> <br>  A folder <code>esp-idf</code> should appear. <br><br><h2>  Writing Hello World </h2><br>  Espressif has prepared a template for us, so it's very easy to start: <br><br><pre> <code class="bash hljs"><span class="hljs-built_in"><span class="hljs-built_in">cd</span></span> ~ git <span class="hljs-built_in"><span class="hljs-built_in">clone</span></span> https://github.com/espressif/esp-idf-template.git myapp <span class="hljs-built_in"><span class="hljs-built_in">cd</span></span> myapp</code> </pre> <br>  You can try to run a pure template, but it seemed uninteresting to me.  I added a little <code>main/app_main.c</code> to flash the LED.  That's what happened. <br><br><div class="spoiler">  <b class="spoiler_title">main / app_main.c</b> <div class="spoiler_text"><pre> <code class="cpp hljs"><span class="hljs-meta"><span class="hljs-meta">#</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">include</span></span></span><span class="hljs-meta"> </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">&lt;stdio.h&gt; #include "rom/gpio.h" #include "esp_system.h" #include "freertos/FreeRTOS.h" #include "freertos/task.h" #define LED_PIN 18 #define LOG(msg, ...) printf("[%u] " msg "\n", system_get_time(), ##__VA_ARGS__) void pingTask(void *pvParameters) { while (1) { GPIO_OUTPUT_SET(LED_PIN, 0); LOG("low"); vTaskDelay(1000 / portTICK_PERIOD_MS); GPIO_OUTPUT_SET(LED_PIN, 1); LOG("high"); vTaskDelay(1000 / portTICK_PERIOD_MS); } } void app_main() { xTaskCreatePinnedToCore(&amp;pingTask, "pingTask", 2048, NULL, 5, NULL, 0); }</span></span></span></span></code> </pre></div></div><br><h2>  We collect and fill the board </h2><br>  To build a project, you first need to configure the environment <br><br><pre> <code class="bash hljs"><span class="hljs-built_in"><span class="hljs-built_in">cd</span></span> ~/myapp <span class="hljs-built_in"><span class="hljs-built_in">export</span></span> PATH=/opt/Espressif/xtensa-esp32-elf/bin:<span class="hljs-variable"><span class="hljs-variable">$PATH</span></span> <span class="hljs-built_in"><span class="hljs-built_in">export</span></span> IDF_PATH=/opt/Espressif/esp-idf</code> </pre> <br>  Now we connect the board, turn on the power, and look at which port it appeared (I have this / dev / ttyUSB3).  Run the configurator: <br><br><pre> <code class="bash hljs">make menuconfig</code> </pre> <br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/b2a/88f/157/b2a88f1572dcf3cb4dfdd01ae6ededb8.jpg" alt="image"></div><br>  You need to go to the "Serial flasher config" and install the "Default serial port" on the port of the board.  You can still see other settings. <br>  All save and exit. <br><br>  Compile: <br><br><pre> <code class="bash hljs">make</code> </pre> <br>  If everything is good, fill in the fee: <br><br><pre> <code class="bash hljs">make flash</code> </pre> <br><div class="spoiler">  <b class="spoiler_title">It should display something like ...</b> <div class="spoiler_text"><pre> <code class="bash hljs">Flashing project app to 0x10000... esptool.py v2.0-dev Connecting... Changing baud rate to 921600 Changed. ******************************** IS HSPI: 0x00000000 &lt;<span class="hljs-built_in"><span class="hljs-built_in">type</span></span> <span class="hljs-string"><span class="hljs-string">'int'</span></span>&gt; -------------------------- IS LEGACY: 0x00 &lt;<span class="hljs-built_in"><span class="hljs-built_in">type</span></span> <span class="hljs-string"><span class="hljs-string">'int'</span></span>&gt; ********************************* SENDING SPI ATTACH COMMAND -------------- SEND ESP SPI ATTACH CMD START DOWNLOADING... Erasing flash... Unc size 6656 comp size 3900 comp blocks 4 Took 0.09s to erase flash block Wrote 3900 bytes at 0x00001000 <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> 0.2 seconds (194.1 kbit/s)... Hash of data verified. Erasing flash... Unc size 378208 comp size 210815 comp blocks 206 Took 1.99s to erase flash block Wrote 210815 bytes at 0x00010000 <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> 4.6 seconds (366.2 kbit/s)... Hash of data verified. Erasing flash... Unc size 96 comp size 57 comp blocks 1 Took 0.04s to erase flash block Wrote 57 bytes at 0x00004000 <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> 0.1 seconds (5.0 kbit/s)... Hash of data verified. Leaving...</code> </pre> </div></div><br>  Connect to the board using Putty (screen, or another terminal emulator).  We distort the power, and see: <br><br><div class="spoiler">  <b class="spoiler_title">Initial initialization</b> <div class="spoiler_text"><pre> <code class="hljs pgsql">ets Jun <span class="hljs-number"><span class="hljs-number">8</span></span> <span class="hljs-number"><span class="hljs-number">2016</span></span> <span class="hljs-number"><span class="hljs-number">00</span></span>:<span class="hljs-number"><span class="hljs-number">22</span></span>:<span class="hljs-number"><span class="hljs-number">57</span></span> rst:<span class="hljs-number"><span class="hljs-number">0x1</span></span> (POWERON_RESET),boot:<span class="hljs-number"><span class="hljs-number">0x13</span></span> (SPI_FAST_FLASH_BOOT) ets Jun <span class="hljs-number"><span class="hljs-number">8</span></span> <span class="hljs-number"><span class="hljs-number">2016</span></span> <span class="hljs-number"><span class="hljs-number">00</span></span>:<span class="hljs-number"><span class="hljs-number">22</span></span>:<span class="hljs-number"><span class="hljs-number">57</span></span> rst:<span class="hljs-number"><span class="hljs-number">0x10</span></span> (RTCWDT_RTC_RESET),boot:<span class="hljs-number"><span class="hljs-number">0x13</span></span> (SPI_FAST_FLASH_BOOT) configsip: <span class="hljs-number"><span class="hljs-number">0</span></span>, SPIWP:<span class="hljs-number"><span class="hljs-number">0x00</span></span> clk_drv:<span class="hljs-number"><span class="hljs-number">0x00</span></span>,q_drv:<span class="hljs-number"><span class="hljs-number">0x00</span></span>,d_drv:<span class="hljs-number"><span class="hljs-number">0x00</span></span>,cs0_drv:<span class="hljs-number"><span class="hljs-number">0x00</span></span>,hd_drv:<span class="hljs-number"><span class="hljs-number">0x00</span></span>,wp_drv:<span class="hljs-number"><span class="hljs-number">0x00</span></span> mode:QIO, clock div:<span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-keyword"><span class="hljs-keyword">load</span></span>:<span class="hljs-number"><span class="hljs-number">0x3ffc0000</span></span>,len:<span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-keyword"><span class="hljs-keyword">load</span></span>:<span class="hljs-number"><span class="hljs-number">0x3ffc0000</span></span>,len:<span class="hljs-number"><span class="hljs-number">2268</span></span> <span class="hljs-keyword"><span class="hljs-keyword">load</span></span>:<span class="hljs-number"><span class="hljs-number">0x40078000</span></span>,len:<span class="hljs-number"><span class="hljs-number">3788</span></span> <span class="hljs-keyword"><span class="hljs-keyword">load</span></span>:<span class="hljs-number"><span class="hljs-number">0x40098000</span></span>,len:<span class="hljs-number"><span class="hljs-number">532</span></span> entry <span class="hljs-number"><span class="hljs-number">0x4009813c</span></span> ************************************** * hello espressif ESP32! * * <span class="hljs-number"><span class="hljs-number">2</span></span>nd boot <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> running! * * version (V0<span class="hljs-number"><span class="hljs-number">.1</span></span>) * ************************************** compile <span class="hljs-type"><span class="hljs-type">time</span></span> <span class="hljs-number"><span class="hljs-number">18</span></span>:<span class="hljs-number"><span class="hljs-number">10</span></span>:<span class="hljs-number"><span class="hljs-number">20</span></span> SPI Speed : <span class="hljs-number"><span class="hljs-number">40</span></span>MHz SPI Mode : QIO SPI Flash Size : <span class="hljs-number"><span class="hljs-number">4</span></span>MB <span class="hljs-keyword"><span class="hljs-keyword">Partition</span></span> <span class="hljs-keyword"><span class="hljs-keyword">Table</span></span>: ## Label <span class="hljs-keyword"><span class="hljs-keyword">Usage</span></span> <span class="hljs-keyword"><span class="hljs-keyword">Type</span></span> ST <span class="hljs-keyword"><span class="hljs-keyword">Offset</span></span> Length <span class="hljs-number"><span class="hljs-number">0</span></span> factory factory app <span class="hljs-number"><span class="hljs-number">00</span></span> <span class="hljs-number"><span class="hljs-number">00</span></span> <span class="hljs-number"><span class="hljs-number">00010000</span></span> <span class="hljs-number"><span class="hljs-number">00100000</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> rfdata RF data <span class="hljs-number"><span class="hljs-number">01</span></span> <span class="hljs-number"><span class="hljs-number">01</span></span> <span class="hljs-number"><span class="hljs-number">00110000</span></span> <span class="hljs-number"><span class="hljs-number">00040000</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span> wifidata WiFi data <span class="hljs-number"><span class="hljs-number">01</span></span> <span class="hljs-number"><span class="hljs-number">02</span></span> <span class="hljs-number"><span class="hljs-number">00150000</span></span> <span class="hljs-number"><span class="hljs-number">00040000</span></span> <span class="hljs-keyword"><span class="hljs-keyword">End</span></span> <span class="hljs-keyword"><span class="hljs-keyword">of</span></span> <span class="hljs-keyword"><span class="hljs-keyword">partition</span></span> <span class="hljs-keyword"><span class="hljs-keyword">table</span></span> Loading app <span class="hljs-keyword"><span class="hljs-keyword">partition</span></span> at <span class="hljs-keyword"><span class="hljs-keyword">offset</span></span> <span class="hljs-number"><span class="hljs-number">00010000</span></span> section <span class="hljs-number"><span class="hljs-number">0</span></span>: paddr=<span class="hljs-number"><span class="hljs-number">0x00000020</span></span> vaddr=<span class="hljs-number"><span class="hljs-number">0x00000000</span></span> size=<span class="hljs-number"><span class="hljs-number">0x0ffe8</span></span> ( <span class="hljs-number"><span class="hljs-number">65512</span></span>) section <span class="hljs-number"><span class="hljs-number">1</span></span>: paddr=<span class="hljs-number"><span class="hljs-number">0x00010010</span></span> vaddr=<span class="hljs-number"><span class="hljs-number">0x3f400010</span></span> size=<span class="hljs-number"><span class="hljs-number">0x086fc</span></span> ( <span class="hljs-number"><span class="hljs-number">34556</span></span>) map section <span class="hljs-number"><span class="hljs-number">2</span></span>: paddr=<span class="hljs-number"><span class="hljs-number">0x00018714</span></span> vaddr=<span class="hljs-number"><span class="hljs-number">0x3ffba950</span></span> size=<span class="hljs-number"><span class="hljs-number">0x01248</span></span> ( <span class="hljs-number"><span class="hljs-number">4680</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">load</span></span> section <span class="hljs-number"><span class="hljs-number">3</span></span>: paddr=<span class="hljs-number"><span class="hljs-number">0x00019964</span></span> vaddr=<span class="hljs-number"><span class="hljs-number">0x40080000</span></span> size=<span class="hljs-number"><span class="hljs-number">0x00400</span></span> ( <span class="hljs-number"><span class="hljs-number">1024</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">load</span></span> section <span class="hljs-number"><span class="hljs-number">4</span></span>: paddr=<span class="hljs-number"><span class="hljs-number">0x00019d6c</span></span> vaddr=<span class="hljs-number"><span class="hljs-number">0x40080400</span></span> size=<span class="hljs-number"><span class="hljs-number">0x1326c</span></span> ( <span class="hljs-number"><span class="hljs-number">78444</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">load</span></span> section <span class="hljs-number"><span class="hljs-number">5</span></span>: paddr=<span class="hljs-number"><span class="hljs-number">0x0002cfe0</span></span> vaddr=<span class="hljs-number"><span class="hljs-number">0x00000000</span></span> size=<span class="hljs-number"><span class="hljs-number">0x03030</span></span> ( <span class="hljs-number"><span class="hljs-number">12336</span></span>) section <span class="hljs-number"><span class="hljs-number">6</span></span>: paddr=<span class="hljs-number"><span class="hljs-number">0x00030018</span></span> vaddr=<span class="hljs-number"><span class="hljs-number">0x400d0018</span></span> size=<span class="hljs-number"><span class="hljs-number">0x2c540</span></span> (<span class="hljs-number"><span class="hljs-number">181568</span></span>) map <span class="hljs-keyword"><span class="hljs-keyword">start</span></span>: <span class="hljs-number"><span class="hljs-number">0x4008078c</span></span> Initializing heap allocator: Region <span class="hljs-number"><span class="hljs-number">19</span></span>: <span class="hljs-number"><span class="hljs-number">3</span></span>FFBBB98 len <span class="hljs-number"><span class="hljs-number">00024468</span></span> tag <span class="hljs-number"><span class="hljs-number">0</span></span> Region <span class="hljs-number"><span class="hljs-number">25</span></span>: <span class="hljs-number"><span class="hljs-number">3</span></span>FFE8000 len <span class="hljs-number"><span class="hljs-number">00018000</span></span> tag <span class="hljs-number"><span class="hljs-number">1</span></span> Pro cpu up. Pro cpu <span class="hljs-keyword"><span class="hljs-keyword">start</span></span> <span class="hljs-keyword"><span class="hljs-keyword">user</span></span> code nvs_flash_init misc_nvs_load g_misc_nvs=<span class="hljs-number"><span class="hljs-number">0x3ffbbd04</span></span> frc2_timer_task_hdl:<span class="hljs-number"><span class="hljs-number">3</span></span>ffbc880, prio:<span class="hljs-number"><span class="hljs-number">22</span></span>, stack:<span class="hljs-number"><span class="hljs-number">2048</span></span> tcpip_task_hdlxxx : <span class="hljs-number"><span class="hljs-number">3</span></span>ffbe62c, prio:<span class="hljs-number"><span class="hljs-number">20</span></span>,stack:<span class="hljs-number"><span class="hljs-number">2048</span></span> phy_version: <span class="hljs-number"><span class="hljs-number">80</span></span>, Aug <span class="hljs-number"><span class="hljs-number">26</span></span> <span class="hljs-number"><span class="hljs-number">2016</span></span>, <span class="hljs-number"><span class="hljs-number">13</span></span>:<span class="hljs-number"><span class="hljs-number">04</span></span>:<span class="hljs-number"><span class="hljs-number">06</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span> pp_task_hdl : <span class="hljs-number"><span class="hljs-number">3</span></span>ffc3360, prio:<span class="hljs-number"><span class="hljs-number">23</span></span>, stack:<span class="hljs-number"><span class="hljs-number">8192</span></span></code> </pre></div></div><br><pre> <code class="hljs css"><span class="hljs-selector-attr"><span class="hljs-selector-attr">[213450]</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">low</span></span> <span class="hljs-selector-attr"><span class="hljs-selector-attr">[1212827]</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">high</span></span> <span class="hljs-selector-attr"><span class="hljs-selector-attr">[2212827]</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">low</span></span> <span class="hljs-selector-attr"><span class="hljs-selector-attr">[3212828]</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">high</span></span> <span class="hljs-selector-attr"><span class="hljs-selector-attr">[4212828]</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">low</span></span></code> </pre> <br>  If you connect the LED to the <code>IO18</code> , it also flashes.  So our code works! <br><br><h2>  Debugging </h2><br>  Another good news is that ESP32 has a JTAG interface on <code>IO12, IO13, IO14, IO15</code> .  I will try to use it for debugging programs.  But about this in the next article. <br><br>  Well, it remains only to wait for the availability of ESP32 in stores, stabilization of the SDK (I hope it will initially be much more stable than ESP8266).  Bluetooth is also not available yet.  Soon (according to my data, very soon), beta support for the Arduino IDE and <a href="https://micropython.org/">MicroPython</a> should appear, then <a href="http://www.espruino.com/">Espruino</a> and something similar to NodeMCU. <br><br>  What do you think? </div><p>Source: <a href="https://habr.com/ru/post/309746/">https://habr.com/ru/post/309746/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../309736/index.html">III International Conference AI Ukraine, October 8-9, Kharkov</a></li>
<li><a href="../309738/index.html">Quest story "NIICHOSHI. Newbie</a></li>
<li><a href="../309740/index.html">CannyViewAnimator: switch states beautifully</a></li>
<li><a href="../309742/index.html">UX-strategy in practice. Part 4 - From Design Team to Design Culture</a></li>
<li><a href="../309744/index.html">Little more: the problems of the children's Internet</a></li>
<li><a href="../309748/index.html">A cool online business idea. How to make money on someone else's name, someone else's site, and even without a product</a></li>
<li><a href="../309750/index.html">Open platform for developers of open source projects</a></li>
<li><a href="../309752/index.html">Refactoring sequential checks in Mockito using fluent interfaces</a></li>
<li><a href="../309754/index.html">Email Marketing: Recipe for Correct Plain-Text Letters</a></li>
<li><a href="../309756/index.html">Modest - development of an open-source HTML rendering engine on the ‚Äúbare‚Äù C</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>