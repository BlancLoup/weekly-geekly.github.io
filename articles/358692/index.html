<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Selection: 6 open frameworks for creating backtesters of trading strategies in Python</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="In his article on QuantStart, expert in the development of financial applications Frank Smitana (Frank Smietana) spoke about the existing frameworks f...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Selection: 6 open frameworks for creating backtesters of trading strategies in Python</h1><div class="post__text post__text-html js-mediator-article"> <a href="https://habr.com/company/iticapital/blog/358692/"><img src="https://habrastorage.org/webt/jx/c9/pc/jxc9pcmytpk2vxbitfbtevnjnvk.png"></a> <br><br>  In his article on QuantStart, expert in the development of financial applications Frank Smitana (Frank Smietana) spoke about the existing frameworks for creating software for backtesting trading strategies and gave some tips on choosing such tools.  We adapted this useful material. <br><a name="habracut"></a><br><h2>  What is backtesting </h2><br>  Backtesting is called the ‚Äúrun‚Äù of the programmed trading strategy for real trading data that occurred in the past (‚Äúhistorical data‚Äù).  This is an extremely important process that has the same meaning as the actual development of a strategy and its launch during real-time trading in real time.  It is believed that high-quality testing on historical data helps to identify some of the shortcomings and bottlenecks of the trading system before it leads to massive losses. <br><br>  In addition to backtesting, there is the concept of simulating a trading strategy.  Simulation programs simulate the occurrence of conditions that should serve as triggers for making deals with a financial program ‚Äî in this case, real-time mode is used. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Most of the frameworks described in this article contain not only the functionality of direct backtesting, but also provide certain opportunities for running simulations. <br><br>  In the Python sphere, the situation with specialized software is quite good - the community has six open frameworks available for creating backtesting tools. <br><br><h2>  Before choosing a framework </h2><br>  Before proceeding to the selection of the framework and the development of a backtester, you should determine the requirements for the trading system as a whole.  Among other things, there are the following important questions that require answers: <br><br><ul><li>  <b>Operations with which asset class the system will perform</b> .  Most frameworks support working with data on trading in US stocks (via Yahoo Finance), but if you need to trade in derivatives, ETFs, or other tools, you can import this information in some way.  In addition, it is not enough to find it, it is also necessary for the framework to work with the necessary type of assets - whether it can handle operations with futures and options, correctly make large transactions in not the most liquid markets, and so on. </li><li>  <b>How high-frequency and data-demanding the strategy will be</b> .  A trading system that requires information on each tick or a change in the bid / ask spread is very different from a trading robot operating on five-minute or one-hour trading data intervals.  It is important to understand that in order to create systems of the first type, hedge funds and HFT companies have to invest huge amounts of money in development - this is the only way they can create software that can cope with the required loads.  There are also platforms that provide datasets for various asset classes, such as the S &amp; P index shares at the minute scale. </li><li>  <b>What types of orders should the system support</b> ?  Gentleman's set of any self-respecting trading system includes market, limit, stop and stop-limit orders. </li><li>  <b>The level of support and documentation required.</b>  Some of the available frameworks are in the early stages of their development and can not boast of extensive documentation and support, far removed from the discussions on the forums. </li></ul><br><h2>  Components of the backtesting and optimization framework </h2><br>  Framework for creating backtesters, as a rule, include several components: <br><br><ul><li>  <b>The data receiving module</b> - it is responsible for reading the file with the strategy code.  If the framework requires recoding the strategy before launching the backtest, then it is important that it supports library functions for the most popular technical indicators - this will speed up testing. </li><li>  <b>Performance testing module</b> - it analyzes a wide range of risk metrics and strategy performance when working on a dedicated historical data set (including maximum deposit drawdown during trading), <a href="https://ru.wikipedia.org/wiki/%25D0%259A%25D0%25BE%25D1%258D%25D1%2584%25D1%2584%25D0%25B8%25D1%2586%25D0%25B8%25D0%25B5%25D0%25BD%25D1%2582_%25D0%25A8%25D0%25B0%25D1%2580%25D0%25BF%25D0%25B0">Sharpe</a> and <a href="https://ru.wikipedia.org/wiki/%25D0%259A%25D0%25BE%25D1%258D%25D1%2584%25D1%2584%25D0%25B8%25D1%2586%25D0%25B8%25D0%25B5%25D0%25BD%25D1%2582_%25D0%25A1%25D0%25BE%25D1%2580%25D1%2582%25D0%25B8%25D0%25BD%25D0%25BE">Sortino</a> coefficients. </li><li>  <b>Optimization</b> takes the lion's share of resources in the strategy development process.  If you can not do without it, then you should choose frameworks that support distributed and parallel processing. </li></ul><br>  When developing strategies using technical indicators, developers try to choose the optimal set of parameters for each of them.  For example, during testing, it may become clear that the use of intersections of 6 and 10-day moving averages leads to an increase in the profitability of the strategy when it is run on historical data in comparison with any other periods from 1 to 20 days.  Simple calculations suggest that in this case it will be necessary to calculate 40 combinations of various parameters of possible intersections. <br><br>  In the context of working with a portfolio, optimization implies finding the optimal weights for each of the assets, including tools that can be sold short or leverage is used to work with them.  Periodically there should be a rebalancing of the portfolio, which is expressed in the conduct of additional transactions in order to bring it to the optimal form. <br><br>  Another important element of optimization is the control of the size of open positions.  This approach allows developers to simulate and analyze the impact of the use of leverage and dynamic scaling of positions on the overall effectiveness of the strategy. <br><br><h2>  Six Backtesting Framework for Python </h2><br>  Standard open backtesting platforms for Python usually have several common characteristics: <br><br><ul><li>  focus on events; </li><li>  flexible licensing without special restrictions; </li><li>  extensive set of integrated technical indicators; </li><li>  standard functionality for calculating performance metrics, visualization and report generation. </li></ul><br><h3>  PyAlgoTrade </h3><br>  PyAlgoTrade is an already established framework that includes the ability to test both historical data and simulations in real-time.  Supports data from Yahoo!  Finance, Google Finance, NinjaTrade and any sources providing information in CSV (for example, Quandl).  Supports orders types of market, limit, stop and stop limit. <br><br>  PyAlgoTrade supports Bitcoin trading via Bitstamp, as well as real-time processing of information from Twitter. <br><br><ul><li>  <a href="https://github.com/gbeced/pyalgotrade">Project page</a> </li><li>  License: <a href="">Apache 2.0</a> </li></ul><br><h3>  bt - Backtesting for Python </h3><br>  The creators of the bt framework strive to facilitate the development of easily testable, flexible and reusable logic blocks of trading strategies, which should open up the possibility to create complex automated financial applications. <br><br>  The framework is suitable for testing so-called portfolio-based strategies, including algorithms for portfolio weighting and rebalancing.  Modifying strategies for launching at different time intervals and using different weights of tools in the portfolio requires minimal effort to change the code.  In addition, bt is built into ffn - this is the popular financial library Python. <br><br><ul><li>  <a href="http://pmorissette.github.io/bt/">Project page</a> </li><li>  License: <a href="https://github.com/pmorissette/bt/blob/master/LICENSE.txt">MIT</a> </li></ul><br><h3>  Backtrader </h3><br>  This platform is superbly documented, the developers maintain a blog and develop an active online community, whose members are happy to help find the answer to the interesting question.  Backtrader supports various data formats, including CSV, Pandas DataFrames, realtime data feeds from several foreign brokers and various iterators.  Data processing from different sources can be carried out simultaneously and even at different time intervals. <br><br><ul><li>  <a href="https://www.backtrader.com/">Project page</a> </li><li>  <a href="https://github.com/mementum/backtrader">Github</a> </li><li>  License: <a href="https://github.com/robcarver17/pysystemtrade/blob/master/LICENSE">GPL v3.0</a> </li></ul><br><h3>  pysystemtrade </h3><br>  Rob Carver, pysystemtrade developer, published an excellent article on why he decided to create another Python backtesting framework, which listed the pros and cons of developing a new framework.  pysystemtrade includes a number of important functions, such as optimization and calibration modules, and also allows you to implement fully automated futures trading. <br><br><ul><li>  <a href="https://github.com/robcarver17/pysystemtrade">Project page</a> </li><li>  License: <a href="https://github.com/robcarver17/pysystemtrade/blob/master/LICENSE">GPL v3.0</a> </li></ul><br><h3>  Zipline </h3><br>  Zipline is an algorithmic trading simulator.  You can work with it through the browser interface IPython Notebook.  The system is an alternative to command line interface tools.  The service is developed and maintained by the Quantopian project team, and it can be used both as a separate backtesting development tool and in conjunction with the Quantopian development and testing environment.  The Zipline platform provides access to ten years of historical data on US stocks in 1-minute resolution, several options for importing information are also available. <br><br><ul><li>  <a href="http://www.zipline.io/">Project page</a> </li><li>  <a href="https://github.com/quantopian/zipline">Github</a> </li><li>  License: <a href="https://github.com/quantopian/zipline/blob/master/LICENSE">Apache 2.0</a> </li></ul><br><h3>  QSTrader </h3><br>  Another framework with real trading functionality, launched by QuantStart, the founder of the resource for finance experts, Michael Halls-Moore.  He wanted to create a tool that would be suitable for use by large hedge funds and private investors at the same time.  Currently, the QSTrader supports ‚Äúbar‚Äù data resolution ( <a href="https://en.wikipedia.org/wiki/Open-high-low-close_chart">OHLCV</a> ) at different time intervals, however, the use of tick data is not yet available. <br><br>  Both modes of operation (backtesting and real trading) are completely event-based, which allows you to quickly move from developing strategies to testing them and then launching them in a ‚Äúcombat‚Äù mode.  One of the main advantages of the system is its modularity, which leaves ample opportunities for customizing the code. <br><br><ul><li>  Project Page: <a href="https://www.quantstart.com/qstrader">QSTrader</a> </li><li>  <a href="https://github.com/mhallsmoore/qstrader">Github</a> </li><li>  License: <a href="https://github.com/mhallsmoore/qstrader/blob/master/LICENSE">MIT</a> </li></ul><br><h2>  Other materials on finance and stock market from <a href="https://iticapital.ru/">ITI Capital</a> : </h2><br><ul><li>  <a href="https://iticapital.ru/research-education/research/">Analytics and market reviews</a> </li><li>  <a href="https://habr.com/company/iticapital/blog/238839/">Back to the Future: Testing a Trading Robot with Historical Data</a> </li><li>  Event-oriented Python backtesting step by step ( <a href="https://habr.com/company/iticapital/blog/263097/">Part 1</a> , <a href="https://habr.com/company/iticapital/blog/264141/">Part 2</a> , <a href="https://habr.com/company/iticapital/blog/266623/">Part 3</a> , <a href="https://habr.com/company/iticapital/blog/268929/">Part 4</a> , <a href="https://habr.com/company/iticapital/blog/270215/">Part 5</a> ) </li></ul></div><p>Source: <a href="https://habr.com/ru/post/358692/">https://habr.com/ru/post/358692/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../358680/index.html">Troubleshooting Node.js Applications Under the Hood</a></li>
<li><a href="../358682/index.html">ARM MBED OS. Work with arbitrary MK STM32 under PlatformIO</a></li>
<li><a href="../358686/index.html">Megafon ordered the Kupol storage complex to store traffic according to the law of Spring</a></li>
<li><a href="../358688/index.html">ESET discovered two 0-day vulnerabilities in Adobe Reader and Microsoft Windows</a></li>
<li><a href="../358690/index.html">We pack in containers, deploy, monitor - the program Root Conf</a></li>
<li><a href="../358694/index.html">UPD Broadcast. We invite you to the New PostgreSQL 11 features mitap</a></li>
<li><a href="../358696/index.html">We update Angular to the 6th version in the project without use of CLI</a></li>
<li><a href="../358698/index.html">13 interesting points from the javascript style guide from google</a></li>
<li><a href="../358700/index.html">GraalVM: mixed in a bunch of C and Scala</a></li>
<li><a href="../358702/index.html">How to run dynamic retargeting effectively in a mobile application</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>