<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>How peaceful reverse engineering helped slightly improve the Yandex.Money application</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="There is a stereotype that reverse engineering is an occupation for evil hackers with dark glasses and shiny leather coats. Under the cover of night, ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>How peaceful reverse engineering helped slightly improve the Yandex.Money application</h1><div class="post__text post__text-html js-mediator-article"> There is a stereotype that reverse engineering is an occupation for evil hackers with dark glasses and shiny leather coats.  Under the cover of night, in the intervals between running around the walls and melee fights with the crowds of special forces, these computer nonhumans make terrible hacks of programs, pentagons and other databases.  The hacks themselves usually do not require any prior preparation and take a few seconds.  And, of course, in the process of almost any hacking on the H-RED screens of hellish hacker laptops with incomprehensible OS green krakozyably crawling and / or some kind of 3D-figurine is spinning ... <br><br><img src="https://habrastorage.org/getpro/habr/post_images/ed4/b91/e39/ed4b91e39c50f5612609adbb9c707d38.jpg"><br><br>  Today I want to move away from the well-worn Hollywood stamps about evil computer hackers and tell you, dear readers, about how peaceful reverse engineering helped slightly improve the Yandex.Money application.  I hope this story will shake a steady stereotype that reverse engineering is necessarily bad and only bad people need it. <br><a name="habracut"></a><br>  Slightly less than a month ago, I slightly reversed Yandex.Money version 1.71 for Android (the latest version at that time).  Among other interesting things, I found there some mysterious method <code>ru.yandex.core.CrashHandler.sendBug(String paramString)</code> : 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <div class="spoiler">  <b class="spoiler_title">Smali method code sendBug (String paramString) (quite voluminous, I must say)</b> <div class="spoiler_text"><pre> <code class="hljs rust">.class public abstract Lru/yandex/core/CrashHandler; .<span class="hljs-keyword"><span class="hljs-keyword">super</span></span> Landroid/app/Activity; .source <span class="hljs-string"><span class="hljs-string">"CrashHandler.java"</span></span> # ... #   -  # ... .method sendBug(Ljava/lang/<span class="hljs-built_in"><span class="hljs-built_in">String</span></span>;)V .locals <span class="hljs-number"><span class="hljs-number">5</span></span> .parameter <span class="hljs-string"><span class="hljs-string">"p1"</span></span> .prologue .line <span class="hljs-number"><span class="hljs-number">76</span></span> new-instance v0, Lorg/json/JSONObject; .line <span class="hljs-number"><span class="hljs-number">79</span></span> .local v0, v0:Ljava/lang/Object; invoke-direct {v0}, Lorg/json/JSONObject;-&gt;&lt;init&gt;()V .line <span class="hljs-number"><span class="hljs-number">84</span></span> .local v0, v0:Ljava/lang/Object; :try_start_5 <span class="hljs-keyword"><span class="hljs-keyword">const</span></span>-string v1, <span class="hljs-string"><span class="hljs-string">"model"</span></span> .line <span class="hljs-number"><span class="hljs-number">87</span></span> .local v1, v1:Ljava/lang/Object; sget-object v2, Landroid/os/Build;-&gt;MODEL:Ljava/lang/<span class="hljs-built_in"><span class="hljs-built_in">String</span></span>; .line <span class="hljs-number"><span class="hljs-number">90</span></span> .local v2, v2:Ljava/lang/Object; invoke-<span class="hljs-keyword"><span class="hljs-keyword">virtual</span></span> {v0, v1, v2}, Lorg/json/JSONObject;-&gt; put(Ljava/lang/<span class="hljs-built_in"><span class="hljs-built_in">String</span></span>;Ljava/lang/Object;)Lorg/json/JSONObject; .line <span class="hljs-number"><span class="hljs-number">93</span></span> <span class="hljs-keyword"><span class="hljs-keyword">const</span></span>-string v1, <span class="hljs-string"><span class="hljs-string">"systemVersion"</span></span> .line <span class="hljs-number"><span class="hljs-number">95</span></span> sget-object v2, Landroid/os/Build$VERSION;-&gt;RELEASE:Ljava/lang/<span class="hljs-built_in"><span class="hljs-built_in">String</span></span>; .line <span class="hljs-number"><span class="hljs-number">97</span></span> invoke-<span class="hljs-keyword"><span class="hljs-keyword">virtual</span></span> {v0, v1, v2}, Lorg/json/JSONObject;-&gt; put(Ljava/lang/<span class="hljs-built_in"><span class="hljs-built_in">String</span></span>;Ljava/lang/Object;)Lorg/json/JSONObject; .line <span class="hljs-number"><span class="hljs-number">100</span></span> <span class="hljs-keyword"><span class="hljs-keyword">const</span></span>-string v1, <span class="hljs-string"><span class="hljs-string">"component"</span></span> .line <span class="hljs-number"><span class="hljs-number">102</span></span> <span class="hljs-keyword"><span class="hljs-keyword">const</span></span>-string v2, <span class="hljs-string"><span class="hljs-string">"Android"</span></span> .line <span class="hljs-number"><span class="hljs-number">104</span></span> invoke-<span class="hljs-keyword"><span class="hljs-keyword">virtual</span></span> {v0, v1, v2}, Lorg/json/JSONObject;-&gt; put(Ljava/lang/<span class="hljs-built_in"><span class="hljs-built_in">String</span></span>;Ljava/lang/Object;)Lorg/json/JSONObject; .line <span class="hljs-number"><span class="hljs-number">107</span></span> <span class="hljs-keyword"><span class="hljs-keyword">const</span></span>-string v1, <span class="hljs-string"><span class="hljs-string">"appVersion"</span></span> .line <span class="hljs-number"><span class="hljs-number">109</span></span> invoke-<span class="hljs-keyword"><span class="hljs-keyword">static</span></span> {}, Lru/yandex/core/CoreApplication;-&gt;getAppBuildIdFromNative()Ljava/lang/<span class="hljs-built_in"><span class="hljs-built_in">String</span></span>; .line <span class="hljs-number"><span class="hljs-number">111</span></span> <span class="hljs-keyword"><span class="hljs-keyword">move</span></span>-result-object v2 .line <span class="hljs-number"><span class="hljs-number">113</span></span> invoke-<span class="hljs-keyword"><span class="hljs-keyword">virtual</span></span> {v0, v1, v2}, Lorg/json/JSONObject;-&gt; put(Ljava/lang/<span class="hljs-built_in"><span class="hljs-built_in">String</span></span>;Ljava/lang/Object;)Lorg/json/JSONObject; .line <span class="hljs-number"><span class="hljs-number">116</span></span> <span class="hljs-keyword"><span class="hljs-keyword">const</span></span>-string v1, <span class="hljs-string"><span class="hljs-string">"appName"</span></span> .line <span class="hljs-number"><span class="hljs-number">118</span></span> invoke-<span class="hljs-keyword"><span class="hljs-keyword">static</span></span> {}, Lru/yandex/core/CoreApplication;-&gt;getAppNameFromNative()Ljava/lang/<span class="hljs-built_in"><span class="hljs-built_in">String</span></span>; .line <span class="hljs-number"><span class="hljs-number">120</span></span> <span class="hljs-keyword"><span class="hljs-keyword">move</span></span>-result-object v2 .line <span class="hljs-number"><span class="hljs-number">122</span></span> invoke-<span class="hljs-keyword"><span class="hljs-keyword">virtual</span></span> {v0, v1, v2}, Lorg/json/JSONObject;-&gt; put(Ljava/lang/<span class="hljs-built_in"><span class="hljs-built_in">String</span></span>;Ljava/lang/Object;)Lorg/json/JSONObject; .line <span class="hljs-number"><span class="hljs-number">125</span></span> <span class="hljs-keyword"><span class="hljs-keyword">const</span></span>-string v1, <span class="hljs-string"><span class="hljs-string">"summary"</span></span> .line <span class="hljs-number"><span class="hljs-number">127</span></span> <span class="hljs-keyword"><span class="hljs-keyword">const</span></span>-string v2, <span class="hljs-string"><span class="hljs-string">"Android Native Crash"</span></span> .line <span class="hljs-number"><span class="hljs-number">129</span></span> invoke-<span class="hljs-keyword"><span class="hljs-keyword">virtual</span></span> {v0, v1, v2}, Lorg/json/JSONObject;-&gt; put(Ljava/lang/<span class="hljs-built_in"><span class="hljs-built_in">String</span></span>;Ljava/lang/Object;)Lorg/json/JSONObject; :try_end_33 .catch Lorg/json/JSONException; {:try_start_5 .. :try_end_33} :catch_80 .line <span class="hljs-number"><span class="hljs-number">137</span></span> .end local v2 #v2:Ljava/lang/Object; :goto_33 :try_start_33 new-instance v1, Lru/yandex/core/ClientHttpRequest; .line <span class="hljs-number"><span class="hljs-number">140</span></span> .local v1, v1:Ljava/lang/Object; new-instance v2, Ljava/net/URL; .line <span class="hljs-number"><span class="hljs-number">143</span></span> .local v2, v2:Ljava/lang/Object; new-instance v3, Ljava/lang/StringBuilder; .line <span class="hljs-number"><span class="hljs-number">146</span></span> .local v3, v3:Ljava/lang/Object; <span class="hljs-keyword"><span class="hljs-keyword">const</span></span>-string v4, <span class="hljs-string"><span class="hljs-string">"http://dmitriyap.dyndns.org:9091/rest/jconnect/latest/issue/create?project="</span></span> .line <span class="hljs-number"><span class="hljs-number">149</span></span> .local v4, v4:Ljava/lang/Object; invoke-direct {v3, v4}, Ljava/lang/StringBuilder;-&gt;&lt;init&gt;(Ljava/lang/<span class="hljs-built_in"><span class="hljs-built_in">String</span></span>;)V .line <span class="hljs-number"><span class="hljs-number">152</span></span> .local v3, v3:Ljava/lang/Object; invoke-<span class="hljs-keyword"><span class="hljs-keyword">virtual</span></span> {p0}, Lru/yandex/core/CrashHandler;-&gt;getJiraProjectName()Ljava/lang/<span class="hljs-built_in"><span class="hljs-built_in">String</span></span>; .line <span class="hljs-number"><span class="hljs-number">154</span></span> <span class="hljs-keyword"><span class="hljs-keyword">move</span></span>-result-object v4 .line <span class="hljs-number"><span class="hljs-number">156</span></span> invoke-<span class="hljs-keyword"><span class="hljs-keyword">virtual</span></span> {v3, v4}, Ljava/lang/StringBuilder;-&gt; append(Ljava/lang/<span class="hljs-built_in"><span class="hljs-built_in">String</span></span>;)Ljava/lang/StringBuilder; .line <span class="hljs-number"><span class="hljs-number">158</span></span> <span class="hljs-keyword"><span class="hljs-keyword">move</span></span>-result-object v3 .line <span class="hljs-number"><span class="hljs-number">160</span></span> invoke-<span class="hljs-keyword"><span class="hljs-keyword">virtual</span></span> {v3}, Ljava/lang/StringBuilder;-&gt;toString()Ljava/lang/<span class="hljs-built_in"><span class="hljs-built_in">String</span></span>; .line <span class="hljs-number"><span class="hljs-number">162</span></span> <span class="hljs-keyword"><span class="hljs-keyword">move</span></span>-result-object v3 .line <span class="hljs-number"><span class="hljs-number">164</span></span> invoke-direct {v2, v3}, Ljava/net/URL;-&gt;&lt;init&gt;(Ljava/lang/<span class="hljs-built_in"><span class="hljs-built_in">String</span></span>;)V .line <span class="hljs-number"><span class="hljs-number">167</span></span> .local v2, v2:Ljava/lang/Object; invoke-direct {v1, v2}, Lru/yandex/core/ClientHttpRequest;-&gt;&lt;init&gt;(Ljava/net/URL;)V .line <span class="hljs-number"><span class="hljs-number">171</span></span> .local v1, v1:Ljava/lang/Object; <span class="hljs-keyword"><span class="hljs-keyword">const</span></span>-string v2, <span class="hljs-string"><span class="hljs-string">"issue"</span></span> .line <span class="hljs-number"><span class="hljs-number">173</span></span> <span class="hljs-keyword"><span class="hljs-keyword">const</span></span>-string v3, <span class="hljs-string"><span class="hljs-string">"issue.json"</span></span> .line <span class="hljs-number"><span class="hljs-number">175</span></span> new-instance v4, Ljava/io/ByteArrayInputStream; .line <span class="hljs-number"><span class="hljs-number">178</span></span> .local v4, v4:Ljava/lang/Object; invoke-<span class="hljs-keyword"><span class="hljs-keyword">virtual</span></span> {v0}, Lorg/json/JSONObject;-&gt;toString()Ljava/lang/<span class="hljs-built_in"><span class="hljs-built_in">String</span></span>; .line <span class="hljs-number"><span class="hljs-number">180</span></span> <span class="hljs-keyword"><span class="hljs-keyword">move</span></span>-result-object v0 .line <span class="hljs-number"><span class="hljs-number">182</span></span> invoke-<span class="hljs-keyword"><span class="hljs-keyword">virtual</span></span> {v0}, Ljava/lang/<span class="hljs-built_in"><span class="hljs-built_in">String</span></span>;-&gt;getBytes()[B .line <span class="hljs-number"><span class="hljs-number">184</span></span> <span class="hljs-keyword"><span class="hljs-keyword">move</span></span>-result-object v0 .line <span class="hljs-number"><span class="hljs-number">186</span></span> invoke-direct {v4, v0}, Ljava/io/ByteArrayInputStream;-&gt;&lt;init&gt;([B)V .line <span class="hljs-number"><span class="hljs-number">189</span></span> .local v4, v4:Ljava/lang/Object; <span class="hljs-keyword"><span class="hljs-keyword">const</span></span>-string v0, <span class="hljs-string"><span class="hljs-string">"application/json"</span></span> .line <span class="hljs-number"><span class="hljs-number">191</span></span> invoke-<span class="hljs-keyword"><span class="hljs-keyword">virtual</span></span> {v1, v2, v3, v4, v0}, Lru/yandex/core/ClientHttpRequest;-&gt; setParameter(Ljava/lang/<span class="hljs-built_in"><span class="hljs-built_in">String</span></span>;Ljava/lang/<span class="hljs-built_in"><span class="hljs-built_in">String</span></span>;Ljava/io/InputStream;Ljava/lang/<span class="hljs-built_in"><span class="hljs-built_in">String</span></span>;)V .line <span class="hljs-number"><span class="hljs-number">194</span></span> <span class="hljs-keyword"><span class="hljs-keyword">const</span></span>-string v0, <span class="hljs-string"><span class="hljs-string">"crash"</span></span> .line <span class="hljs-number"><span class="hljs-number">196</span></span> <span class="hljs-keyword"><span class="hljs-keyword">const</span></span>-string v2, <span class="hljs-string"><span class="hljs-string">"log.txt"</span></span> .line <span class="hljs-number"><span class="hljs-number">198</span></span> new-instance v3, Ljava/io/ByteArrayInputStream; .line <span class="hljs-number"><span class="hljs-number">201</span></span> .local v3, v3:Ljava/lang/Object; invoke-<span class="hljs-keyword"><span class="hljs-keyword">virtual</span></span> {p1}, Ljava/lang/<span class="hljs-built_in"><span class="hljs-built_in">String</span></span>;-&gt;toString()Ljava/lang/<span class="hljs-built_in"><span class="hljs-built_in">String</span></span>; .line <span class="hljs-number"><span class="hljs-number">203</span></span> <span class="hljs-keyword"><span class="hljs-keyword">move</span></span>-result-object v4 .line <span class="hljs-number"><span class="hljs-number">205</span></span> invoke-<span class="hljs-keyword"><span class="hljs-keyword">virtual</span></span> {v4}, Ljava/lang/<span class="hljs-built_in"><span class="hljs-built_in">String</span></span>;-&gt;getBytes()[B .line <span class="hljs-number"><span class="hljs-number">207</span></span> <span class="hljs-keyword"><span class="hljs-keyword">move</span></span>-result-object v4 .line <span class="hljs-number"><span class="hljs-number">209</span></span> invoke-direct {v3, v4}, Ljava/io/ByteArrayInputStream;-&gt;&lt;init&gt;([B)V .line <span class="hljs-number"><span class="hljs-number">212</span></span> .local v3, v3:Ljava/lang/Object; invoke-<span class="hljs-keyword"><span class="hljs-keyword">virtual</span></span> {v1, v0, v2, v3}, Lru/yandex/core/ClientHttpRequest;-&gt; setParameter(Ljava/lang/<span class="hljs-built_in"><span class="hljs-built_in">String</span></span>;Ljava/lang/<span class="hljs-built_in"><span class="hljs-built_in">String</span></span>;Ljava/io/InputStream;)V .line <span class="hljs-number"><span class="hljs-number">215</span></span> invoke-<span class="hljs-keyword"><span class="hljs-keyword">virtual</span></span> {v1}, Lru/yandex/core/ClientHttpRequest;-&gt;post()Ljava/io/InputStream; :try_end_7d .catch Ljava/io/IOException; {:try_start_33 .. :try_end_7d} :catch_7e .line <span class="hljs-number"><span class="hljs-number">222</span></span> .end local v1 #v1:Ljava/lang/Object; .end local v2 #v2:Ljava/lang/Object; .end local v3 #v3:Ljava/lang/Object; .end local v4 #v4:Ljava/lang/Object; :goto_7d <span class="hljs-keyword"><span class="hljs-keyword">return</span></span>-void .line <span class="hljs-number"><span class="hljs-number">226</span></span> :catch_7e <span class="hljs-keyword"><span class="hljs-keyword">move</span></span>-exception v0 .line <span class="hljs-number"><span class="hljs-number">228</span></span> goto :goto_7d .line <span class="hljs-number"><span class="hljs-number">232</span></span> :catch_80 <span class="hljs-keyword"><span class="hljs-keyword">move</span></span>-exception v1 .line <span class="hljs-number"><span class="hljs-number">235</span></span> .local v1, v1:Ljava/lang/Object; goto :goto_33 .end method</code> </pre></div></div><br>  Here is the same <code>sendBug(String paramString)</code> method <code>sendBug(String paramString)</code> in a Java-like pseudocode, which, after certain manipulations with the dex file, is obtained using <a href="http://java.decompiler.free.fr/jd-gui/downloads">Java Decompiller</a> : <br><br><div class="spoiler">  <b class="spoiler_title">The same method in a java-like pseudocode</b> <div class="spoiler_text"><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">package</span></span> ru.yandex.core; # ... #  -  ,  # ... <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">abstract</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">CrashHandler</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Activity</span></span></span><span class="hljs-class"> </span></span>{ # ... #   -  # ... <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">sendBug</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(String paramString)</span></span></span><span class="hljs-function"> </span></span>{ JSONObject localJSONObject = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> JSONObject(); <span class="hljs-keyword"><span class="hljs-keyword">try</span></span> { localJSONObject.put(<span class="hljs-string"><span class="hljs-string">"model"</span></span>, Build.MODEL); localJSONObject.put(<span class="hljs-string"><span class="hljs-string">"systemVersion"</span></span>, Build.VERSION.RELEASE); localJSONObject.put(<span class="hljs-string"><span class="hljs-string">"component"</span></span>, <span class="hljs-string"><span class="hljs-string">"Android"</span></span>); localJSONObject.put(<span class="hljs-string"><span class="hljs-string">"appVersion"</span></span>, CoreApplication.getAppBuildIdFromNative()); localJSONObject.put(<span class="hljs-string"><span class="hljs-string">"appName"</span></span>, CoreApplication.getAppNameFromNative()); localJSONObject.put(<span class="hljs-string"><span class="hljs-string">"summary"</span></span>, <span class="hljs-string"><span class="hljs-string">"Android Native Crash"</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">try</span></span> { ClientHttpRequest localClientHttpRequest = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> ClientHttpRequest( <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> URL(<span class="hljs-string"><span class="hljs-string">"http://dmitriyap.dyndns.org:9091/rest/jconnect/latest/issue/create?project="</span></span> + getJiraProjectName())); localClientHttpRequest.setParameter(<span class="hljs-string"><span class="hljs-string">"issue"</span></span>, <span class="hljs-string"><span class="hljs-string">"issue.json"</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> ByteArrayInputStream(localJSONObject.toString().getBytes()), <span class="hljs-string"><span class="hljs-string">"application/json"</span></span>); localClientHttpRequest.setParameter(<span class="hljs-string"><span class="hljs-string">"crash"</span></span>, <span class="hljs-string"><span class="hljs-string">"log.txt"</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> ByteArrayInputStream(paramString.toString().getBytes())); localClientHttpRequest.post(); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">catch</span></span> (IOException localIOException) { <span class="hljs-comment"><span class="hljs-comment">//  Java Decompiller   -  // ... } } catch (JSONException localJSONException) { //  ...    Java Decompiller  ,  // ... } } }</span></span></code> </pre></div></div><br>  This pseudo-code is of course not entirely valid in terms of the syntax of the Java language, but it clearly demonstrates the logic of the <code>sendBug(String paramString)</code> method.  When calling this method, to a certain address <code><a href="http://dmitriyap.dyndns.org/"></a> dmitriyap.dyndns.org:9091</code>  <code><a href="http://dmitriyap.dyndns.org/"></a> dmitriyap.dyndns.org:9091</code> using <code>ClientHttpRequest.post()</code> without any encryption sent a bunch of different information.  In particular, the <code>paramString</code> argument passed to the method is sent to the <code>crash</code> parameter.  Judging by the query string and the names of the variables, ‚Äúon the other side‚Äù is raised by <a href="http://www.atlassian.com/software/jira/overview">Atlassian Jira</a> , in which the <code>sendBug(String paramString)</code> method <code>sendBug(String paramString)</code> creates an issue immediately inserting into it all the information sent.  Those.  in fact, the <code>sendBug(String paramString)</code> method <code>sendBug(String paramString)</code> does exactly what its name implies - it sends bug reports to developers in bugtracker.  It seems to be okay, many programs do it.  However, the code of the method itself raises questions: <br><br><ol><li>  Who owns the domain <code><a href="http://dmitriyap.dyndns.org/"></a> dmitriyap.dyndns.org</code>  <code><a href="http://dmitriyap.dyndns.org/"></a> dmitriyap.dyndns.org</code> ?  This is clearly not a corporate Yandex domain. </li><li>  What information is passed to the <code>sendBug(String paramString)</code> method <code>sendBug(String paramString)</code> in the <code>paramString</code> argument and is therefore sent to <code><a href="http://dmitriyap.dyndns.org/"></a> dmitriyap.dyndns.org</code>  <code><a href="http://dmitriyap.dyndns.org/"></a> dmitriyap.dyndns.org</code> ? </li><li>  Under what conditions <code>sendBug(String paramString)</code> Yandex.Money program call the <code>sendBug(String paramString)</code> method? </li></ol><br>  The answer to the first question is quite fast.  A small search on Google <i>suggests</i> that <i>dmitriyap</i> is the nickname of the head of the Mobile Services Development Department in Yandex.  Probably domain <code><a href="http://dmitriyap.dyndns.org/"></a> dmitriyap.dyndns.org</code>  <code><a href="http://dmitriyap.dyndns.org/"></a> dmitriyap.dyndns.org</code> it was he <code><a href="http://dmitriyap.dyndns.org/"></a> dmitriyap.dyndns.org</code> registered.  The fact that the data is not encrypted in any way and is sent to the dyndns.org subdomain, and not to any Yandex domain, suggests that this whole bug report system was made by the developers of the Yandex.Money Android application hastily, ‚Äúon the knee ".  It was probably used in the development process and should not have been released.  But, probably by mistake, I got it. <br><br>  As for the first question, it is less clear.  Let's go to the second question: what <code>sendBug(String paramString)</code> information is passed to the <code>sendBug(String paramString)</code> method <code>sendBug(String paramString)</code> in the <code>paramString</code> argument and then sent to <code><a href="http://dmitriyap.dyndns.org/"></a> dmitriyap.dyndns.org</code>  <code><a href="http://dmitriyap.dyndns.org/"></a> dmitriyap.dyndns.org</code> ?  To do this, we first look at the code of the <code>doInBackground(...)</code> method of the anonymous internal class <code>CrashHandler$1</code> : <br><br><div class="spoiler">  <b class="spoiler_title">Smali method code doInBackground (...)</b> <div class="spoiler_text"><pre> <code class="hljs pgsql">.field <span class="hljs-keyword"><span class="hljs-keyword">log</span></span>:Ljava/lang/String; .<span class="hljs-keyword"><span class="hljs-keyword">method</span></span> protected varargs doInBackground([Ljava/lang/<span class="hljs-type"><span class="hljs-type">Void</span></span>;)Ljava/lang/<span class="hljs-type"><span class="hljs-type">Void</span></span>; .locals <span class="hljs-number"><span class="hljs-number">5</span></span> .parameter "p1" .prologue .line <span class="hljs-number"><span class="hljs-number">59</span></span> const/<span class="hljs-number"><span class="hljs-number">4</span></span> v4, <span class="hljs-number"><span class="hljs-number">0x1</span></span> .line <span class="hljs-number"><span class="hljs-number">64</span></span> .<span class="hljs-keyword"><span class="hljs-keyword">local</span></span> v4, v4:I :try_start_1 invoke-static {}, Ljava/lang/Runtime;-&gt;getRuntime()Ljava/lang/Runtime; .line <span class="hljs-number"><span class="hljs-number">66</span></span> <span class="hljs-keyword"><span class="hljs-keyword">move</span></span>-result-<span class="hljs-keyword"><span class="hljs-keyword">object</span></span> v0 .line <span class="hljs-number"><span class="hljs-number">69</span></span> .<span class="hljs-keyword"><span class="hljs-keyword">local</span></span> v0, v0:Ljava/lang/<span class="hljs-keyword"><span class="hljs-keyword">Object</span></span>; const/<span class="hljs-number"><span class="hljs-number">4</span></span> v1, <span class="hljs-number"><span class="hljs-number">0x4</span></span> .line <span class="hljs-number"><span class="hljs-number">72</span></span> .<span class="hljs-keyword"><span class="hljs-keyword">local</span></span> v1, v1:B <span class="hljs-built_in"><span class="hljs-built_in">new</span></span>-<span class="hljs-keyword"><span class="hljs-keyword">array</span></span> v1, v1, [Ljava/lang/String; .line <span class="hljs-number"><span class="hljs-number">75</span></span> .<span class="hljs-keyword"><span class="hljs-keyword">local</span></span> v1, v1:Ljava/lang/<span class="hljs-keyword"><span class="hljs-keyword">Object</span></span>; const/<span class="hljs-number"><span class="hljs-number">4</span></span> v2, <span class="hljs-number"><span class="hljs-number">0x0</span></span> .line <span class="hljs-number"><span class="hljs-number">78</span></span> .<span class="hljs-keyword"><span class="hljs-keyword">local</span></span> v2, v2:Ljava/lang/<span class="hljs-keyword"><span class="hljs-keyword">Object</span></span>; const-string v3, "logcat" .line <span class="hljs-number"><span class="hljs-number">81</span></span> .<span class="hljs-keyword"><span class="hljs-keyword">local</span></span> v3, v3:Ljava/lang/<span class="hljs-keyword"><span class="hljs-keyword">Object</span></span>; aput-<span class="hljs-keyword"><span class="hljs-keyword">object</span></span> v3, v1, v2 .line <span class="hljs-number"><span class="hljs-number">83</span></span> const/<span class="hljs-number"><span class="hljs-number">4</span></span> v2, <span class="hljs-number"><span class="hljs-number">0x1</span></span> .line <span class="hljs-number"><span class="hljs-number">86</span></span> .<span class="hljs-keyword"><span class="hljs-keyword">local</span></span> v2, v2:I const-string v3, "-d" .line <span class="hljs-number"><span class="hljs-number">88</span></span> aput-<span class="hljs-keyword"><span class="hljs-keyword">object</span></span> v3, v1, v2 .line <span class="hljs-number"><span class="hljs-number">90</span></span> const/<span class="hljs-number"><span class="hljs-number">4</span></span> v2, <span class="hljs-number"><span class="hljs-number">0x2</span></span> .line <span class="hljs-number"><span class="hljs-number">93</span></span> .<span class="hljs-keyword"><span class="hljs-keyword">local</span></span> v2, v2:B const-string v3, "-v" .line <span class="hljs-number"><span class="hljs-number">95</span></span> aput-<span class="hljs-keyword"><span class="hljs-keyword">object</span></span> v3, v1, v2 .line <span class="hljs-number"><span class="hljs-number">97</span></span> const/<span class="hljs-number"><span class="hljs-number">4</span></span> v2, <span class="hljs-number"><span class="hljs-number">0x3</span></span> .line <span class="hljs-number"><span class="hljs-number">99</span></span> const-string v3, "threadtime" .line <span class="hljs-number"><span class="hljs-number">101</span></span> aput-<span class="hljs-keyword"><span class="hljs-keyword">object</span></span> v3, v1, v2 .line <span class="hljs-number"><span class="hljs-number">103</span></span> invoke-virtual {v0, v1}, Ljava/lang/Runtime;-&gt;exec([Ljava/lang/String;)Ljava/lang/Process; .line <span class="hljs-number"><span class="hljs-number">105</span></span> <span class="hljs-keyword"><span class="hljs-keyword">move</span></span>-result-<span class="hljs-keyword"><span class="hljs-keyword">object</span></span> v0 .line <span class="hljs-number"><span class="hljs-number">107</span></span> iput-<span class="hljs-keyword"><span class="hljs-keyword">object</span></span> v0, p0, Lru/yandex/core/CrashHandler<span class="hljs-meta"><span class="hljs-meta">$1</span></span>;-&gt;process:Ljava/lang/Process; .line <span class="hljs-number"><span class="hljs-number">110</span></span> iget-<span class="hljs-keyword"><span class="hljs-keyword">object</span></span> v0, p0, Lru/yandex/core/CrashHandler<span class="hljs-meta"><span class="hljs-meta">$1</span></span>;-&gt;process:Ljava/lang/Process; .line <span class="hljs-number"><span class="hljs-number">112</span></span> invoke-virtual {v0}, Ljava/lang/Process;-&gt;getInputStream()Ljava/io/InputStream; .line <span class="hljs-number"><span class="hljs-number">114</span></span> <span class="hljs-keyword"><span class="hljs-keyword">move</span></span>-result-<span class="hljs-keyword"><span class="hljs-keyword">object</span></span> v0 .line <span class="hljs-number"><span class="hljs-number">116</span></span> invoke-virtual {p0, v0}, Lru/yandex/core/CrashHandler<span class="hljs-meta"><span class="hljs-meta">$1</span></span>;-&gt; readAllOf(Ljava/io/InputStream;)Ljava/lang/String; .line <span class="hljs-number"><span class="hljs-number">118</span></span> <span class="hljs-keyword"><span class="hljs-keyword">move</span></span>-result-<span class="hljs-keyword"><span class="hljs-keyword">object</span></span> v0 .line <span class="hljs-number"><span class="hljs-number">120</span></span> iput-<span class="hljs-keyword"><span class="hljs-keyword">object</span></span> v0, p0, Lru/yandex/core/CrashHandler<span class="hljs-meta"><span class="hljs-meta">$1</span></span>;-&gt;<span class="hljs-keyword"><span class="hljs-keyword">log</span></span>:Ljava/lang/String; :try_end_2e .catch Ljava/io/IOException; {:try_start_1 .. :try_end_2e} :catch_30 .line <span class="hljs-number"><span class="hljs-number">127</span></span> .<span class="hljs-keyword"><span class="hljs-keyword">end</span></span> <span class="hljs-keyword"><span class="hljs-keyword">local</span></span> v2 #v2:B .<span class="hljs-keyword"><span class="hljs-keyword">end</span></span> <span class="hljs-keyword"><span class="hljs-keyword">local</span></span> v3 #v3:Ljava/lang/<span class="hljs-keyword"><span class="hljs-keyword">Object</span></span>; :goto_2e const/<span class="hljs-number"><span class="hljs-number">4</span></span> v0, <span class="hljs-number"><span class="hljs-number">0x0</span></span> .line <span class="hljs-number"><span class="hljs-number">130</span></span> .<span class="hljs-keyword"><span class="hljs-keyword">local</span></span> v0, v0:Ljava/lang/<span class="hljs-keyword"><span class="hljs-keyword">Object</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span>-<span class="hljs-keyword"><span class="hljs-keyword">object</span></span> v0 .line <span class="hljs-number"><span class="hljs-number">135</span></span> .<span class="hljs-keyword"><span class="hljs-keyword">end</span></span> <span class="hljs-keyword"><span class="hljs-keyword">local</span></span> v0 #v0:Ljava/lang/<span class="hljs-keyword"><span class="hljs-keyword">Object</span></span>; .<span class="hljs-keyword"><span class="hljs-keyword">end</span></span> <span class="hljs-keyword"><span class="hljs-keyword">local</span></span> v1 #v1:Ljava/lang/<span class="hljs-keyword"><span class="hljs-keyword">Object</span></span>; :catch_30 <span class="hljs-keyword"><span class="hljs-keyword">move</span></span>-<span class="hljs-keyword"><span class="hljs-keyword">exception</span></span> v0 .line <span class="hljs-number"><span class="hljs-number">139</span></span> .<span class="hljs-keyword"><span class="hljs-keyword">local</span></span> v0, v0:Ljava/lang/<span class="hljs-keyword"><span class="hljs-keyword">Object</span></span>; iget-<span class="hljs-keyword"><span class="hljs-keyword">object</span></span> v1, p0, Lru/yandex/core/CrashHandler<span class="hljs-meta"><span class="hljs-meta">$1</span></span>;-&gt; this<span class="hljs-meta"><span class="hljs-meta">$0</span></span>:Lru/yandex/core/CrashHandler; .line <span class="hljs-number"><span class="hljs-number">142</span></span> .<span class="hljs-keyword"><span class="hljs-keyword">local</span></span> v1, v1:Ljava/lang/<span class="hljs-keyword"><span class="hljs-keyword">Object</span></span>; invoke-virtual {v0}, Ljava/io/IOException;-&gt;toString()Ljava/lang/String; .line <span class="hljs-number"><span class="hljs-number">144</span></span> <span class="hljs-keyword"><span class="hljs-keyword">move</span></span>-result-<span class="hljs-keyword"><span class="hljs-keyword">object</span></span> v0 .line <span class="hljs-number"><span class="hljs-number">146</span></span> invoke-static {v1, v0, v4}, Landroid/widget/Toast;-&gt; makeText(Landroid/content/Context;Ljava/lang/CharSequence;I)Landroid/widget/Toast; .line <span class="hljs-number"><span class="hljs-number">148</span></span> <span class="hljs-keyword"><span class="hljs-keyword">move</span></span>-result-<span class="hljs-keyword"><span class="hljs-keyword">object</span></span> v0 .line <span class="hljs-number"><span class="hljs-number">150</span></span> invoke-virtual {v0}, Landroid/widget/Toast;-&gt;<span class="hljs-keyword"><span class="hljs-keyword">show</span></span>()V .line <span class="hljs-number"><span class="hljs-number">152</span></span> goto :goto_2e .<span class="hljs-keyword"><span class="hljs-keyword">end</span></span> <span class="hljs-keyword"><span class="hljs-keyword">method</span></span></code> </pre></div></div><br>  The corresponding Java-like pseudo-code obtained using Java Decompiller: <br><br><div class="spoiler">  <b class="spoiler_title">The same method in a java-like pseudocode</b> <div class="spoiler_text"><pre> <code class="java hljs">String log; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">protected</span></span></span><span class="hljs-function"> Void </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">doInBackground</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Void[] paramArrayOfVoid)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">try</span></span> { Runtime localRuntime = Runtime.getRuntime(); String[] arrayOfString = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> String[<span class="hljs-number"><span class="hljs-number">4</span></span>]; arrayOfString[<span class="hljs-number"><span class="hljs-number">0</span></span>] = <span class="hljs-string"><span class="hljs-string">"logcat"</span></span>; arrayOfString[<span class="hljs-number"><span class="hljs-number">1</span></span>] = <span class="hljs-string"><span class="hljs-string">"-d"</span></span>; arrayOfString[<span class="hljs-number"><span class="hljs-number">2</span></span>] = <span class="hljs-string"><span class="hljs-string">"-v"</span></span>; arrayOfString[<span class="hljs-number"><span class="hljs-number">3</span></span>] = <span class="hljs-string"><span class="hljs-string">"threadtime"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.process = localRuntime.exec(arrayOfString); <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.log = readAllOf(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.process.getInputStream()); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">catch</span></span> (IOException localIOException) { <span class="hljs-comment"><span class="hljs-comment">//  Java Decompiller    ,          // ... } }</span></span></code> </pre></div></div><br>  Again, this pseudocode is not quite valid in terms of the syntax of the Java language, but it is clear from it what <code>doInBackground(...)</code> does.  It runs the command line on the Adnroid device. <br><pre> <code class="hljs nginx"><span class="hljs-attribute"><span class="hljs-attribute">logcat</span></span> -d -v threadtime</code> </pre>  then, using the <code>readAllOf(...)</code> method (defined in the same class), captures the output and places it in the form of a string in the field of the <code>String</code> type <code>log</code> .  What is in this line?  And in addition to everything else, there is a bunch of user personal data - payment history, some private cookies, etc.  Here is a small piece for an example (the data here are mine and they are smeared of course): <br><br><img src="https://habrastorage.org/getpro/habr/post_images/a66/3d4/240/a663d424031ee9a3e139f381b6973f4d.png"><br><br>  Where does a regular logcat-log contain so much personal data?  The thing is that the Yandex.Money application code is just stuck with calls <code>android.util.Log.d(...)</code> .  In the course of the application, a bunch of all information is written to the log, including personal user information.  What for?  I don‚Äôt know, I don‚Äôt know ... Probably it was used to debug the application during the development process, and then these calls were simply forgotten to be removed from the release. <br><br>  But back to the second question.  Where does this line with a bunch of personal data from the <code>log</code> field go after calling <code>doInBackground(...)</code> ?  You will not believe it, but it is just passed to the <code>sendBug(String paramString)</code> method <code>sendBug(String paramString)</code> in the <code>paramString</code> argument and then sent to <code><a href="http://dmitriyap.dyndns.org/"></a> dmitriyap.dyndns.org</code>  <code><a href="http://dmitriyap.dyndns.org/"></a> dmitriyap.dyndns.org</code> .  Unencrypted.  To <code>onPostExecute(...)</code> this, just look at the code of the <code>onPostExecute(...)</code> method of the same anonymous internal class <code>CrashHandler$1</code> : <br><br><div class="spoiler">  <b class="spoiler_title">Smali method code onPostExecute (...)</b> <div class="spoiler_text"><pre> <code class="hljs pgsql">.<span class="hljs-keyword"><span class="hljs-keyword">method</span></span> protected onPostExecute(Ljava/lang/<span class="hljs-type"><span class="hljs-type">Void</span></span>;)V .locals <span class="hljs-number"><span class="hljs-number">2</span></span> .parameter "p1" .prologue .line <span class="hljs-number"><span class="hljs-number">188</span></span> iget-<span class="hljs-keyword"><span class="hljs-keyword">object</span></span> v0, p0, Lru/yandex/core/CrashHandler<span class="hljs-meta"><span class="hljs-meta">$1</span></span>;-&gt;this<span class="hljs-meta"><span class="hljs-meta">$0</span></span>:Lru/yandex/core/CrashHandler; .line <span class="hljs-number"><span class="hljs-number">191</span></span> .<span class="hljs-keyword"><span class="hljs-keyword">local</span></span> v0, v0:Ljava/lang/<span class="hljs-keyword"><span class="hljs-keyword">Object</span></span>; iget-<span class="hljs-keyword"><span class="hljs-keyword">object</span></span> v1, p0, Lru/yandex/core/CrashHandler<span class="hljs-meta"><span class="hljs-meta">$1</span></span>;-&gt;<span class="hljs-keyword"><span class="hljs-keyword">log</span></span>:Ljava/lang/String; .line <span class="hljs-number"><span class="hljs-number">194</span></span> .<span class="hljs-keyword"><span class="hljs-keyword">local</span></span> v1, v1:Ljava/lang/<span class="hljs-keyword"><span class="hljs-keyword">Object</span></span>; invoke-virtual {v0, v1}, Lru/yandex/core/CrashHandler;-&gt;sendBug(Ljava/lang/String;)V .line <span class="hljs-number"><span class="hljs-number">197</span></span> iget-<span class="hljs-keyword"><span class="hljs-keyword">object</span></span> v0, p0, Lru/yandex/core/CrashHandler<span class="hljs-meta"><span class="hljs-meta">$1</span></span>;-&gt;val$progress:Landroid/app/ProgressDialog; .line <span class="hljs-number"><span class="hljs-number">199</span></span> invoke-virtual {v0}, Landroid/app/ProgressDialog;-&gt;dismiss()V .line <span class="hljs-number"><span class="hljs-number">202</span></span> iget-<span class="hljs-keyword"><span class="hljs-keyword">object</span></span> v0, p0, Lru/yandex/core/CrashHandler<span class="hljs-meta"><span class="hljs-meta">$1</span></span>;-&gt;this<span class="hljs-meta"><span class="hljs-meta">$0</span></span>:Lru/yandex/core/CrashHandler; .line <span class="hljs-number"><span class="hljs-number">204</span></span> invoke-virtual {v0}, Lru/yandex/core/CrashHandler;-&gt;finish()V .line <span class="hljs-number"><span class="hljs-number">207</span></span> const/<span class="hljs-number"><span class="hljs-number">4</span></span> v0, <span class="hljs-number"><span class="hljs-number">0x0</span></span> .line <span class="hljs-number"><span class="hljs-number">210</span></span> .<span class="hljs-keyword"><span class="hljs-keyword">local</span></span> v0, v0:Ljava/lang/<span class="hljs-keyword"><span class="hljs-keyword">Object</span></span>; invoke-static {v0}, Ljava/lang/<span class="hljs-keyword"><span class="hljs-keyword">System</span></span>;-&gt;<span class="hljs-keyword"><span class="hljs-keyword">exit</span></span>(I)V .line <span class="hljs-number"><span class="hljs-number">213</span></span> <span class="hljs-keyword"><span class="hljs-keyword">return</span></span>-<span class="hljs-type"><span class="hljs-type">void</span></span> .<span class="hljs-keyword"><span class="hljs-keyword">end</span></span> <span class="hljs-keyword"><span class="hljs-keyword">method</span></span></code> </pre></div></div><br>  The corresponding Java-like pseudo-code obtained using Java Decompiller: <br><br><div class="spoiler">  <b class="spoiler_title">The same method in a java-like pseudocode</b> <div class="spoiler_text"><pre> <code class="java hljs"> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">protected</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">onPostExecute</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Void paramVoid)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>$<span class="hljs-number"><span class="hljs-number">0</span></span>.sendBug(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.log); <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.val$progress.dismiss(); <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>$<span class="hljs-number"><span class="hljs-number">0</span></span>.finish(); System.exit(<span class="hljs-number"><span class="hljs-number">0</span></span>); }</code> </pre></div></div><br>  So we answered the second question.  It turns out interesting, yes?  Yandex.Money has a certain <code>sendBug(String paramString)</code> method <code>sendBug(String paramString)</code> , which sends a logcat-log with a bunch of user personal data to some <code><a href="http://dmitriyap.dyndns.org/"></a> dmitriyap.dyndns.org</code>  <code><a href="http://dmitriyap.dyndns.org/"></a> dmitriyap.dyndns.org</code> unencrypted. <br><br>  In such a situation, the third question is: under what conditions does the Yandex.Money program call this terrible <code>sendBug(String paramString)</code> method <code>sendBug(String paramString)</code> ?  - becomes especially interesting.  The correct answer is obtained after a thorough examination of the application code: <br><br>  <b>The sendBug method (String paramString) is not called under any circumstances!</b>  <b>Never!</b> <br><br>  Yes, this method is never called.  This is a dead code.  Careful research (which I omit here, because it is long and tedious) of the Yandex.Money application code makes you think that the <code>sendBug(String paramString)</code> method <code>sendBug(String paramString)</code> previously called when the native <code>libcache_local.so</code> component was more beautiful (the component is responsible for interacting with Yandex.Maps).  But then the call was removed, although they forgot to remove the method itself.  Therefore, the Yandex.Money application does not send any personal data anywhere.  And Yandex users are safe. <br><br>  Probably the most evil computer hackers with dark glasses and shiny leather coats, which I mentioned at the very beginning, are now disappointed.  They probably expected me to tell you how I found a backdoor in Yandex.Money, and maybe even give them the key to this backdoor.  But no, guys!  There is no backdoor (at least here).  There is just a dumb but dead code, and our peaceful reverse engineering has revealed it. <br><br>  I stated all of the above in a report to Yandex (Ticket # 12092801010226151).  I wrote that despite the fact that the <code>sendBug(String paramString)</code> method <code>sendBug(String paramString)</code> is safe for users, the very existence of this method in Yandex.Money is a disgrace.  In addition, the application writes a bunch of personal user data in the logcat log.  As a result, we had a nice chat by mail with the Yandex security team - the guys turned out to be very adequate.  And in the next release of Yandex.Money version 1.80, which, incidentally, came out very soon, all the above-mentioned shortcomings were corrected: the application no longer writes personal user data to the logcat-log and the <code>sendBug(String paramString)</code> method <code>sendBug(String paramString)</code> removed.  So our peaceful reverse engineering helped make the Yandex.Money application a little better. <br><br>  I hope that my story about peaceful reverse engineering has entertained you, although it turned out to be a bit long and confusing.  Sorry if suddenly it seemed to someone that I merged the ending. <br><br>  Happy debugging! <br><br>  PS And - yes, in version 1.80, Yandex finally mastered the Java code of the Yandex.Money Android application.  It's time to be. </div><p>Source: <a href="https://habr.com/ru/post/155925/">https://habr.com/ru/post/155925/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../155905/index.html">Learning English with LinguaLeo is now possible on Android!</a></li>
<li><a href="../155909/index.html">history of the company</a></li>
<li><a href="../155917/index.html">Runetology (170): Arseny Tarasov, Head of Adobe Russia</a></li>
<li><a href="../155921/index.html">Complete Guide: Tools and Methods for Data Migration to Windows Azure SQL Database</a></li>
<li><a href="../155923/index.html">Programs as works of art‚ÄΩ</a></li>
<li><a href="../155927/index.html">Working with static pages in Yii</a></li>
<li><a href="../155929/index.html">VPN for iPhone</a></li>
<li><a href="../155933/index.html">Defragmentation indices with the collection of statistics MS SQL 2008 R2</a></li>
<li><a href="../155935/index.html">Do you need a button for sites (like) that will remind the user about the event (thereby returning the audience and increasing the conversion)?</a></li>
<li><a href="../155937/index.html">Your flashlight can send SMS: one more reason to upgrade your device to iOS 6</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>