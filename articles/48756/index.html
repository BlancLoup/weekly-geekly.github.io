<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Let's beat Ruby together! Drop four</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="We collect drops further ( 1 , 2 , 3 ). This time we will learn about the implementation of the PLO in Ruby. 

 Classes, objects, methods 
 Instead of...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Let's beat Ruby together! Drop four</h1><div class="post__text post__text-html js-mediator-article">  We collect drops further ( <a href="http://habrahabr.ru/blogs/ruby/48559/">1</a> , <a href="http://habrahabr.ru/blogs/ruby/48607/">2</a> , <a href="http://habrahabr.ru/blogs/ruby/48667/">3</a> ).  This time we will learn about the implementation of the PLO in Ruby. <br><br><h4>  Classes, objects, methods </h4><br>  Instead of delving further into the Ruby syntax, set aside loops, types, modules, etc., we will return to them later.  Now we will see how to create classes, objects and methods. <br><a name="habracut"></a><br>  As in other object languages, objects are defined by a class.  For example, this class defines dogs (o_0): <br><br><pre> <code class="hljs pgsql"><span class="hljs-keyword"><span class="hljs-keyword">class</span></span> Dog def set_name( aName ) @myname = aName <span class="hljs-keyword"><span class="hljs-keyword">end</span></span> <span class="hljs-keyword"><span class="hljs-keyword">end</span></span></code> </pre> <br>  Well, what do you dogs - not class?  ;) We look code.  The class definition begins with the <code>class</code> keyword and the name of the class itself, which <strong>must begin with a capital letter</strong> .  The class defines the method <code>set_name</code> ( <code>def...end</code> ), which will call each object-dog.  It takes the input argument <code>aName</code> and assigns its value to the <code>@myname</code> variable. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Variables beginning with <code>@</code> are class <strong>instance variables</strong> .  It is important that the value of such a variable is available only within the instance to which it belongs.  Create two objects (two specific dogs) using the <code>new</code> method: <br><br><pre> <code class="hljs pgsql">moya = Dog.<span class="hljs-built_in"><span class="hljs-built_in">new</span></span> tvoya = Dog.<span class="hljs-built_in"><span class="hljs-built_in">new</span></span></code> </pre> <br>  I remind and remember: we call the class only with a capital letter, the object - only with a lowercase.  Use the <code>set_name</code> method to name the dogs: <br><br><pre> <code class="hljs cs">moya.set_name( <span class="hljs-string"><span class="hljs-string">'Lassie'</span></span> ) tvoya.set_name( <span class="hljs-string"><span class="hljs-string">'Rex'</span></span> )</code> </pre> <br>  How now to display the nicknames of dogs?  We cannot ‚Äúpull out‚Äù the <code>@name</code> variable from the object, since the internal data of the object is known only to it (see above).  This is the basic principle of OOP: object data is private;  this is called data hiding and is part of the <strong>encapsulation</strong> principle. <br><br>  To solve this problem, simply add a new method to the class that will display the variable: <br><br><pre> <code class="hljs kotlin">def get_name <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-meta"><span class="hljs-meta">@myname</span></span> end</code> </pre> <br>  The word <code>return</code> optional, Ruby will return the last value received, but writing it is a good habit. <br><br>  Let's make the dog bark (for this we will write another method) and collect everything in a heap: <br><br><pre> <code class="hljs pgsql"><span class="hljs-keyword"><span class="hljs-keyword">class</span></span> Dog def set_name( aName ) @myname = aName <span class="hljs-keyword"><span class="hljs-keyword">end</span></span> def get_name <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> @myname <span class="hljs-keyword"><span class="hljs-keyword">end</span></span> def gav <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-string"><span class="hljs-string">'rrrr!'</span></span> <span class="hljs-keyword"><span class="hljs-keyword">end</span></span> <span class="hljs-keyword"><span class="hljs-keyword">end</span></span> dog1 = Dog.<span class="hljs-built_in"><span class="hljs-built_in">new</span></span> dog1.set_name( <span class="hljs-string"><span class="hljs-string">'Fido'</span></span> ) puts(dog1.get_name) puts(dog1.gav)</code> </pre> <br>  Imagine that we have two classes (for example, cats and dogs), each is determined by the object (specific cat and dog) and the method with the same name ("speak", but the cat meows, and the dog barks).  It turns out that the objects react to the same method differently.  The ability to have several classes containing methods of the same name is called <strong>polymorphism</strong> .  They found out ... and forgot this terrible word. <br><br><h4>  Attributes </h4><br>  For our task there is another approach - we will create the necessary methods using class <strong>attributes</strong> .  Complicate the task and create a zoo;) <br><br><pre> <code class="hljs kotlin"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Cat</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">attr_accessor</span></span></span><span class="hljs-class"> :</span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">name</span></span></span><span class="hljs-class">, </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">:age</span></span></span><span class="hljs-class">, </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">:gender</span></span></span><span class="hljs-class">, </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">:color end class Dog attr_accessor :name</span></span></span><span class="hljs-class">, </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">:age</span></span></span><span class="hljs-class">, </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">:gender</span></span></span><span class="hljs-class">, </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">:color end class Snake attr_accessor :name</span></span></span><span class="hljs-class">, </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">:age</span></span></span><span class="hljs-class">, </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">:gender</span></span></span><span class="hljs-class">, </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">:color</span></span></span><span class="hljs-class">, </span><span class="hljs-type"><span class="hljs-class"><span class="hljs-type">:length end</span></span></span></span></code> </pre> <br>  Consider the second line.  It provides three attributes for the <code>Cat</code> class.  Each cat has its own nickname, age, gender and color - and the code creates these attributes.  <code>_accessor</code> means "make these attributes available for creation and modification." <br><br>  Create an object and apply the attributes: <br><br> <code>cat_object = Cat.new <br> cat_object.name = "Pussy" <br> ........................ <br> puts cat_object.name</code> <br> <br><h4>  Inheritance </h4><br>  Looking at the last code with the declaration of the three classes, it is easy to notice that they are extremely similar.  Only the snake has an additional length.  Recall the principles of programming in Ruby from the first drop.  One of them: DRY (Don't repeat yourself), which means that we have to write the necessary code only once, and we have solid repetitions.  We just need to pay attention to one of the best features of OOP: <strong>inheritance</strong> . <br><br>  Inheritance allows different classes to relate to each other and group by similarities in the structure.  In our example, cats, dogs, snakes are all pets.  So why don't we create a <code>Pet</code> class that will be ‚Äúparental‚Äù for the rest, which, in turn, will inherit properties common to all pets?  We write: <br><br><pre> <code class="hljs pgsql"><span class="hljs-keyword"><span class="hljs-keyword">class</span></span> Pet attr_accessor :<span class="hljs-type"><span class="hljs-type">name</span></span>, :age, :gender, :color <span class="hljs-keyword"><span class="hljs-keyword">end</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> Cat &lt; Pet <span class="hljs-keyword"><span class="hljs-keyword">end</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> Dog &lt; Pet <span class="hljs-keyword"><span class="hljs-keyword">end</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> Snake &lt; Pet attr_accessor :length <span class="hljs-keyword"><span class="hljs-keyword">end</span></span></code> </pre> <br>  I think, the principle and rules of declaring inherited classes are clear, now try to create objects, set parameters and display the result.  Note that simpler classes are higher than the classes that are complex in the <b>hierarchy</b> . <br><br><h4>  Epilogue </h4><br>  In the last drop, we figured out what the OOP is, in this one we learned how to apply knowledge in Ruby, learned a few muddled words, got acquainted with instance variables and class attributes.  Another drop in our glass;) <br><br>  Thanks to Hugh Colinborn and Peter Cooper for great examples for our drops.  Comments and comments as always are accepted!  See you! <br></div><p>Source: <a href="https://habr.com/ru/post/48756/">https://habr.com/ru/post/48756/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../48749/index.html">...</a></li>
<li><a href="../48750/index.html">Btrfs is part of the main Linux kernel.</a></li>
<li><a href="../48752/index.html">Deep misunderstanding of usability</a></li>
<li><a href="../48754/index.html">DSL and Ruby dynamic goodies</a></li>
<li><a href="../48755/index.html">Public Windows 7 Beta - direct download links</a></li>
<li><a href="../48758/index.html">Configuring Munin Notifications</a></li>
<li><a href="../48762/index.html">Time Management in McDonalds</a></li>
<li><a href="../48764/index.html">Win-Cocktail for ruby</a></li>
<li><a href="../48766/index.html">Place for holivar</a></li>
<li><a href="../48767/index.html">The realities of the Belarusian web journalism: an interview with the curator of the faculty and the first-year students themselves</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>