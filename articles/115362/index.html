<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>CMS Diem Introductory Overview</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Half a year ago I learned from a colleague about this CMS and she was very interested in me, recently got around in my hands to rummage, I hasten to s...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>CMS Diem Introductory Overview</h1><div class="post__text post__text-html js-mediator-article">  Half a year ago I learned from a colleague about this CMS and she was very interested in me, recently got around in my hands to rummage, I hasten to share my impressions with habrazhitelemi and habragosti. <br><br><h4>  Briefly about the main thing </h4><br><ul><li>  Powered by symfony1.4. <br>  Who is not familiar with symfony - <a href="http://www.symfony-project.org/get/pdf/getting-started-1.4-en.pdf">getting started tutorial</a> , <a href="http://www.symfony-project.org/">official web-site</a> . </li><li>  In addition to the standard admin has an interactive control interface for the frontend, all changes are uploaded via AJAX - which is very convenient when editing </li><li>  Integrated Google Analytics, convenient viewing of server logs in the form of graphs, generation of the admin interface for self-written modules, web console and other buns </li></ul><br><br>  Detailed description and screenshots below <a name="habracut"></a>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h4>  Server requirements </h4><br><ul><li>  Server: Unix (this is for production, development can be done on Denwer or xampp) </li><li>  PHP version&gt; = 5.2.4 </li><li>  PHP CLI ON </li><li>  memory_limit&gt; = 48Mb </li><li>  pdo_mysql or pdo_pgsql or pdo_sqlite </li><li>  json&gt; = 1.0 </li><li>  gd </li></ul><br><br>  Additional requirements: APC, mbstring, graphviz, PHP! = 5.2.9 <br><br>  Actually, for a simple site, standard virtual hosting will go; for projects with a load, use VDS with APC installed <br><br><h3>  Charms diem </h3><br>  First, Diem as an application written in the symfony-framework preserves the entire development structure: <br>  yml - configuration, built-in cache, unit-tests, three-level structure of templates (layout - module template, partial template) <br><br>  Secondly, Diem has its own code management logic, <a href="http://diem-project.org/diem-5-1/doc/en/reference-book/conventions">naming notation</a> , <a href="http://diem-project.org/diem-5-1/doc/en/reference-book/internal-search-engine">built-in search system</a> , plug-ins for popular tasks, code generation for self-written modules. <br><br>  Thirdly, in my opinion, the main advantage for the end user is a convenient content administration interface.  I will try to tell about it in detail below. <br><br><h3>  Admin panel </h3><br>  The main admin page looks like this: <br><br><img src="https://habrastorage.org/storage/610b90b4/e0f592c8/0fe8c16a/df2a7948.png"><br><br>  We see summary information generated by server logs and google-analytics statistics <br><br>  In the top panel, there are buttons for creating a new page, updating the cache, a menu, an indicator for using APC, and symfony debugging information (about the duration of the query, the number of database accesses, memory usage, etc. <br><br>  Impressive, isn't it?  And all this is already in the installed version. <br><br>  To write your own modules, you have your own approach: you describe the database structure and module behavior in a yml file, for example: <br><br> <code>// config/doctrine/shema.yml&lt;br/&gt; <br> Category:&lt;br/&gt; <br> columns:&lt;br/&gt; <br> name:             { type: string(20), notnull: true }&lt;br/&gt; <br> body:             { type: clob, extra: markdown }&lt;br/&gt; <br> &lt;br/&gt; <br> Product:&lt;br/&gt; <br> columns:&lt;br/&gt; <br> category_id:      { type: integer, notnull: true }&lt;br/&gt; <br> name:             { type: string(15), notnull: true }&lt;br/&gt; <br> body:             { type: clob, extra: markdown }&lt;br/&gt; <br> image:            { type: integer, notnull: true }&lt;br/&gt; <br> cost:             { type: integer(5), notnull: true }&lt;br/&gt; <br> relations:&lt;br/&gt; <br> Category:&lt;br/&gt; <br> foreignAlias:   Products&lt;br/&gt; <br> Image:&lt;br/&gt; <br> class:          DmMedia&lt;br/&gt; <br> local:          image&lt;br/&gt; <br> onDelete:       RESTRICT&lt;br/&gt; <br> &lt;br/&gt; <br> // config/dm/modules.yml&lt;br/&gt; <br> "":&lt;br/&gt; <br> category:&lt;br/&gt; <br> model:                  Category&lt;br/&gt; <br> page:                   true&lt;br/&gt; <br> name:                   "|"&lt;br/&gt; <br> admin:                  true&lt;br/&gt; <br> front:                  true&lt;br/&gt; <br> components:&lt;br/&gt; <br> list:&lt;br/&gt; <br> cache:              true&lt;br/&gt; <br> show:&lt;br/&gt; <br> cache:              true&lt;br/&gt; <br> &lt;br/&gt; <br> product:&lt;br/&gt; <br> parent:                 category&lt;br/&gt; <br> model:                  Product&lt;br/&gt; <br> page:                   true&lt;br/&gt; <br> name:                   "|"&lt;br/&gt; <br> admin:                  true&lt;br/&gt; <br> front:                  true&lt;br/&gt; <br> components:&lt;br/&gt; <br> listByCategory:&lt;br/&gt; <br> filters:            [ category ]&lt;br/&gt; <br> cache:              true&lt;br/&gt; <br> show:&lt;br/&gt; <br> cache:              true&lt;br/&gt; <br> showLittle:&lt;br/&gt; <br> cache:              true</code> <br> <br>  Run from the console ./symfony dm: setup and ... <br><br>  The script generates the necessary modules, actions and templates according to the specified scheme and you can already see in the admin section a section for managing goods <br><br><img src="https://habrastorage.org/storage/47732bf8/4aeac3c3/2996a438/2d5e4a97.png"><br><br>  Based on the list and show keywords, templates are generated for viewing products as a list and a single display ... <br><br>  Impressive even more? <br><br>  Then wait for the continuation of articles ... <br><br>  Lastly, a few screenshots, about which I do not have time to write in detail: <br><br><img src="https://habrastorage.org/storage/6e7fb4d3/292fc2bf/45f9fec9/01d81ae5.png"><br>  Editing the feedback form (again, the form is generated by the yml settings), it remains to impose a css design and the form is ready for use (validation, writing to the database, displaying in the admin area ensures diem) <br><br>  It remains to drag the shape of the mouse in the right place of the site and all. <br><br><img src="https://habrastorage.org/storage/460f9b54/84642d72/ec827156/ac7ad0ca.png"><br>  In the left tab ¬´pages¬ª, as you can guess, the site structure is hidden: used when editing menus, for quick navigation, filling in directories, etc. <br><br>  References: <br>  <a href="http://diem-project.org/">Project site</a> <br>  <a href="http://diem-project.org/tour/sites-powered-by-diem">Sites created on cms-diem</a> <br>  <a href="http://itnsk.org/">Website development on cms-diem</a> <br><br>  For interested people, I suggest to unite to create an adapted version for the RuNet with an expanded set of ready-made modules (for example, a photo gallery, an online store, integration with yandex-statistics ...) <br><br>  Who wants to "play" - <a href="http://diem-project.org/diem-5-1/doc/en/a-week-of-diem-ipsum/2-your-first-project-with-diem">installation guide</a> <br><br>  <b>UPD1: see how much Diem eats memory</b> <br><br>  with debug enabled and default settings <br> <code>memory_usage = 15653864 <br> memory_peak_usage = 15837840</code> <br>  total ~ 15Mb <br><br>  in normal mode (without debugging) and standard settings <br> <code>memory_usage = 14266416 <br> memory_peak_usage = 14338544</code> <br>  total ~ 14Mb (1Mb eats debag) <br><br>  with swift_mailer turned off (as advised by symfony developers to improve performance) <br>  also around ~ 14Mb <br>  (swift mailer was not called anywhere - autoload did not load anything, we eat the same amount of memory) <br><br>  we include a cache of pages: <br> <code>memory_usage = 6275864 <br> memory_peak_usage = 6275864</code> <br>  total ~ 6Mb (save another 8Mb + minimizing queries to the database) <br><br>  interesting to compare with Joomla and Drupal </div><p>Source: <a href="https://habr.com/ru/post/115362/">https://habr.com/ru/post/115362/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../115353/index.html">As thanks to hc.ru, I realized that backups should be done by myself</a></li>
<li><a href="../115354/index.html">Broadcasting from open competitions of St. Petersburg in robotics</a></li>
<li><a href="../115356/index.html">Panasonic engineers presented a charging table with solar panels</a></li>
<li><a href="../115357/index.html">Sausage.js - a library for turning any code into a call chain</a></li>
<li><a href="../115361/index.html">GTD and eGroupWare</a></li>
<li><a href="../115365/index.html">What are you missing to complete the transition from windows to linux?</a></li>
<li><a href="../115367/index.html">How often when voting for a topic, do you plus or minus it without reading to the end</a></li>
<li><a href="../115368/index.html">Journalist Programmer 1 year!</a></li>
<li><a href="../115369/index.html">JS1k - we write a great web application in 1024 bytes</a></li>
<li><a href="../115372/index.html">Elixir</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>