<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Video surveillance from idea to ... idea. Data</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="The idea itself: "Video surveillance from idea to ... idea" 

 Here will be described the facts of the system. Pictures, logs, and something else. 

 ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Video surveillance from idea to ... idea. Data</h1><div class="post__text post__text-html js-mediator-article">  The idea itself: <a href="http://habrahabr.ru/post/234139/">"Video surveillance from idea to ... idea"</a> <br><br>  Here will be described the facts of the system.  Pictures, logs, and something else. <br><a name="habracut"></a><br>  The most difficult thing was not the optimization of algorithms, not the invention of a good system, but the struggle with the load average.  Imagine you have 30 streams of cameras that write to disk, desktop disks in the raid on FreeNas via NFS.  Creepy?  No, not horror, even if without NFS, it is still a huge system drawdown.  The solution is ramdisks. <br><br>  Since the system has been lying dead for a month, and I slowly studied Java ( <a href="http://habrahabr.ru/post/233237/">here</a> ), I am not quite aware of how many cameras are alive and what is happening on the server.  We will understand the course of the article.  Do not let me go until the topic of video surveillance. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Here it is a cherished machine: <br><br><img src="https://habrastorage.org/files/954/7f7/d50/9547f7d503834e87b4fa5d992c7fa7a1.png" alt="image"><br><br>  The picture shows that she has experienced many tests and loads (from Windows 2003 graphics to the minecraft server).  Load average is shown in working condition, i.e.  Now the cameras are working and the car is writing a video. <br><br>  Here is the "working virtual horse" system.  The idea was to multiply and run them in different parts of the "world".  And if desired, embody in the gland.  Unpacking qcow to disk seems to be a trivial task. <br><br><img src="https://habrastorage.org/files/723/d8d/6da/723d8d6da003495ea1f77b940a8e4937.png" alt="image"><br><br>  We climb inside the car. <br>  top <br><pre><code class="php hljs">top - <span class="hljs-number"><span class="hljs-number">10</span></span>:<span class="hljs-number"><span class="hljs-number">41</span></span>:<span class="hljs-number"><span class="hljs-number">49</span></span> up <span class="hljs-number"><span class="hljs-number">25</span></span> min, <span class="hljs-number"><span class="hljs-number">2</span></span> users, load average: <span class="hljs-number"><span class="hljs-number">0.34</span></span>, <span class="hljs-number"><span class="hljs-number">0.45</span></span>, <span class="hljs-number"><span class="hljs-number">0.40</span></span> Tasks: <span class="hljs-number"><span class="hljs-number">168</span></span> total, <span class="hljs-number"><span class="hljs-number">1</span></span> running, <span class="hljs-number"><span class="hljs-number">167</span></span> sleeping, <span class="hljs-number"><span class="hljs-number">0</span></span> stopped, <span class="hljs-number"><span class="hljs-number">0</span></span> zombie %Cpu(s): <span class="hljs-number"><span class="hljs-number">4.0</span></span> us, <span class="hljs-number"><span class="hljs-number">2.3</span></span> sy, <span class="hljs-number"><span class="hljs-number">0.0</span></span> ni, <span class="hljs-number"><span class="hljs-number">90.5</span></span> id, <span class="hljs-number"><span class="hljs-number">0.1</span></span> wa, <span class="hljs-number"><span class="hljs-number">1.2</span></span> hi, <span class="hljs-number"><span class="hljs-number">1.2</span></span> si, <span class="hljs-number"><span class="hljs-number">0.7</span></span> st KiB Mem: <span class="hljs-number"><span class="hljs-number">6112740</span></span> total, <span class="hljs-number"><span class="hljs-number">2076652</span></span> used, <span class="hljs-number"><span class="hljs-number">4036088</span></span> free, <span class="hljs-number"><span class="hljs-number">19736</span></span> buffers KiB Swap: <span class="hljs-number"><span class="hljs-number">2047996</span></span> total, <span class="hljs-number"><span class="hljs-number">0</span></span> used, <span class="hljs-number"><span class="hljs-number">2047996</span></span> free, <span class="hljs-number"><span class="hljs-number">1586536</span></span> cached PID USER PR NI VIRT RES SHR S %CPU %MEM TIME+ COMMAND <span class="hljs-number"><span class="hljs-number">9727</span></span> vlc <span class="hljs-number"><span class="hljs-number">20</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">690412</span></span> <span class="hljs-number"><span class="hljs-number">29852</span></span> <span class="hljs-number"><span class="hljs-number">1776</span></span> S <span class="hljs-number"><span class="hljs-number">4.3</span></span> <span class="hljs-number"><span class="hljs-number">0.5</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span>:<span class="hljs-number"><span class="hljs-number">44.78</span></span> motion <span class="hljs-number"><span class="hljs-number">9713</span></span> vlc <span class="hljs-number"><span class="hljs-number">20</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">2067540</span></span> <span class="hljs-number"><span class="hljs-number">88944</span></span> <span class="hljs-number"><span class="hljs-number">11928</span></span> S <span class="hljs-number"><span class="hljs-number">3.7</span></span> <span class="hljs-number"><span class="hljs-number">1.5</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span>:<span class="hljs-number"><span class="hljs-number">33.55</span></span> vlc <span class="hljs-number"><span class="hljs-number">9911</span></span> vlc <span class="hljs-number"><span class="hljs-number">20</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">1407164</span></span> <span class="hljs-number"><span class="hljs-number">42080</span></span> <span class="hljs-number"><span class="hljs-number">11968</span></span> S <span class="hljs-number"><span class="hljs-number">2.0</span></span> <span class="hljs-number"><span class="hljs-number">0.7</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span>:<span class="hljs-number"><span class="hljs-number">22.40</span></span> vlc <span class="hljs-number"><span class="hljs-number">10133</span></span> vlc <span class="hljs-number"><span class="hljs-number">20</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">1481508</span></span> <span class="hljs-number"><span class="hljs-number">42672</span></span> <span class="hljs-number"><span class="hljs-number">7732</span></span> S <span class="hljs-number"><span class="hljs-number">1.3</span></span> <span class="hljs-number"><span class="hljs-number">0.7</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span>:<span class="hljs-number"><span class="hljs-number">17.86</span></span> vlc <span class="hljs-number"><span class="hljs-number">23982</span></span> vlc <span class="hljs-number"><span class="hljs-number">20</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">397988</span></span> <span class="hljs-number"><span class="hljs-number">7948</span></span> <span class="hljs-number"><span class="hljs-number">1908</span></span> S <span class="hljs-number"><span class="hljs-number">0.7</span></span> <span class="hljs-number"><span class="hljs-number">0.1</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span>:<span class="hljs-number"><span class="hljs-number">00.02</span></span> php-fpm <span class="hljs-number"><span class="hljs-number">15</span></span> root <span class="hljs-number"><span class="hljs-number">20</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> S <span class="hljs-number"><span class="hljs-number">0.3</span></span> <span class="hljs-number"><span class="hljs-number">0.0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span>:<span class="hljs-number"><span class="hljs-number">00.73</span></span> ksoftirqd/<span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-number"><span class="hljs-number">918</span></span> vlc <span class="hljs-number"><span class="hljs-number">20</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">55700</span></span> <span class="hljs-number"><span class="hljs-number">2384</span></span> <span class="hljs-number"><span class="hljs-number">892</span></span> S <span class="hljs-number"><span class="hljs-number">0.3</span></span> <span class="hljs-number"><span class="hljs-number">0.0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span>:<span class="hljs-number"><span class="hljs-number">03.47</span></span> nginx <span class="hljs-number"><span class="hljs-number">9935</span></span> vlc <span class="hljs-number"><span class="hljs-number">20</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">604916</span></span> <span class="hljs-number"><span class="hljs-number">16616</span></span> <span class="hljs-number"><span class="hljs-number">1528</span></span> S <span class="hljs-number"><span class="hljs-number">0.3</span></span> <span class="hljs-number"><span class="hljs-number">0.3</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span>:<span class="hljs-number"><span class="hljs-number">04.62</span></span> motion ...</code> </pre> <br>  free <br><pre> <code class="php hljs"> total used free shared buffers cached Mem: <span class="hljs-number"><span class="hljs-number">5.8</span></span>G <span class="hljs-number"><span class="hljs-number">2.1</span></span>G <span class="hljs-number"><span class="hljs-number">3.8</span></span>G <span class="hljs-number"><span class="hljs-number">647</span></span>M <span class="hljs-number"><span class="hljs-number">19</span></span>M <span class="hljs-number"><span class="hljs-number">1.6</span></span>G -/+ buffers/cache: <span class="hljs-number"><span class="hljs-number">461</span></span>M <span class="hljs-number"><span class="hljs-number">5.4</span></span>G Swap: <span class="hljs-number"><span class="hljs-number">2.0</span></span>G <span class="hljs-number"><span class="hljs-number">0</span></span>B <span class="hljs-number"><span class="hljs-number">2.0</span></span>G</code> </pre><br><br>  df <br><pre> <code class="php hljs">Filesystem Size Used Avail <span class="hljs-keyword"><span class="hljs-keyword">Use</span></span>% <span class="hljs-title"><span class="hljs-title">Mounted</span></span> <span class="hljs-title"><span class="hljs-title">on</span></span> /<span class="hljs-title"><span class="hljs-title">dev</span></span>/<span class="hljs-title"><span class="hljs-title">mapper</span></span>/<span class="hljs-title"><span class="hljs-title">fedora_dvr</span></span>-<span class="hljs-title"><span class="hljs-title">root</span></span> 7.4<span class="hljs-title"><span class="hljs-title">G</span></span> 6.9<span class="hljs-title"><span class="hljs-title">G</span></span> 28<span class="hljs-title"><span class="hljs-title">M</span></span> 100% / <span class="hljs-title"><span class="hljs-title">devtmpfs</span></span> 3.0<span class="hljs-title"><span class="hljs-title">G</span></span> 0 3.0<span class="hljs-title"><span class="hljs-title">G</span></span> 0% /<span class="hljs-title"><span class="hljs-title">dev</span></span> <span class="hljs-title"><span class="hljs-title">tmpfs</span></span> 3.0<span class="hljs-title"><span class="hljs-title">G</span></span> 0 3.0<span class="hljs-title"><span class="hljs-title">G</span></span> 0% /<span class="hljs-title"><span class="hljs-title">dev</span></span>/<span class="hljs-title"><span class="hljs-title">shm</span></span> <span class="hljs-title"><span class="hljs-title">tmpfs</span></span> 3.0<span class="hljs-title"><span class="hljs-title">G</span></span> 17<span class="hljs-title"><span class="hljs-title">M</span></span> 2.9<span class="hljs-title"><span class="hljs-title">G</span></span> 1% /<span class="hljs-title"><span class="hljs-title">run</span></span> <span class="hljs-title"><span class="hljs-title">tmpfs</span></span> 3.0<span class="hljs-title"><span class="hljs-title">G</span></span> 0 3.0<span class="hljs-title"><span class="hljs-title">G</span></span> 0% /<span class="hljs-title"><span class="hljs-title">sys</span></span>/<span class="hljs-title"><span class="hljs-title">fs</span></span>/<span class="hljs-title"><span class="hljs-title">cgroup</span></span> <span class="hljs-title"><span class="hljs-title">tmpfs</span></span> 3.0<span class="hljs-title"><span class="hljs-title">G</span></span> 48<span class="hljs-title"><span class="hljs-title">K</span></span> 3.0<span class="hljs-title"><span class="hljs-title">G</span></span> 1% /<span class="hljs-title"><span class="hljs-title">tmp</span></span> <span class="hljs-title"><span class="hljs-title">tmpfs</span></span> 4.0<span class="hljs-title"><span class="hljs-title">G</span></span> 602<span class="hljs-title"><span class="hljs-title">M</span></span> 3.4<span class="hljs-title"><span class="hljs-title">G</span></span> 15% /<span class="hljs-title"><span class="hljs-title">home</span></span>/<span class="hljs-title"><span class="hljs-title">vlc</span></span>/<span class="hljs-title"><span class="hljs-title">dvr</span></span>/<span class="hljs-title"><span class="hljs-title">tmpfs</span></span> /<span class="hljs-title"><span class="hljs-title">dev</span></span>/<span class="hljs-title"><span class="hljs-title">sda1</span></span> 477<span class="hljs-title"><span class="hljs-title">M</span></span> 90<span class="hljs-title"><span class="hljs-title">M</span></span> 358<span class="hljs-title"><span class="hljs-title">M</span></span> 20% /<span class="hljs-title"><span class="hljs-title">boot</span></span> *.*.*.211:/<span class="hljs-title"><span class="hljs-title">mnt</span></span>/<span class="hljs-title"><span class="hljs-title">raid1</span></span>/<span class="hljs-title"><span class="hljs-title">mx</span></span>/<span class="hljs-title"><span class="hljs-title">video</span></span> 11<span class="hljs-title"><span class="hljs-title">T</span></span> 2.2<span class="hljs-title"><span class="hljs-title">T</span></span> 8.2<span class="hljs-title"><span class="hljs-title">T</span></span> 21% /<span class="hljs-title"><span class="hljs-title">home</span></span>/<span class="hljs-title"><span class="hljs-title">vlc</span></span>/<span class="hljs-title"><span class="hljs-title">dvr</span></span>/<span class="hljs-title"><span class="hljs-title">nfs</span></span></code> </pre><br><br>  The most working horse in the current implementation is VLC (proceeded to the development of ffserve, but never completed it) <br><br> <code>vlc 9713 1 2 10:22 ? 00:00:39 /usr/bin/vlc -I dummy -vvv --rtsp-tcp -d -I http --http-host=0.0.0.0 --http-port 8101 -I telnet --telnet-port 44301 --telnet-password 12345 --repeat --loop --live-caching 500 --network-caching 500 --sout-mux-caching 300 --sout-ts-dts-delay 400 --pidfile /home/vlc/dvr/local/proc/1/vlc.pid --extraintf=http:logger --file-logging --log-verbose 0 --logfile /home/vlc/dvr/local/log/1/vlc.log</code> <br>  Caching cannot be set to less than 500 (ms), as there is some buffer in VLC that does not have time to fill with video data and they go to the return and destroy the video stream (there will be sound, there is no video). <br>  Caches are chosen empirically. <br>  --telnet - allows you to manage VLC via telnet. <br> <code>telnet localhost 44301</code> <br>  &gt; show <br><div class="spoiler">  <b class="spoiler_title">show command</b> <div class="spoiler_text"><pre> <code class="php hljs"> instances CAM_9_l_flv type : broadcast enabled : yes loop : yes inputs <span class="hljs-number"><span class="hljs-number">1</span></span> : http:<span class="hljs-comment"><span class="hljs-comment">//localhost:55309 output : #transcode{vcodec=FLV1,vb=4096,fps=25,scale=1,acodec=mp3,samplerate=44100,ab=128}:http{dst=*:11009/stream.flv} options instances CAM_11_live type : broadcast enabled : yes loop : yes inputs 1 : rtsp://10.112.249.48:10003/live/ch01_0 output : #transcode{acodec=none}:std{access=http{mime=video/mp4},mux=ts{use-key-frames},dst=*:9011/path.mp4} options instances instance name : default state : playing position : 0.000000 time : 1555935707 length : 0 rate : 1.000000 title : 0 chapter : 0 can-seek : 0 playlistindex : 1 CAM_11_lhttp type : broadcast enabled : yes loop : yes inputs 1 : http://localhost:9011/path.mp4 output : #std{access=livehttp{seglen=5,delsegs=true,numsegs=15,splitanywhere=true,index=/home/vlc/dvr/tmpfs/lhttp/1/stream-11.m3u8,index-url=http://10.154.28.202/lhttp/1/stream-11-########.ts},mux=ts{use-key-frames},dst=/home/vlc/dvr/tmpfs/lhttp/1/stream-11-########.ts} options instances instance name : default state : playing position : 0.000000 time : 0 length : 0 rate : 1.000000 title : 0 chapter : 0 can-seek : 0 playlistindex : 1 CAM_11_l_flv type : broadcast enabled : yes loop : yes inputs 1 : http://localhost:55311 output : #transcode{vcodec=FLV1,vb=4096,fps=25,scale=1,acodec=mp3,samplerate=44100,ab=128}:http{dst=*:11011/stream.flv} options instances instance name : default state : playing position : 0.000000 time : 0 length : 0 rate : 1.000000 title : 0 chapter : 0 can-seek : 0 playlistindex : 1 CAM_12_live type : broadcast enabled : yes loop : yes inputs 1 : rtsp://10.112.249.48:10004/live/ch01_0 output : #transcode{acodec=none}:std{access=http{mime=video/mp4},mux=ts{use-key-frames},dst=*:9012/path.mp4} options instances instance name : default state : playing position : 0.000000 time : 1560325097 length : 0 rate : 1.000000 title : 0 chapter : 0 can-seek : 0 playlistindex : 1 CAM_12_lhttp type : broadcast enabled : yes loop : yes inputs 1 : http://localhost:9012/path.mp4 output : #std{access=livehttp{seglen=5,delsegs=true,numsegs=15,splitanywhere=true,index=/home/vlc/dvr/tmpfs/lhttp/1/stream-12.m3u8,index-url=http://10.154.28.202/lhttp/1/stream-12-########.ts},mux=ts{use-key-frames},dst=/home/vlc/dvr/tmpfs/lhttp/1/stream-12-########.ts} options instances instance name : default state : playing position : 0.000000 time : 0 length : 0 rate : 1.000000 title : 0 chapter : 0 can-seek : 0 playlistindex : 1 CAM_12_l_flv type : broadcast enabled : yes loop : yes inputs 1 : http://localhost:55312 output : #transcode{vcodec=FLV1,vb=4096,fps=25,scale=1,acodec=mp3,samplerate=44100,ab=128}:http{dst=*:11012/stream.flv} options instances instance name : default state : playing position : 0.000000 time : 0 length : 0 rate : 1.000000 title : 0 chapter : 0 can-seek : 0 playlistindex : 1 CAM_14_live type : broadcast enabled : yes loop : yes inputs 1 : http://95.31.22.173:3128/cam_1.cgi output : #transcode{acodec=none}:std{access=http{mime=video/mp4},mux=ts{use-key-frames},dst=*:9014/path.mp4} options instances CAM_14_lhttp type : broadcast enabled : yes loop : yes inputs 1 : http://localhost:9014/path.mp4 output : #std{access=livehttp{seglen=5,delsegs=true,numsegs=15,splitanywhere=true,index=/home/vlc/dvr/tmpfs/lhttp/1/stream-14.m3u8,index-url=http://10.154.28.202/lhttp/1/stream-14-########.ts},mux=ts{use-key-frames},dst=/home/vlc/dvr/tmpfs/lhttp/1/stream-14-########.ts} options instances CAM_14_l_flv type : broadcast enabled : yes loop : yes inputs 1 : http://localhost:55314 output : #transcode{vcodec=FLV1,vb=4096,fps=25,scale=1,acodec=mp3,samplerate=44100,ab=128}:http{dst=*:11014/stream.flv} options instances CAM_15_live type : broadcast enabled : yes loop : yes inputs 1 : rtsp://10.112.249.48:10001/live/ch01_0 output : #transcode{acodec=none}:std{access=http{mime=video/mp4},mux=ts{use-key-frames},dst=*:9015/path.mp4} options instances CAM_15_lhttp type : broadcast enabled : yes loop : yes inputs 1 : http://localhost:9015/path.mp4 output : #std{access=livehttp{seglen=5,delsegs=true,numsegs=15,splitanywhere=true,index=/home/vlc/dvr/tmpfs/lhttp/1/stream-15.m3u8,index-url=http://10.154.28.202/lhttp/1/stream-15-########.ts},mux=ts{use-key-frames},dst=/home/vlc/dvr/tmpfs/lhttp/1/stream-15-########.ts} options instances CAM_15_l_flv type : broadcast enabled : yes loop : yes inputs 1 : http://localhost:55315 output : #transcode{vcodec=FLV1,vb=4096,fps=25,scale=1,acodec=mp3,samplerate=44100,ab=128}:http{dst=*:11015/stream.flv} options instances CAM_11_rec type : broadcast enabled : yes loop : yes inputs 1 : http://localhost:9011/path.mp4 output : #std{access=file{append},mux=ts{use-key-frames},dst=/home/vlc/dvr/tmpfs/rec/1/20140822/11_104211.avi} options instances instance name : default state : playing position : 0.000000 time : 0 length : 0 rate : 1.000000 title : 0 chapter : 0 can-seek : 0 playlistindex : 1 CAM_12_rec type : broadcast enabled : yes loop : yes inputs 1 : http://localhost:9012/path.mp4 output : #std{access=file{append},mux=ts{use-key-frames},dst=/home/vlc/dvr/tmpfs/rec/1/20140822/12_104412.avi} options instances instance name : default state : playing position : 0.000000 time : 0 length : 0 rate : 1.000000 title : 0 chapter : 0 can-seek : 0 playlistindex : 1 CAM_11_mtn type : broadcast enabled : yes loop : yes inputs 1 : http://localhost:9011/path.mp4 output : #std{access=file{append},mux=ts{use-key-frames},dst=/home/vlc/dvr/tmpfs/mtn/1/20140822/11_104831.avi} options instances instance name : default state : stopped position : 0.000000 time : 0 length : 0 rate : 1.000000 title : 0 chapter : 0 can-seek : 1 playlistindex : 1 schedule &gt;</span></span></code> </pre><br></div></div><br><br>  CAM_12_lhttp is our cameras <br>  12 - id from sql <br>  CAM - essence <br>  lhttp - stream <br>  The logic of work is simple.  Once every 10 minutes, delete the rec stream, create a new rec stream with a new file name.  Video stream is cut. <br>  New threads are added to the end of the list. <br>  Here we see the CAM_11_mtn is the last - he is writing at the moment, as the motion said to write. <br>  in the ~ / vlc directory there is local, nfs, tmpfs. <br>  fstab explains who it is and what it is <br><pre> <code class="php hljs">tmpfs /home/vlc/dvr/tmpfs tmpfs size=<span class="hljs-number"><span class="hljs-number">4072</span></span>m <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> *.*.*<span class="hljs-number"><span class="hljs-number">.211</span></span>:/mnt<span class="hljs-comment"><span class="hljs-comment">/*/*/</span></span>video /home/vlc/dvr/nfs nfs users <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span></code> </pre><br>  local - Plain folder.  It contains intermediate configs, logs, and proc flags (see the VLC startup command above) <br>  [vlc @ dvr tmpfs] $ ls <br> <code>img lhttp lock mtn rec tmp</code> <br>  Each directory has subdirectories where name is the user id from sql <br>  each user has his information <br>  img - image storage <br><br> <code>lastsnap.jpg snapshot-2014_08_22-10_32_00.jpg snapshot-2014_08_22-10_39_00.jpg snapshot-2014_08_22-10_46_00.jpg snapshot-2014_08_22-10_53_00.jpg <br> snapshot-2014_08_22-10_26_00.jpg ...</code> <br> <br>  lhttp - VLCshny hls <br> <code>stream-11-00000414.ts stream-11-00000419.ts stream-11-00000424.ts ...</code> <br>  lock - files flags to synchronize all this zoo <br> <code>motionDetected_11.lock time_16_timelapse.lock time_23_timelapse.lock time_CAM_25_rec.lock update.lock</code> <br>  motionDetected_11 - says that there is movement on the 11th camera. <br>  update.lock - says that the update system is on <br>  And for these files is a countdown.  Time lapse, recording and more delays. <br><br>  mnt, rec - current records.  Let me remind you that this is a ram disk and we write 10 minutes in memory.  If we don‚Äôt write, the folders are empty.  As soon as 10 minutes passes, the file is migrated to NFS.  After all, it is easier to throw a piece at NFS, rather than pouring streams from the cameras. <br>  in tmp there are auxiliary files, or additional info for php, since we are not working as a daemon, but run 1 time in the update about the server. <br><br>  From the pictures we make tayplapsy <br><pre> <code class="php hljs"><span class="hljs-number"><span class="hljs-number">257</span></span>K <span class="hljs-number"><span class="hljs-number">11</span></span>_20140714_132700_timelapse.mp4 <span class="hljs-number"><span class="hljs-number">560</span></span>K <span class="hljs-number"><span class="hljs-number">11</span></span>_20140714_142600_timelapse.mp4</code> </pre><br><br>  While writing an article we have traffic (ls with NFS) <br><pre> <code class="php hljs">[vlc@dvr <span class="hljs-number"><span class="hljs-number">20140822</span></span>]$ ls -hs | grep -v asdfasdf total <span class="hljs-number"><span class="hljs-number">129</span></span>M <span class="hljs-number"><span class="hljs-number">2.6</span></span>M <span class="hljs-number"><span class="hljs-number">11</span></span>_101919.mp4 <span class="hljs-number"><span class="hljs-number">1.4</span></span>M <span class="hljs-number"><span class="hljs-number">11</span></span>_101943.mp4 <span class="hljs-number"><span class="hljs-number">3.6</span></span>M <span class="hljs-number"><span class="hljs-number">11</span></span>_103431.mp4 <span class="hljs-number"><span class="hljs-number">2.8</span></span>M <span class="hljs-number"><span class="hljs-number">11</span></span>_103734.mp4 <span class="hljs-number"><span class="hljs-number">1.5</span></span>M <span class="hljs-number"><span class="hljs-number">11</span></span>_104036.mp4 <span class="hljs-number"><span class="hljs-number">3.9</span></span>M <span class="hljs-number"><span class="hljs-number">11</span></span>_104142.mp4 <span class="hljs-number"><span class="hljs-number">1000</span></span>K <span class="hljs-number"><span class="hljs-number">11</span></span>_104219.mp4 <span class="hljs-number"><span class="hljs-number">1.8</span></span>M <span class="hljs-number"><span class="hljs-number">11</span></span>_104354.mp4 <span class="hljs-number"><span class="hljs-number">3.2</span></span>M <span class="hljs-number"><span class="hljs-number">11</span></span>_104831.mp4 <span class="hljs-number"><span class="hljs-number">2.8</span></span>M <span class="hljs-number"><span class="hljs-number">11</span></span>_104908.mp4 <span class="hljs-number"><span class="hljs-number">3.3</span></span>M <span class="hljs-number"><span class="hljs-number">11</span></span>_104942.mp4 <span class="hljs-number"><span class="hljs-number">2.1</span></span>M <span class="hljs-number"><span class="hljs-number">11</span></span>_105034.mp4 <span class="hljs-number"><span class="hljs-number">2.1</span></span>M <span class="hljs-number"><span class="hljs-number">11</span></span>_105156.mp4 <span class="hljs-number"><span class="hljs-number">1.2</span></span>M <span class="hljs-number"><span class="hljs-number">11</span></span>_105215.mp4 <span class="hljs-number"><span class="hljs-number">944</span></span>K <span class="hljs-number"><span class="hljs-number">11</span></span>_105228.mp4 <span class="hljs-number"><span class="hljs-number">2.6</span></span>M <span class="hljs-number"><span class="hljs-number">11</span></span>_105321.mp4 <span class="hljs-number"><span class="hljs-number">161</span></span>K <span class="hljs-number"><span class="hljs-number">11</span></span>_105410.mp4 <span class="hljs-number"><span class="hljs-number">1.6</span></span>M <span class="hljs-number"><span class="hljs-number">11</span></span>_105505.mp4 <span class="hljs-number"><span class="hljs-number">1.4</span></span>M <span class="hljs-number"><span class="hljs-number">11</span></span>_105855.mp4 <span class="hljs-number"><span class="hljs-number">4.5</span></span>M <span class="hljs-number"><span class="hljs-number">11</span></span>_105943.mp4 <span class="hljs-number"><span class="hljs-number">7.3</span></span>M <span class="hljs-number"><span class="hljs-number">11</span></span>_110022.mp4 <span class="hljs-number"><span class="hljs-number">3.8</span></span>M <span class="hljs-number"><span class="hljs-number">11</span></span>_110256.mp4 <span class="hljs-number"><span class="hljs-number">1.4</span></span>M <span class="hljs-number"><span class="hljs-number">11</span></span>_110342.mp4 <span class="hljs-number"><span class="hljs-number">1.8</span></span>M <span class="hljs-number"><span class="hljs-number">11</span></span>_110448.mp4 <span class="hljs-number"><span class="hljs-number">1.3</span></span>M <span class="hljs-number"><span class="hljs-number">12</span></span>_101917.mp4 <span class="hljs-number"><span class="hljs-number">2.9</span></span>M <span class="hljs-number"><span class="hljs-number">12</span></span>_102416.mp4 <span class="hljs-number"><span class="hljs-number">1.7</span></span>M <span class="hljs-number"><span class="hljs-number">12</span></span>_102753.mp4 <span class="hljs-number"><span class="hljs-number">5.5</span></span>M <span class="hljs-number"><span class="hljs-number">12</span></span>_102831.mp4 <span class="hljs-number"><span class="hljs-number">1.4</span></span>M <span class="hljs-number"><span class="hljs-number">12</span></span>_103319.mp4 <span class="hljs-number"><span class="hljs-number">1.5</span></span>M <span class="hljs-number"><span class="hljs-number">12</span></span>_103529.mp4 <span class="hljs-number"><span class="hljs-number">1.8</span></span>M <span class="hljs-number"><span class="hljs-number">12</span></span>_103551.mp4 <span class="hljs-number"><span class="hljs-number">2.5</span></span>M <span class="hljs-number"><span class="hljs-number">12</span></span>_103622.mp4 <span class="hljs-number"><span class="hljs-number">1.4</span></span>M <span class="hljs-number"><span class="hljs-number">12</span></span>_103955.mp4 <span class="hljs-number"><span class="hljs-number">1.8</span></span>M <span class="hljs-number"><span class="hljs-number">12</span></span>_105112.mp4 <span class="hljs-number"><span class="hljs-number">2.5</span></span>M <span class="hljs-number"><span class="hljs-number">12</span></span>_105816.mp4 <span class="hljs-number"><span class="hljs-number">48</span></span>M <span class="hljs-number"><span class="hljs-number">12</span></span>_105839.mp4</code> </pre><br><br>  And this is what they recorded today. <br> <code>17M 11_101734.mp4 71M 11_102230.mp4 74M 11_103212.mp4 73M 11_104211.mp4 74M 11_105211.mp4 18M 12_101735.mp4 88M 12_102231.mp4 75M 12_103411.mp4 75M 12_104412.mp4 81M 12_105413.mp4</code> <br> <br><div class="spoiler">  <b class="spoiler_title">A piece of the system log reflects the operation of the system.</b> <div class="spoiler_text"><pre> <code class="php hljs">[ <span class="hljs-number"><span class="hljs-number">2014</span></span><span class="hljs-number"><span class="hljs-number">-08</span></span><span class="hljs-number"><span class="hljs-number">-22</span></span> <span class="hljs-number"><span class="hljs-number">11</span></span>:<span class="hljs-number"><span class="hljs-number">08</span></span>:<span class="hljs-number"><span class="hljs-number">32</span></span> ] UID:<span class="hljs-number"><span class="hljs-number">0</span></span> NOTICE system2\Lock-time_CAM_26_rec.lock __construct [ <span class="hljs-number"><span class="hljs-number">2014</span></span><span class="hljs-number"><span class="hljs-number">-08</span></span><span class="hljs-number"><span class="hljs-number">-22</span></span> <span class="hljs-number"><span class="hljs-number">11</span></span>:<span class="hljs-number"><span class="hljs-number">08</span></span>:<span class="hljs-number"><span class="hljs-number">32</span></span> ] UID:<span class="hljs-number"><span class="hljs-number">0</span></span> NOTICE TimeLock <span class="hljs-number"><span class="hljs-number">249</span></span> [ <span class="hljs-number"><span class="hljs-number">2014</span></span><span class="hljs-number"><span class="hljs-number">-08</span></span><span class="hljs-number"><span class="hljs-number">-22</span></span> <span class="hljs-number"><span class="hljs-number">11</span></span>:<span class="hljs-number"><span class="hljs-number">08</span></span>:<span class="hljs-number"><span class="hljs-number">32</span></span> ] UID:<span class="hljs-number"><span class="hljs-number">0</span></span> NOTICE system2\Lock-time_CAM_26_mtn.lock __construct [ <span class="hljs-number"><span class="hljs-number">2014</span></span><span class="hljs-number"><span class="hljs-number">-08</span></span><span class="hljs-number"><span class="hljs-number">-22</span></span> <span class="hljs-number"><span class="hljs-number">11</span></span>:<span class="hljs-number"><span class="hljs-number">08</span></span>:<span class="hljs-number"><span class="hljs-number">32</span></span> ] UID:<span class="hljs-number"><span class="hljs-number">0</span></span> NOTICE TimeLock <span class="hljs-number"><span class="hljs-number">370</span></span> [ <span class="hljs-number"><span class="hljs-number">2014</span></span><span class="hljs-number"><span class="hljs-number">-08</span></span><span class="hljs-number"><span class="hljs-number">-22</span></span> <span class="hljs-number"><span class="hljs-number">11</span></span>:<span class="hljs-number"><span class="hljs-number">08</span></span>:<span class="hljs-number"><span class="hljs-number">32</span></span> ] UID:<span class="hljs-number"><span class="hljs-number">0</span></span> NOTICE system2\Lock-motionDetected_26.lock __construct [ <span class="hljs-number"><span class="hljs-number">2014</span></span><span class="hljs-number"><span class="hljs-number">-08</span></span><span class="hljs-number"><span class="hljs-number">-22</span></span> <span class="hljs-number"><span class="hljs-number">11</span></span>:<span class="hljs-number"><span class="hljs-number">08</span></span>:<span class="hljs-number"><span class="hljs-number">32</span></span> ] UID:<span class="hljs-number"><span class="hljs-number">7</span></span> NOTICE system2\Daemon(vlc) __construct [ <span class="hljs-number"><span class="hljs-number">2014</span></span><span class="hljs-number"><span class="hljs-number">-08</span></span><span class="hljs-number"><span class="hljs-number">-22</span></span> <span class="hljs-number"><span class="hljs-number">11</span></span>:<span class="hljs-number"><span class="hljs-number">08</span></span>:<span class="hljs-number"><span class="hljs-number">32</span></span> ] UID:<span class="hljs-number"><span class="hljs-number">7</span></span> NOTICE system2\Daemon(motion) __construct [ <span class="hljs-number"><span class="hljs-number">2014</span></span><span class="hljs-number"><span class="hljs-number">-08</span></span><span class="hljs-number"><span class="hljs-number">-22</span></span> <span class="hljs-number"><span class="hljs-number">11</span></span>:<span class="hljs-number"><span class="hljs-number">08</span></span>:<span class="hljs-number"><span class="hljs-number">32</span></span> ] UID:<span class="hljs-number"><span class="hljs-number">0</span></span> NOTICE system2\Lock-motionDetected_11.lock __construct [ <span class="hljs-number"><span class="hljs-number">2014</span></span><span class="hljs-number"><span class="hljs-number">-08</span></span><span class="hljs-number"><span class="hljs-number">-22</span></span> <span class="hljs-number"><span class="hljs-number">11</span></span>:<span class="hljs-number"><span class="hljs-number">08</span></span>:<span class="hljs-number"><span class="hljs-number">32</span></span> ] UID:<span class="hljs-number"><span class="hljs-number">0</span></span> NOTICE system2\Lock-motionDetected_11.lock delete [ <span class="hljs-number"><span class="hljs-number">2014</span></span><span class="hljs-number"><span class="hljs-number">-08</span></span><span class="hljs-number"><span class="hljs-number">-22</span></span> <span class="hljs-number"><span class="hljs-number">11</span></span>:<span class="hljs-number"><span class="hljs-number">08</span></span>:<span class="hljs-number"><span class="hljs-number">32</span></span> ] UID:<span class="hljs-number"><span class="hljs-number">11</span></span> NOTICE system2\BBRecStream stop [ <span class="hljs-number"><span class="hljs-number">2014</span></span><span class="hljs-number"><span class="hljs-number">-08</span></span><span class="hljs-number"><span class="hljs-number">-22</span></span> <span class="hljs-number"><span class="hljs-number">11</span></span>:<span class="hljs-number"><span class="hljs-number">08</span></span>:<span class="hljs-number"><span class="hljs-number">32</span></span> ] UID:<span class="hljs-number"><span class="hljs-number">0</span></span> NOTICE system2\Vlm control CAM_11_mtn stop [ <span class="hljs-number"><span class="hljs-number">2014</span></span><span class="hljs-number"><span class="hljs-number">-08</span></span><span class="hljs-number"><span class="hljs-number">-22</span></span> <span class="hljs-number"><span class="hljs-number">11</span></span>:<span class="hljs-number"><span class="hljs-number">08</span></span>:<span class="hljs-number"><span class="hljs-number">32</span></span> ] UID:<span class="hljs-number"><span class="hljs-number">0</span></span> NOTICE system2\Vlm del CAM_11_mtn [ <span class="hljs-number"><span class="hljs-number">2014</span></span><span class="hljs-number"><span class="hljs-number">-08</span></span><span class="hljs-number"><span class="hljs-number">-22</span></span> <span class="hljs-number"><span class="hljs-number">11</span></span>:<span class="hljs-number"><span class="hljs-number">08</span></span>:<span class="hljs-number"><span class="hljs-number">32</span></span> ] UID:<span class="hljs-number"><span class="hljs-number">11</span></span> NOTICE system2\BBRecStream moveToNfs [ <span class="hljs-number"><span class="hljs-number">2014</span></span><span class="hljs-number"><span class="hljs-number">-08</span></span><span class="hljs-number"><span class="hljs-number">-22</span></span> <span class="hljs-number"><span class="hljs-number">11</span></span>:<span class="hljs-number"><span class="hljs-number">08</span></span>:<span class="hljs-number"><span class="hljs-number">32</span></span> ] UID:<span class="hljs-number"><span class="hljs-number">11</span></span> NOTICE system2\BBRecStream insert into archive values(<span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">11</span></span>, <span class="hljs-string"><span class="hljs-string">'mtn'</span></span>, <span class="hljs-number"><span class="hljs-number">1408691293</span></span>, <span class="hljs-number"><span class="hljs-number">1408691311</span></span>, <span class="hljs-number"><span class="hljs-number">1408691312</span></span>, <span class="hljs-number"><span class="hljs-number">0.00010013580322266</span></span>, <span class="hljs-string"><span class="hljs-string">'yes'</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-string"><span class="hljs-string">'/home/vlc/dvr/nfs/mtn/1/20140822/11_110813'</span></span>) [ <span class="hljs-number"><span class="hljs-number">2014</span></span><span class="hljs-number"><span class="hljs-number">-08</span></span><span class="hljs-number"><span class="hljs-number">-22</span></span> <span class="hljs-number"><span class="hljs-number">11</span></span>:<span class="hljs-number"><span class="hljs-number">08</span></span>:<span class="hljs-number"><span class="hljs-number">32</span></span> ] UID:<span class="hljs-number"><span class="hljs-number">0</span></span> NOTICE system2\MoveVideoCommand ffmpeg -y -i /home/vlc/dvr/tmpfs/mtn/<span class="hljs-number"><span class="hljs-number">1</span></span>/<span class="hljs-number"><span class="hljs-number">20140822</span></span>/<span class="hljs-number"><span class="hljs-number">11</span></span>_110813.avi -codec copy /home/vlc/dvr/nfs/mtn/<span class="hljs-number"><span class="hljs-number">1</span></span>/<span class="hljs-number"><span class="hljs-number">20140822</span></span>/<span class="hljs-number"><span class="hljs-number">11</span></span>_110813.mp4 [ <span class="hljs-number"><span class="hljs-number">2014</span></span><span class="hljs-number"><span class="hljs-number">-08</span></span><span class="hljs-number"><span class="hljs-number">-22</span></span> <span class="hljs-number"><span class="hljs-number">11</span></span>:<span class="hljs-number"><span class="hljs-number">08</span></span>:<span class="hljs-number"><span class="hljs-number">34</span></span> ] UID:<span class="hljs-number"><span class="hljs-number">17</span></span> NOTICE system2\HLSVlcStream update [ <span class="hljs-number"><span class="hljs-number">2014</span></span><span class="hljs-number"><span class="hljs-number">-08</span></span><span class="hljs-number"><span class="hljs-number">-22</span></span> <span class="hljs-number"><span class="hljs-number">11</span></span>:<span class="hljs-number"><span class="hljs-number">08</span></span>:<span class="hljs-number"><span class="hljs-number">34</span></span> ] UID:<span class="hljs-number"><span class="hljs-number">17</span></span> NOTICE system2\HLSVlcStream stop [ <span class="hljs-number"><span class="hljs-number">2014</span></span><span class="hljs-number"><span class="hljs-number">-08</span></span><span class="hljs-number"><span class="hljs-number">-22</span></span> <span class="hljs-number"><span class="hljs-number">11</span></span>:<span class="hljs-number"><span class="hljs-number">08</span></span>:<span class="hljs-number"><span class="hljs-number">34</span></span> ] UID:<span class="hljs-number"><span class="hljs-number">0</span></span> NOTICE system2\Vlm control CAM_17_lhttp stop [ <span class="hljs-number"><span class="hljs-number">2014</span></span><span class="hljs-number"><span class="hljs-number">-08</span></span><span class="hljs-number"><span class="hljs-number">-22</span></span> <span class="hljs-number"><span class="hljs-number">11</span></span>:<span class="hljs-number"><span class="hljs-number">08</span></span>:<span class="hljs-number"><span class="hljs-number">34</span></span> ] UID:<span class="hljs-number"><span class="hljs-number">17</span></span> NOTICE system2\HLSVlcStream rm -rf /home/vlc/dvr/tmpfs/lhttp/<span class="hljs-number"><span class="hljs-number">2</span></span>/stream<span class="hljs-number"><span class="hljs-number">-17</span></span> [ <span class="hljs-number"><span class="hljs-number">2014</span></span><span class="hljs-number"><span class="hljs-number">-08</span></span><span class="hljs-number"><span class="hljs-number">-22</span></span> <span class="hljs-number"><span class="hljs-number">11</span></span>:<span class="hljs-number"><span class="hljs-number">08</span></span>:<span class="hljs-number"><span class="hljs-number">34</span></span> ] UID:<span class="hljs-number"><span class="hljs-number">17</span></span> NOTICE system2\BBRecStream update [ <span class="hljs-number"><span class="hljs-number">2014</span></span><span class="hljs-number"><span class="hljs-number">-08</span></span><span class="hljs-number"><span class="hljs-number">-22</span></span> <span class="hljs-number"><span class="hljs-number">11</span></span>:<span class="hljs-number"><span class="hljs-number">08</span></span>:<span class="hljs-number"><span class="hljs-number">34</span></span> ] UID:<span class="hljs-number"><span class="hljs-number">17</span></span> NOTICE system2\BBRecStream stop [ <span class="hljs-number"><span class="hljs-number">2014</span></span><span class="hljs-number"><span class="hljs-number">-08</span></span><span class="hljs-number"><span class="hljs-number">-22</span></span> <span class="hljs-number"><span class="hljs-number">11</span></span>:<span class="hljs-number"><span class="hljs-number">08</span></span>:<span class="hljs-number"><span class="hljs-number">34</span></span> ] UID:<span class="hljs-number"><span class="hljs-number">0</span></span> NOTICE system2\Vlm control CAM_17_rec stop [ <span class="hljs-number"><span class="hljs-number">2014</span></span><span class="hljs-number"><span class="hljs-number">-08</span></span><span class="hljs-number"><span class="hljs-number">-22</span></span> <span class="hljs-number"><span class="hljs-number">11</span></span>:<span class="hljs-number"><span class="hljs-number">08</span></span>:<span class="hljs-number"><span class="hljs-number">34</span></span> ] UID:<span class="hljs-number"><span class="hljs-number">0</span></span> NOTICE system2\Vlm del CAM_17_rec [ <span class="hljs-number"><span class="hljs-number">2014</span></span><span class="hljs-number"><span class="hljs-number">-08</span></span><span class="hljs-number"><span class="hljs-number">-22</span></span> <span class="hljs-number"><span class="hljs-number">11</span></span>:<span class="hljs-number"><span class="hljs-number">08</span></span>:<span class="hljs-number"><span class="hljs-number">34</span></span> ] UID:<span class="hljs-number"><span class="hljs-number">0</span></span> NOTICE system2\Lock-time_CAM_17_rec.lock create [ <span class="hljs-number"><span class="hljs-number">2014</span></span><span class="hljs-number"><span class="hljs-number">-08</span></span><span class="hljs-number"><span class="hljs-number">-22</span></span> <span class="hljs-number"><span class="hljs-number">11</span></span>:<span class="hljs-number"><span class="hljs-number">08</span></span>:<span class="hljs-number"><span class="hljs-number">34</span></span> ] UID:<span class="hljs-number"><span class="hljs-number">0</span></span> NOTICE system2\TimeLock time_CAM_17_rec.lock [ <span class="hljs-number"><span class="hljs-number">2014</span></span><span class="hljs-number"><span class="hljs-number">-08</span></span><span class="hljs-number"><span class="hljs-number">-22</span></span> <span class="hljs-number"><span class="hljs-number">11</span></span>:<span class="hljs-number"><span class="hljs-number">08</span></span>:<span class="hljs-number"><span class="hljs-number">34</span></span> ] UID:<span class="hljs-number"><span class="hljs-number">17</span></span> NOTICE system2\BBRecStream update [ <span class="hljs-number"><span class="hljs-number">2014</span></span><span class="hljs-number"><span class="hljs-number">-08</span></span><span class="hljs-number"><span class="hljs-number">-22</span></span> <span class="hljs-number"><span class="hljs-number">11</span></span>:<span class="hljs-number"><span class="hljs-number">08</span></span>:<span class="hljs-number"><span class="hljs-number">34</span></span> ] UID:<span class="hljs-number"><span class="hljs-number">17</span></span> NOTICE system2\BBRecStream stop [ <span class="hljs-number"><span class="hljs-number">2014</span></span><span class="hljs-number"><span class="hljs-number">-08</span></span><span class="hljs-number"><span class="hljs-number">-22</span></span> <span class="hljs-number"><span class="hljs-number">11</span></span>:<span class="hljs-number"><span class="hljs-number">08</span></span>:<span class="hljs-number"><span class="hljs-number">34</span></span> ] UID:<span class="hljs-number"><span class="hljs-number">0</span></span> NOTICE system2\Vlm control CAM_17_mtn stop [ <span class="hljs-number"><span class="hljs-number">2014</span></span><span class="hljs-number"><span class="hljs-number">-08</span></span><span class="hljs-number"><span class="hljs-number">-22</span></span> <span class="hljs-number"><span class="hljs-number">11</span></span>:<span class="hljs-number"><span class="hljs-number">08</span></span>:<span class="hljs-number"><span class="hljs-number">34</span></span> ] UID:<span class="hljs-number"><span class="hljs-number">0</span></span> NOTICE system2\Vlm del CAM_17_mtn [ <span class="hljs-number"><span class="hljs-number">2014</span></span><span class="hljs-number"><span class="hljs-number">-08</span></span><span class="hljs-number"><span class="hljs-number">-22</span></span> <span class="hljs-number"><span class="hljs-number">11</span></span>:<span class="hljs-number"><span class="hljs-number">08</span></span>:<span class="hljs-number"><span class="hljs-number">34</span></span> ] UID:<span class="hljs-number"><span class="hljs-number">17</span></span> NOTICE system2\BBRecStream stop [ <span class="hljs-number"><span class="hljs-number">2014</span></span><span class="hljs-number"><span class="hljs-number">-08</span></span><span class="hljs-number"><span class="hljs-number">-22</span></span> <span class="hljs-number"><span class="hljs-number">11</span></span>:<span class="hljs-number"><span class="hljs-number">08</span></span>:<span class="hljs-number"><span class="hljs-number">34</span></span> ] UID:<span class="hljs-number"><span class="hljs-number">0</span></span> NOTICE system2\Vlm control CAM_17_mtn stop [ <span class="hljs-number"><span class="hljs-number">2014</span></span><span class="hljs-number"><span class="hljs-number">-08</span></span><span class="hljs-number"><span class="hljs-number">-22</span></span> <span class="hljs-number"><span class="hljs-number">11</span></span>:<span class="hljs-number"><span class="hljs-number">08</span></span>:<span class="hljs-number"><span class="hljs-number">34</span></span> ] UID:<span class="hljs-number"><span class="hljs-number">0</span></span> NOTICE system2\Vlm del CAM_17_mtn [ <span class="hljs-number"><span class="hljs-number">2014</span></span><span class="hljs-number"><span class="hljs-number">-08</span></span><span class="hljs-number"><span class="hljs-number">-22</span></span> <span class="hljs-number"><span class="hljs-number">11</span></span>:<span class="hljs-number"><span class="hljs-number">08</span></span>:<span class="hljs-number"><span class="hljs-number">34</span></span> ] UID:<span class="hljs-number"><span class="hljs-number">0</span></span> NOTICE system2\Lock-time_CAM_17_mtn.lock create [ <span class="hljs-number"><span class="hljs-number">2014</span></span><span class="hljs-number"><span class="hljs-number">-08</span></span><span class="hljs-number"><span class="hljs-number">-22</span></span> <span class="hljs-number"><span class="hljs-number">11</span></span>:<span class="hljs-number"><span class="hljs-number">08</span></span>:<span class="hljs-number"><span class="hljs-number">34</span></span> ] UID:<span class="hljs-number"><span class="hljs-number">0</span></span> NOTICE system2\TimeLock time_CAM_17_mtn.lock [ <span class="hljs-number"><span class="hljs-number">2014</span></span><span class="hljs-number"><span class="hljs-number">-08</span></span><span class="hljs-number"><span class="hljs-number">-22</span></span> <span class="hljs-number"><span class="hljs-number">11</span></span>:<span class="hljs-number"><span class="hljs-number">08</span></span>:<span class="hljs-number"><span class="hljs-number">34</span></span> ] UID:<span class="hljs-number"><span class="hljs-number">17</span></span> NOTICE system2\UrlFlvVlcStream update [ <span class="hljs-number"><span class="hljs-number">2014</span></span><span class="hljs-number"><span class="hljs-number">-08</span></span><span class="hljs-number"><span class="hljs-number">-22</span></span> <span class="hljs-number"><span class="hljs-number">11</span></span>:<span class="hljs-number"><span class="hljs-number">08</span></span>:<span class="hljs-number"><span class="hljs-number">34</span></span> ] UID:<span class="hljs-number"><span class="hljs-number">18</span></span> NOTICE system2\Cam update [ <span class="hljs-number"><span class="hljs-number">2014</span></span><span class="hljs-number"><span class="hljs-number">-08</span></span><span class="hljs-number"><span class="hljs-number">-22</span></span> <span class="hljs-number"><span class="hljs-number">11</span></span>:<span class="hljs-number"><span class="hljs-number">08</span></span>:<span class="hljs-number"><span class="hljs-number">34</span></span> ] UID:<span class="hljs-number"><span class="hljs-number">18</span></span> NOTICE system2\Streams update [ <span class="hljs-number"><span class="hljs-number">2014</span></span><span class="hljs-number"><span class="hljs-number">-08</span></span><span class="hljs-number"><span class="hljs-number">-22</span></span> <span class="hljs-number"><span class="hljs-number">11</span></span>:<span class="hljs-number"><span class="hljs-number">08</span></span>:<span class="hljs-number"><span class="hljs-number">34</span></span> ] UID:<span class="hljs-number"><span class="hljs-number">18</span></span> NOTICE system2\MotionStream update [ <span class="hljs-number"><span class="hljs-number">2014</span></span><span class="hljs-number"><span class="hljs-number">-08</span></span><span class="hljs-number"><span class="hljs-number">-22</span></span> <span class="hljs-number"><span class="hljs-number">11</span></span>:<span class="hljs-number"><span class="hljs-number">08</span></span>:<span class="hljs-number"><span class="hljs-number">34</span></span> ] UID:<span class="hljs-number"><span class="hljs-number">18</span></span> NOTICE system2\BBLiveStream update [ <span class="hljs-number"><span class="hljs-number">2014</span></span><span class="hljs-number"><span class="hljs-number">-08</span></span><span class="hljs-number"><span class="hljs-number">-22</span></span> <span class="hljs-number"><span class="hljs-number">11</span></span>:<span class="hljs-number"><span class="hljs-number">08</span></span>:<span class="hljs-number"><span class="hljs-number">34</span></span> ] UID:<span class="hljs-number"><span class="hljs-number">18</span></span> NOTICE system2\BBLiveStream stop [ <span class="hljs-number"><span class="hljs-number">2014</span></span><span class="hljs-number"><span class="hljs-number">-08</span></span><span class="hljs-number"><span class="hljs-number">-22</span></span> <span class="hljs-number"><span class="hljs-number">11</span></span>:<span class="hljs-number"><span class="hljs-number">08</span></span>:<span class="hljs-number"><span class="hljs-number">34</span></span> ] UID:<span class="hljs-number"><span class="hljs-number">0</span></span> NOTICE system2\Vlm control CAM_18_live stop [ <span class="hljs-number"><span class="hljs-number">2014</span></span><span class="hljs-number"><span class="hljs-number">-08</span></span><span class="hljs-number"><span class="hljs-number">-22</span></span> <span class="hljs-number"><span class="hljs-number">11</span></span>:<span class="hljs-number"><span class="hljs-number">08</span></span>:<span class="hljs-number"><span class="hljs-number">34</span></span> ] UID:<span class="hljs-number"><span class="hljs-number">18</span></span> NOTICE system2\HLSVlcStream update [ <span class="hljs-number"><span class="hljs-number">2014</span></span><span class="hljs-number"><span class="hljs-number">-08</span></span><span class="hljs-number"><span class="hljs-number">-22</span></span> <span class="hljs-number"><span class="hljs-number">11</span></span>:<span class="hljs-number"><span class="hljs-number">08</span></span>:<span class="hljs-number"><span class="hljs-number">34</span></span> ] UID:<span class="hljs-number"><span class="hljs-number">18</span></span> NOTICE system2\HLSVlcStream stop [ <span class="hljs-number"><span class="hljs-number">2014</span></span><span class="hljs-number"><span class="hljs-number">-08</span></span><span class="hljs-number"><span class="hljs-number">-22</span></span> <span class="hljs-number"><span class="hljs-number">11</span></span>:<span class="hljs-number"><span class="hljs-number">08</span></span>:<span class="hljs-number"><span class="hljs-number">34</span></span> ] UID:<span class="hljs-number"><span class="hljs-number">0</span></span> NOTICE system2\Vlm control CAM_18_lhttp stop [ <span class="hljs-number"><span class="hljs-number">2014</span></span><span class="hljs-number"><span class="hljs-number">-08</span></span><span class="hljs-number"><span class="hljs-number">-22</span></span> <span class="hljs-number"><span class="hljs-number">11</span></span>:<span class="hljs-number"><span class="hljs-number">08</span></span>:<span class="hljs-number"><span class="hljs-number">34</span></span> ] UID:<span class="hljs-number"><span class="hljs-number">18</span></span> NOTICE system2\HLSVlcStream rm -rf /home/vlc/dvr/tmpfs/lhttp/<span class="hljs-number"><span class="hljs-number">2</span></span>/stream<span class="hljs-number"><span class="hljs-number">-18</span></span> [ <span class="hljs-number"><span class="hljs-number">2014</span></span><span class="hljs-number"><span class="hljs-number">-08</span></span><span class="hljs-number"><span class="hljs-number">-22</span></span> <span class="hljs-number"><span class="hljs-number">11</span></span>:<span class="hljs-number"><span class="hljs-number">08</span></span>:<span class="hljs-number"><span class="hljs-number">34</span></span> ] UID:<span class="hljs-number"><span class="hljs-number">18</span></span> NOTICE system2\HLSVlcStream stop [ <span class="hljs-number"><span class="hljs-number">2014</span></span><span class="hljs-number"><span class="hljs-number">-08</span></span><span class="hljs-number"><span class="hljs-number">-22</span></span> <span class="hljs-number"><span class="hljs-number">11</span></span>:<span class="hljs-number"><span class="hljs-number">08</span></span>:<span class="hljs-number"><span class="hljs-number">34</span></span> ] UID:<span class="hljs-number"><span class="hljs-number">0</span></span> NOTICE system2\Vlm control CAM_18_lhttp stop [ <span class="hljs-number"><span class="hljs-number">2014</span></span><span class="hljs-number"><span class="hljs-number">-08</span></span><span class="hljs-number"><span class="hljs-number">-22</span></span> <span class="hljs-number"><span class="hljs-number">11</span></span>:<span class="hljs-number"><span class="hljs-number">08</span></span>:<span class="hljs-number"><span class="hljs-number">34</span></span> ] UID:<span class="hljs-number"><span class="hljs-number">18</span></span> NOTICE system2\HLSVlcStream rm -rf /home/vlc/dvr/tmpfs/lhttp/<span class="hljs-number"><span class="hljs-number">2</span></span>/stream<span class="hljs-number"><span class="hljs-number">-18</span></span> [ <span class="hljs-number"><span class="hljs-number">2014</span></span><span class="hljs-number"><span class="hljs-number">-08</span></span><span class="hljs-number"><span class="hljs-number">-22</span></span> <span class="hljs-number"><span class="hljs-number">11</span></span>:<span class="hljs-number"><span class="hljs-number">08</span></span>:<span class="hljs-number"><span class="hljs-number">34</span></span> ] UID:<span class="hljs-number"><span class="hljs-number">18</span></span> NOTICE system2\BBRecStream update [ <span class="hljs-number"><span class="hljs-number">2014</span></span><span class="hljs-number"><span class="hljs-number">-08</span></span><span class="hljs-number"><span class="hljs-number">-22</span></span> <span class="hljs-number"><span class="hljs-number">11</span></span>:<span class="hljs-number"><span class="hljs-number">08</span></span>:<span class="hljs-number"><span class="hljs-number">34</span></span> ] UID:<span class="hljs-number"><span class="hljs-number">18</span></span> NOTICE system2\BBRecStream stop [ <span class="hljs-number"><span class="hljs-number">2014</span></span><span class="hljs-number"><span class="hljs-number">-08</span></span><span class="hljs-number"><span class="hljs-number">-22</span></span> <span class="hljs-number"><span class="hljs-number">11</span></span>:<span class="hljs-number"><span class="hljs-number">08</span></span>:<span class="hljs-number"><span class="hljs-number">34</span></span> ] UID:<span class="hljs-number"><span class="hljs-number">0</span></span> NOTICE system2\Vlm control CAM_18_rec stop [ <span class="hljs-number"><span class="hljs-number">2014</span></span><span class="hljs-number"><span class="hljs-number">-08</span></span><span class="hljs-number"><span class="hljs-number">-22</span></span> <span class="hljs-number"><span class="hljs-number">11</span></span>:<span class="hljs-number"><span class="hljs-number">08</span></span>:<span class="hljs-number"><span class="hljs-number">34</span></span> ] UID:<span class="hljs-number"><span class="hljs-number">0</span></span> NOTICE system2\Vlm del CAM_18_rec [ <span class="hljs-number"><span class="hljs-number">2014</span></span><span class="hljs-number"><span class="hljs-number">-08</span></span><span class="hljs-number"><span class="hljs-number">-22</span></span> <span class="hljs-number"><span class="hljs-number">11</span></span>:<span class="hljs-number"><span class="hljs-number">08</span></span>:<span class="hljs-number"><span class="hljs-number">34</span></span> ] UID:<span class="hljs-number"><span class="hljs-number">18</span></span> NOTICE system2\BBRecStream stop [ <span class="hljs-number"><span class="hljs-number">2014</span></span><span class="hljs-number"><span class="hljs-number">-08</span></span><span class="hljs-number"><span class="hljs-number">-22</span></span> <span class="hljs-number"><span class="hljs-number">11</span></span>:<span class="hljs-number"><span class="hljs-number">08</span></span>:<span class="hljs-number"><span class="hljs-number">34</span></span> ] UID:<span class="hljs-number"><span class="hljs-number">0</span></span> NOTICE system2\Vlm control CAM_18_rec stop [ <span class="hljs-number"><span class="hljs-number">2014</span></span><span class="hljs-number"><span class="hljs-number">-08</span></span><span class="hljs-number"><span class="hljs-number">-22</span></span> <span class="hljs-number"><span class="hljs-number">11</span></span>:<span class="hljs-number"><span class="hljs-number">08</span></span>:<span class="hljs-number"><span class="hljs-number">34</span></span> ] UID:<span class="hljs-number"><span class="hljs-number">0</span></span> NOTICE system2\Vlm del CAM_18_rec [ <span class="hljs-number"><span class="hljs-number">2014</span></span><span class="hljs-number"><span class="hljs-number">-08</span></span><span class="hljs-number"><span class="hljs-number">-22</span></span> <span class="hljs-number"><span class="hljs-number">11</span></span>:<span class="hljs-number"><span class="hljs-number">08</span></span>:<span class="hljs-number"><span class="hljs-number">34</span></span> ] UID:<span class="hljs-number"><span class="hljs-number">0</span></span> NOTICE system2\Lock-time_CAM_18_rec.lock create [ <span class="hljs-number"><span class="hljs-number">2014</span></span><span class="hljs-number"><span class="hljs-number">-08</span></span><span class="hljs-number"><span class="hljs-number">-22</span></span> <span class="hljs-number"><span class="hljs-number">11</span></span>:<span class="hljs-number"><span class="hljs-number">08</span></span>:<span class="hljs-number"><span class="hljs-number">34</span></span> ] UID:<span class="hljs-number"><span class="hljs-number">0</span></span> NOTICE system2\TimeLock time_CAM_18_rec.lock [ <span class="hljs-number"><span class="hljs-number">2014</span></span><span class="hljs-number"><span class="hljs-number">-08</span></span><span class="hljs-number"><span class="hljs-number">-22</span></span> <span class="hljs-number"><span class="hljs-number">11</span></span>:<span class="hljs-number"><span class="hljs-number">08</span></span>:<span class="hljs-number"><span class="hljs-number">34</span></span> ] UID:<span class="hljs-number"><span class="hljs-number">18</span></span> NOTICE system2\BBRecStream update [ <span class="hljs-number"><span class="hljs-number">2014</span></span><span class="hljs-number"><span class="hljs-number">-08</span></span><span class="hljs-number"><span class="hljs-number">-22</span></span> <span class="hljs-number"><span class="hljs-number">11</span></span>:<span class="hljs-number"><span class="hljs-number">08</span></span>:<span class="hljs-number"><span class="hljs-number">34</span></span> ] UID:<span class="hljs-number"><span class="hljs-number">18</span></span> NOTICE system2\BBRecStream stop [ <span class="hljs-number"><span class="hljs-number">2014</span></span><span class="hljs-number"><span class="hljs-number">-08</span></span><span class="hljs-number"><span class="hljs-number">-22</span></span> <span class="hljs-number"><span class="hljs-number">11</span></span>:<span class="hljs-number"><span class="hljs-number">08</span></span>:<span class="hljs-number"><span class="hljs-number">34</span></span> ] UID:<span class="hljs-number"><span class="hljs-number">0</span></span> NOTICE system2\Vlm control CAM_18_mtn stop [ <span class="hljs-number"><span class="hljs-number">2014</span></span><span class="hljs-number"><span class="hljs-number">-08</span></span><span class="hljs-number"><span class="hljs-number">-22</span></span> <span class="hljs-number"><span class="hljs-number">11</span></span>:<span class="hljs-number"><span class="hljs-number">08</span></span>:<span class="hljs-number"><span class="hljs-number">34</span></span> ] UID:<span class="hljs-number"><span class="hljs-number">0</span></span> NOTICE system2\Vlm del CAM_18_mtn [ <span class="hljs-number"><span class="hljs-number">2014</span></span><span class="hljs-number"><span class="hljs-number">-08</span></span><span class="hljs-number"><span class="hljs-number">-22</span></span> <span class="hljs-number"><span class="hljs-number">11</span></span>:<span class="hljs-number"><span class="hljs-number">08</span></span>:<span class="hljs-number"><span class="hljs-number">34</span></span> ] UID:<span class="hljs-number"><span class="hljs-number">18</span></span> NOTICE system2\BBRecStream stop [ <span class="hljs-number"><span class="hljs-number">2014</span></span><span class="hljs-number"><span class="hljs-number">-08</span></span><span class="hljs-number"><span class="hljs-number">-22</span></span> <span class="hljs-number"><span class="hljs-number">11</span></span>:<span class="hljs-number"><span class="hljs-number">08</span></span>:<span class="hljs-number"><span class="hljs-number">34</span></span> ] UID:<span class="hljs-number"><span class="hljs-number">0</span></span> NOTICE system2\Vlm control CAM_18_mtn stop [ <span class="hljs-number"><span class="hljs-number">2014</span></span><span class="hljs-number"><span class="hljs-number">-08</span></span><span class="hljs-number"><span class="hljs-number">-22</span></span> <span class="hljs-number"><span class="hljs-number">11</span></span>:<span class="hljs-number"><span class="hljs-number">08</span></span>:<span class="hljs-number"><span class="hljs-number">34</span></span> ] UID:<span class="hljs-number"><span class="hljs-number">0</span></span> NOTICE system2\Vlm del CAM_18_mtn [ <span class="hljs-number"><span class="hljs-number">2014</span></span><span class="hljs-number"><span class="hljs-number">-08</span></span><span class="hljs-number"><span class="hljs-number">-22</span></span> <span class="hljs-number"><span class="hljs-number">11</span></span>:<span class="hljs-number"><span class="hljs-number">08</span></span>:<span class="hljs-number"><span class="hljs-number">34</span></span> ] UID:<span class="hljs-number"><span class="hljs-number">0</span></span> NOTICE system2\Lock-time_CAM_18_mtn.lock create [ <span class="hljs-number"><span class="hljs-number">2014</span></span><span class="hljs-number"><span class="hljs-number">-08</span></span><span class="hljs-number"><span class="hljs-number">-22</span></span> <span class="hljs-number"><span class="hljs-number">11</span></span>:<span class="hljs-number"><span class="hljs-number">08</span></span>:<span class="hljs-number"><span class="hljs-number">34</span></span> ] UID:<span class="hljs-number"><span class="hljs-number">0</span></span> NOTICE system2\TimeLock time_CAM_18_mtn.lock [ <span class="hljs-number"><span class="hljs-number">2014</span></span><span class="hljs-number"><span class="hljs-number">-08</span></span><span class="hljs-number"><span class="hljs-number">-22</span></span> <span class="hljs-number"><span class="hljs-number">11</span></span>:<span class="hljs-number"><span class="hljs-number">08</span></span>:<span class="hljs-number"><span class="hljs-number">34</span></span> ] UID:<span class="hljs-number"><span class="hljs-number">18</span></span> NOTICE system2\UrlFlvVlcStream update [ <span class="hljs-number"><span class="hljs-number">2014</span></span><span class="hljs-number"><span class="hljs-number">-08</span></span><span class="hljs-number"><span class="hljs-number">-22</span></span> <span class="hljs-number"><span class="hljs-number">11</span></span>:<span class="hljs-number"><span class="hljs-number">08</span></span>:<span class="hljs-number"><span class="hljs-number">34</span></span> ] UID:<span class="hljs-number"><span class="hljs-number">18</span></span> NOTICE system2\UrlFlvVlcStream stop [ <span class="hljs-number"><span class="hljs-number">2014</span></span><span class="hljs-number"><span class="hljs-number">-08</span></span><span class="hljs-number"><span class="hljs-number">-22</span></span> <span class="hljs-number"><span class="hljs-number">11</span></span>:<span class="hljs-number"><span class="hljs-number">08</span></span>:<span class="hljs-number"><span class="hljs-number">34</span></span> ] UID:<span class="hljs-number"><span class="hljs-number">0</span></span> NOTICE system2\Vlm control CAM_18_l_flv stop [ <span class="hljs-number"><span class="hljs-number">2014</span></span><span class="hljs-number"><span class="hljs-number">-08</span></span><span class="hljs-number"><span class="hljs-number">-22</span></span> <span class="hljs-number"><span class="hljs-number">11</span></span>:<span class="hljs-number"><span class="hljs-number">08</span></span>:<span class="hljs-number"><span class="hljs-number">34</span></span> ] UID:<span class="hljs-number"><span class="hljs-number">19</span></span> NOTICE system2\Cam update [ <span class="hljs-number"><span class="hljs-number">2014</span></span><span class="hljs-number"><span class="hljs-number">-08</span></span><span class="hljs-number"><span class="hljs-number">-22</span></span> <span class="hljs-number"><span class="hljs-number">11</span></span>:<span class="hljs-number"><span class="hljs-number">08</span></span>:<span class="hljs-number"><span class="hljs-number">34</span></span> ] UID:<span class="hljs-number"><span class="hljs-number">19</span></span> NOTICE system2\Streams update [ <span class="hljs-number"><span class="hljs-number">2014</span></span><span class="hljs-number"><span class="hljs-number">-08</span></span><span class="hljs-number"><span class="hljs-number">-22</span></span> <span class="hljs-number"><span class="hljs-number">11</span></span>:<span class="hljs-number"><span class="hljs-number">08</span></span>:<span class="hljs-number"><span class="hljs-number">34</span></span> ] UID:<span class="hljs-number"><span class="hljs-number">19</span></span> NOTICE system2\MotionStream update [ <span class="hljs-number"><span class="hljs-number">2014</span></span><span class="hljs-number"><span class="hljs-number">-08</span></span><span class="hljs-number"><span class="hljs-number">-22</span></span> <span class="hljs-number"><span class="hljs-number">11</span></span>:<span class="hljs-number"><span class="hljs-number">08</span></span>:<span class="hljs-number"><span class="hljs-number">34</span></span> ] UID:<span class="hljs-number"><span class="hljs-number">19</span></span> NOTICE system2\BBLiveStream update [ <span class="hljs-number"><span class="hljs-number">2014</span></span><span class="hljs-number"><span class="hljs-number">-08</span></span><span class="hljs-number"><span class="hljs-number">-22</span></span> <span class="hljs-number"><span class="hljs-number">11</span></span>:<span class="hljs-number"><span class="hljs-number">08</span></span>:<span class="hljs-number"><span class="hljs-number">34</span></span> ] UID:<span class="hljs-number"><span class="hljs-number">19</span></span> NOTICE system2\BBLiveStream start [ <span class="hljs-number"><span class="hljs-number">2014</span></span><span class="hljs-number"><span class="hljs-number">-08</span></span><span class="hljs-number"><span class="hljs-number">-22</span></span> <span class="hljs-number"><span class="hljs-number">11</span></span>:<span class="hljs-number"><span class="hljs-number">08</span></span>:<span class="hljs-number"><span class="hljs-number">34</span></span> ] UID:<span class="hljs-number"><span class="hljs-number">0</span></span> NOTICE system2\Vlm control CAM_19_live play [ <span class="hljs-number"><span class="hljs-number">2014</span></span><span class="hljs-number"><span class="hljs-number">-08</span></span><span class="hljs-number"><span class="hljs-number">-22</span></span> <span class="hljs-number"><span class="hljs-number">11</span></span>:<span class="hljs-number"><span class="hljs-number">08</span></span>:<span class="hljs-number"><span class="hljs-number">34</span></span> ] UID:<span class="hljs-number"><span class="hljs-number">19</span></span> NOTICE system2\HLSVlcStream update [ <span class="hljs-number"><span class="hljs-number">2014</span></span><span class="hljs-number"><span class="hljs-number">-08</span></span><span class="hljs-number"><span class="hljs-number">-22</span></span> <span class="hljs-number"><span class="hljs-number">11</span></span>:<span class="hljs-number"><span class="hljs-number">08</span></span>:<span class="hljs-number"><span class="hljs-number">34</span></span> ] UID:<span class="hljs-number"><span class="hljs-number">19</span></span> NOTICE system2\BBRecStream update [ <span class="hljs-number"><span class="hljs-number">2014</span></span><span class="hljs-number"><span class="hljs-number">-08</span></span><span class="hljs-number"><span class="hljs-number">-22</span></span> <span class="hljs-number"><span class="hljs-number">11</span></span>:<span class="hljs-number"><span class="hljs-number">08</span></span>:<span class="hljs-number"><span class="hljs-number">34</span></span> ] UID:<span class="hljs-number"><span class="hljs-number">0</span></span> NOTICE system2\Lock-time_CAM_19_rec.lock create [ <span class="hljs-number"><span class="hljs-number">2014</span></span><span class="hljs-number"><span class="hljs-number">-08</span></span><span class="hljs-number"><span class="hljs-number">-22</span></span> <span class="hljs-number"><span class="hljs-number">11</span></span>:<span class="hljs-number"><span class="hljs-number">08</span></span>:<span class="hljs-number"><span class="hljs-number">34</span></span> ] UID:<span class="hljs-number"><span class="hljs-number">0</span></span> NOTICE system2\TimeLock time_CAM_19_rec.lock [ <span class="hljs-number"><span class="hljs-number">2014</span></span><span class="hljs-number"><span class="hljs-number">-08</span></span><span class="hljs-number"><span class="hljs-number">-22</span></span> <span class="hljs-number"><span class="hljs-number">11</span></span>:<span class="hljs-number"><span class="hljs-number">08</span></span>:<span class="hljs-number"><span class="hljs-number">34</span></span> ] UID:<span class="hljs-number"><span class="hljs-number">19</span></span> NOTICE system2\BBRecStream update [ <span class="hljs-number"><span class="hljs-number">2014</span></span><span class="hljs-number"><span class="hljs-number">-08</span></span><span class="hljs-number"><span class="hljs-number">-22</span></span> <span class="hljs-number"><span class="hljs-number">11</span></span>:<span class="hljs-number"><span class="hljs-number">08</span></span>:<span class="hljs-number"><span class="hljs-number">34</span></span> ] UID:<span class="hljs-number"><span class="hljs-number">19</span></span> NOTICE system2\BBRecStream stop [ <span class="hljs-number"><span class="hljs-number">2014</span></span><span class="hljs-number"><span class="hljs-number">-08</span></span><span class="hljs-number"><span class="hljs-number">-22</span></span> <span class="hljs-number"><span class="hljs-number">11</span></span>:<span class="hljs-number"><span class="hljs-number">08</span></span>:<span class="hljs-number"><span class="hljs-number">34</span></span> ] UID:<span class="hljs-number"><span class="hljs-number">0</span></span> NOTICE system2\Vlm control CAM_19_mtn stop [ <span class="hljs-number"><span class="hljs-number">2014</span></span><span class="hljs-number"><span class="hljs-number">-08</span></span><span class="hljs-number"><span class="hljs-number">-22</span></span> <span class="hljs-number"><span class="hljs-number">11</span></span>:<span class="hljs-number"><span class="hljs-number">08</span></span>:<span class="hljs-number"><span class="hljs-number">34</span></span> ] UID:<span class="hljs-number"><span class="hljs-number">0</span></span> NOTICE system2\Vlm del CAM_19_mtn [ <span class="hljs-number"><span class="hljs-number">2014</span></span><span class="hljs-number"><span class="hljs-number">-08</span></span><span class="hljs-number"><span class="hljs-number">-22</span></span> <span class="hljs-number"><span class="hljs-number">11</span></span>:<span class="hljs-number"><span class="hljs-number">08</span></span>:<span class="hljs-number"><span class="hljs-number">35</span></span> ] UID:<span class="hljs-number"><span class="hljs-number">0</span></span> NOTICE system2\Lock-time_CAM_19_mtn.lock create [ <span class="hljs-number"><span class="hljs-number">2014</span></span><span class="hljs-number"><span class="hljs-number">-08</span></span><span class="hljs-number"><span class="hljs-number">-22</span></span> <span class="hljs-number"><span class="hljs-number">11</span></span>:<span class="hljs-number"><span class="hljs-number">08</span></span>:<span class="hljs-number"><span class="hljs-number">35</span></span> ] UID:<span class="hljs-number"><span class="hljs-number">19</span></span> NOTICE system2\BBRecStream stop [ <span class="hljs-number"><span class="hljs-number">2014</span></span><span class="hljs-number"><span class="hljs-number">-08</span></span><span class="hljs-number"><span class="hljs-number">-22</span></span> <span class="hljs-number"><span class="hljs-number">11</span></span>:<span class="hljs-number"><span class="hljs-number">08</span></span>:<span class="hljs-number"><span class="hljs-number">35</span></span> ] UID:<span class="hljs-number"><span class="hljs-number">0</span></span> NOTICE system2\Vlm control CAM_19_mtn stop [ <span class="hljs-number"><span class="hljs-number">2014</span></span><span class="hljs-number"><span class="hljs-number">-08</span></span><span class="hljs-number"><span class="hljs-number">-22</span></span> <span class="hljs-number"><span class="hljs-number">11</span></span>:<span class="hljs-number"><span class="hljs-number">08</span></span>:<span class="hljs-number"><span class="hljs-number">35</span></span> ] UID:<span class="hljs-number"><span class="hljs-number">0</span></span> NOTICE system2\Vlm del CAM_19_mtn [ <span class="hljs-number"><span class="hljs-number">2014</span></span><span class="hljs-number"><span class="hljs-number">-08</span></span><span class="hljs-number"><span class="hljs-number">-22</span></span> <span class="hljs-number"><span class="hljs-number">11</span></span>:<span class="hljs-number"><span class="hljs-number">08</span></span>:<span class="hljs-number"><span class="hljs-number">35</span></span> ] UID:<span class="hljs-number"><span class="hljs-number">19</span></span> NOTICE system2\UrlFlvVlcStream update [ <span class="hljs-number"><span class="hljs-number">2014</span></span><span class="hljs-number"><span class="hljs-number">-08</span></span><span class="hljs-number"><span class="hljs-number">-22</span></span> <span class="hljs-number"><span class="hljs-number">11</span></span>:<span class="hljs-number"><span class="hljs-number">08</span></span>:<span class="hljs-number"><span class="hljs-number">35</span></span> ] UID:<span class="hljs-number"><span class="hljs-number">20</span></span> NOTICE system2\Cam update [ <span class="hljs-number"><span class="hljs-number">2014</span></span><span class="hljs-number"><span class="hljs-number">-08</span></span><span class="hljs-number"><span class="hljs-number">-22</span></span> <span class="hljs-number"><span class="hljs-number">11</span></span>:<span class="hljs-number"><span class="hljs-number">08</span></span>:<span class="hljs-number"><span class="hljs-number">35</span></span> ] UID:<span class="hljs-number"><span class="hljs-number">20</span></span> NOTICE system2\Streams update [ <span class="hljs-number"><span class="hljs-number">2014</span></span><span class="hljs-number"><span class="hljs-number">-08</span></span><span class="hljs-number"><span class="hljs-number">-22</span></span> <span class="hljs-number"><span class="hljs-number">11</span></span>:<span class="hljs-number"><span class="hljs-number">08</span></span>:<span class="hljs-number"><span class="hljs-number">35</span></span> ] UID:<span class="hljs-number"><span class="hljs-number">20</span></span> NOTICE system2\MotionStream update [ <span class="hljs-number"><span class="hljs-number">2014</span></span><span class="hljs-number"><span class="hljs-number">-08</span></span><span class="hljs-number"><span class="hljs-number">-22</span></span> <span class="hljs-number"><span class="hljs-number">11</span></span>:<span class="hljs-number"><span class="hljs-number">08</span></span>:<span class="hljs-number"><span class="hljs-number">35</span></span> ] UID:<span class="hljs-number"><span class="hljs-number">20</span></span> NOTICE system2\BBLiveStream update [ <span class="hljs-number"><span class="hljs-number">2014</span></span><span class="hljs-number"><span class="hljs-number">-08</span></span><span class="hljs-number"><span class="hljs-number">-22</span></span> <span class="hljs-number"><span class="hljs-number">11</span></span>:<span class="hljs-number"><span class="hljs-number">08</span></span>:<span class="hljs-number"><span class="hljs-number">38</span></span> ] UID:<span class="hljs-number"><span class="hljs-number">20</span></span> NOTICE system2\BBLiveStream stop [ <span class="hljs-number"><span class="hljs-number">2014</span></span><span class="hljs-number"><span class="hljs-number">-08</span></span><span class="hljs-number"><span class="hljs-number">-22</span></span> <span class="hljs-number"><span class="hljs-number">11</span></span>:<span class="hljs-number"><span class="hljs-number">08</span></span>:<span class="hljs-number"><span class="hljs-number">38</span></span> ] UID:<span class="hljs-number"><span class="hljs-number">0</span></span> NOTICE system2\Vlm control CAM_20_live stop [ <span class="hljs-number"><span class="hljs-number">2014</span></span><span class="hljs-number"><span class="hljs-number">-08</span></span><span class="hljs-number"><span class="hljs-number">-22</span></span> <span class="hljs-number"><span class="hljs-number">11</span></span>:<span class="hljs-number"><span class="hljs-number">08</span></span>:<span class="hljs-number"><span class="hljs-number">38</span></span> ] UID:<span class="hljs-number"><span class="hljs-number">20</span></span> NOTICE system2\BBLiveStream start</code> </pre><br></div></div><br>  Logs writes a lot.  Not production after all. <br><br>  The current load on the network interface (iptraf-ng) in-15000 kbps, out 1500 kbps. <br>  FreeNas load: <br><br><img src="https://habrastorage.org/files/ed4/9da/dc0/ed49dadc037140dd90d2171b3a26a9df.png" alt="image"><br><br>  Gigabit interface, worth ZRaid2 + hard body (ZLog?) <br>  Freenas: <br>  Intel¬Æ Core (TM) 2 Duo CPU E4500 @ 2.20GHz <br>  Memory: 4006MB <br>  Load average 0.15, 0.16, 0.11 <br><br>  Records <br><img src="https://habrastorage.org/files/9c4/6bb/434/9c46bb4347a8418bb6e9d3ae76077ccd.png" alt="image"><br>  Green - permanent record <br>  red - motion records <br>  blue - timelapse <br><br>  We look record on the movement.  And the truth is movement: <br><br><img src="https://habrastorage.org/files/fee/496/e4b/fee496e4bce04b8a83d173119cc61f88.png" alt="image"><br><br>  And all events are put in sql. <br><br>  That timelapse arrived in the last hour. <br>  Duration 20 seconds. <br>  You can see something like this: <br><br><img src="https://habrastorage.org/files/1bc/a2c/c05/1bca2cc058a948c1b4c13b132bf5f996.png" alt="image"><br><br>  If 1 hour can be viewed in 20 seconds, then 1 day can be viewed in 8 minutes. <br><br>  This is how it is possible to collect something formalized and working from improvised means. <br><br>  I do not spread the video as the cameras are private.  In the screenshots there is a public space that anyone can enter. <br><br>  PS <br> <code>[vlc@dvr 7]$ uptime; 11:36:09 up 1:19, 2 users, load average: 0.31, 0.35, 0.33</code> <br> <code>calc@vm001:~$ uptime; 11:37:05 up 20:33, 1 user, load average: 0.01, 0.02, 0.03</code> </div><p>Source: <a href="https://habr.com/ru/post/234243/">https://habr.com/ru/post/234243/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../234231/index.html">Google will have to return the steering wheel and pedals to their robotic cars.</a></li>
<li><a href="../234235/index.html">RDP vs RemoteFX</a></li>
<li><a href="../234237/index.html">Debugging C ++ programs in GNU / Linux OS</a></li>
<li><a href="../234239/index.html">Stay Journey. Part 1</a></li>
<li><a href="../234241/index.html">Contour.Elba for Android. Developer Notes</a></li>
<li><a href="../234245/index.html">Monkey Selfie copyright problem solved by US Copyright Office</a></li>
<li><a href="../234247/index.html">Techniques for working with query execution plans in Oracle</a></li>
<li><a href="../234249/index.html">Two DataPro Specialists Receive Accredited Tier Specialist Certificates</a></li>
<li><a href="../234251/index.html">Inside the OST data center on the street. Borovaya</a></li>
<li><a href="../234253/index.html">Take part in the Games Jam 2014 competition</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>