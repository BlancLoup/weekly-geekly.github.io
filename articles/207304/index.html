<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Registration on the site: from the beginning to the afternoon</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hi habr! 
 I work in the field of web development and the other day I had an interesting task - it was necessary to create a complex registration form...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Registration on the site: from the beginning to the afternoon</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/getpro/habr/post_images/eca/149/2c0/eca1492c04bfca640129c57c03a53af3.png" align="left">  Hi habr! <br>  I work in the field of web development and the other day I had an interesting task - it was necessary to create a complex registration form, which will have twenty-two (22!) Text fields and one large list with checkboxes. <br>  I have always been guided by the principle that a large number of fields on the registration form are very unpleasant for users, even if they receive material bonuses upon completion.  Therefore, I always tried to make the form as simple as possible, with a maximum of 4 fields, if this was possible on the part of the business (customer).  And even neglected the field with the captcha, using instead the hidden js-captcha, or completely abandoned it.  But all attempts to bring it to the customer were unsuccessful. <br><br>  Under habrakat I will try to create the most versatile solution to such problems <br><br><a name="habracut"></a><br>  The first thought was that all polymers disappeared, but after a little more thought it became obvious that many fields could be divided into groups, and some could be removed altogether.  As a result, I got 4 forms: 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <ul><li>  "Registration data" (login, password, email, phone) </li><li>  ‚ÄúPersonal data‚Äù (date of birth, gender, initials) </li><li>  "Place of work" (scope, position, salary :)) </li><li>  ‚ÄúInteresting tapes‚Äù (checkbox list) </li><li>  ‚ÄúRegistration completion‚Äù, display all entered data </li></ul><br>  Now it is necessary to arrange it somehow for the users, excluding the occurrence of a manic impulse and immediate closing of the window on the appearance of all these fields and forms.  It is best to do the filling of the fields in stages, form by form.  And it is also desirable to make a roadmap (map), which clearly shows what to fill out, at what stage I am now and how much I have left. <br>  Googling, I did not find anything suitable and began to think about how to adjust the finished image slider (instead of images use a div with fields).  But I really wanted to draw a roadmap with a slider, which, as the forms are filled in, will move forward until it reaches the end.  And it would be nice to provide a non-linear movement of the slider - so that you can jump over points if you do not want to fill out some form at all. <br>  After experimenting with different sliders, I completely abandoned this idea - I decided to create my own, brand new and wonderful bike.  Let it be with square wheels, since  The experience of developing plug-ins is zero, but it will be 100% satisfying the task, contain nothing superfluous and, most importantly, it may be necessary for someone else. <br>  So, a wrapper for the plugin, let it be called a <b>roadmap</b> . <br><br><pre><code class="javascript hljs">(<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">$</span></span></span><span class="hljs-function">) </span></span>{ $.fn.Roadmap = <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span>{ }; })(jQuery);</code> </pre> <br><br>  Fine.  Now we will add the ability to customize some plugin options (before initializing it), consider several public methods and add a closure so that we can use the jQuery functions for our object. <br><br><pre> <code class="javascript hljs">(<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">$</span></span></span><span class="hljs-function">) </span></span>{ $.Roadmap = $.Roadmap || {}; $.extend($.Roadmap, { <span class="hljs-attr"><span class="hljs-attr">extend</span></span>: <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">methods</span></span></span><span class="hljs-function">) </span></span>{ $.extend($.fn.Roadmap, methods); $.fn.extend(methods); } }); <span class="hljs-comment"><span class="hljs-comment">//    $.fn.Roadmap = function (options) { var options = $.extend({ onInit: null, allowJump: true, voyagerSpeed: 300, voyagerPosition: 0, checkpoints: [], onloadEvent: null, ckeckpointNext: null, checkpointPrev: null, width: 400, }, options); //   // $.Roadmap.extend,    $.Roadmap.extend({ CurrentPosition: function () { }, MoveNext: function () { }, MovePrev: function () { } }); //,    \ jQuery,  $.animate() return this.each(function () { //  }); }; })(jQuery);</span></span></code> </pre><br><br>  Is done.  But the plug-in code is somehow lost, it is better to put it in a separate place, it will be more readable and not forget to describe the public functions.  And so it was quite readable, all in the spoiler. <br><br><div class="spoiler">  <b class="spoiler_title">plugin code completely</b> <div class="spoiler_text"><pre> <code class="javascript hljs">(<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">$</span></span></span><span class="hljs-function">) </span></span>{ $.Roadmap = $.Roadmap || {}; $.extend($.Roadmap, { <span class="hljs-attr"><span class="hljs-attr">extend</span></span>: <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">methods</span></span></span><span class="hljs-function">) </span></span>{ $.extend($.fn.Roadmap, methods); $.fn.extend(methods); } }); $.fn.Roadmap = <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">options</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> options = $.extend({ <span class="hljs-attr"><span class="hljs-attr">onInit</span></span>: <span class="hljs-literal"><span class="hljs-literal">null</span></span>, <span class="hljs-comment"><span class="hljs-comment">// ,    allowJump: true, //   , .  voyagerSpeed: 300, //      checkpoint voyagerPosition: 0, //   checkpoints: [], //    callbacks ckeckpointNext: null, //callback    (  MoveNext()) checkpointPrev: null, //  width: 400, //    }, options); var $roadmap = $("&lt;div&gt;").addClass("roadmap"), $voyager = $("&lt;div&gt;").addClass("voyager"), voyagerPosition = options.voyagerPosition, voyagerOffset = -1; //private  (  ,  ) var methods = { determineWidth: function ($obj) { var r = /[px|em]{2,}/g, w = 0; w += parseInt($obj.css("padding-left").replace(r, "")); w += parseInt($obj.css("padding-right").replace(r, "")); w += parseInt($obj.css("border-left-width").replace(r, "")); w += parseInt($obj.css("border-right-width").replace(r, "")); w += parseInt($obj.css("margin-left").replace(r, "")); w += parseInt($obj.css("margin-right").replace(r, "")); return w; } }; // ,   var make = function () { $(this) .css("width", options.width) .css("display", "none"); var $mark = $("&lt;div&gt;").addClass("mark"), $map = $("&lt;div&gt;").addClass("map"), $checkpoint = {}; $(options.checkpoints).each(function (i, o) { $checkpoint = $("&lt;div&gt;").addClass("checkpoint"); $checkpoint .append($("&lt;div&gt;")) .click(function (e) { if ((options.allowJump || !e.originalEvent) &amp;&amp; $(e.target).closest(".voyager").length == 0) { var ts = $(this), tsOffset = ts.offset(), rmOffset = $roadmap.offset(); voyagerPosition = i; if (voyagerOffset &lt; 0) { voyagerOffset = $voyager.offset().left; $voyager.css("left", voyagerOffset); } $voyager.animate({ left: (voyagerOffset + tsOffset.left - rmOffset.left - parseInt($map.css("padding-left"))) }, 400); $("div.mark") .find("div.marklabel").removeClass("active").end() .find("div.marklabel:eq(" + i + ")").addClass("active"); if (o.hndl != null &amp;&amp; typeof (o.hndl) === "function") { o.hndl(voyagerPosition); } } }); $map.append($checkpoint); if (i &lt; options.checkpoints.length - 1) { $map.append($("&lt;div&gt;").addClass("road")) $mark .append($("&lt;div&gt;").addClass("marklabel").html(o.text)) .append($("&lt;div&gt;").addClass("road")); } else { $map.append($("&lt;div&gt;").addClass("clear")); $mark.append($("&lt;div&gt;").addClass("marklabel").html(o.text)) } }); $roadmap .append($map) .append($mark); $(this).append($roadmap); var roadLength = 0, checkpointsTotalLength = 0; checkpointsTotalLength += methods.determineWidth($checkpoint.find("div")); checkpointsTotalLength += methods.determineWidth($checkpoint); roadLength = Math.floor((options.width - checkpointsTotalLength * 4) / 3); roadLength -= methods.determineWidth($map); roadLength -= methods.determineWidth($(".road", $map)); $map .find(".road").width(roadLength).end() .find(".checkpoint").eq(voyagerPosition).prepend($voyager).end(); $mark .find(".marklabel:eq(" + voyagerPosition + ")").addClass("active").end() .find(".marklabel").width(checkpointsTotalLength).end() .find(".road").width(roadLength).end(); if (options.onInit != null &amp;&amp; typeof (options.onInit) === "function") { options.onInit(); } $(this).show(); $map.find(".checkpoint").eq(voyagerPosition).trigger("click"); }; //public ,      $.Roadmap.extend({ CurrentPosition: function () { return voyagerPosition; }, MoveNext: function () { if (voyagerPosition + 1 &lt; options.checkpoints.length) { ++voyagerPosition; $("div.roadmap .checkpoint:eq(" + voyagerPosition + ")").trigger("click"); if (typeof (options.ckeckpointNext) === "function") { options.ckeckpointNext(voyagerPosition); } } }, MovePrev: function () { if (voyagerPosition - 1 &gt;= 0) { --voyagerPosition; $("div.roadmap .checkpoint:eq(" + voyagerPosition + ")").trigger("click"); if (typeof (options.ckeckpointPrev) === "function") { options.ckeckpointPrev(voyagerPosition); } } } }); return this.each(make); }; })(jQuery);//  $.Roadmap.extend({ CurrentPosition: function () { return voyagerPosition; }, MoveNext: function () { if (voyagerPosition + 1 &lt; options.checkpoints.length) { ++voyagerPosition; $("div.roadmap .checkpoint:eq(" + voyagerPosition + ")").trigger("click"); if (typeof (options.ckeckpointNext) === "function") { options.ckeckpointNext(voyagerPosition); } } }, MovePrev: function () { if (voyagerPosition - 1 &gt;= 0) { --voyagerPosition; $("div.roadmap .checkpoint:eq(" + voyagerPosition + ")").trigger("click"); if (typeof (options.ckeckpointPrev) === "function") { options.ckeckpointPrev(voyagerPosition); } } } });</span></span></code> </pre><br></div></div><br><br>  It remains to insert it on the page, for example <br><pre> <code class="javascript hljs">$(<span class="hljs-string"><span class="hljs-string">"#rmp"</span></span>).Roadmap({ <span class="hljs-attr"><span class="hljs-attr">checkpoints</span></span>: [{ <span class="hljs-attr"><span class="hljs-attr">text</span></span>: <span class="hljs-string"><span class="hljs-string">" "</span></span>, }, { <span class="hljs-attr"><span class="hljs-attr">text</span></span>: <span class="hljs-string"><span class="hljs-string">" }] });</span></span></code> </pre><br><br>  Plugin available on <a href="https://github.com/letmefree/jqRoadmap">github</a> <br>  Demo can be seen <a href="http://letmefree.github.io/">here.</a> <br><br>  <b>UPD</b> <br>  Following the advice of <a href="http://habrahabr.ru/users/ilvar/" class="user_link">ilvar</a> , I moved the demo to pages.github. <br><br>  PS <br>  <i>I used $ .animate () to move $ voyager around the map, refusing to use CSS3.</i>  <i>The reason was the strange behavior of the $ .css ("- webkit-transform", "translateX (100)") construction in one of the latest versions of Chromium (28.0.1482.0 (194616)), although in the next release everything worked.</i> <br><br>  Pps <br>  <i>The plugin is currently not ready for commercial use and needs to be refined.</i>  <i>Positioning errors in different browsers, smooth change of forms, use of a template engine in an array of checkpoints, ajax, form pull-up, etc. ... But not this year, I'm leaving for vacation)</i> <br><br>  Happy New Year 2014! <br></div><p>Source: <a href="https://habr.com/ru/post/207304/">https://habr.com/ru/post/207304/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../207288/index.html">Syncman - deploy and synchronize projects on a remote server</a></li>
<li><a href="../207290/index.html">Kingston HyperX 3K SH103S3B / 240 SSD Overview</a></li>
<li><a href="../207294/index.html">C ++ idioms. Type erasure</a></li>
<li><a href="../207296/index.html">Our sales leader 2013 - controller KUB-Micro / 60</a></li>
<li><a href="../207298/index.html">STARTTOSPEAK.COM - we start talking about the project!</a></li>
<li><a href="../207306/index.html">Overview of data encryption in the clouds for Windows</a></li>
<li><a href="../207308/index.html">Instruction as a sequence of methods</a></li>
<li><a href="../207310/index.html">A passion for programming. Chapter 19. Right Now</a></li>
<li><a href="../207312/index.html">How we made new year cards with lifehacks</a></li>
<li><a href="../207314/index.html">Raspberry Pi: Encode H.264 live video</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>