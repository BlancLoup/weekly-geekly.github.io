<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>PostgreSQL 10 released</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="In fact, two days have passed, but no one has yet written an article on Habr, so I will have to eliminate this omission, which I do with pleasure. 


...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>PostgreSQL 10 released</h1><div class="post__text post__text-html js-mediator-article"><div style="text-align:center;"><img src="https://habrastorage.org/webt/59/d8/fb/59d8fb26efcf3125283990.png"></div><br><p>  In fact, two days have passed, but no one has yet written an article on Habr, so I will have to eliminate this omission, which I do with pleasure. </p><br><p>  So, what's new in this version of PostgreSQL? </p><br><p>  First, the versioning itself has changed.  Up to the ‚Äúdozens‚Äù we observed a lot of minor versions 9.x, which came out about once a year and at the same time made serious, far from minor changes.  Therefore, from version 10 it was decided to number 10, 11, 12, etc.  By the way, MySQL seems to have gone the same way, jumped from 5.7 to 8.0 </p><br><p>  Okay, it's all the little things, let's get to the point </p><a name="habracut"></a><br><h2>  Logical replication </h2><br><p>  This is what everyone has been waiting for a long time.  Replacing various extensions a la slony (replication on triggers) and other crutches. </p><br><p>  Now you can replicate individual tables out of the box to other databases. </p><br><p>  Replication is done using the <a href="https://www.postgresql.org/docs/10/static/sql-createpublication.html">CREATE PUBLICATION</a> and <a href="https://www.postgresql.org/docs/10/static/sql-createsubscription.html">CREATE SUBSCRIPTION</a> commands.  Everything is quite simple. </p><br><p>  It is clear that the feature is quite new, so at the moment some features are missing in logical replication. </p><br><ul><li>  no schema replication / DDL </li><li>  no sequence replication </li><li>  TRUNCATE command is not replicated </li></ul><br><p>  Nevertheless, it is still a huge step forward, in some cases, you can throw slony! </p><br><h2>  Partitioning </h2><br><p>  If earlier partitions could have been done through <a href="https://www.postgresql.org/docs/9.6/static/ddl-inherit.html">table inheritance</a> , then in the top ten a <a href="https://www.postgresql.org/docs/10/static/ddl-partitioning.html">built-in tool</a> appeared for this, which is called declarative partitioning. </p><br><p> For this, the main table adds the keyword <code>PARTITON BY RANGE</code> (or <code>LIST</code> ), which says that this table is partitioned (or how to say it correctly in Russian?). </p><br><p>  Specific partitions use the <code>PARTITION OF ... FOR VALUES FROM (...) TO (...)</code> expression to specify the range of their data. </p><br><p>  Partitions have a number of limitations that you should keep in mind before using in production: <a href="https://wiki.postgresql.org/wiki/Table_partitioning">Limitations of declarative partitioning in PostgreSQL 10</a> </p><br><h2>  Identity columns </h2><br><p>  In short, the opportunity to write </p><br><pre> <code class="sql hljs">id int GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY</code> </pre> <br><p>  instead </p><br><pre> <code class="sql hljs">id serial PRIMARY KEY</code> </pre> <br><p>  What does this give? <br>  The fact is that the word serial is roughly an alias to the DEFAULT nextval ('sequence name') construction.  Those.  in fact, the table is separate, the sequence is separate.  It is convenient, but it is not.  For example, this leads to the fact that if you give rights to insert into a table (GRANT INSERT), you have to give grants for sequencing separately. </p><br><p>  By the way, the new entry conforms to the SQL standard. </p><br><h2>  Other </h2><br><ul><li>  Parallelism has improved, in particular, Parallel Bitmap Heap Scan, Parallel Index Scan, Parallel Merge Join, etc.  Details can be found in the <a href="http://rhaas.blogspot.ru/2017/03/parallel-query-v2.html">blog of Robert Haas.</a> </li><li>  Improved physical replication performance </li><li>  Hash indexes become replicable. </li><li>  Full-text search support in jsonb columns </li><li>  SCRAM authentication </li><li>  improved <a href="https://blog.2ndquadrant.com/xmltable-intro/">xml support</a> </li><li>  the query scheduler is improved when using join: if the scheduler realizes that merged strings cannot produce more than one row in a join, then you can not waste too much time searching for other rows.  Examples of requests can be found in the tests of <a href="https://git.postgresql.org/gitweb/%3Fp%3Dpostgresql.git%3Ba%3Dcommit%3Bh%3D9c7f5229ad68d7e0e4dd149e3f80257893e404d4">this committee.</a> </li></ul><br><p>  Full list of changes can be found <a href="https://wiki.postgresql.org/wiki/New_in_postgres_10">here</a> . </p><br><p>  If someone has already managed to try v10 in battle, share, pliz, your impressions in the comments. </p><br><p>  UPDATE.  It is believed that the version system is not very.  It was necessary to call PostgreSQL X to be in trend :) </p></div>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <p>Source: <a href="https://habr.com/ru/post/339568/">https://habr.com/ru/post/339568/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../339556/index.html">Setting tasks for beginners timlidov</a></li>
<li><a href="../339558/index.html">Food Design Digest, September 2017</a></li>
<li><a href="../339562/index.html">Mathematical model of a liquid tachometer in Python</a></li>
<li><a href="../339564/index.html">Cocos2d-x - Basic Concepts</a></li>
<li><a href="../339566/index.html">Development of browser-based online games without frameworks and engines</a></li>
<li><a href="../339570/index.html">The economy of tokens: discounts - the main problems</a></li>
<li><a href="../339572/index.html">API on Swift in five minutes. Lecture in Yandex</a></li>
<li><a href="../339576/index.html">REPL - setting for saving history and loading modules by default</a></li>
<li><a href="../339580/index.html">Using the event model in Doctrine 2 + Symfony 3</a></li>
<li><a href="../339582/index.html">About design patterns for working with RDBMS</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>