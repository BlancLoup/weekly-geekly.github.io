<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Swing Ten useful simple things</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="I want to share my recent experience in developing Swing applets and tell us about the pitfalls, techniques found and used in the process. 



 If you...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Swing Ten useful simple things</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/getpro/habr/post_images/f76/f84/3f0/f76f843f0a13b2d8520a3a9aa553a613.png" alt="image" align="right"><br><br>  I want to share my recent experience in developing <a href="http://ru.wikipedia.org/wiki/Swing">Swing</a> applets and tell us about the pitfalls, techniques found and used in the process. <br><br><a name="habracut"></a>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      If you have already dealt with the Swing library, you can skip straight to the <a href="https://habr.com/ru/post/137347/">second chapter</a> . <br><br><h5>  Three steps for a quick start </h5><br><ol><li>  To begin with, we carefully study the documentation on various <a href="http://docs.oracle.com/javase/tutorial/uiswing/layout/using.html">Layout managers</a> , without such basic knowledge it will be difficult to achieve the desired mapping. </li><li>  Then we carefully study the basic visual components of <a href="http://docs.oracle.com/javase/tutorial/ui/features/components.html">java look and feel</a> or <a href="http://docs.oracle.com/javase/tutorial/ui/features/compWin.html">windows look and feel</a> .  How and what to use in the work can be peeped in the <a href="http://docs.oracle.com/javase/tutorial/uiswing/components/componentlist.html">textbook</a> . </li><li>  We put <a href="http://eclipse.org/downloads/">Eclipse</a> and create a java project, create an <a href="http://www.ehow.com/how_7190232_make-applet-eclipse-java.html">applet</a> and ... "next file" (c). </li></ol><br><br>  For a quick start and building simple interfaces this knowledge will be quite enough. <br><br>  Now we come to the most interesting. <br><br><a name="g2"></a><h5>  Ten useful simple things </h5><br><br>  1. In order to set look and feel as in the system (for example, the corresponding windows theme): <br><pre><code class="java hljs">javax.swing.UIManager.setLookAndFeel(UIManager.getSystemLookAndFeelClassName());</code> </pre> <br><br>  2. Change the default font: <br><pre> <code class="java hljs">FontUIResource f = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> FontUIResource(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Font(<span class="hljs-string"><span class="hljs-string">"Verdana"</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">12</span></span>); Enumeration&lt;Object&gt; keys = UIManager.getDefaults().keys(); <span class="hljs-keyword"><span class="hljs-keyword">while</span></span> (keys.hasMoreElements()) { Object key = keys.nextElement(); Object value = UIManager.get(key); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (value <span class="hljs-keyword"><span class="hljs-keyword">instanceof</span></span> FontUIResource) { FontUIResource orig = (FontUIResource) value; Font font = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Font(f.getFontName(), orig.getStyle(), f.getSize()); UIManager.put(key, <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> FontUIResource(font)); } }</code> </pre><br><br>  3. A simple version of the modal dialogue: <br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">int</span></span> reply = JOptionPane.showConfirmDialog(<span class="hljs-keyword"><span class="hljs-keyword">null</span></span>, <span class="hljs-string"><span class="hljs-string">"Is Hello world?"</span></span>, <span class="hljs-string"><span class="hljs-string">"Title"</span></span>, JOptionPane.YES_NO_OPTION); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (reply == JOptionPane.YES_OPTION){ <span class="hljs-comment"><span class="hljs-comment">//do something }</span></span></code> </pre><br><br>  If a more advanced dialog is required, there is an option with the ability to add a JComponent: <br><pre> <code class="java hljs">JComponent[] inputs <span class="hljs-comment"><span class="hljs-comment">//   int reply = JOptionPane.showConfirmDialog(null, inputs, "", JOptionPane.OK_CANCEL_OPTION, JOptionPane.PLAIN_MESSAGE); if (reply == JOptionPane.OK_OPTION) { ...</span></span></code> </pre><br><br>  4. For quick localization of dialogs: <br><pre> <code class="java hljs">UIManager.put(<span class="hljs-string"><span class="hljs-string">"OptionPane.yesButtonText"</span></span>, <span class="hljs-string"><span class="hljs-string">""</span></span>); UIManager.put(<span class="hljs-string"><span class="hljs-string">"OptionPane.noButtonText"</span></span>, <span class="hljs-string"><span class="hljs-string">""</span></span>); UIManager.put(<span class="hljs-string"><span class="hljs-string">"OptionPane.cancelButtonText"</span></span>, <span class="hljs-string"><span class="hljs-string">""</span></span>); UIManager.put(<span class="hljs-string"><span class="hljs-string">"OptionPane.okButtonText"</span></span>, <span class="hljs-string"><span class="hljs-string">""</span></span>);</code> </pre><br><br>  5. To filter the elements in the columns of the table JTable there is a very good open library <a href="http://code.google.com/p/oxbow/wiki/TableRowFilterSupport">Swing Bits</a> with which you can make a filter ‚Äúlike in Excel‚Äù. <br><br>  6. In order to give the user the opportunity to choose dates there is an excellent component <a href="http://www.toedter.com/en/jcalendar/index.html">jcalendar</a> <br><div style="text-align:center;"><img src="http://www.toedter.com/assets/images/JDateChooser.gif" alt="image"></div><br><br>  7. To play sound packaged in a jar archive: <br><pre> <code class="java hljs">myapplet.getAudioClip(MyPlayerClass.class.getResource(<span class="hljs-string"><span class="hljs-string">"     "</span></span>).play();</code> </pre><br><br>  Now some nontrivial chips: <br><br>  8. In order to embed a button in the table row (with the correct click render): <br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">MyTable</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">JTable</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">MyButtonRenderer</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">JButton</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">implements</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">TableCellRenderer</span></span></span><span class="hljs-class">, </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">TableCellEditor</span></span></span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> selectedRow; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> selectedColumn; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> List&lt;MyButtonListener&gt; listener = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> ArrayList&lt;MyButtonListener&gt;(); <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">MyButtonRenderer</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">super</span></span>(); addActionListener(<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> ActionListener() { <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">actionPerformed</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(ActionEvent e)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (MyButtonListener l : listener) { l.tableButtonClicked(selectedRow, selectedColumn); <span class="hljs-comment"><span class="hljs-comment">//     } } }); } public Component getTableCellRendererComponent(JTable a, Object b, boolean c, boolean d, int e, int f) { setFocusable(false); return this; } public boolean stopCellEditing() {return true;} public Object getCellEditorValue() { return null;} public boolean isCellEditable(EventObject anEvent) { return true;} public boolean shouldSelectCell(EventObject anEvent) {return true;} public Component getTableCellEditorComponent(JTable a, Object b, boolean c, int d, int e) { selectedRow = row; selectedColumn = column; setFocusable(false); return this; } public void addTableButtonListener(ITableButtonListener l) {listener.add(l);} public void removeTableButtonListener(ITableButtonListener l) {listener.remove(l);} } public MyTable(){ MyButtonRenderer button = new MyButtonRenderer(); button.addTableButtonListener(new MyButtonListenerImpl()); //  ""   .   2       this.getColumnModel().getColumn(0).setCellRenderer(new MyButtonRenderer()); this.getColumnModel().getColumn(0).setCellEditor(button); } public TableCellRenderer getCellRenderer(int row, int column) { TableCellRenderer result = super.getCellRenderer(row, column); if (result instanceof MyButtonRenderer) return result; return &lt;  (  )&gt;; } }</span></span></code> </pre><br><br>  9. In order to change the swing components from another thread, you need to use an intermediary: <br><pre> <code class="java hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">MyWorker</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">SwingWorker</span></span></span><span class="hljs-class">&lt;</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Void</span></span></span><span class="hljs-class">, </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">MyObject</span></span></span><span class="hljs-class">&gt;</span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> IProxyObject action; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">protected</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">SwingWorkerReal</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(MyObject data)</span></span></span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.action = data; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">protected</span></span></span><span class="hljs-function"> Void </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">doInBackground</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">throws</span></span></span><span class="hljs-function"> Exception </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (action != <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>) publish(action); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">protected</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">process</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(List&lt;MyObject&gt; chunks)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-comment"><span class="hljs-comment">//        process! } } ... new MyWorker(data).execute(); //  ... }</span></span></code> </pre><br><br>  10. And finally, the SwingWorker counter.  Only ten SwingWorker threads can be executed at a time, this is due to the fact that the thread pool of the SwingWorker handler has a maximum size of ten, so try to keep the tasks small.  A real-life example: in IE, you can open 10 pages with applets, and 11 will already have to wait (‚Äúhang‚Äù) until the ThreadPoolExecutor's place is empty for processing data received from the server in another stream. <br><br><h5>  Afterword </h5><br>  In general, the development under the swing paraded with an abundance of documentation and examples for all occasions.  If you're interested, I can tell you more about JTable chips in more detail. </div><p>Source: <a href="https://habr.com/ru/post/137347/">https://habr.com/ru/post/137347/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../137342/index.html">50 tips for developing flawless design iOS apps</a></li>
<li><a href="../137343/index.html">Change images</a></li>
<li><a href="../137344/index.html">Unisender seminar on email, SMS and SMM integration: photo report</a></li>
<li><a href="../137345/index.html">Demonstration of design - how to present the work so that it arouses appetite</a></li>
<li><a href="../137346/index.html">Megaupload will save files for another 2 weeks.</a></li>
<li><a href="../137348/index.html">Immersive CSS3</a></li>
<li><a href="../137349/index.html">9nm carbon nanotube transistor</a></li>
<li><a href="../137352/index.html">JTable and Serializable or tables in Java and dancing with a tambourine when saving objects to files</a></li>
<li><a href="../137353/index.html">Unusual gadgets that you can buy on Amazon.com</a></li>
<li><a href="../137354/index.html">Practical course on information security from Positive Technologies</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>