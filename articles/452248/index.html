<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>We pump over development on Vue by means of patterns: HOC</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="The HOC (Higher Order Component) pattern is very popular with React developers. But Vue-developers somehow bypass it. Very vain. Let's try to figure i...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>We pump over development on Vue by means of patterns: HOC</h1><div class="post__text post__text-html js-mediator-article"><p>  The HOC (Higher Order Component) pattern is very popular with React developers.  But Vue-developers somehow bypass it.  Very vain.  Let's try to figure it out. </p><a name="habracut"></a><br><h3 id="chto-takoe-hoc">  What is HOC? </h3><br><p>  <strong>A higher order component (HOC)</strong> is a function that accepts an existing component and returns another component that wraps the original one, adding new logic. </p><br><p><img src="https://habrastorage.org/getpro/habr/post_images/358/fb5/73b/358fb573b65b2b87becdd83c7d130672.png" alt="image"></p><br><h3 id="hoc-vs-mixins">  HOC vs mixins </h3><br><p>  Perhaps many will wonder why using HOC when there are impurities?  They also add new functionality to the components.  What can HOC do not know how to admix? </p><br><p>  First, recall what impurities are in Vue (the definition is taken from the Vue documentation): </p><br><blockquote>  Mixins is a flexible code reuse tool in Vue components.  The impurity object can contain any component options.  When using the impurity component, all impurity options are ‚Äúmixed‚Äù into the component's own options. </blockquote><p>  It seems that the purpose of impurities and HOC is the same - they allow you to expand the functionality of different components.  And outside (using the final component) it may even look the same. </p><br><p>  But the difference lies in the very principle of operation of HOC and impurities.  Impurities are ‚Äúmixed in‚Äù when a component is declared - any instance of the component will contain them. <br>  With HOC, we wrap an instance of a component without changing the component itself, but creating a new one, in the place where it is required.  This means that we only affect the piece of code where we use it.  Due to this we reduce the code connectivity, make it more readable and flexible. </p><br><p>  HOC is a bit like a <a href="https://en.wikipedia.org/wiki/Decorator_pattern">decorator</a> design pattern. </p><br><h3 id="sozdanie-hoc">  Create HOC </h3><br><p>  Well.  Let's look at all this with an example. </p><br><p>  So, we have a component button: </p><br><p><img src="https://habrastorage.org/getpro/habr/post_images/054/98d/f56/05498df5683b1a181d23f300dbce1296.png" alt="image"></p><br><p>  After some time, we suddenly needed to log the press of some buttons (but not all).  We can do this through impurities by mixing the code for logging into a component of a button, and then in the right place enable or disable logging through some property of the component.  But agree, this is not very convenient?  And if there is a lot of such functionality?  One mistake - and all the buttons may stop working correctly. </p><br><p>  HOC in this case would be a great solution.  We will simply wrap the button in some places with the appropriate HOC. </p><br><p>  It's time to learn HOC in practice. </p><br><h4 id="shag-1-sozdayom-hoc-fuknkciyu">  Step 1. Create a HOC function. </h4><br><p>  We remember that HOC is a function that takes a component as input and returns another.  So create the same function.  Let's call it withLoggerButton. <br>  Naming of HOC functions is usually started with with - it is a kind of identification mark of HOCs. </p><br><p><img src="https://habrastorage.org/getpro/habr/post_images/6c6/ccb/6fc/6c6ccb6fc3108c84f6a4590072acec28.png" alt="image"></p><br><p>  The result is a function that accepts a Button component as input, and then returns a new component.  In the render function, we use the original component, but with one change - we add an event to click on the DOM node, the output to the console is the label clicked. </p><br><p>  If you do not understand what is happening here, what h and context are, first read the vue documentation on the work of the render functions. </p><br><p>  In the current example, I used exactly the functional component, since  I do not need a state.  Nobody forbids you to return a regular component instead of a functional one, but do not forget that functional components are much faster than normal ones. </p><br><h4 id="shag-2-ispolzuem-hoc">  Step 2. Use HOC </h4><br><p>  Now, using the obtained function, we simply create a new component. </p><br><p><img src="https://habrastorage.org/getpro/habr/post_images/7f9/cd1/caf/7f9cd1caf90986bd902b89f272f990e5.png" alt="image"></p><br><p>  It remains the case for small - to connect the received component where we need to log the clicks. </p><br><p>  Final example: </p><br><iframe width="560" height="315" src="https://www.youtube.com/embed/https://translate" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><h3 id="kompoziciya">  Composition </h3><br><p>  All this is of course great, but what if you need a button that not only logs, but also performs some other action? </p><br><p>  It's simple.  We turn one hoc into another.  We can mix as many HOCs as possible. </p><br><p>  Also for the composition there are so many ready-made functions and libraries that facilitate the composition. </p><br><hr><br><p>  HOC is a simple, but at the same time very powerful pattern.  It is used in the basis of many libraries.  It is not a silver bullet or a complete replacement of mixins and the mechanism of inheritance of components.  Use it wisely in combination with other patterns and your Vue applications will become truly flexible. </p><br><p>  <a href="https://medium.com/%40gavrilov.e/%25D0%25BF%25D1%2580%25D0%25BE%25D0%25BA%25D0%25B0%25D1%2587%25D0%25B8%25D0%25B2%25D0%25B0%25D0%25B5%25D0%25BC-vue-%25D1%2581-%25D0%25BF%25D0%25BE%25D0%25BC%25D0%25BE%25D1%2589%25D1%258C%25D1%258E-%25D0%25BF%25D0%25B0%25D1%2582%25D1%2582%25D0%25B5%25D1%2580%25D0%25BD%25D0%25BE%25D0%25B2-hoc-d5e1733418b">Cross post</a> <a href="https://medium.com/%40gavrilov.e/%25D0%25BF%25D1%2580%25D0%25BE%25D0%25BA%25D0%25B0%25D1%2587%25D0%25B8%25D0%25B2%25D0%25B0%25D0%25B5%25D0%25BC-vue-%25D1%2581-%25D0%25BF%25D0%25BE%25D0%25BC%25D0%25BE%25D1%2589%25D1%258C%25D1%258E-%25D0%25BF%25D0%25B0%25D1%2582%25D1%2582%25D0%25B5%25D1%2580%25D0%25BD%25D0%25BE%25D0%25B2-hoc-d5e1733418b"><br></a> </p></div>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <p>Source: <a href="https://habr.com/ru/post/452248/">https://habr.com/ru/post/452248/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../452230/index.html">We study the tunnel diode on the example of 3I306M</a></li>
<li><a href="../452232/index.html">ObjectRepository - .NET in-memory repository pattern for your home projects</a></li>
<li><a href="../452234/index.html">Thermometer & Hygrometer on ATMEGA 328P-MU - Raising the level of arduino developments</a></li>
<li><a href="../452236/index.html">Harmony of scripts inside the Android application</a></li>
<li><a href="../45224/index.html">In Ukraine, the most popular browser is Opera 9.x</a></li>
<li><a href="../45225/index.html">Sorry, but Gmail themes with Opera don't work for me?</a></li>
<li><a href="../452252/index.html">Security with a taste of Google</a></li>
<li><a href="../452258/index.html">Corda - open source blockchain for business</a></li>
<li><a href="../452262/index.html">Angular: library creation and publishing</a></li>
<li><a href="../452264/index.html">How we made the site for the Mascots auto award</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>