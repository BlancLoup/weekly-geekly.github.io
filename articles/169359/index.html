<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Crossbrowser customization of the system scrollbar</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="The problem of placing continuous content of arbitrary size in a screen, or a window, of fixed sizes, has existed for several decades. Approximately t...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Crossbrowser customization of the system scrollbar</h1><div class="post__text post__text-html js-mediator-article"><img align="right" src="https://habrastorage.org/storage2/069/dc0/748/069dc074806a31de761112f84fd797da.png"><br><br>  The problem of placing continuous content of arbitrary size in a screen, or a window, of fixed sizes, has existed for several decades.  Approximately the same amount exists and the best solution to this problem: the element of the graphical interface is the scrollbar. <br><br>  Under the cat you can find out how in the near future the scroll will work in 2GIS Online. <br><a name="habracut"></a><br>  The system scrolling mechanism is implemented at the level of the basic features of the operating system, so we can safely say that it is always better than js emulation: it is more productive, works independently of JavaScript and implements all the necessary features of the system for different types of devices. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      The design of the system scrollbar, especially Windows under version 8, is capable of disfiguring a significant part of Internet sites.  The fact that not everyone agrees with this is confirmed by the fact that there are a large number of solutions that programmatically change the system scrollbar to <a href="http://slodive.com/web-development/jquery-scroll/">custom</a> . <br><br>  Now at <a href="http://maps.2gis.ru/%3Futm_source%3Dnews%26utm_medium%3Dhabr%26utm_campaign%3Dpost_baron">2GIS Online</a> (and, accordingly, at <a href="http://api.2gis.ru/%3Futm_source%3Dnews%26utm_medium%3Dhabr%26utm_campaign%3Dpost_baron">API 2GIS</a> ) we use FleXcroll: it emulates the scrolling mechanism and does not suit us for a number of reasons: <br><br><ul><li>  Not a cross-platform solution (in particular, it does not work well on a Mac) </li><li>  Like any emulator, in principle, it has performance problems. </li><li>  It does not have a built-in header fixing mechanism. </li></ul><br>  All these factors made us think over two questions: <br><br><ul><li>  Is there a ready-made solution we need, or is it necessary to create our own? </li><li>  Is it possible in principle to preserve the scrolling system mechanism, but completely replace its design? </li></ul><br>  We have formed the basic requirements for the solution, which should change the visual representation of the scrollbar: <br><br><ol><li>  The scrolling system mechanism must be saved: only its design is subject to correction. </li><li>  The total size of all dependencies should be minimized.  In the ideal case, they should not be at all.  The size of the solution itself should be minimized. </li><li>  There should be a mechanism for fixing content headers when they leave the field of view, or a simple interface for adding such a mechanism (for more information about this item, see below). </li></ol><br><h4>  Restrictions </h4><br>  At the time of this writing, it is possible to customize scrolling more or less flexibly using CSS tools only in browsers on the webkit engine.  The colors of the scrollbar can be changed in the Internet Explorer browser.  In other browsers, support for scrollbar customization through CSS is completely absent.  This is partly due to the hard <a href="http://lists.w3.org/Archives/Public/www-style/2001Sep/0050.html">w3c position</a> : <br><blockquote>  There are some things that CSS shouldn't do. </blockquote><br><h4>  Existing solutions </h4><br><img src="https://habrastorage.org/storage2/f8d/530/629/f8d5306291f2e87ca94d1625f8bbc2a2.png"><br><br>  Of that large number of js libraries, more than half replace the native scrolling mechanism.  This means that for the wrapper, the overflow property is set to the value hidden, and the nested container with the content we need changes its absolute position when generating events associated with a scroll (for example, mousewheel).  These solutions include: <a href="http://jscrollpane.kelvinluck.com/">jScrollPane</a> , <a href="http://code.google.com/p/scrollbarpaper/">Scrollbar Paper</a> , <a href="http://manos.malihu.gr/jquery-custom-content-scroller/">jQuery Custom Scrollbar plugin</a> , <a href="http://www.hesido.com/web.php%3Fpage%3Dcustomscrollbar">FleXcroll</a> , <a href="http://baijs.nl/tinyscrollbar/">Tiny Scrollbar</a> and many others. <br><br>  With this approach, there are two fundamental flaws: the lack of cross-browser compatibility and the lack of cross-platform.  The fact is that the interface of events generated by user actions, with the help of which the user scrolls something, is significantly different from browser to browser: from the point of view of standards, this is a real mess.  Moreover, the sequence and logic of the "throwing" of events is seriously different between platforms.  For example, trackpads on the Mac platform when scrolling generate Wheel-type events with a greater frequency than the wheel of an ordinary mouse, which leads to an <a href="http://maps.2gis.ru/">overly fast scrolling</a> in a number of similar decisions. <br><br>  It is these shortcomings of scroll emulation that led us to the formulation of the first paragraph of requirements. <br><br>  Many solutions are initially positioned as jQuery plugins.  In a situation when we use jQuery in parts, there is a problem of saving traffic.  The problem grows significantly if the plugin has a dependency on a much heavier jQuery UI.  This applies, for example, ShortScroll and Vertical Scroll.  And also from a number of other libraries: for example, one of the few jQuery plugins that preserve the native scrolling mechanism, Scrollbars, depends on 4 plugins: event.drag, resize, mousehold and mousewheel with a total weight of more than 10 kb. <br><br>  The third item of requirements is not satisfied by any of the solutions we have found. <br><br><h4>  Own decision </h4><br>  The solution has two main tasks: 1) hide the system scrollbar and 2) display the custom scrollbar. <br><br>  For simplicity, we will consider only the vertical scrollbar - in our case, as in most others, only he is needed.  In addition, it saves the amount of output code.  For the case with horizontal scrollbar, the reasoning is extended by analogy. <br><br>  First of all, let's build an html structure: <br><br><pre><code class="html hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">'wrapper'</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">id</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">'wrapper'</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">'scroller'</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">id</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">'scroller'</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">article</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">'container'</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">id</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">'container'</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">article</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br>  where container is, in fact, what we want to scroll;  scroller is a block in which the container container is not placed in height, but its overflow-y property is set: scroll, which leads to the appearance of a system scrollbar at its right border;  wrapper - a window with a width slightly smaller than that of the scroller and the overflow: hidden property.  The width is less than exactly the width of the scroller scroll bar. <br><br>  Unfortunately, using CSS tools it is impossible to know the exact width of the system scrollbar.  For example, the option with setting the width of 125% for scroller and 80% for container does not work, at which, it would seem, the widths of container and wrapper should match exactly.  You can make the scroller obviously wider, and the wrapper and container set the same width, but this method is not suitable for rubber layout and creates a bug in webkit browsers (see below). <br><br>  Let's enter js-variables: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> wrapper = <span class="hljs-built_in"><span class="hljs-built_in">document</span></span>.getElementById(<span class="hljs-string"><span class="hljs-string">'wrapper'</span></span>), scroller = <span class="hljs-built_in"><span class="hljs-built_in">document</span></span>.getElementById(<span class="hljs-string"><span class="hljs-string">'scroller'</span></span>), container = <span class="hljs-built_in"><span class="hljs-built_in">document</span></span>.getElementById(<span class="hljs-string"><span class="hljs-string">'container'</span></span>);</code> </pre><br>  Now we can calculate the width of the system scroll bar: scroller.offsetWidth is the scroller width, which includes the border, padding, and also the system scroll bar.  If we nullify the border and padding with CSS, and subtract scroller.clientWidth, we get the desired width of the scrollbar in pixels. <br><br>  In webkit-browsers, there is a feature that forces elements to scroll when text is selected in the horizontal direction, even with overflow-x: hidden.  That is, the scroller begins to move horizontally within a smaller wrapper, as a result of which the system scrollbar hidden by us is exposed.  Fortunately, in webkit browsers, and only in them, we can zero out the width of the scrollbar with CSS, after which the widths of all three blocks will exactly match and there will be no place for the horizontal scroll: <br><br><pre> <code class="css hljs"><span class="hljs-selector-class"><span class="hljs-selector-class">.scroller</span></span><span class="hljs-selector-pseudo"><span class="hljs-selector-pseudo">::-webkit-scrollbar</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">width</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>; }</code> </pre><br>  Now let's draw and position the custom scrollbar.  To do this, we will minimally complicate the html structure with 1 element, which will be fully responsible for the visual presentation of the scrollbar: <br><br><pre> <code class="html hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">'wrapper'</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">id</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">'wrapper'</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">'scroller'</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">id</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">'scroller'</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">article</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">'container'</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">id</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">'container'</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">article</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">'scroller__bar'</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br>  It is important to note here that our task did not require the drawing of the ‚Äúup‚Äù and ‚Äúdown‚Äù buttons, as well as the underlying ‚Äútrack‚Äù.  However, there are no restrictions for their implementation. <br><br>  When implementing a dredge of drawn custom scrollbar, the main thing is to prohibit the selection of text within the scrolled content.  For this, it is enough to make this bind: <br><br><pre> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">dontStartSelect</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-literal"><span class="hljs-literal">false</span></span>; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">selection</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">on</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (on) { $(<span class="hljs-built_in"><span class="hljs-built_in">document</span></span>).on(<span class="hljs-string"><span class="hljs-string">'selectstart'</span></span>, dontStartSelect); } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { $(<span class="hljs-built_in"><span class="hljs-built_in">document</span></span>).off(<span class="hljs-string"><span class="hljs-string">'selectstart'</span></span>, dontStartSelect); } } event(bar, <span class="hljs-string"><span class="hljs-string">'mousedown'</span></span>, <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">e</span></span></span><span class="hljs-function">) </span></span>{ e.preventDefault(); selection(<span class="hljs-literal"><span class="hljs-literal">false</span></span>); <span class="hljs-comment"><span class="hljs-comment">// Disable text selection in IE8 }); event(document, 'mouseup blur', function() { selection(true); // Enable text selection in IE8 });</span></span></code> </pre><br>  As you can see, most of the code is needed for the IE8 browser, which so far, unfortunately, cannot be discounted.  Please note that resetting the ‚Äúclicked‚Äù mouse state should occur not only when the mouse button is released, but also when the focus page is lost (blur). <br><br><h4>  Sticky headers </h4><br>  Some elements inside container should always be visible to the user.  For example, it could be the headings of sections of an article, if you clicked on them (this is an additional functionality that goes beyond the scope of the decision), the content would ‚Äúrewind‚Äù to the clicked title. <br><br>  Neither absolute (relative to the scroller), nor relative (relative to its initial positions) positioning of the headers in its pure form, in this case is not suitable.  The first is because of the collapse of the content surrounding the header and the corresponding jerks when scrolling;  the second is because of the native unrecoverable transitions in the Internet Explorer browser for scrolling, which lead to the jitter of all fixed headers. <br><br>  In this regard, the html structure had to be complicated a little more, wrapping all the headers in wrappers, the task of which was to save space under the headers when they were pulled out of the stream during fixation with absolute positioning.  In principle, a similar result can be achieved by selecting negative margins for headings and sections to which they relate - then you can do without header wrappers. <br><br>  With each scroll for each header, you must check the condition: <br><br><pre> <code class="javascript hljs">scroller.scrollTop - H[i].offsetTop &gt; Sum(H[j].offsetHeight, j=<span class="hljs-number"><span class="hljs-number">0.</span></span>.i<span class="hljs-number"><span class="hljs-number">-1</span></span>) scroller.scrollTop - H[i].offsetTop &lt; scroller.clientHeight - Sum(H[j].offsetHeight, j=i..n<span class="hljs-number"><span class="hljs-number">-1</span></span>)</code> </pre><br>  where H is an array of header elements;  i is the number of the header, varies in the range from 0 to n-1;  scroller.scrollTop - virtual distance from the upper border of the container to the upper border of the visible part of the container;  H [i] .offsetTop - the distance from the upper boundary of the container to the upper boundary of the header H [i]. <br><br>  The fulfillment of both conditions means that heading i is somewhere in the visible area, does not conflict with other headings in position, and its fixation is not required.  Violation of the first condition means that the heading is trying to hide from above, and the second - from the bottom.  In both cases, fixation is required. <br><br><h4>  Throwing a mousewheel event </h4><br>  In webkit browsers, we encountered an unpleasant bug: the mousewheel event did not forward from fixed headers up to the scroller.  This created the effect of a breakdown (sudden termination) of a scroll when a fixed header hit the cursor (for example, as a result of the same scroll).  That is, the user turns the mouse wheel, the title gets under the cursor, is fixed, and, suddenly, the scroll stops working (more precisely, the whole page starts to scroll). <br><br>  Fortunately, in webkit browsers (and we only needed to turn to them) there is such an opportunity: <br><br><pre> <code class="javascript hljs">$(headers).on(<span class="hljs-string"><span class="hljs-string">'mousewheel'</span></span>, <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">e</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> evt = <span class="hljs-built_in"><span class="hljs-built_in">document</span></span>.createEvent(<span class="hljs-string"><span class="hljs-string">'WheelEvent'</span></span>); evt.initWebKitWheelEvent(e.originalEvent.wheelDeltaX, e.originalEvent.wheelDeltaY); scroller.dispatchEvent(evt); <span class="hljs-comment"><span class="hljs-comment">//    scroller e.preventDefault(); //    });</span></span></code> </pre><br>  Of course, this is an abbreviated version of the code: it is necessary to check the presence of the corresponding functions and the type of event in order not to generate errors in other browsers. <br><br><h4>  Example </h4><br>  To minimize the amount of js code and dependencies, an approach was used in which the library is not a jQuery plugin, although it uses it by default. <br><br>  For example, in the simplest case (without fixing the headers), initialization looks like this: <br><br><pre> <code class="javascript hljs">baron($(<span class="hljs-string"><span class="hljs-string">'.wrapper'</span></span>), { <span class="hljs-attr"><span class="hljs-attr">scroller</span></span>: <span class="hljs-string"><span class="hljs-string">'.scroller'</span></span>, <span class="hljs-attr"><span class="hljs-attr">container</span></span>: <span class="hljs-string"><span class="hljs-string">'.container'</span></span>, <span class="hljs-attr"><span class="hljs-attr">bar</span></span>: <span class="hljs-string"><span class="hljs-string">'.scroller__bar'</span></span> });</code> </pre><br>  Moreover, $ ('. Wrapper') can be an array of html objects - each of them is initialized. <br><br>  If you want to fix headers, limit the top position of the scrollbar, and use jQuery alternatives, initialization is a bit more complicated: <br><br><pre> <code class="javascript hljs">baron($(<span class="hljs-string"><span class="hljs-string">'.test_advanced'</span></span>), { <span class="hljs-attr"><span class="hljs-attr">scroller</span></span>: <span class="hljs-string"><span class="hljs-string">'.scroller'</span></span>, <span class="hljs-attr"><span class="hljs-attr">container</span></span>: <span class="hljs-string"><span class="hljs-string">'.container'</span></span>, <span class="hljs-attr"><span class="hljs-attr">bar</span></span>: <span class="hljs-string"><span class="hljs-string">'.scroller__bar'</span></span>, <span class="hljs-attr"><span class="hljs-attr">barOnCls</span></span>: <span class="hljs-string"><span class="hljs-string">'.scroller__bar_state_on'</span></span>, <span class="hljs-comment"><span class="hljs-comment">// ,  ,      barTop: 40, //     header: '.header__title', hFixCls: 'header__title_state_fixed', // ,    selector: qwery, //  event: function(elem, event, func, off) { //   if (off) { bean.off(elem, event, func); } else { bean.on(elem, event, func); } }, dom: bonzo //     DOM });</span></span></code> </pre><br>  For the event manager, I had to make a wrapper, since its interface is different in different libraries.  In principle, you can wrap native functions such as addEventListener and abandon the specialized event manager. <br><br><h4>  Testing </h4><br>  The actual versions of Chrome, Firefox, Opera, Safari and Internet Explorer (IE) browsers on Windows, Mac and iOs took part in the testing (only existing versions of browsers were tested, of course).  In addition, IE9 and IE8 have been tested.  All tests on all browsers pass normally. <br><br>  The peculiarity of the solution proposed in this article is that even if there are any errors in JavaScript, the scroll will still work, because it is systemic, therefore the risk category only includes browsers of outdated versions of Android and Opera Mini, in which the system scrolls on elements not implemented, or implemented poorly. <br><br><h4>  Total </h4><br>  The proposed solution allows you to save the system scrolling mechanism, replace its design, completely eliminate the hard dependencies on other libraries, and keep within 998 bytes of compressed code (minified and compressed gzip).  In addition to this, there is a mechanism for fixing any elements of scrollable content (for example, headers). <br><br>  The disadvantages include the lack of a horizontal scrollbar and control controls vertical. <br><br>  The solution code can be downloaded from <a href="https://github.com/Diokuz/baron">Github</a> . <br>  <a href="http://diokuz.github.com/baron/">Demo</a> . <br><br>  The implementation of this solution is scheduled for early March. </div><p>Source: <a href="https://habr.com/ru/post/169359/">https://habr.com/ru/post/169359/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../169347/index.html">Theory of Relativity in Pictures</a></li>
<li><a href="../169349/index.html">Opening a company in a foreign jurisdiction for an IT person, freelancer, mobile application developer</a></li>
<li><a href="../169351/index.html">Learn the language by watching serials: vlc + lua + stardict + wordnet + anki = l'amour</a></li>
<li><a href="../169353/index.html">Debugger features in Xcode 4.5</a></li>
<li><a href="../169355/index.html">Doodle from Google for Valentine's Day</a></li>
<li><a href="../169367/index.html">Pirate Bay threatens to sue right-traders who copied The Pirate Bay website design</a></li>
<li><a href="../169369/index.html">ASUS Vivo Tab RT TF600TG tablet review</a></li>
<li><a href="../169371/index.html">Photoshop 1.0 source code published</a></li>
<li><a href="../169373/index.html">Fundamentals of the theory of computing systems: a machine with a finite number of states</a></li>
<li><a href="../169375/index.html">Little geniuses: we test applications with children</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>