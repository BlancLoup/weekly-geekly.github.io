<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Building an animated linear graph of a moving average in R. Retrieving data through the NBA API</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Continue to analyze basketball data with R. 


 In contrast to the previous article , which was purely entertaining in nature, the graphics that will ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Building an animated linear graph of a moving average in R. Retrieving data through the NBA API</h1><div class="post__text post__text-html js-mediator-article"><p>  Continue to analyze basketball data with R. </p><br><p>  In contrast to the previous <a href="https://habr.com/ru/post/458904/">article</a> , which was purely entertaining in nature, the graphics that will be built in this article may be interesting from the point of view of the team‚Äôs analysis of the game for the season. </p><br><p>  And we will build graphs of the moving average for the three types of NBA team ratings: attacker, defensive and net-rating (i.e. the difference between the first two).  In a nutshell about them.  The attacker and defensive ratings are the number of points scored / missed by the team for 100 possessions.  NET rating - this is also their difference per one hundred possessions.  Anyone interested in learning more about them can read the glossary on the <a href="https://www.basketball-reference.com/about/glossary.html">basketball-reference</a> site.  There is a calculation formula, which I also implemented with the help of R, but so far I have not published an article about it. </p><a name="habracut"></a><br><p>  Also I will explain why I will build the graph of the moving average.  In each individual match, the proportion of randomness is too large, the indicators jump from 70 to 150, which makes data analysis useless, and the graph itself is more like a cardiogram.  If we take the cumulative average, the other extreme is obtained: the schedule looks like damped oscillations, and games at the end of the season, when they are added to 70-75 matches already played, have little effect on the overall figure.  Roughly speaking, their "not visible."  The moving average in this case is the way out of the stalemate.  On the one hand, the influence of chance decreases, on the other hand, there is no excessive accumulation of results.  Basketball statistics usually make a 10-match moving average. </p><br><h2 id="ispolzuemye-biblioteki">  Used libraries </h2><br><pre><code class="plaintext hljs">library(httr) library(jsonlite) library(tidyverse) library(lubridate) library(zoo) library(ggthemes) library(gganimate)</code> </pre> <br><h2 id="poluchenie-dannyh-s-pomoschyu-nba-api">  Getting data using the NBA API </h2><br><p>  Last time I received data using the <strong>NBA Data Retriever</strong> extension.  This time I will use the NBA API to directly load the necessary data into R. </p><br><p>  First, find out where this data comes from.  To do this, open the page we need on <a href="https://stats.nba.com/teams/boxscores-advanced/">stats.nba.com</a> and go to the developer tools.  Then open Network -&gt; XHR and press F5.  In the list that appears, we find a file with a name similar to the name of the page.  We need him.  After we make sure that we have chosen the correct file, we copy its address in R. In the pictures it looks like this. </p><br><p>  <em>open the desired file</em> </p><br><p><img src="https://habrastorage.org/getpro/habr/post_images/3ce/6cf/41f/3ce6cf41f2cb07bcd73b757b311c9c80.png"></p><br><p>  <em>the file should look like this</em> </p><br><p><img src="https://habrastorage.org/getpro/habr/post_images/7c8/9c4/aca/7c89c4aca8872754cdb2212bdeba85df.png"></p><br><p>  <em>we copy in the R address</em> </p><br><p><img src="https://habrastorage.org/getpro/habr/post_images/a43/06c/c65/a4306cc65e873df80d9501bb329cc3ca.png"></p><br><p>  Now go to work in <strong>R Studio</strong> .  To get the information we need, use the <code>GET</code> function of the <code>http</code> package.  However, in order for the request to be executed correctly (this can be checked by the <code>status_code</code> function, it must be 200), you need to add headers to define the operating parameters of the <a href="https://en.wikipedia.org/wiki/List_of_HTTP_header_fields">HTTP transaction.</a> </p><br><pre> <code class="plaintext hljs">##Adding headers request_headers &lt;- c( "accept-encoding" = "gzip, deflate, sdch", "accept-language" = "en-US,en;q=0.8", "cache-control" = "no-cache", "connection" = "keep-alive", "host" = "stats.nba.com", "pragma" = "no-cache", "upgrade-insecure-requests" = "1", "user-agent" = "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_11_2) AppleWebKit/601.3.9 (KHTML, like Gecko) Version/9.0.2 Safari/601.3.9" ) #Getting a response request &lt;- GET(adv_box_team, add_headers(request_headers))</code> </pre> <br><p>  We get an answer like this: </p><br><p><img src="https://habrastorage.org/getpro/habr/post_images/d08/a37/841/d08a378417726a4e7ae4c535dec57836.png"></p><br><p>  But while the data we need is not visible.  To get them, we first extract the <code>content</code> the request into the json file with the <code>content</code> function, and then convert it to the list with a function from the <code>jsonlite</code> package with the saying name <code>fromJSON</code> </p><br><pre> <code class="plaintext hljs">boxscore_data &lt;- fromJSON(content(request, as = "text"))</code> </pre> <br><p>  As a result, we get a list that already contains all the information we need and then we just bring it into the form that is needed for work. </p><br><h2 id="podgotovka-dannyh">  Data preparation </h2><br><p>  To do this, we will do a data table instead of a list, and then add column headings. </p><br><pre> <code class="plaintext hljs">#Convert to tibble data and assigning column names table &lt;- tbl_df(data.frame(boxscore_data$resultSets$rowSet[[1]], stringsAsFactors = FALSE)) names(table) &lt;- toupper(boxscore_data$resultSets$headers[[1]])</code> </pre> <br><p>  <code>toupper</code> is a function that replaces all characters with uppercase.  After that, we should have a table with 2460 rows and 46 columns.  In principle, it is possible to work with the table in this form, but it is better to exclude unnecessary information for more convenient and quick work. </p><br><pre> <code class="plaintext hljs">##Select the columns you want to analyze rating &lt;- table %&gt;% select(TEAM_ID, TEAM_ABBREVIATION, TEAM_NAME, GAME_ID, GAME_DATE, MATCHUP, WL, E_OFF_RATING, E_DEF_RATING, E_NET_RATING)</code> </pre> <br><p>  If you look at the source table, you can see two types of the same rating: ‚Äúnormal‚Äù and with the prefix E. Without going into details, the E-rating takes into account the pace of the game, therefore it is more accurate.  And take it. </p><br><p>  Then I want to simplify the names of the ratings.  They will have to be entered into the function arguments and it is better to use more familiar to a wide range of users notation: ORTG, DRTG, NRTG.  Here you can "get confused" with writing a regular expression and replacing with <code>str_replace</code> , but writing them is still a pleasure and here we can perfectly do without them.  We just need to extract the 3, 7, 9, and 12 characters of the current titles, merge them and replace the column names with the resulting character vector.  We do all this using the functions of the <code>stringr</code> package: <code>str_sub</code> and <code>str_c</code> (an analogue of the base <code>paste0</code> ). </p><br><pre> <code class="plaintext hljs">## Renaming columns with E_OFF_RATING on ORTG rating1 &lt;- rating %&gt;% rename_at(vars(starts_with("E_")), list(~str_c(str_sub(., start = 3, end = 3), str_sub(., start = 7, end = 7), str_sub(., start = 9, end = 9), str_sub(., start = 12, end = 12))))</code> </pre> <br><p>  <strong>at</strong> in <code>dplyr</code> package <code>dplyr</code> has the same property as the <code>dt[, lapply(.SD, func), .SDols = col1]</code> in the <code>data.table</code> package: the action is applied to several columns simultaneously.  Here we select all columns whose names begin with "E_". </p><br><p>  As a result, we have the following table, with which we will work in the future: </p><br><div class="scrollable-table"><table><thead><tr><th>  TEAM_ID </th><th>  TEAM_ABBREVIATION </th><th>  TEAM_NAME </th><th>  GAME_ID </th><th>  GAME_DATE </th><th>  MATCHUP </th><th>  WL </th><th>  ORTG </th><th>  DRTG </th><th>  NRTG </th></tr></thead><tbody><tr><td>  1610612749 </td><td>  MIL </td><td>  Milwaukee bucks </td><td>  0021801226 </td><td>  2019-04-10T00: 00: 00 </td><td>  MIL vs.  OKC </td><td>  L </td><td>  102.4 </td><td>  116.8 </td><td>  -14.4 </td></tr><tr><td>  1610612766 </td><td>  CHA </td><td>  Charlotte hornets </td><td>  0021801222 </td><td>  2019-04-10T00: 00: 00 </td><td>  CHA vs.  Orl </td><td>  L </td><td>  121.4 </td><td>  130.1 </td><td>  -8.6 </td></tr><tr><td>  1610612758 </td><td>  SAC </td><td>  Sacramento Kings </td><td>  0021801230 </td><td>  2019-04-10T00: 00: 00 </td><td>  SAC @ POR </td><td>  L </td><td>  129.7 </td><td>  136.4 </td><td>  -6.8 </td></tr><tr><td>  1610612748 </td><td>  MIA </td><td>  Miami heat </td><td>  0021801221 </td><td>  2019-04-10T00: 00: 00 </td><td>  MIA @ BKN </td><td>  L </td><td>  84.2 </td><td>  103.6 </td><td>  -19.4 </td></tr><tr><td>  1610612750 </td><td>  MIN </td><td>  Minnesota Timberwolves </td><td>  0021801228 </td><td>  2019-04-10T00: 00: 00 </td><td>  MIN @ DEN </td><td>  L </td><td>  98.3 </td><td>  103.7 </td><td>  -5.4 </td></tr></tbody></table></div><br><h2 id="funkciya-rolling_offnet_rating_nba-dlya-postroeniya-grafika-i-animacii-skolzyaschego-srednego">  The <strong><em>rolling_offnet_rating_nba</em></strong> function for plotting and animating a moving average. </h2><br><p>  Again, like last time, we will create a function to make minimal changes to the calculations. </p><br><p>  The <code>rolling_offnet_rating_nba</code> function has the following form: </p><br><pre> <code class="plaintext hljs">rolling_offnet_rating_nba &lt;- function(table, name, variable, col1 = col1, col2 = col2)</code> </pre> <br><p>  <strong>table</strong> is the name of the data table <br>  <strong>name</strong> is the abbreviation of the command for which graphics will be made ("BOS", "LAL", etc.). <br>  <strong>variable</strong> - rating that will be calculated (here are two options, ORTG or NRTG, I made a separate function for the protective rating) <br>  <strong>col1</strong> and <strong>col2</strong> - line color when the value is above / below the average. </p><br><p>  Most <code>dplyr</code> functions use <em>non-standard evaluation (NSE</em> ).  This is a general term meaning that their evaluation differs from the usual evaluation in R. This makes it easier to write code and work with SQL databases, but the downside is that we cannot replace the value with an equivalent object defined elsewhere. </p><br><p>  <em>Dplyr</em> uses <strong>Tidy evaluation</strong> .  Therefore, it is necessary to use special tools (citation functions, operator !!) to solve the problems that arise while programming.  You can read more about this <a href="https://cran.r-project.org/web/packages/dplyr/vignettes/programming.html">here</a> and see <a href="https://www.rstudio.com/resources/webinars/tidy-eval/">here</a> . </p><br><p>  The following code takes the name of the function argument and writes the expression that was presented to it.  (To understand the operation of the functions <code>enquo</code> and others like it, it is useful to print the output of this function) </p><br><pre> <code class="plaintext hljs">##Return the entered value in the function argument in the type quosure quo_rating &lt;- enquo(variable) quo_col1 &lt;- enquo(col1) quo_col2 &lt;- enquo(col2)</code> </pre> <br><p>  Next we change the data format of some columns: <strong>GAME_DATE</strong> from the character column is made in the Date format, and the rating columns are made numeric.  Because  we apply the <code>as.numeric</code> function to three columns, then instead of <code>mutate</code> use <code>mutate_at</code> .  And we sort everything in ascending order of date. </p><br><pre> <code class="plaintext hljs">##Changing the data type of multiple columns test1 &lt;- table %&gt;% mutate(GAME_DATE = as.Date(ymd_hms(GAME_DATE))) %&gt;% mutate_at(vars(ORTG:NRTG), list(~as.numeric)) %&gt;% arrange(GAME_DATE)</code> </pre> <br><p>  And then we calculate the 10-match moving average of the team we need.  For this we use the <code>rollmeanr</code> function from the <code>zoo</code> package.  r at the end of the name means that the result should be right aligned.  For the first nine games of the season, a moving 10-match average is simply impossible to calculate, so we leave these fields without values, filling them with NA using the fill argument.  <code>na.omit</code> removes from the table the rows in which these NAs occur. </p><br><pre> <code class="plaintext hljs">##The calculation of the moving average team &lt;- test1 %&gt;% filter(TEAM_ABBREVIATION == "DAL") %&gt;% mutate(RATING = rollmeanr(ORTG, k = 10, fill= NA)) %&gt;% na.omit(test1)</code> </pre> <br><p>  The team table looks like this: </p><br><div class="scrollable-table"><table><thead><tr><th>  TEAM_ID </th><th>  TEAM_ABBREVIATION </th><th>  TEAM_NAME </th><th>  GAME_ID </th><th>  GAME_DATE </th><th>  MATCHUP </th><th>  WL </th><th>  ORTG </th><th>  DRTG </th><th>  NRTG </th><th>  RATING </th></tr></thead><tbody><tr><td>  1610612742 </td><td>  Dal </td><td>  Dallas mavericks </td><td>  0021800150 </td><td>  2018-11-06 </td><td>  DAL vs.  Wass </td><td>  W </td><td>  116.8 </td><td>  99.2 </td><td>  17.6 </td><td>  105.51 </td></tr><tr><td>  1610612742 </td><td>  Dal </td><td>  Dallas mavericks </td><td>  0021800160 </td><td>  2018-11-07 </td><td>  DAL @ UTA </td><td>  L </td><td>  98.5 </td><td>  112.0 </td><td>  -13.6 </td><td>  104.92 </td></tr><tr><td>  1610612742 </td><td>  Dal </td><td>  Dallas mavericks </td><td>  0021800181 </td><td>  2018-11-10 </td><td>  DAL vs.  OKC </td><td>  W </td><td>  115.0 </td><td>  101.1 </td><td>  13.9 </td><td>  104.13 </td></tr><tr><td>  1610612742 </td><td>  Dal </td><td>  Dallas mavericks </td><td>  0021800193 </td><td>  2018-11-12 </td><td>  DAL @ CHI </td><td>  W </td><td>  98.3 </td><td>  91.0 </td><td>  7.3 </td><td>  103.03 </td></tr><tr><td>  1610612742 </td><td>  Dal </td><td>  Dallas mavericks </td><td>  0021800210 </td><td>  2018-11-14 </td><td>  DAL vs.  Uta </td><td>  W </td><td>  117.3 </td><td>  65.8 </td><td>  51.6 </td><td>  105.34 </td></tr></tbody></table></div><br><p>  In principle, we have already received the necessary information.  You can create a line graph using two lines of code.  But the black line on a white background is of little interest from both aesthetic and informative points of view.  A further part of the "function body" corrects this. </p><br><p>  To begin, we will add data on the average, 10th and 21st (tenth below) rating values, as well as the date of the team‚Äôs 10th match (that is, the first for which the moving average is calculated and which remained in the team table after deleting the rows from the NA) . </p><br><pre> <code class="plaintext hljs">##The average, 10 and 21 ratings in the entire League. average &lt;- league %&gt;% mutate(average = mean(!! quo_rating)) %&gt;% select(average) %&gt;% unique() %&gt;% .$average top10 &lt;- league %&gt;% arrange(desc(!! quo_rating)) %&gt;% select(!! quo_rating) %&gt;% slice(10) top10 &lt;- top10[[1]] bottom10 &lt;- league %&gt;% arrange(desc(!! quo_rating)) %&gt;% select(!! quo_rating) %&gt;% slice(21) bottom10 &lt;- bottom10[[1]] ##Getting the date of the first rollaverage data &lt;- team %&gt;% select(GAME_DATE) %&gt;% arrange(GAME_DATE) data &lt;- data[[1,1]]</code> </pre> <br><p>  Of the previously unused functions, the <code>slice</code> function appears here, which selects the lines by their ordinal number. </p><br><p>  Next we choose 2 colors and their name.  The data, as well as last time, we take from the table <code>table_color</code> .  The name will be used in the header of the graph, to explain which of the colors corresponds to values ‚Äã‚Äãbelow the average and which one is higher. </p><br><pre> <code class="plaintext hljs">##Getting color and color_name selected color color1 &lt;- table_color %&gt;% filter(TEAM_ABBREVIATION == name) %&gt;% select(!! quo_col1) color1 &lt;- color1[[1]] color2 &lt;- table_color %&gt;% filter(TEAM_ABBREVIATION == name) %&gt;% select(!! quo_col2) color2 &lt;- color2[[1]] name1 &lt;- paste0("name_", quo_name(quo_col1)) name2 &lt;- paste0("name_", quo_name(quo_col2)) name_color1 &lt;- table_color %&gt;% filter(TEAM_ABBREVIATION == name) %&gt;% select(name1) name_color1 &lt;- name_color1[[1]] name_color2 &lt;- table_color %&gt;% filter(TEAM_ABBREVIATION == name) %&gt;% select(name2) name_color2 &lt;- name_color2[[1]]</code> </pre> <br><p>  The arguments of the function default values ‚Äã‚Äãare col1 and col2, this is the first and second colors of commands.  In most cases (more precisely in 26), these values ‚Äã‚Äãdo not need to be changed, however, for the four teams the following color should be used in their color palette.  In Dallas and Minnesota, the first and second colors are too similar, while Milwaukee and Brooklyn are not visible on a white background.  Both that, and another makes it difficult to read the graph, so for them it is worth using the argument col2 = col3. </p><br><p>  Next we get the maximum value of the rating for the team.  We will need this value to position the text with the rating value on the chart.  I want to draw attention to the last line of the code.  It so happened that the functions perfectly built the graphs in 89 of 90 cases, but when building a protective rating, Milwaukee gave an error.  It turned out that the maximum rating value in Milwaukee is reached twice and <code>ggplot2</code> naturally begins to swear that aesthetic should be, in our case, either 1 or 73. Therefore, we need the only maximum rating value. </p><br><pre> <code class="plaintext hljs">##The maximum value of the rating max &lt;- team %&gt;% filter(RATING == max(RATING)) %&gt;% select(RATING) max &lt;- max[[1]]</code> </pre> <br><h2 id="postroenie-statichnogo-grafika-v-ggplot2">  Build static graphics in <code>ggplot2</code> </h2><br><pre> <code class="plaintext hljs">##Building and save a static chart Sys.setlocale("LC_ALL", "C") gg &lt;- ggplot(team, aes(GAME_DATE, RATING)) + geom_hline(yintercept = c(top10, bottom10), col = c("red", "blue")) + annotate(geom = "text", x = as.Date(data) + 2, y = top10 - 0.2, label = "TOP 10", col = "red") + annotate(geom = "text", x = as.Date(data) + 2, y = bottom10 + 0.2, label = "BOTTOM 10", col = "blue") + geom_line(size = 2, col = if_else(team$RATING &gt; average, color1, color2)) + theme_tufte() + labs(title = paste0(team$TEAM_NAME, " 10-Game Rolling ", quo_name(quo_rating)), subtitle = paste0(paste0(name_color1, " - above average ", quo_name(quo_rating)), "\n", paste0(name_color2, " - below average ", quo_name(quo_rating))), caption = "Source: BBall Index Data &amp; Tools\nTelegram: @NBAatlantic, twitter: @vshufinskiy") theme(plot.title = element_text(size = 12, hjust = 0.5), plot.caption = element_text(size = 10), plot.subtitle = element_text(size = 9)) ggsave(paste0(unique(team$TEAM_NAME), quo_name(quo_rating), ".jpeg"), gg, width = 8, units = "in")</code> </pre> <br><p>  From the new here is the use of the <code>if_else</code> function to change the color of the line depending on whether the average rating of the League is higher or lower, as well as the first line changing the locale.  This was done to ensure that the abbreviations of the names of the months on the X axis were written in English. <br><img src="https://habrastorage.org/webt/3b/yv/la/3byvlasu52uwfin6f8prdwipms0.jpeg"></p><br><h2 id="postroenie-animacii-10-matchevogo-skolzyaschego-srednego">  Building a 10-match moving average animation. </h2><br><p>  In the construction of the animation, I added a few lotions that are impossible in the static version.  First, the changing date (in the same way as in the last article changed the year), as well as the value of the rating at a particular point in time.  It also changes color depending on whether it is above or below the average. </p><br><pre> <code class="plaintext hljs">##Building animations anim &lt;- gg + theme(plot.title = element_text(hjust = 0.5, size = 25), plot.subtitle = element_text(size = 15), plot.caption = element_text(size = 15), axis.text = element_text(size = 15), axis.title = element_text(size = 18)) + geom_text(aes(x = as.Date(data), y = max + 0.5), label = paste0(quo_name(quo_rating)," ", round(team$RATING, digits = 1)), size = 6, col = if_else(team$RATING &gt; average, color1, color2)) + transition_reveal(GAME_DATE) + labs(title = paste0(team$TEAM_NAME, " 10-Game Rolling ", quo_name(quo_rating)), subtitle = paste0(paste0(name_color1, " - above average ",quo_name(quo_rating)), "\n", paste0(name_color2, " - below average ",quo_name(quo_rating)), "\n", "Date: {frame_along}"), caption = paste0("Source: stats.nba.com\nTelegram: @NBAatlantic, twitter: @vshufinskiy"))</code> </pre> <br><h2 id="rezultat">  Result </h2><br><p><img src="https://habrastorage.org/webt/do/b-/hy/dob-hyqopjihkywk9kaq4jsrihg.gif"></p><br><p>  The graph is pretty obvious that Dallas sagged in the second half of February-March.  The explanation for this is very simple: it was at this moment of the season that the Mavericks exchanged 4 out of 5 players of their starting five, and the main asset that arrived, Latvian Kristaps Porzingis, did not play a single minute due to the rupture of the cruciate ligaments. </p><br><p>  Here I will not delve into the sports component, so if anyone is interested to see the remaining 89 schedules of the season 2018-19, then you are welcome to my blog on <a href="https://www.sports.ru/tribuna/blogs/atlanticbrains/">sports.ru</a> , where I plan to write an article reviewing the most interesting of them or my <a href="https://t.me/nbaatlantic">Telegram nba channel</a> where i'm going to lay them all out. </p><br><p>  <a href="https://github.com/shufinskiy/NBA_rolling_rating">GitHub</a> Repository </p></div>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <p>Source: <a href="https://habr.com/ru/post/459142/">https://habr.com/ru/post/459142/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../459134/index.html">Experience using BDD</a></li>
<li><a href="../459136/index.html">Fake Blue Pill</a></li>
<li><a href="../459138/index.html">How Huawei secret key got into Cisco router firmware</a></li>
<li><a href="../45914/index.html">Using third-party brands in a startup</a></li>
<li><a href="../459140/index.html">Implant placement: how is it done?</a></li>
<li><a href="../459146/index.html">Product Design Digest June 2019</a></li>
<li><a href="../459150/index.html">The digest of fresh materials from the world of the frontend for the last week No. 372 (July 1 - 7, 2019)</a></li>
<li><a href="../459152/index.html">Fill documents in Microsoft Word using Python. Part 2</a></li>
<li><a href="../459154/index.html">Network for small businesses on Cisco equipment. Part 1</a></li>
<li><a href="../459156/index.html">VNIITE planet of the whole: how in the USSR the system of ‚Äúsmart home‚Äù was invented</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>