<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Reverse engineering "Kazakov 3", part of the network: create a local server</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Recently, in a conversation with colleagues, I discussed various games of the RTS genre, and I wondered why the release of the third Kazakov passed by...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Reverse engineering "Kazakov 3", part of the network: create a local server</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/webt/05/fu/ue/05fuuearyx1_pnxuohxci4hvmpa.png"><br><br>  Recently, in a conversation with colleagues, I discussed various games of the <abbr title="Real-time strategy">RTS</abbr> genre, and I wondered why the release of the third Kazakov passed by me.  A couple of minutes and one search query later, I <nobr>remembered - besides the</nobr> extremely <s>raw</s> early release, the reincarnation of this classic strategy was distinguished by the impossibility of a multiplayer game without a permanent connection to the official server.  Numerous requests from players to ‚Äúadd LAN‚Äù on forums of varying degrees of freshness hint that changes should not be expected. <br><br>  Well, if the mountain does not go to Mohammed ... <br><a name="habracut"></a><br>  <b>TL; DR:</b> Server, instructions for use and source code are available on <a href="https://github.com/ereb-thanatos/cossacks3-lan-server">GitHub</a> . 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h3>  The first steps </h3><br>  In order to understand the general structure of the protocol, the first four packets, overheard between the game client and the official server, are enough.  So, we have: <br><br><ul><li>  A network protocol built on top of normal <abbr title="Transmission Control Protocol / Internet Protocol">TCP / IP</abbr> </li><li>  without encryption or <a href="https://ru.wikipedia.org/wiki/%25D0%259E%25D0%25B1%25D1%2584%25D1%2583%25D1%2581%25D0%25BA%25D0%25B0%25D1%2586%25D0%25B8%25D1%258F_(%25D0%25BF%25D1%2580%25D0%25BE%25D0%25B3%25D1%2580%25D0%25B0%25D0%25BC%25D0%25BC%25D0%25BD%25D0%25BE%25D0%25B5_%25D0%25BE%25D0%25B1%25D0%25B5%25D1%2581%25D0%25BF%25D0%25B5%25D1%2587%25D0%25B5%25D0%25BD%25D0%25B8%25D0%25B5)">obfuscation</a> , </li><li>  in which the numbers are transmitted in <a href="https://ru.wikipedia.org/wiki/%25D0%259F%25D0%25BE%25D1%2580%25D1%258F%25D0%25B4%25D0%25BE%25D0%25BA_%25D0%25B1%25D0%25B0%25D0%25B9%25D1%2582%25D0%25BE%25D0%25B2">order from the youngest to the oldest</a> . </li></ul><br>  The packet header always takes exactly 14 bytes and contains the size of the payload (1), the command code (2) and two player identifiers for addressing packets (3.4).  Take a simple <nobr>example - a private</nobr> message in the game lobby chat: <br><br><img src="https://habrastorage.org/webt/bs/tc/bp/bstcbpwn0xyfkdojtbg_05jhj7s.png"><br><br>  It also shows that the lines are preceded by their length (5).  It is noteworthy that, depending on the specific command code, the data format varies and the size of the lines is indicated by one, then two, or even four bytes. <br><br>  Consider a public announcement of the creation of a new game room: <br><br><img src="https://habrastorage.org/webt/ao/yr/im/aoyrim7-xdgtqoebuwzfoyeh7nq.png"><br><br>  The title also begins with the size, command and sender (1,2,3), but the recipient identifier is missing (4).  In this message, this means ‚Äúsend to everyone‚Äù, but for other teams it can mean ‚Äúto everyone in their room.‚Äù  The first line (5) contains the name, password, and information about the type of game and client version of the creator (host) of the room.  To separate values, the tab character \ t is used, it is also 09h.  Then follows a line with information about the room (6), which is required for its display in the list.  It contains the status, the number of live players, computer opponents, closed slots and two more values.  Here, the vertical bar plays the role of a separator.  It is followed by two constants of 4 bytes each <nobr>(hereinafter referred to</nobr> as the <i>Int</i> type <nobr>number</nobr> ), then a string with <a href="http://ru.smart-ip.net/what-is-a-hostname">the host name of the</a> computer of the room creator (7). <br><br><div class="spoiler">  <b class="spoiler_title">Anticipating questions arising from reading, I note that ...</b> <div class="spoiler_text"><ul><li>  Yes, passwords to private rooms are transferred to all players on the server. <br>  <sub>(See also the article ‚Äú <a href="https://habrahabr.ru/post/318870/">There are no secrets for‚Äú Kazakov</a> ‚Äù)</sub> </li><li>  No, the host name of the room's creator is not required for the game, since  all packets are transmitted through the server. </li></ul></div></div><br>  Now for the more interesting moments. <br><br><h3>  Translation difficulties </h3><br>  Initially, I analyzed packets in <a href="https://www.wireshark.org/">Wireshark</a> with <i>tcp &amp;&amp; data</i> <a href="https://www.wireshark.org/docs/dfref/t/tcp.html">filters</a> so that no ‚Äúempty‚Äù <a href="https://ru.wikipedia.org/wiki/Transmission_Control_Protocol">ACK</a> packets would flash before my eyes.  At some point, it came out to me sideways: it turned out that Wireshark mistakenly receives packets, the TCP payload of which starts with bytes 05h 00h, for <a href="https://ru.wikipedia.org/wiki/DCE/RPC">DCERPC</a> protocol <a href="https://ru.wikipedia.org/wiki/DCE/RPC">packets</a> .  In particular, this affected the packets with the notification of the player entering the room, because  they always contain exactly five bytes after the header.  This causes Wireshark to tag TCP traffic not as <i>Data</i> , but as <i>[Malformed Packet: DCERPC]</i> and hides the packet: <br><br><img src="https://habrastorage.org/webt/ll/2t/do/ll2tdoahqcaub3tced4kgxa5fje.png"><br><br>  In this case, applying a newer <i>tcp.payload</i> filter would be <i>correct</i> .  It displays all TCP packets with a payload, regardless of how Wireshark interprets this load. <br><br><h3>  Evolution of serialization </h3><br>  When reversing the network protocol, it was obvious that different people working on it at different times had different priorities.  There are three types of strings that transmit variables: <br><br><ul><li> <b>compact rows</b> <br>  The length of the line is indicated by one byte, the lines contain the names of the variables, the fields are separated by vertical bars: <code>ps=1337|pw=42|pg=12</code> </li><li>  <b>intermediate rows</b> <br>  The length of the string is indicated by two bytes <nobr>(hereinafter</nobr> referred to as the <i>Short</i> type <nobr>number</nobr> ), the values ‚Äã‚Äãare separated by a tab, the names are absent: <code>"MyRoom"\t"secret"\t0AFFE</code> </li><li>  <b>generous lines</b> <br>  Special strings, which are actually an array of strings with alternating variable names and their values.  Such a kind of <a href="https://ru.wikipedia.org/wiki/%25D0%2590%25D1%2581%25D1%2581%25D0%25BE%25D1%2586%25D0%25B8%25D0%25B0%25D1%2582%25D0%25B8%25D0%25B2%25D0%25BD%25D1%258B%25D0%25B9_%25D0%25BC%25D0%25B0%25D1%2581%25D1%2581%25D0%25B8%25D0%25B2">associative array</a> in one-dimensional form.  The length of each (sic!) Of the lines in it is indicated by a number of type <i>Int</i> .  A detailed description of the format can be found in the <a href="">comments</a> to the source code of the server. <br><div class="spoiler">  <b class="spoiler_title">Example</b> <div class="spoiler_text"><img src="https://habrastorage.org/webt/b3/1r/tj/b31rtjml5swd4tqxri3tjreiy4w.png"><br>  <i>Numbers indicating the lengths of the lines are marked in red, <nobr>separators in yellow.</nobr></i> <br></div></div></li></ul><br>  The last example is taken from a package that regulates the transit of the role of the host to one of the players when the creator of the room leaves the game.  As far as I understand, this functionality was modified after the release of the game.  It is obvious that at that time the issue of data transfer efficiency was no longer as acute as at the time of writing the network protocol in the original engine. <br><br><h3>  Sloppy buffers </h3><br>  At the end of many packets, the payload ends with four or six zero bytes.  But in certain packages (in particular, with the command codes <i>0xc8</i> and <i>0x19d</i> ), data sometimes pops up among them unexpectedly.  I could not understand where they come from and why they are needed, until in one of these packages I discovered a fragment of one of the messages in the chat lobby. <br><br>  Apparently, the official server does not always reset the buffer to which it writes a reply packet before sending, and the remnants of past packets may be lost in the enclosing bytes.  Fortunately, in the game client itself, this does not lead to errors.  But something about the pace of development and the level of quality control it still says. <br><br><h3>  Less you know - stronger server </h3><br>  ... or " <a href="https://ru.wikipedia.org/wiki/%25D0%25A7%25D0%25B5%25D0%25BC_%25D1%2585%25D1%2583%25D0%25B6%25D0%25B5,_%25D1%2582%25D0%25B5%25D0%25BC_%25D0%25BB%25D1%2583%25D1%2587%25D1%2588%25D0%25B5">the worse the better</a> ."  After gaining a critical mass of knowledge about the protocol used, the volume of the source code ceased to grow and began to melt.  The interfaces were simplified, and the data that the server had to save (for example, to transfer the state of the lobby to newly arrived players) was no longer analyzed and began to be stored as strings.  It is not necessary to know the origin and destination of each byte in the packet;  enough to understand how and to whom to redirect. <br><br>  The server responds to most requests with data received from other clients earlier, or it provokes the necessary client with a special package and redirects the response to the requester.  Where possible, I omitted the optional strings, replacing them with a null byte.  First of all, this concerns data on the rating of players, the number of points and victories. <br><br>  In some cases, too wide packet retransmission even caused errors on the client side.  In particular, I noticed this on the <nobr>‚Äúrequest-answer‚Äù</nobr> pair with the command codes <i>0x1b3</i> and <i>0x1b4</i> , duplicating information about the player‚Äôs points and the client‚Äôs system. <br><br><h3>  Stand in line </h3><br>  A separate difficulty for me was presented by the aspect of launching and synchronizing the game.  Having dealt with packet relays at boot, I noticed that during the game all clients send packets with the command code <i>0x4b0</i> .  In this case, in one identifier field is the number of the room creator, and the second field is empty.  But if you approach logically and understand it as <nobr>‚Äúthe client is everything</nobr> in the specified room,‚Äù then a game becomes out of sync. <br><br>  Instead, the server itself should monitor the source of the packet and check whether it is a host or a regular player.  In the first case, the package is sent to all players in the room except the host itself, in the <nobr>latter</nobr> case <nobr>- exclusively to the</nobr> host.  In this case, the package with the gaming team, apparently, is entered into the queue of what is happening and then sent back from the host, but in the context of all other game events.  This ensures the same order of execution of teams for all players.  The host sends out game packages constantly and in a certain tact, regardless of the number of events, and all the <nobr>rest - only</nobr> when the actions of the player. <br><br>  By the way, this is why when changing the host during the game a warning is shown that your orders may be <nobr>lost - if the</nobr> old host did not manage to enter them into the public queue before disconnecting, then the new host has no opportunity to learn about these commands. <br><br><h3>  Rudimentary LAN </h3><br>  Contrary to public opinion, the client still has the functions necessary for a full-fledged game on the local network.  When analyzing network traffic, I noticed that among the many TCP packets, the creator of the room also sends notifications about the number of players and the status of the room via <abbr title="User Datagram Protocol">UDP</abbr> . <br><br>  In addition, when disassembling the client, I came across a function that is called when an exception occurs and displays the error text.  Walking through its challenges and analyzing the text transmitted to it, you can determine the real names of those procedures in which exceptions occur.  A little surprised at the result, I played with <i><a href="https://ru.wikipedia.org/wiki/Strings">strings</a></i> , <br><div class="spoiler">  <b class="spoiler_title">and that's what I saw:</b> <div class="spoiler_text"> <code>function LanPublicServerGetRegIDFrom <br> function LanPublicServerGetRegIDTo <br> function LanPublicServerGetRegMessage <br> function LanPublicServerGetClientTeamByIndex <br> function LanPublicServerGetClientTeamByClientID <br> function LanPublicServerGetClientSpecByIndex <br> function LanPublicServerGetClientSpecByClientID <br> function LanPublicServerGetClientInfoToParserByIndex <br> function LanPublicServerGetClientInfoToParserByClientID <br> function LanPublicServerGetSessionInfoToParserByIndex <br> function LanPublicServerGetSessionInfoToParserByClientID <br> function LanPublicServerGetClientsCount <br> function LanPublicServerGetSessionsCount <br> function LanPublicServerGetClientIndexByClientID <br> function LanPublicServerGetClientIndexByClientNick <br> function LanPublicServerGetSessionIndexByClientID <br> function LanPublicServerProfScore <br> function LanPublicServerProfCountry <br> function LanPublicServerProfGamesPlayed <br> function LanPublicServerProfGamesWin <br> function LanPublicServerProfLastGameTime <br> function LanPublicServerProfInfo <br> function LanMyInfoHost <br> function LanMyInfoIP <br> function LanMyInfoID <br> function LanMyInfoSpec <br> function LanMyInfoName <br> function LanMyInfoPlayer <br> function LanGetServerInfoToParser <br> function LanIpToString <br> function LanIpToInt <br> function LanGetClientsCount <br> function LanGetClientIDByIndex <br> function LanGetClientHostByIndex <br> function LanGetClientNameByIndex <br> function LanGetClientSpecByIndex <br> function LanGetClientIndexByID <br> function LanGetClientPlayerNameByIndex <br> function LanSelectParser <br> function LanGetParserID <br> function LanGetSendDataThreadCount <br> function LanGetSendDataThreadEnabled <br> function LanGetNoDelayOption <br> function LanGetOptimizedPackage <br> function LanGetOptimizedPackageDef</code> </div> </div><br>  There are two options: either the developers have this humor, or they have used the abbreviation <abbr title="Local area network">LAN</abbr> for everything related to a multiplayer game. <br><br><h3>  C ++, Asio and unscathed legs </h3><br>  Since I initially set myself the goal of writing a cross-platform server and expanding my knowledge of network programming, for implementation I chose the C ++ language and <a href="https://think-async.com/">Asio</a> library.  The latter also allowed me to abandon multithreading and related data access <a href="https://ru.wikipedia.org/wiki/%25D0%259C%25D1%258C%25D1%258E%25D1%2582%25D0%25B5%25D0%25BA%25D1%2581">features</a> in favor of asynchronous and simpler code.  I took the source code of one of the examples in <a href="https://github.com/chriskohlhoff/asio/tree/master/asio/src/examples">the</a> library <a href="https://github.com/chriskohlhoff/asio/tree/master/asio/src/examples">repository</a> as a basis. <br><br>  The most interesting aspect of my development was the problem of the availability of the data buffer during asynchronous sending of packets.  At the same time, I tried to minimize the number of allocations and copy data in memory.  In addition, the server should have a fairly large buffer for receiving packets, since  TCP payload size when transferring card data before starting a game can exceed 800 kilobytes. <br><br>  As a result, I implemented the process of reading, creating and sending packets as follows: <br><br><ol><li>  When a new client is connected, the server creates an object of the <i><a href="">Session</a></i> class containing a rather large (1 MiB) buffer of type <i>std :: vector &lt;unsigned char&gt;</i> ( <nobr>hereinafter</nobr> <i>referred to as Buffer</i> ). </li><li>  After an asynchronous read operation is completed, its address is transferred to this buffer by the main packet processing function.  The next read operation will be initiated only after the completion of this function, ensuring the safety of the data in the buffer during processing. </li><li>  At the beginning of processing, an object of the <i><a href="">Packet</a></i> class is created that provides an interface for reading and serializing data.  Through it, the server's response is written in the same buffer of the <i>Session</i> object, which is assigned to the sender of the packet. </li><li>  After all operations on the package have been completed, the send function allocates a buffer using <i>std :: make_shared &lt;Buffer&gt;</i> .  In this case, the <i>Buffer</i> constructor is passed an iterator of the same buffer to the <i>Session</i> , taking into account the exact size of the response packet (this is monitored by the <i>Packet</i> during recording).  Those.  in one operation, we first allocate enough memory for the packet and the control pointer block (and <a href="http://en.cppreference.com/w/cpp/memory/shared_ptr/make_shared">at a time</a> ), then copy into it exactly the number of bytes from the large buffer that should be sent. </li><li>  The new buffer is transmitted using the received pointer of type <i>std :: shared_ptr &lt;Buffer&gt;</i> ( <nobr>hereinafter</nobr> <i>referred to as BufPtr</i> ) to <i>Session</i> objects of all those clients to whom the packet should be sent.  There it is placed in local queues of type <i>std :: deque &lt;BufPtr&gt;</i> .  Each copy of the pointer, which is in the queue for any of the clients, increases the reference count.  After that, the packet processing ends, and the initial <i>Session</i> buffer is ready to accept the next packet. </li><li>  After the asynchronous write (send) operation of the packet is completed, the pointer is erased from the destination client‚Äôs local <i>Session</i> queue, lowering the reference count.  As soon as the packet is sent to all customers who have it in the queue, the counter will be reset and the smart pointer will free memory itself. </li></ol><br>  No matter how you judge, the addition of C ++ lambda expressions, various containers and smart pointers to a standard has significantly reduced the complexity of designing such systems;  when writing the server, not a single shot was shot. <br><br><h3>  Exposure Test </h3><br>  After finishing the work on the server and testing the main functions, I decided to <a href="https://ru.wikipedia.org/wiki/%25D0%259D%25D0%25B0%25D0%25B3%25D1%2580%25D1%2583%25D0%25B7%25D0%25BE%25D1%2587%25D0%25BD%25D0%25BE%25D0%25B5_%25D1%2582%25D0%25B5%25D1%2581%25D1%2582%25D0%25B8%25D1%2580%25D0%25BE%25D0%25B2%25D0%25B0%25D0%25BD%25D0%25B8%25D0%25B5">check the</a> server <a href="https://ru.wikipedia.org/wiki/%25D0%259D%25D0%25B0%25D0%25B3%25D1%2580%25D1%2583%25D0%25B7%25D0%25BE%25D1%2587%25D0%25BD%25D0%25BE%25D0%25B5_%25D1%2582%25D0%25B5%25D1%2581%25D1%2582%25D0%25B8%25D1%2580%25D0%25BE%25D0%25B2%25D0%25B0%25D0%25BD%25D0%25B8%25D0%25B5">stability</a> and synchronization after the host transit after a long time.  For this, I created a room in the local network with three players and five complex <abbr title="Artificial Intelligence">AI</abbr> .  For the test, I chose the maximum parameters regarding the size of the map, the number of deposits, the population and the time of non-aggression.  I started the game and after a couple of minutes I stopped the process of playing on the host‚Äôs computer in the task manager in order to simulate an unexpected shutdown.  Then the two remaining clients were left to themselves all night. <br><br>  Experienced players probably already guessed what happened next.  In short, the server passed the test, but the <nobr>client did not.</nobr>  The next day, the screen greeted me with a game timer frozen at about eight o'clock, as well as several error messages, among which was <a href="https://www.google.de/search%3Fq%3D%255B%25D0%25BA%25D0%25B0%25D0%25B7%25D0%25B0%25D0%25BA%25D0%25B8%257Ccossacks%255D%2B3%2Bout%2Bof%2Bmemory">the familiar</a> Out of memory.  Everything is logical, the two remaining AIs divided the map in half and fought with thousands of armies.  The process of the game took about 3.5 GB of RAM and rested against its 32-bit <a href="https://ru.wikipedia.org/wiki/32_%25D0%25B1%25D0%25B8%25D1%2582%25D0%25B0">boundaries</a> .  The server, in turn, continued to work on its 11 MB of RAM. <br><br><h3>  Conclusion </h3><br>  I hope it was interesting for you to follow the process of copying the ‚Äú <a href="https://ru.wikipedia.org/wiki/%25D0%25A7%25D1%2591%25D1%2580%25D0%25BD%25D1%258B%25D0%25B9_%25D1%258F%25D1%2589%25D0%25B8%25D0%25BA">black box</a> ‚Äù of the official server.  I also hope that the game developers will take pity on the players and finally add the possibility of multiplayer games on the local network, <s>with blackjack and</s> fast UDP and without having to have a low ping to <abbr title="Hetzner Online GmbH - hosting service provider. Provides a server for &quot;Kazakov 3&quot; at the time of this writing.">Hetzner</abbr> .  The last argument, by the way, played with new colors in view of <a href="https://habrahabr.ru/post/353822/">recent events</a> . <br><br>  If you have any questions or suggestions regarding the reverse or <nobr>server</nobr> <a href="https://github.com/ereb-thanatos/cossacks3-lan-server/">source code</a> <nobr>, welcome</nobr> to comments.  See you again! </div><p>Source: <a href="https://habr.com/ru/post/353678/">https://habr.com/ru/post/353678/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../353666/index.html">How we broke Glusterfs</a></li>
<li><a href="../353668/index.html">Interfaces: how to tell the user if ‚ÄúOops, something went wrong‚Äù</a></li>
<li><a href="../353672/index.html">Distribution of static content - an account for milliseconds</a></li>
<li><a href="../353674/index.html">Divorce as it is (or "confirmation confirmation discord!")</a></li>
<li><a href="../353676/index.html">Attention! S in Ethereum stands for Security. Part 4. Tools</a></li>
<li><a href="../353680/index.html">Distributed control system based on SoC FPGA</a></li>
<li><a href="../353682/index.html">DevConf: Uber transition from PostgreSQL to MySQL</a></li>
<li><a href="../353684/index.html">One small ventilation</a></li>
<li><a href="../353686/index.html">"Closer to 5G": VMware helps telecom operators deploy new generation networks</a></li>
<li><a href="../353692/index.html">What business and users face the struggle of RKN and Telegram? Expert opinions</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>