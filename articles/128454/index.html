<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Calculate the number of pi by the Monte Carlo method</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="There are many ways to calculate the number of pi. The simplest and most understandable is the Monte Carlo numerical method, the essence of which is r...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Calculate the number of pi by the Monte Carlo method</h1><div class="post__text post__text-html js-mediator-article">  There are many ways to calculate the number of pi.  The simplest and most understandable is the Monte Carlo numerical method, the essence of which is reduced to the simplest enumeration of points in the square.  The essence of the calculation lies in the fact that we take a square with a side a = 2 R, enter a circle with radius R in it. And we start randomly to put points inside the square.  Geometrically, the probability P <sub>1</sub> that the point falls into a circle is equal to the ratio of the areas of the circle and the square: <br>  P <sub>1</sub> = S <sub>circle</sub> / S <sub>square</sub> = œÄR <sup>2</sup> / a <sup>2</sup> = œÄR <sup>2</sup> / (2 R) <sup>2</sup> = œÄ <s>R <sup>2</sup></s> / (2 <s>R</s> ) <sup>2</sup> = œÄ / 4 (1) <br>  It looks like this: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/011/ef8/989/011ef8989001df204b33142805371d9b.gif" alt="image"><br><a name="habracut"></a><br>  The probability of hitting a point in a circle can also be calculated after a numerical experiment: it is even simpler: calculate the number of points in a circle and divide them by the total number of points set: <br>  P <sub>2</sub> = N <sub>caught in the circle</sub> / N <sub>points</sub> ;  (2) <br>  So, with a large number of points in a numerical experiment, the probabilities should behave as follows: <br>  lim <sub>(N <sub>points</sub> ‚Üí ‚àû)</sub> (P2-P1) = 0;  (3) <br>  Consequently: <br>  œÄ / 4 = N <sub>caught in the circle</sub> / N <sub>points</sub> ;  (four) <br>  œÄ = 4 N get to the circle / N <sub>points</sub> ;  (five) <br>  BUT!  In the simulation, we use pseudo-random numbers that are not a random process. <br>  Therefore, expression (5), unfortunately, is not strictly fulfilled.  Questions are logical, what are the optimal sizes of the square and how much do you need to apply the points? <br>  To find out, I wrote this program: <br><pre><code class="cpp hljs"><span class="hljs-meta"><span class="hljs-meta">#</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">include</span></span></span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">&lt;stdio.h&gt; #include&lt;math.h&gt; #define limit_Nmax 1e7 //   #define limit_a 1e6 //   #define min_a 100 //  double circle(double, double); //  y        . int main() { double x,y,Pi; long long int a=min_a//  i=0;// double Ncirc=0;// ,    double Nmax=a; //   while (a&lt;limit_a) //   { Nmax=a; while (Nmax&lt;=limit_Nmax) //     { Ncirc=0; i=0; // while (i&lt;Nmax) { x = (random() % (a * 1000))/1000; //   3    y = (random() % (a * 1000))/1000; // Y  3    if (y*y&lt;=circle(x,(a/2))) //     { Ncirc++; } i++; } Pi=(Ncirc/Nmax)*4; Nmax *= 2; printf("\n%lld,%.0f,%f",a,Nmax,Pi); } a*=2; } } double circle(double x, double radius) { double y=radius*radius-x*x; return y; }</span></span></span></span></code> </pre> <br>  The program displays the values ‚Äã‚Äãof pi depending on the radius and the number of points.  The only thing that remains for the reader is to compile it yourself and run it with the parameters that he wants. <br><br>  I will give only one table with the obtained values: <br><table border="1" width="195"><tbody><tr><td width="65">  Radius <br></td><td width="65">  Ntochek <br></td><td width="65">  Pi <br></td></tr><tr><td width="65">  102400 <br></td><td width="65">  204800 <br></td><td width="65">  3.145664 <br></td></tr><tr><td width="65">  102400 <br></td><td width="65">  409600 <br></td><td width="65">  3,137188 <br></td></tr><tr><td width="65">  102400 <br></td><td width="65">  819200 <br></td><td width="65">  3,139326 <br></td></tr><tr><td width="65">  102400 <br></td><td width="65">  1638400 <br></td><td width="65">  3.144478 <br></td></tr><tr><td width="65">  102400 <br></td><td width="65">  3276800 <br></td><td width="65">  3,139875 <br></td></tr><tr><td width="65">  102400 <br></td><td width="65">  6553600 <br></td><td width="65">  3.142611 <br></td></tr><tr><td width="65">  102400 <br></td><td width="65">  13107200 <br></td><td width="65">  3,140872 <br></td></tr><tr><td width="65">  102400 <br></td><td width="65">  26214400 <br></td><td width="65">  3.141644 <br></td></tr><tr><td width="65">  102400 <br></td><td width="65">  52428800 <br></td><td width="65">  3.141217 <br></td></tr><tr><td width="65">  102400 <br></td><td width="65">  1,05E + 08 <br></td><td width="65">  3,141324 <br></td></tr><tr><td width="65">  102400 <br></td><td width="65">  2.1E + 08 <br></td><td width="65">  3.141615 <br></td></tr><tr><td width="65">  102400 <br></td><td width="65">  4.19E + 08 <br></td><td width="65">  3.141665 <br></td></tr><tr><td width="65">  102400 <br></td><td width="65">  8,39E + 08 <br></td><td width="65">  3.141724 <br></td></tr><tr><td width="65">  102400 <br></td><td width="65">  1.68E + 09 <br></td><td width="65">  3.141682 <br></td></tr></tbody></table>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      If that, the value of Pi can be viewed with an accuracy of a certain sign <a href="http://www.wolframalpha.com/input/%3Fi%3DN%255BPi%252C100%255D">here</a> . <br>  Source image - <a href="http://en.wikipedia.org/wiki/Monte_Carlo_method">Wikipedia.</a> </div><p>Source: <a href="https://habr.com/ru/post/128454/">https://habr.com/ru/post/128454/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../128448/index.html">Kevin Turner, Microsoft COO, will speak at Tech ‚àô Ed Russia 2011</a></li>
<li><a href="../128449/index.html">Fix ACPI on Samsung N250</a></li>
<li><a href="../128450/index.html">The history of the online store, which has become a world monopolist for $ 5,000</a></li>
<li><a href="../128451/index.html">Network configuration in OpenWRT</a></li>
<li><a href="../128453/index.html">Google launched flight search</a></li>
<li><a href="../128455/index.html">Windows 8 BSOD</a></li>
<li><a href="../128457/index.html">You need to know your tool in person: an overview of the most frequently used data structures</a></li>
<li><a href="../128458/index.html">Centos release 5.7 released</a></li>
<li><a href="../128460/index.html">Cards, Money and QIWI Eggs</a></li>
<li><a href="../128463/index.html">Advanced Wire Storage</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>