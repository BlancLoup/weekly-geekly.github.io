<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Facebook apologized for 2.5 hours of downtime</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Facebook software development director Robert Johnson offered a formal apology for the fact that they had to disconnect Facebook from the Internet for...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Facebook apologized for 2.5 hours of downtime</h1><div class="post__text post__text-html js-mediator-article">  Facebook software development director Robert Johnson <a href="http://www.facebook.com/note.php%3Fnote_id%3D431441338919%26id%3D9445547199%26ref%3Dmf">offered a formal apology</a> for the fact that they had to disconnect Facebook from the Internet for 2.5 hours.  But there was no other way out. <br><br>  Not only was the web interface unavailable, but the API did not work and the <i>Like</i> buttons on 350,000 sites across the Internet turned off.  The fall of Facebook is a big deal.  According to Johnson, this is Facebook's largest downtime in the four and a half years of its existence. <br><br>  The reason for the failure was the incorrect operation of the automatic system for checking configuration settings, during which it began to cause much more harm than good. <br><a name="habracut"></a><br>  The operation of this system consists in searching for erroneous settings in the cache and replacing them with new settings from the database (persistent store).  The problem is that as soon as changes were made to the database, which the automatic system perceived as incorrect, mass ‚Äúerror correction‚Äù began everywhere, with the result that the database cluster was overloaded with hundreds of thousands of queries per second. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Even after replacing the value in the persistent store, the flow of requests did not stop, because the automatic system had already managed to remove the ‚Äúwrong‚Äù values ‚Äã‚Äãin the cache.  Since the servers could not cope with the processing of all requests, all new ‚Äúincorrect‚Äù values ‚Äã‚Äãappeared in the cache, which generated the next requests.  The process is looping: <i>‚ÄúWe had entered a feedback loop</i> ,‚Äù says Robert Johnson. <br><br>  To break the circle of requests, we had to resort to a painful procedure: block all traffic to the database cluster, that is, completely disconnect Facebook from the Internet.  Users instead of the site saw the ‚ÄúDNS error‚Äù. <br><br>  When the databases were restored and the initial cause of the failure was eliminated, then they began to gradually connect users. <br><br>  Now the automatic system for checking settings is completely disabled.  Programmers are pondering over its new design to avoid possible loops. </div><p>Source: <a href="https://habr.com/ru/post/104894/">https://habr.com/ru/post/104894/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../104885/index.html">Crash test of Apple iPhone 4 mobile phone (16Gb)</a></li>
<li><a href="../104887/index.html">The main sofa needs advice</a></li>
<li><a href="../104888/index.html">poSEEDelki: what did we learn about Silicon Valley?</a></li>
<li><a href="../104889/index.html">iPad is the ‚Äúhappiest‚Äù device in history</a></li>
<li><a href="../104891/index.html">Microsoft renews Bing usage payments</a></li>
<li><a href="../104895/index.html">Siberian StuDday. Photo report</a></li>
<li><a href="../104896/index.html">One example of spent fraud</a></li>
<li><a href="../104897/index.html">50% of mobile Internet traffic is generated by native smartphone apps</a></li>
<li><a href="../104898/index.html">Monument of Linux being created in Tyumen</a></li>
<li><a href="../104900/index.html">music.ivi.ru - music videos, tasty and juicy!</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>