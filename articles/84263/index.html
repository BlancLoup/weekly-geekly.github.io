<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>WPF Markup Extensions</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="With the release of .Net 3.0, we have the opportunity to supplement the base classes without redefining them with our own methods. This technology is ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>WPF Markup Extensions</h1><div class="post__text post__text-html js-mediator-article">  With the release of .Net 3.0, we have the opportunity to supplement the base classes without redefining them with our own methods.  This technology is called <a href="http://msdn.microsoft.com/ru-ru/library/bb383977.aspx">Code Extensions Methods</a> <br>  But as it turned out, using the same simple and very flexible method, you can expand the capabilities and XAML layouts of windows and components. <br><a name="habracut"></a><br>  A simple example of the use of an extension is the familiar construction. <br><blockquote><code><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="black"><font color="#0000ff">&lt;</font> <font color="#800000">Button</font> <font color="#ff0000">Content</font> <font color="#0000ff">="{Binding Path=Title}"</font> <font color="#0000ff">/&gt;</font></font> <br> <br> <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></code> </blockquote> <br>  Where Binding is nothing more than language extensions. <br>  And now a specific example correcting the lack of the above construction, when you can only bind to yourself through a long line of code <br><blockquote> <code><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="black"><font color="#0000ff">&lt;</font> <font color="#800000">Button</font> <font color="#ff0000">Content</font> <font color="#0000ff">="{Binding Path=Height, <br> RelativeSource={RelativeSource Self}}"</font> <font color="#0000ff">/&gt;</font></font> <br> <br> <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></code> </blockquote> <br>  Create your own SelfBinding extension: <br>  1. Add a class to the project and call it SelfBinding <br>  2. Inherit this class from MarkupExtension <br>  3. Add the Path property of type string <br>  4. Create an empty constructor <br>  5. Create a constructor with a single parameter string Path <br><blockquote> <code><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="black"><font color="#0000ff">public</font> SelfBinding( <font color="#0000ff">string</font> Path) <br> { <br> <font color="#0000ff">this</font> .Path = Path <br> }</font> <br> <br> <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></code> </blockquote> <br>  6. Override its method ProvideValue <br><blockquote> <code><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="black"><font color="#0000ff">public</font> <font color="#0000ff">override</font> <font color="#0000ff">object</font> ProvideValue(IServiceProvider serviceProvider) <br> { <br> <font color="#0000ff">try</font> <br> { <br> <br> <font color="#0000ff">if</font> ( <font color="#0000ff">string</font> .IsNullOrEmpty(Path)) <br> <font color="#0000ff">throw</font> <font color="#0000ff">new</font> ArgumentNullException( <font color="#A31515">"Path"</font> , <font color="#A31515">"The Path can not be null"</font> ); <br> <br> <font color="#008000">// ,      </font> <br> <font color="#0000ff">var</font> providerValuetarget = (IProvideValueTarget)serviceProvider <br> .GetService( <font color="#0000ff">typeof</font> (IProvideValueTarget)); <br> <br> <font color="#008000">// ,  </font> <br> DependencyObject _targetObject = (DependencyObject)providerValuetarget.TargetObject; <br> <br> <font color="#008000">//     </font> <br> PropertyInfo _sourceProperty = _targetObject.GetType().GetProperty(Path); <br> <br> <font color="#008000">//  </font> <br> <font color="#0000ff">return</font> _sourceProperty.GetValue(_targetObject, <font color="#0000ff">null</font> ); <br> <br> } <br> <font color="#0000ff">catch</font> (Exception ex) <br> { <br> Debug.WriteLine(ex); <br> <font color="#0000ff">return</font> <font color="#0000ff">null</font> ; <br> } <br> }</font> <br> <br> <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></code> </blockquote> <br><br>  Now you can and check <br><blockquote> <code><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="black"><font color="#0000ff">&lt;</font> <font color="#800000">Window</font> <font color="#ff0000">x:Class</font> <font color="#0000ff">="for7raid.wpfExtension.Window1"</font> <br> <font color="#ff0000">xmlns</font> <font color="#0000ff">="http://schemas.microsoft.com/winfx/2006/xaml/presentation"</font> <br> <font color="#ff0000">xmlns:x</font> <font color="#0000ff">="http://schemas.microsoft.com/winfx/2006/xaml"</font> <br> <font color="#ff0000">xmlns:local</font> <font color="#0000ff">="clr-namespace:for7raid.wpfExtension"</font> <br> <font color="#ff0000">Title</font> <font color="#0000ff">="Window1"</font> <font color="#ff0000">Height</font> <font color="#0000ff">="300"</font> <font color="#ff0000">Width</font> <font color="#0000ff">="300"</font> <font color="#0000ff">&gt;</font> <br> <br> <font color="#0000ff">&lt;</font> <font color="#800000">Grid</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">Button</font> <font color="#ff0000">Content</font> <font color="#0000ff">="{local:SelfBinding Foreground}"</font> <font color="#0000ff">/&gt;</font> <br> <font color="#0000ff">&lt;/</font> <font color="#800000">Grid</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;/</font> <font color="#800000">Window</font> <font color="#0000ff">&gt;</font></font> <br> <br> <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></code> </blockquote> <br>  Everything turned out, now you should add the ability to use converters, as is done in the standard Binding. <br>  7. Add a converter like IValueConverter and check it when returning the result <br><blockquote> <code><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="black"><font color="#008000">//    ,    </font> <br> <font color="#0000ff">if</font> (Converter != <font color="#0000ff">null</font> ) <br> <font color="#0000ff">return</font> Converter. <font color="#2B91AF">Convert</font> ( <font color="#0000ff">value</font> , _targetProperty.PropertyType, <font color="#0000ff">null</font> , <br> Thread.CurrentThread.CurrentCulture); <br> <font color="#0000ff">else</font> <br> <font color="#0000ff">return</font> <font color="#0000ff">value</font> ;</font> <br> <br> <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></code> </blockquote> <br><br>  Everything! 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Well, for a snack: import into the standard namespace our Namespase so that each time we do not have to write the prefix before each extension.  Add the following line to the Assembly.cs file and select the project <br><blockquote> <code><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="black">[assembly: XmlnsDefinition( <font color="#A31515">"http://schemas.microsoft.com/winfx/2006/xaml/presentation"</font> , <font color="#A31515">"for7raid.wpfExtension"</font> )] <br></font> <br> <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></code> </blockquote> <br><br>  TODO: <br>  1. Add a property change trigger so that there is a live binding <br>  2. It is possible to implement the task path in the following form: Path = Foreground.Name <br><br>  Some problems can be solved this way, for example, we have built support for multilingualism, as well as a manager who has been watching the display of elements on the form, depending on the user's rights. <br><br><blockquote> <code><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="black"><font color="#0000ff">&lt;</font> <font color="#800000">Button</font> <font color="#ff0000">Content</font> <font color="#0000ff">="{Title btnKey, Default=Hello button}"</font> , <br> <font color="#ff0000">Visability</font> <font color="#0000ff">="{AllowedBy All sp1 sp2 sp3}"</font> <font color="#0000ff">/&gt;</font></font> <br> <br> <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></code> </blockquote> <br><br>  <a href="">Source Code</a> <br><br>  Read on: <a href="http://msdn.microsoft.com/en-us/library/ms747254.aspx">Markup Extensions and XAML</a> <br>  <a href="http://www.codeproject.com/KB/WPF/WpfMultiLanguage.aspx">WPF Multilanguage Markup Extension</a> </div><p>Source: <a href="https://habr.com/ru/post/84263/">https://habr.com/ru/post/84263/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../84254/index.html">Video Selection: Where Is Your Money?</a></li>
<li><a href="../84255/index.html">Bundler: Javascript client optimization in ASP.NET</a></li>
<li><a href="../84256/index.html">Questions test work on computer science in a private school</a></li>
<li><a href="../84257/index.html">Snowballs is a mega-shooter in jabber</a></li>
<li><a href="../84258/index.html">Future business</a></li>
<li><a href="../84267/index.html">Mobile World Congress</a></li>
<li><a href="../84268/index.html">What keeps the train on track?</a></li>
<li><a href="../84269/index.html">Have an idea, is IKEA or how we solved the problem of furniture</a></li>
<li><a href="../84272/index.html">C & C Classic: download for free, Commander!</a></li>
<li><a href="../84274/index.html">Vuzix Wrap 920 video glasses - virtual reality or a regular gadget for iPod</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>