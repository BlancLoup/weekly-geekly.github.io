<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Pitfalls of custom CSS properties</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Stas Melnikov, the author of the course on Netology ‚ÄúHTML-layout‚Äù, told about nuances that can complicate working with custom CSS properties. 

 Custo...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Pitfalls of custom CSS properties</h1><div class="post__text post__text-html js-mediator-article">  <i>Stas Melnikov, the author of the course on <a href="https://netology.ru/%3Futm_source%3Dblog%26utm_medium%3D747%26utm_campaign%3Dhabr">Netology</a> ‚ÄúHTML-layout‚Äù, told about nuances that can complicate working with custom CSS properties.</i> <br><br><h2>  Custom property name syntax rules </h2><br>  We are used to the fact that inline CSS properties are case insensitive.  Therefore, the following methods of declaring the <code>border</code> property will give the same result: <a name="habracut"></a><br><br><pre> <code class="python hljs">button { BORDER: <span class="hljs-number"><span class="hljs-number">2</span></span>px solid <span class="hljs-comment"><span class="hljs-comment">#800080; } button { border: 2px solid #800080; }</span></span></code> </pre> <br>  User properties, on the other hand, are case-sensitive, so the following example creates two different user properties: 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <pre> <code class="python hljs">button { --NETOLOGY-BRAND-COLOR: <span class="hljs-comment"><span class="hljs-comment">#800080; --netology-brand-color: #27ae60;   border: 2px solid var(--NETOLOGY-BRAND-COLOR); color: var(--netology-brand-color); }</span></span></code> </pre> <br><img src="https://habrastorage.org/webt/st/4r/rs/st4rrsyfv1i2g5uaqrbeieubk8y.jpeg"><br><br>  Now the frame has become the color # 800080 (purple), and the text color is # 27ae60 (green). <br><br><h2>  Valid values ‚Äã‚Äãfor custom properties </h2><br>  With a regular CSS property, you can only set the standard allowed values.  According to the custom properties standard, any existing valid CSS value can be used as a value.  For example, like all the following custom properties: <br><br><pre> <code class="python hljs">.element::before { --color: rgba(<span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>); --hex: <span class="hljs-comment"><span class="hljs-comment">#000000; --value: 20px; --number: 3; --text: "Hey, what's up?"; --keyword: currentColor; }</span></span></code> </pre> <br>  For example, set the frame with color # 800080 for the button: <br><br><pre> <code class="python hljs">button { --netologyBrandColor: <span class="hljs-comment"><span class="hljs-comment">#800080; border-width: 2px; border-style: solid; border-color: var(--netologyBrandColor); }</span></span></code> </pre> <br><img src="https://habrastorage.org/webt/2w/uv/nq/2wuvnqeqtrdewtcoumg_bcll1gk.jpeg"><br><br>  In addition to the standard values, you can set one custom property as a value for another. <br><br><pre> <code class="python hljs">button { --netologyBrandColor: <span class="hljs-comment"><span class="hljs-comment">#800080; --buttonBorderColor: var(--netologyBrandColor); border-width: 2px; border-style: solid; border-color: var(--buttonBorderColor); }</span></span></code> </pre> <br>  The result is nothing different from the previous one, and the button still has a frame with color # 800080. <br><br>  If the custom property <code>--netologyBrandColor</code> has an incorrect value for the <code>border-color</code> property, such as 18px, the frame will turn black. <br><br><pre> <code class="python hljs">button { --netologyBrandColor: <span class="hljs-number"><span class="hljs-number">18</span></span>px;  --buttonBorderColor: var(--netologyBrandColor); border-width: <span class="hljs-number"><span class="hljs-number">2</span></span>px; border-style: solid; border-color: var(--buttonBorderColor); }</code> </pre> <br><img src="https://habrastorage.org/webt/8n/4x/et/8n4xetxxbtsmoecvt2buhnpfun4.jpeg"><br><br>  The fact is that before the browser applies the value of a custom property to the embedded property, it will check it for correctness.  If the value is available for the embedded property, the browser will apply it.  And if not, it will set the default value for the embedded property. <br><br>  In our case, 18px is an incorrect value for the built-in <code>border-color</code> property, and therefore the browser will set the default value, that is, <code>currentColor</code> .  This is very easy to verify by setting the <code>color</code> property to # 800080: <br><br><pre> <code class="python hljs">button { --netologyBrandColor: <span class="hljs-number"><span class="hljs-number">18</span></span>px;  --buttonBorderColor: var(--netologyBrandColor); border-width: <span class="hljs-number"><span class="hljs-number">2</span></span>px; border-style: solid; border-color: var(--buttonBorderColor); color: <span class="hljs-comment"><span class="hljs-comment">#800080; }</span></span></code> </pre> <br><img src="https://habrastorage.org/webt/dt/nl/yd/dtnlydxjwblzivwevmefflst0xs.jpeg"><br><br>  As you can see, the browser has applied the value # 800080 for the frame.  In this example, I used the full syntax to set the frame.  But we can use a short one, namely the <code>border</code> property. <br><br><pre> <code class="python hljs">button { --netologyBrandColor: <span class="hljs-number"><span class="hljs-number">18</span></span>px;  --buttonBorderColor: var(--netologyBrandColor); border: <span class="hljs-number"><span class="hljs-number">2</span></span>px solid var(--buttonBorderColor); color: <span class="hljs-comment"><span class="hljs-comment">#800080; }</span></span></code> </pre> <br><img src="https://habrastorage.org/webt/ce/nk/p8/cenkp8zjnphvvpacbkn6htsvxpu.jpeg"><br><br>  Here we have another nuance.  The standard has a separate section that describes the behavior of user properties in this situation.  According to him, if the user property has an incorrect value for the built-in property, then this user property is not valid, so the browser will ignore the built-in property. <br><br>  In our example, the built-in <code>border</code> property has a custom property <code>--buttonBorderColor</code> with an incorrect value of 18px as one of the values.  According to the described algorithm, the browser simply ignored the <code>border</code> property, so the element disappeared from the frame. <br><br><h2>  Default value for custom properties </h2><br>  When we looked at an example with the <code>var</code> function, we used only one parameter ‚Äî the name of the custom property. <br><br><pre> <code class="python hljs">button { --netologyBrandColor: <span class="hljs-comment"><span class="hljs-comment">#800080; border: 2px solid var(--netologyBrandColor); color: var(--netologyBrandColor); } button:hover { --netologyBrandColor: #27ae60; }</span></span></code> </pre> <br>  But besides it, the <code>var</code> function can take the second - the default value.  To declare the default value, you need to put a comma after the name of the custom property and write the value itself. <br><br><img src="https://habrastorage.org/webt/dw/ih/fd/dwihfds1vrzae3x00fpk596lvg4.jpeg"><br>  When the browser realizes that the developer has not declared a value for a custom property, it uses the default value.  For example, the value # 800080 (purple) for the user property - <code>--netologyBrandColor</code> . <br><br><pre> <code class="python hljs">button { border: <span class="hljs-number"><span class="hljs-number">2</span></span>px solid var(--netologyBrandColor, <span class="hljs-comment"><span class="hljs-comment">#800080); color: var(--netologyBrandColor, #800080); } button:hover { --netologyBrandColor: #27ae60; }</span></span></code> </pre><br><img src="https://habrastorage.org/webt/dt/nl/yd/dtnlydxjwblzivwevmefflst0xs.jpeg"><img src="https://habrastorage.org/webt/vv/cq/2j/vvcq2jqhrb2omfyagrbis5ajbcy.jpeg"><br><br>  We see that the frame and the text are purple.  But if you hover the button, they will turn green.  This suggests that the browser has applied the value of # 27ae60 to the custom property, thereby replacing the default value. <br><br>  But this is not all the features of the <code>var</code> function.  In the previous example, the custom property - <code>--netologyBrandColor</code> used twice, respectively, so I set the default value twice. <br><br>  But it can be done differently.  The <code>var</code> function allows you to pass another <code>var</code> function, so you can set a different custom property as the default value.  I will rewrite the previous example using the custom property <code>--defaultButtonColor</code> : <br><br><pre> <code class="python hljs">button { --defaultButtonColor: <span class="hljs-comment"><span class="hljs-comment">#800080; border: 2px solid var(--netologyBrandColor, var(--defaultButtonColor)); color: var(--netologyBrandColor, var(--defaultButtonColor)); } button:hover { --netologyBrandColor: #27ae60; }</span></span></code> </pre> <br>  Externally, the result will not change.  But now to change the default value, you need to do it only in one place, and not in several, as before. <br><br><h2>  Inheriting custom properties </h2><br>  CSS has an inheritance mechanism that allows elements to inherit properties on parent elements.  In this regard, custom properties are no different from them.  For example, I'll write the code in which the custom property - <code>--netologyBrandColor</code> inherited from the parent <code>body</code> element. <br><br><pre> <code class="python hljs">body { --netologyBrandColor: <span class="hljs-comment"><span class="hljs-comment">#800080; } button { border: 2px solid var(--netologyBrandColor); color: var(--netologyBrandColor); } &lt;/td&gt;&lt;/tr&gt;</span></span></code> </pre> <br><img src="https://habrastorage.org/webt/f2/nb/7q/f2nb7qi2zaoufbkma_m-ouxplcy.jpeg"><br><br>  Looking at the inspector, you can see the inscription "Inherited from body", which shows us that the custom property was taken from the <code>body</code> element.  But if you add the custom property - <code>--netologyBrandColor</code> for the <code>button</code> element, then it will already block the property from the <code>body</code> element. <br><br><pre> <code class="python hljs">body { --netologyBrandColor: <span class="hljs-comment"><span class="hljs-comment">#800080; } button { --netologyBrandColor: #27ae60; border: 2px solid var(--netologyBrandColor); color: var(--netologyBrandColor); }</span></span></code> </pre> <br><img src="https://habrastorage.org/webt/yp/lg/9o/yplg9olcz0gaq1chu0q63xm5eoi.jpeg"><br><br>  In the inspector, you can see that the user property - <code>--netologyBrandColor</code> at the <code>button</code> element overrides the property - <code>--netologyBrandColor</code> , which we specified for the <code>body</code> element. <br><br><h2>  Global values </h2><br>  The CSS Custom Properties standard introduced a special pseudo-class <code>root</code> , which allows you to specify custom properties that apply to the root element of the document.  For example, in the HTML document for the <code>html</code> element. <br><br><pre> <code class="python hljs">:root { --netologyBrandColor: <span class="hljs-comment"><span class="hljs-comment">#800080; } button { border: 2px solid var(--netologyBrandColor); color: var(--netologyBrandColor); }</span></span></code> </pre> <br><img src="https://habrastorage.org/webt/jn/n1/gn/jnn1gnana8slz9w_w9vtfrrkeiy.jpeg"><br><br>  In the inspector, we can see that the declared custom property applies to the html element.  But besides the HTML document, the <code>root</code> pseudo- <code>root</code> works in SVG documents.  For example, I will declare custom properties in the <code>style</code> tag. <br><br><pre> <code class="python hljs">&lt;svg xmlns=<span class="hljs-string"><span class="hljs-string">"http://www.w3.org/2000/svg"</span></span> viewBox=<span class="hljs-string"><span class="hljs-string">"0 0 26 28"</span></span> width=<span class="hljs-string"><span class="hljs-string">"50"</span></span> height=<span class="hljs-string"><span class="hljs-string">"50"</span></span>&gt;   &lt;style&gt;       :root{           --iconColor: <span class="hljs-comment"><span class="hljs-comment">#ffcc00;           --iconStroke: #000000;           --iconStrokeWidth: 2px;       }   &lt;/style&gt;   &lt;path stroke="var(--iconStroke)"         stroke-width="var(--iconStrokeWidth)"         fill="var(--iconColor)"         d="M26 10.109c0 .281-.203.547-.406.75l-5.672 5.531 1.344 7.812c.016.109.016.203.016.313 0 .406-.187.781-.641.781a1.27 1.27 0 0 1-.625-.187L13 21.422l-7.016 3.687c-.203.109-.406.187-.625.187-.453 0-.656-.375-.656-.781 0-.109.016-.203.031-.313l1.344-7.812L.39 10.859c-.187-.203-.391-.469-.391-.75 0-.469.484-.656.875-.719l7.844-1.141 3.516-7.109c.141-.297.406-.641.766-.641s.625.344.766.641l3.516 7.109 7.844 1.141c.375.063.875.25.875.719z"/&gt; &lt;/svg&gt;</span></span></code> </pre> <br><img src="https://habrastorage.org/webt/91/ac/4k/91ac4kpivgdodpjv9ipz0uap0fo.jpeg"><br><br>  And here we see that the root element of the SVG element has a pseudo-class <code>root</code> .  Accordingly, this proves that the pseudo-class root applies not only to the <code>html</code> tag, but to any root element. <br><br><h2>  Conclusion </h2><br>  In this article, we met with the pitfalls of custom properties that can be confusing.  And accordingly, we can begin to use them.  Therefore, in the next article I will talk about practical tricks that I use in my projects. <br><br><h2>  From the Editor </h2><br>  Courses "Netology" on the topic: <br><br><ul><li>  online profession " <a href="https://netology.ru/programs/data-analyst%3Futm_source%3Dblog%26utm_medium%3D747%26utm_campaign%3Dhabr">Data Analyst</a> " </li><li>  online profession " <a href="https://netology.ru/programs/data-scientist%3Futm_source%3Dblog%26utm_medium%3D747%26utm_campaign%3Dhabr">Data Scientist</a> " </li><li>  online course " <a href="https://netology.ru/programs/front-end%3Futm_source%3Dblog%26utm_medium%3D747%26utm_campaign%3Dhabr">Frontend Developer</a> " </li></ul></div><p>Source: <a href="https://habr.com/ru/post/435654/">https://habr.com/ru/post/435654/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../435644/index.html">Zoo afl phasers</a></li>
<li><a href="../435646/index.html">NB-IoT, Narrow Band Internet of Things. General information, technology features</a></li>
<li><a href="../435648/index.html">Bot generates textbooks from Wikipedia articles</a></li>
<li><a href="../435650/index.html">How to embed C-library in Swift-framework</a></li>
<li><a href="../435652/index.html">How not to continue passwords in Python scripts</a></li>
<li><a href="../435656/index.html">Rolls-Royce among scooters - Ninebot KickScooter ES4 by Segway</a></li>
<li><a href="../435658/index.html">Chinese internet censoring</a></li>
<li><a href="../435662/index.html">"Reliability and dependability as in Google" - and not only: translation of the article "Calculation of reliability of service"</a></li>
<li><a href="../435664/index.html">Google search engine spoofing</a></li>
<li><a href="../435666/index.html">Asynchronous rasynchron: antipatterns in work with async / await in .NET</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>