<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Photo uploader as vkontakte on Flex</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="A week ago, my knowledge of action script was limited to how to add an onclick event to a banner before being uploaded to a banner network. As a file ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Photo uploader as vkontakte on Flex</h1><div class="post__text post__text-html js-mediator-article">  A week ago, my knowledge of action script was limited to how to add an onclick event to a banner before being uploaded to a banner network.  As a file loader, I used swfupload, and really didn‚Äôt want to get inside the swf-nick and understand the code.  I don‚Äôt like flash, I‚Äôm never a designer and get lost when I see all these layers, frames, tools for drawing stars and motion guides. <br><br>  Then I stumbled upon this <a href="http://www.rubenswieringa.com/blog/flex-book-component-beta">this</a> stunningly beautiful thing, and found out that there is <a href="http://www.adobe.com/products/flex/">flex</a> .  And that flex is awesome, because even such a super-beginner like me, from scratch in a few days was able to write a photo uploader with a preview, resize on the client and an upload-bar, something like the one used on the <a href="http://vkontakte.ru/">vkontakte.ru</a> website. <br><br>  There are three reasons why I decided to use flash to upload photos.  These are FileReference, FileReferenceList and flash.display.Bitmap.  In the 10th version of the flash player, FileReference has a load () function, with which you can view selected photos in a video clip locally without uploading to the server.  FileReferenceList allows you to select multiple photos in the file dialog using shift.  Bitmap resizes images before sending to the server.  All this can not be done in pure javascript. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      So, we write the photo uploader as vkontakte on flex (a step-by-step guide for quite beginners). <br><a name="habracut"></a><br>  First of all, you need to install flex builder 3 ( <a href="http://www.adobe.com/products/flex/">there</a> is a version that can be used for 60 days) and upgrade the flash player to the 10th version.  Create a new flex project.  Application type - web application, server type - none.  Immediately you need to fix the project compiler, for this we select Project-&gt; Properties-&gt; Flex Compiler and change the parameter "Require Flash Player version" to 10.0.0.  If this is not done, the load () function on the FileReference object will not work. <br><br>  First arrange all the necessary elements on the page, and then we will write a script.  Let's set the fixed dimensions of the workspace (application tag), put the panel inside, inside the panel - TileList, ProgressBar and ControlBar with the buttons ‚ÄúSelect photos‚Äù, ‚ÄúStart loading‚Äù and ‚ÄúClear‚Äù.  After TileList, add an HBox with ProgressBar elements and a ‚Äúcancel‚Äù button.  That's what happens. <br><blockquote><code><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="black"><font color="#0000ff">&lt;?</font> <font color="#800000">xml</font> <font color="#ff0000">version</font> <font color="#0000ff">="1.0"</font> <font color="#ff0000">encoding</font> <font color="#0000ff">="utf-8"</font> ? <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">mx:Application</font> <font color="#ff0000">xmlns:mx</font> <font color="#0000ff">="http://www.adobe.com/2006/mxml"</font> <font color="#ff0000">layout</font> <font color="#0000ff">="absolute"</font> <font color="#ff0000">width</font> <font color="#0000ff">="540"</font> <font color="#ff0000">height</font> <font color="#0000ff">="465"</font> <font color="#0000ff">&gt;</font> <br> <br> <font color="#0000ff">&lt;</font> <font color="#800000">mx:Panel</font> <font color="#ff0000">title</font> <font color="#0000ff">=" "</font> <br> <font color="#ff0000">paddingTop</font> <font color="#0000ff">="10"</font> <font color="#ff0000">paddingLeft</font> <font color="#0000ff">="10"</font> <font color="#ff0000">paddingBottom</font> <font color="#0000ff">="10"</font> <font color="#ff0000">paddingRight</font> <font color="#0000ff">="10"</font> <br> <font color="#ff0000">width</font> <font color="#0000ff">="100%"</font> <font color="#ff0000">height</font> <font color="#0000ff">="100%"</font> <font color="#0000ff">&gt;</font> <br> <br> <font color="#0000ff">&lt;</font> <font color="#800000">mx:TileList</font> <br> <font color="#ff0000">alternatingItemColors</font> <font color="#0000ff">="[#FFFFFF,#CCCCCC,#AAAAAA]"</font> <br> <font color="#ff0000">verticalScrollPolicy</font> <font color="#0000ff">="on"</font> <br> <font color="#ff0000">columnWidth</font> <font color="#0000ff">="120"</font> <font color="#ff0000">columnCount</font> <font color="#0000ff">="4"</font> <font color="#ff0000">rowHeight</font> <font color="#0000ff">="110"</font> <font color="#ff0000">rowCount</font> <font color="#0000ff">="3"</font> <font color="#0000ff">/&gt;</font> <br> <br> <font color="#0000ff">&lt;</font> <font color="#800000">mx:HBox</font> <font color="#ff0000">horizontalAlign</font> <font color="#0000ff">="center"</font> <font color="#ff0000">width</font> <font color="#0000ff">="100%"</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">mx:ProgressBar</font> <font color="#0000ff">/&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">mx:Button</font> <font color="#ff0000">label</font> <font color="#0000ff">=""</font> <font color="#0000ff">/&gt;</font> <br> <font color="#0000ff">&lt;/</font> <font color="#800000">mx:HBox</font> <font color="#0000ff">&gt;</font> <br> <br> <font color="#0000ff">&lt;</font> <font color="#800000">mx:ControlBar</font> <font color="#ff0000">horizontalAlign</font> <font color="#0000ff">="right"</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">mx:Button</font> <font color="#ff0000">label</font> <font color="#0000ff">=" "</font> <font color="#0000ff">/&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">mx:Button</font> <font color="#ff0000">label</font> <font color="#0000ff">=" "</font> <font color="#0000ff">/&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">mx:Button</font> <font color="#ff0000">label</font> <font color="#0000ff">=""</font> <font color="#0000ff">/&gt;</font> <br> <font color="#0000ff">&lt;/</font> <font color="#800000">mx:ControlBar</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;/</font> <font color="#800000">mx:Panel</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;/</font> <font color="#800000">mx:Application</font> <font color="#0000ff">&gt;</font></font> <br> <br> <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></code> </blockquote> <br><div style="text-align:center;"><img src="http://ragneta.com/tests/flexupload/habrahabr_screen1.jpg"></div><br>  We will hide the ProgressBar and show it only when we click on the button ‚Äústart download (visible =" false "). We make enabled =" false "on the buttons" start loading "and" clear "(they will be active only when the list of photos is not empty). Add id-shniki to all important elements. <br><br>  Add the &lt;mx: Script&gt; tag and write code in it.  Let's connect flash.net.FileReferenceList and mx.collections.ArrayCollection and set up the main global variable of photos like ArrayCollection. <br><blockquote> <code><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="black"><font color="#0000ff">&lt;</font> <font color="#800000">mx:Script</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;!</font> [CDATA[ <br> <br> import flash.net.FileReferenceList; <br> import mx.collections.ArrayCollection; <br> <br> [Bindable] <br> private var photos:ArrayCollection = new ArrayCollection; <br> <br> ]] <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;/</font> <font color="#800000">mx:Script</font> <font color="#0000ff">&gt;</font></font> <br> <br> <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></code> </blockquote> <br>  [Bindable] means that the photos variable can be linked to other elements.  We specify it as the dataProvider to the TileList, and then all changes in the photos array will be automatically reflected in the TileList. <br><br>  Add a global variable frList of type FileReferenceList.  On clicking on the button ‚ÄúSelect photos‚Äù we will add the selectPhotos function.  In order to catch the event, when the selection of photos is completed in the file dialog in frList.browse (), fErList needs to specify addEventListener (Event.COMPLETE, addPhotos).  The optional parameter of the frList.browse () function is an array of FileFilter objects, where you can set a mask for file names.  Finally, we write the addPhotos function, which will go through all the files selected in frList.fileList and add them to the photos array.  That's what happens. <br><blockquote> <code><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="black">import mx.events.CollectionEvent; <br> import flash.net.FileReferenceList; <br> import mx.collections.ArrayCollection; <br> <br> [Bindable] <br> <font color="#0000ff">private</font> <font color="#0000ff">var</font> photos:ArrayCollection = <font color="#0000ff">new</font> ArrayCollection; <br> <font color="#0000ff">private</font> <font color="#0000ff">var</font> frList:FileReferenceList = <font color="#0000ff">new</font> FileReferenceList; <br> <br> <font color="#0000ff">private</font> function init(): <font color="#0000ff">void</font> <br> { <br> frList.addEventListener(Event.SELECT,addPhotos); <br> } <br> <br> <font color="#0000ff">private</font> function selectPhotos(): <font color="#0000ff">void</font> <br> { <br> frList.browse([ <font color="#0000ff">new</font> FileFilter( <font color="#A31515">" jpeg"</font> , <font color="#A31515">"*.jpg;*.jpeg"</font> )]); <br> } <br> <br> <font color="#0000ff">private</font> function addPhotos(): <font color="#0000ff">void</font> <br> { <br> <font color="#0000ff">for</font> ( <font color="#0000ff">var</font> i: <font color="#0000ff">uint</font> = 0; i &lt; frList.fileList.length; i++) <br> { <br> <font color="#0000ff">var</font> elem:Object = <font color="#0000ff">new</font> Object; <br> elem.fr:FileReference = FileReference(frList.fileList[i]); <br> photos.addItem(elem); <br> } <br> } <br></font> <br> <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></code> </blockquote> <br>  It is necessary that the ‚ÄúStart Download‚Äù and ‚ÄúCancel‚Äù buttons be active only when the photos array is not empty.  Add a handler to the Initialization function: <br><blockquote> <code><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="black">photos.addEventListener(CollectionEvent.COLLECTION_CHANGE,function() <br> { <br> startUploadButton.enabled = (photos.length&gt;0); <br> clearPhotosButton.enabled = (photos.length&gt;0); <br> }); <br></font> <br> <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></code> </blockquote> <br>  Now write itemRenderer for our TileList.  itemRenderer is responsible for how to display an element of the photos array in the TileList cell.  We take out the itemRenderer code in a separate MXML component.  Make File-&gt; New-&gt; MXML Component named photoThumb, based on Canvas width 120 height 110. Add a itemRenderer property with value PhotoThumb to the TileList. <br><br>  Now we will write the component code.  We will do so that when you hover over each photo, a panel with control buttons will appear on it (we will only have one ‚Äúdelete‚Äù button).  The corresponding element of the array, to which itemRenderer is called, is in the global variable data.  With us every such element is an object with a single fRe property of type FileReference.  Accordingly, in order to indicate the file name in the cell, you need to write &lt;mx: Label text = "{data.fr.name}" /&gt;.  Public parent functions are called via parentDocument.  Here is the complete itemRenderer code, the background of the parent Canvas is set so that rollOver is correctly processed. <br><blockquote> <code><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="black"><font color="#0000ff">&lt;?</font> <font color="#800000">xml</font> <font color="#ff0000">version</font> <font color="#0000ff">="1.0"</font> <font color="#ff0000">encoding</font> <font color="#0000ff">="utf-8"</font> ? <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">mx:Canvas</font> <font color="#ff0000">xmlns:mx</font> <font color="#0000ff">="http://www.adobe.com/2006/mxml"</font> <br> <font color="#ff0000">width</font> <font color="#0000ff">="120"</font> <font color="#ff0000">height</font> <font color="#0000ff">="110"</font> <br> <font color="#ff0000">backgroundColor</font> <font color="#0000ff">="#FFFFFF"</font> <font color="#ff0000">backgroundAlpha</font> <font color="#0000ff">="0"</font> <br> <font color="#ff0000">rollOver</font> <font color="#0000ff">="{controls.visible=true}"</font> <font color="#ff0000">rollOut</font> <font color="#0000ff">="{controls.visible=false}"</font> <font color="#0000ff">&gt;</font> <br> <br> <font color="#0000ff">&lt;</font> <font color="#800000">mx:VBox</font> <font color="#ff0000">width</font> <font color="#0000ff">="100%"</font> <font color="#ff0000">height</font> <font color="#0000ff">="75"</font> <font color="#ff0000">y</font> <font color="#0000ff">="5"</font> <font color="#ff0000">horizontalAlign</font> <font color="#0000ff">="center"</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">mx:Image</font> <font color="#ff0000">source</font> <font color="#0000ff">="{data.fr.data}"</font> <font color="#ff0000">maxWidth</font> <font color="#0000ff">="100"</font> <font color="#ff0000">maxHeight</font> <font color="#0000ff">="75"</font> <font color="#ff0000">horizontalAlign</font> <font color="#0000ff">="center"</font> <font color="#ff0000">verticalAlign</font> <font color="#0000ff">="middle"</font> <font color="#0000ff">/&gt;</font> <br> <font color="#0000ff">&lt;/</font> <font color="#800000">mx:VBox</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">mx:Label</font> <font color="#ff0000">text</font> <font color="#0000ff">="{data.fr.name}"</font> <font color="#ff0000">width</font> <font color="#0000ff">="100%"</font> <font color="#ff0000">truncateToFit</font> <font color="#0000ff">="true"</font> <font color="#ff0000">bottom</font> <font color="#0000ff">="0"</font> <font color="#ff0000">textAlign</font> <font color="#0000ff">="center"</font> <font color="#0000ff">/&gt;</font> <br> <br> <font color="#0000ff">&lt;</font> <font color="#800000">mx:VBox</font> <font color="#ff0000">id</font> <font color="#0000ff">="controls"</font> <font color="#ff0000">visible</font> <font color="#0000ff">="false"</font> <font color="#ff0000">y</font> <font color="#0000ff">="65"</font> <font color="#ff0000">right</font> <font color="#0000ff">="10"</font> <font color="#ff0000">horizontalAlign</font> <font color="#0000ff">="right"</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">mx:Button</font> <font color="#ff0000">label</font> <font color="#0000ff">="X"</font> <font color="#ff0000">click</font> <font color="#0000ff">="parentDocument.clearPhoto(data)"</font> <font color="#ff0000">fontSize</font> <font color="#0000ff">="6"</font> <font color="#ff0000">width</font> <font color="#0000ff">="30"</font> <font color="#ff0000">height</font> <font color="#0000ff">="15"</font> <font color="#0000ff">/&gt;</font> <br> <font color="#0000ff">&lt;/</font> <font color="#800000">mx:VBox</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;/</font> <font color="#800000">mx:Canvas</font> <font color="#0000ff">&gt;</font></font> <br> <br> <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></code> </blockquote> <br>  Everything works except that when selecting large photos, they do not have time to boot, and TileList does not show them.  To fix this, add the TileList update to the addPhotos function after loading each photo: <br><blockquote> <code><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="black"><font color="#0000ff">private</font> function addPhotos(e:Event): <font color="#0000ff">void</font> <br> { <br> <font color="#0000ff">for</font> ( <font color="#0000ff">var</font> i: <font color="#0000ff">uint</font> = 0; i &lt; frList.fileList.length; i++) <br> { <br> <font color="#0000ff">var</font> elem:Object = <font color="#0000ff">new</font> Object; <br> elem.fr = FileReference(frList.fileList[i]); <br> elem.fr.load(); <br> elem.fr.addEventListener(Event.COMPLETE,refreshThumb); <br> photos.addItem(elem); <br> } <br> } <br> <br> <font color="#0000ff">private</font> function refreshThumb(e:Event): <font color="#0000ff">void</font> <br> { <br> photosList.invalidateList(); <br> }</font> <br> <br> <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></code> </blockquote> <br>  Add simple functions to remove all photos and delete the selected photo using the removeAll, removeItemAt and getItemIndex methods of the ArrayCollection class.  At the same time, the function that is called from itemRender must be public. <br><blockquote> <code><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="black"><font color="#0000ff">private</font> function clearPhotos(): <font color="#0000ff">void</font> <br> { <br> photos.removeAll(); <br> } <br> <br> <font color="#0000ff">public</font> function clearPhoto(data:Object): <font color="#0000ff">void</font> <br> { <br> photos.removeItemAt(photos.getItemIndex(data)); <br> } <br></font> <br> <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></code> </blockquote> <br>  At this stage, a working application is received that shows file icons and works locally.  Multiselekt when selecting files also works.  It remains to add the download of the selected files to the server and use the ProgressBar.  It's simple.  When you click on the ‚ÄúStart download‚Äù button, we will take the first element from the photos, create a URLRequest, call the upload method in FileReference and add event listeners that will manage the progress bar and track when the file loads.  After downloading, delete the first element from the photos and run it all over again.  Here is the code: <br><blockquote> <code><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="black"><font color="#0000ff">private</font> function startUpload(): <font color="#0000ff">void</font> <br> { <br> photosProgressContainer.visible = <font color="#0000ff">true</font> ; <br> <br> <font color="#0000ff">var</font> fr:FileReference = photos.getItemAt(0).fr; <br> fr.cancel(); <br> fr.addEventListener(ProgressEvent.PROGRESS,uploadProgress); <br> fr.addEventListener(DataEvent.UPLOAD_COMPLETE_DATA,uploadComplete); <br> fr.upload( <font color="#0000ff">new</font> URLRequest( <font color="#A31515">"http://ragneta.com/tests/flexupload/upload.php"</font> )); <br> } <br> <br> <font color="#0000ff">private</font> function uploadProgress(e:ProgressEvent): <font color="#0000ff">void</font> <br> { <br> photosProgress.setProgress(e.bytesLoaded,e.bytesTotal); <br> } <br> <br> <font color="#0000ff">private</font> function uploadComplete(e:DataEvent): <font color="#0000ff">void</font> <br> { <br> photos.removeItemAt(0); <br> <font color="#0000ff">if</font> (photos.length &gt; 0) <br> startUpload(); <br> <font color="#0000ff">else</font> <br> photosProgressContainer.visible = <font color="#0000ff">false</font> ; <br> }</font> <br> <br> <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></code> </blockquote> <br>  That's all, here is the complete code: <a href="http://ragneta.com/tests/flexupload/Uploader.txt">Uploader.mxml</a> , <a href="http://ragneta.com/tests/flexupload/photoThumb.txt">photoThumb.mxml</a> .  Next, you need to pass some authorization to the video, I pass the session identifier through flashvars, respectively, the flex variables passed are in the Application.application.parameters array.  Then in the initialization I do HTTPRequest, send the session and get the name of the user, his albums and everything else.  You also need to catch errors and exceptions, parse the server's response, and so on.  Only the minimum required is written here. <br><br>  If you do not need to download the source of photos, you can do a resize before sending to the server.  This is done using flash.display.Bitmap, here is <a href="http://flexgraphix.com/blog/%3Fp%3D51">an example</a> . <br><br>  In the process of preparing the post found a strange bug.  The progress bar and the FileReference.cancel () event do not work correctly on WinVista + FF 3.5.7 + Flash Player 10.0.42, but on the same WinXP + FF 3.5.7 + Flash Player 10.0.42 everything is fine. <br><br>  Also, until I solved the problem with the rotation of images.  First of all, I didn‚Äôt find how to do an animated transformation through setting a new image.transform.matrix.  The second problem - my Rotate is not applied to the data that is passed to the itemRenderer, but to the itemRenderera tag itself.  If you rotate the picture, and then delete it and load a new one in its place, it will be rotated.  In this case, the initialize event of each cell occurs only once.  It is necessary to hang the itemRenderer on the dataChange to turn to 0, although it would be enough if TileList could completely destroy the cells when deleting data, and then re-initialize. </div><p>Source: <a href="https://habr.com/ru/post/80954/">https://habr.com/ru/post/80954/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../80946/index.html">Russian analogue suicidemachine.org (Part 2)</a></li>
<li><a href="../80947/index.html">Now VKontakte API not only for Flash</a></li>
<li><a href="../80948/index.html">About Habrahabr, statistics and cakes</a></li>
<li><a href="../80949/index.html">Mozilla cancels the release of Firefox 3.7</a></li>
<li><a href="../80951/index.html">GPRS inside. Part 1</a></li>
<li><a href="../80955/index.html">Algorithm of collaborative filtering</a></li>
<li><a href="../80956/index.html">E-Sigs</a></li>
<li><a href="../80958/index.html">Linux instead of Windows. Is the game worth the candle?</a></li>
<li><a href="../80961/index.html">23 logos with hidden meanings</a></li>
<li><a href="../80962/index.html">The computer of your dreams. Part 2: Reality and Fiction</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>