<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>HP EVA Disk Array - simple!</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="In anticipation of the release of the new P6000 EVA disk array models, I want to show how simple and effective these arrays are at work. 

 The tradit...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>HP EVA Disk Array - simple!</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/storage2/f53/db9/27b/f53db927bb3b01255444fb1aca1f7d5f.png" align="left">  In anticipation of the release of the new P6000 EVA disk array models, I want to show how simple and effective these arrays are at work. <br><br>  The traditional field of application for HP P6000 arrays has been and remains virtualization, integration with Microsoft, Oracle, SAP and a wide range of business applications.  The P6000 line is represented by two models: P6300 EVA and P6500 EVA.  These storage systems are based on SAS (Serial Attached SCSI) technology and support small (SFF) and large (LFF) form factor disks of various capacities - from 146 GB to 3 TB. <br><br>  Unlike previous generations of Enterprise Virtual Array arrays, the P6000 EVA is equipped with both 8 Gb / s Fiber Channel ports and 10 Gb / s or 1 Gb / s Ethernet ports, which additionally allows connecting servers using iSCSI and FCoE protocols. <br><a name="habracut"></a><br><h4>  Why EVA? </h4><br>  According to a <a href="http://h17007.www1.hp.com/docs/whatsnew/Edison_HP_EVA_CMCS_White_Paper.pdf">study by an</a> independent and widely known Edison Group, the administration of the P6000 array is spent 50% less time and is 30% less complicated compared to similar systems.  If you translate it into money, then the average savings will be about $ 13,000 per array per year. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h4>  Command View Review </h4><br>  Command View - P6000 array management software.  For those who have not had time to get acquainted with EVA arrays, I suggest downloading the CV P6000 simulator <a href="https://h20392.www2.hp.com/portal/swdepot/displayProductInfo.do%3FproductNumber%3DP6000EVASimulator">from here</a> .  All actions in this article were performed in the simulator, and they can be repeated at home. <br><br>  For the P6000, it is possible to use the command line interface or scripts in array management, but for daily tasks it is more efficient and easier to use the GUI interface. <br><br>  To download a simulator, you need to register and get HP Passport (if you don‚Äôt have one yet). <br><br>  Next, you need to use the compmgmt.msc command to get to the computer management section and create the ‚ÄúCV‚Äù user with the password on the local PC and set the ‚ÄúHP Storage Admins‚Äù group on the local PC and make the CV user a member of the HP Storage Admins group. <br><br>  And finally, start the simulator using the ‚ÄúStart HP P6000 EVA Simulator‚Äù shortcut.  <b>All screenshots are clickable.</b> <br><br> <a href=""><img src="https://habrastorage.org/storage2/284/0a7/d55/2840a7d55a8ac6a57bebb7adeeb1422c.png"></a> <br><br>  With the release of the P6000 disk arrays, the Command View interface will not change dramatically, so when switching from one generation to another, you do not need to spend time and money on employee training. <br><br> <a href=""><img src="https://habrastorage.org/storage2/ea7/286/301/ea72863011afbe78d0bdabed62fdf64c.png"></a> <br><br>  Moreover, the inclusion of new technologies in support of the array looks very transparent: for example, new SSD drives are represented by a new icon with reference to additional product information, all this is inside the same navigation window on the disk shelf and the same drop-down list of the navigation tree.  Thus, the logic of working with the new array was preserved. <br><br>  The following indicators were included in the assessment of the Edison Group study: <b>Provisioning</b> , <b>Data Protection</b> , <b>Maintenance</b> , <b>Troubleshooting</b> .  Let's take a closer look at this list and what it includes. <br><br>  <b>Provisioning</b> - all work with an array after installation: <br><br><ol><li>  Create a disk group </li><li>  Add host </li><li>  Create Virtual Disk (LUN) </li><li>  Presentation of the virtual disk to the host. </li><li>  Container creation </li></ol><br>  The HP P6000 Command View software includes a free <b>Thin Provisioning</b> option that helps reduce disk space requirements, the number of hard drives and, consequently, reduce server power and air conditioning costs. <br><br>  Adding this option to the Command View requires pressing only one button of the drop-down list when creating a virtual disk. <br><br> <a href=""><img src="https://habrastorage.org/storage2/164/3d5/419/1643d5419a919d64cd5e1ef4b84cd895.png"></a> <br><br>  <b>Data Protection</b> - all mechanisms to protect the data array.  These mechanisms include: several controllers in the array, fault-tolerant I / O paths, remote replication and creating snapshots (read-only copy) and clones (writable copy). <br><br>  In HP EVA, each virtual disk can have its own snapshot policy.  This makes the configuration of the entire storage more flexible. <br><br> <a href=""><img src="https://habrastorage.org/storage2/93a/9ac/2da/93a9ac2dac5e52e1358b35d1cfa8bef8.png"></a> <br><br>  <b>Maintenance and Configuration Changes</b> <br><br>  Array maintenance involves a large number of operations.  For example: software update, replacement of a failed disk, adding disks and disk shelves, changing the used configuration and removing snapshots. <br><br>  Software updating occurs centrally, without stopping the operation of the entire array or its components.  Disks and shelves of the array are also hot-plug.  The controllers operate in active-active mode, duplicated with cache mirroring, the array has no single point of failure. <br><br>  Removing snapshots in the P6000 is quite simple: in the drop-down menu of Vdisk, you can select the necessary snapshot, which must first be untied from the designated host. <br><br> <a href=""><img src="https://habrastorage.org/storage2/9a6/8fe/387/9a68fe3871e6e4116be8f0d4ae4bc300.png"></a> <br><br>  <b>Monitoring and Troubleshooting</b> - actions to determine the status and health of the array. <br><br>  The Command View control software provides monitoring and collection of statistics, access to it is possible from the graphical interface, you can set up an alert via e-mail.  This feature (auto support) is enabled by default. <br><br> <a href=""><img src="https://habrastorage.org/storage2/880/140/57b/88014057b758ac03343bb8830da2ad0a.png"></a> <br><br>  <b>Consider some of the most common tasks for working with disk arrays:</b> <br><br><h4>  1. Create a disk group and LUN </h4><br><iframe width="560" height="315" src="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://www.youtube.com/embed/hiiDAptZ_3A%3Ffeature%3Doembed&amp;xid=17259,15700019,15700186,15700190,15700253,15700255,15700259&amp;usg=ALkJrhiohnCq7tFyx4TBjizOs2YYkQILBg" frameborder="0" allowfullscreen=""></iframe><br><br>  We select the necessary array, in the drop-down menu we select Disk Groups - Create Disk Group, we select the name for the group, the protection setting and the number of disks (a multiple of 8 is recommended);  if the volumes in the array are of the same speed, without ‚Äúfast‚Äù and ‚Äúslow‚Äù, then it is recommended to insert all the disks of the array into one disk group.  Thus, the disk space in the array will be virtualized across all disks of the system, and we will get maximum performance - the IOPS for the disk group will be made up of the IOPS of all disks in the group. <br><br> <a href=""><img src="https://habrastorage.org/storage2/e60/fb8/f44/e60fb8f444a8a464b81094955e99afb4.png"></a> <br><br>  After creating a disk group, we can view information about the disks, their location, and update the firmware. <br><br>  Next, in the Virtual Disks section, create a LUN (Create Vdisk) with the necessary parameters. <br><br><h4>  2. LUN Presentation to the Host </h4><br><iframe width="560" height="315" src="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://www.youtube.com/embed/KBMYYCWqDGI%3Ffeature%3Doembed&amp;xid=17259,15700019,15700186,15700190,15700253,15700255,15700259&amp;usg=ALkJrhi6ZctsgkUrpLu7Vys6Y8VkqC-9Ig" frameborder="0" allowfullscreen=""></iframe><br><br>  Add a host in the Hosts - Add host section.  Select the required settings (test WWN prepared by the system was used in the video), system type, enter the IP address. <br><br> <a href=""><img src="https://habrastorage.org/storage2/37a/d5b/f82/37ad5bf8257dc8a34eb9c1299872834f.png"></a> <br><br>  In the properties of the disk in the Presentation tab, we give the LUN to the host (Present). <br><br><h4>  3. We create replication of volumes between arrays </h4><br><iframe width="560" height="315" src="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://www.youtube.com/embed/7JVMKkoChJg%3Ffeature%3Doembed&amp;xid=17259,15700019,15700186,15700190,15700253,15700255,15700259&amp;usg=ALkJrhh3rMNncVTMSpY7ndVEBAtVIpMuIw" frameborder="0" allowfullscreen=""></iframe><br><br>  Consider an example of creating replication between arrays, the source will be an array of P6300, the receiver will be P6500. <br><br>  It is necessary that a LUN (without Thin Provisioning) with the necessary parameters be created on each array. <br>  On the Source array, the disk is added to the Data Replication group, specifies the destination array, source volume, replication type (synchronous, asynchronous basic, asynchronous extended), Target LUN fault tolerance, LUN host access, log size.  After creating the replication group, we wait until the complete copy is written from one array to another. <br><br><h4>  4. Adding disks to a disk group </h4><br><iframe width="560" height="315" src="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://www.youtube.com/embed/o8xMMmiqRpc%3Ffeature%3Doembed&amp;xid=17259,15700019,15700186,15700190,15700253,15700255,15700259&amp;usg=ALkJrhge5JkFBGHsDLSw9a2c-CUu_XpP7g" frameborder="0" allowfullscreen=""></iframe><br><br>  After some time, it became necessary to add disks to a disk group. <br><br>  After connecting the disks to the array, go to the Command View interface, select the disk group that needs more disk space and add the ‚ÄúAdd disks‚Äù disks.  The array is being rebuilt and the added disk capacity is available for use. <br><br><h4>  5. Creating snapshots </h4><br><iframe width="560" height="315" src="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://www.youtube.com/embed/V5RiwmLYnk4%3Ffeature%3Doembed&amp;xid=17259,15700019,15700186,15700190,15700253,15700255,15700259&amp;usg=ALkJrhhVrs7JPJU0CnBpHM_uoFoMMYHZ_w" frameborder="0" allowfullscreen=""></iframe><br><br>  In the Virtual Disks section, go to the LUN, which needs to create a Snapshot.  We select a name (the date of creation is taken by default), a level of fault tolerance, a container that will contain snapshots (if necessary).  The disk becomes the parent, and in the directory below there will be a snapshot with the date of creation, later it can be presented to the host. <br><br> <a href=""><img src="https://habrastorage.org/storage2/bf0/c96/61a/bf0c9661abdd941f138861d3982e4bef.png"></a> <br><br>  As part of this post, I tried to show how convenient it is to use the P6000 arrays in everyday work.  In the following, I want to demonstrate the integration of an EVA array with VMware and the creation of a cluster of virtual machines. <br><br>  Thanks for attention! <br><br>  Literature: <br><ol><li>  P6000 Quickspecks ( <a href="http://h18000.www1.hp.com/products/quickspecs/13904_div/13904_div.pdf">http://h18000.www1.hp.com/products/quickspecs/13904_div/13904_div.pdf</a> ) </li><li>  P6000 EVA Simulator ( <a href="https://h20392.www2.hp.com/portal/swdepot/displayProductInfo.do%3FproductNumber%3DP6000EVASimulator">https://h20392.www2.hp.com/portal/swdepot/displayProductInfo.do?productNumber=P6000EVASimulator</a> ) </li><li>  Best Practices P6000 ( <a href="https://secure.europe.hp.com/h41111/rfg_formprocessor/SWD_Installed_Base/pl/pl/pdf/TWP_4AA3-2641ENW.PDF">https://secure.europe.hp.com/h41111/rfg_formprocessor/SWD_Installed_Base/pl/pl/pdf/TWP_4AA3-2641ENW.PDF</a> ) </li></ol></div><p>Source: <a href="https://habr.com/ru/post/144948/">https://habr.com/ru/post/144948/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../144942/index.html">Liang-Knuth's algorithm in a real project, or as I did the iOS reader</a></li>
<li><a href="../144943/index.html">2GIS Online knows when the transport will arrive</a></li>
<li><a href="../144944/index.html">What is really going on in the mobile market</a></li>
<li><a href="../144945/index.html">Public transport routes in Novosibirsk, Perm and Stavropol</a></li>
<li><a href="../144946/index.html">Some subtleties of installation on the site of buttons "Share" (share) of social networks</a></li>
<li><a href="../144951/index.html">HTML5 maps for mobile platforms</a></li>
<li><a href="../144952/index.html">Mobile technology: developing the world</a></li>
<li><a href="../144954/index.html">5 years to satellites on Yandex.Maps</a></li>
<li><a href="../144955/index.html">Uploading .3DS files to Android</a></li>
<li><a href="../144956/index.html">Opera Mini 7 for J2ME, BlackBerry and S60</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>