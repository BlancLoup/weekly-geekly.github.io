<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>VoxImplant Android SDK: telephony and voice real-time communication in your application</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="After creating the iOS SDK, we actively began working on the Android version, since modern trends do not allow to doubt the need to support this platf...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>VoxImplant Android SDK: telephony and voice real-time communication in your application</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/getpro/habr/post_images/e60/fd7/e3b/e60fd7e3b2d70fbf6dd47b6b2c10a70d.png" align="left">  After creating the iOS SDK, we actively began working on the Android version, since <a href="http://www.techrepublic.com/article/apple-v-google-the-goliath-deathmatch-by-the-numbers-in-2014/">modern trends</a> do not allow to doubt the need to support this platform.  In addition, there are already companies that have integrated the functionality of calls into their mobile applications for iOS, and they actively hinted that it would be time for Android to issue tools.  As a result, replenishment has occurred in the SDK family that can interact with the VoxImplant platform.  About what opportunities are available to developers and what can be built with them, as well as our idea about the contest for VoxImplant developers can be found under the cut. <br><a name="habracut"></a><br>  So, what do we need in order to create an Android application with the functionality of real-time communications from VoxImplant?  Firstly, fantasy to think of what we are doing and, secondly, tools for implementing our idea.  To get started, download the Eclipse build called ADT from <a href="http://developer.android.com/sdk/index.html%3Fhl%3Dsk">this link</a> from developer.android.com (as an option, now there is also an Android Studio based on IntelliJ IDEA on the same site).  Then we need to download the VoxImplant Android SDK from <a href="">this link</a> .  This archive is actually not just a library, but also an example of an application to make it easier to understand.  Unpack the archive and import the project into ADT.  You may have to fix some imports of the JRE and Android library, since the project may contain a different version.  If everything is done correctly, then we get a live project that can be built and run.  As a result, on the device or emulator we get the following result: <br><img src="https://habrastorage.org/getpro/habr/post_images/5f5/cf3/a73/5f5cf3a7361a8b3ac4312cd02e619ee5.png"><br>  It is logical that the application is useless without a VoxImplant account and any call processing script, so we need <a href="https://voximplant.com/sign-up/">to create</a> a VoxImplant developer account (if you don‚Äôt have one yet) and, after activation via SMS, go to <a href="https://manage.voximplant.com/">the control panel</a> .  Where we will see the following picture: <br><img src="https://habrastorage.org/getpro/habr/post_images/d19/8be/5e3/d198be5e3aa4a666e981c5cddf042399.png"><br><br>  Now we need to do the following: <br><ul><li>  Go to the Applications / Applications section and create an application, let's call it testapplication </li><li>  In the Users section, create a user and attach it to the application, the latter can be done both during the creation of the user, and after.  Let's call the user testuser </li><li>  Write a call processing script through the application (more on this below) </li><li>  Assign a call processing script specifying the number pattern at which it should work </li></ul><br><h5>  Call processing script </h5><br>  All scripts are written in Javascript and executed when you call the engine, which we call VoxEngine.  Of course, a number of classes are added to the standard features and capabilities of Javascript that allow you to manage calls, make HTTP requests, etc.  More information about the classes and features of VoxEngine is available here <a href="http://voximplant.com/docs/references/appengine/">http://voximplant.com/docs/references/appengine/</a> .  We now write a very simple script that will simply wrap the sound back, a sort of echo test often used in a number of IP-telephony systems.  Go to the Scenarios / Scenarios section, click to create a script, call it TestScenario and write the following code: <br><pre><code class="javascript hljs">VoxEngine.addEventListener(AppEvents.CallAlerting, <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">e</span></span></span><span class="hljs-function">) </span></span>{ e.call.answer(); e.call.addEventListener(CallEvents.Connected, <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">e</span></span></span><span class="hljs-function">) </span></span>{ e.call.sendMediaTo(e.call); }); });</code> </pre> <br>  In fact, we are answering the call from the SDK on the platform side, and after connecting we wrap the incoming sound back to the caller, we get an echo.  What we say, then we will hear back.  Save the script and go back to the Applications / Applications section, select editing our testapplication and open the Rules section.  Click Add Rule and define the rule, you can name it as you like, for example, EchoRule.  In the Pattern field, write echo instead of. * To execute this script only if the number was echo and drag TestScenario from Available to Assigned.  Click Add, then click Save.  Everything, the mission is completed, now you can return to our Android application and see how it all works (or does not work if something was done wrong along the way :) <br>  Enter the username in the form testuser @ full_name_your_application (testapplication.kraken.voximplant.com in my case), password and echo as the phone number, click Connect, after that the message Connected to server should appear.  Click Login and get Logged in successfully.  We press Call and we receive our call with an echo. <br><br><h5>  Call script customization </h5><br>  The echo is, of course, great, but it is of little use for some real-world applications, except for the case of testing the operation of the microphone, so let's now make it so that calls to real numbers are made.  Go to the scripts section and create the following script (let's call it PSTN): <br><pre> <code class="javascript hljs">VoxEngine.forwardCallToPSTN();</code> </pre><br>  Then we edit our application by adding a new rule (Rule), in which the Pattern is made of the form [0-9] + and in the Assigned we drag our PSTN script.  Save and go to the mobile application again.  Now, if instead of echo you enter a phone number in the format of the country code, region code, number (for example, 79261002030) and call, the call will go to the real phone number. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h5>  Other scenarios </h5><br>  On the basis of VoxImplant, you can make different services and applications.  For example, you can make an OMS call center operator based on some Android device or make a VoIP dialer a la Viber (despite the fact that we are still optimizing the platform for such scenarios, there are companies that have already made this functionality and built it in their applications).  We <a href="http://habrahabr.ru/post/212713/">have already written</a> about creating a cloud-based IP PBX based on VoxImplant, respectively, you can implement some mobile client to such PBX in addition to SIP devices or softphones, if you so desire.  In the near future, we will add video call support to the Android SDK so that its functionality is fully consistent with the iOS version. <br><br><h5>  Documentation </h5><br>  Documentation for the Android SDK is available at <a href="http://voximplant.com/docs/references/mobilesdk/android/">http://voximplant.com/docs/references/mobilesdk/android/</a> .  We recognize the critical importance of documentation and work to improve it while it is far from ideal, but we try to answer the questions that the developers send us.  If you have a question during the development, do not hesitate to write to us, we will be happy to help. <br><br><h5>  Competition </h5><br>  We have such an interesting desire - to hold a contest for developers for the best application / service using VoxImplant.  As soon as we complete the development of a number of important platform functions (for example, conferences) that will allow us to realize more of your fantasies, and finally determine the prize pool, criteria and conditions, we will announce it.  As they say, stay tuned! </div><p>Source: <a href="https://habr.com/ru/post/223431/">https://habr.com/ru/post/223431/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../223415/index.html">Intel GPA for Android - we optimize graphics in mobile applications</a></li>
<li><a href="../223419/index.html">Microwaves guard weather forecasts, or what a scatterometer</a></li>
<li><a href="../223421/index.html">How to optimize a site for mobile devices using PageSpeed ‚Äã‚ÄãInsights</a></li>
<li><a href="../223425/index.html">5 reasons to use AngularJS in your corporate application</a></li>
<li><a href="../223427/index.html">History of Chinese Astronautics</a></li>
<li><a href="../223433/index.html">History of wearable technology</a></li>
<li><a href="../223441/index.html">Number recognition: from A to 9. Part 3</a></li>
<li><a href="../223445/index.html">Meet AppCode 3.0: Built-in UI Designer, Reveal Plugin, and More</a></li>
<li><a href="../223449/index.html">SQLite file structure</a></li>
<li><a href="../223451/index.html">SQLite internal tables</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>