<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Google AppEngine Development: Right From the Start</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Recently, I asked a question - would it be interesting for habra people to read about how to write under Google AppEngine? Habralyudi said yes, I wond...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Google AppEngine Development: Right From the Start</h1><div class="post__text post__text-html js-mediator-article">  Recently, I asked a question - would it be interesting for habra people to read about how to write under Google AppEngine?  Habralyudi said yes, I wonder - well, I decided to start.  In this article we will consider the following questions: <ol><li>  Ultra-short introduction to Google AppEngine (GAE), what it is and what it is eaten with </li><li>  Features and limitations of gae </li><li>  A super-brief overview of the architecture of a GAE application </li><li>  Minimal Application Development with Authentication </li><li>  Developing a more sophisticated, real-world application based on <a href="http://mytwilinks.appspot.com/">MyTwiLinks</a> </li></ol>  Let's start from the very beginning, from the simplest - absolutely for noobs (which I was when I started to deal with GAE), gradually moving towards more complex concepts, ending with dirty hacks on the topic ‚Äúwhat if you can, but not very much‚Äù we will certainly not have time in this post, but we‚Äôll get there for sure). <br><br><a name="habracut"></a><br><br><h2>  What is Google AppEngine? </h2><br>  If you believe the official <a href="http://code.google.com/appengine/docs/whatisgoogleappengine.html">Getting Started</a> , GAE is the infrastructure that allows you to run your web applications on Google servers.  GAE solves many standard web development tasks, such as: <ol><li>  The organization of data storage and search for them is not exactly SQL, but it seems. </li><li>  The possibility of absolutely transparent expansion in the event of an increase in load - a properly developed application should scale without any involvement from the user </li><li>  Authorization of users through Google Authentication - the problem is solved in two lines exactly. </li><li>  Manage task queues and start tasks on a schedule. </li></ol>  GAE allows you to use two languages ‚Äã‚Äã- Python and Java.  In this article we will focus on Python, as more simple and transparent for GAE. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h2>  Features of development under GAE </h2><br>  There are several important features that need to be taken into account - they distinguish GAE from other web frameworks (strictly speaking, GAE is a framework and is not - this is a whole infrastructure). <br><ol><li>  Other computers on the network can only be reached via HTTP (s) only.  The reverse is also true - applications running on GAE are available only over HTTP (s) and only over standard ports. </li><li>  No write access to the file system.  The maximum that an application can do is to read the files that were downloaded along with the application itself.  To organize data storage, you should use either GAE Datastore (about this later), or memcache. </li><li>  There are only three scenarios of the application: <ul><li>  Reply to HTTP (s) request, in particular - user request </li><li>  Running tasks on a schedule (cron) </li><li>  Queue of tasks. </li></ul>  It is important to note that the last two types are sub-types of the first ‚Äî any task is launched as an HTTP request to a specific address, the only difference is who runs it ‚Äî the user, the task queue manager or cron.  The duration of a single task should not exceed 30 seconds - also an important limitation, and you have to live with it. <br></li></ol><br>  The above is an ultra-short course of a very young fighter GAE, then we rush into battle and there, along the way, we'll figure it out. <br><br><h2>  Create a GAE application </h2> <br>  To simplify the lives of simple developers as much as possible, Google has released a small application called <a href="http://code.google.com/appengine/downloads.html">Google AppEngine Launcher</a> - it allows you to create applications locally and run them on the user's local machine.  If you are using a Mac (just like so many google's), then there is a nice GUI for you, for Linux there is a set of console scripts that are simple to the extreme. <br> <a href="http://emberapp.com/sigizmund/images/googleappenginelauncher" title="View Image GoogleAppEngineLauncher at Ember.com"><img src="http://emberapp.com/sigizmund/images/googleappenginelauncher/sizes/m.png" title="GoogleAppEngineLauncher"></a> <br><br>  Initially, I promised to tell you about how <a href="http://mytwilinks.appspot.com/">MyTwiLinks</a> was made, but then I realized that without basic knowledge it would be quite difficult.  So let's start with something simple, for example ... <br><br> <a href="http://emberapp.com/sigizmund/images/helloworld" title="View Image helloworld at Ember.com"><img src="http://emberapp.com/sigizmund/images/helloworld/sizes/m.png" title="helloworld"></a> <br><br>  An application has been created.  Now we can do, in general, two things: run it and see what was created there?  Perhaps run.  Press the "Run" button, and when it becomes available - Browse: <br> <a href="httplocalhost8083" title="View Image http: // localhost: 8083 / at Ember.com"><img src="http://emberapp.com/sigizmund/images/httplocalhost8083/sizes/m.png" title="http: // localhost: 8083 /"></a> <br><br>  Nothing surprising, as expected.  Now it's time to see how it all works.  For convenience, I recommend specifying your editor in the GAE Launcher settings: <br> <a href="http://emberapp.com/sigizmund/images/preferences" title="View Image Preferences at Ember.com"><img src="http://emberapp.com/sigizmund/images/preferences/sizes/m.png" title="Preferences"></a> <br><br>  I recommend TextMate as the most advanced and extensible, in your case it may be something else.  Press the Edit button (selecting our created application) and get ... <br><br> <a href="http://emberapp.com/sigizmund/images/textmate" title="View Image TextMate at Ember.com"><img src="http://emberapp.com/sigizmund/images/textmate/sizes/m.png" title="Textmate"></a> <br><br>  Minimum GAE project - three files.  Right now, we are even interested in two - <code>app.yaml</code> and <code>main.py</code> , since <code>index.yaml</code> automatically generated.  Let's start with <code>app.yaml</code> : <br><br><pre>	 application: helloworld
	 version: 1
	 runtime: python
	 api_version: 1
	 handlers:
	 - url:. *
	   script: main.py
</pre><br>  What does this file say? <br><ol><li>  <code>application</code> - as it is not difficult to guess, this is the name of the application, this is how GAE will know it (and this name will be used to upload to Google) </li><li>  <code>version</code> - GAE supports a very flexible versioning mechanism;  at the same time, a significant number of code versions (and only one of them is default) can be downloaded (and work!) </li><li>  <code>api_version</code> - at the moment - constant, should be ‚Äú1‚Äù </li><li>  <code>handlers</code> - and this is where all the fun begins.  In this section, we list all the URLs to which the application should ‚Äúrespond‚Äù and the scripts that will process these requests.  Url <code>.*</code> - ‚Äúeverything else‚Äù, he should always go last in the list. </li></ol><br>  Let's try to implement a very simple application - for all users who will go to the page it will offer to log in via Google, and record all who have been authorized;  to the administrator, it will allow viewing the list of users who have logged in there.  Let's start with the authorization. <br><br><pre>	 #! / usr / bin / env python

	 from google.appengine.ext import webapp
	 from google.appengine.ext.webapp import util

	 from google.appengine.api import users

	 class MainHandler (webapp.RequestHandler):

	   def get (self):
	        user = users.get_current_user ()
	        if not user:
	            resp = ("Welcome to HelloWorld - please &lt;a href='%s'&gt; authorize &lt;/a&gt; to continue" 
	                       % users.create_login_url ("/"))
	        else:
	            resp = "Dear% s, thanks for authorizing!"  % user.nickname ()

	        self.response.out.write (resp)

	 def main ():
	   application = webapp.WSGIApplication ([('/', MainHandler)],
	                                        debug = True)
	   util.run_wsgi_app (application)


	 if __name__ == '__main__':
	   main ()
</pre><br><br>  Well, this is not the two lines that I promised - but you must admit, most of it was still spent on ‚Äúbeautiful‚Äù things, like communicating with the user.  The two expressions that really matter are <code>user = users.get_current_user()</code> and <code>users.create_login_url("/")</code> .  The first one checks if we have an active user session.  The second creates a URL that leads the user to the authorization form, and if successful, back to the application (the only parameter of the <code>create_login_url</code> function).  And what did we do? <br><br>  Display the request form: <br> <a href="httplocalhost8083-1" title="View Image http: // localhost: 8083 / at Ember.com"><img src="http://emberapp.com/sigizmund/images/httplocalhost8083-1/sizes/m.png" title="http: // localhost: 8083 /"></a> <br><br>  The authorization form is generated by GAE automatically;  If the application runs on Google‚Äôs servers, instead you‚Äôll see the standard ‚ÄúSign in with your Google Account‚Äù form: <br> <a href="http://emberapp.com/sigizmund/images/login" title="View Image Login at Ember.com"><img src="http://emberapp.com/sigizmund/images/login/sizes/m.png" title="Login"></a> <br><br>  And finally, the result: <br> <a href="httplocalhost8083-2" title="View Image http: // localhost: 8083 / at Ember.com"><img src="http://emberapp.com/sigizmund/images/httplocalhost8083-2/sizes/m.png" title="http: // localhost: 8083 /"></a> <br><br>  We wrote the simplest application with authorization, and we did not need to write almost anything.  This is one of the advantages of GAE - for 99% of the applications of the infrastructure that it provides, it should be enough completely. <br><br><h2>  Total </h2><br>  Here is the first article.  My initial predictions that everything can be easily and simply fit in one post turned out to be somewhat optimistic - and so much has already happened, and we only touched upon the actual writing of the code.  In the next article (which I think will be written soon - if the habra users are interested) we will finish our application, figure out how to store data and how to get to them, and upload it to Google servers.  The created project is available <a href="http://drop.io/rjdsh50/asset/helloworld-zip">here</a> - we will refine it along the way. <br><br>  <b>Update:</b> The second part - <a href="http://habrahabr.ru/blogs/gae/81920/">habrahabr.ru/blogs/gae/81920</a> <br>  <b>Update 2:</b> The third part - <a href="http://habrahabr.ru/blogs/gae/81933/">habrahabr.ru/blogs/gae/81933</a> <br><br>  The list of recommended literature will consist of one link: <a href="http://code.google.com/appengine/docs/python/overview.html">App Engine Python Overview</a> - read, look, understand.  This documentation was enough for me, although it took some time.  There will be questions - ask, and, of course, I look forward to your feedback and suggestions for continuation. </div><p>Source: <a href="https://habr.com/ru/post/81895/">https://habr.com/ru/post/81895/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../81889/index.html">Linux, security and all that ... (after)</a></li>
<li><a href="../81890/index.html">Energy Roof Coop Himmelb (l) au, Italy</a></li>
<li><a href="../81891/index.html">Exact Model Property Names in Doctrine</a></li>
<li><a href="../81892/index.html">SLTV - the first national Internet TV channel about software</a></li>
<li><a href="../81894/index.html">Visual integration of Firefox into KDE 4</a></li>
<li><a href="../81897/index.html">German aerial photographs of Leningrad 1942</a></li>
<li><a href="../81899/index.html">Google almost caught up with Yandex (according to comScore)</a></li>
<li><a href="../81900/index.html">January 28 - "Adobe Acrobat - Desktop Interaction and Document Processing Center", a free Softkey webinar and Adobe Systems Russia</a></li>
<li><a href="../81903/index.html">is the internet business entry threshold getting higher?</a></li>
<li><a href="../81904/index.html">The sad truth about corporate blogging</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>