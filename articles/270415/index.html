<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Solving the problem of storing music for Internet radio</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Good afternoon,% username%! 
 Somehow we decided to make an Internet radio with a company of friends, but as it turned out, the allocated space on the...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Solving the problem of storing music for Internet radio</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/files/91d/b58/36f/91db5836ff014fecb472f78fe69b4ae3.jpg" width="250"><br>  Good afternoon,% username%! <br>  Somehow we decided to make an Internet radio with a company of friends, but as it turned out, the allocated space on the VPS is not enough for a large archive of music, moreover buying additional gigabytes is a real robbery. <br><a name="habracut"></a><br>  I was looking for a solution for a long time, when suddenly I came across an excellent article by <a href="http://habrahabr.ru/users/ableev/" class="user_link">ableev</a> <a href="http://habrahabr.ru/post/142067/">‚ÄúYandex.Disk as a file system‚Äù</a> .  I had an idea, why not store music on the Yandex disk?  Here we omit the issue of licensing and copyright - this is a completely different story, I am interested in the technical part.  As it turned out, IceCast does not always manage to load music from the Yandex disk, which leads to stumbles and interruptions in broadcasting, and this is not good at all.  This problem caught me, and I found a solution - to determine what was playing on the radio at the moment and load the next tracks in advance, and remove the lost tracks from the server.  This generates traffic, I agree, but at the moment VPS with unlimited traffic is full, but there is no unlimited space on the disks. <br><br>  Since of the languages ‚Äã‚ÄãI somehow own C #, I had to resort to mono, and also write a few auxiliary scripts in Python, PHP, bash. <br><br>  Auxiliary scripts in the studio! 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      <b>id3.py</b> gets, when called by the argument, a track from which it takes tags and writes them into a text file: <br><div class="spoiler">  <b class="spoiler_title">id3.py</b> <div class="spoiler_text"><pre><code class="python hljs"><span class="hljs-comment"><span class="hljs-comment">#!/usr/bin/env python class Unbuffered(object): def __init__(self, stream): self.stream = stream def write(self, data): self.stream.write(data) self.stream.flush() def __getattr__(self, attr): return getattr(self.stream, attr) import eyeD3 import sys import argparse def createParser (): parser = argparse.ArgumentParser() parser.add_argument('-f', '--file') return parser if __name__ == '__main__': parser = createParser() namespace = parser.parse_args(sys.argv[1:]) tag = eyeD3.Tag() tag.link(namespace.file) sys.stdout = Unbuffered(sys.stdout) s = tag.getArtist()+" - "+tag.getTitle() f = open('tag.txt','w') f.write(s) f.close()</span></span></code> </pre> <br></div></div><br><br>  <b>getCurrent.php parses the</b> IceCast page with information about the current track and gives the name of the playing track. <br><div class="spoiler">  <b class="spoiler_title">getCurrent.php</b> <div class="spoiler_text"><pre> <code class="php hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> error_reporting(<span class="hljs-number"><span class="hljs-number">0</span></span>); header(<span class="hljs-string"><span class="hljs-string">"Content-Type: text/html; charset=UTF-8"</span></span>); $file_name=<span class="hljs-string"><span class="hljs-string">"http://localhost:8000/status.xsl?mount=/stream"</span></span>; $r=fopen($file_name,<span class="hljs-string"><span class="hljs-string">'r'</span></span>); $text=fread($r,<span class="hljs-number"><span class="hljs-number">10000</span></span>); fclose($r); $mas=explode(<span class="hljs-string"><span class="hljs-string">'&lt;tr&gt;'</span></span>, $text); $name = explode(<span class="hljs-string"><span class="hljs-string">':'</span></span>, $mas[<span class="hljs-number"><span class="hljs-number">3</span></span>]); $q = explode (<span class="hljs-string"><span class="hljs-string">'&lt;/td&gt;'</span></span>,$name[<span class="hljs-number"><span class="hljs-number">1</span></span>]); $q2 = explode (<span class="hljs-string"><span class="hljs-string">'&lt;td class="streamdata"&gt;'</span></span>,$q[<span class="hljs-number"><span class="hljs-number">1</span></span>]); $rj = $q2[<span class="hljs-number"><span class="hljs-number">1</span></span>]; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>($rj == <span class="hljs-string"><span class="hljs-string">"0"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">or</span></span> $rj == <span class="hljs-string"><span class="hljs-string">""</span></span>){ <span class="hljs-keyword"><span class="hljs-keyword">echo</span></span> <span class="hljs-string"><span class="hljs-string">" Nonstop"</span></span>; }<span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { $fl = file_get_contents(<span class="hljs-string"><span class="hljs-string">'http://localhost:8000/status.xsl?mount=/stream'</span></span>); <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">antara</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">($string, $start, $end)</span></span></span></span>{ $string = <span class="hljs-string"><span class="hljs-string">" "</span></span>.$string; $ini = strpos($string,$start); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> ($ini == <span class="hljs-number"><span class="hljs-number">0</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-string"><span class="hljs-string">""</span></span>; $ini += strlen($start); $len = strpos($string,$end,$ini) - $ini; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> substr($string,$ini,$len); } $stream = antara($fl,<span class="hljs-string"><span class="hljs-string">"&lt;td&gt;Stream Title:&lt;/td&gt;\n&lt;td class=\"streamdata\"&gt;"</span></span>,<span class="hljs-string"><span class="hljs-string">"&lt;/td&gt;"</span></span>); $description = antara($fl, <span class="hljs-string"><span class="hljs-string">"&lt;td&gt;Stream Description:&lt;/td&gt;\n&lt;td class=\"streamdata\"&gt;"</span></span>, <span class="hljs-string"><span class="hljs-string">"&lt;/td&gt;"</span></span>); $listeners = antara($fl, <span class="hljs-string"><span class="hljs-string">"&lt;td&gt;Current Listeners:&lt;/td&gt;\n&lt;td class=\"streamdata\"&gt;"</span></span>, <span class="hljs-string"><span class="hljs-string">"&lt;/td&gt;"</span></span>); $max = antara($fl, <span class="hljs-string"><span class="hljs-string">"&lt;td&gt;Peak Listeners:&lt;/td&gt;\n&lt;td class=\"streamdata\"&gt;"</span></span>, <span class="hljs-string"><span class="hljs-string">"&lt;/td&gt;"</span></span>); $song = antara($fl, <span class="hljs-string"><span class="hljs-string">"&lt;td&gt;Current Song:&lt;/td&gt;\n&lt;td class=\"streamdata\"&gt;"</span></span>, <span class="hljs-string"><span class="hljs-string">"&lt;/td&gt;"</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">echo</span></span> $song; <span class="hljs-meta"><span class="hljs-meta">?&gt;</span></span></code> </pre><br></div></div><br><br>  A small script on bash <b>isOnline.sh</b> checks if the radio script is running and the status information is also written to a text file. <br><div class="spoiler">  <b class="spoiler_title">isOnline.sh</b> <div class="spoiler_text"><pre> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment">#!/bin/bash rm isOnline.txt ps ax | grep -v grep | grep radio.sh &gt; isOnline.txt</span></span></code> </pre><br></div></div><br><br>  The radio script liquidsoap <b>radio.sh</b> is the radio itself. <br><div class="spoiler">  <b class="spoiler_title">radio.sh</b> <div class="spoiler_text"><pre> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment">#!/usr/bin/liquidsoap #          #      out = output.icecast( #   icecast host = "127.0.0.1", #   port = 8000, #  user = "source", #   password = "password", #  name = "Radio Name", #  genre = "Various", #    url = "http://www.host.local" #  encoding = "UTF-8" ) #  telnet- #set("server.telnet.bind_addr","127.0.0.1") #set("server.telnet",true) # _____________________________________ #     . #    ,       ,       ,       .   ,   . #      #wd = "/home/admin/radio" #      #pl = "#{wd}/collection" #   #tech = "#{wd}/technical" #  set("log.file.append",true) set("log.file",true) set("log.file.path","/var/data/liquidsoap.log") #     set("log.level", 3) #   #set("buffering.kind","disk_manyfiles") #set("decoding.buffer_length",30.) #set("buffering.path","/tmp/radio") #     #promo_dir = "#{pl}/promo" #    #progr_dir = "#{pl}/programs" #     #ef = "#{pl}/efir" #    #ni = "#{ef}/night" #    mus_ni_dir = "loc.playlist.txt" #    jin_ni_dir = "/mnt/username.yadisk/RT/jingles" #promo promo_dir = "/mnt/username.yadisk/RT/promo" mus_ni = playlist (reload = 86400, "#{mus_ni_dir}", mode = "normal") jin_ni = playlist (reload = 86400, "#{jin_ni_dir}", mode = "normal") promo = playlist (reload = 86400, "#{promo_dir}") ni = rotate (weights = [1, 10, 1, 5], [jin_ni, mus_ni, promo, mus_ni]) radio = switch (track_sensitive = true, [ #({ (2w16h10m - 2w16h20m) or (3w14h - 3w14h5m) or (4w16h - 4w16h5m)}, spekt), ({ (3w23h - 3w23h5m) or (4w10h - 4w10h5m)}, pozdr), ({ (2w18h - 2w18h5m) or #(3w18h - 3w18h5m)}, xmas_trad), ({ (6w14h - 6w14h10m) or (6w18h - 6w18h10m)}, prog1), ({ (6w0h - 7w18h)}, xmas_mus_prog), ({ 1w0h - 7w23h59m }, ni) ]) radio = mksafe(radio) radio = crossfade(start_next=2., fade_out=2., fade_in=2., radio) out( %mp3(bitrate = 128, id3v2 = true), description = "Radio Name 128kbps", mount = "stream", mksafe(radio) )</span></span></code> </pre><br></div></div><br><br>  The generator of the playlist, <b>generator.sh,</b> creates a list of files on a mounted disk, shuffles the list and writes to a text file.  This script is remarkable because here you can add a lot of discs and collect everything in 1 playlist. <br><div class="spoiler">  <b class="spoiler_title">generator.sh</b> <div class="spoiler_text"><pre> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment">#!/bin/sh find "/mnt/username.yadisk/RT/music" -name '*.mp3' -print &gt; "disk.playlist.txt" shuf -n 500 "disk.playlist.txt" -o "disk.playlist.txt" sed 's/\/mnt\/username.yadisk\/RT\/music/\/home\/admin\/rt\/tmp/g' disk.playlist.txt &gt; loc.playlist.txt</span></span></code> </pre><br></div></div><br><br>  It now remains to write a control script that will monitor whether the radio script has fallen, launch it in the event of a fall, monitor the playlist, load and delete tracks. <br><div class="spoiler">  <b class="spoiler_title">radio_control.cs</b> <div class="spoiler_text"><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">using</span></span> System; <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> System.Collections.Generic; <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> System.IO; <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> System.Collections; <span class="hljs-keyword"><span class="hljs-keyword">using</span></span> System.Diagnostics; <span class="hljs-keyword"><span class="hljs-keyword">namespace</span></span> <span class="hljs-title"><span class="hljs-title">radio_control</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">song</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">string</span></span> filename; <span class="hljs-keyword"><span class="hljs-keyword">string</span></span> tagname; <span class="hljs-keyword"><span class="hljs-keyword">string</span></span> prepared; System.Diagnostics.Process getTag; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">song</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { getTag = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> System.Diagnostics.Process(); getTag.EnableRaisingEvents = <span class="hljs-literal"><span class="hljs-literal">false</span></span>; getTag.StartInfo.FileName = <span class="hljs-string"><span class="hljs-string">"./id3.py"</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">string</span></span> FileName { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> filename; } <span class="hljs-keyword"><span class="hljs-keyword">set</span></span> { filename = <span class="hljs-keyword"><span class="hljs-keyword">value</span></span>; } } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">string</span></span> Tag { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> tagname; } <span class="hljs-keyword"><span class="hljs-keyword">set</span></span> { tagname = <span class="hljs-keyword"><span class="hljs-keyword">value</span></span>; } } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">string</span></span> Prepared { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> prepared; } <span class="hljs-keyword"><span class="hljs-keyword">set</span></span> { prepared = <span class="hljs-keyword"><span class="hljs-keyword">value</span></span>; } } <span class="hljs-comment"><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">///</span></span></span><span class="hljs-comment"> </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">&lt;summary&gt;</span></span></span><span class="hljs-comment"> </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">///</span></span></span><span class="hljs-comment">     ,        Prepared </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">///</span></span></span><span class="hljs-comment"> </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">&lt;/summary&gt;</span></span></span><span class="hljs-comment"> </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">///</span></span></span><span class="hljs-comment"> </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">&lt;param name="tmpDir"&gt;</span></span></span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">&lt;/param&gt;</span></span></span><span class="hljs-comment"> public void Prepare(string tmpDir) { File.Copy(FileName, tmpDir+Path.GetFileName(FileName), true); Prepared = tmpDir + Path.GetFileName(FileName); Tag = _getTag().Replace(Environment.NewLine,""); } //     public void Destroy() { File.Delete(Prepared); } //    string _getTag() { getTag.StartInfo.Arguments = "-f " + this.Prepared; getTag.Start(); getTag.WaitForExit(); StreamReader str = new StreamReader("tag.txt"); string tag = str.ReadToEnd(); str.Close(); return tag; } } class Program { static void Main(string[] args) { //,       int count = 0; string pl_file = "/home/admin/rt/disk.playlist.txt"; //  string tmpDir = "/home/admin/rt/tmp/"; //     string newplTime = "23:30"; //    List</span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">&lt;song&gt;</span></span></span><span class="hljs-comment"> songs = new List</span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">&lt;song&gt;</span></span></span><span class="hljs-comment">(); //      icecast System.Diagnostics.Process getCurrent = new System.Diagnostics.Process(); getCurrent.EnableRaisingEvents = false; getCurrent.StartInfo.RedirectStandardOutput = true; getCurrent.StartInfo.FileName = "/usr/bin/php"; getCurrent.StartInfo.UseShellExecute = false; getCurrent.StartInfo.Arguments = "getCurrent.php"; // ,     System.Diagnostics.Process isRadio = new System.Diagnostics.Process(); isRadio.EnableRaisingEvents = false; getCurrent.StartInfo.UseShellExecute = false; getCurrent.StartInfo.RedirectStandardOutput = true; isRadio.StartInfo.FileName = "isOnline.sh"; //   System.Diagnostics.Process radio = new System.Diagnostics.Process(); radio.EnableRaisingEvents = false; getCurrent.StartInfo.UseShellExecute = false; getCurrent.StartInfo.RedirectStandardOutput = true; radio.StartInfo.FileName = "screen"; radio.StartInfo.Arguments = "-dmS radio liquidsoap --verbose radiotera.sh"; //   radio System.Diagnostics.Process killRadio = new System.Diagnostics.Process(); killRadio.EnableRaisingEvents = false; getCurrent.StartInfo.UseShellExecute = false; getCurrent.StartInfo.RedirectStandardOutput = true; killRadio.StartInfo.FileName = "screen"; killRadio.StartInfo.Arguments = "-X -S radio quit"; //    Process genPl = new Process(); genPl.EnableRaisingEvents = false; genPl.StartInfo.UseShellExecute = false; genPl.StartInfo.FileName = "generator.sh"; //   ,  -    first in - first out Queue queue = new Queue(3); //     string[] playlist = (System.IO.File.ReadAllLines(pl_file)); log("Loading playlist"); // ID3       song sng; foreach (string value in playlist) { sng = new song(); sng.FileName = value; songs.Add(sng); } log("Playlist loaded.", ConsoleColor.Green); //  3     songs[0].Prepare(tmpDir); count++; songs[1].Prepare(tmpDir); count++; songs[2].Prepare(tmpDir); count++; //    queue.Enqueue(songs[0]); queue.Enqueue(songs[1]); queue.Enqueue(songs[2]); log("First 3 tracks prepared:\n"+songs[0].Tag+"\n"+songs[1].Tag+"\n"+songs[2].Tag, ConsoleColor.Green); //   song tmp = new song(); StreamReader rdr; string online = ""; while (true) { log("Check time to change playlist"); //    if (DateTime.Now.ToString("HH:mm") == newplTime) { log("Its time to change playlist!", ConsoleColor.Red); genPl.Start(); //  genPl.WaitForExit(); log("Playlist generated", ConsoleColor.Green); log("Loading playlist"); playlist = (System.IO.File.ReadAllLines(pl_file)); songs.Clear(); foreach (string value in playlist) //  { sng = new song(); sng.FileName = value; songs.Add(sng); } log("Playlist loaded", ConsoleColor.Green); } log("Check the availability of radio"); isRadio.Start(); isRadio.WaitForExit(); rdr = new StreamReader("isOnline.txt"); online=rdr.ReadToEnd(); rdr.Close(); //  ? if (online == "") { log("Radio is offline!\nClearing screen", ConsoleColor.Red); killRadio.Start(); killRadio.WaitForExit(); log("Starting the radio"); radio.Start(); log("Waiting for 10 seconds"); System.Threading.Thread.Sleep(10000); } log("Get current song"); //   getCurrent.Start(); getCurrent.WaitForExit(); string curr = getCurrent.StandardOutput.ReadToEnd(); if (curr == "") continue; //    tmp = new song(); tmp = (song)queue.Peek(); //,      log("Now playing: " + curr, ConsoleColor.Cyan); log("Checking queue tag: "+tmp.Tag, ConsoleColor.Cyan); if (tmp.Tag != curr) { //   ,    ‚Äî   . //           if ((curr == "Radio TERA - Radio TERA") || (curr=="Unknown") || (curr=="NonstopS")) { log("Now playing radio jingle, move on to the next iteration"); continue; } log("The current track is different from the queue!!!\nMove the queue", ConsoleColor.Red); //     ,      queue.Dequeue(); log("Dequene track with tag "+tmp.Tag); //     log("Remove the track ended"); tmp.Destroy(); //      log("Prepare next track"); songs[count].Prepare(tmpDir); //    log("Adding it to queue "+songs[count].Tag); queue.Enqueue(songs[count]); //  count++; log("Count now: " + count.ToString()); //    ,         if (count &gt; songs.Count - 1) { count = 0; } } // 30  System.Threading.Thread.Sleep(30000); } } static void log(string str) { Console.WriteLine(str); } static void log(string str, ConsoleColor frcolor) { Console.ForegroundColor = frcolor; Console.WriteLine(str); Console.ForegroundColor=ConsoleColor.White; } } }</span></span></code> </pre><br></div></div><br><br>  I apologize for my code, all this could be written within the same script, but I wanted to solve the problem faster and used the tools I owned for various subtasks. <br><br>  For normal work you will need: <br><ul><li>  mono </li><li>  liquidsoap </li><li>  screen </li><li>  Icecast </li><li>  davfs2 </li><li>  php </li><li>  eyeD3 for Python </li></ul><br><br>  The system is started via radio_control.cs.  Everything.  Then he will launch the radio himself, generate a playlist, upload the music and at the same time write to the terminal what he is doing. <br><br>  Unfortunately, we closed the radio, but I really wanted my work not to be in vain, I hope someone helped. </div><p>Source: <a href="https://habr.com/ru/post/270415/">https://habr.com/ru/post/270415/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../270395/index.html">Tibero part 2. Relocation of the project from Oracle</a></li>
<li><a href="../270401/index.html">Service plan "for every day" - Part 3: Automatic creation of backups</a></li>
<li><a href="../270407/index.html">Small thoughts about alternatives and about the "killers" 1C</a></li>
<li><a href="../270411/index.html">The digest of interesting materials for the mobile developer # 128 (November 2‚Äì8)</a></li>
<li><a href="../270413/index.html">We use DataGrid in WPF</a></li>
<li><a href="../270417/index.html">PyNSK # 4 - the fourth meeting of the Novosibirsk Python community</a></li>
<li><a href="../270421/index.html">Thinstation Server Overview</a></li>
<li><a href="../270423/index.html">RuTracker can be blocked for users from the Russian Federation, as in the Netherlands are struggling with similar problems?</a></li>
<li><a href="../270425/index.html">Universal toCamelCase () function for Java</a></li>
<li><a href="../270429/index.html">Retrieving deleted data in iOS. Part 2</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>