<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>The difference of the frame from the library</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Foreword 


 It‚Äôs no secret that a modern developer is trying to improve efficiency and calls on libraries and frames for help. 


 The word framework...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>The difference of the frame from the library</h1><div class="post__text post__text-html js-mediator-article"><h2>  Foreword </h2><br><p>  It‚Äôs no secret that a modern developer is trying to improve efficiency and calls on libraries and frames for help. </p><br><p>  The word framework (caracas) became so common that confusion began to occur - what can be called a skeleton, and what is not one? </p><br><p>  This work aims to clarify the features, the differences of the frame from the library.  There are probably cases in which it is generally difficult to determine that there is a framework or a library in front of us, since the framework can carry with it a set of auxiliary libraries. </p><a name="habracut"></a><br><h2>  Library </h2><br><p>  Everything is simple with the library.  Someone wrote the code, put out the open methods / properties (API) and this can be used.  In a sense, the library is a service, and your code is a client. </p><br><p>  There are no restrictions on how you build your application library does not impose.  You just need to follow the rules for using the library - follow its API. </p><br><p>  We conclude that the library imposes restrictions on us at the <em>level of implementation</em> , the stage of construction (coding) of our application. </p><br><p>  As an example, here‚Äôs a fragment of an imaginary JavaScript library working with names and surnames: </p><br><pre><code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> nameUtil = { <span class="hljs-attr"><span class="hljs-attr">correctFullName</span></span>:<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">fullname</span></span></span><span class="hljs-function">)</span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> f = fullname.replace(<span class="hljs-regexp"><span class="hljs-regexp">/^ +| +$| {2}/g</span></span>, <span class="hljs-string"><span class="hljs-string">""</span></span>) f = f.substring(<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">1</span></span>).toUpperCase()+f.substring(<span class="hljs-number"><span class="hljs-number">1</span></span>,f.length) f = f.substring(<span class="hljs-number"><span class="hljs-number">0</span></span>, f.indexOf(<span class="hljs-string"><span class="hljs-string">" "</span></span>)+<span class="hljs-number"><span class="hljs-number">1</span></span>) + (f.substring(f.indexOf(<span class="hljs-string"><span class="hljs-string">" "</span></span>)+<span class="hljs-number"><span class="hljs-number">1</span></span>, f.indexOf(<span class="hljs-string"><span class="hljs-string">" "</span></span>)+<span class="hljs-number"><span class="hljs-number">2</span></span>)).toUpperCase() + f.substring(f.indexOf(<span class="hljs-string"><span class="hljs-string">" "</span></span>)+<span class="hljs-number"><span class="hljs-number">2</span></span>, f.length) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> f } }</code> </pre> <br><p>  The method ‚ÄúnameUtil.correctFullName‚Äù corrects the spelling of the full name of the person, that is, ‚ÄúJohn leaf‚Äù corrects in ‚ÄúJohn Leaf‚Äù.  We put this library in the project and just start using its services - we call its methods, that is: </p><br><pre> <code class="javascript hljs">nameUtil.correctFullName(‚Äúsome Name‚Äù)</code> </pre> <br><h2>  Frame </h2><br><p>  With the framework, there is another story, the framework imposes restrictions on the <em>level of architecture</em> , the design stage of the application.  Moreover, its influence extends to the level of implementation. </p><br><p>  <a href="https://en.wikipedia.org/wiki/Software_framework">An article on Wikipedia</a> , referring to the work of Wolfgang Prie, mentions frozen and hot spots.  The source of <a href="http://citeseerx.ist.psu.edu/viewdoc/download%3Fdoi%3D10.1.1.92.1202%26rep%3Drep1%26type%3Dpdf">‚ÄúMeta Patterns ‚Äî A Means For Capturing the Essentials of Reusable Object-Oriented Design‚Äù</a> refers to hot spots, gray and white. </p><br><p>  Let's try to interpret this with the following illustration: </p><br><img src="https://habrastorage.org/files/d2f/cac/a64/d2fcaca6484b436b85546ef6c29a4bfb.png"><br><p>  <em>Fig.</em>  <em>1 - Frame and other parts of the system</em> </p><br><p>  Blue dots show parts of the frame, they are unchanged.  Orange dots are those parts that were created as part of a project. </p><br><p>  The following differences between the library and the framework are most often mentioned: </p><br><ul><li>  you call library code </li><li>  the framework calls your code </li></ul><br><h2>  A practical example of a frame </h2><br><p>  Create a frame and see how we managed to implement the properties of the frame.  The framework implements an architectural pattern, in our case it is MVC.  The ‚ÄúPublisher Publisher‚Äù design pattern has been applied to the event processing part. </p><br><p>  Using the frame, we will write a part of an imaginary personnel management application.  Our application fragment will only display a list of employees in the table with the ability to filter by experience. </p><br><p>  For our system, we write the following components in JavaScript: </p><br><p>  <strong>EventBus</strong> is an instance of the controller, the event bus.  In it, we register event subscribers and post events.  When an event is posted, the bus finds subscribers by the event signature (identifier) ‚Äã‚Äãand calls the event handling method.  An event bus links all parts of our system.  The system exists in a single copy, so create it using the literal notation of JavaScript. </p><br><pre> <code class="javascript hljs"><span class="hljs-comment"><span class="hljs-comment">/* * -,  ,       . */</span></span> EventBus = { <span class="hljs-attr"><span class="hljs-attr">subscribers</span></span>:[], <span class="hljs-comment"><span class="hljs-comment">/* *    * @param subscriberObject -   * @param subscriberMethod       */</span></span> subscribe:<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">subscriberObject, subscriberMethod, event</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> subscriber = {} subscriber.object = subscriberObject subscriber.method = subscriberMethod subscriber.event = event <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.subscribers[<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.subscribers.length]=subscriber }, <span class="hljs-comment"><span class="hljs-comment">/* *   * @param eventId -  * @param params  * @param callback ,          * @return      */</span></span> publish:<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">eventId, params, callback</span></span></span><span class="hljs-function">)</span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">for</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">var</span></span> i=<span class="hljs-number"><span class="hljs-number">0</span></span>; i&lt;<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.subscribers.length; i++){ <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> event = <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.subscribers[i].event <span class="hljs-comment"><span class="hljs-comment">//console.log("eventId=",eventId, " callback=", typeof callback) if(event===eventId){ if(typeof callback=='function'){ callback(this.subscribers[i].object[this.subscribers[i].method](params)) } else { this.subscribers[i].object[this.subscribers[i].method](params) } } } } }</span></span></code> </pre> <br><p>  <strong>Table</strong> - a component of visual display of information in the form of a table.  It requires a specific data structure.  Implemented as a constructor object, you can create instances. </p><br><pre> <code class="javascript hljs"><span class="hljs-comment"><span class="hljs-comment">/* * -,     * @param nameParam    * @param eBus   * @param domId   DOM-    */</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Table</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">nameParam, eBus, domId</span></span></span><span class="hljs-function">)</span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> name = nameParam <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> targetDomId = domId <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> eventBus = eBus <span class="hljs-comment"><span class="hljs-comment">/* *   * @param params  ,      */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.show = <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">params</span></span></span><span class="hljs-function">)</span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> data={} data.headers=[] data.rows=[] <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.remove() <span class="hljs-comment"><span class="hljs-comment">// get data from a data source eventBus.publish(name+ ".getDataSet", params, function(d){ data = d}) var targetDom = document.getElementById(targetDomId) var tableElement = document.createElement("TABLE") var tbodyElement = document.createElement("TBODY") var trElement = document.createElement("TR") trElement.style.background="#eaeaea" for(i=0;i&lt;data.headers.length;i++){ var tdElement = document.createElement("TD") tdElement.appendChild(document.createTextNode(data.headers[i])) trElement.appendChild(tdElement) } tbodyElement.appendChild(trElement) for(i=0;i&lt;data.rows.length;i++){ var trElement = document.createElement("TR") for(j=0;j&lt;data.rows[i].length; j++){ var tdElement = document.createElement("TD") tdElement.appendChild(document.createTextNode(data.rows[i][j])) trElement.appendChild(tdElement) } tbodyElement.appendChild(trElement) } tableElement.appendChild(tbodyElement) targetDom.appendChild(tableElement) tableElement.border=1 } /* *    DOM */ this.remove = function(){ var targetDom = document.getElementById(targetDomId) try{ while (targetDom.firstChild) { targetDom.removeChild(targetDom.firstChild); } }catch(e){} } }</span></span></code> </pre> <br><p>  <strong>DataSource</strong> - the data source object instance.  He is able to give a certain data structure.  Inside it contains a test set of the data itself (data variable). </p><br><pre> <code class="javascript hljs"><span class="hljs-comment"><span class="hljs-comment">/* * -,   */</span></span> DataSource = { <span class="hljs-comment"><span class="hljs-comment">/* *    * @return   */</span></span> loadDepartments:<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> data } } <span class="hljs-comment"><span class="hljs-comment">//   var data = [ {name:"IT", employees:[ {name:"Federico", surname:"Gonsales", position:"Engineer", hirenDate:"2013-01-02"}, {name:"Mike", surname:"Saldan", position:"Tester", hirenDate:"2011-11-22"}, {name:"Leo", surname:"Sigh", position:"Architect", hirenDate:"2001-12-12"} ] }, {name:"Sales", employees:[ {name:"Sarah", surname:"Connor", position:"Manager", hirenDate:"2010-04-14"}, {name:"Richard", surname:"Senom", position:"Specialist", hirenDate:"2014-05-07"} ] } ]</span></span></code> </pre> <br><p>  <strong>Employee</strong> is a model constructor object representing an object of the domain - the Employee. </p><br><pre> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Employee</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">nameParam, surnameParam, positionParam, hirenDateParam</span></span></span><span class="hljs-function">)</span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> name = nameParam <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> surname = surnameParam <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> position = positionParam <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> hirenDate = hirenDateParam <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.setName = <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">n</span></span></span><span class="hljs-function">)</span></span>{ name=n } <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.setSurname = <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">s</span></span></span><span class="hljs-function">)</span></span>{ surname=s } <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.setPosition = <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">p</span></span></span><span class="hljs-function">)</span></span>{ position=p } <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.setHirenDate = <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">d</span></span></span><span class="hljs-function">)</span></span>{ hirenDate=d } <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.getName = <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> name } <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.getSurname = <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> surname } <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.getPosition = <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> position } <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.getHirenDate = <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> hirenDate } <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.getFullName = <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> name+<span class="hljs-string"><span class="hljs-string">" "</span></span>+surname } <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.getExperience = <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> oneDay = <span class="hljs-number"><span class="hljs-number">24</span></span>*<span class="hljs-number"><span class="hljs-number">60</span></span>*<span class="hljs-number"><span class="hljs-number">60</span></span>*<span class="hljs-number"><span class="hljs-number">1000</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> now = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> <span class="hljs-built_in"><span class="hljs-built_in">Date</span></span>(); <span class="hljs-comment"><span class="hljs-comment">//console.log(hirenDate.getTime() +"-"+ now.getTime()) var diffDays = Math.round(Math.abs((hirenDate.getTime() - now.getTime())/(oneDay))) return (diffDays/365).toFixed(0) } }</span></span></code> </pre> <br><p>  <strong>Department</strong> is a model constructor object representing a domain object ‚Äî Department. </p><br><pre> <code class="javascript hljs"><span class="hljs-comment"><span class="hljs-comment">/* * - ,     * @param nameParam   */</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Department</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">nameParam</span></span></span><span class="hljs-function">)</span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> name = nameParam <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> employees = [] <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.setName = <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">n</span></span></span><span class="hljs-function">)</span></span>{ name=n } <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.addEmployee = <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">e</span></span></span><span class="hljs-function">)</span></span>{ employees[employees.length] = e } <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.getName = <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> name } <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.getEmployees = <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> employees } }</code> </pre> <br><p>  <strong>Main</strong> - the main object of the application, connects all together.  In terms of use, the framework makes its own rules.  To place our table on the page (Table), follow these steps: </p><br><p>  Create an instance of Table specifying the event handler generated by the visual component. <br>  In response to a call with the ‚ÄúgetDataSet‚Äù parameter, the event handler must return a JSON structure of the form: <br>  [headers: [‚Äúfirst‚Äù, ‚Äúsecond‚Äù], rows: [[value1, value2], [value3, value4]]] </p><br><p>  Looking at the ‚ÄúMain‚Äù object it may seem that we do not need to create instances of the model in order to send the data set to the ‚ÄúTable‚Äù component, but this is not so.  Model objects contain business logic that should not be in the controller, for example, calculating employee experience (‚ÄúgetExpirience‚Äù method) </p><br><pre> <code class="javascript hljs"><span class="hljs-comment"><span class="hljs-comment">/* * -,   ,     , *   ,           Table */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> Main = { <span class="hljs-comment"><span class="hljs-comment">/* *    ,    *  ,           */</span></span> init:<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> myTable = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Table(<span class="hljs-string"><span class="hljs-string">"myTable"</span></span>, EventBus, <span class="hljs-string"><span class="hljs-string">"employeeTable"</span></span>) EventBus.subscribe(myTable, <span class="hljs-string"><span class="hljs-string">"show"</span></span>, <span class="hljs-string"><span class="hljs-string">'employee.showTable'</span></span>) EventBus.subscribe(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>, <span class="hljs-string"><span class="hljs-string">"getEmployeesDataSet"</span></span>, <span class="hljs-string"><span class="hljs-string">"myTable.getDataSet"</span></span>) EventBus.subscribe(DataSource, <span class="hljs-string"><span class="hljs-string">"loadDepartments"</span></span>, <span class="hljs-string"><span class="hljs-string">"loadDepartments"</span></span>) }, <span class="hljs-comment"><span class="hljs-comment">/* *    ,    ,    * @param params     */</span></span> getEmployeesDataSet:<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">params</span></span></span><span class="hljs-function">)</span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> data EventBus.publish(<span class="hljs-string"><span class="hljs-string">"loadDepartments"</span></span>, <span class="hljs-literal"><span class="hljs-literal">null</span></span>, <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">d</span></span></span><span class="hljs-function">)</span></span>{ data = d }) <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> departments = [] <span class="hljs-keyword"><span class="hljs-keyword">for</span></span>(i=<span class="hljs-number"><span class="hljs-number">0</span></span>; i&lt;data.length; i++){ department = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Department(data[i].name) <span class="hljs-keyword"><span class="hljs-keyword">for</span></span>(j=<span class="hljs-number"><span class="hljs-number">0</span></span>;j&lt;data[i].employees.length; j++){ <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> h = data[i].employees[j].hirenDate <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> hirenDate = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> <span class="hljs-built_in"><span class="hljs-built_in">Date</span></span>(h.substring(<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">4</span></span>), h.substring(<span class="hljs-number"><span class="hljs-number">5</span></span>,<span class="hljs-number"><span class="hljs-number">7</span></span>), h.substring(<span class="hljs-number"><span class="hljs-number">8</span></span>,<span class="hljs-number"><span class="hljs-number">10</span></span>)) employee = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Employee(data[i].employees[j].name, data[i].employees[j].surname, data[i].employees[j].position, hirenDate) department.addEmployee(employee) } departments[i] = department } records = [] <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> c=<span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-keyword"><span class="hljs-keyword">for</span></span>(i=<span class="hljs-number"><span class="hljs-number">0</span></span>;i&lt;departments.length;i++){ department = departments[i] employees = department.getEmployees() <span class="hljs-keyword"><span class="hljs-keyword">for</span></span>(j=<span class="hljs-number"><span class="hljs-number">0</span></span>;j&lt;employees.length;j++){ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(params){ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(params.expirience){ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(employees[j].getExperience()*<span class="hljs-number"><span class="hljs-number">1</span></span> &gt;= params.expirience*<span class="hljs-number"><span class="hljs-number">1</span></span>){ records[c] = [employees[j].getFullName(), employees[j].getPosition(), employees[j].getExperience(), department.getName()] c++ } } }<span class="hljs-keyword"><span class="hljs-keyword">else</span></span>{ records[c] = [employees[j].getFullName(), employees[j].getPosition(), employees[j].getExperience(), department.getName()] c++ } } } <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> dataSet={ <span class="hljs-attr"><span class="hljs-attr">headers</span></span>:[<span class="hljs-string"><span class="hljs-string">"Full name"</span></span>, <span class="hljs-string"><span class="hljs-string">"Position"</span></span>, <span class="hljs-string"><span class="hljs-string">"Expirience"</span></span>, <span class="hljs-string"><span class="hljs-string">"Department"</span></span>], <span class="hljs-attr"><span class="hljs-attr">rows</span></span>:records } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> dataSet } }</code> </pre> <br><p>  In Figure 2 we will try to show the belonging of classes to parts of the MVC pattern. </p><br><img src="https://habrastorage.org/files/410/b59/abb/410b59abbc1a4395b9a510d3aeaf89e6.png"><br><p>  <em>Fig.</em>  <em>2 - Parts of the application</em> </p><br><p>  In Figure 3, we show the messaging sequence. </p><br><img src="https://habrastorage.org/files/44f/4a1/5dc/44f4a15dc88e48ceacefd8cbcfaf6b6a.png"><br><p>  <em>Fig.</em>  <em>3 - Sequence Diagram</em> </p><br><h2>  Results </h2><br><p>  Conditionally call what is created ‚Äúcode set‚Äù. <br>  ‚ÄúDialing‚Äù does not oblige the creation of domain model constructors.  In Main.js, the data source for Table.js can be anything.  The framework, its implementation of the architecture (MVC) is not relevant.  We simply call the Table.js method with a specific parameter.  This is a property of the library. </p><br><p>  ‚ÄúDialing code‚Äù, when using the visual component Table.js, is obliged to give it data of a certain structure.  This is not a MVC requirement, therefore it has nothing to do with the framework.  This is a library property. </p><br><p>  ‚ÄúDialing‚Äù obliges visual components to send their events through the event bus and so that there is a ‚Äúlistener‚Äù - the subscriber of this event.  The presentation is separated from event handling, management, this is already an element of MVC.  This is a frame property.  The skeleton code (EventBus.js) will call our code.  This is a frame property. </p><br><h2>  findings </h2><br><p>  From the MVC architecture, directly through the code, it was possible to realize the requirement to create visual components separately from the control components.  It was not possible to create a domain model.  Consequently, the creation of a model is done by agreement, since we follow the MVC pattern. </p><br><p>  If you notice what is written by you or used component: </p><br><p>  a) brings to the project any architectural pattern <br>  b) control of key execution threads is transferred to the component <br>  c) the component requires from you some organization of your parts of the application, then you are dealing with a framework. </p><br><p>  Getting rid of the frame in the project is much more difficult than from the library.  The library can be replaced by correcting the API calls of the old library to the calls of the new one or by writing the library implementation itself.  A framework forces one to build an application in a certain way, to organize, bind structural units of code according to certain rules.  In addition, frames are usually much more complicated than libraries. </p><br><p>  This does not detract from the importance of the frameworks, they bring to the project a proven, well-known architecture, set the rules for organizing the application, serve as a framework to keep developers from inventing their specific solutions.  All this makes the software more supported. </p><br><p>  Ideally, it is good that the implementation of the framework can be easily changed.  While the Java world is approaching this, in which, thanks to the specifications, the standard is set, its API, and various manufacturers can implement it. </p><br><p>  ‚Üí <a href="https://github.com/zesetup/JSframework">Source code completely</a> </p></div>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <p>Source: <a href="https://habr.com/ru/post/315900/">https://habr.com/ru/post/315900/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../315890/index.html">About the importance of Java and where did hundreds of Architects jobs come from in Crossover</a></li>
<li><a href="../315892/index.html">About the vital in operation of the data center</a></li>
<li><a href="../315894/index.html">JSF is dead?</a></li>
<li><a href="../315896/index.html">Asset Operations: routine industrial documentation</a></li>
<li><a href="../315898/index.html">[ZeroNights2016] [CTFzone] Without 100 grams you will not understand</a></li>
<li><a href="../315902/index.html">New season webinars Hewlett Packard Enterprise</a></li>
<li><a href="../315904/index.html">Meeting lovers of big data and art</a></li>
<li><a href="../315906/index.html">SPDK: Acceleration with NVMe Disks</a></li>
<li><a href="../315908/index.html">When is it harmful to test your components?</a></li>
<li><a href="../315910/index.html">Asterisk statistics interface. New version, new functionality</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>