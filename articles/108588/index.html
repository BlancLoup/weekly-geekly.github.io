<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>How to safely transfer an educational institution to Linux and OSS?</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Good day. 
 From the very beginning I will make a reservation: the transition to Linux and the open source software package is not a completely painle...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>How to safely transfer an educational institution to Linux and OSS?</h1><div class="post__text post__text-html js-mediator-article">  Good day. <br>  From the very beginning I will make a reservation: the transition to Linux and the open source software package is not a completely painless thing, and not all software remains free at the end of the transition.  But more about that later. <br><br>  So, let's begin. <br>  Perhaps, many already know that in schools the license for MS Windows expires.  The exact date is January 1, 2011. Somewhere above it was decided that extending licenses for Microsoft OSs is too expensive, and it is much easier to switch to the free software package. <a name="habracut"></a>  Translation of computers in schools to Linux began long before January 1, and AltLinux 4 and then 5.1 crashed on the school machines with the first wave.  The main features of this particular distribution is its free (well, of course) and a package of pre-installed educational programs.  However, AltLinux also has plenty of shortcomings, but let's not talk about them, this is a topic for a completely different post. <br>  The second Linux-wave has not yet followed, but not yet evening. <br><br>  In general, I personally do not want to sit back and wait until "it" surges and flood our cars with another low-quality Alt.  Therefore, in the institution where I have the pleasure to work, it was decided to transfer the machines to Linux and open source software in advance and throw this aspect out of my head.  Next in order. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h5>  Distribution Requirements </h5><br>  Some requirements were put forward for the Linux distribution that replaces AltLinux and the remaining Windows.  Namely: <br>  - humanity, proximity to the user, ease of use; <br>  - the ability to run a number of educational programs, including those written for Winodws; <br>  - ease of system administration. <br><br><h5>  What is not suitable AltLinux? </h5><br>  On the first point - the user, who first sat behind a Linux-machine, is lost in KDE firmly and permanently.  The desktop is quite acceptable, but what is the root and home folder?  Why is everything so annoyingly shining and iridescent?  Why white text on light blue wallpaper?  Let's not talk about holivars, but this is really inconvenient. <br>  On the second point, no complaints, because this is the main task of the distribution. <br>  On the third - everything is just monstrous.  To block all ryushechki and panels in sneakers have to sit for a week or two, periodically testing the results obtained on children.  In addition, it was not possible to adequately block the ‚ÄúView folder‚Äù widget.  Perhaps the hands are crooked, of course, who knows. <br>  Well, in general - do not like.  That's the point. <br><br><h5>  What are we changing? </h5><br>  Here we have a question about choosing a distribution kit.  I did not have to go far, as if <a href="http://rosix.ru/">Linux Mint 9 Rosinka</a> was recently released specifically for our needs.  Unfortunately, the domain is currently blocked by RuCentre.  Why did we choose Rosinka? <br>  It was originally planned to stop at Ubuntu and independently install all the necessary software on it and optimize it for the needs of students.  But, as it turned out, Rosinka is the same Ubuntu, only something is already worth it, and working with it is a bit more pleasant.  The only thing that could strain is the price of 350 rubles for a license for an unlimited number of computers.  But here everything, as you understand, is within reason. <br>  So, the license is purchased, the distribution is recorded on the disc, let's begin.  <b>Next - the most interesting ...</b> <br><br><h5>  What did we do? </h5><br>  First, install all the necessary software, among which: <br>  Pascal ABS - Virtualization with Wine <br>  Compass 3D LT 5.10 (school license already exists) - virtualization with Wine <br>  Kturtle <br>  Gambas <br>  QBasic - Virtualization with DosBox <br>  Kumir - preset <br>  OpenOffice.org - preinstalled <br><br>  Second, they created the necessary users of the OS - Pupil and Administrator - and optimized the entrance to the OS.  Passwords from the Pupil and the Administrator are not known to ordinary users, this is important. <br>  After the student turns on the computer, a grub (forced delay for possible restoration work) occurs for 1 second, then Rosinka is loaded.  The user selection window with automatic login hangs for another 2 seconds (again, for possible recovery and administrative work), after which the user logs in without a password into the system under the Apprentice account.  The user (student) is waiting for the desktop with wallpaper, selected by the teacher, the necessary shortcuts on the desktop and one panel at the bottom with applets from the main menu, minimizing all windows and notification area.  Looking ahead: no matter what the student changes, after restarting the computer, the exact same desktop will be waiting for him. <br>  This is a view from a student, now let's look at all this disgrace from the administrator ... <br>  Children - a dangerous phenomenon.  Especially if they get something new in their hands, for example, the distribution kit of the unprecedented Rosinka.  All they want to touch, touch, change, poudalat.  Dangerous areas, as shown by testing - desktop wallpaper, themes, panels, desktop icons, animation windows.  All possible changes were taken into account and a script was written that returns the panels to a working state, restores the necessary wallpaper, themes, and desktop backgrounds. <br>  To minimize the hassle with your home folder - perform the following actions (on behalf of the Administrator): <br> <code>$ cd /home/uchenik <br> $ rm -r *</code> <br>  After that we go as a Pupil into the home folder - it is empty there.  Until you press Ctrl + H, of course (hidden files, eh).  That is, places where you can spoil is becoming less.  Now, by the way, the desktop becomes a home folder, so it‚Äôs very easy to close access to hidden files in your home folder ‚Äî just remove it from the desktop.  How?  To do this, the system already has Ubuntu Tweak, which will allow us to disable the display of any system shortcuts on the desktop (Computer, Home folder).  Everything!  Now the system is safe.  But its adequate performance is not yet.  Laptops in the class are not the newest, ahem, and iron there is something else.  Therefore, if you create a couple of dozen panels and beat them to capacity with applets tracking the memory of a computer and something similar, the OS will hang tightly.  And our local students have a cool excuse - ‚ÄúI have no such label on the desktop, I can‚Äôt do it‚Äù.  This is where bash comes to our rescue. <br>  So, I present to your attention ... <br><br><h5>  Magic script </h5><br>  #! / bin / bash <br>  notify-send "Wait until this prompt disappears" "The desktop is being cleaned and configured ..." <br>  #echo "Clearing the desktop ..." <br>  #cd / home / uchenik / Work * <br>  #rm -r * <br>  echo "Clearing the home folder ..." <br>  cd / home / uchenik <br>  rm -r * <br>  echo "Customize your desktop wallpaper ..." <br>  # Desktop wallpaper: wall.jpg (/ usr / share / backgrounds) <br>  gconftool-2 --type string --set / desktop / gnome / background / picture_filename "/usr/share/backgrounds/wall.jpg" <br>  echo "Customizing themes ..." <br>  Themes GTK2, Metacity, Icons: Mint-X <br>  gconftool-2 --type string --set / desktop / gnome / interface / gtk_theme "Mint-X" <br>  gconftool-2 --type string --set / desktop / gnome / interface / icon_theme "Mint-X" <br>  gconftool-2 --type string --set / apps / metacity / general / theme "Mint-X" <br>  # Customize standard panels <br>  echo ‚ÄúI am setting up the panels ...‚Äù <br>  gconftool-2 --load "/.scripts/data/Gnome_Panel.xml" <br>  # Reset Compiz settings <br>  echo ‚ÄúResetting Compiz Settings ...‚Äù <br>  gconftool-2 --recursive-unset / apps / compizcompiz --replace <br>  compiz --replace <br>  #echo "I set up the network ..." <br>  # Reloading network applet <br>  #killall nm-applet <br>  nm-applet <br>  echo "I customize desktop icons ..." <br>  # Copy the necessary shortcuts to the user's desktop <br>  cd "/.scripts/data" <br>  # Comment out unnecessary shortcuts (# before line) <br>  cp "alacarte-made-9.desktop" / home / uchenik <br>  cp ‚ÄúThere is no start menu?‚Äù / home / uchenik <br>  cp "gambas2.desktop" / home / uchenik <br>  cp "kturtle.desktop" / home / uchenik <br>  cp "kumir-suse10x.desktop" / home / uchenik <br>  cp "Millioner (another copy) .desktop" / home / uchenik <br>  cp "Millioner (copy) .desktop" / home / uchenik <br>  cp "Pascal ABC.desktop" / home / uchenik <br>  cp "QBasic.desktop" / home / uchenik <br>  cp "Excel.desktop" / home / uchenik <br>  cp "Word.desktop" / home / uchenik <br>  cp "PowerPoint.desktop" / home / uchenik <br>  cd /.scripts <br>  cp "Clear Desktop" / home / uchenik <br>  #cd / home / uchenik <br>  #mv * .desktop "Desktop" <br>  echo "Finishing work ..." <br>  killall gnome-panel <br>  notify-send "Everything is ready!" "Enjoy your work" <br>  echo "Done!" <br><br>  So, most of the explanations in the comments.  Any kind of echo added for debug.  Unless: Excel, Word and PowerPoint - this is how Rosinka is called, you guessed it, the well-known applications from the OpenOffice.org package.  Apparently, this is clearer and easier for children.  And a few words about nm-applet.  With a small amount of RAM, as shown by the results of using two completely different machines, nm-applet sometimes does not start, and sometimes it starts, but it does not work.  However, the solution, as you can see, is true, it needs some work. <br><br>  So, why did I write this topic?  Why I do not sell this script, which certainly seems very useful to many educational institutions, but simply publish it on the network?  It's simple.  Because the script is still damp.  The same nm-applet will not work without sudo, and the Student is not included in the list of sudoers.  Of course, we can do everything through: <br> <code>$ echo 'password' | sudo -S whatever</code> <br>  But this means that we show the root password to everyone, what if there is a person who finds the right directory and looks at the script in gedit, for example?  Well and everything, to the system end: <br> <code>$ cd / <br> $ sudo rm -r *</code> <br>  In addition, the script is in autoload, and remove a check mark from there or see where the link goes to anyone who does not have the Student password.  Yes, and you can return your home folder through Ubuntu Tweak - the program does not blow a password. <br>  I‚Äôm actually sharing my own work and materials found on the net for free to make it easier for someone to administer a school Linux system.  In return, I ask from you, dear residents of Habr, this is what: <br>  Please point me to possible errors, pitfalls, etc., as well as help with OS improvements.  All the same, it is necessary to completely limit the access of students to system files and settings.  From me - periodic testing and free distribution of these developments. <br><br>  Thank you for your attention, I hope that at least something helped you! </div><p>Source: <a href="https://habr.com/ru/post/108588/">https://habr.com/ru/post/108588/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../108581/index.html">Not everything is cloudless in the kingdom of Dell</a></li>
<li><a href="../108582/index.html">Idea Manager - a tool for searching and selecting ideas.</a></li>
<li><a href="../108583/index.html">Firefox 4.0 for Linux finally got a new interface</a></li>
<li><a href="../108586/index.html">Kindle 3 utility</a></li>
<li><a href="../108587/index.html">Gmail removed from Facebook and Friendfeed mail services list</a></li>
<li><a href="../108591/index.html">Startup boom: where to go?</a></li>
<li><a href="../108593/index.html">From a frog to a prince or from an IT person to entrepreneurs</a></li>
<li><a href="../108594/index.html">Ubuntu Server 10.04 LTS i386, PostgreSQL + 1C patch, 1c server + web interface: build, install, configure</a></li>
<li><a href="../108595/index.html">Testing PHPShop IDE - integrated development environment</a></li>
<li><a href="../108596/index.html">Estonian professor offers to refuse cash</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>