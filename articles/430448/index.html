<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>What gives retail machine learning: a project example</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Retail has a very diverse range of buyers. There are a lot of them - all kinds of professions and income levels, from youth to pensioners. Such a vari...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>What gives retail machine learning: a project example</h1><div class="post__text post__text-html js-mediator-article">  Retail has a very diverse range of buyers.  There are a lot of them - all kinds of professions and income levels, from youth to pensioners.  Such a variety cannot be correctly described by two or three business rules, because you simply cannot cover all combinations of criteria and inevitably lose some customers.  Therefore, for retail it is very important to segment your audience as accurately as possible, but this inevitably complicates the model.  Here Machine Learning technologies come to the rescue, giving businesses more accurate predictions and answers to important questions. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/ea6/678/417/ea667841756018dbb26706d514bd57cf.png"><br><br><img src="https://habrastorage.org/getpro/habr/post_images/99d/578/665/99d578665c336fe6ac87f03cc37965eb.png"><br><a name="habracut"></a><br>  What questions are meant?  For example: will the client leave?  Often, customers leave if the store does not have the right product.  For example, a woman buys a special cream every month for 10 thousand rubles and can choose from two cosmetics stores.  In one of them the right product is often missing, and in the second there are no problems with availability.  Most likely, it will constantly buy in the second, albeit a bit more expensive. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Another pressing question: how to optimize staff performance?  For example, you need to plan shifts for cashiers and sales assistants.  One way involves the use of statistical analysis.  The analyst assesses the activity of clients depending on the day of the week and sees that on Saturday they buy the most, and on Friday and Sunday a little less.  This hypothesis is tested by statistical tests, and the conclusions are passed on to management. <br><br>  But such an analysis may not take into account many combinations of factors.  For example, if it is Wednesday on March 7, will they buy more on this day than on Friday (after all, during normal times, Friday is a more popular day than other weekdays)?  And graduation?  Or local holidays?  The more factors, the harder it is to take them all using simple rules.  And instead of infinitely complicating the rules, you can build a model that predicts the demand for a particular day. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/bed/f7a/444/bedf7a444b99f29d2d240d49323ff2b6.png"><br><br><h2>  Our project in non-food retail </h2><br>  In this case, it was necessary to analyze the customer base (approximately 2.5 million people) and predict which of them will return to the store in the next two weeks.  We took two methods of the CatBoost library - CatBoostClassifier and CatBoostRegressor, the first one - to predict the composition of the audience, the second - to select the most requested products in the next 2 weeks.  CatBoost <a href="https://habr.com/company/yandex/blog/333522/">came out</a> at the very beginning of our project; it was a fresh approach to working with categorical signs.  And since the product range of our customer contains a lot of categorical features, we gladly tried the novelty in the work.  After selecting the parameters, the model immediately met our expectations with accurate forecasting.  No wonder CatBoost is one of the most popular gradient boosting models today. <br><br>  For the model, we took statistics for 2017: <br><br><ul><li>  checks: who owns the bonus card from the check, when you made a purchase, what you bought, the size of the discount, buy it or refund. </li><li>  demography: region and city of residence of the client, date of birth and gender, consent to distribution by phone or mail. </li><li>  goods: which category or segment are purchases, applications, etc. </li></ul><br>  Cleared the data from the noise (vendor cards, returns, purchases of services, not goods) and considered the necessary criteria (discount percentage, age).  After that, the largest and smallest check for each customer was calculated, the average, median and maximum discount, how many times a person came and how many products from which categories he bought.  These parameters were recalculated at intervals: the last week, two weeks, a month, three months.  Such scrupulous work allowed us to build models with high prediction accuracy. <br><br>  Aggregated data for models and run calculations.  The first model predicted which of the buyers would come in the next two weeks, and the second gave recommendations: what goods (up to the article level) a particular person would buy.  By the way, the requirement to predict the popularity of specific articles made the task much more complicated (usually, business only has enough forecasts by category and name of goods, but not by positions). <br><br>  Clients recommended by the model for targeted mailing had a larger median check for one visit, and for the analyzed period they bought in total for a larger amount than other clients. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/dbb/f2a/c19/dbbf2ac19e8dc8769727e5d7496ad991.png" width="400"></div><br><br>  As a result, after mailing, about 30% of customers purchased at least one of the three products predicted by the model. <br><br>  Now the company can more accurately forecast sales: the retailer knows who will come to him in the near future and what he will buy.  This helps not only to optimize logistics, but also to reduce associated costs.  For example, if a particular customer usually does not buy anything in winter, then you do not need to send him an SMS in January.  The models also optimize newsletters: based on the forecast, the specialist immediately understands who to send the e-mail and who needs to send an urgent SMS. <br><br><h2>  Underwater rocks </h2><br>  They are in any ML-task - they were in ours.  For example, we checked whether mailings with product recommendations help boost sales.  For this, the predicted segment of buyers was divided into three groups: <br><br><ol><li>  Control - the newsletter did not receive. </li><li>  Group with reminders - received a general text from the store. </li><li>  Group with recommendations - received SMS with three specific products predicted by the model. </li></ol><br>  It turned out that people who received recommendations bought less than customers who did not receive mailings.  Less was the average check and the amount of goods purchased.  The t-test showed that the differences were statistically significant (pvalue = 0.017). <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/4d4/247/83d/4d424783da3796061bd1df0dac8df57e.png" width="400"></div><br><br>  To put it mildly, such results were discouraged by all.  They began to look for the cause and found out that the shops sent customers messages to a certain messenger, and its users in our segment initially bought less compared to other customers.  Even the marketers of the customer did not know about it.  So the experiment turned out to be incorrect, but according to its results, we added the parameter ‚Äúuser of the messenger‚Äù to the model.  This case demonstrates how carefully you need to choose channels to communicate with customers. <br>  What other conclusions can be drawn? <br><br><ul><li>  There is not much data. </li><li>  Sometimes an analyst's view from the outside leads to a fresh idea. </li></ul><br><h2>  Customer segmentation </h2><br>  Data analysis reveals patterns that were hidden in previously available information.  A good example is the comparison of customer groups using RFM segmentation (Recency Frequency Monetary) and segmentation using ML algorithms. <br><br>  Three key indicators are used in RFM segmentation: <br><br><ul><li>  prescription last purchase, </li><li>  frequency of purchases for the period </li><li>  amount spent by the client. </li></ul><br>  On the basis of these data, the main groups are distinguished: ‚Äúsquander‚Äù, ‚Äúloyal customers‚Äù, ‚Äúalmost lost customers‚Äù, etc.  And marketers are already including the desired target group in a specific newsletter or make an offer specifically for this group. <br><br>  For example, using RFM segmentation, you can select customer segments and present them as points in three-dimensional space: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/ece/781/46f/ece78146f710fe1881de79e167c7028f.png"><br><br>  This allows you to visually see the location of certain groups in the total mass of customers, their proportions and the dynamics of changes. <br><br>  Now we project the three-dimensional distribution of the segments onto the plane.  Customers can be divided by the company's revenue to include the most profitable in marketing campaigns, but will this be enough for effective planning? <br><br>  Even in such data, the machine learning algorithm finds additional possibilities: it breaks up customers into new large groups.  You can analyze this partition to find out why the algorithm divided clients exactly in this way.  For example, some high-yield customers are experts who accompany their customers in shopping and use their discount cards;  Some actively share their cards with friends and acquaintances.  That is, after the first ML application, you can get additional information about your clients based on the same data. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/c9a/82a/7d4/c9a82a7d4780b13acd275218d1ecc180.png"><br><br>  Let's expand the set of customer characteristics: add gender, age, behaviors, and more.  How now the algorithm will distribute buyers? <br><br>  For example, there is a group that covers both the best customers (the most profitable) and their ‚Äúneighbors‚Äù, who bring less profit.  Why the algorithm singled out this group is a question for the analyst.  Perhaps, these clients with additional incentives will show greater profitability.  Or, on the contrary, these clients are not very promising and the increase in profitability was an accidental deviation - it is pointless to stimulate them additionally.  You can put forward various theories, but they have to be tested experimentally. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/20a/abe/6db/20aabe6db74a2d6d9afe50f53beddc1d.png"><br><br><h2>  Warehouse Planning - Sales Forecasting </h2><br>  Further, the project may have several options for development.  For example, you can predict purchases in a particular store for the next period.  Then the store administrator will be able to order the necessary goods from the central warehouse on time. <br><br>  Analysis of purchases at a specific outlet will help to form and display goods in shop windows.  For example, if a lot of male buyers come to the store, a department with male products should not be placed in the far corner. <br><br>  We must not forget about the so-called cannibalization of shops.  That is, if two points of sales of the same network are located nearby (for example, at different ends of the same street), one of them can delay customers and the second one will stand idle.  You can build a model that will monitor such events and signal it. <br><br>  *** <br><br>  In short, machine learning is a powerful tool that can do a lot.  Often, when building models, there are unobvious patterns that even business users did not know about.  However, the quality of the model is very dependent on the quality and quantity of data. <br><br>  <i>Analysts of the Directorate for the development and implementation of software, Jet Infosystems</i> </div><p>Source: <a href="https://habr.com/ru/post/430448/">https://habr.com/ru/post/430448/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../430432/index.html">The modal window that you were waiting for. Or how to call a "pop-up" from different buttons on a pure JS</a></li>
<li><a href="../430434/index.html">Running Image Viewer from Windows XP on Modern Windows</a></li>
<li><a href="../430436/index.html">On the way to QUIC: what is the basis of HTTP / 3</a></li>
<li><a href="../430438/index.html">Realistic shadow for roguelike</a></li>
<li><a href="../430446/index.html">Once again about the advantages of "mobile slavery"</a></li>
<li><a href="../430450/index.html">Development model on the example of Stack-based CPU</a></li>
<li><a href="../430452/index.html">Fire, water and fine spray. How will the inhabitants and visitors of Lakhta Center be protected from fire?</a></li>
<li><a href="../430454/index.html">I'm surrounded by idiots or how to work in a team</a></li>
<li><a href="../430456/index.html">Legal PMI Project Management Books</a></li>
<li><a href="../430458/index.html">Multilayer Graphene Superconductor: Study of Flat Zones</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>