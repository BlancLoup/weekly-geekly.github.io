<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Automatic segmentation of the respiratory organs</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Manual segmentation of the lungs takes about 10 minutes and requires some dexterity to get the same high-quality result as with automatic segmentation...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Automatic segmentation of the respiratory organs</h1><div class="post__text post__text-html js-mediator-article"><p>  Manual segmentation of the lungs takes about 10 minutes and requires some dexterity to get the same high-quality result as with automatic segmentation.  Automatic segmentation takes about 15 seconds. </p><br><p>  I assumed that without a neural network it would be possible to get an accuracy of no more than 70%.  I also assumed that morphological operations are only the preparation of an image for more complex algorithms.  But as a result of processing those, although few 40 samples of tomographic data on hand, the algorithm identified the lungs without errors, and after the test in the first five cases, the algorithm did not undergo significant changes and from the first application correctly worked on the remaining 35 studies without change settings. </p><br><p>  Also, neural networks have a minus - for their training, we need hundreds of training samples of the lungs, which will have to be marked out manually. </p><br><p><img src="https://habrastorage.org/webt/_b/au/76/_bau76jpkcf03bu-lwhmziqw-4c.jpeg"></p><a name="habracut"></a><br><h1>  Content </h1><br><ul><li>  <a href="https://habr.com/ru/company/inobitec/blog/458268/">The structure of the respiratory system</a> </li><li>  <a href="https://habr.com/ru/company/inobitec/blog/458268/">Hounsfield scale</a> </li><li>  <a href="https://habr.com/ru/company/inobitec/blog/458268/">Mathematical morphology</a> </li><li>  <a href="https://habr.com/ru/company/inobitec/blog/458268/">Lee algorithm and RLE compression</a> </li><li>  <a href="https://habr.com/ru/company/inobitec/blog/458268/">Threshold conversion base volume</a> </li><li>  <a href="https://habr.com/ru/company/inobitec/blog/458268/">Cut off outside air</a> </li><li>  <a href="https://habr.com/ru/company/inobitec/blog/458268/">The allocation of the maximum volume of the object</a> </li><li>  <a href="https://habr.com/ru/company/inobitec/blog/458268/">Closing the vessels inside the lungs</a> </li><li>  <a href="https://habr.com/ru/company/inobitec/blog/458268/">Algorithm segmentation of the respiratory organs</a> </li><li>  <a href="https://habr.com/ru/company/inobitec/blog/458268/">The implementation of the algorithm in the MATLAB environment</a> </li><li>  <a href="https://habr.com/ru/company/inobitec/blog/458268/">Conclusion</a> </li></ul><br><h1 id="paragraph1">  The structure of the respiratory system </h1><br><p>  The respiratory system includes the airways and lungs.  Allocate upper and lower respiratory tract.  The point of separation between the lower and upper respiratory tract is the intersection of the food and respiratory channels.  All that is higher than the larynx is the upper section, and the rest is the lower one. </p><br><p>  We list the respiratory organs: <br>  <strong>Nasal cavity</strong> : - nose, maxillary sinuses, etc. <br>  <strong>The pharynx</strong> is a channel through which food and air travels. <br>  <strong>Larynx</strong> - is responsible for the formation of voices.  Located at the level of the cervical vertebrae C4-C6. <br>  <strong>The trachea</strong> is a tube connecting the larynx and bronchi. <br>  <strong>The bronchi</strong> are the respiratory channels, the main part of which is located inside the lungs. <br>  <strong>The lungs</strong> are the main respiratory organ. </p><br><p><img src="https://habrastorage.org/webt/yx/ju/sp/yxjuspnur3gwm3ghxhqv50upj9i.png"></p><br><h1 id="paragraph2">  Hounsfield scale </h1><br><p>  Godfrey Hounsfield is a British electrical engineer who, together with American theorist Allan Cormac, developed computed tomography, for which he won the Nobel Prize in 1979. </p><br><p><img src="https://habrastorage.org/webt/jv/bl/ho/jvblho_x-0woitx02gbfjuxxhju.jpeg"></p><br><p>  The Hounsfield scale is the quantitative x-ray density scale, which is measured in Hounsfield units, denoted by HU. </p><br><p>  X-ray density is calculated on the basis of the attenuation coefficient of the substance, that is, the degree of reduction of the radiation power during its passage through this substance. </p><br><p>  X-ray density is calculated by the formula: </p><br><p><math> </math> $$ display $$ {Œº_ {X} -Œº_ {water} \ over Œº_ {water} -Œº_ {air}} \ times 1000 $$ display $$ </p><br><p>  Where <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-2-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><msub><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x3BC;</mo></mrow><mi>X</mi></msub><mo>,</mo><msub><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x3BC;</mo></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>w</mi><mi>a</mi><mi>t</mi><mi>e</mi><mi>r</mi></mrow></msub><mo>,</mo><msub><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x3BC;</mo></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>a</mi><mi>i</mi><mi>r</mi></mrow></msub></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="14.696ex" height="2.057ex" viewBox="0 -520.7 6327.4 885.9" role="img" focusable="false" style="vertical-align: -0.848ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/inobitec/blog/458268/&amp;xid=17259,15700021,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhhgKjHvOujSbxgIBpCE7gbMji1XFQ#MJMATHI-3BC" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/inobitec/blog/458268/&amp;xid=17259,15700021,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhhgKjHvOujSbxgIBpCE7gbMji1XFQ#MJMATHI-58" x="853" y="-357"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/inobitec/blog/458268/&amp;xid=17259,15700021,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhhgKjHvOujSbxgIBpCE7gbMji1XFQ#MJMAIN-2C" x="1306" y="0"></use><g transform="translate(1751,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/inobitec/blog/458268/&amp;xid=17259,15700021,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhhgKjHvOujSbxgIBpCE7gbMji1XFQ#MJMATHI-3BC" x="0" y="0"></use><g transform="translate(603,-253)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/inobitec/blog/458268/&amp;xid=17259,15700021,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhhgKjHvOujSbxgIBpCE7gbMji1XFQ#MJMATHI-77" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/inobitec/blog/458268/&amp;xid=17259,15700021,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhhgKjHvOujSbxgIBpCE7gbMji1XFQ#MJMATHI-61" x="716" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/inobitec/blog/458268/&amp;xid=17259,15700021,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhhgKjHvOujSbxgIBpCE7gbMji1XFQ#MJMATHI-74" x="1246" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/inobitec/blog/458268/&amp;xid=17259,15700021,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhhgKjHvOujSbxgIBpCE7gbMji1XFQ#MJMATHI-65" x="1607" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/inobitec/blog/458268/&amp;xid=17259,15700021,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhhgKjHvOujSbxgIBpCE7gbMji1XFQ#MJMATHI-72" x="2074" y="0"></use></g></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/inobitec/blog/458268/&amp;xid=17259,15700021,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhhgKjHvOujSbxgIBpCE7gbMji1XFQ#MJMAIN-2C" x="4240" y="0"></use><g transform="translate(4685,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/inobitec/blog/458268/&amp;xid=17259,15700021,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhhgKjHvOujSbxgIBpCE7gbMji1XFQ#MJMATHI-3BC" x="0" y="0"></use><g transform="translate(603,-253)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/inobitec/blog/458268/&amp;xid=17259,15700021,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhhgKjHvOujSbxgIBpCE7gbMji1XFQ#MJMATHI-61" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/inobitec/blog/458268/&amp;xid=17259,15700021,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhhgKjHvOujSbxgIBpCE7gbMji1XFQ#MJMATHI-69" x="529" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/inobitec/blog/458268/&amp;xid=17259,15700021,15700186,15700191,15700256,15700259,15700262&amp;usg=ALkJrhhgKjHvOujSbxgIBpCE7gbMji1XFQ#MJMATHI-72" x="874" y="0"></use></g></g></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mrow class="MJX-TeXAtom-ORD"><mo>Œº</mo></mrow><mi>X</mi></msub><mo>,</mo><msub><mrow class="MJX-TeXAtom-ORD"><mo>Œº</mo></mrow><mrow class="MJX-TeXAtom-ORD"><mi>w</mi><mi>a</mi><mi>t</mi><mi>e</mi><mi>r</mi></mrow></msub><mo>,</mo><msub><mrow class="MJX-TeXAtom-ORD"><mo>Œº</mo></mrow><mrow class="MJX-TeXAtom-ORD"><mi>a</mi><mi>i</mi><mi>r</mi></mrow></msub></math></span></span><script type="math/tex" id="MathJax-Element-2"> Œº_X, Œº_ {water}, Œº_ {air} </script>  - linear attenuation coefficients for the measured substance, water and air. </p><br><p>  X-ray density is negative because zero x-ray density corresponds to water.  This means that all substances through which X-ray waves pass with a smaller decrease in radiation power than through water (for example, lung tissue, air) will have a negative X-ray density. </p><br><p>  The following are the approximate x-ray densities for various tissues: </p><br><ul><li>  Air: -1000 HU. </li><li>  Respiratory organs: from -950 to -300 HU. </li><li>  Blood (without contrasting vessels): from 0 to 100 HU. </li><li>  Bones: 100 to 1000 HU. </li></ul><br><p><img src="https://habrastorage.org/webt/n5/o9/5w/n5o95wjj7avpy456i33a4swu_y4.png"></p><br><p>  Wikipedia links: <a href="https://ru.wikipedia.org/wiki/%25D0%25A8%25D0%25BA%25D0%25B0%25D0%25BB%25D0%25B0_%25D0%25A5%25D0%25B0%25D1%2583%25D0%25BD%25D1%2581%25D1%2584%25D0%25B8%25D0%25BB%25D0%25B4%25D0%25B0">Hounsfield scale</a> , <a href="https://ru.wikipedia.org/wiki/%25D0%25A5%25D0%25B0%25D1%2583%25D0%25BD%25D1%2581%25D1%2584%25D0%25B8%25D0%25BB%25D0%25B4,_%25D0%2593%25D0%25BE%25D0%25B4%25D1%2584%25D1%2580%25D0%25B8">Godfrey Hounsfield</a> , <a href="https://ru.wikipedia.org/wiki/%25D0%259A%25D0%25BE%25D1%258D%25D1%2584%25D1%2584%25D0%25B8%25D1%2586%25D0%25B8%25D0%25B5%25D0%25BD%25D1%2582_%25D0%25BE%25D1%2581%25D0%25BB%25D0%25B0%25D0%25B1%25D0%25BB%25D0%25B5%25D0%25BD%25D0%25B8%25D1%258F_(%25D1%2584%25D0%25BE%25D1%2582%25D0%25BE%25D0%25BC%25D0%25B5%25D1%2582%25D1%2580%25D0%25B8%25D1%258F)">attenuation coefficient</a> . </p><br><h1 id="paragraph3">  Mathematical morphology </h1><br><p>  The main place among the algorithms chosen in this article is occupied by morphological operations. </p><br><p>  In the field of computer vision, morphological operations are called a group of algorithms for the transformation of the shape of objects.  Most often, morphological operations are applied to binarized images where units correspond to object voxels, and zeros correspond to emptiness. </p><br><p>  The main morphological operations include: </p><br><p>  <strong>Morphological dilatation (dilation, expansion)</strong> - adding new voxels to all marginal voxels of objects.  That is, a passage with a core with a given shape (ball, cube, cross, etc.) is made on all boundary voxels.  This operation is often used to connect multiple nearby objects into a single object. </p><br><p>  <strong>Morphological erosion (erosion, erosion)</strong> - the destruction of all voxels lying on the border of objects.  This operation is reverse dilatation.  This operation is useful for removing noise in the form of many small objects interconnected.  However, this method of noise removal should be used only if the segmented object has a thickness much larger than the radius of erosion. </p><br><p>  <strong>Morphological closing (closing)</strong> is dilatation with subsequent erosion.  It is used to close holes inside objects and to merge nearby objects. </p><br><p>  <strong>Morphological opening (opening)</strong> is erosion with subsequent dilatation.  It is used to remove small noise objects and to divide objects into several objects. </p><br><p><img src="https://habrastorage.org/webt/bv/kd/fv/bvkdfvdijxabpqjpbgrlw5pwdz4.gif"><img src="https://habrastorage.org/webt/7w/ft/h0/7wfth0jdj6img3nvemmktkysboq.gif"></p><br><h1 id="paragraph4">  Lee algorithm and RLE compression </h1><br><p>  To select objects in binarized voxel volume, the Lie algorithm is used.  This algorithm was originally invented to find the shortest path.  But we use it to select and move objects from one three-dimensional array of voxels to another.  Its essence consists in parallel movement in all possible directions from the starting point.  For a three-dimensional case, 26 or 6 directions of motion from a given voxel are possible (if the voxel is not located at the edge of the image). </p><br><p>  To optimize the performance, the run-length encoding algorithm was applied.  Its essence lies in the fact that the sequence of ones and zeros is replaced by a digit equal to the number of elements in the sequence.  For example, the string ‚Äú00110111‚Äù can be replaced by: ‚Äú2; 2; 1; 3‚Äù.  This reduces the number of memory accesses. </p><br><p><img src="https://habrastorage.org/webt/if/kr/h6/ifkrh6br6sgi65g8sowexfxxsis.gif"><img src="https://habrastorage.org/webt/9f/rr/nc/9frrncdin9axwhdwgad8vndnlqy.gif"></p><br><p>  References to Wikipedia: <a href="https://en.wikipedia.org/wiki/Lee_algorithm">Lee</a> <a href="https://en.wikipedia.org/wiki/Run-length_encoding">algorithm, RLE algorithm</a> . </p><br><h1 id="paragraph5">  Threshold conversion base volume </h1><br><p>  With the help of the tomograph obtained data on x-ray density at each point in space.  Air voxels have an x-ray density between -1100 and -900 HU, and voxels of the respiratory organs between -900 and -300 HU.  Therefore, we can remove all excess voxels with X-ray density greater than -300 HU.  As a result, we obtain a binarized voxel volume containing only the respiratory organs and air. </p><br><p><img src="https://habrastorage.org/webt/di/lv/ss/dilvssyv2do2rvjlbb3xov798rw.gif"></p><br><h1 id="paragraph6">  Cut off outside air </h1><br><p>  To separate the internal air of the body, we delete all objects that are adjacent to the corners of the voxel scene.  So get rid of the outside air. </p><br><p><img src="https://habrastorage.org/webt/c_/es/dj/c_esdje-omegb-i31quh2tslaoi.png"></p><br><p>  However, not all cases will remove the air inside the table of the scanner, as it may not have a connection with the corners of the scene. </p><br><p><img src="https://habrastorage.org/webt/mu/m1/bi/mum1bidj1at0nvceitxh5jtzqs4.png"></p><br><p>  Therefore, we will scan not only the corners, but also all the voxels lying on any of the edge planes of the scene.  But as a result, for some reason, the lungs themselves also retired.  It turns out that the trachea also had a connection with the upper plane of the stage. </p><br><p><img src="https://habrastorage.org/webt/fu/zb/3b/fuzb3bzxnvxvofjz-mxoelly5w4.gif"></p><br><p>  We'll have to exclude the top plane from the scan area.  There are also studies in which the lungs were not fully captured and the lower plane is connected to the lungs.  So if you wish, you can exclude the lower plane. </p><br><p><img src="https://habrastorage.org/webt/uf/ja/mb/ufjambvoavwiks-09hms7wc02lg.png"></p><br><p>  But this method works only on chest studies.  In the case of the capture of the full volume of the body in the picture will appear the connection of internal and external air through the nasal cavity.  Therefore, it is necessary to apply morphological erosion to separate the internal and external air. </p><br><p><img src="https://habrastorage.org/webt/fu/rq/26/furq26oo1ozjtnxrzu1ahknvjk4.gif"></p><br><p>  After applying erosion, we can return to the previously obtained method of segmentation of external air on the basis of proximity to the lateral planes of the scene. </p><br><p><img src="https://habrastorage.org/webt/yj/i7/nh/yji7nhiveqpxbky3_qgj9b6n0zq.png"></p><br><p>  Having isolated the outside air, one could immediately take it out of the total volume of air and lungs and get the internal air of the body and lungs.  But there is one problem.  After erosion, some of the information about the outside air was lost.  To restore it, apply dilatation of external air. </p><br><p><img src="https://habrastorage.org/webt/vn/tu/ns/vntunsho-og3pm1at7dqi3_ltna.gif"></p><br><p>  Next, subtract the external air from the entire air and respiratory organs and get the internal air and respiratory organs. </p><br><p><img src="https://habrastorage.org/webt/fr/hx/df/frhxdfz7ax9fz-ps7x9zjrlgiqo.png"></p><br><p><img src="https://habrastorage.org/webt/64/hd/2i/64hd2ivbfu5g-d2yjjqkx5kv8pe.png"></p><br><h1 id="paragraph7">  The allocation of the maximum volume of the object </h1><br><p>  Next, select the respiratory organs as the maximum object in volume.  The respiratory organs are a separate object.  There is no connection between the lungs and the air inside the gastrointestinal tract. </p><br><p><img src="https://habrastorage.org/webt/7l/gt/bd/7lgtbdfvf0st73wqzlacvax1r-0.png"><img src="https://habrastorage.org/webt/5d/ce/8u/5dce8urp2qvopyat905ex9y_qqs.png"></p><br><p>  It is worth noting that the correct choice of the X-ray density threshold at the initial step of the threshold conversion is important.  Otherwise, in some cases, there may be no connection between the two lungs as a result of low resolution.  For example, if we assume that voxels of the respiratory organs have X-ray density of -500 HU or less, then in the case below, the excretion of the respiratory organs as the largest object in volume will lead to an error, since there is no connection between the two lungs.  Therefore, the threshold should be increased to -300 HU. </p><br><p><img src="https://habrastorage.org/webt/jr/mi/m2/jrmim2de5siht6zo2nhoz8l1e5e.png"></p><br><h1 id="paragraph8">  Closing the vessels inside the lungs </h1><br><p>  A morphological closure, that is, dilatation followed by erosion with the same radius, is applicable to the capture of vessels inside the lungs.  X-ray vascular density is about -100..100 HU. </p><br><p><img src="https://habrastorage.org/webt/dz/oc/f0/dzocf0ejl-ckqqlsrbhhelo9p1u.png"><br>  Large blood paths are not closed.  But this is not necessary.  The purpose of this operation was to destroy the many small holes inside the lungs to simplify further segmentation of the lungs. </p><br><h1 id="paragraph9">  Algorithm segmentation of the respiratory organs </h1><br><p>  As a result, we obtain the following algorithm for segmentation of the respiratory organs: </p><br><ol><li>  Threshold conversion base volume threshold &lt;-300 HU. </li><li>  Morphological erosion with a radius of 3 mm for the separation of external and internal air. </li><li>  The selection of external air on the basis of proximity to the boundary side planes of the voxel scene. </li><li>  Morphological dilatation of external air to restore information lost due to erosion. </li><li>  Subtract external air from the total air and respiratory organs to obtain internal air and respiratory organs. </li><li>  The selection of the maximum volume of the object. </li><li>  Morphological closure of the vessels inside the lungs. </li></ol><br><p><img src="https://habrastorage.org/webt/0z/d5/0j/0zd50js0yyqxagy_sgsp2wjyu8o.png"></p><br><h1 id="paragraph10">  The implementation of the algorithm in the MATLAB environment </h1><br>
<h3 id="metod-getrespiratoryorgans">  GetRespiratoryOrgans method </h3><br><pre><code class="matlab hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">RO</span></span></span><span class="hljs-function"> = </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getRespiratoryOrgans</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(V,cr,ci)</span></span></span><span class="hljs-function"> %    3</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">D</span></span></span><span class="hljs-function">    %  . </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">matFilePath</span></span></span><span class="hljs-function">=</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">pwd</span></span></span><span class="hljs-function">+"/</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">test_volumes</span></span></span><span class="hljs-function">/</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">volume</span></span></span><span class="hljs-function">.</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">mat</span></span></span><span class="hljs-function">"; </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">load</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(matFilePath,'V')</span></span></span><span class="hljs-function">; %     %   &lt; -300 </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">HU</span></span></span><span class="hljs-function">. </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">AL</span></span></span><span class="hljs-function">=~</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">imbinarize</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(V,-300)</span></span></span><span class="hljs-function">; %    3   %     . </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">SE</span></span></span><span class="hljs-function">=</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">strel</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">('sphere',3)</span></span></span><span class="hljs-function">; </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">EAL</span></span></span><span class="hljs-function">=</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">imerode</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(AL,SE)</span></span></span><span class="hljs-function">; %       %      . </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">EA</span></span></span><span class="hljs-function">=</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getExternalAir</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(EAL)</span></span></span><span class="hljs-function">; %      %      . </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">DEA</span></span></span><span class="hljs-function">=</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">EA</span></span></span><span class="hljs-function">; </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">for</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">i</span></span></span><span class="hljs-function">=1:4 </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">DEA</span></span></span><span class="hljs-function">=</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">imdilate</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(DEA,SE)</span></span></span><span class="hljs-function">; </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">DEA</span></span></span><span class="hljs-function">=</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">DEA</span></span></span><span class="hljs-function">&amp;</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">AL</span></span></span><span class="hljs-function">; </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">end</span></span></span><span class="hljs-function"> %         %        . </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">IAL</span></span></span><span class="hljs-function">=</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">AL</span></span></span><span class="hljs-function">-</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">DEA</span></span></span><span class="hljs-function">; %     . </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">RO</span></span></span><span class="hljs-function">=</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getMaxObject</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(IAL)</span></span></span><span class="hljs-function">; %     . </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">RO</span></span></span><span class="hljs-function">=</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">closeVoxelVolume</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(RO,3,2)</span></span></span><span class="hljs-function">;</span></span></code> </pre> <br><h3 id="metod-getexternalair">  GetExternalAir method </h3><br><pre> <code class="matlab hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">EA</span></span></span><span class="hljs-function"> = </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getExternalAir</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(EAL)</span></span></span><span class="hljs-function"> %  </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">bwlabeln</span></span></span><span class="hljs-function">  :   %    ,  ‚Äì    .. </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">V</span></span></span><span class="hljs-function">=</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">bwlabeln</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(EAL)</span></span></span><span class="hljs-function">; %    ,    %     . </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">R</span></span></span><span class="hljs-function">=</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">regionprops3</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(V,'BoundingBox','VoxelList')</span></span></span><span class="hljs-function">; </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">n</span></span></span><span class="hljs-function">=</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">height</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(R)</span></span></span><span class="hljs-function">; %  3-</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">D</span></span></span><span class="hljs-function">      . </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">s</span></span></span><span class="hljs-function">=</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">size</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(EAL)</span></span></span><span class="hljs-function">; </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">EA</span></span></span><span class="hljs-function">=</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">zeros</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(s,'logical')</span></span></span><span class="hljs-function">; %        %    ,   . </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">for</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">i</span></span></span><span class="hljs-function">=1:</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">n</span></span></span><span class="hljs-function"> %   </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">x</span></span></span><span class="hljs-function">  </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">y</span></span></span><span class="hljs-function">,    %  . </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">x0</span></span></span><span class="hljs-function">=</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">R</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(i,1)</span></span></span><span class="hljs-function">.</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">BoundingBox</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(1)</span></span></span><span class="hljs-function">; </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">y0</span></span></span><span class="hljs-function">=</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">R</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(i,1)</span></span></span><span class="hljs-function">.</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">BoundingBox</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(2)</span></span></span><span class="hljs-function">; </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">x1</span></span></span><span class="hljs-function">=</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">x0</span></span></span><span class="hljs-function">+</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">R</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(i,1)</span></span></span><span class="hljs-function">.</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">BoundingBox</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(4)</span></span></span><span class="hljs-function">; </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">y1</span></span></span><span class="hljs-function">=</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">y0</span></span></span><span class="hljs-function">+</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">R</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(i,1)</span></span></span><span class="hljs-function">.</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">BoundingBox</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(5)</span></span></span><span class="hljs-function">; %        %  ,       %   </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">EA</span></span></span><span class="hljs-function">. </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">if</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(x0 &lt; 1 || x1 &gt; s(1)</span></span></span><span class="hljs-function">-1 || </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">y0</span></span></span><span class="hljs-function"> &lt; 1 || </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">y1</span></span></span><span class="hljs-function"> &gt; </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">s</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(2)</span></span></span><span class="hljs-function">-1) %        %  : </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">[[x1 y1 z1]</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">[x2 y2 z3]</span></span></span><span class="hljs-function"> ‚Ä¶ </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">[xn yn zn]</span></span></span><span class="hljs-function">]. </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">mat</span></span></span><span class="hljs-function">=</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">cell2mat</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(R(i,2)</span></span></span><span class="hljs-function">.</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">VoxelList</span></span></span><span class="hljs-function">); </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">ms</span></span></span><span class="hljs-function">=</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">size</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(mat)</span></span></span><span class="hljs-function">; %  ,    . </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">for</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">j</span></span></span><span class="hljs-function">=1:</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">ms</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(1)</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">x</span></span></span><span class="hljs-function">=</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">mat</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(j,2)</span></span></span><span class="hljs-function">; </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">y</span></span></span><span class="hljs-function">=</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">mat</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(j,1)</span></span></span><span class="hljs-function">; </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">z</span></span></span><span class="hljs-function">=</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">mat</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(j,3)</span></span></span><span class="hljs-function">; </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">EA</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(x,y,z)</span></span></span><span class="hljs-function">=1; </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">end</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">end</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">end</span></span></span></span></code> </pre> <br><h3 id="metod-getmaxobject">  GetMaxObject method </h3><br><pre> <code class="matlab hljs">###  getMaxObject <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">[O,m]</span></span></span><span class="hljs-function"> = </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getMaxObject</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(V)</span></span></span><span class="hljs-function"> %  . </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">V</span></span></span><span class="hljs-function">=</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">bwlabeln</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(V)</span></span></span><span class="hljs-function">; %        %  . </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">R</span></span></span><span class="hljs-function">=</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">regionprops3</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(V,'Volume','VoxelList')</span></span></span><span class="hljs-function">; %      . </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">v</span></span></span><span class="hljs-function">=</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">R</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(:,1)</span></span></span><span class="hljs-function">.</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Volume</span></span></span><span class="hljs-function">; </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">[m,i]</span></span></span><span class="hljs-function">=</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">max</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(v)</span></span></span><span class="hljs-function">; %  3-</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">D</span></span></span><span class="hljs-function">      % . </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">s</span></span></span><span class="hljs-function">=</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">size</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(V)</span></span></span><span class="hljs-function">; </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">O</span></span></span><span class="hljs-function">=</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">zeros</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(s,'logical')</span></span></span><span class="hljs-function">; %       . </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">mat</span></span></span><span class="hljs-function">=</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">cell2mat</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(R(i,2)</span></span></span><span class="hljs-function">.</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">VoxelList</span></span></span><span class="hljs-function">); </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">ms</span></span></span><span class="hljs-function">=</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">size</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(mat)</span></span></span><span class="hljs-function">; </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">for</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">j</span></span></span><span class="hljs-function">=1:</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">ms</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(1)</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">x</span></span></span><span class="hljs-function">=</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">mat</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(j,2)</span></span></span><span class="hljs-function">; </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">y</span></span></span><span class="hljs-function">=</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">mat</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(j,1)</span></span></span><span class="hljs-function">; </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">z</span></span></span><span class="hljs-function">=</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">mat</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(j,3)</span></span></span><span class="hljs-function">; </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">O</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(x,y,z)</span></span></span><span class="hljs-function">=1; </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">end</span></span></span></span></code> </pre> <br><p>  The source code can be downloaded by <a href="https://www.mathworks.com/matlabcentral/fileexchange/71695-lung-segmentation">reference</a> . </p><br><h1 id="paragraph11">  Conclusion </h1><br><p>  The following articles are planned: </p><br><ol><li>  segmentation of the trachea and bronchi; </li><li>  lung segmentation; </li><li>  lung lobe segmentation. </li></ol><br><p>  The following algorithms will be considered: </p><br><ol><li>  distance transform; </li><li>  nearest neighbor transform, also known as feature transform; </li><li>  calculation of the eigenvalues ‚Äã‚Äãof the Hessian matrix for segmentation of flat 3D objects; </li><li>  Watershed segmentation (watershed segmentation). </li></ol></div>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <p>Source: <a href="https://habr.com/ru/post/458268/">https://habr.com/ru/post/458268/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../45825/index.html">UFO video from the ISS</a></li>
<li><a href="../458252/index.html">Mathematical model of a radio telescope with a super-long base</a></li>
<li><a href="../458256/index.html">Is it time to shreds?</a></li>
<li><a href="../458262/index.html">Online meeting room designer - selection of the optimal solution for video conferencing</a></li>
<li><a href="../458264/index.html">10 principles of self-documenting code</a></li>
<li><a href="../45827/index.html">Use paging file instead of partition</a></li>
<li><a href="../458270/index.html">About errors arising from nowhere and in which there is no one to blame: the phenomenon of smearing of responsibility</a></li>
<li><a href="../458276/index.html">The first simulation of the Universe based on AI has been developed. The neural network performs its work so well that it is even strange</a></li>
<li><a href="../458278/index.html">How hackers use Microsoft Excel against him</a></li>
<li><a href="../458284/index.html">Denial of the sage. Analyzing the proposed algorithm</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>