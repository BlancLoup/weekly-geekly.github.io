<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Magic data-driven design</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Note from the translator  Due to the lack of concise translation of some terms that came to us from the English language, I would prefer to leave them...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Magic data-driven design</h1><div class="post__text post__text-html js-mediator-article"><div class="spoiler">  <b class="spoiler_title">Note from the translator</b> <div class="spoiler_text">  Due to the lack of concise translation of some terms that came to us from the English language, I would prefer to leave them in the original language.  I think that those who are interested in this industry will not be annoyed. </div></div><br><br>  Games consist of two parts: logic and data.  Reviving the game when connecting them together, but useless separately.  Logic defines the basic rules and algorithms of the game engine, while the data describes the details of the game content and its behavior.  The magic is that both of these components are separated from each other and can develop separately. <br><a name="habracut"></a><br><br><h4>  Thought 1: Basics </h4><br>  First of all, you need a system that can read text files on demand (and not just when the program is initially loaded).  It is necessary to follow the data-driven paradigm underlying the whole process.  Each game requires a way to read data from files, and although the game should ultimately work with binary files, it is much more convenient to work with text files during the development process.  After all, they are simple to the impossible!  And they also allow you to organize work for your entire team more efficiently - without changing a single line of code, any member of the team (including testers and game designers) can try new things and experiment with different versions of the existing one.  Thus, an easily implemented function quickly becomes an indispensable tool in the work. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h4>  Thought 2: Minimum Required </h4><br>  It is not necessary to set constants in the code.  Put them all in a text file (or files) so that they can be easily modified without recompiling the code.  For example, basic functionality, camera behavior, etc.  can be fully described in this way.  And if so, then the game designer, producer, boy from the next entrance - everyone will be able to change the behavior of the game, simply by editing the desired file in notepad.  And not all team members can be close to programming and get along well with it, so it‚Äôs important to keep this in mind, because playing with the values ‚Äã‚Äãof the permanent, game producers and game designers can achieve the desired behavior in the game without worrying about the programmers. <br><br><h4>  Thought 3: Limit Nothing </h4><br>  Suppose anything can change (most likely it will be so).  If the game requires a split-screen mode, you do not need to strictly specify exactly two.  Write your game, which can support any number of screens with its own logic for each camera.  The amount of work from this, with the right approach to business, will not greatly increase.  With the help of the magic of text files, you will determine how many screens there should be in the game - one, two, four or more.  The files will also set the initial data for the cameras: position, direction, angle of coverage, and slope.  The best part is that your game designers also have direct access to changing these parameters. <br>  The game develops in full force, with a flexible code design.  The process of abstraction and making the core of the game will greatly help in its design and development.  Instead of designing the game for one specific goal, you can design each of its components and its overall functionality.  The effect of this approach will be that you will better understand what you really need to do, and you will not blindly follow the described behavior in the project documentation for the game. <br>  For example, if a game requires only four types of weapons, you can program a perfect system that describes all of them individually.  However, if you abstract from the functionality of each of the weapons, using the data defining the behavior, you can later add countless types of weapons to experiment with new ideas and dynamics of the gameplay.  Such thinking, ultimately, allows the game to improve and develop. <br>  <strong>Did you believe me when I said ‚ÄúNothing‚Äù?</strong> <br>  The truth is that games must be customizable, and big games must evolve from the original version, following the plot.  Your game should be able to work with changing rules, characters, races, weapons, levels, control schemes and objects.  Without this flexibility, any change in the game becomes costly, and even a minor change involves the participation of the programmer - which is essentially just a waste of resources.  If the changes turn out to be difficult, then this may lead to a slight improvement in the original game design, and the game will not survive until the disclosure of all its possibilities. <br><br><h4>  Thought 4: Master Controlling Scenario </h4><br>  A script is simply a way of defining behavior outside of program code.  Scripts are great for determining the sequence of steps that should occur in a game, or for game events that need to be triggered.  For example, a scenario for a game scene that describes a simple causal logic, such as ‚Äúwhat will happen if the quest is completed‚Äù or ‚Äúwhich trigger will work for a given environment.‚Äù  All these examples relate to the data-driven design paradigm. <br>  When designing scenarios, you need to decide on the logic of branching and how it will be organized.  There are two approaches.  The first is to continue to use variables inside the script and compare them with comparison operators: equality (=), less than (&lt;), etc.  The second approach is to directly call the evaluating function, which compares variables that exist within the code, for example, isLifeBelowPercentage (50).  You can use a combination of these methods, but at the same time try to keep the scripts simple.  A game designer will find it much easier to work with rating functions than with declared variables, their updating and comparison.  Also, the second approach will simplify debugging. <br>  Unfortunately, an appropriate language is required to describe the scripts.  This means that you must create an entire syntax to define the behavior of the game.  The scripting language includes the creation of a script parser and, possibly, a compiler to convert scripts to a binary file for faster execution later.  Another option is to use an existing language, such as Java, but in this case, a large number of additional components may be required.  In order not to spend a lot of time on a scripting language, you need to win by designing systems easier.  In general, there is a tendency to impart unnecessary power to the scripting language.  The following thought explains some of the pitfalls of a complex scripting language. <br><br><h4>  Thought 5: When Good Scripts Go Bad </h4><br>  Using scripts to describe behavior in data-driven design is a natural consequence of this methodology.  However, we should not forget about common sense and remember the key idea: the separation of logic from data.  Complex logic is sent to the program code, and the data remains outside. <br>  The problem arises when the desire to base data goes too far.  At some point, you will want to describe the complex logic within the script.  When a script begins to contain the state of something and requires branching, it becomes like a state machine.  As his fortunes increase, the innocent script writer (as well as some poor game designers) will have to work as a programmer.  If the scenarios become too complex, the work returns to the programmer, who must describe all the difficulties in his strictly limited language.  Scenarios should make people's work easier, not more difficult. <br>  Why is it important to store complex logic in code?  The issue of functionality and debugging.  Since scripts are outside the code, they duplicate many of the concepts that exist in programming languages.  The natural tendency is to give more and more functionality to scripts until they become real programming languages.  More complex scenarios appear, and more information needs to be tracked when debugging, which complicates the initially simple idea of ‚Äã‚Äãworking with scripts. <br>  As you probably guessed, the scripts can have non-trivial logic, and then it can take months to write a script parser, compiler and debugger.  This would happen if programmers did not understand that there was already a fairly good compiler in front of them. <br>  <strong>Blurred border</strong> <br>  There is no doubt that the boundary between code and scripts is blurred.  In general, it‚Äôs a bad idea to put artificial intelligence (AI) behavior in scenarios, while placing the system triggers in scripts to make the world more interactive is a good idea.  The following rule is obtained: if the logic is complex, then it should be in the code.  Scripting languages ‚Äã‚Äãshould remain simple so as not to devour your game (and all your programmer resources). <br>  However, some games were designed with the ability for players to write their own AI.  Often, this first-person shooter, allowing you to add bots.  When the goal is exactly the same, the similarity of a scripting language to real programming languages ‚Äã‚Äãis simply inevitable.  As an example, consider Quake C. Since the creation of bots is embedded in the game itself, resources and energy have been spent on creating a scripting language that is as convenient as the C language. A scripting language of this magnitude is rather laborious and should not be treated lightly. <br>  First of all, remember that you do not want game designers and screenwriters to program the game.  Sometimes programmers try to evade responsibility by creating scripting languages ‚Äã‚Äãto lure game designers into game programming.  In the ideal case, programmers should solve serious problems and create a significant part of the control logic.  Otherwise, what else do they get so much money? <br><br>
<h4>  Thought 6: How to avoid data repetition syndrome </h4><br>  A common programming practice is to never duplicate code.  If you need some behavior (for example, common functionality) in two different places, it should only exist in one place.  The idea is applicable to the description of data with the help of links to global data blocks.  In addition, by using references to datasets and changing some of their values, you end up approaching the concept of inheritance. <br>  Inheritance is a huge idea to apply to your data.  Imagine that your game is inhabited by goblins living in dungeons.  Your data determines where each goblin stands with all its properties in each dungeon.  It will be correct to encapsulate the global definition data into each goblin instance.  In order for each goblin to become unique, the link may be accompanied by a list of redefined properties.  This approach will allow each goblin to have their own behavior, while not duplicating data. <br>  The idea can be applied at several levels, allowing each data set to have a link.  Using this technique, you can make a global definition of goblin, which is inherited from the basic type of goblin.  Inside the definition, regular or fast goblins can be specified for each dungeon.  The figure demonstrates this concept of inheritance using links and redefining values. <br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/089/0f3/4d8/0890f34d8b44750370bd4b92b76faca3.png"></div><br><br><h4>  Thought 7: Make a data tool </h4><br>  In any big game, text files end up becoming unmanageable and it becomes hard to work with them.  The solution to this problem is to create a tool for working with them.  Let's call this tool the game editor, level editor, or script editor, it will speed up the development of the game.  Possession of the tool does not change the data-driven methodology, but only makes it more reliable and efficient.  The time saved with these tools justifies the cost of their development and implementation. <br><br><h4>  Conclusion </h4><br>  Getting started using data-driven design is easy, but it‚Äôs pretty hard to imagine the amazing possibilities that come with this approach. <br>  Total Annihilation is a good example of this approach.  Designer Chris Taylor laid two races: Arm and Core.  Although the whole game is focused on two races, they were not tightly programmed into the game.  In theory, one could add data to add a third race, even after the game was released.  Although this feature was not used, Total Annihilation remains fully customizable in this regard.  Since all units are determined by data, new units are published weekly on the game website.  In fact, many people created their own units with functionality that shook the game developers themselves. <br>  Data-driven design helped Total Annihilation support loyal fans of the game in an already crowded genre.  The idea implemented in Total Annihilation has been further applied in other games, such as The Sims, which also distribute additional game content through the web site.  Without developers' commitment to the data-driven design philosophy, such extensions would be impossible. </div><p>Source: <a href="https://habr.com/ru/post/204298/">https://habr.com/ru/post/204298/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../204284/index.html">Why do developers constantly make mistakes when assessing deadlines by a factor of 2-3?</a></li>
<li><a href="../204286/index.html">Cross-platform GUI on C # and web technologies</a></li>
<li><a href="../204288/index.html">OCZ pleaded bankrupt</a></li>
<li><a href="../204292/index.html">Parallels Cloud Server Automated Testing</a></li>
<li><a href="../204294/index.html">Useful books on online trading and marketing</a></li>
<li><a href="../204300/index.html">The digest of interesting materials from the world of web development and IT for the last week No. 85 (November 24 - 30, 2013)</a></li>
<li><a href="../204302/index.html">Habra browser extension. Read comments with a flick of a mouse</a></li>
<li><a href="../204304/index.html">The story of creating a successful game hosting project</a></li>
<li><a href="../204306/index.html">Managing WMI Access Rights with Puppet</a></li>
<li><a href="../204308/index.html">Graphing tools for .NET</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>