<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>The release of the first beta cross-platform XAML UI-toolkit Avalonia</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="The release of the first beta version of Avalonia . 


 Avalonia is a cross-platform .NET UI toolkit inspired by WPF technologies and distributed unde...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>The release of the first beta cross-platform XAML UI-toolkit Avalonia</h1><div class="post__text post__text-html js-mediator-article"><p><img src="https://habrastorage.org/webt/du/1i/al/du1ial_ccgmbltvh5utxuz-xxak.png" align="left">  The release of the first beta version of <a href="https://github.com/AvaloniaUI/Avalonia">Avalonia</a> . </p><br><p>  Avalonia is a cross-platform .NET UI toolkit inspired by WPF technologies and distributed under the MIT license.  It fully supports .NET Core 2.0, XAML, data bindings, <a href="https://www.codeproject.com/Articles/1056014/WPF-Lookless-Controls">lookless controls,</a> and more.  Avalonia allows you to write applications on C # under Windows, Linux and Mac OS X. The ability to run on iOS and Android is in an experimental state. </p><br><iframe width="560" height="315" src="https://www.youtube.com/embed/21LYHJok82s" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><p>  This version is stable and has the full right to be called a beta: the toolkit does not fall apart in the hands and has a decent basic set of controls (see video).  It has created two fairly large open source applications: <a href="https://github.com/VitalElement/AvalonStudio">AvalonStudio</a> is a cross-platform IDE for developing in C # and C ++ and <a href="https://github.com/wieslawsoltes/Core2D">Core2D</a> is an editor for 2D diagrams and diagrams. </p><a name="habracut"></a><br><p>  The easiest way to take and start using is to install our <a href="https://marketplace.visualstudio.com/items%3FitemName%3DAvaloniaTeam.AvaloniaforVisualStudio">extension for Visual Studio</a> or use the <a href="https://github.com/AvaloniaUI/avalonia-dotnet-templates">templates for dotnet new</a> .  For <a href="https://github.com/AvaloniaUI/Avalonia/tree/master/samples">examples examples</a> are available <a href="https://github.com/AvaloniaUI/Avalonia/tree/master/samples">in the main repository</a> . </p><br><p>  During the preparation of the release, a number of important changes occurred: </p><br><ul><li>  Transition to the .NET Standard 2.0 platform </li><li>  The old slow XAML-parser was replaced with <a href="">Portable.Xaml</a> , which made it possible to speed up the launch of AvalonStudio from 25 to 7 seconds (on SSD or on HDD with hot file cache). </li><li>  Removed old and incompatible with .NET Core Cairo and gtk-sharp backends.  Instead, they now use <a href="https://skia.org/">Skia</a> (a 2D rendering library from Google Chrome) and their own GTK3 bindings. </li><li>  Instead, fork <a href="https://reactiveui.net/">ReactiveUI</a> 8 switched to the official version, since it began to support .NET Standard. </li><li>  Launched site <a href="http://avaloniaui.net/">avaloniaui.net</a> , on which documentation is available.  Articles will be added there in the future. </li></ul><br><p>  Key features in the release </p><br><h2 id="retainedhttpsenwikipediaorgwikiretained_mode-rezhim-otrisovki-v-otdelnom-potoke">  <a href="https://en.wikipedia.org/wiki/Retained_mode">Retained</a> - drawing mode in a separate stream </h2><br><p> Previously, the window was completely redrawn with each change.  This approach is simple and reliable, but extremely inefficient.  Instead <a href="https://github.com/AvaloniaUI/Avalonia/pull/827">, a</a> <code>DeferredRenderer</code> <a href="https://github.com/AvaloniaUI/Avalonia/pull/827">was implemented</a> , which converts the calls to our rendering API into a window <a href="https://ru.wikipedia.org/wiki/%25D0%2593%25D1%2580%25D0%25B0%25D1%2584_%25D1%2581%25D1%2586%25D0%25B5%25D0%25BD%25D1%258B">scene graph</a> .  A separate stream searches for modified sections in the graph and redraws only them.  In addition to removing the load from the UI stream, this allows you to add optimizations, highlighting parts of the window in cached layers. </p><br><p>  New rendering infrastructure significantly improved performance, especially in cases with animations.  It also gave us the opportunity to implement properly working hit-testing. </p><br><p>  If you have problems using the new infrastructure, the old <code>ImmediateRenderer</code> implementation is left for compatibility. </p><br><h2 id="monomac-bakend-dlya-os-x">  MonoMac-Backend for OS X </h2><br><p>  Since GTK2 / GTK3 are heavy libraries (~ 60MB), and were used only for the sake of the wrapper over the native Carbon API, we implemented the <a href="https://github.com/AvaloniaUI/Avalonia/pull/1005">Cocoa backend</a> using the specially built .NET Standard MonoMac.  This simplified the assembly of bundles and allowed the use of native OS X file dialogs instead of the "universal" ones provided by GTK. </p><br><h2 id="sintaksicheskiy-sahar-dlya-relativesource">  Syntactic Sugar for RelativeSource </h2><br><p>  Earlier, as in WPF, bindings to other controls were done via <code>RelativeSource</code> .  This syntax is very verbose: for example, binding text to the <code>Tag</code> property of the parent element looks like this: </p><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Border</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">Tag</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"Hello World"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">TextBlock</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">Text</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"{Binding Tag, RelativeSource={RelativeSource Mode=FindAncestor, AncestorType={x:Type Border} AncestorLevel=1}}"</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Border</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br><p>  The new syntax allows you to rewrite it like this: </p><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Border</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">Tag</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"Hello World"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">TextBlock</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">Text</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"{Binding $parent.Tag}"</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Border</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br><p>  In addition to the <code>$parent</code> keyword, the following features have been added: </p><br><table><thead><tr><th>  Reduction </th><th>  Full form </th></tr></thead><tbody><tr><td> <code>$self</code> </td> <td> <code>Mode = Self</code> </td> </tr><tr><td> <code>$parent</code> </td> <td> <code>Mode = FindAncestor; AncestorLevel = 1</code> </td> </tr><tr><td> <code>$parent[Level]</code> </td> <td> <code>Mode = FindAncestor; AncestorLevel = Level +1</code> </td> </tr><tr><td> <code>$parent[ns:Type]</code> </td> <td> <code>Mode = FindAncestor; AncestorType = ns:Type</code> </td> </tr><tr><td> <code>$parent[ns:Type; Level]</code> </td> <td> <code>Mode = FindAncestor; AncestorType = ns:Type; AncestorLevel = Level + 1</code> </td> </tr></tbody></table><br><p>  <sub>* <code>ns:Type</code> - namespace: Type, for example <code>Border</code> or <code>local:MyControl</code></sub> </p><br><h2 id="drawing">  Drawing </h2><br><p>  <code>Drawing</code> is a convenient representation for vector graphics of the type of icons used in WPF.  <a href="https://www.microsoft.com/en-us/download/details.aspx%3Fid%3D35825">Visual Studio Image Library</a> provides hundreds of icons in this format.  Their use improves performance, since all parts of the image are one element of the <a href="https://docs.microsoft.com/en-us/dotnet/framework/wpf/advanced/trees-in-wpf">visual tree</a> . </p><br><p>  Now in Avalonia <a href="https://github.com/AvaloniaUI/Avalonia/pull/1117">there is support for</a> this format.  Our standard <code>Image</code> control does not know how to work with them yet, but you can already use <code>DrawingPresenter</code> . </p><br><h2 id="staticresource-i-dynamicresource">  <code>StaticResource</code> and <code>DynamicResource</code> </h2><br><p>  The new version <a href="https://github.com/AvaloniaUI/Avalonia/pull/1130">adds the</a> usual WPF / UWP <code>Control.Resources</code> , <code>StaticResource</code> and <code>DynamicResource</code> . </p><br><p>  The implementation exactly corresponds to the similar functionality in WPF / UWP.  Earlier, all resources were tied to styles and it was suggested to use <code>{StyleResource}</code> to access them.  Now each control has its own dictionary of resources that are inherited through the element tree.  The <code>{StyleResource}</code> markup <code>{StyleResource}</code> been removed: now <code>{DynamicResource}</code> should be used <code>{DynamicResource}</code> . </p><br><h2 id="privyazka-komand-k-metodam">  Binding commands to methods </h2><br><p>  I think everyone has an <code>ICommand</code> implementation in the project that accepts a delegate in the constructor.  In order not to produce unnecessary entities, binding directly to the methods of the view model is added to the framework itself. </p><br><pre> <code class="hljs cs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">ViewModel</span></span> { <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">ButtonClicked</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { Console.WriteLine(<span class="hljs-string"><span class="hljs-string">"Hooray!"</span></span>); } }</code> </pre> <br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Button</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">Command</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"{Binding ButtonClicked}"</span></span></span><span class="hljs-tag">/&gt;</span></span></code> </pre> <br><h2 id="kalendarik">  Calendar card </h2><br><p>  Was <a href="https://github.com/AvaloniaUI/Avalonia/pull/1244">dragged</a> from the <a href="https://github.com/MicrosoftArchive/SilverlightToolkit">Silverlight Toolkit</a> .  Now you can choose dates. </p><br><h2 id="integraciya-s-wpf">  WPF integration </h2><br><p>  In the new version, the Avaloniya components can be completely seamlessly embedded in applications on WPF.  This became possible due to the fact that the layout systems in Avaloniya and WPF are almost identical, and Direct2D using black magic can render directly into the sharpened Direct3D 9 <code>D3DBitmap</code> .  You can see the demo <a href="https://www.youtube.com/watch%3Fv%3DuFKcO3RxN7k">here</a> . </p><br><p>  It is curious that due to the use of Direct2D with such integration on complex scenes, the performance difference can reach two orders of magnitude in favor of Avaloniya.  If you have a decelerating control for WPF, it may make sense to try porting it and building it back. </p><br><h2 id="novaya-infrastruktura-dlya-prevyuvera-s-podderzhkoy-net-core">  New infrastructure for the .NET Core support </h2><br><p>  The previous version of the preview for the studio was written in three days with all possible angles cut off.  As a result, it turned out to be tied to the Win32 API, full of the .NET Framework and Windows Forms.  Now, instead of it, a more intelligent system was invented, with communication over TCP / IP and the ability to transfer bitmaps instead of direct integration of the window in Visual Studio.  This allowed the normal preview of XAML in projects under .NET Core and, more importantly, opened the way for support in other IDEs.  In particular, support <a href="https://www.youtube.com/watch%3Fv%3DhtXsM8APW_A">has already been added</a> to AvalonStudio.  Work is underway on the Visual Studio Code plugin, but this is difficult: this IDE is built on <em>advanced and progressive</em> web technologies and requires a separate language-server, binding around MSBuild and sending images via WebSocket. </p><br><p>  In addition to the previewer, the ‚Äúremote‚Äù widget infrastructure can be useful somewhere else, so the classes <code>RemoteServer</code> and <code>RemoteWidget</code> are available for use. </p><br><h2 id="inye-uluchsheniya">  Other improvements </h2><br><p>  A complete list can be found <a href="https://github.com/AvaloniaUI/Avalonia/milestone/2">here</a> , and below are the most interesting points: </p><br><ul><li>  <code>#894</code> Buttons are turned off if the binding of the <code>Command</code> property returns <code>null</code> </li><li>  <code>#1085</code> Added <code>FindAncestor</code> </li><li>  <code>#1086</code> ReactiveUI updated to the eighth version </li><li>  <code>#1128</code> The button has <code>IsPressed</code> property </li><li>  <code>#1133</code> <code>IsOpen</code> , <code>Placement</code> , <code>Offset</code> implemented for <code>IsOpen</code> </li><li>  <code>#1145</code> Moved to .NET Standard 2.0 </li><li>  <code>#1146</code> <code>ShowTaskbarIcon</code> property is implemented for a window </li><li>  <code>#1150</code> Implemented screen access API </li><li> <code>#1174</code> <del>  Burned </del>  Removed support for GTK2 and Cairo support </li><li>  <code>#1175</code> <code>Orientation</code> and <code>IsIndeterminate</code> in progress indicator </li><li>  <code>#1253</code> Vertical orientation implemented for PageSlide animation </li><li>  <code>#1265</code> Implemented support of three states for <code>ToggleButton</code> , <code>CheckBox</code> and <code>RadioButton</code> (gray no-yes-no-no) </li><li>  <code>#1273</code> Simplified setting up logging when setting up AppBuilder </li></ul><br><h2 id="izmeneniya-lomayuschie-sovmestimost">  Compatibility Breaking Changes </h2><br><p>  The good news is that we are tracking them now and sometimes <a href="https://github.com/AvaloniaUI/Avalonia/wiki/Breaking-Changes">even documenting them</a> . <br>  The bad news: they are. </p><br><h3 id="buildavaloniaapp-dlya-prevyuvera">  <code>BuildAvaloniaApp</code> for previewer. </h3><br><p>  To work, a new previewer needs to obtain information from the application itself.  To do this, the <code>BuildAvaloniaApp</code> method should be implemented in a class with an entry point (usually <code>Program.cs</code> right next to <code>Main</code> ), something like this: </p><br><pre> <code class="hljs javascript"><span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">void</span></span> Main(string[] args) { BuildAvaloniaApp().Start&lt;MainWindow&gt;<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function">; } </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">public</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">static</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">AppBuilder</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">BuildAvaloniaApp</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> AppBuilder.Configure&lt;App&gt;() .UsePlatformDetect() .LogToDebug();</code> </pre> <br><p>  Without it, the preview will not work.  So it goes. </p><br><h3 id="datacontextchanging-i-datacontextchanged">  <code>DataContextChanging</code> and <code>DataContextChanged</code> </h3><br><p>  Replaced with <code>OnDataContextBeginUpdate</code> and <code>OnDataContextEndUpdate</code> . </p><br><h3 id="rasshireniya-razmetki-static-i-type">  Markup extensions <code>Static</code> and <code>Type</code> </h3><br><p>  Replaced by <code>x:Static</code> and <code>x:Type</code> , you need to add the <code>xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"</code> space to the root element of the XAML file.  For standardization. </p><br><h3 id="styleresource"> <code>StyleResource</code> </h3> <br><p>  <code>StyleResource</code> replaced by <code>StaticResource</code> and <code>DynamicResource</code> , as in all normal XAML frameworks.  <code>StaticResource</code> and <code>DynamicResource</code> look in <code>Control.Resources</code> <em>and</em> <code>Style.Resources</code> . </p><br><h3 id="mouse-device">  Mouse device </h3><br><p>  Removed one of the global variables - <code>MouseDevice</code> .  Now the mouse is available at the top level: call <code>GetVisualRoot</code> and bring the result to <code>IInputRoot</code> .  That's because global variables and service locator are evil. </p><br><pre> <code class="hljs haskell"><span class="hljs-title"><span class="hljs-title">var</span></span> pos = (_control.<span class="hljs-type"><span class="hljs-type">GetVisualRoot</span></span>() <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> <span class="hljs-type"><span class="hljs-type">IInputRoot</span></span>)?.<span class="hljs-type"><span class="hljs-type">MouseDevice</span></span>?.<span class="hljs-type"><span class="hljs-type">Position</span></span> ?? <span class="hljs-keyword"><span class="hljs-keyword">default</span></span>(<span class="hljs-type"><span class="hljs-type">Point</span></span>);</code> </pre> <br><h2 id="kak-nachat-polzovatsya">  How to start using? </h2><br><p>  Download <a href="https://marketplace.visualstudio.com/items%3FitemName%3DAvaloniaTeam.AvaloniaforVisualStudio">addition to the Studio</a> and create a project from the template.  There is no full-fledged documentation yet, so experience with WPF or UWP is needed. </p></div>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <p>Source: <a href="https://habr.com/ru/post/349394/">https://habr.com/ru/post/349394/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../349382/index.html">DigiCert bought Symantec Website Security: implications for users of SSL / TLS certificates</a></li>
<li><a href="../349384/index.html">The slowest way to speed up a program on Go</a></li>
<li><a href="../349386/index.html">Team Leader. To be or not to be, that is the question</a></li>
<li><a href="../349388/index.html">We forward Steam API calls from Wine to GNU / Linux and back with Nim</a></li>
<li><a href="../349392/index.html">Sublime Text 3 is alive. (Setup and operation)</a></li>
<li><a href="../349396/index.html">Configuring VoIP GSM Gateway Yeastar Neogate TGXXX Series for 3CX</a></li>
<li><a href="../349398/index.html">Safely speeding up the Erlang application using NIF on Rust</a></li>
<li><a href="../349400/index.html">FastTrack Training. "Network Basics". "Basics of switching or switches." Part one. Eddie Martin December 2012</a></li>
<li><a href="../349402/index.html">UWP game: Where to start</a></li>
<li><a href="../349404/index.html">Search under the hood. Cloud indexing</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>