<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Evaluation of the quality of face recognition algorithms</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hi, Habr! 

 At NtechLab, we are engaged in research and development of face recognition products. In the process of implementing our solutions, we of...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Evaluation of the quality of face recognition algorithms</h1><div class="post__text post__text-html js-mediator-article">  Hi, Habr! <br><br>  At NtechLab, we are engaged in research and development of face recognition products.  In the process of implementing our solutions, we often encounter the fact that customers are not very clear about the requirements for the accuracy of the algorithm, so testing one solution or another for their task is difficult.  To remedy the situation, we developed a brief guide describing the main metrics and testing approaches, which I would like to share with the Habr community. <br><br><img src="https://habrastorage.org/web/261/5c6/039/2615c60397e8416883ca20ce58bf1e88.png"><br><a name="habracut"></a>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      In recent times, facial recognition is gaining more and more interest from the commercial sector and the state.  However, the correct measurement of the accuracy of such systems is not an easy task and contains a lot of nuances.  We are constantly being asked to test our technology and pilot projects based on it, and we noticed that there are often questions about the terminology and methods of testing algorithms for business problems.  As a result, inappropriate tools may be selected to solve the problem, resulting in financial losses or lost profits.  We decided to publish this note to help people master the environment of specialized terms and raw data surrounding face recognition technology.  We wanted to talk about the basic concepts in this area in a simple and understandable language.  Hopefully, this will allow technical and entrepreneurial people to speak the same language, better understand the scenarios of using face recognition in the real world and make decisions confirmed by data. <br><br><h2>  Face recognition tasks </h2><br>  Face recognition is often called a set of different tasks, such as detecting a person in a photo or in a video stream, determining gender and age, searching for the right person among multiple images, or checking that the same person is in two images.  In this article we will focus on the last two tasks and we will call them, respectively, identification and verification.  To solve these problems, special descriptors or feature vectors are extracted from images.  In this case, the task of identification is reduced to finding the nearest feature vector, and verification can be implemented using a simple threshold of distances between the vectors.  By combining these two actions, you can identify a person among a set of images or decide that he is not among those images.  Such a procedure is called open-set identification (see identification on an open set), see Fig.1. <br><br><img src="https://habrastorage.org/web/14b/fb2/fa3/14bfb2fa3bc04ac2aad8433e15066f71.png"><br>  Fig.1 Open-set identification <br><br>  For a quantitative assessment of the similarity of persons, you can use the distance in the space of feature vectors.  Often choose Euclidean or cosine distance, but there are other, more complex, approaches.  The specific distance function is often supplied as part of a face recognition product.  Identification and verification return different results and, accordingly, different metrics are used to assess their quality.  We will look at quality metrics in detail in the following sections.  In addition to choosing an adequate metric, to assess the accuracy of the algorithm, you will need a marked set of images (datasets). <br><br><h2>  Accuracy Assessment </h2><br><h3>  Datasets </h3><br>  Almost all modern facial recognition software is built on machine learning.  Algorithms are trained in large datasets (datasets) with tagged images.  Both the quality and nature of these datasets have a significant impact on accuracy.  The better the source data, the better the algorithm will cope with the task. <br><br>  A natural way to verify that the accuracy of the face recognition algorithm meets expectations is to measure the accuracy on a separate test dataset.  It is very important to choose this dataset correctly.  In the ideal case, the organization should acquire its own set of data as closely as possible with the images with which the system will work during operation.  Pay attention to the camera, shooting conditions, age, gender and nationality of people who fall into the test dataset.  The more similar the test data to the real data, the more reliable the test results will be.  Therefore, it often makes sense to spend time and money collecting and marking your data set.  If this is not possible for some reason, you can use public datasets, for example, <a href="http://vis-www.cs.umass.edu/lfw/">LFW</a> and <a href="http://megaface.cs.washington.edu/">MegaFace</a> .  LFW contains only 6000 pairs of face images and is not suitable for many real-life scenarios: in particular, it‚Äôs impossible to measure low enough error levels on this dataset, as we will see later.  Dataset MegaFace contains much more images and is suitable for testing face recognition algorithms on a large scale.  However, the MegaFace training and test set of images is publicly available, so it should be used for testing with caution. <br><br>  An alternative is to use the test results by a third party.  Such tests are conducted by qualified specialists on large closed datasets, and their results can be trusted.  One example is the <a href="https://www.nist.gov/programs-projects/face-recognition-vendor-test-frvt-ongoing">NIST Face Recognition Vendor Test Ongoing</a> .  This is a test conducted by the National Institute of Standards and Technology (NIST) at the US Department of Commerce.  The ‚Äúminus‚Äù of this approach is that the data of the testing organization may differ significantly from the use case of interest. <br><br><h4>  Retraining </h4><br>  As we said, machine learning is at the core of modern facial recognition software.  One of the common phenomena of machine learning is the so-called.  retraining.  It manifests itself in the fact that the algorithm shows good results on the data used in the training, but the results on the new data are much worse. <br><br>  Consider a specific example: imagine a client who wants to establish a bandwidth system with face recognition.  For these purposes, he collects a set of photos of people who will be allowed access, and teaches the algorithm to distinguish them from other people.  On tests, the system shows good results and is being put into operation.  After some time, the list of people with admission decide to expand and it turns out that the system denies new people access.  The algorithm was tested on the same data as it was trained, and no one measured the accuracy on new photos.  This, of course, is an exaggerated example, but it allows you to understand the problem. <br><br>  In some cases, retraining is not so obvious.  Suppose the algorithm was trained on the images of people, where a certain ethnic group prevailed.  When applying such an algorithm to persons of other nationalities, its accuracy will certainly fall.  An overly optimistic assessment of the accuracy of the algorithm due to incorrect testing is a very common mistake.  You should always test the algorithm on new data that it has to process in real application, and not on the data on which the training was conducted. <br><br>  Summarizing the above, we make a list of recommendations: do not use the data on which the algorithm has been trained for testing, use a special closed dataset for testing.  If this is not possible and you are going to use a public dataset, make sure that the vendor has not used it in the process of learning and / or setting up the algorithm.  Learn datasets before testing, consider how close it is to the data that will come from operating the system. <br><br><h3>  Metrics </h3><br>  After selecting the dataset, you should decide on the metric that will be used to evaluate the results.  In general, a metric is a function that accepts the input of the results of the algorithm (identification or verification), and returns a number that corresponds to the quality of the algorithm on a particular dataset.  Using the same number for a quantitative comparison of different algorithms or vendors allows for a succinct presentation of test results and facilitates the decision-making process.  In this section, we will look at the metrics most commonly used in face recognition, and discuss their meaning from a business perspective. <br><br><h4>  Verification </h4><br>  Verification of individuals can be viewed as a binary decision making process: ‚Äúyes‚Äù (two images belong to the same person), ‚Äúno‚Äù (different people are depicted on a pair of photos).  Before dealing with verification metrics, it is helpful to understand how we can classify errors in such problems.  Given that there are 2 possible responses of the algorithm and 2 variants of the true state of affairs, there are only 4 possible outcomes: <br><br><img src="https://habrastorage.org/web/261/5c6/039/2615c60397e8416883ca20ce58bf1e88.png"><br>  Fig.  2 Types of errors.  The background color encodes the true relationship between the pictures (blue means ‚Äúaccept‚Äù, yellow - ‚Äúreject‚Äù), the color of the frame corresponds to the prediction of the algorithm (blue - ‚Äúaccept‚Äù, yellow - ‚Äúreject‚Äù <br><br><img src="https://habrastorage.org/web/939/2bd/0c3/9392bd0c30ea46d380cceafe33ae9074.png"><br><br>  In the table above, the columns correspond to the solution of the algorithm (blue to accept, yellow to reject), the lines correspond to the true values ‚Äã‚Äã(encoded in the same colors).  The correct answers of the algorithm are marked with a green background, erroneous - with red. <br><br>  Of these outcomes, two correspond to the correct answers of the algorithm, and two correspond to errors of the first and second kind, respectively.  Errors of the first kind are called ‚Äúfalse accept‚Äù, ‚Äúfalse positive‚Äù or ‚Äúfalse match‚Äù (incorrectly accepted), and errors of the second kind - ‚Äúfalse reject‚Äù, ‚Äúfalse negative‚Äù or ‚Äúfalse non-match‚Äù (incorrectly rejected). <br><br>  Summing up the number of errors of various kinds among pairs of images in dataset and dividing them by the number of pairs, we get the false accept rate (FAR) and false reject rate (FRR).  In the case of an access control system, ‚Äúfalse positive‚Äù corresponds to giving access to a person for whom this access is not provided, while ‚Äúfalse negative‚Äù means that the system mistakenly denied access to an authorized person.  These errors have different costs in terms of business and are therefore considered separately.  In the access control example, ‚Äúfalse negative‚Äù causes the security officer to recheck the employee's pass.  Providing unauthorized access to a potential violator (false positive) can lead to much worse consequences. <br><br>  Given that various types of errors are associated with various risks, manufacturers of face recognition software often provide the opportunity to customize the algorithm so as to minimize one type of error.  For this, the algorithm returns not a binary value, but a real number, which reflects the confidence of the algorithm in its decision.  In this case, the user can independently select the threshold and fix the level of errors at certain values. <br><br>  For example, consider the ‚Äútoy‚Äù dataset of three images.  Let images 1 and 2 belong to the same person, and image 3 to someone else.  Suppose that the program assessed its confidence for each of the three pairs as follows: <br><img src="https://habrastorage.org/web/e1e/47d/e52/e1e47de528854ab5ad43d7092f9ed396.png"><br><br>  We specifically chose values ‚Äã‚Äãin such a way that no threshold would classify all three pairs correctly.  In particular, any threshold below 0.6 will result in two false accept (for pairs 2-3 and 1-3).  Of course, this result can be improved. <br><br>  Choosing a threshold from the range of 0.6 to 0.85 will result in a pair of 1-3 being rejected, a pair of 1-2 will still be accepted, and 2-3 will be falsely accepted.  If you increase the threshold to 0.85-0.9, then a pair of 1-2 will be falsely rejected.  Threshold values ‚Äã‚Äãabove 0.9 will result in two true rejects (pairs 1-3 and 2-3) and one false reject (1-2).  Thus, the best options are thresholds from the range of 0.6-0.85 (one false accept 2-3) and a threshold above 0.9 (results in false reject 1-2).  What value to choose as the final depends on the cost of errors of different types.  In this example, the threshold varies over wide ranges, this is primarily due to the very small size of the data and to how we chose the confidence values ‚Äã‚Äãof the algorithm.  For large datasets used for real-life tasks, we would have significantly more accurate threshold values.  Often, face recognition software vendors supply default threshold values ‚Äã‚Äãfor different FARs that are calculated in a similar way on the vendor's own datasets. <br><br>  It is also easy to see that as the FAR of interest decreases, more and more positive pairs of images are required to accurately calculate the threshold value.  So, for FAR = 0.001 you need at least 1000 pairs, and for FAR = <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-1-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><msup><mn>10</mn><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x2212;</mo><mn>6</mn></mrow></msup></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="4.658ex" height="2.419ex" viewBox="0 -935.7 2005.4 1041.5" role="img" focusable="false" style="vertical-align: -0.246ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/ntechlab/blog/329412/&amp;xid=17259,1500004,15700022,15700186,15700191,15700248,15700253&amp;usg=ALkJrhh_iGS14-DhY-4fPXbKLqEdoA4m2A#MJMAIN-31"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/ntechlab/blog/329412/&amp;xid=17259,1500004,15700022,15700186,15700191,15700248,15700253&amp;usg=ALkJrhh_iGS14-DhY-4fPXbKLqEdoA4m2A#MJMAIN-30" x="500" y="0"></use><g transform="translate(1001,393)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/ntechlab/blog/329412/&amp;xid=17259,1500004,15700022,15700186,15700191,15700248,15700253&amp;usg=ALkJrhh_iGS14-DhY-4fPXbKLqEdoA4m2A#MJMAIN-2212" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/ntechlab/blog/329412/&amp;xid=17259,1500004,15700022,15700186,15700191,15700248,15700253&amp;usg=ALkJrhh_iGS14-DhY-4fPXbKLqEdoA4m2A#MJMAIN-36" x="778" y="0"></use></g></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><msup><mn>10</mn><mrow class="MJX-TeXAtom-ORD"><mo>‚àí</mo><mn>6</mn></mrow></msup></math></span></span><script type="math/tex" id="MathJax-Element-1"> 10 ^ {- 6} </script>  It will take 1 million pairs.  It is not easy to collect and mark up such data, so for customers interested in low FAR values, it makes sense to pay attention to public benchmarks, such as <a href="https://www.nist.gov/programs-projects/face-recognition-vendor-test-frvt">NIST Face Recognition Vendor Test</a> or <a href="http://megaface.cs.washington.edu/">MegaFace</a> .  The latter should be treated with caution, since both the training and the test sample are available to everyone, which can lead to an overly optimistic assessment of accuracy (see the ‚ÄúRetraining‚Äù section). <br><br>  Types of errors differ in their associated cost, and the client has a way to shift the balance towards those or other errors.  For this we need to consider a wide range of threshold values.  A convenient way to visualize the accuracy of the algorithm for different values ‚Äã‚Äãof FAR is to build ROC curves (receiver operating characteristic, receiver operating characteristics). <br><br>  Let's understand how ROC curves are constructed and analyzed.  The confidence of the algorithm (and, consequently, the threshold) take values ‚Äã‚Äãfrom a fixed interval.  In other words, these quantities are bounded above and below.  Suppose that this is an interval from 0 to 1. Now we can measure the number of errors by varying the threshold value from 0 to 1 in small steps.  So, for each threshold value we get the FAR and TAR values ‚Äã‚Äã(true accept rate).  Next, we will draw each point so that FAR corresponds to the abscissa axis, and TAR corresponds to the ordinate axis. <br><br><img src="https://habrastorage.org/web/88a/e49/577/88ae4957797f4788a3d91965693109db.png"><br>  Fig.3 Example of a ROC curve <br><br>  It is easy to see that the first point will have coordinates of 1.1.  With a threshold of 0, we accept all pairs and do not reject any.  Similarly, the last point will be 0.0: at threshold 1, we do not accept a single pair and reject all pairs.  At the other points, the curve is usually convex.  You can also notice that the worst curve lies approximately on the diagonal of the graph and corresponds to a random guessing of the outcome.  On the other hand, the best possible curve forms a triangle with vertices (0,0) (0,1) and (1,1).  But on datasets of reasonable size it is difficult to meet. <br><br><img src="https://habrastorage.org/web/70a/632/500/70a632500de246099f02f66781f08a5b.png"><br>  Fig.4 NIST FRVT ROC curves <br><br>  It is possible to construct a similarity of ROC curves with different metrics / errors on the axis.  Consider, for example, Figure 4. It shows that the organizers of NIST FRVT on the Y axis painted FRR (in the picture - False non-match rate), and on the X axis - FAR (in the picture - False match rate).  In this particular case, the best results are achieved by curves that are located below and shifted to the left, which corresponds to low FRR and FAR.  Therefore, it is worth paying attention to what values ‚Äã‚Äãare plotted along the axes. <br><br>  Such a graph makes it easy to judge the accuracy of the algorithm for a given FAR: it suffices to find a point on a curve with a coordinate X equal to the desired FAR and the corresponding TAR value.  The ‚Äúquality‚Äù of a ROC curve can also be estimated by a single number, for this it is necessary to calculate the area under it.  In this case, the best possible value will be 1, and a value of 0.5 corresponds to a random guessing.  This number is called ROC AUC (Area Under Curve).  However, it should be noted that the ROC AUC implicitly assumes that errors of the first and second kind are unambiguous, which is not always the case.  If the price of errors varies, you should pay attention to the shape of the curve and the areas where FAR meets business requirements. <br><br><h3>  Identification </h3><br>  The second popular task of face recognition is the identification, or search for a person among a set of images.  Search results are sorted according to the confidence of the algorithm, and the most likely matches fall to the top of the list.  Depending on whether or not the desired person is present in the search base, identification is divided into two subcategories: closed-set identification (it is known that the desired person is in the database) and open-set identification (the desired person may not be in the database). <br><br>  Accuracy (accuracy) is a reliable and understandable metric for closed-set identification.  In fact, accuracy measures the number of times that a person has been among the search results. <br><br>  How does it work in practice?  Let's figure it out.  Let's start with the business requirements statement.  Suppose we have a web page that can host ten search results.  We need to measure the number of times that the desired person falls into the first ten responses of the algorithm.  This number is called Top-N accuracy (in this particular case, N is 10). <br><br>  For each test, we define the image of the person we are looking for and the gallery in which we search, so that the gallery contains at least one more image of this person.  We review the first ten results of the search algorithm and check if there is a person among them.  To obtain accuracy, one should sum up all the tests in which the desired person was in the search results, and divide by the total number of tests. <br><br><img src="https://habrastorage.org/web/b22/dc9/bc4/b22dc9bc48894fcd9bb1c05f79cc5910.png"><br>  Figure 5. An example of identification.  In this example, the desired person appears at position 2, so the accuracy of Top-1 is 0, and Top-2 and later is 1. <br><br>  Open-set identification consists of finding people who are most similar to the desired image, and determining whether one of them is the desired person based on the confidence of the algorithm.  Open-set identification can be viewed as a combination of closed-set identification and verification, so all the same metrics can be used for this task as in the verification task.  It is also easy to see that the open-set identification can be reduced to pair-wise comparisons of the desired image with all the images from the gallery.  In practice, this is not used for speed considerations.  Facial recognition software often comes with fast search algorithms that can find among millions of people alike in milliseconds.  Pairwise comparisons would take much longer. <br><br><h2>  Practical examples </h2><br>  As an illustration, let's look at a few common situations and approaches to testing face recognition algorithms. <br><br><h3>  Retail store </h3><br>  Suppose that an average-sized retail store wants to improve its loyalty program or reduce the number of thefts.  It's funny, but from the point of view of face recognition, this is about the same thing.  The main task of this project is to identify the customer or the attacker as early as possible from the camera image and pass this information on to the seller or security officer. <br><br>  Let loyalty program encompass 100 clients.  This task can be considered as an example of open-set identification.  Assessing the costs, the marketing department concluded that the acceptable level of error was to take one visitor as a regular customer per day.  If a day is visited by 1000 visitors, each of which must be checked with a list of 100 regular customers, then the required FAR will be <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-2-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mtext>&amp;#xA0;</mtext><mi>f</mi><mi>r</mi><mi>a</mi><mi>c</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mn>1</mn></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mn>1000</mn><mo>&amp;#x2217;</mo><mn>100</mn></mrow><mo>=</mo><msup><mn>10</mn><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x2212;</mo><mn>5</mn></mrow></msup></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="24.395ex" height="2.78ex" viewBox="0 -935.7 10503.4 1197.1" role="img" focusable="false" style="vertical-align: -0.607ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/ntechlab/blog/329412/&amp;xid=17259,1500004,15700022,15700186,15700191,15700248,15700253&amp;usg=ALkJrhh_iGS14-DhY-4fPXbKLqEdoA4m2A#MJMATHI-66" x="250" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/ntechlab/blog/329412/&amp;xid=17259,1500004,15700022,15700186,15700191,15700248,15700253&amp;usg=ALkJrhh_iGS14-DhY-4fPXbKLqEdoA4m2A#MJMATHI-72" x="800" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/ntechlab/blog/329412/&amp;xid=17259,1500004,15700022,15700186,15700191,15700248,15700253&amp;usg=ALkJrhh_iGS14-DhY-4fPXbKLqEdoA4m2A#MJMATHI-61" x="1252" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/ntechlab/blog/329412/&amp;xid=17259,1500004,15700022,15700186,15700191,15700248,15700253&amp;usg=ALkJrhh_iGS14-DhY-4fPXbKLqEdoA4m2A#MJMATHI-63" x="1781" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/ntechlab/blog/329412/&amp;xid=17259,1500004,15700022,15700186,15700191,15700248,15700253&amp;usg=ALkJrhh_iGS14-DhY-4fPXbKLqEdoA4m2A#MJMAIN-31" x="2215" y="0"></use><g transform="translate(2715,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/ntechlab/blog/329412/&amp;xid=17259,1500004,15700022,15700186,15700191,15700248,15700253&amp;usg=ALkJrhh_iGS14-DhY-4fPXbKLqEdoA4m2A#MJMAIN-31"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/ntechlab/blog/329412/&amp;xid=17259,1500004,15700022,15700186,15700191,15700248,15700253&amp;usg=ALkJrhh_iGS14-DhY-4fPXbKLqEdoA4m2A#MJMAIN-30" x="500" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/ntechlab/blog/329412/&amp;xid=17259,1500004,15700022,15700186,15700191,15700248,15700253&amp;usg=ALkJrhh_iGS14-DhY-4fPXbKLqEdoA4m2A#MJMAIN-30" x="1001" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/ntechlab/blog/329412/&amp;xid=17259,1500004,15700022,15700186,15700191,15700248,15700253&amp;usg=ALkJrhh_iGS14-DhY-4fPXbKLqEdoA4m2A#MJMAIN-30" x="1501" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/ntechlab/blog/329412/&amp;xid=17259,1500004,15700022,15700186,15700191,15700248,15700253&amp;usg=ALkJrhh_iGS14-DhY-4fPXbKLqEdoA4m2A#MJMAIN-2217" x="2224" y="0"></use><g transform="translate(2946,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/ntechlab/blog/329412/&amp;xid=17259,1500004,15700022,15700186,15700191,15700248,15700253&amp;usg=ALkJrhh_iGS14-DhY-4fPXbKLqEdoA4m2A#MJMAIN-31"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/ntechlab/blog/329412/&amp;xid=17259,1500004,15700022,15700186,15700191,15700248,15700253&amp;usg=ALkJrhh_iGS14-DhY-4fPXbKLqEdoA4m2A#MJMAIN-30" x="500" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/ntechlab/blog/329412/&amp;xid=17259,1500004,15700022,15700186,15700191,15700248,15700253&amp;usg=ALkJrhh_iGS14-DhY-4fPXbKLqEdoA4m2A#MJMAIN-30" x="1001" y="0"></use></g></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/ntechlab/blog/329412/&amp;xid=17259,1500004,15700022,15700186,15700191,15700248,15700253&amp;usg=ALkJrhh_iGS14-DhY-4fPXbKLqEdoA4m2A#MJMAIN-3D" x="7441" y="0"></use><g transform="translate(8498,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/ntechlab/blog/329412/&amp;xid=17259,1500004,15700022,15700186,15700191,15700248,15700253&amp;usg=ALkJrhh_iGS14-DhY-4fPXbKLqEdoA4m2A#MJMAIN-31"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/ntechlab/blog/329412/&amp;xid=17259,1500004,15700022,15700186,15700191,15700248,15700253&amp;usg=ALkJrhh_iGS14-DhY-4fPXbKLqEdoA4m2A#MJMAIN-30" x="500" y="0"></use><g transform="translate(1001,393)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/ntechlab/blog/329412/&amp;xid=17259,1500004,15700022,15700186,15700191,15700248,15700253&amp;usg=ALkJrhh_iGS14-DhY-4fPXbKLqEdoA4m2A#MJMAIN-2212" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/ntechlab/blog/329412/&amp;xid=17259,1500004,15700022,15700186,15700191,15700248,15700253&amp;usg=ALkJrhh_iGS14-DhY-4fPXbKLqEdoA4m2A#MJMAIN-35" x="778" y="0"></use></g></g></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mtext>&nbsp;</mtext><mi>f</mi><mi>r</mi><mi>a</mi><mi>c</mi><mrow class="MJX-TeXAtom-ORD"><mn>1</mn></mrow><mrow class="MJX-TeXAtom-ORD"><mn>1000</mn><mo>‚àó</mo><mn>100</mn></mrow><mo>=</mo><msup><mn>10</mn><mrow class="MJX-TeXAtom-ORD"><mo>‚àí</mo><mn>5</mn></mrow></msup></math></span></span><script type="math/tex" id="MathJax-Element-2"> \ frac {1} {1000 * 100} = 10 ^ {- 5} </script>  . <br><br>  Having determined the acceptable error level, you should select the appropriate dataset for testing.  A good option would be to place the camera in a suitable place (vendors can help with a specific device and location).  By comparing the transactions of the regular customers with the images from the camera and having carried out manual filtering, store employees can collect a set of positive pairs.  It also makes sense to collect a set of images of random visitors (one image per person).  The total number of images should roughly correspond to the number of visitors to the store per day.  By combining both sets, you can get datasets of both ‚Äúpositive‚Äù and ‚Äúnegative‚Äù pairs. <br><br>  To test the desired accuracy should be enough for about a thousand "positive" pairs.  By combining various regular customers and occasional visitors, you can collect about 100,000 "negative" pairs. <br><br>  The next step will be to run (or ask the vendor to run) the software and get the confidence of the algorithm for each pair from the dataset.  When this is done, you can build a ROC curve and make sure that the number of correctly identified regular customers with FAR = <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-3-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><msup><mn>10</mn><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x2212;</mo><mn>5</mn></mrow></msup></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="4.658ex" height="2.419ex" viewBox="0 -935.7 2005.4 1041.5" role="img" focusable="false" style="vertical-align: -0.246ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/ntechlab/blog/329412/&amp;xid=17259,1500004,15700022,15700186,15700191,15700248,15700253&amp;usg=ALkJrhh_iGS14-DhY-4fPXbKLqEdoA4m2A#MJMAIN-31"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/ntechlab/blog/329412/&amp;xid=17259,1500004,15700022,15700186,15700191,15700248,15700253&amp;usg=ALkJrhh_iGS14-DhY-4fPXbKLqEdoA4m2A#MJMAIN-30" x="500" y="0"></use><g transform="translate(1001,393)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/ntechlab/blog/329412/&amp;xid=17259,1500004,15700022,15700186,15700191,15700248,15700253&amp;usg=ALkJrhh_iGS14-DhY-4fPXbKLqEdoA4m2A#MJMAIN-2212" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/ntechlab/blog/329412/&amp;xid=17259,1500004,15700022,15700186,15700191,15700248,15700253&amp;usg=ALkJrhh_iGS14-DhY-4fPXbKLqEdoA4m2A#MJMAIN-35" x="778" y="0"></use></g></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><msup><mn>10</mn><mrow class="MJX-TeXAtom-ORD"><mo>‚àí</mo><mn>5</mn></mrow></msup></math></span></span><script type="math/tex" id="MathJax-Element-3"> 10 ^ {- 5} </script>  Meets business requirements. <br><br><h3>  E-Gate at the airport </h3><br>  Modern airports serve tens of millions of passengers a year, and about 300,000 people pass through the passport control procedure every day.  Automation of this process will significantly reduce costs.  On the other hand, it is highly undesirable to miss the intruder, and the airport administration wants to minimize the risk of such an event.  FAR = <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-4-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><msup><mn>10</mn><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x2212;</mo><mn>7</mn></mrow></msup></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="4.658ex" height="2.419ex" viewBox="0 -935.7 2005.4 1041.5" role="img" focusable="false" style="vertical-align: -0.246ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/ntechlab/blog/329412/&amp;xid=17259,1500004,15700022,15700186,15700191,15700248,15700253&amp;usg=ALkJrhh_iGS14-DhY-4fPXbKLqEdoA4m2A#MJMAIN-31"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/ntechlab/blog/329412/&amp;xid=17259,1500004,15700022,15700186,15700191,15700248,15700253&amp;usg=ALkJrhh_iGS14-DhY-4fPXbKLqEdoA4m2A#MJMAIN-30" x="500" y="0"></use><g transform="translate(1001,393)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/ntechlab/blog/329412/&amp;xid=17259,1500004,15700022,15700186,15700191,15700248,15700253&amp;usg=ALkJrhh_iGS14-DhY-4fPXbKLqEdoA4m2A#MJMAIN-2212" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/ntechlab/blog/329412/&amp;xid=17259,1500004,15700022,15700186,15700191,15700248,15700253&amp;usg=ALkJrhh_iGS14-DhY-4fPXbKLqEdoA4m2A#MJMAIN-37" x="778" y="0"></use></g></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><msup><mn>10</mn><mrow class="MJX-TeXAtom-ORD"><mo>‚àí</mo><mn>7</mn></mrow></msup></math></span></span><script type="math/tex" id="MathJax-Element-4"> 10 ^ {- 7} </script>  corresponds to ten violators per year and seems reasonable in this situation.  If with this FAR, FRR is 0.1 (which corresponds to the NtechLab results on the NIST visa images benchmark), then the cost of manual verification of documents can be reduced tenfold.  However, in order to assess the accuracy at a given level of FAR, tens of millions of images will be needed.  The collection of such a large dataset requires significant funds and may require additional coordination of the processing of personal data.  As a result, investment in such a system can pay off for too long.  In this case, it makes sense to refer to the <a href="https://w3auth.nist.gov/sites/default/files/documents/2017/05/16/frvt_report_2017-05-15.pdf">NIST Face Recognition Vendor Test</a> test report, which contains datasets with photos of visas.  The airport administration should choose a vendor based on testing on this dataset, taking into account the passenger traffic. <br><br><h3>  Targeted Mailing List </h3><br>  So far, we have considered examples in which the customer was interested in low FAR, but this is not always the case.  Imagine a camera-equipped stand in a large shopping center.  The shopping center has its own loyalty program and would like to identify its participants who stopped at the booth.  Further, these buyers could be sent targeted letters with discounts and interesting offers on the basis that they were interested on the stand. <br><br>  Suppose that the operation of such a system costs $ 10, while about 1000 visitors a day stop at the stand.  The marketing department estimated the profit from each targeted email at $ 0.0105.  We would like to identify as many loyal customers as possible and not disturb others too much.  For such a distribution to pay off, the accuracy must be equal to the cost of the stand, divided by the number of visitors and the expected income from each letter.  For our example, the accuracy is <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-5-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mtext>&amp;#xA0;</mtext><mi>f</mi><mi>r</mi><mi>a</mi><mi>c</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mn>10</mn></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mn>1000</mn><mo>&amp;#x2217;</mo><mn>0.0105</mn></mrow><mo>=</mo><mn>95</mn></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="26.196ex" height="2.419ex" viewBox="0 -780.1 11279 1041.5" role="img" focusable="false" style="vertical-align: -0.607ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/ntechlab/blog/329412/&amp;xid=17259,1500004,15700022,15700186,15700191,15700248,15700253&amp;usg=ALkJrhh_iGS14-DhY-4fPXbKLqEdoA4m2A#MJMATHI-66" x="250" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/ntechlab/blog/329412/&amp;xid=17259,1500004,15700022,15700186,15700191,15700248,15700253&amp;usg=ALkJrhh_iGS14-DhY-4fPXbKLqEdoA4m2A#MJMATHI-72" x="800" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/ntechlab/blog/329412/&amp;xid=17259,1500004,15700022,15700186,15700191,15700248,15700253&amp;usg=ALkJrhh_iGS14-DhY-4fPXbKLqEdoA4m2A#MJMATHI-61" x="1252" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/ntechlab/blog/329412/&amp;xid=17259,1500004,15700022,15700186,15700191,15700248,15700253&amp;usg=ALkJrhh_iGS14-DhY-4fPXbKLqEdoA4m2A#MJMATHI-63" x="1781" y="0"></use><g transform="translate(2215,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/ntechlab/blog/329412/&amp;xid=17259,1500004,15700022,15700186,15700191,15700248,15700253&amp;usg=ALkJrhh_iGS14-DhY-4fPXbKLqEdoA4m2A#MJMAIN-31"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/ntechlab/blog/329412/&amp;xid=17259,1500004,15700022,15700186,15700191,15700248,15700253&amp;usg=ALkJrhh_iGS14-DhY-4fPXbKLqEdoA4m2A#MJMAIN-30" x="500" y="0"></use></g><g transform="translate(3216,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/ntechlab/blog/329412/&amp;xid=17259,1500004,15700022,15700186,15700191,15700248,15700253&amp;usg=ALkJrhh_iGS14-DhY-4fPXbKLqEdoA4m2A#MJMAIN-31"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/ntechlab/blog/329412/&amp;xid=17259,1500004,15700022,15700186,15700191,15700248,15700253&amp;usg=ALkJrhh_iGS14-DhY-4fPXbKLqEdoA4m2A#MJMAIN-30" x="500" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/ntechlab/blog/329412/&amp;xid=17259,1500004,15700022,15700186,15700191,15700248,15700253&amp;usg=ALkJrhh_iGS14-DhY-4fPXbKLqEdoA4m2A#MJMAIN-30" x="1001" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/ntechlab/blog/329412/&amp;xid=17259,1500004,15700022,15700186,15700191,15700248,15700253&amp;usg=ALkJrhh_iGS14-DhY-4fPXbKLqEdoA4m2A#MJMAIN-30" x="1501" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/ntechlab/blog/329412/&amp;xid=17259,1500004,15700022,15700186,15700191,15700248,15700253&amp;usg=ALkJrhh_iGS14-DhY-4fPXbKLqEdoA4m2A#MJMAIN-2217" x="2224" y="0"></use><g transform="translate(2946,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/ntechlab/blog/329412/&amp;xid=17259,1500004,15700022,15700186,15700191,15700248,15700253&amp;usg=ALkJrhh_iGS14-DhY-4fPXbKLqEdoA4m2A#MJMAIN-30"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/ntechlab/blog/329412/&amp;xid=17259,1500004,15700022,15700186,15700191,15700248,15700253&amp;usg=ALkJrhh_iGS14-DhY-4fPXbKLqEdoA4m2A#MJMAIN-2E" x="500" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/ntechlab/blog/329412/&amp;xid=17259,1500004,15700022,15700186,15700191,15700248,15700253&amp;usg=ALkJrhh_iGS14-DhY-4fPXbKLqEdoA4m2A#MJMAIN-30" x="779" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/ntechlab/blog/329412/&amp;xid=17259,1500004,15700022,15700186,15700191,15700248,15700253&amp;usg=ALkJrhh_iGS14-DhY-4fPXbKLqEdoA4m2A#MJMAIN-31" x="1279" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/ntechlab/blog/329412/&amp;xid=17259,1500004,15700022,15700186,15700191,15700248,15700253&amp;usg=ALkJrhh_iGS14-DhY-4fPXbKLqEdoA4m2A#MJMAIN-30" x="1780" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/ntechlab/blog/329412/&amp;xid=17259,1500004,15700022,15700186,15700191,15700248,15700253&amp;usg=ALkJrhh_iGS14-DhY-4fPXbKLqEdoA4m2A#MJMAIN-35" x="2280" y="0"></use></g></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/ntechlab/blog/329412/&amp;xid=17259,1500004,15700022,15700186,15700191,15700248,15700253&amp;usg=ALkJrhh_iGS14-DhY-4fPXbKLqEdoA4m2A#MJMAIN-3D" x="9221" y="0"></use><g transform="translate(10278,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/ntechlab/blog/329412/&amp;xid=17259,1500004,15700022,15700186,15700191,15700248,15700253&amp;usg=ALkJrhh_iGS14-DhY-4fPXbKLqEdoA4m2A#MJMAIN-39"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/ntechlab/blog/329412/&amp;xid=17259,1500004,15700022,15700186,15700191,15700248,15700253&amp;usg=ALkJrhh_iGS14-DhY-4fPXbKLqEdoA4m2A#MJMAIN-35" x="500" y="0"></use></g></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mtext>&nbsp;</mtext><mi>f</mi><mi>r</mi><mi>a</mi><mi>c</mi><mrow class="MJX-TeXAtom-ORD"><mn>10</mn></mrow><mrow class="MJX-TeXAtom-ORD"><mn>1000</mn><mo>‚àó</mo><mn>0.0105</mn></mrow><mo>=</mo><mn>95</mn></math></span></span><script type="math/tex" id="MathJax-Element-5"> \ frac {10} {1000 * 0.0105} = 95% </script>  .  The mall administration could collect the data in the manner described in the ‚ÄúRetail Store‚Äù section and measure the accuracy as described in the ‚ÄúIdentification‚Äù section.  Based on the test results, you can decide whether to get the expected benefits using the face recognition system. <br><br><h2>  Video support </h2><br>  In this article we discussed mainly the work with images and almost did not deal with streaming video.<font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Video can be viewed as a sequence of static images, so the metrics and approaches to testing accuracy on images are applicable to video. </font><font style="vertical-align: inherit;">It should be noted that the processing of streaming video is much more costly in terms of the calculations and imposes additional restrictions on all stages of face recognition. </font><font style="vertical-align: inherit;">When working with video, separate performance testing should be carried out, so the details of this process are not covered in this text.</font></font><br><br><h2>  Common mistakes </h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> In this section, we would like to list common problems and errors encountered when testing facial recognition software and give recommendations on how to avoid them. </font></font><br><br><h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Insufficient dataset testing </font></font></h3><br>            .        .    ,       FAR/TAR. ¬´¬ª           ¬´¬ª  ,       ,          .        . <br><br><h3>      </h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sometimes people test a face recognition algorithm with one fixed threshold (often chosen by the manufacturer as ‚Äúdefault‚Äù) and take into account only one type of error. </font><font style="vertical-align: inherit;">This is wrong, since the default threshold values ‚Äã‚Äãfor different vendors are different or are selected based on different FAR or TAR values. </font><font style="vertical-align: inherit;">When testing, you should pay attention to both types of errors.</font></font><br><br><h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Comparing results on different datasets </font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Datasets vary in size, quality and complexity, so the results of the algorithms on different datasets cannot be compared. </font><font style="vertical-align: inherit;">You can easily refuse the best solution just because it was tested on a more complex than a competitor dataset.</font></font><br><br><h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Draw conclusions based on testing on a single dataset </font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">You should try to test on multiple data sets. When choosing a single public dataset, one cannot be sure that it was not used when training or setting up an algorithm. In this case, the accuracy of the algorithm will be overestimated. Fortunately, the probability of this event can be reduced by comparing the results on different datasets.</font></font><br><br><h2>  findings </h2><br>            :  , ,     . <br><br> ,    ,      ,           ( NtechLab      ).    ,        ,              -. </div><p>Source: <a href="https://habr.com/ru/post/329412/">https://habr.com/ru/post/329412/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../329400/index.html">Microsoft will introduce DNA storage in one of its data centers</a></li>
<li><a href="../329402/index.html">Building the right alert system - respond only to business critical issues</a></li>
<li><a href="../329404/index.html">Why did we write CRM to the SEO department and what did it lead to?</a></li>
<li><a href="../329408/index.html">We do GraphQL API on PHP and MySQL. Part 3: Solving the N + 1 Query Problem</a></li>
<li><a href="../329410/index.html">The wonderful world of Word Embeddings: what are they and why are they needed?</a></li>
<li><a href="../329414/index.html">Google I / O 2017: Android developer notes</a></li>
<li><a href="../329416/index.html">Cloud Load Balancing</a></li>
<li><a href="../329418/index.html">Testing with –°odeception for dummies: 3 types of tests</a></li>
<li><a href="../329420/index.html">Proctoring in online exams: how does it work?</a></li>
<li><a href="../329422/index.html">Group chat as a daily chase</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>