<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Doodle shader effect</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="In this tutorial, I‚Äôll tell you how to use Shaders to recreate the popular sprite effect of Doodle in Unity. If your game requires this style, then fr...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Doodle shader effect</h1><div class="post__text post__text-html js-mediator-article">  In this tutorial, I‚Äôll tell you how to use Shaders to recreate the popular sprite effect of Doodle in Unity.  If your game requires this style, then from this article you will learn how to achieve it without drawing a heap of additional images. <br><br>  For the past few years, this style has become increasingly popular and has been used extensively in games such as <a href="https://store.steampowered.com/app/437570/GoNNER/" rel="noopener">GoNNER</a> and <a href="https://store.steampowered.com/app/736260/Baba_Is_You/" rel="noopener">Baba is You</a> . <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/cd2/3af/a39/cd23afa3995577cc1d1c87f7eff8be7d.gif"></div><br>  This tutorial tells everything you need, from the basics of coding shaders to the mathematics used.  At the end of the article there is a link to download the full Unity package. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      I was inspired by the success of <a href="https://fernandoramallo.itch.io/doodle-studio-95">Doodle Studio 95 to</a> create this tutorial <a href="https://fernandoramallo.itch.io/doodle-studio-95">!</a>  . <br><a name="habracut"></a><br><h1>  Introduction </h1><br>  In my blog, I explore fairly complex topics, from <a href="https://www.alanzucconi.com/%3Fp%3D8368" rel="noopener">mathematics inverse kinematics</a> to <a href="https://www.alanzucconi.com/%3Fp%3D7472" rel="noopener">atmospheric Rayleigh scattering</a> .  I really like to make such difficult topics understandable to a wide audience.  But the number of people interested in them and having a sufficient technical level is not so great.  Therefore, you should not be surprised that the most popular articles are the simplest.  This also applies to <a href="https://twitter.com/SmashyNick" rel="noopener">Nick Kaman‚Äôs</a> recent tweet, in which he showed how to create <strong>a doodle effect</strong> in Unity. <br><br><div class="oembed"><twitter-widget class="twitter-tweet twitter-tweet-rendered" id="twitter-widget-0" style="position: static; visibility: visible; display: block; transform: rotate(0deg); max-width: 100%; width: 500px; min-width: 220px; margin-top: 10px; margin-bottom: 10px;" data-tweet-id="1011319744031440896"></twitter-widget><script async="" src="https://platform.twitter.com/widgets.js" charset="utf-8"></script></div><br>  After 1000 likes and 4000 retweets, it became clear that there is a strong demand for simpler tutorials that can be studied even by people who have almost no knowledge of creating shaders. <br><br>  If you are looking for a professional and efficient way to animate 2D sprites with a high degree of artistic control, then I highly recommend <a href="https://fernandoramallo.itch.io/doodle-studio-95">Doodle Studio 95 to you!</a>  (see gif below).  <a href="https://itch.io/games/made-with-doodle-studio-95" rel="noopener">Here</a> you can look at some games that use this tool. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/9cf/563/42b/9cf56342b58ddde7eca5feced342ae18.gif"></div><br><h1>  Doodle effect anatomy </h1><br>  To recreate the doodle effect, we first need to understand how it works and what techniques are used in it. <br><br>  <strong>Shader effect</strong>  First, we want this effect to be as simple as possible and not require additional scripts.  This is possible through the use of <strong>shaders</strong> , telling Unity how to render 3D models (including flat ones!) On the screen.  If you are unfamiliar with the world <strong>of shader coding</strong> , then you should study my article <a href="https://www.alanzucconi.com/2015/06/10/a-gentle-introduction-to-shaders-in-unity3d/">A Gentle Introduction to Shaders</a> . <br><br>  <strong>Sprite shader</strong>  There are many types of shaders included in the Unity package.  If you use the Unity-provided 2D tools, you are most likely working with <strong>sprites</strong> .  If so, then you need a <strong>Sprite Shader</strong> - a special type of shader compatible with <code>SpriteRenderer</code> Unity.  Or you can start with a more traditional <strong>Unlit shader</strong> . <br><br>  <strong>Vertex offset.</strong>  When drawing sprites manually, no frame will completely coincide with the others.  We want to force the sprite to "hesitate" in some way in order to simulate this effect.  In shaders, there is a very efficient way to do this by applying <strong>a vertex offset</strong> .  This is a technique that allows you to change the position of the vertices of a 3D object.  If we randomly shift them, we get the desired effect. <br><br>  <strong>Travel time</strong>  Hand-drawn animations usually have a low frame rate.  If we want to simulate, say, five frames per second, then we need to change the position of the vertices of the sprites five times per second.  However, Unity is likely to run the game with a much higher refresh rate;  perhaps with 30 or even 60 frames per second.  In order for the sprite to not change 60 times per second, you need to work on the component timings of the animation. <br><br><h1>  Step 1: Supplement the Sprite Shader </h1><br>  If you want to create a new shader in Unity, then the choice will be rather limited.  The closest shader we can start with is the <strong>Unlit Shader</strong> , although it is not necessarily the best for our purposes. <br><br>  If you want the Doodle shader to be fully compatible with <code>SpriteRenderer</code> Unity, then we need to add an existing <strong>Sprite Shader</strong> .  Unfortunately, we cannot access it directly from Unity itself. <br><br>  You can reach it by going to the <a href="https://unity3d.com/get-unity/download/archive" rel="noopener">Unity download archive</a> page and downloading the <strong>Build in shaders</strong> package for the version of Unity you are working with.  This is a zip file containing the source code of all the shaders shipped with your Unity build. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/d00/1b9/da8/d001b9da891e60ef4b93f89ffb8a9fda.png"></div><br>  After downloading, unpack it and locate the <code>Sprites-Diffuse.shader</code> file in the folder <code>builtin_shaders-2018.1.6f1\DefaultResourcesExtra</code> <code>Sprites-Diffuse.shader</code> .  This is the file we will use in the tutorial. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/888/ee9/66f/888ee966f71ad738752f0bed48f4d66b.png"></div><br><div class="spoiler">  <b class="spoiler_title">Sprites-Diffuse is not a standard sprite shader!</b> <div class="spoiler_text">  When creating a new sprite, its standard material uses a shader called <code>Sprites-Default.shader</code> , not <code>Sprites-Diffuse.shader</code> . <br><br>  The difference between them is that the first one does not use lighting, and the second one reacts to the lighting in the scene.  Due to the nature of the Unity implementation, the diffuse version is much easier to edit than the version without lighting. <br><br>  At the end of this tutorial there is a link to download doodle shaders with and without lighting. </div></div><br><h1>  Step 2: Vertex Shift </h1><br>  Inside <code>Sprites-Diffuse.shader</code> there is a function called <code>vert</code> , which is the <strong>vertex function</strong> that we talked about above.  Its name is not important, the main thing is that it coincides with the directive <code>#pragma</code> specified in the <code>vertex:</code> section: <br><br><pre> <code class="cpp hljs"><span class="hljs-meta"><span class="hljs-meta">#</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">pragma</span></span></span><span class="hljs-meta"> surface surf Lambert vertex:vert nofog nolightmap nodynlightmap keepalpha noinstancing</span></span></code> </pre> <br>  In short, the vertex function is called for each vertex of the 3D model and decides how to apply it to the two-dimensional screen space.  In this tutorial we are only interested in how to displace an object. <br><br>  The <code>appdata_full v</code> parameter contains a <code>vertex</code> field, which contains the 3D position of each vertex in <strong>the object space</strong> .  When the value changes, the vertex shifts.  That is, for example, the code shown below will transfer the object with its shader by one unit along the X axis. <br><br><pre> <code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">vert</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(inout appdata_full v, out Input o)</span></span></span><span class="hljs-function"> </span></span>{ v.vertex = UnityFlipSprite(v.vertex, _Flip); v.vertex.x += <span class="hljs-number"><span class="hljs-number">1</span></span>; <span class="hljs-meta"><span class="hljs-meta">#</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">if</span></span></span><span class="hljs-meta"> defined(PIXELSNAP_ON) v.vertex = UnityPixelSnap (v.vertex); #</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">endif</span></span></span><span class="hljs-meta"> UNITY_INITIALIZE_OUTPUT(Input, o); o.color = v.color * _Color * _RendererColor; }</span></span></code> </pre> <br>  By default, 2D-games created in Unity only operate on the X and Y axes, so we need to change <code>v.vertex.xy</code> to move the sprite on a two-dimensional plane. <br><br><div class="spoiler">  <b class="spoiler_title">What is object space?</b> <div class="spoiler_text">  The <code>vertex</code> field of the <code>appdata_full</code> structure contains the position of the current vertex processed by the shader in the object space.  This is the vertex position with the assumption that the object is located in the center of the world (0,0,0), without changing the scale and without turning. <br><br>  Vertices expressed in world space reflect their real position in the Unity scene. </div></div><br><div class="spoiler">  <b class="spoiler_title">Why is the object not moving at a speed of one meter per frame?</b> <div class="spoiler_text">  If we add +1 to the <code>x</code> component of the <code>transform.position</code> value in the <code>Update</code> method of the script in C #, we will see how the object flies to the right at a speed of 1 meter per frame, that is, approximately 216 kilometers per hour. <br><br>  This happens because changes made by C # change the position itself.  In the vertex function this does not occur.  The shader changes only the visual representation of the model, but does not update or modify the stored model vertices.  That is why adding +1 to <code>v.vertex.x</code> displaces an object by meter only once. </div></div><br><div class="spoiler">  <b class="spoiler_title">Remember to import the sprite as a tight!</b> <div class="spoiler_text">  This effect offsets the vertices of the sprite.  Traditionally sprites are imported to Unity as quadrangles (see on the left in the picture).  This means that they have only four vertices.  If so, then it will be possible to move only these points, which reduces the force of the doodle effect. <br><br>  For stronger and more realistic distortion, you need to import sprites by selecting the <b>Tight</b> value for the <b>Mesh Type</b> parameter, which turns them into a convex shape (see the right of the figure). <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/0c6/50e/e6b/0c650ee6b9ec95c457e223200ce22d03.png"></div><br>  This increases the number of vertices.  This is not always desirable, but this is exactly what we need now. </div></div><br><h2>  Random offset </h2><br>  Doodle effect randomly shifts the position of each vertex.  Sampling <strong>random numbers</strong> in a shader has always been a challenge.  This is mainly due to the distributed GPU architecture, which complicates and reduces the efficiency of the reconstruction of the algorithm used in most libraries (including <code>Mathf.Random</code> ). <br><br>  In Nick Kaman's post, a noise texture was used, which, when sampled, gives the illusion of randomness.  In the context of your project, this may not be the most efficient approach, because in this case the number of texture searches performed by the shader is doubled. <br><br>  Therefore, in the majority of shaders, quite intricate and chaotic functions are used, which, despite their determinism, look like no regularities to us.  And since they must be distributed, each random number must be generated with its own seed.  This is great for us because the position of each vertex must be unique.  We can use this to bind a random number to each vertex.  We will discuss the implementation of this randomness function later;  for now let's call it <code>random3</code> . <br><br>  We can use <code>random3</code> to generate a random offset for each vertex.  In the example below, random numbers are scaled using the <code>_NoiseScale</code> property, which allows you to control the strength of the offset. <br><br><pre> <code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">vert</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(inout appdata_full v, out Input o)</span></span></span><span class="hljs-function"> </span></span>{ ... float2 noise = random3(v.vertex.xyz).xy * _NoiseScale; v.vertex.xy += noise; ... }</code> </pre> <br>  Now we need to write the <code>random3</code> code <code>random3</code> . <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/043/169/225/04316922581e9d303653d6d49554a058.png" alt="image"></div><br><h2>  Shader randomness </h2><br>  One of the most common and iconic pseudo-random functions used in shaders is taken from a 1998 article by V. Ray called " <em>On the formation of random numbers, with help of y = [(a + x) sin (bx)] mod 1</em> ". <br><br><pre> <code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">float</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">rand</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(float2 co)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> fract(<span class="hljs-built_in"><span class="hljs-built_in">sin</span></span>(dot(co.xy ,float2(<span class="hljs-number"><span class="hljs-number">12.9898</span></span>,<span class="hljs-number"><span class="hljs-number">78.233</span></span>))) * <span class="hljs-number"><span class="hljs-number">43758.5453</span></span>); }</code> </pre> <br>  This function is deterministic (that is, it is not <em>truly</em> random), but it behaves so chaotically that it looks completely random.  Such functions are called <strong>pseudo-random</strong> .  For my tutorial, I chose a more complex function, invented by <a href="https://www.shadertoy.com/view/XsX3zB">Nikita Miropolsky</a> <br><br>  Generating a pseudo-random number in a shader is a very complex topic.  If you are interested in learning more about it, then <a href="https://thebookofshaders.com/10/" rel="noopener">The Book of Shaders</a> has a good chapter on it.  In addition, <a href="https://gist.github.com/patriciogonzalezvivo" rel="noopener">Patricio Gonzales Vivo has</a> assembled a large repository of pseudo-random functions called <a href="https://gist.github.com/patriciogonzalezvivo/670c22f3966e662d2f83" rel="noopener">GLSL noise</a> , which can be used in shaders. <br><br><h1>  Step 3: add time </h1><br>  Thanks to the code we wrote, each point is shifted in each frame by the same amount.  So we get a distorted sprite, not a doodle effect.  To fix this, you need to find a way to change the effect over time.  One of the easiest ways to do this is to use both the vertex position and the current time to generate a random number. <br><br>  In our case, I simply added the current time in seconds <code>_Time.y</code> to the vertex position. <br><br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">float</span></span> time = float3(_Time.y, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>); float2 noise = random3(v.vertex.xyz + time).xy * _NoiseScale; v.vertex.xy += noise;</code> </pre> <br>  More complex effects may require more complex ways of adding time to the equation.  But since we are only interested in a discontinuous random effect, then two values ‚Äã‚Äãare more than enough. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/b27/e1e/736/b27e1e736bda8387e8ef2e35486a7de5.gif"></div><br><h2>  Time switching </h2><br>  The main problem with adding <code>_Time.y</code> is that it causes the sprite to animate in each frame.  This is undesirable for us, because most hand-drawn animations have a low frame rate.  The time component should not be continuous, but discrete.  This means that if we want to display five frames per second, then it should change only five times per second.  That is, the time must be <em>tied</em> to one-fifth of a second.  The only valid values ‚Äã‚Äãshould be <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-1-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mtext>&amp;#xA0;</mtext><mi>f</mi><mi>r</mi><mi>a</mi><mi>c</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mn>0</mn></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mn>5</mn></mrow><mo>=</mo><mn>0</mn></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="11.73ex" height="2.419ex" viewBox="0 -780.1 5050.6 1041.5" role="img" focusable="false" style="vertical-align: -0.607ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/449540/&amp;xid=17259,15700022,15700186,15700190,15700253,15700256,15700259&amp;usg=ALkJrhi0xe1VA8hQ1WLHFjmEfMaSEkaXLQ#MJMATHI-66" x="250" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/449540/&amp;xid=17259,15700022,15700186,15700190,15700253,15700256,15700259&amp;usg=ALkJrhi0xe1VA8hQ1WLHFjmEfMaSEkaXLQ#MJMATHI-72" x="800" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/449540/&amp;xid=17259,15700022,15700186,15700190,15700253,15700256,15700259&amp;usg=ALkJrhi0xe1VA8hQ1WLHFjmEfMaSEkaXLQ#MJMATHI-61" x="1252" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/449540/&amp;xid=17259,15700022,15700186,15700190,15700253,15700256,15700259&amp;usg=ALkJrhi0xe1VA8hQ1WLHFjmEfMaSEkaXLQ#MJMATHI-63" x="1781" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/449540/&amp;xid=17259,15700022,15700186,15700190,15700253,15700256,15700259&amp;usg=ALkJrhi0xe1VA8hQ1WLHFjmEfMaSEkaXLQ#MJMAIN-30" x="2215" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/449540/&amp;xid=17259,15700022,15700186,15700190,15700253,15700256,15700259&amp;usg=ALkJrhi0xe1VA8hQ1WLHFjmEfMaSEkaXLQ#MJMAIN-35" x="2715" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/449540/&amp;xid=17259,15700022,15700186,15700190,15700253,15700256,15700259&amp;usg=ALkJrhi0xe1VA8hQ1WLHFjmEfMaSEkaXLQ#MJMAIN-3D" x="3493" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/449540/&amp;xid=17259,15700022,15700186,15700190,15700253,15700256,15700259&amp;usg=ALkJrhi0xe1VA8hQ1WLHFjmEfMaSEkaXLQ#MJMAIN-30" x="4550" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mtext>&nbsp;</mtext><mi>f</mi><mi>r</mi><mi>a</mi><mi>c</mi><mrow class="MJX-TeXAtom-ORD"><mn>0</mn></mrow><mrow class="MJX-TeXAtom-ORD"><mn>5</mn></mrow><mo>=</mo><mn>0</mn></math></span></span><script type="math/tex" id="MathJax-Element-1"> \ frac {0} {5} = 0 </script>  , <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-2-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mtext>&amp;#xA0;</mtext><mi>f</mi><mi>r</mi><mi>a</mi><mi>c</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mn>1</mn></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mn>5</mn></mrow><mo>=</mo><mn>0.2</mn></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="13.54ex" height="2.419ex" viewBox="0 -780.1 5829.6 1041.5" role="img" focusable="false" style="vertical-align: -0.607ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/449540/&amp;xid=17259,15700022,15700186,15700190,15700253,15700256,15700259&amp;usg=ALkJrhi0xe1VA8hQ1WLHFjmEfMaSEkaXLQ#MJMATHI-66" x="250" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/449540/&amp;xid=17259,15700022,15700186,15700190,15700253,15700256,15700259&amp;usg=ALkJrhi0xe1VA8hQ1WLHFjmEfMaSEkaXLQ#MJMATHI-72" x="800" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/449540/&amp;xid=17259,15700022,15700186,15700190,15700253,15700256,15700259&amp;usg=ALkJrhi0xe1VA8hQ1WLHFjmEfMaSEkaXLQ#MJMATHI-61" x="1252" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/449540/&amp;xid=17259,15700022,15700186,15700190,15700253,15700256,15700259&amp;usg=ALkJrhi0xe1VA8hQ1WLHFjmEfMaSEkaXLQ#MJMATHI-63" x="1781" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/449540/&amp;xid=17259,15700022,15700186,15700190,15700253,15700256,15700259&amp;usg=ALkJrhi0xe1VA8hQ1WLHFjmEfMaSEkaXLQ#MJMAIN-31" x="2215" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/449540/&amp;xid=17259,15700022,15700186,15700190,15700253,15700256,15700259&amp;usg=ALkJrhi0xe1VA8hQ1WLHFjmEfMaSEkaXLQ#MJMAIN-35" x="2715" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/449540/&amp;xid=17259,15700022,15700186,15700190,15700253,15700256,15700259&amp;usg=ALkJrhi0xe1VA8hQ1WLHFjmEfMaSEkaXLQ#MJMAIN-3D" x="3493" y="0"></use><g transform="translate(4550,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/449540/&amp;xid=17259,15700022,15700186,15700190,15700253,15700256,15700259&amp;usg=ALkJrhi0xe1VA8hQ1WLHFjmEfMaSEkaXLQ#MJMAIN-30"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/449540/&amp;xid=17259,15700022,15700186,15700190,15700253,15700256,15700259&amp;usg=ALkJrhi0xe1VA8hQ1WLHFjmEfMaSEkaXLQ#MJMAIN-2E" x="500" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/449540/&amp;xid=17259,15700022,15700186,15700190,15700253,15700256,15700259&amp;usg=ALkJrhi0xe1VA8hQ1WLHFjmEfMaSEkaXLQ#MJMAIN-32" x="779" y="0"></use></g></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mtext>&nbsp;</mtext><mi>f</mi><mi>r</mi><mi>a</mi><mi>c</mi><mrow class="MJX-TeXAtom-ORD"><mn>1</mn></mrow><mrow class="MJX-TeXAtom-ORD"><mn>5</mn></mrow><mo>=</mo><mn>0.2</mn></math></span></span><script type="math/tex" id="MathJax-Element-2"> \ frac {1} {5} = 0.2 </script>  , <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-3-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mtext>&amp;#xA0;</mtext><mi>f</mi><mi>r</mi><mi>a</mi><mi>c</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mn>2</mn></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mn>5</mn></mrow><mo>=</mo><mn>0.4</mn></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="13.54ex" height="2.419ex" viewBox="0 -780.1 5829.6 1041.5" role="img" focusable="false" style="vertical-align: -0.607ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/449540/&amp;xid=17259,15700022,15700186,15700190,15700253,15700256,15700259&amp;usg=ALkJrhi0xe1VA8hQ1WLHFjmEfMaSEkaXLQ#MJMATHI-66" x="250" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/449540/&amp;xid=17259,15700022,15700186,15700190,15700253,15700256,15700259&amp;usg=ALkJrhi0xe1VA8hQ1WLHFjmEfMaSEkaXLQ#MJMATHI-72" x="800" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/449540/&amp;xid=17259,15700022,15700186,15700190,15700253,15700256,15700259&amp;usg=ALkJrhi0xe1VA8hQ1WLHFjmEfMaSEkaXLQ#MJMATHI-61" x="1252" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/449540/&amp;xid=17259,15700022,15700186,15700190,15700253,15700256,15700259&amp;usg=ALkJrhi0xe1VA8hQ1WLHFjmEfMaSEkaXLQ#MJMATHI-63" x="1781" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/449540/&amp;xid=17259,15700022,15700186,15700190,15700253,15700256,15700259&amp;usg=ALkJrhi0xe1VA8hQ1WLHFjmEfMaSEkaXLQ#MJMAIN-32" x="2215" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/449540/&amp;xid=17259,15700022,15700186,15700190,15700253,15700256,15700259&amp;usg=ALkJrhi0xe1VA8hQ1WLHFjmEfMaSEkaXLQ#MJMAIN-35" x="2715" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/449540/&amp;xid=17259,15700022,15700186,15700190,15700253,15700256,15700259&amp;usg=ALkJrhi0xe1VA8hQ1WLHFjmEfMaSEkaXLQ#MJMAIN-3D" x="3493" y="0"></use><g transform="translate(4550,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/449540/&amp;xid=17259,15700022,15700186,15700190,15700253,15700256,15700259&amp;usg=ALkJrhi0xe1VA8hQ1WLHFjmEfMaSEkaXLQ#MJMAIN-30"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/449540/&amp;xid=17259,15700022,15700186,15700190,15700253,15700256,15700259&amp;usg=ALkJrhi0xe1VA8hQ1WLHFjmEfMaSEkaXLQ#MJMAIN-2E" x="500" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/449540/&amp;xid=17259,15700022,15700186,15700190,15700253,15700256,15700259&amp;usg=ALkJrhi0xe1VA8hQ1WLHFjmEfMaSEkaXLQ#MJMAIN-34" x="779" y="0"></use></g></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mtext>&nbsp;</mtext><mi>f</mi><mi>r</mi><mi>a</mi><mi>c</mi><mrow class="MJX-TeXAtom-ORD"><mn>2</mn></mrow><mrow class="MJX-TeXAtom-ORD"><mn>5</mn></mrow><mo>=</mo><mn>0.4</mn></math></span></span><script type="math/tex" id="MathJax-Element-3"> \ frac {2} {5} = 0.4 </script>  , <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-4-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mtext>&amp;#xA0;</mtext><mi>f</mi><mi>r</mi><mi>a</mi><mi>c</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mn>3</mn></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mn>5</mn></mrow><mo>=</mo><mn>0.6</mn></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="13.54ex" height="2.419ex" viewBox="0 -780.1 5829.6 1041.5" role="img" focusable="false" style="vertical-align: -0.607ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/449540/&amp;xid=17259,15700022,15700186,15700190,15700253,15700256,15700259&amp;usg=ALkJrhi0xe1VA8hQ1WLHFjmEfMaSEkaXLQ#MJMATHI-66" x="250" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/449540/&amp;xid=17259,15700022,15700186,15700190,15700253,15700256,15700259&amp;usg=ALkJrhi0xe1VA8hQ1WLHFjmEfMaSEkaXLQ#MJMATHI-72" x="800" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/449540/&amp;xid=17259,15700022,15700186,15700190,15700253,15700256,15700259&amp;usg=ALkJrhi0xe1VA8hQ1WLHFjmEfMaSEkaXLQ#MJMATHI-61" x="1252" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/449540/&amp;xid=17259,15700022,15700186,15700190,15700253,15700256,15700259&amp;usg=ALkJrhi0xe1VA8hQ1WLHFjmEfMaSEkaXLQ#MJMATHI-63" x="1781" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/449540/&amp;xid=17259,15700022,15700186,15700190,15700253,15700256,15700259&amp;usg=ALkJrhi0xe1VA8hQ1WLHFjmEfMaSEkaXLQ#MJMAIN-33" x="2215" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/449540/&amp;xid=17259,15700022,15700186,15700190,15700253,15700256,15700259&amp;usg=ALkJrhi0xe1VA8hQ1WLHFjmEfMaSEkaXLQ#MJMAIN-35" x="2715" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/449540/&amp;xid=17259,15700022,15700186,15700190,15700253,15700256,15700259&amp;usg=ALkJrhi0xe1VA8hQ1WLHFjmEfMaSEkaXLQ#MJMAIN-3D" x="3493" y="0"></use><g transform="translate(4550,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/449540/&amp;xid=17259,15700022,15700186,15700190,15700253,15700256,15700259&amp;usg=ALkJrhi0xe1VA8hQ1WLHFjmEfMaSEkaXLQ#MJMAIN-30"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/449540/&amp;xid=17259,15700022,15700186,15700190,15700253,15700256,15700259&amp;usg=ALkJrhi0xe1VA8hQ1WLHFjmEfMaSEkaXLQ#MJMAIN-2E" x="500" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/449540/&amp;xid=17259,15700022,15700186,15700190,15700253,15700256,15700259&amp;usg=ALkJrhi0xe1VA8hQ1WLHFjmEfMaSEkaXLQ#MJMAIN-36" x="779" y="0"></use></g></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mtext>&nbsp;</mtext><mi>f</mi><mi>r</mi><mi>a</mi><mi>c</mi><mrow class="MJX-TeXAtom-ORD"><mn>3</mn></mrow><mrow class="MJX-TeXAtom-ORD"><mn>5</mn></mrow><mo>=</mo><mn>0.6</mn></math></span></span><script type="math/tex" id="MathJax-Element-4"> \ frac {3} {5} = 0.6 </script>  , <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-5-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mtext>&amp;#xA0;</mtext><mi>f</mi><mi>r</mi><mi>a</mi><mi>c</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mn>4</mn></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mn>5</mn></mrow><mo>=</mo><mn>0.8</mn></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="13.54ex" height="2.419ex" viewBox="0 -780.1 5829.6 1041.5" role="img" focusable="false" style="vertical-align: -0.607ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/449540/&amp;xid=17259,15700022,15700186,15700190,15700253,15700256,15700259&amp;usg=ALkJrhi0xe1VA8hQ1WLHFjmEfMaSEkaXLQ#MJMATHI-66" x="250" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/449540/&amp;xid=17259,15700022,15700186,15700190,15700253,15700256,15700259&amp;usg=ALkJrhi0xe1VA8hQ1WLHFjmEfMaSEkaXLQ#MJMATHI-72" x="800" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/449540/&amp;xid=17259,15700022,15700186,15700190,15700253,15700256,15700259&amp;usg=ALkJrhi0xe1VA8hQ1WLHFjmEfMaSEkaXLQ#MJMATHI-61" x="1252" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/449540/&amp;xid=17259,15700022,15700186,15700190,15700253,15700256,15700259&amp;usg=ALkJrhi0xe1VA8hQ1WLHFjmEfMaSEkaXLQ#MJMATHI-63" x="1781" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/449540/&amp;xid=17259,15700022,15700186,15700190,15700253,15700256,15700259&amp;usg=ALkJrhi0xe1VA8hQ1WLHFjmEfMaSEkaXLQ#MJMAIN-34" x="2215" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/449540/&amp;xid=17259,15700022,15700186,15700190,15700253,15700256,15700259&amp;usg=ALkJrhi0xe1VA8hQ1WLHFjmEfMaSEkaXLQ#MJMAIN-35" x="2715" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/449540/&amp;xid=17259,15700022,15700186,15700190,15700253,15700256,15700259&amp;usg=ALkJrhi0xe1VA8hQ1WLHFjmEfMaSEkaXLQ#MJMAIN-3D" x="3493" y="0"></use><g transform="translate(4550,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/449540/&amp;xid=17259,15700022,15700186,15700190,15700253,15700256,15700259&amp;usg=ALkJrhi0xe1VA8hQ1WLHFjmEfMaSEkaXLQ#MJMAIN-30"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/449540/&amp;xid=17259,15700022,15700186,15700190,15700253,15700256,15700259&amp;usg=ALkJrhi0xe1VA8hQ1WLHFjmEfMaSEkaXLQ#MJMAIN-2E" x="500" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/449540/&amp;xid=17259,15700022,15700186,15700190,15700253,15700256,15700259&amp;usg=ALkJrhi0xe1VA8hQ1WLHFjmEfMaSEkaXLQ#MJMAIN-38" x="779" y="0"></use></g></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mtext>&nbsp;</mtext><mi>f</mi><mi>r</mi><mi>a</mi><mi>c</mi><mrow class="MJX-TeXAtom-ORD"><mn>4</mn></mrow><mrow class="MJX-TeXAtom-ORD"><mn>5</mn></mrow><mo>=</mo><mn>0.8</mn></math></span></span><script type="math/tex" id="MathJax-Element-5"> \ frac {4} {5} = 0.8 </script>  , <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-6-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mtext>&amp;#xA0;</mtext><mi>f</mi><mi>r</mi><mi>a</mi><mi>c</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mn>5</mn></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mn>5</mn></mrow><mo>=</mo><mn>1</mn></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="11.73ex" height="2.419ex" viewBox="0 -780.1 5050.6 1041.5" role="img" focusable="false" style="vertical-align: -0.607ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/449540/&amp;xid=17259,15700022,15700186,15700190,15700253,15700256,15700259&amp;usg=ALkJrhi0xe1VA8hQ1WLHFjmEfMaSEkaXLQ#MJMATHI-66" x="250" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/449540/&amp;xid=17259,15700022,15700186,15700190,15700253,15700256,15700259&amp;usg=ALkJrhi0xe1VA8hQ1WLHFjmEfMaSEkaXLQ#MJMATHI-72" x="800" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/449540/&amp;xid=17259,15700022,15700186,15700190,15700253,15700256,15700259&amp;usg=ALkJrhi0xe1VA8hQ1WLHFjmEfMaSEkaXLQ#MJMATHI-61" x="1252" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/449540/&amp;xid=17259,15700022,15700186,15700190,15700253,15700256,15700259&amp;usg=ALkJrhi0xe1VA8hQ1WLHFjmEfMaSEkaXLQ#MJMATHI-63" x="1781" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/449540/&amp;xid=17259,15700022,15700186,15700190,15700253,15700256,15700259&amp;usg=ALkJrhi0xe1VA8hQ1WLHFjmEfMaSEkaXLQ#MJMAIN-35" x="2215" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/449540/&amp;xid=17259,15700022,15700186,15700190,15700253,15700256,15700259&amp;usg=ALkJrhi0xe1VA8hQ1WLHFjmEfMaSEkaXLQ#MJMAIN-35" x="2715" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/449540/&amp;xid=17259,15700022,15700186,15700190,15700253,15700256,15700259&amp;usg=ALkJrhi0xe1VA8hQ1WLHFjmEfMaSEkaXLQ#MJMAIN-3D" x="3493" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/post/449540/&amp;xid=17259,15700022,15700186,15700190,15700253,15700256,15700259&amp;usg=ALkJrhi0xe1VA8hQ1WLHFjmEfMaSEkaXLQ#MJMAIN-31" x="4550" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mtext>&nbsp;</mtext><mi>f</mi><mi>r</mi><mi>a</mi><mi>c</mi><mrow class="MJX-TeXAtom-ORD"><mn>5</mn></mrow><mrow class="MJX-TeXAtom-ORD"><mn>5</mn></mrow><mo>=</mo><mn>1</mn></math></span></span><script type="math/tex" id="MathJax-Element-6"> \ frac {5} {5} = 1 </script>  c, and so on ... <br><br>  I have already considered binding in my blog, in the article <a href="https://www.alanzucconi.com/2015/07/22/how-to-snap-to-grid-in-unity3d/" rel="noopener">How To Snap To Grid</a> .  In this article, I proposed a solution to the problem of binding an object position on a spatial grid.  If we need to tie time to the time grid, then the mathematics, and therefore the code, will be the same. <br><br>  The function shown below takes the number <code>x</code> and binds it to integer multiples of <code>snap</code> . <br><br><pre> <code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">inline</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">float</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">snap</span></span></span><span class="hljs-function"> </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">float</span></span></span></span><span class="hljs-function"><span class="hljs-params"> x, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">float</span></span></span></span><span class="hljs-function"><span class="hljs-params"> snap)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> snap * round(x / snap); }</code> </pre> <br>  That is, our code becomes: <br><br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">float</span></span> time = snap(_Time.y, _NoiseSnap); float2 noise = random3(v.vertex.xyz + float3(time, <span class="hljs-number"><span class="hljs-number">0.0</span></span>, <span class="hljs-number"><span class="hljs-number">0.0</span></span>) ).xy * _NoiseScale; v.vertex.xy += noise;</code> </pre> <br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/e50/b7e/cea/e50b7ecea7366a53edcb1bd28d0d61b0.gif"></div><br><h1>  Conclusion </h1><br>  The Unity package for this effect can be downloaded <a href="https://www.patreon.com/posts/26141364">at Patreon</a> . <br><br><h2>  Additional resources </h2><br>  Over the past few months, a large number of games in the style of doodles have appeared.  It seems to me that the reason for this was the success of <a href="https://fernandoramallo.itch.io/doodle-studio-95-educational-license">Doodle Studio 95!</a>  - Tool for Unity, developed by <a href="https://twitter.com/compositeredfox">Fernando Ramallo</a> .  If this style fits your game, then I recommend to buy this amazing tool. <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/Ax0CeKFTavI" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe></div><p>Source: <a href="https://habr.com/ru/post/449540/">https://habr.com/ru/post/449540/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../449526/index.html">Introducing Tartiflette: an open source implementation of GraphQL for Python 3.6+</a></li>
<li><a href="../449528/index.html">On the decomposition of the multichannel system response in "pseudo-specific" forms of oscillations</a></li>
<li><a href="../449534/index.html">SLA technology concept car: how it is done in China</a></li>
<li><a href="../449536/index.html">iOS digest number 4 (April 5 - April 26)</a></li>
<li><a href="../44954/index.html">Blog promotion: 50 simple ways to attract new RSS subscribers. Part 1 (1-25)</a></li>
<li><a href="../449542/index.html">Medicine moves to web, chat, and mobile apps. Talk with BestDoctor</a></li>
<li><a href="../449544/index.html">The modern world rests on the API</a></li>
<li><a href="../449548/index.html">Space data center. Video report from the launch</a></li>
<li><a href="../449552/index.html">Asymmetric encryption in practice</a></li>
<li><a href="../449554/index.html">Mozilla is going to use WASI for all devices, computers and operating systems.</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>