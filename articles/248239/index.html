<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Project Migration from StarTeam to SVN</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Good day! 

 Who of you even heard of StarTeam? I think very few people, in the way like me a couple of months ago. 

 I had never heard of such a pro...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Project Migration from StarTeam to SVN</h1><div class="post__text post__text-html js-mediator-article">  Good day! <br><br>  Who of you even heard of StarTeam?  I think very few people, in the way like me a couple of months ago. <br><br>  I had never heard of such a product from Borland before my current job.  If you ask Google, it turns out that this product still exists and even develops, but as you all guessed, it will be far from the latest version and not even the penultimate one.  I have version 5.3, which was developed around 2003, and installed and launched here in 2004.  And almost 11 years she worked and solved their problems. <br><a name="habracut"></a><br>  As an initiative specialist, my hair from this old monster immediately stirred and it was decided to migrate to something more modern, and this is either SVN or Git.  The choice fell on SVN, because I have experience with it, as well as my colleague, and the management agreed with everything.  The search for a ready-made solution led to <a href="http://www.polarion.com/">Palarion</a> <a href="http://www.polarion.com/products/svn/svn_importer.php">Importer for SVN</a> , there is even <a href="http://habrahabr.ru/post/140023/">an article in</a> <a href="http://www.polarion.com/">Habr√©</a> for this decision.  But as it turned out, everything is not too simple, I have version 5.3, and this product assumes the existence of an SDK from the 2005 version, which turned out to be very problematic.  Even using all sorts of tricks like renaming the necessary libraries, I could not launch this importer. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      What else could you try?  I tried to raise the new StarTeam server, because  it has integration with SVN, and connect an existing server, but it didn't work out for me, because, apparently, they are not compatible with each other, the servers did not see each other. <br><br>  And what did I do?  Of course, I acted as a real programmer: I wrote my tool! <br><br><h4>  Design </h4><br>  So what's in the source data?  I have: <br><ol><li>  StarTeam Server 5.3 </li><li>  StarTeam Client 5.3 </li><li>  StarTeam SDK 5.3 </li><li>  SVN server with a given repository </li><li>  TortoiseSVN with console client installed </li><li>  The project to be transferred </li></ol><br><br><h4>  Meet StarTeam </h4><br>  I don‚Äôt know how it is with the current StarTeam, but the version that I have is terrible, because there is simply no such thing as a version - version.  Each file is versioned separately, it is impossible to understand what was placed at one time with this file, as well as pull out the snapshot for some time.  Well and everything else - this version can not always adequately understand which files are changed (that is, modified files are seen 100%, but those that did not touch 50/50 are understood to be modified). <br><br>  Also, a problem has recently emerged with the fact that all comments and user names in Russian are displayed in the form of sets "?????", which means that the encoding has flown somewhere (and what is even more interesting is the encoding is not indicated anywhere in the client ).  And why nobody happened to know exactly this, and when such a problem began, too, they cannot say for sure. <br><br>  What else is StarTeam, you ask?  From the database, which is based on MS SQL 2008. It would seem that you can write a competent request and pull out all that is required, right?  But after seeing about 100 tables with names like S01, S02 and the View set for them, it was decided not even to deal with this all, because the encoding in the direct query in the database is not displayed correctly. <br><br><h4>  Action planning </h4><br>  So, we have the source project in an interesting repository and the final repository, which is empty.  The project from <a href="http://www.polarion.com/">Palarion</a> requires starteam80.jar, which is included in the SDK, but I only have starteam53.jar in the SDK.  I will say right away that I did not even program in Java before the start of this project, not a single line of code.  But here it is necessary, then install the IDE and try.  As an IDE, I chose NetBeans and began to parse what's inside starteam53.jar. <br>  Inside this package is a whole set of classes that allows you to work with the StarTeam server.  The Borland website has documentation for the SDK, which saves a lot of classes from meaningless hesitation.  Next, I try to make a simple project that could connect to the server and return the list of projects.  After 2 hours of torment with the libraries from StarTeam, I achieved the desired result.  Now it becomes clear that it is possible to work with StarTeam through the SDK, so you only need to determine how to transfer the whole story. <br><br>  <b>But!</b>  How now to transfer the history with all the problems StarTeam? <br><br>  StarTeam has a timestamp for changing each file, i.e.  The history of changes to one single file with comments and the exact time of change can be obtained, which means we will build on it. <br><br>  When a commit is made in StarTeam, a comment is written to each file that goes during a commit, so it‚Äôs enough to get a comment and an author from the first file, and the rest will match. <br><br>  StarTeam has a file storage feature, it stores them in a project, there are files and folders in the project, and there may be more files and folders in the folder and each file has versioning. <br><br>  And also, if you ask the SDK to just extract the file, StarTeam will extract the files to where it is configured by default in the client, which didn‚Äôt work for me and you need to first extract to the file stream (well, that is the possibility), and then save to disk. <br><br>  I came up with the following migration path: <br><ol><li>  Download everything from StarTeam to folders on a local disk; </li><li>  Make a passage through the folders and upload everything to SVN, in the comment field enter the time when the commit was made in StarTeam. </li></ol><br>  We will unload according to the following scheme: <br><ol><li>  We begin recursive traversal of the folder tree and project files; </li><li>  Get the first file; </li><li>  We extract all its history; </li><li>  We make a walk through the history and put the files into a folder for exporting the project; </li><li>  Create a folder with a timestamp on the mask "yyyy.MM.dd.HH.mm" (I first did it with millisecond accuracy, but as it turned out, both files from the same commit can get into different revisions, which is wrong, and with this there were no conflicts and problems); </li><li>  In the folder we make a History file, where we write the name of the author, a comment and a timestamp for convenience; </li><li>  Do it until the last file is extracted. </li></ol><br><br><h4>  Extract from StarTeam </h4><br>  So, NetBeans, Java and 0 experience in this programming language.  The lack of development experience in Java did not frighten me, because there is Google, a one-time project and no one requires the highest knowledge from me, then somewhere you can simply sacrifice performance / memory / beauty of the code or all at once, because you just have to do it. <br><br>  When extracting commits, I encountered the problem that the authors of the commit return as an ID, not as a string, which surprised me.  A search on the documentation showed that authors can be obtained, but in the form of a list of ID + Name, but I have problems with the encoding and I cannot read a number of users, and for some reason there are a number of duplicates, and there were no duplicates in SVN.  I found the required view in the database and from there by e-mail and by the method of exclusion I established to which author which ID belongs.  Here is the biggest crutch: I wrote the return of the author's name, as well as the password and users through a switch-case, but it‚Äôs stupid and suboptimal, but for my problems, there‚Äôs no way to go. <br><br>  Despite the lack of experience in working with this programming language, I did not intend to write bad code and it turned out like this: <br><br><div class="spoiler">  <b class="spoiler_title">StarTeam data extraction source code</b> <div class="spoiler_text"><pre><code class="java hljs">Server StarTeamServer = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Server(<span class="hljs-string"><span class="hljs-string">"WINAPPSRV"</span></span>, <span class="hljs-number"><span class="hljs-number">49201</span></span>); StarTeamServer.connect(); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (StarTeamServer.isConnected()) { System.out.println(<span class="hljs-string"><span class="hljs-string">"Connect to server OK!"</span></span>); StarTeamServer.logOn(<span class="hljs-string"><span class="hljs-string">"markov"</span></span>, <span class="hljs-string"><span class="hljs-string">"123456"</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (StarTeamServer.isLoggedOn()) { System.out.println(<span class="hljs-string"><span class="hljs-string">"LogOn to server OK!"</span></span>); Project[] projects = StarTeamServer.getProjects(); Project TW = <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (Project currentproject : projects) { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (currentproject.getName().equals(<span class="hljs-string"><span class="hljs-string">"Tw"</span></span>)) { TW = currentproject; <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; } } <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (TW != <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>) { System.out.println(<span class="hljs-string"><span class="hljs-string">"Try to find first revision"</span></span>); View CurrentView = TW.getDefaultView(); <span class="hljs-comment"><span class="hljs-comment">//       /   ExtractFullTreeFromRoot(CurrentView.getRootFolder(), "/", "C:/StarTeamToSVN"); } else { System.out.println("Project Tw not found in StarTeam repository"); } } else { System.out.println("LogOn to server failed :'("); } StarTeamServer.disconnect();</span></span></code> </pre> <br></div></div><br><br><div class="spoiler">  <b class="spoiler_title">Source Code Functions</b> <div class="spoiler_text"><pre> <code class="java hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">private</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">ExtractFileHistory</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(com.starbase.starteam.File SourceFile, String SourceFolderName, String RootFolder)</span></span></span><span class="hljs-function"> </span></span>{ Item[] FileHistory = SourceFile.getHistory(); <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (Item CurrentHistoryItem : FileHistory) { com.starbase.starteam.File CurrentHistoryFile = (File) CurrentHistoryItem; String FullFileName = RootFolder + <span class="hljs-string"><span class="hljs-string">"/"</span></span> + FormatOLEDATEToString(CurrentHistoryFile.getModifiedTime()) + <span class="hljs-string"><span class="hljs-string">"/Files"</span></span> + SourceFolderName + CurrentHistoryFile.getName(); String FullPath = RootFolder + <span class="hljs-string"><span class="hljs-string">"/"</span></span> + FormatOLEDATEToString(CurrentHistoryFile.getModifiedTime()) + <span class="hljs-string"><span class="hljs-string">"/Files"</span></span> + SourceFolderName; String HistoryFileName = RootFolder + <span class="hljs-string"><span class="hljs-string">"/"</span></span> + FormatOLEDATEToString(CurrentHistoryFile.getModifiedTime()) +<span class="hljs-string"><span class="hljs-string">"/@History.txt"</span></span>; System.out.format(<span class="hljs-string"><span class="hljs-string">"FileName = %s; Revision = %d; CreatedTime = %s; Author = %s; Comment = '%s';%n"</span></span>, FullFileName, CurrentHistoryFile.getRevisionNumber() + <span class="hljs-number"><span class="hljs-number">1</span></span>, FormatOLEDATEToString(CurrentHistoryFile.getModifiedTime()), FindAuthorNameById(CurrentHistoryFile.getModifiedBy()), CurrentHistoryFile.getComment()); FileOutputStream fop = <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>; java.io.File file; <span class="hljs-keyword"><span class="hljs-keyword">try</span></span> { java.io.File directory = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> java.io.File(FullPath); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (!directory.exists()) { directory.mkdirs(); } file = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> java.io.File(FullFileName); fop = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> FileOutputStream(file); CurrentHistoryFile.checkoutToStream(fop, com.starbase.starteam.Item.LockType.UNCHANGED, <span class="hljs-keyword"><span class="hljs-keyword">false</span></span>); fop.flush(); fop.close(); java.io.File HistoryFile = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> java.io.File(HistoryFileName); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (!HistoryFile.exists()) { PrintWriter out = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> PrintWriter(HistoryFileName); out.println(<span class="hljs-string"><span class="hljs-string">"AuthorID: "</span></span> + CurrentHistoryFile.getModifiedBy()); out.println(<span class="hljs-string"><span class="hljs-string">"AuthorName: "</span></span> + FindAuthorNameById(CurrentHistoryFile.getModifiedBy())); out.println(<span class="hljs-string"><span class="hljs-string">"TimeStamp: "</span></span> + FormatOLEDATEToString(CurrentHistoryFile.getModifiedTime())); out.println(<span class="hljs-string"><span class="hljs-string">"Comment: "</span></span> + CurrentHistoryFile.getComment()); out.close(); } <span class="hljs-comment"><span class="hljs-comment">//System.out.println("Done"); } catch (IOException e) { e.printStackTrace(); } finally { try { if (fop != null) { fop.close(); } } catch (IOException e) { e.printStackTrace(); } } } } private static void ExtractFullTreeFromRoot(com.starbase.starteam.Folder SourceFolder, String SourceFolderName, String RootFolder) { ExtractFilesFromFolder(SourceFolder, SourceFolderName, RootFolder); Item[] RootFolders = SourceFolder.getItems("Folder"); for (Item CurrentItem : RootFolders) { Folder CurrentFolder = (Folder)CurrentItem; ExtractFullTreeFromRoot(CurrentFolder, SourceFolderName+CurrentFolder.getPathFragment()+"/", RootFolder); } } private static void ExtractFilesFromFolder(com.starbase.starteam.Folder SourceFolder, String SourceFolderName, String RootFolder) { Item[] RootFiles = SourceFolder.getItems("File"); for (Item CurrentItem : RootFiles) { com.starbase.starteam.File MyFile = (File) CurrentItem; if (SourceFolderName.isEmpty()) { ExtractFileHistory(MyFile, "/", RootFolder); } else { ExtractFileHistory(MyFile, SourceFolderName, RootFolder); } } } private static String FormatOLEDATEToString(OLEDate SourceValue) { DateFormat formatter = new SimpleDateFormat("yyyy.MM.dd.HH.mm"); return formatter.format(SourceValue.createDate()); }</span></span></code> </pre><br></div></div><br>  Even completely not bad happened, in my opinion. <br><br>  According to this extraction scheme, I got almost 2000 revisions, which is not enough for a project that lives so long, but this is due to the development features adopted here and the software itself.  And also, for a long time, I manually checked whether the revisions that I extracted were correct and correctly decomposed. <br><br>  Now it remains to commit everything correctly in SVN, and this is a little easier than the first stage. <br><br><h4>  Fill in SVN </h4><br>  The fill pattern in SVN is simple: <br>  1) We get a complete list of folders and sort it (naming folders helps us with this); <br>  2) Create a list of missing files and folders in the SVN folder for the current revision; <br>  3) Copy the contents of the Files subfolder to the SVN folder; <br>  4) For missing files and folders in SVN execute add; <br>  5) Make a commit of the current working copy of SVN. <br><br>  During the implementation, I ran into a number of problems.  Namely, in the comments to the commit, you need to put a backslash before double quotes so that the quotes are processed correctly.  And when adding a file or path containing the @ symbol, you need to add one more @ at the end in order for svn to correctly understand the file name.  Here the code was worse, because I wanted to quickly. <br><br><div class="spoiler">  <b class="spoiler_title">Spoiler header</b> <div class="spoiler_text"><pre> <code class="java hljs"> <span class="hljs-comment"><span class="hljs-comment">//1.    - java.io.File dir = new java.io.File("C:/StarTeamToSVN"); java.io.File[] subDirs = dir.listFiles(new FileFilter() { @Override public boolean accept(java.io.File pathname) { return pathname.isDirectory(); } }); //2.   Arrays.sort(subDirs); //3.         //1.      ,    //2.         SVN //3.   Files        StarTeam  SVN //4.       SVN  //5.        java.io.File RootSVN = new java.io.File("C:\\TestASU"); for (java.io.File CurrentDir : subDirs){ try { ArrayList&lt;java.io.File&gt; MyFiles = new ArrayList&lt;&gt;(); String StarTeamSourceFolder = CurrentDir.getAbsolutePath()+"\\Files\\"; listf(StarTeamSourceFolder, MyFiles); ///String[] SVNAddFiles = new String[](); ArrayList&lt;String&gt; SVNAddFiles = new ArrayList&lt;&gt;(); for (java.io.File CurrentFile: MyFiles) { String FullSourcePath = CurrentFile.getAbsolutePath(); String FullDestPath = "C:\\TestASU\\" + FullSourcePath.substring(FullSourcePath.indexOf(StarTeamSourceFolder) + StarTeamSourceFolder.length()) ; //   ,     java.io.File DestFile = new java.io.File(FullDestPath); java.io.File ParentFolder = DestFile.getParentFile(); while ((ParentFolder != null) &amp;&amp; (ParentFolder.compareTo(RootSVN) != 0 )) { if (!ParentFolder.exists()) { SVNAddFiles.add(0, ParentFolder.getAbsolutePath()); } ParentFolder = ParentFolder.getParentFile(); } if (!DestFile.exists()) { SVNAddFiles.add(FullDestPath); } } //       Set&lt;String&gt; s = new LinkedHashSet&lt;&gt;(SVNAddFiles); //  java.io.File RootStarTeam = new java.io.File(StarTeamSourceFolder); try { copyFolder(RootStarTeam, RootSVN); } catch (IOException ex) { Logger.getLogger(StarTeamToSVN.class.getName()).log(Level.SEVERE, null, ex); } Thread.sleep(5000); //  / for (String NewItem: s) { SVNAddFile(NewItem, CurrentDir.getName()); } //    String HistoryPath = CurrentDir.getAbsolutePath() + "\\@History.txt"; String AuthorUserName = ""; String AuthorPassword = ""; String AuthorComment = ""; try { for (String line : Files.readAllLines(Paths.get(HistoryPath), Charset.defaultCharset())) { if (line.contains("AuthorID")) { String AuthorID = line.substring(line.indexOf(": ")+2); AuthorUserName = FindAuthorUserNameByID(Integer.parseInt(AuthorID)); AuthorPassword = FindAuthorPasswordNameByID(Integer.parseInt(AuthorID)); } if (line.contains("TimeStamp")) { AuthorComment = line.substring(line.indexOf(": ")+2); } if (line.contains("Comment")) { AuthorComment = AuthorComment + "\n" + line.substring(line.indexOf(": ")+2); } if (!line.contains(": ")) { AuthorComment = AuthorComment + "\n" + line; } } } catch (IOException ex) { Logger.getLogger(StarTeamToSVN.class.getName()).log(Level.SEVERE, null, ex); } if ((AuthorUserName == "")||(AuthorPassword == "")) { throw new IOException("Ho Authentification data"); } Thread.sleep(1000); SVNCommit("C:\\TestASU\\", CurrentDir.getName(), AuthorUserName, AuthorPassword, AuthorComment); } catch (InterruptedException ex) { Logger.getLogger(StarTeamToSVN.class.getName()).log(Level.SEVERE, null, ex); } }</span></span></code> </pre><br></div></div><br>  There are temporary delays, because svn does not always have time to add everything to its database, and sometimes the files are interesting for the virus, the selection method turned out that with such values ‚Äã‚Äãthere are no problems, but I also just have a slow hard drive, so I also have problems.  In svn, if you execute svn add FOLDERNAME, the entire folder with the contents will be added, but it seemed to me a more correct way to add folders and files one by one in order to control the process more precisely. <br><br><h4>  Conclusion </h4><br>  While I was writing this article, my project completely migrated.  I know that it is not uncommon for IT specialists to get to where old technologies are used and they would like to switch to something more modern, so I posted my project on github.  Here is a link to the <a href="https://github.com/arch1tect0r/StarTeamToSVN">project</a> . <br><br>  I also got a Java programming experience.  The code should be refined for a specific project, but it fully works and requires a minimum of modifications.  It also allows migrating to those who have different versions of the SDK, or adjusting my code to a specific version of the SDK. <br><br>  I hope that this article will be useful to someone in the future. </div><p>Source: <a href="https://habr.com/ru/post/248239/">https://habr.com/ru/post/248239/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../248225/index.html">Yandex investigation: full disclosure about the virus on Facebook</a></li>
<li><a href="../248227/index.html">Pivotal stops developing Groovy & Grails from March 31</a></li>
<li><a href="../248229/index.html">Binary operations on unordered sets</a></li>
<li><a href="../248231/index.html">The main functions of ETL-systems</a></li>
<li><a href="../248235/index.html">I offer a custom .Net questionnaire</a></li>
<li><a href="../248241/index.html">Books by Yii2</a></li>
<li><a href="../248243/index.html">Full customization of select without using JS</a></li>
<li><a href="../248249/index.html">Ubuntu Make - a developer to help</a></li>
<li><a href="../248251/index.html">15 most popular IoT gadgets in 2014</a></li>
<li><a href="../248253/index.html">C ++ in 2015</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>