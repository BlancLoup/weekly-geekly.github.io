<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Now your HTTPS will be monitored, and you must install the certificate for MitM yourself.</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="While not Russia. But already Kazakhstan. As ValdikSS wrote in his post, Kazakhstan introduces its CA to listen to all TLS traffic : 
 The state provi...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Now your HTTPS will be monitored, and you must install the certificate for MitM yourself.</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/files/108/049/1f9/1080491f90c24220ac2983cf6dd289ef.png"><br><br>  While not Russia.  But already Kazakhstan.  As <a href="https://habrahabr.ru/users/valdikss/" class="user_link">ValdikSS</a> wrote in his post, <a href="https://habrahabr.ru/post/272207/">Kazakhstan introduces its CA to listen to all TLS traffic</a> : <br><blockquote>  The state provider Kazakhtelecom, in connection with the innovations of the Law of the Republic of Kazakhstan "On Communications", intends to listen to all encrypted TLS traffic starting January 1, 2016, replacing the site certificates with a national security certificate issued by the Committee for Communications, Information and Information of the Ministry of Investment and Development of the Republic of Kazakhstan . </blockquote><br>  What new has happened since then?  Beeline and Telecom.kz (the main monopolist provider) <a href="http://telecom.kz/certificate">rolled out updated instructions</a> for installing the state certificate, which will allow to carry out a man-in-the-middle attack with a certificate substitution.  Link to the <a href="">state certificate</a> . <br><a name="habracut"></a><br><br><h4>  Briefly about certificates </h4><br>  As you know, the modern Internet is largely based on strong cryptography.  Many encryption protocols and areas of their application.  A few decades ago, strong cryptography was the exclusive prerogative of the special services and the military.  They can store information encrypted securely, the rest can not.  Until now, echoes of these times are heard in strange laws and bylaws, which de facto no longer work.  What has changed? 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Open-source came, which gave into the hands of anyone who wanted algorithms, allowing to preserve the privacy of correspondence and to be sure that the data will not leak to any person on their way to their destination.  While the sluggish state machine was wondering what to do with the new threat, suddenly strong encryption algorithms were hardware supported by each iron and made available to everyone.  Moreover, every year, despite pressure from the authorities and intelligence agencies of all countries, security continued to increase.  The HTTPS protocol has become the standard for any more or less significant connections.  <b><a href="https://ru.wikipedia.org/wiki/HSTS">HSTS</a></b> (HTTP Strict Transport Security) - a mechanism that activates the forced secure connection via the HTTPS protocol. <br><img src="https://habrastorage.org/getpro/habr/post_images/263/da4/b65/263da4b655777b045ed92253c9d88e7e.png" alt="image"><br>  There was <b>Certificate pinning</b> (storing the list of allowed certificates for the domain or CA in the source code of the browser) and <b><a href="https://en.wikipedia.org/wiki/HTTP_Public_Key_Pinning">HTTP Public Key Pinning</a></b> .  These methods allow you to avoid the imperceptible replacement of the certificate by comparing with the reference in the secure storage of the browser.  Due to the fact that browsers have become mostly open source software, it has become very difficult to influence the state level.  Especially given that any country will not allow backdoors from the other side. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/abe/aa7/fa1/abeaa7fa1962fde739cff477a5a438ec.png" alt="image"><br>  Security of certificates is based on certification centers and a hierarchical structure for checking its validity.  A Certificate Authority (CA) is a center that everyone trusts as a trusted third party certifying the authenticity of encryption keys using electronic signature certificates.  At the same time, the only asset of such an air trading center is its reputation.  Since there are a lot of certifying centers, in the event that CA is noticed after draining certificates for MitM, it will be immediately added to the blacklists of all operating systems and browsers.  Therefore, CAs behave very carefully.  Moreover, frauds with certificate spoofing will be immediately noticed by browsers that automatically throw out the threat message and often do not allow the user to go any further if the end resource activated HSTS and Certificate pinning. <br><br><h4>  What does the state want? </h4><br><img src="https://habrastorage.org/getpro/habr/post_images/4a0/9ef/02c/4a09ef02ca9fdd7b6f106eadf652e0b8.png" alt="image"><br>  As usual, the state wants to control its citizens under any pretexts.  The new law passed in Kazakhstan essentially obliges providers to carry out an attack man-in-the-middle.  With this option, instead of the Gmail certificate issued by Google Inc., you will see the <b>Gamma Technologies Certificate Authority</b> , which will honestly repack your TLS-encrypted traffic, while listening to everything you need, looking at personal correspondence, collecting your logins and passwords from any services.  Of course, solely for your safety.  As already mentioned, browsers will not miss such chaos without notice and simply will not let you on the target resource in order to avoid data leakage.  However, in this situation, <b>the task is not to be imperceptible</b> .  You are faced with a fact: either you install the state certificate as trusted and allow MitM, or you lose <b>all services using TLS encryption</b> .  Applause curtain.  Especially touches the cynicism of filing the need to install these certificates: <br><br><img src="https://habrastorage.org/files/e70/73e/eb3/e7073eeb330d435faa41aed4aa29275e.png"><br>  The security certificate protects transactions on the Internet and is completely free.  Just benefactors.  As before, they lived without them. <br><br><h4>  Who will suffer? </h4><br>  In addition to the most blatant fact of state censorship and the possibility of viewing personal correspondence, there will be big problems with devices and software that do not allow adding a left certificate.  They will turn into a pumpkin.  But nobody cares.  An equally important factor is the potential leakage of personal data, passwords to services that are likely to be centrally collected.  Otherwise it makes no sense to arrange this circus with horses initially. <br><br><h4>  What to do with it? </h4><br>  Panic and run in circles.  This is already very, very serious and is almost not solved by technical means.  You can raise the VPN channel to a server from outside the country to avoid intercepting the certificate.  However, the same OpenVPN with TLS encryption will turn into a pumpkin.  Most likely, the next step will drop encrypted VPN connections.  Moreover, if you need to get "clean access" to Gmail or Twitter, then there is no problem.  However, if the service is located <b>within the country with the substitution of a certificate</b> , then nothing will help.  It remains only to put up with wiretapping. <br><br>  PS Everything is sad, gentlemen.  I would like to hear at least suggestions on technical solutions to the problem. <br><br><h4>  UPD After publishing Kazakhtelecom abruptly deleted the page and certificate </h4><br>  Now, instead of the page on the screen from the post, error 404 is given. <br><img src="https://habrastorage.org/files/2a4/863/077/2a486307741c44489c96e7680c68e47c.png"><br><br>  <a href="https://www.beeline.kz/ru/mobile_help/sertificatofsecurity">Beeline's</a> page <a href="https://www.beeline.kz/ru/mobile_help/sertificatofsecurity">is still alive</a> , but links are no longer links, and they have become simply underlined words. <br><h4>  UPD Links to certificate bug reports </h4><br>  Thanks <a href="https://habrahabr.ru/users/ibmpc/" class="user_link">ibmpc</a> . <br><br>  Report a problem in Mozilla: <br>  <a href="https://bugzilla.mozilla.org/show_bug.cgi%3Fid%3D1229827">bugzilla.mozilla.org/show_bug.cgi?id=1229827</a> <br><br>  mozilla.dev.security.policy: <br>  <a href="https://groups.google.com/forum/">groups.google.com/forum/#</a> ! topic / mozilla.dev.security.policy / wnuKAhACo3E <br><br>  Please add the certificate (root.gov.kz) to the trusted ones: <br>  <a href="https://bugzilla.mozilla.org/show_bug.cgi%3Fid%3D1232689">bugzilla.mozilla.org/show_bug.cgi?id=1232689</a> </div><p>Source: <a href="https://habr.com/ru/post/303736/">https://habr.com/ru/post/303736/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../303724/index.html">Full list of tools and utilities for Microsoft SQL Server</a></li>
<li><a href="../303726/index.html">Node.js web scraping and bot protection</a></li>
<li><a href="../303730/index.html">My experience using WebRTC in an iOS application</a></li>
<li><a href="../303732/index.html">Mobius 2016: a new way of mobile development</a></li>
<li><a href="../303734/index.html">ONLYOFFICE: open like never before</a></li>
<li><a href="../303738/index.html">Practice successful monetization API based on Azure API Management</a></li>
<li><a href="../303740/index.html">Solving square equations through derivatives</a></li>
<li><a href="../303742/index.html">Experience in developing management software for the questroom</a></li>
<li><a href="../303744/index.html">Search Postgres using ZomboDb and elasticsearch</a></li>
<li><a href="../303746/index.html">CTO "Medusa" - Samat Galimov briefly about what it is to be the main development in the media</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>