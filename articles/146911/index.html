<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Internet and IPTV in the cottage: a difficult but successful experience</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hello! 
 Dreamed of living in a private house for a long time. There are a lot of advantages, but in our city the cottage villages are deprived of tel...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Internet and IPTV in the cottage: a difficult but successful experience</h1><div class="post__text post__text-html js-mediator-article">  Hello! <br>  Dreamed of living in a private house for a long time.  There are a lot of advantages, but in our city the cottage villages are deprived of telephone communication and, especially, the Internet.  In our time, without the Internet, life is not life: you cannot shoot any friends in L4D or watch VKontakte movies.  3G modems take too much time, and the promised LTE mayor from Yota did not go beyond the news on the sites.  Sadness  Of course, there are providers who distribute the Internet via wi-fi, but paying 1000 rubles for each Mbit of speed per month is somehow not comme il faut.  Upon reflection, I decided to independently organize a wi-fi bridge, at the other end of which, there should be available regular wired Internet with good speed. <br><br><img src="https://habrastorage.org/files/d01/26c/114/d0126c114f4d452799e964cb2a200a8c.jpg"><br><br><h6>  Installed anetnna bridge on the roof of my house </h6><br><a name="habracut"></a><br>  Luck was with me: a relative in the usual ten-story building lives five kilometers away, in which one could connect to two providers! 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      In the meantime, the issue of quality television was also not resolved.  The installed satellite dish gave a signal of unsatisfactory quality, the picture scattered into strong clouds, and the image itself entering the TV through the ‚Äútulips‚Äù was not pleasing to the eye.  Sadness  Choosing a provider for the Internet, I found out that Beeline, in addition to good megabits, also distributes television over the same ethernet!  The console is modern with an HDMI output, and even a hard disk that allows you to pause, record programs, immediately shows a TV program in the form of a network schedule, video rental, social services, in general, saliva went and did not let you sleep well now. <br><br>  Googling, and did not find the exact answer, how much speed is needed for the normal functioning of IPTV, Beeline‚Äôs technical support put this question to a standstill.  I found out that the 1080p video stream comes with a speed of 24 Mbit / s - so much and it‚Äôs necessary to lay in the characteristics of the bridge + 10 Mbit / s for the Internet I would be completely satisfied. <br><br>  Things are easy: to establish a bridge and enjoy life.  A short telephone call Kazan firms made it clear that this task is not interesting to anyone, and if they take, they will tear off three skins.  Sadness <br><br>  Well, that the Internet is at least at work.  There were quite budget solutions for my case.  Only install and configure all the equipment had their own.  The eye fell on the American manufacturer Ubiquiti at an affordable price, promises of simple settings and speed between antennas at 150 Mbps.  Model AirGrid M2.  Issue price of 8 thousand rubles with delivery.  Two days and equipment arrived from Moscow. <br><br>  A little worried about the rental frequency for my bridge.  The legislation says that it is possible to occupy 2.4 GHz without any approval for equipment with a transmitter power of not more than 100 mW.  To calm the soul, I phoned the communications department, where I was redirected ten times with my incomprehensible questions, then they found the uncle who is responsible for this area, but he was on vacation.  Uncle after the holiday (maybe a good one was in connection with this) answered me that for a private user nothing needs to be registered, do not torture your head.  Well, I hope that this is the way it is, and the penalty for an uncoordinated device is 1000 rubles for individuals. <br><br>  The next step is to sign an agreement with Beeline to connect.  Came to a relative, hooked up, set up.  Slightly strained by the fact that the connection was organized via a VPN connection, PPPoE is somehow more familiar and simpler.  Well, God take it off.  Television worked great, connected to the usual brainless switch, it was connected to the hub, and only one ordinary twisted-pair cable was connected to the apartment.  Great! <br><br>  On the same day, I caught a representative of housing and utility services in the basement of the house and asked for the key to the roof, where it was planned to install an access point.  Having pre-configured both devices, one Access Point in Bridge mode, another Station in the same Bridge mode, it was useful to install the first antenna on the roof.  Screwdriver, two anchors, a screwdriver and pliers, fifteen minutes - the first antenna in place.  The cable was thrown along the wall (it was too lazy to push into the mine), through the window into the room, compressed and further into the PoE (Power Over Ethernet) unit, the same unit stuck the incoming cable from the beeline.  From this side is ready.  I went home doing the same operation.  He took a cutting from a shovel by a mast, screwed it to the wooden part of the roof with his screws.  It seems to hold.  The moment of truth: turn on the bridge. <br><br>  To my surprise, both antennas found each other, and the signal level was at a decent level of -68db.  And what about Beeline?  And nothing.  Initially, the access point was designed as a router, i.e.  I had to authorize myself at the provider, and then distribute the IP to my home devices.  But the VPN connection was not implied in my bridge software.  Moreover, it turned out that Beeline equipment supports only a few models of routers, which are not the most successful in my opinion.  Sadness <br><br>  I still got one model in the store, it turned out to be Asus WL-520GC, which, moreover, had to be reflashed. <br><br>  I asked, turned on, the Internet earned.  Happiness is somewhere nearby. <br><br>  I connect the IPTV console, it works for five seconds and then the picture freezes.  I switch the channel, it works for 5 seconds, then it freezes.  WTF?  Beeline‚Äôs tech support gives unintelligible advice, such as checking the router‚Äôs connection to a power outlet and cannot help it, especially since I‚Äôm not telling them that the signal is flying through a radio bridge ‚Äî I'm afraid they will send it right away.  Forums in Russian simply do not discuss the settings of my equipment, and in the American forum everyone laughs at the idea of ‚Äã‚Äãsending IPTV over such a bridge.  The solution came, as always, at random, while simultaneously reading the instructions for the equipment.  There is a mode of operation of the WDS bridge that allows two access points to communicate with each other.  Those.  The second antenna can be both a station and an access point.  In this mode, the bridge becomes transparent (transparent), I do not know what it gives, but in the transparency mode, IPTV began to work without freezing. <br><br>  Looking ahead to say that six months ago, I upgraded the bridge, installing the equipment of the same brand - NanoBridge M2.  The beauty of this device is that there are two transmitters in it, one is vertical, the other is horizontal polarization, i.e.  bandwidth is twice as high. <br><br>  During operation, many questions arose that could not be answered either in Russian or in English.  I decided all of them, and I consider it due to be voiced in case someone breaks their brains too. <br><br><img src="https://habrastorage.org/files/e01/f6e/c2d/e01f6ec2d6ed401093095179f3bfb219.jpg"><br><br><h6>  Radio Connection Setup Page </h6><br>  1. For an IPTV stream to go through the bridge, you must set the Access Point WDS mode on the Station WDS access point on the receiving device.  I think this applies to any equipment, if there is a desire to allow IPTV across the bridge. <br>  2. For more effective functioning of the bridge, it is necessary to achieve the same signal level of vertical and horizontal polarization.  I had to go to non-standard frequencies (2607MHz), at which the signal level became more or less the same and strong.  I think this is due to the low cost of equipment and its poor-quality adjustment, because in the usual range from 1 to 12 channels (2402-2483 MHz) the difference between the level of signal reception of vertical and horizontal polarization reached 7db. <br>  3. It is also important to correctly set the maximum speed of the bridge.  If you force a speed of 300 Mbps, the antenna will hang and stop responding to external stimuli.  Chances are that you have to climb on the roof and rezhetit.  It is best to entrust the speed control to automatic mode.  But, the lower the manual speed, the more stable the bridge will be and the fewer lost packets (Transmit CCQ on the main page of the web interface). <br><br><img src="https://habrastorage.org/files/48b/320/ac3/48b320ac31ff40179d6e54ff17af2ae7.jpg"><br><br><h6>  Advanced Settings Page </h6><br>  4. And most importantly: on the Advanced tab, in the Advanced Ethernet Settings settings, in no case do not enable Enable Full Duplex.  This will greatly reduce the rate of packet exchange between the access point and the external network.  Why, I don‚Äôt know, but I haven‚Äôt removed this check yet, I have broken my head, why the bridge‚Äôs speed is decent, and the file upload speed is none.  Here this tick also spoiled everything - an infection. <br><br>  Here is the home page of the device‚Äôs web interface.  Here, all indicators are ‚Äúnormal‚Äù and can serve as a model for adjustment: <br><br><img src="https://habrastorage.org/files/738/7f0/560/7387f05608724acab267e2fa9179c50b.jpg"><br><br><h6>  Home page </h6><br><br>  At present, the bridge provides an acceptable data transfer rate.  I consider the actual transfer rate (test true) of 105 Mbit / s to be a good result for the Wi-Fi standard over a distance of 4 kilometers.  Of course, scientists from NASA's Jet Propulsion Laboratory outran me, but they have a distance at which they reached a speed of 2.5 terabits / sec, no more than a meter in total, and here 4 kilometers !!!  (It is always pleasant to measure when you have more). <br><br><img src="https://habrastorage.org/files/4c5/9e6/e0e/4c59e6e0ed19473c85611e1f9778ce0f.jpg"><br><br><h6>  Here she is!  Here it is - the speed of my dreams </h6><br>  The picture on the TV is much higher quality than via satellite, it is especially nice to watch F1 racing in HD quality.  Pleasure: <br><br><img src="https://habrastorage.org/files/c99/896/f43/c99896f436de4136a6e7fa7ae2376ad3.jpg"><br><br><h6>  Sample picture quality </h6><br>  Download speed is also at a decent level of 4-5 MB / s: <br><br><img src="https://habrastorage.org/files/5a3/5a0/781/5a35a078180844839cb6bcccdd76fa8e.jpg"><br><br>  The results are very pleased.  There was even an idea to cover our entire village, to create an internal social network, where we could discuss the urgent problems of improvement or public services for residents, but somehow it was not all right.  Yes, and in this case, just have to get permission for the frequency, just as this is not happy this prospect.  Therefore, I am content with the quiet. <br><br>  The next project, most likely, will be the organization of video surveillance on the site and inside the house.  I want to try using IP cameras.  If possible - accomplish your goal. </div><p>Source: <a href="https://habr.com/ru/post/146911/">https://habr.com/ru/post/146911/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../146900/index.html">About emotions, programs and artificial intelligence</a></li>
<li><a href="../146901/index.html">Programmers misconceptions about names</a></li>
<li><a href="../146903/index.html">Yet another classifier</a></li>
<li><a href="../146905/index.html">#Boycottapple entered the top three most popular trends on Google+</a></li>
<li><a href="../146910/index.html">Ruby NoName Podcast S04E12</a></li>
<li><a href="../146912/index.html">We are looking for along with Google</a></li>
<li><a href="../146914/index.html">Droider Show # 47. Google I / O and patent lawlessness!</a></li>
<li><a href="../146915/index.html">Automatic timer for cleaning teeth</a></li>
<li><a href="../146916/index.html">Google I / O - ADK 2012 Presentation</a></li>
<li><a href="../146917/index.html">From engineer to manager. Part 1: Sense of Justice</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>