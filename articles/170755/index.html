<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Export favorites Habra in FB2 - high-speed PHP-version</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="At one time I had already seen such a converter here on Habr√©, written in python, but he devoured many, many, many resources on my typewriter and neve...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Export favorites Habra in FB2 - high-speed PHP-version</h1><div class="post__text post__text-html js-mediator-article">  At one time I had already seen such a converter here on Habr√©, written in python, but he devoured many, many, many resources on my typewriter and never could my favorites (and that‚Äôs 400+ posts) save to the end, dropping something on incorrect file, then the "curve" article.  It was necessary to rewrite, results of works under a cat. <br><a name="habracut"></a><br><ul><li>  <b><a href="http://habrahabr.ru/post/111411/">It was already</a> (in pdf, on python), <a href="http://habrahabr.ru/post/116982/">and twice</a> (in fb2, on python)!</b> <br><ul><li>  pdf on the phone requires more resources to view. </li><li>  Python's save script in fb2 ate about 3 GB of RAM for me (and it was exactly 3 on the old laptop), and I never successfully completed the process successfully. </li></ul><br></li><li>  <b>Comments on posts are saved?</b> <br>  I added the corresponding function to the parser library, but did not save the file.  If you have ideas on how to display comments with limited fb2 markup nicely, share your idea and will gladly complete the next patch. <br></li><li>  <b>Validation, file performance, known problems?</b> <br>  In <b>CoolReader</b> under android opens 100%, windows-version of <b>FBReader</b> may fall on some articles. <br>  Not everything is correctly displayed - the table tags are deleted, the code does not turn into the corresponding tag (will be in the next patch). <br>  All uncorrected articles or pictures are silently discarded, no error logging. <br></li><li>  <b>How to start?</b> <br>  Download, unpack to any virtual host, edit <b>config.php</b> for yourself and open in the browser. <br>  All the necessary libraries or bundled, or dokachivayutsya submodules. <br></li><li>  <b>Where to get it?</b> <br>  <a href="https://github.com/Newbilius/habr_to_fb2">On github'e, certainly.</a> <br></li><li>  <b>Settings?</b> <br>  In the <b>config.php file</b> , everything is signed by the Russian utf.  You can, for example, disable saving pictures or change folders for saving data. <br></li><li>  <b>What is interesting in the implementation?</b> <br><ul><li>  parsing is done by the <a href="http://code.google.com/p/phpquery/">phpquery</a> library </li><li>  all actions are separated into separate files (download the list, download the article, save the picture) </li><li>  in one step, one atomic action is performed (downloading one article, downloading one attached file, etc.).  Thus, each script eats little memory, and works relatively quickly. </li></ul><br></li><li>  <b>I found a bug / bug / curve code / I have an idea!</b> <br>  Share here, in a personal, on github'e - in my free time I can do it. <br></li></ul><br><br>  <a href="http://yadi.sk/d/t3P2Mu0a2xcjr">Sample file (second version)</a> .  ~ 150 articles, size 22mb., 14 MB in compressed form.  Pictures in the set, comments - no. <br><br>  <s><b>Update</b> .</s>  <s><a href="http://yadi.sk/d/dfNxTSFt2tbBW">Example fb2 file.</a></s>  <s>400+ articles, total size ~ 53mb., Pictures are compressed to 400 pixels, archive size is 33.8 mb.</s>  <b>Above is the latest version of the file.</b> <br>  <b>Update 2</b> .  <s><b>Short tags</b> must be enabled for the script to work on the server.</s>  Not relevant for the new version of the script. <br>  <b>Update 3</b> .  Screenshot of the script during execution: <br><img src="https://habrastorage.org/storage2/368/8fa/6be/3688fa6beae866e13973dd4fd19acfd5.png"><br>  <b>Update 4 (02.27.2013)</b> .  Updated the script.  Now tags are not thrown out. <code><code><a href="http://habrahabr.ru/post/170755/"></a> <a href="https://habr.com/ru/post/170755/"></a> <a href="http://yadi.sk/d/t3P2Mu0a2xcjr"></a>  (     ,    ).   (  <b>config.php</b> ).     . <br> <b>Update 5 (27.02.2013)</b> .  .     ,  -  , . <br> <b>Update 6 (28.02.2013)</b> .  .     (   XML). , FBreader      ,        ,     - .   . <br> <b>Update 7 (28.02.2013)</b> .  .     -      ,   .</code></code> </div>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <p>Source: <a href="https://habr.com/ru/post/170755/">https://habr.com/ru/post/170755/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../170743/index.html">Controller for smart greenhouses</a></li>
<li><a href="../170745/index.html">Why sometimes you shouldn‚Äôt reinvent the wheel</a></li>
<li><a href="../170747/index.html">New domain zones such as ".cadillac," ".vegas," and ".music." will appear in April</a></li>
<li><a href="../170749/index.html">Making a VoIP GSM Gateway from Tp-link mr-3020 and Huawei E-171 - part one</a></li>
<li><a href="../170751/index.html">Nagios vs Icinga. The real story of one of the ‚Äúhottest‚Äù branches in free software</a></li>
<li><a href="../170757/index.html">Master's program at the Academic University of the Russian Academy of Sciences: sharing experience</a></li>
<li><a href="../170759/index.html">Orchard CMS: software content of the site</a></li>
<li><a href="../170761/index.html">Presentation of new phones at the exhibition MWC-2013</a></li>
<li><a href="../170763/index.html">Is IPTV over Wi-Fi a problem? Absolutely no problem!</a></li>
<li><a href="../170765/index.html">Writing an extension for Google Chrome (and publish it)</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>