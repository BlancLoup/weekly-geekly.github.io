<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Wrappers for creating classes: evil or good?</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Time after time I read that convenient libraries for creating classes in Javascript, you see, do not correspond to the ideology of the language and th...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Wrappers for creating classes: evil or good?</h1><div class="post__text post__text-html js-mediator-article">  Time after time I read that convenient libraries for creating classes in Javascript, you see, do not correspond to the ideology of the language and those who use them simply need to learn the language.  This is said by the ignorant, who themselves have not really understood the language itself or the libraries that they criticize.  And so often they say that I decided to write this topic and just give a link <br><pre><code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> Foo = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Class({ <span class="hljs-attr"><span class="hljs-attr">Extends</span></span>: Bar, <span class="hljs-attr"><span class="hljs-attr">initialize</span></span>: <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">firstname, lastname</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.parent(firstname); <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.lastname = lastname; }, <span class="hljs-attr"><span class="hljs-attr">sayHello</span></span>: <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span>{ alert(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.lastname || <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.firstname); } });</code> </pre> <br><a name="habracut"></a><br>  Wrappers in normal libraries are completely consistent with the ideology of Javascript and prototype-oriented programming.  They simply provide a convenient interface, an alias for using it.  <font color="#999">Of course, there are libraries that implement ‚ÄúOOP in Javascript‚Äù through some different methods, but now we don‚Äôt take these into account, but consider them on the example of Mutuls</font> . <br><br>  For example, for the construction <br><pre> <code class="javascript hljs">MyClass = <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{<span class="hljs-comment"><span class="hljs-comment">/* constructor */</span></span>}; MyClass.prototype.firstMethod = <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{<span class="hljs-comment"><span class="hljs-comment">/**/</span></span>}; MyClass.prototype.secondMethod = <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{<span class="hljs-comment"><span class="hljs-comment">/**/</span></span>}; MyClass.prototype.thirdMethod = <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{<span class="hljs-comment"><span class="hljs-comment">/**/</span></span>};</code> </pre><br><br>  Introduced alias, which allows not to repeat <code>MyObject.prototype</code> .  Do not do without this design, but simply do not repeat it.  Inside the library will be all the same <br><pre> <code class="javascript hljs">MyClass = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Class({ <span class="hljs-attr"><span class="hljs-attr">initialize</span></span> : <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{<span class="hljs-comment"><span class="hljs-comment">/* constructor */</span></span>}, <span class="hljs-attr"><span class="hljs-attr">firstMethod</span></span> : <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{<span class="hljs-comment"><span class="hljs-comment">/**/</span></span>}, <span class="hljs-attr"><span class="hljs-attr">secondMethod</span></span>: <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{<span class="hljs-comment"><span class="hljs-comment">/**/</span></span>}, <span class="hljs-attr"><span class="hljs-attr">thirdMethod</span></span> : <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{<span class="hljs-comment"><span class="hljs-comment">/**/</span></span>} });</code> </pre>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      The following construct is for inheritance (note that it fully complies with the Javascript ideology and is ‚Äúcaught‚Äù by the <code>instanceof</code> ) <br><pre> <code class="javascript hljs">MyAnotherClass = <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{<span class="hljs-comment"><span class="hljs-comment">/* constructor */</span></span>}; <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> Tmp = <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ } Tmp.prototype = MyClass.prototype MyAnotherClass.prototype = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Tmp() MyAnotherClass.prototype.constructor = MyAnotherClass;</code> </pre><br>  Encapsulated in such a simple entry: <br><pre> <code class="hljs pgsql">MyAnotherClass = <span class="hljs-built_in"><span class="hljs-built_in">new</span></span> <span class="hljs-keyword"><span class="hljs-keyword">Class</span></span>({ Extends: MyClass });</code> </pre><br><br>  And many, many, many.  The bottom line is that it does not violate the ideology of JavaScript.  It adapts to it and provides a user-friendly interface, but inside it‚Äôs all the same as a professional would.  After all, the ideology of prototype-oriented programming is not verbosity and the constant mention of the word ‚Äúprototype‚Äù, but incredible extensibility. <br><br><h2>  Overloaded constructor </h2><br><br>  And the ideology is violated by just another, very harmful and very popular approach - the overloaded designer: <br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> MyClass = <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-comment"><span class="hljs-comment">/*   */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.firstMethod = <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{<span class="hljs-comment"><span class="hljs-comment">/**/</span></span>}; <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.secondMethod = <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{<span class="hljs-comment"><span class="hljs-comment">/**/</span></span>}; <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.thirdMethod = <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{<span class="hljs-comment"><span class="hljs-comment">/**/</span></span>}; <span class="hljs-comment"><span class="hljs-comment">/*  ,       */</span></span> }; <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> MyAnotherClass = <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-comment"><span class="hljs-comment">//  MyClass.apply(this, arguments); this.elseOneMethod = function() {/**/}; }; var myAC = new MyAnotherClass(); console.log(myAC instanceof MyClass); // false</span></span></code> </pre><br><br>  Which cannot be inherited so that the <code>instanceof</code> works, in which functions are created every time an object is created, which is why the memory flows like a river and the processor cries.  Instead of creating a function in one place and giving it a link, we will create it every time.  These functions are not present in the prototype (and in embedded objects such as Array, Number and the rest everything is exactly in the prototype), they cannot be redefined or obtained out of context, they are incorrectly determined using <code>hasOwnProperty</code> and work prohibitively slowly (hundreds of times): <br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> MyClass = <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.method1 = <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span>{}; }; MyClass.prototype.method2 = <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span>{}; <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> myClass = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> MyClass; <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(myClass.hasOwnProperty(<span class="hljs-string"><span class="hljs-string">'method1'</span></span>)); <span class="hljs-comment"><span class="hljs-comment">// true console.log(myClass.hasOwnProperty('method2')); // false var Foo = function() { this.method1 = function(){}; this.method2 = function(){}; this.method3 = function(){}; this.method4 = function(){}; this.method5 = function(){}; this.method6 = function(){}; this.method7 = function(){}; this.method8 = function(){}; this.method9 = function(){}; } var Bar = function() {}; Bar.prototype.method1 = function(){}; Bar.prototype.method2 = function(){}; Bar.prototype.method3 = function(){}; Bar.prototype.method4 = function(){}; Bar.prototype.method5 = function(){}; Bar.prototype.method6 = function(){}; Bar.prototype.method7 = function(){}; Bar.prototype.method8 = function(){}; Bar.prototype.method9 = function(){}; /** * Chrome 8 * Foo: 260 * Bar: 26 * Firefox 3.5 * Foo: 22081 * Bar: 158 */ console.time('Foo'); for (var i = 1000000; i--;) new Foo(); console.timeEnd('Foo'); console.time('Bar'); for (var i = 1000000; i--;) new Bar(); console.timeEnd('Bar');</span></span></code> </pre><br>  I am silent about what will be in Internet Explorer.  Check for yourself.  You can leave the computer on for the night =) <br>  Even the fact that it allows you to implement pseudo-private methods and variables does not justify this approach for a second. <br><br>  Once again, the shortcomings of the overloaded constructor list: <br>  * <code>instanceof</code> does not work in children <br>  * <a href="http://habrahabr.ru/blogs/javascript/111393/">significantly more memory consumption</a> <br>  * works tens or hundreds of times slower <br>  * methods are absent in the prototype <br>  * methods are incorrectly defined through hasOwnProperty <br><br><h2>  Conclusion </h2><br>  Use the fact that you are comfortable and pleasant to users.  If you think that MooTools.Class or any other similar library will make your application more readable and easier support - use it!  And do not pay attention to everybody who you know who shout about the ideology of Javascript (and she is undoubtedly beautiful) <br><br>  UPD: This topic was written as an answer <a href="http://habrahabr.ru/blogs/javascript/111290/">to the</a> <a href="https://habrahabr.ru/users/aux/" class="user_link">aux</a> <a href="http://habrahabr.ru/blogs/javascript/111290/">message</a> : <br><blockquote>  JS preach prototype OOP, insert class crutches - not gut.  Learn the language and its capabilities. </blockquote><br>  I do not claim that the approach in the frameworks is the only correct one.  Just you should not avoid such wrappers as MooTools.Class, if someone told you that it, you see, does not correspond to the ideology of Javascript or something like that.  <a href="http://habrahabr.ru/blogs/javascript/111393/">_</a> </div><p>Source: <a href="https://habr.com/ru/post/111393/">https://habr.com/ru/post/111393/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../111388/index.html">Evernote is now available in the Mac App Store</a></li>
<li><a href="../111389/index.html">PlayStation Phone fell into the hands of Chinese bloggers</a></li>
<li><a href="../111390/index.html">EDM 2010.2 One KDE4 DVD Released - Alternate Build by Edumandriva Team</a></li>
<li><a href="../111391/index.html">ECoupled company offers chargers for mobile devices and electric vehicles.</a></li>
<li><a href="../111392/index.html">Canobuvosti. The most anticipated games of 2011</a></li>
<li><a href="../111394/index.html">DRM bypass for some applications in the Mac AppStore</a></li>
<li><a href="../111396/index.html">Hosting Center - brazen extortionists</a></li>
<li><a href="../111398/index.html">Creating Packet Tracer Exercises to Prepare for Cisco Certification</a></li>
<li><a href="../111399/index.html">Configure PPPoE with traffic shaping for a small network</a></li>
<li><a href="../111401/index.html">How to design programs and their user interfaces, or DISC theory for ‚Äúnon-licenses‚Äù</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>