<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Idea: formatting function for easy localization of strings</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Problem: when translating applications into other languages ‚Äã‚Äã(more often we are faced with the Russification of English-language products), support f...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Idea: formatting function for easy localization of strings</h1><div class="post__text post__text-html js-mediator-article"> Problem: when translating applications into other languages ‚Äã‚Äã(more often we are faced with the Russification of English-language products), support for plural forms of numbers most often suffers.  For example, <i>‚Äú1 note, 2 notes, 5 notes,‚Äù</i> or the supposedly universal <i>‚Äú1 file (s)‚Äù</i> , etc.  The fact is that in all programming languages ‚Äã‚Äãit is usually not further than the version of sprintf () or some kind of template engine, and support for multiple forms must be programmed each time with handles: <i>if N = 1, then ‚Äú1 note‚Äù, otherwise ‚ÄúN notes‚Äù</i> .  And doing it every time is lazy.  This task is partially solved by the gettext framework, where there is the concept of several variants of a localized string, but this doesn‚Äôt make life much easier, because there can be several parts depending on numbers (‚ÄúFound 23 files in 3 folders‚Äù), and then pieces of lines must then be glued together anyway. <br><br>  Therefore, I came up with the following idea: why not come up with a common format, <i>microlanguage</i> (by analogy with the well-established format format () or sprintf () function), to address this problem and simplify the writing of the localized code in the future. <br><br>  As is known, in different languages ‚Äã‚Äãa different number of plural forms of numbers.  There are two of them in English ( <i>‚Äú1 file‚Äù</i> , <i>‚Äúmany files‚Äù</i> ).  There are three in Russian ( <i>‚Äú1 file‚Äù</i> , <i>‚Äú2 files‚Äù</i> , <i>‚Äúmany files‚Äù</i> ).  In Arabic, in general, as Pootle tells us, as many as 6 pieces.  Therefore, we need to be able to set directly in the string a set of several substrings and a parameter on which the choice of these substrings depends. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      The proposed format of the substring with multiple options: <br> <code>{%COUNTER%|FORM0|FORM1|FORM2[|FORM3][|FORM4][|...]}</code> <br> <br>  Where <br>  <code>%COUNTER%</code> is a kind of variable name that can have values ‚Äã‚Äã[0,1,2,3, ...] <br>  <code>FORM0</code> is the string version for COUNTER = 0 (this is a special case, usually requiring a separate message) <br>  <code>FORM1</code> , <code>FORM2</code> , etc.  - These are alternative text variants for each plural form of the given language;  for English it will be two options, for Russian - three, etc. <br><br>  English example: <br> <code>{%F%|No files|1 file|%F% files} found in {%D%|0 folders|1 folder|%D% folders}.</code> <br> <br>  This will give us the following final variants of the output string when substituting different values ‚Äã‚Äãof% F% and% D%: <br>  % F% = 0,% D% = 1 =&gt; <i>No files found in 1 folder.</i> <br>  % F% = 1,% D% = 2 =&gt; <i>1 file found in 2 folders.</i> <br><br>  The same example of a string translated into Russian: <br> <code>{%F%|  |1  |%F%  |%F%  }  {%D%|0 |1 |%D% |%D% }.</code> <br> <br>  This will give us the following final variants of the output string when substituting different values ‚Äã‚Äãof% F% and% D%: <br>  % F% = 0,% D% = 1 =&gt; <i>No files were found in 1 folder.</i> <br>  % F% = 1,% D% = 2 =&gt; <i>1 file was found in 2 folders.</i> <br><br>  Notice that having received the entire string for translation containing several such variant inclusions, the translator a) is easier to understand in what context all parts of the string are used and b) he has room for maneuvers so that the string sounds better in the end. <br><br>  It would be great to have the implementation of such a micro language in different programming languages. <br><br>  I hope someone idea come in handy. <br><br>  <b>UPD:</b> The result did not take long to wait: in <a href="http://habrahabr.ru/blogs/development/55742/">this topic, the</a> webdew <a href="https://habrahabr.ru/users/webdew/" class="user_link">habrauser</a> is divided into the implementation of a function in C #, for which many thanks to it. </div><p>Source: <a href="https://habr.com/ru/post/55286/">https://habr.com/ru/post/55286/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../55281/index.html">RusCHI. Seminar number 20 "Psychological concepts of activity analysis" (Moscow - 03/31/2009)</a></li>
<li><a href="../55282/index.html">Preliminary caching support</a></li>
<li><a href="../55283/index.html">Attention! Passwords!</a></li>
<li><a href="../55284/index.html">Move the cursor down</a></li>
<li><a href="../55285/index.html">Hackers can bring down the smart grid</a></li>
<li><a href="../55288/index.html">Meeting in St. Petersburg: Sunday, March 29</a></li>
<li><a href="../55291/index.html">NetBeans 6.5: Free and Fast IDE for PHP</a></li>
<li><a href="../55294/index.html">Thank you for the kind reception, dear sirs and ladies.</a></li>
<li><a href="../55297/index.html">Gnome 2.26 and Debian</a></li>
<li><a href="../55298/index.html">The terrible power of habraplusometa</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>