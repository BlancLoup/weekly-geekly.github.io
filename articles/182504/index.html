<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>IT infrastructure health metrics, thresholds and users of IT services</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="The topic of this article is the determination of threshold values ‚Äã‚Äãfor IT infrastructure health metrics corresponding to the comfortable work of use...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>IT infrastructure health metrics, thresholds and users of IT services</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/getpro/habr/post_images/68e/69b/919/68e69b9197777515d92922f6d79911d8.png" alt="image"><br>  The topic of this article is the determination of threshold values ‚Äã‚Äãfor IT infrastructure health metrics corresponding to the comfortable work of users of IT services.  I will look at how to make the thresholds of health metrics (performance, availability, etc.) of the IT infrastructure match what users see as comfortable working with the IT service, and also why all this is needed. <br><br>  This article is intended for IT service providers, system administrators and anyone who wants to set up monitoring of IT infrastructure and / or performance and availability of IT services, but does not know how to do this. <br><a name="habracut"></a><br><h4>  Introduction </h4><br>  The purpose of any monitoring is to find out about a failure before it affects the work of users, clients, etc.  In order for the monitoring system to detect a failure in time and notify the system administrator or the support service about it, you need to: <br><br><ol><li>  Know which metrics need to be monitored. </li><li>  Correctly establish threshold values ‚Äã‚Äãfor monitored metrics. </li></ol><br>  Answers to these questions can be both simple and complex, and depend on what the IT service means to be a failure. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Some time ago, HP proposed to classify IT services by level of maturity: IT infrastructure provider, IT services provider, and business partner.  We use the proposed classification and consider what is wrong for the first two cases - the IT infrastructure provider and the IT services provider, as well as how in these cases the metrics are determined and the threshold values ‚Äã‚Äãare set.  The third case (business partnership) due to its complexity and globalization will be considered in one of the following articles. <br><br><table><tbody><tr><th>  IT Service Level </th><th>  What is a crash? </th></tr><tr><td>  IT infrastructure provider </td><td>  Something is bad in the IT infrastructure </td></tr><tr><td>  IT Service Provider </td><td>  Users cannot use the IT service to perform their duties. </td></tr><tr><td>  Business partner </td><td>  Stopped or slows down the business process </td></tr></tbody></table><br><h4>  Failure for IT infrastructure provider: Something is bad in IT infrastructure </h4><br>  In the simplest case, a failure is a malfunction in the IT infrastructure.  Information about metrics in this case is contained in the MIB (Management Information Base).  Thresholds are set in three ways: <br><br><ol><li>  If the metric is measured as a percentage (utilization, availability, etc.), then the method of common sense. </li><li>  For most significant metrics there are reference values ‚Äã‚Äãcontained in the recommendations of software and hardware manufacturers.  We systematized a significant part of this information and the results can be found on the site <a href="http://www.you-expert.ru/">http://www.you-expert.ru</a> , section <a href="http://www.you-expert.ru/index.php%3FKMs">‚ÄúExamination‚Äù</a> . </li><li>  If item 1 and item 2 are not possible, then the Baseline Method is used. </li></ol><br><h5>  Baseline Method </h5><br>  A baseline is a metric or set of metrics that characterize the normal (normal) operation of the IT infrastructure.  To build the Baseline, you need to statistically process the measurement results obtained over a long period of time, for example, a month, and get an average value, which is taken as the norm.  A value exceeding (in absolute value) the norm, for example, by 10%, 30% or 50% (determined intuitively) is taken as a threshold value corresponding to a ‚Äúbad‚Äù assessment. <br><br>  There are many ways to calculate and view the Basic Lines.  In the simplest monitoring systems, this may be the average value of the metric, displayed as a straight line intersecting the graph of the metric being measured.  In professional systems, these are several statistical evaluations (as a rule, percentile) related to time.  This means that the values ‚Äã‚Äãof the Baseline, for example, at 7-00 and 11-00 are two different values.  Figures 2 and 3 show examples of Basic Lines automatically computed by ProLAN products.  Baseline 20 evaluates metrics at 20-minute intervals and looks like a table.  Baseline 60 evaluates metrics at 60-minute intervals and looks like three graphs: average, percentile 75 (25% of the worst values ‚Äã‚Äãare discarded), percentile of 90 (10% of the worst values ‚Äã‚Äãare discarded). <br><br><img src="http://www.you-expert.ru/pic/blog/2/pic_01big.gif" alt="image"><br>  <i>Figure 2. Baseline 20.</i> <br><br><img src="http://www.you-expert.ru/pic/blog/2/pic_02big.gif" alt="image"><br>  <i>Figure 3. Baseline 60.</i> <br><br><h4>  Failure for IT service provider: Users cannot use IT service to perform their duties </h4><br>  Compared to a malfunction in the IT infrastructure, this case is more complex and more interesting.  Its significance is determined by the fact that the availability of IT services is the main component of the SLA (Service Level Agreement). <br><br>  Often, in order to simplify your life, IT treats the availability of an IT service as the availability of all involved components of the IT infrastructure.  Such a simplification is excusable to a small outsourcer (de facto IT infrastructure provider), but not to a mature IT service provider, since  it is objectively wrong.  A classic example is ip-telephony.  All components of the IT infrastructure that support communication between subscribers can be in good condition and function technically, but the quality of communication is so terrible that it is impossible to use the service (the sound gurgles, the image freezes).  Therefore, the availability of an IT service is not a technical metric, and it is not enough to ping equipment to measure it. <br><br>  <b>It is necessary either to determine at what values ‚Äã‚Äãof which metrics the service works well, and at what values ‚Äã‚Äã- not so much, or to measure the response time of business applications (end-to-end response time).</b> <br><br>  Consider both ways in more detail. <br><br>  <b>The first way</b> is to measure the end-to-end response time of a business application.  In order to measure the response time of business applications, we need special metrics and special measuring tools.  You can use GUI robots (we use the <a href="http://www.prolan.ru/solutions/technology/apm/index.html">AutoIT integrated with the SLA-ON Probe</a> ), network protocol analyzers (for example, <a href="http://www.networkinstruments.com/products/observer/">Observer Suite from Network Instruments</a> ), software agents installed on the client or server (for example, <a href="http://911.prolan.ru/5level/index.html">Level 5</a> ).  Thresholds are set by either the common sense method or the baseline method. <br><br>  <b>The second way</b> is to establish compliance, when, at what values ‚Äã‚Äãof which metric the service works well (the user can use it to achieve their goals, perform their duties), and when it is bad (it is impossible to use the service).  In this case, not the response time of business applications is controlled, but the technical metrics on which it depends.  Monitoring is significantly simplified and cheapened, because  instead of poorly scalable GUI robots or expensive analyzers, you can use a regular, even free, monitoring system. <br><br>  How, in practice, to determine which values ‚Äã‚Äãof metrics correspond to the comfortable work of users? <br><br><h4>  Algorithm for determining the pore values ‚Äã‚Äãcorresponding to the comfortable work of users of the IT service </h4><br>  For streaming applications (voice, video), the task of matching the threshold values ‚Äã‚Äãof technical metrics and user perception (or usability of an IT service) has long been solved.  Everyone who works with Cisco equipment (and not only) knows that this equipment allows you to control the subjective MOS (Mean Opinion Score) and ICPIF metrics that are not measured, but calculated (depending on the type of codec) from technical metrics: jitter, delay, packet loss (which are actually measured).  For this, the R-Value model is used.  Excerpts from the relevant standards and the order of the Ministry of Communications ‚Ññ113 are in the <a href="http://www.you-expert.ru/index.php%3FKMs">Examinations that</a> support them and other information on the topic can be found at <a href="http://www.you-expert.ru/index.php">www.you-expert.ru</a> . <br><br>  But for transactional applications running on top of TCP rather than UDP, there are no such standards.  This means that we will have to establish the correspondences between the values ‚Äã‚Äãof technical metrics and the perception of users.  To this end, it is proposed to use the APDEX methodology (see below) and ProLAN solutions. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/9d9/a38/d80/9d9a38d80547e28419e980b055f575f7.png" alt="image"><br>  <i>Figure 4. Operation of the ALPHA business application.</i> <br><br>  Suppose there are two offices separated by a communication channel.  At the same time, the ALPHA application server is located in one office, and the users of the ALPHA application are in another, see Figure 4. The name ALPHA is, of course, conditional.  Suppose also that we have a ProLAN SLA-ON monitoring system (or some other one) that allows measuring technical health metrics of routers, application server, communication channel, in particular, <i>jitter, delay, packet loss</i> . <br><br>  And here we are preoccupied with what values ‚Äã‚Äãof <i>jitter, delay, packet loss</i> we need to register in SLA with the service provider so that users of the ALPHA business application work comfortably.  They will also be entered into our monitoring system as thresholds, so that the system administrator or support service, when they are exceeded, can immediately recognize that a failure has occurred (that is, users are unable to perform their duties normally using the provided service - the ALPHA business application) . <br><br><img src="http://blog.prolan.ru/wp-content/uploads/2013/06/gr3.png" alt="image"><br>  <i>Figure 5. Collecting IT health metrics, user information and unsatisfactory ALPHA application</i> <br><br>  1. To solve this problem, we will install the most appropriate users of the ALPHA <a href="http://911.prolan.ru/index.html">Red Button</a> application on computers (USB device, SelfTrace program, EPM-Agent Plus program).  SelfTrace will automatically measure when users work with the ALPHA application (they work, that is, they press keys on the keyboard and move the mouse, not just the application openly, but the employee drinks coffee in another department), and transfer the results to the consolidated database See Figure 5. <br><br>  2. The monitoring system is configured to collect <i>jitter, delay, packet loss</i> metrics, which are also automatically recorded in the consolidated database, and are tied to a common timeline. <br><br>  3. Users of the ALPHA application are instructed that at the moment when, from their point of view, they cannot comfortably use the ALPHA application to perform their duties, they must press the ‚Äúred button‚Äù.  The results of pressing the buttons are also automatically transferred to the consolidated database and are also linked to the overall timeline.  Thus, in the consolidated database, the values ‚Äã‚Äãof <i>jitter, delay, packet loss</i> metrics <i>,</i> time periods of use of the ALPHA application and reports of the unsatisfactory performance of the ALPHA application are tied to one common timeline. <br><br>  4. We proceed to the actual calculation of threshold values.  Run a special application (script) that accesses the consolidated database and calculates the average values ‚Äã‚Äãof <i>jitter, delay, packet loss</i> metrics: <br><br><ol><li>  at those times when ALPHA users complained about the IT service (they pressed the button); </li><li>  at those times when, according to users, everything was fine with the ALPHA. </li></ol><br>  <i><b>Note.</b></i>  <i>Partners using commercial ProLAN products can get this script for free.</i> <br><br>  As a result, for each <i>jitter, delay, packet loss</i> metric <i>,</i> we will have 2 threshold values: <br><ol><li>  <i>jitter_satisfied</i> and <i>jitter_frustrated</i> </li><li>  <i>delay_satisfied</i> and <i>delay_frustrated</i> </li><li>  <i>packet loss_satisfied</i> and <i>packet loss_frustrated</i> </li></ol><br>  In accordance with the method APDEX metrics with the suffix <i>frustrated</i> is a fourfold threshold value of the corresponding metric.  That is, if the value of <i>jitter_frustrated</i> was 200 microseconds, then the threshold value of the <i>jitter</i> metric, corresponding to the comfortable work of ALPHA users, is 50 microseconds. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/5a7/f79/f8f/5a7f79f8fe327f8e9ded59e646edccb7.png" alt="image"><br>  <i>Figure 6. 2, 7, 11, 12 - jitter values ‚Äã‚Äãare not taken into account (the user did not work at that time in the ALPHA application).</i>  <i>5, 14 - taken into account to calculate jitter_frustrated.</i>  <i>1, 3, 4, 6, 8, 9, 10, 13, 15 are taken into account to calculate jitter_satisfied.</i> <br><br>  Problem solved.  We received threshold values, the excess of which means a failure from the user's point of view, and therefore the IT service provider (violation of the comfort mode of operation for users of the IT service). <br><br>  Along the way, another important task is being solved: we determine which metrics are significant in terms of the performance of this service.  For example, if it turns out that the values ‚Äã‚Äãof <i>jitter_satisfied</i> and <i>jitter_frustrated</i> are close, then the jitter metric for comfort with the ALPHA application (for its performance) is not significant.  For metrics that characterize the operation of the IP channel, this is not very applicable.  But for the health metrics of routers, application servers - this is important. <br><br><h4>  APDEX technique </h4><br><img src="https://habrastorage.org/getpro/habr/post_images/533/910/e35/533910e357c2ac8936c6bc8511038463.png" alt="image"><br>  <i>Figure 7. APDEX technique.</i> <br><br>  In conclusion, a few words about the methodology APDEX. <br><br>  <a href="http://apdex.org/">APDEX</a> (Application Performance Index) is a standard that quantifies user satisfaction with application performance.  APDEX technique is as follows.  All measurement results (for example, measurement results of the response time of a business application) are divided into three groups. <br><br>  The first group includes measurements whose values ‚Äã‚Äãare less than the threshold value <i>T</i> , corresponding to the comfortable work of users.  (This is what we need to determine.) The number of such measurements is the value of the variable <i>Satisfied count</i> : users are satisfied. <br><br>  The second group includes measurements whose values ‚Äã‚Äãare greater than <i>T</i> , but less than <i>4 * T.</i>  The number of such measurements is the value of the variable <i>Tolerating count</i> : users are not very happy, but are willing to endure. <br><br>  All other measurements are entered in the third group - <i>Frustrated</i> : users complain.  The total number of measurements is the value of the <i>Total samples</i> variable.  The APDEX value is calculated using the formula shown in Figure 7. <br><br><h4>  Post scriptum </h4><br>  Amazing fact.  The sales volume of monitoring systems in huge Russia is almost 30 times less than in small Germany.  For the number 30 I will not vouch, but the order is exactly like that.  For a long time it was not clear to me what it is connected with, until recently I did not have a conversation with the CIO of a very large retailer.  I asked what they monitor IT infrastructure.  He called one of the products Open Source.  I ask: ‚ÄúWell, how, arranges?‚Äù ‚ÄúYes,‚Äù he says.  - Engineers are happy.  Users are just not happy, they periodically complain that everything slows them down, and sometimes letters do not come.  And according to our data, everything is working fine.  Don't you know what that could be? ‚Äù </div><p>Source: <a href="https://habr.com/ru/post/182504/">https://habr.com/ru/post/182504/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../182478/index.html">As I went to the sea with blue ... Just5</a></li>
<li><a href="../182482/index.html">Waiting for new MacBook Pro Retina or thinking about integrated graphics</a></li>
<li><a href="../182488/index.html">Can I cash in on users? 3 easy ways to increase application monetization</a></li>
<li><a href="../182494/index.html">Microsoft released another set of updates, June 2013</a></li>
<li><a href="../182502/index.html">High Availability Optical Ring</a></li>
<li><a href="../182506/index.html">Porting code to iOS / Android mobile devices</a></li>
<li><a href="../182508/index.html">Experiments with VMware</a></li>
<li><a href="../182512/index.html">Ekovozhdeniye with the new Cellocator IQ 50 terminal: a practical overview</a></li>
<li><a href="../182516/index.html">New chipsets from Texas Instruments will speed up charging time and increase battery life for smartphones and tablets</a></li>
<li><a href="../182518/index.html">How to make qmake always rebuild a project from scratch when changing macros</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>