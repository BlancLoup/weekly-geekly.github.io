<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Anatomy of recommendation systems. Part two</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="A week ago, I reviewed the existing recommendation algorithms here . In this article I will continue this review: I‚Äôll talk about the item-based versi...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Anatomy of recommendation systems. Part two</h1><div class="post__text post__text-html js-mediator-article">  A week ago, I reviewed the existing recommendation algorithms <a href="https://habr.com/company/lanit/blog/420499/">here</a> .  In this article I will continue this review: I‚Äôll talk about the item-based version of collaborative filtering, methods based on matrix expansions, testing problems, as well as less-promoted (but equally interesting) algorithms. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/8b5/2a3/552/8b52a355264c4e3eefba433cc39055fc.jpg"></div><a name="habracut"></a><br><h3>  <font color="#0057b6">Collaborative filtering (Item-based option)</font> </h3><br>  The Item-based approach is a natural alternative to the classic User-based approach, described in the first part, and almost repeats it, with the exception of one point ‚Äî it applies to the transposed preference matrix.  Those.  looking for close products, not users. <br><br>  Let me remind you, user-based CF (user-based CF) searches for each client a group of the most similar to it (in terms of previous purchases) customers and averages their preferences.  These average preferences serve as recommendations for the user.  In the case of product-based collaborative filtering (item-based CF), the nearest neighbors are searched for on a variety of products ‚Äî columns of a preference matrix.  And the averaging occurs exactly according to them. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Indeed, if the products are meaningfully similar, then most likely they either at the same time like them or at the same time dislike them.  Therefore, when we see that the two products have a strong correlation between the estimates, this may indicate that these are analogous products. <br><br>  <b>Advantages of Item-based over User-based:</b> <br><br><ul><li>  When there are many users (almost always), the task of finding the nearest neighbor becomes poorly computable.  For example, for 1 million users you need to calculate and store <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-1-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mtext>&amp;#xA0;</mtext><mi>f</mi><mi>r</mi><mi>a</mi><mi>c</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mn>1</mn></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mn>2</mn></mrow><msup><mn>10</mn><mn>6</mn></msup><mo>&amp;#x2217;</mo><msup><mn>10</mn><mn>6</mn></msup></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="16.422ex" height="2.78ex" viewBox="0 -935.7 7070.8 1197.1" role="img" focusable="false" style="vertical-align: -0.607ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/lanit/blog/421401/&amp;xid=17259,1500008,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhi-ewAsA1sewgj58cIihKuT2Ab-hA#MJMATHI-66" x="250" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/lanit/blog/421401/&amp;xid=17259,1500008,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhi-ewAsA1sewgj58cIihKuT2Ab-hA#MJMATHI-72" x="800" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/lanit/blog/421401/&amp;xid=17259,1500008,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhi-ewAsA1sewgj58cIihKuT2Ab-hA#MJMATHI-61" x="1252" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/lanit/blog/421401/&amp;xid=17259,1500008,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhi-ewAsA1sewgj58cIihKuT2Ab-hA#MJMATHI-63" x="1781" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/lanit/blog/421401/&amp;xid=17259,1500008,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhi-ewAsA1sewgj58cIihKuT2Ab-hA#MJMAIN-31" x="2215" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/lanit/blog/421401/&amp;xid=17259,1500008,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhi-ewAsA1sewgj58cIihKuT2Ab-hA#MJMAIN-32" x="2715" y="0"></use><g transform="translate(3216,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/lanit/blog/421401/&amp;xid=17259,1500008,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhi-ewAsA1sewgj58cIihKuT2Ab-hA#MJMAIN-31"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/lanit/blog/421401/&amp;xid=17259,1500008,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhi-ewAsA1sewgj58cIihKuT2Ab-hA#MJMAIN-30" x="500" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/lanit/blog/421401/&amp;xid=17259,1500008,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhi-ewAsA1sewgj58cIihKuT2Ab-hA#MJMAIN-36" x="1415" y="557"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/lanit/blog/421401/&amp;xid=17259,1500008,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhi-ewAsA1sewgj58cIihKuT2Ab-hA#MJMAIN-2217" x="4893" y="0"></use><g transform="translate(5615,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/lanit/blog/421401/&amp;xid=17259,1500008,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhi-ewAsA1sewgj58cIihKuT2Ab-hA#MJMAIN-31"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/lanit/blog/421401/&amp;xid=17259,1500008,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhi-ewAsA1sewgj58cIihKuT2Ab-hA#MJMAIN-30" x="500" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/lanit/blog/421401/&amp;xid=17259,1500008,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhi-ewAsA1sewgj58cIihKuT2Ab-hA#MJMAIN-36" x="1415" y="557"></use></g></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mtext>&nbsp;</mtext><mi>f</mi><mi>r</mi><mi>a</mi><mi>c</mi><mrow class="MJX-TeXAtom-ORD"><mn>1</mn></mrow><mrow class="MJX-TeXAtom-ORD"><mn>2</mn></mrow><msup><mn>10</mn><mn>6</mn></msup><mo>‚àó</mo><msup><mn>10</mn><mn>6</mn></msup></math></span></span><script type="math/tex" id="MathJax-Element-1"> \ frac {1} {2} 10 ^ 6 * 10 ^ 6 </script>  ~ 500 billion distances.  If the distance is encoded in 8 bytes, this is 4TB for the distance matrix alone.  If we make Item-based, then the computational complexity decreases with <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-2-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>O</mi><mo stretchy=&quot;false&quot;>(</mo><msup><mi>N</mi><mn>2</mn></msup><mi>n</mi><mo stretchy=&quot;false&quot;>)</mo></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="8.155ex" height="2.901ex" viewBox="0 -935.7 3511 1249" role="img" focusable="false" style="vertical-align: -0.728ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/lanit/blog/421401/&amp;xid=17259,1500008,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhi-ewAsA1sewgj58cIihKuT2Ab-hA#MJMATHI-4F" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/lanit/blog/421401/&amp;xid=17259,1500008,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhi-ewAsA1sewgj58cIihKuT2Ab-hA#MJMAIN-28" x="763" y="0"></use><g transform="translate(1153,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/lanit/blog/421401/&amp;xid=17259,1500008,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhi-ewAsA1sewgj58cIihKuT2Ab-hA#MJMATHI-4E" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/lanit/blog/421401/&amp;xid=17259,1500008,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhi-ewAsA1sewgj58cIihKuT2Ab-hA#MJMAIN-32" x="1292" y="513"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/lanit/blog/421401/&amp;xid=17259,1500008,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhi-ewAsA1sewgj58cIihKuT2Ab-hA#MJMATHI-6E" x="2520" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/lanit/blog/421401/&amp;xid=17259,1500008,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhi-ewAsA1sewgj58cIihKuT2Ab-hA#MJMAIN-29" x="3121" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>O</mi><mo stretchy="false">(</mo><msup><mi>N</mi><mn>2</mn></msup><mi>n</mi><mo stretchy="false">)</mo></math></span></span><script type="math/tex" id="MathJax-Element-2"> O (N ^ 2n) </script>  before <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-3-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>O</mi><mo stretchy=&quot;false&quot;>(</mo><msup><mi>n</mi><mn>2</mn></msup><mi>N</mi><mo stretchy=&quot;false&quot;>)</mo></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="8.095ex" height="2.901ex" viewBox="0 -935.7 3485.4 1249" role="img" focusable="false" style="vertical-align: -0.728ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/lanit/blog/421401/&amp;xid=17259,1500008,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhi-ewAsA1sewgj58cIihKuT2Ab-hA#MJMATHI-4F" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/lanit/blog/421401/&amp;xid=17259,1500008,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhi-ewAsA1sewgj58cIihKuT2Ab-hA#MJMAIN-28" x="763" y="0"></use><g transform="translate(1153,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/lanit/blog/421401/&amp;xid=17259,1500008,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhi-ewAsA1sewgj58cIihKuT2Ab-hA#MJMATHI-6E" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/lanit/blog/421401/&amp;xid=17259,1500008,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhi-ewAsA1sewgj58cIihKuT2Ab-hA#MJMAIN-32" x="849" y="513"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/lanit/blog/421401/&amp;xid=17259,1500008,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhi-ewAsA1sewgj58cIihKuT2Ab-hA#MJMATHI-4E" x="2207" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/lanit/blog/421401/&amp;xid=17259,1500008,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhi-ewAsA1sewgj58cIihKuT2Ab-hA#MJMAIN-29" x="3095" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>O</mi><mo stretchy="false">(</mo><msup><mi>n</mi><mn>2</mn></msup><mi>N</mi><mo stretchy="false">)</mo></math></span></span><script type="math/tex" id="MathJax-Element-3"> O (n ^ 2N) </script>  , and the distance matrix has a dimension no longer (1 million per 1 million) but, for example, (100 per 100) by the quantity of goods. <br></li><li>  Estimation of the proximity of products is much more accurate than the assessment of the proximity of users.  This is a direct consequence of the fact that there are usually many more users than goods, and therefore the standard error in calculating the correlation of goods there is significantly less.  We just have more information to make a conclusion. <br></li><li>  In the user-based version of the description of users, as a rule, they are very sparse (there are a lot of goods, few evaluations).  On the one hand, this helps to optimize the calculation - we multiply only those elements where there is an intersection.  But on the other hand, how many neighbors do not take; the list of goods that can be recommended in the end is very small. <br></li><li>  User preferences may change over time, but the description of the goods is much more stable. <br></li></ul><br>  The rest of the algorithm almost completely repeats the User-based option: the same cosine distance as the main measure of proximity, the same need for data normalization.  The number of neighboring goods N is usually chosen in the region of 20. <br><br>  Due to the fact that the correlation of products is considered on a larger number of observations, it is not so critical to recalculate it after each new assessment and this can be done periodically in batche mode. <br><br>  Several possible improvements to the algorithm: <br><br><ul><li>  An interesting modification is to consider the ‚Äúsimilarity‚Äù of products not as a typical cosine distance, but comparing their content (content-based similarity).  If at the same time user preferences are not taken into account in any way, such filtering is no longer ‚Äúcollaborative‚Äù.  At the same time, the second part of the algorithm ‚Äî obtaining average estimates ‚Äî does not change at all. </li><li>  Another possible modification is to weigh users when calculating item similarity.  For example, the more the user made assessments, the more weight he had when comparing two products. </li><li>  Instead of simply averaging the estimates for neighboring products, weights can be selected, making linear regression. </li></ul><br>  When using the item-based approach, recommendations tend to be more conservative.  Indeed, the spread of recommendations is less and therefore less likely to show non-standard products. <br><br>  If in the matrix of preferences we use the review of the description of the product as a rating, then the recommended products will most likely be analogues - products that are often viewed together.  If the ratings in the matrix of preferences, we expect on the basis of purchases, then most likely the recommended products will be accessories - products that are often bought together. <br><br><h3>  <font color="#0057b6">System quality assessment</font> </h3><br>  Testing a recommender system is a complicated process and always causing many questions, mainly due to the ambiguity of the very concept of ‚Äúquality‚Äù. <br><br>  In general, in problems of machine learning there are two main approaches to testing: <br><br><ul><li>  offline model testing on historical data using retro tests, </li><li>  testing the finished model using A / B testing (we run several options, see which one gives the best result). </li></ul><br>  Both of these approaches are actively used in the development of recommender systems.  Let's start with offline testing. <br><br>  The main constraint that we have to face is that we can assess the accuracy of the forecast only on those products that the user has already rated. <br><br>  The standard approach is cross-validation with the leave-one-out and leave-p-out methods.  Multiple repetition of the test with averaging results provides a more stable assessment of quality. <br><br><ul><li>  Leave-one-out - the model is trained on all objects evaluated by the user, except one, and is being tested on this one object.  This is done for all n objects, and an average is calculated among the obtained n quality estimates. </li><li>  Leave-p-out is the same, but at each step p points are excluded. </li></ul><br>  All quality metrics can be divided into three categories: <br><br><ul><li>  Prediction Accuracy - estimate the accuracy of the predicted rating, </li><li>  Decision support - assess the relevance of the recommendations, </li><li>  Rank Accuracy Metrics - evaluate the quality of ranking recommendations issued. <br></li></ul><br>  Unfortunately, there is no single recommended metric for all occasions, and everyone who is involved in testing a recommender system selects it to fit its goals. <br><br>  When ratings are rated on a continuous scale (0-10), as a rule, Prediction Accuracy class metrics are sufficient. <br><table><tbody><tr><th>  Title </th><th>  Formula </th><th>  Description </th></tr><tr><td>  MAE (Mean Absolute Error) </td><td><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-4-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>E</mi><mo stretchy=&quot;false&quot;>(</mo><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo stretchy=&quot;false&quot;>|</mo></mrow><mi>P</mi><mo>&amp;#x2212;</mo><mi>R</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo stretchy=&quot;false&quot;>|</mo></mrow><mo stretchy=&quot;false&quot;>)</mo></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="11.228ex" height="2.66ex" viewBox="0 -832 4834.4 1145.2" role="img" focusable="false" style="vertical-align: -0.728ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/lanit/blog/421401/&amp;xid=17259,1500008,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhi-ewAsA1sewgj58cIihKuT2Ab-hA#MJMATHI-45" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/lanit/blog/421401/&amp;xid=17259,1500008,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhi-ewAsA1sewgj58cIihKuT2Ab-hA#MJMAIN-28" x="764" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/lanit/blog/421401/&amp;xid=17259,1500008,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhi-ewAsA1sewgj58cIihKuT2Ab-hA#MJMAIN-7C" x="1154" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/lanit/blog/421401/&amp;xid=17259,1500008,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhi-ewAsA1sewgj58cIihKuT2Ab-hA#MJMATHI-50" x="1432" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/lanit/blog/421401/&amp;xid=17259,1500008,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhi-ewAsA1sewgj58cIihKuT2Ab-hA#MJMAIN-2212" x="2406" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/lanit/blog/421401/&amp;xid=17259,1500008,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhi-ewAsA1sewgj58cIihKuT2Ab-hA#MJMATHI-52" x="3406" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/lanit/blog/421401/&amp;xid=17259,1500008,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhi-ewAsA1sewgj58cIihKuT2Ab-hA#MJMAIN-7C" x="4166" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/lanit/blog/421401/&amp;xid=17259,1500008,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhi-ewAsA1sewgj58cIihKuT2Ab-hA#MJMAIN-29" x="4444" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>E</mi><mo stretchy="false">(</mo><mrow class="MJX-TeXAtom-ORD"><mo stretchy="false">|</mo></mrow><mi>P</mi><mo>‚àí</mo><mi>R</mi><mrow class="MJX-TeXAtom-ORD"><mo stretchy="false">|</mo></mrow><mo stretchy="false">)</mo></math></span></span><script type="math/tex" id="MathJax-Element-4"> E (| P-R |) </script></td><td>  Mean absolute deviation </td></tr><tr><td>  MSE (Mean Squared Error) </td><td><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-5-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>E</mi><mo stretchy=&quot;false&quot;>(</mo><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo stretchy=&quot;false&quot;>|</mo></mrow><mi>P</mi><mo>&amp;#x2212;</mo><mi>R</mi><msup><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo stretchy=&quot;false&quot;>|</mo></mrow><mn>2</mn></msup><mo stretchy=&quot;false&quot;>)</mo></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="12.283ex" height="3.142ex" viewBox="0 -1039.5 5288.4 1352.7" role="img" focusable="false" style="vertical-align: -0.728ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/lanit/blog/421401/&amp;xid=17259,1500008,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhi-ewAsA1sewgj58cIihKuT2Ab-hA#MJMATHI-45" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/lanit/blog/421401/&amp;xid=17259,1500008,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhi-ewAsA1sewgj58cIihKuT2Ab-hA#MJMAIN-28" x="764" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/lanit/blog/421401/&amp;xid=17259,1500008,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhi-ewAsA1sewgj58cIihKuT2Ab-hA#MJMAIN-7C" x="1154" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/lanit/blog/421401/&amp;xid=17259,1500008,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhi-ewAsA1sewgj58cIihKuT2Ab-hA#MJMATHI-50" x="1432" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/lanit/blog/421401/&amp;xid=17259,1500008,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhi-ewAsA1sewgj58cIihKuT2Ab-hA#MJMAIN-2212" x="2406" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/lanit/blog/421401/&amp;xid=17259,1500008,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhi-ewAsA1sewgj58cIihKuT2Ab-hA#MJMATHI-52" x="3406" y="0"></use><g transform="translate(4166,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/lanit/blog/421401/&amp;xid=17259,1500008,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhi-ewAsA1sewgj58cIihKuT2Ab-hA#MJMAIN-7C" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/lanit/blog/421401/&amp;xid=17259,1500008,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhi-ewAsA1sewgj58cIihKuT2Ab-hA#MJMAIN-32" x="393" y="675"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/lanit/blog/421401/&amp;xid=17259,1500008,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhi-ewAsA1sewgj58cIihKuT2Ab-hA#MJMAIN-29" x="4898" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>E</mi><mo stretchy="false">(</mo><mrow class="MJX-TeXAtom-ORD"><mo stretchy="false">|</mo></mrow><mi>P</mi><mo>‚àí</mo><mi>R</mi><msup><mrow class="MJX-TeXAtom-ORD"><mo stretchy="false">|</mo></mrow><mn>2</mn></msup><mo stretchy="false">)</mo></math></span></span><script type="math/tex" id="MathJax-Element-5"> E (| P-R | ^ 2) </script></td><td>  RMS error </td></tr><tr><td>  RMSE (Root Mean Squared Error) </td><td><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-6-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mtext>&amp;#xA0;</mtext><mi>s</mi><mi>q</mi><mi>r</mi><mi>t</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>E</mi><mo stretchy=&quot;false&quot;>(</mo><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo stretchy=&quot;false&quot;>|</mo></mrow><mi>P</mi><mo>&amp;#x2212;</mo><mi>R</mi><msup><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo stretchy=&quot;false&quot;>|</mo></mrow><mn>2</mn></msup><mo stretchy=&quot;false&quot;>)</mo></mrow></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="16.912ex" height="3.142ex" viewBox="0 -1039.5 7281.4 1352.7" role="img" focusable="false" style="vertical-align: -0.728ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/lanit/blog/421401/&amp;xid=17259,1500008,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhi-ewAsA1sewgj58cIihKuT2Ab-hA#MJMATHI-73" x="250" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/lanit/blog/421401/&amp;xid=17259,1500008,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhi-ewAsA1sewgj58cIihKuT2Ab-hA#MJMATHI-71" x="719" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/lanit/blog/421401/&amp;xid=17259,1500008,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhi-ewAsA1sewgj58cIihKuT2Ab-hA#MJMATHI-72" x="1180" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/lanit/blog/421401/&amp;xid=17259,1500008,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhi-ewAsA1sewgj58cIihKuT2Ab-hA#MJMATHI-74" x="1631" y="0"></use><g transform="translate(1993,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/lanit/blog/421401/&amp;xid=17259,1500008,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhi-ewAsA1sewgj58cIihKuT2Ab-hA#MJMATHI-45" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/lanit/blog/421401/&amp;xid=17259,1500008,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhi-ewAsA1sewgj58cIihKuT2Ab-hA#MJMAIN-28" x="764" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/lanit/blog/421401/&amp;xid=17259,1500008,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhi-ewAsA1sewgj58cIihKuT2Ab-hA#MJMAIN-7C" x="1154" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/lanit/blog/421401/&amp;xid=17259,1500008,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhi-ewAsA1sewgj58cIihKuT2Ab-hA#MJMATHI-50" x="1432" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/lanit/blog/421401/&amp;xid=17259,1500008,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhi-ewAsA1sewgj58cIihKuT2Ab-hA#MJMAIN-2212" x="2406" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/lanit/blog/421401/&amp;xid=17259,1500008,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhi-ewAsA1sewgj58cIihKuT2Ab-hA#MJMATHI-52" x="3406" y="0"></use><g transform="translate(4166,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/lanit/blog/421401/&amp;xid=17259,1500008,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhi-ewAsA1sewgj58cIihKuT2Ab-hA#MJMAIN-7C" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/lanit/blog/421401/&amp;xid=17259,1500008,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhi-ewAsA1sewgj58cIihKuT2Ab-hA#MJMAIN-32" x="393" y="675"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/lanit/blog/421401/&amp;xid=17259,1500008,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhi-ewAsA1sewgj58cIihKuT2Ab-hA#MJMAIN-29" x="4898" y="0"></use></g></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mtext>&nbsp;</mtext><mi>s</mi><mi>q</mi><mi>r</mi><mi>t</mi><mrow class="MJX-TeXAtom-ORD"><mi>E</mi><mo stretchy="false">(</mo><mrow class="MJX-TeXAtom-ORD"><mo stretchy="false">|</mo></mrow><mi>P</mi><mo>‚àí</mo><mi>R</mi><msup><mrow class="MJX-TeXAtom-ORD"><mo stretchy="false">|</mo></mrow><mn>2</mn></msup><mo stretchy="false">)</mo></mrow></math></span></span><script type="math/tex" id="MathJax-Element-6"> \ sqrt {E (| P-R | ^ 2)} </script></td><td>  Root mean square error </td></tr></tbody></table>  Decision Support class metrics work with binary data (0 and 1, yes and no).  If, in our problem, the ratings are initially set aside on a continuous scale, they can be converted to a binary format using the decision rule - say, if the score is less than 3.5, we consider the score to be ‚Äúbad‚Äù, and if more, then ‚Äúgood‚Äù. <br><table><tbody><tr><th>  Title </th><th>  Formula </th><th>  Description </th></tr><tr><td>  Precision </td><td><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-7-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mtext>&amp;#xA0;</mtext><mi>f</mi><mi>r</mi><mi>a</mi><mi>c</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>T</mi><mi>P</mi></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>T</mi><mi>P</mi><mo>+</mo><mi>F</mi><mi>P</mi></mrow></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="18.235ex" height="2.419ex" viewBox="0 -780.1 7850.9 1041.5" role="img" focusable="false" style="vertical-align: -0.607ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/lanit/blog/421401/&amp;xid=17259,1500008,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhi-ewAsA1sewgj58cIihKuT2Ab-hA#MJMATHI-66" x="250" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/lanit/blog/421401/&amp;xid=17259,1500008,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhi-ewAsA1sewgj58cIihKuT2Ab-hA#MJMATHI-72" x="800" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/lanit/blog/421401/&amp;xid=17259,1500008,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhi-ewAsA1sewgj58cIihKuT2Ab-hA#MJMATHI-61" x="1252" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/lanit/blog/421401/&amp;xid=17259,1500008,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhi-ewAsA1sewgj58cIihKuT2Ab-hA#MJMATHI-63" x="1781" y="0"></use><g transform="translate(2215,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/lanit/blog/421401/&amp;xid=17259,1500008,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhi-ewAsA1sewgj58cIihKuT2Ab-hA#MJMATHI-54" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/lanit/blog/421401/&amp;xid=17259,1500008,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhi-ewAsA1sewgj58cIihKuT2Ab-hA#MJMATHI-50" x="704" y="0"></use></g><g transform="translate(3671,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/lanit/blog/421401/&amp;xid=17259,1500008,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhi-ewAsA1sewgj58cIihKuT2Ab-hA#MJMATHI-54" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/lanit/blog/421401/&amp;xid=17259,1500008,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhi-ewAsA1sewgj58cIihKuT2Ab-hA#MJMATHI-50" x="704" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/lanit/blog/421401/&amp;xid=17259,1500008,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhi-ewAsA1sewgj58cIihKuT2Ab-hA#MJMAIN-2B" x="1678" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/lanit/blog/421401/&amp;xid=17259,1500008,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhi-ewAsA1sewgj58cIihKuT2Ab-hA#MJMATHI-46" x="2678" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/lanit/blog/421401/&amp;xid=17259,1500008,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhi-ewAsA1sewgj58cIihKuT2Ab-hA#MJMATHI-50" x="3428" y="0"></use></g></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mtext>&nbsp;</mtext><mi>f</mi><mi>r</mi><mi>a</mi><mi>c</mi><mrow class="MJX-TeXAtom-ORD"><mi>T</mi><mi>P</mi></mrow><mrow class="MJX-TeXAtom-ORD"><mi>T</mi><mi>P</mi><mo>+</mo><mi>F</mi><mi>P</mi></mrow></math></span></span><script type="math/tex" id="MathJax-Element-7"> \ frac {TP} {TP + FP} </script></td><td>  Share of recommendations liked by user </td></tr><tr><td>  Recall </td><td><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-8-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mtext>&amp;#xA0;</mtext><mi>f</mi><mi>r</mi><mi>a</mi><mi>c</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>T</mi><mi>P</mi></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>T</mi><mi>P</mi><mo>+</mo><mi>T</mi><mi>N</mi></mrow></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="18.448ex" height="2.419ex" viewBox="0 -780.1 7942.9 1041.5" role="img" focusable="false" style="vertical-align: -0.607ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/lanit/blog/421401/&amp;xid=17259,1500008,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhi-ewAsA1sewgj58cIihKuT2Ab-hA#MJMATHI-66" x="250" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/lanit/blog/421401/&amp;xid=17259,1500008,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhi-ewAsA1sewgj58cIihKuT2Ab-hA#MJMATHI-72" x="800" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/lanit/blog/421401/&amp;xid=17259,1500008,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhi-ewAsA1sewgj58cIihKuT2Ab-hA#MJMATHI-61" x="1252" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/lanit/blog/421401/&amp;xid=17259,1500008,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhi-ewAsA1sewgj58cIihKuT2Ab-hA#MJMATHI-63" x="1781" y="0"></use><g transform="translate(2215,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/lanit/blog/421401/&amp;xid=17259,1500008,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhi-ewAsA1sewgj58cIihKuT2Ab-hA#MJMATHI-54" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/lanit/blog/421401/&amp;xid=17259,1500008,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhi-ewAsA1sewgj58cIihKuT2Ab-hA#MJMATHI-50" x="704" y="0"></use></g><g transform="translate(3671,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/lanit/blog/421401/&amp;xid=17259,1500008,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhi-ewAsA1sewgj58cIihKuT2Ab-hA#MJMATHI-54" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/lanit/blog/421401/&amp;xid=17259,1500008,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhi-ewAsA1sewgj58cIihKuT2Ab-hA#MJMATHI-50" x="704" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/lanit/blog/421401/&amp;xid=17259,1500008,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhi-ewAsA1sewgj58cIihKuT2Ab-hA#MJMAIN-2B" x="1678" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/lanit/blog/421401/&amp;xid=17259,1500008,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhi-ewAsA1sewgj58cIihKuT2Ab-hA#MJMATHI-54" x="2678" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/lanit/blog/421401/&amp;xid=17259,1500008,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhi-ewAsA1sewgj58cIihKuT2Ab-hA#MJMATHI-4E" x="3383" y="0"></use></g></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mtext>&nbsp;</mtext><mi>f</mi><mi>r</mi><mi>a</mi><mi>c</mi><mrow class="MJX-TeXAtom-ORD"><mi>T</mi><mi>P</mi></mrow><mrow class="MJX-TeXAtom-ORD"><mi>T</mi><mi>P</mi><mo>+</mo><mi>T</mi><mi>N</mi></mrow></math></span></span><script type="math/tex" id="MathJax-Element-8"> \ frac {TP} {TP + TN} </script></td><td>  Share of products interesting to the user </td></tr><tr><td>  F1-Measure </td><td><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-9-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mtext>&amp;#xA0;</mtext><mi>f</mi><mi>r</mi><mi>a</mi><mi>c</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mn>2</mn><mi>P</mi><mi>R</mi></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>P</mi><mo>+</mo><mi>R</mi></mrow></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="16.166ex" height="2.419ex" viewBox="0 -780.1 6960.4 1041.5" role="img" focusable="false" style="vertical-align: -0.607ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/lanit/blog/421401/&amp;xid=17259,1500008,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhi-ewAsA1sewgj58cIihKuT2Ab-hA#MJMATHI-66" x="250" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/lanit/blog/421401/&amp;xid=17259,1500008,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhi-ewAsA1sewgj58cIihKuT2Ab-hA#MJMATHI-72" x="800" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/lanit/blog/421401/&amp;xid=17259,1500008,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhi-ewAsA1sewgj58cIihKuT2Ab-hA#MJMATHI-61" x="1252" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/lanit/blog/421401/&amp;xid=17259,1500008,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhi-ewAsA1sewgj58cIihKuT2Ab-hA#MJMATHI-63" x="1781" y="0"></use><g transform="translate(2215,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/lanit/blog/421401/&amp;xid=17259,1500008,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhi-ewAsA1sewgj58cIihKuT2Ab-hA#MJMAIN-32" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/lanit/blog/421401/&amp;xid=17259,1500008,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhi-ewAsA1sewgj58cIihKuT2Ab-hA#MJMATHI-50" x="500" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/lanit/blog/421401/&amp;xid=17259,1500008,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhi-ewAsA1sewgj58cIihKuT2Ab-hA#MJMATHI-52" x="1252" y="0"></use></g><g transform="translate(4226,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/lanit/blog/421401/&amp;xid=17259,1500008,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhi-ewAsA1sewgj58cIihKuT2Ab-hA#MJMATHI-50" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/lanit/blog/421401/&amp;xid=17259,1500008,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhi-ewAsA1sewgj58cIihKuT2Ab-hA#MJMAIN-2B" x="973" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/lanit/blog/421401/&amp;xid=17259,1500008,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhi-ewAsA1sewgj58cIihKuT2Ab-hA#MJMATHI-52" x="1974" y="0"></use></g></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mtext>&nbsp;</mtext><mi>f</mi><mi>r</mi><mi>a</mi><mi>c</mi><mrow class="MJX-TeXAtom-ORD"><mn>2</mn><mi>P</mi><mi>R</mi></mrow><mrow class="MJX-TeXAtom-ORD"><mi>P</mi><mo>+</mo><mi>R</mi></mrow></math></span></span><script type="math/tex" id="MathJax-Element-9"> \ frac {2PR} {P + R} </script></td><td>  Mean harmonic metrics from Precision and Recall. <br>  It is useful when it is impossible to say in advance which of the metrics is more important. </td></tr><tr><td>  ROC AUC </td><td></td><td>  How high is the concentration of interesting products at the beginning of the list of recommendations </td></tr><tr><td>  Precision @ N </td><td></td><td>  Precision metric counted on Top-N records </td></tr><tr><td>  Recall @ N </td><td></td><td>  Recall metric counted on Top-N records </td></tr><tr><td>  Averagep </td><td></td><td>  The average value of precision on the entire list of recommendations </td></tr></tbody></table>  As a rule, recommendations are derived from a list of several positions (first, top, then in descending order of priority).  Rank Accuracy class metrics measure how correct the order of recommendations in a sorted list is. <br><table><tbody><tr><th>  Title </th><th>  Formula </th><th>  Description </th></tr><tr><td>  Mean Reciprocal Rank </td><td><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-10-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>E</mi><mo stretchy=&quot;false&quot;>(</mo><mtext>&amp;#xA0;</mtext><mi>f</mi><mi>r</mi><mi>a</mi><mi>c</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mn>1</mn></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>p</mi><mi>o</mi><mi>s</mi></mrow><mo stretchy=&quot;false&quot;>)</mo></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="13.279ex" height="2.66ex" viewBox="0 -832 5717.5 1145.2" role="img" focusable="false" style="vertical-align: -0.728ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/lanit/blog/421401/&amp;xid=17259,1500008,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhi-ewAsA1sewgj58cIihKuT2Ab-hA#MJMATHI-45" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/lanit/blog/421401/&amp;xid=17259,1500008,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhi-ewAsA1sewgj58cIihKuT2Ab-hA#MJMAIN-28" x="764" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/lanit/blog/421401/&amp;xid=17259,1500008,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhi-ewAsA1sewgj58cIihKuT2Ab-hA#MJMATHI-66" x="1404" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/lanit/blog/421401/&amp;xid=17259,1500008,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhi-ewAsA1sewgj58cIihKuT2Ab-hA#MJMATHI-72" x="1954" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/lanit/blog/421401/&amp;xid=17259,1500008,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhi-ewAsA1sewgj58cIihKuT2Ab-hA#MJMATHI-61" x="2406" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/lanit/blog/421401/&amp;xid=17259,1500008,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhi-ewAsA1sewgj58cIihKuT2Ab-hA#MJMATHI-63" x="2935" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/lanit/blog/421401/&amp;xid=17259,1500008,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhi-ewAsA1sewgj58cIihKuT2Ab-hA#MJMAIN-31" x="3369" y="0"></use><g transform="translate(3869,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/lanit/blog/421401/&amp;xid=17259,1500008,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhi-ewAsA1sewgj58cIihKuT2Ab-hA#MJMATHI-70" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/lanit/blog/421401/&amp;xid=17259,1500008,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhi-ewAsA1sewgj58cIihKuT2Ab-hA#MJMATHI-6F" x="503" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/lanit/blog/421401/&amp;xid=17259,1500008,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhi-ewAsA1sewgj58cIihKuT2Ab-hA#MJMATHI-73" x="989" y="0"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/lanit/blog/421401/&amp;xid=17259,1500008,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhi-ewAsA1sewgj58cIihKuT2Ab-hA#MJMAIN-29" x="5328" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>E</mi><mo stretchy="false">(</mo><mtext>&nbsp;</mtext><mi>f</mi><mi>r</mi><mi>a</mi><mi>c</mi><mrow class="MJX-TeXAtom-ORD"><mn>1</mn></mrow><mrow class="MJX-TeXAtom-ORD"><mi>p</mi><mi>o</mi><mi>s</mi></mrow><mo stretchy="false">)</mo></math></span></span><script type="math/tex" id="MathJax-Element-10"> E (\ frac {1} {pos}) </script></td><td>  At what position of the list of recommendations does the user find the first one useful </td></tr><tr><td> Spearman correlation </td><td><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-11-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>E</mi><mo stretchy=&quot;false&quot;>(</mo><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo stretchy=&quot;false&quot;>|</mo></mrow><mi>P</mi><mo>&amp;#x2212;</mo><mi>R</mi><msup><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo stretchy=&quot;false&quot;>|</mo></mrow><mn>2</mn></msup><mo stretchy=&quot;false&quot;>)</mo></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="12.283ex" height="3.142ex" viewBox="0 -1039.5 5288.4 1352.7" role="img" focusable="false" style="vertical-align: -0.728ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/lanit/blog/421401/&amp;xid=17259,1500008,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhi-ewAsA1sewgj58cIihKuT2Ab-hA#MJMATHI-45" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/lanit/blog/421401/&amp;xid=17259,1500008,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhi-ewAsA1sewgj58cIihKuT2Ab-hA#MJMAIN-28" x="764" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/lanit/blog/421401/&amp;xid=17259,1500008,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhi-ewAsA1sewgj58cIihKuT2Ab-hA#MJMAIN-7C" x="1154" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/lanit/blog/421401/&amp;xid=17259,1500008,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhi-ewAsA1sewgj58cIihKuT2Ab-hA#MJMATHI-50" x="1432" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/lanit/blog/421401/&amp;xid=17259,1500008,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhi-ewAsA1sewgj58cIihKuT2Ab-hA#MJMAIN-2212" x="2406" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/lanit/blog/421401/&amp;xid=17259,1500008,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhi-ewAsA1sewgj58cIihKuT2Ab-hA#MJMATHI-52" x="3406" y="0"></use><g transform="translate(4166,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/lanit/blog/421401/&amp;xid=17259,1500008,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhi-ewAsA1sewgj58cIihKuT2Ab-hA#MJMAIN-7C" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/lanit/blog/421401/&amp;xid=17259,1500008,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhi-ewAsA1sewgj58cIihKuT2Ab-hA#MJMAIN-32" x="393" y="675"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/lanit/blog/421401/&amp;xid=17259,1500008,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhi-ewAsA1sewgj58cIihKuT2Ab-hA#MJMAIN-29" x="4898" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>E</mi><mo stretchy="false">(</mo><mrow class="MJX-TeXAtom-ORD"><mo stretchy="false">|</mo></mrow><mi>P</mi><mo>‚àí</mo><mi>R</mi><msup><mrow class="MJX-TeXAtom-ORD"><mo stretchy="false">|</mo></mrow><mn>2</mn></msup><mo stretchy="false">)</mo></math></span></span><script type="math/tex" id="MathJax-Element-11"> E (| P-R | ^ 2) </script></td><td>  Correlation (Spearman) of real and predictable ranks of recommendations </td></tr><tr><td>  nDCG </td><td><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-12-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mtext>&amp;#xA0;</mtext><mi>s</mi><mi>u</mi><mi>m</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mtext>&amp;#xA0;</mtext><mi>f</mi><mi>r</mi><mi>a</mi><mi>c</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>R</mi><mo stretchy=&quot;false&quot;>(</mo><mi>i</mi><mo stretchy=&quot;false&quot;>)</mo></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>m</mi><mi>a</mi><mi>x</mi><mo stretchy=&quot;false&quot;>(</mo><mn>1</mn><mo>,</mo><mi>l</mi><mi>o</mi><mi>g</mi><mo stretchy=&quot;false&quot;>(</mo><mi>i</mi><mo stretchy=&quot;false&quot;>)</mo><mo stretchy=&quot;false&quot;>)</mo></mrow></mrow></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="28.716ex" height="2.66ex" viewBox="0 -832 12363.7 1145.2" role="img" focusable="false" style="vertical-align: -0.728ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/lanit/blog/421401/&amp;xid=17259,1500008,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhi-ewAsA1sewgj58cIihKuT2Ab-hA#MJMATHI-73" x="250" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/lanit/blog/421401/&amp;xid=17259,1500008,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhi-ewAsA1sewgj58cIihKuT2Ab-hA#MJMATHI-75" x="719" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/lanit/blog/421401/&amp;xid=17259,1500008,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhi-ewAsA1sewgj58cIihKuT2Ab-hA#MJMATHI-6D" x="1292" y="0"></use><g transform="translate(2170,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/lanit/blog/421401/&amp;xid=17259,1500008,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhi-ewAsA1sewgj58cIihKuT2Ab-hA#MJMATHI-66" x="250" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/lanit/blog/421401/&amp;xid=17259,1500008,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhi-ewAsA1sewgj58cIihKuT2Ab-hA#MJMATHI-72" x="800" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/lanit/blog/421401/&amp;xid=17259,1500008,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhi-ewAsA1sewgj58cIihKuT2Ab-hA#MJMATHI-61" x="1252" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/lanit/blog/421401/&amp;xid=17259,1500008,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhi-ewAsA1sewgj58cIihKuT2Ab-hA#MJMATHI-63" x="1781" y="0"></use><g transform="translate(2215,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/lanit/blog/421401/&amp;xid=17259,1500008,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhi-ewAsA1sewgj58cIihKuT2Ab-hA#MJMATHI-52" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/lanit/blog/421401/&amp;xid=17259,1500008,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhi-ewAsA1sewgj58cIihKuT2Ab-hA#MJMAIN-28" x="759" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/lanit/blog/421401/&amp;xid=17259,1500008,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhi-ewAsA1sewgj58cIihKuT2Ab-hA#MJMATHI-69" x="1149" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/lanit/blog/421401/&amp;xid=17259,1500008,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhi-ewAsA1sewgj58cIihKuT2Ab-hA#MJMAIN-29" x="1494" y="0"></use></g><g transform="translate(4099,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/lanit/blog/421401/&amp;xid=17259,1500008,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhi-ewAsA1sewgj58cIihKuT2Ab-hA#MJMATHI-6D" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/lanit/blog/421401/&amp;xid=17259,1500008,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhi-ewAsA1sewgj58cIihKuT2Ab-hA#MJMATHI-61" x="878" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/lanit/blog/421401/&amp;xid=17259,1500008,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhi-ewAsA1sewgj58cIihKuT2Ab-hA#MJMATHI-78" x="1408" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/lanit/blog/421401/&amp;xid=17259,1500008,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhi-ewAsA1sewgj58cIihKuT2Ab-hA#MJMAIN-28" x="1980" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/lanit/blog/421401/&amp;xid=17259,1500008,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhi-ewAsA1sewgj58cIihKuT2Ab-hA#MJMAIN-31" x="2370" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/lanit/blog/421401/&amp;xid=17259,1500008,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhi-ewAsA1sewgj58cIihKuT2Ab-hA#MJMAIN-2C" x="2870" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/lanit/blog/421401/&amp;xid=17259,1500008,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhi-ewAsA1sewgj58cIihKuT2Ab-hA#MJMATHI-6C" x="3315" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/lanit/blog/421401/&amp;xid=17259,1500008,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhi-ewAsA1sewgj58cIihKuT2Ab-hA#MJMATHI-6F" x="3614" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/lanit/blog/421401/&amp;xid=17259,1500008,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhi-ewAsA1sewgj58cIihKuT2Ab-hA#MJMATHI-67" x="4099" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/lanit/blog/421401/&amp;xid=17259,1500008,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhi-ewAsA1sewgj58cIihKuT2Ab-hA#MJMAIN-28" x="4580" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/lanit/blog/421401/&amp;xid=17259,1500008,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhi-ewAsA1sewgj58cIihKuT2Ab-hA#MJMATHI-69" x="4969" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/lanit/blog/421401/&amp;xid=17259,1500008,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhi-ewAsA1sewgj58cIihKuT2Ab-hA#MJMAIN-29" x="5315" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/lanit/blog/421401/&amp;xid=17259,1500008,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhi-ewAsA1sewgj58cIihKuT2Ab-hA#MJMAIN-29" x="5704" y="0"></use></g></g></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mtext>&nbsp;</mtext><mi>s</mi><mi>u</mi><mi>m</mi><mrow class="MJX-TeXAtom-ORD"><mtext>&nbsp;</mtext><mi>f</mi><mi>r</mi><mi>a</mi><mi>c</mi><mrow class="MJX-TeXAtom-ORD"><mi>R</mi><mo stretchy="false">(</mo><mi>i</mi><mo stretchy="false">)</mo></mrow><mrow class="MJX-TeXAtom-ORD"><mi>m</mi><mi>a</mi><mi>x</mi><mo stretchy="false">(</mo><mn>1</mn><mo>,</mo><mi>l</mi><mi>o</mi><mi>g</mi><mo stretchy="false">(</mo><mi>i</mi><mo stretchy="false">)</mo><mo stretchy="false">)</mo></mrow></mrow></math></span></span><script type="math/tex" id="MathJax-Element-12"> \ sum {\ frac {R (i)} {max (1, log (i))}} </script></td><td>  Informativeness of the issue, taking into account the ranking recommendations </td></tr><tr><td>  Fraction of Concordance Pairs </td><td><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-13-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>P</mi><mo stretchy=&quot;false&quot;>(</mo><msub><mi>X</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>R</mi></mrow></msub><mo>&amp;gt;</mo><msub><mi>X</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>P</mi></mrow></msub><mo stretchy=&quot;false&quot;>)</mo></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="13.448ex" height="2.66ex" viewBox="0 -832 5790 1145.2" role="img" focusable="false" style="vertical-align: -0.728ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/lanit/blog/421401/&amp;xid=17259,1500008,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhi-ewAsA1sewgj58cIihKuT2Ab-hA#MJMATHI-50" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/lanit/blog/421401/&amp;xid=17259,1500008,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhi-ewAsA1sewgj58cIihKuT2Ab-hA#MJMAIN-28" x="751" y="0"></use><g transform="translate(1141,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/lanit/blog/421401/&amp;xid=17259,1500008,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhi-ewAsA1sewgj58cIihKuT2Ab-hA#MJMATHI-58" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/lanit/blog/421401/&amp;xid=17259,1500008,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhi-ewAsA1sewgj58cIihKuT2Ab-hA#MJMATHI-52" x="1171" y="-213"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/lanit/blog/421401/&amp;xid=17259,1500008,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhi-ewAsA1sewgj58cIihKuT2Ab-hA#MJMAIN-3E" x="2884" y="0"></use><g transform="translate(3940,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/lanit/blog/421401/&amp;xid=17259,1500008,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhi-ewAsA1sewgj58cIihKuT2Ab-hA#MJMATHI-58" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/lanit/blog/421401/&amp;xid=17259,1500008,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhi-ewAsA1sewgj58cIihKuT2Ab-hA#MJMATHI-50" x="1171" y="-213"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/lanit/blog/421401/&amp;xid=17259,1500008,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhi-ewAsA1sewgj58cIihKuT2Ab-hA#MJMAIN-29" x="5400" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>P</mi><mo stretchy="false">(</mo><msub><mi>X</mi><mrow class="MJX-TeXAtom-ORD"><mi>R</mi></mrow></msub><mo>&gt;</mo><msub><mi>X</mi><mrow class="MJX-TeXAtom-ORD"><mi>P</mi></mrow></msub><mo stretchy="false">)</mo></math></span></span><script type="math/tex" id="MathJax-Element-13"> P (X_ {R}> X_ {P}) </script></td><td>  How high is the concentration of interesting products at the beginning of the list of recommendations </td></tr></tbody></table>  If we take recommender systems in online business, then they, as a rule, pursue two (sometimes contradictory) goals: <br><br><ol><li>  inform the user about an interesting product, </li><li>  induce him to make a purchase (by mailing, making a personal offer, etc.). </li></ol><br>  As in any model aimed at motivating the user to action, only incremental increment of the target action should be evaluated.  Ie, for example, when calculating purchases on the recommendation, we need to exclude those that the user himself would have done without our model.  If this is not done, the effect of the introduction of the model will be greatly overestimated. <br><br>  Lift is an indicator of how many times the accuracy of a model exceeds a certain baseline algorithm.  In our case, the baseline algorithm may simply be the lack of recommendations.  This metric well captures the proportion of incremental purchases and this allows you to effectively compare different models. <br><br><h3>  <font color="#0057b6">Testing with the user</font> </h3><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/3ed/39d/358/3ed39d358805b3aad4bffe30ea463da2.jpg"></div>  <a href="">A source</a> <br><br>  User behavior is a poorly formalized thing and no metric will fully describe the thought processes in his head when choosing a product.  Many factors influence the decision.  Follow the link with the recommended product is not yet its high score or even interest.  Partially understand the logic of the client helps online testing.  Below are a couple of scenarios for such testing. <br><br>  The first and most obvious scenario is the analysis of site events.  We look at what the user does on the site, whether he pays attention to our recommendations, whether he follows them, which features of the system are in demand, which are not, which products are better recommended, and which are worse.  To understand which of the algorithms as a whole works better or just try a new promising idea, we do A / B testing and collect the result. <br><br>  The second scenario is receiving feedback from users in the form of polls and polls.  As a rule, these are general questions for understanding how customers use the service ‚Äî which is more important: relevance or diversity, is it possible to show duplicate products, or is it too annoying.  The advantage of the script is that it gives a direct answer to all these questions. <br><br>  Such testing is difficult, but for large reference services it is simply necessary.  Questions may be more complex, for example, ‚Äúwhich of the lists seems more relevant to you,‚Äù ‚Äúhow much the sheet looks solid,‚Äù ‚Äúwhether you will watch this film / read a book‚Äù. <br><br><h3>  <font color="#0057b6">Implicit ratings and unary data</font> </h3><br>  At the beginning of its development, recommender systems were used in services where the user clearly evaluates the product by rating him ‚Äî this is Amazon, Netflix, and other Internet commerce sites.  However, with the growing popularity of recommender systems, the need has arisen to apply them even where there are no ratings - these can be banks, car repair shops, shawarma stalls, and any other services where for some reason it is impossible to establish an assessment system.  In these cases, the user's interests can be calculated only by indirect signs - certain actions with the product, for example, viewing the description on the site, adding the product to the basket, etc., tell about user preferences.  It uses the principle of "bought - it means love!".  Such an implicit rating system is called Implicit Ratings. <br><br>  Implicit ratings obviously work worse than explicit ones, since they make an order of magnitude more noise.  After all, the user could buy goods as a gift to his wife or go to a page with a description of the goods, only to leave a comment there in the style of ‚Äúwhat is it all the same disgusting‚Äù or satisfy his natural curiosity. <br><br>  If, in the case of explicit ratings, we have the right to expect that at least one negative assessment no-no and even put, then we will not take a negative assessment from nowhere.  If the user did not buy the book Fifty Shades of Gray, he could do it for two reasons: <br><br><ul><li>  she is really not interested in him (this is a negative case), <br></li><li>  She is interested in him, but he just does not know about her (this is a missed positive case). <br></li></ul><br>  But we have no data to distinguish the first case from the second.  This is bad, because when teaching a model, we have to back it up on positive cases and fine it on negative ones, and we will almost always fine it, and as a result, the model will be biased. <br><br>  The second case is an opportunity to leave only positive marks.  A vivid example is the Like button in social networks.  The rating here is set down explicitly, but just like in the previous example, we do not have negative examples - we know which channels the user likes, but we don‚Äôt know which ones do not like. <br><br>  In both examples, the task becomes a <a href="https://en.wikipedia.org/wiki/One-class_classification">Unary Class Classification</a> task. <br><br>  The most obvious solution is to follow a simple path and consider the absence of an assessment to be a negative assessment.  In some cases this is more justified, in some less so.  For example, if we know that the user has most likely seen the product (for example, we showed it to him in the list of products, and he switched to the product that goes after him), then the lack of a transition can really indicate a lack of interest. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/_9/ko/4r/_9ko4r9kinlai0dlsohqumxh13k.jpeg"></div>  <a href="">A source</a> <br><br><h3>  <font color="#0057b6">Algorithms of factorization</font> </h3><br>  It would be great to describe the interests of the user with more ‚Äúlarge strokes‚Äù.  Not in the format of "he loves films X, Y and Z", but in the format of "he loves modern Russian comedies."  Apart from the fact that this will increase the generalizability of the model, it will also solve the problem of large dimensionality of the data - after all, interests will not be described by a vector of goods, but by a significantly smaller vector of preferences. <br><br>  Such approaches are also called spectral decomposition or high-frequency filtering (because we remove the noise and leave the useful signal).  In algebra there are many different decompositions of matrices, and one of the most commonly used is called SVD decomposition (singular value decomposition). <br><br>  The SVD method was used in the late 80s to select pages that were similar in meaning, but not in content, and then began to be used in recommendations.  The method is based on the decomposition of the initial rating matrix ¬Æ into a product of 3 matrices: <br><br><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-14-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>R</mi><mo>=</mo><mi>U</mi><mo>&amp;#x2217;</mo><mi>D</mi><mo>&amp;#x2217;</mo><mi>S</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="14.458ex" height="2.057ex" viewBox="0 -780.1 6224.9 885.9" role="img" focusable="false" style="vertical-align: -0.246ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/lanit/blog/421401/&amp;xid=17259,1500008,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhi-ewAsA1sewgj58cIihKuT2Ab-hA#MJMATHI-52" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/lanit/blog/421401/&amp;xid=17259,1500008,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhi-ewAsA1sewgj58cIihKuT2Ab-hA#MJMAIN-3D" x="1037" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/lanit/blog/421401/&amp;xid=17259,1500008,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhi-ewAsA1sewgj58cIihKuT2Ab-hA#MJMATHI-55" x="2093" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/lanit/blog/421401/&amp;xid=17259,1500008,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhi-ewAsA1sewgj58cIihKuT2Ab-hA#MJMAIN-2217" x="3083" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/lanit/blog/421401/&amp;xid=17259,1500008,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhi-ewAsA1sewgj58cIihKuT2Ab-hA#MJMATHI-44" x="3806" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/lanit/blog/421401/&amp;xid=17259,1500008,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhi-ewAsA1sewgj58cIihKuT2Ab-hA#MJMAIN-2217" x="4856" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/lanit/blog/421401/&amp;xid=17259,1500008,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhi-ewAsA1sewgj58cIihKuT2Ab-hA#MJMATHI-53" x="5579" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>R</mi><mo>=</mo><mi>U</mi><mo>‚àó</mo><mi>D</mi><mo>‚àó</mo><mi>S</mi></math></span></span><script type="math/tex" id="MathJax-Element-14"> R = U * D * S </script>  where matrix sizes <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-15-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mo stretchy=&quot;false&quot;>(</mo><mi>k</mi><mo>,</mo><mi>m</mi><mo stretchy=&quot;false&quot;>)</mo><mo>=</mo><mo stretchy=&quot;false&quot;>(</mo><mi>k</mi><mo>,</mo><mi>r</mi><mo stretchy=&quot;false&quot;>)</mo><mo>&amp;#x2217;</mo><mo stretchy=&quot;false&quot;>(</mo><mi>r</mi><mo>,</mo><mi>r</mi><mo stretchy=&quot;false&quot;>)</mo><mo>&amp;#x2217;</mo><mo stretchy=&quot;false&quot;>(</mo><mi>r</mi><mo>,</mo><mi>m</mi><mo stretchy=&quot;false&quot;>)</mo></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="29.559ex" height="2.66ex" viewBox="0 -832 12726.6 1145.2" role="img" focusable="false" style="vertical-align: -0.728ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/lanit/blog/421401/&amp;xid=17259,1500008,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhi-ewAsA1sewgj58cIihKuT2Ab-hA#MJMAIN-28" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/lanit/blog/421401/&amp;xid=17259,1500008,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhi-ewAsA1sewgj58cIihKuT2Ab-hA#MJMATHI-6B" x="389" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/lanit/blog/421401/&amp;xid=17259,1500008,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhi-ewAsA1sewgj58cIihKuT2Ab-hA#MJMAIN-2C" x="911" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/lanit/blog/421401/&amp;xid=17259,1500008,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhi-ewAsA1sewgj58cIihKuT2Ab-hA#MJMATHI-6D" x="1356" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/lanit/blog/421401/&amp;xid=17259,1500008,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhi-ewAsA1sewgj58cIihKuT2Ab-hA#MJMAIN-29" x="2234" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/lanit/blog/421401/&amp;xid=17259,1500008,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhi-ewAsA1sewgj58cIihKuT2Ab-hA#MJMAIN-3D" x="2901" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/lanit/blog/421401/&amp;xid=17259,1500008,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhi-ewAsA1sewgj58cIihKuT2Ab-hA#MJMAIN-28" x="3958" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/lanit/blog/421401/&amp;xid=17259,1500008,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhi-ewAsA1sewgj58cIihKuT2Ab-hA#MJMATHI-6B" x="4347" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/lanit/blog/421401/&amp;xid=17259,1500008,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhi-ewAsA1sewgj58cIihKuT2Ab-hA#MJMAIN-2C" x="4869" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/lanit/blog/421401/&amp;xid=17259,1500008,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhi-ewAsA1sewgj58cIihKuT2Ab-hA#MJMATHI-72" x="5314" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/lanit/blog/421401/&amp;xid=17259,1500008,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhi-ewAsA1sewgj58cIihKuT2Ab-hA#MJMAIN-29" x="5765" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/lanit/blog/421401/&amp;xid=17259,1500008,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhi-ewAsA1sewgj58cIihKuT2Ab-hA#MJMAIN-2217" x="6377" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/lanit/blog/421401/&amp;xid=17259,1500008,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhi-ewAsA1sewgj58cIihKuT2Ab-hA#MJMAIN-28" x="7100" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/lanit/blog/421401/&amp;xid=17259,1500008,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhi-ewAsA1sewgj58cIihKuT2Ab-hA#MJMATHI-72" x="7489" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/lanit/blog/421401/&amp;xid=17259,1500008,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhi-ewAsA1sewgj58cIihKuT2Ab-hA#MJMAIN-2C" x="7941" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/lanit/blog/421401/&amp;xid=17259,1500008,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhi-ewAsA1sewgj58cIihKuT2Ab-hA#MJMATHI-72" x="8386" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/lanit/blog/421401/&amp;xid=17259,1500008,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhi-ewAsA1sewgj58cIihKuT2Ab-hA#MJMAIN-29" x="8838" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/lanit/blog/421401/&amp;xid=17259,1500008,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhi-ewAsA1sewgj58cIihKuT2Ab-hA#MJMAIN-2217" x="9449" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/lanit/blog/421401/&amp;xid=17259,1500008,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhi-ewAsA1sewgj58cIihKuT2Ab-hA#MJMAIN-28" x="10172" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/lanit/blog/421401/&amp;xid=17259,1500008,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhi-ewAsA1sewgj58cIihKuT2Ab-hA#MJMATHI-72" x="10561" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/lanit/blog/421401/&amp;xid=17259,1500008,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhi-ewAsA1sewgj58cIihKuT2Ab-hA#MJMAIN-2C" x="11013" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/lanit/blog/421401/&amp;xid=17259,1500008,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhi-ewAsA1sewgj58cIihKuT2Ab-hA#MJMATHI-6D" x="11458" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/lanit/blog/421401/&amp;xid=17259,1500008,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhi-ewAsA1sewgj58cIihKuT2Ab-hA#MJMAIN-29" x="12337" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo stretchy="false">(</mo><mi>k</mi><mo>,</mo><mi>m</mi><mo stretchy="false">)</mo><mo>=</mo><mo stretchy="false">(</mo><mi>k</mi><mo>,</mo><mi>r</mi><mo stretchy="false">)</mo><mo>‚àó</mo><mo stretchy="false">(</mo><mi>r</mi><mo>,</mo><mi>r</mi><mo stretchy="false">)</mo><mo>‚àó</mo><mo stretchy="false">(</mo><mi>r</mi><mo>,</mo><mi>m</mi><mo stretchy="false">)</mo></math></span></span><script type="math/tex" id="MathJax-Element-15"> (k, m) = (k, r) * (r, r) * (r, m) </script>  , and r - <br>  the rank of the decomposition is a parameter characterizing the degree of detail of the decomposition. <br><br>  Applying this decomposition to our matrix of preferences, we get two matrixes of factors (abbreviated descriptions): <br><br>  U - a compact description of user preferences, <br>  S - a compact description of the characteristics of the product. <br><br>  It is important that with this approach we do not know which particular characteristics correspond to the factors in the reduced descriptions; for us they are encoded with some numbers.  Therefore, SVD is an uninterpreted model. <br><br>  In order to obtain an approximation of the matrix of preferences, it is sufficient to multiply the matrix of factors.  By doing this, we obtain a rating for all customer-product pairs. <br><br>  A common family of such algorithms is called NMF (non-negative matrix factorization).  As a rule, the calculation of such expansions is very laborious, so in practice they often resort to their approximate iterative variants. <br><br>  ALS (alternating least squares) is a popular iterative algorithm for decomposing a matrix of preferences into a product of 2 matrices: user factors (U) and product factors (I).  Works on the principle of minimizing the root-mean-square error on the affixed ratings.  Optimization takes place alternately, first by user factors, then by product factors.  Also, to circumvent retraining, the regularization coefficients are added to the root-mean-square error. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/316/87f/385/31687f3859ed3bd36b9c769dceaaae60.png"></div><br>  If we supplement the matrix of preferences with a new dimension containing information about the user or product, then we will be able to lay out not the matrix of preferences, but the tensor.  Thus, we will use more available information and possibly get a more accurate model. <br><br><h3>  <font color="#0057b6">Other approaches</font> </h3><br>  <b>Association Rules</b> <br><br>  Associative rules are usually used when analyzing product correlations (Market Basket Analysis) and look something like this: ‚Äúif there is milk in a customer‚Äôs check, then in 80% of cases there will be bread‚Äù.  That is, if we see that the client has already put the milk in the basket, it's time to remind you of the bread. <br><br>  This is not the same as the analysis of purchases separated in time, but if we take the whole story as one big basket, we can fully apply this principle here.  This can be justified when we, for example, sell expensive one-off goods (credit, flight). <br><br>  <b>RBM (restricted Bolzman Machines)</b> <br><br>  Limited Boltzmann machines are a relatively old approach based on stochastic recurrent neural networks.  It is a model with latent variables and in this is similar to the SVD decomposition.  It also looks for the most compact description of user preferences, which is encoded using latent variables.  The method was not designed to find recommendations, but it was successfully used in top solutions of the Netflix Prize and is still used in some tasks. <br><br>  <b>Autoencoders (autoencoders)</b> <br><br>  It is based on the same principle of spectral decomposition; therefore, such networks are also called denoising auto-encoders.  The network first collapses the user data known to it into a compact representation, trying to leave only meaningful information, and then restores the data in its original dimension.  The result is a certain noise-averaged pattern, which can be used to estimate interest in any product. <br><br>  <b>DSSM (deep sematic similiarity models)</b> <br><br>  One of the new approaches.  All the same principle, but in the role of latent variables here are internal tensor descriptions of input data (embeddings).  Initially, the model was created to match the request with documents (as well as content-based recommendations), but it is easily transformed into the task of matching users and products. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/4d1/933/702/4d1933702c1fd2030b0fff74560b0c6b.png"></div><br>  The variety of architectures of deep networks is limitless, so Deep Learning provides a really wide field for experiments in the field of recommender systems. <br><br><h3>  <font color="#0057b6">Hybrid solutions</font> </h3><br>  In practice, only one approach is rarely used.  As a rule, several algorithms are combined into one in order to achieve the maximum effect. <br><br>  The two main advantages of combining models are an increase in accuracy and the possibility of more flexible tuning to different groups of clients.  Disadvantages - less interpretability and greater complexity of implementation and support. <br><br>  Multiple merge strategies: <br><br><ul><li>  Weighting - calculate the weighted average forecast by several estimates. <br></li><li>  Stacking - the predictions of individual models are the inputs of another (meta) classifier, which is trained to properly weigh intermediate estimates, <br></li></ul><br><ul><li>  Switching - for different products / users to use different algorithms, <br></li><li>  Mixing - recommendations are calculated for different algorithms, and then simply combined into one list. <br></li></ul><br>  For example, content-based recommender is used, and as one of the features is the result of collaborative filtering. <br><br>  Feature Weighted (Linear) Stacking: <br><br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><div class="MathJax_SVG_Display" style="text-align: center;"><span class="MathJax_SVG" id="MathJax-Element-16-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;><mi>P</mi><mo stretchy=&quot;false&quot;>(</mo><mi>u</mi><mo>,</mo><mi>i</mi><mo stretchy=&quot;false&quot;>)</mo><mo>=</mo><msub><mi>w</mi><mn>1</mn></msub><msub><mi>P</mi><mn>1</mn></msub><mo stretchy=&quot;false&quot;>(</mo><mi>u</mi><mo>,</mo><mi>i</mi><mo stretchy=&quot;false&quot;>)</mo><mo>+</mo><msub><mi>w</mi><mn>2</mn></msub><msub><mi>P</mi><mn>2</mn></msub><mo stretchy=&quot;false&quot;>(</mo><mi>u</mi><mo>,</mo><mi>i</mi><mo stretchy=&quot;false&quot;>)</mo><mo>+</mo><mo>&amp;#x2026;</mo><mo>+</mo><msub><mi>w</mi><mi>n</mi></msub><msub><mi>P</mi><mi>n</mi></msub><mo stretchy=&quot;false&quot;>(</mo><mi>u</mi><mo>,</mo><mi>i</mi><mo stretchy=&quot;false&quot;>)</mo></math>" role="presentation" style="font-size: 100%; display: inline-block; position: relative;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="52.113ex" height="2.66ex" viewBox="0 -832 22437.4 1145.2" role="img" focusable="false" style="vertical-align: -0.728ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/lanit/blog/421401/&amp;xid=17259,1500008,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhi-ewAsA1sewgj58cIihKuT2Ab-hA#MJMATHI-50" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/lanit/blog/421401/&amp;xid=17259,1500008,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhi-ewAsA1sewgj58cIihKuT2Ab-hA#MJMAIN-28" x="751" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/lanit/blog/421401/&amp;xid=17259,1500008,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhi-ewAsA1sewgj58cIihKuT2Ab-hA#MJMATHI-75" x="1141" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/lanit/blog/421401/&amp;xid=17259,1500008,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhi-ewAsA1sewgj58cIihKuT2Ab-hA#MJMAIN-2C" x="1713" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/lanit/blog/421401/&amp;xid=17259,1500008,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhi-ewAsA1sewgj58cIihKuT2Ab-hA#MJMATHI-69" x="2158" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/lanit/blog/421401/&amp;xid=17259,1500008,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhi-ewAsA1sewgj58cIihKuT2Ab-hA#MJMAIN-29" x="2504" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/lanit/blog/421401/&amp;xid=17259,1500008,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhi-ewAsA1sewgj58cIihKuT2Ab-hA#MJMAIN-3D" x="3171" y="0"></use><g transform="translate(4227,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/lanit/blog/421401/&amp;xid=17259,1500008,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhi-ewAsA1sewgj58cIihKuT2Ab-hA#MJMATHI-77" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/lanit/blog/421401/&amp;xid=17259,1500008,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhi-ewAsA1sewgj58cIihKuT2Ab-hA#MJMAIN-31" x="1013" y="-213"></use></g><g transform="translate(5398,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/lanit/blog/421401/&amp;xid=17259,1500008,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhi-ewAsA1sewgj58cIihKuT2Ab-hA#MJMATHI-50" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/lanit/blog/421401/&amp;xid=17259,1500008,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhi-ewAsA1sewgj58cIihKuT2Ab-hA#MJMAIN-31" x="908" y="-213"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/lanit/blog/421401/&amp;xid=17259,1500008,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhi-ewAsA1sewgj58cIihKuT2Ab-hA#MJMAIN-28" x="6494" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/lanit/blog/421401/&amp;xid=17259,1500008,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhi-ewAsA1sewgj58cIihKuT2Ab-hA#MJMATHI-75" x="6884" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/lanit/blog/421401/&amp;xid=17259,1500008,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhi-ewAsA1sewgj58cIihKuT2Ab-hA#MJMAIN-2C" x="7456" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/lanit/blog/421401/&amp;xid=17259,1500008,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhi-ewAsA1sewgj58cIihKuT2Ab-hA#MJMATHI-69" x="7901" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/lanit/blog/421401/&amp;xid=17259,1500008,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhi-ewAsA1sewgj58cIihKuT2Ab-hA#MJMAIN-29" x="8247" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/lanit/blog/421401/&amp;xid=17259,1500008,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhi-ewAsA1sewgj58cIihKuT2Ab-hA#MJMAIN-2B" x="8858" y="0"></use><g transform="translate(9859,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/lanit/blog/421401/&amp;xid=17259,1500008,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhi-ewAsA1sewgj58cIihKuT2Ab-hA#MJMATHI-77" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/lanit/blog/421401/&amp;xid=17259,1500008,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhi-ewAsA1sewgj58cIihKuT2Ab-hA#MJMAIN-32" x="1013" y="-213"></use></g><g transform="translate(11030,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/lanit/blog/421401/&amp;xid=17259,1500008,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhi-ewAsA1sewgj58cIihKuT2Ab-hA#MJMATHI-50" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/lanit/blog/421401/&amp;xid=17259,1500008,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhi-ewAsA1sewgj58cIihKuT2Ab-hA#MJMAIN-32" x="908" y="-213"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/lanit/blog/421401/&amp;xid=17259,1500008,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhi-ewAsA1sewgj58cIihKuT2Ab-hA#MJMAIN-28" x="12126" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/lanit/blog/421401/&amp;xid=17259,1500008,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhi-ewAsA1sewgj58cIihKuT2Ab-hA#MJMATHI-75" x="12515" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/lanit/blog/421401/&amp;xid=17259,1500008,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhi-ewAsA1sewgj58cIihKuT2Ab-hA#MJMAIN-2C" x="13088" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/lanit/blog/421401/&amp;xid=17259,1500008,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhi-ewAsA1sewgj58cIihKuT2Ab-hA#MJMATHI-69" x="13533" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/lanit/blog/421401/&amp;xid=17259,1500008,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhi-ewAsA1sewgj58cIihKuT2Ab-hA#MJMAIN-29" x="13879" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/lanit/blog/421401/&amp;xid=17259,1500008,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhi-ewAsA1sewgj58cIihKuT2Ab-hA#MJMAIN-2B" x="14490" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/lanit/blog/421401/&amp;xid=17259,1500008,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhi-ewAsA1sewgj58cIihKuT2Ab-hA#MJMAIN-2026" x="15491" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/lanit/blog/421401/&amp;xid=17259,1500008,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhi-ewAsA1sewgj58cIihKuT2Ab-hA#MJMAIN-2B" x="16886" y="0"></use><g transform="translate(17887,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/lanit/blog/421401/&amp;xid=17259,1500008,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhi-ewAsA1sewgj58cIihKuT2Ab-hA#MJMATHI-77" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/lanit/blog/421401/&amp;xid=17259,1500008,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhi-ewAsA1sewgj58cIihKuT2Ab-hA#MJMATHI-6E" x="1013" y="-213"></use></g><g transform="translate(19128,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/lanit/blog/421401/&amp;xid=17259,1500008,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhi-ewAsA1sewgj58cIihKuT2Ab-hA#MJMATHI-50" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/lanit/blog/421401/&amp;xid=17259,1500008,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhi-ewAsA1sewgj58cIihKuT2Ab-hA#MJMATHI-6E" x="908" y="-213"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/lanit/blog/421401/&amp;xid=17259,1500008,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhi-ewAsA1sewgj58cIihKuT2Ab-hA#MJMAIN-28" x="20295" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/lanit/blog/421401/&amp;xid=17259,1500008,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhi-ewAsA1sewgj58cIihKuT2Ab-hA#MJMATHI-75" x="20684" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/lanit/blog/421401/&amp;xid=17259,1500008,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhi-ewAsA1sewgj58cIihKuT2Ab-hA#MJMAIN-2C" x="21257" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/lanit/blog/421401/&amp;xid=17259,1500008,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhi-ewAsA1sewgj58cIihKuT2Ab-hA#MJMATHI-69" x="21702" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/lanit/blog/421401/&amp;xid=17259,1500008,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhi-ewAsA1sewgj58cIihKuT2Ab-hA#MJMAIN-29" x="22047" y="0"></use></g></svg><span class="MJX_Assistive_MathML MJX_Assistive_MathML_Block" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><mi>P</mi><mo stretchy="false">(</mo><mi>u</mi><mo>,</mo><mi>i</mi><mo stretchy="false">)</mo><mo>=</mo><msub><mi>w</mi><mn>1</mn></msub><msub><mi>P</mi><mn>1</mn></msub><mo stretchy="false">(</mo><mi>u</mi><mo>,</mo><mi>i</mi><mo stretchy="false">)</mo><mo>+</mo><msub><mi>w</mi><mn>2</mn></msub><msub><mi>P</mi><mn>2</mn></msub><mo stretchy="false">(</mo><mi>u</mi><mo>,</mo><mi>i</mi><mo stretchy="false">)</mo><mo>+</mo><mo>‚Ä¶</mo><mo>+</mo><msub><mi>w</mi><mi>n</mi></msub><msub><mi>P</mi><mi>n</mi></msub><mo stretchy="false">(</mo><mi>u</mi><mo>,</mo><mi>i</mi><mo stretchy="false">)</mo></math></span></span></div><script type="math/tex;mode=display" id="MathJax-Element-16"> P (u, i) = w_1 P_1 (u, i) + w_2 P_2 (u, i) +‚Ä¶ + w_n P_n (u, i) </script></p><br>  Weights <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-17-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><msub><mi>w</mi><mn>1</mn></msub><mo>,</mo><msub><mi>w</mi><mn>2</mn></msub><mo>.</mo><mo>.</mo><mo>.</mo><msub><mi>w</mi><mi>n</mi></msub></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="12.455ex" height="1.817ex" viewBox="0 -520.7 5362.6 782.1" role="img" focusable="false" style="vertical-align: -0.607ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/lanit/blog/421401/&amp;xid=17259,1500008,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhi-ewAsA1sewgj58cIihKuT2Ab-hA#MJMATHI-77" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/lanit/blog/421401/&amp;xid=17259,1500008,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhi-ewAsA1sewgj58cIihKuT2Ab-hA#MJMAIN-31" x="1013" y="-213"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/lanit/blog/421401/&amp;xid=17259,1500008,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhi-ewAsA1sewgj58cIihKuT2Ab-hA#MJMAIN-2C" x="1170" y="0"></use><g transform="translate(1615,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/lanit/blog/421401/&amp;xid=17259,1500008,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhi-ewAsA1sewgj58cIihKuT2Ab-hA#MJMATHI-77" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/lanit/blog/421401/&amp;xid=17259,1500008,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhi-ewAsA1sewgj58cIihKuT2Ab-hA#MJMAIN-32" x="1013" y="-213"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/lanit/blog/421401/&amp;xid=17259,1500008,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhi-ewAsA1sewgj58cIihKuT2Ab-hA#MJMAIN-2E" x="2785" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/lanit/blog/421401/&amp;xid=17259,1500008,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhi-ewAsA1sewgj58cIihKuT2Ab-hA#MJMAIN-2E" x="3231" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/lanit/blog/421401/&amp;xid=17259,1500008,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhi-ewAsA1sewgj58cIihKuT2Ab-hA#MJMAIN-2E" x="3676" y="0"></use><g transform="translate(4121,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/lanit/blog/421401/&amp;xid=17259,1500008,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhi-ewAsA1sewgj58cIihKuT2Ab-hA#MJMATHI-77" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/lanit/blog/421401/&amp;xid=17259,1500008,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhi-ewAsA1sewgj58cIihKuT2Ab-hA#MJMATHI-6E" x="1013" y="-213"></use></g></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mi>w</mi><mn>1</mn></msub><mo>,</mo><msub><mi>w</mi><mn>2</mn></msub><mo>.</mo><mo>.</mo><mo>.</mo><msub><mi>w</mi><mi>n</mi></msub></math></span></span><script type="math/tex" id="MathJax-Element-17"> w_1, w_2 ... w_n </script>  are trained on a sample.  As a rule, logistic regression is used for this. <br><br>  Stacking in general: <br><br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><div class="MathJax_SVG_Display" style="text-align: center;"><span class="MathJax_SVG" id="MathJax-Element-18-Frame" tabindex="0" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;><mi>P</mi><mo stretchy=&quot;false&quot;>(</mo><mi>u</mi><mo>,</mo><mi>i</mi><mo stretchy=&quot;false&quot;>)</mo><mo>=</mo><msub><mi>f</mi><mn>1</mn></msub><mo stretchy=&quot;false&quot;>(</mo><mi>u</mi><mo>,</mo><mi>i</mi><mo stretchy=&quot;false&quot;>)</mo><msub><mi>P</mi><mn>1</mn></msub><mo stretchy=&quot;false&quot;>(</mo><mi>u</mi><mo>,</mo><mi>i</mi><mo stretchy=&quot;false&quot;>)</mo><mo>+</mo><msub><mi>f</mi><mn>2</mn></msub><mo stretchy=&quot;false&quot;>(</mo><mi>u</mi><mo>,</mo><mi>i</mi><mo stretchy=&quot;false&quot;>)</mo><msub><mi>P</mi><mn>2</mn></msub><mo stretchy=&quot;false&quot;>(</mo><mi>u</mi><mo>,</mo><mi>i</mi><mo stretchy=&quot;false&quot;>)</mo><mo>+</mo><mo>&amp;#x2026;</mo><mo>+</mo><msub><mi>f</mi><mi>n</mi></msub><mo stretchy=&quot;false&quot;>(</mo><mi>u</mi><mo>,</mo><mi>i</mi><mo stretchy=&quot;false&quot;>)</mo><msub><mi>P</mi><mi>n</mi></msub><mo stretchy=&quot;false&quot;>(</mo><mi>u</mi><mo>,</mo><mi>i</mi><mo stretchy=&quot;false&quot;>)</mo></math>" role="presentation" style="font-size: 100%; display: inline-block; position: relative;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="65.464ex" height="2.66ex" viewBox="0 -832 28185.9 1145.2" role="img" focusable="false" style="vertical-align: -0.728ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/lanit/blog/421401/&amp;xid=17259,1500008,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhi-ewAsA1sewgj58cIihKuT2Ab-hA#MJMATHI-50" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/lanit/blog/421401/&amp;xid=17259,1500008,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhi-ewAsA1sewgj58cIihKuT2Ab-hA#MJMAIN-28" x="751" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/lanit/blog/421401/&amp;xid=17259,1500008,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhi-ewAsA1sewgj58cIihKuT2Ab-hA#MJMATHI-75" x="1141" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/lanit/blog/421401/&amp;xid=17259,1500008,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhi-ewAsA1sewgj58cIihKuT2Ab-hA#MJMAIN-2C" x="1713" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/lanit/blog/421401/&amp;xid=17259,1500008,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhi-ewAsA1sewgj58cIihKuT2Ab-hA#MJMATHI-69" x="2158" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/lanit/blog/421401/&amp;xid=17259,1500008,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhi-ewAsA1sewgj58cIihKuT2Ab-hA#MJMAIN-29" x="2504" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/lanit/blog/421401/&amp;xid=17259,1500008,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhi-ewAsA1sewgj58cIihKuT2Ab-hA#MJMAIN-3D" x="3171" y="0"></use><g transform="translate(4227,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/lanit/blog/421401/&amp;xid=17259,1500008,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhi-ewAsA1sewgj58cIihKuT2Ab-hA#MJMATHI-66" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/lanit/blog/421401/&amp;xid=17259,1500008,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhi-ewAsA1sewgj58cIihKuT2Ab-hA#MJMAIN-31" x="693" y="-213"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/lanit/blog/421401/&amp;xid=17259,1500008,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhi-ewAsA1sewgj58cIihKuT2Ab-hA#MJMAIN-28" x="5172" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/lanit/blog/421401/&amp;xid=17259,1500008,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhi-ewAsA1sewgj58cIihKuT2Ab-hA#MJMATHI-75" x="5561" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/lanit/blog/421401/&amp;xid=17259,1500008,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhi-ewAsA1sewgj58cIihKuT2Ab-hA#MJMAIN-2C" x="6134" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/lanit/blog/421401/&amp;xid=17259,1500008,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhi-ewAsA1sewgj58cIihKuT2Ab-hA#MJMATHI-69" x="6579" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/lanit/blog/421401/&amp;xid=17259,1500008,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhi-ewAsA1sewgj58cIihKuT2Ab-hA#MJMAIN-29" x="6924" y="0"></use><g transform="translate(7314,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/lanit/blog/421401/&amp;xid=17259,1500008,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhi-ewAsA1sewgj58cIihKuT2Ab-hA#MJMATHI-50" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/lanit/blog/421401/&amp;xid=17259,1500008,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhi-ewAsA1sewgj58cIihKuT2Ab-hA#MJMAIN-31" x="908" y="-213"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/lanit/blog/421401/&amp;xid=17259,1500008,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhi-ewAsA1sewgj58cIihKuT2Ab-hA#MJMAIN-28" x="8410" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/lanit/blog/421401/&amp;xid=17259,1500008,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhi-ewAsA1sewgj58cIihKuT2Ab-hA#MJMATHI-75" x="8800" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/lanit/blog/421401/&amp;xid=17259,1500008,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhi-ewAsA1sewgj58cIihKuT2Ab-hA#MJMAIN-2C" x="9372" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/lanit/blog/421401/&amp;xid=17259,1500008,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhi-ewAsA1sewgj58cIihKuT2Ab-hA#MJMATHI-69" x="9817" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/lanit/blog/421401/&amp;xid=17259,1500008,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhi-ewAsA1sewgj58cIihKuT2Ab-hA#MJMAIN-29" x="10163" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/lanit/blog/421401/&amp;xid=17259,1500008,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhi-ewAsA1sewgj58cIihKuT2Ab-hA#MJMAIN-2B" x="10775" y="0"></use><g transform="translate(11775,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/lanit/blog/421401/&amp;xid=17259,1500008,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhi-ewAsA1sewgj58cIihKuT2Ab-hA#MJMATHI-66" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/lanit/blog/421401/&amp;xid=17259,1500008,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhi-ewAsA1sewgj58cIihKuT2Ab-hA#MJMAIN-32" x="693" y="-213"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/lanit/blog/421401/&amp;xid=17259,1500008,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhi-ewAsA1sewgj58cIihKuT2Ab-hA#MJMAIN-28" x="12720" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/lanit/blog/421401/&amp;xid=17259,1500008,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhi-ewAsA1sewgj58cIihKuT2Ab-hA#MJMATHI-75" x="13109" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/lanit/blog/421401/&amp;xid=17259,1500008,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhi-ewAsA1sewgj58cIihKuT2Ab-hA#MJMAIN-2C" x="13682" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/lanit/blog/421401/&amp;xid=17259,1500008,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhi-ewAsA1sewgj58cIihKuT2Ab-hA#MJMATHI-69" x="14127" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/lanit/blog/421401/&amp;xid=17259,1500008,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhi-ewAsA1sewgj58cIihKuT2Ab-hA#MJMAIN-29" x="14472" y="0"></use><g transform="translate(14862,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/lanit/blog/421401/&amp;xid=17259,1500008,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhi-ewAsA1sewgj58cIihKuT2Ab-hA#MJMATHI-50" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/lanit/blog/421401/&amp;xid=17259,1500008,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhi-ewAsA1sewgj58cIihKuT2Ab-hA#MJMAIN-32" x="908" y="-213"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/lanit/blog/421401/&amp;xid=17259,1500008,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhi-ewAsA1sewgj58cIihKuT2Ab-hA#MJMAIN-28" x="15958" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/lanit/blog/421401/&amp;xid=17259,1500008,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhi-ewAsA1sewgj58cIihKuT2Ab-hA#MJMATHI-75" x="16348" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/lanit/blog/421401/&amp;xid=17259,1500008,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhi-ewAsA1sewgj58cIihKuT2Ab-hA#MJMAIN-2C" x="16920" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/lanit/blog/421401/&amp;xid=17259,1500008,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhi-ewAsA1sewgj58cIihKuT2Ab-hA#MJMATHI-69" x="17365" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/lanit/blog/421401/&amp;xid=17259,1500008,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhi-ewAsA1sewgj58cIihKuT2Ab-hA#MJMAIN-29" x="17711" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/lanit/blog/421401/&amp;xid=17259,1500008,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhi-ewAsA1sewgj58cIihKuT2Ab-hA#MJMAIN-2B" x="18323" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/lanit/blog/421401/&amp;xid=17259,1500008,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhi-ewAsA1sewgj58cIihKuT2Ab-hA#MJMAIN-2026" x="19323" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/lanit/blog/421401/&amp;xid=17259,1500008,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhi-ewAsA1sewgj58cIihKuT2Ab-hA#MJMAIN-2B" x="20718" y="0"></use><g transform="translate(21719,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/lanit/blog/421401/&amp;xid=17259,1500008,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhi-ewAsA1sewgj58cIihKuT2Ab-hA#MJMATHI-66" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/lanit/blog/421401/&amp;xid=17259,1500008,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhi-ewAsA1sewgj58cIihKuT2Ab-hA#MJMATHI-6E" x="693" y="-213"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/lanit/blog/421401/&amp;xid=17259,1500008,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhi-ewAsA1sewgj58cIihKuT2Ab-hA#MJMAIN-28" x="22734" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/lanit/blog/421401/&amp;xid=17259,1500008,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhi-ewAsA1sewgj58cIihKuT2Ab-hA#MJMATHI-75" x="23123" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/lanit/blog/421401/&amp;xid=17259,1500008,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhi-ewAsA1sewgj58cIihKuT2Ab-hA#MJMAIN-2C" x="23696" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/lanit/blog/421401/&amp;xid=17259,1500008,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhi-ewAsA1sewgj58cIihKuT2Ab-hA#MJMATHI-69" x="24141" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/lanit/blog/421401/&amp;xid=17259,1500008,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhi-ewAsA1sewgj58cIihKuT2Ab-hA#MJMAIN-29" x="24487" y="0"></use><g transform="translate(24876,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/lanit/blog/421401/&amp;xid=17259,1500008,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhi-ewAsA1sewgj58cIihKuT2Ab-hA#MJMATHI-50" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/lanit/blog/421401/&amp;xid=17259,1500008,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhi-ewAsA1sewgj58cIihKuT2Ab-hA#MJMATHI-6E" x="908" y="-213"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/lanit/blog/421401/&amp;xid=17259,1500008,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhi-ewAsA1sewgj58cIihKuT2Ab-hA#MJMAIN-28" x="26043" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/lanit/blog/421401/&amp;xid=17259,1500008,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhi-ewAsA1sewgj58cIihKuT2Ab-hA#MJMATHI-75" x="26433" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/lanit/blog/421401/&amp;xid=17259,1500008,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhi-ewAsA1sewgj58cIihKuT2Ab-hA#MJMAIN-2C" x="27005" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/lanit/blog/421401/&amp;xid=17259,1500008,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhi-ewAsA1sewgj58cIihKuT2Ab-hA#MJMATHI-69" x="27450" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/lanit/blog/421401/&amp;xid=17259,1500008,15700022,15700186,15700190,15700248,15700253&amp;usg=ALkJrhi-ewAsA1sewgj58cIihKuT2Ab-hA#MJMAIN-29" x="27796" y="0"></use></g></svg><span class="MJX_Assistive_MathML MJX_Assistive_MathML_Block" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><mi>P</mi><mo stretchy="false">(</mo><mi>u</mi><mo>,</mo><mi>i</mi><mo stretchy="false">)</mo><mo>=</mo><msub><mi>f</mi><mn>1</mn></msub><mo stretchy="false">(</mo><mi>u</mi><mo>,</mo><mi>i</mi><mo stretchy="false">)</mo><msub><mi>P</mi><mn>1</mn></msub><mo stretchy="false">(</mo><mi>u</mi><mo>,</mo><mi>i</mi><mo stretchy="false">)</mo><mo>+</mo><msub><mi>f</mi><mn>2</mn></msub><mo stretchy="false">(</mo><mi>u</mi><mo>,</mo><mi>i</mi><mo stretchy="false">)</mo><msub><mi>P</mi><mn>2</mn></msub><mo stretchy="false">(</mo><mi>u</mi><mo>,</mo><mi>i</mi><mo stretchy="false">)</mo><mo>+</mo><mo>‚Ä¶</mo><mo>+</mo><msub><mi>f</mi><mi>n</mi></msub><mo stretchy="false">(</mo><mi>u</mi><mo>,</mo><mi>i</mi><mo stretchy="false">)</mo><msub><mi>P</mi><mi>n</mi></msub><mo stretchy="false">(</mo><mi>u</mi><mo>,</mo><mi>i</mi><mo stretchy="false">)</mo></math></span></span></div><script type="math/tex;mode=display" id="MathJax-Element-18"> P (u, i) = f_1 (u, i) P_1 (u, i) + f_2 (u, i) P_2 (u, i) +‚Ä¶ + f_n (u, i) P_n (u, i) </script></p><br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/2ba/a71/3e4/2baa713e45d7c09a42a6f084efdcc227.gif"></div><br><h3>  <font color="#0057b6">Netflix Solution Brief</font> </h3><br>  <a href="https://www.netflixprize.com/">The Netflix Prize</a> is a competition held in 2009 where it was necessary to predict the assessment of users of the Netflix film library.  Not a bad prize of $ 1 million caused a stir and attracted a large number of participants, including quite famous people in the AI. <br><br>  This was a task with explicit ratings, ratings were set on a scale from 1 to 5, and the accuracy of the forecast was estimated by RMSE.  Most of the first places were taken by large classifier ensembles. <br><br>  <a href="https://www.netflixprize.com/assets/GrandPrize2009_BPC_BellKor.pdf">The winning ensemble</a> used models of the following classes: <br><br><ul><li>  basic model - regression model based on averages <br></li><li>  collaborative filtering - collaborative filtering <br></li><li>  RBM - Boltzmann limited machines <br></li><li>  random forests - predictive model <br></li></ul><br>  As a meta-algorithm that combined estimates of local algorithms, the traditional gradient boosting was used. <br><br><h3>  <font color="#0057b6">Summary</font> </h3><br>  Setting the task of generating recommendations is very simple - we create a matrix of preferences with known user ratings, if it turns out, we supplement these estimates with information on the customer and product, and try to fill in the unknown values. <br><br>  Despite the simplicity of the formulation, hundreds of articles are published, describing fundamentally new methods of its solution.  Firstly, this is due to the increasing amount of data collected, which can be used in the model and the increasing role of implicit ratings.  Secondly, with the development of deep learning and the emergence of new neural network architectures.  All this multiplies the complexity of the models. <br><br>  But in general, all this diversity boils down to a very small set of approaches, which I tried to describe in this article. <br><br><div class="spoiler">  <b class="spoiler_title">I remind about our vacancies.</b> <div class="spoiler_text"><ul><li>  <a href="https://job.lanit.ru/vacancy/Pages/CD-03.aspx%3Futm_source%3Dhabr%26utm_medium%3Dpost-2018-08-30%26utm_campaign%3Dcleverdata">Frontend architect</a> </li><li>  <a href="https://job.lanit.ru/vacancy/Pages/CD-15.aspx%3Futm_source%3Dhabr%26utm_medium%3Dpost-2018-08-30%26utm_campaign%3Dcleverdata">Java Developer (Big Data)</a> </li><li>  <a href="https://job.lanit.ru/vacancy/Pages/CD-14.aspx%3Futm_source%3Dhabr%26utm_medium%3Dpost-2018-08-30%26utm_campaign%3Dcleverdata">Linux system engineer</a> </li></ul></div></div></div><p>Source: <a href="https://habr.com/ru/post/421401/">https://habr.com/ru/post/421401/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../421391/index.html">HackThings - a big hackathon on the Internet of things September 7-9 in Skoltech</a></li>
<li><a href="../421393/index.html">Mailchimp dump basket: a guide for the lazy</a></li>
<li><a href="../421395/index.html">Rome Club Report 2018, Chapter 3.7: ‚ÄúClimate: good news, but big problems‚Äù</a></li>
<li><a href="../421397/index.html">Launch Mini AI Cup # 3. Battle machines in tight closed spaces</a></li>
<li><a href="../421399/index.html">Turla Cybergroup Outlook Backdoor Analysis</a></li>
<li><a href="../421403/index.html">Security Week 32: Fortnite Android Drama</a></li>
<li><a href="../421407/index.html">Technical mitap in Petersburg on September 13 - How to make big changes on the backend</a></li>
<li><a href="../421409/index.html">Spy stuff: stay secret</a></li>
<li><a href="../421411/index.html">Introduction to the Go Module System</a></li>
<li><a href="../421413/index.html">Proper access to default methods of interfaces through reflection in Java 8, 9, 10</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>