<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>WebSocket (Sec-WebSocket-Version: 13) - implementation details, in particular in PHP</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Actually, studying this topic, many sites were searched, but nowhere was nothing really explained, or the information was on obsolete protocols. This ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>WebSocket (Sec-WebSocket-Version: 13) - implementation details, in particular in PHP</h1><div class="post__text post__text-html js-mediator-article">  Actually, studying this topic, many sites were searched, but nowhere was nothing really explained, or the information was on obsolete protocols.  This was a kind of kick in creating this HowTo.  This will not be a detailed analysis of all possible problems, but a bit of theory and a description of some things that are trivial to someone, and someone (like me) caused difficulties and loss of time to find a solution.  Immediately I will warn you - here it is not considered how to raise a socket server for PHP, similar information on the Internet in bulk.  I will proceed from the fact that the socket server already exists and you just need to teach him to communicate through web sockets. <br>  So, enough of the lyrics, now to the point! <br><a name="habracut"></a><br><h5>  A bit of theory. </h5><br><h5>  Handshake </h5><br>  When connected via webboxes, headers are exchanged like HTTP headers, the so-called handshake or in our ‚Äúhandshake‚Äù. <br>  The client sends a header with similar content: <br><blockquote>  GET / chat HTTP / 1.1 <br>  Host: server.example.com <br>  Upgrade: websocket <br>  Connection: Upgrade <br>  Sec-WebSocket-Key: dGhlIHNhbXBsZSBub25jZQ == <br>  Origin: <a href="http://example.com/">example.com</a> <br>  Sec-WebSocket-Protocol: chat, superchat <br>  Sec-WebSocket-Version: 13 <br></blockquote>  To which the server should respond to him: <br><blockquote>  HTTP / 1.1 101 Switching Protocols <br>  Upgrade: websocket <br>  Connection: Upgrade <br>  Sec-WebSocket-Accept: s3pPLMBiTxaQ9kYGzzhZRbK + xOo = <br>  Sec-WebSocket-Protocol: chat <br></blockquote><br>  So it is written in the literature (The WebSocket Protocol RFC 6455).  It would seem that difficult: received - answered.  But here I had my first problems.  The server received a header from the client, responded to it, but the client did not respond, regardless of the client (in this case, the browser).  I tried everything that had enough brain, nothing helped.  A hint was found <a href="http://forum.ixbt.com/topic.cgi%3Fid%3D26:41693">here</a> .  The meaning of my mistake was that the browser accepts a header with a terminating empty string, and since I did not send it (well, I did not find a word about it in the documentation), the browser continued to wait for the header, and the event ‚Äúwebbox connected‚Äù (WebSocket.onopen ) "Did not occur in the browser.  As a result, my answer was as follows: <br><pre><code class="php hljs">$answer = <span class="hljs-string"><span class="hljs-string">"HTTP/1.1 101 Switching Protocols\r\n"</span></span> .<span class="hljs-string"><span class="hljs-string">"Upgrade: websocket\r\n"</span></span> .<span class="hljs-string"><span class="hljs-string">"Connection: Upgrade\r\n"</span></span> .<span class="hljs-string"><span class="hljs-string">"Sec-WebSocket-Accept: "</span></span>.$hash.<span class="hljs-string"><span class="hljs-string">"\r\n"</span></span> .<span class="hljs-string"><span class="hljs-string">"Sec-WebSocket-Protocol: chat\r\n\r\n"</span></span></code> </pre>  And the client finally saw him. <br><br><h5>  Server header </h5><br>  And now let's move on to what is included in the server response. <br>  First line: <i>"HTTP / 1.1 101 Switching Protocols"</i> .  There is nothing to change here.  Any status code other than 101 will mean that the ‚Äúhandshake‚Äù is not completed. <br><br>  In the lines of <i>Upgrade</i> and <i>Connection,</i> if the <i>‚Äúwebsocket‚Äù</i> and <i>‚ÄúUpgrade‚Äù</i> registers are not followed, respectively, the client must terminate the connection.  That is, we also leave it as it was.  Although, for example, firewall sent in the title <i>‚ÄúConnection: keep-alive, Upgrade‚Äù</i> , maybe it can be answered the same, but so far I haven‚Äôt found it necessary. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Next is, perhaps, the only line where we need to put a hand: <i>"Sec-WebSocket-Accept: s3pPLMBiTxaQ9kYGzzhZRbK + xOo ="</i> .  This line announces that the server accepts the connection, and reports in a special way the calculated hash of the key transmitted by the client to the <i>Sec-WebSocket-Key</i> . <br>  To calculate the hash needed: <br><ol><li>  Concatenation of the client key and the preset GUID.  According to the documentation, the GUID is the following line: "258EAFA5-E914-47DA-95CA-C5AB0DC85B11".  Suppose that we have already extracted the client key and stored it in the $ key variable (do not forget to remove the leading and trailing spaces if they somehow fall into the variable) <pre> <code class="php hljs">$hash = $key.<span class="hljs-string"><span class="hljs-string">'258EAFA5-E914-47DA-95CA-C5AB0DC85B11'</span></span>;</code> </pre> </li><li>  Calculating sha1 from the resulting string, and the result should be in the form of a binary string of 20 characters. <pre> <code class="php hljs">$hash = sha1($hash,<span class="hljs-keyword"><span class="hljs-keyword">true</span></span>);</code> </pre> </li><li>  And the last - base64 hash coding <pre> <code class="php hljs">$hash = base64_encode($hash);</code> </pre> </li></ol><br>  Proceed to the next line of the server header, which I send to the client.  <i>‚ÄúSec-WebSocket-Protocol: chat‚Äù</i> is an optional parameter, and it informs the client on which sub-protocol the server will communicate with it.  This sub-protocol must be supported by the client, and it must come from the client in the parameter of the same name, although I did not send such parameters in the header when I connected firewall and chrome. <br><br>  There is one more tasty moment which has got to me in the documentation.  The server can tell the client which protocol version it supports. <br>  For example, the client sends the following: <pre> <code class="hljs vbscript"><span class="hljs-keyword"><span class="hljs-keyword">GET</span></span> /chat HTTP/<span class="hljs-number"><span class="hljs-number">1.1</span></span> ... Sec-WebSocket-Version: <span class="hljs-number"><span class="hljs-number">25</span></span></code> </pre> <br>  The server responds to it: <pre> <code class="hljs vbscript">HTTP/<span class="hljs-number"><span class="hljs-number">1.1</span></span> <span class="hljs-number"><span class="hljs-number">400</span></span> Bad <span class="hljs-built_in"><span class="hljs-built_in">Request</span></span> ... Sec-WebSocket-Version: <span class="hljs-number"><span class="hljs-number">13</span></span>, <span class="hljs-number"><span class="hljs-number">8</span></span>, <span class="hljs-number"><span class="hljs-number">7</span></span></code> </pre>  Could be so: <pre> <code class="hljs vbscript">HTTP/<span class="hljs-number"><span class="hljs-number">1.1</span></span> <span class="hljs-number"><span class="hljs-number">400</span></span> Bad <span class="hljs-built_in"><span class="hljs-built_in">Request</span></span> ... Sec-WebSocket-Version: <span class="hljs-number"><span class="hljs-number">13</span></span> Sec-WebSocket-Version: <span class="hljs-number"><span class="hljs-number">8</span></span>, <span class="hljs-number"><span class="hljs-number">7</span></span></code> </pre> <br>  After that, the client repeats the handshake, but with the version of the protocol that the server has informed him. <pre> <code class="hljs vbscript"><span class="hljs-keyword"><span class="hljs-keyword">GET</span></span> /chat HTTP/<span class="hljs-number"><span class="hljs-number">1.1</span></span> ... Sec-WebSocket-Version: <span class="hljs-number"><span class="hljs-number">13</span></span></code> </pre> <br><h5>  Customer title </h5><br>  There‚Äôs nothing much to say about the client‚Äôs heading, except for the <i>Origin</i> and <i>Host</i> parameters. <br>  <i>Host</i> contains the server address and port to which the web socket is connected. <br>  <i>Origin</i> is an optional field, usually used by browsers.  Contains the name of the web server, from which page javascript is launched to connect to the server (IMHO, did not check). <br><br><h5>  Packet Exchange </h5><br>  Here, of course, they are very tired.  The frame in the documentation looks like this: <br><pre> <code class="hljs ruby"> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span> <span class="hljs-number"><span class="hljs-number">4</span></span> <span class="hljs-number"><span class="hljs-number">5</span></span> <span class="hljs-number"><span class="hljs-number">6</span></span> <span class="hljs-number"><span class="hljs-number">7</span></span> <span class="hljs-number"><span class="hljs-number">8</span></span> <span class="hljs-number"><span class="hljs-number">9</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span> <span class="hljs-number"><span class="hljs-number">4</span></span> <span class="hljs-number"><span class="hljs-number">5</span></span> <span class="hljs-number"><span class="hljs-number">6</span></span> <span class="hljs-number"><span class="hljs-number">7</span></span> <span class="hljs-number"><span class="hljs-number">8</span></span> <span class="hljs-number"><span class="hljs-number">9</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span> <span class="hljs-number"><span class="hljs-number">4</span></span> <span class="hljs-number"><span class="hljs-number">5</span></span> <span class="hljs-number"><span class="hljs-number">6</span></span> <span class="hljs-number"><span class="hljs-number">7</span></span> <span class="hljs-number"><span class="hljs-number">8</span></span> <span class="hljs-number"><span class="hljs-number">9</span></span> <span class="hljs-number"><span class="hljs-number">0</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> +-+-+-+-+-------+-+-------------+-------------------------------+ <span class="hljs-params"><span class="hljs-params">|F|</span></span>R<span class="hljs-params"><span class="hljs-params">|R|</span></span>R<span class="hljs-params"><span class="hljs-params">| opcode|</span></span>M<span class="hljs-params"><span class="hljs-params">| Payload len |</span></span> Extended payload length <span class="hljs-params"><span class="hljs-params">| |</span></span>I<span class="hljs-params"><span class="hljs-params">|S|</span></span>S<span class="hljs-params"><span class="hljs-params">|S|</span></span> (<span class="hljs-number"><span class="hljs-number">4</span></span>) <span class="hljs-params"><span class="hljs-params">|A|</span></span> (<span class="hljs-number"><span class="hljs-number">7</span></span>) <span class="hljs-params"><span class="hljs-params">| (16/64) |</span></span> <span class="hljs-params"><span class="hljs-params">|N|</span></span>V<span class="hljs-params"><span class="hljs-params">|V|</span></span>V<span class="hljs-params"><span class="hljs-params">| |</span></span>S<span class="hljs-params"><span class="hljs-params">| |</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">if</span></span> payload len==<span class="hljs-number"><span class="hljs-number">126</span></span>/<span class="hljs-number"><span class="hljs-number">127</span></span>) <span class="hljs-params"><span class="hljs-params">| |</span></span> <span class="hljs-params"><span class="hljs-params">|1|</span></span><span class="hljs-number"><span class="hljs-number">2</span></span><span class="hljs-params"><span class="hljs-params">|3|</span></span> <span class="hljs-params"><span class="hljs-params">|K|</span></span> <span class="hljs-params"><span class="hljs-params">| |</span></span> +-+-+-+-+-------+-+-------------+ - - - - - - - - - - - - - - - + <span class="hljs-params"><span class="hljs-params">| Extended payload length continued, </span><span class="hljs-keyword"><span class="hljs-params"><span class="hljs-keyword">if</span></span></span><span class="hljs-params"> payload len == 127 |</span></span> + - - - - - - - - - - - - - - - +-------------------------------+ <span class="hljs-params"><span class="hljs-params">| |</span></span>Masking-key, <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> MASK set to <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-params"><span class="hljs-params">| +-------------------------------+-------------------------------+ |</span></span> Masking-key (continued) <span class="hljs-params"><span class="hljs-params">| Payload Data |</span></span> +-------------------------------- - - - - - - - - - - - - - - - + : Payload Data continued ... : + - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - + <span class="hljs-params"><span class="hljs-params">| Payload Data continued ... |</span></span> +---------------------------------------------------------------+</code> </pre> <br>  I saw that right away, laziness somehow began to be understood ... but even so, I had to.  By the way, for those who want to understand this on <a href="http://learn.javascript.ru/websockets">this page</a> in detail, there is a distinct Russian-language description, although it is certainly better to fully understand the source documentation.  For decoding and encoding frames, I found <a href="https://github.com/lemmingzshadow/php-websocket/blob/master/server/lib/WebSocket/Connection.php">here the</a> ready-made functions <i>hybi10Decode ()</i> and <i>hybi10Encode ()</i> , which showed themselves to be working properly.  Also in the <i>handshake ()</i> function, a method for obtaining client header parameters is described. <br>  Note also that after a handshake, the client sends only masked frames to the server and the server only unmasks the server, that is, where the MASK bit = 0. <br><br>  In the process, I ran into another problem, after the handshakes and the server response to the client's ‚Äúhello‚Äù, Chrome issued the following: <br><blockquote>  WebSocket connection to 'ws: //example.com: 10001 / test' failed: </blockquote>  That is, the browser saw that the following message was masked, although I knew for sure that the server sent an unmasked frame.  After a long carding turnip, it turned out that it was a problem of interoperability between web protocols and ActionScript sockets for flash.  In my code, a zero byte "\ 0" was inserted at the end of each message as required by this flash, and accordingly this byte was inserted at the end of each frame or header, and the browser read it as the beginning of the next, because the browser knows the exact length of the frame or where header  Thus, the first byte of the next header was "\ 0", and the actual first one shifted to the second, which made the browser indignant. <br><br>  That's all for now.  In conclusion, I would like to say that web sockets, as well as HTML5 as a whole, is in my opinion a wonderful tool that will allow the browser to independently do what it was previously unable to do, of course, without Flash crutches. <br><br>  <b>Update</b> <br>  In the comments it was noticed that by specification all messages are sent in utf-8 encoding.  This is also an important point, but I forgot to mention it. <br><br>  <b>Update 17-05-13</b> <br>  Faced with another problem: the browser can send two frames in a row, and the above <i>hybi10Decode ()</i> function treats it as one frame, since it reads a string not by the length of the payload length transmitted in the frame, but to the end of the entire frame.  After some changes, the function looks like this: <br><div class="spoiler">  <b class="spoiler_title">Click</b> <div class="spoiler_text"><pre> <code class="php hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">decode</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">($data)</span></span></span></span>{ $payloadLength = <span class="hljs-string"><span class="hljs-string">''</span></span>; $mask = <span class="hljs-string"><span class="hljs-string">''</span></span>; $unmaskedPayload = <span class="hljs-string"><span class="hljs-string">''</span></span>; $decodedData = <span class="hljs-keyword"><span class="hljs-keyword">array</span></span>(); <span class="hljs-comment"><span class="hljs-comment">// estimate frame type: $firstByteBinary = sprintf('%08b', ord($data[0])); $secondByteBinary = sprintf('%08b', ord($data[1])); $opcode = bindec(substr($firstByteBinary, 4, 4)); $isMasked = ($secondByteBinary[0] == '1') ? true : false; $payloadLength = ord($data[1]) &amp; 127; if($isMasked === false) $this-&gt;close(1002);// close connection if unmasked frame is received switch($opcode) { case 1: $decodedData['type'] = 'text'; break;// text frame case 8: $decodedData['type'] = 'close'; break;// connection close frame case 9: $decodedData['type'] = 'ping'; break;// ping frame case 10: $decodedData['type'] = 'pong'; break;// pong frame default: $this-&gt;close(1003); break;// Close connection on unknown opcode } if($payloadLength === 126) { $mask = substr($data, 4, 4); $payloadOffset = 8; $dataLength = sprintf('%016b', ord($data[2]).ord($data[3])); $dataLength = base_convert($dataLength,2,10); } elseif($payloadLength === 127) { $mask = substr($data, 10, 4); $payloadOffset = 14; $dataLength = ''; for ($i=2;$i&lt;8;$i++) $dataLength .=sprintf('%08b',ord($data[$i])); $dataLength = base_convert($dataLength,2,10); } else{ $mask = substr($data, 2, 4); $payloadOffset = 6; $dataLength = base_convert(sprintf('%08b',ord($data[1]) &amp; 63),2,10); } if($isMasked === true) { for($i = $payloadOffset; $i &lt; $dataLength+$payloadOffset; $i++){ $j = $i - $payloadOffset; $unmaskedPayload .= $data[$i] ^ $mask[$j % 4]; } $decodedData['payload'] = $unmaskedPayload; } else{ $payloadOffset = $payloadOffset - 4; $decodedData['payload'] = substr($data, $payloadOffset); } $decodedData['offset'] = $payloadOffset; return $decodedData; } //       ($frame -      ) $recieved = 0; while(strlen($frame)&gt; 0) { $msg = decode($frame); $recieved += strlen($msg['payload'])+ $msg['offset']; $frame = substr($frame,$recieved); }</span></span></code> </pre></div></div>  Please note that there is no support for fragmented frames in this function. <br><br>  Links <br>  <a href="http://tools.ietf.org/html/rfc6455">RFC6455</a> <br>  <a href="http://learn.javascript.ru/websockets">Javascript Web Sockets</a> <br>  <a href="https://github.com/lemmingzshadow/php-websocket">A project on GitHub that works with version 13 of the protocol</a> </div><p>Source: <a href="https://habr.com/ru/post/179585/">https://habr.com/ru/post/179585/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../179573/index.html">The second phase of the Intel¬Æ Perceptual Computing Challenge has started.</a></li>
<li><a href="../179575/index.html">Now all developers can respond to reviews on Google Play</a></li>
<li><a href="../179579/index.html">Igor Ashmanov on iForum-2013. Information sovereignty, modern reality</a></li>
<li><a href="../17958/index.html">Idea - Crowdsourcing AI Creation</a></li>
<li><a href="../179583/index.html">Video interview from Silicon Valley. Sergey Burkov - a serial entrepreneur, mentor 500 Startups, the first head of the Google development center in Russia</a></li>
<li><a href="../179587/index.html">Idea. Constructor sites in the dialogue mode</a></li>
<li><a href="../179589/index.html">Internal cuisine: a recipe for effective work with a remote employee. Part 1</a></li>
<li><a href="../179595/index.html">Ubuntu ui toolkit on Ubuntu Touch and Android</a></li>
<li><a href="../179597/index.html">Work with bad files on the command line in Linux</a></li>
<li><a href="../1796/index.html">Intel and Siemens become partners</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>