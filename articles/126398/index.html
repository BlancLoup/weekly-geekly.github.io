<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Development experience for WP7 or gMaps labor story</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="We are Alexei Fear and Alexander (often Alexey :)) Sorokoletov are the authors of gMaps , one of the most popular applications for Windows Phone 7 in ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Development experience for WP7 or gMaps labor story</h1><div class="post__text post__text-html js-mediator-article">  We are Alexei Fear and Alexander (often Alexey :)) Sorokoletov are the authors of <a href="http://windowsphone.com/s%3Fappid%3D7b8bedd5-4368-e011-81d2-78e7d1fa76f8">gMaps</a> , one of the most popular applications for Windows Phone 7 in Europe.  We are doing our favorite thing - developing an application for WP7 and want to share our experience and history of creating gMaps.  Come to <a href="http://habrahabr.ru/company/microsoft/blog/126322/">Windows Phone Camp on September 5th</a> - we will personally tell everything there and answer your questions. <br><a name="habracut"></a><br><h4>  Who we are and what we do </h4><br>  We are both Belarusians, but one of us unexpectedly began to work in Russia.  Since the Marketplace in Belarus is closed, they are registered in the Russian market (but this is another story, as a citizen of Belarus, register in the Russian Marketplace) <br><br>  About a year ago we decided to go to Moscow to watch the presentation of Windows Phone 7. I was interested in writing Silverlight under the phone, and since we had enough skills in it, we decided to immediately try it.  At the same time, they wanted to see how quick and convenient the phone would be (I even had to sign a few pieces of paper, but in the end they played around).  The result was positive, I really liked the speed and platform.  We believe that it is the low threshold of entry that became the catalyst for such a rapid growth of the WP7 Marketplace.  C #, Silverlight / XNA and Microsoft developers community did their job! <br><br><h4>  gMaps and why he </h4><br>  But where it all began: "I was searching for, waiting, waiting ... I could not find ... I had to write Google Maps for WP7 myself ...". 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      At the time of writing, there were paid (only) analogues of <a href="http://windowsphone.com/s%3Fappid%3D7b8bedd5-4368-e011-81d2-78e7d1fa76f8">gMaps</a> , but they lacked something and we decided to bother and write our own version.  Actually, <a href="http://windowsphone.com/s%3Fappid%3D7b8bedd5-4368-e011-81d2-78e7d1fa76f8">gMaps</a> is Google Maps for Windows Phone 7. In addition to simply displaying maps, there are the following convenience: <br><ol><li>  geocoding and reverse geocoding - (search by address, address search by coordinates) </li><li>  local search - oh yes, now finding the nearest bar or gas station is even easier.  You can also read reviews about the found object, you can pave a route or call. </li><li>  routes (from the current location, ab, on foot, by car, by bike) </li><li>  several layers in addition to the standard ones - traffic jams and public transport </li><li>  the opportunity to share a map and location is a very convenient thing, much better than what Google maps offer even for ondroed </li><li>  Follow and rotate the card when the driver mode (Driver mode) </li></ol><br><img src="https://habrastorage.org/storage1/4d4cfd0a/ed67af10/287b9e28/4aca2b90.png"><br><br><h4>  Statistics, reviews, downloads </h4><br>  From the first time, as is usually the case, the application did not pass certification due to the missing setting to disable GPS within the application.  In fact, it‚Äôs good that it didn‚Äôt go away, since gMaps were in a terrible wrapper - the curved icons, the splashscreen made in 10 seconds and the application falling due to any unusual Google response. <br>  When gMaps took a more acceptable form, hit the Marketplace and the first statistics appeared, it turned out that on the first day of publication the application was downloaded about 3k times.  The application immediately overtook all of our applications taken together, which existed at that time in the Marketplace and it was great. <br><br>  Within a month, gMaps overtook even youtube, and at <a href="http://blogs.msdn.com/b/_devcon11/archive/2011/05/21/quot-windows-phone-7-devcon-2011-quot.aspx">the DevCon 11 conference, we were awarded a prize for the most downloaded application in the Marketplace</a> . <br><br>  Quick start helped to collect a huge number of reviews, which made it possible to assess the real needs of users and quickly adapt to them.  Users wrote everything, asked how they could do this or that, offered new features, discussed existing ones.  For more structured feedback, we decided to use <a href="http://gmaps.uservoice.com/">UserVoice</a> .  This allowed us to identify the hottest functionalities and implement them first.  However, this did not greatly reduce the flow of letters and reviews in the Marketplace. <br><br>  Thanks to active communication with users, we found several enthusiasts.  One of them is Stephane Rosi, who helps us to deal with the UserVoice forum, for which a special thank you to him! <br><br>  We also had a designer from Brazil - Diego Eis, who said that our design, to put it mildly, is no good and offered a new version.  As it turned out later, Diego is quite a famous person in Brazil, with his website development company, design for them.  Now we periodically cooperate with him to develop the design of new functionalities, such as integration with <a href="https://www.google.com/latitude">Latitude</a> , navigation Turn by Turn and so on. <br><br>  Communicate with users - they like it and it will be useful for you! <br><br>  And some statistics.  Currently, gMaps is approaching 300k downloads and already has about 5k reviews with an average rating of 4.1.  We use google analytics to analyze the use of the application and some of its features.  On the day, we have an average of 17k active users (about 50k application launches) <br><img src="https://habrastorage.org/storage1/c0293a5e/a949f88f/39cdedde/c64011bb.png"><br><br><h4>  Problems encountered </h4><br>  No doubt there were problems and that was good.  Difficulties temper. <br><br><h6>  Slow MapControl </h6><br><br>  Native Maps application works much faster, there is a more pleasant animation.  MapControl does not allow to get the same speed and animation, unfortunately.  In Mango beta, the speed was improved, but beta 2 brought it back to the previous level.  In addition, the extensibility of MapControl leaves much to be desired. <br><br><h6>  The inability to simply add offline-mode </h6><br>  Due to the same extensibility, adding work cards offline was quite difficult.  We have postponed this functionality in favor of more demanded. <br><br><h6>  Card rotation </h6><br>  MapControl does not work well when turning, for example, the path is erased, pushpins do not turn after the map, a multitouch is buggy.  In the next versions we will try to make Driver mode more stable, and also with support for landscape mode. <br><br><h6>  Mistakes with multitouch </h6><br>  ‚ÄúUnspecified error‚Äù error from the depths of MapControl that was also mystically fixed (by removing Stroke from one of the Paths in the pushpin pattern with the current position) <br>  The error was reproduced at the maximum approximation, again it is not clear where, why, and why. <br><br>  Implementing Tap &amp; Hold on the map turned out to be difficult - we tried all possible options - both ready and self-written - as a result we use TouchPanel from XNA with finishing to support landscape mode. <br><br><h6>  Gugloservisy </h6><br>  Oh, Google's vaunted apish gave us a lot of work :) <br>  It turns out that Google is able to do a lot of things, and many things its apishka doesn‚Äôt.  Google does not support local search from last November (it will still work until 2012).  Places API, proposed as an alternative to Local Search, does not return the required results. <br>  In addition to integration issues, after several days of downloads, a question arose with the limits of requests. <br>  Temporarily helped by attaching the card to your Google account, as well as the creation of a paid version of the application.  Google counts requests for HTTP Referer header, which in Windows Phone 7.0 can not be changed, and which depends on the application ID. <br>  Buying a large batch of requests turned out to be an impossible task.  Representatives of the g-corporation offered a package ‚Äúall together that is necessary for happiness,‚Äù including many things that we did not need.  It is simply impossible to increase the limit of requests for geocoding.  :( <br>  We are waiting for the mango, there the problem with limits can be solved in another way. <br><br>  When integrating with <a href="https://www.google.com/latitude">Google Latitude</a> , there are also some issues: <br>  - oauth2 stopped working in IE, it's good that support offered a temporary solution <br>  - get locations of friends and display them on the map because of privacy is impossible.  More precisely, Google can not provide third parties with access to data, but can display them on the map itself.  Looking for workarounds, we want latitude on Windows Phone. <br><br><img src="https://habrastorage.org/storage1/3c969a2a/db322f7f/3cc5e7d9/d58a1bdc.png"><br><br><h6>  Feedback </h6><br>  In the best of times, 100+ letters came in a day, try to realize this, read and process it.  It helped that we managed at the initial stage to analyze, assemble and implement the most popular functionality.  After integration with uservoice it became even easier.  Analysis of the letters showed that approximately the same requests come to the uservoice forum.  Also used automail filters and automail gmail.  The whole feedback was also analyzed in the form of a review, which throughout the entire time was from 50 to 100 per day, thanks to which interesting correspondence was fastened and interesting facts / bugs / suggestions were found. <br><br><h6>  Testing on devices </h6><br>  No matter how good the emulator is, you should always test the application on devices with windows phone 7.0 - only there you can understand the speed of the application, and the user experience. <br><br>  If you have Windows Phone Developer Tools for Mango Beta (1,2,2+) installed, you can create applications under 7.0 and test them on the emulator.  Unfortunately, this emulator does not exactly reproduce the version of wp 7.0.  For example, the Referer header (or Accept-Encoding) can be installed in the application for 7.0 and everything will work on the emulator.  On the device with wp 7.0, you will receive an error. <br><br><h6>  Usability </h6><br>  We decided not to do a lot of customization.  Periodically, this leads to confusion for users, but we firmly believe that the fewer the settings, the more pleasant it is to use the application. <br>  As it is written in one wonderful book (getting real) - additional settings are only a disclaimer of responsibility for the fact that we do not know what will be convenient for the user.  All the necessary settings are made to the user interface (for example, switching metric-imperial system), which are quite easy to change during the work with the application. <br>  And I think the golden rule of a mobile developer is to use the platform for which you are writing.  Feeling the platform, it is easier to create an optimal scenario of working with the application. <br><br><h4>  Monetization </h4><br>  The first two months of the application‚Äôs life it was free and without advertising.  This approach from the start made it possible to get a large number of users and feedback.  After the application had its own user base, we decided to add ads, which did not reduce downloading.  However, reviews began to appear like "Appeared advertising.  Uninstalling ... ". <br>  Despite the fact that the application is quite popular, it has not yet been successfully monetized.  Now in the Marketplace there are two versions of the application: gMaps (free with ads) and <a href="http://windowsphone.com/s%3Fappid%3Dc83aade5-5191-e011-986b-78e7d1fa76f8">gMaps Pro (ad free)</a> .  From the free version there is a link to the Pro version of the application. <br>  In order to interest users to buy the paid version, and at the same time not to lose the audience in the free version, we decided to shift the functionality in the application releases.  That is, we decided not to make a separate set of features that are available only in the Pro version, but, at the same time, all the new features first got into the paid version, and a couple of weeks into the free one. <br><br>  In order not to annoy the user with advertising, we decided to make it hidden.  This, of course, significantly reduced the number of mappings, but almost did not reduce the number of users.  We chose and tested advertising providers for a long time.  And since to change the provider, it was necessary to change AdControl and update applications (which was difficult to explain to users who asked what was new in this version), it was decided to install <a href="http://www.wpcentral.com/wp7-ad-rotator-rotates-your-ads">AdRotator</a> .  With it, we carried out various experiments and, as a result, returned to where we started.  We tried the following vendors of advertising: <br><ol><li>  <a href="https://pubcenter.microsoft.com/">Microsoft PubCenter</a> - proved to be the most reliable in terms of API and errors.  At first there was a rather high eCPM (~ $ 3-4), which eventually went down to ~ $ 1 per 1k of impressions, which was still higher than that of other providers, taking into account that 100% of impressions were paid. </li><li>  <a href="http://www.adduplex.com/">AdDuplex</a> is a WP7 oriented advertising provider that allows you to advertise your applications in exchange for displaying ads in your application.  So there is a ‚ÄúMonetize‚Äù mode in which you receive money for displaying ads.  Good advertising WP7 applications with good CTR.  The raven is rather low (eCPM did not rise above $ 0.7 and &lt;80% of hits are paid), but it remains quite attractive for free self-promotion (or advertising your other applications) </li><li>  <a href="http://www.admob.com/">Google AdMob</a> - AdControl is slow and error free, periodically causing user interface to hang.  eCMP low, FillRate (the number of responses with advertisements to the total number of ad requests) ~ 20% </li></ol><br>  We started with PubCenter, returned to it after all the experiments.  The only disadvantage of PubCenter is the inability to withdraw the income received.  This can be done only with a USA address, SSN / EIN and an account in the USA Bank, which we are going to do in the near future, if the expansion rate of PubCenter does not increase. <br><br><h4>  Future updates </h4><br>  It is no secret that the mango update for Bing Maps will be powerful, so we try to do everything to keep up with the update and constantly (about 2 times a month) roll out new versions. <br><ol><li>  localization (user interface, responses from the backend, maps) - will already be available in the next release of gMaps Pro 1.11 </li><li>  <a href="https://www.google.com/latitude">Google Latitude</a> .  This system is analogous to 4sq, it allows you to update your location, make check-ins, view a list of friends, their positions and statuses on the map.  Latitude has only recently appeared in the official <a href="http://www.google.com/mobile/latitude">google maps</a> application <a href="http://www.google.com/mobile/latitude">for ondroid</a> , and now will be on wp7 - scheduled in the next release of gMaps Pro 1.11.  It is also necessary to say that the search for an application that has been integrated with Latitude did not give any results for wp7. </li><li>  Favorites (places, routes, google favorites integration) </li><li>  Offline maps - support for the ability to cache map sections (cities, countries).  So far, due to MapControl limitations, this functionality cannot be implemented in a simple way and is deferred. </li><li>  Public Transport Routes </li><li>  Mango support (compass, deep linking and live tiles) </li></ol><br><h4>  Special thanks to everyone who helped us in the development of gMaps </h4><br>  Diego Eis ( <a href="http://twitter.com/diegoeis">@diegoeis</a> ) - our designer from Brazil <br>  Stephani Rosi ( <a href="http://twitter.com/stephanerosi">@stephanerosi</a> ) - moderated by UserVoice Forum from Italy <br>  Zhenya Domanov ( <a href="http://twitter.com/jayminsk">@jayminsk</a> ) is just a good person who drew us. Logo <br>  Dima Danchenko ( <a href="http://twitter.com/Dan4a">@ Dan4a</a> ) <br>  Stas Shusha ( <a href="http://twitter.com/JourneymanMW">@JourneymanMW</a> ) <br><br><h4>  Development plans and other applications </h4><br>  We have a few ideas for creating games and utilities.  One of the ideas is to develop a multiplayer game, the participants of which will be able to play not only from the phone, but also from the desktop.  We have already tried this concept and created a multiplayer game called Naval Battle X (classic naval battle).  We also migrated the UI to Silverlight 4.0 and <a href="http://apps.facebook.com/navalbattlex">released it as a Facebook app</a> .  This allowed to play with opponents not only from the phone, but also Facebook.  This was the first stage of the verification of the concept and we will continue to develop this idea. <br>  So we have other application tools: <br><ol><li>  <a href="http://windowsphone.com/s%3Fappid%3D374d1253-6d1f-e011-854c-00237de2db9e">zTop</a> is an application for tracking a position in the Marketplace in the selected region and categories.  Builds a convenient graph on which displays the position of the application in each available region.  It also builds historical charts that show how the position has changed over time, which allows analyzing events that influenced the rating (advertising, release, etc.).  There is a <a href="http://sorokoletov.com/ztop/">desktop version</a> , which, in addition to the features listed above, allows you to view Marketplace reports on downloads and sales. </li><li>  <a href="http://windowsphone.com/s%3Fappid%3D7173c741-f192-e011-986b-78e7d1fa76f8">App Discounts</a> - an application showing the current discounts in the Markeplace by category. </li><li>  <a href="http://windowsphone.com/s%3Fappid%3D19f6148a-91ea-df11-9264-00237de2db9e">Naval Battle</a> - single-player battleship (from which it all started exactly a year ago). </li></ol><br><h4>  Conclusion </h4><br>  Less than a year has passed since the start of the WP7 platform, and it has already shown itself as a promising, fast-growing mobile OS.  Microsoft really made the right choice, taking Silverlight / XNA as the basis for developing for WP7, ensuring a low entry threshold.  Developer community support has been and remains awesome.  Periodic contests, events, webinars, a lot of online documentation and training materials - all this is the key to the success of the platform! <br>  As for us, we are glad that we are doing what we love.  It turned out exactly what we wanted - we could use our experience in .NET and Silverlight on a new mobile platform.  A lively community does not get bored, constant feedback and the use of the phone every day gives rise to many ideas that are easy to implement. <br>  Windows Phone 7 brings us both fun and money.  Agree, it is rarely possible to combine these things :) <br><br>  We are looking forward to your comments and suggestions: <br>  Alexander Sorokoletov ( <a href="http://twitter.com/alexsorokoletov">@alexsorokoletov</a> ) <br>  Alexey Fear ( <a href="http://twitter.com/alexeystrakh">@alexeystrakh</a> ) <br><br>  <b>AP:</b> <br>  You can view applications without Windows Phone / Zune here: <br><ul><li>  <a href="http://windowsphonegeek.com/AppHub/Application/7b8bedd5-4368-e011-81d2-78e7d1fa76f8">gMaps</a> </li><li>  <a href="http://windowsphonegeek.com/AppHub/Application/19f6148a-91ea-df11-9264-00237de2db9e">Naval battle</a> </li><li>  <a href="http://windowsphonegeek.com/AppHub/Application/374d1253-6d1f-e011-854c-00237de2db9e">zTop</a> </li><li>  <a href="http://windowsphonegeek.com/AppHub/Application/7173c741-f192-e011-986b-78e7d1fa76f8">App Discounts</a> </li></ul></div><p>Source: <a href="https://habr.com/ru/post/126398/">https://habr.com/ru/post/126398/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../126391/index.html">Opening RuSSIR'2011</a></li>
<li><a href="../126393/index.html">GTUGs of Russia with the support of Google invite you to hackathons on Google Chrome and a contest with prizes</a></li>
<li><a href="../126394/index.html">Perceptive Pixel has created the largest touchscreen display in the world.</a></li>
<li><a href="../126395/index.html">Practical seminars on the basis of the Service Provider Competence Center (SPb)</a></li>
<li><a href="../126397/index.html">Gamification of user activities or ‚ÄúPosted comment? Get a badge! ‚Äù</a></li>
<li><a href="../126399/index.html">How NASA processes images taken with the Hubble telescope video</a></li>
<li><a href="../126400/index.html">Application Testing with Fuzzing</a></li>
<li><a href="../126401/index.html">Training course: "Administration and elimination of errors in the work of the administrator in the LINUX environment"</a></li>
<li><a href="../126404/index.html">Hijacking ftp passwords or checking the speed of those. hosting support</a></li>
<li><a href="../126405/index.html">Samsung hired the founder of CyanogenMod</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>