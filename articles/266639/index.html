<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Why do I need AshleyMadison if I don't smoke?</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="As you all probably already know, recently dumps of AshleyMadison bases were posted. I decided not to miss the opportunity and analyze the real data o...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Why do I need AshleyMadison if I don't smoke?</h1><div class="post__text post__text-html js-mediator-article">  As you all probably already know, recently dumps of AshleyMadison bases were posted.  I decided not to miss the opportunity and analyze the real data of the dating platform.  Let's try to predict the client's solvency according to its characteristics such as age, height, weight, habits, etc. <br><br><img src="https://habrastorage.org/files/00c/16f/97d/00c16f97d1aa40bebe09b1d6fe7f4d57.png"><br><br>  Let's try? <br><a name="habracut"></a><br>  In this example, I will use iPython notebook.  For those who are engaged in analyzing data in Python and have not yet used <a href="http://ipython.org/notebook.html">iPython notebook</a> - I highly recommend it! 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      To build the model we will use anonymized data. <br><br>  <b>1. Data preparation in MySQL</b> <br><br>  To begin, fill in the dumps in MySQL and delete all users with id &lt;35,000,000 for ease of further processing.  I took the member_details and aminno_member tables. <br><br>  Data uploading is not very fast, even on a server with SSD (some tables weigh about 10 Gigov) <br><br>  Next, we need to fill in the payment data from csv and get the amount for each user.  As a result, the table turned out to be pays with id and sum fields. <br><br>  <b>2. Load data into pandas</b> <br><br>  Join 3 tables by user id and get DataFrame for further processing.  We take only users with photos, I think that this is a sign of at least some activity in the system: <br><br><pre><code class="python hljs">engine = create_engine(<span class="hljs-string"><span class="hljs-string">'mysql://login:pass@localhost:3306/db'</span></span>) <span class="hljs-comment"><span class="hljs-comment"># Creating MySQL engine sql = """ SELECT md.pnum, p.sum, am.gender, am.photos_public, md.profile_weight, md.profile_height, md.eye_color, md.hair_color, md.dob, md.profile_smoke, md.profile_ethnicity, md.profile_bodytype, md.profile_initially_seeking FROM `member_details` AS md JOIN `aminno_member` AS am ON md.pnum = am.pnum LEFT JOIN pays AS p ON md.pnum = p.id WHERE md.dob is not null AND (am.photos_public &gt; 0 OR p.sum is not NULL) """ df = pd.read_sql_query(sql, engine).fillna(0).set_index('pnum') #Reading data from mysql DB to pandas dataframe</span></span></code> </pre> <br>  Extract the year and month of birth: <br><br><pre> <code class="python hljs">df[<span class="hljs-string"><span class="hljs-string">'month_of_birth'</span></span>] = df[<span class="hljs-string"><span class="hljs-string">'dob'</span></span>].apply(<span class="hljs-keyword"><span class="hljs-keyword">lambda</span></span> x:x.month) df[<span class="hljs-string"><span class="hljs-string">'year_of_birth'</span></span>] = df[<span class="hljs-string"><span class="hljs-string">'dob'</span></span>].apply(<span class="hljs-keyword"><span class="hljs-keyword">lambda</span></span> x:x.year)</code> </pre><br>  Let us try to analyze whether the target variable (paid / not paid) depends on the user's characteristics?  Does it make sense to build a model? <br>  We divide the analyzed users into 2 parts: df0 - those who paid at least some, df1 - did not pay anything. <br><br><pre> <code class="python hljs">THRESHOLD = <span class="hljs-number"><span class="hljs-number">0.0001</span></span> df0 = df[(df[<span class="hljs-string"><span class="hljs-string">'sum'</span></span>] &gt; THRESHOLD)] df1 = df[(df[<span class="hljs-string"><span class="hljs-string">'sum'</span></span>] &lt; THRESHOLD)]</code> </pre><br>  We build 2 histograms for each user parameter.  Red - those who paid in blue - not paid. <br><pre> <code class="python hljs">cols = [<span class="hljs-string"><span class="hljs-string">'profile_weight'</span></span>,<span class="hljs-string"><span class="hljs-string">'profile_height'</span></span>,<span class="hljs-string"><span class="hljs-string">'year_of_birth'</span></span>,<span class="hljs-string"><span class="hljs-string">'month_of_birth'</span></span>, <span class="hljs-string"><span class="hljs-string">'eye_color'</span></span>, <span class="hljs-string"><span class="hljs-string">'hair_color'</span></span>,<span class="hljs-string"><span class="hljs-string">'profile_smoke'</span></span>, <span class="hljs-string"><span class="hljs-string">'profile_ethnicity'</span></span>, <span class="hljs-string"><span class="hljs-string">'profile_bodytype'</span></span>, <span class="hljs-string"><span class="hljs-string">'profile_initially_seeking'</span></span>,<span class="hljs-string"><span class="hljs-string">'gender'</span></span>] <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> col <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> cols: plt.figure(figsize=(<span class="hljs-number"><span class="hljs-number">10</span></span>,<span class="hljs-number"><span class="hljs-number">10</span></span>)) df0[col].hist(bins=<span class="hljs-number"><span class="hljs-number">50</span></span>, alpha=<span class="hljs-number"><span class="hljs-number">0.9</span></span>, color = <span class="hljs-string"><span class="hljs-string">'red'</span></span>, normed=<span class="hljs-number"><span class="hljs-number">1</span></span>) df1[col].hist(bins=<span class="hljs-number"><span class="hljs-number">50</span></span>, alpha=<span class="hljs-number"><span class="hljs-number">0.7</span></span>, normed=<span class="hljs-number"><span class="hljs-number">1</span></span>) plt.title(col) plt.show()</code> </pre><br>  Consider the most interesting: <br><br>  Year of birth: <br><br><img src="https://habrastorage.org/files/b89/3a4/20e/b893a420ea4646acaf19d7919d053c3d.png"><br><br>  The result is quite expected: age affects the target variable.  Older pay more willingly.  The peak of the histogram in paying accounts for about 35 years. <br><br>  Weight: <br><br><img src="https://habrastorage.org/files/c6d/009/f76/c6d009f767124647a5ba7292ec6237d1.png"><br><br>  It is more interesting here: those who weigh more are more willing to pay.  Although it is also quite logical <br><br>  Growth: <br><br><img src="https://habrastorage.org/files/e22/570/32d/e2257032d42e4e9783d624299f784656.png"><br><br>  High pay a little more willing.  The distribution is very uneven.  Perhaps the growth on the site is not a number, but an interval. <br><br>  Smoking: <br><br><img src="https://habrastorage.org/files/eb4/c11/40a/eb4c1140aacc4b90a6ba663090ffadea.png"><br><br>  To the question of the title of the article.  The obvious dependence is viewed, the question is - what do the values ‚Äã‚Äã1,2,3,4 mean? <br><br>  The remaining user settings do not give such an interesting picture, although they also have their own contribution.  <a href="https://gist.github.com/seshaln/bbad57ad0d3649ca6ebb">There</a> is a complete version of this notebook where you can see all histograms. <br><br>  <b>2. The prediction of the probability of payment</b> <br><br>  First, select the target variable (paid / not paid) which we will predict: <br><br><pre> <code class="python hljs">y = (df[<span class="hljs-string"><span class="hljs-string">'sum'</span></span>] &gt; THRESHOLD).astype(np.int32)</code> </pre><br>  We single out the categorical signs and binarize them: <br><br><pre> <code class="python hljs">categorical = [<span class="hljs-string"><span class="hljs-string">'month_of_birth'</span></span>, <span class="hljs-string"><span class="hljs-string">'eye_color'</span></span>, <span class="hljs-string"><span class="hljs-string">'hair_color'</span></span>,<span class="hljs-string"><span class="hljs-string">'profile_smoke'</span></span>, <span class="hljs-string"><span class="hljs-string">'profile_ethnicity'</span></span>, <span class="hljs-string"><span class="hljs-string">'profile_bodytype'</span></span>, <span class="hljs-string"><span class="hljs-string">'profile_initially_seeking'</span></span>] ohe = preprocessing.OneHotEncoder(dtype=np.float32) Xcategories = ohe.fit_transform(df[categorical]).todense()</code> </pre><br>  Select the metric signs and combine them with the result of binarization: <br><br><pre> <code class="python hljs">numeric = [<span class="hljs-string"><span class="hljs-string">'gender'</span></span>,<span class="hljs-string"><span class="hljs-string">'profile_weight'</span></span>,<span class="hljs-string"><span class="hljs-string">'profile_height'</span></span>,<span class="hljs-string"><span class="hljs-string">'year_of_birth'</span></span>] Xnumeric = df[numeric].as_matrix() X = np.hstack((Xcategories,Xnumeric))</code> </pre><br>  We divide the sample into 2 parts 90% and 10%.  At first we will train and tyunit model.  On the second - to assess the accuracy of the resulting model. <br><br><pre> <code class="python hljs">X_train, X_test, y_train, y_test = cross_validation.train_test_split(X, y, test_size=<span class="hljs-number"><span class="hljs-number">0.1</span></span>, random_state=<span class="hljs-number"><span class="hljs-number">7</span></span>)</code> </pre><br>  We train the RandomForest classifier and select the optimal parameters. <br><br><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">from</span></span> sklearn.preprocessing <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> StandardScaler <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> sklearn.ensemble <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> RandomForestClassifier <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> sklearn <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> decomposition, pipeline, metrics, grid_search rf = RandomForestClassifier(random_state=<span class="hljs-number"><span class="hljs-number">7</span></span>, n_jobs=<span class="hljs-number"><span class="hljs-number">4</span></span>) scl = StandardScaler() clf = pipeline.Pipeline([(<span class="hljs-string"><span class="hljs-string">'scl'</span></span>, scl), (<span class="hljs-string"><span class="hljs-string">'rf'</span></span>, rf)]) param_grid = {<span class="hljs-string"><span class="hljs-string">'rf__n_estimators'</span></span>: (<span class="hljs-number"><span class="hljs-number">100</span></span>,<span class="hljs-number"><span class="hljs-number">200</span></span>), <span class="hljs-string"><span class="hljs-string">'rf__max_depth'</span></span>: (<span class="hljs-number"><span class="hljs-number">10</span></span>,<span class="hljs-number"><span class="hljs-number">20</span></span>), } model = grid_search.GridSearchCV(estimator = clf, param_grid=param_grid, scoring=<span class="hljs-string"><span class="hljs-string">'roc_auc'</span></span>, verbose=<span class="hljs-number"><span class="hljs-number">10</span></span>, cv=<span class="hljs-number"><span class="hljs-number">3</span></span>) model.fit(X_train, y_train) print(<span class="hljs-string"><span class="hljs-string">"Best score: %0.3f"</span></span> % model.best_score_) print(<span class="hljs-string"><span class="hljs-string">"Best parameters set:"</span></span>) best_parameters = model.best_estimator_.get_params() <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> param_name <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> sorted(param_grid.keys()): print(<span class="hljs-string"><span class="hljs-string">"\t%s: %r"</span></span> % (param_name, best_parameters[param_name]))</code> </pre><br><pre> <code class="hljs swift"><span class="hljs-type"><span class="hljs-type">Best</span></span> score: <span class="hljs-number"><span class="hljs-number">0.802</span></span> <span class="hljs-type"><span class="hljs-type">Best</span></span> parameters <span class="hljs-keyword"><span class="hljs-keyword">set</span></span>: rf__max_depth: <span class="hljs-number"><span class="hljs-number">20</span></span> rf__n_estimators: <span class="hljs-number"><span class="hljs-number">200</span></span></code> </pre><br>  We estimate the significance of the signs: <br><br><pre> <code class="python hljs">best = model.best_estimator_ <span class="hljs-keyword"><span class="hljs-keyword">print</span></span> best.steps[<span class="hljs-number"><span class="hljs-number">1</span></span>][<span class="hljs-number"><span class="hljs-number">1</span></span>].feature_importances_</code> </pre><br><pre> <code class="hljs json">[ <span class="hljs-number"><span class="hljs-number">0.01083346</span></span> <span class="hljs-number"><span class="hljs-number">0.00745737</span></span> <span class="hljs-number"><span class="hljs-number">0.00754652</span></span> <span class="hljs-number"><span class="hljs-number">0.00764087</span></span> <span class="hljs-number"><span class="hljs-number">0.0075468</span></span> <span class="hljs-number"><span class="hljs-number">0.00769951</span></span> <span class="hljs-number"><span class="hljs-number">0.00780227</span></span> <span class="hljs-number"><span class="hljs-number">0.0076059</span></span> <span class="hljs-number"><span class="hljs-number">0.00747405</span></span> <span class="hljs-number"><span class="hljs-number">0.00733789</span></span> <span class="hljs-number"><span class="hljs-number">0.00720822</span></span> <span class="hljs-number"><span class="hljs-number">0.00720196</span></span> <span class="hljs-number"><span class="hljs-number">0.01067164</span></span> <span class="hljs-number"><span class="hljs-number">0.00229657</span></span> <span class="hljs-number"><span class="hljs-number">0.00271315</span></span> <span class="hljs-number"><span class="hljs-number">0.00403617</span></span> <span class="hljs-number"><span class="hljs-number">0.00453246</span></span> <span class="hljs-number"><span class="hljs-number">0.00420906</span></span> <span class="hljs-number"><span class="hljs-number">0.01227852</span></span> <span class="hljs-number"><span class="hljs-number">0.00166965</span></span> <span class="hljs-number"><span class="hljs-number">0.00060406</span></span> <span class="hljs-number"><span class="hljs-number">0.00293115</span></span> <span class="hljs-number"><span class="hljs-number">0.00347255</span></span> <span class="hljs-number"><span class="hljs-number">0.00581456</span></span> <span class="hljs-number"><span class="hljs-number">0.00176878</span></span> <span class="hljs-number"><span class="hljs-number">0.00060611</span></span> <span class="hljs-number"><span class="hljs-number">0.00129565</span></span> <span class="hljs-number"><span class="hljs-number">0.06303697</span></span> <span class="hljs-number"><span class="hljs-number">0.00526695</span></span> <span class="hljs-number"><span class="hljs-number">0.00408359</span></span> <span class="hljs-number"><span class="hljs-number">0.04618295</span></span> <span class="hljs-number"><span class="hljs-number">0.03014204</span></span> <span class="hljs-number"><span class="hljs-number">0.00401634</span></span> <span class="hljs-number"><span class="hljs-number">0.00312768</span></span> <span class="hljs-number"><span class="hljs-number">0.0041792</span></span> <span class="hljs-number"><span class="hljs-number">0.00073294</span></span> <span class="hljs-number"><span class="hljs-number">0.00260749</span></span> <span class="hljs-number"><span class="hljs-number">0.00137382</span></span> <span class="hljs-number"><span class="hljs-number">0.00385419</span></span> <span class="hljs-number"><span class="hljs-number">0.03020433</span></span> <span class="hljs-number"><span class="hljs-number">0.00788376</span></span> <span class="hljs-number"><span class="hljs-number">0.01423438</span></span> <span class="hljs-number"><span class="hljs-number">0.00953692</span></span> <span class="hljs-number"><span class="hljs-number">0.01218361</span></span> <span class="hljs-number"><span class="hljs-number">0.00685376</span></span> <span class="hljs-number"><span class="hljs-number">0.00812187</span></span> <span class="hljs-number"><span class="hljs-number">0.00433835</span></span> <span class="hljs-number"><span class="hljs-number">0.00294894</span></span> <span class="hljs-number"><span class="hljs-number">0.01210143</span></span> <span class="hljs-number"><span class="hljs-number">0.00806778</span></span> <span class="hljs-number"><span class="hljs-number">0.00458055</span></span> <span class="hljs-number"><span class="hljs-number">0.01323813</span></span> <span class="hljs-number"><span class="hljs-number">0.01434638</span></span> <span class="hljs-number"><span class="hljs-number">0.0120177</span></span> <span class="hljs-number"><span class="hljs-number">0.03383968</span></span> <span class="hljs-number"><span class="hljs-number">0.1623351</span></span> <span class="hljs-number"><span class="hljs-number">0.11347244</span></span> <span class="hljs-number"><span class="hljs-number">0.2088358</span></span> ]</code> </pre><br>  The most significant (by decreasing significance): year_of_birth, profile_weight, profile_height. <br><br>  Assess the quality of the model on the test sample and build a ROC curve: <br><br><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">from</span></span> sklearn.metrics <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> roc_curve,roc_auc_score y_pred = best.predict_proba(X_test).T[<span class="hljs-number"><span class="hljs-number">1</span></span>] <span class="hljs-keyword"><span class="hljs-keyword">print</span></span> roc_auc_score(y_test, y_pred) fpr, tpr , thresholds = roc_curve(y_test, y_pred) plt.figure(figsize=(<span class="hljs-number"><span class="hljs-number">10</span></span>,<span class="hljs-number"><span class="hljs-number">10</span></span>)) plt.plot(fpr, tpr, label=<span class="hljs-string"><span class="hljs-string">'ROC curve'</span></span>) plt.plot([<span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>], [<span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>], <span class="hljs-string"><span class="hljs-string">'k--'</span></span>) plt.xlim([<span class="hljs-number"><span class="hljs-number">0.0</span></span>, <span class="hljs-number"><span class="hljs-number">1.0</span></span>]) plt.ylim([<span class="hljs-number"><span class="hljs-number">0.0</span></span>, <span class="hljs-number"><span class="hljs-number">1.05</span></span>]) plt.xlabel(<span class="hljs-string"><span class="hljs-string">'False Positive Rate'</span></span>) plt.ylabel(<span class="hljs-string"><span class="hljs-string">'True Positive Rate'</span></span>) plt.title(<span class="hljs-string"><span class="hljs-string">'Receiver operating characteristic'</span></span>) plt.legend(loc=<span class="hljs-string"><span class="hljs-string">"lower right"</span></span>) plt.show()</code> </pre><br><img src="https://habrastorage.org/files/a9b/6f0/1d7/a9b6f01d712345c295c5073d2c57bd04.png"><br><br>  To measure the quality of the classifier we will use the <a href="https://ru.wikipedia.org/wiki/ROC-%25D0%25BA%25D1%2580%25D0%25B8%25D0%25B2%25D0%25B0%25D1%258F">ROC_AUC score</a> <br><br>  ROC_AUC = 0.79926 <br><br>  <b>results</b> <br>  Predict the propensity of users to pay for services is really possible.  Accuracy is not very high (roc_auc = 0.8), but we used only a part of the parameters and did not pay attention to behavioral factors at all (no data). <br><br>  <b>What's next?</b> <br><ul><li>  You can try to predict something based on tastes / preferences.  The database has the fields 'pref_opento', 'pref_lookingfor' of the form "12 | 17 | 58 | 97" - these are links to some directory which is not.  You can build a model without it, but you will not be able to interpret it. </li><li>  Try a regression model and predict the amount, not the fact of payment. </li><li>  Play around with algorithms, sample size, sample parameters (I used photos_public&gt; 0) </li><li>  <b>Your suggestions?</b> </li></ul><br><br>  <b>UPD:</b> <br>  For those who want to play with the data, I post a dump of the DataFrame myself <br>  <a href="https://yadi.sk/d/YaNM8DTZj2ybn">yadi.sk/d/YaNM8DTZj2ybn</a> <br><br><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> joblib <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> pandas <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> pd df = joblib.load(<span class="hljs-string"><span class="hljs-string">"1.pkl"</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">print</span></span> df</code> </pre><br>  And go! </div><p>Source: <a href="https://habr.com/ru/post/266639/">https://habr.com/ru/post/266639/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../266623/index.html">Event-oriented Python backtesting step by step. Part 3</a></li>
<li><a href="../266625/index.html">Cisco internship program - Cisco International Internship Program. How it was</a></li>
<li><a href="../266627/index.html">Himself a virtual operator</a></li>
<li><a href="../266629/index.html">Increase array efficiency</a></li>
<li><a href="../266637/index.html">Support is over: What to do? Who and what can help?</a></li>
<li><a href="../266641/index.html">How to find the algorithm of the intellect</a></li>
<li><a href="../266645/index.html">As an independent developer touched the legend. Part two</a></li>
<li><a href="../266647/index.html">IBM will make the NodeJS platform corporate standard</a></li>
<li><a href="../266649/index.html">Why do we need no-reply @ mail?</a></li>
<li><a href="../266651/index.html">A-SIM, tune in! Special SIM card and many-many incoming numbers</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>