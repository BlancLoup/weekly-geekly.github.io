<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>We test Web UI on F # and canopy</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Good day! Recently, I started to get involved in functional programming, so in this article I would like to share with you my findings. I am very symp...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>We test Web UI on F # and canopy</h1><div class="post__text post__text-html js-mediator-article">  Good day!  Recently, I started to get involved in functional programming, so in this article I would like to share with you my findings.  I am very sympathetic to the minimalism of the syntax of functional languages.  The power and beauty that a few lines of code carry. <br><br>  In the process of UI testing my working project in C # and selenium, I wondered how the test scripts would look in one of the functional languages.  My choice fell on F #.  Searching, I came across a very interesting framework called <a href="https://lefthandedgoat.github.io/canopy/">canopy</a> , which is based on the well-known selenium and fully implemented in the F # language.  From the very first lines of the code, he impressed me with his simplicity and minimalism of the syntax, which allows you to simplify complex things. <br><a name="habracut"></a><br>  As an example, let's look at the simplest test case from the main page of the <a href="https://lefthandedgoat.github.io/canopy/">site</a> .  To start, you need to install the nuget canopy package and download the webdriver for your browser. <br><br><pre><code class="cs hljs"><span class="hljs-comment"><span class="hljs-comment">//these are similar to C# using statements open canopy open runner open System //start an instance of the firefox browser start firefox //this is how you define a test "taking canopy for a spin" &amp;&amp;&amp; fun _ -&gt; //this is an F# function body, it's whitespace enforced //go to url url "http://lefthandedgoat.github.io/canopy/testpages/" //assert that the element with an id of 'welcome' has //the text 'Welcome' "#welcome" == "Welcome" //assert that the element with an id of 'firstName' has the value 'John' "#firstName" == "John" //change the value of element with //an id of 'firstName' to 'Something Else' "#firstName" &lt;&lt; "Something Else" //verify another element's value, click a button, //verify the element is updated "#button_clicked" == "button not clicked" click "#button" "#button_clicked" == "button clicked" //run all tests run() printfn "press [enter] to exit" System.Console.ReadLine() |&gt; ignore quit()</span></span></code> </pre> <br>  With the naked eye it is clear that the code is very simple and readable.  After starting the program displays a brief report with the results. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <img src="https://habrastorage.org/files/b43/46e/08d/b4346e08d6414e309a8497c047892810"><br><br>  But this is not all.  I want to tell you about the main buns for full-fledged UI testing. <br><br>  There is a possibility of testing with slowing down and selection of elements with which the test works.  All you need is to add one more ampersant sign (&amp;) after the test name. <br><br><pre> <code class="cs hljs"><span class="hljs-string"><span class="hljs-string">"taking canopy for a spin"</span></span> &amp;&amp;&amp;&amp; fun _ -&gt;</code> </pre> <br>  Now we see the elements with which the test works. <br><br><img src="https://habrastorage.org/files/6fe/779/945/6fe779945af7411483c46b28fa12be72"><br><br>  If we need to specifically select any element, use the function <br><br><pre> <code class="cs hljs">highlight <span class="hljs-string"><span class="hljs-string">".btn"</span></span></code> </pre> <br>  It is very easy to make screenshots using the function: screenshot.  All you need to specify the path and name of the screenshot <br><br><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">let</span></span> path = Environment.GetFolderPath(Environment.SpecialFolder.ApplicationData) + <span class="hljs-string"><span class="hljs-string">@"\canopy\"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> filename = DateTime.Now.ToString(<span class="hljs-string"><span class="hljs-string">"MMM-d_HH-mm-ss-fff"</span></span>) screenshot path filename</code> </pre><br><br>  You can complicate and improve our test by adding a function that makes a screenshot for any test not passed: <br><br><pre> <code class="cs hljs">onFail (fun _ -&gt; <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> pathToReports = __SOURCE_DIRECTORY__ + <span class="hljs-string"><span class="hljs-string">@"\canopy\"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> filename = System.DateTime.Now.ToString(<span class="hljs-string"><span class="hljs-string">"MMM-d_HH-mm-ss-fff"</span></span>) screenshot pathToScreens filename |&gt; ignore )</code> </pre><br>  As a result, if any of the tests fail, a screenshot is added to the ‚Äúcanopy‚Äù folder located in the project root. <br><br>  Another interesting feature can be found when generating a report.  All that is required of us is to add the use of an implemented html reporter.  After launch, we see that the report was generated in a convenient HTML format, in addition to the screenshots of the browser for failed tests.  To automatically save the report, add a couple of lines of code: <br><br><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">let</span></span> liveHtmlReporter = reporter :?&gt; LiveHtmlReporter liveHtmlReporter.reportPath &lt;- Some pathToReports</code> </pre> <br>  To run the javascript script, use the js function. <br><br><pre> <code class="cs hljs"><span class="hljs-comment"><span class="hljs-comment">//give the title a border js "document.querySelector('#title').style.border = 'thick solid #FFF467';"</span></span></code> </pre> <br>  To simulate pressing a keyboard key, we use the function press tab, press enter, press up, etc.  This is only a small part of the interesting functions to perform complex work, showing the strengths of the framework minimalism. <br><br>  Total, what we have.  The framework is very easy to use, which allows you to write simple, concise and readable tests that are understandable to the developer of any level.  Using canopy, you can build quite comfortable and informative reports, both on passed tests, and on failed. </div><p>Source: <a href="https://habr.com/ru/post/309240/">https://habr.com/ru/post/309240/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../309230/index.html">10 Webpack features</a></li>
<li><a href="../309232/index.html">In memory of Solomon Golomb (1932-2016): the author of the shift register with linear feedback of maximum length and polynomial</a></li>
<li><a href="../309234/index.html">Top10 Virtualization Software Companies</a></li>
<li><a href="../309236/index.html">How to make them not go away</a></li>
<li><a href="../309238/index.html">Cloud and Consulting: Case for Private Cloud Migration</a></li>
<li><a href="../309242/index.html">We write an elegant parser on Python</a></li>
<li><a href="../309244/index.html">Data Science Week 2016</a></li>
<li><a href="../309246/index.html">Data Science Tools as an Alternative to Classic IT Systems Integration</a></li>
<li><a href="../309248/index.html">ACIT will assume the role of an ‚Äúarbitrator‚Äù in conflicts between online sellers and consumers</a></li>
<li><a href="../309252/index.html">Voronoi diagram and its applications</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>