<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Installing ORACLE 11gR2 DBMS on a stand-alone server running ORACLE Linux 6 OS</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="This article describes the procedure for installing the ORACLE 11gR2 DBMS on a stand-alone server running the ORACLE Linux 6 OS. 


 Foreword 
 If you...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Installing ORACLE 11gR2 DBMS on a stand-alone server running ORACLE Linux 6 OS</h1><div class="post__text post__text-html js-mediator-article">  This article describes the procedure for installing the ORACLE 11gR2 DBMS on a stand-alone server running the ORACLE Linux 6 OS. <br><a name="habracut"></a><br><br><h1>  Foreword </h1><br>  If you are reading this, then I recommend that you stop it.  Pay attention to other Orthodox DBMS, such as PostgreSQL, etc. You can also consider Dzen DBMS related to NoSQL.  The only excuse for further reading may be a pistol (or something like that) pressed to a temple. <br>  It is also considered that the product you are using is backed by a corresponding license.  The organization in which this installation takes place is the lucky owner of the Oracle Standard Edition license, therefore the installation of this version will be considered.  But the difference in installation will be only in the final stages. <br>  This instruction was written during the installation of the DBMS in order to be able to be repeated by an employee with any qualification.  In this connection, I tried to paint everything as detailed as possible.  Some things may seem obvious, which in no way questions the skills of the masters. <br><br><h1>  Operator prerequisites </h1><br>  Understand what <a href="https://access.redhat.com/knowledge/docs/en-US/Red_Hat_Enterprise_Linux/6/html/Installation_Guide/index.html">is</a> written <a href="https://access.redhat.com/knowledge/docs/en-US/Red_Hat_Enterprise_Linux/6/html/Installation_Guide/index.html">here</a> .  It is advisable to be registered with <a href="http://ru.redhat.com/">Red Hat</a> for full access to the documentation, since there will be no links to it here, since it is available only to subscribers.  For example: <a href="https://access.redhat.com/knowledge/articles/216813">here</a> pdf is available for subscribers with instructions for installing ORACLE on RHEL6. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h1>  Installing OS ORACLE Linux 6 </h1><br>  Install Linux OS ORACLE 6 from the distribution downloaded from <a href="https://edelivery.oracle.com/linux">e-delivery</a> (You can use any other clone RHEL5, for other clones you will need to install oracle-rdbms-server-11gR2-preinstall.x86_64 oracleasm-support.x86_64 with handles, only for RHEL5 clones) .  When installing pay attention to the following: <br><ol><li>  It is necessary for the ORACLE DBMS server to have a <acronym>FQDN</acronym> .  To do this, make the appropriate entry in your domain name server.  In our case it will be <b>oracleserver.kontora.ru</b> . <br></li><li>  The installation language for convenience is Russian, the keyboard layout is American. <br></li><li>  Splitting hard drives (it is recommended not to use logical volumes for ASM disks, among other things, this gives a bonus in the form of the possibility of using udev rules instead of the ASMLib library, which will allow you to leave SELINUX <a href="https://access.redhat.com/knowledge/articles/216353">enabled</a> , but in view of the limited resources I use them): <br><ol><li>  The / boot partition, most distros recommend 512MB for it. <br></li><li>  The remaining disk space for the PVM (physical partition for creating a volume group). <br></li><li>  Create a volume group and assign it the name ‚Äúvg_oracleserver‚Äù.  Create in it the following sections: <br><ol><li>  swap - for 64-bit systems, is equal to RAM with RAM = &lt;32 GB, or 32 GB with large RAM ( <a href="http://docs.oracle.com/cd/E11882_01/install.112/e22489/prelinux.htm">link</a> ) with a probability close to 1, installation is performed on this type of equipment.  [on the Internet there is an opinion that <strike>250 Russian rubles will be saved by the father of Russian Democracy</strike> 16 GB] <br></li><li>  temp - at least 1 GB ( <a href="http://docs.oracle.com/cd/E11882_01/install.112/e24326/toc.htm">more</a> ). <br></li><li>  <strike>640 KB is enough for all</strike> 32 GB should be enough for the root directory (we will keep the base in ASM), you can create different block devices for each directory, but they will not differ in mount parameters. <br></li><li>  Partitions for ASM will be created during installation. <br></li></ol><br></li><li>  Installation type 'Basic server', choose to configure the list of packages now: <br><ol><li>  in the base packages, add a group of compatibility packages with previous Linux releases and a group of compatibility packages with Unix; <br></li><li>  in the group of servers we select administration packages and check packages that start with <i>oracle *</i> (further it is considered that these packages are installed, and corresponding parameters are already available, when installing on RHEL6, these packages will need to be installed manually). <br></li></ol><br></li></ol><br></li></ol><br>  After reboot, connect to the server through a secure shell. <br>  <b>$ ssh root @ oracleserver</b> <br><br>  After installation, add the EPEL repository (optional, I use it only because of bash-completion).  Upgrade the system (required) !!! <br>  <b># yum install <a href="">download.fedoraproject.org/pub/epel/6/x86_64/epel-release-6-8.noarch.rpm</a></b> <b><br></b>  <b># yum -y upgrade</b> <b><br></b> <br>  The oracle-rdbms-server-11gR2-preinstall package adds system users and configures the system parameters for running ORACLE DBMS, but this is not enough for US, so we do the following: <br><ol><li>  create user groups <br>  <b># groupadd -g 54321 oinstall</b> (already there !!!) <br>  <b># groupadd -g 54322 dba</b> (already there !!!) <br>  <b># groupadd -g 54324 asmadmin</b> <b><br></b>  <b># groupadd -g 54326 asmdba</b> <b><br></b>  <b># groupadd -g 54327 asmoper</b> <b><br></b> <br></li><li>  create users and define their groups <br>  <b># usermod -G asmdba, dba oracle</b> <b><br></b>  <b># useradd -u 54322 -g oinstall -G asmadmin, asmdba, asmoper, dba grid</b> <b><br></b> <br></li><li>  create passwords <br>  <b># passwd oracle</b> <b><br></b>  <b># passwd grid</b> <b><br></b> <br></li><li>  let's set SELINUX rules <br>  <b># vim / etc / selinux / config</b> <br>  replace SELINUX = enabled <br>  on SELINUX = disabled <br>  This action is awful, but it is required by the official ORACLE documentation.  Judging by the RedHat documentation, this item can be circumvented by using udev instead of ASMlib (if I have hardware and time, I‚Äôll check it, but for the time being we are working on the ORACLE documentation). <br><br></li><li>  let's set the firewall right <br>  <b># vim / etc / sysconfig / iptables</b> <br>  comment out the restrict lines and restart <br>  <b># service iptables restart</b> <br>  Again, terrible action, and again required documentation.  Although after installation you can experiment and achieve stable operation. <br><br></li><li>  these packages must be <a href="http://docs.oracle.com/cd/E11882_01/install.112/e24326/toc.htm">installed</a> (versions may differ !!!): <br>  <i>binutils-2.20.51.0.2-5.11.el6 (x86_64)</i> <i><br></i>  <i>compat-libcap1-1.10-1 (x86_64)</i> <i><br></i>  <i>compat-libstdc ++ - 33-3.2.3-69.el6 (x86_64)</i> <i><br></i>  <i>compat-libstdc ++ - 33-3.2.3-69.el6.i686</i> <i><br></i>  <i>gcc-4.4.4-13.el6 (x86_64)</i> <i><br></i>  <i>gcc-c ++ - 4.4.4-13.el6 (x86_64)</i> <i><br></i>  <i>glibc-2.12-1.7.el6 (i686)</i> <i><br></i>  <i>glibc-2.12-1.7.el6 (x86_64)</i> <i><br></i>  <i>glibc-devel-2.12-1.7.el6 (x86_64)</i> <i><br></i>  <i>glibc-devel-2.12-1.7.el6.i686</i> <i><br></i>  <i>ksh</i> <i><br></i>  <i>libgcc-4.4.4-13.el6 (i686)</i> <i><br></i>  <i>libgcc-4.4.4-13.el6 (x86_64)</i> <i><br></i>  <i>libstdc ++ - 4.4.4-13.el6 (x86_64)</i> <i><br></i>  <i>libstdc ++ - 4.4.4-13.el6.i686</i> <i><br></i>  <i>libstdc ++ - devel-4.4.4-13.el6 (x86_64)</i> <i><br></i>  <i>libstdc ++ - devel-4.4.4-13.el6.i686</i> <i><br></i>  <i>libaio-0.3.107-10.el6 (x86_64)</i> <i><br></i>  <i>libaio-0.3.107-10.el6.i686</i> <i><br></i>  <i>libaio-devel-0.3.107-10.el6 (x86_64)</i> <i><br></i>  <i>libaio-devel-0.3.107-10.el6.i686</i> <i><br></i>  <i>make-3.81-19.el6</i> <i><br></i>  <i>sysstat-9.0.4-11.el6 (x86_64)</i> <i><br></i> <br></li><li>  install <i>unixODBC</i> and <i>unixODBC-devel</i> packages of both digits <br><br></li><li>  Install and run the OS profile configuration daemon: <br>  <b># yum install tuned</b> <b><br></b>  <b># chkconfig tuned on</b> <b><br></b>  <b># tuned-adm profile enterprise-storage</b> <br>  Taken from a Red Hat subscription file. <br><br></li><li>  configure huge pages for ORACLE <br><br><ol><li>  find the size of one page <br>  <b># grep Hugepagesize / proc / meminfo</b> <br>  in my case it was 2048kB <br><br></li><li> those.  to create a 1GB page set, we need 512 pages: <br>  <b># echo '# Number of hugepages to use' &gt;&gt; /etc/sysctl.conf</b> <b><br></b>  <b># echo vm.nr_hugepages = 512 &gt;&gt; /etc/sysctl.conf</b> <b><br></b>  <b># echo &gt;&gt; /etc/sysctl.conf</b> <b><br></b>  <b># sysctl -p</b> <b><br></b> <br></li><li>  since static 'huge pages' are fixed in memory and cannot be transferred to the swap users oracle and grid need the rights to use this memory (further for the case described in paragraph 2 above): <br>  <b># echo '# hugepages access by oracle user' &gt;&gt; /etc/security/limits.conf</b> <b><br></b>  <b># echo 'oracle hard memlock 1048576' &gt;&gt; /etc/security/limits.conf</b> <b><br></b>  <b># echo 'oracle soft memlock 1048576' &gt;&gt; /etc/security/limits.conf</b> <b><br></b>  <b># echo &gt;&gt; /etc/security/limits.conf</b> <b><br></b>  <b># echo '# huge pages access by grid user.'</b>  <b>&gt;&gt; /etc/security/limits.conf</b> <b><br></b>  <b># echo 'grid hard memlock 1048576' &gt;&gt; /etc/security/limits.conf</b> <b><br></b>  <b># echo 'grid soft memlock 1048576' &gt;&gt; /etc/security/limits.conf</b> <b><br></b>  <b># echo &gt;&gt; /etc/security/limits.conf</b> <br></li></ol><br></li><li>  The following parameters are recommended for controlling the frequency of memory accesses: <br>  <b># echo 'This is where the virtual memory is reclaimed' &gt;&gt; /etc/sysctl.conf</b> <b><br></b>  <b># echo vm.swappiness = 0 &gt;&gt; /etc/sysctl.conf</b> <b><br></b>  <b># echo vm.dirty_background_ratio = 3 &gt;&gt; /etc/sysctl.conf</b> <b><br></b>  <b># echo vm.dirty_ratio = 15 &gt;&gt; /etc/sysctl.conf</b> <b><br></b>  <b># echo vm.dirty_expire_centisecs = 500 &gt;&gt; /etc/sysctl.conf</b> <b><br></b>  <b># echo vm.dirty_writeback_centisecs = 100 &gt;&gt; /etc/sysctl.conf</b> <b><br></b>  <b># echo &gt;&gt; /etc/sysctl.conf</b> <b><br></b>  <b># sysctl -p</b> <b><br></b> <br></li><li>  create a shell constraint for the grid user, similar to the oracle shell constraints created by the packages selected during installation <br>  <b># echo '# grid setting for nofile soft limit is 1024' &gt;&gt; /etc/security/limits.conf</b> <b><br></b>  <b># echo 'grid soft nofile 1024' &gt;&gt; /etc/security/limits.conf</b> <b><br></b>  <b># echo '# grid setting for nofile hard limit is 65536' &gt;&gt; /etc/security/limits.conf</b> <b><br></b>  <b># echo 'grid hard nofile 65536' &gt;&gt; /etc/security/limits.conf</b> <b><br></b>  <b># echo '# grid setting for nproc soft limit is 2047' &gt;&gt; /etc/security/limits.conf</b> <b><br></b>  <b># echo 'grid soft nproc 2047' &gt;&gt; /etc/security/limits.conf</b> <b><br></b>  <b># echo '# grid setting for nproc hard limit is 16384' &gt;&gt; /etc/security/limits.conf</b> <b><br></b>  <b># echo 'grid hard nproc 16384' &gt;&gt; /etc/security/limits.conf</b> <b><br></b>  <b># echo '# grid setting soft limit is 10240KB' &gt;&gt; /etc/security/limits.conf</b> <b><br></b>  <b># echo 'grid soft stack 10240' &gt;&gt; /etc/security/limits.conf</b> <b><br></b>  <b># echo 'grid setting # limit hard limit is 32768KB' &gt;&gt; /etc/security/limits.conf</b> <b><br></b>  <b># echo 'grid hard stack 32768' &gt;&gt; /etc/security/limits.conf</b> <b><br></b>  <b># echo &gt;&gt; /etc/security/limits.conf</b> <b><br></b> <br></li><li>  optimize kernel parameters for the network <br>  <b># echo '# Additional network parameters' &gt;&gt; /etc/sysctl.conf</b> <b><br></b>  <b># echo 'net.ipv4.tcp_wmem = 262144 262144 262144' &gt;&gt; /etc/sysctl.conf</b> <b><br></b>  <b># echo 'net.ipv4.tcp_rmem = 4194304 4194304 4194304' &gt;&gt; /etc/sysctl.conf</b> <b><br></b>  <b># echo &gt;&gt; /etc/sysctl.conf</b> <b><br></b>  <b># sysctl -p</b> <b><br></b> <br></li><li>  add a line to the /etc/pam.d/login file <br>  <b># echo 'session required pam_limits.so' &gt;&gt; /etc/pam.d/login</b> <br><br></li><li>  create a script defining shell parameters <br>  <b># touch /etc/profile.d/oraclegrid.sh</b> <b><br></b>  <b># echo '#! / bin / bash'&gt; /etc/profile.d/oraclegrid.sh</b> <b><br></b>  <b># echo 'if [$ USER = "oracle"] ||</b>  <b>[$ USER = "grid"];</b>  <b>then '&gt;&gt; /etc/profile.d/oraclegrid.sh</b> <b><br></b>  <b># echo 'if [$ SHELL = "/ bin / ksh"];</b>  <b>then '&gt;&gt; /etc/profile.d/oraclegrid.sh</b> <b><br></b>  <b># echo 'ulimit -p 16384' &gt;&gt; /etc/profile.d/oraclegrid.sh</b> <b><br></b>  <b># echo 'ulimit -n 65536' &gt;&gt; /etc/profile.d/oraclegrid.sh</b> <b><br></b>  <b># echo 'else' &gt;&gt; /etc/profile.d/oraclegrid.sh</b> <b><br></b>  <b># echo 'ulimit -u 16384 -n 65536' &gt;&gt; /etc/profile.d/oraclegrid.sh</b> <b><br></b>  <b># echo 'fi' &gt;&gt; /etc/profile.d/oraclegrid.sh</b> <b><br></b>  <b># echo 'umask 022' &gt;&gt; /etc/profile.d/oraclegrid.sh</b> <b><br></b>  <b># echo 'fi' &gt;&gt; /etc/profile.d/oraclegrid.sh</b> <b><br></b>  <b># chmod + x /etc/profile.d/oraclegrid.sh</b> <br></li></ol><br>  Create folders: <br><br><ol><li>  Oracle inventory <br>  <b># mkdir -p / u01 / app / oraInventory</b> <b><br></b>  <b># chown -R grid: oinstall / u01 / app / oraInventory</b> <b><br></b>  <b># chmod -R 775 / u01 / app / oraInventory</b> <b><br></b> <br></li><li>  Grid infrastructure home <br>  <b># mkdir -p /u01/11.2.0/grid</b> <b><br></b>  <b># chown -R grid: oinstall /u01/11.2.0/grid</b> <b><br></b>  <b># chmod -R 775 /u01/11.2.0/grid</b> <b><br></b> <br></li><li>  Oracle Base Directory <br>  <b># mkdir -p / u01 / app / oracle</b> <b><br></b>  <b># mkdir / u01 / app / oracle / cfgtoollogs</b> <b><br></b>  <b># chown -R oracle: oinstall / u01 / app / oracle</b> <b><br></b>  <b># chmod -R 775 / u01 / app / oracle</b> <b><br></b> <br></li><li>  Oracle RDBMS Home <br>  <b># mkdir -p /u01/app/oracle/product/11.2.0/db_1</b> <b><br></b>  <b># chown -R oracle: oinstall /u01/app/oracle/product/11.2.0/db_1</b> <b><br></b>  <b># chmod -R 775 /u01/app/oracle/product/11.2.0/db_1</b> <br></li></ol><br>  Let's duplicate the <acronym>FQDN</acronym> in the <i>/ etc / hosts file</i> <br><br>  With the general parameters of the systems all. <br><br><h1>  GRID setup </h1><br>  Installing Automatic Storage Management Library (ASM Lib) Driver. <br>  The <i>oracleasm</i> package <i>does</i> not need to be installed, since it is included in the Oracle Linux kernel.  We installed the <i>oracleasm-support</i> package during the OS installation, selecting packages that start with <i>oracle *</i> , if it is not installed, we can install it from the <a href="http://public-yum.oracle.com/">public repository</a> .  Therefore, it remains for us to install only <i>oracleasmlib</i> . <br>  <b># yum -y install <a href="">download.oracle.com/otn_software/asmlib/oracleasmlib-2.0.4-1.el6.x86_64.rpm</a></b> <b><br></b> <br>  Customize ASMLib <br>  <b># /etc/init.d/oracleasm configure</b> <br>  This will configure the on-boot properties of the Oracle ASM library. <br>  driver.  The following questions will determine whether the driver is <br>  it will have.  The current values <br>  will be shown in brackets ('[]').  Hitting without typing an <br>  answer will keep that current value.  Ctrl-C will abort. <br>  Default user to own driver interface []: <u>grid</u> <br>  Default group to own driver interface []: <u>asmadmin</u> <br>  Start Oracle ASM library driver on boot (y / n) [n]: y <br>  Scan for Oracle ASM disks on boot (y / n) [y]: <br>  Writing Oracle ASM library driver configuration: done <br>  Initializing the Oracle ASMLib driver: [OK] <br>  Scanning the system for Oracle ASMLib disks: [OK] <br><br>  Let's create disks for ASM <br><ol><li>  determine the free disk space: <br>  <b># vgdisplay vg_oracleserver</b> <br>  - Volume group - VG Name vg_oracleserver <br>  System id <br>  Format lvm2 <br>  Metadata Areas 1 <br>  Metadata Sequence No 4 <br>  VG Access read / write <br>  VG Status resizable <br>  MAX LV 0 <br>  Cur LV 3 <br>  Open LV 3 <br>  Max PV 0 <br>  Cur PV 1 <br>  Act PV 1 <br>  VG Size 930,38 GiB <br>  PE Size 4.00 MiB <br>  Total PE 238177 <br>  Alloc PE / Size 12544 / 49,00 GiB <br>  Free PE / Size 225633 / 881.38 GiB <br>  VG UUID LvgSW2-ZILO-KOZf-ZwAY-8WBB-9X2u-lzaWuv <br><br></li><li>  disk sizes are determined individually.  I left 80GB for Redo Logs, the rest of the space was divided equally between db files and FRA. <br>  <b># lvcreate -L81,37G -n lvasmredo vg_oracleserver</b> <b><br></b>  <b># lvcreate -L400G -n lvasmfra vg_oracleserver</b> <b><br></b>  <b># lvcreate -L400G -n lvasmdata vg_oracleserver</b> <b><br></b> <br></li></ol><br>  Create ASM disks <br>  <b># oracleasm createdisk ASMDATA01 / dev / vg_oracleserver / lvasmdata</b> <b><br></b>  <b># oracleasm createdisk ASMFRA02 / dev / vg_oracleserver / lvasmfra</b> <b><br></b>  <b># oracleasm createdisk ASMREDO02 / dev / vg_oracleserver / lvasmredo</b> <b><br></b> <br>  Check them out <br>  <b># oracleasm listdisks</b> <br>  ASMDATA01 <br>  ASMFRA02 <br>  ASMREDO02 <br>  <b># ls -ltr / dev / oracleasm / disks</b> <br>  total 0 <br>  brw-rw ---- 1 grid asmadmin 252, 7 Nov 12 06:15 ASMDATA01 <br>  brw-rw ---- 1 grid asmadmin 252, Nov 8 12 06:15 ASMFRA02 <br>  brw-rw ---- 1 grid asmadmin 252, 6 Nov 12 06:16 ASMREDO02 <br>  <b># oracleasm-discover ORCL: *</b> <br>  Using ASMLib from /opt/oracle/extapi/64/asm/orcl/1/libasm.so <br>  [ASM Library - Generic Linux, version 2.0.4 (KABI_V2)] <br>  Discovered disk: ORCL: ASMDATA01 [838860800 blocks (429496729600 bytes), maxio 512] <br>  Discovered disk: ORCL: ASMFRA02 [838860800 blocks (429496729600 bytes), maxio 512] <br>  Discovered disk: ORCL: ASMREDO02 [170647552 blocks (87371546624 bytes), maxio 512] <br><br>  Set the parameters of the user grid shell <br>  <b># echo 'ORACLE_HOME = / u01 / 11.2.0 / grid' &gt;&gt; /home/grid/.bash_profile</b> <b><br></b>  <b># echo 'ORACLE_SID = + ASM' &gt;&gt; /home/grid/.bash_profile</b> <b><br></b>  <b># echo 'PATH = $ ORACLE_HOME / bin: $ PATH' &gt;&gt; /home/grid/.bash_profile</b> <b><br></b>  <b># echo 'export ORACLE_HOME' &gt;&gt; /home/grid/.bash_profile</b> <b><br></b>  <b># echo 'export ORACLE_SID' &gt;&gt; /home/grid/.bash_profile</b> <b><br></b>  <b># echo 'export PATH' &gt;&gt; /home/grid/.bash_profile</b> <b><br></b> <br>  !!!  IMPORTANT!!!  The ORACLE GRID installer is most likely targeted at the SysV initialization system, while the 6th version of Enterprise Linux uses Upstart.  Because of this, the installer, when attempting to initialize an OHASD daemon, generates an error and shuts down incorrectly.  In this regard, it is necessary to create the following file before installation (use the date and name accordingly): <br>  <b># touch /etc/init/ohasd.conf</b> <b><br></b>  <b># echo '#start init.ohasd'&gt; /etc/init/ohasd.conf</b> <b><br></b>  <b># echo '# What: oracle high-availability watchdog' &gt;&gt; /etc/init/ohasd.conf</b> <b><br></b>  <b># echo '# When 12_11_2012' &gt;&gt; /etc/init/ohasd.conf</b> <b><br></b>  <b># echo 'Who: Arthur' &gt;&gt; /etc/init/ohasd.conf</b> <b><br></b>  <b># echo 'start on runlevel [35]' &gt;&gt; /etc/init/ohasd.conf</b> <b><br></b>  <b># echo 'stop on runlevel [016]' &gt;&gt; /etc/init/ohasd.conf</b> <b><br></b>  <b># echo 'respawn' &gt;&gt; /etc/init/ohasd.conf</b> <b><br></b>  <b># echo 'exec /etc/init.d/init.ohasd run&gt; / dev / null 2&gt; &amp; 1 &lt;/ dev / null' &gt;&gt; /etc/init/ohasd.conf</b> <b><br></b> <br>  !!!  IMPORTANT!!!  at some point, it will be necessary to manually start this daemon, so keep the second console open as root. <br><br>  From our workstation, we go to <a href="https://edelivery.oracle.com/">e-delivery</a> , log in, and agree to the rules.  Select the product: ‚ÄúOracle Database‚Äù, platform: ‚ÄúLinux x86-64‚Äù.  In the label that appears, select ‚ÄúOracle Database 11g Release 2 (in my case 11.2.0.1.0) Media Pack for Linux x86-64‚Äù and click the continue button.  We choose to download ‚ÄúOracle Database 11g Release 2 Grid Infrastructure (in my case 11.2.0.1.0) for Linux x86-64‚Äù. <br><br>  Copy the downloaded file to the server in the grid user's home folder. <br>  <b>$ scp V17531-01.zip grid @ oracleserver: ~ /</b> <br><br>  Connect to the server under the grid account (we will use the now unloved X-server network transparency) <br>  <b>$ ssh -Y grid @ oracleserver</b> <br><br>  Enable access to X-applications from other computers <br>  <b>$ xhost +</b> <br>  you can at your discretion limit the nodes from which you can connect. <br><br>  Unpack the archive <br>  <b>$ unzip V17531-01.zip</b> <br><br>  Go to the folder ~ / grid and run the installer <br>  <b>$ cd ~ / grid /</b> <b><br></b>  <b>$ ./runInstaller</b> <br>  Starting Oracle Universal Installer ... <br><br>  Checking Temp space: must be greater than 120 MB.  Actual 955 MB Passed <br>  Checking swap space: must be greater than 150 MB.  Actual 16383 MB Passed <br>  Checking monitor: must be configured to display at least 256 colors.  Actual 16777216 Passed <br>  Preparing to run Oracle Universal Installer from / tmp / OraInstall2012-11-12_06-30-47PM.  Please wait ... <br><br>  Next, the installation will go in graphics mode. <br><ol><li>  In the first window, select ‚Äúinstallation and configuration of grid infrastructure for a single server‚Äù <br><img src="https://habrastorage.org/storage2/5d5/5da/14e/5d55da14ed78d36af43998fe8924203d.png"><br><br></li><li>  in the second window, select English and Russian <br><img src="https://habrastorage.org/storage2/8a4/b3c/701/8a4b3c70184093452736bd44da60bf21.png"><br><br></li><li>  In the third window, we select the disk for this one (reliability is ensured by RAID, so we select external) <br><img src="https://habrastorage.org/storage2/2ac/b7f/140/2acb7f1407e56466fe5650677e37b894.png"><br><br></li><li>  create a password for users SYS and ASMSNMP <br><img src="https://habrastorage.org/storage2/4bf/8c2/90f/4bf8c290f31469a3bc9f245c1f2069a4.png"><br><br></li><li>  may complain about the quality of the password (here we decide to change the password or ignore it; the system may also react inadequately to a complex password) <br><img src="https://habrastorage.org/storage2/b07/31a/812/b0731a812fd392b2a63528b569240064.png"><br><br></li><li>  select user groups <br><img src="https://habrastorage.org/storage2/04f/1c1/99f/04f1c199f76b9ed21950ae5e799ebc36.png"><br><br></li><li>  choose paths for database and grid files <br><img src="https://habrastorage.org/storage2/f07/02c/315/f0702c315a2a7691578aa7d3fe40c0ca.png"><br><br></li><li>  choose a path for inventory <br><img src="https://habrastorage.org/storage2/9e9/1cb/bf7/9e91cbbf75150a5933e6b52d74ba9d9b.png"><br><br></li><li>  The installer will check the dependencies and swear. <br><img src="https://habrastorage.org/storage2/d97/638/b3d/d97638b3d8452539acbd8cf20a5d57e2.png"><br><br></li><li>  but we will send it by ticking ‚ÄúIgnore All‚Äù for all dependencies we decided at the beginning of the installation <br><br></li><li>  save the file responses.  we can use it when installing Oracle without a graphical environment <br><img src="https://habrastorage.org/storage2/1e8/894/0ea/1e88940eab6971c167e287d7588e15ae.png"><br><br></li><li>  Click the ‚ÄúFinish‚Äù button and observe the installation process until the next message opens. <br><img src="https://habrastorage.org/storage2/207/9ea/a2f/2079eaa2f6e28fac427ae83993d8ed28.png"><br><br></li><li>  open a new secure shell with the root user (we already have one, just after that 2 shells are opened with the root user and 1 under the grid user) and run the required scripts: <br>  <b># /u01/app/oraInventory/orainstRoot.sh</b> <br>  Changing permissions of / u01 / app / oraInventory. <br>  Adding read, write permissions for group. <br>  Removing read, write, execute permissions for world. <br><br>  Changing groupname of / u01 / app / oraInventory to oinstall. <br>  The execution of the script is complete. <br><br>  <b># /u01/11.2.0/grid/root.sh</b> <br>  Running Oracle 11g root.sh script ... <br><br>  The following environment variables are set as: <br>  ORACLE_OWNER = grid <br>  ORACLE_HOME = /u01/11.2.0/grid <br><br>  Enter the full pathname of the local bin directory: [/ usr / local / bin]: <br>  Copying dbhome to / usr / local / bin ... <br>  Copying oraenv to / usr / local / bin ... <br>  Copying coraenv to / usr / local / bin ... <br><br>  Creating / etc / oratab file ... <br>  Entries will be added to the / etc / oratab file as needed by <br>  Database Configuration Assistant when a database is created <br>  Finished running generic part of root.sh script. <br>  Now product-specific root actions will be performed. <br>  2012-11-12 21:11:43: Checking for super user privileges <br>  2012-11-12 21:11:43: User has super user privileges <br>  2012-11-12 21:11:43: Parsing the host name <br>  Using configuration parameter file: /u01/11.2.0/grid/crs/install/crsconfig_params <br>  Creating trace directory <br>  LOCAL ADD MODE <br>  Creating OCR keys for user 'grid', privgrp 'oinstall' ... <br>  Operation successful. <br>  CRS-4664: Node oracleserver successfully pinned. <br>  Adding daemon to inittab <br><br></li><li>  At this moment, the execution of the script is stalled (point 3.h and 3.i), go to the second root session and execute <br>  <b># initctl start ohasd</b> <br>  ohasd start / running, process 6933 <br><br></li><li>  script execution will continue <br>  CRS-4123: Oracle High Availability Services has been started. <br>  ohasd is starting <br>  ADVM / ACFS is not supported on oraclelinux-release-6Server-3.0.2.x86_64 <br><br>  oracleserver 2012/11/12 21:18:34 /u01/11.2.0/grid/cdata/oracleserver/backup_20121112_211834.olr <br>  Successfully configured Oracle Grid Infrastructure for a Standalone Server <br>  Updating inventory properties for clusterware <br>  Starting Oracle Universal Installer ... <br><br>  Checking swap space: must be greater than 500 MB.  Actual 16371 MB Passed <br>  The inventory pointer is located at /etc/oraInst.loc <br>  The inventory is located at / u01 / app / oraInventory <br>  'UpdateNodeList' was successful. <br><br></li><li>  After this, go and click in the window ‚ÄúOK‚Äù <br><br></li><li>  finita la comedy <br><img src="https://habrastorage.org/storage2/fa7/365/b82/fa7365b82ffc2cd70048985ccf6f552b.png"><br><br></li></ol><br>  Add the rest of the ASM disk groups. <br><ol><li>  in session with the grid user <br>  <b>$ asmca</b> <b><br></b> <br></li><li>  in the first window, select the button ‚Äúcreate‚Äù <br><img src="https://habrastorage.org/storage2/4de/28b/33c/4de28b33c24a55362599990e725d4a1c.png"><br><br></li><li>  in the pop-up window, create a group FRA, external fault tolerance (using RAID), select the ASMFRA02 drive <br><img src="https://habrastorage.org/storage2/e66/61c/66e/e6661c66e33566fa2e1344d1e9089508.png"><br><br></li><li>  do the same for REDO <br><img src="https://habrastorage.org/storage2/cfd/e0f/606/cfde0f606b2cf4af1e5ceb7010c3cfb7.png"><br><br></li><li>  as a result we get <br><img src="https://habrastorage.org/storage2/221/c1a/795/221c1a79593e4e27003dfbb589433764.png"><br><br></li><li>  For this, the GRID installation is complete. <br><br></li></ol><br><h1>  Installing ORACLE DBMS </h1><br>  Set the shell options of the user oracle <br>  <b># echo 'ORACLE_HOME = / u01 / app / oracle / product / 11.2.0 / db_1' &gt;&gt; /home/oracle/.bash_profile</b> <b><br></b>  <b># echo 'ORACLE_SID = LOC11' &gt;&gt; /home/oracle/.bash_profile</b> <b><br></b>  <b># echo 'PATH = $ ORACLE_HOME / bin: $ PATH' &gt;&gt; /home/oracle/.bash_profile</b> <b><br></b>  <b># echo 'export ORACLE_HOME' &gt;&gt; /home/oracle/.bash_profile</b> <b><br></b>  <b># echo 'export ORACLE_SID' &gt;&gt; /home/oracle/.bash_profile</b> <b><br></b>  <b># echo 'export PATH' &gt;&gt; /home/oracle/.bash_profile</b> <b><br></b> <br>  From our workstation, we go to <a href="https://edelivery.oracle.com/">e-delivery</a> , log in, and agree to the rules.  Select the product: ‚ÄúOracle Database‚Äù, platform: ‚ÄúLinux x86-64‚Äù.  In the label that appears, select ‚ÄúOracle Database 11g Release 2 (in my case 11.2.0.1.0) Media Pack for Linux x86-64‚Äù and click the continue button.  We select download ‚ÄúOracle Database 11g Release 2 (in my case 11.2.0.1.0) for Linux x86-64 (Part 1 of 2)‚Äù and ‚ÄúOracle Database 11g Release 2 (in my case 11.2.0.1.0) for Linux x86 -64 (Part 2 of 2) ‚Äù. <br><br>  Copy the downloaded file to the server in the home folder of the user oracle <br>  <b>$ scp V17530-01_ * oracle @ oracleserver: ~ /</b> <br><br>  Connect to the server under the oracle account (we will use the now unloved X-server network transparency) <br>  <b>$ ssh -Y oracle @ oracleserver</b> <br><br>  Enable access to X-applications from other computers <br>  <b>$ xhost +</b> <br>  you can at your discretion limit the nodes from which you can connect. <br><br>  Unpack the archive <br>  <b>$ unzip V17530-01_1of2.zip</b> <b><br></b>  <b>$ unzip V17530-01_2of2.zip</b> <b><br></b> <br>  Go to the folder ~ / database and run the installer. <br>  <b>$ cd ~ / database /</b> <b><br></b>  <b>$ ./runInstaller</b> <br>  Starting Oracle Universal Installer ... <br><br>  Checking Temp space: must be greater than 120 MB.  Actual 953 MB Passed <br>  Checking swap space: must be greater than 150 MB.  Actual 16383 MB Passed <br>  Checking monitor: must be configured to display at least 256 colors.  Actual 16777216 Passed <br>  Preparing to run Oracle Universal Installer from / tmp / OraInstall2012-11-20_06-30-25PM.  Please wait ... <br><br>  Next, the installation is in graphical mode. <br><ol><li>  in the first window, we refuse to receive updates from those.  Support Oracle (recommended software vendor) <br><img src="https://habrastorage.org/storage2/1f2/dba/07e/1f2dba07e7954ac698a733697bda3238.png"><br><br></li><li>  We agree with the warning <br><img src="https://habrastorage.org/storage2/033/096/a7d/033096a7d97c0ccafac8330b815e61b8.png"><br><br></li><li>  in the second window we select only install the database software <br><img src="https://habrastorage.org/storage2/7e7/faa/7a2/7e7faa7a2b411dd95e97f07842bdca6d.png"><br><br></li><li>  in the third window choose the installation of a single database <br><img src="https://habrastorage.org/storage2/ae9/bfb/181/ae9bfb181ccdc541f7904487f470814a.png"><br><br></li><li>  in the fourth window choose languages <br><img src="https://habrastorage.org/storage2/71e/0a3/063/71e0a3063d45bcdf7fd3b01f2c3f3676.png"><br><br></li><li>  we are happy owners of the license for Oracle Standard Edition, so in the next window we select it <br><img src="https://habrastorage.org/storage2/b89/37d/82a/b8937d82a3b33611839a59001046d1d7.png"><br><br></li><li>  choose installation paths <br><img src="https://habrastorage.org/storage2/8e9/4e5/6b7/8e94e56b741936b17a515dc46fc45709.png"><br><br></li><li>  we select user groups <br><img src="https://habrastorage.org/storage2/584/b60/f3b/584b60f3bab15842e7edb9f8db14e404.png"><br><br></li><li>  ignore everything !!!  <s>(maybe take off)</s> <br><img src="https://habrastorage.org/storage2/654/be1/611/654be1611316768492545935f4543b10.png"><br><br></li><li>  It is recommended to save the answer file and run the installation. <br><img src="https://habrastorage.org/storage2/e99/ac1/b72/e99ac1b721278e118dd777d99a8f4dc7.png"><br><br></li><li>  what it looks like <br><img src="https://habrastorage.org/storage2/d07/332/30d/d0733230d01b37fbd2372dcb0806e276.png"><br><br></li><li>  you will need to run the script specified in the pop-up window <br><img src="https://habrastorage.org/storage2/650/b0c/898/650b0c898f16ce06ca7e3ae1ba2c4e3f.png"><br><br>  <b># /u01/app/oracle/product/11.2.0/db_1/root.sh</b> <br>  Running Oracle 11g root.sh script ... <br><br>  The following environment variables are set as: <br>  ORACLE_OWNER = oracle <br>  ORACLE_HOME = /u01/app/oracle/product/11.2.0/db_1 <br><br>  Enter the full pathname of the local bin directory: [/ usr / local / bin]: <br>  The file "dbhome" already exists in / usr / local / bin.  Overwrite it?  (y / n) <br>  [n]: <br>  The file "oraenv" already exists in / usr / local / bin.  Overwrite it?  (y / n) <br>  [n]: <br>  The file "coraenv" already exists in / usr / local / bin.  Overwrite it?  (y / n) <br>  [n]: <br><br>  Entries will be added to the / etc / oratab file as needed by <br>  Database Configuration Assistant when a database is created <br>  Finished running generic part of root.sh script. <br>  Now product-specific root actions will be performed. <br>  Finished product-specific root actions. <br><br></li><li>  Congratulations!  You are the happy owner of ORACLE DBMS. <br><img src="https://habrastorage.org/storage2/e28/1ae/f98/e281aef98a0b3018392b7394d517e804.png"><br><br></li></ol><br><h1>  Creating a base </h1><br>  Before creating a database, you must: <br><ol><li>  check permissions for files and folders: <br><ol><li>  Oracle inventory <br>  <b># chown -R grid: oinstall / u01 / app / oraInventory</b> <b><br></b>  <b># chmod -R 775 / u01 / app / oraInventory</b> <b><br></b> <br></li><li>  Grid infrastructure home <br>  <b># chown -R grid: oinstall /u01/11.2.0/grid</b> <b><br></b>  <b># chmod -R 775 /u01/11.2.0/grid</b> <b><br></b> <br></li><li>  Oracle Base Directory <br>  <b># chown -R oracle: oinstall / u01 / app / oracle</b> <b><br></b>  <b># chmod -R 775 / u01 / app / oracle</b> <b><br></b> <br></li><li>  Oracle RDBMS Home <br>  <b># chown -R oracle: oinstall /u01/app/oracle/product/11.2.0/db_1</b> <b><br></b>  <b># chmod -R 775 /u01/app/oracle/product/11.2.0/db_1</b> <b><br></b> <br></li></ol><br></li><li>  change access rights to <br>  <b># cd /u01/11.2.0/grid/bin/</b> <b><br></b>  <b># chmod 6751 oracle</b> <b><br></b>  <b># ls -l oracle</b> <br>  -rwsr-s - x 1 grid oinstall 184285623 Nov 12 21:06 oracle <br><br>  <b># cd /u01/app/oracle/product/11.2.0/db_1/bin</b> <b><br></b>  <b># chmod 6751 oracle</b> <b><br></b>  <b># -l oracle</b> <br>  -rwsr-s - x 1 oracle asmadmin 199650019 Nov 20 20:24 oracle <br></li></ol><br>  Connect to the server under the oracle account (we will use the now unloved X-server network transparency) <br>  <b>$ ssh -Y oracle @ oracleserver</b> <br><br>  Just in case, let's allow access to X-applications again. <br>  <b>$ xhost +</b> <br>  you can at your discretion limit the nodes from which you can connect. <br><br>  Starting database configuration <br>  <b>$ dbca</b> <br><br>  Further we act according to the instruction which is applied on your software.  From this stage, you can not fear mistakes, at any time you can remove the "broken" base and create a new one. <br><br>  Thanks for attention! </div><p>Source: <a href="https://habr.com/ru/post/172513/">https://habr.com/ru/post/172513/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../172501/index.html">March Habravstrecha in Kiev</a></li>
<li><a href="../172503/index.html">ASUS Padfone 2 - Mobile Transformer</a></li>
<li><a href="../172505/index.html">About the outflow of developers from free projects, teaching Python as a first language and other topics</a></li>
<li><a href="../172509/index.html">Using Loader in QML</a></li>
<li><a href="../172511/index.html">Clay is, no life - new Curiosity results</a></li>
<li><a href="../172519/index.html">Curiosity has confirmed that life can exist on Mars</a></li>
<li><a href="../172521/index.html">The obsession with mailing efficiency: a couple of tests and stories</a></li>
<li><a href="../172523/index.html">Part 2: if I have 30.000 rubles, where can I invest them?</a></li>
<li><a href="../172525/index.html">Algorithm for generating a QR code</a></li>
<li><a href="../172527/index.html">The results of the promotion "Great eight applications"</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>