<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Debian / Ubuntu Admin Manager Package Management Cheat Sheet</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="For a long time, I was thirsty for not knowing how to do some elementary things in Debian package managers, but, as often happens, there was no one to...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Debian / Ubuntu Admin Manager Package Management Cheat Sheet</h1><div class="post__text post__text-html js-mediator-article">  For a long time, I was thirsty for not knowing how to do some elementary things in Debian package managers, but, as often happens, there was no one to ask, and they didn‚Äôt get around to writing somewhere.  And finally the questions matured and I wrote <a href="http://lists.debian.org/debian-russian/2012/08/msg00439.html">my question</a> in the <a href="http://lists.debian.org/debian-russian/">debian's newsletter</a> .  Naturally it turned out that he had missed something obvious, but he also learned a lot of unobvious utility, therefore he decided to sketch a cheat sheet, maybe someone would come in handy. <br><a name="habracut"></a><br><h4>  Debian Admin Summary </h4><br><h5>  Basic and well-known </h5><br>  Getting information about new / updated packages <br><pre><code class="bash hljs">sudo aptitude update</code> </pre> <br>  Update <br><pre> <code class="bash hljs">sudo aptitude safe-upgrade</code> </pre><br>  Search for a package by package name <br><pre> <code class="bash hljs">aptitude search key_word</code> </pre><br>  Search package by exact name <br><pre> <code class="bash hljs">aptitude search <span class="hljs-string"><span class="hljs-string">"^name$"</span></span></code> </pre><br>  Search by description <br><pre> <code class="bash hljs">aptitude search <span class="hljs-string"><span class="hljs-string">"?description("</span></span>key_word<span class="hljs-string"><span class="hljs-string">")"</span></span></code> </pre><br>  Package Information <br><pre> <code class="bash hljs">aptitude show package_name</code> </pre><br>  Installation <br><pre> <code class="bash hljs">sudo aptitude install package_name</code> </pre><br>  Deletion <br><pre> <code class="bash hljs">sudo aptitude remove package_name</code> </pre><br>  Complete deletion (along with configs) <br><pre> <code class="bash hljs">sudo aptitude purge package_name</code> </pre><br>  Clear cache of loaded packages (free space) <br><pre> <code class="bash hljs">aptitude autoclean <span class="hljs-comment"><span class="hljs-comment">#      aptitude clean #   </span></span></code> </pre><br>  Installing a separately downloaded / created package (to create a package from third-party sources, use the <a href="http://wiki.debian.org/CheckInstall">checkinstall</a> utility with the -D flag) <br><pre> <code class="bash hljs">sudo dpkg -i /path/to/package.deb</code> </pre><br>  For more information <br><pre> <code class="bash hljs">man aptitude sudo aptitude install aptitude-doc-en</code> </pre><br>  and look at the documentation (/usr/share/doc/aptitude/html/en/index.html) for a quick reference on search patterns, go here /usr/share/doc/aptitude/html/en/ch02s04.html.  If you are too lazy to dock, then it <a href="http://algebraicthunk.net/~dburrows/projects/aptitude/doc/en/">is</a> online. <br>  Introduction to the Debian Wiki: <a href="http://wiki.debian.org/Aptitude">wiki.debian.org/Aptitude</a> <br><br><h5>  And now what is not obvious or requires a complete reading of the documentation </h5><br>  1. How after update to see which packages will be updated? <br><pre> <code class="bash hljs">aptitude search ?upgradable</code> </pre><br>  You can also use it (if you put it) <br><pre> <code class="bash hljs">sudo daptup</code> </pre><br>  but after installing it, the usual update will behave in the same way. <br><br>  2. How to find out what has changed in the packages that will be updated? <br>  You can try <br><pre> <code class="bash hljs">sudo aptitude changelog package_name</code> </pre><br>  for each package. <br>  But it is better to put apt-listchanges, then before any installation of updates, a list of changes will be shown, the default settings are not very convenient, so it is better to reconfigure for yourself, for example, select the output format (while using text, for large updates it is probably pager better), do not send letters, asking for confirmation, display all information.  To do this, run <br><pre> <code class="bash hljs">sudo dpkg-reconfigure apt-listchanges</code> </pre><br>  3. What should I do if the update is broken and I need to roll back? <br>  No rollback, you can try to find a previous version of the package. <br><pre> <code class="bash hljs">sudo aptitude version package_name</code> </pre><br>  and install it <br><pre> <code class="bash hljs">sudo aptitude install package_name=version</code> </pre><br>  4. How to find all packages installed manually? <br>  there is a command option (aptitude search '~ i! ~ M'), but unfortunately it does not give the desired result, so the question remains open, there are a lot of ways based on the analysis of logs <br><pre> <code class="bash hljs">/var/<span class="hljs-built_in"><span class="hljs-built_in">log</span></span>/aptitude (+  ) /var/<span class="hljs-built_in"><span class="hljs-built_in">log</span></span>/installer/initial-status.gz /var/<span class="hljs-built_in"><span class="hljs-built_in">log</span></span>/dpkg.log (+  )</code> </pre><br>  but there is no simple and ready-made solution, but information can theoretically be lost during rotations; you need to configure 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      5. How to view the list of files in the package? <br>  if the package is installed <br><pre> <code class="bash hljs">dpkg -L package_name</code> </pre><br>  for any packages, put apt-file and <br><pre> <code class="bash hljs">apt-file list package_name</code> </pre><br>  6. How to see which package the file belongs to? <br><pre> <code class="bash hljs">dpkg -S file_name</code> </pre><br>  7. How to remove all packages, where is the key in the package name? <br><pre> <code class="bash hljs">sudo aptitude purge ~ikey</code> </pre><br>  8. How to remove the remaining configs from remote packages? <br><pre> <code class="bash hljs">sudo aptitude purge ~c</code> </pre><br>  9. How to find a package that contains the file lib.so: <br><pre> <code class="bash hljs">apt-file search lib.so</code> </pre><br>  10. How to convert rpm package to deb? <br><pre> <code class="bash hljs">alien --to-deb /path/to/file.rpm</code> </pre><br>  11. How to find a list of installed kernels? <br><pre> <code class="bash hljs">dpkg --list linux-* | grep ii</code> </pre><br>  12. How to install the package from testing or experimental? <br>  On this topic you need to write separately ( <a href="http://www.macfreek.nl/memory/Mixing_Stable_and_Testing_in_Debian">for example</a> ), but if briefly, then there are commands for this <br><pre> <code class="bash hljs">sudo aptitude -t testing package_name</code> </pre><br>  or <br><pre> <code class="bash hljs">sudo aptitude package_name/testing</code> </pre><br>  13. How to remove a meta package, but leave one of the dependencies? <br>  have to read the documentation about the key unmarkauto or look <a href="http://ascending.wordpress.com/2007/04/12/aptitude-tip-markauto-and-unmarkauto/">here</a> . <br><br>  14. How to find out what got into the file system past the package management system? <br>  There is a utility cruft, although the question of interpreting the results (the report file) is still open. <br><pre> <code class="bash hljs">sudo cruft -d / -r report --ignore /home --ignore /var --ignore /tmp</code> </pre><br>  15. What are some additional repositories? <br>  Debian - <a href="http://wiki.debian.org/UnofficialRepositories">wiki.debian.org/UnofficialRepositories</a> <br>  Ubuntu - a lot of <a href="https://launchpad.net/ubuntu/%2Bppas">PPA</a> <br><br>  16. What else is there? <br>  <a href="http://linux.die.net/man/8/apt-cdrom">apt-cdrom</a> <br>  <a href="http://wiki.linuxquestions.org/wiki/Apt-spy">apt-spy</a> <br>  <a href="https://help.ubuntu.com/community/AutoApt">auto-apt</a> .  <a href="http://habrahabr.ru/post/150210/">note on Habr√©</a> <br>  <a href="http://man.he.net/man8/apt-key">apt-key</a> <br>  <a href="https://help.ubuntu.com/community/add-apt-repository">apt-add-repository</a> <br>  Some things <a href="http://wiki.debian.org/Aptitude">only apt-get can</a> <br>  There are alternative utilities for managing packages, such as <a href="http://www.togaware.com/linux/survivor/Wajig_Overview.html">wajig</a> , which tries to incorporate the functionality of all the other utilities. <br><br>  17. How to find packages depending on this <br><pre> <code class="bash hljs">apt-cache rdepends package_name</code> </pre><br>  can also come in handy <br><pre> <code class="bash hljs">aptitude why package_name</code> </pre><br><br>  I thank everyone who helped with their advice in the <a href="http://lists.debian.org/debian-russian/2012/08/msg00439.html">mailing list</a> , LJ ( <a href="http://jackyf.livejournal.com/">JackYF</a> ) and <a href="http://habrahabr.ru/users/run4way/" class="user_link">Habr√©</a> ( <a href="http://habrahabr.ru/users/run4way/" class="user_link">run4way</a> , <a href="http://habrahabr.ru/users/sledopit/" class="user_link">sledopit</a> , <a href="http://habrahabr.ru/users/nazarpc/" class="user_link">nazarpc</a> , <a href="http://habrahabr.ru/users/agafonoff/" class="user_link">AgaFonOff</a> , <a href="http://habrahabr.ru/users/amarao/" class="user_link">amarao</a> , <a href="http://habrahabr.ru/users/traaance/" class="user_link">traaance</a> , <a href="http://habrahabr.ru/users/adrianopol/" class="user_link">adrianopol</a> , <a href="http://habrahabr.ru/users/karamax/" class="user_link">Karamax</a> ).  Comments and additions are welcome. </div><p>Source: <a href="https://habr.com/ru/post/150131/">https://habr.com/ru/post/150131/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../150125/index.html">The most valuable programming advice I received</a></li>
<li><a href="../150126/index.html">Whether sales or conversion increased after you installed an online consultant in your online store</a></li>
<li><a href="../150127/index.html">Cloud protection for .NET applications</a></li>
<li><a href="../150128/index.html">Microsoft has changed the logo</a></li>
<li><a href="../150130/index.html">Russian subtitles in Coursera courses</a></li>
<li><a href="../150132/index.html">Do you want to be a YouTube star?</a></li>
<li><a href="../150133/index.html">The insides of the QML engine. Part 2: Bindings</a></li>
<li><a href="../150134/index.html">RabbitMQ tutorial 2 - Queue of tasks</a></li>
<li><a href="../150135/index.html">Facebook stores data in one data center and processes 500 TB of data per day.</a></li>
<li><a href="../150140/index.html">I'll just leave it here</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>