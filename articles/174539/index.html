<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ABBYY PassportReader SDK - when nothing needs to be set up</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="We are continuing a series of articles about our products for developers implementing data capture technology. The new product in the line - ABBYY Pas...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>ABBYY PassportReader SDK - when nothing needs to be set up</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/storage2/e87/8ee/c25/e878eec25b6ad7e68105fd81a30424fe.jpg" align="right" title="PassportReader - cake!">  We are continuing a series of articles about our products for developers implementing <i>data capture</i> technology.  The new product in the line - <i>ABBYY <i>PassportReader SDK</i></i> is a specialized solution for entering data from identity documents of citizens of Russia and CIS countries. <br><br>  From the developer's point of view, the key feature of the new product is an extremely simple software interface and work out of the box, without the need for any preliminary configuration.  In this article we will show how the use of the product looks like. <a name="habracut"></a><br><br>  We <a href="http://habrahabr.ru/company/abbyy/blog/146679/">have already talked</a> about our universal data entry solution for <i>ABBYY FlexiCapture Engine</i> - about the difficulty of setting up specific types of documents and how we struggle with this, implementing self-learning technology.  Despite significant progress in this area, the initial setup of the solution by the developer still requires some action.  A working solution is now easy to obtain, but obtaining an <b>optimal</b> solution still requires experience, knowledge and time. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      On the other hand, there are many typical widespread document classes for which it is possible to perform all the settings in advance and create a specialized solution that is <b>optimized</b> for working with a narrow class of documents and <b>does not require any preliminary configuration by the developer</b> .  An example of such a solution is the <a href="http://www.abbyy.ru/passportreader-sdk/">ABBYY PassportReader SDK</a> . <br><br>  The main types of documents with which the <i>PassportReader SDK</i> works are: a <i>passport or an identity card</i> , <i>driver's license</i> and <i>passport</i> .  For the Russian Federation, an additional birth certificate is available.  For the CIS countries, some documents are not yet available. <br><br>  These types of documents are in demand, and, at the same time, are quite difficult to process, as they often have a complex background in the form of a thin line pattern - <i>guilloches</i> ;  inscriptions, contrasting only in color, but not in brightness;  special fonts.  In addition, many of these types of documents exist in the form of several options (old and new samples, biometric and regular passports, etc.).  All this boils down to the fact that obtaining quality results on such documents using a universal tool like the <i>FlexiCapture Engine</i> is not a trivial task.  And here <i>PassportReader SDK</i> comes on the scene. <br><br><h4>  Getting started </h4><br>  In the simplest case, all the work with the product comes down to creating an engine object and calling the <i>Recognize</i> method: <br><br><pre><code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> engine = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> ABBYY.PassportReaderSdk.RecognitionEngine(); <span class="hljs-keyword"><span class="hljs-keyword">try</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> result = engine.Recognize( fileName, <span class="hljs-string"><span class="hljs-string">"Passport_RU"</span></span> ); ... } <span class="hljs-keyword"><span class="hljs-keyword">finally</span></span> { engine.Close(); }</code> </pre> <br><blockquote>  <sup><b>Nb.</b></sup>  <sup>RecognitionEngine implements the IDisposable interface and can be used in a standard way in constructions requiring this interface.</sup>  <sup>So, in the example above, instead of <i>try ... finally</i> it would be possible to use a <i>using</i> block, which would be completely equivalent.</sup> <sup><br></sup>  <sup><b>Nb.</b></sup>  <sup>You can read the image from a file or scan it with the built-in <i>PassportReader SDK</i> using the engine method.</sup>  <sup><b>Scan ()</b></sup> </blockquote><br>  You can work directly with the extracted fields: <br><br><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">string</span></span> lastName = result.FieldValue( <span class="hljs-string"><span class="hljs-string">"LastName"</span></span>, <span class="hljs-string"><span class="hljs-string">""</span></span> ); <span class="hljs-keyword"><span class="hljs-keyword">string</span></span> firstName = result.FieldValue( <span class="hljs-string"><span class="hljs-string">"FirstName"</span></span>, <span class="hljs-string"><span class="hljs-string">""</span></span> ); <span class="hljs-keyword"><span class="hljs-keyword">string</span></span> middleName = result.FieldValue( <span class="hljs-string"><span class="hljs-string">"MiddleName"</span></span>, <span class="hljs-string"><span class="hljs-string">""</span></span> ); <span class="hljs-keyword"><span class="hljs-keyword">string</span></span> dateOfBirth = result.FieldValue( <span class="hljs-string"><span class="hljs-string">"DateOfBirth"</span></span>, <span class="hljs-string"><span class="hljs-string">""</span></span> ); <span class="hljs-keyword"><span class="hljs-keyword">string</span></span> placeOfBirth = result.FieldValue( <span class="hljs-string"><span class="hljs-string">"PlaceOfBirth"</span></span>, <span class="hljs-string"><span class="hljs-string">""</span></span> );</code> </pre> <br><blockquote>  <sup><b>Nb.</b></sup>  <sup>The data scheme for all types of documents is <b>unified</b> - the fields of the same meaning have the same name regardless of the document type.</sup>  <sup>That is, if we need the surname, name, patronymic, date and place of birth, then the code above will work equally with all types of documents.</sup> </blockquote><br>  Or get the result as XML and save to file: <br><br><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">string</span></span> xmlBody = result.GetXml( ... ); <span class="hljs-keyword"><span class="hljs-keyword">string</span></span> xml = <span class="hljs-keyword"><span class="hljs-keyword">string</span></span>.Format( <span class="hljs-string"><span class="hljs-string">"&lt;?xml version='1.0' encoding='UTF-8'?&gt;{0}"</span></span>, xmlBody ); System.IO.File.WriteAllText( fileName, xml, Encoding.UTF8 );</code> </pre> <br><blockquote>  <sup><b>Nb.</b></sup>  <sup>The resulting XML document conforms to the <i>XMLResult.xsd</i> scheme, which is put together with the product.</sup> </blockquote><br>  This, in fact, almost everything.  In addition to the basic functionality described above, for each field you can get a rectangle of the found field in the image and confidence in recognizing individual characters. <br><br>  The described functionality is sufficient to implement the example, see the screenshot below.  The example is a ready-to-use application that allows you to download or scan an image of a document, recognize it, edit and save the result in XML or CSV, with the ability to launch an external application if necessary for further processing of the result.  The sample comes with source code and the developer has the opportunity to easily modify it to fit his needs. <br><br><img src="https://habrastorage.org/storage2/eca/c7e/6cf/ecac7e6cf585159b8a95db3113515860.png"><br><br>  Even without improvement, the simplest tools for integration with external systems are included in the example: <br><br><img src="https://habrastorage.org/storage2/64a/7e9/aab/64a7e9aab413f7eb022dcd9524ed272c.png"><br><br>  At the time of this writing, documents for the following countries are available in the <i>PassportReader SDK</i> : <br><br><img src="https://habrastorage.org/storage2/886/03d/665/88603d665d54b73d22f9686c8c3b004d.png"><br><br><h4>  Technical details </h4><br>  From the point of view of the implementation of the <i>PassportReader SDK</i> is a wrapper on .Net around a heavily trimmed version of the <i>FlexiCapture Engine</i> (unnecessary dictionaries have been removed, the size of the distribution kit has been reduced several times).  The wrapper performs all the environment settings and image preparation, and presents the user with an extremely simple software interface. <br><br>  Although the native environment for the <i>PassportReader SDK</i> is .Net, all interfaces are declared with the <i>ComVisible</i> attribute.  Therefore, <i>PassportReader SDK</i> can be used directly from development environments that can work with COM.  The product includes usage examples in C ++ and Delphi. <br><br><blockquote>  <sup><b>Nb.</b></sup>  <sup>At the same time, there are some nuances introduced by the .Net ideology.</sup>  <sup>For example, in order for a COM object to be created, the corresponding assembly must be registered in the GAC or in the same directory as the EXE file of the calling application.</sup>  <sup>That is, the requirements are exactly the same as for .Net assemblies.</sup> </blockquote><br>  There are two versions of the <i>PassportReader SDK</i> : regular and server.  The regular version does not support multithreading and requires that all work with PR is performed from one stream.  The server version supports multiple streams.  In this case, the work is performed in parallel with the use of all available processor cores. <br><br>  <i>PassportReader SDK</i> is a wrapper around the <i>FlexiCapture Engine</i> .  Therefore, all that <i>PassportReader SDK</i> can do is implemented using the <i>FlexiCapture Engine</i> .  The fact that the <i>FlexiCapture Engine</i> can be much more, I will not even mention - obviously. <br><br>  Current product information can be found <a href="http://www.abbyy.ru/passportreader-sdk/">on the ABBYY website</a> . <br><br>  <i>Alexey Kalyuzhny,</i> <i><br></i>  <i>product department for developers</i> </div><p>Source: <a href="https://habr.com/ru/post/174539/">https://habr.com/ru/post/174539/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../174523/index.html">"Tongue twisters". Part 1: From idea to design</a></li>
<li><a href="../174525/index.html">How we learned to work with freelancers</a></li>
<li><a href="../174531/index.html">ASP.NET MVC 4 RAZOR Dynamic Multi-Level Database Menu</a></li>
<li><a href="../174535/index.html">NASA is preparing to launch a solar sail Sunjammer</a></li>
<li><a href="../174537/index.html">Ukrainian website of the state portal of administrative services in the style of Windows 8</a></li>
<li><a href="../174541/index.html">Eclipse RCP Cookbook Part I</a></li>
<li><a href="../174545/index.html">Search with Lucene in Playframework 1.x</a></li>
<li><a href="../174547/index.html">LG Nexus 4 - personal experience and no translations</a></li>
<li><a href="../174549/index.html">The 9-kilobyte script will turn any browser from WebRTC into a distributed CDN node</a></li>
<li><a href="../174551/index.html">Qualcomm has money and a market, but I also want recognition</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>