<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Future C: OOP</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="The Internet has bypassed one interesting news : it has become known that it is likely that OOP resources will be added to the next C programming lang...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Future C: OOP</h1><div class="post__text post__text-html js-mediator-article">  The Internet has bypassed one interesting <a href="http://www.open-std.org/jtc1/sc22/wg14/www/docs/n1875.htm">news</a> : it has become known that it is likely that OOP resources will be added to the next C programming language standard, namely, classes.  At the same time, it is still too early to judge whether this will be implemented, since this document was not finally adopted and was not added to the draft version of the next standard.  <a href="http://www.open-std.org/jtc1/sc22/wg14/www/docs/historic/n424.txt">The proposal to</a> realize this came back in 1995 by some Robert Jervis, but it was accepted at WG14 just now. <br><br>  Let's try to divide the skin of an unkilled bear and see what it threatens and what it will give us. <br><a name="habracut"></a><br>  To do this, consider a couple of areas of this tool: <br><br><h4>  GUI </h4><br>  Many people know that in this case, without the PLO, it is almost impossible to do anything with the mind.  So, GTK + uses imitation of OOP using GObject. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <div class="spoiler">  <b class="spoiler_title">Hello, world!</b> <div class="spoiler_text"><pre><code class="cpp hljs"><span class="hljs-meta"><span class="hljs-meta">#</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">include</span></span></span><span class="hljs-meta"> </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">&lt;gtk/gtk.h&gt; int main (int argc, char *argv[]) { GtkWidget *window; GtkWidget *label; gtk_init(&amp;argc, &amp;argv); /* Create the main, top level window */ window = gtk_window_new(GTK_WINDOW_TOPLEVEL); /* Give it the title */ gtk_window_set_title(GTK_WINDOW(window), "Hello, world!"); /* Center the window */ gtk_window_set_position(GTK_WINDOW(window), GTK_WIN_POS_CENTER); /* Set the window's default size */ gtk_window_set_default_size(GTK_WINDOW(window), 200, 100); /* ** Map the destroy signal of the window to gtk_main_quit; ** When the window is about to be destroyed, we get a notification and ** stop the main GTK+ loop by returning 0 */ g_signal_connect(window, "destroy", G_CALLBACK(gtk_main_quit), NULL); /* ** Assign the variable "label" to a new GTK label, ** with the text "Hello, world!" */ label = gtk_label_new("Hello, world!"); /* Plot the label onto the main window */ gtk_container_add(GTK_CONTAINER(window), label); /* Make sure that everything, window and label, are visible */ gtk_widget_show_all(window); /* ** Start the main loop, and do nothing (block) until ** the application is closed */ gtk_main(); return 0; }</span></span></span></span></code> </pre> <br></div></div><br>  We are seeing a classic C picture - managing data on the stack via pointers.  This requires additional attention to the declaration of these very pointers.  It will also noticeably affect the code maintenance. <br><br>  Instead, one could use a ‚Äúnative‚Äù approach to development, as implemented in GTKMM (C ++). <br><br><div class="spoiler">  <b class="spoiler_title">Hello, world!</b> <div class="spoiler_text"><pre> <code class="cpp hljs"><span class="hljs-comment"><span class="hljs-comment">//HelloWorldWindow.h #ifndef HELLOWORLDWINDOW_H #define HELLOWORLDWINDOW_H #include &lt;gtkmm/window.h&gt; #include &lt;gtkmm/button.h&gt; // Derive a new window widget from an existing one. // This window will only contain a button labelled "Hello World" class HelloWorldWindow : public Gtk::Window { public: HelloWorldWindow(); protected: void on_button_clicked(); //event handler Gtk::Button hello_world; }; #endif //HelloWorldWindow.cc #include &lt;iostream&gt; #include "HelloWorldWindow.h" HelloWorldWindow::HelloWorldWindow() : hello_world("Hello World") { // Set the title of the window. set_title("Hello World"); // Add the member button to the window, add(hello_world); // Handle the 'click' event. hello_world.signal_clicked().connect( sigc::mem_fun(*this, &amp;HelloWorldWindow::on_button_clicked)); // Display all the child widgets of the window. show_all_children(); } void HelloWorldWindow::on_button_clicked() { std::cout &lt;&lt; "Hello world" &lt;&lt; std::endl; } //main.cc #include &lt;gtkmm/main.h&gt; #include "HelloWorldWindow.h" int main(int argc, char *argv[]) { // Initialization Gtk::Main kit(argc, argv); // Create a hello world window object HelloWorldWindow example; // gtkmm main loop Gtk::Main::run(example); return 0; }</span></span></code> </pre><br></div></div><br>  This, undoubtedly, looks more verbose, but the problems inherent in pointers, such as memory leaks, dereferencing errors, removal of NULL-pointers, disappear.  We also immediately get the benefits of OOP, such as encapsulation, polymorphism and inheritance.  This clearly finds application in this field, especially inheritance. <br><br><h4>  Low level programming </h4><br>  One of the main niches that occupies this notorious language.  Solving a similar problem in C can be done in different ways, but the most common is direct access to the registers of the machine. <br><br><pre> <code class="cpp hljs">PORTD = <span class="hljs-number"><span class="hljs-number">0xff</span></span>;</code> </pre><br>  But it contains obvious drawbacks: the ease to make a typo, generates a repeating code, inconsistency and maintenance complexity. <br><br>  It would be more convenient to implement a simple class. <br><br><pre> <code class="cpp hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">led</span></span></span><span class="hljs-class"> {</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span>: led: port {*s}{<span class="hljs-comment"><span class="hljs-comment">/*..*/</span></span>} ledOn(number) {<span class="hljs-comment"><span class="hljs-comment">/*...*/</span></span>}; <span class="hljs-comment"><span class="hljs-comment">//... };</span></span></code> </pre><br>  And in the future to create an object for each port.  You can also add to the constructor additional parameters that determine the configuration of the ports, not to mention the huge variety of all sorts of methods for complex manipulations, for example, all port bits. <br><br><h4>  Problematic issue </h4><br>  In any case, the scope of this tool is obvious.  They extend the functionality of the language, making it not only effective, but also more convenient.  From an objective point of view, this is quite necessary, but ... I think many still have an internal dissonance when reading the title, because there is C ++ for this.  But does this limit C itself?  Who should this harm?  The language is no longer young, it has managed to create a mass of stable stereotypes, but as time goes on, the time has come to change, and to accept the need for granted. </div><p>Source: <a href="https://habr.com/ru/post/253274/">https://habr.com/ru/post/253274/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../253264/index.html">About highway</a></li>
<li><a href="../253266/index.html">Gson cheat sheet for Map, List and Array</a></li>
<li><a href="../253268/index.html">How we spent 1 year and 3 months to develop a browser game</a></li>
<li><a href="../253270/index.html">Using Intel¬Æ C ++ Compiler Advanced Features for Android Applications</a></li>
<li><a href="../253272/index.html">Automate Cisco IOU from console</a></li>
<li><a href="../253278/index.html">Meet Envoyer.io (part 2)</a></li>
<li><a href="../253280/index.html">PVS-Studio: 25 suspicious code snippets from CoreCLR</a></li>
<li><a href="../253281/index.html">Unpleasant surprises from Tinypass or not worth chasing a subscription discount</a></li>
<li><a href="../253283/index.html">Microsoft Technology Expedition Starts March 18 in St. Petersburg</a></li>
<li><a href="../253285/index.html">Finding relationships using the Oil Ruble example</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>