<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Another unnecessary extension for Google Chrome?</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Good day, dear habrazhitel. From the name of the publication it becomes clear that under the cut you are waiting for the story of the birth of another...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Another unnecessary extension for Google Chrome?</h1><div class="post__text post__text-html js-mediator-article">  Good day, dear habrazhitel.  From the name of the publication it becomes clear that under the cut you are waiting for the story of the birth of another unnecessary browser extension from the search giant Google.  As you understand, the title is provocative, and the need for an extension for the browser is a rather subjective question.  Therefore, I suggest that you independently make a verdict and assess the level of ‚Äúuselessness‚Äù of this product.  Or be satisfied with a small amount of time spent in vain and pass by. <br><br><img alt="fast search screenshot" title="fast search screenshot" width="635" height="360" src="https://habrastorage.org/files/311/127/309/31112730933341f1a85f295100677450.png"><br><a name="habracut"></a><br>  It all started on an ordinary working day: conducting another text search on a page that is open, as often happens in my favorite browser, Chrome, I wondered: why isn't my dear Chrome looking for text selected with the mouse right away?  Every time I have to spend an annoying Pleiades Ctrl + C Ctrl + F Ctrl + V.  Maybe there is some other combination: Shift + F or Alt + F?  Alas, the lame does not know how - and the point. <br><br>  I asked colleagues: did they ask a similar question and how do they relate to such an unproductive combination of keyboard shortcuts for a simple search of the selected text?  It turned out that no one parses about this.  And fox adepts generally grinned so slyly, because the red-haired one can do it.  Checked: yes, yes - can.  No, well, seriously: doesn‚Äôt it bother anyone?  After all, the selected text immediately looks for any IDE and even any self-respecting text editor.  Why the search giant can not organize a comfortable search on the page in your browser? 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Checked in Opera 12.15 - can not.  Of the lame ones, I checked OperaNext and YaBrowser - they do not know how.  Donkey, as it does not progress, in it and after a long Ctrl + C Ctrl + F Ctrl + V nothing is searched without a mouse.  Since changing the browser is not an option, with the research in this regard is completed. <br><br>  Here, once again, I realized that the world is not perfect, and decided: I‚Äôll find an expansion for this business and everything will be settled in a moment.  The variant with software for remapping keys, of course, also considered and rejected.  As one member of the class said to the other, ‚Äúthis is not our method, buddy.‚Äù <br><br>  You know, chrome extensions are looking for everything and everywhere, except for the selected text on the current page.  Well, honestly: you can select any search engine, and search the entire site, both on Wikipedia and in highly specialized areas, and even, probably, among non-open stars, but not what I need.  So, after the fifth installed and immediately removed extension, the thought came: why don't I learn to write extensions for, for the present, my favorite browser, using the example of what I need, and not to some customer there? <br><br>  No sooner said than done.  It would be in a fairy tale about Ivanushka-developer, and it took 3 weeks for me, or rather, for us.  Well, clean, of course, 30 hours from strength will be typed, for only free time was devoted to this, and even then - not everything.  I wanted to scribble over the weekend, on my knee, so to speak, and publish it on Sunday evening.  Well, what's the deal then?  I planned, without any interfaces to you, to copy the selected text to the clipboard, Ctrl + F for the same, then open the chrome search form and paste the text from the clipboard there.  Great solution: save Ctrl + C and Ctrl + V for descendants (do not wear the keyboard).  The most silent lamp background expansion for Chrome. <br><br>  As you know, by this time I was firmly convinced of the imperfection of the mortal world, so the dark side was taking over.  I was going to intercept the Ctrl + F event, if there is a selected text to take it to the buffer, emulate the Ctrl + F pressing already for the browser [such non-existent .resumePropagation ()] and into the opened search form, again, emulating pressing Ctrl + V, paste copied text. <br><br>  For those who started reading the post not from the very beginning, let me remind you: this is my first experience of writing extensions for browsers in general, and for Google Chrome in particular.  Yes, this treacherous feint didn‚Äôt go away with your ears, security, sandbox and all that ... All because someone eats a lot!  Or rather, because event.initKeyboardEvent, as it is not initialized, flies away with zeros.  Who does not believe - opens the browser console and inserts the code: <br><br><pre><code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> event = <span class="hljs-built_in"><span class="hljs-built_in">document</span></span>.createEvent(<span class="hljs-string"><span class="hljs-string">'KeyboardEvent'</span></span>); event.initKeyboardEvent(<span class="hljs-string"><span class="hljs-string">'keydown'</span></span>, <span class="hljs-literal"><span class="hljs-literal">true</span></span>, <span class="hljs-literal"><span class="hljs-literal">true</span></span>, <span class="hljs-built_in"><span class="hljs-built_in">window</span></span>, <span class="hljs-literal"><span class="hljs-literal">false</span></span>, <span class="hljs-literal"><span class="hljs-literal">false</span></span>, <span class="hljs-literal"><span class="hljs-literal">false</span></span>, <span class="hljs-literal"><span class="hljs-literal">false</span></span>, <span class="hljs-number"><span class="hljs-number">65</span></span>, <span class="hljs-number"><span class="hljs-number">65</span></span>); event.keyCode = <span class="hljs-number"><span class="hljs-number">65</span></span>; event.which = <span class="hljs-number"><span class="hljs-number">65</span></span>; event.charCode = <span class="hljs-number"><span class="hljs-number">65</span></span>; <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(event); <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.dispatchEvent(event);</code> </pre> <br><br>  And who knows how to treat, he knows what to do in the comments. <br><br>  On <a href="http://stackoverflow.com/questions/12459874/trigger-native-keyboard-events-from-a-chrome-extension">stackoverflow,</a> they say that this is a webkit bug that has been hanging in the <a href="https://bugs.webkit.org/show_bug.cgi%3Fid%3D16735">bugtracker</a> since 2012.  But a born coder should not teach a good corporation how to fix bugs.  Going further ... <br><br>  Well, I thought nicely.  All these dirty methods are not for us, for sure the API for extensions under the browser of the search giant gives access to the search form.  I would be immensely happy this time to make a mistake, and let it appear that there is an opportunity to open this field to enter the desired text programmatically from the extension and insert at least a line into it ... Honestly, someone tell me how to finish this functionality and add it to the collaborators if you wish. <br><br>  Since I did not find such an opportunity, I decided to go to the victorious .crx -&gt; embed my search form on the page and use my search engine.  The engine, of course, said very loudly.  Since the ‚ÄúSalute‚Äù bike loomed, at least I hoped to honestly copy this part from someone on the expanses of these of your Internet sites.  And the first options, declared by their authors as a search on the page, did terrible things: they broke the layout of the page, searched all the elements, including script, style, img and others, did not work with UTF-8, and much more than you can frighten the children of programmers. <br><br>  At this stage, the team has grown, or rather to say: doubled.  I asked for help in drawing the search form from a friend of David, who in combination is also a designer.  We must pay tribute: the design department did a great job and by the time we left the betting we had a unique custom main expansion menu and 6 themes. <br><br>  What we have in the end: extensions for chrome with its own search form, with the ability to customize the color to highlight the found text and the current found fragment, text.  There is a possibility of intercepting pressing Ctrl + F and F3, this is in case you really like our solution and you get tired of comparing it with Chrome's native search.  Especially for comparison with the built-in search, the search form is initially displayed in the upper left corner, you can position it in the upper right corner from the settings in the main menu.  On the main settings page, customize the highlight colors and change the UI themes.  Also for each topic there is a minimalistic version of the search form: in one line. <br><br>  The stinginess of the graphics in the post is explained by the fact that all the funny pictures are in the source code on the <a href="https://github.com/Moldovich/fast_search_chrome_extension">githaba</a> .  Yes, and you can touch the <a href="https://chrome.google.com/webstore/detail/fast-search/algffpflnieieamgnfgbiiajahjgedkn%3Fhl%3Dru">crafts</a> by installing from the store extensions.  At the time of this writing, the draft version 1.0.4 has fixed the search bug in hidden elements, i.e.  they, of course, were not displayed, but were taken into account when calculating the results of the number of variants found.  By hidden means display: none.  So if you are lucky and publish 1.0.4 by morning, then you will be happy.  And on the <a href="https://github.com/Moldovich/fast_search_chrome_extension">githaba</a> , of course, lies fresh. <br><br>  And of course: I do not PR, and the moral of this story is this: let it happen and this extension will kick Google in improving the usability of its own browser.  Thank you all for your attention and, possibly, for quitting read-only.  To whom it was completely boring - I give my Scottish Straight: <br><div style="text-align:center;"><img width="635" height="466" alt=" " title="Scottish Straight Developers" src="https://habrastorage.org/files/d54/4ff/9a9/d544ff9a95934b19afd31e399315a513.jpg"></div></div><p>Source: <a href="https://habr.com/ru/post/241199/">https://habr.com/ru/post/241199/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../241189/index.html">How do Apple shares behave after the release of new devices</a></li>
<li><a href="../241191/index.html">Toaster. New responsive design and future plans</a></li>
<li><a href="../241193/index.html">Founder of the Raspberry Pi Foundation has demonstrated the display for the "raspberry"</a></li>
<li><a href="../241195/index.html">0day detected in MS14-060 update</a></li>
<li><a href="../241197/index.html">SSH access to Jelastic cloud</a></li>
<li><a href="../241201/index.html">Five dead-end conversations between the manager and the manager</a></li>
<li><a href="../241203/index.html">The final program of the Mobile Developers Conference was published #MBLTDev</a></li>
<li><a href="../241205/index.html">How vGate helps in investigating security incidents in a virtual infrastructure</a></li>
<li><a href="../241209/index.html">Features of working with the Google Drive API</a></li>
<li><a href="../241211/index.html">Step-by-step guide to creating a trading robot in Python</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>