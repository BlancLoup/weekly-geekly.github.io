<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Computer vision in industry. Lecture in Yandex</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Machine learning continues to penetrate industries outside the internet industry. At the Data & Science conference ‚ÄúThe World through the Eyes of Robo...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Computer vision in industry. Lecture in Yandex</h1><div class="post__text post__text-html js-mediator-article">  Machine learning continues to penetrate industries outside the internet industry.  At the Data &amp; Science conference ‚ÄúThe <a href="https://events.yandex.ru/events/ds/18-aug-2018/">World through the Eyes of Robots</a> ‚Äù, Alexander Belugin from the company ‚ÄúTsifra‚Äù told about the successes, challenges and topical tasks along the way.  The introduction of technologies such as computer vision, requires serialization and product approach, allowing to reduce the cost of single implementations.  The fact is that there are many types of tasks in production.  From the report you can learn about the products, global trends and the experience of the team of Alexander in the areas of industrial safety and process automation. <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/zy9fxYDgUQw" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>  - Good morning.  I am glad that everyone came to this interesting conference.  I will first briefly talk about the company ‚ÄúTsifra‚Äù, then - a little about the tasks that are in the industry, and about typical ways to solve such problems.  These are tasks without robots, not assembly, but different process productions.  In the end we will consider our experience a little. <br><a name="habracut"></a><br>  We have been working in the market for a year now and as our goal we see the full automation of industrial production, which will make it possible to achieve a 10‚Äì15 percent increase in their profitability.  To do this completely, you need to solve all the problems, ending with some joint optimization of all processes, logistics, procurement and production itself, but starting with such basic things as the Internet of things, sensors, information gathering. <br><br><img src="https://habrastorage.org/webt/tl/k6/dn/tlk6dnhzpwxq5tip_znhakaxzcg.jpeg">
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Now it is called the buzzword of digitization.  This is the transfer of data about all the processes in digital form, so that later they can be used to increase efficiency. <br><br><img src="https://habrastorage.org/webt/rq/p-/rt/rqp-rtlj4v5i9ojmshmwhjfovwm.jpeg"><br><br>  Today we are talking more about computer vision.  There is also the term "machine vision", which refers to the technique.  There are video cameras similar to those used for video surveillance, there are webcams that are used for communications, and there are special cameras in the industry.  They differ in that they often do not have a normal Ethernet port, special protocols are used, they can transmit, for example, 750 frames per second and not in burst mode, but continuously, without compression.  There are special cameras with special sensitivity to light in other ranges than optically visible to the eye.  There are even cameras that read one lane, take very many frames per second, but one pixel wide.  Such a camera stands above the conveyor and looks at what is happening there. <br><br>  A distinctive feature of the tasks of computer vision is that the output should not be a picture - it does not interest anyone - but a number that characterizes the quality or dimensions of what we observe. <br><br><img src="https://habrastorage.org/webt/t0/-y/g3/t0-yg3hmejqw-oxmtebgvlmugio.jpeg"><br><br>  I want to list a few basic tasks.  The first major block is security related.  There is a perimeter control so that nothing is carried out from the enterprise.  This is an example of the number of video analytics tasks that have already been solved for 15‚Äì20 years, it is getting better every year.  If there is a fence and a video camera and someone is trying to climb, then the video analyst will catch it for sure. <br><br>  There are more complex tasks - control of movement in some zones.  For example, an enterprise can always get burned, end up in the unloading-loading area or on the tracks where the carts travel.  There is already a more difficult task, it is necessary to observe narrow restrictions, to understand which paths people can walk. <br><br>  Another example of a security-related task is the detection of helmets on their heads when cameras are placed on pads.  In Russia, this topic is very poorly sold.  When people hear how much such systems cost, they say that we have a regulation, a person should wear a helmet and he will wear it, and if not, he has violated the regulation, his problem.  In general, in the world this is a popular solution, which is promoted by both vendors and private companies. <br><br>  The next block of tasks is related to accounting.  Basically it is the recognition of some stickers.  There are special stickers when they print a barcode.  Then it works a little easier.  There is a bunch of ready-made software for recognizing barcodes or clearly typed characters.  Often they try to save money, not to change the coding system, but to use computer vision for recognition.  Then it can be, for example, stuffed on a railroad car and poorly distinguishable numbers.  Then it's harder, you need to spend more time building all this.  It is necessary to combat theft and to control the goods - what came to the company, how it moved inside it and where it eventually came out. <br><br><img src="https://habrastorage.org/webt/gu/p5/pd/gup5pdepzxw7mpp0443r1ejhuoa.jpeg"><br><br>  The last set of tasks is quality control.  It can also be divided into two components.  One is related to physical quality control.  You can watch the dimensions of certain objects.  Most often this applies to trifles: some kind of caps from milk bags or bottles.  They have a fairly simple cheap production process, a lot of rejects, they just need to be filtered out, making them more qualitative is unprofitable. <br><br>  And there is a part that is in the picture.  There are already more complex tasks.  This is when we are trying to understand - is the right action, in fact, done with our product?  For example, you need to assess the posture of a mechanic and understand what operation he performs.  Or there was a task when there is a platform where drilling rigs are assembled and disassembled.  The large field, assemble installation, driven to work, then dismantled and taken away.  Putting a person north to track these operations is very expensive, despite the fact that he will be idle most of the time.  On a video camera too.  On the video camera, you can watch automatically what events are taking place, and track the assembly and disassembly schedule. <br><br><img src="https://habrastorage.org/webt/g6/5d/c9/g65dc9vvgwvj92mwpgsjsbmtrve.jpeg"><br><br>  Another example is a screenshot of the partner software, the control of marriages in castings, all sorts of plastic things before painting, is poured into these forms like that.  You can detect a marriage with a camera. <br><br>  There are two main approaches to solving these problems.  Both are invented long ago, but the classic one is to work on images with some algorithms. <br><br><img src="https://habrastorage.org/webt/vx/7c/1-/vx7c1-ywmxqatxylizem1akjyea.jpeg"><br><br>  Left lever, an attempt to denote it.  The right is not so clear.  Circles are rolls of steel sheets rolled up, it is not clear what is in the center.  The methods are to somehow process the image, increase its contrast, maybe make it two-color, select some edges, edges of objects, try to find the objects themselves, and continue to work with them. <br><br><img src="https://habrastorage.org/webt/n4/sx/dl/n4sxdlekijgprgd0ydk4__jnyq8.jpeg"><br><br>  The second method, more modern, related to data science, is all connected with neural networks.  There are certain advantages.  The first and most important thing is that in terms of quality it is possible to achieve higher results in most complex tasks that cannot be solved by classical methods.  Some sample tasks are listed. <br><br>  There is adaptability, it is possible to set up a neural network learning algorithm, and transfer from a task to a task not the trained neural network itself, but all together with the algorithm, and then slightly different tasks can be solved with the same tool. <br><br>  There are downsides that often play in industry - lack of data.  To start detecting defects, if we are talking about classical methods, we need a video stream that shoots finished products, we need to see what defects there are, with our eyes, see them and make our code see them.  Enumerate several parameters; no manual marking is required for this.  In the case of a neural network, you need a large number of examples, either collect them manually, or use modern cunning methods to generate them.  This is a long and complex process, which may still need to be repeated from time to time when transferred to other tasks. <br><br><img src="https://habrastorage.org/webt/r8/tn/65/r8tn65cwnrn5irb3o-2wwd1-nnu.jpeg"><br><br>  Here is an example of such a picture associated with the detection of defects.  One of the popular topics, if you look at what articles are, on the bottom of the picture a small marriage on the structures is shown.  With the use of neural networks, it is possible to detect from 92% to 99% of all defects, at different jobs in different ways, with false positives at the level of 3-4%, quite suitable results.  The normal level of marriage in different industries from 0.5% to small units of percent.  Such indicators are well suited to replace the person who detects these defects.  Or even improve the results. <br><br><img src="https://habrastorage.org/webt/bo/t0/ry/bot0ryhsujsbdxbycztwgr1tqik.jpeg"><br><br>  Another example of the tasks associated with digitization, connecting different equipment that does not have digital interfaces, where the green arrow is leverage.  A small frame from the workplace of the driller who controls the drilling, he has some levers that he switches.  Drilling is important, an expensive process, a couple of million rubles a day.  And it does not register in any way, it switches some levers, and there is no record anywhere, or at best, it is in the manual journal that the switching of these levers went.  This is critically important. <br><br><img src="https://habrastorage.org/webt/hc/l-/2n/hcl-2ndtvk_djhr8ijtjankgsjy.jpeg"><br><br>  This is a furnace that hardens the wire.  In this example, the wire is made of gold.  The stove is about 25 years old, pure gold comes in, melts, pours into a thin thread, and tempered with heat, burned, turns into solid material.  It is known that sometimes this wire turns out to be reliable, all kinds of chains are woven from it, and sometimes a certain amount of wire leads to a marriage, during the weaving of chains they break, crack, tear.  It seems that it depends on the heat treatment conditions, taking into account the fact that the raw material varies slightly.  The data logger is written here, there is a recorder on the right behind the frame, which can write its own parameters on a roll of paper.  There are three parameters: the temperature in the cup in which gold is melted, the heating temperature is the mode of the furnace, and the speed with which it all passes. <br><br>  In order to understand what the defect is connected with and whether it is possible to adjust the stove so that the defect can be reduced, these parameters need to be digitized.  How?  It has industrial connectors, but it was all 25 years ago, it will be very expensive, either to make a connection using reverse engineering, or to pay the manufacturer of the furnace, if the company has not yet ruined it, for the connection.  Connecting such equipment to a USP or MS system [00:14:24] can cost, for example, a million rubles.  Or maybe hundreds of thousands.  Especially considering the fact that there are only two such furnaces, not a hundred. <br><br><img src="https://habrastorage.org/webt/wc/uv/nl/wcuvnloe7xjrybirzwn2u_mvr5e.jpeg"><br><br>  How can this problem be solved with the tools we talked about?  The classic approach with the help of OpenCV in this case does not work, there are too many highlights, the image is not clear, even a person doesn‚Äôt really distinguish what the numbers are.  OCR, ready-made libraries for text recognition are also not very suitable. <br><br>  There is a second option - neural networks.  In this case, it works, but it involves a large number of steps.  Surely you need to collect some markup for network training, testing, pick up some kind of network, train it.  All this needs to be done, tested.  I figured labor costs.  Here you can discuss, you can do it faster or slower, but in general it turns out 72 hours.  At the rate of a good specialist, it can cost so much.  At the same time, we received neither infrastructure nor software.  We just got a configured and tested network that recognizes these numbers well. <br><br>  Plus approach - it works.  Negative - so, too, no one is willing to implement.  First you need to learn how to collect this data, and only then to understand whether there is really a relationship between this data and the marriage.  If you have, you need to figure out how and what to change in order to reduce the marriage rate.  What if it's too much?  And to pay for the pilot, for automation and connection, immediately it is necessary to at least that much.  Even, most likely, more. <br><br><img src="https://habrastorage.org/webt/wb/ac/ip/wbacipb5p0quqd1dtacv0zzohoa.jpeg"><br><br>  Therefore, over the past three years, in our experience, such projects have not been able to sell a single one.  If this is a pipe marriage where a person stands, then a person costs much less.  If this is a difficult thing, then risks are too great for customers. <br><br>  Conclusion - you need to produce it. <br><br>  Now in the world, in the machine learning markets there is a lot of movement towards productisation.  All sorts of auto ML solutions that allow partly replacing the data scientist, and finished products or solutions for specific applications.  The simplest example is recommendations in e-commerce.  There are products for a long time, where data is connected in a standard format, and they themselves issue recommendations. <br><br>  We tried to do the same in the field of computer vision.  Offer a product that allows you to automate and reduce manual labor by an order of magnitude to connect old equipment with number recognition: dial gauges and others. <br><br><img src="https://habrastorage.org/webt/2f/qg/yn/2fqgyntb3_dj35rksaesbwm23ac.jpeg"><br><br>  The first task that needs to be addressed is to reduce setup costs.  When they put the camera, we must allow people to select the zone of interest.  For example, circle a rectangle like this and say that I want to recognize in this zone. <br><br><img src="https://habrastorage.org/webt/77/um/eb/77umebjbbw8o8kfcrei9suoc92y.jpeg"><br><br>  The next question is that all the tasks are different, and just in this place you need to learn some neural networks so that they work well here. <br><br><img src="https://habrastorage.org/webt/fj/um/wg/fjumwgfli-lqwd_jgqmha_mbsyu.jpeg"><br><h5>  <sub><sup><a href="https://arxiv.org/pdf/1803.11560">Link from the slide</a></sup></sub> </h5><br>  We know that there are different neural networks.  If we talk about numbers, in smartphones, many have autotranslators: we suggest any text, and more or less it starts to translate it, regardless of the font or angle.  There are such solutions, which means that using the board you can train the network, which will work well with any boards.  But it will have disadvantages - it will be difficult, difficult, it will work slowly, and since it is universal, the quality of a specific task will suffer.  Therefore, we used an approach called Tutor-Student, in which a solution is embedded in a set of powerful networks for specific tasks.  For example - separately for texts, for some levers, for dial gauges.  There are not many types of such devices.  This system works by itself, recognizes something, and then gives the operator the opportunity to make additional markup, look through his eyes and correct 3-5% of the errors he sees.  And then, on the basis of such an express method of generated markup, train an already lightweight network that is adapted to the specific task of the customer, according to its data.  This approach can significantly reduce the cost of implementation, while making the quality almost the same as if the work went by hand. <br><br><img src="https://habrastorage.org/webt/7f/zo/9a/7fzo9axddcd_uppozxwukogslyq.jpeg"><br><br>  The lightweight net is needed then that not everywhere in the enterprises there is an opportunity to connect video cameras to some kind of video management system.  If there was such a VMS, you can do everything on the server, where the resource limit is associated only with the cost.  And there are still chips embedded in a video camera like Nvidia Jetson, and separate solutions.  In particular, our solution works on Orange PI, it is a type of Raspberry PI microcomputer, and outputs 8‚Äì10 frames per second, receiving a Full HD image at the input. <br><br><img src="https://habrastorage.org/webt/bq/uf/9v/bquf9v-mriqh9sbdh05hlcr_uyo.jpeg"><br><br>  Next, too, the grocery part.  All this data needs to be put somewhere.  It immediately provides a set of standard connectors. <br><br><img src="https://habrastorage.org/webt/25/ab/hg/25abhg54txesyxgrkyatcsyzz7u.jpeg"><br><br>  Let's sum up.  Such productivization allows moving machine learning and computer vision to the masses, to a wide market, at the expense of low cost and low implementation costs, without the use of expensive specialists and data scientists.  I think this is the future, including in the industry. </div><p>Source: <a href="https://habr.com/ru/post/422087/">https://habr.com/ru/post/422087/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../422077/index.html">Is the problem of injection in javascript relevant?</a></li>
<li><a href="../422079/index.html">The digest of fresh materials from the world of the frontend for the last week No. 329 (August 27 - September 2, 2018)</a></li>
<li><a href="../422081/index.html">Application for the multiplatform bot framework</a></li>
<li><a href="../422083/index.html">One-page site on Kotlin and SpringBoot without using JSP</a></li>
<li><a href="../422085/index.html">Sort by selection</a></li>
<li><a href="../422089/index.html">Execution Context and Call Stack in JavaScript</a></li>
<li><a href="../422091/index.html">Effective use of array methods in javascript</a></li>
<li><a href="../422093/index.html">"Storytelling with Data", Cole Nussbaumer Knaflic: An Informal Summary of the Book</a></li>
<li><a href="../422095/index.html">A special-purpose audio gadget: the ‚Äúquiet‚Äù voice of ‚ÄúMedusa‚Äù, ‚ÄúWhisper‚Äù of shields and 162 dB from LRAD</a></li>
<li><a href="../422097/index.html">Notes IoT provider. About frequency</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>