<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>How to make Intel Edison and Galileo iBeacon-beacons</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Using the Bluetooth Low Energy technology, which is also called Bluetooth Smart, you can create iBeacon beacons. The lighthouse periodically notifies ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>How to make Intel Edison and Galileo iBeacon-beacons</h1><div class="post__text post__text-html js-mediator-article">  Using the Bluetooth Low Energy technology, which is also called Bluetooth Smart, you can create <a href="http://www.ibeacon.com/what-is-ibeacon-a-guide-to-beacons/">iBeacon</a> beacons.  The lighthouse periodically notifies the surrounding devices about its presence, and devices equipped with appropriate applications determine the distance to the lighthouse and perform certain actions.  If such a system is installed in a museum, a visitor‚Äôs smartphone can show him additional information about the exhibits, based on the position of the person in the exhibition hall.  According to the same scheme, it is possible to organize, for example, the provision of discounts in stores and any other options for user interaction that provide for its presence in a certain area of ‚Äã‚Äãspace. <br><br> <a href="https://habrahabr.ru/company/intel/blog/303670/"><img src="https://habrastorage.org/files/009/486/96e/00948696ef85455ab2418be1aa104701.jpg"></a> <br><br>  Today we will talk about how to create an iBeacon application for Intel Galileo and Intel Edison.  The application informs others about the presence of the board, which looks to them as a BLE beacon.  You can receive a signal, for example, using a smartphone program that can detect the presence of a beacon and measure the distance from it to a mobile device.  The ready-made code for the BLE iBeacon application, designed for Edison and Galileo, can be found <a href="https://github.com/gomobile/iotapp-template-ble-ibeacon">here</a> . <br><a name="habracut"></a><br>  This example demonstrates the applicability of the iBeacon BLE technology to identify the location of a BLE beacon (in this case, an Edison or Galileo board) relative to a mobile device.  If you are interested in the specifics of creating a project, including detailed technical information, take a look <a href="https://github.com/gomobile/iotapp-template-ble-peripheral">here</a> .  Our development has been tested on Intel Edison with an Arduino expansion board installed. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Please note that since we are using Bluetooth Low Energy, it is not necessary that the mobile device and the beacon be connected to the same Wi-Fi network.  At the same time, the board and the computer running the Intel XDK IoT Edition development environment must be connected to the same network. <br><br><h2>  <font color="#0071c5">Prerequisites</font> </h2><br>  To successfully master this manual, your workplace must meet the following requirements: <br><br><ul><li>  You must have a computer with Intel XDK IoT Edition installed and an IoT card connected to it.  If you need a step-by-step guide on how to organize your development environment, take a look at <a href="https://software.intel.com/node/afe1630d-fc66-4cfe-8786-98b690d09dcc">this</a> material. <br><br></li><li>  The card must be connected to the same wireless network as the computer.  Details about the connection, read <a href="https://software.intel.com/node/afe1630d-fc66-4cfe-8786-98b690d09dcc">here</a> . <br><br></li><li>  The board must have a Bluetooth module. <br></li><li>  You should have a device, for example - a smartphone on <a href="https://support.apple.com/en-us/HT202880">iOS</a> or Android, which supports the Bluetooth Low Energy standard.  <a href="http://www.bluetooth.com/Pages/Bluetooth-Smart-Devices-List.aspx">Here is a</a> list of suitable devices. </li></ul><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/2af/458/756/2af4587566e1e3a75b9b41606afd907a.png"></div><br>  <i><font color="#999999">Intel edison</font></i> <br><br><h2>  <font color="#0071c5">Creating a new project with BLE iBeacon support</font> </h2><br>  Here we will talk about how to use code samples to create a project that will allow the board to notify surrounding devices about its presence using BLE. <br><br><ol><li>  Launch Intel XDK IoT Edition. </li><li>  At the top left of the program window, click on the <b>Projects</b> tab. </li><li>  Click the <b>Start a New Project</b> button. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/cac/a0e/50a/caca0e50a8b01214cbe3197f83443b52.png"></div><br>  <i><font color="#999999">Creating a new project in Intel XDK IoT Edition</font></i> <br><br></li><li>  In the <b>Internet of Things Embedded Applications</b> group, click on <b>Templates</b> . <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/69b/b97/354/69bb97354fb2b67e27f82ab7bcb47a96.png"></div><br>  <i><font color="#999999">Go to the choice of application template</font></i> <br><br></li><li>  On the left side of the window, click the <b>(BLE) BLE-iBeacon</b> icon.  After that click on the <b>Continue</b> button. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/6d4/eee/92f/6d4eee92f5f6d957bf1d16ff80ac6e91.jpg"></div><br>  <i><font color="#999999">Template selection</font></i> <br><br></li><li>  Enter the project name in the <b>Project Name</b> field, then click the <b>Create</b> button.  A new project will be created and opened in the XDK. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/4d8/90b/064/4d890b064567a77a09bb400da0619b32.png"></div><br>  <i><font color="#999999">Project creation</font></i> <br></li></ol><br><h2>  <font color="#0071c5">Enable BLE on board</font> </h2><br>  Here we will talk about how to enable BLE on the board.  In order to perform the steps below, you will need to connect to the board using the tabs <b>SSH Terminal</b> or <b>Serial Terminal</b> , which are available in the Intel XDK IoT Edition.  Here are some useful links with details on how to organize in the XDK a terminal connection to the board via the serial port. <br><br><ul><li>  If you are using Intel Edison, have a look <a href="https://software.intel.com/en-us/setting-up-serial-terminal-intel-edison-board">here</a> . </li><li>  If you are developing for Intel Galileo, here is a set of guides for different operating systems: <a href="https://software.intel.com/en-us/articles/getting-started-with-the-intel-galileo-board-on-windows">Windows</a> , <a href="https://software.intel.com/en-us/articles/getting-started-with-the-intel-galileo-board-on-mac">Mac OS X</a> , <a href="https://software.intel.com/en-us/articles/getting-started-with-the-intel-galileo-board-on-linux">Linux</a> . </li></ul><br>  After the connection is established, do the following: <br><br><ol><li>  In an SSH session, or when connected via a terminal, execute these commands: <br><br><pre><code class="hljs nginx"><span class="hljs-attribute"><span class="hljs-attribute">rfkill</span></span> unblock bluetooth hciconfig hci0 up</code> </pre> <br></li><li>  Enter the following command to open the <b>base-feeds.conf file</b> in the <a href="http://www.cs.colostate.edu/helpdocs/vi.html">vi text editor</a> . <br><br><pre> <code class="hljs cs">vi /etc/opkg/<span class="hljs-keyword"><span class="hljs-keyword">base</span></span>-feeds.conf</code> </pre> <br></li><li>  Add the following to this file: <br><br><pre> <code class="hljs ruby">src/gz all <span class="hljs-symbol"><span class="hljs-symbol">http:</span></span>/<span class="hljs-regexp"><span class="hljs-regexp">/repo.opkg.net/edison</span></span><span class="hljs-regexp"><span class="hljs-regexp">/repo/all</span></span> src/gz edison <span class="hljs-symbol"><span class="hljs-symbol">http:</span></span>/<span class="hljs-regexp"><span class="hljs-regexp">/repo.opkg.net/edison</span></span><span class="hljs-regexp"><span class="hljs-regexp">/repo/edison</span></span> src/gz core2-<span class="hljs-number"><span class="hljs-number">32</span></span> <span class="hljs-symbol"><span class="hljs-symbol">http:</span></span>/<span class="hljs-regexp"><span class="hljs-regexp">/repo.opkg.net/edison</span></span><span class="hljs-regexp"><span class="hljs-regexp">/repo/core</span></span>2-<span class="hljs-number"><span class="hljs-number">32</span></span></code> </pre> <br>  Save the changes and exit the editor. <br><br></li><li>  In order for the <a href="https://github.com/sandeepmistry/bleno">Bleno</a> package for Node.js to work properly, enter the following commands: <br><br><pre> <code class="hljs nginx"><span class="hljs-attribute"><span class="hljs-attribute">rfkill</span></span> unblock bluetooth killall bluetoothd hciconfig hci0 up</code> </pre> </li></ol><br><h2>  <font color="#0071c5">Uploading the BLE-iBeacon Node.js application to the board</font> </h2><br>  Here we consider the assembly, uploading to the board and launching an application that allows the device to work with the BLE-module. <br><br><ol><li>  In the bottom toolbar of Intel XDK IoT Edition, click on the <b>Upload</b> icon. <img src="https://habrastorage.org/getpro/habr/post_images/3c5/ee7/632/3c5ee7632f0914aed7130aa3096681c6.png">  to upload the project to the board. <br><br></li><li>  Click the <b>Run</b> icon <b>.</b> <img src="https://habrastorage.org/getpro/habr/post_images/fb1/b6b/520/fb1b6b52091f62d34981d911e5e78da8.png">  to run the project. <br></li></ol><br>  If a message is displayed in the console located at the bottom of the program window that MRAA cannot be detected, you will need to update the MRAA library on the board.  To do this, click the <b>Manage your daemon / IoT device</b> icon. <img src="https://habrastorage.org/getpro/habr/post_images/77f/f7f/0fc/77ff7f0fc619d2e2619f5fe13f14b482.png">  in the lower right of the window, then select <b>Update libraries on board</b> . <br><br><h2>  <font color="#0071c5">Testing</font> </h2><br>  If the application was able to run on the board - this is half the battle.  The project should be tested using a smartphone and a suitable mobile application designed to work with BLE iBeacon devices.  In such applications, there is usually a command that can be called <b>Locate Beacon</b> .  It allows you to find beacons located nearby and calculate the distance to them.  Here are a couple of suitable applications: one for <a href="https://itunes.apple.com/us/app/locate-for-ibeacon/id738709014%3Fmt%3D8">iOS</a> and one more for <a href="https://play.google.com/store/apps/details%3Fid%3Dcom.radiusnetworks.locate%26hl%3Den">Android</a> . <br><br><h2>  <font color="#0071c5">findings</font> </h2><br>  We talked about how, using the capabilities of Bluetooth Low Energy, to make an Intel Edison or Intel Galileo iBeacon-beacon, which is able to notify about its presence, devices located near it.  We see several options for using the proposed solution.  The first, designed for small and educational projects, provides for the use of the board as an end device.  Another option is to create on the basis of Edison or Galileo a prototype of a large commercial system.  If the prototype meets expectations, universal boards can be replaced with specialized beacons, while Edison and Galileo can be used for new experiments. </div><p>Source: <a href="https://habr.com/ru/post/303670/">https://habr.com/ru/post/303670/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../303660/index.html">JS Programming Contest: Word Classifier (Final Results)</a></li>
<li><a href="../303662/index.html">Do you see well</a></li>
<li><a href="../303664/index.html">We are looking for anomalies in the X-Ray Engine</a></li>
<li><a href="../303666/index.html">We develop a weather bot in the IBM Bluemix environment based on Facebook</a></li>
<li><a href="../303668/index.html">Solving common business problems: there are no magic recipes</a></li>
<li><a href="../303672/index.html">From the communication tool of scientists to the world standard: A brief history of e-mail</a></li>
<li><a href="../303674/index.html">The book ‚ÄúSwift 2.2. Basics of developing applications for iOS and OS X ¬ª</a></li>
<li><a href="../303676/index.html">Servers in the Netherlands with 1 Gbit / s and 100TB traffic from $ 58.25 / month + bonus for readers habrahabr 1-3 months for free</a></li>
<li><a href="../303678/index.html">Zend loop traversal macros (HashTable Iteration)</a></li>
<li><a href="../303680/index.html">‚Äú12 hours, 10 interviewers‚Äù: How to get a job in finance on the example of an interview at Goldman Sachs</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>