<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Finding inefficiencies: What you need to know about creating strategies for trading on the exchange</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="There are a lot of publications in blogs, articles and books devoted to optimizing the testing of trading strategies. At the same time, almost no one ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Finding inefficiencies: What you need to know about creating strategies for trading on the exchange</h1><div class="post__text post__text-html js-mediator-article"> <a href="https://habrahabr.ru/company/itinvest/blog/279321/"><img src="https://habrastorage.org/files/f5a/d47/d55/f5ad47d551f246118911faf0a732e927.jpg"></a> <br><br>  There are a lot of publications in blogs, articles and books devoted to optimizing the testing of trading strategies.  At the same time, almost no one writes about how to build such a system from scratch.  The author of the Financial Hacker blog decided to correct this situation and create a cycle of articles on the topic of developing trading strategies - we present to your attention the main theses of the first <a href="http://www.financial-hacker.com/build-better-strategies/">material</a> . <a name="habracut"></a><br><br><h4>  The taste and color </h4><br>  In fact, there are two main methods for building online trading strategies.  The first is focused on a specific model, the second - on data mining.  In the first case, we are dealing with the concept of an inefficient market.  The method involves working with the psychology of traders, the economy, the microstructure of the markets, as well as any external phenomena that may affect stock prices.  Inefficiency leads to anomalies in the price curve or the emergence of certain patterns of price fluctuations that you can try to predict and use in the trading algorithm.  Among the strategies based on a specific model, we can recall the strategy of following the trend, mean reversion, price cycles and clusters, statistical arbitrage and seasonality. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      There is a problem here - this model is not realistic.  This is a simplified image of reality.  This model cannot be proven or disproved.  Its reliability can be justified only through the impact on the price curve.  The applicability of such a model depends on a certain long-term stability of the actions of the anomalies predicted with its help.  You can check it only through a high-quality testing algorithm. <br><br>  Pure data mining works differently.  It is used to study patterns of price changes and build on them a specific algorithm.  What reasons have caused changes in the market here is not so important.  It is important that they continue to operate in the future.  This approach has led to the emergence of trading systems using self-learning software.  The most popular technique in this case is the method of selection, trial and error, the use of candlestick patterns, regression, autocorrelation, the k-means method, neural networks, the decision tree. <br><br>  The advantages of data analysis are that you do not need to guess about the state of the market.  Disadvantage: all these methods usually reveal a bunch of random patterns and then generate a bunch of useless strategies.  Separating random patterns from those that actually influence the state of the market is not an easy task.  Currently, it is not known about successful trading systems built solely on data analysis. <br><br><h4>  Who is smarter: the trader against the market </h4><br>  Obviously, no trading system will work in the absence of any market inefficiencies that could be exploited for profit.  But even if inefficiency exists, nothing will come out as long as it cannot be used, and as long as well-armed players do it for you.  Therefore, you need to be able to conduct operations better than most market participants. <br><br>  Here are three main hypotheses regarding market inefficiencies that you have probably heard about: <br><br><ul><li>  <b>Hypothesis A: markets operate efficiently</b> .  Prices depend on real events (for example, from the publication of annual reports of companies) and reflect the real value of assets.  All traders have full information, act quickly and efficiently.  Price spikes are absent, changes do not carry data for forecasting.  Technical trading system is useless.  It will be based on the principle of good luck. </li><li>  <b>Hypothesis B: markets are inefficient, but their inefficiency does not give an advantage to private traders</b> .  Only large firms and hedge funds can exploit such inefficiencies, possessing large capital, fast and expensive hardware, experienced analysts and expert mathematicians.  Start playing on their field means becoming easy prey for such companies. </li><li>  <b>Hypothesis C: Inefficient markets are enough for everyone</b> .  In this situation, the size of companies is no longer an advantage, but a disadvantage.  Large firms and hedge funds are too slow.  All these resources, including overvalued analysts and geniuses with too high salaries, are not able to get ahead of you if you have learned the rules of the game well. </li></ul><br>  Few people today still believe in the first hypothesis.  Markets do not behave rationally and efficiently.  There are plenty of examples.  Most often, the value of companies is far from their ‚Äúreal‚Äù value.  But even in such a situation, you can see some patterns.  Markets react quickly and harshly, following rumors and news.  But, if the information is less defined and requires minimal interpretation, the reaction rate decreases markedly.  Consider a typical example of this market behavior: <br><br><h4>  Swiss franc case </h4><br>  In September 2011, the Swiss National Bank set the price limit for the Swiss franc.  The idea was to protect the tourism industry and exports against the background of an overvalued rate.  The limit was set at 1.20 for EUR / CHF (euro / franc). <br><br>  In general, the price cap is a very rare step and a very significant example of market inefficiency.  All this can be immediately transferred to a very profitable, almost risk-free trading system.  In a normal situation, a strong market response can be expected when the EUR / CHF pair approaches the value of 1.20.  But in practice, the reaction was greatly extended in time. <br><br>  Of course, Switzerland is a strange place on the map of Europe.  Most US trading companies know only what high-quality cheese is made here.  Either they did not notice the decision of the National Bank, or the European offices of these companies forgot to report it.  The newsletter traveled across the Atlantic for three months, fighting pirates, storms and storms along the way, until finally it reached New York. <br><br>  So what can you do if you know about the price cap?  Only by January 2012, the major players in the market had an idea.  And it was not about developing a trading system, just buying up francs to put pressure on the ratio of the EUR / CHF currency pair. <br><br><img src="https://habrastorage.org/files/413/290/e69/413290e692bc4f6a8f206e6a69ab770f.png"><br><br>  <i>Changes in the price of the pair EUR / CHF in September 2011 - August 2012</i> <br><br>  The point was that when the price reaches its limit value, the benefit can be obtained by breaking through it.  At stake was a lot of money, patience and strength.  Since May 2012, the EUR / CHF price has been extremely close to the value of 1.20.  But the collapse of the price cap did not happen.  During 2012, Switzerland built a mighty $ 200 billion wall to protect its price cap.  All attacks were repelled.  In January 2013, the raiders retired. <br><br><img src="https://habrastorage.org/files/b68/3f3/9aa/b683f39aa26b405797acf50c54412803.png"><br><br>  <i>Changes in the price of the pair EUR / CHF in September 2012 - May 2013</i> <br><br>  Retrieved, making way for the work of algorithmic systems.  During the 2012 battle, they were forced to stand aside.  Private traders did not have so many means to join the game.  In January 2013, the first craftsmen began to use market inefficiencies in their favor.  They applied the Grid Trade method ‚Äî a strategy based on the wave nature of the market, earning on volatility and independent of the price direction.  It launched a machine for printing money. <br><br><h4>  Algorithm "printing machine" </h4><br>  Grid is a very simple system.  It places pending and short-term orders at fixed values ‚Äã‚Äãabove and below the current price.  Profit is obtained when market deviations.  Orders are opened and closed when the price crosses the grid values ‚Äã‚Äãin either direction.  Hypothetically, the degree of gain here approaches 100%, but in practice this level cannot be achieved.  Traders typically use a virtual hedging mechanism that opens and closes a position instead of opening a new one in the opposite direction.  This increases the total profit and allows you to control losses.  So the winning percentage here varies in practice in the region of 60%. <br><br>  Here is an example of a Zorro script for such a system: <br><br><pre><code class="perl hljs">//  ,        bool isFree(var Price,var Grid,bool IsShort) { <span class="hljs-keyword"><span class="hljs-keyword">for</span></span>(open_trades) { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(TradeIsShort == IsShort &amp;&amp; between(TradeEntryLimit,Price-Grid/<span class="hljs-number"><span class="hljs-number">2</span></span>,Price+Grid/<span class="hljs-number"><span class="hljs-number">2</span></span>)) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> false; } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> true; } //        EUR/CHF <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> run() { BarPeriod = <span class="hljs-number"><span class="hljs-number">60</span></span>; Hedge = <span class="hljs-number"><span class="hljs-number">5</span></span>; <span class="hljs-regexp"><span class="hljs-regexp">//</span></span> activate virtual hedging var Grid = <span class="hljs-number"><span class="hljs-number">20</span></span>*PIP; <span class="hljs-regexp"><span class="hljs-regexp">//</span></span> set grid distance to <span class="hljs-number"><span class="hljs-number">20</span></span> pips var Close = priceClose(); <span class="hljs-regexp"><span class="hljs-regexp">//</span></span> place pending trades at <span class="hljs-number"><span class="hljs-number">5</span></span> grid lines above <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> below the Close <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> i; <span class="hljs-keyword"><span class="hljs-keyword">for</span></span>(i = Close/Grid - <span class="hljs-number"><span class="hljs-number">5</span></span>; i &lt; Close/Grid + <span class="hljs-number"><span class="hljs-number">5</span></span>; i++) { var Price = i*Grid; <span class="hljs-regexp"><span class="hljs-regexp">//</span></span> place short trades with profit target below the current price <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(Price &lt; Close &amp;&amp; isFree(Price,Grid,true)) enterShort(<span class="hljs-number"><span class="hljs-number">1</span></span>,Price,<span class="hljs-number"><span class="hljs-number">0</span></span>,Grid); <span class="hljs-regexp"><span class="hljs-regexp">//</span></span> place long trades with profit target above the current price <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(Price &gt; Close &amp;&amp; isFree(Price,Grid,false)) enterLong(<span class="hljs-number"><span class="hljs-number">1</span></span>,Price,<span class="hljs-number"><span class="hljs-number">0</span></span>,Grid); } }</code> </pre> <br>  Grid is a typical model-oriented system.  It implies that certain market conditions keep the price in a certain range.  For example, the restriction prevents the EUR / CHF pair from dropping below 1.20.  But it also cannot rise too high, given the fact that the Swiss National Bank will eventually have to buy back all the francs that they sold in order to maintain a certain value.  All these are necessary conditions for the application of the Grid.  Without them, this would be a usual roulette, and would fill up the list of irrational trading methods. <br><br>  Here is an example of applying the method for EUR / CHF from P &amp; L in 2013: <br><br><img src="https://habrastorage.org/files/273/5d9/015/2735d901568440948013a69afefece24.png"><br><br>  The graph shows significant price fluctuations with significant declines in January and May.  But because of the limit, we can predict the maximum losses and just keep enough funds in the account.  In this case, annual revenue was 130%, Sharpe ratio - 1.7.  Virtually no risk until the price limit is lifted. <br><br>  News about this strategy was distributed throughout 2013.  Not surprisingly, many market participants, private investors, wanted to jump into the departing train.  Three years after the decision of the Bank of Switzerland, thousands of such systems were already operating on the market.  As a result, the volatility of the EUR / CHF price has steadily decreased. <br><br><img src="https://habrastorage.org/files/880/190/9e6/8801909e632f4151a4606935c0aa3d32.png"><br><br>  Volatility is a key condition for the Grid method.  The smaller it is, the less income.  In order to compensate for its decline, you need to invest more and compress the grid.  But we have a natural limit.  The size of the grid can not be less than the payment of the transaction.  By the fall of 2014, volatility fell to virtually zero.  This was accompanied by a significant drop in prices, as if one of the major players (most likely the Swiss National Bank itself) is persistently selling euros and buying francs in anticipation of a major event.  For private traders, it's time to get out of the game.  The further fate of the Swiss franc is well known.  In January 2015, the price limit was lifted. <br><br>  For a couple of minutes, the EUR / CHF price has slipped to values ‚Äã‚Äãsubstantially below 1.20.  Unlike the situation that occurred four years ago, the market reacted instantly.  Many have suffered.  The most interesting thing is that the ‚Äúreal‚Äù ratio of the pair, based on the relative purchasing power of each currency, all this time was kept at 1.50. <br><br><h4>  findings </h4><br><ul><li>  Financial markets react instantly and hysterically to any news with clear indications of price movement up or down. </li><li>  Markets responds slowly to any information that requires minimal interpretation.  It may take years before they become aware of a new inefficiency or strategy. </li><li>  Markets prefer rough, frontal attack methods.  Complex strategies are used by a small number of participants. </li><li>  Simple systems that rely on obvious inefficiencies can be useful over a limited time interval. </li></ul></div><p>Source: <a href="https://habr.com/ru/post/279321/">https://habr.com/ru/post/279321/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../279299/index.html">Dedicated servers and reviews about hosts</a></li>
<li><a href="../279307/index.html">Molecula - a new way to conduct group correspondence in Outlook</a></li>
<li><a href="../279309/index.html">Banking Android Trojan disguises as a Flash player and bypasses 2FA authentication</a></li>
<li><a href="../279313/index.html">Audio conferences for the poor and for the rich</a></li>
<li><a href="../279315/index.html">Curious case with root-access to mysql</a></li>
<li><a href="../279323/index.html">Welcome to Moscow Python Meetup March 18</a></li>
<li><a href="../279325/index.html">Bounty program in Badoo</a></li>
<li><a href="../279327/index.html">We organize the recovery of virtual machine files using the web portal Veeam Self-Service File Restore</a></li>
<li><a href="../279329/index.html">NetApp Converged Infrastructure Storage. Predictions 2016</a></li>
<li><a href="../279331/index.html">Where do we form a model for UI with Domain Driven Design? Performance comparison of various architectural solutions</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>