<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Interface revolution. USB 3.1 Type-C in detail. Electronic technician</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="It rarely happens that one extra letter in the title of the standard threatens to revolutionize the world of data transfer interfaces and gadgets, but...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Interface revolution. USB 3.1 Type-C in detail. Electronic technician</h1><div class="post__text post__text-html js-mediator-article"><div style="text-align:center;"><img src="https://habrastorage.org/files/721/00a/945/72100a9459f749e38ac4df91d3b300c3.jpg" alt="image"></div><br>  It rarely happens that one extra letter in the title of the standard threatens to revolutionize the world of data transfer interfaces and gadgets, but the appearance of the latest version of USB 3.1 <b>Type-C</b> seems to be the case.  What promises us to bring the next update of the good old USB interface? <br><ul><li>  Data transfer rate <b>up to 10 GBps</b> </li><li>  Possibility of powering devices from the port with power consumption <b>up to 100W</b> </li><li>  Connector sizes comparable to micro USB </li><li>  The symmetry of the connector - it does not exist top and bottom, which means there is no key, which often leads to damage to both the connectors themselves and the gadgets connected through them </li><li>  With this interface you can power up devices with voltages <b>up to 20 volts.</b> </li><li>  There are no more different types of connectors - A and B. At both ends of the cable are exactly the same connectors.  Both data and supply voltage can be transmitted through the same connector in both directions.  Depending on the situation, each connector can act as a master or slave. </li><li>  We are promised that the design of the connector is able <b>to</b> withstand <b>up to 10,000 connections</b> </li><li>  It is possible to use this interface for direct connection instead of some other widely used interfaces for fast data exchange. </li><li>  The standard is compatible from top to bottom with both the usual USB 3 interface and its younger brothers.  Of course, not directly, but using an adapter through it, we can connect, say, a USB 2.0 disk </li></ul><br>  Under the cut, I will try to sort the topic by bone - from the design of the connector and cable, to the overview of the hardware profiles and new chips to support the capabilities of this interface.  I thought for a long time at which site to post an article, because all previous issues related to this topic were published on GT, but in my publication there are so many technical details that it will be more useful not for geeks but for potential developers who already today should start looking at it.  Therefore, I ventured to settle the article here. <br><a name="habracut"></a><br>  I will not touch upon the history of the development of the USB interface, this topic is not well developed in this <a href="http://geektimes.ru/company/mvideo/blog/248078/">comic</a> <s>in the sense of history in pictures</s> <br><br><h4>  Electronics - the science of contacts </h4><br>  For a start, a comparative photo of today's hero in the company of deserved ancestors. <br><br><img src="https://habrastorage.org/files/920/c54/9d7/920c549d7f9d45b1b9451918bd9a6238.jpg">
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      The USB Type-C connector is slightly larger than the usual USB 2.0 Micro-B, but noticeably smaller than the dual USB 3.0 Micro-B, not to mention the classic USB Type-A. <br>  Connector dimensions (8.34 √ó 2.56 mm) allow using it for devices of any class, including smartphones and tablets, without any particular difficulties. <br><br><img src="https://habrastorage.org/files/bd8/0de/442/bd80de4423e044258991bd0b957daa2b.png"><br>  Signal and power outputs are placed on a plastic insert. Perhaps this is its weakest place in the central part of the connector.  The USB Type-C contact group contains 24 pins.  Let me remind you that USB 1.0 / 2.0 had only 4 pins, and USB 3.0 connectors took 9 pins already. <br><br><img src="https://habrastorage.org/files/658/6aa/c5a/6586aac5a62944b3a2e91b3daea07977.png"><br><img src="https://habrastorage.org/files/217/a92/bde/217a92bde82f44bda08f57e715e6e751.jpg" width="535" align="left" alt="image"><br><br>  If you carefully look at the picture on the left, you can see that the contacts have different lengths.  This ensures their closure in a certain sequence.  In the figure in the center we see the presence of clips, which should hold the cable stuck and provide a tactile click in the process of connection-disconnection.  The right graph shows the dependence of the force in the process of inserting and removing the connector. <br><br>  The peaks that we see on it are the moments of triggering the latch. <br><br>  It can be stated that the developers of the standard did, if not everything, almost everything, so that the connector became as convenient and reliable as possible: it is inserted at any end and at any side with a noticeable click.  According to them, he is able to survive this procedure more than 10 thousand times. <br><br><h4>  Many-sided symmetrical Janus </h4><br>  A very pleasant and useful feature of USB-C is the symmetrical design of the connector, which allows it to be connected to the port by either side.  This is achieved through the symmetrical arrangement of its findings. <br><br><img src="https://habrastorage.org/files/83d/0fb/9a3/83d0fb9a385b4ab5b574f3dba18f11a7.png"><br><br>  On the edges are the findings of the earth.  The positive power contacts are also arranged symmetrically.  In the center there are contacts responsible for compatibility with the USB2 interface and less.  They were lucky most of all - they are duplicated and therefore a 180-degree turn when connecting is not terrible.  Blue marked pins responsible for high-speed data exchange.  As we see it all smarter.  If we turn the connector, for example, the output of the TX1 will swap places with the TX2, but at the same time the place of entry of the RX1 will be taken by the RX2. <br><br>  Conclusions Secondary Bus and USB Power Delivery Communication service and are designed to communicate with each other two connected devices.  After all, they need to tell a lot about each other before starting an exchange, but more on that later. <br><br>  For now about one feature.  The USB Type-C port was originally developed as a universal solution.  In addition to direct data transfer via USB, it can also be used in alternate mode (Alternate Mode) for implementing third-party interfaces.  This flexibility of USB Type-C was used by the VESA association by introducing the ability to transmit a video stream via DisplayPort Alt Mode. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/b16/fc7/c54/b16fc7c54cb04b7f8d894b5baf7701e5.png" alt="image"></div><br><br>  USB Type-C has four high speed Super Speed ‚Äã‚ÄãUSB lines (pairs).  If two of them are allocated to the needs of DisplayPort, this is enough to get a picture with a resolution of 3840 √ó 2160.  It does not suffer from data transfer speed via USB.  At the peak, it's all the same 10 Gb / s (for USB 3.1 Gen2).  Also, the transmission of the video stream does not affect the energy capabilities of the port.  Even 4 speed lines can be allocated to the needs of DisplayPort.  In this case, resolutions up to 5120 √ó 2880 will be available.  In this mode, USB 2.0 lines remain unused, because USB Type-C can still transfer data in parallel, although at a limited speed. <br><br>  In the alternate mode, the SBU1 / SBU2 contacts are used to transmit the audio stream, which are converted to AUX + / AUX- channels.  For the USB protocol, they are not involved, because there are also no additional functional losses. <br><br>  When using the DisplayPort interface, the USB Type-C connector can still be connected to either side.  The necessary signal matching is provided initially. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/files/05e/e66/16b/05ee6616b1f94f9ca4cc1dc114ee3949.png" alt="image"></div><br><br>  Connecting devices using HDMI, DVI and even D-Sub (VGA) is also possible, but this will require separate adapters, but these must be active adapters, since for DisplayPort Alt Mode, the Dual-Mode Display Port (DP ++) is not supported . <br><br>  The alternative USB Type-C mode can be used not only for the DisplayPort protocol.  Perhaps soon we will learn that this port has learned, for example, to transmit data using PCI Express or Ethernet. <br><br>  And to this she gave, and to that she gave.  In general ... about nutrition. <br><br>  Another important feature that USB Type-C brings is the ability to transfer energy up to 100 watts through it.  This is enough not only for powering / charging mobile devices, but also for working laptops, monitors, and if you dream up, then a small laboratory power source. <br><br>  When the USB bus appeared, the transfer of energy was an important, but still secondary, function.  The USB 1.0 port provided only 0.75 W (0.15 A, 5 V).  Enough for the mouse and keyboard, but no more.  For USB 2.0, the nominal current was increased to 0.5 A, which allowed it to receive 2.5 watts from it for powering, for example, 2.5 ‚Äùexternal hard drives.  For USB 3.0 nominally provides a current of 0.9 A, which at a constant supply voltage of 5V guarantees a power of 4.5 watts.  Special reinforced connectors on motherboards or laptops were capable of delivering up to 1.5 A to accelerate the charging of connected mobile devices, but this is ‚Äúonly‚Äù 7.5 watts.  Against the background of these figures, the possibility of transmitting 100 watts looks like something fantastic. <br><br>  In order to fill the USB Type-C port with such energy, there is support for the USB Power Delivery 2.0 (USB PD) specification.  If there is none, the USB Type-C port can regularly output 7.5 W (1.5 A, 5 V) or 15 W (3A, 5 V) to the mountain, depending on the configuration.  There is not enough space for a detailed description of this specification in this article, and anyway I will not do it better than the respected <a href="http://habrahabr.ru/users/stpark/" class="user_link">stpark</a> in my <a href="http://geektimes.ru/post/166661/">wonderful article</a> . <br><br>  However, to completely circumvent this archival topic will not work. <br><br>  In order to provide power of 100 watts at a voltage of five volts, a current of 20 amps is required!  This is possible with the dimensions of a USB Type-C cable only if it is made of a superconductor!  I am afraid that today it will cost users a bit expensive, so the developers of the standard have taken a different path.  They increased the supply voltage to 20 volts.  ‚ÄúExcuse me, but it will burn my favorite tablet completely‚Äù - exclaim you, and you will be absolutely right.  In order not to fall victim to angry users, engineers conceived a cunning trick - they introduced a system of power profiles.  Before connecting, any device is in standard mode.  The voltage in it is limited to five volts, and the current is two amperes.  To connect with the old type of devices, this mode will end everything, but for more advanced cases, after data exchange, the devices switch to another coordinated mode of operation with advanced features.  To get acquainted with the main existing modes we will look at the table. <br><br><img src="https://habrastorage.org/files/372/046/7ed/3720467ed4cc4414bb942b46d42d5888.png"><br><br>  Profile 1 guarantees the possibility of transmitting 10 watts of energy, the second is already 18 watts, the third is 36 watts, the fourth is 60 watts, and the fifth is our cherished hundred!  The port corresponding to the profile of a higher level, supports all the states of the previous descending.  5V, 12V and 20V were chosen as reference voltages.  The use of 5V is necessary for compatibility with a huge fleet of existing USB peripherals.  12V - standard supply voltage of various components of systems.  20V is suggested taking into account the fact that for charging most accumulators of most laptops 19‚Äì20V external power supplies are used. <br><br><h4>  A couple of words about cables! </h4><br>  Supporting the format described in the article in full will require tremendous work not only for programmers, but also for electronics manufacturers.  It will be necessary to develop and expand the production of a very large number of components.  The most obvious is the connectors.  In order to withstand high supply voltage, not to interfere with the transmission of signals of very high frequency, and at the same time not to fail after the second connection and not to fall out at the most inappropriate moment, the quality of their manufacture must be radically higher compared to the USB format 2 <br><br>  To combine the transmission of high power and signal with gigabit traffic, cable manufacturers will have to seriously strain. <br><br>  Admire how a sectional cable looks suitable for our task. <br><br><img src="https://habrastorage.org/files/48a/c0f/d80/48ac0fd803314419a9ac52f17a2429a6.png"><br><br>  By the way, about the limitations on the length of cables when using the USB 3.1 interface.  For data transmission without significant losses at speeds up to 10 Gb / s (Gen 2), the cable length with USB Type-C connectors should not exceed 1 meter, for connections at speeds up to 5 Gb / s (Gen 1) - 2 meters. <br><br>  Circuitry manufacturers of motherboards, docking stations and laptops will long to wrestle with how to generate power of the order of hundreds of watts, and tracers how to bring it to the USB Type-C connector. <br><br><h4>  Low-start chip makers. </h4><br>  Symmetric connection and operation of signal lines in different modes will require the use of high-speed signal switch chips.  Today the first swallows have appeared.  Here, for example, a switch from Texas Instruments, which supports operation in devices in both the host mode and slave mode.  It is capable of switching differential line pairs with a signal frequency up to 5 GHz. <br><br><img src="https://habrastorage.org/files/b1d/8a3/380/b1d8a33801b240fbbb528b20e5a35348.png"><br><br>  The dimensions of the HDC3SS460 3.5 chip are by 5.5 mm and in idle mode it consumes a current of the order of 1 microampere.  In the active mode, however, it is less than a milliampere.  There are more advanced solutions, for example, NXP chips support the exchange frequency up to 10 GHz. <br><br>  Power managers began to appear, combined with the chains of protecting signal lines from static, for example, such a product from NXP <br><br><img src="https://habrastorage.org/files/b3f/b61/7a8/b3fb617a82b0478790d8cab8bf4db3bb.png"><br><br>  It is intended for correct processing of the moment of connecting the connector, as well as opening the power circuit in case of malfunctions.  This chip already supports VBUS voltage up to 30 volts, but with the maximum switched current everything is much worse - it should not exceed 1 ampere, which is understandable, given the size - 1.4 by 1.7 mm! <br><br>  The undisputed leader in this area was Cypress, which released a specialized microcontroller with an ARM Cortex M0 core that supports all five possible power profiles. <br><br>  A typical switching scheme for use in a laptop gives some idea about it, and you can read more about it by downloading the datasheet. <br><br><img src="https://habrastorage.org/files/a9f/93b/1e1/a9f93b1e18114e448c273ada32e3b0aa.png"><br><br>  Unlike the NXP chip, it is focused on managing external power switches and therefore can provide the switching of the required currents and voltages, despite its small size. <br><br><img src="https://habrastorage.org/files/ede/b89/54b/edeb8954b6834e20ba6291e7ad8330e1.png"><br><br>  Attention, an important feature <s>for those who are already in a hurry to order the first samples</s> - the microcontroller does not have a USB interface and is not a complete and complete solution.  It can only serve as a power manager.  Pre-order for the delivery of samples and demo boards is currently open.  The fate of this microcontroller will apparently largely depend on whether the company - manufacturer of developers will provide reference libraries for its use in different modes. <br><br>  The fact that several demokits have already been created for him greatly increases the likelihood of the latter. <br><br><img src="https://habrastorage.org/files/966/288/e54/966288e54d9a44479c44f1f36236b2c5.jpg"><br><br><h4>  Lift to heaven or the Tower of Babel. </h4><br><br>  So today, a completely revolutionary situation.  The top can not, and the lower classes do not want to live the old way.  Everyone was tired of the mess with a huge number of cables, chargers, power supplies and their low reliability. <br><br><img src="https://habrastorage.org/files/99b/1cd/48a/99b1cd48a829414ba4e9405d420724dc.png"><br><br>  New standard spawned unprecedented activity.  The flagships of the electronics industry - Apple, Nokia, Asus, are preparing to release their first gadgets with USB Type-C support.  The Chinese are already stamping cables and adapters.  On the approach of the docking station and hubs with support for high load capacity.  Chip manufacturers are developing new microchips and are thinking of pushing a new port driver into the microcontroller.  Marketers decide where to insert a new connector, and engineers are scratching their turnips trying to implement multi-profile devices from existing electronic components. <br><br>  Only one thing is not clear yet.  What do we get as a result?  Convenient and reliable connector that replaces the lion's share of interfaces and will find daily use, or the Babylonian pandemonium, because the situation may begin to develop according to a not very favorable scenario: <br><br>  Users can finally get confused in the numerous specifications and cables that will look exactly the same in appearance, but will only be certified for certain profiles.  Try to figure it out on the go with all these markings. <br><br><img src="https://habrastorage.org/files/2c6/2eb/184/2c62eb184ec8461891ec148ed3fc7fc7.png"><br><br><img src="https://habrastorage.org/files/490/341/a89/490341a89dea4962b1b6509297bcef2b.png"><br><br>  But even if it works out, it is unlikely to solve the problem - the Chinese, without a twinge of conscience, can easily put any icon on any cord.  And if necessary, to heap on each side of the same cable are different, they will not be confused even if they are mutually exclusive. <br><br>  The market is flooded with an incredible number of adapters of different caliber and dubious quality. <br><br><img src="https://habrastorage.org/files/224/e5e/ddc/224e5eddc083483c9d9c5d86b923cdd6.png"><br><br>  Trying to connect one device to another will never result in knowing what result this process will lead to and because of what the connection is either completely absent or everything is terribly buggy.  Either one of the gadgets does not support the desired profile, or does it support but not too correctly, or, instead of a high-quality cable, got into it a rough Chinese fake.  And what would you do if suddenly the only remaining connector on your laptop fails? <br><br>  Wait and see how it comes out.  In the meantime, we hope for the best, although in the transitional period it will definitely not be easy.  I understand that my article did not answer all the questions about the new standard, but it‚Äôs time to get round and get to work, otherwise I‚Äôll see the very first client who is already dreaming about a USB Type-C compatible motherboard.  There is a chance to test this miracle of technology in practice and then share your personal experience. <br><br>  Until new meetings. <br><br>  PS The new standard is already leading to the appearance of very exotic devices.  So the cable of 100 meter length was announced, which, it seems, does not fit into the standards.  The whole point is that he is active.  At both ends, the cable has a USB3 interface to optical signal converter.  The signal is transmitted through optics and is converted back to the output.  Naturally, he does not transmit energy, but only data.  In addition, each of the converters at its ends is powered by the connector to which it is connected. <br>  I think that in the near future, self-respecting companies will begin to insert active tags into the cables to confirm the authenticity.  The problem of hubs will generate unprecedented activity among developers and manufacturers of DC-DC converters.  As rightly noted by the respected user of <a href="http://habrahabr.ru/users/timstims/" class="user_link">TimsTims, a situation</a> may arise, for example, that a device that supplies is capable of producing only 12 volts, and devices that are connected to it will begin to request, say, one 5, the other 18. <br>  In general, this standard promises to feed more than one developer, and manufacturers will not remain in the investment. </div><p>Source: <a href="https://habr.com/ru/post/258251/">https://habr.com/ru/post/258251/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../258239/index.html">Night, street, LED, pharmacy</a></li>
<li><a href="../258241/index.html">The starting list of pages in the new assembly Vivaldi 1.0.178.2</a></li>
<li><a href="../258245/index.html">Inside the post is money. Another JavaScript contest</a></li>
<li><a href="../258247/index.html">What should we build Cache?</a></li>
<li><a href="../258249/index.html">Cyclic containers in Objective-C</a></li>
<li><a href="../258253/index.html">Google transfers corporate applications to the cloud with access from outside</a></li>
<li><a href="../258255/index.html">Development of the system architecture through the service-resource model</a></li>
<li><a href="../258257/index.html">Microservices. Good, bad, evil</a></li>
<li><a href="../258259/index.html">First steps to smart bath</a></li>
<li><a href="../258265/index.html">Live broadcast of DevCon conference on May 20 and 21</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>