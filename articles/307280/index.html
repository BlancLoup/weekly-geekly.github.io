<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>A bit about VPN: A brief overview of software implementations</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="/ photo reynermedia CC 

 A week ago, in our blog, we touched on the topic of data storage, or rather technologies that can change our understanding o...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>A bit about VPN: A brief overview of software implementations</h1><div class="post__text post__text-html js-mediator-article"> <a href="https://habrahabr.ru/company/1cloud/blog/307280/"><img src="https://habrastorage.org/files/f25/5ff/1b9/f255ff1b99054a4891ba22d6c2df06ab.jpg" width="700"></a> <br><br>  <i>/ photo <a href="https://www.flickr.com/photos/89228431%40N06/">reynermedia</a> <a href="https://creativecommons.org/licenses/by/2.0/">CC</a></i> <br><br>  <i>A week ago, in our <a href="https://habrahabr.ru/company/1cloud/blog/306806/">blog,</a> we <a href="https://habrahabr.ru/company/1cloud/blog/306806/">touched</a> on the topic of data storage, or rather technologies that can <a href="https://habrahabr.ru/company/1cloud/blog/305034/">change</a> our understanding of data centers.</i>  <i>Today we want to talk about technologies that are directly related to data transfer.</i> <br><a name="habracut"></a><br>  Today, many use VPN to solve corporate or personal tasks and know that there are quite a lot of different VPN implementations - each with its own pros and cons.  This post is devoted to a brief comparative analysis of the most common to date software solutions for creating virtual private networks. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Before proceeding to the comparison, let us designate the range of tasks that the VPN solves: <br><br><ul><li>  Addressing packages intended for specific customers. </li><li>  Efficient and at the same time not too greedy for resources encryption "on the fly", excluding the passage of information in the clear. </li><li>  Authenticating participants to connect to the network and checking data sources to protect the network from unauthorized nodes and packets. </li></ul><br>  Since the VPN technology is primarily intended for corporate use, to assess the implementation of this technology should be taken into account indicators of security, speed and stability. <br><br>  However, nowadays, VPN is also used to solve simpler, mundane tasks, which makes features such as its cross-platform and easy configuration that are equally important criteria for choosing an implementation. <br><br>  We will evaluate the flexibility, security, speed and stability of the following implementations: <br><br><ul><li>  PPTP (Point-to-Point tunneling protocol), </li><li>  IPSec (IP Security), </li><li>  L2TP (Layer 2 Tunneling Protocol) and L2TP + IPSec, </li><li>  OpenVPN, </li><li>  SSTP (Secure Socket Tunneling Protocol). </li></ul><br><h4>  <a href="https://ru.wikipedia.org/wiki/PPTP">PPTP (Point-to-Point Tunneling Protocol)</a> </h4><br>  PPTP was created by Microsoft and released back in 1999, but, despite its age, is still used today.  It uses TCP to establish a connection and the <a href="https://ru.wikipedia.org/wiki/MPPE">MPPE</a> protocol (from the same Microsoft) to encrypt the transmitted data.  Client authentication is typically provided by the <a href="https://technet.microsoft.com/en-us/library/cc957983.aspx">MS-CHAPv2</a> mechanism. <br><br>  The prevalence of PPTP VPN is associated with ease of configuration and cross-platform - its support is built into most modern operating systems (including mobile OS and OS for routers) by default.  Among other reasons for the popularity of this solution is to highlight the minimum load on computing resources, high speed, stability. <br><br>  But from the point of view of security, PPTP has compromised itself - today a large number of vulnerabilities have been found in both the MMPE protocol device (for example, the RC4 outgoing stream) and the MS-CHAP authentication element (in 2012, an online service appeared matching key <a href="http://www.infosecisland.com/blogview/22104-Chapcrack-and-CloudCracker-Unlock-MS-CHAPv2-Based-VPN-Traffic.html">MS-CHAPv2</a> for 23 hours).  Although the latter problem is solved by changing the authentication mechanism from MS-CHAP to <a href="https://en.wikipedia.org/wiki/Protected_Extensible_Authentication_Protocol">PEAP</a> , Microsoft itself now recommends using L2TP or SSTP. <br><br><h4>  <a href="https://ru.wikipedia.org/wiki/IPsec">IPsec (IP Security)</a> </h4><br>  IPSec is a group of protocols that ensure the confidentiality of data transmitted over IP networks by checking their authenticity and integrity, as well as encrypting packets.  IPsec can work in transport and tunnel modes.  If in the first case only the data of the forwarded packet is encrypted and the original header is saved, then the second one encrypts all transmitted traffic, which is then encapsulated in the data field of the new IP packet. <br><br>  When creating VPNs, IPsec transport mode is used in conjunction with other implementations (usually L2TP), while tunneling itself is a method of creating a VPN tunnel. <br><br>  IPsec connection encryption is provided by such protocols and algorithms as <a href="https://en.wikipedia.org/wiki/Internet_Key_Exchange">IKE</a> (Internet Key Exchange Protocol), <a href="https://en.wikipedia.org/wiki/Internet_Security_Association_and_Key_Management_Protocol">ISAKMP</a> (Internet Security Association and Key Management Protocol), <a href="http://www.networksorcery.com/enp/protocol/ah.htm">AH</a> (Authentication Header Protocol), <a href="https://en.wikipedia.org/wiki/Station-to-Station_protocol">STS</a> (Station-to-protocol protocol), <a href="https://en.wikipedia.org/wiki/SHA-1">SHA-1</a> ( Security Hash Algorithm), etc. <br><br>  The peculiarity of IPsec, which somewhat distributes it from the definition of VPN, is that it does not create an additional virtual network adapter in the system, but uses a standard external interface, and in general is not even the implementation of virtual private network technology, but a tool to protect against IP packets.  Deployment of virtual tunnels is rather its ‚Äúside‚Äù property. <br><br>  IPsec is supported by all modern operating systems (server, desktop, mobile), as well as a number of routers, and when setting up a VPN for the latter, there is no need to carry out any manipulations with the clients behind the routers.  Due to the above characteristics, IPsec is considered one of the best solutions for VPN deployment. <br><br>  However, this was not without vulnerabilities.  It is known that when operating in transport mode, this implementation may be subject to attacks directed at the ISAKMP protocol.  In addition, when IPsec works without AH headers, an attacker can inject his own data into the transmitted packets, which, of course, will have adverse consequences for the recipient.  Also known method of attack, which is replaced by the route of packet transmission.  Moreover, there is an <a href="http://www.spiegel.de/media/media-35529.pdf">exploit</a> to decrypt IPsec traffic through a vulnerability in IKE. <br><br><h4>  <a href="https://ru.wikipedia.org/wiki/L2TP">L2TP (Layer 2 Tunneling Protocol)</a> </h4><br>  L2TP is a tunneling protocol for virtual private networks.  It is a symbiosis of Layer 2 Forwarding protocol from Cisco and the PPTP described above.  Allows you to create a VPN-network with access rights, but it has one drawback - it does not encrypt traffic. <br><br>  It takes responsibility for the confidentiality and integrity of the L2TP packets inside the tunnel and, at the same time, requires ensuring encryption for all traffic passing through it at the packet level.  IPsec is usually used for this task. <br><br>  L2TP / IPsec is present in all modern operating systems and is easily customizable by the client.  However, it is worth remembering that L2TP uses UDP port 500, which is sometimes blocked if you are behind NAT.  In this regard, it may be necessary to configure the firewall or router (port forwarding), which is not required for solutions that use the TCP port 443 standard for HTTPS. <br><br>  LT2P / IPsec is currently considered a very secure solution when using encryption algorithms such as AES, but since it encapsulates data twice, it runs slightly slower than implementations using SSL (for example, OpenVPN or SSTP). <br><br>  From the point of view of the stability of L2TP / IPsec, it deserves an excellent assessment.  The disadvantage of LT2P / IPsec is that it uses almost twice the compute power of the processor to provide double encapsulation. <br><br><h4>  <a href="https://en.wikipedia.org/wiki/Secure_Socket_Tunneling_Protocol">SSTP (Secure Socket Tunneling Protocol)</a> </h4><br>  The secure socket tunneling protocol is another Microsoft brainchild introduced with the release of Windows Vista.  Today, not only Windows 2008/2012, but also a Linux or RouterOS-based machine can act as an SSTP server, although in the latter cases this solution cannot be called full-featured. <br><br>  With SSL v.3 support, SSTP can work without configuring a router / firewall, and integration with Windows simplifies setup and ensures stable operation.  For encryption, strong AES is used. <br><br>  While SSTP has many advantages and is a young developing technology, it works best in Windows-based networks - in other cases, you may encounter restrictions. <br><br><h4>  <a href="https://ru.wikipedia.org/wiki/OpenVPN">Openvpn</a> </h4><br>  OpenVPN is a relatively young (saw the light in 2002) open implementation of VPN, distributed under the GNU GPL license.  The security of the deployed tunnels here is provided by the <a href="https://www.openssl.org/">OpenSSL</a> library, which, in turn, offers a large assortment of encryption tools (Blowfish, AES, Camelia, 3DES, CAST).  The speed of the OpenVPN operation depends on the chosen algorithm, but, as a rule, this implementation is faster and consumes less resources than L2TP / IPsec. <br><br>  Another significant advantage of OpenVPN is the ability to pass through NAT and the firewall without additional configuration on the standard HTTPS port TCP 443 thanks to SSL / TLS encapsulation.  Provided and work on the protocol UDP - this option is set by default. <br><br>  TCP provides better reliability of data transmission, but it has greater delays compared to UDP, which gains in speed due to the lack of confirmation of packet delivery.  When using the TCP protocol, OpenVPN is the slowest implementation out of those presented. <br><br>  OpenVPN also provides an LZO data compression tool.  Due to the wide range of configuration options and support for most of the operating systems, OpenVPN has become a very popular solution.  The only caveat - you need to install third-party software. <br><br>  The flexibility of OpenVPN can cause only one problem - to make the configuration very tedious, but this issue is solved by preparing pre-configured installation client packages or, for example, using the <a href="https://openvpn.net/index.php/access-server/section-faq-openvpn-as/general/133-what-is-openvpn-access-server.html">OpenVPN Remote Access Server</a> . <br><br>  Among our manuals you will find step-by-step instructions on the basic configuration of the OpenVPN server on <a href="https://1cloud.ru/help/linux/openvpnserver_debian7_ubuntu12">Ubuntu / Debian</a> , <a href="https://1cloud.ru/help/linux/Kak-ustanovit-i-nastroit-OpenVPN-na-CentOS7">CentOS</a> , <a href="https://1cloud.ru/help/windows/setup_openvpnserver_win">Windows</a> .  To deploy a virtual private network, you can use our cloud <a href="https://1cloud.ru/services/vps-vds">-</a> based <a href="https://1cloud.ru/services/vps-vds">VPS server</a> .  This implementation also provides a number of additional private network security features.  An overview of the main ones can be found in our <a href="https://1cloud.ru/help/network/openvpn_additional_feautures">knowledge base</a> . <br><br><h4>  Conclusion </h4><br>  Let's summarize a little on the materials of the article.  PPTP is stable and easy to use, but very vulnerable, so it is suitable for situations in which the privacy of the tunnel does not play a special role.  If this is important, then the L2TP + IPsec bundle has all the advantages of PPTP, but at the same time offers a significantly higher level of security. <br><br>  IPsec can work with a large number of encryption and authentication algorithms for VPN, although by itself it is not an implementation of virtual private network technology, but a protocol stack for protecting IP packets during transmission.  At the same time, IPsec is quite suitable for deploying a virtual private network ‚Äúsharpened‚Äù to security. <br><br>  Previously, for these purposes, as a rule, IPsec was used in conjunction with L2TP, but today the situation is beginning <a href="https://habrahabr.ru/post/250859/">to change</a> .  In general, the extensive capabilities of IPsec make it one of the best VPN solutions. <br><br>  L2TP in conjunction with IPsec shows itself well in terms of security, and in terms of compatibility with popular operating systems.  Here, however, may require additional configuration of ports.  The second minus is double encapsulation, which leads to a slowdown of the tunnel. <br><br>  SSTP is convenient in configuration, stable and fairly safe, but it is a product of Microsoft, because its work is strongly tied to Windows.  In other systems, the SSTP functionality is often not as attractive. <br><br>  OpenVPN can be called a very reasonable choice due to the balance of indicators such as speed (due to LZO compression and work through UDP by default), stability (especially when working through TCP), configuration flexibility, cross-platform (availability of client applications for most modern OS), security (thanks to working with all the tools of the OpenSSL library). <br><br>  However, the wide possibilities cause a drawback - compared to other implementations, the initial configuration may be more difficult.  However, this problem is partially offset by the use of standard configurations and the server‚Äôs ability to automatically transfer a substantial part of the connection parameters to clients.  Anyway, the implementation of OpenVPN seems to us the most balanced software solution. <br><br>  To integrate VPN into your infrastructure, you can use the services of multiple VPN providers, but this solution is usually expensive, especially if you need to connect a large number of clients to the network.  Moreover, you have to entrust your corporate or personal data to the provider. <br><br>  A more reliable and flexible scenario seems to be setting up a VPN on a physical or <a href="https://1cloud.ru/services/vps-vds">virtual server (VPS / VDS)</a> .  For example, you can create an OpenVPN virtual private network using one of our step-by-step instructions ( <a href="https://1cloud.ru/help/windows/setup_openvpnserver_win">Windows</a> , <a href="https://1cloud.ru/help/linux/openvpnserver_debian7_ubuntu12">Linux</a> ) using a cloud-based <a href="https://1cloud.ru/services/vps-vds">VPS / VDS server</a> from 1cloud. <br><br>  For this task, the minimum hardware configuration of the server will be sufficient, and the cost of equipment per month will be lower than the market average for providing VPN for several devices.  In addition, this solution is easily scaled under the current load on the virtual private network. <br><br>  PS We are always happy to share our development experience with the IaaS provider <a href="https://1cloud.ru/">1cloud</a> , so we have prepared several materials for you: <br><br><ul><li>  <a href="https://1cloud.ru/news/how-to-create-iaas-provider">How to create a virtual infrastructure provider</a> </li><li>  <a href="https://1cloud.ru/news/it-project-area-choice">How to choose a direction for the development of an IT project</a> </li><li>  <a href="https://1cloud.ru/news/21-question-to-iaas-provider">What you need to know about IaaS-provider before starting work</a> </li></ul></div><p>Source: <a href="https://habr.com/ru/post/307280/">https://habr.com/ru/post/307280/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../307266/index.html">Const and optimization in C</a></li>
<li><a href="../307268/index.html">Super slow and super fast benchmark</a></li>
<li><a href="../307270/index.html">New technologies CRM integration in 3CX v15</a></li>
<li><a href="../307272/index.html">EA Global 2016 Effective Altruism Conference - Live Broadcast</a></li>
<li><a href="../307278/index.html">Sending and receiving SMS using Laravel and Nexmo</a></li>
<li><a href="../307282/index.html">What to do with other people's debts?</a></li>
<li><a href="../307286/index.html">The digest of interesting materials for the mobile # 165 developer (from August 1-7)</a></li>
<li><a href="../307288/index.html">Such different asynchrony</a></li>
<li><a href="../307294/index.html">SQL and XPath vs RosRestra</a></li>
<li><a href="../307296/index.html">The digest of fresh materials from the world of the frontend for the last week ‚Ññ222 (August 1 - 7, 2016)</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>