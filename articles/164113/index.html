<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Aruba Networks - Part 2: Building a secure wireless infrastructure</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Introduction 
 Greetings to all who read this post! 
 Earlier, I talked about Aruba Networks in ‚Äúgeneral terms‚Äù , and in the same place I promised to ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Aruba Networks - Part 2: Building a secure wireless infrastructure</h1><div class="post__text post__text-html js-mediator-article"><h4>  Introduction </h4><br>  Greetings to all who read this post! <br>  Earlier, I talked about <a href="http://habrahabr.ru/post/160265/">Aruba Networks in ‚Äúgeneral terms‚Äù</a> , and in the same place I promised to write a separate post about security aspects.  Immediately I warn you - the post is big.  Comparisons with any vendors will not be;  The purpose of the post is to show the capabilities of a specific vendor.  All features described below are supported by all Aruba controllers.  Meet <br><br>  At first, I just wanted to write a post-listing of possibilities, with some technical details.  But this idea quickly disliked.  It seems to me that instead of a dry description of the capabilities of the controllers, which you can easily read in datasheets / marketing materials / sweet-talking sales managers / other persons and materials, it will be much more interesting to consider them on the example of infrastructure deployment.  Let's imagine some abstract organization, headquartered in Moscow or St. Petersburg, with branches in large cities where there is a normal Internet, and in cities where the connection, to put it mildly, does not work 24/7.  But at the same time there is a need for centralized management and control of equipment operation.  Schematically imagine it this way: <br><br><img src="https://habrastorage.org/storage2/732/357/327/732357327306aa659b8050aaf0290fbe.jpg"><br><a name="habracut"></a><br>  (The names of the offices are taken from the ceiling). <br>  In the office "Moscow" we have a high-speed permanent connection, as well as an office connected via LAN to it;  We communicate with other offices through data transmission over the Internet.  In this regard, the office of "Novosibirsk" does not represent anything super interesting from itself - it also has a permanent high-speed connection.  The only thing is that it is necessary to secure the transmission of data via the Internet, plus to ensure centralized management and control from Moscow. <br>  The most interesting office - "Somewhere in the expanses of Russia."  Where, as you know, is not everywhere high-speed Internet.  And there is not always a stable connection. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <pre><code class="bash hljs"> ,       (   <span class="hljs-string"><span class="hljs-string">"-   "</span></span>  <span class="hljs-string"><span class="hljs-string">" "</span></span>,   .        (   )   <span class="hljs-string"><span class="hljs-string">""</span></span>    <span class="hljs-string"><span class="hljs-string">""</span></span>.          .</code> </pre> <br><br>  We need to implement, for a minimum of time and money (as usual, in general ...), with minimal use of additional software and hardware: <br><ol><li>  Provide access to the Internet and corporate network to all employees.  But at the same time, access to confidential materials is only provided that employees use certain devices and correct credentials.  Employees using their devices are denied access to confidential data. </li><li>  Provide Internet access to guests of the organization.  At the same time, guests should not have access to corporate secrets. </li><li>  Prohibit connecting to "foreign" wireless networks. </li><li>  To ensure the functioning of wireless VoIP phones. </li><li>  Ensure the operation of a wireless video surveillance system. </li><li>  Compliance with the company's security policy (you can not connect to any Internet resources). </li><li>  Provide WIPS (Wireless Intrusion Prevention System - Wireless Intrusion Prevention System) functionality. </li><li>  The ability to see where the wireless device of interest is on the floor plan. </li><li>  The ability to assign different security policies for different offices. </li><li>  The possibility of centralized network management. </li><li>  The ability to quickly create a mobile wireless infrastructure - under the organization's security policies. </li></ol><br><br>  Next, we will look at how infrastructure is built in all these offices;  I will try to go from "simple to complex": first comes the story of the basic features, then we will dig deeper.  That is, everything that is applicable in Moscow is applicable in other offices.  What is applicable in the next office, it is applicable in Novosibirsk;  etc.  This statement works in the opposite direction, but the application of such solutions is not always advisable. <br><br><h4>  Office "Moscow" </h4><br>  Here we have a controller, as well as access points (TD), connected to it via LAN.  In addition to the wireless controller itself, there are other servers in the head office, such as a VoIP server, a domain controller, an authorization server, etc.  The controller can be located both in the DMZ (and act as a wired router) and behind the DMZ, but in this case, you need to ensure that the controller is visible to the TDs using a public network to communicate with it. <br><br>  The following networks will be raised: a guest network giving access through the authorization portal (captive portal), a network for employees of an organization with different levels of privileges (the level of privileges depends on the authorization method and / or a specific login), a separate network for the operation of wireless VoIP phones, a separate a network for the operation of wireless surveillance cameras (of course, some server should be raised for VoIP, for example, Asterisk).  All these networks will work as virtual TDs (each with its own BSSID). <br><br>  The controller here looks like this: <br><img src="https://habrastorage.org/storage2/722/e03/fa7/722e03fa73270279ce9bb9821b0c5122.jpg"><br><br>  And the access point is: <br><img src="https://habrastorage.org/storage2/e4e/677/87e/e4e67787ef2e8d7073a5d422a54e964f.jpg"><br><br>  When you turn off the access point, we do not have any information about which networks and with which policies it provided. <br>  The download process is as follows: <br><ol><li>  Loaded controller (about 10 minutes). </li><li>  TDs find a controller using the Aruba Discovery Protocol or a static IP controller. </li><li>  Established connection TD-controller with the construction of the GRE tunnel. </li><li>  From the TD controller, it receives information about service networks, virtual networks, security policies, and other parameters. </li><li>  You can connect! </li></ol><br><pre> <code class="bash hljs">  .       (AP Provision)    <span class="hljs-string"><span class="hljs-string">" "</span></span>  <span class="hljs-string"><span class="hljs-string">" "</span></span>.   -   ,   .    (  Aruba Discovery Protocol)    ,    ,    GRE -  ,   <span class="hljs-string"><span class="hljs-string">""</span></span> LAN     .</code> </pre><br><br>  Now we have a ‚Äúclean‚Äù controller.  Well, maybe, with the initial initialization performed, we got some one simple network.  Hardware all functions.  You need to make a secure infrastructure that meets the above requirements. <br><br><h5>  We set up the infrastructure in the office "Moscow" </h5><br>  This is the longest and most important stage.  Here we make all the settings on the controller.  And prepare a springboard for easy "raising" remote offices. <br>  To begin with, we create all the necessary VLANs.  In our case it will be: <br><img src="https://habrastorage.org/storage2/173/ae2/fed/173ae2fededc96be176672be2a5ad688.jpg"><br><br>  For simplicity, there are 3 VLANs created here, and traffic to the Internet passes through VLAN 1 and traffic from remote offices passes through it, which is not good. <br>  Next, create virtual access points for VoIP, video surveillance, guest access and for employees.  There are options, you can create with a separate BSSID for each, you can build SSIDs on one BSSID.  TDs support up to 8 BSSIDs in general.  Some up to 16. Access points are grouped together;  we can create different groups for different offices. <br>  Next, we need to decide on the authentication method and user roles.  Each role has certain access rights;  You can create additional roles, for example, ‚Äúemployee from corporate device‚Äù and ‚Äúemployee from personal device‚Äù, with different access rights to the network. <br>  But, before you rush into the jungle of settings, you need to understand how everything works.  The controller operates under its own OS ArubaOS. <br><br><h5>  A little bit about Aruba OS 6.1 </h5><br>  The main ‚Äúloose change‚Äù here is the profile.  A profile contains a group of settings, for example, AAA protocol settings or specific wireless network settings.  Conventionally, profiles can be divided into 2 large groups: Group 1 - profiles that are responsible for the actual functioning of the wireless network (information about SSIDs, hardware settings of the AP, control of the radio environment), intrusion prevention functions;  and the 2nd group - profiles that are responsible for detailed authentication settings and additional hardware features.  Profiles in each group are hierarchical;  those.  if there is no ‚Äúlower‚Äù profile, the network will not take off.  In principle, with the initial configuration of the controller (and further use of the network creation wizard) all the necessary profiles are created, so the bulk of the work falls on editing existing profiles.  To make it clearer, I will provide a profile tree (taken from free documentation on <a href="http://support.arubanetworks.com/">Aruba Networks</a> website). <br>  WLAN functioning profile tree: <br><img src="https://habrastorage.org/storage2/3e6/f28/41a/3e6f2841ab89ddfca9c5b3e0a61eb955.jpg"><br><br>  Tree "other" profiles: <br><img src="https://habrastorage.org/storage2/20e/590/491/20e590491a82c1737d837f82a3e8b86c.jpg"><br><br>  It is easy to see that, in terms of authentication, AAA profiles refer to profiles from the Other group. <br><br>  The firewall is ‚Äútied‚Äù here by assigning policies to user roles;  User roles are assigned based on authentication results.  However, the authentication issue is not as transparent as it seems;  we will look at this below.  Now briefly describe the firewall.  The firewall is a session-level firewall (stateful firewall), it is possible to detect simple DOS-attacks (SYN TCP, IP spoofing) with blocking the attacking device (for a while or until manual removal from the black list by the administrator).  Supports ipv4 and ipv6, "white" access lists. <br>  Setting up a firewall does not present any difficulties: policies contain a set of simple rules;  the rule consists of IP Version (protocol version) fields, outgoing source (you can create your sources), destination source (you can also create your own), network services (again, they are created out of the box, most of the network services are used), various actions (accept, reject, tunnel, etc.), mirroring and logging options, rule priority, etc.  It is possible to apply different rules in the policy depending on the time / day of the week.  Time is taken from the controller;  this should be taken into account when creating time ranges for objects located in another time zone. <br>  It should be noted here that one not very pleasant moment for some, characteristic of Aruba OS: in fact, the firewall settings are much wider than that provided by the web interface;  when using CLI - you can set more fine-tuning.  Another question is that there the settings are already closer to the finer routing of traffic, and not everyone needs them and not everyone.  You can connect to the CLI either using a direct connection (to the controller port) or via SSH / Telnet.  In the latter case, it is possible to limit the IP addresses from which connection is possible.  Also in the web interface itself there is the possibility of a virtual Java-based CLI.  But it pulls the installation of the JRE, and besides (theoretically) it is exposed to all the vulnerabilities of Java.  In general, it will probably be better to connect with ‚Äútraditional‚Äù SSH Putty clients. <br>  On this I propose to finish the excursion into Aruba OS;  some technical details will be explained further as needed.  How the firewall works here, I think everyone understands;  there is nothing trivial here.  Let's see, how do we still assign roles? <br><br><h5>  User Authentication </h5><br>  Let's first look at the authentication process diagram (I apologize in advance for the block diagram drawn not by canon): <br><img src="https://habrastorage.org/storage2/7ac/964/bb3/7ac964bb3cf822bcf45b3c9e0d6b76f4.jpg"><br><br>  Here is an authentication scheme using machine authentication.  This means that if the device is not authorized for use on this network, the user will not get full access, even if the authentication server responds positively.  Machine authentication can be implemented, for example, using certificates ‚Äî appropriate controls are provided. <br>  Of course, you can create more simplified authentication schemes. <br>  This scheme works as follows: we have 3 roles defined: for example, full access, limited (say, there is access to materials that do not contain confidential data) and guest access.  Naturally, confidential materials should be on separate servers;  issues of control of confidential materials are beyond the scope of this post;  we will not consider them now. <br>  Depending on how successful the authentication is, appropriate roles are provided.  There are some nuances in the assignment of roles, but in general they have little effect on the process. <br>  Available authentication options: <br><ol><li>  RADIUS </li><li>  Ldap </li><li>  TACACS + </li><li>  NTLM (Windows) </li><li>  802.1X </li><li>  Internal DB </li><li>  Customizable web portal (Captive Portal) </li><li>  XML-API servers (in fact, self-made connectors) </li></ol><br>  Internal DB is not very recommended for authentication;  exception is creating guest accounts.  Aruba OS is quite a convenient tool for creating guest accounts, with the possibility of automatic notification of the login / password / name of the wireless network via email of the person for whom access is being made.  Guest accounting is limited in time of action, after which it is automatically turned off (but remains in the internal database; on the one hand, it is convenient, on the other - there is a need to manually delete unwanted entries). <br>  The main reason why it is not recommended to use the database for employee authentication is its impossibility of integration (let's say ... conditional impossibility, API, in general, can be found) with account management systems;  and just in this case, the administration of the system becomes more expensive.  Why is it if you can take data, for example, from AD? <br>  The authentication mechanism, I think, is generally understood.  Let's move on to the Wireless Intrusion Prevention System (WIPS) subsystem. <br><br><h5>  WIPS subsystem;  location tracking;  event logging </h5><br>  In this section I will describe the work of WIPS, which is closely intertwined with the RTLS (Real-Time Location System) system, which can be indirectly attributed to systems that allow you to ensure physical security;  and for RTLS there is no need to install any additional computing systems.  The only "BUT": controller computing resources are not enough to track a large number of devices;  therefore, if it is necessary to organize constant monitoring of customers and ‚Äúenemy‚Äù devices, it is better to use Aruba AirWave software.  But this is optional. <br>  Also, in order to increase the overall security level, it is desirable to limit the connection of ‚Äúforeign‚Äù devices to our wireless networks, as well as to prohibit the connection of devices that are in the area of ‚Äã‚Äã‚Äútheir‚Äù network to ‚Äúforeign‚Äù wireless networks.  For normal operation of WIPS, you must first specify the parameters in the IDS profile, such as the criteria by which the detected devices are considered ‚Äúenemy‚Äù (rogue), the types of forbidden connections within the controlled area (controlled area - the area covered by our TD), etc. .  Aruba can suppress the Ad-Hoc networks created by devices inside the monitored zone, identify incorrect MAC addresses (at the same time excluding the well-known MAC addresses of VMWare virtual devices, for example).  When the controller is connected to the local network, it is possible to control the wired part of the network visible to the controller;  This is a basic control - we can track the connection of an unauthorized device and block access to the wired network segment (provided that the controller is additionally assigned the functions of a router), or alert the administrator. <br><br><pre> <code class="bash hljs">  :         (,  Ad-Hoc ,    , ,    )?      : .91:   - ,                   ,     ,      ,              .   57:    -    .  ,    .  ,         . ,      ;        .</code> </pre><br><br>  What can we do in the wireless areas?  Here's what: <br><ol><li>  Detect unauthorized connection and suppress it. </li><li>  Detect unauthorized ad-hoc network, bridge. </li><li>  Detect unauthorized access point. </li><li>  Determine the location of the wireless device. </li><li>  Suppress the connection to "foreign" networks. </li><li>  Suppress the connection of "foreign" clients to their networks. </li></ol><br>  Detection and calculation of the location on the floor plan is carried out by using triangulation;  Access points whose coordinates are known act as base stations with known coordinates.  At the same time, access points continue to perform their basic functions - in fact, provide access to the network. <br>  To improve the quality of detection, you can use a special operating mode TD - AirMonitor.  It is designed to monitor the radio and perform office operations, such as network optimization, detection of illegal devices, etc .;  however, when operating in this mode, the TD stops providing clients access to the network.  It is worth noting that in some cases it is possible to create ‚Äúhybrid‚Äù TD: some of the time they work in the AirMonitor mode, and some time in the normal mode. <br>  ‚ÄúEnemy‚Äù devices are searched in the range in which the TD operates.  Since most TDs can operate simultaneously in the 2.4 and 5 GHz bands, both bands are monitored.  Below is a sign of which channels are monitored (taken from freely distributed documentation): <br><img src="https://habrastorage.org/storage2/36b/7c1/bf1/36b7c1bf179809daf9322a24addb255f.jpg"><br><br>  After activating WIPS mode, the controller uses the AP to acquire data about the surrounding devices and classifies them according to the parameters configured in the IDS profile for each group of APs.  Depending on the profile settings, it is possible to either automatically suppress connections or simply display information about ‚Äúenemy‚Äù devices on the dashboard. <br>  Suppression of wireless devices occurs with the help of Tarpit Shield technology;  the essence of this technology is that the "enemy" client impose a connection to the head of the wrong BSSID or channel;  Together with this, there is a deassociation (disconnection) of the client from the TD of our network.  When you try to connect to a "foreign" network, data is intercepted and then a false route is imposed on you. <br>  From the user's side, this is seen as an endless reconnection to the network;  with a large network load, some packets can ‚Äúskip‚Äù, but the percentage of losses is quite high (say, performing ping for 10 requests will return 90-97% of losses);  When trying to connect to our access points, it is possible to add the device to the "black list". <br>  When AirWave is installed and the monitor mode is on, we will see such a picture (when using the controller, the picture will be almost the same, but you will have to select the device of interest in order to see its location): <br><img src="https://habrastorage.org/storage2/37f/9bf/d81/37f9bfd81ca6d20ad8666b15721e6bf6.jpg"><br><br>  Red triangles indicate ‚Äúenemy‚Äù TDs, yellow circles with laptops are legal customers. <br>  When setting up WIPS in a zone with a large radio disturbance, some time should be allocated for training the system - so that it remembers the "neutral" TDs of its neighbors, and does not suppress the connection of neighboring devices to them;  To exclude the connection of ‚Äútheir‚Äù devices to the neighbors, you should fine-tune the IDS profile for the corresponding AP, in particular, to determine the maximum signal level of a device connecting to the ‚Äúforbidden‚Äù network (since neighbor devices in most cases will obviously have more weak signal than "their"). <br><br>  The final touch of setting in the head office should be the restriction of access to the controller (with the possible sending to the "black list" of devices that tried to connect to the controller from unauthorized IP).  If necessary, you can enter the requirement to encrypt client traffic. <br>  If there is an installed SIEM system, then you can send logs directly to it (Syslog protocol). <br>  Go to the office next to the "Moscow". <br><br><h4>  Neighboring office </h4><br>  Previously, we created the necessary roles and policies;<font style="vertical-align: inherit;"><font style="vertical-align: inherit;">in general, everything here is almost the same, except for one thing: for some reason, it was not possible to lay the power cable to every point, but there were 220V sockets in abundance. </font><font style="vertical-align: inherit;">Therefore, we decided to build a Mesh-network. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">The point is very simple: an additional invisible service network (Mesh network) is created, one point assumes the role of a gateway (portal) between all other points and the wired part of the network. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">The service information exchanged between the points is encrypted; </font><font style="vertical-align: inherit;">In order to avoid connecting unauthorized TDs, you can use the TPM - module integrated into them. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">The main problems when using this configuration:</font></font><br><ol><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">The load on the portal increases; </font><font style="vertical-align: inherit;">therefore, although the portal can perform the functions of an AP, it should be borne in mind that clients connected to it may have problems with speed</font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">If the portal crashes, the network will collapse. </font><font style="vertical-align: inherit;">Therefore, it is desirable to take care of redundancy; </font><font style="vertical-align: inherit;">besides, it will allow to unload the primary portal and parallelize the load on the wired part of the network</font></font></li></ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Otherwise, for customers there is no particular difference - the ‚Äútraditional‚Äù or ‚Äúmesh‚Äù network. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Access points are picked up automatically; </font><font style="vertical-align: inherit;">but they must be configured accordingly. </font><font style="vertical-align: inherit;">But there is a nuance: the mesh will always build up to the controller exclusively GRE tunnels (and be considered a LAN-connected AP), while the TD connected in the ‚Äútraditional‚Äù way can be represented as ‚Äúremote‚Äù if there are any special considerations in In terms of security, there are concerns about losing large packages. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Let's now consider the option for Novosibirsk - with connection through public networks.</font></font><br><br><h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Office "Novosib" </font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">This office is far from our headquarters; LAN is not stretched out, so you have to use public networks. I just want to stipulate that here we are considering a semi-autonomous option (there is no controller, if the controller is dropped at the head office, the network will work for some time ... until the first reboot). If you need a standalone option - it is described for the office "Somewhere in the vastness of Russia." </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">As you already understood, without the construction of a VPN, we can not do here. But VPN VPN is different. The first and obvious option - to drive all traffic (including Internet requests) through the head office is not a good solution. Although you can implement and such. Probably, it would be more correct to send to the head office the traffic intended for corporate LAN, and, of course, service information:</font></font><br><img src="https://habrastorage.org/storage2/3d3/d75/81f/3d3d7581fbcd25db0891f54a356261f0.jpg"><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">In this embodiment, traffic destined for the Internet will go to the Internet without running to the head office; however, when using non-autonomous TDs, we lose some of the features, such as authentication using a web portal, and the system remains dependent on the host controller. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">On the other hand, from the point of view of network management, we work as if the Novosibirsk office is located in the neighboring building. We can configure this TD as a mesh portal and build a network similar to the one that was built in the office next to Moscow. With the only difference that the VPN tunnel (IPSEC) now goes to the controller, respectively, the controller must either be seen from the outside or somehow be redirected to it by requests from the TD.</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">In terms of configuration, everything can be done near the controller, then given to installers, with an indication of what AP to connect to the LAN. </font><font style="vertical-align: inherit;">As you can see, there is nothing difficult in terms of settings here. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Further it will be even easier.</font></font><br><br><h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Office "Somewhere in the open spaces of Russia", as well as "Mobile Office" </font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Here the situation is somewhat more complicated: the Internet is slower, communication breaks are not a rare phenomenon. </font><font style="vertical-align: inherit;">A separate controller can be put there, but expensive. </font><font style="vertical-align: inherit;">Points, as we set in "Novosibirsk" are not suitable because of non-autonomy. </font><font style="vertical-align: inherit;">But we have a way out - use autonomous access points. </font><font style="vertical-align: inherit;">For example, such (the second option of autonomous TD will be discussed even lower - in the section about ‚Äúmobile office‚Äù):</font></font><br><img src="https://habrastorage.org/storage2/aea/10f/bba/aea10fbbaea3bf407175cc3a719cca7d.png"><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Such APs are called RAP (Remote Access Point) in Aruba terminology. For normal operation, the RAP TD must be entered into the controller‚Äôs white list; This is necessary to prevent unauthorized connections. After installing the VPN connection, the AP receives all the necessary information from the controller (policies, etc.) and saves them. RAP TD has a built-in DHCP server; It is also possible to configure in such a way that when the controller is unavailable, the AP will work as a normal router, providing access to the Internet. However, at the same time, of course, the corporate network will be inaccessible. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">If the local provider is not satisfied with something, or you need to deploy a mobile office, it is possible to use a cellular connection via a USB GPRS / 3G / 4G modem. For this we use the following RAP TD:</font></font><br><img src="https://habrastorage.org/storage2/1db/c6d/3bc/1dbc6d3bc7250a543f71b4716fd4427c.png"><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">It has USB ports to which you can connect either a USB modem (although profiles need to be created for modems, but some work right away, for example, Huawei), or a USB printer or NAS disk. </font><font style="vertical-align: inherit;">Thus, you can easily deploy a full mini-office in any convenient place. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">In case of using these TDs it is possible to use a web portal.</font></font><br><br><h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> VoIP and video surveillance </font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">The implementation is very simple. </font><font style="vertical-align: inherit;">Only wireless cameras and telephones are needed. </font><font style="vertical-align: inherit;">For VoIP, you can create all the necessary policies in semi-automatic mode (you only need to specify the PBX address). </font><font style="vertical-align: inherit;">For video traffic, you will have to prescribe the appropriate routing rules to the server that processes video stream from cameras. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">With this, I will finish this part; </font><font style="vertical-align: inherit;">due to a sufficiently large amount of material, I could miss some details that may be of interest to readers, but I did not write about them; </font><font style="vertical-align: inherit;">I ask to inform in comments about such cases. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Thank you all for your attention!</font></font></div><p>Source: <a href="https://habr.com/ru/post/164113/">https://habr.com/ru/post/164113/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../164103/index.html">Google plans to attract 90% of MS Office users to Google Apps</a></li>
<li><a href="../164105/index.html">Electric Imp - Making a WiFi Thermometer</a></li>
<li><a href="../164107/index.html">3D live wallpaper and OpenGL ES</a></li>
<li><a href="../164109/index.html">US authorities retain the right to read "abandoned" e-mail without a court order</a></li>
<li><a href="../164111/index.html">Commentary of the day: Christmas leapfrog</a></li>
<li><a href="../164115/index.html">Nodal accounting in the treatise "Kotso-Pets" (Chincha Indians, 4th century AD)</a></li>
<li><a href="../164117/index.html">The collection of donations for the development of the FreeType project has been announced.</a></li>
<li><a href="../164121/index.html">Windows boot process or what is hidden under the start logo</a></li>
<li><a href="../164125/index.html">Big Las Vegas Sony: Xperia Z and Xperia ZL</a></li>
<li><a href="../164127/index.html">New weather forecast</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>