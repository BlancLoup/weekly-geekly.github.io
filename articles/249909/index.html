<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>January Raspberry Pi Update Breaking Streamer</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="The January firmware update from Raspberry Pi for Raspbian brought a surprise as a non-working stream from a camera processed using MJPG-Streamer. It ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>January Raspberry Pi Update Breaking Streamer</h1><div class="post__text post__text-html js-mediator-article">  The January firmware update from Raspberry Pi for Raspbian brought a surprise as a non-working stream from a camera processed using MJPG-Streamer.  It would seem that everything happens as usual: the MJPG-Streamer starts up regularly, the web server works and is available, but there is no picture.  There are no errors or warnings in the logs.  The note presents the found solution to a similar situation. <br><a name="habracut"></a><br>  The situation, of course, is not pleasant.  In order to somehow start the broadcast, we had to add the -y parameter to the startup command, which switches the broadcast mode from MJPEG to YUYV, and even earned, but 5 times worse.  Only 3 fps: <br><br><img src="https://habrastorage.org/files/5e4/367/60b/5e436760b86448698b812342dfd90285.png" alt="image"><br><br>  At the same time, as already mentioned, the video frequency is only 3 fps, and the processor load is 100%.  Also shown is the latest version of the kernel, updated to which the broadcast broke.  Currently it is 3.18.5 and it contains a bug.  There are discussions and proposed solutions on the githaba in the firmware development branch, but none of them led to a positive result. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Obviously, something needs to be done about it.  Although it is not correct to rearrange the system, no solution was found.  Surprisingly, on the manufacturer‚Äôs website, previous versions of the system were not available for download.  As it turned out, for good reason.  Looking for more, there was a way to roll back the kernel using the Raspberry Pi itself.  It is done by the same team that broke it: <br><br><pre> sudo rpi-update f74b92120e0d469fc5c2dc85b2b5718d877e1cbb
</pre><br>  The rpi-update utility updates the firmware.  In this case, the argument is the hash of the desired commit to which you want to upgrade.  This hash refers to the last commit on the kernel 3.12.36.  The system has been updated to an outdated kernel.  No matter how it sounds. <br><br>  All commit hashes can be found <a href="https://github.com/Hexxeh/rpi-firmware/commits/master">here</a> . <br><br>  After successfully completing the command and rebooting, you can see the normal picture: <br><br><img src="https://habrastorage.org/files/8cc/304/7f2/8cc3047f201d4b36928c9d33f0a0cc50.png" alt="image"><br><br>  Be careful in choosing updates and do not do it without special need. </div><p>Source: <a href="https://habr.com/ru/post/249909/">https://habr.com/ru/post/249909/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../249893/index.html">Adobe fixed another dangerous vulnerability Flash Player</a></li>
<li><a href="../249899/index.html">Crossword Formation Algorithm</a></li>
<li><a href="../249901/index.html">APRS</a></li>
<li><a href="../249905/index.html">Hub Migration and Friday Bonus</a></li>
<li><a href="../249907/index.html">IT-company management: separating theory from practice</a></li>
<li><a href="../249911/index.html">They waited for the release of Laravel 5</a></li>
<li><a href="../249913/index.html">Available HP ProLiant server models (10 and 100 series)</a></li>
<li><a href="../249915/index.html">Clouds are even cheaper 2. Answer-continuation</a></li>
<li><a href="../249917/index.html">Adventures at FOSDEM 2015</a></li>
<li><a href="../249921/index.html">MyTOTP - fully own * two-factor authorization by rfc6238</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>