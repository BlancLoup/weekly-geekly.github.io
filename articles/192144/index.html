<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>CLR Exception Filters</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hi, habra people. Today we will look at one of the CLR mechanisms that is not directly available to C # developers ‚Äî exception filters. 

 A survey am...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>CLR Exception Filters</h1><div class="post__text post__text-html js-mediator-article"> Hi, habra people.  Today we will look at one of the CLR mechanisms that is not directly available to C # developers ‚Äî exception filters. <br><br>  A survey among my familiar C # programmers showed that they (by themselves) never used this mechanism and did not even know about its existence.  Therefore, I suggest that all inquisitive people read the text of the article. <br><br>  So, exception filters are a mechanism that allows a <code>catch</code> declare preconditions that an exception must satisfy in order to be caught by a given block.  This mechanism does <i>not</i> work in <i>exactly the same</i> way as performing checks inside a <code>catch</code> . 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Under the cut - the code on VB.NET, F #, CIL and C #, as well as checking various decompilers for processing the filter mechanism. <br><a name="habracut"></a><br><h4>  From where there are exception filters </h4><br>  Exception filters are built into the CLR and are one of the mechanisms that the environment uses when handling exceptions.  The sequence is as follows: <br><br><img src="https://habrastorage.org/storage3/d64/ae9/5e2/d64ae95e2a1b49114d82a0aff929e976.png"><br><br>  In the search for a suitable <code>catch</code> CLR crawls its internal stack of exception handlers and also performs exception filters.  Note that this happens <b>before</b> the code is executed in the <code>finally</code> block.  We will discuss this point later. <br><br><h5>  How it looks on VB.NET </h5><br>  Exception filters are natively supported by the VB.NET language.  Here is an example of what the code using filters looks like: <br><br><pre> <code class="vbscript hljs"><span class="hljs-keyword"><span class="hljs-keyword">Sub</span></span> FilterException() Try <span class="hljs-keyword"><span class="hljs-keyword">Dim</span></span> exception As <span class="hljs-keyword"><span class="hljs-keyword">New</span></span> Exception exception.Data.Add(<span class="hljs-string"><span class="hljs-string">"foo"</span></span>, <span class="hljs-string"><span class="hljs-string">"bar1"</span></span>) Console.WriteLine(<span class="hljs-string"><span class="hljs-string">"Throwing"</span></span>) Throw exception Catch ex As Exception When <span class="hljs-built_in"><span class="hljs-built_in">Filter</span></span>(ex) <span class="hljs-comment"><span class="hljs-comment">'   Console.WriteLine("Caught") Finally Console.WriteLine("Finally") End Try End Sub Function Filter(exception As Exception) As Boolean Console.WriteLine("Filtering") Return exception.Data.Item("foo").Equals("bar") End Function</span></span></code> </pre><br><br>  When executing this code, the following message chain will be displayed: <br><br><pre> <code class="dos hljs">Throwing Filtering Caught Finally</code> </pre><br><br><h5>  How it looks in F # </h5><br>  When preparing the article, I found <a href="http://blogs.msdn.com/b/dotnet/archive/2009/08/25/the-good-and-the-bad-of-exception-filters.aspx">information</a> on the Internet that F # supports exception filters.  Well, check it out.  Here is a sample code: <br><br><div class="spoiler">  <b class="spoiler_title">F # code</b> <div class="spoiler_text"><pre> <code class="scala hljs">open <span class="hljs-type"><span class="hljs-type">System</span></span> let filter (ex : <span class="hljs-type"><span class="hljs-type">Exception</span></span>) = printfn <span class="hljs-string"><span class="hljs-string">"Filtering"</span></span> ex.<span class="hljs-type"><span class="hljs-type">Data</span></span>.[<span class="hljs-string"><span class="hljs-string">"foo"</span></span>] :?&gt; string = <span class="hljs-string"><span class="hljs-string">"bar"</span></span> let filterException() = <span class="hljs-keyword"><span class="hljs-keyword">try</span></span> let ex = <span class="hljs-type"><span class="hljs-type">Exception</span></span>() ex.<span class="hljs-type"><span class="hljs-type">Data</span></span>.[<span class="hljs-string"><span class="hljs-string">"foo"</span></span>] &lt;- <span class="hljs-string"><span class="hljs-string">"bar"</span></span> printfn <span class="hljs-string"><span class="hljs-string">"Throwing"</span></span> raise ex <span class="hljs-keyword"><span class="hljs-keyword">with</span></span> <span class="hljs-comment"><span class="hljs-comment">//   | :? Exception as ex when filter(ex) -&gt; printfn "Caught" [&lt;EntryPoint&gt;] let main argv = filterException() 0</span></span></code> </pre><br></div></div><br><br>  This code is compiled without filters, with the usual <code>catch [mscorlib]System.Object</code> .  I never managed to force the F # compiler to make an exception filter.  If you know of alternative ways to do this - welcome to the comments. <br><br><h5>  What it looks like in CIL </h5><br>  CIL (Common Intermediate Language) is an analogue of a low-level assembly language for a .NET machine.  Compiled assemblies can be disassembled into this language using the <code>ilasm</code> tool, and collected back using the <code>ilasm</code> that comes with .NET. <br><br>  I will give a code fragment on VB.NET, as I saw it in <code>ildasm</code> : <br><br><div class="spoiler">  <b class="spoiler_title">A lot of CIL code</b> <div class="spoiler_text"><pre> <code class="scala hljs">.method public static void <span class="hljs-type"><span class="hljs-type">FilterException</span></span>() cil managed { <span class="hljs-comment"><span class="hljs-comment">// Code size 110 (0x6e) .maxstack 3 .locals init ([0] class [mscorlib]System.Exception exception, [1] class [mscorlib]System.Exception ex) IL_0000: nop IL_0001: nop .try { .try { IL_0002: newobj instance void [mscorlib]System.Exception::.ctor() IL_0007: stloc.0 IL_0008: ldloc.0 IL_0009: callvirt instance class [mscorlib]System.Collections.IDictionary [mscorlib]System.Exception::get_Data() IL_000e: ldstr "foo" IL_0013: ldstr "bar" IL_0018: callvirt instance void [mscorlib]System.Collections.IDictionary::Add(object, object) IL_001d: nop IL_001e: ldstr "Throwing" IL_0023: call void [mscorlib]System.Console::WriteLine(string) IL_0028: nop IL_0029: ldloc.0 IL_002a: throw IL_002b: leave.s IL_006b } // end .try filter { IL_002d: isinst [mscorlib]System.Exception IL_0032: dup IL_0033: brtrue.s IL_0039 IL_0035: pop IL_0036: ldc.i4.0 IL_0037: br.s IL_0049 IL_0039: dup IL_003a: stloc.1 IL_003b: call void [Microsoft.VisualBasic]Microsoft.VisualBasic.CompilerServices.ProjectData::SetProjectError(class [mscorlib]System.Exception) IL_0040: ldloc.1 IL_0041: call bool FilterSamples.VbNetFilter::Filter(class [mscorlib]System.Exception) IL_0046: ldc.i4.0 IL_0047: cgt.un IL_0049: endfilter } // end filter { // handler IL_004b: pop IL_004c: ldstr "Caught" IL_0051: call void [mscorlib]System.Console::WriteLine(string) IL_0056: nop IL_0057: call void [Microsoft.VisualBasic]Microsoft.VisualBasic.CompilerServices.ProjectData::ClearProjectError() IL_005c: leave.s IL_006b } // end handler } // end .try finally { IL_005e: nop IL_005f: ldstr "Finally" IL_0064: call void [mscorlib]System.Console::WriteLine(string) IL_0069: nop IL_006a: endfinally } // end handler IL_006b: nop IL_006c: nop IL_006d: ret } // end of method VbNetFilter::FilterException</span></span></code> </pre><br></div></div><br><br>  As you can see, the VB.NET compiler, of course, strongly painted our code in the form of CIL.  We are most interested in the <code>filter</code> block: <br><br><pre> <code class="scala hljs">filter { <span class="hljs-comment"><span class="hljs-comment">// ,      System.Exception: IL_002d: isinst [mscorlib]System.Exception IL_0032: dup IL_0033: brtrue.s IL_0039 IL_0035: pop IL_0036: ldc.i4.0 //   -  : IL_0037: br.s IL_0049 IL_0039: dup //  -  : IL_003a: stloc.1 IL_003b: call void [Microsoft.VisualBasic]Microsoft.VisualBasic.CompilerServices.ProjectData::SetProjectError(class [mscorlib]System.Exception) //  ,     : IL_0040: ldloc.1 IL_0041: call bool FilterSamples.VbNetFilter::Filter(class [mscorlib]System.Exception) IL_0046: ldc.i4.0 IL_0047: cgt.un IL_0049: endfilter } // end filter</span></span></code> </pre><br><br>  So, the compiler has passed an exception type check in the filter block, as well as a call to our function.  If at the end of the execution of the filter block the value is <code>1</code> on the stack, then the <code>catch</code> block corresponding to this filter will be executed;  otherwise not. <br><br>  It is worth noting that the C # compiler does not put type checks into the <code>filter</code> block, but uses a special CIL construct with a type indication.  That is, the C # compiler does not use the <code>filter</code> mechanism at all. <br><br>  Incidentally, to generate this block, you can use the <a href="http://msdn.microsoft.com/en-us/library/system.reflection.emit.ilgenerator.beginexceptfilterblock.aspx">ILGenerator.BeginExceptFilterBlock</a> method (if you are writing your own compiler). <br><br><h5>  What it looks like in a decompiler </h5><br>  In this section, I will try to decompile the resulting code with a few well-known tools and see what happens. <br><br>  The last <a href="http://www.jetbrains.com/decompiler/">JetBrains dotPeek 1.1</a> when trying to decompile a filter assembly happily reported the following: <br><br><pre> <code class="cs hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">FilterException</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { <span class="hljs-comment"><span class="hljs-comment">// ISSUE: unable to decompile the method. }</span></span></code> </pre><br><br>  <a href="http://www.red-gate.com/products/dotnet-development/reflector/">.NET Reflector 8.2</a> entered more adequately and was able to decompile something in C #: <br><br><pre> <code class="cs hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">FilterException</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">try</span></span> { Exception exception = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Exception(); exception.Data.Add(<span class="hljs-string"><span class="hljs-string">"foo"</span></span>, <span class="hljs-string"><span class="hljs-string">"bar"</span></span>); Console.WriteLine(<span class="hljs-string"><span class="hljs-string">"Throwing"</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">throw</span></span> exception; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">catch</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">when</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">?</span></span></span><span class="hljs-function">)</span></span> { Console.WriteLine(<span class="hljs-string"><span class="hljs-string">"Caught"</span></span>); ProjectData.ClearProjectError(); } <span class="hljs-keyword"><span class="hljs-keyword">finally</span></span> { Console.WriteLine(<span class="hljs-string"><span class="hljs-string">"Finally"</span></span>); } }</code> </pre><br><br>  Well, not bad - although the code is not compiled, but at least you can see the presence of a filter.  The fact that the filter has not been decrypted can be attributed to the shortcomings of the C # -translator.  Let's try the same thing with the translator in VB.NET: <br><br><pre> <code class="vbscript hljs"><span class="hljs-keyword"><span class="hljs-keyword">Public</span></span> Shared <span class="hljs-keyword"><span class="hljs-keyword">Sub</span></span> FilterException() Try <span class="hljs-keyword"><span class="hljs-keyword">Dim</span></span> exception As <span class="hljs-keyword"><span class="hljs-keyword">New</span></span> Exception exception.Data.Add(<span class="hljs-string"><span class="hljs-string">"foo"</span></span>, <span class="hljs-string"><span class="hljs-string">"bar"</span></span>) Console.WriteLine(<span class="hljs-string"><span class="hljs-string">"Throwing"</span></span>) Throw exception Catch obj1 As Object When (?) Console.WriteLine(<span class="hljs-string"><span class="hljs-string">"Caught"</span></span>) ProjectData.ClearProjectError Finally Console.WriteLine(<span class="hljs-string"><span class="hljs-string">"Finally"</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">End</span></span> Try <span class="hljs-keyword"><span class="hljs-keyword">End</span></span> <span class="hljs-keyword"><span class="hljs-keyword">Sub</span></span></code> </pre><br><br>  Alas, the attempt failed in the same way - for some reason the decompiler could not determine the name of the filtering function (although, as we saw above, <code>ildasm</code> did a fine job with this). <br><br>  I can only assume that the tools reviewed so far do not work well with the .NET4.5 filter code. <br><br><h4>  How is this different from checks in the body of a <code>catch</code> </h4><br>  Consider a code snippet <i>almost</i> similar to the code on VB.NET: <br><br><div class="spoiler">  <b class="spoiler_title">C # code</b> <div class="spoiler_text"><pre> <code class="cs hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">FilterException</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">try</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> exception = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Exception(); exception.Data[<span class="hljs-string"><span class="hljs-string">"foo"</span></span>] = <span class="hljs-string"><span class="hljs-string">"bar"</span></span>; Console.WriteLine(<span class="hljs-string"><span class="hljs-string">"Throwing"</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">throw</span></span> exception; } <span class="hljs-keyword"><span class="hljs-keyword">catch</span></span> (Exception exception) { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (!Filter(exception)) { <span class="hljs-keyword"><span class="hljs-keyword">throw</span></span>; } Console.WriteLine(<span class="hljs-string"><span class="hljs-string">"Caught"</span></span>); } } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">bool</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Filter</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">Exception exception</span></span></span><span class="hljs-function">)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> exception.Data[<span class="hljs-string"><span class="hljs-string">"foo"</span></span>].Equals(<span class="hljs-string"><span class="hljs-string">"bar"</span></span>); }</code> </pre><br></div></div><br><br>  And now let's try to find the difference in behavior between examples in C # and VB.NET.  It's quite simple: a <code>throw;</code> expression <code>throw;</code>  in C # it loses the row number in the stack.  If you change the filter so that it returns <code>false</code> , the application will drop with the message <br><br><pre> <code class="dos hljs">Unhandled Exception: System.Exception: Exception of <span class="hljs-built_in"><span class="hljs-built_in">type</span></span> 'System.Exception' was thrown. <span class="hljs-built_in"><span class="hljs-built_in">at</span></span> CSharpFilter.Program.FilterException() <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> CSharpFilter\Program.cs:line <span class="hljs-number"><span class="hljs-number">25</span></span> <span class="hljs-built_in"><span class="hljs-built_in">at</span></span> CSharpFilter.Program.Main(String[] args) <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> CSharpFilter\Program.cs:line <span class="hljs-number"><span class="hljs-number">9</span></span></code> </pre><br><br>  Judging by the stack, an exception was generated on the 25th line (the string <code>throw;</code> ), and not on the line 19 ( <code>throw exception;</code> ).  The code on VB.NET in the same conditions shows the original location of the exception. <br><br>  <b>UPD.</b>  Initially, I mistakenly wrote that <code>throw;</code>  loses the whole stack, but in the comments suggested that this is really not at all the case.  There is only a minor modification of the line number in the stack.  Moreover, on mono this is not reproduced - the exception stack does not change there after <code>throw;</code>  (thanks to <a href="https://habrahabr.ru/users/kekekeks/" class="user_link">kekekeks</a> for these details). <br><br><h4>  About security </h4><br>  Eric Lippert in his blog <a href="http://blogs.msdn.com/b/ericlippert/archive/2004/09/01/224064.aspx">examines the</a> situation when exception filters allow a malicious party to execute its code with elevated privileges in some cases. <br><br>  In short: if you perform a temporary privilege escalation for some kind of external and potentially destructive code, then you cannot rely on <code>finally</code> , because  before the <code>finally</code> block is executed, exception filters may be called that are located higher in the call stack (and the attacker can get whatever he wants in the code of these filters).  Remember - finding the right <code>catch</code> always done <b>before</b> the <code>finally</code> block is executed. <br><br><h4>  Conclusion </h4><br>  Today, we looked at one of the rare CLR programmers on C # mechanisms.  I myself do not write on VB.NET, but I believe that this information may be useful to all developers of the .NET platform.  Well, if you are developing languages, compilers or decompilers for this platform, then all the more this information is useful to you. <br><br>  Ps.  The code, images and text of the article are posted on github: <a href="https://github.com/ForNeVeR/ClrExceptionFilters">github.com/ForNeVeR/ClrExceptionFilters</a> . </div><p>Source: <a href="https://habr.com/ru/post/192144/">https://habr.com/ru/post/192144/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../192128/index.html">The digest of interesting materials from the world of web development and IT for the last week ‚Ññ72 (August 24 - 31, 2013)</a></li>
<li><a href="../192130/index.html">foreach</a></li>
<li><a href="../192134/index.html">We get the source code VM / 370</a></li>
<li><a href="../192136/index.html">Building a provider network on Cisco switches using Option 82 and Dynamic ARP Inspection</a></li>
<li><a href="../192140/index.html">Undocumented features of undocumented features: Transfer ref to another stream</a></li>
<li><a href="../192146/index.html">Copy works in the public domain? National Indian hut to help you</a></li>
<li><a href="../192150/index.html">Installation Guide and Guide for Web Deploy in Windows Server 2008 R2</a></li>
<li><a href="../192152/index.html">The digest of news from the world of mobile development for the last week ‚Ññ22 (August 26 - September 1, 2013)</a></li>
<li><a href="../192160/index.html">NNM-Club is under the threat of blocking and preparing for it, and the Rutor and Opensharing are illegally detained in the Registry</a></li>
<li><a href="../192162/index.html">Record-breakers. Continuation</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>