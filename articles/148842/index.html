<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Simplify your life with Sublime Text 2</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Having recently discovered Sublime Text 2 for myself, I was surprised at how such an effective tool could be devised. Anyone who is spoiled by all sor...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Simplify your life with Sublime Text 2</h1><div class="post__text post__text-html js-mediator-article"><img align="left" hspace="10" src="https://habrastorage.org/storage2/8a4/83f/7a7/8a483f7a7efcf995491cb6d6a6474010.png" alt="image"><br>  Having recently discovered Sublime Text 2 for myself, I was surprised at how such an effective tool could be devised.  Anyone who is spoiled by all sorts of IDEs, usually does not see any advantages, except for a beautiful code highlighting (although this is what initially attracted me). <br><br>  I will not begin to argue how good this editor is and to paint all its functionality - there are already a lot of topics on this topic.  I just want to show how you can make from it the tool for which you don‚Äôt feel sorry for the $ 59 that the developers want for it. <br><br><a name="habracut"></a><br><h4>  Plugins </h4><br>  The main advantage of Sublime Text 2 over the rest of the zoo editors and IDE for me is the ability to write your own plugins.  It does not need to study tons of literature, such as if you are going to write a plugin for Eclipse or Geany.  Plugins are written in Python and <a href="http://www.sublimetext.com/docs/api-reference">the project site</a> has an API Reference, which was enough for me to start expanding the editor to fit my needs. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      I also really liked the fact that the editor has a convenient python console that you can use to debug your plugin. <br><br><h4>  Wishlist </h4><br>  I will try to formulate some of the opportunities that I really needed and I did not find ready-made solutions. <br><br><h5>  Creating backups </h5><br>  I develop php and work with many projects at the same time.  It just so happened that the version control system did not take root for a variety of reasons, so I was in vital need of a convenient mechanism for creating backups. <br><br>  Before Sublime, I used Geany and it had a fairly convenient add-in that allows you to make backup copies of the edited files in the selected directory.  The only disadvantage of this add-in was that backups were created every time they were saved.  Something similar to me and I wanted to Sublime, but that backups were created on request (for example, when pressing hot keys).  In fairness, I note that among the ready-made solutions there is a similar plugin AutomaticBackups, but we will write our bike.  For fun. <br><br><h5>  File comparison </h5><br>  When you work on a project not one, it is necessary to look at the changes made by another programmer (or compare an ftp file with a local copy).  Usually in this case I opened the <a href="http://ru.wikipedia.org/wiki/Meld">meld</a> , selected the necessary files there and looked at the difference.  I also wanted this function to be placed on the editor.  I imagined it this way: I open two files in the editor, arrange the tabs one by one, press the hot key and open the meld with the selected file and with the file whose tab in the editor goes next.  It seemed to me very convenient. <br><br><h5>  List of all open files </h5><br>  On the specifics of the work, I often need to make a list of edited files (yes, here it is life without svn).  I would like to receive a list of open files, too, by pressing the hotkey. <br><br><h4>  Let's get to work </h4><br>  I described that small minimum of features that I needed for a comfortable transition to Sublime. <br><br>  Further I will show how the plugins for my needs were written and how simple it was.  I note that I wrote everything under Ubuntu and how it is done in Windows, I can not even imagine. <br><br><h5>  Backup plugin </h5><br>  Let's get started  Open the editor, choose Tools-&gt; New Plugin in the menu ... A tab with a blank of the form opens: <br><br><pre><code class="python">import sublime, sublime_plugin

class ExampleCommand(sublime_plugin.TextCommand):
	def run(self, edit):
		self.view.insert(edit, 0, "Hello, World!")
	</code></pre><br>
<br>
            .       ,      ,               .        Command.               ,      _<br>
<br>
            ~/.config/sublime-text-2/Packages/User/   backup.py:<br>
<br>
<pre><code class="python">import sublime, sublime_plugin

class BackupCommand(sublime_plugin.TextCommand):
	def run(self, edit):
		self.view.insert(edit, 0, "Hello, World!")
	</code></pre><br>
<br>
     :<br>
<ul>
<li>  ,     ;</li>
<li>         (    );</li>
<li>           (  );</li>
<li>        ;</li>
<li>   ,    .</li>
</ul><br>
     ‚Äî    .       sublime.   sublime   active_window ‚Äî    ,       .      views ‚Äî   .    ,       view,  : <br>
<br>
<pre><code class="python">	sublime.active_window().active_view()
</code></pre><br>
<br>
 view     file_name(),       .            -  .      Preferences-&gt;Key Bindings ‚Äî User      backup    F7:<br>
<br>
<pre><code class="javascript">[
	 { "keys": ["f7"], "command": "backup" }
]
</code></pre><br>
<br>
     :<br>
<br>
<pre><code class="python">import sublime, sublime_plugin

class BuckupCommand(sublime_plugin.TextCommand):
	def run(self, edit):
		print sublime.active_window().active_view().file_name()
</code></pre><br>
<br>
 ,   Python (ctrl+`)   F7.       . <br>
<br>
        API ‚Äî      .       <br>
<br>
<pre><code class="python">sublime.status_message('')
</code></pre><br>
<br>
       API      :<br>
<br>
<pre><code class="python"># -*- coding: utf-8 -*-
import sublime, sublime_plugin
import os, time, shutil, sys
#            UnicodeDecodeError
sys.setdefaultencoding('utf-8')
#      ,       
backup_dir = "/home/deadlink/backup/"
class BackupCommand(sublime_plugin.TextCommand):
 
    def run(self, edit):        
        self.create(sublime.active_window().active_view().file_name())

    def create(self, filename):
    	#   
        now = time.localtime()
        #    ___
        prefix = str(now.tm_hour)+"_"+str(now.tm_min)+"_"+str(now.tm_sec)+"_"
        #       __
        stamp = str(now.tm_year)+"_"+str(now.tm_mon)+"_"+str(now .tm_mday)
        #    /   / /     /
        full_path = backup_dir+stamp+os.path.dirname(filename)
        # ,     
        if not os.path.isdir(full_path):
            os.makedirs(full_path) #  ,   
        #     
        shutil.copyfile(filename, full_path+"/"+prefix+os.path.basename(filename))
        #        
        sublime.status_message("   " + filename + "  !")
</code></pre><br>
<br>
  ,  ~/backup/,     ,   SideBar ( View-&gt;SideBar-&gt;show).   File-&gt;OpenFolder     backup.         .      F7      .      :<br>
<br>
<img src="http://imglink.ru/pictures/30-07-12/ea51fcf7f0a1616677e2072d79a47bbd.jpg" alt="image"><br>
<br>
<br>
<h5> Diff</h5><br>
       Diff,  ,        Backup.      :<br>
<ul>
<li>      ;</li>
<li>       ;</li>
<li>     ;</li>
<li> meld      ;</li>
</ul><br>
     view,   .        , :<br>
<br>
<pre><code class="python">sublime.active_window().views()
</code></pre><br>
<br>
      ,      .   view    id.    ,         view     .     :<br>
<br>
<pre><code class="python"># -*- coding: utf-8 -*-
import sublime, sublime_plugin
import subprocess

class DiffCommand(sublime_plugin.TextCommand):
	def run(self, edit):
		cur = num = 0
		#    view
		views = sublime.active_window().views()
		#    view   ,   id
		for view in views:
			if view.id() == sublime.active_window().active_view().id():
				#  id ,     view
				cur = num
			num += 1
		#      view 
		if num-1 != cur:
			#   meld  
			subprocess.Popen([
				'meld', 
				views[cur].file_name(), 
				views[cur+1].file_name()
			]) 
</code></pre><br>
<br>
        meld.    Ubuntu,      :<br>
<br>
<pre><code class="bash">	sudo apt-get install meld
</code></pre><br>
<br>
     diff  -  .      Preferences-&gt;Key Bindings ‚Äî User         F2:<br>
<br>
<pre><code class="javascript">[
	 { "keys": ["f7"], "command": "backup" },
	 { "keys": ["f2"], "command": "diff" }
]
</code></pre><br>
<br>
  ,        F2.   meld,      . !<br>
<br>
<h5>  </h5><br>
        .  , ,    :<br>
<br>
<pre><code class="python">import sublime, sublime_plugin

class OpenedFilesCommand(sublime_plugin.TextCommand):
	def run(self, edit):
		#    view
		views = sublime.active_window().views()
		files = ""
		#      view   files
		for view in views:
			files += view.file_name()+"\n"
		#    
		sublime.active_window().new_file()
		#      
		sublime.active_window().active_view().insert(edit, 0, files)

</code></pre><br>
<br>
        ,  ctrl+shift+f:<br>
<br>
<pre><code class="javascript">[
	 { "keys": ["f7"], "command": "backup" },
	 { "keys": ["f2"], "command": "diff" },
	 { "keys": ["ctrl+shift+f"], "command": "opened_files" }
]
</code></pre><br>
<br>
   ,           . <br>
<br>
<h4></h4><br>
      ,        Sublime Text 2.            - ,    .<br>
      Python,     ,     . , -      . </div><p>Source: <a href="https://habr.com/ru/post/148842/">https://habr.com/ru/post/148842/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../148837/index.html">UIImage, EXIF ‚Äã‚Äãand a bit of runtime</a></li>
<li><a href="../148838/index.html">I retrain people to java programmers</a></li>
<li><a href="../148839/index.html">Experimental Determination of Cache Memory Characteristics</a></li>
<li><a href="../148840/index.html">Font for registration number plates (license plates)</a></li>
<li><a href="../148841/index.html">Apache Maven - web application</a></li>
<li><a href="../148843/index.html">Database Migration in Zend Framework: Akrabat_Db_Schema_Manager</a></li>
<li><a href="../148844/index.html">The first experience of writing plugins for Autocad in C #</a></li>
<li><a href="../148845/index.html">.NET is more valuable than .COM?</a></li>
<li><a href="../148846/index.html">Sieve method in the game "Bulls and Cows"</a></li>
<li><a href="../148847/index.html">Get structured data from PostgreSQL</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>