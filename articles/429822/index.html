<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Special Purpose Debug Board</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Introduction 
 When developing a device for testing its electrical circuit, a debug board is usually used. Our developers are no exception here, since...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Special Purpose Debug Board</h1><div class="post__text post__text-html js-mediator-article"><h3>  Introduction </h3><br>  When developing a device for testing its electrical circuit, a debug board is usually used.  Our developers are no exception here, since the positive aspects of this approach are obvious: the costs are less than the production of a prototype or a test batch.  And if errors appear in the process or new solutions appear for some tasks, they are much easier to apply. <br><br>  However, quite often we have come across the fact that the debugs offered on the market required significant refinement and / or additional modules.  At the same time, additional restrictions depended on the specific device.  If we are developing a control board and a wireless communication module from scratch, then there is a relative order on the breadboard board. <br><br>  Problems begin when a second and more frequent scenario is played out, and we are dealing with the modernization of an already developed technique.  Due to the main limiting factor - the final price of the product - the change in the electrical circuit should be minimal.  At the stage of the layout, it is necessary to create many affectionately beloved "collective farm". 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <img src="https://habrastorage.org/webt/l_/p8/xs/l_p8xs1np6taptdzshxddikzogg.jpeg"><br>  <i><font color="gray"><a href="">A source</a></font></i> <br><br><h3>  What to do? </h3><a name="habracut"></a><br>  Control boards in household appliances are usually simple and low-tech - their printed base is single-layer, with one of the sides does not have a metallization and a mask.  The simplicity of these boards is determined by the final price of the devices themselves - the more difficult the production of equipment is, the more expensive it will be to sell.  It is clear that the mass consumer will not want and will not overpay for complications. <br><br><img src="https://habrastorage.org/webt/ad/lw/qh/adlwqhcadvh5rkhk_-yjjq4sbu0.jpeg"><br>  <i><font color="gray">Typical representative of a home appliance control board</font></i> <br><br>  During the work we have several standard wireless modules from RM2 to RM10.  These modules, based on the SoC solution, perform the role of a central controller, and also allow the device to be controlled by air. <br><br>  This line of wireless modules is designed to be able to be installed on the control board, minimally changing it.  To ensure high speed of development, there is an urgent need to make a debugging board, in which there will already be everything that is necessary for smart home appliances. <br><br>  Another argument for the release of the debug board was the opening of the Ready for Sky platform for third-party developers.  We began to receive offers and requests to e-mail to give access to the platform to independent developers or DIY developers.  A similar proposal came even in Habrovskaya PM. <br><br><h3>  Debugging </h3><br>  So we did it - the first version of RFS-DEV001.  The heart of the debug board is the RM10 module.  Based on the <a href="https://www.nordicsemi.com/eng/Products/Bluetooth-low-energy/nRF52832">nRF52832</a> chip, which complies with the Bluetooth 5 standard, it supports mesh networks and Bluetooth Low Energy.  Also on debugging, a real-time clock is placed; three power options are implemented (battery, USB from PC, external from power source).  Two buttons, a buzzer and an RGB diode to signal and blink.  All components on the board are selected from those that are now used in the mass production of household appliances. <br><br>  In addition to working out the control scheme, the developer will be able to immediately determine and optimize the cost of components, which ultimately will affect the price of his smart device. <br><br><img src="https://habrastorage.org/webt/qj/xn/oj/qjxnojqwddazdxnzgy3gj6len-m.jpeg"><br><br>  The fee will be convenient for DIY-users, among whom there are those whose programming is not a strong point or they are just beginning to learn.  We saw an opportunity to facilitate their work, for example, to make the Arduino-compatible board.  It is clear that this is an amateur and educational format, but its use, firstly, does not negate professional work with debugging, and secondly, greatly enhances the convenience of professionals entering the profession. <br><br>  It would be quite possible to distribute fees among universities and specialized technical schools for teaching undergraduate students, thereby contributing to future specialists. <br><br><div class="spoiler">  <b class="spoiler_title">List of guaranteed working plugins</b> <div class="spoiler_text"><ul><li>  Atmospheric pressure and temperature <a href="http://roboshop.spb.ru/index.php%3Froute%3Dproduct/product/download%26product_id%3D131%26download_id%3D225">sensor BMP180</a> </li><li>  Atmospheric pressure and temperature <a href="http://roboshop.spb.ru/index.php%3Froute%3Dproduct/product/download%26product_id%3D492%26download_id%3D44">sensor BMP280</a> </li><li>  <a href="http://roboshop.spb.ru/sensors/rain-sensor%3Ffilter%3D5">Moisture</a> sensor </li><li>  <a href="http://roboshop.spb.ru/sensors/infrared-sensor-digital%3Ffilter%3D6">IR</a> sensor </li><li>  <a href="http://roboshop.spb.ru/index.php%3Froute%3Dproduct/product/download%26product_id%3D616%26download_id%3D63">MQ-135</a> gas sensor </li><li>  <a href="http://roboshop.spb.ru/sensors/gas-sensor-mq9%3Ffilter%3D9">MQ-9</a> gas sensor </li><li>  Motion Sensor <a href="http://roboshop.spb.ru/sensors/HC-SR505%3Ffilter%3D7">HC-SR505</a> </li><li>  Motion Sensor <a href="http://roboshop.spb.ru/sensors/HC-SR04%3Ffilter%3D7">HC-SR04</a> </li><li>  Tilt Sensor <a href="http://roboshop.spb.ru/sensors/SW-520D-sensor%3Ffilter%3D7">SW-520D</a> </li><li>  Accelerometer, <a href="http://roboshop.spb.ru/sensors/MPU9250-module%3Ffilter%3D7">MPU9250 Magnetometer</a> </li><li>  Accelerometer, Magnetometer <a href="http://roboshop.spb.ru/sensors/GY-85%3Ffilter%3D7">GY-85</a> </li><li>  Light sensor and proximity <a href="http://roboshop.spb.ru/index.php%3Froute%3Dproduct/product/download%26product_id%3D839%26download_id%3D111">AP3216</a> </li><li>  <a href="http://roboshop.spb.ru/index.php%3Froute%3Dproduct/product/download%26product_id%3D1046%26download_id%3D133">GY-2561</a> light intensity sensor </li><li>  Gesture Recognition Module <a href="http://roboshop.spb.ru/index.php%3Froute%3Dproduct/product/download%26product_id%3D752%26download_id%3D89">APDS-9960</a> </li><li>  <a href="https://store.arduino.cc/arduino-motor-shield-rev3">Stepper Motor</a> Control Module <a href="https://store.arduino.cc/arduino-motor-shield-rev3">Arduino Motor Shield</a> </li><li>  Module to connect extra.  USB <a href="https://store.arduino.cc/arduino-usb-host-shield">Arduino USB Host Shield</a> </li><li>  <a href="https://store.arduino.cc/arduino-4-relays-shield">Arduino 4 Relays Shield</a> Relay Module </li><li>  <a href="https://store.arduino.cc/arduino-wirelss-sd-shield">Wireless SD Card</a> Module </li><li>  GSM (GPRS) module <a href="http://roboshop.spb.ru/index.php%3Froute%3Dproduct/product/download%26product_id%3D409%26download_id%3D32">SIM900</a> </li><li>  <a href="http://roboshop.spb.ru/index.php%3Froute%3Dproduct/product/download%26product_id%3D773%26download_id%3D95">LC12S</a> Transceiver </li><li>  433/868 MHz <a href="http://roboshop.spb.ru/index.php%3Froute%3Dproduct/product/download%26product_id%3D1236%26download_id%3D178">NRF905 Module</a> </li><li>  IR module <a href="http://roboshop.spb.ru/index.php%3Froute%3Dproduct/product/download%26product_id%3D92%26download_id%3D199">XY-MK-5V</a> </li><li>  RFID / NFC-module <a href="http://roboshop.spb.ru/index.php%3Froute%3Dproduct/product/download%26product_id%3D556%26download_id%3D190">PN532</a> </li><li>  <a href="http://roboshop.spb.ru/modules/LCD-keypad-shield%3Ffilter%3D10">Display</a> </li><li>  <a href="http://roboshop.spb.ru/modules/ILI9325-28-touch-shield%3Ffilter%3D10">Display</a> </li><li>  GPS module <a href="http://www.farnell.com/datasheets/1681409.pdf">MIKROE-1032 GPS Click</a> </li><li>  GLONASS module <a href="https://static.chipdip.ru/lib/457/DOC001457084.pdf">MIKROE-1895 GNSS3</a> </li><li>  Keyboard module 4x4 <a href="https://static.chipdip.ru/lib/983/DOC000983356.pdf">MIKROE-86</a> </li><li>  Diode matrix <a href="https://static.chipdip.ru/lib/281/DOC001281344.pdf">MIKROE-1881</a> </li><li>  <a href="https://www.adafruit.com/product/1430">Adafruit NeoPixel Shield for Arduino diode</a> matrix </li><li>  At the same time, we plan to release our modules, also on the basis of components used in mass production.  If you have any ideas or suggestions, write in the comments what modules you might need. </li></ul><br></div></div><br><img src="https://habrastorage.org/webt/3c/wq/2t/3cwq2tm-xkqr-djumc_doqtksba.jpeg"><br><br><h3>  API </h3><br>  Since debugging without software code will become a low-use piece of PCB, it‚Äôs worthwhile to tell a little about the API, which is intended to allow a developer to concentrate on the functionality of his device, apart from numerous Bluetooth settings, etc., as part of the opening platform. <br><br>  So, API R4S consists of: <br><br><ul><li>  a set of libraries providing the work of typical and specific services, for example, the main library containing the basic Bluetooth settings and libraries focused on the functionality of devices; </li><li>  examples of devices or functions implemented on the API; </li><li>  drivers for peripherals connected to the debug board, see the list above. </li></ul><br>  You can slightly consider the possibilities of the API on the example of creating light effects using an LED lamp through a smooth change in brightness using Bezier curves. <br><br><img src="https://habrastorage.org/webt/fj/fs/3l/fjfs3lzggmwwcwgcl5fx2cezsbu.gif"><br>  <i><font color="gray">Turning to peyring mode, the light bulb will gradually change the color of the glow.</font></i> <br><br>  In the main file, you will need to independently determine basic information, for example, information about the firmware, declare settings (location of the bootloader, buffer for updating the firmware, etc.). <br><br><pre><code class="hljs pgsql"><span class="hljs-comment"><span class="hljs-comment">/** Firmware information structure */</span></span> R4S_FW_INFO_DEF(application, <span class="hljs-number"><span class="hljs-number">0x26000</span></span>) = { .version = { .major = <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-comment"><span class="hljs-comment">/** Product version (major) */</span></span> .minor = <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-comment"><span class="hljs-comment">/** Product version (minor) */</span></span> }, .name = { <span class="hljs-comment"><span class="hljs-comment">/** Device name */</span></span> .name = "RGB Lightbulb", .len = sizeof("RGB Lightbulb") - <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-comment"><span class="hljs-comment">/** Without \0 symbol at the end*/</span></span> } }; <span class="hljs-comment"><span class="hljs-comment">/** The init structure with the device information wich required for ReadyForSky library. */</span></span> R4S_CONFIG_DEF(r4s_init_conf) = { .p_fw_info = &amp;application, .production_key = <span class="hljs-keyword"><span class="hljs-keyword">NULL</span></span>, <span class="hljs-comment"><span class="hljs-comment">/** * The production key allows integrating the device into ReadyForSky infrastructure. * Contact support to get the production key for your device. */</span></span> .bootloader = { .start_address = <span class="hljs-number"><span class="hljs-number">0x7B000</span></span>, <span class="hljs-comment"><span class="hljs-comment">/** Bootloader start address */</span></span> .mbr_param_page = <span class="hljs-number"><span class="hljs-number">0x7f000</span></span>, <span class="hljs-comment"><span class="hljs-comment">/** MBR param page address */</span></span> .fw_upgrade_buf = { <span class="hljs-comment"><span class="hljs-comment">/** The firmware upgrade buffer is used for background flashing. * The region size should more than softdevice + bootloader + application size + 4096 */</span></span> .p_api = &amp;nrf_fstorage_sd, <span class="hljs-comment"><span class="hljs-comment">/** fstorage api */</span></span> .start_addr = <span class="hljs-number"><span class="hljs-number">0x35000</span></span>, <span class="hljs-comment"><span class="hljs-comment">/** start address of firmware upgrade buffer */</span></span> .end_addr = <span class="hljs-number"><span class="hljs-number">0x78000</span></span>, <span class="hljs-comment"><span class="hljs-comment">/** end address of firmware upgrade buffer */</span></span> .chunk_size = <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-comment"><span class="hljs-comment">/** default chunk size */</span></span> } }, .company_info = { .p_company_name = "Imperium of Mankind", }, .watchdog = { .timeout_ms = <span class="hljs-number"><span class="hljs-number">5000</span></span>, <span class="hljs-comment"><span class="hljs-comment">/** If loop or priority will not finish after 5 seconds watchdog will reset microcontroller automatically */</span></span> }, .low_power_mode_enable = <span class="hljs-keyword"><span class="hljs-keyword">true</span></span>, <span class="hljs-comment"><span class="hljs-comment">/** Low power ble settings */</span></span> }</code> </pre> <br>  The development of the device is similar to the development under the Arduino.  There is a setup function to initialize the main modules and the loop where the processing takes place.  The application functionality itself is divided into modules - according to different operations performed. <br><br><pre> <code class="hljs java"><span class="hljs-comment"><span class="hljs-comment">/** </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@brief</span></span></span><span class="hljs-comment"> Application initialisation * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@return</span></span></span><span class="hljs-comment"> none */</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">app_setup</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">void</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span><span class="hljs-function"> </span></span>{ m_pairing_init(m_led_ctrl_pairing_handler); m_led_ctrl_init(); } <span class="hljs-comment"><span class="hljs-comment">/** </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@brief</span></span></span><span class="hljs-comment"> Application loop * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@return</span></span></span><span class="hljs-comment"> true - sleep is not allowed * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@return</span></span></span><span class="hljs-comment"> false - All modules have completed operation, the mcu can enter into sleep mode. (the next loop iteration will be after any interrupt) */</span></span> <span class="hljs-function"><span class="hljs-function">bool </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">app_loop</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">void</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> NRF_LOG_PROCESS(); }</code> </pre><br>  After the resources are declared in the file (‚Äúm_resources.c‚Äù) - for example, light bulb animations, pin assignments (several LED groups), colors, etc., the library itself will determine the remaining parameters. <br><br><pre> <code class="hljs mel"><span class="hljs-comment"><span class="hljs-comment">/** Animation timer definition for m_rgb */</span></span> APP_TIMER_DEF(animation_timer_id); <span class="hljs-comment"><span class="hljs-comment">/** Leds pin map for m_rgb*/</span></span> static const r4s_rgb_ctrl_led_t m_leds_map[LEDS_COUNT] = { { .<span class="hljs-keyword"><span class="hljs-keyword">color</span></span> = { .red_pin = RED_LEDS_0_PIN, .green_pin = GREEN_LEDS_0_PIN, .blue_pin = BLUE_LEDS_0_PIN, } }, { .<span class="hljs-keyword"><span class="hljs-keyword">color</span></span> = { .red_pin = RED_LEDS_1_PIN, .green_pin = GREEN_LEDS_1_PIN, .blue_pin = BLUE_LEDS_1_PIN, } }, { .<span class="hljs-keyword"><span class="hljs-keyword">color</span></span> = { .red_pin = RED_LEDS_2_PIN, .green_pin = GREEN_LEDS_2_PIN, .blue_pin = BLUE_LEDS_2_PIN, } }, }; <span class="hljs-comment"><span class="hljs-comment">/** PWM map for m_rgb */</span></span> static const r4s_rgb_ctrl_pwm_map_elem_t m_pwm_map[LEDS_COUNT] = { { .<span class="hljs-keyword"><span class="hljs-keyword">color</span></span> = { .p_pwm_red = &amp;pwm0, .p_pwm_green = &amp;pwm0, .p_pwm_blue = &amp;pwm0, } }, { .<span class="hljs-keyword"><span class="hljs-keyword">color</span></span> = { .p_pwm_red = &amp;pwm1, .p_pwm_green = &amp;pwm1, .p_pwm_blue = &amp;pwm1, } }, { .<span class="hljs-keyword"><span class="hljs-keyword">color</span></span> = { .p_pwm_red = &amp;pwm2, .p_pwm_green = &amp;pwm2, .p_pwm_blue = &amp;pwm2, } }, }; <span class="hljs-comment"><span class="hljs-comment">/** RGB lamp definition */</span></span> R4S_RGB_CTRL_DEF(m_rgb, m_leds_map, m_pwm_map, &amp;animation_timer_id, LEDS_COUNT, <span class="hljs-number"><span class="hljs-number">3</span></span>);</code> </pre><br>  After bonding, the application receives data that the device can do, a light bulb in our case, and displays the corresponding information. <br><br><img src="https://habrastorage.org/webt/v9/pt/n7/v9ptn7wkq4rorl-xsajelyco_1g.png" width="350" height="500"><br><br>  Further, through the application, you can control the parameters - intensity, color, temperature, etc. <br><br><img src="https://habrastorage.org/webt/fi/pb/1j/fipb1jnryioge5-h8dwtiik0llu.gif"><br>  <font color="gray"><i>Now the code is being worked out on a debugging prototype, so let the difference between the board and the upper images does not bother you.</i></font> <br><br>  Additional features include: <br><br><ul><li>  Multiconne - several smartphones simultaneously connected to the module.  Potentially, this function causes problems when trying to simultaneously control the device.  We have tried to preempt these problems, including through notifications on all connected smartphones - when a parameter is changed by one phone, information about the new value of the parameter will be immediately sent to the rest; </li><li>  Fast flashing - the size of the packet transmitted via Bluetooth depends on the <abbr title="Maximum transmission unit">MTU</abbr> .  As the MTU increases, the flashing process will go faster as the packet size increases; </li><li>  The list of typical errors determined by the function of the microcontroller.  When an error is detected, a text like ‚ÄúNot enough memory for softdevice.  For more information enable sdm debug. ‚Äù. </li></ul><br>  To work with debugging, the engineering application R4S will be released with the same capabilities as the usual one, but it is through it that the board is managed.  In principle, through the engineering application, you can manage the assembled devices in your apartment - a nice piece for DIY.  This should help in device support for novice developers.  In the main R4S application, such a device will appear after coordination and quality control on our part. <br><br>  We will also use debugging in the daily work of the company, including in training new employees.  Habrovchane, as you think, take off?  Would you be interested in working with such debugging? </div><p>Source: <a href="https://habr.com/ru/post/429822/">https://habr.com/ru/post/429822/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../429812/index.html">Apple: T2 coprocessor can block DIY-repair of new MacBook and MacMini</a></li>
<li><a href="../429814/index.html">When Java finally dies, what to do and what will happen to the JPoint</a></li>
<li><a href="../429816/index.html">OpenSceneGraph: build from source and Hello World</a></li>
<li><a href="../429818/index.html">Intel Vision Accelerator - Deep Learning in every home</a></li>
<li><a href="../429820/index.html">HTTP-over-QUIC officially becomes HTTP / 3</a></li>
<li><a href="../429824/index.html">CI for frontend: Gitlab, Traefik, Docker</a></li>
<li><a href="../429826/index.html">Wearable "batteries": textile micro-supercondensers based on PEDOT-Cl</a></li>
<li><a href="../429828/index.html">(Not only) freshman: high school.Instruction 2.0</a></li>
<li><a href="../429832/index.html">Translation of Andrew Un's book ‚ÄúPassion for Machine Learning‚Äù Chapter 28 - 29</a></li>
<li><a href="../429834/index.html">Why can a machine play Mario inhumanly good, but not Pokemon?</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>