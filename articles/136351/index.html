<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>CSS modal windows</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Nowadays, various pop-up modal windows - popups - for registration, authorization, information windows, - of all shapes and sizes have become the norm...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>CSS modal windows</h1><div class="post__text post__text-html js-mediator-article"> Nowadays, various pop-up modal windows - popups - for registration, authorization, information windows, - of all shapes and sizes have become the norm for various sites.  There is also a huge number of plugins to the same jQuery for simple and convenient creation of such popups - the same <a href="http://shadowbox-js.com/">Shadowbox</a> , for example. <br><br><a name="habracut"></a><br><br>  The appearance, size and design of such pop-ups are completely diverse - with overlays, shadows, animations - just do not count.  What unites them is, perhaps, the fact that they are usually displayed in the very center of the page, both horizontally and vertically.  And centering is done by JS.  I will not go into the details of these calculations, I will describe them only briefly: 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      The HTML code of a popup usually has the following structure: <br><br> <code><font color="black">&lt;div <font color="#0000ff">class</font> ="popup__overlay"&gt;&lt;/div&gt; &lt;! <font color="#008000">--  --&gt;</font> &lt;br/&gt;&lt;div <font color="#0000ff">class</font> ="popup"&gt;...&lt;/div&gt; &lt;! <font color="#008000">--     --&gt;</font> &lt;br/&gt;</font></code> <br> <br>  And CSS ( <i>here and below, I will deliberately omit writing some properties that are necessary only for some browsers and their versions, leaving only the most basic</i> ): <br><br> <code><font color="black"><font color="#A31515">.popup__overlay</font> {&lt;br/&gt; <font color="#ff0000">position</font> : <font color="#0000ff">fixed</font> ;&lt;br/&gt; <font color="#ff0000">left</font> : <font color="#0000ff">0</font> ;&lt;br/&gt; <font color="#ff0000">top</font> : <font color="#0000ff">0</font> ;&lt;br/&gt; <font color="#ff0000">background</font> : <font color="#0000ff">#000</font> ;&lt;br/&gt; <font color="#ff0000">opacity</font> : . <font color="#0000ff">5</font> ;&lt;br/&gt; <font color="#ff0000">filter</font> : alpha( <font color="#008000">opacity=50</font> );&lt;br/&gt; <font color="#ff0000">z-index</font> : <font color="#0000ff">999</font> &lt;br/&gt;    }&lt;br/&gt; <font color="#A31515">.popup</font> {&lt;br/&gt; <font color="#ff0000">position</font> : <font color="#0000ff">absolute</font> ;&lt;br/&gt; <font color="#ff0000">width</font> : <font color="#0000ff">20%</font> ;&lt;br/&gt; <font color="#ff0000">z-index</font> : <font color="#0000ff">1000</font> ;&lt;br/&gt; <font color="#ff0000">border</font> : <font color="#0000ff">1px solid #ccc</font> ;&lt;br/&gt; <font color="#ff0000">background</font> : #fff&lt;br/&gt;    } &lt;br/&gt;</font></code> <br> <br>  JS determines the browser and browser version, and on the basis of this calculates the dimensions of the working area and the dimensions of the popup itself (if they are not specified), and then some simple calculations are made of the position of its upper left corner (css properties left and top for .popup).  Many plugins also react to resizing the page, recounting the whole thing every time so that the pop-up is located exactly in the center of the workspace. <br><br>  I am a perfectionist by nature (I know, sometimes this is bad), and often I even bother with small details, trying to improve and add the maximum possible extensibility to these details, and this particular moment could not catch me in the work of all these plug-ins.  There was a thought that all the work on positioning the popup can be shifted from the shoulders of JS onto the shoulders of the browser itself, that is, to perform this work using CSS. <br><br>  This will do. <br><br>  <i>Below I will give an example of a popup that works in all major versions of major browsers.</i>  <i>To work correctly in IE &lt;9, some extra markup and hacks are needed, so I‚Äôll omit the detailed description of writing this method, and for those interested I‚Äôll post the full version.</i> <br><br>  So, we have a page with a button, when clicked, a modal window should pop up with some information, and the rest of the content should be shaded overlay. <br><br>  For a start - HTML code.  Its structure will differ slightly from the code indicated above, why - about this later in the article;  element classes will remain the same: <br><br> <code><font color="black"><font color="#0000ff">&lt;</font> <font color="#800000">div</font> <font color="#ff0000">class</font> <font color="#0000ff">="popup__overlay"&gt;</font> &lt;br/&gt; <font color="#0000ff">&lt;</font> <font color="#800000">div</font> <font color="#ff0000">class</font> <font color="#0000ff">="popup"&gt;&lt;/</font> <font color="#800000">div</font> <font color="#0000ff">&gt;</font> &lt;br/&gt; <font color="#0000ff">&lt;/</font> <font color="#800000">div</font> <font color="#0000ff">&gt;</font> &lt;br/&gt;</font></code> <br> <br>  And some CSS: <br><br> <code><font color="black"><font color="#A31515">.popup__overlay</font> {&lt;br/&gt; <font color="#ff0000">position</font> : <font color="#0000ff">fixed</font> ;&lt;br/&gt; <font color="#ff0000">left</font> : <font color="#0000ff">0</font> ;&lt;br/&gt; <font color="#ff0000">top</font> : <font color="#0000ff">0</font> ;&lt;br/&gt; <font color="#ff0000">width</font> : <font color="#0000ff">100%</font> ;&lt;br/&gt; <font color="#ff0000">height</font> : <font color="#0000ff">100%</font> ;&lt;br/&gt; <font color="#ff0000">z-index</font> : <font color="#0000ff">999</font> &lt;br/&gt;    }&lt;br/&gt; <font color="#A31515">.popup</font> {&lt;br/&gt;    } &lt;br/&gt;</font></code> <br> <br><h5>  Fixed sizes </h5><br>  The easiest option.  There is no need to invent anything new: <br><br> <code><font color="black"><font color="#A31515">.popup</font> {&lt;br/&gt; <font color="#ff0000">left</font> : <font color="#0000ff">50%</font> ;&lt;br/&gt; <font color="#ff0000">top</font> : <font color="#0000ff">50%</font> ;&lt;br/&gt; <font color="#ff0000">width</font> : <font color="#0000ff">400px</font> ;&lt;br/&gt; <font color="#ff0000">height</font> : <font color="#0000ff">200px</font> ;&lt;br/&gt; <font color="#ff0000">margin-left</font> : <font color="#0000ff">-200px</font> ;&lt;br/&gt; <font color="#ff0000">margin-top</font> : <font color="#0000ff">-100px</font> &lt;br/&gt;    } &lt;br/&gt;</font></code> <br> <br>  Negative margin'y in half the width and height - trite and boring, nothing original in this.  Go ahead. <br><br><h5>  Popup sizes depend on the content. </h5><br>  First, horizontal alignment is seemingly simpler.  If the popup is of fixed width, then the following will suffice: <br><br> <code><font color="black"><font color="#A31515">.popup</font> {&lt;br/&gt; <font color="#ff0000">margin</font> : <font color="#0000ff">auto</font> &lt;br/&gt;    } &lt;br/&gt;</font></code> <br> <br>  It will not affect the vertical alignment in any way, and, by the way, if you only need horizontal alignment, then you can stop at this by indicating some other upper indent of the popup.  But this is not enough for us!  Go ahead. <br><br>  Vertical alignment.  Here it becomes interesting.  Of course, a table or table emulation with the help of display: table &amp; display: table-cell would have coped with such a task, but making it work in old IE is more expensive.  The table also disappears - for obvious reasons. <br><br>  So, the margin already disappears - we do not know the size.  We recollect, that is from properties with similar effects.  Yeah, text-align.  But only for inline elements.  OK.  It seems that God himself ordered to use display: inline-block - a block element to which properties could be applied for inline elements.  With support for this property in all browsers, too, everything can be said to be in order.  The code becomes something like this: <br><br> <code><font color="black"><font color="#A31515">.popup__overlay</font> {&lt;br/&gt; <font color="#ff0000">position</font> : <font color="#0000ff">fixed</font> ;&lt;br/&gt; <font color="#ff0000">left</font> : <font color="#0000ff">0</font> ;&lt;br/&gt; <font color="#ff0000">top</font> : <font color="#0000ff">0</font> ;&lt;br/&gt; <font color="#ff0000">width</font> : <font color="#0000ff">100%</font> ;&lt;br/&gt; <font color="#ff0000">height</font> : <font color="#0000ff">100%</font> ;&lt;br/&gt; <font color="#ff0000">z-index</font> : <font color="#0000ff">999</font> ;&lt;br/&gt; <font color="#ff0000">text-align</font> : <font color="#0000ff">center</font> &lt;br/&gt;    }&lt;br/&gt; <font color="#A31515">.popup</font> {&lt;br/&gt; <font color="#ff0000">display</font> : <font color="#0000ff">inline</font> - <font color="#0000ff">block</font> ;&lt;br/&gt; <font color="#ff0000">vertical-align</font> : <font color="#0000ff">middle</font> &lt;br/&gt;    } &lt;br/&gt;</font></code> <br> <br>  Vertical alignment remains - vertical-align will do for us.  In any other situation it would also be appropriate to use line-height, but since we do not have a fixed page height (line-height in this context), it cannot be used here.  One trick with vertical alignment of elements of unknown dimensions comes to the rescue.  I remember exactly that I found this method on Habr√©, but, unfortunately, I could not find a link to that topic.  This method consists in the following: an inline-block element of zero width and 100% height of the parent is added, which ‚Äúbreaks‚Äù the line height to 100% of the height of the parent, that is, to the height of the working area of ‚Äã‚Äãthe page.  Let's make it more elegant - instead of unnecessary markup, we use pseudo-elements: <br><br> <code><font color="black"><font color="#A31515">.popup__overlay</font> :after {&lt;br/&gt; <font color="#ff0000">display</font> : <font color="#0000ff">inline</font> - <font color="#0000ff">block</font> ;&lt;br/&gt; <font color="#ff0000">width</font> : <font color="#0000ff">0</font> ;&lt;br/&gt; <font color="#ff0000">height</font> : <font color="#0000ff">100%</font> ;&lt;br/&gt; <font color="#ff0000">vertical-align</font> : <font color="#0000ff">middle</font> ;&lt;br/&gt; <font color="#ff0000">content</font> : <font color="#0000ff">''</font> &lt;br/&gt;    } &lt;br/&gt;</font></code> <br> <br>  It remains to add a translucent darkening of the overlay - rgba will cope with this.  Everything!  Now the position of the popup is regulated only by means of the browser at the CSS level. <br><br>  <a href="http://jsfiddle.net/vend3tta/9zwD4/">Final example</a> <br><br>  From the observed drawbacks of the method, sometimes there are glitches with a display in IE 6-7, in particular, when using floats. <br><br>  I repeat - my method does not eliminate the use of JS in general, it only partially optimizes the speed of pop-up windows by transferring part of the load from JS to CSS. <br><br>  I am sure that the method can be improved - both visually and from the inside, and I will be happy with any ideas and suggestions about this, as well as comments on the work and display in various browsers. <br><br>  <b>UPD:</b> By request, added an example working in IE7 + - <a href="http://jsfiddle.net/vend3tta/SE4tS/">http://jsfiddle.net/vend3tta/SE4tS/</a> <br></div><p>Source: <a href="https://habr.com/ru/post/136351/">https://habr.com/ru/post/136351/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../136345/index.html">Everything is in the details</a></li>
<li><a href="../136346/index.html">MSSQL system database transfer</a></li>
<li><a href="../136347/index.html">Robbers stop taking CDs and DVDs</a></li>
<li><a href="../136348/index.html">Spaces in indesign and how i put them</a></li>
<li><a href="../136350/index.html">3D editors, pros and cons</a></li>
<li><a href="../136352/index.html">Change your hard disk on your MacBook Pro in three clicks</a></li>
<li><a href="../136353/index.html">Check replication MySQL master-master via Zabbix</a></li>
<li><a href="../136354/index.html">Interview with the creator of NGINX Igor Sysoev</a></li>
<li><a href="../136356/index.html">Invitation to the Java Day SPB 2012 conference</a></li>
<li><a href="../136357/index.html">Amazon Free Usage Tier now includes Windows instance.</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>