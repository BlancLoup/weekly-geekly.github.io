<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Performance tuning for ASP.NET. Part 1</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="In the first part of the performance tricks for ASP.NET and IIS7, we will look at some simple but nevertheless powerful features of the web.config fil...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Performance tuning for ASP.NET. Part 1</h1><div class="post__text post__text-html js-mediator-article"> <a rel="nofollow" href=""><img vspace="10" hspace="15" align="left" title="Untitled-1" alt="Untitled-1" src="http://www.gotdotnet.ru/upload/blog/jeje/d71/Untitled-1_thumb.png"></a>  In the first part of the performance tricks for ASP.NET and IIS7, we will look at some simple but nevertheless powerful features of the web.config file.  Using some tricks we will increase the performance of any new or existing website without changing anything except the web.config file. <br><a name="habracut"></a><br>  The following XML snippets <strong>should</strong> be placed in the &lt;system.webServer&gt; section in the web.config. <br><br><h3>  HTTP compression </h3><br>  In practice, you can usually configure HTTP compression in ASP.NET using <a rel="nofollow" href="httpcompress/">third-party</a> or native libraries.  With IIS7, you can drop all of this and use the built-in compressor available from web.config.  Add the following line of code to enable HTTP compression: <br><blockquote><code><font color="black"><font color="#0000ff">&lt;</font> <font color="#800000">urlCompression</font> <font color="#ff0000">doDynamicCompression</font> <font color="#0000ff">="true"</font> <font color="#ff0000">doStaticCompression</font> <font color="#0000ff">="true"</font> <font color="#ff0000">dynamicCompressionBeforeCache</font> <font color="#0000ff">="true"</font> <font color="#0000ff">/&gt;</font></font></code> </blockquote> <br>  By default, only text data types can be compressed. <br><br><h4>  doDynamicCompression </h4><br>  Set this attribute to true and you will receive compression for dynamically generated data such as pages, views, handlers.  Nothing prevents this from happening. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h4>  doStaticCompression </h4><br>  This attribute allows you to choose whether or not to compress static files: styles and scripts.  Images and other non-textual data are not compressed by default.  I advise you to enable this option. <br><br><h4>  dynamicCompressionBeforeCache </h4><br>  If you do caching output pages in ASP.NET sites, then you can ask IIS7 to compress the result before putting it into the cache.  Problems can arise only if you have your own output caching mechanism.  Try to activate this feature and test the application.  If everything works fine, then why not leave it on? <br><br><h4>  The note </h4><br>  By default, only textual content types are compressed.  This means that if you send application / x-javascript as a content type, then you should change it to text / javascript.  If you use your own modules on sites, then you may have conflicts with IIS7 compression. <br><br><h4>  Resources </h4><br><ul><li>  <a rel="nofollow" href="http://www.west-wind.com/weblog/posts/98538.aspx">Add new mime-types for compression</a> </li><li>  <a rel="nofollow" href="http://technet.microsoft.com/en-us/library/cc771003%2528WS.10%2529.aspx">Configure HTTP compression in IIS 7 (Technet)</a> </li></ul><h3>  Caching static files </h3><br>  To increase download speed, it is important that everything that could be cached by the browser is <u>cached by the</u> browser.  This includes such static files as images, styles, scripts.  Allowing the browser to cache all these files will not have to re-request them during the cache period.  It saves a lot of traffic to you and your visitors, making page load faster.  A properly configured primary browser cache will trigger <em>load</em> and <em>DOMContentLoaded</em> events much faster. <br><br>  By adding this snippet to your web.config, all static files will be cached by the browser for a year: <br><blockquote> <code><font color="black"><font color="#0000ff">&lt;</font> <font color="#800000">staticContent</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">clientCache</font> <font color="#ff0000">cacheControlMode</font> <font color="#0000ff">="UseMaxAge"</font> <font color="#ff0000">cacheControlMaxAge</font> <font color="#0000ff">="365.00:00:00"</font> <font color="#0000ff">/&gt;</font> <br> <font color="#0000ff">&lt;/</font> <font color="#800000">staticContent</font> <font color="#0000ff">&gt;</font></font></code> </blockquote> <br>  These settings set the shelf life of files one year in advance.  This happens when IIS specifies in the HTTP header information for the browser, in this case, it asks for the file to be added to the cache.  If you press F5 or Ctrl + F5, the browser will request files regardless of their expiration date. <br><br>  The main problem of caching on the client side is changing static files before the expiration date.  The visitor with the old version in the cache will not see the new files until it clears the browser cache by pressing F5.  Therefore, these settings should be used with caution and, I think, should be reduced shelf life.  In the second part, I will consider this problem and offer a simple way to solve it. <br><br><h4>  The note </h4><br>  Make sure that important user data is not cached by the browser.  Otherwise they will be available to other users using this browser. <br><br><h4>  Resources </h4><ul><li>  <a rel="nofollow" href="http://www.iis.net/ConfigReference/system.webServer/staticContent/clientCache">Client Cache &lt;clientCache&gt; (iis.net)</a> </li></ul></div><p>Source: <a href="https://habr.com/ru/post/99296/">https://habr.com/ru/post/99296/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../99288/index.html">Habrainterview with Alexander Zudin (Paragon Software)</a></li>
<li><a href="../99291/index.html">Linux basics from the founder of Gentoo. Part 1 (2/4): Managing Files and Directories</a></li>
<li><a href="../99292/index.html">The border of South Korea is guarded by machine gun robots</a></li>
<li><a href="../99293/index.html">Chromizer - Theme for Google Chrome is easy, convenient, fast.</a></li>
<li><a href="../99295/index.html">Open Source Hardware Definition accepted in version 0.3</a></li>
<li><a href="../99298/index.html">Compilation. 2: grammar</a></li>
<li><a href="../99299/index.html">Virtual Connect FlexFabric - optimizing network connections for virtual machines</a></li>
<li><a href="../99300/index.html">My Yandex.Fotki Uploader (Myf) - Important Update Extension</a></li>
<li><a href="../99302/index.html">Intellectmoney</a></li>
<li><a href="../99304/index.html">"Industrial" chassis for the server in a hurry</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>