<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Machine learning for tennis prediction: part 1</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Mathematical modeling of tennis is gaining popularity before our eyes. Every year new analytical models and services appear, competing with each other...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Machine learning for tennis prediction: part 1</h1><div class="post__text post__text-html js-mediator-article">  Mathematical modeling of tennis is gaining popularity before our eyes.  Every year new analytical models and services appear, competing with each other in the accuracy of predicting the outcomes of tennis matches.  This is due to the desire to earn on the rapidly growing online market of sports betting: there are cases when the amount of bets on a single match in professional tennis reaches millions of dollars. <br><br>  In this review, I will look at the basic mathematical methods for predicting tennis: hierarchical Markov models, machine learning algorithms, as well as analyze IBM, Microsoft cases and one Russian service that use machine learning to predict the results of tennis matches. <br><br> <a href="http://radikal.ru/big/a32880530a5046d497defc0f981e68f6"><img src="https://habrastorage.org/getpro/habr/post_images/2aa/8af/0d3/2aa8af0d38c70822f24090b4eed566f4.jpg"></a> 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <a name="habracut"></a><br>  <i>Content</i> <br>  <i>Part 1</i> <br>  <b><a href="https://habr.com/ru/post/306944/">Introduction to the Tennis Prediction Problem</a></b> <b><br></b>  <b><a href="https://habr.com/ru/post/306944/">Data for tennis</a></b> <b><br></b>  <b><a href="https://habr.com/ru/post/306944/">Sports betting</a></b> <br><ul><li>  <a href="https://habr.com/ru/post/306944/">Odds, estimated probability and ROI</a> </li><li>  <a href="https://habr.com/ru/post/306944/">Betting strategies</a> </li></ul><br>  <b><a href="https://habr.com/ru/post/306944/">Statistical models</a></b> <br><ul><li>  <a href="https://habr.com/ru/post/306944/">Markov models</a> </li><li>  <a href="https://habr.com/ru/post/306944/">Hierarchical expressions</a> </li><li>  <a href="https://habr.com/ru/post/306944/">Estimated probability of winnings when serving</a> </li><li>  <a href="https://habr.com/ru/post/306944/">Modern models</a> </li></ul><br>  <a href="https://habrahabr.ru/post/307422/">Part 2</a> <br>  <b>Machine learning in tennis</b> <b><br></b>  <b>Machine learning models</b> <br><ul><li>  Logistic regression </li><li>  Neural networks </li><li>  Support Vector Machine </li><li>  Other MO algorithms </li></ul><br>  <b>Machine learning problems</b> <b><br></b>  <b>Cases MO to predict tennis</b> <br><ul><li>  Ibm </li><li>  Microsoft </li><li>  OhMyBet! </li></ul><br><br><h2><a name="1"></a>  Introduction to the Tennis Prediction Problem </h2><br>  Tennis is a great show and a lot of money.  The Association of Tennis Professionals (ATP) annually holds more than 60 professional tournaments in 30 countries.  The broadcast of the Andy Murray game against Milos Raonich in the Wimbledon 2016 final was watched by over 13.3 million people in the UK alone.  Tennis bets catch up on the popularity of football.  At the world's largest online betting exchange Betfair, the total amount of bets on the match Murray-Djokovic in the 2013 Wimbledon final was 63 million dollars.  Potential profits and scientific interest led to a surge in research in the field of algorithms for accurate prediction of tennis matches. <br><br>  The points system in tennis has a hierarchical structure: a match consists of sets, which consist of games, which consist of individual points.  In most modern approaches to predicting tennis, this structure is used to derive hierarchical expressions for the probability of a player winning a match based on Markov chains.  If we assume that points in tennis are distributed independently and in the same way (independent and identical distribution, IID) <a href="https://habr.com/ru/post/306944/">[1]</a> , to obtain an expression, you only need to know the probability of each player winning a point when serving.  Based on this basic statistics, which is easy to obtain from historical data on the Internet, it is possible to calculate the probability that each player will win the game, then the set, and finally the match. <br><br>  With all the elegance of this approach, it can not be considered ideal.  Representing the quality of players in only one parameter (points won when serving), this method is unable to take into account more subtle factors that also affect the outcome of the match.  For example, a player‚Äôs commitment to a certain strategy, time after injury, and general fatigue from previous matches can only indirectly affect the match forecast obtained by the method of hierarchical models.  Moreover, the characteristics of the match itself - coverage, location, weather - are not considered at all in such a forecast. <br><br>  Taking into account the huge amount of historical data on tennis, it is possible to propose an alternative approach to predicting tennis matches - machine learning.  The parameters of the players and the match, together with the result of the match, can be a training sample.  A machine learning algorithm with a teacher can use this sample to build a function to predict the results of new matches. <br><br>  Despite the fact that machine learning suggests itself to solve the problem of predicting tennis, this approach until recently attracted much less attention from researchers than stochastic hierarchical methods.  Most studies of machine learning to tennis use logistic regression and neural networks.  The ROI of the most accurate model described in the scientific literature is 4.35%, which, according to the author, is 75% better than modern stochastic models <a href="https://habr.com/ru/post/306944/">[2]</a> . <br><br>  Most of the online tennis forecasting services (we do not consider forecasters) use exactly stochastic models and offer users the likelihood of winning each player with accompanying statistics, which are proposed to be analyzed independently.  I will consider more interesting cases when using the machine learning algorithms are analyzed not only the probabilities of scoring when submitting, but also historical statistics on players and match parameters.  I will consider the cases of such giants as IBM, Microsoft, as well as the Russian service OhMyBet !, predicting tennis using machine learning algorithms. <br><br>  But first things first. <br><br><h2><a name="2"></a>  Data for tennis </h2><br>  Historical data on tennis matches are widely available on the Internet.  Official tournament websites, for example, <a href="http://www.atpworldtour.com/">www.atpworldtour.com</a> , provide information about players and match results, as well as the performance of an athlete for each match.  Some sources, such as <a href="http://www.tennis-data.co.uk/">www.tennis-data.co.uk</a> , provide historical data in a structured form (CSV or Excel files).  Paid databases are also available - more complex, for longer periods and with better accuracy, for example, the <a href="http://www.oncourt.info/">OnCourt</a> database. <br><br>  The most relevant data that can be obtained from such databases are presented in the table below. <br><table border="1"><tbody><tr><td rowspan="6">  Player Details <br></td><td>  Name <br></td></tr><tr><td>  Date of Birth <br></td></tr><tr><td>  A country <br></td></tr><tr><td>  Prize fund <br></td></tr><tr><td>  Rating points <br></td></tr><tr><td>  Overall ATP or WTA rating <br></td></tr><tr><td rowspan="8">  Match details <br></td><td>  Tournament Name <br></td></tr><tr><td>  Type of tournament (eg Grand Slam) <br></td></tr><tr><td>  Court coverage <br></td></tr><tr><td>  Location (country, coordinates) <br></td></tr><tr><td>  date <br></td></tr><tr><td>  Result (set score) <br></td></tr><tr><td>  Prize fund <br></td></tr><tr><td>  Odds (from Pinnacle) <br></td></tr><tr><td rowspan="15">  Match statistics for both players <br></td><td>  Winning percentage on the first serve <br></td></tr><tr><td>  Asa <br></td></tr><tr><td>  Double mistakes <br></td></tr><tr><td>  Unforced errors <br></td></tr><tr><td>  Percentage of points won on first serve <br></td></tr><tr><td>  Percentage of points won in the second serve <br></td></tr><tr><td>  The percentage of points won at the reception <br></td></tr><tr><td>  Winners <br></td></tr><tr><td>  Break Points (won, total) <br></td></tr><tr><td>  Outputs to the grid (won, total) <br></td></tr><tr><td>  Total points won <br></td></tr><tr><td>  The fastest feed <br></td></tr><tr><td>  Average feed rate <br></td></tr><tr><td>  Average second feed rate <br></td></tr><tr><td>  Odds (from Pinnacle) <br></td></tr></tbody></table><br>  For the simulation of the match can be important data such as statistics on sets and points for each player.  This data can be obtained by parsing sites such as <a href="http://www.flashscore.com/">flashscore.com</a> .  It is important to note that with the help of HawkEye ball tracking technology for many tournaments, you can obtain data of higher quality and detail, for example, the position of the ball and the player at any moment of the match.  However, the ATP association owning this data does not issue licenses for their use to third parties. <br><br><h2><a name="3"></a>  Sports betting </h2><br>  There are two main categories of tennis betting: pre-match and live bets, which differ in the level of odds.  In addition, you can bet not only on the winner of the match, but also on many other factors, for example, on the account in separate sets, the total number of games, etc. Most predictive models are focused on pre-match bets on the winner of the match, because It is for this type of rates that the most available historical data on coefficients is available, which allows for the most complete assessment of the effectiveness of the predictive model. <br><br>  Bets on tennis matches can be placed either in bookmaker offices (online and offline), or on betting exchanges.  Traditional bookmakers (for example, Pinnacle) set coefficients for different outcomes of the match, and the client (bettor) plays against the bookmaker.  In the case of betting exchanges (for example, Betfair), customers can bet against odds set by other bettors.  The exchange equalizes the rates of the clients and earns on collecting commissions from each stake that has been played. <br><br><h4><a name="31"></a>  Odds, estimated probability and ROI </h4><br>  The rate coefficient means the profit that the bettor will receive if he correctly guesses the outcome of the event.  For example, if the bettor correctly predicted the victory of a player whose coefficient is 3.00, he will receive $ 2 for each dollar delivered (in addition to the amount of the bet that is returned).  If the bettor‚Äôs prediction is incorrect, he loses only the sum of his bet, regardless of the odds.  There are different systems for recording coefficients, the most popular of which are decimal or European (1.5, 2.00, 2.50, etc.) and fractional or British (1/2, 1/1, 6/4 and t d.) <br><br>  The coefficients express the estimated probability of the outcome of the match, that is, the bookmaker's estimate of the true probability.  In the example described above with a factor of 3.00 (1 to 3), the estimated probability <i>p of</i> a player winning a match is 33%. <br><br>  The table below shows the different systems for recording coefficients and their corresponding probable probabilities. <br><table border="1"><tbody><tr><td>  <b>Decimal (Europe)</b> <br></td><td> <b>Fractional (UK)</b> <br></td><td>  <b>USA</b> <br></td><td>  <b>Hong Kong</b> <br></td><td>  <b>Indonesia</b> <br></td><td>  <b>Malaysia</b> <br></td><td>  <b>Estimated probability</b> <br></td></tr><tr><td>  1.50 <br></td><td>  1/2 <br></td><td>  -200 <br></td><td>  0.50 <br></td><td>  -2.00 <br></td><td>  0.50 <br></td><td>  1 to 1.5 = 67% <br></td></tr><tr><td>  2.00 <br></td><td>  1/1 (evs) <br></td><td>  +100 <br></td><td>  1.00 <br></td><td>  1.00 <br></td><td>  1.00 <br></td><td>  1 to 2 = 50% <br></td></tr><tr><td>  2.50 <br></td><td>  6/4 <br></td><td>  +150 <br></td><td>  1.50 <br></td><td>  1.50 <br></td><td>  -0.67 <br></td><td>  1 to 2.5 = 40% <br></td></tr><tr><td>  3.00 <br></td><td>  2/1 <br></td><td>  +200 <br></td><td>  2.00 <br></td><td>  2.00 <br></td><td>  -0.50 <br></td><td>  1 to 3 = 33% <br></td></tr></tbody></table><br>  Recalculation formulas <br><table border="1"><tbody><tr><td>  <b>X</b> <br></td><td>  <b>Read in</b> <br></td><td>  <b>Act</b> <br></td></tr><tr><td>  Decimal <br></td><td>  Fractional <br></td><td>  x-1, then convert to fraction <br></td></tr><tr><td>  Decimal <br></td><td>  USA <br></td><td>  100 * (x-1) if x&gt; 2;  -100 / (x-1) if x &lt;2 <br></td></tr><tr><td>  Fractional <br></td><td>  Decimal <br></td><td>  split fraction, then x + 1 <br></td></tr><tr><td>  Fractional <br></td><td>  USA <br></td><td>  split the fraction, then 100 * x if x&gt; = 1;  -100 / x if x &lt;1 <br></td></tr><tr><td>  USA <br></td><td>  Decimal <br></td><td>  (x / 100) +1 if x&gt; 0;  (-100 / x) +1 if x &lt;0 <br></td></tr><tr><td>  USA <br></td><td>  Fractional <br></td><td>  x / 100 if x&gt; 0;  -100 / x if x &lt;0 <br></td></tr><tr><td>  Decimal <br></td><td>  Hong Kong <br></td><td>  x-1 <br></td></tr><tr><td>  Hong Kong <br></td><td>  Indonesia <br></td><td>  x if x&gt; = 1;  (1 / x) * - 1 if x &lt;1 <br></td></tr><tr><td>  Hong Kong <br></td><td>  Malaysia <br></td><td>  x if x &lt;= 1;  (1 / x) * - 1 if x&gt; 1 <br></td></tr></tbody></table><br>  Source: <a href="http://en.wikipedia.org/wiki/Sports_betting">Wikipedia</a> <br><br>  Profit for a certain period of time is called return on investment (ROI).  In the case of sports bets, ROI is the percentage of winning from each bet made, averaged over a distance.  The simplified ROI formula for a fixed bet size looks like this: <br> <a href="http://radikal.ru/big/c8e638b6e45b48f78c918aa059d5c3d0"><img src="https://habrastorage.org/getpro/habr/post_images/d58/a32/d7a/d58a32d7a8bcaaffbd9369eade757a25.png"></a> <br>  where <i>P <sub>n</sub></i> is the total profit at a distance, <i>s</i> is the sum of one bet, <i>n</i> is the number of bets (distance).  ROI is the main indicator of bettor's success, and, accordingly, is the target indicator of the effectiveness of the predictive model. <br><br>  Measuring the effectiveness of the model based on the ROI calculated on the historical data of the market rates is a generally accepted approach to research in this area (including in <a href="https://habr.com/ru/post/306944/">[2]</a> , <a href="https://habr.com/ru/post/306944/">[4]</a> , <a href="https://habr.com/ru/post/306944/">[7]</a> ).  If the model accuracy is chosen as the target value (the percentage of correct predictions), then with trivial filtering of matches by low coefficients (1.01-1.3), you can approach the accuracy of 90% or more, but for obvious reasons, the ROI will be negative . <br><br><h4><a name="32"></a>  Betting strategies </h4><br>  Knowing the coefficient and the estimated probability of the outcome of the match, you can make different decisions, how much to bet and whether to bet at all.  Obviously, different strategies end up with a different ROI.  As a rule, three basic strategies are used to assess the effectiveness of the predictive model.  Let be <br>  <i>s <sub>i</sub></i> = bet size on player <i>i</i> <br>  <i>p <sub>i</sub> <sup>bettor</sup></i> - <i><sup>bettor</sup></i> 's estimate of the probability of player's victory <i>i</i> <br>  <i>b <sub>i</sub></i> = net odds on player <i>i</i> , calculated as <i>x-1</i> for decimal notation of coefficients or <i>x / y</i> for fractional notation. <br>  <i>p <sub>i</sub> <sup>implied</sup></i> - the estimated probability of winning player <i>i</i> , calculated as <i>(1 / x) * 100%</i> for the decimal notation <i>x</i> , or as <i>y / (y + x)</i> for the fractional notation <i>x / y</i> . <br><br><h5>  <i>1. Bet on the predicted winner</i> </h5><br>  In the simplest strategy, the bettor always puts a fixed amount of <i>q</i> on the predicted winner: <br> <a href="http://radikal.ru/big/df68719fb01640b28d26256453352d09"><img src="https://habrastorage.org/getpro/habr/post_images/594/4a5/e74/5944a5e74128201eee1972ed4d2a7a9f.png"></a> <br><br><h5>  <i>2. Bet on the predicted winner with a high ratio</i> </h5><br>  Bettor can increase profits by making a fixed bet <i>q</i> only on matches, where he has an advantage over a bookmaker, that is, the bettor‚Äôs probability estimate for player <i>i‚Äôs</i> victory is higher than the probability assumed by the bookmaker‚Äôs coefficient.  In other words, this strategy avoids betting on the predicted winner, unless the coefficient compensates adequately for the risk of the bet. <br> <a href="http://radikal.ru/big/97abdf5a50c14c158884edd96a1fbe12"><img src="https://habrastorage.org/getpro/habr/post_images/bf4/96d/c96/bf496dc96c80899162cd6991c0eba1d8.png"></a> <br><br><h5>  <i>3. Bet on the predicted winner by the Kelly criterion</i> </h5><br>  In the previous strategy, the bettor puts a fixed amount if, in his estimation, he has an advantage over the odds over the bookmaker, regardless of the magnitude of this advantage.  The Kelly criterion, described by John Kelly in 1956 <a href="https://habr.com/ru/post/306944/">[3]</a> , can be used to determine the optimal size of a bet based on the estimated advantage of the bettor and the size of his bank.  It is proved that in the long run, the Kelly criterion turns out to be more effective than all other strategies. <br><br>  Bettor puts a share of the maximum bet q on the predicted winner, if in his estimation he has the advantage: <br> <a href="http://radikal.ru/big/9a6e7c0dce2a443c9f63e09edec51071"><img src="https://habrastorage.org/getpro/habr/post_images/225/248/934/225248934171d0e5c6368f7758b8584b.png"></a> <br><br>  In fact, the maximum bet size <i>q</i> is the percentage of the bettor's bank, which, respectively, changes over time, depending on the success of the previous rates.  When evaluating prognostic models, <i>q is</i> often taken as a constant, so that all bets have the same effect on the resulting ROI. <br><br>  It is important to note that in all three strategies you can not bet on both players.  Also, if at the first strategy you need to bet on each match recommended by the model (provided that the estimated probability is never exactly 0.5), then the second and third strategies assume the omission of some matches. <br><br><h2><a name="4"></a>  Statistical models </h2><br>  Most modern models for predicting tennis use hierarchical stochastic expressions based on Markov chains.  The following is an overview of the underlying concepts. <br><br><h4><a name="41"></a>  Markov models </h4><br>  <a href="https://habr.com/ru/post/306944/">Klaasen and Magnus [1]</a> challenged the IID theory, showing that points in tennis are not distributed independently or in the same way.  However, they also showed that deviations from the IID are so small that the use of this assumption often gives good averages.  This fact suggests that for each point in a match the outcome of this point does not depend on the previous points.  Suppose further that we know the probability of a point being won when each player serves.  Let <i>p</i> be the probability that player <i>A</i> wins a point when serving, <i>q</i> is the probability that player <i>B</i> wins a point at his serving.  Using the assumption of IID and the probability of winning points, we can construct a Markov chain describing the probability of a player winning a game. <br><br>  Formally, a Markov chain is a system of transitions between different states in the state space.  An important property of the system is the lack of memory, that is, the next state of the system depends only on the current state, and not on the preceding sequence of states.  If we take the account in the game for the state space, and for transitions between states - the probability that player A will win or lose a point, we get a Markov chain, reflecting the stochastic progression of the account in the game.  The figure below shows the circuit diagram for a single game with player A.'s feeds. Denoting <i>p as the</i> probability of scoring a point when serving and accepting the IID assumption, we get that all transitions meaning a point won by player A have the same probability, and all transitions meaning lost point, have a probability of <i>1 ‚Äì p</i> . <br> <a href="http://radikal.ru/big/b9e0673daa7a42ad8d75446458b47a66"><img src="https://habrastorage.org/getpro/habr/post_images/ebb/1b9/ee8/ebb1b9ee8f537bd087fd9bb8458dd06a.png"></a> <br>  <i>Markov chain for the game in the match, where player A gives <a href="https://habr.com/ru/post/306944/">[2]</a> .</i> <br><br>  Due to the hierarchical structure of a tennis match, additional Markov chains are built, simulating the progression of points in tiebreaks, sets and matches.  For example, in a match model there will be two outgoing transitions from each inconclusive state, marked by the probabilities of winning and losing an individual set by a player.  Diagrams of such models can be found in <a href="https://habr.com/ru/post/306944/">[4]</a> . <br><br><h4><a name="42"></a>  Hierarchical expressions </h4><br>  Based on the idea of ‚Äã‚Äãmodeling tennis matches using Markov chains, <a href="https://habr.com/ru/post/306944/">Barnett and Clarke [5]</a> and <a href="https://habr.com/ru/post/306944/">O'Malley [6]</a> developed hierarchical expressions of the probability of a certain player's victory in the entire match. <br><br>  Barnet and Clark describe the probability of player A‚Äôs victory in a game when they serve <i>P <sub>game</sub></i> using the following recursive definition: <br> <a href="http://radikal.ru/big/4fdb78654ac74456922623b9e61142bd"><img src="https://habrastorage.org/getpro/habr/post_images/54c/b78/eaf/54cb78eaf1c24ee7f6d8dc650c8e72f6.png"></a> <br><br>  The boundary values ‚Äã‚Äãare as follows: <br> <a href="http://radikal.ru/big/938b193773bf4c248f503d2e4d563b92"><img src="https://habrastorage.org/getpro/habr/post_images/7fc/8c3/55c/7fc8c355cbccaba5c8c06a6ffea6fad5.png"></a> <br><br>  In the above expressions, <i>p</i> is the probability of player A winning a point when serving, <i>x</i> and <i>y</i> are the number of points won, respectively, by players A and B. This expression fully corresponds to the Markov chain in the figure above. <br><br>  Barnet and Clark also define a similar expression for calculating the probability of winning over sets based on the probabilities of winning individual games and tie-breaks (which also depend on the probabilities of winning when serving).  Finally, the probability of winning a match can be calculated using previously defined expressions.  It turns out that the final expression for the probability of winning the match depends only on the probability of scoring when each player submits. <br><br><a name="43"></a><h4>  Estimated probability of winnings when serving </h4><br>  The question remains how to estimate these probabilities of scoring points when serving for matches not yet played.  Barnet and Clark provide a method for estimating such probabilities from historical player statistics: <br> <a href="http://radikal.ru/big/f7fdf847ab2542a7a99cefabf65b6eab"><img src="https://habrastorage.org/getpro/habr/post_images/5f8/507/b17/5f8507b17816c9fd58aef32cd0e0a96d.png"></a> <br>  Where <br>  <i>f <sub>i</sub></i> - percentage of points won when player <i>i serves</i> <br>  <i>g <sub>i</sub></i> - percentage of points won when player <i>i took the</i> ball <br>  <i>a <sub>i</sub></i> - the percentage of the first innings of player <i>i</i> <br>  <i>a <sub>av</sub></i> is the average first serve percentage for all players. <br>  <i>b <sub>i</sub></i> - the percentage of winnings at the first serve of player <i>i</i> <br>  <i>c <sub>i</sub></i> - the winning percentage at the second serve of player <i>i</i> <br>  <i>d <sub>i</sub></i> - the percentage of winnings at the reception of the first serve by player <i>i</i> <br>  <i>e <sub>i</sub></i> - the percentage of winnings at the reception of the second serve by player <i>i</i> <br><br>  So, for a match between players <i>A</i> and <i>B,</i> we can estimate the probabilities of scoring when players <i>A</i> and <i>B</i> serve, respectively, as <i>f <sub>AB</sub></i> and <i>f <sub>BA</sub></i> , using the following equation: <br> <a href="http://radikal.ru/big/3180585cb08a42e79f6f97f2cf466572"><img src="https://habrastorage.org/getpro/habr/post_images/ba9/0d2/33b/ba90d233b510c9859ecb71fc83439a8e.png"></a> <br>  Where <br>  <i>f <sub>t</sub></i> - the average percentage of points won when serving in a tournament <br>  <i>f <sub>av</sub></i> - the average percentage of points won when serving for all players <br>  <i>g <sub>av</sub></i> - the average percentage of points won at the reception for all players <br><br><h4><a name="44"></a>  Modern models </h4><br>  Modern tennis forecasting models are based on the hierarchical stochastic expressions described.  <a href="https://habr.com/ru/post/306944/">Knottenbelt [7]</a> clarified the Barnet model, using to calculate the probability of scoring when submitting only matches with players' common rivals, instead of all past rivals.  This approach allows to reduce the error arising from the fact that players in the past met with rivals of different levels. <br><br>  <a href="https://habr.com/ru/post/306944/">Madurska [4]</a> further expanded the Knottenbelt common contender model, using different probabilities of scoring when serving for different sets.  Thus, the author refused the IID assumption and her model reflects the accumulation of physical fatigue of the player during the match. <br><br>  Knottenbelt‚Äôs overall rival model and Madurski‚Äôs guest model are the most up-to-date statistical models, the authors claim that the ROI for their models was 6.8% and 19.6%, respectively, compared to the 2011 Grand Slam WTA matches market.  The overall opponent model was also tested on a larger and more diverse sample of 2173 ATP matches in 2011 and showed a ROI of 3.8%. <br><br>  <i>To be continued</i> <br><br><h5>  Bibliography </h5><br><a name="01"></a>  1. FJGM Klaassen and JR Magnus.  Are Points in Tennis Independent and Identically Distributed?  Evidence From a Dynamic Binary Panel Data Model.  Journal of the American Statistical Association, 96: 500‚Äì509, 2001. <br><a name="02"></a>  2. M. Sipko.  Machine Learning for the Prediction of Professional Tennis Matches.  Technical report, Imperial College London, London, 2015. <br><a name="03"></a>  3. J. Kelly.  A new interpretation of information rate.  IRE Transactions on Information Theory, 2 (3): 917‚Äì926, 1956. <br><a name="04"></a>  4. AM Madurska.  The Singles Tennis Matches.  Technical report, Imperial College London, London, 2012. <br><a name="05"></a>  5. T. Barnett and SR Clarke.  Combining player statistics to predict outcomes of tennis matches.  IMA Journal of Management Mathematics, 16: 113‚Äì120, 2005. <br><a name="06"></a>  6. JA O'Malley.  Probability Formulas and Statistical Analysis in Tennis.  Journal of Quantitative Analysis in Sports, 4 (2), 2008. <br><a name="07"></a>  7. WJ Knottenbelt, D. Spanias, and AM Madurska.  A common-opponent for professional tennis matches.  Computers and Mathematics with Applications, 64: 3820‚Äì3827, 2012. </div><p>Source: <a href="https://habr.com/ru/post/306944/">https://habr.com/ru/post/306944/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../306928/index.html">Learning OpenGL ES2 for Android Lesson number 3. Lighting</a></li>
<li><a href="../306930/index.html">Find.By - finding & verifying locators</a></li>
<li><a href="../306932/index.html">How we accelerated PHP projects 40 times with caching</a></li>
<li><a href="../306934/index.html">An example of the calculation of the robust controller (H-infinity control)</a></li>
<li><a href="../306940/index.html">Coroutines everywhere</a></li>
<li><a href="../306946/index.html">Lead from the fields: who and how applied qualitative methods in UX Research to develop IT products. Part 1 of 6</a></li>
<li><a href="../306948/index.html">Sign Language Translator: Implementing Support Vector Machines on Intel Edison</a></li>
<li><a href="../306950/index.html">Hackers got access to Telegram user accounts in Iran</a></li>
<li><a href="../306954/index.html">As we NoSQL in "Relation" replicated</a></li>
<li><a href="../306956/index.html">Will Twitter be the second ‚ÄúYahoo!‚Äù</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>