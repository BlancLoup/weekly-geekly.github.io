<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Visiting Odnoklassniki</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Recently, I managed to visit the Riga office of the Odnoklassniki company - I will tell about the office itself a little later, and in this post I wan...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Visiting Odnoklassniki</h1><div class="post__text post__text-html js-mediator-article"> Recently, I managed to visit the Riga office of the <a href="http://habrahabr.ru/company/odnoklassniki/">Odnoklassniki</a> company - I will tell about the office itself a little later, and in this post I want to retell conversations with a number of company employees.  I'll start with <b>Elina Parkhomenko</b> , she is the director of product development. <br><br><img src="https://habrastorage.org/storage1/db1051f3/08bc7632/7d6bcd1c/d7a21b38.jpg" alt="image"><br><br><a name="habracut"></a><br>  Elina and I met in the videoconference hall.  At the very beginning of the conversation, she focused on the fact that she does not participate in deeply systemic things - she is committed to setting the vectors for the development of the project, determining the work of those or other services, and managing development.  However, Habr's audience didn't <a href="http://habrahabr.ru/blogs/office/129654/">ask</a> any technical questions anyway :) 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <img src="https://habrastorage.org/storage1/28db2b10/3dcfdec0/3a0cb13b/c4d5205e.jpg"><br><br><img src="https://habrastorage.org/getpro/habr/post_images/b3e/889/b17/b3e889b1765f9aad0e84f62cd76efbbc.png" alt="image">  <b>Honestly, I almost don‚Äôt have time for ‚Äúmeetings‚Äù on social networks, but before flying out, I visited the site and was very surprised at how it has changed since I used it before.</b>  <b>The site has become more sophisticated, ‚Äúovergrown‚Äù with all sorts of chips - what was the path to such solutions?</b> <br><br>  <b><font color="#ed812b">Elina</font> :</b> I came to work at the company just when everything was ‚Äúsimple‚Äù on the site, but we must understand that without complicating the interface, the emergence of innovations is often simply impossible.  In general, we try to maintain the course of the project and the overall concept - there are several aspects. <br><br>  The first is the social graph.  Everything that is not done is done for the sake of users, for their interaction with each other, for strengthening ties within the graph.  Here it is important not only the development of the graph, but also its growth - the priority is to attract new people from outside.  People are the most important thing. <br><br>  The second is that these people need to be fun and interesting, so that they have an incentive to enter the project. <br><br>  Accordingly, all services are developed from these two considerations. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/b3e/889/b17/b3e889b1765f9aad0e84f62cd76efbbc.png" alt="image">  <b>What do you think keeps people on the site?</b> <br><br>  <b><font color="#ed812b">Elina</font> :</b> As practice shows, users are most in demand at one-on-one conversations with other people, less often - communication in groups.  And in this regard, we are trying to make it so convenient for users to communicate in one form or another - here you will receive both private messages and discussions, ‚Äúguests‚Äù and even proprietary ‚Äúratings‚Äù (a favorite function of users), which often lay the foundation for new dating  These are the functions of the site that we are trying to improve and make more convenient - recently, for example, they made the messages ‚Äúinstantaneous‚Äù so that users receive messages immediately (and, accordingly, remain on the site) rather than after the fact.  From the same "speed" considerations, we made a toolbar, which is always shown in the upper part of the browser - a kind of user dashboard. <br><br>  The same with the content part of the project - people upload photos for the sake of feedback (for example, comments and ratings), so it was logical to make functional uploading of photos and the possibility for their subsequent discussion, without any restrictions. <br><br>  That is, by and large, we help to realize the natural need for communication.  And when users are comfortable and interesting, they remain on the site. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/b3e/889/b17/b3e889b1765f9aad0e84f62cd76efbbc.png" alt="image">  <b>How do you imagine the audience of the project when developing this or that service?</b> <br><br>  <b><font color="#ed812b">Elina</font> :</b> It is very important for us that the service is clear even to the simplest person, not to mention the advanced users.  Therefore, all the services that we launch always have basic functionality that is understandable to absolutely everyone.  This is already in the future, he "acquires ryushki" for narrower audiences, but initially - all for all. <br><br>  Although, as a rule, we do not make radical changes and we haven‚Äôt yet had stories like ‚Äúreturn the wall‚Äù.  Therefore, users are pretty calm about all innovations. <br><br>  By the way, when we launch a new service, at the testing stage we have a special button ‚Äúshare sensations‚Äù - any user can use it to express their opinion on any aspect of innovation.  All calls are tracked and taken into account. <br><br>  <b>And they write a lot?</b> <br><br>  <b><font color="#ed812b">Elina</font> :</b> If you don't like something, then a lot.  But on the contrary, this is good - constructive criticism is not superfluous and we always listen to it.  There are those who are dissatisfied with absolutely everything, and sometimes vice versa - they love us whatever we are. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/b3e/889/b17/b3e889b1765f9aad0e84f62cd76efbbc.png" alt="image">  <b>I heard that over the summer you had more than 50 various releases - how does the process of creating new functions of the site occur?</b>  <b>If someone came up with something interesting (going beyond the current course of development of the project) - what will be the fate of his idea?</b> <br><br>  <b><font color="#ed812b">Elina</font> :</b> We have several managers, each of which, as a rule, has 4-5 interconnected (ideologically or functionally) projects.  Under the creation of each innovation is going to group - taken by programmers, designers, testers.  When the team is formed, the teamwork begins: the idea is discussed, finalized, visualized and begins to be realized. <br><br>  If the innovation is really interesting, we always find him a place in the development plan of the project.  Anyone can offer a function - a user, a technical support employee, or even an administrator. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/b3e/889/b17/b3e889b1765f9aad0e84f62cd76efbbc.png" alt="image">  <b>How is testing new services?</b>  <b>Do you collect any statistics?</b> <br><br>  <b><font color="#ed812b">Elina</font> :</b> At first, everything starts on a virtual machine - by common efforts of the company, we test the strength of the service, look for bugs, fix them, share our impressions.  Make the appropriate amendments. <br><br>  Closer to the release joins the test group to test the load and perception of the product.  And only then - on the production.  Sometimes innovations are launched as an experiment, that is, for a small part of the audience or for the whole, but for a short time.  After that, we carefully study the statistics, loads, reactions in the support service.  If there are no problems, then we launch it definitively - the system is very ‚Äúalive‚Äù, so it is important not to break its components or the connections between them.  Later we monitor the effectiveness of services. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/b3e/889/b17/b3e889b1765f9aad0e84f62cd76efbbc.png" alt="image">  <b>What kind of violations you have to face most often with spam?</b>  <b>How do you fight?</b> <br><br>  <b><font color="#ed812b">Elina</font> :</b> Now we have very little spam now - either we really won it, or THEY are still on vacation;) But unfortunately, we cannot tell you about the methods of dealing with spam. <br><br>  The most frequent violation is all sorts of groups that spread something harmful.  But we managed to defeat them with our response mechanism - a symbiosis of user moderation and the developed algorithms.  Now such groups simply do not have time to "bloom." <br><br><img src="https://habrastorage.org/getpro/habr/post_images/b3e/889/b17/b3e889b1765f9aad0e84f62cd76efbbc.png" alt="image">  <b>That is, you have no army moderators?</b> <br><br>  <b><font color="#ed812b">Elina</font> :</b> Right.  Social responsibility for Odnoklassniki means a lot - we have, of course, moderators, but they simply wouldn‚Äôt pull the whole amount of work.  In this issue, the users themselves, who possess simply unique responsiveness, come to the rescue - apparently, people want their ‚Äúhome‚Äù to be cleaner.  So, for example, all uploaded photos are sent to user moderation for the Nth number of people who are very likely to sift out all ‚Äúsuperfluous‚Äù - now all of our (public) photos are moderated.  Popular moderation is a very important component on our project and in the photos section it works like a clock. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/b3e/889/b17/b3e889b1765f9aad0e84f62cd76efbbc.png" alt="image">  <b>And how many users are involved in this?</b> <br><br>  <b><font color="#ed812b">Elina</font> :</b> More than 5 million.  Imagine if this job was done by several moderators ... <br><br><img src="https://habrastorage.org/getpro/habr/post_images/b3e/889/b17/b3e889b1765f9aad0e84f62cd76efbbc.png" alt="image">  <b>Surely on your way there were ‚Äúfakapy‚Äù or vice versa, ‚Äúsurprises of good luck‚Äù - share some story?</b> <br><br>  <b><font color="#ed812b">Elina</font> :</b> The story about cancellation of paid registration comes to mind when we compensated all the users who paid for it for free with the amount spent by the opportunity to rate ‚Äú5+‚Äù. <br><br>  Then the "wave" covered even undistributed questionnaires - users began to frantically rush through the site, visiting each other and putting the highest score right and left, literally everyone.  Of course, we expected to increase activity, but after an hour due to high load, we had to withdraw a ‚Äúfreebie‚Äù from a number of users and began to distribute it in portions, with a certain interval.  What, as you understand, caused an explosion of applications in the support service: ‚ÄúWhy did they give him fives, but not me ?!‚Äù. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/b3e/889/b17/b3e889b1765f9aad0e84f62cd76efbbc.png" alt="image">  <b>And by the way, what was the main reason for entering paid registration?</b>  <b>Karma fell victim to commonplace monetization or was it a fight against spam?</b> <br><br>  <b><font color="#ed812b">Elina</font> :</b> Before that, there was a lot of spam, fake profiles, bots and other fraud - no one knew how to effectively deal with it.  After the registration was closed, we invented and implemented a number of algorithms that allowed us to get rid of unscrupulous accounts.  And, of course, they came up with a lot of innovations so that the newcomers would be interested in us - all this after the opening of the registration ensured the intensive growth of the project.  Now we have more than 102 million "confirmed" (by phone) grateful users who can safely communicate with each other. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/b3e/889/b17/b3e889b1765f9aad0e84f62cd76efbbc.png" alt="image">  <b>Statistics somewhere you can see?</b> <br><br>  <b><font color="#ed812b">Elina</font> :</b> Yes, we are one of the few who have statistics open on the same LiveInternet.ru.  An average of 20-23 million visitors per day, most of which come from the "bookmarks". <br><br><img src="https://habrastorage.org/getpro/geektimes/post_images/150/60e/00e/15060e00ec98b80d435c99456b1e2ce8.jpg" alt="image"><br><br><img src="https://habrastorage.org/getpro/habr/post_images/b3e/889/b17/b3e889b1765f9aad0e84f62cd76efbbc.png" alt="image">  <b>Tell us a few words about the life of your employees?</b> <br><br>  <b><font color="#ed812b">Elina</font> :</b> Everybody‚Äôs working day starts at different times - usually the people working in a group agree on what time they arrive at the office.  As a rule, it is 10 am, although UI-Schnick come at 8. <br><br>  About 100 people work in the Riga office, 25 of whom are programmers.  The youngest employee (he is a developer) recently turned 20 years old, the most adult (manager and designer) almost 40;  the average age is up to 30. Everyone speaks Russian. <br><br>  Internal culture is not much different from other companies, although there are some features.  So, for example, an initiative comes from our employees to celebrate any events - whether it be a car purchase, a birthday, or the end of a trial period.  The trial period, by the way, is 3 months, but if we see that a person is good and does his job, then we don‚Äôt wait. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/b3e/889/b17/b3e889b1765f9aad0e84f62cd76efbbc.png" alt="image">  <b>Are there any female developers?</b> <br><br>  <b><font color="#ed812b">Elina</font> :</b> Oh, where, where, and we have, not one yet! <br><br><img src="https://habrastorage.org/getpro/habr/post_images/b3e/889/b17/b3e889b1765f9aad0e84f62cd76efbbc.png" alt="image">  <b>What, directly write the code?</b>  <b>What language do they write in?</b> <br><br>  <b><font color="#ed812b">Elina</font> :</b> Like everything in Java!  By the way, there are a lot of female testers, and they very well cope with the performance of their task. <br><br><img src="https://habrastorage.org/storage1/84fdfb53/450e22cd/a6414555/9de21cce.jpg" alt="image"><br><br><img src="https://habrastorage.org/getpro/habr/post_images/b3e/889/b17/b3e889b1765f9aad0e84f62cd76efbbc.png" alt="image">  <b>And how is the integration of new people into the company?</b> <br><br>  <b><font color="#ed812b">Elina</font> :</b> Regardless of which office (Riga, Moscow or St. Petersburg) is meant - the newcomers undergo a kind of training.  Various specialists (as a rule - leading developers, backend programmers and UI-designers) tell the important features of the project - about the basic principles, the architect, the design - we don‚Äôt throw anyone under the tanks.  Moreover, such training can be carried out between offices - we constantly fly to visit each other. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/b3e/889/b17/b3e889b1765f9aad0e84f62cd76efbbc.png" alt="image">  <b>Interesting.</b>  <b>And finally - can you tell us something of your plans for the future?</b> <br><br>  <b><font color="#ed812b">Elina</font> :</b> I can‚Äôt tell you anything concrete - while we are working on optimizing the project so that everything works for everyone and quickly.  We are developing a new mobile application.  Well, in a relatively short time we plan to make a complete redesign. <br><br><h2>  <font color="#ed812b">Architecture</font> </h2><br>  After the conversation with Elina, we met with Andrey, the system administrator of the project - he told us about the changes that had occurred since the March publication.  If you missed - I advise you to read it, if you have forgotten - refresh it in your memory;  most interesting article - <b><a href="http://habrahabr.ru/company/odnoklassniki/blog/115881/">Architecture and Odnoklassniki project platform</a></b> <br><br>  Major changes (&gt;&gt; was / - become): <br><br>  <b>&gt;&gt; Up to 2.8 million users online during peak hours</b> <br>  - Now this figure has increased and is about 3.4 million. <br><br>  <b>&gt;&gt; 7.5 billion requests per day (150,000 requests per second during peak hours)</b> <br>  In billions from memory I will not say, but now the number of requests per second has increased to about 250 thousand. <br><br>  <b>&gt;&gt; Network traffic during peak hours: 32 Gb / s</b> <br>  At the moment, this figure has grown to 52 Gb / s <br><br>  <b>&gt;&gt; 2,400 servers, storage systems</b> <br>  Now the number of servers (and storage devices) has exceeded 3,100. Moreover, if there were three data centers, now there are four - all are located in Moscow.  The channels between the data centers have also been expanded. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/b3e/889/b17/b3e889b1765f9aad0e84f62cd76efbbc.png" alt="image">  <b>Have the server configurations been updated?</b> <br><br>  <b><font color="#ed812b">Andrew</font> :</b> The servers themselves did not update, increased their number.  The average configuration is a dual-socket system with quad-core processors, 1-2 disks and a memory capacity of 8GB.  The concept of backup has not changed. <br><br>  Began to use more memory and more cheap iron.  Especially for storing binary data, since  they launched a new software solution (they were told about it in detail at Highload). <br><br>  From memory: now a maximum of 96GB on the system that serves the user tape.  We install and test 128-192GB on the same system. <br><br>  Regarding the <a href="http://habrahabr.ru/blogs/office/129654/">question</a> about NO-SQL: <br>  1. Recently launched a cluster on ‚ÄúCassandra‚Äù for photo rating service. <br>  2. Launched " <a href="http://habrahabr.ru/blogs/nosql/118036/">Tarantool</a> " + "Voldemort" for the messaging system, where Tarantool is in memory storage, Voldemort is a transport, replication, cluster. <br><br>  Caches: as a cache, a Java solution is used.  The data is stored outside of the Java Heap using the ‚Äúsun.misc.Unsafe‚Äù tool, which avoids problems with the GC. <br><br><h2>  <font color="#ed812b">Support</font> </h2><br>  The next employee of the company, with whom we managed to talk, was the girl <b>Irena</b> , she is the head of technical support service. <br><br><img src="https://habrastorage.org/storage1/8dc28b10/20e427d6/64ffed74/f0dbbe50.jpg" alt="image"><br><br>  Until recently, the caliper received more than 25 thousand hits per day - a huge amount of work.  Moreover, 70-80% of the total number of applications were problems with the password - when someone forgot something and can not remember.  For comparison, on Habr√© now about 150 applications per day, but there almost all questions require an individual approach. <br><br>  <b><a href="http://www.odnoklassniki.ru/dk%3Fst.cmd%3DhelpFaq%26st._aid%3DFatFooter_helpFaq">Reorganization of help and writing a detailed FAQ</a></b> allowed to reduce the number of requests by almost 5 times, while the number of "password recovery" has increased.  Now the volume of work is 7-8 thousand applications per day, which is also quite a lot - all the problems of users are solved by about 30 employees of the company, divided into two "lines".  The first line (7-8 employees working at the same time) is located in Ivanovo and takes the brunt of it (applications that can be answered with a pattern), the second line is located in Riga and is responsible for all other applications. <br><br>  It is noteworthy that among the employees there is a person (girl) who deals exclusively with ... pornography. More precisely, her removal from the resource - yes, it's about the very social responsibility that Elina was talking about.  As I understood from the animated conversation, only lazy did not joke about this topic ... but agree that this girl (and maybe not even one) of Fridays could hold an interesting presentation about her not very dusty work :) <br><br>  Tired but satisfied, we flew home.  When I climbed on Habr, there was a desire to rewrite all the information on the site, which I would be able to facilitate the work of our support service and help new users to get started - I will try to do this in the near future. <br><br>  To be continued. </div><p>Source: <a href="https://habr.com/ru/post/130546/">https://habr.com/ru/post/130546/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../130537/index.html">Kindle updated to 3.3</a></li>
<li><a href="../130542/index.html">Is it time for jQuery to go on a diet?</a></li>
<li><a href="../130543/index.html">Improved Google Calendar interface</a></li>
<li><a href="../130544/index.html">Apple potentially has the ability to block shipments of any Android device in Australia</a></li>
<li><a href="../130545/index.html">ScalaSPB Conference Video</a></li>
<li><a href="../130547/index.html">A little about setting up the VPS and about the script to add users</a></li>
<li><a href="../130551/index.html">Might & Magic Heroes VI - burn in hell!</a></li>
<li><a href="../130552/index.html">Droider Show # 11. Sounds of music</a></li>
<li><a href="../130553/index.html">Gartner estimates the market for data center equipment at $ 99 billion</a></li>
<li><a href="../130554/index.html">CubeStormer II collects the Rubik's Cube in 5 seconds</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>