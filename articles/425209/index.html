<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Sunrise Sun Manually # 2: Hardcore for IDE, Cmake, and my frustration with animals</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="The previous article had the audacity to use CLion as an IDE. And then a man came running with a question: oh, a proprietary paid hack, sold, snickere...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Sunrise Sun Manually # 2: Hardcore for IDE, Cmake, and my frustration with animals</h1><div class="post__text post__text-html js-mediator-article"><p>  The previous article had the audacity to use CLion as an IDE.  And then a man came running with a question: oh, a proprietary paid hack, sold, snickered, and so forth.  In fairness, there was only one such comment on Habr√©, but in reality there are thousands of them.  For example, the <a href="https://www.linux.org.ru/forum/talks/">most</a> active account <a href="https://www.linux.org.ru/forum/talks/">on the ENT</a> , I have been registered since 2010, and in almost every discussion with the participation of some non-free software, this hell begins.  It is clear that I can not prove anything to anyone, but it can help a rare wandering past. </p><br><p>  The article is conditionally divided into two parts: social motivational and technical (how to build CMake in Windows under various IDEs). </p><br><p><img src="https://habrastorage.org/webt/9g/45/pb/9g45pbrivllf4bxi6-yxx3ejxno.png"><br></p><a name="habracut"></a><br><h1 id="otkuda-vsyo-poshlo">  Where did it all come from </h1><br><p>  The article was based on this <a href="https://habr.com/post/424971/">comment from the previous article</a> : "If the podcast is for beginners and non-professionals, then why didn‚Äôt they take into account the IDE license :(" and further on. </p><br><p>  The article was made based on the results of the <a href="https://www.twitch.tv/javawatchnews">stream on Twitch</a> and your feedback on it.  Record is on YouTube.  This article is not a transcript of a podcast, but a product of its comprehension. </p><br><iframe width="560" height="315" src="https://www.youtube.com/embed/y8U8iTrV9PU" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><h1 id="ishodnyy-posyl">  Original message </h1><br><p>  First, let's check the validity of the original assumption: software is expensive.  If you go to the site, it turns out that CLion costs 8.90 bucks a month.  580 rubles.  It is clear that for a person who does not earn a living by programming, this can sometimes show a decent amount that can be spent on something more useful.  Buy food, for example. </p><br><p>  For a professional, everything is completely different, but let's leave this topic.  A journalist differs from an employee of the marketing department of a software or game manufacturer in that he does not promote Party policies, does not take steps to promote a product.  He says it is.  How it all really is, as a journalist truly sees the question.  The same with real evangelists. </p><br><blockquote>  The essence of the phenomena, and the years of the string, <br>  Faces of friends, and masks of enemies, <br>  Clearly visible and unable to hide <br>  From the gaze of the poet - the owner of the ages. <br><br>  The light of distant stars and the beginning of dawn, <br>  Life secrets and love secrets <br>  In a moment of inspiration the sun warmed - <br>  Everything is reflected in the souls of the poet - <br>  In the mirror of the world ... <br><br>  (c) <a href="https://music.yandex.ru/album/5449921/track/41551792">Konstantin Nikolsky, "Mirror of the World"</a> <br></blockquote><p>  If it‚Äôs really interesting how CLion increases your income, you will find who to turn to, and we‚Äôre talking about something else. </p><br><h1 id="tipologiya">  Typology </h1><br><p>  Instead, consider a group of people who are most bombed by closed software. </p><br><p>  As you already understood, I‚Äôm not a sociologist, and I have only the typology that was developed in the heat of forum clashes.  It has only the advantage that it is possible to practically not include the brain by referring a person to a group, looking at the first two comments. </p><br><p>  So, people are: </p><br><ul><li>  Fighters for freedom and Opensorts </li><li>  Honestly mistaken </li><li>  Animals </li></ul><br><p>  I suggest not to consider the variant of the wrong author.  <a href="http://lib.ru/INOFANT/POL/pohl.txt">I am another matter</a> . </p><br><h1 id="borcy-za-svobodu-i-opensorc">  Fighters for freedom and Opensorts </h1><br><p>  The purest and lightest are the fighters for the open source.  I myself am one of those who heard the word "Linux" constantly correcting, <a href="https://en.wikipedia.org/wiki/GNU/Linux_naming_controversy">"not Linux, but GNU / Linux</a> . <a href="https://en.wikipedia.org/wiki/GNU/Linux_naming_controversy">"</a>  The problem is that the real world is never black and white.  We have a certain amount of freedom, and this is a resource that can be used if necessary.  As someone from the Mozilla management joked (or not), ‚Äúwhy do we need credit, if we don‚Äôt spend it?‚Äù. </p><br><p>  Example: there was such a person, Miguel de Icaza.  He made Gnome and had a hand in shaping the GNU / Linux crash as we know it.  And then they kicked him out of the community, and Stallman called him a "traitor of freedom": </p><br><blockquote>  ‚ÄúMiguel de Icaza is essentially a traitor to the Free Software community.  &lt;...&gt; The project is aimed at improving the operation of ostensibly "open-source" programs on the Windows platform;  thus the invaluable time of developers is being led away from free platforms. ‚Äù <br></blockquote><p>  And where is Miguel now?  He and his team are working side by side with one of the greatest projects of recent years ‚Äî transferring .NET to GNU / Linux under permissive licenses.  He truly spent his time. </p><br><p>  On the stream, I killed at least twenty minutes to stumble CMake under Visual Studio Code.  Did not work out.  And in a free, but not free Visual Studio, it came out the first time.  This is exactly what we get so often when trying to use free software: in terms of open source, for obvious reasons, there is no time to think over end-to-end scripts and take care of the whole product.  Thanks to the developers already for having done at least something.  But for us as users, there is still a moral and ethical choice: either choose freedom and spend a lot of time on free software, or, on the contrary, spend our freedom on buying time, which can then be spent on some good deeds. </p><br><p>  Since this question goes beyond the framework of solving technical problems, we will finish here.  A truly ideological person is faithful to his idea. </p><br><h1 id="zhivotnye">  Animals </h1><br><p>  Oh, but from this category I was bombed. </p><br><blockquote>  "The specific features of a person that distinguish him from other animals are erect, highly developed brain, thinking and articulate speech. A person studies and changes himself and the world around him, creates culture and his own history."  (c) <a href="https://ru.wikipedia.org/wiki/%25D0%25A7%25D0%25B5%25D0%25BB%25D0%25BE%25D0%25B2%25D0%25B5%25D0%25BA">Wikipedia</a> . </blockquote><p>  Unfortunately, in talking about IDE it often turns out that the interlocutor is not capable of independent thinking, instead of articulate speech he mumbles "and I‚Äôm already normal" and eats what they give.  Because of the upright approach it is easy to confuse with a person, but make no mistake. </p><br><p>  On these creatures go all who are not hitting.  In the games they sell lutboksy and DLC with nostalgic music.  In editors, they are planted on various anally occupied things, with the aim of tying the patient to a specific environment, ecosystem, and so that the end of the day is that no <a href="https://ru.wikipedia.org/wiki/%25D0%25A4%25D0%25B5%25D0%25BD%25D0%25B0%25D0%25B7%25D0%25B5%25D0%25BF%25D0%25B0%25D0%25BC">phenazepam</a> is needed.  They will eat everything.  <em>"And to me, and so the norm."</em> </p><br><p>  It is important to add that not only marketers drive over the ears, but also just trolls, or natural clinical schizo.  There are many schizo, you will not believe how much. </p><br><p>  For example, remember the manifesto that Nikitonsky recently laid out (more precisely, his translation into Habr): <a href="https://habr.com/post/423889/">My disappointment in software</a> ?  How I bombed it.  I sincerely hope that Nikitonsky wrote all this in order to notably manage, and not really. </p><br><p>  Look what theses are: </p><br><ul><li>  Everything is unbearably slow - a modern phone is more powerful than the computers that sent people to the moon; </li><li>  Everything is HUGE - Android weighs 6 gigabytes; </li><li>  Everything is rotting - old devices do not work or work poorly; </li><li>  In chaos programming, look at the dependency graphs in npm and left-pad. </li></ul><br><p>  Trolling by trolling, but someone may not have known that the size of the source code "that brought a man to the moon," that is, Apollo 11, is such that the author would hardly have wanted to read them. </p><br><p><img src="https://habrastorage.org/webt/rc/uc/fb/rcucfbhz3eka-xvpqmer_ofdnow.jpeg"><br></p><br><p>  That modern OSes define any hardware and have everything in them for every occasion.  That the inactivity of the devices led to a wonderful situation, when the Merssian capitalissists looked and developed iron to the present level, thanks to which we have a mega-device for all occasions in our pocket.  Even towels are not necessary, it is in Google Play.  The mentioned npm permits an ordinary person to write an unimaginable complexity of things that would take years before. </p><br><p>  And all these comrades who ‚Äúwe are giving what they are giving‚Äù suddenly begin to receive mega-ideas from the list above.  Let's spread on IDE: </p><br><ul><li> For applications on Electron (Visual Studio Code, Atom), letters appear on the screen too slowly, whether it is vim or emacs; </li><li>  Eclipse IDE slows down; </li><li>  Generally, Java slows down - along with everything written on it, including NetBeans, IDEA and Clion; </li><li>  Any IDE slow down devour percents just like that; </li><li>  Proprietary - evil; </li><li>  The list goes on. </li></ul><br><p>  This list is already enough to overhaul the roof.  Do not believe any garbage.  If vim is better than Eclipse (or vice versa) in some cases, then this is definitely not because neighbors irradiate the Vimera with a microwave, and aliens abduct Eclipse at night. </p><br><p>  Unfortunately, as a result of long network-based sofa wars, it was precisely established: the dialogue here can be ignored.  Human is human, and animal is animal.  That's the way life is.  The probability that someone will read this article and come to its senses is extremely small, <a href="https://www.youtube.com/watch%3Fv%3Dsz7A2syUUCg">immolate improved</a> . </p><br><h1 id="chestno-zabluzhdayuschiesya">  Honestly mistaken </h1><br><p>  Now we are done with extremes: especially clever of the Stallman sect on the one hand of the spectrum, and not very clever animals on the other, let's talk about ordinary people. </p><br><p>  The first misconception is that we are somehow nailed to an IDE.  It has gone since those times when people used some Delphi 7 and ancient versions of Microsoft Visual Studio.  They say that everything in the Vizualka became good with the project files.  Hello, hello, now in the yard in 2018, slavery is no more. </p><br><p>  To get rid of slavery, we are over given <a href="https://cmake.org/">CMake</a> : a toolset from cross-platform open-source utilities that allows us to build, test, and pack applications. </p><br><p> It still doesn‚Äôt say anything to the newbie and the hands are drawn to the IDE.  All this from fear and misunderstanding of what is happening.  I myself come from Java, and therefore I know well how the eyes of a person, who saw <code>pom.xml</code> for the first time, <code>pom.xml</code> . </p><br><p>  Let's see what the <a href="https://github.com/holy-shit/clion-directx-example">project created last time</a> consists of, and how to build it in all sorts of different IDEs. </p><br><p>  Composition of files: </p><br><ul><li>  <a href="https://github.com/holy-shit/clion-directx-example/blob/master/CMakeLists.txt">CMakeLists.txt</a> </li><li>  <a href="">main.cpp</a> </li><li>  <a href="https://github.com/holy-shit/clion-directx-example/blob/master/shaders.shader">shaders.shader</a> </li></ul><br><p>  The shader is compiled right in <a href="">runtime with the D3DCompile function</a> .  The D3DCompiler from the DirectX SDK (which is now the Windows SDK) works.  No IDE is needed to build it. </p><br><p>  <code>main.cpp</code> is the only file to build.  And it is collected using information that is entirely in <code>CMakeLists.txt</code> . </p><br><p>  In the opposite direction: there is <code>CMakeLists.txt</code> , which tells us what exactly we are going to compile.  It contains the assembly <code>main.cpp</code> .  This is enough to compile the project.  After compilation, an exe-file is obtained, which, after launching, collects both the shader and displays it on the screen.  Everything is very simple, the IDE does not participate in this chain and can be anything. </p><br><p>  IDE is not required.  At all.  What's so incomprehensible? </p><br><h1 id="sborka">  Assembly </h1><br><h2 id="podgotovitelnye-momenty">  Preparatory moments </h2><br><p>  As always, preparation takes almost the most part of the process.  Need to understand a few things. </p><br><p>  It is assumed that everything is done on the basis of Msys2, which we <a href="https://habr.com/post/424971/">installed last time</a> .  If this is not the case, you will have to clear it up yourself :) </p><br><h3 id="kak-ustanovit-cmake-i-ninja">  How to install CMake and Ninja </h3><br><p>  To be able to collect something, you must install CMake, if you have not done it yet. </p><br><ul><li>  Downloading from the site: <a href="https://cmake.org/download/">https://cmake.org/download</a> .  I have cmake-3.12.2-win64-x64; </li><li>  We unpack and add the path to the place where cmake.exe is located in the Windows environment variable PATH; </li><li>  Download <a href="https://github.com/ninja-build/ninja/releases">the latest</a> ninja generator from the site; </li><li>  Unpack and also put somewhere in PATH. </li></ul><br><h3 id="kak-redaktirovat-path-chtoby-ne-poehat-kukuhoy">  How to edit PATH, not to go kukhukha </h3><br><p>  The first method is known to all: win + pause -&gt; Advanced system settings -&gt; Advanced -&gt; Environment variables.  Unfortunately, even in Windows 10, in which the editor of the variable PATH was added, it is still not very convenient. </p><br><p>  If you often click on a PATH, using a standard editing window is very irritating.  I advise you to use the <a href="https://www.rapidee.com/en/about">Rapid Environment Editor</a> - it is free and saves a lot of nerves. </p><br><h3 id="kak-podklyuchat-dll-iz-mingw-v-rezhime-razrabotki">  How to connect DLL from MinGW in development mode </h3><br><p>  The application has started, dll files are needed from at least <code>mingw64\bin</code> . </p><br><p>  Unfortunately, I still could not find a really convenient solution for throwing libraries from MinGW to PATH.  If any sage in the comments can tell, I will be very grateful. </p><br><p>  Now the easiest place is to put the MinGW bin directory directly in first place in the PATH.  (In the case of Visual Studio, you can simply jot libraries into the build directory.) Unfortunately, this method has a huge disadvantage: some of the software in Windows begins to fall off immediately after modifying the PATH.  For example, I have stopped running Overwatch, and this is a completely fatal thing. </p><br><p>  If you, like me, live in a computer, and not only turn it on during business hours, the following scheme is suggested: add MinGW to PATH before programming and remove it afterwards.  To facilitate the process, you need to make two batch files that can be launched by double clicking: </p><br><p>  before.bat: </p><br><pre> <code class="hljs tex">setx path "Z:<span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">msys</span></span></span></span>64<span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">mingw</span></span></span></span>64<span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">bin</span></span></span></span>;<span class="hljs-comment"><span class="hljs-comment">%path%"</span></span></code> </pre> <br><p>  after.bat: </p><br><pre> <code class="hljs pgsql">setx <span class="hljs-type"><span class="hljs-type">PATH</span></span> "%PATH:Z:\msys64\mingw64\bin;=%"</code> </pre><br><h3 id="kak-podklyuchat-dll-v-rezhime-testovogo-reliza">  How to connect a DLL in the "test release" mode </h3><br><p>  It is clear that the previous method works only while <code>mingw64\bin</code> is in the PATH, that is, only on the developer's computer.  And even there, I do not always want to disfigure the PATH.  If an ordinary person starts it (or ourselves after running after.bat), then something like this will happen: </p><br><img width="400" src="https://habrastorage.org/webt/d2/ka/-b/d2ka-bup2zcih2chipoohkcj6u8.png"><br><p><img width="400" src="https://habrastorage.org/webt/tf/ia/zh/tfiazhyj4f-f_-omq2tojpkykmk.png"><br></p><br><p>  The easiest way to solve this problem is to put the necessary dll next to the executable file.  But for this you need to know which dll are used! </p><br><p>  We already have some Microsoft-made utilities for this. </p><br><ul><li>  It would be possible to view the full list of the running application <a href="https://docs.microsoft.com/en-us/sysinternals/downloads/listdlls">using ListDLLs</a> , but it does not show what is not loaded yet. </li><li>  If you do Tools -&gt; Visual Studio Command Prompt, <code>dumpbin /dependents "Z:\game\build\Mingw64-Debug\src.exe"</code> , then it will only show the dll of the first level.  In other words, if you dump only what dumpbin prompts, then after launch there will still be errors - they will just be about other DLLs. </li></ul><br><p>  To run through dependencies in depth, <a href="https://github.com/mpreisler/mingw-bundledlls">there is such a script</a> that can be executed directly from the command line (msys2, cygwin, etc. - it‚Äôs enough to install python2 / 3 and objdump inside). </p><br><ul><li>  Download the mingw-bundledlls script, </li><li>  Put next to the executable, </li><li>  In a text editor in the array <code>blacklist = [</code> add our pieces of DirectX: <code>d3d10.dll, d3d11.dll, d3dcompiler_43.dll</code> , </li><li>  <code>chmod 755 ./mingw-bundledlls</code> , </li><li>  To view used dll: <code>./mingw-bundledlls ./src.exe</code> (well, any file that is more interesting for you), </li><li>  To automatically copy and put next: <code>./mingw-bundledlls --copy ./src.exe</code> </li><li>  PROFIT: the executable is launched just by double-clicking on the exe-file, and from Visual Studio. </li></ul><br><p>  There are still various tricky ways to make CMake copy the dll itself, but if you start to delve into the distribution issues, then you can never finish this article. </p><br><h1 id="sborka-vruchnuyu">  Manual build </h1><br><ul><li>  before.bat </li><li>  Start -&gt; Run -&gt; cmd.exe </li><li> <code>cd /dz://game/src</code> </li> <li> <code>cmake -G "Ninja" -D EXECUTABLE_OUTPUT_PATH="bin" -D CMAKE_CXX_COMPILER="Z:/msys64/mingw64/bin/g++.exe" -D CMAKE_C_COMPILER="Z:/msys64/mingw64/bin/gcc.exe" .</code> </li> <li>  ninja </li><li>  Run the file generated in the bin immediately, or enclose the dll according to the instructions above and run after.bat </li></ul><br><p>  We said that we were not tied to the IDE at all. </p><br><h1 id="sborka-v-visual-studio">  Build in Visual Studio </h1><br><p>  But still, developing without IDE is not the case.  Last time, we already built a test application using CLion.  But this is paid proprietarism and zashkvar, right?  Forget it.  Now only free. </p><br><p>  In Visual Studio, the sequence of necessary actions is super simple. </p><br><ul><li>  before.bat </li><li>  Launch Visual Studio; </li><li>  File -&gt; Open -&gt; CMake; </li><li>  Select CMakeLists.txt; </li><li>  See some time thinking and displaying the project; </li><li>  Main menu -&gt; Cache -&gt; Generate -&gt; project name; </li><li>  We look at the Output and correct the errors (for example, I swore at the version of CMake, I had to drop to 3.11 instead of 3.12); </li><li>  Main menu -&gt; CMake -&gt; Change CMake Settings (select MinGW64-Debug); </li><li>  The project autogenerates the CMakeSettings.json file.  We indicate there the path to MinGW (I had this in the previous video "Z: \ msys64 \ mingw64"), save the file; </li><li>  Main menu -&gt; Cache -&gt; Generate -&gt; CMakeLists.txt; </li><li>  Main menu -&gt; Cache -&gt; Generate -&gt; project name; </li><li>  If everything is done correctly, an item with the name of the project will appear in the Select a valid startup item menu (next to the green arrow to launch the application); </li><li>  We start. </li></ul><br><p>  As in the case of the console, you can start right this way (remembering that MinGW is in the PATH), or run after.bat and put the necessary DLLs according to the instructions.  The DLL must be placed directly in the directory where the application is going.  It can be specified in the buildRoot parameter in the CMakeSettings.json file. </p><br><p>  So, gentlemen, the most important thing: from Visual Studio, everything compiles perfectly and runs.  We said that we were not tied to a commercial IDE. </p><br><h1 id="sborka-v-visual-studio-code">  Build in Visual Studio Code </h1><br><p>  Unfortunately, Visual Studio is still proprietary closed software.  We need to move to something more free, and this is Visual Studio Code. </p><br><p>  First funny amindfack.  If you run VSCode on a monitor with a large zoom (I‚Äôm at home sitting at the TV, for example), then the VSCode interface will turn into a mess.  To prevent this from happening, you need to run it with the key <code>--force-device-scale-factor</code> (make a shortcut on the desktop, or something like that). </p><br><p>  Unfortunately, I still haven't mastered the PATH management for VSCode, so the only way to start it is to modify the PATH using before.bat and another hack, which I will describe below. </p><br><p>  Next you need to configure VSCode. </p><br><ul><li>  Install CMake Tools: View -&gt; Extensions -&gt; enter "CMake Tools" in the search, press install against the package that the author of vector-of-bool did. </li><li>  View -&gt; Explorer -&gt; Open Folder (select the directory with our project); </li><li>  Command Palette (CP, shortcut Ctrl + P) -&gt; "&gt; CMake: Scan for Kits"; </li><li>  Choose our "GCC 8.2.0", even to which it leads to the right place, where msys2 is installed or what you use there; </li><li>  File&gt; Preferences&gt; Settings; </li><li>  Go to the User Settings tab; </li><li>  Click on the three points in the upper right corner of the panel, and from the menu select "Open settings.json"; </li><li>  Add the following options: </li></ul><br><pre> <code class="hljs kotlin"><span class="hljs-string"><span class="hljs-string">"cmake.configureOnOpen"</span></span>: <span class="hljs-literal"><span class="hljs-literal">true</span></span>, <span class="hljs-string"><span class="hljs-string">"terminal.integrated.shell.windows"</span></span>: <span class="hljs-string"><span class="hljs-string">"D:/msys64/usr/bin/bash.exe"</span></span>, <span class="hljs-string"><span class="hljs-string">"terminal.integrated.shellArgs.windows"</span></span>: [ <span class="hljs-string"><span class="hljs-string">"-i"</span></span> ], <span class="hljs-string"><span class="hljs-string">"terminal.integrated.env.windows"</span></span>: { <span class="hljs-string"><span class="hljs-string">"PATH"</span></span>: <span class="hljs-string"><span class="hljs-string">"/mingw64/bin;/usr/local/bin;/usr/bin;/bin;Z:/msys64/bin/;Z:/msys64/usr/local/bin;Z:/msys64/usr/bin;Z:/msys64/bin;Z:/msys64/mingw64/bin/;%PATH%"</span></span> }, <span class="hljs-string"><span class="hljs-string">"cmake.buildDirectory"</span></span>: <span class="hljs-string"><span class="hljs-string">"</span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${workspaceRoot}</span></span></span><span class="hljs-string">/build/</span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${buildType}</span></span></span><span class="hljs-string">"</span></span>, <span class="hljs-string"><span class="hljs-string">"cmake.clearOutputBeforeBuild"</span></span>: <span class="hljs-literal"><span class="hljs-literal">true</span></span>, <span class="hljs-string"><span class="hljs-string">"cmake.generator"</span></span>: <span class="hljs-string"><span class="hljs-string">"Ninja"</span></span>, <span class="hljs-string"><span class="hljs-string">"cmake.cmakePath"</span></span>: <span class="hljs-string"><span class="hljs-string">"C:\\my\\opt\\cmake-3.12.2-win64-x64\\cmake-3.12.2-win64-x64\\bin\\cmake.exe"</span></span>, <span class="hljs-string"><span class="hljs-string">"cmake.mingwSearchDirs"</span></span>: [ <span class="hljs-string"><span class="hljs-string">"Z:/msys64/mingw64"</span></span>, ], <span class="hljs-string"><span class="hljs-string">"cmake.preferredGenerators"</span></span>: [ <span class="hljs-string"><span class="hljs-string">"Ninja"</span></span> ], <span class="hljs-string"><span class="hljs-string">"cmake.loggingLevel"</span></span>: <span class="hljs-string"><span class="hljs-string">"debug"</span></span></code> </pre> <br><ul><li>  The build should happen automatically, and the build will be added to the <code>build</code> directory.  If this does not happen, you need to click on the <code>Build</code> button with the gear in the status line with a mouse. </li></ul><br><p>  It is clear that there you need to directly specify the path to mingw and cmake.  "But I have the same PATH!"  Just specify, please, this will solve a whole complex of problems. </p><br><p>  There is, however, one exclusive way to not trash yourself PATH. </p><br><ul><li> <code>"cmake.generator": "MSYS Makefiles"</code> </li> <li> <code>"cmake.preferredGenerators": [ "MSYS Makefiles"]</code> </li> <li>  Check that MinGW is not in PATH (after.bat); </li><li>  Verify that the build directory was deleted in the project. </li><li>  Start the Msys2 console; </li><li>  <code>export PATH=/z/msys64/mingw64/bin;$PATH</code> (you can then type in some <code>"~/.bashrc"</code> ) </li><li>  From it, run VSCode, for example: <code>"C:\Users\olegchir\AppData\Local\Programs\Microsoft VS Code\Code.exe"</code> </li><li>  And then everything is as before.  The file should normally be generated. </li><li>  When you try to immediately launch it from Windows Explorer by double-clicking, it will instantly lead to DLL search errors - this means that everything is correct, inside VSCode we really use a special PATH, and outside of it it doesn‚Äôt. </li></ul><br><p>  So, we proved that in a free IDE we also can live quite well. </p><br><h1 id="itogi">  Results </h1><br><p>  Summarizing, if you are a normal person, you can use CMake, MinGW and never blow.  Everything is portable between IDEs, everything just works.  We can use any paid, closed, non-free IDE at any time, and we will have nothing for it.  But everyone else will suffer, and rightly so. </p><br><p>  In future articles your opinion will be taken into account.  You can direct questions and offer suggestions in the comments directly <a href="https://www.twitch.tv/javawatchnews">during Tvic</a> stream.  Whether there will be these articles at all depends on how fiercely you play the arrow up under this comment. </p><br><pre> <code class="hljs">                </code> </pre> <br><p>  ¬© Alexander Raevsky </p></div>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <p>Source: <a href="https://habr.com/ru/post/425209/">https://habr.com/ru/post/425209/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../425197/index.html">Costing an IdM implementation project - how to anticipate surprises</a></li>
<li><a href="../425199/index.html">What protects buyers from fraud with contactless payments</a></li>
<li><a href="../425201/index.html">‚ÄúI‚Äôve been struggling with impostor syndrome for three years‚Äù - 10 questions for a programmer, issue 7</a></li>
<li><a href="../425205/index.html">Soft Skills in Project Management: Concept, Goals and Tips for Successful Business Applications</a></li>
<li><a href="../425207/index.html">Design Testing: Top 10 Heisenbug 2018 Piter Reports</a></li>
<li><a href="../425211/index.html">286 and network</a></li>
<li><a href="../425213/index.html">Plans for the next version of Vue.js</a></li>
<li><a href="../425215/index.html">4 tips for optimizing a webpack application</a></li>
<li><a href="../425217/index.html">Resiliency of the application when updating the cluster Cubernetes</a></li>
<li><a href="../425219/index.html">What is mental health: a view from the psychology / psychotherapy</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>