<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>How the London Olympics were broadcast through the cloud</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Earlier this year, we announced Windows Azure Media Services . Windows Azure Media Services is a cloud-based PaaS solution that allows you to efficien...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>How the London Olympics were broadcast through the cloud</h1><div class="post__text post__text-html js-mediator-article"> <a href="http://pikucha.ru/i96aT" title="olympics-london.jpeg"><img src="http://pikucha.ru/i96aT/thumbnail/olympics-london.jpeg" alt="olympics-london.jpeg"></a> <br><br>  Earlier this year, we announced <a href="http://weblogs.asp.net/scottgu/archive/2012/04/16/announcing-windows-azure-media-services.aspx">Windows Azure Media Services</a> .  Windows Azure Media Services is a cloud-based PaaS solution that allows you to efficiently build media services and deliver media content to your customers.  The solution offers a set of ready-to-use services that allow you to quickly receive media material, encode, convert formats, store, protect content and deliver video in a live format or on demand.  Windows Azure Media Services also supports content delivery to any device or platform, including: HTML5, Silverlight, Flash, Windows 8, iPad, iPhone, Android, Xbox and Windows Phone. <br><br><h3>  Windows Azure Media Services and the 2012 London Olympics </h3><br>  Over the past few weeks, Windows Azure Media Services has been used to deliver real-time and on-demand video streaming to several broadcasters that broadcast the Olympic Games.  Among them: France T√©l√©visions, RTVE (Spain), CTV (Canada) and Terra (Central and South America).  In collaboration with deltatre, Southworks, gskinner and Akamai, we helped deliver more than 2,300 hours of live video and HD content of the Olympic Games to more than 20 countries. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Below you will find some details about how these companies used Windows Azure Media Services to provide excellent video delivery and broadcast. <br><a name="habracut"></a><br><h4>  Automating Media Delivery Workflows with Channels </h4><br>  Windows Azure Media Services supports the concept of channels that can be used to bundle several functions of media services together into a single logical workflow (workflow) for live video transmission and broadcast on demand.  Channels can be programmed and managed through the REST API, which allows companies broadcasting and publishing videos to easily integrate their existing automation platforms with Windows Azure Media Services.  For the London Olympics, companies used the channel model to coordinate live video streaming and on-demand workflows through the FastForward video system and deltatre‚Äôs Forge content management tools. <br><br><h4>  Download live video streaming Olympiad </h4><br>  Live video streams for Olipyada were published by <a href="http://www.obs.es/">Olympic Broadcasting Services</a> (OBS), a media broadcasting organization created by the International Olympic Committee (IOC) to deliver video streams to consumer companies.  OBS in London delivered all content in 1080i HD video.  Video streams were compressed with the H.264 codec with a bitrate of 17.7 Mbps, embedded in MPEG-2 transport streams and distributed via multicast via UDP by companies like the deltatre.  After that, the deltatre recoded each 1080i stream to eight different bit rates for Smooth Streaming, starting at 150 kbps (336x192 resolution) and up to 3.45 Mbps (1280x720) and publishing the streams to Windows Azure Media Services. <br><br>  To ensure high reliability from failures, video streams were published simultaneously in several Windows Azure data centers located in different corners of the globe.  The streams were then consumed by the channels defined in Windows Azure Media Services and routed to the video hosting instances, which had already published live video on the web.  To ensure content distribution, the Akamai HD CDN network was used: <br><br><img title="clip_image001" alt="clip_image001" src="http://blogs.msdn.com/cfs-file.ashx/__key/communityserver-blogs-components-weblogfiles/00-00-01-44-06-metablogapi/1411.clip_5F00_image001_5F00_2C466EAE.png" width="624" height="161"><br><br><h4>  Streaming for all clients and devices </h4><br>  For the 2012 London Games, we used a streaming video model based on Smooth Streaming.  For browsers, we delivered Smooth Streaming streams for both Silverlight and Flash clients.  For devices, we delivered Smooth Streaming for iOS, Android, and Windows Phone 7. Using the advantages of universal support for the H.264 standard and the AAC codec, we were able to encode the content only once and deliver it for all devices in single streams.  The deltatre company used the <a href="http://www.microsoft.com/en-us/mediaplatform/sspk.aspx">iOS Smooth Streaming SDK</a> toolkit distributed for iPhone and iPad by the Windows Azure Media Services service and the Smooth Streaming SDK for Android tools developed by <a href="http://www.nexstreaming.com/eng/">Nexstreaming</a> . <br><br>  A key innovation of Media Services for these Olympic Games was the development of Flash-based SDK tools for native support for playing Smooth Streaming.  Working with Flash experts from gskinner.com, the Windows Azure Media Services team developed a native ActionScript SDK for delivering Smooth Streaming to Flash.  This allowed broadcasters to benefit from a single Smooth Steaming platform for all Silverlight, Flash, iOS, Windows Phone and Android platforms. <br><br>  Below you can see photos of various devices with the live stream of the Olympics video: <br><br>  <em>Samsung Galaxy playing Smooth Streaming</em> <br><img title="clip_image002" alt="clip_image002" src="https://habrastorage.org/getpro/habr/post_images/894/472/f70/894472f70f3b49d78bf9cf8bda34adf6.png" width="284" height="213"><br><br>  <em>iPad 3 playing back Smooth Streaming</em> <br><img title="clip_image003" alt="clip_image003" src="https://habrastorage.org/getpro/habr/post_images/12c/eb7/3f3/12ceb73f364ad922a3ccc774c83bc8f8.png" width="285" height="214"><br><br>  <em>Nokia Lumia 800 playing Smooth Streaming</em> <br><img title="clip_image004" alt="clip_image004" src="https://habrastorage.org/getpro/habr/post_images/18f/f39/181/18ff39181979dc228186e5370bdd0cc3.png" width="292" height="155"><br><br>  <em>France TV's Flash player using Smooth Streaming</em> <br><img title="clip_image005" alt="clip_image005" src="https://habrastorage.org/getpro/habr/post_images/6f9/cda/d52/6f9cdad5213928b60ca0e651c1b83f8e.png" width="281" height="164"><br><br><h4>  Benefits of Windows Azure Media Services </h4><br>  During the Olympics, broadcasters needed power to broadcast an average of 30 live video streams 15 hours a day for 17 days.  In addition to live streams, content was created on demand and delivered 24 hours a day to more than 20 countries - which generally means millions of hours of video consumed. <br><br>  Without Window Azure Media Services, broadcasters would have to: <br><br><ol><li>  Buy / rent infrastructure for computing, data storage and networking </li><li>  Deploy your own video processing architecture </li><li>  Link together the new infrastructure and the existing one to organize a single workflow. </li><li>  Independently deploy and run the architecture in several different data centers for high fault tolerance </li><li>  Pay for energy, air conditioning, administration and support staff 24 hours a day 7 days a week </li></ol><br>  The power and flexibility of the Windows Azure Media Services platform is here and in full force.  Broadcasters were able to take advantage of the cloud technologies that allowed them to install and configure live and on-demand broadcasting with just a few lines of code.  In just a few minutes, all the necessary services, network routing, and storage resources were deployed and configured within Windows Azure ‚Äî ready to receive and send content to a large audience. <br><br>  Online delivery of content for events of such magnitude as the Olympics is a difficult task, when problems with the network, hardware, and even human errors can put the broadcast at risk.  The Windows Azure Media Services platform offers automated layers of fault tolerance and redundancy, which are usually unattainable or too expensive with traditional implementation on your own infrastructure or on the basis of simple cloud services.  In particular, Windows Azure Media Services offer redundant services for consuming, producing, storing, and distributed data caching ‚Äî along with the ability to take advantage of this at various data centers, thus achieving high availability for solutions with the ability to automatically recover from failures. <br><br><h4>  Automatic streaming video </h4><br>  The key principle of Windows Azure Media Services (and the Windows Azure platform as a whole) is the full automation of all actions.  Below is pseudo-code that illustrates how to create a new channel in Windows Azure Media Services that can be used for live HD video broadcast to millions of users: <br><br><pre><code class="hljs pgsql">// <span class="hljs-keyword"><span class="hljs-keyword">connect</span></span> <span class="hljs-keyword"><span class="hljs-keyword">to</span></span> the service: var WAMSLiveService = <span class="hljs-built_in"><span class="hljs-built_in">new</span></span> WAMSLiveService(serviceUri); // <span class="hljs-keyword"><span class="hljs-keyword">Then</span></span> you give us <span class="hljs-keyword"><span class="hljs-keyword">some</span></span> details <span class="hljs-keyword"><span class="hljs-keyword">on</span></span> the channel you want <span class="hljs-keyword"><span class="hljs-keyword">to</span></span> <span class="hljs-keyword"><span class="hljs-keyword">create</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">like</span></span> its <span class="hljs-type"><span class="hljs-type">name</span></span> etc. var channelSpec = <span class="hljs-built_in"><span class="hljs-built_in">new</span></span> ChannelSpecification() { <span class="hljs-type"><span class="hljs-type">Name</span></span> = ‚ÄúSwimming Channel‚Äù; Eventname = ‚Äú<span class="hljs-number"><span class="hljs-number">100</span></span> Meter Final‚Äù; } // Save it. WAMSLiveService.AddtoChannelSpecifiations(channelSpec); WAMSLiveService.SaveChanges(); // <span class="hljs-keyword"><span class="hljs-keyword">Create</span></span> <span class="hljs-keyword"><span class="hljs-keyword">all</span></span> the necessary Azure infrastructure <span class="hljs-keyword"><span class="hljs-keyword">to</span></span> have a fully functioning, high performance, HD adaptive bitrate Live Channel WAMSLive.Service.<span class="hljs-keyword"><span class="hljs-keyword">Execute</span></span>&lt;string&gt;(<span class="hljs-built_in"><span class="hljs-built_in">new</span></span> Uri(‚ÄúAllocateChannel?channelID =<span class="hljs-number"><span class="hljs-number">55</span></span>‚Äù));</code> </pre> <br>  During the London Olympics, broadcasters were able to write code like this to quickly automate the creation of dozens of live HD streams without the need for manual installation or configuration. <br><br>  When working with any automated system that works with real-time data, especially one that ensures the operation of the Olympics, when video streams are started and stopped very often, it is critically important to be able to live monitoring.  For these purposes, Southworks has built a web service control panel, which reported on vital indicators of video coding, channel operation and data flow to Akamai nodes, using Windows Azure Media Services REST API.  Broadcasters had the opportunity to use this service to monitor the vital parameters and the quality of their decisions. <br><br><h4>  Live video and video on demand </h4><br>  The key advantage of Windows Azure Media Services is that the video is immediately available for replay both during live broadcast and after it (with full DVR features).  For example, if a user has connected to a live broadcast that has already started some time ago, he can immediately rewind the video to the beginning of the event and start watching the event first or go to one of the notable episodes of the event, marked in the player with markers. <br><br><img title="clip_image006" alt="clip_image006" src="https://habrastorage.org/getpro/habr/post_images/2ec/4bb/3c3/2ec4bb3c338234385000964ee1c41af9.png" width="624" height="27"><br><br>  In addition, Windows Azure Media Services allows you to make an instant transition from live to on-demand broadcast.  When an event ends in real time, a full video on demand is created on the server.  There is no delay between the transition, which allows the user who missed the live broadcast to immediately start watching videos on demand. <br><br><h4>  Editing and inserting live video </h4><br>  Broadcasters need a solution that allows them to easily cut and create real-time key video moments from thousands of hours of live video streaming.  Windows Azure Media Services has deep integration with the Microsoft Media Platform Video Editor, a browser-based video editor that can work with live or on-demand video content.  This integration allows editors to quickly create an insertion of a key video moment for a couple of minutes of the event without having to load or save video materials locally, as well as broadcast these inserts from already prepared materials located on CDN nodes.  New features that have been added to the editor for broadcasters: support for USB-wheel, dynamic sound change, panning, locking tracks, support for multiple audio tracks. <br><br><img title="clip_image007" alt="clip_image007" src="https://habrastorage.org/getpro/habr/post_images/a9d/44e/9c9/a9d44e9c90f6852b0249d98191876c5e.png" width="555" height="374"><br><br>  In addition to creating key points, the video editor was integrated with Windows Azure Media Services for encoding inserts for publishing them to mobile clients and third-party video distribution sites like YouTube.  For example, CTV used YouTube (in Canada) to expand access to the audience and in this case, the key points were encoded in 4Mbps VBR H.264 format, downloaded and published directly to YouTube from Windows Azure Media Services. <br><br>  Every day, the Olympics have thousands of coding tasks running in Windows Azure Media Services workflows.  This system allowed our customers to create and modify their content publishing workflows without thinking about supporting equipment for a large number of computing processes.  The Windows Azure Media Services platform offered a scalable mechanism that automatically responded to load peaks, handled power consumption, and prioritized the need for a large amount of video encoding. <br><br><h3>  Conclusion </h3><br>  The Windows Azure Media Services platform allows broadcasters to use substantially better and more reliable online broadcasting experience.  Windows Azure Media Services offers a flexible set of functions that include: consumption, storage, encoding, production, monitoring and delivery, which can be used to create highly scalable workflows for live video broadcasting and on-demand content delivery.  These cloud services solve the problem of building video feeds while still offering a higher level of reliability and availability for more devices. <br><br>  Currently, Windows Azure Media Services are available as previews - you can find more information on how to use them <a href="http://www.windowsazure.com/en-us/develop/net/how-to-guides/media-services/">here</a> .  The workflow feature for accessing content on demand is available today to anyone who signs up for a preview.  The functions of workflows for organizing live broadcasts that were used at the Olympics are now available as a private preview.  Customers who are interested in testing this preview can join by writing to mediaservices@microsoft.com.  Over time, these functions will become publicly available. <br><br>  Any work related to the Olympics is a difficult matter, responsibility and desire to win.  I would like to thank all the people in the Windows Azure and Windows Azure Media Services product teams and the Developer &amp; Platform Evangelism group, our external development partners, and most importantly, the broadcasters for their contribution to the success of the Olympics.  This event is a huge success story of the experience that will be applied in the future. </div><p>Source: <a href="https://habr.com/ru/post/150115/">https://habr.com/ru/post/150115/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../150108/index.html">When is the best time to hold technical conferences?</a></li>
<li><a href="../150109/index.html">How I learned to program myself in 8 weeks</a></li>
<li><a href="../150110/index.html">Webasyst Photo: an application for organizing and publishing photos</a></li>
<li><a href="../150111/index.html">Presented a working prototype of Khovbika</a></li>
<li><a href="../150112/index.html">Loading currency rates into the R / 3 system using ABAP</a></li>
<li><a href="../150116/index.html">Black Isle Studios revived</a></li>
<li><a href="../150118/index.html">Hard prioritization, or the first 5 steps to an excellent application for Windows 8. Functionality</a></li>
<li><a href="../150119/index.html">Tesla's laboratory will be turned into a museum - with the help of crowdfunding almost a million dollars was collected</a></li>
<li><a href="../150120/index.html">How to conduct business in the dark light of a crisis of confidence?</a></li>
<li><a href="../150121/index.html">Option to migrate FreeBSD from a physical server to a VMware ESXi virtual environment using NFS</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>