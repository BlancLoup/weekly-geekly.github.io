<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>AOP or how to write your bike for analytics</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="In large projects, when implementing the event tracking logic, one often faces the problem of code contamination with calls to tracking methods, the i...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>AOP or how to write your bike for analytics</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/files/613/78d/054/61378d054e774a619ea2f1a181f4173c.jpg" alt="image" align="left"><br>  In large projects, when implementing the event tracking logic, one often faces the problem of code contamination with calls to tracking methods, the inconvenience of explicitly associating objects with events, and supporting these events when models or ui behavior change. <br><br>  Due to the reasons described above, it occurred to me to write my own solution, which, of course, will not go further than my git repository and this article. <br><br>  Who is not afraid of reflection and slow code - please under the cat. <br><a name="habracut"></a><br>  <b>Maybe not needed?</b> 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      In product applications, how many times they tap on this button or how low the list is scrolled depends on the development of the application as a product, its external interface and functionality. <br>  Because of this, the code begins to cut method calls for tracking events that are scattered throughout the view and still take into account the state of certain objects. <br>  I want to make the addition of new events less painful and solve several problems <strike>taken from the air</strike> with which I had to face. <br><br>  I want to achieve the following: <br>  1) The minimum amount of code for a new event; <br>  2) The minimum amount of code in the view; <br>  3) Convenient system of binding objects to events. <br><br>  The decision is based on annotations, reflections and aspects. <br>  To implement the aspect of our application, I will use AspectJ.  It is an aspect-oriented extension for the Java language.  At the moment this is probably the most popular AOP engine. <br>  By the way, this engine was developed by the very people who proposed the paradigm of aspects. <br><br>  <b>How it works</b> <br>  To intercept a call of methods necessary to us we create the class marked as <b>@Aspect</b> . <br>  We create a connection point with our methods and create a method marked <b>@Around</b> that will be executed on the connection point.  AspectJ is functionally rich and supports a large number of options for slicing points and tips, but this is not about that now. <br><br><pre><code class="java hljs"><span class="hljs-meta"><span class="hljs-meta">@Aspect</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ViewEventsInjector</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> String POINTCUT_METHOD = <span class="hljs-string"><span class="hljs-string">"execution(@com.makarov.ui.tracker.library.annotations.ViewEvent * *(..))"</span></span>; <span class="hljs-meta"><span class="hljs-meta">@Pointcut</span></span>(POINTCUT_METHOD) <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">methodAnnotatedWithViewEvent</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ } <span class="hljs-meta"><span class="hljs-meta">@Around</span></span>(<span class="hljs-string"><span class="hljs-string">"methodAnnotatedWithViewEvent()"</span></span>) <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> Object </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">joinPoint</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(ProceedingJoinPoint joinPoint)</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">throws</span></span></span><span class="hljs-function"> Throwable </span></span>{ MethodSignature ms = (MethodSignature) joinPoint.getSignature(); Method method = ms.getMethod(); Object object = joinPoint.getThis(); Object[] arg = joinPoint.getArgs(); <span class="hljs-comment"><span class="hljs-comment">/*  ,                */</span></span> Object result = joinPoint.proceed(); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> result; } }</code> </pre> <br><br>  <b>Implementation</b> <br><br>  Abstract for observable view <br><pre> <code class="java hljs"><span class="hljs-meta"><span class="hljs-meta">@Retention</span></span>(RetentionPolicy.RUNTIME) <span class="hljs-meta"><span class="hljs-meta">@Target</span></span>({ ElementType.FIELD }) <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-meta"><span class="hljs-meta">@interface</span></span> LoggerView { <span class="hljs-function"><span class="hljs-function">String </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">value</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span>; }</code> </pre><br>  The annotation parameter is the name of the view element for more convenient reading of events / logs. <br><br>  As a result, after initialization, we have a Map in which the id view of the elements tracked by us lie. <br><br>  Interception of events falls entirely on the shoulders of aspects. <br>  We will focus on annotations, which we have marked the methods of view events. <br><br>  The logic is as follows: <br>  1) Intercept the method call; <br>  2) Find its handler, which we added to the map with all possible method handlers; <br>  3) Find by the parameters of the annotation all the objects that need to be traced; <br>  4) Create an Event object from our received data; <br>  4) Save the event. <br><br>  Annotation for the methods on which our events will be hung: <br><br><pre> <code class="java hljs"><span class="hljs-meta"><span class="hljs-meta">@Retention</span></span>(RetentionPolicy.CLASS) <span class="hljs-meta"><span class="hljs-meta">@Target</span></span>({ ElementType.CONSTRUCTOR, ElementType.METHOD }) <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-meta"><span class="hljs-meta">@interface</span></span> ViewEvent { String[] value(); }</code> </pre><br>  To unify the models that we want to bind to our events, we introduce the interface that the model must implement: <br><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">interface</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">LoggingModel</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-function"><span class="hljs-function">Map&lt;String, String&gt; </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getModelLogState</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span>; }</code> </pre><br>  Interface implementation example: <br><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Artist</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">implements</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">LoggingModel</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> String mId; <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> String mName; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Artist</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(String id, String name)</span></span></span></span>{ mId = id; mName = name; } <span class="hljs-comment"><span class="hljs-comment">/* ... */</span></span> <span class="hljs-meta"><span class="hljs-meta">@Override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> Map&lt;String, String&gt; </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getModelLogState</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ Map&lt;String, String&gt; logMap = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> HashMap&lt;&gt;(); logMap.put(<span class="hljs-string"><span class="hljs-string">"artistId"</span></span>, mId); logMap.put(<span class="hljs-string"><span class="hljs-string">"artistName"</span></span>, mName); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> logMap; } }</code> </pre><br><br>  <b>Putting it all together</b> <br><br>  Well, finally we collect all this and in a few annotations we begin to track the events we need. <br><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">MainActivity</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">AppCompatActivity</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">implements</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">View</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">OnClickListener</span></span></span><span class="hljs-class">, </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">TextWatcher</span></span></span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> String TAG = MainActivity.class.getSimpleName(); <span class="hljs-meta"><span class="hljs-meta">@LoggerView</span></span>(<span class="hljs-string"><span class="hljs-string">"first button"</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> Button button; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> Button button2; <span class="hljs-meta"><span class="hljs-meta">@LoggerView</span></span>(<span class="hljs-string"><span class="hljs-string">"test editText"</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> EditText editText; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> Artist artist = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Artist(<span class="hljs-string"><span class="hljs-string">"123"</span></span>, <span class="hljs-string"><span class="hljs-string">"qwe"</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> Track track = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Track(<span class="hljs-string"><span class="hljs-string">"ABS"</span></span>); <span class="hljs-meta"><span class="hljs-meta">@Override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">protected</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">onCreate</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Bundle savedInstanceState)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">super</span></span>.onCreate(savedInstanceState); setContentView(R.layout.activity_main); <span class="hljs-comment"><span class="hljs-comment">/*  view  */</span></span> ViewEventsInjector.init(); ViewEventsInjector.inject(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>); } <span class="hljs-meta"><span class="hljs-meta">@Override</span></span> <span class="hljs-meta"><span class="hljs-meta">@AttachState</span></span>({<span class="hljs-string"><span class="hljs-string">"artist"</span></span>,<span class="hljs-string"><span class="hljs-string">"track"</span></span>}) <span class="hljs-meta"><span class="hljs-meta">@ViewEvent</span></span>(ViewEventsTracker.CLICK) <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">onClick</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(View v)</span></span></span><span class="hljs-function"> </span></span>{ Log.d(TAG, <span class="hljs-string"><span class="hljs-string">"method onClick - "</span></span> + v.getId()); } <span class="hljs-meta"><span class="hljs-meta">@Override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">beforeTextChanged</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(CharSequence s, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> start, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> count, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> after)</span></span></span><span class="hljs-function"> </span></span>{ } <span class="hljs-meta"><span class="hljs-meta">@Override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">onTextChanged</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(CharSequence s, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> start, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> before, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> count)</span></span></span><span class="hljs-function"> </span></span>{ } <span class="hljs-meta"><span class="hljs-meta">@Override</span></span> <span class="hljs-meta"><span class="hljs-meta">@AttachState</span></span>({<span class="hljs-string"><span class="hljs-string">"artist"</span></span>}) <span class="hljs-meta"><span class="hljs-meta">@ViewEvent</span></span>(ViewEventsTracker.AFTER_TEXT_CHANGED) <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">afterTextChanged</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Editable s)</span></span></span><span class="hljs-function"> </span></span>{ Log.d(TAG, <span class="hljs-string"><span class="hljs-string">"afterTextChanged"</span></span>); } }</code> </pre><br>  Run the project, try tapping the button, then enter something in the text field. <br><br>  And we see our long-awaited logs, without a single line of logic in the presentation. <br><br><pre> <code class="markdown hljs">07-13 13:52:16.406 D/SimpleRepositoryÔπï Event{nameView='fist button', nameEvent='onClick', mModelList=[Artist@52a30ec8, Track@52a31040], methodParameters = null, mDate = Mon Jul 13 13:52:16 EDT 2015} 07-13 13:52:24.254 D/SimpleRepositoryÔπï Event{nameView='textView', nameEvent='afterTextChanged', mModelList=[Artist@52a30ec8], methodParameters= {text = hello}, mDate=Mon Jul 13 13:52:24 EDT 2015}</code> </pre><br>  In my opinion, we even solved a few problems with this simple project engineer and perhaps saved some amount of time for routine activities. <br>  If you spend some more time, you could optimize the logic of the aspect quite well, for example, slightly alter the storage of objects so as not to receive them every time through reflection. <br><br>  If someone suddenly decides to take it and bring this thing to mind, you are welcome <a href="https://github.com/metrolog3005/AopTracker/tree/master">here</a> . </div><p>Source: <a href="https://habr.com/ru/post/262381/">https://habr.com/ru/post/262381/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../262367/index.html">PHP 7 beta 1 released</a></li>
<li><a href="../262371/index.html">Liquid indicator</a></li>
<li><a href="../262373/index.html">Automation of trade: a view of a service engineer. Part two</a></li>
<li><a href="../262375/index.html">The digest of interesting materials for Mobile Developer # 111 (July 6-12)</a></li>
<li><a href="../262377/index.html">Is floating-point normalization needed?</a></li>
<li><a href="../262383/index.html">Manage ReSharper settings in the team</a></li>
<li><a href="../262387/index.html">Databene Benerator - Benefit from it.</a></li>
<li><a href="../262389/index.html">Accelerate angular.js or how not to shoot yourself in the foot</a></li>
<li><a href="../262393/index.html">Video Switch for TV</a></li>
<li><a href="../262395/index.html">Working environment for "lazy" web developers (Vagrant + Scotchbox)</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>