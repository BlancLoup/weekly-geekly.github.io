<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>New Mail.Ru API Features</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="After extensive testing, we launched a whole bunch of innovations in Mail.Ru API for social applications and external sites. 


 JS API and Flash API ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>New Mail.Ru API Features</h1><div class="post__text post__text-html js-mediator-article"><img src="http://img.skitch.com/20100625-jk2tig8y4whqnea6xhp625d29b.png" alt="New Mail.Ru API Features"><br>  After extensive testing, we launched a whole bunch of innovations in Mail.Ru API for social applications and external sites. <br><br><br><h4>  JS API and Flash API </h4>  Now you can make calls to the API directly from the client side of your applications in My World and on external sites.  For this you need to connect and use the JS API. <br><br>  Especially for flash-applications, we developed the Flash API, which makes it easy and convenient to use all the extensive features of the client JS API. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <a name="habracut"></a><br><br><br><h4>  New features for applications and sites </h4>  Together with the advent of client APIs, we have the opportunity to implement many very useful functions, which we did not hesitate to use. <br><br><h6>  Application Installation Request </h6>  Now you can simply call the <a href="http://api.mail.ru/wiki/JS_API">mailru.app.users.requireInstallation</a> method in the client part of the application and say what settings (privileges) you want to receive from the user.  As a result of the method call, the user will be shown the standard application installation dialog with the settings you have requested: <br><br><img src="http://img.skitch.com/20100623-xunybs4kaisknna55fbb4nrueb.png" alt="Application installation"><br><br><h6>  Inviting friends </h6>  The same with invitations.  Now you yourself can, at the right moment, raise the window of inviting friends to the application using the function <a href="http://api.mail.ru/wiki/JS_API">mailru.app.friends.invite</a> <br><br><h6>  Request Settings or Privileges </h6>  If you need some kind of setting that the user has not provided - you can raise the dialog for requesting this privilege using the function <a href="http://api.mail.ru/wiki/JS_API">mailru.common.users.requirePremission</a> and find out the result of the user's choice - whether he provided the requested privilege or not. <br><br><h6>  Record in the Guest Book </h6>  This is a new powerful tool for viral application distribution.  With the help of the guestbook entry you can tell about your application not only to the friends of the current user, but also to any other users of My World, regardless of whether they have the application installed or not. <br><br>  A guest book is a personal user space into which all users of My World can write, unless the owner of the Book has forbidden it.  The guest book is displayed in the user profile under the ‚ÄúWhat's New‚Äù activity tape: <img src="http://img.skitch.com/20100623-g49we7imb96xetd6ebbc4riqk2.png" alt="Guest book"><br><br>  You can invoke the Guest Book entry dialog using the <a href="http://api.mail.ru/wiki/JS_API">mailru.common.guestbook.publish</a> function <a href="http://api.mail.ru/wiki/JS_API">.</a> <br><br>  As parameters, you can pass the user ID to which the record will be added, the title of the record, a description, a picture and up to two action links leading to the application page.  Through these links, you can pass an arbitrary set of parameters, which allows you to implement any business logic for processing users coming through these links. <br><br><h6>  Record in the activity tape What's New </h6>  A new method in the JS API <a href="http://api.mail.ru/wiki/JS_API">mailru.common.stream.publish</a> , which is designed to replace the server call from the stream.publish REST API. <br><br>  The new method has several significant advantages: images for the record are downloaded from your server on the fly, you can specify several action links for the record, the records can be marked as liked and spread deep into the social graph. <br><br><img src="http://img.skitch.com/20100623-f22q4trhky12bf9qfumshr2ppj.png" alt="Activity Tape Dialog"><br><br>  We recommend actively switching to the use of the new method of recording into the Whats New activity tape, as it is more effective for application developers and solves the problem of low-quality content for the Platform.  Since the announcement, the server call stream.publish is declared obsolete and in the future its support for web applications and sites may be terminated, which we will warn in advance. <br><br><h6>  Raising the payment window </h6>  For billing, we also prepared a pleasant update - the new <a href="http://api.mail.ru/wiki/JS_API">mailru.app.payments.showDialog</a> method, called from the client side of the application, allows us to reduce the delay between calling and displaying the payment dialog, as well as programmatically track the progress of the payment.  The dialogue itself is as follows: <br><br><img src="http://img.skitch.com/20100623-q98saaa7imkdym3yw46ck9qm84.png" alt="Payment dialog"><br><br>  Now you can quickly, beautifully and elegantly notify the user about the accrual of purchased gold or the provision of a paid service.  In a word, highly recommended for usage, because it will increase your income! <br><br><h6>  Create a photo album </h6>  Want to create a user photo album for your application?  Or a few?  Not a problem, with the new function <a href="http://api.mail.ru/wiki/JS_API">mailru.common.photos.createAlbum</a> you have the opportunity. <br><br><h6>  Saving photos in a user's album </h6>  Previously, developers could not add photos to the user's album, but now they can - using the <a href="http://api.mail.ru/wiki/JS_API">mailru.common.photos.upload</a> function.  The perfect way for numerous avatar enhancement apps. <br><br>  More information about the use of new features can be found in the documentation: <a href="http://api.mail.ru/wiki/JS_API">JS API</a> , <a href="http://api.mail.ru/wiki/Flash_API">Flash API</a> . <br><br><br><h4>  An example of the simplest application </h4>  In fact, you can start using new features quickly and easily.  The simplest iframe application might look something like this: <br><pre> &lt;html&gt;
 &lt;head&gt;
     &lt;script type = "text / javascript" src = "http://connect.mail.ru/js/loader.js"&gt; &lt;/ script&gt;
 &lt;/ head&gt;
 &lt;body&gt;

 &lt;div id = "sandbox"&gt;
     &lt;button id = "inviteFrineds" type = "button" onclick = "invite ();"&gt; Invite friends &lt;/ button&gt;
     &lt;button id = "stream" type = "button" onclick = "stream ();"&gt; Add an entry to "What's New" &lt;/ button&gt;
 &lt;/ div&gt;


 &lt;script type = "text / javascript"&gt;
     mailru.loader.require ('api', function () {
         mailru.app.init ('your private key from application settings');
         // everything is ready, here you can work with API functions

         // check if the user has the application installed
         if (mailru.session.is_app_user! = 1) {
             // if not installed - call the installation dialog with permission to host the widget
             mailru.app.users.requireInstallation (['widget']);
             return false;
         }
     });


     function invite () {
         mailru.app.friends.invite ();
         return false;
     }

     function stream () {
         mailru.common.stream.publish ({
             'title': 'Title',
             'text': 'Text',
             'img_url': 'http://bitman.me/mailru/demo/img/stream_pic.jpeg',
             'action_links': [
                 {
                     'text': 'action link',
                     'href': document.location.host + '# link1'
                 }
             ]
         });
         return false;
     }
 &lt;/ script&gt;
 &lt;/ body&gt;
 &lt;/ html&gt;
</pre><br><br>  A more complete example is on <a href="http://github.com/mailruapi/api-demo-extralight/blob/master/index.html">github</a> , there is also an example of using the library on an external site. <br><br>  You can create an application or register a site for experiments on the developer portal <a href="http://api.mail.ru/">api.mail.ru</a> <br><br><br><h4>  P.S </h4>  I would like to say a special thank you to all the developers who took an active part in testing new features - without your help, this release would have happened later and would have turned out to be much less quality. <br><br>  If habrasoobshchestva have an interest in the topic of social applications and the integration of social APIs on sites, then we can organize an online conference in Habr√©, where I and other members of our team will answer any questions posed by habrausers.  Write in the comments how interesting it is to you. <br><br>  For bananas, contact app@corp.mail.ru <br><br>  I tried for you Alexey Terekhov from the team Platform@Mail.Ru </div><p>Source: <a href="https://habr.com/ru/post/97226/">https://habr.com/ru/post/97226/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../97218/index.html">26% of iPhone breaks in the first two years of work</a></li>
<li><a href="../97221/index.html">Blue ocean strategy</a></li>
<li><a href="../97222/index.html">Distance measurement in Google Maps Labs</a></li>
<li><a href="../97223/index.html">German Gref about the latest equipment channel "RUSSIA24"</a></li>
<li><a href="../97225/index.html">Copyright: thinking out loud, part 1</a></li>
<li><a href="../97227/index.html">Qt Creator 2.0 + Qt SDK 1.0</a></li>
<li><a href="../97228/index.html">Read more about Profit-Partner.ru</a></li>
<li><a href="../97230/index.html">Less than 1% of Google employees over 40</a></li>
<li><a href="../97231/index.html">Google has reached the hands of the Android graphical interface.</a></li>
<li><a href="../97232/index.html">Arnold principle</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>