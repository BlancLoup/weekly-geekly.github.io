<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Create a proxy checker worth 100 million for a couple of days</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Every day, passions boil around the relatively popular IT department Roskomnadzor. Recently I stumbled upon one not to say that a fresh, but not quite...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Create a proxy checker worth 100 million for a couple of days</h1><div class="post__text post__text-html js-mediator-article">  Every day, passions boil around the relatively popular IT department Roskomnadzor.  Recently I stumbled upon one not to say that a fresh, but not quite forgotten <a href="http://tass.ru/obschestvo/2287851">article</a> about plans for the future.  The point is simple: the RKN announced a tender for the development of a ‚Äúsystem of control over blocking sites‚Äù, hereinafter referred to as ‚ÄúAuditor‚Äù. <br><a name="habracut"></a><br>  <b>In order not to go deep into the essence of the task, I will tear out a fragment of an interview with the head of department, Alexander Zharov, from the article:</b> <br><br><blockquote>  ‚ÄúFour companies are participating in the competition.  Requirements, despite the fact that they are simple, quite tough.  Wins the one who offers the lowest price and the best solution.  The initial contract price is 100 million rubles. ‚Äù  According to the head of the supervisory authority, the Auditor system will allow real-time monitoring of the effectiveness of blocking prohibited sites. </blockquote><br>  <b>Directly the essence of the problem (quote):</b> <br><br><blockquote>  The essence of the probe or program is that, as a regular user, but faster than a simple user, it sends a large number of requests for the entire list of prohibited resources and, by the number of answers, is able to inform the inspector of Roskomnadzor whether the site is blocked. <br></blockquote><br>  Suppose that we are only interested in the final result: the ILV inspector wants to know whether the site is blocked by each of the providers. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      <b>In principle, the task is extremely clear, we will try to find the ‚Äúoptimal solution‚Äù:</b> <br><br>  Let us hypothetically assume that the so-called "Auditor" is a normal proxy checker that receives a server response for a specific proxy.  What we need: <br><br><ol><li>  List of all providers </li><li>  About 10 proxies from each provider </li><li>  List of banned pages (information from the registry) </li></ol><br>  <b>Having these inputs, we can create a proxy checker that will work in 3 stages:</b> <br><br><ol><li>  Downloading the list of prohibited pages from the registry (not many of them, 12,000 according to unofficial data) </li><li>  Getting a server response to each of the IP addresses of all providers </li><li>  Report generation / sending </li></ol><br>  Suppose we have an up-to-date list of all providers, each provider undertakes to allocate 1 proxy from all of its regional data centers.  It is enough to loop through the entire list from the registry of prohibited pages, for each of the provider‚Äôs proxies, and receive an answer for each regional data center.  In the report we will always receive up-to-date information that a particular document gives the correct answer, and the document from the registry is blocked, but to publish negative answers to the report, where you can clearly see which provider and which data center did not restrict access to the prohibited resource. .  Well, based on the generated report, you can already fantasize.  The inspector will see the current information - this is obvious, but this can not be limited.  If you require the provider to give not only the list of proxies for each data center, but also simultaneously send the contact e-mail of the authorized agency responsible for processing the registry, you can automatically inform each provider about non-compliance with technical requirements. <br><br>  In addition, the majority of data centers for each of the providers use the same registry processing system, in which case the provider either fully meets the requirements of Roskomnadzor, or a defect has occurred somewhere, and the data center does not matter at all, I think the problem There will be a global scale across the provider as a whole. <br><br>  However.  To oblige each provider to give a proxy looks too global, although primitive, perhaps this is the task of the Auditor to bypass this need.  But if we talk about the optimization of labor costs, this list is not very helpful for the inspector, so in any case, you need to inform the provider through a report.  Accordingly, if you maintain up-to-date information on each of the providers, you can send a signal to the appropriate department to eliminate the problem. <br><br>  This is a difficult, but rather primitive decision.  Wait until the providers form a list of actual proxy servers for the RKN, there is no way out.  But, judging by the fact that ‚Äúat the initial stage, 700 probes will be installed on the lines of the main telecom operators,‚Äù it is the smallest of all troubles to give the provider to give a proxy! <br><br>  Well, now let's go back to the task and consider the ‚Äúcollective farm‚Äù, but a quick and even more primitive way of obtaining the desired result.  Again, let me remind you of the quotation from the assigned task: ‚Äúthe ILV inspector wants to get information about whether the site is blocked for each of the providers‚Äù. <br><br>  Well, let's imagine that we have a list of all available proxies from Russia.  For example, we have 100,000 of them. We will need 4 stages: <br><br><ol><li>  Check proxy on the definition of the provider </li><li>  Creating a list of unique providers </li><li>  Checking the response of pages from the registry for each of the proxies </li><li>  Formation of the same report </li></ol><br>  Only the first item may seem incomprehensible.  According to him, I will give a detailed answer.  Having a list of available proxies, we can easily identify each or another provider by the hostname of each ip address, besides such solutions are already available.  For example, if you open the 2ip service, you will see information about your IP address: <br><br><img src="https://leto3e.storage.yandex.net/rdisk/64b9fa2e556c68fee2051ed63d833457e0058e4f78247db1e6d708729219f8da/inf/7Be9N5-t1G8GIJoYTTbfctOTN_rRBfhqq3uPQsnyA5BW1_TKSd69yWYiF-7iUHUoLJK-L_dz_MgqpdT2sLjNlQ==?uid=0&amp;filename=2015-10-14%2000-52-42%20%D0%A1%D0%BA%D1%80%D0%B8%D0%BD%D1%88%D0%BE%D1%82%20%D1%8D%D0%BA%D1%80%D0%B0%D0%BD%D0%B0.png&amp;disposition=inline&amp;hash=&amp;limit=0&amp;content_type=image%2Fpng&amp;tknv=v2&amp;rtoken=53596bd4623d4726cadf9eed6b7bb73a&amp;force_default=no&amp;ycrid=na-6ea71305c65da2fec6a33462f33c3ee2-downloader9g" alt="image"><br><br>  As you can see, it is not difficult to determine by your provider‚Äôs IP address.  Accordingly, even using the list of current proxy servers, it is possible in 2 stages to check for polling each proxy for belonging to a provider, group proxies by marking all duplicate providers, well and poll the registry for the maximum possible unique list of providers, where the group will be unique proxy to one or another provider.  Depending on the popularity of the provider, there will be an extended proxy group, but after all, every 12,000 banned pages will be banished through each proxy, and if the problem with popular providers is solved (since the popular provider will have a rather large proxy group, and evenly distribute the answers to all 12 000 documents will be quite realistic), then what to do with the list of those providers, where God forbid only one live proxy is defined?  Do not chase through it the entire list of 12,000 pages. <br><br>  PS Well, in the end, the use of a proxy is quite a ‚Äúcollective farm method‚Äù, it only shows the possibility of implementation.  But do not forget, in most cases, the available proxies - this is someone's botnet, and of course the RNN cannot use the proxy list either. <br><br>  In fact, Roskomnadzor has planned a much more expensive and less optimal way to implement the task.  Although, if the issue of the relevance of blocking sites execution is so acute, it would be safer to still oblige the provider to allocate several proxies from their data centers in order to actually check the responses on a particular resource from the registry of prohibited sites.  In addition, the registry processing center is not tied to the data center, and the registry processing algorithm is most likely global for the entire provider.  This means that the misfires will also be global, which means that we can limit ourselves to the list of providers without additional problems for each data center. <br><br>  This solution looks fast enough and reliable, and most importantly reinvent the wheel and call it a probe to anything.  In addition, the provider will be required to participate in the implementation of any of the options.  It is easier to maintain the relevance of the algorithm on its side, rather than control something on the side of the provider, and it will not take much to implement. </div><p>Source: <a href="https://habr.com/ru/post/268799/">https://habr.com/ru/post/268799/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../268787/index.html">Features of software and hardware firewalls</a></li>
<li><a href="../268789/index.html">HackedSim. Call from any number - fiction or reality?</a></li>
<li><a href="../268791/index.html">How to create a cross-platform Half-Life or "Headcrabs inside your watch"</a></li>
<li><a href="../268793/index.html">We return the auto-login to the Wi-Fi network of the Moscow metro in Android</a></li>
<li><a href="../268795/index.html">Introduction to arrow functions in javascript ES6</a></li>
<li><a href="../268801/index.html">WebGL Oscilloscope</a></li>
<li><a href="../268805/index.html">3CX Softphone got the BLF panel, import from Google and ...</a></li>
<li><a href="../268807/index.html">ZFS on CentOS: work on the bugs</a></li>
<li><a href="../268809/index.html">The task of Alexander Ivanovich Koreyko</a></li>
<li><a href="../268811/index.html">How to protect your company from zero-day attacks</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>