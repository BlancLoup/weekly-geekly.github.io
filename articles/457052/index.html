<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>How to set up a web analytics infrastructure for $ 100 per month</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Sooner or later, almost any company faces the challenge of developing web analytics. This does not mean that you only need to put the Google Analytics...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>How to set up a web analytics infrastructure for $ 100 per month</h1><div class="post__text post__text-html js-mediator-article">  Sooner or later, almost any company faces the challenge of developing web analytics.  This does not mean that you only need to put the Google Analytics code on the site - you need to find the benefit in the data obtained.  In this post I will tell you how to do this as efficiently as possible, spending a little (by the standards of specialized services) money. <br><br><img src="https://habrastorage.org/webt/qq/nl/6k/qqnl6k_u6nzumajp_x5ydgyyjo8.jpeg" alt="image"><br><a name="habracut"></a><br>  My name is Andrey Kolesnichenko, I am the head of the web analytics department at the fintech company ID Finance.  In the company, we constantly monitor many indicators; first of all, conversions at different steps are important for us.  At the beginning, all reporting was by Google Analytics only.  In order to calculate the conversion, we have segmented users and found the share of each segment. <br><br>  Then we went to the reports in Google Docs.  We wrote about it <a href="https://habr.com/ru/company/idfinance/blog/352748/">earlier on Habr√©</a> . <br>  Now we are at the next stage - all reports are based on raw data. <br>  For any analyst, it is they who are important: working with aggregated Google Analytics reports, it is not possible to deeply understand the user's behavior, which greatly affects the quality of analytics. <br>  To obtain such data, you can pay Google Analytics Premium, which costs several million rubles a year.  In this case, we get the raw data in BigQuery.  There are also various services that duplicate Google Analytics data and store it in BigQuery.  But you can do it yourself and less costly way.  Let's start. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h2>  Prepare Front-End </h2><br>  You already have a website and a customized Google Analytics.  Now we need to make small changes to start collecting raw data.  The basic idea is to send the Google Client ID and then upload the data in these sections. <br><br>  First, we need to create three new custom dimension in the Google Analytics interface. <br><br><img src="https://habrastorage.org/webt/0i/sa/iv/0isaivr_aaz6lo5e_dbsgwfxysa.png" alt="image"><br><br>  It is in the context of these custom dimensions that we will download reports from Google Analytics. <br><br><ul><li>  ClientID - user ID </li><li>  SessionID - session identifier </li><li>  HitID - hit identifier </li></ul><br>  Then we have to add these variables to all hits sent to Google Analytics. <br><br><pre><code class="javascript hljs">ga(<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">tracker</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> clientId = tracker.get(<span class="hljs-string"><span class="hljs-string">'clientId'</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> timestamp = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> <span class="hljs-built_in"><span class="hljs-built_in">Date</span></span>().getTime(); ga(<span class="hljs-string"><span class="hljs-string">'set'</span></span>, <span class="hljs-string"><span class="hljs-string">'dimension1'</span></span>, clientId); ga(<span class="hljs-string"><span class="hljs-string">'set'</span></span>, <span class="hljs-string"><span class="hljs-string">'dimension2'</span></span>, clientId + <span class="hljs-string"><span class="hljs-string">'_'</span></span> + timestamp); ga(<span class="hljs-string"><span class="hljs-string">'set'</span></span>, <span class="hljs-string"><span class="hljs-string">'dimension3'</span></span>, clientId + <span class="hljs-string"><span class="hljs-string">'_'</span></span> + timestamp); });</code> </pre> <br>  When sending each hit, dimension2 and dimension3 must be regenerated.  Dimension3 is a hit identifier, so it must be unique.  If you are using GTM, then the principle of adding a custom dimension is the same. <br><br>  Our ClientID is configured at the User level, so using it we can uniquely identify a person.  SessionID is configured at the Session level, according to which we will be able to determine the user's session.  You may notice that we send different SessionIDs each time, but Google will only have one last value.  This value will determine the session. <br><br><h2>  Infrastructure </h2><br>  After setting up the front-end, we need to set up the unloading of raw data. <br><br><ol><li>  We will upload data to Google BigQuery.  To do this, we will need to create a project in the <a href="https://console.cloud.google.com/">Google Cloud Platform</a> .  Even if you are not going to use BigQuery, you still need to create a project to download data by API.  Those who will use the services of Google Cloud, waiting for a nice bonus of $ 300 when binding a card.  For analytics needs a small project will last for at least six months free use. </li><li>  On the <a href="https://console.cloud.google.com/iam-admin/serviceaccounts">console.cloud.google.com/iam-admin/serviceaccounts</a> page, you need to create a service key with which we will use the Google Analytics API and Google BigQuery. </li><li>  Then you need to give this email access to reading Google Analytics. </li><li>  Go to <a href="">console.cloud.google.com/apis/library/analytics.googleapis.com</a> and enable the Google Analytics API </li><li>  Since we will download the data every day, we need a server to perform our tasks.  For this we will use the Google Compute Engine </li></ol><br>  The data flow looks like this: <br><br><img src="https://habrastorage.org/webt/8f/xa/6x/8fxa6xlxq0zogqannrk5ytifwni.png" alt="image"><br><br><h2>  Data export via Google Analytics API </h2><br>  Google Analytics has an API that allows you to download reports.  We will download reports in the context of our parameters.  All scripts are written in python, tell you about the main things: <br><br><div class="spoiler">  <b class="spoiler_title">Export data from Google Analytics to file</b> <div class="spoiler_text"><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">from</span></span> apiclient.discovery <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> build <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> os <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> unicodecsv <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> csv <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> googleapiclient.errors <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> HttpError <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> time SCOPES = [<span class="hljs-string"><span class="hljs-string">'https://www.googleapis.com/auth/analytics.readonly'</span></span>] KEY_FILE_LOCATION = <span class="hljs-string"><span class="hljs-string">'my_key_file.p12'</span></span> SERVICE_ACCOUNT_EMAIL = <span class="hljs-string"><span class="hljs-string">'service_account_email@my-google-cloud-project.iam.gserviceaccount.com'</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ApiGA</span></span></span><span class="hljs-class">(): </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">def</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">__init__</span></span></span><span class="hljs-class">(</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">self</span></span></span><span class="hljs-class">, </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">scopes</span></span></span></span>=SCOPES, key_file_location=KEY_FILE_LOCATION, service_account_email=SERVICE_ACCOUNT_EMAIL, version=<span class="hljs-string"><span class="hljs-string">'v4'</span></span>): credentials = ServiceAccountCredentials.from_p12_keyfile( service_account_email, key_file_location, scopes=scopes) self.handler = build(<span class="hljs-string"><span class="hljs-string">'analytics'</span></span>, version, credentials=credentials) def downloadReport(self, view_id, dim_list, metrics_list, date, page, end_date=None, filters=None): <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> not end_date: end_date = date body = { <span class="hljs-string"><span class="hljs-string">'reportRequests'</span></span>: [ { <span class="hljs-string"><span class="hljs-string">'viewId'</span></span>: view_id, <span class="hljs-string"><span class="hljs-string">'dateRanges'</span></span>: [{<span class="hljs-string"><span class="hljs-string">'startDate'</span></span>: date, <span class="hljs-string"><span class="hljs-string">'endDate'</span></span>: end_date}], <span class="hljs-string"><span class="hljs-string">'dimensions'</span></span>: dim_list, <span class="hljs-string"><span class="hljs-string">'metrics'</span></span>: metrics_list, <span class="hljs-string"><span class="hljs-string">'includeEmptyRows'</span></span>: True, <span class="hljs-string"><span class="hljs-string">'pageSize'</span></span>: <span class="hljs-number"><span class="hljs-number">10000</span></span>, <span class="hljs-string"><span class="hljs-string">'samplingLevel'</span></span>: <span class="hljs-string"><span class="hljs-string">'LARGE'</span></span> }]} <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> page: body[<span class="hljs-string"><span class="hljs-string">'reportRequests'</span></span>][<span class="hljs-number"><span class="hljs-number">0</span></span>][<span class="hljs-string"><span class="hljs-string">'pageToken'</span></span>] = page <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> filters: body[<span class="hljs-string"><span class="hljs-string">'reportRequests'</span></span>][<span class="hljs-number"><span class="hljs-number">0</span></span>][<span class="hljs-string"><span class="hljs-string">'filtersExpression'</span></span>] = filters <span class="hljs-keyword"><span class="hljs-keyword">while</span></span> True: <span class="hljs-keyword"><span class="hljs-keyword">try</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> self.handler.reports().batchGet(body=body).execute() except HttpError: time.sleep(<span class="hljs-number"><span class="hljs-number">0.5</span></span>) def getData(self, view_id, dimensions, metrics, date, filename=<span class="hljs-string"><span class="hljs-string">'raw_data.csv'</span></span>, end_date=None, write_mode=<span class="hljs-string"><span class="hljs-string">'wb'</span></span>, filters=None): dim_list = map(lambda x: {<span class="hljs-string"><span class="hljs-string">'name'</span></span>: <span class="hljs-string"><span class="hljs-string">'ga:'</span></span>+x}, dimensions) metrics_list = map(lambda x: {<span class="hljs-string"><span class="hljs-string">'expression'</span></span>: <span class="hljs-string"><span class="hljs-string">'ga:'</span></span>+x}, metrics) file_data = open(filename, write_mode) writer = csv.writer(file_data) page = None <span class="hljs-keyword"><span class="hljs-keyword">while</span></span> True: response = self.downloadReport(view_id, dim_list, metrics_list, date, page, end_date=end_date, filters=filters) report = response[<span class="hljs-string"><span class="hljs-string">'reports'</span></span>][<span class="hljs-number"><span class="hljs-number">0</span></span>] rows = report.get(<span class="hljs-string"><span class="hljs-string">'data'</span></span>, {}).get(<span class="hljs-string"><span class="hljs-string">'rows'</span></span>, []) <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> row <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> rows: dimensions = row[<span class="hljs-string"><span class="hljs-string">'dimensions'</span></span>] metrics = row[<span class="hljs-string"><span class="hljs-string">'metrics'</span></span>][<span class="hljs-number"><span class="hljs-number">0</span></span>][<span class="hljs-string"><span class="hljs-string">'values'</span></span>] writer.writerow(dimensions+metrics) <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> <span class="hljs-string"><span class="hljs-string">'nextPageToken'</span></span> <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> report: page = report[<span class="hljs-string"><span class="hljs-string">'nextPageToken'</span></span>] <span class="hljs-keyword"><span class="hljs-keyword">else</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">break</span></span> file_data.close()</code> </pre> </div></div><br>  The script downloads API data and writes to the file for the date date.  View_id - view number in google analytics: <br><br><pre> <code class="python hljs">filename = <span class="hljs-string"><span class="hljs-string">'raw_data.csv'</span></span> date = <span class="hljs-string"><span class="hljs-string">'2019-01-01'</span></span> view_id = <span class="hljs-string"><span class="hljs-string">'123123123'</span></span> ga = ApiGA() dims = [<span class="hljs-string"><span class="hljs-string">'dimension1'</span></span>, <span class="hljs-string"><span class="hljs-string">'dimension2'</span></span>, <span class="hljs-string"><span class="hljs-string">'source'</span></span>, <span class="hljs-string"><span class="hljs-string">'medium'</span></span>, <span class="hljs-string"><span class="hljs-string">'campaign'</span></span>, <span class="hljs-string"><span class="hljs-string">'keyword'</span></span>, <span class="hljs-string"><span class="hljs-string">'adContent'</span></span>, <span class="hljs-string"><span class="hljs-string">'userType'</span></span>] metrics = [<span class="hljs-string"><span class="hljs-string">'hits'</span></span>, <span class="hljs-string"><span class="hljs-string">'pageviews'</span></span>, <span class="hljs-string"><span class="hljs-string">'totalEvents'</span></span>, <span class="hljs-string"><span class="hljs-string">'transactions'</span></span>, <span class="hljs-string"><span class="hljs-string">'screenviews'</span></span>] ga.getData(view_id, dims, metrics, date, filename)</code> </pre><br><div class="spoiler">  <b class="spoiler_title">Then we load the data into BigQuery</b> <div class="spoiler_text"><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">from</span></span> google.cloud <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> bigquery client = bigquery.Client() schema = [ bigquery.SchemaField(<span class="hljs-string"><span class="hljs-string">'clientId'</span></span>, <span class="hljs-string"><span class="hljs-string">'STRING'</span></span>), bigquery.SchemaField(<span class="hljs-string"><span class="hljs-string">'sessionId'</span></span>, <span class="hljs-string"><span class="hljs-string">'STRING'</span></span>), bigquery.SchemaField(<span class="hljs-string"><span class="hljs-string">'source'</span></span>, <span class="hljs-string"><span class="hljs-string">'STRING'</span></span>), bigquery.SchemaField(<span class="hljs-string"><span class="hljs-string">'medium'</span></span>, <span class="hljs-string"><span class="hljs-string">'STRING'</span></span>), bigquery.SchemaField(<span class="hljs-string"><span class="hljs-string">'campaign'</span></span>, <span class="hljs-string"><span class="hljs-string">'STRING'</span></span>), bigquery.SchemaField(<span class="hljs-string"><span class="hljs-string">'keyword'</span></span>, <span class="hljs-string"><span class="hljs-string">'STRING'</span></span>), bigquery.SchemaField(<span class="hljs-string"><span class="hljs-string">'adContent'</span></span>, <span class="hljs-string"><span class="hljs-string">'STRING'</span></span>), bigquery.SchemaField(<span class="hljs-string"><span class="hljs-string">'userType'</span></span>, <span class="hljs-string"><span class="hljs-string">'STRING'</span></span>), bigquery.SchemaField(<span class="hljs-string"><span class="hljs-string">'hits'</span></span>, <span class="hljs-string"><span class="hljs-string">'INTEGER'</span></span>), bigquery.SchemaField(<span class="hljs-string"><span class="hljs-string">'pageviews'</span></span>, <span class="hljs-string"><span class="hljs-string">'INTEGER'</span></span>), bigquery.SchemaField(<span class="hljs-string"><span class="hljs-string">'totalEvents'</span></span>, <span class="hljs-string"><span class="hljs-string">'INTEGER'</span></span>), bigquery.SchemaField(<span class="hljs-string"><span class="hljs-string">'transactions'</span></span>, <span class="hljs-string"><span class="hljs-string">'INTEGER'</span></span>), bigquery.SchemaField(<span class="hljs-string"><span class="hljs-string">'screenviews'</span></span>, <span class="hljs-string"><span class="hljs-string">'INTEGER'</span></span>) ] table_id = <span class="hljs-string"><span class="hljs-string">'raw.sessions'</span></span> table = bigquery.Table(table_id, schema=schema) table = client.create_table(table) dataset_ref = client.dataset(dataset_id) table_ref = dataset_ref.table(table_id) job_config = bigquery.LoadJobConfig() job_config.source_format = bigquery.SourceFormat.CSV job_config.skip_leading_rows = <span class="hljs-number"><span class="hljs-number">0</span></span> job_config.autodetect = True <span class="hljs-keyword"><span class="hljs-keyword">with</span></span> open(filename, <span class="hljs-string"><span class="hljs-string">"rb"</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">as</span></span> source_file: job = client.load_table_from_file(source_file, table_ref, job_config=job_config) job.result()</code> </pre></div></div><br>  In order to get all the hits, download the data in the section dimension2, dimension3: <br><br><pre> <code class="javascript hljs">dims = [<span class="hljs-string"><span class="hljs-string">'dimension2'</span></span>, <span class="hljs-string"><span class="hljs-string">'dimension13'</span></span>, <span class="hljs-string"><span class="hljs-string">'pagePath'</span></span>, <span class="hljs-string"><span class="hljs-string">'hostname'</span></span>, <span class="hljs-string"><span class="hljs-string">'dateHourMinute'</span></span>] metrics = [<span class="hljs-string"><span class="hljs-string">'hits'</span></span>, <span class="hljs-string"><span class="hljs-string">'entrances'</span></span>, <span class="hljs-string"><span class="hljs-string">'exits'</span></span>] ‚Ä¶. dims = [<span class="hljs-string"><span class="hljs-string">'dimension3'</span></span>, <span class="hljs-string"><span class="hljs-string">'eventCategory'</span></span>, <span class="hljs-string"><span class="hljs-string">'eventAction'</span></span>, <span class="hljs-string"><span class="hljs-string">'eventLabel'</span></span>] metrics = [<span class="hljs-string"><span class="hljs-string">'eventValue'</span></span>] ‚Ä¶.</code> </pre><br>  At the end, we merge all the data between each other by a sql query.  It turns out something similar to: <br><br><img src="https://habrastorage.org/webt/nv/p5/1k/nvp51kq9h-x3-0zvgutvsy1qut8.png" alt="image"><br><br><h2>  Using </h2><br>  We set up raw data collection in BigQuery, we just need to prepare reports for our conversions.  They are made by simple sql queries.  For reporting, we use Tableau and Google Data Studio. <br><br>  In addition, we have the opportunity to enrich data from google analytics with data from an internal database containing information about applications, issuances, delinquencies, payments, etc. <br>  In addition, Google Cloud allows you to simply set up realtime data streaming, if necessary. <br><br>  The full flow chart for analytical reporting now looks like this: <br><br><img src="https://habrastorage.org/webt/qt/pg/bb/qtpgbbffktyvthyt09i6u2dtamq.png" alt="image"><br><br>  As a result, we managed: <br><br><ul><li>  Make reporting more flexible and convenient </li><li>  Reduce time to resolve conversion issues </li><li>  Build a multi-channel attribution for marketing.  This allows us to distribute the value of the application not only for the latest source, but also for all other sources that led the user to the site. </li><li>  Combine user data in one place </li></ul></div><p>Source: <a href="https://habr.com/ru/post/457052/">https://habr.com/ru/post/457052/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../457038/index.html">Internet of things in Russian. Mining radio broadcast, Helium approach</a></li>
<li><a href="../45704/index.html">iBreath-breathalyzer for iPod</a></li>
<li><a href="../457040/index.html">How to do more as a freelancer and not lose motivation</a></li>
<li><a href="../457042/index.html">Traversing a tree in multiple threads</a></li>
<li><a href="../457050/index.html">First look at Facebook Libra</a></li>
<li><a href="../457054/index.html">Dictionary of promotional metrics. CTR, CPI, CPM, CPC, CR</a></li>
<li><a href="../457056/index.html">Organization of multi-user access to the GIT server</a></li>
<li><a href="../457058/index.html">Conversion of display results into clicks for Google and Yandex in 2019</a></li>
<li><a href="../457060/index.html">Three videos for those who write under iOS</a></li>
<li><a href="../457062/index.html">Cosmonaut Training Center in Star City</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>