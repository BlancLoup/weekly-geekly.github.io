<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Wiring diagrams with LaTeX and TikZ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Sometimes in LaTeX you need to draw a simple electrical circuit. The following is a description of how to do this without using third-party software u...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Wiring diagrams with LaTeX and TikZ</h1><div class="post__text post__text-html js-mediator-article">  Sometimes in LaTeX you need to draw a simple electrical circuit.  The following is a description of how to do this without using third-party software using LaTeX itself.  What will be written further is designed for those who are already familiar with such a vector tool for LaTeX as TikZ.  Otherwise, you must first familiarize yourself with TikZ.  Some information in Russian is <a href="http://habrahabr.ru/post/48260/">here</a> .  Those who are already familiar with TikZ - see under the cat.  These methods of drawing schemes in LaTeX I used in the process of writing a thesis. <br><br>  Such a scheme can be drawn using LaTeX tools: <br><br><img src="https://habrastorage.org/files/5fe/a5f/dde/5fea5fdde4d4434697304dbbf427e7b6.png"><br><a name="habracut"></a><br><h3>  TikZ with a library of circuits </h3><br>  For drawing electrical circuits is a library circuits.  It must be connected in the document preamble using the \ usetikzlibrary command. Additionally, you must specify the tikzpicture environment parameter <br>  circuit ee IEC. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <pre><code class="tex hljs"><span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">usetikzlibrary</span></span></span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">{circuits}</span></span></span></span> <span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">usetikzlibrary</span></span></span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">{circuits.ee}</span></span></span></span> <span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">usetikzlibrary</span></span></span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">{circuits.ee.IEC}</span></span></span></span> <span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">usetikzlibrary</span></span></span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">{circuits.logic.IEC}</span></span></span></span></code> </pre> <br><br>  Schema elements are special types of nodes in this library and are specified as regular TikZ nodes with the \ node command.  Here you need to note that the node text, specified in curly brackets, is always empty for radio elements.  The reference designation and denomination are entered as an info parameter in square brackets.  The point up parameter rotates the component 90 degrees, and the point down parameter rotates 270 degrees. <br><br><pre> <code class="tex hljs"><span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">node</span></span></span></span> (R) [resistor={info={<span class="hljs-formula"><span class="hljs-formula">$R$</span></span>}}] at (2,2) {}; <span class="hljs-comment"><span class="hljs-comment">%   \node (C1) at (3,0) [point up,capacitor={info = $C_1$, info'= 100 }] {}; % </span></span></code> </pre><br>  A complete list of all components is available in the TikZ documentation. <br>  The schematic node is specified by the special contact node, which draws a filled circle. <br><br><pre> <code class="tex hljs"><span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">node</span></span></span></span> (p2) [contact] at (6,-2) {}; <span class="hljs-comment"><span class="hljs-comment">%    x=6, y=-2</span></span></code> </pre><br>  Wires between elements are set as usual in TikZ with the / draw command.  Straight wire is drawn by the command <br><br><pre> <code class="tex hljs"><span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">draw</span></span></span></span> (R1) -- (C1);</code> </pre><br><br>  A wire at an angle of 90 degrees is drawn by the command: <br><br><pre> <code class="tex hljs"><span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">draw</span></span></span></span> (R1) |- (C1);</code> </pre><br><br>  or <br><pre> <code class="tex hljs"><span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">draw</span></span></span></span> (R1) -| (C1);</code> </pre><br><br>  The difference is that in the first case the wire first runs vertically and then horizontally, and in the second case - vice versa. <br><br>  All parameters can be applied to the wires (arrows, line thickness, as well as to normal trajectories. For example, a thick wire with an arrow: <br><pre> <code class="tex hljs"><span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">draw</span></span></span></span> [thick,-&gt;] (R1) -| (C1);</code> </pre><br><br>  Schemes can be combined with any TikZ graphics and, for example, put a graph on the diagram. <br><br>  Now we will consider a small example which is supplied with comments. <br><br><pre> <code class="tex hljs"><span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">documentclass</span></span></span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">[12pt]</span></span></span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">{article}</span></span></span></span> <span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">usepackage</span></span></span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">{mathtext}</span></span></span></span> <span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">usepackage</span></span></span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">[T2A]</span></span></span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">{fontenc}</span></span></span></span> <span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">usepackage</span></span></span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">[koi8-r]</span></span></span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">{inputenc}</span></span></span></span> <span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">usepackage</span></span></span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">[russian]</span></span></span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">{babel}</span></span></span></span> <span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">usepackage</span></span></span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">[pdftex]</span></span></span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">{graphics}</span></span></span></span> <span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">usepackage</span></span></span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">{tikz}</span></span></span></span> <span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">usetikzlibrary</span></span></span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">{circuits}</span></span></span></span> <span class="hljs-comment"><span class="hljs-comment">%  ,  \usetikzlibrary{circuits.ee} %    \usetikzlibrary{circuits.ee.IEC} \usetikzlibrary{arrows} %     \usetikzlibrary{patterns} %    \begin{document} - RLC- \begin{figure}[!h] \begin{center} \begin{tikzpicture}[circuit ee IEC] %   circuit ee IEC \node (in) at (0,0) [contact] {}; %  -  \node (L1) at (1,0) [inductor={info = $L_1$, info'= 47 }] {}; %  - % info -    , info' -  \node (C1) at (3,0) [capacitor={info = $C_1$, info'= 100 }] {}; %  \node (R) at (5,0) [resistor={info = $R_1$, info'= 2 }] {}; %  \node (out) at (6,0) [contact] {}; %   \draw (in) -- (L1) -- (C1) -- (R) -- (out); %  \end{tikzpicture} \end{center} \caption{  } \end{figure} \begin{figure}[!h] \begin{center} \begin{tikzpicture}[circuit ee IEC] \node (R) [resistor={info={$R$}}] at (2,2) {}; %   \node (p1) [contact] at (3,2) {}; %    R   \node (C) [point up, capacitor={info={$C$}}] at (3,1) {}; %    90  \node (p2) [contact] at (3,0) {}; %        \draw [-latex] (p1) -- (5,2); %   , R   \draw [latex-] (0,2) -- (R); \draw (R) -- (p1) -- (C) -- (p2); %   \draw [latex-] (0,0) -- (p2); \draw [-latex] (p2) -- (5,0); \node at (0,1) {}; %    \node at (5,1) {}; %    %       \draw[xshift=60mm,-latex] (0,0) -- (4,0) node [anchor=west] {$\omega$}; %   \draw[xshift=60mm,-latex] (0,0) -- (0,3) node [anchor=south] {$K(\omega)$}; %  Y \draw [very thick,xshift=60mm, y=2cm, x=1cm, declare function={K(\w)=1/sqrt(1+\w^2);}] plot [domain=0:3, samples=10, smooth] (\x,{K(\x)}); %   \end{tikzpicture} \end{center} \caption{RC -    } \end{figure} \end{document}</span></span></code> </pre><br><br>  The result looks like this: <br><br><img src="https://habrastorage.org/files/834/25c/7ad/83425c7adf0546f393f493dbcb16a7b9.png"><br><br><img src="https://habrastorage.org/files/c24/92f/1c2/c2492f1c246346e4bca7d21740e32e72.png"><br><br><h3>  Package circuitikz </h3><br>  The circuitikik package is a further development of the cirtuits library.  The package contains much more components: passive components, transistors, diodes, thyristors, logic gates, transformers.  The circuitikz package is incompatible with the circuits library.  You can not use them together.  Package documentation can be downloaded <a href="http://texdoc.net/show.php%3Fpkg%3Dcircuitikz">here.</a> <br><br>  The circuitikz package connects in the preamble like this: <br><br><pre> <code class="tex hljs"><span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">usepackage</span></span></span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">[europeanresistors,americaninductors]</span></span></span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">{circuitikz}</span></span></span></span></code> </pre><br>  With such parameters, UGOs are obtained closest to our guests. <br><br>  The package defines the special environment in which you want to put the schema: <br><pre> <code class="tex hljs"><span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">begin</span></span></span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">{circuitikz}</span></span></span></span> <span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">end</span></span></span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">{circuitikz}</span></span></span></span></code> </pre><br><br>  Putting this environment inside tikzpicture is not necessary. <br><br>  The ideology of drawing circuits is different from the circuits library.  Components are not nodes, but paths.  To place a single component, you need to create a path with the / draw command.  The rotation of the component is carried out by the orientation of the path.  As an example, consider the circuit of a thyristor phase regulator. <br><br><pre> <code class="tex hljs"><span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">begin</span></span></span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">{circuitikz}</span></span></span></span> <span class="hljs-tag"><span class="hljs-tag">\</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">draw</span></span></span></span> (-1,0) to [sV,l=<span class="hljs-formula"><span class="hljs-formula">$U_c$</span></span>] (-1,2) <span class="hljs-comment"><span class="hljs-comment">%    to [R, l=$R_$,i&gt;_=$I_$] (2,2) %     to [Ty,l={VS},*-,n=VS] (2,0); %  \draw (VS.G) to [R,mirror,l=$R_$,i&lt;_=$I_$] ++(4,0) |- (2,2); \draw (VS.cathode) |- (-1,0); \end{circuitikz}</span></span></code> </pre><br>  The result is the following: <br><br><img src="//habrastorage.org/files/aed/95c/a59/aed95ca59e0e471eb9426eb671562956.png"><br><br><h3>  findings </h3><br>  For drawing circuits in LaTeX, you can use the circuits library for TikZ or the circuitikz package.  I would recommend the last packet just for drawing complex circuits with semiconductor components.  I usually prefer to use the circuits library.  The diagrams made using each of these methods do not look alien in LaTeX, the same font and lines are used as in the rest of the document.  Also, all the illustrations are embedded in the document and everything is stored in a single file. <br><br>  The disadvantage is that large schemes slow down the compilation of the document, since each time they are compiled they are rendered anew.  Also, drawing a scheme with TikZ means takes more time than using visual editors. <br><br>  Resources: <br><ol><li>  More examples of circuitry implemented using TikZ and circuitikz: <a href="http://www.texample.net/tikz/examples/area/electrical-engineering/">www.texample.net/tikz/examples/area/electrical-engineering</a> </li><li>  Circuittikz documentation: <a href="http://texdoc.net/show.php%3Fpkg%3Dcircuitikz">texdoc.net/show.php?pkg=circuitikz</a> </li><li>  List of free software for drawing electrical circuits: <a href="https://en.wikipedia.org/wiki/Wikipedia:WikiProject_Electronics/Programs">https://en.wikipedia.org/wiki/Wikipedia:WikiProject_Electronics/Programs</a> </li></ol></div><p>Source: <a href="https://habr.com/ru/post/250541/">https://habr.com/ru/post/250541/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../250529/index.html">Mobile App Distribution Services for iOS. Part 2: HockeyApp</a></li>
<li><a href="../250531/index.html">Antivirus, Android and x86. Interaction features</a></li>
<li><a href="../250535/index.html">Annual Review: What's new for eBay?</a></li>
<li><a href="../250537/index.html">PIC16F1503. Wheelbarrow for pumping - 3. Power</a></li>
<li><a href="../250539/index.html">Making an online cinema for the blind (WCAG 2.0 AAA)</a></li>
<li><a href="../250545/index.html">Intel¬Æ Graphics Technology. Part II: ‚Äúunload‚Äù calculations on graphics</a></li>
<li><a href="../250549/index.html">The boot server - as a bootable USB flash drive, only the server and the network</a></li>
<li><a href="../250551/index.html">Overview of the site for testing web vulnerabilities OWASP Top-10 for example bWAPP</a></li>
<li><a href="../250553/index.html">February 14 - the day of the programmer</a></li>
<li><a href="../250555/index.html">Putting the glove to determine the position of the hands themselves</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>