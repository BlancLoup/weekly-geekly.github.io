<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>How to create interactive maps</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="An interactive map was recently published showing the demographic changes in Europe from 2001 to 2011 ‚Äî a period for which the most detailed statistic...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>How to create interactive maps</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/files/d8b/48f/7db/d8b48f7db8444f8eba0e7c7803837901.jpg"><br><br>  An interactive map was recently <a href="http://interaktiv.morgenpost.de/europakarte/">published</a> showing the demographic changes in Europe from 2001 to 2011 ‚Äî a period for which the most detailed statistics from each municipality are available.  Using the <a href="https://ru.wikipedia.org/wiki/%25D0%25A2%25D0%25B5%25D0%25BF%25D0%25BB%25D0%25BE%25D0%25BA%25D0%25B0%25D1%2580%25D1%2582%25D0%25B0">color scale</a> indicates the degree of loss or population growth in virtually every point in Europe (with the exception of Russia and the CIS countries) and <a href="https://www.airbnb.ru/s/%25D0%25A1%25D1%2582%25D0%25B0%25D0%25BC%25D0%25B1%25D1%2583%25D0%25BB%3Faf%3D20787839%26c%3Dhabrahabr_post">Turkey</a> . <br><br>  One of the developers of the Airbnb team took part in the work to create this demographic map.  Want to know how to create such a project yourself?  Then welcome under cat. <br><a name="habracut"></a><br><h3>  Prerequisites </h3><br>  For our example, we use the <a href="https://www.airbnb.ru/s/%25D0%2591%25D0%25B5%25D1%2580%25D0%25BB%25D0%25B8%25D0%25BD%3Faf%3D20787839%26c%3Dhabrahabr_post">Berlin</a> <a href="http://www.stadtentwicklung.berlin.de/">data set</a> , which contains information about the buildings and the number of their floors. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      To begin, prepare the working environment: <br><br>  Install <a href="https://www.mapbox.com/tilemill/">Tilemill</a> is a mapping application that allows you to quickly and easily create maps using different data sources. <br><br>  Download ready <a href="">shape ‚Äî a file</a> that already contains the necessary data.  If you have your own data set, then you need to combine them with shape ‚Äî the file.  There are many ways to do this, for example, using the <a href="https://www.mapbox.com/tilemill/docs/guides/joining-data/">Quantum GIS</a> . <br><br>  Get an account on <a href="https://www.mapbox.com/signup/">Mapbox</a> - there is a free tariff with a limit of 50,000 map views. <br><br><h3>  Create a new project </h3><br>  We start by adding a layer on which our map data will be displayed.  Run Tilemill and create a new project. <br><br><img src="https://habrastorage.org/files/4f8/73c/3ef/4f873c3ef4004c18a69f35f6178acfc3.jpg"><br><br>  Now on the left you can see a map of the world, and on the right are some of the rules of <a href="">Carto CSS</a> (the carding language used in TileMill).  Thus, the preview of your map is reflected in the left part of the screen, and in the right part you define styles for its different parts. <br><br><h3>  Data injection </h3><br>  Add our shape ‚Äî a file as a new layer (the layer icon in the lower left corner, Add Layer).  ID is a unique identifier for a layer in a project.  Select <a href="">shape ‚Äî file</a> as the data source and click Save. <br><br><img src="https://habrastorage.org/files/666/83a/051/66683a051d844e42b1a4d8db13628c2d.jpg"><br><br>  Check that everything works fine.  Let's color our shape ‚Äî a file by adding the following lines: <br><br><pre><code class="css hljs"><span class="hljs-selector-id"><span class="hljs-selector-id">#buildings</span></span>{ polygon‚Äî<span class="hljs-attribute"><span class="hljs-attribute">fill</span></span>: green; }</code> </pre> <br>  Using the ‚Äúbuildings‚Äù identifier assigned when adding a layer, we can set the style.  Your card should look like this: <br><br><img src="https://habrastorage.org/files/a4d/5ba/c8a/a4d5bac8a79c4ccf98fa97bcbfb2763c.jpg"><br><br>  In our example, we want to visualize the floors of buildings.  We remove the style of the countries and set the black background of the map. <br><br><pre> <code class="css hljs"><span class="hljs-selector-tag"><span class="hljs-selector-tag">Map</span></span> { background‚Äî<span class="hljs-attribute"><span class="hljs-attribute">color</span></span>: black; }</code> </pre><br>  For the style of the floors of buildings, we can paint only certain objects suitable to us.  In this example, small buildings are painted green, medium-sized ones are orange, and higher ones are painted blue.  You can use any colors you like (in this example, <a href="http://gka.github.io/palettes/">Chroma.js Color Scale Helper was</a> used to select colors). <br><br><pre> <code class="css hljs"><span class="hljs-selector-id"><span class="hljs-selector-id">#buildings</span></span>{ polygon‚Äî<span class="hljs-attribute"><span class="hljs-attribute">fill</span></span>: <span class="hljs-number"><span class="hljs-number">#d4ffdf</span></span>; line‚Äî<span class="hljs-attribute"><span class="hljs-attribute">opacity</span></span>:<span class="hljs-number"><span class="hljs-number">0</span></span>; <span class="hljs-comment"><span class="hljs-comment">/* smaller buildings ‚Äî green */</span></span> [floors = 1]{ polygon‚Äî<span class="hljs-attribute"><span class="hljs-attribute">fill</span></span>: <span class="hljs-number"><span class="hljs-number">#b0f1b8</span></span>; } <span class="hljs-selector-attr"><span class="hljs-selector-attr">[floors = 2]</span></span>{ polygon‚Äî<span class="hljs-attribute"><span class="hljs-attribute">fill</span></span>: <span class="hljs-number"><span class="hljs-number">#8ae393</span></span>; } <span class="hljs-selector-attr"><span class="hljs-selector-attr">[floors = 3]</span></span>{ polygon‚Äî<span class="hljs-attribute"><span class="hljs-attribute">fill</span></span>: <span class="hljs-number"><span class="hljs-number">#5fd36c</span></span>; } <span class="hljs-comment"><span class="hljs-comment">/* smaller buildings ‚Äî orange */</span></span> <span class="hljs-selector-attr"><span class="hljs-selector-attr">[floors = 4]</span></span>{ polygon‚Äî<span class="hljs-attribute"><span class="hljs-attribute">fill</span></span>: <span class="hljs-number"><span class="hljs-number">#fff98f</span></span>; } <span class="hljs-selector-attr"><span class="hljs-selector-attr">[floors = 5]</span></span>{ polygon‚Äî<span class="hljs-attribute"><span class="hljs-attribute">fill</span></span>: <span class="hljs-number"><span class="hljs-number">#f0e759</span></span>; } <span class="hljs-selector-attr"><span class="hljs-selector-attr">[floors = 6]</span></span>{ polygon‚Äî<span class="hljs-attribute"><span class="hljs-attribute">fill</span></span>: <span class="hljs-number"><span class="hljs-number">#e0d500</span></span>; } <span class="hljs-comment"><span class="hljs-comment">/* higher buildings ‚Äî blue */</span></span> <span class="hljs-selector-attr"><span class="hljs-selector-attr">[floors &gt;= 7]</span></span>{ polygon‚Äî<span class="hljs-attribute"><span class="hljs-attribute">fill</span></span>: <span class="hljs-number"><span class="hljs-number">#def3ff</span></span>; } <span class="hljs-selector-attr"><span class="hljs-selector-attr">[floors &gt; 15]</span></span>{ polygon‚Äî<span class="hljs-attribute"><span class="hljs-attribute">fill</span></span>: <span class="hljs-number"><span class="hljs-number">#bbdcfc</span></span>; } <span class="hljs-selector-attr"><span class="hljs-selector-attr">[floors &gt; 30]</span></span>{ polygon‚Äî<span class="hljs-attribute"><span class="hljs-attribute">fill</span></span>: <span class="hljs-number"><span class="hljs-number">#65aef4</span></span>; } <span class="hljs-selector-attr"><span class="hljs-selector-attr">[floors &gt; 60]</span></span>{ polygon‚Äî<span class="hljs-attribute"><span class="hljs-attribute">fill</span></span>: <span class="hljs-number"><span class="hljs-number">#0098f0</span></span>; } }</code> </pre><br>  Now you should see something like this: <br><br><img src="https://habrastorage.org/files/51b/d72/28f/51bd7228f5b34f558fb7bdc057148729.jpg"><br><br><h3>  Add interactivity </h3><br>  You can extract data from the attribute table and display it on the map using prompts / pop-ups.  In our example, we want to display a pop-up window with a hint on the number of floors of the building.  To enable this feature, you need to click on the hand icon in the lower left corner and select ‚ÄúTeaser‚Äù.  Now we need to define the layer (‚Äúbuildings‚Äù) on which we want to maintain interactivity, and add ‚Äúfloors‚Äù in the section ‚ÄúContent to be shown on hover‚Äù. <br><br><img src="https://habrastorage.org/files/02f/aa7/b06/02faa7b0683f454fb42891c5f589fdf2.jpg"><br><br>  After saving the project, when you hover the cursor on the building will pop up a window with information. <br><br><h3>  Export mbtiles </h3><br>  Interactivity can be exported to the MBTiles format, specifically designed for storing maps and the ability to access them online and offline. <br><br>  But before we export our layer, set a transparent background. <br><br><pre> <code class="css hljs"><span class="hljs-selector-tag"><span class="hljs-selector-tag">Map</span></span> { background‚Äî<span class="hljs-attribute"><span class="hljs-attribute">color</span></span>: transparent; }</code> </pre><br>  In the end, the code should look like this: <br><br><pre> <code class="css hljs"><span class="hljs-selector-tag"><span class="hljs-selector-tag">Map</span></span> { background‚Äî<span class="hljs-attribute"><span class="hljs-attribute">color</span></span>: transparent; } <span class="hljs-selector-id"><span class="hljs-selector-id">#buildings</span></span>{ polygon‚Äî<span class="hljs-attribute"><span class="hljs-attribute">fill</span></span>: <span class="hljs-number"><span class="hljs-number">#d4ffdf</span></span>; line‚Äî<span class="hljs-attribute"><span class="hljs-attribute">opacity</span></span>:<span class="hljs-number"><span class="hljs-number">0</span></span>; <span class="hljs-comment"><span class="hljs-comment">/* smaller buildings ‚Äî green */</span></span> [floors = 1]{ polygon‚Äî<span class="hljs-attribute"><span class="hljs-attribute">fill</span></span>: <span class="hljs-number"><span class="hljs-number">#b0f1b8</span></span>; } <span class="hljs-selector-attr"><span class="hljs-selector-attr">[floors = 2]</span></span>{ polygon‚Äî<span class="hljs-attribute"><span class="hljs-attribute">fill</span></span>: <span class="hljs-number"><span class="hljs-number">#8ae393</span></span>; } <span class="hljs-selector-attr"><span class="hljs-selector-attr">[floors = 3]</span></span>{ polygon‚Äî<span class="hljs-attribute"><span class="hljs-attribute">fill</span></span>: <span class="hljs-number"><span class="hljs-number">#5fd36c</span></span>; } <span class="hljs-comment"><span class="hljs-comment">/* smaller buildings ‚Äî orange */</span></span> <span class="hljs-selector-attr"><span class="hljs-selector-attr">[floors = 4]</span></span>{ polygon‚Äî<span class="hljs-attribute"><span class="hljs-attribute">fill</span></span>: <span class="hljs-number"><span class="hljs-number">#fff98f</span></span>; } <span class="hljs-selector-attr"><span class="hljs-selector-attr">[floors = 5]</span></span>{ polygon‚Äî<span class="hljs-attribute"><span class="hljs-attribute">fill</span></span>: <span class="hljs-number"><span class="hljs-number">#f0e759</span></span>; } <span class="hljs-selector-attr"><span class="hljs-selector-attr">[floors = 6]</span></span>{ polygon‚Äî<span class="hljs-attribute"><span class="hljs-attribute">fill</span></span>: <span class="hljs-number"><span class="hljs-number">#e0d500</span></span>; } <span class="hljs-comment"><span class="hljs-comment">/* higher buildings ‚Äî blue */</span></span> <span class="hljs-selector-attr"><span class="hljs-selector-attr">[floors &gt;= 7]</span></span>{ polygon‚Äî<span class="hljs-attribute"><span class="hljs-attribute">fill</span></span>: <span class="hljs-number"><span class="hljs-number">#def3ff</span></span>; } <span class="hljs-selector-attr"><span class="hljs-selector-attr">[floors &gt; 15]</span></span>{ polygon‚Äî<span class="hljs-attribute"><span class="hljs-attribute">fill</span></span>: <span class="hljs-number"><span class="hljs-number">#bbdcfc</span></span>; } <span class="hljs-selector-attr"><span class="hljs-selector-attr">[floors &gt; 30]</span></span>{ polygon‚Äî<span class="hljs-attribute"><span class="hljs-attribute">fill</span></span>: <span class="hljs-number"><span class="hljs-number">#65aef4</span></span>; } <span class="hljs-selector-attr"><span class="hljs-selector-attr">[floors &gt; 60]</span></span>{ polygon‚Äî<span class="hljs-attribute"><span class="hljs-attribute">fill</span></span>: <span class="hljs-number"><span class="hljs-number">#0098f0</span></span>; } }</code> </pre><br>  To export the layer to mbtiles, you need to click ‚ÄúExport‚Äù in the upper right corner and select ‚ÄúMBTiles‚Äù.  You will have to wait for the data to be rendered.  If you cannot define a layer, use the following settings to export the map: <br><br><ul><li>  Zoom: 9 - 13 </li><li>  Center: 13.3944,52.5141,10 </li><li>  Bounds: 13.0621,52.3475,13.7089,52.6734 </li></ul><br>  At the end of the process, save * .mbtiles. <br><br><h3>  Download on MapBox </h3><br>  Take the .mbtiles file and <a href="https://www.mapbox.com/uploads/">upload it to your Mapbox account</a> .  After loading a new layer, find it on the ‚ÄúData‚Äù tab in your account.  Now create a new project with this layer: <br><br><img src="https://habrastorage.org/files/1da/649/961/1da6499618da4be98c473642745ce04f.jpg"><br><br>  If you do not see the map, use the search bar.  Save the map and a copy of the ID (you can find it in the section ‚ÄúProject‚Äù -&gt; ‚ÄúInfo‚Äù). <br><br><h3>  Web ‚Äî application </h3><br>  To display the map in the browser, we use <a href="https://www.mapbox.com/mapbox.js/api">Mapbox.js</a> , because it already includes the ‚Äúgrid‚Äù layer to describe the interaction of the data, in which we need to display the number of floors.  You can also use <a href="http://leafletjs.com/">Leaflet</a> in combination with the <a href="https://github.com/danzel/Leaflet.utfgrid">utfgrid Plugin</a> . <br><br><img src="https://habrastorage.org/files/9ee/a9c/792/9eea9c79287b4d6bbf998481632da6f5.jpg"><br><br>  For starters, you can use this template code.  It loads the map and shows the number of floors in the console when you hover over the buildings.  Just change the passkey and ID card. <br><br><pre> <code class="html hljs xml"><span class="hljs-meta"><span class="hljs-meta">&lt;!DOCTYPE html&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">html</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">head</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">meta</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">charset</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">utf‚Äî8</span></span></span><span class="hljs-tag"> /&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">title</span></span></span><span class="hljs-tag">&gt;</span></span>Map example<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">title</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">meta</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">'viewport'</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">content</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">'initial‚Äîscale=1,maximum‚Äîscale=1,user‚Äîscalable=no'</span></span></span><span class="hljs-tag"> /&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">src</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">'https://api.tiles.mapbox.com/mapbox.js/v2.2.1/mapbox.js'</span></span></span><span class="hljs-tag">&gt;</span></span><span class="undefined"></span><span class="hljs-tag"><span class="undefined"></span><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">link</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">href</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">'https://api.tiles.mapbox.com/mapbox.js/v2.2.1/mapbox.css'</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">rel</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">'stylesheet'</span></span></span><span class="hljs-tag"> /&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">style</span></span></span><span class="hljs-tag">&gt;</span></span><span class="undefined"><span class="undefined"> * { margin:0; padding:0; } html, body{ height: 100%; } #map { height:100%; width:100%; background: #111; } .building‚Äîinfo { position: absolute; left: .5em; top: .5em; color: white; font‚Äîsize: 2.5em; font‚Äîfamily: Arial, sans‚Äîserif; } </span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">style</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">head</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">body</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">id</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">'map'</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">'building‚Äîinfo'</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span><span class="javascript"><span class="javascript"> L.mapbox.accessToken = </span><span class="hljs-string"><span class="javascript"><span class="hljs-string">'your‚Äîaccess‚Äîtoken'</span></span></span><span class="javascript">; </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">var</span></span></span><span class="javascript"> mapid = </span><span class="hljs-string"><span class="javascript"><span class="hljs-string">'your‚Äîmap‚Äîid'</span></span></span><span class="javascript">; </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">var</span></span></span><span class="javascript"> infoElm = </span><span class="hljs-built_in"><span class="javascript"><span class="hljs-built_in">document</span></span></span><span class="javascript">.querySelector(</span><span class="hljs-string"><span class="javascript"><span class="hljs-string">'.building‚Äîinfo'</span></span></span><span class="javascript">); </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">var</span></span></span><span class="javascript"> map = L.mapbox.map(</span><span class="hljs-string"><span class="javascript"><span class="hljs-string">'map'</span></span></span><span class="javascript">, mapid, {</span><span class="hljs-attr"><span class="javascript"><span class="hljs-attr">gridLayer</span></span></span><span class="javascript"> : </span><span class="hljs-literal"><span class="javascript"><span class="hljs-literal">false</span></span></span><span class="javascript">, </span><span class="hljs-attr"><span class="javascript"><span class="hljs-attr">zoomControl</span></span></span><span class="javascript"> : </span><span class="hljs-literal"><span class="javascript"><span class="hljs-literal">false</span></span></span><span class="javascript"> }).setView([</span><span class="hljs-number"><span class="javascript"><span class="hljs-number">52.5141</span></span></span><span class="javascript">,</span><span class="hljs-number"><span class="javascript"><span class="hljs-number">13.3944</span></span></span><span class="javascript">,</span><span class="hljs-number"><span class="javascript"><span class="hljs-number">10</span></span></span><span class="javascript">], </span><span class="hljs-number"><span class="javascript"><span class="hljs-number">11</span></span></span><span class="javascript">); map.attributionControl.addAttribution(</span><span class="hljs-string"><span class="javascript"><span class="hljs-string">'Source: Senatsverwaltung f√ºr Stadtentwicklung und Umwelt Berlin'</span></span></span><span class="javascript">); </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">var</span></span></span><span class="javascript"> dataLayer = L.mapbox.gridLayer(mapid).addTo(map); dataLayer.on(</span><span class="hljs-string"><span class="javascript"><span class="hljs-string">'mouseover'</span></span></span><span class="javascript">, </span><span class="hljs-function"><span class="hljs-keyword"><span class="javascript"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span></span><span class="javascript"><span class="hljs-function">(</span></span><span class="hljs-params"><span class="javascript"><span class="hljs-function"><span class="hljs-params">evt</span></span></span></span><span class="javascript"><span class="hljs-function">)</span></span></span><span class="javascript">{ </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">if</span></span></span><span class="javascript">(</span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">typeof</span></span></span><span class="javascript"> evt.data === </span><span class="hljs-string"><span class="javascript"><span class="hljs-string">'undefined'</span></span></span><span class="javascript">){ </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">return</span></span></span><span class="javascript"> infoElm.innerHTML = </span><span class="hljs-string"><span class="javascript"><span class="hljs-string">''</span></span></span><span class="javascript">; } infoElm.innerHTML = </span><span class="hljs-string"><span class="javascript"><span class="hljs-string">'floors: '</span></span></span><span class="javascript"> + evt.data.floors; }); </span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">body</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">html</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br>  As you can see, the above method can quickly and easily create interesting cartographic projects.  Of course, if you already have ready data, this is a key component. </div><p>Source: <a href="https://habr.com/ru/post/266575/">https://habr.com/ru/post/266575/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../266565/index.html">GPS service ViaLatM - scripting language (part 2)</a></li>
<li><a href="../266567/index.html">Expand the Ghost blog in InfoboxCloud</a></li>
<li><a href="../266569/index.html">Configuring a ZTE AD3700 CDMA Modem for Intertelecom on Linux</a></li>
<li><a href="../266571/index.html">Generating PDF files in a web project: wkhtmltopdf program</a></li>
<li><a href="../266573/index.html">How I stopped worrying and started committing to GIT on a big 1C-Bitrix project</a></li>
<li><a href="../266577/index.html">Underground carders market. Translation of the book "KingPIN". Chapter 2. Deadly Weapons</a></li>
<li><a href="../266581/index.html">Published exploit code for critical Android vulnerabilities Stagefright</a></li>
<li><a href="../266583/index.html">It is finished! io.js + NodeJS = NodeJS 4.0.0</a></li>
<li><a href="../266585/index.html">Open Source Calendar for JIRA</a></li>
<li><a href="../266587/index.html">Intel Threading Building Blocks 4.4 - what's new?</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>