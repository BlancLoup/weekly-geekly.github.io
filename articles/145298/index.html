<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Easy setup .htaccess for production</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Sometimes, when sites are hosted on a shared-hosting or work only with Apache, you need to make the maximum optimization of the server and the site, r...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Easy setup .htaccess for production</h1><div class="post__text post__text-html js-mediator-article">  Sometimes, when sites are hosted on a shared-hosting or work only with Apache, you need to make the maximum optimization of the server and the site, respectively.  The article provides several settings that will allow your site to work better. <br><br><a name="habracut"></a><br><br><h4>  1. Encoding </h4><br>  Always specify the encoding.  By default, it is better to choose utf-8. <br><pre><code class="apache hljs"><span class="hljs-attribute"><span class="hljs-attribute">AddDefaultCharset</span></span> UTF-8</code> </pre> 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h4>  2. Redirect to one domain </h4><br>  For SEO optimization, it is desirable that the site be placed on only one domain.  If you have several domains referring to one site, we redirect to the main domain.  It is desirable that it starts with www. <br><br>  Let's do it using code <a href="http://en.wikipedia.org/wiki/HTTP_301">301</a> <br><br><pre> <code class="apache hljs"><span class="hljs-section"><span class="hljs-section">&lt;IfModule mod_rewrite.c&gt;</span></span> <span class="hljs-attribute"><span class="hljs-nomarkup"><span class="hljs-attribute"><span class="hljs-nomarkup">Options</span></span></span></span> +Followsymlinks RewriteEngine <span class="hljs-literal"><span class="hljs-literal">On</span></span> RewriteCond <span class="hljs-variable"><span class="hljs-variable">%{HTTP_HOST}</span></span> ^example\.com<span class="hljs-meta"><span class="hljs-meta"> [OR] RewriteCond %{HTTP_HOST} ^example2\.com [OR] RewriteCond %{HTTP_HOST} ^www\.example2\.com RewriteRule ^(.*)$ http://www.example.com/$1 [R=301,L] &lt;/IfModule&gt;</span></span></code> </pre><br><br><h4>  3. Caching static resources </h4><br>  Long page load takes away loading static resources.  Most of them never change.  But the browser at each request checks whether the resource on the server has changed.  In response, the browser receives the code 304 - the resource has not changed, and takes the resource from the cache.  That is, even if the resource is in the cache, the browser makes a request.  In general, this results in an additional load on the server and in slowing down the page parsing. <br><br>  Get rid of it.  To do this, set the time for checking the update of the resource for several years in advance, and disable the check for <a href="http://en.wikipedia.org/wiki/HTTP_ETag">ETag</a> <br><br><pre> <code class="apache hljs"><span class="hljs-section"><span class="hljs-section">&lt;FilesMatch "\.(ico|pdf|flv|jpg|jpeg|png|gif|js|css|swf)$"&gt;</span></span> <span class="hljs-attribute"><span class="hljs-nomarkup"><span class="hljs-attribute"><span class="hljs-nomarkup">Header</span></span></span></span> set Cache-Control <span class="hljs-string"><span class="hljs-string">"public"</span></span> Header set Expires <span class="hljs-string"><span class="hljs-string">"Fri, 21 Dec 2012 20:00:00 GMT"</span></span> #Until the end of the world FileETag None &lt;/FilesMatch&gt;</code> </pre><br><br><h4>  4. Compress text files </h4><br>  These files can be transferred to the browser in compressed form.  We indicate the necessary directives for this. <br><pre> <code class="apache hljs"><span class="hljs-attribute"><span class="hljs-attribute">AddOutputFilterByType</span></span> DEFLATE text/plain AddOutputFilterByType DEFLATE text/html AddOutputFilterByType DEFLATE text/xml AddOutputFilterByType DEFLATE text/css AddOutputFilterByType DEFLATE application/xml AddOutputFilterByType DEFLATE application/xhtml+xml AddOutputFilterByType DEFLATE application/rss+xml AddOutputFilterByType DEFLATE application/javascript AddOutputFilterByType DEFLATE application/x-javascript</code> </pre><br><br><h4>  findings </h4><br>  These settings will suit most sites that work with Apache, optimizing server performance and page loading speed. </div><p>Source: <a href="https://habr.com/ru/post/145298/">https://habr.com/ru/post/145298/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../145292/index.html">With what help you make up complex texts?</a></li>
<li><a href="../145293/index.html">Social architecture: what you need to social network did not die immediately after birth?</a></li>
<li><a href="../145294/index.html">on {X}: Android application from Microsoft</a></li>
<li><a href="../145295/index.html">Preparing the layout for the coder</a></li>
<li><a href="../145296/index.html">At the presentation of the Samsung Galaxy S3</a></li>
<li><a href="../145300/index.html">Bitcasa Reincarnation</a></li>
<li><a href="../145301/index.html">Samsung Electronics becomes a platinum member of the Linux Foundation</a></li>
<li><a href="../145302/index.html">GitHabr: Its collective Habrahabr with blackjacks</a></li>
<li><a href="../145304/index.html">Posters on IT subjects</a></li>
<li><a href="../145306/index.html">Introduction to Claims-based identity</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>