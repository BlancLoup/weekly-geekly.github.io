<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>WCF RIA Services. Start. Part 1</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="WCF RIA Services. Start. Part 1 
 WCF RIA Services. Receiving data. Part 2 
 WCF RIA Services. Update data. Part 3 
 WCF RIA Services. Implement the M...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>WCF RIA Services. Start. Part 1</h1><div class="post__text post__text-html js-mediator-article">  <a href="http://habrahabr.ru/post/203820/">WCF RIA Services.</a>  <a href="http://habrahabr.ru/post/203820/">Start.</a>  <a href="http://habrahabr.ru/post/203820/">Part 1</a> <br>  <a href="http://habrahabr.ru/post/205236/">WCF RIA Services.</a>  <a href="http://habrahabr.ru/post/205236/">Receiving data.</a>  <a href="http://habrahabr.ru/post/205236/">Part 2</a> <br>  <a href="http://habrahabr.ru/post/207054/">WCF RIA Services.</a>  <a href="http://habrahabr.ru/post/207054/">Update data.</a>  <a href="http://habrahabr.ru/post/207054/">Part 3</a> <br>  <a href="http://habrahabr.ru/post/215321/">WCF RIA Services.</a>  <a href="http://habrahabr.ru/post/215321/">Implement the Model-View-ViewModel (MVVM) pattern.</a>  <a href="http://habrahabr.ru/post/215321/">Part 4</a> <br><br><h4>  From translator </h4><br>  In this translation cycle, there is a good share, added by me personally, since the original uses the outdated VS, and some important, in my opinion important points are also missing, without which the assimilation of the material is very complicated.  Go. <br><br>  Caution.  A lot of pictures! 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h4>  Introduction </h4><br>  Imagine that you need to create a serious business application, the client of which operates with a multitude of data distributed in various places and which should be collected in some way.  To accomplish such a task, you will need to explore a number of new technologies and approaches, write a bunch of code, debug.  What is the result?  If roughly - then just sending data from the server side of the application to the client and back.  Well, work with the database.  What would you like to focus on first?  On the implementation of data transfer?  Or on the logic of processing, manipulating, presenting this data?  I think you will choose the second. <br><br>  WCF RIA Services offers automation of data transfer and creation of multi-level Silverlight-based applications, focusing the developer‚Äôs attention on the logic of work.  You write only once a copy of the server code, and it is automatically transferred and becomes available on the client side, without the need for manual duplication or the use of other tweaks from the developer.  Also, all server features, such as validation, access rights, and many others, remain available on the client. <br><br>  In this series of articles you will learn about the basic features of WCF RIA Services, see in practice what advantages the use of this approach provides.  The diagram below shows what exactly WCF RIA Services is responsible for: <br><img src="https://habrastorage.org/getpro/habr/post_images/229/c41/211/229c4121111eaf1bf2140d809814ee66.png" alt="image"><br><a name="habracut"></a><br>  today we will use the standard, simplest Silverlight template.  In the following parts we will increase our knowledge by refining the application and using new methods, tactics and technologies, one of which will be the Model-View-ViewModel (MVVM) pattern and unit testing. <br><br><h4>  Tasks solved by the created application </h4><br>  Just an electronic notebook in which you can enter an event, give it a name, artist, project, start and end date.  In general, nothing complicated or unusual, but a good understanding of what should be done will only make it easier to understand HOW to do it in the framework of the technology being studied. <br><br><h4>  Studied aspects of WCF RIA Services: </h4><br><ul><li>  Project Links (links between projects) - a link between a Silverlight client project and a server-side web application or library class.  The server project defines or creates links to domain services, entities, metadata, and also provides a mechanism by which the code defined on the server is available to the client.  Thanks to the link, all the necessary client code is generated dynamically at compile time. <br><br></li><li>  Domain Services (Domain Services) - the core of WCF RIA Services.  They determine the operations available on the server.  Basically, they come down to CRUD (write, read, update, delete), but they can be any others that you consider necessary.  All these operations are available automatically on the client side thanks to WCF, and the client does not need to know about the server side anything. <br><br></li><li>  Entities - You need to define the types of entities on the server side, and the client part will operate on them due to automatic code generation.  It is also possible to use validation and other metadata.  Entity types on the server side and client are used for serialization / deserialization operations, when transferring data between them.  Entities can be created using the Entity Framework, LINQ to SQL, or Plain Old CLR Objects (POCO). <br><br></li><li>  Domain Context (domain context) is the client equivalent of domain services.  Autogenerate code, thanks to which you get access to the functionality of the server part.  It contains a WCF proxy inside of itself, which provides the ability to call the service, as well as manages requests that must be executed on the server side, tracks changes to entities and much more. <br><br></li><li>  DomainDataSource is a data source object that is used to make requests and notify the server of changes.  Facilitates direct binding in XAML and more. </li></ul><br><h4>  Step 1: Create a Silverlight application and link to the server side. </h4><br>  We will use a simple database that will save the job, as well as all related information.  To do this, you will need to run the TaskManager.sql script, which is in the project project, create a database and a schema, fill the database with initial values. <br><br>  Create a new project named <u>‚ÄúTasksManager‚Äù</u> .  The ability to use WCF RIA Services is inherent in any type of Silverlight applications.  However, let's start with the simplest and select the Silverlight Application template. <br><img src="https://habrastorage.org/getpro/habr/post_images/f08/2c0/dd6/f082c0dd62adb0732fe30922da281a2a.png"><br><br>  After clicking on the OK button, the following dialog box opens in which you need to add a checkbox to ‚ÄúEnable WCF RIA services‚Äù. <br><img src="https://habrastorage.org/getpro/habr/post_images/617/474/716/617474716459aec7e6ce14720c7e477f.png"><br><br>  Thanks to it, the necessary references to the server project will be created, code generation and other functions described earlier will appear. <br>  Click OK and wait for the creation of the project. <br><br><h4>  Step 2: Create the Domain Model Entities </h4><br>  Since WCF RIA Services is mainly intended for moving data back and forth from client to server and back, you need some data model data.  Out of the box is supported Entity Framework.  However, it is possible to use the LINQ to SQL in WCF RIA Services Toolkit.  If you create your domain service, you can work with POCO.  Now we will use standard Entity Framework. <br><br><div class="spoiler">  <b class="spoiler_title">Original TaskManager.sql</b> <div class="spoiler_text"><pre><code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">USE</span></span> [<span class="hljs-keyword"><span class="hljs-keyword">master</span></span>] <span class="hljs-keyword"><span class="hljs-keyword">GO</span></span> <span class="hljs-comment"><span class="hljs-comment">/****** Object: Database [TaskManager] Script Date: 06/06/2010 18:01:49 ******/</span></span> <span class="hljs-keyword"><span class="hljs-keyword">IF</span></span> <span class="hljs-keyword"><span class="hljs-keyword">EXISTS</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">SELECT</span></span> <span class="hljs-keyword"><span class="hljs-keyword">name</span></span> <span class="hljs-keyword"><span class="hljs-keyword">FROM</span></span> sys.databases <span class="hljs-keyword"><span class="hljs-keyword">WHERE</span></span> <span class="hljs-keyword"><span class="hljs-keyword">name</span></span> = N<span class="hljs-string"><span class="hljs-string">'TaskManager.mdf'</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">DROP</span></span> <span class="hljs-keyword"><span class="hljs-keyword">DATABASE</span></span> [TaskManager.mdf] <span class="hljs-keyword"><span class="hljs-keyword">GO</span></span> <span class="hljs-keyword"><span class="hljs-keyword">CREATE</span></span> <span class="hljs-keyword"><span class="hljs-keyword">DATABASE</span></span> [TaskManager.mdf] <span class="hljs-keyword"><span class="hljs-keyword">GO</span></span> <span class="hljs-keyword"><span class="hljs-keyword">USE</span></span> [TaskManager.mdf] <span class="hljs-keyword"><span class="hljs-keyword">GO</span></span> <span class="hljs-keyword"><span class="hljs-keyword">SET</span></span> ANSI_NULLS <span class="hljs-keyword"><span class="hljs-keyword">ON</span></span> <span class="hljs-keyword"><span class="hljs-keyword">GO</span></span> <span class="hljs-keyword"><span class="hljs-keyword">SET</span></span> QUOTED_IDENTIFIER <span class="hljs-keyword"><span class="hljs-keyword">ON</span></span> <span class="hljs-keyword"><span class="hljs-keyword">GO</span></span> <span class="hljs-keyword"><span class="hljs-keyword">CREATE</span></span> <span class="hljs-keyword"><span class="hljs-keyword">TABLE</span></span> [dbo].[<span class="hljs-keyword"><span class="hljs-keyword">User</span></span>]( [UserId] [<span class="hljs-built_in"><span class="hljs-built_in">int</span></span>] <span class="hljs-keyword"><span class="hljs-keyword">IDENTITY</span></span>(<span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">1</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">NOT</span></span> <span class="hljs-literal"><span class="hljs-literal">NULL</span></span>, [Username] [<span class="hljs-keyword"><span class="hljs-keyword">nvarchar</span></span>](<span class="hljs-number"><span class="hljs-number">250</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">NOT</span></span> <span class="hljs-literal"><span class="hljs-literal">NULL</span></span>, [<span class="hljs-keyword"><span class="hljs-keyword">Password</span></span>] [<span class="hljs-keyword"><span class="hljs-keyword">nvarchar</span></span>](<span class="hljs-number"><span class="hljs-number">250</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">NOT</span></span> <span class="hljs-literal"><span class="hljs-literal">NULL</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">CONSTRAINT</span></span> [PK_User] PRIMARY <span class="hljs-keyword"><span class="hljs-keyword">KEY</span></span> CLUSTERED ( [UserId] <span class="hljs-keyword"><span class="hljs-keyword">ASC</span></span> )<span class="hljs-keyword"><span class="hljs-keyword">WITH</span></span> (PAD_INDEX = <span class="hljs-keyword"><span class="hljs-keyword">OFF</span></span>, STATISTICS_NORECOMPUTE = <span class="hljs-keyword"><span class="hljs-keyword">OFF</span></span>, IGNORE_DUP_KEY = <span class="hljs-keyword"><span class="hljs-keyword">OFF</span></span>, ALLOW_ROW_LOCKS = <span class="hljs-keyword"><span class="hljs-keyword">ON</span></span>, ALLOW_PAGE_LOCKS = <span class="hljs-keyword"><span class="hljs-keyword">ON</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">ON</span></span> [PRIMARY] ) <span class="hljs-keyword"><span class="hljs-keyword">ON</span></span> [PRIMARY] <span class="hljs-keyword"><span class="hljs-keyword">GO</span></span> <span class="hljs-keyword"><span class="hljs-keyword">SET</span></span> ANSI_NULLS <span class="hljs-keyword"><span class="hljs-keyword">ON</span></span> <span class="hljs-keyword"><span class="hljs-keyword">GO</span></span> <span class="hljs-keyword"><span class="hljs-keyword">SET</span></span> QUOTED_IDENTIFIER <span class="hljs-keyword"><span class="hljs-keyword">ON</span></span> <span class="hljs-keyword"><span class="hljs-keyword">GO</span></span> <span class="hljs-keyword"><span class="hljs-keyword">CREATE</span></span> <span class="hljs-keyword"><span class="hljs-keyword">TABLE</span></span> [dbo].[Customer]( [CustomerId] [<span class="hljs-built_in"><span class="hljs-built_in">int</span></span>] <span class="hljs-keyword"><span class="hljs-keyword">IDENTITY</span></span>(<span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">1</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">NOT</span></span> <span class="hljs-literal"><span class="hljs-literal">NULL</span></span>, [CustomerName] [<span class="hljs-keyword"><span class="hljs-keyword">nvarchar</span></span>](<span class="hljs-number"><span class="hljs-number">250</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">NOT</span></span> <span class="hljs-literal"><span class="hljs-literal">NULL</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">CONSTRAINT</span></span> [PK_Customer] PRIMARY <span class="hljs-keyword"><span class="hljs-keyword">KEY</span></span> CLUSTERED ( [CustomerId] <span class="hljs-keyword"><span class="hljs-keyword">ASC</span></span> )<span class="hljs-keyword"><span class="hljs-keyword">WITH</span></span> (PAD_INDEX = <span class="hljs-keyword"><span class="hljs-keyword">OFF</span></span>, STATISTICS_NORECOMPUTE = <span class="hljs-keyword"><span class="hljs-keyword">OFF</span></span>, IGNORE_DUP_KEY = <span class="hljs-keyword"><span class="hljs-keyword">OFF</span></span>, ALLOW_ROW_LOCKS = <span class="hljs-keyword"><span class="hljs-keyword">ON</span></span>, ALLOW_PAGE_LOCKS = <span class="hljs-keyword"><span class="hljs-keyword">ON</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">ON</span></span> [PRIMARY] ) <span class="hljs-keyword"><span class="hljs-keyword">ON</span></span> [PRIMARY] <span class="hljs-keyword"><span class="hljs-keyword">GO</span></span> <span class="hljs-keyword"><span class="hljs-keyword">SET</span></span> ANSI_NULLS <span class="hljs-keyword"><span class="hljs-keyword">ON</span></span> <span class="hljs-keyword"><span class="hljs-keyword">GO</span></span> <span class="hljs-keyword"><span class="hljs-keyword">SET</span></span> QUOTED_IDENTIFIER <span class="hljs-keyword"><span class="hljs-keyword">ON</span></span> <span class="hljs-keyword"><span class="hljs-keyword">GO</span></span> <span class="hljs-keyword"><span class="hljs-keyword">CREATE</span></span> <span class="hljs-keyword"><span class="hljs-keyword">TABLE</span></span> [dbo].[<span class="hljs-keyword"><span class="hljs-keyword">Project</span></span>]( [ProjectId] [<span class="hljs-built_in"><span class="hljs-built_in">int</span></span>] <span class="hljs-keyword"><span class="hljs-keyword">IDENTITY</span></span>(<span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">1</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">NOT</span></span> <span class="hljs-literal"><span class="hljs-literal">NULL</span></span>, [ProjectName] [<span class="hljs-keyword"><span class="hljs-keyword">nvarchar</span></span>](<span class="hljs-number"><span class="hljs-number">250</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">NOT</span></span> <span class="hljs-literal"><span class="hljs-literal">NULL</span></span>, [Description] [<span class="hljs-keyword"><span class="hljs-keyword">nvarchar</span></span>](<span class="hljs-keyword"><span class="hljs-keyword">max</span></span>) <span class="hljs-literal"><span class="hljs-literal">NULL</span></span>, [CustomerId] [<span class="hljs-built_in"><span class="hljs-built_in">int</span></span>] <span class="hljs-literal"><span class="hljs-literal">NULL</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">CONSTRAINT</span></span> [PK_Project] PRIMARY <span class="hljs-keyword"><span class="hljs-keyword">KEY</span></span> CLUSTERED ( [ProjectId] <span class="hljs-keyword"><span class="hljs-keyword">ASC</span></span> )<span class="hljs-keyword"><span class="hljs-keyword">WITH</span></span> (PAD_INDEX = <span class="hljs-keyword"><span class="hljs-keyword">OFF</span></span>, STATISTICS_NORECOMPUTE = <span class="hljs-keyword"><span class="hljs-keyword">OFF</span></span>, IGNORE_DUP_KEY = <span class="hljs-keyword"><span class="hljs-keyword">OFF</span></span>, ALLOW_ROW_LOCKS = <span class="hljs-keyword"><span class="hljs-keyword">ON</span></span>, ALLOW_PAGE_LOCKS = <span class="hljs-keyword"><span class="hljs-keyword">ON</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">ON</span></span> [PRIMARY] ) <span class="hljs-keyword"><span class="hljs-keyword">ON</span></span> [PRIMARY] <span class="hljs-keyword"><span class="hljs-keyword">GO</span></span> <span class="hljs-keyword"><span class="hljs-keyword">SET</span></span> ANSI_NULLS <span class="hljs-keyword"><span class="hljs-keyword">ON</span></span> <span class="hljs-keyword"><span class="hljs-keyword">GO</span></span> <span class="hljs-keyword"><span class="hljs-keyword">SET</span></span> QUOTED_IDENTIFIER <span class="hljs-keyword"><span class="hljs-keyword">ON</span></span> <span class="hljs-keyword"><span class="hljs-keyword">GO</span></span> <span class="hljs-keyword"><span class="hljs-keyword">CREATE</span></span> <span class="hljs-keyword"><span class="hljs-keyword">TABLE</span></span> [dbo].[Task]( [TaskId] [<span class="hljs-built_in"><span class="hljs-built_in">int</span></span>] <span class="hljs-keyword"><span class="hljs-keyword">IDENTITY</span></span>(<span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">1</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">NOT</span></span> <span class="hljs-literal"><span class="hljs-literal">NULL</span></span>, [TaskName] [<span class="hljs-keyword"><span class="hljs-keyword">nvarchar</span></span>](<span class="hljs-number"><span class="hljs-number">250</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">NOT</span></span> <span class="hljs-literal"><span class="hljs-literal">NULL</span></span>, [Description] [<span class="hljs-keyword"><span class="hljs-keyword">nvarchar</span></span>](<span class="hljs-keyword"><span class="hljs-keyword">max</span></span>) <span class="hljs-literal"><span class="hljs-literal">NULL</span></span>, [StartDate] [datetime] <span class="hljs-literal"><span class="hljs-literal">NULL</span></span>, [EndDate] [datetime] <span class="hljs-literal"><span class="hljs-literal">NULL</span></span>, [CustomerId] [<span class="hljs-built_in"><span class="hljs-built_in">int</span></span>] <span class="hljs-literal"><span class="hljs-literal">NULL</span></span>, [ProjectId] [<span class="hljs-built_in"><span class="hljs-built_in">int</span></span>] <span class="hljs-literal"><span class="hljs-literal">NULL</span></span>, [UserId] [<span class="hljs-built_in"><span class="hljs-built_in">int</span></span>] <span class="hljs-literal"><span class="hljs-literal">NULL</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">CONSTRAINT</span></span> [PK_Task] PRIMARY <span class="hljs-keyword"><span class="hljs-keyword">KEY</span></span> CLUSTERED ( [TaskId] <span class="hljs-keyword"><span class="hljs-keyword">ASC</span></span> )<span class="hljs-keyword"><span class="hljs-keyword">WITH</span></span> (PAD_INDEX = <span class="hljs-keyword"><span class="hljs-keyword">OFF</span></span>, STATISTICS_NORECOMPUTE = <span class="hljs-keyword"><span class="hljs-keyword">OFF</span></span>, IGNORE_DUP_KEY = <span class="hljs-keyword"><span class="hljs-keyword">OFF</span></span>, ALLOW_ROW_LOCKS = <span class="hljs-keyword"><span class="hljs-keyword">ON</span></span>, ALLOW_PAGE_LOCKS = <span class="hljs-keyword"><span class="hljs-keyword">ON</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">ON</span></span> [PRIMARY] ) <span class="hljs-keyword"><span class="hljs-keyword">ON</span></span> [PRIMARY] <span class="hljs-keyword"><span class="hljs-keyword">GO</span></span> <span class="hljs-keyword"><span class="hljs-keyword">SET</span></span> ANSI_NULLS <span class="hljs-keyword"><span class="hljs-keyword">ON</span></span> <span class="hljs-keyword"><span class="hljs-keyword">GO</span></span> <span class="hljs-keyword"><span class="hljs-keyword">SET</span></span> QUOTED_IDENTIFIER <span class="hljs-keyword"><span class="hljs-keyword">ON</span></span> <span class="hljs-keyword"><span class="hljs-keyword">GO</span></span> <span class="hljs-keyword"><span class="hljs-keyword">CREATE</span></span> <span class="hljs-keyword"><span class="hljs-keyword">TABLE</span></span> [dbo].[UsersTasks]( [TaskId] [<span class="hljs-built_in"><span class="hljs-built_in">int</span></span>] <span class="hljs-keyword"><span class="hljs-keyword">NOT</span></span> <span class="hljs-literal"><span class="hljs-literal">NULL</span></span>, [UserId] [<span class="hljs-built_in"><span class="hljs-built_in">int</span></span>] <span class="hljs-keyword"><span class="hljs-keyword">NOT</span></span> <span class="hljs-literal"><span class="hljs-literal">NULL</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">CONSTRAINT</span></span> [PK_UsersTasks] PRIMARY <span class="hljs-keyword"><span class="hljs-keyword">KEY</span></span> CLUSTERED ( [TaskId] <span class="hljs-keyword"><span class="hljs-keyword">ASC</span></span>, [UserId] <span class="hljs-keyword"><span class="hljs-keyword">ASC</span></span> )<span class="hljs-keyword"><span class="hljs-keyword">WITH</span></span> (PAD_INDEX = <span class="hljs-keyword"><span class="hljs-keyword">OFF</span></span>, STATISTICS_NORECOMPUTE = <span class="hljs-keyword"><span class="hljs-keyword">OFF</span></span>, IGNORE_DUP_KEY = <span class="hljs-keyword"><span class="hljs-keyword">OFF</span></span>, ALLOW_ROW_LOCKS = <span class="hljs-keyword"><span class="hljs-keyword">ON</span></span>, ALLOW_PAGE_LOCKS = <span class="hljs-keyword"><span class="hljs-keyword">ON</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">ON</span></span> [PRIMARY] ) <span class="hljs-keyword"><span class="hljs-keyword">ON</span></span> [PRIMARY] <span class="hljs-keyword"><span class="hljs-keyword">GO</span></span> <span class="hljs-keyword"><span class="hljs-keyword">SET</span></span> ANSI_NULLS <span class="hljs-keyword"><span class="hljs-keyword">ON</span></span> <span class="hljs-keyword"><span class="hljs-keyword">GO</span></span> <span class="hljs-keyword"><span class="hljs-keyword">SET</span></span> QUOTED_IDENTIFIER <span class="hljs-keyword"><span class="hljs-keyword">ON</span></span> <span class="hljs-keyword"><span class="hljs-keyword">GO</span></span> <span class="hljs-keyword"><span class="hljs-keyword">CREATE</span></span> <span class="hljs-keyword"><span class="hljs-keyword">TABLE</span></span> [dbo].[TimeEntry]( [TimeEntryId] [<span class="hljs-built_in"><span class="hljs-built_in">int</span></span>] <span class="hljs-keyword"><span class="hljs-keyword">IDENTITY</span></span>(<span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-number"><span class="hljs-number">1</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">NOT</span></span> <span class="hljs-literal"><span class="hljs-literal">NULL</span></span>, [StartTime] [datetime] <span class="hljs-keyword"><span class="hljs-keyword">NOT</span></span> <span class="hljs-literal"><span class="hljs-literal">NULL</span></span>, [EndTime] [datetime] <span class="hljs-keyword"><span class="hljs-keyword">NOT</span></span> <span class="hljs-literal"><span class="hljs-literal">NULL</span></span>, [TaskId] [<span class="hljs-built_in"><span class="hljs-built_in">int</span></span>] <span class="hljs-keyword"><span class="hljs-keyword">NOT</span></span> <span class="hljs-literal"><span class="hljs-literal">NULL</span></span>, [Description] [<span class="hljs-keyword"><span class="hljs-keyword">nvarchar</span></span>](<span class="hljs-keyword"><span class="hljs-keyword">max</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">NOT</span></span> <span class="hljs-literal"><span class="hljs-literal">NULL</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">CONSTRAINT</span></span> [PK_TimeEntry] PRIMARY <span class="hljs-keyword"><span class="hljs-keyword">KEY</span></span> CLUSTERED ( [TimeEntryId] <span class="hljs-keyword"><span class="hljs-keyword">ASC</span></span> )<span class="hljs-keyword"><span class="hljs-keyword">WITH</span></span> (PAD_INDEX = <span class="hljs-keyword"><span class="hljs-keyword">OFF</span></span>, STATISTICS_NORECOMPUTE = <span class="hljs-keyword"><span class="hljs-keyword">OFF</span></span>, IGNORE_DUP_KEY = <span class="hljs-keyword"><span class="hljs-keyword">OFF</span></span>, ALLOW_ROW_LOCKS = <span class="hljs-keyword"><span class="hljs-keyword">ON</span></span>, ALLOW_PAGE_LOCKS = <span class="hljs-keyword"><span class="hljs-keyword">ON</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">ON</span></span> [PRIMARY] ) <span class="hljs-keyword"><span class="hljs-keyword">ON</span></span> [PRIMARY] <span class="hljs-keyword"><span class="hljs-keyword">GO</span></span> <span class="hljs-keyword"><span class="hljs-keyword">ALTER</span></span> <span class="hljs-keyword"><span class="hljs-keyword">TABLE</span></span> [dbo].[<span class="hljs-keyword"><span class="hljs-keyword">Project</span></span>] <span class="hljs-keyword"><span class="hljs-keyword">WITH</span></span> <span class="hljs-keyword"><span class="hljs-keyword">CHECK</span></span> <span class="hljs-keyword"><span class="hljs-keyword">ADD</span></span> <span class="hljs-keyword"><span class="hljs-keyword">CONSTRAINT</span></span> [FK_Project_Customer] <span class="hljs-keyword"><span class="hljs-keyword">FOREIGN</span></span> <span class="hljs-keyword"><span class="hljs-keyword">KEY</span></span>([CustomerId]) <span class="hljs-keyword"><span class="hljs-keyword">REFERENCES</span></span> [dbo].[Customer] ([CustomerId]) <span class="hljs-keyword"><span class="hljs-keyword">GO</span></span> <span class="hljs-keyword"><span class="hljs-keyword">ALTER</span></span> <span class="hljs-keyword"><span class="hljs-keyword">TABLE</span></span> [dbo].[<span class="hljs-keyword"><span class="hljs-keyword">Project</span></span>] <span class="hljs-keyword"><span class="hljs-keyword">CHECK</span></span> <span class="hljs-keyword"><span class="hljs-keyword">CONSTRAINT</span></span> [FK_Project_Customer] <span class="hljs-keyword"><span class="hljs-keyword">GO</span></span> <span class="hljs-keyword"><span class="hljs-keyword">ALTER</span></span> <span class="hljs-keyword"><span class="hljs-keyword">TABLE</span></span> [dbo].[Task] <span class="hljs-keyword"><span class="hljs-keyword">WITH</span></span> <span class="hljs-keyword"><span class="hljs-keyword">CHECK</span></span> <span class="hljs-keyword"><span class="hljs-keyword">ADD</span></span> <span class="hljs-keyword"><span class="hljs-keyword">CONSTRAINT</span></span> [FK_Task_Customer] <span class="hljs-keyword"><span class="hljs-keyword">FOREIGN</span></span> <span class="hljs-keyword"><span class="hljs-keyword">KEY</span></span>([CustomerId]) <span class="hljs-keyword"><span class="hljs-keyword">REFERENCES</span></span> [dbo].[Customer] ([CustomerId]) <span class="hljs-keyword"><span class="hljs-keyword">GO</span></span> <span class="hljs-keyword"><span class="hljs-keyword">ALTER</span></span> <span class="hljs-keyword"><span class="hljs-keyword">TABLE</span></span> [dbo].[Task] <span class="hljs-keyword"><span class="hljs-keyword">CHECK</span></span> <span class="hljs-keyword"><span class="hljs-keyword">CONSTRAINT</span></span> [FK_Task_Customer] <span class="hljs-keyword"><span class="hljs-keyword">GO</span></span> <span class="hljs-keyword"><span class="hljs-keyword">ALTER</span></span> <span class="hljs-keyword"><span class="hljs-keyword">TABLE</span></span> [dbo].[Task] <span class="hljs-keyword"><span class="hljs-keyword">WITH</span></span> <span class="hljs-keyword"><span class="hljs-keyword">CHECK</span></span> <span class="hljs-keyword"><span class="hljs-keyword">ADD</span></span> <span class="hljs-keyword"><span class="hljs-keyword">CONSTRAINT</span></span> [FK_Task_Project] <span class="hljs-keyword"><span class="hljs-keyword">FOREIGN</span></span> <span class="hljs-keyword"><span class="hljs-keyword">KEY</span></span>([ProjectId]) <span class="hljs-keyword"><span class="hljs-keyword">REFERENCES</span></span> [dbo].[<span class="hljs-keyword"><span class="hljs-keyword">Project</span></span>] ([ProjectId]) <span class="hljs-keyword"><span class="hljs-keyword">GO</span></span> <span class="hljs-keyword"><span class="hljs-keyword">ALTER</span></span> <span class="hljs-keyword"><span class="hljs-keyword">TABLE</span></span> [dbo].[Task] <span class="hljs-keyword"><span class="hljs-keyword">CHECK</span></span> <span class="hljs-keyword"><span class="hljs-keyword">CONSTRAINT</span></span> [FK_Task_Project] <span class="hljs-keyword"><span class="hljs-keyword">GO</span></span> <span class="hljs-keyword"><span class="hljs-keyword">ALTER</span></span> <span class="hljs-keyword"><span class="hljs-keyword">TABLE</span></span> [dbo].[UsersTasks] <span class="hljs-keyword"><span class="hljs-keyword">WITH</span></span> <span class="hljs-keyword"><span class="hljs-keyword">CHECK</span></span> <span class="hljs-keyword"><span class="hljs-keyword">ADD</span></span> <span class="hljs-keyword"><span class="hljs-keyword">CONSTRAINT</span></span> [FK_UsersTasks_Task] <span class="hljs-keyword"><span class="hljs-keyword">FOREIGN</span></span> <span class="hljs-keyword"><span class="hljs-keyword">KEY</span></span>([TaskId]) <span class="hljs-keyword"><span class="hljs-keyword">REFERENCES</span></span> [dbo].[Task] ([TaskId]) <span class="hljs-keyword"><span class="hljs-keyword">GO</span></span> <span class="hljs-keyword"><span class="hljs-keyword">ALTER</span></span> <span class="hljs-keyword"><span class="hljs-keyword">TABLE</span></span> [dbo].[UsersTasks] <span class="hljs-keyword"><span class="hljs-keyword">CHECK</span></span> <span class="hljs-keyword"><span class="hljs-keyword">CONSTRAINT</span></span> [FK_UsersTasks_Task] <span class="hljs-keyword"><span class="hljs-keyword">GO</span></span> <span class="hljs-keyword"><span class="hljs-keyword">ALTER</span></span> <span class="hljs-keyword"><span class="hljs-keyword">TABLE</span></span> [dbo].[UsersTasks] <span class="hljs-keyword"><span class="hljs-keyword">WITH</span></span> <span class="hljs-keyword"><span class="hljs-keyword">CHECK</span></span> <span class="hljs-keyword"><span class="hljs-keyword">ADD</span></span> <span class="hljs-keyword"><span class="hljs-keyword">CONSTRAINT</span></span> [FK_UsersTasks_User] <span class="hljs-keyword"><span class="hljs-keyword">FOREIGN</span></span> <span class="hljs-keyword"><span class="hljs-keyword">KEY</span></span>([UserId]) <span class="hljs-keyword"><span class="hljs-keyword">REFERENCES</span></span> [dbo].[<span class="hljs-keyword"><span class="hljs-keyword">User</span></span>] ([UserId]) <span class="hljs-keyword"><span class="hljs-keyword">GO</span></span> <span class="hljs-keyword"><span class="hljs-keyword">ALTER</span></span> <span class="hljs-keyword"><span class="hljs-keyword">TABLE</span></span> [dbo].[UsersTasks] <span class="hljs-keyword"><span class="hljs-keyword">CHECK</span></span> <span class="hljs-keyword"><span class="hljs-keyword">CONSTRAINT</span></span> [FK_UsersTasks_User] <span class="hljs-keyword"><span class="hljs-keyword">GO</span></span> <span class="hljs-keyword"><span class="hljs-keyword">ALTER</span></span> <span class="hljs-keyword"><span class="hljs-keyword">TABLE</span></span> [dbo].[TimeEntry] <span class="hljs-keyword"><span class="hljs-keyword">WITH</span></span> <span class="hljs-keyword"><span class="hljs-keyword">CHECK</span></span> <span class="hljs-keyword"><span class="hljs-keyword">ADD</span></span> <span class="hljs-keyword"><span class="hljs-keyword">CONSTRAINT</span></span> [FK_TimeEntry_Task] <span class="hljs-keyword"><span class="hljs-keyword">FOREIGN</span></span> <span class="hljs-keyword"><span class="hljs-keyword">KEY</span></span>([TaskId]) <span class="hljs-keyword"><span class="hljs-keyword">REFERENCES</span></span> [dbo].[Task] ([TaskId]) <span class="hljs-keyword"><span class="hljs-keyword">GO</span></span> <span class="hljs-keyword"><span class="hljs-keyword">ALTER</span></span> <span class="hljs-keyword"><span class="hljs-keyword">TABLE</span></span> [dbo].[TimeEntry] <span class="hljs-keyword"><span class="hljs-keyword">CHECK</span></span> <span class="hljs-keyword"><span class="hljs-keyword">CONSTRAINT</span></span> [FK_TimeEntry_Task] <span class="hljs-keyword"><span class="hljs-keyword">GO</span></span> <span class="hljs-keyword"><span class="hljs-keyword">SET</span></span> NUMERIC_ROUNDABORT <span class="hljs-keyword"><span class="hljs-keyword">OFF</span></span> <span class="hljs-keyword"><span class="hljs-keyword">GO</span></span> <span class="hljs-keyword"><span class="hljs-keyword">SET</span></span> XACT_ABORT, ANSI_PADDING, ANSI_WARNINGS, CONCAT_NULL_YIELDS_NULL, ARITHABORT, QUOTED_IDENTIFIER, ANSI_NULLS <span class="hljs-keyword"><span class="hljs-keyword">ON</span></span> <span class="hljs-keyword"><span class="hljs-keyword">GO</span></span> <span class="hljs-comment"><span class="hljs-comment">/*Pointer used for text / image updates. This might not be needed, but is declared here just in case*/</span></span> <span class="hljs-keyword"><span class="hljs-keyword">DECLARE</span></span> @pv <span class="hljs-built_in"><span class="hljs-built_in">binary</span></span>(<span class="hljs-number"><span class="hljs-number">16</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">BEGIN</span></span> <span class="hljs-keyword"><span class="hljs-keyword">TRANSACTION</span></span> <span class="hljs-keyword"><span class="hljs-keyword">SET</span></span> IDENTITY_INSERT [dbo].[Task] <span class="hljs-keyword"><span class="hljs-keyword">OFF</span></span> <span class="hljs-keyword"><span class="hljs-keyword">SET</span></span> IDENTITY_INSERT [dbo].[Task] <span class="hljs-keyword"><span class="hljs-keyword">ON</span></span> <span class="hljs-keyword"><span class="hljs-keyword">INSERT</span></span> <span class="hljs-keyword"><span class="hljs-keyword">INTO</span></span> [dbo].[Task] ([TaskId], [TaskName], [Description], [StartDate], [EndDate], [CustomerId], [ProjectId]) <span class="hljs-keyword"><span class="hljs-keyword">VALUES</span></span> (<span class="hljs-number"><span class="hljs-number">1</span></span>, N<span class="hljs-string"><span class="hljs-string">'Create Project'</span></span>, N<span class="hljs-string"><span class="hljs-string">'Create a Silverlight Application project with a RIA Services link'</span></span>, <span class="hljs-string"><span class="hljs-string">'20100601 00:00:00.000'</span></span>, <span class="hljs-string"><span class="hljs-string">'20100602 00:00:00.000'</span></span>, <span class="hljs-literal"><span class="hljs-literal">NULL</span></span>, <span class="hljs-literal"><span class="hljs-literal">NULL</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">INSERT</span></span> <span class="hljs-keyword"><span class="hljs-keyword">INTO</span></span> [dbo].[Task] ([TaskId], [TaskName], [Description], [StartDate], [EndDate], [CustomerId], [ProjectId]) <span class="hljs-keyword"><span class="hljs-keyword">VALUES</span></span> (<span class="hljs-number"><span class="hljs-number">2</span></span>, N<span class="hljs-string"><span class="hljs-string">'Define Data Model'</span></span>, N<span class="hljs-string"><span class="hljs-string">'Create an Entity Framework model for the application data'</span></span>, <span class="hljs-string"><span class="hljs-string">'20100602 00:00:00.000'</span></span>, <span class="hljs-string"><span class="hljs-string">'20100603 00:00:00.000'</span></span>, <span class="hljs-literal"><span class="hljs-literal">NULL</span></span>, <span class="hljs-literal"><span class="hljs-literal">NULL</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">INSERT</span></span> <span class="hljs-keyword"><span class="hljs-keyword">INTO</span></span> [dbo].[Task] ([TaskId], [TaskName], [Description], [StartDate], [EndDate], [CustomerId], [ProjectId]) <span class="hljs-keyword"><span class="hljs-keyword">VALUES</span></span> (<span class="hljs-number"><span class="hljs-number">3</span></span>, N<span class="hljs-string"><span class="hljs-string">'Define domain service'</span></span>, N<span class="hljs-string"><span class="hljs-string">'Create a domain service to expose task data to the client'</span></span>, <span class="hljs-string"><span class="hljs-string">'20100603 00:00:00.000'</span></span>, <span class="hljs-string"><span class="hljs-string">'20100604 00:00:00.000'</span></span>, <span class="hljs-literal"><span class="hljs-literal">NULL</span></span>, <span class="hljs-literal"><span class="hljs-literal">NULL</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">INSERT</span></span> <span class="hljs-keyword"><span class="hljs-keyword">INTO</span></span> [dbo].[Task] ([TaskId], [TaskName], [Description], [StartDate], [EndDate], [CustomerId], [ProjectId]) <span class="hljs-keyword"><span class="hljs-keyword">VALUES</span></span> (<span class="hljs-number"><span class="hljs-number">4</span></span>, N<span class="hljs-string"><span class="hljs-string">'Use data in the Silverlight client'</span></span>, N<span class="hljs-string"><span class="hljs-string">'Use the DomainContext and DomainDataSource to access and manipulate the data in the client'</span></span>, <span class="hljs-string"><span class="hljs-string">'20100604 00:00:00.000'</span></span>, <span class="hljs-string"><span class="hljs-string">'20100605 00:00:00.000'</span></span>, <span class="hljs-literal"><span class="hljs-literal">NULL</span></span>, <span class="hljs-literal"><span class="hljs-literal">NULL</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">SET</span></span> IDENTITY_INSERT [dbo].[Task] <span class="hljs-keyword"><span class="hljs-keyword">OFF</span></span> <span class="hljs-keyword"><span class="hljs-keyword">COMMIT</span></span> <span class="hljs-keyword"><span class="hljs-keyword">TRANSACTION</span></span></code> </pre> <br></div></div><br>  But before you create a Domain Model Entities, you must create a database and fill it. <br>  To do this, add the folder ‚ÄúApp_Data‚Äù in the server part (with the prefix .Web): <br><img src="https://habrastorage.org/getpro/habr/post_images/e1a/dc7/a9a/e1adc7a9adcf38b58e17db373cb420c2.png"><br><br><img src="https://habrastorage.org/getpro/habr/post_images/df0/0a6/cc6/df00a6cc69a742e54632ba0cf9109166.png"><br><br><img src="https://habrastorage.org/getpro/habr/post_images/e29/c72/784/e29c727843236f750abe8c28a10ee580.png"><br><br>  Double click on the created database ‚ÄúDatabase * .mdf‚Äù.  A window will open.  We select in it again ‚ÄúDatabase * .mdf‚Äù, with the right button - ‚ÄúNew request‚Äù.  The query editor opens.  Open TasksModel.sql, about which we have already mentioned and copy everything from there, with the exception of the first such lines: <br><pre> <code class="sql hljs"><span class="hljs-keyword"><span class="hljs-keyword">USE</span></span> [<span class="hljs-keyword"><span class="hljs-keyword">master</span></span>] <span class="hljs-keyword"><span class="hljs-keyword">GO</span></span> <span class="hljs-comment"><span class="hljs-comment">/****** Object: Database [TaskManager] Script Date: 06/06/2010 18:01:49 ******/</span></span> <span class="hljs-keyword"><span class="hljs-keyword">IF</span></span> <span class="hljs-keyword"><span class="hljs-keyword">EXISTS</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">SELECT</span></span> <span class="hljs-keyword"><span class="hljs-keyword">name</span></span> <span class="hljs-keyword"><span class="hljs-keyword">FROM</span></span> sys.databases <span class="hljs-keyword"><span class="hljs-keyword">WHERE</span></span> <span class="hljs-keyword"><span class="hljs-keyword">name</span></span> = N<span class="hljs-string"><span class="hljs-string">'TaskManager.mdf'</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">DROP</span></span> <span class="hljs-keyword"><span class="hljs-keyword">DATABASE</span></span> [TaskManager.mdf] <span class="hljs-keyword"><span class="hljs-keyword">GO</span></span> <span class="hljs-keyword"><span class="hljs-keyword">CREATE</span></span> <span class="hljs-keyword"><span class="hljs-keyword">DATABASE</span></span> [TaskManager.mdf] <span class="hljs-keyword"><span class="hljs-keyword">GO</span></span> <span class="hljs-keyword"><span class="hljs-keyword">USE</span></span> [TaskManager.mdf] <span class="hljs-keyword"><span class="hljs-keyword">GO</span></span></code> </pre><br>  Click on the "Run" button.  Everything.  The database is filled with tables, and the Tasks table is filled with data. <br><br>  Click the right mouse button on TaskManager.Web and select "Add" - "Create item".  Select the "Data" tab in the left window, and in the right select "Model ADO.NET EDM".  Give the name " <u>TasksModel.edmx</u> ". <br><img src="https://habrastorage.org/getpro/habr/post_images/677/ef4/928/677ef4928015a3e287d6c42c4616043c.png"><br><br>  Add.  The EDM Model Wizard opens.  Select the desired database, give the name of the entity ‚Äú <u>TaskManagerEntities</u> ‚Äù and click Next. <br><img src="https://habrastorage.org/getpro/habr/post_images/fdb/230/144/fdb23014487a1bf2be7af045465cf6cd.png"><br><br>  In the next step, select the tick table.  Give the model name ‚Äú <u>TaskManagerMode</u> l‚Äù, as well as tick the ‚Äú <u>Generate</u> object names in the plural or singular‚Äù <br><img src="https://habrastorage.org/getpro/habr/post_images/02f/4b6/bbe/02f4b6bbee8435dcf08cf2f268aa3be9.png"><br><br>  Voila  Now you have the Entity Framework data model for all tables in the database.  However, in this lesson you will only work with the ‚ÄúTask‚Äù table, but further tables will be added. <br><br>  Build a solution to make sure everything is done correctly. <br><br>  After creating the EDM, the designer window should open. If it didn‚Äôt open automatically, then double-click in the TasksModel.edmx Solution Browser.  Next, click on an empty area.  And go to the properties window.  Change the ‚ÄúCode Generation Strategy‚Äù parameter from ‚ÄúNo‚Äù to ‚ÄúDefault‚Äù.  Rebuild. <br><img src="https://habrastorage.org/getpro/habr/post_images/1b8/cef/0af/1b8cef0af0fbdc847d91918e93a2ed21.png"><br><br>  Now it's time to create a domain service. <br><br><h4>  Step 3: Create Domain Service </h4><br>  Now we will create the core RIA Services - domain service.  Right-click on the server side: TaskManager.Web - ‚ÄúAdd‚Äù - ‚ÄúCreate item‚Äù.  We select the category "Web" in the left window, and on the right the "DomainService Class".  Give the name " <u>TasksDomainService</u> ". <br><img src="https://habrastorage.org/getpro/habr/post_images/ddc/462/de3/ddc462de354cf1a1bd19f3b702d55c2e.png"><br><br>  After clicking on the Add button, go to the service settings window.  Since now we will work only with the Tasks table, we select it.  In the "Enable Editing" column, a check mark is not needed.  Until.  If you put it then get a set of CRUD.  If not, then only Get (read).  Click OK. <br><br>  The generated code, without comments will look like this: <br><pre> <code class="cs hljs"> [<span class="hljs-meta"><span class="hljs-meta">EnableClientAccess()</span></span>] <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">TasksDomainService</span></span> : <span class="hljs-title"><span class="hljs-title">LinqToEntitiesDomainService</span></span>&lt;<span class="hljs-title"><span class="hljs-title">TasksModelEntities</span></span>&gt; { <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> IQueryable&lt;Task&gt; </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">GetTasks</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.ObjectContext.Tasks; } }</code> </pre><br><br>  The LinqToEntitiesDomainService class provides communication between the EDM model and WCF RIA services.  The attribute ‚ÄúEnableClientAccess‚Äù indicates that this method must be added to the client part during automatic code generation.  In this case, we received only the method of reading data from the table, but you can implement a full-fledged CRUD or any other actions on the data that you need and which will eventually also be available in the client project.  How to do this will be discussed in more detail in the following articles. <br><br>  Also remember that conventions are used that relate to the type of the return value (Queryable) and the naming rules (GetName).  In this case, we have the delegated entity of the ObjectContext data model, which is created as part of the base class and used to retrieve the entire Tasks table.  You can also improve this query by adding sorting, filters, etc., but while the return value is of type IQueryable, WCF RIA Services understands this and forms the corresponding methods that will allow the use of this functionality on the client side. <br><br>  Rebuild the project to make sure everything is done correctly.  In the client project, when you click on the icon for two leaves ‚ÄúShow all files‚Äù, a file should appear with the name TaskManager.Web.g.cs, which contains the generated code for the client. <br><br><h4>  Step 4: Retrieving data to the UI using the DomainDataSource </h4><br>  Today we will use the opportunity to WCF RIA Services, as ‚Äúdrag and drop‚Äù, using the DomainDataSource directly in the UI.  In the following parts, we will also look at the MVVM pattern, how to use it in the WCF RIA, and how to use the DomainDataSource with this approach. <br><br>  So, open MainPage.xaml.  Next, open the Data Sources window.  Now drag the Tasks into the image editor on the white box.  Correct the placement.  Everything.  In the XAML section, you will see the generated code for the Grid element. <br><img src="https://habrastorage.org/getpro/habr/post_images/f1c/cdc/189/f1ccdc189abd4607453bdb60830a612d.png"><br><br><img src="https://habrastorage.org/getpro/habr/post_images/eef/84d/3c4/eef84d3c47bbdaa03cbedf9823f39f6f.png"><br><br>  We build and run the application.  And enjoy a similar view: <br><img src="https://habrastorage.org/getpro/habr/post_images/a1a/423/3d5/a1a4233d5ef3a00d0d3018c330726442.png"><br><br><h4>  Video for this lesson </h4><br><iframe width="420" height="315" src="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://www.youtube.com/embed/N1YsstUaFmU%3Ffeature%3Doembed&amp;xid=25657,15700023,15700186,15700190,15700253&amp;usg=ALkJrhgdANSKdfYvrG4NfnBM8YA_FlQ1RQ" frameborder="0" allowfullscreen=""></iframe><br><br><h4>  Sources </h4><br>  On <a href="https://github.com/struggleendlessly/Silverlight_WCF_RIA/tree/Part1">github</a> </div><p>Source: <a href="https://habr.com/ru/post/203820/">https://habr.com/ru/post/203820/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../203808/index.html">ASUS MeMO Pad 8 (ME180A) Tablet Review</a></li>
<li><a href="../203810/index.html">Ocean simulation on WebGL</a></li>
<li><a href="../203812/index.html">Nokia: Now a fluorescent detector of nanoparticles and viruses</a></li>
<li><a href="../203814/index.html">A comparative review of the new Nook Glowlight: white product Barnes & Noble</a></li>
<li><a href="../203818/index.html">Cloud OS Summit: Watch 30+ reports online today from 10:00</a></li>
<li><a href="../203822/index.html">Create a prototype of a 3D game in 60 minutes using Project Anarchy</a></li>
<li><a href="../203824/index.html">ICANN deprived accreditation of a famous spammer</a></li>
<li><a href="../203828/index.html">How to safely read Habr at work using our information security screens</a></li>
<li><a href="../203830/index.html">Creative Commons 4.0 licenses approved</a></li>
<li><a href="../203832/index.html">Genetic algorithms in Matlab playfully</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>