<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Setting up the Tinkoff Bank API. How is your intuition ....? Or a song about Oauth 2.0</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="A couple of weeks ago in one of the projects there was a question about the integration of CRM with the API of Bank Tinkoff. In particular, it was abo...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Setting up the Tinkoff Bank API. How is your intuition ....? Or a song about Oauth 2.0</h1><div class="post__text post__text-html js-mediator-article">  A couple of weeks ago in one of the projects there was a question about the integration of CRM with the API of Bank Tinkoff.  In particular, it was about getting a bank account statement. <br><br>  The asset had: <br><br><ol><li>  <a href="https://openapi.tinkoff.ru/">openapi.tinkoff.ru</a> </li><li>  The telephone of the support service (taking into account the employment of the technical support department is the business of saving the drowning man, the handiwork of the drowning man himself). </li><li>  Loaded document: <a href="https://yadi.sk/i/IpquznN4kmq-lw">24386_policy.pdf</a> (with Russian letters inside, with amusing expressions, magic turns, of little use, but still a thing ...) </li></ol><br>  In the course of googlezh, reviews were also found that setting up the API of Tinkoff Bank is very interesting and non-trivial (see the article on banki.ru <a href="http://www.banki.ru/services/responses/bank/response/10176688/">‚ÄúAPI Tinkoff - we are too stupid for this‚Äù</a> ). 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Yes, I had to tinker a little, therefore, in order to save time for other shopmates, this article was written. <br><a name="habracut"></a><br>  I note that the Tinkoff Bank API uses Oauth 2.0 for authorization. <br><br>  Why do we need openapi.tinkoff.ru? <br><br><ol><li>  for the test (see below); </li><li>  in order to guess what and how;  there is no direct splint;  working at the level of intuition! ... </li></ol><br>  Let's get started  In the ‚ÄúSSO Authorization‚Äù section, click on ‚Äúhow / Hide‚Äù and then / secure / token # refresh-token (‚ÄúToken issue via refresh token‚Äù), select grant_type as a parameter, then in the refresh_token field (you can get it in Personal user account).  Click the button ‚ÄúTry it out!‚Äù The result of these actions is to get such <b>an important thing as access_token</b> (i.e., openapi.tinkoff.ru <b>demonstrates the</b> possibility of receiving it). <br><br>  Next, we look at the section "Accounts and payments", click / partner / company / {INN} / excerpt ("Receive statement").  We study what parameters are necessary in order to get it: Authorization, INN, accountNumber, from, till. <br><br>  Authorization - we guess that Authorization is nothing more than an access_token, which we received in the section ‚ÄúSSO Authorization‚Äù; <br>  INN - the organization's TIN for which we set up the API; <br>  from - from which day (discharge period); <br>  till - on what day (discharge period). <br><br>  Thus (we look at Oauth 2.0), the <b>receipt of the statement data takes place in two stages - first we get access_token, then having access_token in our hands, we get the data of this very statement</b> .  Fine.  The algorithm is clear, we write the code (the access parameters in the code are the values ‚Äã‚Äãfor $ user, $ pass, $ refresh_token, $ inn, $ accountNumber ‚Äî in the code below, they are changed, for obvious reasons). <br><br>  Create the following files: <br><br><ol><li>  The first configuration file is <a href="https://yadi.sk/d/JtlGNqOcdHxOyQ">StartSettings.php</a> </li><li>  The second file starting - <a href="https://yadi.sk/d/SPy3k4dEHcy6gw">Start.php</a> </li><li>  The third file of posting / parsing data to / from the API is <a href="https://yadi.sk/d/1D0BG2Y_RdP7nQ">TinkoffInsertData.php</a> ;  use CURL (php). </li><li>  Empty database dump where you can fill in your statement data: <a href="https://yadi.sk/d/vUc8cqK62kHG1Q">bank.sql</a> ;  MySQL database (data is sent to the database via PDO). </li></ol><br>  So, look at the code and comments to it! <br><br>  Settings file - StartSettings.php: <br><br><pre><code class="php hljs">$host = <span class="hljs-string"><span class="hljs-string">'127.0.0.1'</span></span>; $db = <span class="hljs-string"><span class="hljs-string">'bank'</span></span>; $user = <span class="hljs-string"><span class="hljs-string">'root'</span></span>; $pass = <span class="hljs-string"><span class="hljs-string">''</span></span>; $charset = <span class="hljs-string"><span class="hljs-string">'utf8'</span></span>; $dsn = <span class="hljs-string"><span class="hljs-string">"mysql:host=$host;dbname=$db;charset=$charset"</span></span>; $opt = [ PDO::ATTR_ERRMODE =&gt; PDO::ERRMODE_EXCEPTION, PDO::ATTR_DEFAULT_FETCH_MODE =&gt; PDO::FETCH_ASSOC, PDO::ATTR_EMULATE_PREPARES =&gt; <span class="hljs-keyword"><span class="hljs-keyword">false</span></span>, ]; $pdo = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> PDO($dsn, $user, $pass, $opt); $user=<span class="hljs-string"><span class="hljs-string">"IKu0jn98kllkI90kklii"</span></span>; <span class="hljs-comment"><span class="hljs-comment">//20  $pass="ds4234SDFsdfsdijoijslkkdjfoIOi"; //30  $refresh_token='dsfh345kljlkjsdf098sdfkljklj098sdfkklKKLjhjihiKL90909llkrre5345dfFDDFretertERTERETfdgd==';// 88  $inn = '750151513135'; $accountNumber = '40802810300000121212';//20  $from_year = '1980'; $from_month = '01'; $from_day = '01'; $till_year = date('Y'); $till_month = date('m'); $till_day = date('d');</span></span></code> </pre> <br>  Startup file - Start.php: <br><br><pre> <code class="php hljs">session_start(); error_reporting(E_ALL); <span class="hljs-keyword"><span class="hljs-keyword">include</span></span> <span class="hljs-string"><span class="hljs-string">'StartSettings.php'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">include</span></span> <span class="hljs-string"><span class="hljs-string">'TinkoffInsertData.php'</span></span>; TinkoffInsertData($user,$pass,$refresh_token, $inn, $accountNumber, $from_year, $from_month, $from_day, $till_year, $till_month, $till_day, $pdo); $stmt = $pdo-&gt;prepare(<span class="hljs-string"><span class="hljs-string">"INSERT INTO `bank`.`dateofwork` (dateofwork) VALUES (NOW())"</span></span>); $stmt-&gt;execute();</code> </pre> <br>  File posting / parsing data to / from the API - TinkoffInsertData.php: <br><br><pre> <code class="php hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">TinkoffInsertData</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">($user,$pass,$refresh_token, $inn, $accountNumber, $from_year, $from_month, $from_day, $till_year, $till_month, $till_day, $pdo)</span></span></span></span>{ <span class="hljs-comment"><span class="hljs-comment">//  -    access_token $from_date = $from_year."-".$from_month."-".$from_day.'%2B03%3A00%3A00'; $till_date = $till_year."-".$till_month."-".$till_day.'%2B03%3A00%3A00'; $params=['grant_type'=&gt;'refresh_token', 'refresh_token'=&gt;$refresh_token ]; $headers = [ 'POST /secure/token HTTP/1.1', 'Content-Type: application/x-www-form-urlencoded' ]; $curlURL='https://sso.tinkoff.ru/secure/token'; $ch = curl_init(); curl_setopt($ch, CURLOPT_URL,$curlURL); curl_setopt($ch, CURLOPT_HTTPAUTH, CURLAUTH_BASIC); curl_setopt($ch, CURLOPT_USERPWD, $user . ":" . $pass); curl_setopt($ch, CURLOPT_HEADER, true); curl_setopt($ch, CURLOPT_HTTPHEADER, $headers); curl_setopt($ch, CURLOPT_POST, true); curl_setopt($ch, CURLOPT_POSTFIELDS,http_build_query($params)); curl_setopt($ch, CURLOPT_RETURNTRANSFER, true); curl_setopt($ch, CURLOPT_VERBOSE, true); $curl_res = curl_exec($ch); if($curl_res) { $server_output = json_decode($curl_res); } // access_token -     2  $access_token_pos_start = strpos ($curl_res, 'access_token', 0); $access_token_pos_start = $access_token_pos_start + 15; $token_type_pos_start = strpos ($curl_res, "token_type", 0); $access_token = mb_substr($curl_res, $access_token_pos_start, ($token_type_pos_start-$access_token_pos_start-3)); //!....   ..... // ,    sleep,        //sleep(1); //  -     $params=[ 'Authorization'=&gt;$access_token, 'INN'=&gt;$inn, 'accountNumber'=&gt;$accountNumber ]; $headers = [ 'Authorization: Bearer '.$access_token ]; $curlURL='https://sme-partner.tinkoff.ru/api/v1/partner/company/'.$inn.'/excerpt?accountNumber='.$accountNumber.'&amp;from='.$from_date.'&amp;till='.$till_date; $ch = curl_init(); curl_setopt($ch, CURLOPT_URL,$curlURL); curl_setopt($ch, CURLOPT_HTTPAUTH, CURLAUTH_BASIC); curl_setopt($ch, CURLOPT_USERPWD, $user . ":" . $pass); curl_setopt($ch, CURLOPT_HEADER, true); curl_setopt($ch, CURLOPT_HTTPHEADER, $headers); curl_setopt($ch, CURLOPT_POST, false); curl_setopt($ch, CURLOPT_CUSTOMREQUEST, 'GET'); curl_setopt($ch, CURLOPT_POSTFIELDS,http_build_query($params)); curl_setopt($ch, CURLOPT_RETURNTRANSFER, true); curl_setopt($ch, CURLOPT_VERBOSE, true); $curl_res = curl_exec($ch); if($curl_res) { $server_output = json_decode($curl_res); } $IE_Edge_pos_start = strpos ($curl_res, 'IE=Edge', 0); $IE_Edge_pos_start = $IE_Edge_pos_start + 7; $tinkoff_json = mb_substr($curl_res, $IE_Edge_pos_start); $tinkoff_json = trim($tinkoff_json); $tinkoff_json = json_decode($tinkoff_json); //     ,  ;) foreach ($tinkoff_json as $k=&gt;$v){ if($k=='accountNumber'){ if(!($v==$accountNumber)) die('not that accountNumber'); } } //$tinkoff_array -    json   foreach ($tinkoff_json as $k=&gt;$v){ if($k=='operation'){ $i=0; foreach ($v as $t=&gt;$s){ foreach ($s as $e=&gt;$f){ $tinkoff_array[$i][$e]=$f; } $i++; } } } //   $tinkoff_array    for ($i=0;$i&lt;count($tinkoff_array);$i++){ $temp_id = $pdo-&gt;query("SELECT count(*) FROM `justtin`.`tinkoff` WHERE id=".$tinkoff_array[$i]['id'].";")-&gt;fetchColumn(); if ($temp_id==0){ if (Get_highly_likely_is_number_bill($tinkoff_array[$i]['paymentPurpose'])!=""){ $stmt = $pdo-&gt;prepare("INSERT INTO `justtin`.`tinkoff` (id, date, amount, drawDate, payerName, payerInn, payerAccount, payerCorrAccount, payerBic, payerBank, chargeDate, recipient, recipientInn, recipientAccount, recipientCorrAccount, recipientBic, recipientBank, operationType, uin, paymentPurpose, creatorStatus, payerKpp, executionOrder, date_of_save) VALUES (:id, :date, :amount, :drawDate, :payerName, :payerInn, :payerAccount, :payerCorrAccount, :payerBic, :payerBank, :chargeDate, :recipient, :recipientInn, :recipientAccount, :recipientCorrAccount, :recipientBic, :recipientBank, :operationType, :uin, :paymentPurpose, :creatorStatus, :payerKpp, :executionOrder, NOW())"); $stmt-&gt;bindParam(':id', $tinkoff_array[$i]['id']); $stmt-&gt;bindParam(':date', $tinkoff_array[$i]['date']); $stmt-&gt;bindParam(':amount', $tinkoff_array[$i]['amount']); $stmt-&gt;bindParam(':drawDate', $tinkoff_array[$i]['drawDate']); $stmt-&gt;bindParam(':payerName', $tinkoff_array[$i]['payerName']); $stmt-&gt;bindParam(':payerInn', $tinkoff_array[$i]['payerInn']); $stmt-&gt;bindParam(':payerAccount', $tinkoff_array[$i]['payerAccount']); $stmt-&gt;bindParam(':payerCorrAccount', $tinkoff_array[$i]['payerCorrAccount']); $stmt-&gt;bindParam(':payerBic', $tinkoff_array[$i]['payerBic']); $stmt-&gt;bindParam(':payerBank', $tinkoff_array[$i]['payerBank']); $stmt-&gt;bindParam(':chargeDate', $tinkoff_array[$i]['chargeDate']); $stmt-&gt;bindParam(':recipient', $tinkoff_array[$i]['recipient']); $stmt-&gt;bindParam(':recipientInn', $tinkoff_array[$i]['recipientInn']); $stmt-&gt;bindParam(':recipientAccount', $tinkoff_array[$i]['recipientAccount']); $stmt-&gt;bindParam(':recipientCorrAccount', $tinkoff_array[$i]['recipientCorrAccount']); $stmt-&gt;bindParam(':recipientBic', $tinkoff_array[$i]['recipientBic']); $stmt-&gt;bindParam(':recipientBank', $tinkoff_array[$i]['recipientBank']); $stmt-&gt;bindParam(':operationType', $tinkoff_array[$i]['operationType']); $stmt-&gt;bindParam(':uin', $tinkoff_array[$i]['uin']); $stmt-&gt;bindParam(':paymentPurpose', $tinkoff_array[$i]['paymentPurpose']); $stmt-&gt;bindParam(':creatorStatus', $tinkoff_array[$i]['creatorStatus']); $stmt-&gt;bindParam(':payerKpp', $tinkoff_array[$i]['payerKpp']); $stmt-&gt;bindParam(':executionOrder', $tinkoff_array[$i]['executionOrder']); $stmt-&gt;execute(); } } } }</span></span></code> "INSERT INTO` justtin`.`tinkoff` (id, date, amount, drawDate, payerName, payerInn, payerAccount, payerCorrAccount, payerBic, payerBank, chargeDate, recipient, recipientInn, recipientAccount, recipientCorrAccount, <code class="php hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">TinkoffInsertData</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">($user,$pass,$refresh_token, $inn, $accountNumber, $from_year, $from_month, $from_day, $till_year, $till_month, $till_day, $pdo)</span></span></span></span>{ <span class="hljs-comment"><span class="hljs-comment">//  -    access_token $from_date = $from_year."-".$from_month."-".$from_day.'%2B03%3A00%3A00'; $till_date = $till_year."-".$till_month."-".$till_day.'%2B03%3A00%3A00'; $params=['grant_type'=&gt;'refresh_token', 'refresh_token'=&gt;$refresh_token ]; $headers = [ 'POST /secure/token HTTP/1.1', 'Content-Type: application/x-www-form-urlencoded' ]; $curlURL='https://sso.tinkoff.ru/secure/token'; $ch = curl_init(); curl_setopt($ch, CURLOPT_URL,$curlURL); curl_setopt($ch, CURLOPT_HTTPAUTH, CURLAUTH_BASIC); curl_setopt($ch, CURLOPT_USERPWD, $user . ":" . $pass); curl_setopt($ch, CURLOPT_HEADER, true); curl_setopt($ch, CURLOPT_HTTPHEADER, $headers); curl_setopt($ch, CURLOPT_POST, true); curl_setopt($ch, CURLOPT_POSTFIELDS,http_build_query($params)); curl_setopt($ch, CURLOPT_RETURNTRANSFER, true); curl_setopt($ch, CURLOPT_VERBOSE, true); $curl_res = curl_exec($ch); if($curl_res) { $server_output = json_decode($curl_res); } // access_token -     2  $access_token_pos_start = strpos ($curl_res, 'access_token', 0); $access_token_pos_start = $access_token_pos_start + 15; $token_type_pos_start = strpos ($curl_res, "token_type", 0); $access_token = mb_substr($curl_res, $access_token_pos_start, ($token_type_pos_start-$access_token_pos_start-3)); //!....   ..... // ,    sleep,        //sleep(1); //  -     $params=[ 'Authorization'=&gt;$access_token, 'INN'=&gt;$inn, 'accountNumber'=&gt;$accountNumber ]; $headers = [ 'Authorization: Bearer '.$access_token ]; $curlURL='https://sme-partner.tinkoff.ru/api/v1/partner/company/'.$inn.'/excerpt?accountNumber='.$accountNumber.'&amp;from='.$from_date.'&amp;till='.$till_date; $ch = curl_init(); curl_setopt($ch, CURLOPT_URL,$curlURL); curl_setopt($ch, CURLOPT_HTTPAUTH, CURLAUTH_BASIC); curl_setopt($ch, CURLOPT_USERPWD, $user . ":" . $pass); curl_setopt($ch, CURLOPT_HEADER, true); curl_setopt($ch, CURLOPT_HTTPHEADER, $headers); curl_setopt($ch, CURLOPT_POST, false); curl_setopt($ch, CURLOPT_CUSTOMREQUEST, 'GET'); curl_setopt($ch, CURLOPT_POSTFIELDS,http_build_query($params)); curl_setopt($ch, CURLOPT_RETURNTRANSFER, true); curl_setopt($ch, CURLOPT_VERBOSE, true); $curl_res = curl_exec($ch); if($curl_res) { $server_output = json_decode($curl_res); } $IE_Edge_pos_start = strpos ($curl_res, 'IE=Edge', 0); $IE_Edge_pos_start = $IE_Edge_pos_start + 7; $tinkoff_json = mb_substr($curl_res, $IE_Edge_pos_start); $tinkoff_json = trim($tinkoff_json); $tinkoff_json = json_decode($tinkoff_json); //     ,  ;) foreach ($tinkoff_json as $k=&gt;$v){ if($k=='accountNumber'){ if(!($v==$accountNumber)) die('not that accountNumber'); } } //$tinkoff_array -    json   foreach ($tinkoff_json as $k=&gt;$v){ if($k=='operation'){ $i=0; foreach ($v as $t=&gt;$s){ foreach ($s as $e=&gt;$f){ $tinkoff_array[$i][$e]=$f; } $i++; } } } //   $tinkoff_array    for ($i=0;$i&lt;count($tinkoff_array);$i++){ $temp_id = $pdo-&gt;query("SELECT count(*) FROM `justtin`.`tinkoff` WHERE id=".$tinkoff_array[$i]['id'].";")-&gt;fetchColumn(); if ($temp_id==0){ if (Get_highly_likely_is_number_bill($tinkoff_array[$i]['paymentPurpose'])!=""){ $stmt = $pdo-&gt;prepare("INSERT INTO `justtin`.`tinkoff` (id, date, amount, drawDate, payerName, payerInn, payerAccount, payerCorrAccount, payerBic, payerBank, chargeDate, recipient, recipientInn, recipientAccount, recipientCorrAccount, recipientBic, recipientBank, operationType, uin, paymentPurpose, creatorStatus, payerKpp, executionOrder, date_of_save) VALUES (:id, :date, :amount, :drawDate, :payerName, :payerInn, :payerAccount, :payerCorrAccount, :payerBic, :payerBank, :chargeDate, :recipient, :recipientInn, :recipientAccount, :recipientCorrAccount, :recipientBic, :recipientBank, :operationType, :uin, :paymentPurpose, :creatorStatus, :payerKpp, :executionOrder, NOW())"); $stmt-&gt;bindParam(':id', $tinkoff_array[$i]['id']); $stmt-&gt;bindParam(':date', $tinkoff_array[$i]['date']); $stmt-&gt;bindParam(':amount', $tinkoff_array[$i]['amount']); $stmt-&gt;bindParam(':drawDate', $tinkoff_array[$i]['drawDate']); $stmt-&gt;bindParam(':payerName', $tinkoff_array[$i]['payerName']); $stmt-&gt;bindParam(':payerInn', $tinkoff_array[$i]['payerInn']); $stmt-&gt;bindParam(':payerAccount', $tinkoff_array[$i]['payerAccount']); $stmt-&gt;bindParam(':payerCorrAccount', $tinkoff_array[$i]['payerCorrAccount']); $stmt-&gt;bindParam(':payerBic', $tinkoff_array[$i]['payerBic']); $stmt-&gt;bindParam(':payerBank', $tinkoff_array[$i]['payerBank']); $stmt-&gt;bindParam(':chargeDate', $tinkoff_array[$i]['chargeDate']); $stmt-&gt;bindParam(':recipient', $tinkoff_array[$i]['recipient']); $stmt-&gt;bindParam(':recipientInn', $tinkoff_array[$i]['recipientInn']); $stmt-&gt;bindParam(':recipientAccount', $tinkoff_array[$i]['recipientAccount']); $stmt-&gt;bindParam(':recipientCorrAccount', $tinkoff_array[$i]['recipientCorrAccount']); $stmt-&gt;bindParam(':recipientBic', $tinkoff_array[$i]['recipientBic']); $stmt-&gt;bindParam(':recipientBank', $tinkoff_array[$i]['recipientBank']); $stmt-&gt;bindParam(':operationType', $tinkoff_array[$i]['operationType']); $stmt-&gt;bindParam(':uin', $tinkoff_array[$i]['uin']); $stmt-&gt;bindParam(':paymentPurpose', $tinkoff_array[$i]['paymentPurpose']); $stmt-&gt;bindParam(':creatorStatus', $tinkoff_array[$i]['creatorStatus']); $stmt-&gt;bindParam(':payerKpp', $tinkoff_array[$i]['payerKpp']); $stmt-&gt;bindParam(':executionOrder', $tinkoff_array[$i]['executionOrder']); $stmt-&gt;execute(); } } } }</span></span></code> </pre> <br>  Readers: I hope this material will help in the monetization of your web services and services of your customers.  May the force be with you! <br><br>  To the guys from technical support of Bank Tinkoff: I hope this article will reduce the load on you!  Good luck! </div><p>Source: <a href="https://habr.com/ru/post/431908/">https://habr.com/ru/post/431908/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../431898/index.html">It is all about Agile - 2: features of the introduction of agile development</a></li>
<li><a href="../431900/index.html">In the Linux kernel, the word fuck was replaced by hug</a></li>
<li><a href="../431902/index.html">How we built a fast and reliable ad views repository</a></li>
<li><a href="../431904/index.html">How we have unloaded HR specialists: infomats for issuing payment sheets</a></li>
<li><a href="../431906/index.html">PIFR - a method of generating a 3D mask, regardless of the angle of rotation of the face</a></li>
<li><a href="../431910/index.html">PSEFABRIC is a new approach to network management and automation. Step to the ideal</a></li>
<li><a href="../431912/index.html">In the US, the largest bot is not arrested: what does this mean for the digital community?</a></li>
<li><a href="../431914/index.html">Technical interakty on fantastic conventions. Part 2</a></li>
<li><a href="../431918/index.html">Overview of CAD on the geometric core C3D</a></li>
<li><a href="../431920/index.html">Frontend Mix - talk about Node.js, scalability and native web</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>