<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>We delve into the nuances of programming Request Tracker</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hi, Habrayuzer! 
 In this topic, I will talk about the principles of building the request tracker from the point of view of programming, because This ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>We delve into the nuances of programming Request Tracker</h1><div class="post__text post__text-html js-mediator-article">  Hi, Habrayuzer! <br>  In this topic, I will talk about the principles of building the request tracker from the point of view of programming, because  This is a fairly good accounting system and can be used at a large enterprise as a helpdesk system. <br><br>  Who cares - welcome under cat. <br><a name="habracut"></a><br><h4>  Introduction or a little about the system: </h4><br>  The system is written in perl, works with any (I checked for 2) http-server.  The database set with which the system can work is extensive.  It is fast enough, page generation occurs on the fly and there are no brakes with the content update.  The last two stable branches, 3.8 and 4.11, were considered in detail. <br>  The main differences between the branches touched the interface, with the same set of constructors in the code with minor changes.  However, in prototype, the prototype framework is used and ajax is almost not used, while in 4.11 jquery is used (which is much more convenient in my opinion) and ajax constructions are used. <br><br><h4>  Delve into the code: </h4><br>  The system uses the Mason package, which allows embedding the perl-code into the document: <br><pre><code class="perl hljs"><span class="hljs-keyword"><span class="hljs-keyword">use</span></span> HTML::Mason</code> </pre> <br>  You can read about Mason structures <a href="http://www.masonhq.com/">here</a> . <br>  Also, the system uses a serious caching mode, which can cause rejection when programming under RT in the first stages, since  each time you change the code, you should ‚Äúkill‚Äù the RT session, clear the cache and restart the http server.  <b>Of</b> course, these actions can be combined into a script, but there is another option - you should set the option in the <b>RT_Config.pm</b> config file: 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <pre> <code class="perl hljs">Set($DevelMode,<span class="hljs-string"><span class="hljs-string">"1"</span></span>)</code> </pre> <br>  This option disables object caching, which allows writing under RT using ajax. <br><br>  The detailed directory structure of the RT is a group of directories named by category of objects.  For example: <br>  For the ‚ÄúTicket‚Äù object (application) the structure will be as follows: <br><ul><li>  / Ticket </li><li>  / Ticket / Attachment </li><li>  / Ticket / Elements </li><li>  / Ticket / Graphs </li><li>  /Ticket/Create.html </li><li>  ... </li></ul><br>  Each element directory has an Elements folder, which contains constructors for this type of element. <br>  I will give an example: <br><pre> <code class="perl hljs">&lt;&amp; <span class="hljs-regexp"><span class="hljs-regexp">/Elements/</span></span>Header, <span class="hljs-string"><span class="hljs-string">Title =&gt;</span></span> $title, <span class="hljs-string"><span class="hljs-string">onload =&gt;</span></span> <span class="hljs-string"><span class="hljs-string">"function() { ... } "</span></span> &amp;&gt;</code> </pre><br>  This construct calls the header file as a class, with parameters.  It seemed to me similar to jquery.  Comfortable enough, yes? <br>  When programming, you need to take into account the fact that you can create your own element and connect it as a class.  Or use ready-made solutions for design. <br><br><h4>  About localization </h4><br>  The system supports most languages.  Find a language pack is not difficult, it is here: <br>  {% RTHOME%} / lib / RT / I18N / *. Po - for RT 3.8 <br>  {% RTHOME%} / share / po / *. Po - for RT 4. <br>  The structure of the localization file is extremely simple and to enter your variables or change the existing labor will not make  Operand is used to connect the variable: <br><br><pre> <code class="perl hljs">&lt;% loc(<span class="hljs-string"><span class="hljs-string">"param"</span></span>) %&gt;</code> </pre> <br><br><h4>  Ajax </h4><br>  One caveat should be noted when building ajax constructs: due to the use of Mason, the interpreter does not accept the main function jquery - $.  Therefore, in RT 4 you should use: <br><pre> <code class="javascript hljs">jQuery.ajax(...)</code> </pre> <br>  and in RT 3.8 (because prototype.js is used): <br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Ajax.Request(....)</code> </pre> <br><br><h4>  Briefly about working with Mysql </h4><br><br>  The system has an interface to access the database.  In my case, this is the mysql base.  To connect to the current RT database, you need to define variables: <br><pre> <code class="perl hljs"><span class="hljs-keyword"><span class="hljs-keyword">my</span></span> $dbname = RT-&gt;Config-&gt;Get(<span class="hljs-string"><span class="hljs-string">'DatabaseName'</span></span>); <span class="hljs-comment"><span class="hljs-comment">#   my $dbhost = RT-&gt;Config-&gt;Get('DatabaseRtHost'); #  my $dbuser = RT-&gt;Config-&gt;Get('DatabaseUser'); #      my $dbpass = RT-&gt;Config-&gt;Get('DatabasePassword'); #    </span></span></code> </pre><br><br>  Having received the variables, we can (even without using the RT interface to access the database) connect to mysql.  For example, using <br><br><pre> <code class="perl hljs"><span class="hljs-keyword"><span class="hljs-keyword">use</span></span> DBI::mysql; <span class="hljs-keyword"><span class="hljs-keyword">my</span></span> $dbh = DBI-&gt;<span class="hljs-keyword"><span class="hljs-keyword">connect</span></span>(...)</code> </pre> <br><br><h4>  And in the conclusion of folk wisdom </h4><br>  Here only small knowledge (nuances) in the field of RT programming, obtained as a result of the execution of a project to refine the above described system, is considered.  If this topic is interesting, in the future I will write more in-depth knowledge regarding API RT. <br>  Thanks for attention. </div><p>Source: <a href="https://habr.com/ru/post/190822/">https://habr.com/ru/post/190822/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../190810/index.html">Why we do not have customer support by mail?</a></li>
<li><a href="../190814/index.html">Adaptive emails</a></li>
<li><a href="../190816/index.html">Vkontakte enabled https almost by default</a></li>
<li><a href="../190818/index.html">NProgress: progress bar on both YouTube and Medium</a></li>
<li><a href="../190820/index.html">CSS parser for .NET written in C #</a></li>
<li><a href="../190824/index.html">Color as a factor in labor efficiency</a></li>
<li><a href="../190826/index.html">He himself invented - he patented himself</a></li>
<li><a href="../190830/index.html">Binary watch with alarm clock on Atmega48 (EvILeg-1124)</a></li>
<li><a href="../190832/index.html">Metric # 19 - Podcast on technologies and design of interfaces and services</a></li>
<li><a href="../190834/index.html">Oracle Java SE 7 Programmer II Exam Preparation (1Z0-804)</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>