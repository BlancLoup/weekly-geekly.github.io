<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Development of OpenGL games for the Android platform</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Some time ago I finished porting an iDracula game - Undead Awakening, which Moregames Entertainment developed from the iPhone platform to the Android ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Development of OpenGL games for the Android platform</h1><div class="post__text post__text-html js-mediator-article">  Some time ago I finished porting an <a href="http://imoregames.com/idracula.htm">iDracula</a> game <a href="http://imoregames.com/idracula.htm">- Undead Awakening,</a> which Moregames Entertainment developed from the iPhone platform to the Android platform. <br><br>  I am ready to share with you my thoughts and problems that I have encountered. <br><br><a name="habracut"></a><br>  I want to warn you that I have worked much more with the Android platform (based on the specifics of the task :), but I also have experience in developing more ‚Äúsmaller‚Äù games for the iPhone platform.  I also developed iPhone games on cpp, not ObjectC. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h2>  Environment and development tools </h2><br><br>  Difficult topic, given the difference between languages ‚Äã‚Äãand operating systems.  Therefore, short and IMHO. <br>  xCode unfortunately in my opinion it is difficult to call a modern IDE, especially when you have to work a lot and refactor someone else's code.  In this regard, the advantage of IntelliJ IDEA, or Eclipse (a plug-in for developing for Android is under both IDEs) is felt very strongly.  In some cases it was easier for me to transfer the code as is, and then to do a certain code refactoring already in the java version.  Debugging under xCode also requires much more skill and knowledge of certain specifics.  The disadvantages of the Android platform tools include some instability of plug-ins (especially eclipse) - they periodically forget adb.exe in memory, which makes profiling impossible via DDMS.  It is necessary to follow a clear order, first run ddms, then debug.  The essential disadvantage is also the heavy weight of the emulator - it starts a long time, it works slowly.  At 35 fps on the device, I have 15 fsd on the emulator on my MacBook Pro, and even less in debug mode, which makes it impossible to fully test many things.  The simulator for the iPhone starts almost instantly, and is not inferior in speed to the device. <br><br><h2>  Sdk </h2><br><br>  The only problem I encountered when developing for an iphone is the lack of ogg support.  The problem was solved by simply porting the corresponding library. <br><br>  Unfortunately, the Android SDK is not so simple. <br><br>  The most serious problem is memory leakage when using the OpenGL functions glXXXPointer.  In fact, for every function call we have a memory leak of dimensions into the array that we set.  Those.  what not to do when using these functions, we will sooner or later receive a call to gc, and this is from 200 to 1500 ms lag.  Here are the details.  Also, the cost of calling functions glXXXPointer is much higher, which, incidentally, is expected. <br><br>  The high cost of touchscreen processing - i.e.  Stupidly you have 50 fps, put your finger on the screen you have 30 fps.  For MotionEvent breeds and load the system.  The decision to do sleep after receiving MotionEvent solves the problem is not complete. <br><br>  Lack of multitouch support.  And at the SDK level, i.e.  even if you have a firmware that supports multitouch, or HTC Hero, which also has multitouch support - you currently cannot use it in your application. <br><br><h2>  Devices </h2><br><br>  Unfortunately at the moment we have quite different devices.  The main problems associated with the HTC Dream (G1).  G1 has a much worse trackball sensitivity than Magic and Hero.  Where the player will be comfortable playing using the Magic Trackball on the player, he may have problems on the Dream. <br><br>  There are problems and data acquisition from position sensors with music turned on.  If you play a music track with a volume of 0.5 of the maximum, then even in a stationary state you will receive bounce sensors from -40 to +40 from the possible range from -90 to +90 (-180 / + 180).  In fact, with this bounce, it is not possible to use position sensors to control the game.  Only when the volume is reduced to 0.2 of the maximum bounce decreases to the range of -4 / + 4, which is already acceptable. <br><br>  On G1, there are also problems with a small amount of memory, they are aggravated by the fact that widgets that the user places on his desktop can consume memory (up to 15 megabytes), but it‚Äôs not obvious to the user that they are running programs.  Therefore, you can receive different reviews from users with the same devices.  From "wow the game flies" to "it is impossible to play, only lags" (see the paragraph above about memorials). <br><br>  Problems with G1 with a small amount of space for installing programs, on average on a zero system, the user has about 30 megabytes.  After installing applications less.  If the application is large (the full version of iDracula is 13 megabytes), then there may be problems with the installation.  I will write below in more detail. <br><br><h2>  Delivery of content to the user </h2><br><br>  Unfortunately, the Android Market in all respects loses the AppStore. <br><br>  Currently, there is no possibility on the market to indicate the devices for which your application is developed. <br>  Those.  if your application needs a hardware keyboard, or multitouch (when it is entered), then the application will be visible to device owners without these options and you will receive a negative rating from them. <br><br>  Problems installing large apps.  After about five years on all cell phones, after installing the application, the user, after downloading the application if there is not enough space to install, in addition to the warning, receives a dialog with the ability to remove current applications and fight to continue the installation.  On android, he is forced to call a variety of menus for this action.  Moreover, if your application is 10 megabytes, then to install it requires a minimum of 20 megabytes (the downloaded file, and installation space). <br>  One solution is to install the application without resources, and download the resources by the application itself, saving them to the USB flash drive. <br>  I would like to see this as the standard feature of the SDK - the ability to mark part of the files for placement on a flash drive. <br>  It also lacks the ability to get information about the device on which the user leaves a review in addition to a review (for example, about the crash of the application), and ideally the log of the application as done in the iphone. <br>  There is not enough section Entertaiment - games are forced to compete in tops with applications like "Beautiful fire on your screen." <br>  Well, the lack of screenshots leads to the fact that the game is largely chosen based on the name (as no one reads descriptions), such a problem was, by the way, in the BREW market.  Plus there is a limit on the size of the description. <br><br>  If to summarize, you need to develop applications up to 3 megabytes in size, using, preferably, no more than 15 megabytes of memory and making a reserve for the brakes when working with touchscreen. <br><br>  Initially, there was a desire to write a more structured review and spend more time on the iphone, but I feel that this way the article would have lain in drafts for another month.  I hope the folded will be useful in this form.  I am ready to answer questions in the comments. <br><br>  PS If you have a ready-made game for iphone or another mobile platform and you want its port for Android with the condition of shared revenu or a fixed payment, then I will be happy to talk with you.  :) For example on Skype - youngskipper.  Ready to talk with other developers as well - discuss the platform. </div><p>Source: <a href="https://habr.com/ru/post/67231/">https://habr.com/ru/post/67231/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../67224/index.html">Anti-virus rescue: a set of what to cure viruses, quickly restore the health of a virus-free PC</a></li>
<li><a href="../67225/index.html">Haskell and Java - comparison on a real task (satellites, ICFP Contest)</a></li>
<li><a href="../67227/index.html">Nginx + symfony. Create virtual hosts automatically</a></li>
<li><a href="../67229/index.html">A tale about how a fake RAID 0 crashed</a></li>
<li><a href="../67230/index.html">What do you think is the optimal team size for creating a large web service for half a year?</a></li>
<li><a href="../67232/index.html">Sibirtelecom and anlim</a></li>
<li><a href="../67233/index.html">MT Browser Switcher - for those who use multiple browsers</a></li>
<li><a href="../67234/index.html">How to make Yandex.Disk unlimited file storage system</a></li>
<li><a href="../67235/index.html">Scammers are not asleep!</a></li>
<li><a href="../67237/index.html">ESET on the Meeting of the System Administrators</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>