<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>The second normal form in the examples</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="I will not retell here everything I know about normal forms and I am not going to write an exhaustive introduction on relational algebra and discrete ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>The second normal form in the examples</h1><div class="post__text post__text-html js-mediator-article">  <i>I will not retell here everything I know about normal forms and I am not going to write an exhaustive introduction on relational algebra and discrete mathematics, for this it is better to open a textbook.</i>  <i>Rather, I will try to explain in simple words why all this is needed and give examples.</i> <br><br>  What is the second normal form or 2NF?  So that the three-year-old child understood ... <br>  First, let's look at the goals pursued by normalization.  Under the cut a few terms from the discrete. <br><a name="habracut"></a><br>  The purpose of the reduction to the first normal form (1NF) is to enable the construction of statements about the data using the first-order predicate logic formulas.  In practice, this makes it possible to construct sample queries according to conditions, since the values ‚Äã‚Äãare of the same nature. <br><br>  For example, if the relationship 'Family' has the attribute 'Children', we can easily compare the two strings 'Vasya' and 'Anya' and determine their lexicographical order.  But comparing the lines 'Vasya' and 'Anya, Sasha' and determining their order is meaningless, and trying to solve this problem without decomposition will either lead to the introduction of rules for comparing scalars and lists, or to complicate the formula language.  The first-order predicate logic is not enough here.  Therefore, 1NF requires that all values ‚Äã‚Äãbe simple values ‚Äã‚Äãfrom a domain. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      That is, the first NF deals with the structure of the values ‚Äã‚Äãof records. <br><br>  The second (and third) NF already deals with keys and dependencies in the schema.  We list its <a href="http://en.wikipedia.org/wiki/Database_normalization">goals</a> with explanations. <br><br><ol><li>  The main goal of bringing to the second normal form is the desire to get rid of the redundancy of data storage and, as a consequence, to avoid anomalies of modification of these data (anomalies of change, insertion and deletion) </li><li>  Second in order, but not by value, the goal of normalization in 2NF is to split the data model into separate relations as much as possible so that they can be combined and used in expressions in new ways not originally intended. </li><li>  Minimize efforts to change the scheme if necessary.  The fewer dependencies within the schema, the fewer changes it will need when changing the data model. </li><li>  The clarity of the scheme for the user.  How to keep all the data in one large table, it is easier to present the data as several related and logically separated relationships.  It is easier to read, perceive, design and maintain.  In the end, any data model starts on a blackboard or paper in the form of circles, blocks and lines that children and programmers love to draw. </li></ol><br><br>  For example, we have a scheme <br><br><pre><code class="hljs cs">R = { <span class="hljs-string"><span class="hljs-string">''</span></span>, <span class="hljs-string"><span class="hljs-string">' -'</span></span>, <span class="hljs-string"><span class="hljs-string">' '</span></span> }</code> </pre> <br><br>  where the primary key is the <b>'Identifier'</b> , and the alternative key is the <b>'Name of the SD-disk'</b> .  This scheme is in 2NF, since the non-key attribute <b>'Group Name'</b> depends only on the key and does not depend on a subset of the attributes of this key (which are not present, see below). <br><br>  <i><b>The relationship scheme has 2NF if any non-key attribute depends only on the key, and does not depend on a subset of its attributes.</b></i> <br><br>  In general, it is possible to raise the question of the 2NF mismatch only if there are composite keys in the scheme.  Schemes with simple keys as in the example always have 2NF.  This scheme is just an example of such a case, since both keys (and this is the <b>'Identifier'</b> and <b>'The name of the SD-disk'</b> ) are simple, and the subsets of the attributes of these keys are empty. <br><br>  The 2NF mismatch is shown in the diagram. <br><br><pre> <code class="hljs cs">R = { <span class="hljs-string"><span class="hljs-string">' '</span></span>, <span class="hljs-string"><span class="hljs-string">' -'</span></span>, <span class="hljs-string"><span class="hljs-string">' '</span></span>, <span class="hljs-string"><span class="hljs-string">' '</span></span>, <span class="hljs-string"><span class="hljs-string">''</span></span> }</code> </pre><br><br>  The same song can be included in several discs, albums of the same name with songs of the same name from different groups, such as tributes, are also theoretically possible.  Therefore, the key will be <b>{'Group name', 'CD title', 'Song name'}</b> .  At the same time, the attributes <b>Author of Words</b> and <b>Composer</b> depend on the set of attributes <b>{'Group Name', 'Song Name'}</b> .  This is a violation of 2NF. <br><br>  The consequence of this model is the redundancy of storing the values ‚Äã‚Äãof the <b>'Word Author'</b> and <b>'Composer'</b> attributes for each CD-ROM which includes a song.  In the field of music, these values ‚Äã‚Äãdo not change, but in other domain areas, a change in such redundant data can lead to modification anomalies and a contradictory state of the database. <br><br>  Another consequence is that songs that have not yet been released on CDs, but simply broadcast by radio or released on other media, do not fit the specified data scheme.  Accordingly, we will not be able to add a new song to the database until it is released on the CD.  This is an example of insertion anomaly. <br><br>  Similarly, if we want to remove any disc from the database, we will have to lose the information about the authors and composers of all the songs that are included only in this disc, because in this model it is not possible to provide information about the author and the composer, if the song is not included in any diabetes.  This is an example of a deletion anomaly. <br><br>  To avoid such anomalies and remove redundancy, we need to break the scheme, that is, to decompose, into two schemes: <br><br><pre> <code class="hljs cs">R1 = { <span class="hljs-string"><span class="hljs-string">' '</span></span>, <span class="hljs-string"><span class="hljs-string">' '</span></span>, <span class="hljs-string"><span class="hljs-string">' '</span></span> } R2 = { <span class="hljs-string"><span class="hljs-string">' '</span></span>, <span class="hljs-string"><span class="hljs-string">' '</span></span>, <span class="hljs-string"><span class="hljs-string">''</span></span>, <span class="hljs-string"><span class="hljs-string">''</span></span> }</code> </pre><br><br>  Both schemes have 2NF, R1 - because it has no non-key attributes, and R2 - because <b>'Author'</b> and <b>'Composer'</b> depend on the key <b>{'Group Name', 'Song Name'}</b> and do not depend (functionally) on any of the attributes <b>' The name of the group</b> or the <b>name of the song</b> . <br><br>  We illustrate with another example.  We have parts in warehouses.  All this is presented in the table of the form. <br><br><pre> <code class="hljs ruby">---------------------------------------------- <span class="hljs-params"><span class="hljs-params">|  |</span></span>  <span class="hljs-params"><span class="hljs-params">|  |</span></span> <span class="hljs-number"><span class="hljs-number">_</span></span> <span class="hljs-params"><span class="hljs-params">| ==================----------------------------</span></span></code> </pre><br><br>  The key in this scheme is the pair <b>{'Detail', 'Warehouse'}</b> , but <b>'Warehouse Address'</b> functionally depends only on the <b>'Warehouse'</b> attribute, that is, on a subset of the key attributes.  Therefore, the 2NF requirements are not met.  What is bad?  First, the warehouse address will be duplicated for all parts in the warehouse (redundancy) and if the address changes, all these records will need to be changed to preserve integrity (deletion anomalies may occur).  Secondly, if there are no parts in the warehouse, then we are not able to store the address of the warehouse, since the scheme does not envisage such a situation.  Therefore, the addition of a new warehouse is impossible (insert anomaly), and the removal of parts from the warehouse means that we will lose information about its address (deletion anomaly). <br><br>  That's all. <br>  I hope it was clear, I went to deal with 3NF! </div><p>Source: <a href="https://habr.com/ru/post/113260/">https://habr.com/ru/post/113260/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../113253/index.html">PHP Cheat Sheet: FALSE, NULL and values ‚Äã‚Äãassociated with them</a></li>
<li><a href="../113255/index.html">NDIS. NET_BUFFER architecture</a></li>
<li><a href="../113256/index.html">Ten years from the beginning of mass communication in LiveJournal in Russian. And also: a possible start to the pro-Kremlin monitoring of the blogosphere.</a></li>
<li><a href="../113257/index.html">sjFilemanager is a free AJAX file manager. Wheel or know-how?</a></li>
<li><a href="../113258/index.html">Creating a simple bot for the online game world of warcraft</a></li>
<li><a href="../113263/index.html">We build Code Coverage collection in CruiseControl.NET</a></li>
<li><a href="../113264/index.html">Boot phone</a></li>
<li><a href="../113265/index.html">The idea of ‚Äã‚Äãwatching live broadcasts from phone to computer (YouTubeLive example)</a></li>
<li><a href="../113266/index.html">Search strings and related questions</a></li>
<li><a href="../113267/index.html">On foreign films can enter tax</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>