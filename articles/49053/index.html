<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>UPD. Demon video conversion to FLV.</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="This is a continuation, or rather development, of an article written earlier . 

 As a result of a small refactoring, it turned out to improve perform...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>UPD. Demon video conversion to FLV.</h1><div class="post__text post__text-html js-mediator-article"> <b>This is a continuation, or rather development, of an <a href="http://habrahabr.ru/blogs/development/48187/">article written earlier</a></b> . <br><br>  As a result of a small refactoring, it turned out to improve performance and simplify the code.  The result was a change in the list of used software. <a name="habracut"></a><br>  1. The preview is now not cut by mplaer, but by the ffmpegthumbnailer utility, which can cut a frame by the offset specified in percent of the total length of the clip.  No need to somehow get dilina roller.  She also resized the frame, which made it possible to stop using ImageMagik <br><br>  2. Instead of flvtool2, yamdi is used.  This utility is written in C, therefore faster.  In addition, it loads less memory, and it has a little more features. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Below is a section of code in which the major changes occurred. <br><br> <code><br> ..... <br> #    <br> (echo "Converting $FILE..." <br> sleep 5s <br> #     <br> mv ${SRC_DIR}/${FILE} ${TRG_DIR}/${FILE} <br> #  <br> THUMBNAIL="${USER_FOLDER}/${USER_ID}/video/${VIDEO_ID}.png" <br> ffmpegthumbnailer -i ${TRG_DIR}/${FILE} -o $THUMBNAIL -s ${THUMBNAIL_WIDTH} <br> #  <br> mencoder ${TRG_DIR}/${FILE} -o "${TRG_DIR}/${FILE}.${OUTPUT_FORMAT}" ${PARAMS} <br> #    <br> yamdi -i "${TRG_DIR}/${FILE}.${OUTPUT_FORMAT}" -o "${USER_FOLDER}/${USER_ID}/video/${VIDEO_ID}.${OUTPUT_FORMAT}" -c 'Your comment' -l <br> #   <br> rm ${TRG_DIR}/${FILE} <br> rm "${TRG_DIR}/${FILE}.${OUTPUT_FORMAT}" <br> ) &amp; <br> ... <br></code> </div><p>Source: <a href="https://habr.com/ru/post/49053/">https://habr.com/ru/post/49053/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../49046/index.html">The speed of technical support for Yandex</a></li>
<li><a href="../49047/index.html">Your new skill. Remote training</a></li>
<li><a href="../49049/index.html">We are Fedora-aa!</a></li>
<li><a href="../49050/index.html">Google Sitemap Generator</a></li>
<li><a href="../49052/index.html">Performance of simple and complex constructs in javascript</a></li>
<li><a href="../49054/index.html">RichFaces release 3.3.0 GA</a></li>
<li><a href="../49058/index.html">Clockwork radio</a></li>
<li><a href="../49059/index.html">Optional SideStage Monitor</a></li>
<li><a href="../49061/index.html">Universal password for sites</a></li>
<li><a href="../49062/index.html">UX Russia community online seminars: January</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>