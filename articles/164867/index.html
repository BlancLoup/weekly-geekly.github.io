<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Development of power supply for energy-intensive portable device</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Good day to all habrazhiteli. 

 This post is related to the ‚ÄúDo it yourself‚Äù section and describes a simple (in my opinion) way to solve the power co...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Development of power supply for energy-intensive portable device</h1><div class="post__text post__text-html js-mediator-article">  Good day to all habrazhiteli. <br><br>  This post is related to the ‚ÄúDo it yourself‚Äù section and describes a simple (in my opinion) way to solve the power control problem. <br><br>  At leisure, I pick a hefty boombox in the old Soviet tape recorder " <a href="">Electronics 211 Stereo</a> " with a soldering iron, the task is to assemble a portable unit with full stuffing, sufficient sound output and the duration of work for going out into the nature, training in the gym and for the garage voice.  Here are the requirements that I put forward when developing a device for its power: 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      - stable power supply for digital 5-volt devices built by me with an average current of at least 1A - an obsolete PDA, player, and also external devices - USB and SD flash drives, hard disk; <br>  - power amplifier power voltage from 11 to 18V; <br>  - autonomous power, sufficient for long-term operation of the device at maximum volume with constant performance; <br>  - external power supply 220 volt; <br>  - external power supply from the vehicle electrical system; <br>  - electronic power management; <br>  - zero battery power consumption in standby mode; <br>  - control of battery discharge of Li-Ion batteries with a discharge warning and auto-shutdown; <br>  - Selection of parts if possible from waste items (places in the body of the boombox with a large excess). <br><br>  In my opinion, all the development points were successfully implemented, partly except for the last one - I still had to spend $ 6.2 on the purchase of an <a href="http://dx.com/p/vmp3203-5v-high-efficiency-dc-dc-module-47817">effective DC-DC converter</a> module, another $ 13.2, respectively <a href="http://dx.com/p/trustfire-18650-3-7v-2500mah-rechargeable-lithium-batteries-2-pack-19770">,</a> 4 <a href="http://dx.com/p/trustfire-18650-3-7v-2500mah-rechargeable-lithium-batteries-2-pack-19770">batteries</a> .  and $ 2.8 <a href="http://dx.com/p/14-8v-4-x-18650-battery-holder-case-box-with-leads-103855">battery box</a> for 4 pieces.  The remaining parts were soldered from the burnt motherboards and the ancient Soviet iron in the assortment. <br><a name="habracut"></a><br><br>  Now the actual development steps themselves. <br>  In the text of the article, I will not indicate the designations of the parts used, they are given in the diagrams for convenience. <br><br>  <b>1.</b> The choice of the primary source of autonomous power. <br>  The primary power source is a 4 Li-Ion 18650 <a href="http://dx.com/p/trustfire-18650-3-7v-2500mah-rechargeable-lithium-batteries-2-pack-19770">battery</a> with a capacity of 2500 mAh without built-in charge / discharge control.  After researching the Internet for battery charging from 4 batteries connected in series, it turned out that this task is nontrivial and the decision was made to charge the batteries separately with an external charger - thus their service life would be maximum.  For one battery, the recommended cut-off voltages are lower and upper 2.75V and 4.2V, respectively, for assembling 4 batteries, the lower cut-off voltage should be 11V.  Compliance with the rules of operation when discharging and charging the battery ensures long-term battery life, so that they should not be neglected.  The maximum voltage of a charged battery can be 16.8V, the average operating voltage is 14.8V. <br><br>  <b>2.</b> Implementation of the primary power scheme. <br>  The ‚ÄúElectronics 211 Stereo‚Äù tape-recorder has a stabilized power supply according to a Zener diode circuit and a composite emitter follower, which can be easily tuned to 17V with a sufficient load current (shown in the dotted rectangle).  With the maximum possible battery charge of 16.8V, isolation of power and protection from polarity reversal is achieved by connecting the Schottky diode in series with the battery and connecting the circuit directly to the output capacitors of the standard power supply unit.  The leakage current of the battery in the absence of mains supply does not occur, since the base-emitter transition of the standard stabilizer transistor will be turned in the opposite direction.  An external 12 ... 14V power supply connector for a car is inserted into the battery circuit breakdown, the design of which includes a battery circuit breaker, which also provides power isolation. <br><img src="https://habrastorage.org/getpro/geektimes/post_images/038/9be/a09/0389bea09ea797d2dc1c61a270653217.png" alt="Primary Power Supply"><br><br>  <b>3.</b> Selection of the key element for power supply. <br>  The key element was found on the burnt motherboard n-channel power field-effect transistor <a href="http://www.datasheetcatalog.org/datasheet/on_semiconductor/MTD3302-D.PDF">MTD3302</a> .  The open channel resistance is 10 milliohm, the transistor opens with a voltage across the gate relative to the source of about 4V and above, the maximum drain-source voltage is 30V.  With a switched voltage of 13V at a load of 27 ohms, the drain-source voltage of the open transistor was vanishingly small.  Similar transistors can be found on any motherboard. <br><br>  <b>4.</b> Implementation of electronic on / off load and battery discharge control. <br>  Given the implementation of the primary power circuits, the key must switch the voltage from 11 to 18V, and also have control circuits that will not consume current when the key is open. <br>  The source of the reference voltage is selected Zener diode D814G to 11V, connected from the drain of the key in series with the damping resistor to the positive power.  The choice of the Zener diode is determined by a wide range of operating currents, which cannot be provided with a low-power analogue.  The silicon pnp transistor monitors the voltage on the quenching resistor, if the voltage is close to zero, the transistor closes and the circuit turns itself off.  With an open monitoring transistor (which means that the supply voltage is not lower than 11 volts), the gate of the key transistor is energized through a divider on high-resistance resistors, which keeps it open. <br>  The key state switching circuit is made on the basis of a charge accumulator on a capacitor, which is connected between the power supply and the key drain through high-resistance resistors.  When the key is open, the capacitor is charged, and the potential of its negative electrode relative to the source approaches zero, and vice versa - when the key is closed, the capacitor discharges through the load resistance and the potential of its negative electrode relative to the source approaches the supply voltage.  Since the time of charging and discharging the storage capacitor to the threshold value of the switching voltage relative to the source in 4V must be balanced, a separate charge / discharge circuit of the capacitor is given using a diode and an additional resistor.  When you press the power button accumulated on the capacitor charge opens or closes the key, and the circuit goes into one of its two stable states. <br><img src="https://habrastorage.org/getpro/geektimes/post_images/9a4/b53/d8c/9a4b53d8cf427ba33dc1a9608f9ad08f.png" alt="Power control circuit"><br><br>  <b>5.</b> Battery discharge indicator. <br>  For the indicator to work, it is necessary to monitor the level of the supply voltage in the same way as the controlling transistor in step 4 does,  You can use the finished part of the circuit with a zener diode, already implemented in Section 4.  It should also be borne in mind that the discharge indicator should be lit from the supply voltage level of approximately 12V and below until the key is closed.  The indicator amplifier is assembled on the basis of a cascade of two germanium transistors according to a scheme with common emitters with a positive feedback circuit for organizing hysteresis (ensures that the indicator is turned on abruptly as the threshold value passes).  Germanium transistors were chosen based on the fact that the base-emitter transitions of such transistors open at a much lower voltage drop than that of silicon, and thus you can adjust to the desired input voltage level before the controlling transistor de-energizes the key. <br><img src="https://habrastorage.org/getpro/geektimes/post_images/fa8/22e/d6c/fa822ed6c4251f9af68ccddc761af13b.png" alt="Power control circuit with battery discharge indicator"><br><br>  <b>6.</b> Selection of the voltage converter DC-DC 5V. <br>  I found an interesting device from the <a href="http://dx.com/p/vmp3203-5v-high-efficiency-dc-dc-module-47817">Chinese</a> - VMP3203.  This is a ready-made assembly, having in its composition practically all the necessary elements for use with a minimum of strapping.  The conversion efficiency for <a href="http://img.v-module.com/datasheets/DS_VMP3202_3.pdf">datasheet</a> is about 95%.  The maximum output current is 3A at a voltage of 5V.  Input voltage range 8 - 24V.  I have not yet tested the output voltage ripple, because the general assembly of the structure is not finished. <br><img src="https://habrastorage.org/getpro/geektimes/post_images/6a4/4d8/4ca/6a44d84ca58f4f1592bc70be4cf2da33.png" alt="Power control circuit with battery discharge indicator and 5-volt converter"><br><br>  <b>The result:</b> an electronic power management scheme, with the power supply of both digital devices and power amplifier.  The circuit monitors the discharge of the battery and warns of low voltage on the batteries, uses both autonomous and external power supply.  The battery discharge is eliminated due to the zero current consumption of the device turned off.  The overwhelming majority of details are taken from carefully organized nychek and dead motherboards.  Profit! <br><br>  <b>UPD1</b> An error was made when redrawing the circuit from a handful of wires.  The diode in the overload circuit of the capacitor opening / closing key was reversed, corrected.  The positive feedback resistor in the battery low voltage indicator amplifier circuit was chosen more accurately (200k instead of 75k).  If interested, I can lay out the layout and photos of the finished PCB. </div><p>Source: <a href="https://habr.com/ru/post/164867/">https://habr.com/ru/post/164867/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../164853/index.html">Programming for Android for beginners. Part 1</a></li>
<li><a href="../164855/index.html">Are they encrypted? We take out baytkod from JVM</a></li>
<li><a href="../164857/index.html">Building a torus with WPF</a></li>
<li><a href="../164859/index.html">Problems with the form and content of the list of sites Roskomnadzor</a></li>
<li><a href="../164865/index.html">Creating an encrypted USB flash drive with Linux OS</a></li>
<li><a href="../164869/index.html">How to make friends Django and Sphinx?</a></li>
<li><a href="../164871/index.html">AWS mobile management application</a></li>
<li><a href="../164873/index.html">Creating a resilient gateway based on Mikrotik RouterOS</a></li>
<li><a href="../164875/index.html">The theory of creating artificial intelligence</a></li>
<li><a href="../164877/index.html">Re-optimization ... where is the limit?</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>