<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Normal numbers. Episode II: De Bruin's Attack</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Good afternoon, dear habrazhiteli. As some of you may remember, in the previous post I threatened to show how a normal number is constructed, the proo...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Normal numbers. Episode II: De Bruin's Attack</h1><div class="post__text post__text-html js-mediator-article">  Good afternoon, dear habrazhiteli.  As some of you may remember, in the <a href="http://habrahabr.ru/post/193936/">previous post</a> I threatened to show how a normal number is constructed, the proof of which is normal, by elementary means.  Unfortunately, I have not had the opportunity to write this post for a month due to the unexpected transition of my account to read-on mode.  However, now I am back, so to speak, rested and can proceed to fulfill the promise. <br><br>  If you know what normal numbers are, and you wonder how to build them - please come in under cat.  If you do not know what normal numbers are - read the previous article (link above), then please come in under cat.  If you are not interested in how to build a normal number - still please come under the cut, because there I will talk about de Bruin's cycles, which are very interesting things in themselves. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/2b8/8f0/b77/2b88f0b77cff98acaa71e7ccb5ce45ea.png" alt="image">
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <a name="habracut"></a><br><br><h4>  Circus trained structures named Nicholas de Bruyna. </h4><br><br>  Comrade <a href="http://ru.wikipedia.org/wiki/%25D0%2594%25D0%25B5_%25D0%2591%25D1%2580%25D1%2591%25D0%25B9%25D0%25BD,_%25D0%259D%25D0%25B8%25D0%25BA%25D0%25BE%25D0%25BB%25D0%25B0%25D1%2581">de Bruin</a> (aka de Broyne, de Bruin, and even de Bruin sometimes) is, of course, not Gauss and not Euler, but personalia is also quite significant.  Among me, he is best known for results in the field of combinatorics and graph theory, however, they say, he was engaged in something else.  However, in this article, its achievements in other areas can be cynically neglected. <br><br>  <b>The de Bruin cycle</b> for some natural parameters n and k is a cyclic sequence of k <sup>n</sup> digits of a k-ary number system in which (sequences) any possible subsequence of length n occurs exactly once. <br><br>  Consider examples of de Bruin cycles for different k and n. <br><br>  n = 1, k = 2: the sequence ‚Äú01‚Äù will be the desired cycle, because it contains once all all possible binary sequences of length 1 (that is, a zero and one). <br>  n = 2, k = 2: the sequence "0110" suits us.  Let's check: it contains subsequences "01", "11", "10" and, thanks to cyclicity, "00".  These are all possible binary sequences of length 2. <br>  n = 3, k = 10: <div class="spoiler">  <b class="spoiler_title">Hidden text</b> <div class="spoiler_text">  0001002003004005006007008009011012013014015016017018019021022023024025026027028029031032033034035036 <br>  0370380390410420430440450460470480490510520530540550560570580590610620630640650660670680690710720730 <br>  7407507607707807908108208308408508608708808909109209309409509609709809911121131141151161171181191221 <br>  2312412512612712812913213313413513613713813914214314414514614714814915215315415515615715815916216316 <br>  4165166167168169172173174175176177178179182183184185186187188189192193194195196197198199222322422522 <br>  6227228229233234235236237238239243244245246247248249253254255256257258259263264265266267268269273274 <br>  2752762772782792832842852862872882892932942952962972982993334335336337338339344345346347348349354355 <br>  3563573583593643653663673683693743753763773783793843853863873883893943953963973983994445446447448449 <br>  4554564574584594654664674684694754764774784794854864874884894954964974984995556557558559566567568569 <br>  5765775785795865875885895965975985996667668669677678679687688689697698699777877978878979879988898999 </div></div><br>  In general, <a href="http://www.hakank.org/comb/debruijn.cgi">here, for example</a> , there is a de Bruin online cycle generator for any not too large parameters. <br><br>  According to rumors, the use of de Bruijn cycles can shorten the time of a brute force, if the device being broken breaks n last entered characters as a PIN code.  Instead of entering all k <sup>n</sup> possible codes in turn (which gives n * k <sup>n</sup> characters), you can enter a sequence of digits of a certain De Bruin cycle (which gives k <sup>n</sup> characters) with a small tail (n - 1 character to close cycle).  Total time gain is approximately n times.  However, I have never met with such devices, so for me it is just a rumor.  If you have something to say about this, post, please, in the comments, I would be interested. <br><br>  The first question that a mathematician should have after reading the above: ‚ÄúFor any k and n, does the corresponding de Bruin cycle exist?‚Äù The first question that should arise for a programmer is: ‚ÄúHow can I generate a de Bruin cycle for given k and n? ¬ªTo answer both of these questions, we introduce a new definition. <br><br>  <b>The de Bruin graph</b> for natural parameters k and n is a directed graph, the vertices of which correspond to all possible n-valued k-ary sequences, and the edges connect those and only those pairs of vertices for which the last n-1 digits of the first number coincide with the first n- 1 digits of the second number. <br><br>  Obviously, having found a cycle in this graph of Hamiltonians (i.e., a closed path along its edges passing through each vertex exactly once), we will also find the de Bruin cycle for the same parameters k and n (hereinafter we will use the abbreviated notation B (k, n)), and vice versa.  Indeed, the de Bruijn cycle is, in fact, ‚Äúgluing together‚Äù all possible n-valued sequences according to their common (n-1) -valued subsequences.  However, the Hamiltonian cycle in the De Bruin graph just provides such a method of "gluing". <br><br><img src="https://habrastorage.org/getpro/habr/post_images/c1e/90c/231/c1e90c2314b064ce6557f0fc89975e9a.gif" alt="image"><br><br>  So we answered the programmer's question.  <i>If</i> B (k, n) exists, we can find it by the corresponding algorithm on the corresponding graph.  However, the mathematician is not satisfied.  The existence of a Hamiltonian cycle is a completely non-obvious thing, which means it is not obvious <i>whether</i> B (k, n) <i>exists</i> .  Fortunately for the mathematician, there is another remarkable property of the de Bruin graph: every Eulerian (that is, passing through all the edges) cycle corresponds to a certain de Bruyn cycle B (k, n + 1).  Indeed, each edge of the de Bruin graph is a pair of ‚Äúglued‚Äù n-valued sequences, which can be interpreted as a single (n + 1) -valued sequence.  If one edge enters a vertex from which the second comes out, then the (n + 1) -valued sequences corresponding to these edges are ‚Äúglued together‚Äù along the common n-digit sequence corresponding to this vertex. <br><br>  The existence of Euler cycles is a well-studied question;  The criterion for the presence of an Eulerian cycle can be found, for example, <a href="http://ru.wikipedia.org/wiki/%25D0%25AD%25D0%25B9%25D0%25BB%25D0%25B5%25D1%2580%25D0%25BE%25D0%25B2_%25D1%2586%25D0%25B8%25D0%25BA%25D0%25BB">on Wikipedia</a> : <br><blockquote>  An oriented graph contains an Euler cycle if and only if it is strongly connected and for each vertex of the graph its half degree of entry is equal to its half degree of outcome, that is, as many edges enter the vertex as there are out of it. </blockquote><br>  Strong connectivity is when for any pair of vertices in a directed graph we can get from one to another, following the edges, and vice versa.  The half-degree of entry is how many edges enter the top.  The half degree of outcome is, accordingly, how many edges come out of it.  I suggest that the reader prove independently that the de Bruin graph satisfies the condition for the existence of an Euler cycle.  Seriously, if you have free time with nothing to occupy, write proof in the comments. <br><br><h4>  Say no to graphomania </h4><br>  Still, it is not very convenient to look for de Bruin cycles using graph algorithms, and it is sinful.  There are more efficient ways to build these cycles.  Here I will talk about one of them: with the help of necklaces.  The most inquisitive can read the <a href="http://www.sciencedirect.com/science/article/pii/0012365X7890002X">original article</a> , but I will explain everything briefly and without proof. <br><br>  <b>A necklace</b> is a finite sequence considered up to a cyclic shift.  That is, ‚Äú1100‚Äù, ‚Äú1001‚Äù, ‚Äú0011‚Äù are different records of the same necklace.  There are many interesting combinatorial results associated with necklaces, but now we will not be distracted by them. <br><br>  <b>Representative of the</b> necklace, we will call the record that goes before all other entries in lexicographical order.  The necklace from the previous example can be written in four ways: "1100", "1001", "0011", "0110".  Of these, the first ‚Äúalphabetically‚Äù is ‚Äú0011‚Äù, which will be the representative. <br><br>  <b>By periodic reduction of a</b> sequence, we call its smallest subsequence such that the original sequence consists of a certain number of its repetitions.  For example, ‚Äú0101‚Äù is ‚Äú01‚Äù repeated twice, so the subsequence ‚Äú01‚Äù is a periodic reduction of the sequence ‚Äú0101‚Äù.  Periodic reduction of the sequence "0000" will be a subsequence "0".  Most of the sequences can not be represented as a repetition of some smaller "piece", so their periodic reductions coincide with themselves. <br><br>  Now, having formulated these concepts, I can write an algorithm for constructing B (k, n) using necklaces: <br><br><ol><li>  We take all possible k-ary necklaces of length n; </li><li>  For each of them choose a representative; </li><li>  We write out the representatives in the lexicographical order; </li><li>  We replace each representative with a periodic reduction; </li><li>  ??? </li><li>  We built B (k, n). </li></ol><br><br>  Let's try this algorithm on the example of B (2,3).  We have only four binary necklaces of length three: from all ones, from all zeros, from one one and two zeros, from one zero and two ones.  Their representatives will be, respectively, "111", "000", "001", "011".  Sort them alphabetically: "000", "001", "011", "111".  After a periodic reduction, we get ‚Äú0‚Äù, ‚Äú001‚Äù, ‚Äú011‚Äù, ‚Äú1‚Äù.  The concatenation of these four binary words - "00010111" - will be B (2,3).  You can check it, you can believe my word of honor. <br><br>
<h4>  Let's return to our sheep </h4><br>  So, the construction of a normal number.  This paragraph will be very short.  Denote by B '(k, n) the sequence B (k, n), to which its first n-1 characters are added to the right.  It is good because every n-digit k-ary sequence enters it exactly once, <i>without taking into account cyclicity</i> .  To build a k-ary number, in normality of which there is no doubt, let‚Äôs take the infinite concatenation as its fractional part: B '(k, 1) + B' (k, 2) + ... + B '(k, n) + ... <br><br>  In principle, this post could have been completed, but I will explain just in case.  Any sequence of length m is included in B '(k, n), n ‚â• m, with exactly the same frequency as any other sequence of length m.  This is exactly what you need for a normal number.  Accordingly, errors in frequency can occur either for n &lt;m (and this is the initial piece of finite length, it cannot affect the asymptotic density), or at the ‚Äújunctions‚Äù between de Bruin cycles. <br><br>  Since the length B '(k, n) increases exponentially with increasing n, the asymptotic density of the junctions is zero, which means that the joints also cannot affect the asymptotic density of our sequence.  Conclusion: in the record of the number we have constructed for every n, all sequences of length n will meet with the same asymptotic density.  This is the definition of a normal number.  You can shout "hurray" and throw caps into the air: the theorem is proved. </div><p>Source: <a href="https://habr.com/ru/post/202220/">https://habr.com/ru/post/202220/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../202210/index.html">Never repeat this house: modification of the HC-128 encryption algorithm</a></li>
<li><a href="../202212/index.html">Python-digest # 2. News, interesting projects, articles and interviews [November 8, 2013 - November 15, 2013]</a></li>
<li><a href="../202214/index.html">Continuous Delivery hecho en Alawar</a></li>
<li><a href="../202216/index.html">Telephone radiations: myths and legends - and what determines the power of the telephone transmitter</a></li>
<li><a href="../202218/index.html">Meople.Net. How it works?</a></li>
<li><a href="../202222/index.html">Android eclipses iOS: MS-DOS of our time</a></li>
<li><a href="../202224/index.html">Video review tablet Samsung Galaxy Note 10.1 (2014)</a></li>
<li><a href="../202226/index.html">Online Podcast Organization</a></li>
<li><a href="../202228/index.html">Two sims, four cores - a review of Sony Xperia C</a></li>
<li><a href="../202232/index.html">Communication on the Internet: before and now</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>