<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Resize animated GIF images using PHP + GD</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Good day. 

 First, a small entry. 
 During the development of my own project, I was faced with the task of resizing GIF files using only PHP tools wi...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Resize animated GIF images using PHP + GD</h1><div class="post__text post__text-html js-mediator-article">  Good day. <br><br>  First, a small entry. <br>  During the development of my own project, I was faced with the task of resizing GIF files using only PHP tools without using the ImageMagick software package (I think you guessed why).  If there is a task to mean it must be solved, without giving it much attention and complexity, I went to the Internet to search for the implemented script as a function or class.  And to my surprise and chagrin (as the resize must be unequivocal) I found only two PHP scripts, the authors of which made an attempt to realize this non-trivial task (I generally keep silent about only alternative ImageMagick there for other languages), although I rummaged the Internet up and down. <br><a name="habracut"></a><br>  - first script: trying two classes GIFDecoder.class.php and GIFEncoder.class.php, which were used to generate GIF animation, teach resize GIF images;  as a result, the end user has to write almost a third class to work with data, and judging by the reviews, only half succeed;  but this is not the main thing, but the main thing is that the resizing of many files is incorrect (problems with transparency, interlacing, frame processing, etc.), there are quite a lot of these files and therefore not suitable for the task, <a href="http://www.phpclasses.org/browse/author/283569.html">link to the author‚Äôs page</a> <br><br>  - second script: the gifresizer.php class is already more complete, specialized and easier to use, and is considered the best on the Internet today, but my experiments with it showed that this class has problems with processing GIF files that have graphics data optimization, as well as incorrect work with the palette, and the worst thing is that from some GIF files the script goes into an infinite loop, about which the truth is honestly written by the author himself <a href="http://www.phpclasses.org/package/7353-PHP-Resize-animations-in-files-of-the-GIF-format.html">link to the class page</a> 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Of the above reasons, none of the classes naturally came up.  What to do?!!!  Having a little thought, having rolled up our sleeves and having postponed for a while the main project, I decided to implement an unimplemented class, namely, for a full-fledged and most importantly correct resizing of GIF files.  For a long time I will not say only one thing, the task was really non-trivial complexity, and all due to the fact that the tricky structure of the GIF file, although a standardized standard, few people follow, more precisely, the standard does not conform to the standard. <br><br>  During the development process, the code was rewritten three times (sometimes there were thoughts to throw this thankless task), and as a result a class appeared for resizing animated GIF files with <b>GIF_eXG</b> transparency <b>support</b> .  A distinctive feature of the class is: fast, stable and correct work, as well as ease of use.  Moreover, the class goes through (read: corrects errors) the source file so that it at least approximately corresponds to the standard, as a result in Windows where there were problems with animation playback (in this OS) after the resize animation plays correctly. <br><br>  I performed the analysis of the structure and analysis of each bit manually and did not resort to the functions of analyzing the graphic file of the GD library, which in its nature is rather buggy.  It (the GD library) was connected only to resize a single frame.  With the use of the GD library for resizing a single frame, one glitch is associated (usually 1 to 50-70 resizes), which is a small graphic artifact in the form of scattered pixels. <br><br>  Class usage example: <br><br>  require_once "gif_exg.php"; <br><br>  $ nGif = new GIF_eXG ("../ image / src.gif", 1); <br>  $ nGif-&gt; resize ("../ image / dst1.gif", 180,180,1,0); <br>  $ nGif-&gt; resize ("../ image / dst2.gif", 150,150,0,0); <br><br>  I think everything is clear, only small comments on the parameters passed: <br>  - in the constructor, the second parameter is responsible for the optimization of the structure, if (1) the output file is more compact in size, if (0) the entire original structure is preserved; <br>  - in the only open function resize, the fourth parameter indicates whether to observe symmetry (1), or not to comply with (0); <br>  - the fifth parameter is experimental: (1) try to interpolate pixels, (0) without interpolation (recommended); <br><br>  Place of application of the class: the creation of animated avatars, previews, image galleries and so on. <br><br>  The file contains instructions in broken English (sorry for it in advance, problems with foreign languages) for the international community, I think you will understand. <br><br>  Links to the class ( <b>current version 1.07</b> ): <br><br>  <a href="http://www.phpclasses.org/package/8126-PHP-Resize-animated-GIF-images-with-transparency.html">class GIF_eXG (PhpClasses)</a> <br>  <a href="https://github.com/Yuriy-Khomenko/GIF_eXG">class GIF_eXG (GitHub)</a> </div><p>Source: <a href="https://habr.com/ru/post/186084/">https://habr.com/ru/post/186084/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../186074/index.html">Connect to the online broadcast of the international final of the Imagine Cup!</a></li>
<li><a href="../186076/index.html">Universal Analytics - New Generation Web Analytics</a></li>
<li><a href="../186078/index.html">We write our Orm for Android with Canas and Senorites</a></li>
<li><a href="../186080/index.html">PHPStorm + XDebug + Bitbucket: development on a remote server in a small team</a></li>
<li><a href="../186082/index.html">Browser game with the eyes of a game designer</a></li>
<li><a href="../186086/index.html">Google has released a patch for the vulnerability in Android</a></li>
<li><a href="../186088/index.html">A little bit about managing HTPC</a></li>
<li><a href="../186092/index.html">Tablet for the elderly. Part two</a></li>
<li><a href="../186096/index.html">PC makers will get Windows 8.1 at the end of August</a></li>
<li><a href="../186098/index.html">Should I put Gentoo for the sake of acceleration?</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>