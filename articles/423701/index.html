<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Node.js tutorial, part 3: hosting, REPL, work with console, modules</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="This is the third part of the translation of the Node.js guide. Today we will talk about choosing hosting for Node.js projects, how to work with Node....">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Node.js tutorial, part 3: hosting, REPL, work with console, modules</h1><div class="post__text post__text-html js-mediator-article">  This is the third part of the translation of the Node.js guide.  Today we will talk about choosing hosting for Node.js projects, how to work with Node.js in the REPL mode and how to run scripts with arguments, about interaction with the console and about modules. <br><br> <a href="https://habr.com/company/ruvds/blog/423701/"><img src="https://habrastorage.org/webt/he/di/2j/hedi2j_qyfbnwfo_jqnnqd3ub6o.png"></a> <br><br><div class="spoiler">  <b class="spoiler_title">[We advise to read] Other parts of the cycle</b> <div class="spoiler_text">  Part 1: <a href="https://habr.com/company/ruvds/blog/422893/">General Information and Getting Started</a> <br>  Part 2: <a href="https://habr.com/company/ruvds/blog/423153/">JavaScript, V8, some design tricks</a> <br>  Part 3: <a href="https://habr.com/company/ruvds/blog/423701/">Hosting, REPL, work with the console, modules</a> <br>  Part 4: <a href="https://habr.com/company/ruvds/blog/423703/">npm, package.json and package-lock.json files</a> <br>  Part 5: <a href="https://habr.com/company/ruvds/blog/423705/">npm and npx</a> <br>  Part 6: <a href="https://habr.com/company/ruvds/blog/424553/">event loop, call stack, timers</a> <br>  Part 7: <a href="https://habr.com/company/ruvds/blog/424555/">Asynchronous Programming</a> <br>  Part 8: <a href="https://habr.com/company/ruvds/blog/424557/">Node.js Guide, Part 8: HTTP and WebSocket Protocols</a> <br>  Part 9: <a href="https://habr.com/company/ruvds/blog/424969/">Node.js Tutorial, Part 9: Working with the File System</a> <br>  Part 10: <a href="https://habr.com/company/ruvds/blog/425667/">Node.js Guide, part 10: standard modules, streams, databases, NODE_ENV</a> <br>  <a href="https://habr.com/company/ruvds/blog/428576/">Full PDF Node.js Manual</a> <br></div></div><a name="habracut"></a><br><h2>  <font color="#3AC1EF">Hosting for Node.js applications</font> </h2><br>  The choice of hosting for Node.js applications depends on your needs.  Here is a small list of hosting options that you can explore by deciding to deploy your application and make it publicly available.  First, consider the simple options, the possibilities of which are limited, and then - more complex, but also have more serious features. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h3>  <font color="#3AC1EF">‚ñçThe simplest hosting option: local tunnel</font> </h3><br>  Even if your computer is assigned a dynamic IP address or you are behind NAT, you can deploy your application on it and serve user requests to it using a local tunnel. <br><br>  This option is suitable for quickly organizing testing, to arrange a product demonstration, or to give an application to a very small group of people. <br><br>  For the organization of local tunnels there is a very good service, <a href="https://ngrok.com/">ngrok</a> , available for many platforms. <br><br>  Using ngrok, just run a command like <code>ngrok PORT</code> and the port you specified will be available from the Internet.  You have at the same time, if you use the free version of the service, there will be an address in the <code>ngrok.io</code> domain.  If you decide to make a paid subscription, you can use your own domain names, and, in addition, you can increase the security of the solution (using ngrok, you open access to your computer all over the Internet). <br><br>  Another tool that can be used to organize local tunnels is called <a href="https://github.com/localtunnel/localtunnel">localtunnel</a> . <br><br><h3>  <font color="#3AC1EF">‚ñçMeduals for deploying Node.js projects that do not require configuration</font> </h3><br><h4>  Glitch </h4><br>  <a href="https://glitch.com/">Glitch</a> is an interactive environment and platform for rapid application development, which allows you to deploy them in glitch.com subdomains.  This platform does not support its own user domains yet; there are some <a href="https://glitch.com/faq">limitations</a> when working with it, but it is great for working on application prototypes.  The design of the Glitch looks pretty funny (perhaps it can be written into the advantages of this platform), but this is not some kind of ‚Äútoy‚Äù, a very limited environment.  Here you have the opportunity to work with Node.js, CDN, secure storage for confidential information, the ability to exchange data with GitHub and much more. <br><br>  The Glitch project is run by the same company behind FogBugz and Trello (which is also one of the creators of StackOverflow).  I often use this platform to demonstrate applications. <br><br><h4>  Codepen </h4><br>  <a href="https://codepen.io/">Codepen</a> is a great platform around which an interesting community has been formed.  Here you can create projects that include many files, and deploy them using your own domain. <br><br><h3>  <font color="#3AC1EF">‚ñçServer environments</font> </h3><br>  Serverless platforms allow you to publish applications without worrying about servers at all, about setting them up or managing them.  The paradigm for serverless computing is that applications are published as functions that respond to calls to the network endpoint.  Such an approach to the deployment of applications is also called FAAS (Functions As A Service, function as a service). <br><br>  Here are a couple of popular solutions in this area: <br><br><ul><li>  <a href="https://serverless.com/framework/">Serverless</a> framework. </li><li>  <a href="https://stdlib.com/">Standard</a> Library. </li></ul><br>  Both of these projects provide the developer with a certain level of abstraction that allows publishing applications on various FAAS platforms, for example, on Amazon AWS Lambda, on Microsoft Azure and on Google Cloud. <br><br><h3>  <font color="#3AC1EF">‚ñçPAAS solutions</font> </h3><br>  PAAS (Platform As A Service, platform as a service) are platforms that take care of many things that, under normal conditions, the developer should take care of when deploying the application. <br><br><h4>  Zeit Now </h4><br>  <a href="https://zeit.co/now">Zeit</a> is an interesting option for deploying applications.  Deployment, when using this platform, comes down to typing the <code>now</code> command in the terminal.  There is a free version of Zeit, there are some limitations when working with it.  There is also a paid, more powerful version of this platform.  Using Zeit, you can simply not think that you need a server to run your application.  You simply deploy the application, and everything else is managed by this platform. <br><br><h4>  Nanobox </h4><br>  The creators of the <a href="https://nanobox.io/">Nanobox</a> platform, which includes the deployment of Node.js applications, call it PAAS V2. <br><br><h4>  Heroku </h4><br>  <a href="https://www.heroku.com/">Heroku</a> is another great platform for hosting Node.js applications.  <a href="https://devcenter.heroku.com/articles/getting-started-with-nodejs">Here is a</a> good article on how to work with it. <br><br><h4>  Microsoft Azure </h4><br>  <a href="https://azure.microsoft.com/en-us/">Azure</a> is a cloud platform from Microsoft.  In its documentation there is a <a href="https://docs.microsoft.com/en-us/javascript/azure/%3Fview%3Dazure-node-latest">section</a> dedicated to Node.js applications. <br><br><h4>  Google Cloud Platform </h4><br>  <a href="https://cloud.google.com/">Google Cloud</a> is a great environment for deploying Node.js applications.  <a href="https://cloud.google.com/node/">Here is the</a> relevant section of its documentation. <br><br><h3>  <font color="#3AC1EF">‚ñçVPS hosting</font> </h3><br>  There are many platforms that provide <a href="https://habr.com/company/ruvds/blog/311608/">VPS hosting services</a> .  A common feature of such platforms is the fact that a developer gets a virtual server at his disposal, independently installs an operating system (Linux or Windows) on it, and independently develops applications. <br><br>  Among the platforms that provide VPS services, of which there are a great many, we can note the following, which I used and which I could recommend to others: <br><br><ul><li>  <a href="https://www.digitalocean.com/">Digital ocean</a> </li><li>  <a href="https://www.linode.com/">Linode</a> </li><li>  <a href="https://aws.amazon.com/">Amazon Web Services</a> (in particular, I would like to mention <a href="https://aws.amazon.com/ru/elasticbeanstalk/">AWS Elastic Beanstalk</a> , which facilitates application deployment and AWS resource management). </li></ul><br>  <i>From our <a href="https://ruvds.com/">side</a> , we add that <a href="https://ruvds.com/">RUVDS</a> also provides VPS hosting services.</i>  <i>We are licensed by FSTEC, our clients are insured by AIG, we have four data centers in different countries.</i>  <i>We have our own <a href="https://habr.com/company/ruvds/blog/313112/">RUCLOUD</a> data center of TIER 3 level in Korolev, Moscow region, as well as tight areas in the data centers <a href="https://habr.com/company/ruvds/blog/320218/">Deltalis (Switzerland)</a> , <a href="https://habr.com/company/ruvds/blog/416133/">London Equinix LD8 (United Kingdom)</a> , and <a href="https://habr.com/company/ruvds/blog/417487/">MMTS-9</a> (Moscow, Russia).</i>  <i>All germozones meet the level of reliability not lower than TIER 3.</i> <i><br><br></i>  <i>Partners of the company are Finam JSC, BCS Financial Group, the National Settlement Depository (Moscow Exchange), VTsIOM JSC, Gars-Telecom, the Gett taxi operator, the Delivery Club delivery operator and many others.</i> <i><br></i> <br><br><h3>  <font color="#3AC1EF">‚ñç Normal server</font> </h3><br>  Another hosting solution is to purchase (or rent, for example, using the <a href="https://www.vultr.com/pricing/baremetal/">Vultr Bare Metal service</a> ) a regular server, install Linux and other software on it, connect it to the Internet and host Node.js applications on it. <br><br>  Hosting is a huge topic, but we hope the materials in this section will allow you to choose exactly what you need.  Now let's move on to the story about working with Node.js in the REPL mode. <br><br><h2>  <font color="#3AC1EF">Using Node.js in REPL Mode</font> </h2><br>  The REPL abbreviation stands for Read-Evaluate-Print-Loop (the cycle ‚Äúread-calculate-output‚Äù).  Using REPL is a great way to quickly explore the possibilities of Node.js. <br><br>  As you already know, the <code>node</code> command is used to run scripts in Node.js, it looks like this: <br><br><pre> <code class="hljs nginx"><span class="hljs-attribute"><span class="hljs-attribute">node</span></span> script.js</code> </pre> <br>  If you enter the same command, but do not specify the file name, Node.js will be launched in the REPL mode: <br><br><pre> <code class="hljs">node</code> </pre> <br>  If you try now to enter such a command in your terminal, you will see something like the result: <br><br><pre> <code class="hljs markdown"><span class="hljs-quote"><span class="hljs-quote">&gt; node &gt;</span></span></code> </pre> <br>  Node.js is now in standby mode.  The system is waiting for us to enter some JavaScript code on the command line that it will execute. <br><br>  First, let's try something very simple: <br><br><pre> <code class="hljs javascript">&gt; <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(<span class="hljs-string"><span class="hljs-string">'test'</span></span>) test <span class="hljs-literal"><span class="hljs-literal">undefined</span></span> &gt;</code> </pre> <br>  Here we suggested Node.js to execute the command used to output data to the console.  The first value, <code>test</code> , is what the <code>console.log('test')</code> command <code>console.log('test')</code> .  The second value, <code>undefined</code> , is what <code>console.log()</code> returns. <br><br>  After the command is completed, the REPL prompt appears, which means that we can enter a new command here. <br><br><h3>  <font color="#3AC1EF">‚ñçCompletion of commands with the Tab key</font> </h3><br>  REPL is an interactive environment.  If in the process of writing the code, press the <code>Tab</code> key on the keyboard, the REPL will try to automatically complete the input by selecting, for example, the appropriate name of a variable already declared by you or the name of a standard object. <br><br><h3>  <font color="#3AC1EF">‚ñç JavaScript Object Exploration</font> </h3><br>  Enter in the command line the name of some standard JavaScript object, for example, <code>Number</code> , add a period after it and press the <code>Tab</code> key. <br><br>  The REPL will list the properties and methods of the object with which the developer can interact: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/d67/455/2ac/d674552aca4cc48b60109e9602dc6d2a.png"></div><br>  <i><font color="#999999">Number Object Study</font></i> <br><br><h3>  <font color="#3AC1EF">‚ñç Global Object Investigation</font> </h3><br>  To find out which Node.js global objects you can work with, enter the <code>global.</code> command in the terminal <code>global.</code>  and press <code>Tab</code> . <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/059/a52/b1a/059a52b1a742940e161b43a2af29bd51.png"></div><br>  <i><font color="#999999">Study of global objects</font></i> <br><br><h3>  <font color="#3AC1EF">‚ñçSpecial variable _</font> </h3><br>  The variable <code>_</code> (underscore) stores the result of the last operation performed.  This variable can be used as part of commands entered into the console. <br><br><h3>  <font color="#3AC1EF">‚ñç Commands beginning with a point</font> </h3><br>  In REPL mode, you can use some special commands that start with a dot.  Here they are: <br><br><ul><li>  The <code>.help</code> command displays reference information for commands beginning with a dot. </li><li>  The <code>.editor</code> command <code>.editor</code> system into editor mode, which makes it easy to enter multi-line JavaScript code.  After being in this mode, you will enter everything you want, use the command <code>Ctrl+D</code> to launch the code. </li><li>  The <code>.break</code> command allows <code>.break</code> to interrupt the input of a multi-line expression.  Its use is similar to the use of the keyboard shortcut <code>Ctrl+C</code> </li><li>  The <code>.clear</code> command clears the REPL context, and also interrupts the input of a multi-line expression. </li><li>  The <code>.load</code> command loads the code from a JavaScript file into the current session. </li><li>  The <code>.save</code> command saves to the file everything that was entered during the REPL session. </li><li>  The <code>.exit</code> command allows <code>.exit</code> to exit a REPL session, it acts like two successive <code>Ctrl+C</code> keystrokes. </li></ul><br>  It should be noted that the REPL recognizes the input of multi-line expressions and without using the <code>.editor</code> . <br><br>  For example, we began to enter an iterator code: <br><br><pre> <code class="hljs javascript">[<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">3</span></span>].forEach(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">num</span></span></span><span class="hljs-function"> =&gt;</span></span> {</code> </pre> <br>  If, after entering the curly bracket, press the <code>Enter</code> key, the REPL will move to a new line, the invitation in which will look like three dots.  This indicates that we can enter the code of the corresponding block.  It looks like this: <br><br><pre> <code class="hljs matlab">... console.<span class="hljs-built_in"><span class="hljs-built_in">log</span></span>(num) ... })</code> </pre> <br>  Pressing <code>Enter</code> after entering the last bracket will execute the expression.  If you enter <code>.break</code> in this mode, input will be aborted and the expression will not be executed. <br><br>  The REPL mode is a useful Node.js feature, but its scope is limited to small experiments.  We are also interested in something more than the ability to perform a couple of commands.  Therefore, we proceed to working with Node.js as usual.  Namely, let's talk about how Node.js scripts can take command line arguments. <br><br><h2>  <font color="#3AC1EF">Working with command line arguments in Node.js scripts</font> </h2><br>  When you run Node.js scripts, you can pass arguments to them.  Here is the usual script call: <br><br><pre> <code class="hljs nginx"><span class="hljs-attribute"><span class="hljs-attribute">node</span></span> app.js</code> </pre> <br>  The arguments passed to the script can be either independent values ‚Äã‚Äãor constructions of the key-value type.  In the first case, the launch of the script looks like this: <br><br><pre> <code class="hljs nginx"><span class="hljs-attribute"><span class="hljs-attribute">node</span></span> app.js flavio</code> </pre> <br>  In the second - so: <br><br><pre> <code class="hljs pgsql">node app.js <span class="hljs-type"><span class="hljs-type">name</span></span>=flavio</code> </pre> <br>  What method of passing arguments is used depends on how you can work with them in the script code. <br><br>  So, in order to get access to the command-line arguments, the standard Node.js <code>process</code> object is used.  It has a property <code>argv</code> , which is an array containing, among other things, the arguments passed to the script at startup. <br><br>  The first element of the <code>argv</code> array contains the full path to the file that is executed when the <code>node</code> command is entered on the command line. <br><br>  The second element is the path to the script file to be executed. <br><br>  All other elements of the array, starting with the third, contain what was passed to the script when it was launched. <br><br>  Brute-force arguments in <code>argv</code> (this includes both the path to the <code>node</code> and the path to the executable script file) can be organized using the <code>forEach</code> loop: <br><br><pre> <code class="hljs javascript">process.argv.forEach(<span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">val, index</span></span></span><span class="hljs-function">) =&gt;</span></span> { <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(<span class="hljs-string"><span class="hljs-string">`</span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${index}</span></span></span><span class="hljs-string">: </span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${val}</span></span></span><span class="hljs-string">`</span></span>) })</code> </pre> <br>  If the first two arguments do not interest you, on the basis of <code>argv</code> you can form a new array, which will include everything from <code>argv</code> except the first two elements: <br><br><pre> <code class="hljs objectivec"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> args = process.argv.slice(<span class="hljs-number"><span class="hljs-number">2</span></span>)</code> </pre> <br>  Suppose, when running a script, only one argument was passed to it, in the form of an independent value: <br><br><pre> <code class="hljs nginx"><span class="hljs-attribute"><span class="hljs-attribute">node</span></span> app.js flavio</code> </pre> <br>  Refer to this argument as follows: <br><br><pre> <code class="hljs objectivec"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> args = process.argv.slice(<span class="hljs-number"><span class="hljs-number">2</span></span>) args[<span class="hljs-number"><span class="hljs-number">0</span></span>]</code> </pre> <br>  Now we will try to use the key-value type construction: <br><br><pre> <code class="hljs pgsql">node app.js <span class="hljs-type"><span class="hljs-type">name</span></span>=flavio</code> </pre> <br>  With this approach, after forming the <code>args</code> array, the <code>name=flavio</code> in <code>args[0]</code> will <code>name=flavio</code> .  Before using the argument, this line must be parsed.  The most convenient way to do this is to use the <a href="https://www.npmjs.com/package/minimist">minimist</a> library, which is designed to make it easier to work with command line arguments: <br><br><pre> <code class="hljs javascript"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> args = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">'minimist'</span></span>)(process.argv.slice(<span class="hljs-number"><span class="hljs-number">2</span></span>)) args[<span class="hljs-string"><span class="hljs-string">'name'</span></span>] <span class="hljs-comment"><span class="hljs-comment">//flavio</span></span></code> </pre> <br>  Now consider the output to the console. <br><br><h2>  <font color="#3AC1EF">Outputting data to the console using the console module</font> </h2><br>  The standard module Node.js <a href="https://nodejs.org/api/console.html">console</a> gives the developer a lot of opportunities to interact with the command line during program execution.  In general, this is the same as the <code>console</code> object used in browser-based JavaScript.  Perhaps the simplest and most widely used method of the <code>console</code> module is <code>console.log()</code> , which is used to output the string data transmitted to it to the console.  At the same time, if you pass an object to it, then it will be converted to its string representation before output. <br><br>  The <code>console.log()</code> method can pass multiple values: <br><br><pre> <code class="hljs javascript"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> x = <span class="hljs-string"><span class="hljs-string">'x'</span></span> <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> y = <span class="hljs-string"><span class="hljs-string">'y'</span></span> <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(x, y)</code> </pre> <br>  After executing this sequence of instructions, both the <code>x</code> value and the <code>y</code> value will be included in the console. <br><br>  To form complex strings, the <code>console.log()</code> command supports the use of wildcard characters, which, when outputting data, are replaced with their corresponding values ‚Äã‚Äãin the order of precedence. <br><br>  For example, here is a command that displays the text <code>My cat has 2 years</code> : <br><br><pre> <code class="hljs pgsql">console.log(<span class="hljs-string"><span class="hljs-string">'My %s has %d years'</span></span>, <span class="hljs-string"><span class="hljs-string">'cat'</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>)</code> </pre> <br>  Consider the features of wildcard characters: <br><br><ul><li>  <code>%s</code> formats the value as a string. </li><li>  <code>%d</code> or <code>%i</code> format the value as an integer. </li><li>  <code>%f</code> formats the value as a floating point number. </li><li>  <code>%O</code> used to display string representations of objects. </li></ul><br>  Here is another example of using wildcard characters: <br><br><pre> <code class="hljs javascript"><span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(<span class="hljs-string"><span class="hljs-string">'%O'</span></span>, <span class="hljs-built_in"><span class="hljs-built_in">Number</span></span>)</code> </pre> <br><h3>  <font color="#3AC1EF">Cleaning console</font> </h3><br>  To clear the console, use the <code>console.clear()</code> command (its behavior in different terminals may vary). <br><br><h3>  <font color="#3AC1EF">‚ñçCounting of elements</font> </h3><br>  We will now look at a useful <code>console.count()</code> method.  Take a look at this code: <br><br><pre> <code class="hljs javascript"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> x = <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> y = <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> z = <span class="hljs-number"><span class="hljs-number">3</span></span> <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.count( <span class="hljs-string"><span class="hljs-string">'The value of x is '</span></span> + x + <span class="hljs-string"><span class="hljs-string">' and has been checked .. how many times?'</span></span> ) <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.count( <span class="hljs-string"><span class="hljs-string">'The value of x is '</span></span> + x + <span class="hljs-string"><span class="hljs-string">' and has been checked .. how many times?'</span></span> ) <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.count( <span class="hljs-string"><span class="hljs-string">'The value of y is '</span></span> + y + <span class="hljs-string"><span class="hljs-string">' and has been checked .. how many times?'</span></span> )</code> </pre> <br>  The <code>count()</code> method counts the number of line breaks and displays the result next to them. <br>  Using this method, you can, in the following example, count apples and oranges: <br><br><pre> <code class="hljs javascript"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> oranges = [<span class="hljs-string"><span class="hljs-string">'orange'</span></span>, <span class="hljs-string"><span class="hljs-string">'orange'</span></span>] <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> apples = [<span class="hljs-string"><span class="hljs-string">'just one apple'</span></span>] oranges.forEach(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">fruit</span></span></span><span class="hljs-function"> =&gt;</span></span> { <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.count(fruit) }) apples.forEach(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">fruit</span></span></span><span class="hljs-function"> =&gt;</span></span> { <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.count(fruit) })</code> </pre> <br><h3>  <font color="#3AC1EF">‚ñçDelete to the stack trace results console</font> </h3><br>  Sometimes it is useful to display the function‚Äôs stack trace in the console.  For example, in order to answer the question of how we got in a certain place of the program.  You can do this with the following command: <br><br><pre> <code class="hljs mel">console.<span class="hljs-keyword"><span class="hljs-keyword">trace</span></span>()</code> </pre> <br>  Here is an example of its use: <br><br><pre> <code class="hljs javascript"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> function2 = <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.trace() <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> function1 = <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> function2() function1()</code> </pre> <br>  This is what happened when I ran this code in REPL mode: <br><br><pre> <code class="hljs css"><span class="hljs-selector-tag"><span class="hljs-selector-tag">Trace</span></span>   <span class="hljs-selector-tag"><span class="hljs-selector-tag">at</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">function2</span></span> (<span class="hljs-selector-tag"><span class="hljs-selector-tag">repl</span></span><span class="hljs-selector-pseudo"><span class="hljs-selector-pseudo">:1</span></span><span class="hljs-selector-pseudo"><span class="hljs-selector-pseudo">:33)</span></span>   <span class="hljs-selector-tag"><span class="hljs-selector-tag">at</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">function1</span></span> (<span class="hljs-selector-tag"><span class="hljs-selector-tag">repl</span></span><span class="hljs-selector-pseudo"><span class="hljs-selector-pseudo">:1</span></span><span class="hljs-selector-pseudo"><span class="hljs-selector-pseudo">:25)</span></span>   <span class="hljs-selector-tag"><span class="hljs-selector-tag">at</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">repl</span></span><span class="hljs-selector-pseudo"><span class="hljs-selector-pseudo">:1</span></span><span class="hljs-selector-pseudo"><span class="hljs-selector-pseudo">:1</span></span>   <span class="hljs-selector-tag"><span class="hljs-selector-tag">at</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">ContextifyScript</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.Script</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.runInThisContext</span></span> (<span class="hljs-selector-tag"><span class="hljs-selector-tag">vm</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.js</span></span><span class="hljs-selector-pseudo"><span class="hljs-selector-pseudo">:44</span></span><span class="hljs-selector-pseudo"><span class="hljs-selector-pseudo">:33)</span></span>   <span class="hljs-selector-tag"><span class="hljs-selector-tag">at</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">REPLServer</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.defaultEval</span></span> (<span class="hljs-selector-tag"><span class="hljs-selector-tag">repl</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.js</span></span><span class="hljs-selector-pseudo"><span class="hljs-selector-pseudo">:239</span></span><span class="hljs-selector-pseudo"><span class="hljs-selector-pseudo">:29)</span></span>   <span class="hljs-selector-tag"><span class="hljs-selector-tag">at</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">bound</span></span> (<span class="hljs-selector-tag"><span class="hljs-selector-tag">domain</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.js</span></span><span class="hljs-selector-pseudo"><span class="hljs-selector-pseudo">:301</span></span><span class="hljs-selector-pseudo"><span class="hljs-selector-pseudo">:14)</span></span>   <span class="hljs-selector-tag"><span class="hljs-selector-tag">at</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">REPLServer</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.runBound</span></span> <span class="hljs-selector-attr"><span class="hljs-selector-attr">[as eval]</span></span> (<span class="hljs-selector-tag"><span class="hljs-selector-tag">domain</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.js</span></span><span class="hljs-selector-pseudo"><span class="hljs-selector-pseudo">:314</span></span><span class="hljs-selector-pseudo"><span class="hljs-selector-pseudo">:12)</span></span>   <span class="hljs-selector-tag"><span class="hljs-selector-tag">at</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">REPLServer</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.onLine</span></span> (<span class="hljs-selector-tag"><span class="hljs-selector-tag">repl</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.js</span></span><span class="hljs-selector-pseudo"><span class="hljs-selector-pseudo">:440</span></span><span class="hljs-selector-pseudo"><span class="hljs-selector-pseudo">:10)</span></span>   <span class="hljs-selector-tag"><span class="hljs-selector-tag">at</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">emitOne</span></span> (<span class="hljs-selector-tag"><span class="hljs-selector-tag">events</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.js</span></span><span class="hljs-selector-pseudo"><span class="hljs-selector-pseudo">:120</span></span><span class="hljs-selector-pseudo"><span class="hljs-selector-pseudo">:20)</span></span>   <span class="hljs-selector-tag"><span class="hljs-selector-tag">at</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">REPLServer</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.emit</span></span> (<span class="hljs-selector-tag"><span class="hljs-selector-tag">events</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.js</span></span><span class="hljs-selector-pseudo"><span class="hljs-selector-pseudo">:210</span></span><span class="hljs-selector-pseudo"><span class="hljs-selector-pseudo">:7)</span></span></code> </pre> <br><h3>  <font color="#3AC1EF">‚ñç Measuring the time spent on performing some action</font> </h3><br>  You can measure the time it takes, for example, to perform a certain function, using the methods <code>console.time()</code> and <code>console.timeEnd()</code> .  It looks like this: <br><br><pre> <code class="hljs coffeescript">const doSomething = <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(<span class="hljs-string"><span class="hljs-string">'test'</span></span>) const measureDoingSomething = <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> =&gt;</span></span> { <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.time(<span class="hljs-string"><span class="hljs-string">'doSomething()'</span></span>) <span class="hljs-regexp"><span class="hljs-regexp">//</span></span>    ,     doSomething() <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.timeEnd(<span class="hljs-string"><span class="hljs-string">'doSomething()'</span></span>) } measureDoingSomething()</code> </pre> <br><h3>  <font color="#3AC1EF">‚ñçWork with stdout and stderr</font> </h3><br>  As we have seen, the <code>console.log()</code> command is great for displaying messages to the console.  It uses the so-called standard output stream, or <code>stdout</code> . <br><br>  The <code>console.error()</code> command outputs data to the standard error stream, <code>stderr</code> .  Data sent to <code>stderr</code> , get into the console, although what is displayed in this stream, you can, for example, redirect to the error log file. <br><br><h3>  <font color="#3AC1EF">‚ñç Using color when outputting data to the console</font> </h3><br>  In order to color the texts output to the console, you can use escape sequences that identify colors: <br><br><pre> <code class="hljs pgsql">console.log(<span class="hljs-string"><span class="hljs-string">'\x1b[33m%s\x1b[0m'</span></span>, <span class="hljs-string"><span class="hljs-string">'hi!'</span></span>)</code> </pre> <br>  If you execute this command, for example, in REPL mode, the text <code>hi</code> will be displayed in yellow. <br>  This approach, however, is not particularly convenient.  To display color labels in the console, it will be convenient to use a specialized library, for example - <a href="https://github.com/chalk/chalk">chalk</a> .  In addition to the color formatting of texts, this library also supports other ways of styling them.  For example, with its help you can make the text in bold, italic or underlined font. <br><br>  To install it from npm, use the following command: <br><br><pre> <code class="hljs sql">npm <span class="hljs-keyword"><span class="hljs-keyword">install</span></span> chalk</code> </pre> <br>  You can use it like this: <br><br><pre> <code class="hljs javascript"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> chalk = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">'chalk'</span></span>) <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(chalk.yellow(<span class="hljs-string"><span class="hljs-string">'hi!'</span></span>))</code> </pre> <br>  Using the <code>chalk.yellow()</code> command is much more convenient than escape sequences, and the program text is much easier to read with this approach. <br><br>  To learn more about chalk, check out this library <a href="https://github.com/chalk/chalk">‚Äôs page</a> on GitHub. <br><br><h3>  <font color="#3AC1EF">‚ñçCreate an operation progress indicator</font> </h3><br>  The progress bar can be useful in different situations.  To create progress indicators running in the console, you can use the <a href="https://www.npmjs.com/package/progress">progress</a> package.  You can install it like this: <br><br><pre> <code class="hljs sql">npm <span class="hljs-keyword"><span class="hljs-keyword">install</span></span> progress</code> </pre> <br>  Below is a sample code in which an indicator is created that can be used to display information about a certain task consisting of 10 steps.  In our case, the execution of each step takes 100 ms.  After the indicator is full, the <code>clearItnerval()</code> command is <code>clearItnerval()</code> and the program ends. <br><br><pre> <code class="hljs lisp">const ProgressBar = require('progress') const bar = new ProgressBar('<span class="hljs-symbol"><span class="hljs-symbol">:bar</span></span>', { total: <span class="hljs-number"><span class="hljs-number">10</span></span> }) const timer = setInterval(() =&gt; { bar.tick() if (<span class="hljs-name"><span class="hljs-name">bar</span></span>.complete) {   clearInterval(<span class="hljs-name"><span class="hljs-name">timer</span></span>) } }, <span class="hljs-number"><span class="hljs-number">100</span></span>)</code> </pre> <br><h3>  <font color="#3AC1EF">‚ñç Receive user input from the command line</font> </h3><br>  How to make command line applications written for the Node.js platform interactive?  Starting with version 7, Node.js contains a <a href="https://nodejs.org/api/readline.html">readline</a> module that allows you to receive data from streams that can be read, for example, from <code>process.stdin</code> .  This thread, during the execution of the Node.js program, is what is entered into the terminal.  Data is entered one line at a time. <br><br>  Consider the following code snippet: <br><br><pre> <code class="hljs javascript"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> readline = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">'readline'</span></span>).createInterface({ <span class="hljs-attr"><span class="hljs-attr">input</span></span>: process.stdin, <span class="hljs-attr"><span class="hljs-attr">output</span></span>: process.stdout }) readline.question(<span class="hljs-string"><span class="hljs-string">`What's your name?`</span></span>, (name) =&gt; { <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(<span class="hljs-string"><span class="hljs-string">`Hi </span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${name}</span></span></span><span class="hljs-string">!`</span></span>) readline.close() })</code> </pre> <br>  Here we ask the user for his name, and after entering the text and pressing the <code>Enter</code> key on the keyboard, we display a greeting. <br><br>  The <code>question()</code> method displays what is passed to it as the first parameter (that is, the question asked to the user) and waits for input to complete.  After clicking on <code>Enter</code> it calls the callback passed to it in the second parameter and processes what was entered.  In the same callback, we close the <code>readline</code> interface. <br><br>  <code>readline</code>    ,        ,     . <br><br>  ,    ,     ,     ,   ,  ,        ‚Äî <code>*</code> . <br><br>     ,    <a href="https://www.npmjs.com/package/readline-sync">readline-sync</a> ,     ,    <code>readline</code> ,        . <br><br>     ,        .   <a href="">inquirer</a> .    : <br><br><pre> <code class="hljs sql">npm <span class="hljs-keyword"><span class="hljs-keyword">install</span></span> inquirer</code> </pre> <br>         : <br><br><pre> <code class="hljs javascript"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> inquirer = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">'inquirer'</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> questions = [{ <span class="hljs-attr"><span class="hljs-attr">type</span></span>: <span class="hljs-string"><span class="hljs-string">'input'</span></span>, <span class="hljs-attr"><span class="hljs-attr">name</span></span>: <span class="hljs-string"><span class="hljs-string">'name'</span></span>, <span class="hljs-attr"><span class="hljs-attr">message</span></span>: <span class="hljs-string"><span class="hljs-string">"What's your name?"</span></span>, }] inquirer.prompt(questions).then(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">answers</span></span></span><span class="hljs-function"> =&gt;</span></span> { <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(<span class="hljs-string"><span class="hljs-string">`Hi </span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${answers[</span></span><span class="hljs-string"><span class="hljs-string"><span class="hljs-subst"><span class="hljs-string">'name'</span></span></span></span><span class="hljs-string"><span class="hljs-subst">]}</span></span></span><span class="hljs-string">!`</span></span>) })</code> </pre> <br>  inquirer   . ,                 . <br><br>             Node.js.       <code>readline</code> ,  readline-sync  inquirer.       ,              ,      . <br><br><h2> <font color="#3AC1EF">  Node.js,   exports</font> </h2><br>   ,   API <code>module.exports</code>  ,         .  Node.js    ,       <a href="https://nodejs.org/api/modules.html"></a> .   ,    <code>require</code> ,    : <br><br><pre> <code class="hljs javascript"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> library = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">'./library'</span></span>)</code> </pre> <br>     <code>library.js</code> ,       ,    ,  . <br><br> ,      ,  - ,  .  ,      ,   .  , API <code>module.exports</code>    ,         . <br><br>     . <br><br>       <code>module.exports</code> ,    ,   .       : <br><br><pre> <code class="hljs java"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> car = { brand: <span class="hljs-string"><span class="hljs-string">'Ford'</span></span>, model: <span class="hljs-string"><span class="hljs-string">'Fiesta'</span></span> } <span class="hljs-keyword"><span class="hljs-keyword">module</span></span>.<span class="hljs-keyword"><span class="hljs-keyword">exports</span></span> = car <span class="hljs-comment"><span class="hljs-comment">//..   const car = require('./car')</span></span></code> </pre> <br>     ,        <code>exports</code> .        , ,    ‚Äî : <br><br><pre> <code class="hljs java"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> car = { brand: <span class="hljs-string"><span class="hljs-string">'Ford'</span></span>, model: <span class="hljs-string"><span class="hljs-string">'Fiesta'</span></span> } <span class="hljs-keyword"><span class="hljs-keyword">exports</span></span>.car = car</code> </pre> <br>       : <br><br><pre> <code class="hljs java"><span class="hljs-keyword"><span class="hljs-keyword">exports</span></span>.car = { brand: <span class="hljs-string"><span class="hljs-string">'Ford'</span></span>, model: <span class="hljs-string"><span class="hljs-string">'Fiesta'</span></span> }</code> </pre> <br>     ,   ,  : <br><br><pre> <code class="hljs javascript"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> items = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">'./items'</span></span>) items.car</code> </pre> <br>  Or so: <br><br><pre> <code class="hljs javascript"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> car = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">'./items'</span></span>).car</code> </pre> <br>        <code>module.exports</code>     <code>exports</code> ? <br><br>    ,    <code>module.exports</code> .       . <br><br><h2> <font color="#3AC1EF"></font> </h2><br>       Node.js-,  REPL,     ,    Node.js.         npm, ,  ,    <code>package.json</code>  <code>package-lock.json</code> . <br><br>  <b>Dear readers!</b>       Node.js-? <br><br> <a href="https://ruvds.com/ru-rub/"><img src="https://habrastorage.org/files/1ba/550/d25/1ba550d25e8846ce8805de564da6aa63.png"></a> </div><p>Source: <a href="https://habr.com/ru/post/423701/">https://habr.com/ru/post/423701/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../423689/index.html">ROS MAX - free? We plan to open a license for free commercial use.</a></li>
<li><a href="../423693/index.html">Another way to use Webpack 4 and code sharing</a></li>
<li><a href="../423695/index.html">How to retire to 40 years with a million dollars in a bank account</a></li>
<li><a href="../423697/index.html">Introducing Spring Data JDBC</a></li>
<li><a href="../423699/index.html">"Digital economy" has risen: from the budget will have to allocate 2 trillion rubles</a></li>
<li><a href="../423703/index.html">Node.js Part 4: npm guide, package.json and package-lock.json files</a></li>
<li><a href="../423705/index.html">Node.js Part 5 Guide: npm and npx</a></li>
<li><a href="../423707/index.html">What's under the hood at Jaxx. Entropy out of the box 128 bits</a></li>
<li><a href="../423709/index.html">CSS Grid - Swiss Army Knife for Website and Application Layouts</a></li>
<li><a href="../423711/index.html">Management for the geek: where to get the data?</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>