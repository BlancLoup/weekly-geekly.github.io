<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Automating the issuance of AdHoc application assembly from Xcode for installation on the customer device</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Let me explain for beginners that when developing for iOS to install on a device, most of the time you build an application in development mode, i.e. ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Automating the issuance of AdHoc application assembly from Xcode for installation on the customer device</h1><div class="post__text post__text-html js-mediator-article">  Let me explain for beginners that when developing for iOS to install on a device, most of the time you build an application in development mode, i.e.  only for myself. <br>  But at some point it is required to begin to give out to the customer the result of the work to ‚Äúlook‚Äù. <br>  To do this, use a special type of assembly AdHoc Distribution.  You need to go to Apple and create a distribution provisioning profile.  After that, collect the application, signing it with this profile.  The profile contains all the identifiers of the devices to which this application is planned to be installed at this stage.  As a result, when building for AdHoc, Xcode creates a file with the .ipa extension, which can already be installed on all devices specified in the profile.  For example through iTunes. <br><br>  The question arises how best to transfer the resulting assembly to your client.  Yes, you can simply send the file by mail for example, or put it on a file sharing service and let the poor fellow install it himself through iTunes on his device.  But if you value the time of your client or you are too lazy to explain how to do it, well, or you are just a nice and pleasant person, then you should think about whether there is another, more convenient way. <br><br>  On one of these methods, with the automation of the issuance of Xcode read under the cut! 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <a name="habracut"></a><br><br>  On this path, there have long been enough laborers who, it must be admitted, are not quite good at coping with this task.  One of the well-deserved services is for example TestFlight.  The bottom line is that they enable your client (or beta testers) to install your application through their service.  To do this, all beta testers must install their application on their devices.  And later, when they receive by mail a notification about the release of the next build of yours, they launch this application, find your update there and install it for themselves through their interface. <br><br>  But this scheme, I would say, is not perfect. <br>  Firstly, this implies that you will still have to explain to the customer how to register with TestFlight, how to install their application to themselves (it is not in the AppStore, the installation takes place from their website). <br>  Also in this case, we do not simplify our lives on our side - each time you first need to build the next AdHoc build in Xcode, then in its Organizer window select the AdHoc distribution option, specify the correct profile and save the .ipa file to disk.  Then go to the site TestFlight, and fill in this .ipa, write a comment, do not forget to set permissions for those to whom this build is intended.  Very, very many gestures. <br>  In addition, often the service is not available, or simply the download speed is such that the installation process of the application falls down on timeout. <br>  It is especially not pleasant to hear from the customer that for some reason your application is not installed, when you know for sure that this is not the case, and you checked the download from TestFlight yourself. <br>  As a result, for me the last straw was the fact that they do not yet support the installation on iOS7, under which we are developing our last project. <br>  And then we came to a decision that was easier for both parties. <br><br>  Now all the above procedure is reduced to two steps.  I, as before, choose in Xcode archive build (as usually build under AdHoc).  Then I write to the customer that the application is updated.  Everything. <br>  Now the customer simply comes from his device to a specific address on the Internet (the address does not change and he can save it to your bookmarks).  A pop-up window appears - if you want to install the application, of course it wants, the application is being installed.  Everyone is happy. <br><br>  And that's what you need to do to come to this nirvana. <br><br><h3>  The magic of installing applications through a mobile browser. </h3><br>  First, a little about the magic that allows you to install applications by URL. <br>  This is a long time ago existing opportunity, and all these services, ala TestFlight, are actually based on it. <br><br>  There is a protocol <b>called itms-services:,</b> with the help of which, on iOS in particular, applications are installed from a browser.  The protocol implies that a .plist file with a certain structure will be loaded, including, among other things, a link to the .ipa file.  As a result, it is processed by iOS as an application installation request. <br>  Those.  we first need to create some simple (or not so much as you want) HTML page.  Near to put our magic .plist file and .ipa build. <br><br>  Here I mean that Amazon S3 storage is used for such storage.  Creating your account on <a href="http://aws.amazon.com/">Amazon Web Services</a> is easy and I will not describe it here.  Storage and distribution of such scanty volumes will come to you in some pennies that I am lazy to count here, this is not about that now. <br><br>  So create our files, this is how our HTML may look.  Let's call it, say index.html.  The main <b>thing is</b> that it contains links on <b>itms-services:</b> protocol <br><br><pre><code class="html hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">html</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">head</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">title</span></span></span><span class="hljs-tag">&gt;</span></span>My Ad-Hoc Distribution Site<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">title</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">style</span></span></span><span class="hljs-tag">&gt;</span></span><span class="css"><span class="css"> </span><span class="hljs-selector-tag"><span class="css"><span class="hljs-selector-tag">li</span></span></span><span class="css">{</span><span class="hljs-attribute"><span class="css"><span class="hljs-attribute">font-size</span></span></span><span class="css">:</span><span class="hljs-number"><span class="css"><span class="hljs-number">60pt</span></span></span><span class="css"> margin:</span><span class="hljs-number"><span class="css"><span class="hljs-number">20px</span></span></span><span class="css"> </span><span class="hljs-number"><span class="css"><span class="hljs-number">0</span></span></span><span class="css">} </span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">style</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">meta</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"viewport"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">content</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"width=device-width"</span></span></span><span class="hljs-tag"> /&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">meta</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"apple-mobile-web-app-capable"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">content</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"yes"</span></span></span><span class="hljs-tag"> /&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">head</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">body</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">ul</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">li</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">a</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">href</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"itms-services://?action=download-manifest&amp;url=http://mybucketname.s3.amazonaws.com/MyApp1.plist"</span></span></span><span class="hljs-tag">&gt;</span></span>    MyApp1<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">a</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">li</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">li</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">a</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">href</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"itms-services://?action=download-manifest&amp;url=http://mybucketname.s3.amazonaws.com/MyApp2.plist"</span></span></span><span class="hljs-tag">&gt;</span></span>     MyApp2<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">a</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">li</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">ul</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">body</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">html</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br><br>  As you can see, the list is implemented here, because we do not want to be limited to just one application, we will have several of them.  And each of them is set for a separate link. <br><br>  In the address <b>itms-services: // ... itself,</b> you only need to change <b>mybucketname</b> and the name of the .plist file.  Those.  replace them accordingly with the name of your bucket on Amazon S3, where you put all this, and the name of your .plist (the file name has no meaning and may not coincide with the name of the application). <br><br>  The .plist itself looks like this: <br><pre> <code class="xml hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span></span> <span class="hljs-meta"><span class="hljs-meta">&lt;!DOCTYPE plist PUBLIC "-//Apple//DTD PLIST 1.0//EN" "http://www.apple.com/DTDs/PropertyList-1.0.dtd"&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">plist</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">version</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"1.0"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">dict</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">key</span></span></span><span class="hljs-tag">&gt;</span></span>items<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">key</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">array</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">dict</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">key</span></span></span><span class="hljs-tag">&gt;</span></span>assets<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">key</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">array</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">dict</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">key</span></span></span><span class="hljs-tag">&gt;</span></span>kind<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">key</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">string</span></span></span><span class="hljs-tag">&gt;</span></span>software-package<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">string</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">key</span></span></span><span class="hljs-tag">&gt;</span></span>url<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">key</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">string</span></span></span><span class="hljs-tag">&gt;</span></span>http://mybucketname.s3.amazonaws.com/MyApp1.ipa<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">string</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">dict</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">array</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">key</span></span></span><span class="hljs-tag">&gt;</span></span>metadata<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">key</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">dict</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">key</span></span></span><span class="hljs-tag">&gt;</span></span>bundle-identifier<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">key</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">string</span></span></span><span class="hljs-tag">&gt;</span></span>com.mycoolcompanyname.myapp1<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">string</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">key</span></span></span><span class="hljs-tag">&gt;</span></span>bundle-version<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">key</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">string</span></span></span><span class="hljs-tag">&gt;</span></span>1.0<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">string</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">key</span></span></span><span class="hljs-tag">&gt;</span></span>kind<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">key</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">string</span></span></span><span class="hljs-tag">&gt;</span></span>software<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">string</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">key</span></span></span><span class="hljs-tag">&gt;</span></span>title<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">key</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">string</span></span></span><span class="hljs-tag">&gt;</span></span>MyApp1<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">string</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">dict</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">dict</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">array</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">dict</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">plist</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br><br>  Understandably, here, too, you need to replace the name <b>mybucketname</b> in the <b>software-package</b> key string.  And specify your .ipa file name instead of MyApp1.ipa.  And do not forget to change the key string <b>bundle-identifier</b> .  Instead of <b>com.mycoolcompanyname.myapp1,</b> enter your bundle id that you used when building this application in Xcode. <br>  Well, specify the desired application name in the <b>title</b> key. <br><br>  Fine!  Already, you can now build the application under AdHoc distribution and handles it on S3 in this bucket.  After that it can be installed via the link <b><a href="http://mybucketname.s3.amazonaws.com/index.html">mybucketname.s3.amazonaws.com/index.html by</a></b> opening it in a mobile browser. <br><br>  By the way, I recommend the CyberDuck application for manual uploading on S3.  He himself stopped on it, as the most convenient version for MacOs. <br>  One important detail, do not forget to set access rights to the .ipa file to public-read.  In CyberDuck, this is done by right-clicking on the file&gt; Info and adding an Everybody group with Read rights. <br><br>  But this option is also not for the lazy, so go ahead. <br><br><h3>  Automation in Xcode.  We write a post-actions script. </h3><br>  So that absolutely nothing had to be done, we will write a small script. <br>  In Xcode, it is possible to cram your scripts at almost all stages when building an application. <br>  We, in this case, are only interested in the assembly to the archive (this is how we always build the application for AdHoc Distribution). <br>  Therefore, we add a post-action at the final stage for this scheme. <br>  Go to Xcode, open the schema editing dialog.  Next will be a few explanatory screenshots.  They are made in the beta version of Xcode 5, but Xcode 4.6 this feature is also present, and the interface in this part is almost the same. <br><br>  So click on the name of your target in the place where it is indicated in the upper left of the main Xcode window.  In the dialog that appears, select the item Edit Scheme ... <br>  In the schematic editing dialog, we find the Arhive scheme and click the small triangle next to its name, several sub-items will unfold.  The last one will be the Post-actions we need. <br><br><img src="https://habrastorage.org/storage2/373/753/3e5/3737533e54b58a5d7fcc0d3b8258fa64.png"><br><br>  In the box in this window, select the name of your target.  This means that all variables in the script, such as $ {PRODUCT_NAME}, for example, will take the corresponding ones. <br><br>  Here we use this skipt: <br><br><pre> <code class="bash hljs">SIGNING_IDENTITY=<span class="hljs-string"><span class="hljs-string">"iPhone Distribution: MyCoolCompanyName (G4DHGXDY2)"</span></span> PROVISIONING_PROFILE=<span class="hljs-string"><span class="hljs-string">"</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">${HOME}</span></span></span><span class="hljs-string">/Library/MobileDevice/Provisioning Profiles/20DB9849-4CFE-4005-81F6-1A594119839B.mobileprovision"</span></span> LOG=<span class="hljs-string"><span class="hljs-string">"/tmp/post-build-upload-to-s3.log"</span></span> DATE=$( /bin/date +<span class="hljs-string"><span class="hljs-string">"%Y-%m-%d"</span></span> ) ARCHIVE=$( /bin/ls -t <span class="hljs-string"><span class="hljs-string">"</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">${HOME}</span></span></span><span class="hljs-string">/Library/Developer/Xcode/Archives/</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">${DATE}</span></span></span><span class="hljs-string">"</span></span> | /usr/bin/grep xcarchive | /usr/bin/sed -n 1p ) DSYM=<span class="hljs-string"><span class="hljs-string">"</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">${HOME}</span></span></span><span class="hljs-string">/Library/Developer/Xcode/Archives/</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">${DATE}</span></span></span><span class="hljs-string">/</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">${ARCHIVE}</span></span></span><span class="hljs-string">/dSYMs/</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">${PRODUCT_NAME}</span></span></span><span class="hljs-string">.app.dSYM"</span></span> APP=<span class="hljs-string"><span class="hljs-string">"</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">${HOME}</span></span></span><span class="hljs-string">/Library/Developer/Xcode/Archives/</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">${DATE}</span></span></span><span class="hljs-string">/</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">${ARCHIVE}</span></span></span><span class="hljs-string">/Products/Applications/</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">${PRODUCT_NAME}</span></span></span><span class="hljs-string">.app"</span></span> /usr/bin/open -a /Applications/Utilities/Console.app <span class="hljs-variable"><span class="hljs-variable">$LOG</span></span> <span class="hljs-built_in"><span class="hljs-built_in">echo</span></span> -n <span class="hljs-string"><span class="hljs-string">"Creating .ipa for </span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">${PRODUCT_NAME}</span></span></span><span class="hljs-string">... "</span></span> &gt; <span class="hljs-variable"><span class="hljs-variable">$LOG</span></span> /bin/rm <span class="hljs-string"><span class="hljs-string">"/tmp/</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">${PRODUCT_NAME}</span></span></span><span class="hljs-string">.ipa"</span></span> /usr/bin/xcrun -sdk iphoneos PackageApplication <span class="hljs-string"><span class="hljs-string">"</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">${APP}</span></span></span><span class="hljs-string">"</span></span> -o <span class="hljs-string"><span class="hljs-string">"/tmp/</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">${PRODUCT_NAME}</span></span></span><span class="hljs-string">.ipa"</span></span> --sign <span class="hljs-string"><span class="hljs-string">"</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">${SIGNING_IDENTITY}</span></span></span><span class="hljs-string">"</span></span> --embed <span class="hljs-string"><span class="hljs-string">"</span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">${PROVISIONING_PROFILE}</span></span></span><span class="hljs-string">"</span></span> &gt;&gt; <span class="hljs-variable"><span class="hljs-variable">$LOG</span></span> <span class="hljs-built_in"><span class="hljs-built_in">echo</span></span> <span class="hljs-string"><span class="hljs-string">"Created .ipa for </span><span class="hljs-variable"><span class="hljs-string"><span class="hljs-variable">${PRODUCT_NAME}</span></span></span><span class="hljs-string">"</span></span> &gt;&gt; <span class="hljs-variable"><span class="hljs-variable">$LOG</span></span> <span class="hljs-built_in"><span class="hljs-built_in">echo</span></span> -n <span class="hljs-string"><span class="hljs-string">"Uploading to S3... "</span></span> &gt;&gt; <span class="hljs-variable"><span class="hljs-variable">$LOG</span></span> /opt/<span class="hljs-built_in"><span class="hljs-built_in">local</span></span>/bin/s3cmd put --acl-public --force --guess-mime-type /tmp/<span class="hljs-variable"><span class="hljs-variable">${PRODUCT_NAME}</span></span>.ipa <span class="hljs-string"><span class="hljs-string">"s3://mybucketname/MyApp.ipa"</span></span> &gt;&gt; <span class="hljs-variable"><span class="hljs-variable">$LOG</span></span> <span class="hljs-built_in"><span class="hljs-built_in">echo</span></span> <span class="hljs-string"><span class="hljs-string">"Done."</span></span> &gt;&gt; <span class="hljs-variable"><span class="hljs-variable">$LOG</span></span> /usr/bin/open <span class="hljs-string"><span class="hljs-string">"https://basecamp.com/path-to-your-project-to-let-people-know-of-new-build"</span></span></code> </pre><br><br>  So, in the opened window we see / bin / sh in the first input line.  We leave there this value. <br>  In the empty field below copy-paste this script. <br><br>  Now we have to edit a couple of values ‚Äã‚Äãin it for your configuration.  Namely, you need to set the correct value in the SIGNING_IDENTITY variable and set the correct link to your current provisioning profile in the PROVISIONING_PROFILE variable. <br><br>  I do it like this.  Save here - click OK at the bottom, go to the project's Build Settings and find the Code Signing Identity section there. <br>  It has all the necessary values.  But ‚Äúhelpful‚Äù Xcode shows them in a human-readable form and also does not allow them to be allocated right there. <br><br>  Right click on the name of your signing identity (something like iPhone Distribution: ...).  A pop-up will open, in which the Other option will be at the bottom ... We select it and here it is our entire set of parameters in text form and even carefully selected. <br><br>  In previous versions of Xcode, it looked like this: <br><br><pre> <code class="objectivec hljs">iPhone Distribution: MyCoolCompanyName (G4DHGXDY2) <span class="hljs-number"><span class="hljs-number">20</span></span>DB9849<span class="hljs-number"><span class="hljs-number">-4</span></span>CFE<span class="hljs-number"><span class="hljs-number">-4005</span></span><span class="hljs-number"><span class="hljs-number">-81</span></span>F6<span class="hljs-number"><span class="hljs-number">-1</span></span>A594119839B</code> </pre><br><br>  Accordingly, the first line fits into the SIGNING_IDENTITY variable in the script. <br>  And the second is the code of your profile - just replace with it the highlighted part in the address for the variable PROVISIONING_PROFILE, as shown below. <br><br>  PROVISIONING_PROFILE = "$ {HOME} / Library / MobileDevice / Provisioning Profiles / <b>20DB9849-4CFE-4005-81F6-1A594119839B</b> .mobileprovision" <br><br>  In the new Xcode 5 - these two values ‚Äã‚Äãare separated into separate entries in the Code Signing Identity section.  Therefore, the same action must be done twice.  First copy the identity name, then the code for the provisioning profile. <br><br>  As you can see, the script performs two simple steps.  First, the resulting .app file turns the file into .ipa.  Then this .ipa fills in on S3.  In the process of the script, a .log file is also created where everything that happens is written.  This .log file is placed in a temporary folder (the same place as .ipa) and opened by the Console system utility so that we can see the progress of the script. <br><br>  There is only one secret left - how does the fill on S3 work? <br><br><h3>  We flood assembly on Amazon S3 by means of a script </h3><br>  Actually, not really, let's not mess with manual fill on S3, this is troublesome, we will use the finished utility for this ( <a href="http://s3tools.org/s3cmd">S3cmd</a> ). <br><br>  We are on a Mac, so we put it through <a href="http://www.macports.org/install.php">MacPorts</a> .  Who does not know, this is a tool that allows you to put on the poppy all sorts of not inherent Linux Linux delights.  If you do not have MacPorts installed, we put one of the links for your MacOS version ( <a href="">Mountain Lion</a> , <a href="">Lion</a> or <a href="">Snow Leopard</a> ). <br><br>  Next we install the s3cmd utility itself.  With MacPorts, this is easy to do. <br><br>  In the terminal we type: <br><br><pre> <code class="bash hljs">sudo port install s3cmd</code> </pre><br><br>  You will be prompted to enter a password, enter the administrator password, and the installation will begin.  It takes about a minute. <br>  Everything, the utility is installed, now let's tell her our S3 password (when you register at <a href="http://aws.amazon.com/">Amazon Web Services</a> ) you will be given a key and a secret code (do not ask what is the difference between these two concepts, but you need both). <br><br>  So we type in the terminal: <br><pre> <code class="bash hljs">s3cmd --configure</code> </pre><br><br>  and we will be asked to answer a few questions regarding our desired configuration, including asking to enter the key and secret code. <br><br>  For example, it looks like this: <br><pre> <code class="hljs vhdl">Enter <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> values <span class="hljs-keyword"><span class="hljs-keyword">or</span></span> accept defaults <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> brackets <span class="hljs-keyword"><span class="hljs-keyword">with</span></span> Enter. Refer <span class="hljs-keyword"><span class="hljs-keyword">to</span></span> user manual <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> detailed description <span class="hljs-keyword"><span class="hljs-keyword">of</span></span> <span class="hljs-keyword"><span class="hljs-keyword">all</span></span> options. <span class="hljs-keyword"><span class="hljs-keyword">Access</span></span> key <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> Secret key are your identifiers <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> Amazon S3 <span class="hljs-keyword"><span class="hljs-keyword">Access</span></span> Key: XXXXX    XXX Secret Key: YYYY    YYY Encryption password <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> used <span class="hljs-keyword"><span class="hljs-keyword">to</span></span> protect your files from reading by unauthorized persons <span class="hljs-keyword"><span class="hljs-keyword">while</span></span> <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> transfer <span class="hljs-keyword"><span class="hljs-keyword">to</span></span> S3 Encryption password: Path <span class="hljs-keyword"><span class="hljs-keyword">to</span></span> GPG program: <span class="hljs-keyword"><span class="hljs-keyword">When</span></span> using secure HTTPS protocol <span class="hljs-keyword"><span class="hljs-keyword">all</span></span> communication <span class="hljs-keyword"><span class="hljs-keyword">with</span></span> Amazon S3 servers <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> <span class="hljs-keyword"><span class="hljs-keyword">protected</span></span> from <span class="hljs-number"><span class="hljs-number">3</span></span>rd party eavesdropping. This method <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> slower than plain HTTP <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> can<span class="hljs-symbol"><span class="hljs-symbol">'t</span></span> be used <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> you<span class="hljs-symbol"><span class="hljs-symbol">'re</span></span> behind a proxy <span class="hljs-keyword"><span class="hljs-keyword">Use</span></span> HTTPS protocol [No]: No <span class="hljs-keyword"><span class="hljs-keyword">On</span></span> some networks <span class="hljs-keyword"><span class="hljs-keyword">all</span></span> internet <span class="hljs-keyword"><span class="hljs-keyword">access</span></span> must go through a HTTP proxy. Try setting it here <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> you can<span class="hljs-symbol"><span class="hljs-symbol">'t</span></span> conect <span class="hljs-keyword"><span class="hljs-keyword">to</span></span> S3 directly HTTP Proxy server name: <span class="hljs-keyword"><span class="hljs-keyword">New</span></span> settings: <span class="hljs-keyword"><span class="hljs-keyword">Access</span></span> Key: XXXXX   XXX Secret Key: YYYY   YYY Encryption password: Path <span class="hljs-keyword"><span class="hljs-keyword">to</span></span> GPG program: None <span class="hljs-keyword"><span class="hljs-keyword">Use</span></span> HTTPS protocol: <span class="hljs-literal"><span class="hljs-literal">False</span></span> HTTP Proxy server name: HTTP Proxy server <span class="hljs-keyword"><span class="hljs-keyword">port</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span> Test <span class="hljs-keyword"><span class="hljs-keyword">access</span></span> <span class="hljs-keyword"><span class="hljs-keyword">with</span></span> supplied credentials? [Y/n] Y Please <span class="hljs-keyword"><span class="hljs-keyword">wait</span></span>... Success. Your <span class="hljs-keyword"><span class="hljs-keyword">access</span></span> key <span class="hljs-keyword"><span class="hljs-keyword">and</span></span> secret key worked fine :-) Now verifying that encryption works... <span class="hljs-keyword"><span class="hljs-keyword">Not</span></span> configured. Never mind. Save settings? [y/N] y <span class="hljs-keyword"><span class="hljs-keyword">Configuration</span></span> saved <span class="hljs-keyword"><span class="hljs-keyword">to</span></span> '/Users/st/.s3cfg'</code> </pre><br><br>  Well, that's all, now in the script you only need to correct the name of your S3 bucket and the name of the application in the line: <br><br>  / opt / local / bin / s3cmd put --acl-public --force --guess-mime-type /tmp/${PRODUCT_NAME}.ipa "s3: // <b>mybucketname</b> / <b>MyApp</b> .ipa" &gt;&gt; $ LOG <br><br>  After that - you can simply run the build under archive (Xcode&gt; Product&gt; Archive) and everything should work.  Your application will be flooded at the specified address. </div><p>Source: <a href="https://habr.com/ru/post/190296/">https://habr.com/ru/post/190296/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../190274/index.html">Say no to formatting with spaces and enterrs.</a></li>
<li><a href="../190278/index.html">How not to learn English words</a></li>
<li><a href="../190280/index.html">My experience with SOINN</a></li>
<li><a href="../190286/index.html">General psychology: usability</a></li>
<li><a href="../190290/index.html">Runet in pictures. Shopping without borders</a></li>
<li><a href="../190300/index.html">Career Security Specialist</a></li>
<li><a href="../190312/index.html">Think of the names of newly discovered exoplanets?</a></li>
<li><a href="../190314/index.html">Exploit kits for security writers</a></li>
<li><a href="../190318/index.html">The Debian Project is 20 years old!</a></li>
<li><a href="../190324/index.html">Good localization: mission impossible</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>