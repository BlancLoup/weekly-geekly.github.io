<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>What do you need from the forms?</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="In the life of each developer comes a moment when he needs to make a form. It seems that there is something difficult - take it, throw it. And no, the...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>What do you need from the forms?</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/storage2/1b7/534/097/1b7534097556b0344d517d786141c332.png" align="right"><br>  In the life of each developer comes a moment when he needs to make a form.  It seems that there is something difficult - take it, throw it.  And no, the form is, it is as alive.  She has her own mood, her habits.  Chose the floor - ‚ÄúF‚Äù, she was transformed, became a little different, curious, asked whether her favorite perfume, shoes with a heel, or not, married?  But you are a man!  And then you choose the floor "M", and, as it were, the questions should be different - single, favorite beer, favorite sport.  Of course, you can make a bunch of molds for each sneeze, if ‚ÄúM‚Äù, then one, if ‚ÄúF‚Äù, then another.  But this method will turn out to be a catastrophe at the support stage, and generally not in the spirit of beautiful code.  Therefore, the form must be smart.  Very smart.  She should know who is touching her, what he wants, his secret desires.  For example: there is a form for entering the address in five fields <br><ul><li>  a country </li><li>  region </li><li>  city </li><li>  the outside </li><li>  underground </li></ul><br>  I choose a city, and why not form think out the region and country?  Or chose the Vladimir region, why should I in the list of cities ‚ÄúMoscow‚Äù?  The ‚ÄúMetro‚Äù field is also not relevant for the Vladimir region, and when Strunino is chosen, this is a mockery in general.  Being engaged in the development of the client part in corporate WEB applications for 5 years, I still knew how to make the form smart.  I hope my experience will be useful to you. <br><a name="habracut"></a><br>  The main requirements for forms in ERP systems are as follows: <br><ul><li>  Depending on the data, the set of fields and their attributes change (mandatory input, accessibility for editing). </li><li>  Depending on the values ‚Äã‚Äãof some fields, the values ‚Äã‚Äãof other fields are filtered. </li><li>  When you enter a form can change the values ‚Äã‚Äãof fields and their attributes. </li></ul><br>  Anyway, this is solved in two ways: <br><ol><li>  Many highly specialized forms arched with masters. </li><li>  Universal forms that change their state over a variety of events (at least when values ‚Äã‚Äãchange). </li></ol><br>  In the first case, everything is pretty sad.  Take for example branching by gender.  So as not to pester the user with unnecessary fields, we first find out the gender, and then we derive the form that is relevant for this choice.  It turns out something like this: <br><img src="https://habrastorage.org/storage2/a0b/965/9aa/a0b9659aaa30b65d67af396f6865b7ba.png"><br><br>  Strictly speaking, this method of collecting information is called ‚Äúmaster‚Äù.  It is good for certain purposes (for example: after selecting a user‚Äôs task, well, or there is a lot of data in principle for one form, or forms reflect different business objects), but using it to impart dynamics is a dead end. <br><br>  As a rule, there are fields whose logic is identical for all branches.  The simplest thing is to duplicate this logic, but this is also the most incorrect.  Very quickly, the developer will sink in his own code, but there is no need to talk about configuration through the settings, they are also duplicated.  And branching tends to grow, and the tree - to become a complicated graph. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      It is more efficient to have one form per one business object (entity) that changes its view on various events.  Here comes the second method - universal, dynamically changeable forms (although the division is conditional, the master can be built on such forms).  Implementing it is a bit more complicated than branching.  I used to think ‚Äúwhat‚Äôs so complicated here,‚Äù but in the process of solving this problem, the number of rakes, pitfalls and thin matter tended to multiply incredibly!  After going through all this, I just can not share my pain and experience. <br><br><h1>  Elements of dynamics </h1><br>  Well, well, let's hide something there, show something, filter somewhere ... Stop!  Not so simple.  First, there are three main things to manage: <br><img src="https://habrastorage.org/storage2/a35/e1a/5fb/a35e1a5fb0ae0f54295471a9980b0389.png" align="right"><br><ol><li>  Visibility </li><li>  Obligation </li><li>  Availability </li></ol><br><br>  If everything is more or less clear with accessibility and compulsory, then visibility is not a trivial thing, and its management is closely connected with the method of placing the fields (went the pitfalls). <br><br>  Metaphysically fields can be placed either fixedly or relatively.  In addition, the width, and other size of the fields, can be specified in percent or in fixed values.  There is a simple rule - fixed and relative values ‚Äã‚Äãare combined poorly.  We must immediately determine - the form of rubber, or fixed in absolute coordinates. <br><br><h1>  Fixed forms </h1><br>  With fields fixed in absolute coordinates ( <a href="http://dev.sencha.com/deploy/ext-4.0.7-gpl/examples/form/absform.html">absolut layout</a> is everywhere), it is easier to work in terms of placement - I made the grid for alignment and use the mouse to arrange the fields as you please, simply, at ease.  It happens that the field should be no more than 40em, well, at least kill, but with fixed sizes, there are no problems, forty, so forty.  Problems begin when visibility management begins.  Here there are three fields, the central one is hiding, there remains a hole: <br><img src="https://habrastorage.org/storage2/5d6/0e5/eab/5d60e5eab2822e9c6c8fd04e34ceebfa.png"><br>  How to close this hole?  Suppose we find out here, and if the structure is more complicated?  Say 3 columns column and group fields?  We will not measure and recount all this. <br><br>  If a form has fixed dimensions and coordinates, then dynamic visibility control becomes the most difficult task.  It must be immediately clearly presented and chosen, whether it is convenience and ease of loading, or dynamic visibility with all the buns. <br><br><h1>  Rubber molds </h1><br>  And what about rubber forms that are not fixed in absolute coordinates?  Everything will be fine!  The hole just collapses: <br><img src="https://habrastorage.org/storage2/84f/59a/c03/84f59ac03542d3163c2006b1c6622005.png"><br><br>  Collapsing is a major problem with changing field visibility.  The user wants to see a beautiful, filled with meaning, not a hollow form. <br><br>  This problem is exacerbated at a time when there are only few fields on the form.  I want to have a beautiful, skater form.  With a pair of columns of fields, with a bookmark panel, where there will be tabular parts, with groupings and other good. <br><br>  On the form, all that is not fields are containers (for the time being we will consider such a concept).  And containers contain fields.  And the fields can become invisible, and the containers in this case will be empty.  An empty container is worse than a hole in a form.  He must go underground following his fields.  But bad luck, containers can be nested, nested many times and nested many times (others do not come across to me).  There is a need to bypass the container tree for the presence of visible fields in them.  Bypass, fortunately, down.  In any case, the form will tend to a hierarchy, like this: <br><br><img src="https://habrastorage.org/storage2/7b2/4b1/04c/7b24b104c2c3a2d90aa4d7586e9437db.png"><br><br>  It seems the algorithm is simple - change the state of the field visibility, walked around the container containing it down to the first visible field.  Found such a field - that's that, the container is visible, not found - the container is hidden, and accordingly, we repeat the same procedure for the parent container.  This is one of the solutions. <br>  Sometimes you also want to hide not separate fields, but the entire container.  There is a sign of a certain absolute hiddenness of the container, so that it does not come out even if the field in it is ‚Äúvisible‚Äù.  Pretty quickly, this mechanism grows and becomes more complicated, it is better to immediately think about where everything will be considered, on the server or on the client, or adjacent.  Sharing responsibility in this place is very important. <br><br><h1>  And where does the dynamics come from? </h1><br>  It is taken from the server (K.O.).  In fact, this is a set of some rules, which (highly desirable) are set by the user through the interface.  The simplest building block of dynamics is a Hub (Field-Condition-Value).  Simplified this expression of the form: "If the value of the field is equal to the value, then the field is visible, otherwise it is not visible."  A condition compares a certain value from some field on a form with a standard, and, depending on the chosen condition, the field to which this HLR belongs, changes its state (visibility, accessibility, mandatory).  For example, in <a href="http://demo.oreodor.com/ExampleForm/SmartForm.aspx">this form</a> there is a PUS of hiding the ‚ÄúMetro‚Äù field, if it is not in the city.  It is on such elementary conditions that the dynamics is built.  Of course, it can be not only on the PUZ-ah.  These can be document statuses, available fields in an operation, and a lot of scary words.  But at the client level - this is all an abstraction and not where the essence comes from, it is important how to work it out. <br><img src="https://habrastorage.org/storage2/2ea/119/a83/2ea119a830d1e87e0cf46dc4792b3012.png"><br>  It is worth noting that the HSS can control not only the field, but also the whole container, which is often convenient, although it can ideologically be challenged, because the container is not an element of business logic. <br><br><h1>  Summary... </h1><br>  Letters above I talked about how to do the dynamics for the forms.  The task is rather trivial and largely depends on the components you use for the interface.  I have described how this is done on the Web, although it is so general that it suits a variety of systems.  I need to think about the nuances described by me immediately, as you start thinking about starting to think about the form architecture in your system. <br><br>  A little later (if there is interest) I will tell you more about the sources of dynamics, namely, field events, dynamic filters, I‚Äôll talk more deeply about HSPs, and touch on statuses and operations.  All these are common topics for accounting systems, and not only. </div><p>Source: <a href="https://habr.com/ru/post/139328/">https://habr.com/ru/post/139328/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../139320/index.html">We overclock the sysadmin's portfolio with free certificates</a></li>
<li><a href="../139322/index.html">AlertDialog setMultiChoiceItems, bug or non-obvious feature</a></li>
<li><a href="../139324/index.html">Cross-compiling Qt-4.8.0 under mingw32 (x86) in Gentoo (x86_64)</a></li>
<li><a href="../139325/index.html">Architectural Flame CouchDB</a></li>
<li><a href="../139326/index.html">Morris.js: beautiful graphics tool with jQuery and Rapha√´l</a></li>
<li><a href="../139329/index.html">Stopwatch on CSS3 without pictures, scripts and SMS</a></li>
<li><a href="../139335/index.html">Instagram has grown to 25 million users: the largest social network on a mobile platform</a></li>
<li><a href="../139337/index.html">Mutation testing on the example of Pitest</a></li>
<li><a href="../139338/index.html">App Store Reaches 25 Billion Downloads</a></li>
<li><a href="../139339/index.html">Realtime on your resource in a few minutes</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>