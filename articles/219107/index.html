<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>We make the management of "smart home" via the Internet in a couple of minutes</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Good day. Many of us, including me, have long had the idea of ‚Äã‚Äãcreating their own ‚ÄúSmart Home‚Äù. But it was postponed due to the great complexity of i...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>We make the management of "smart home" via the Internet in a couple of minutes</h1><div class="post__text post__text-html js-mediator-article">  Good day.  Many of us, including me, have long had the idea of ‚Äã‚Äãcreating their own ‚ÄúSmart Home‚Äù.  But it was postponed due to the great complexity of implementation from both the hardware and software side, which required its creator to be a ‚Äúguru‚Äù in many areas. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/235/2e8/75b/2352e875b2c6c4f074051e283c858e21.jpg" alt="image"><br><br>  In this article I will tell you about a very simple and quite functional way to manage the smart home system via the Internet.  On its creation in the presence of the necessary components will take just a few minutes. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Intrigued?  I ask under the cat. <br><a name="habracut"></a><br>  One day, roaming the Internet in search of information about ‚ÄúSmart Homes,‚Äù came across an interesting video where a man in a white coat showed how to manage ARDUINO via the Internet.  Later it turned out that this man is one of the developers of the project on kickstarter.com called Ninja Blocks. <br><br>  Here, that same video. <br><br><iframe width="560" height="315" src="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://www.youtube.com/embed/-hi9tjAnbSM%3Ffeature%3Doembed&amp;xid=17259,1500008,15700021,15700186,15700191,15700253&amp;usg=ALkJrhh11Q-fjm71ei1vLCHiRgrhviyxkQ" frameborder="0" allowfullscreen=""></iframe><br><br>  Ninja Blocks is a very interesting and quite successful project that offers control and control of large peripherals of home devices using their module (which they offer to buy for 199 enemy units).  The module interacts with the cloud, through which the device is managed.  There are also applications for iOS and Android with the help of which management is also possible. <br>  Ninja Blocks developers were not too lazy and wrote their library for ARDUINO for which many thanks! <br><br>  The cloud is not quite simple, it not only sends and receives data, it is also programmable by the user who creates the so-called RULES.  Thus, the cloud becomes an online ‚Äúbrain‚Äù of the ‚ÄúSmart Home‚Äù. <br>  FOR EXAMPLE: when you press a button, the cloud waits for 30 seconds, and then turns on a relay, waits another 60 seconds and turns it off. <br>  Rules are easily created from the control panel. <br><br>  To repeat his example, Ethetnet Shield was needed.  At that time, I had at my disposal a module based on enc28j60.  But no matter how I tried to repeat the example using different libraries, nothing happened.  A module compatible with the native Ethernet library for ARDUINO, i.e.  based on the w5100 chip.  Shield was ordered from heaven and everything was postponed for a long month. <br><br>  If you have already watched the video above, you will understand what we need: <br><br>  - compatible ARDUINO board <br>  - w5100 thernet shield <br>  - account on <a href="https://a.ninja.is/">a.ninja.is</a> <br>  - different small things in the form of resistors, buttons and LEDs <br><br>  So.  The fee has come.  All collected, connected, downloaded. <br>  It was amazing, but it all worked)) But there is always ‚ÄúBUT‚Äù.  Literally a couple of minutes noticed that the LED stopped responding to control through the site.  Rebooting the controller helped, but only for the same couple of minutes.  At the same time, the button always worked in parallel.  Yes, it was a serious problem with which the "Smart Home" does not build. <br><br>  After studying this example, several questions arose: <br>  1. How to manage multiple devices receiving data (LEDs)? <br>  2. How to add several devices sending data (button, temperature sensor)? <br>  3. How to fix the control for the LEDs through the panel, which ‚Äúfalls off‚Äù after a couple of minutes? <br><br>  The search began with a not very popular section on the <a href="http://forums.ninjablocks.com/">developer forum</a> called ARDUINO.  A solution was found to correct the problem with the management.  One of the forum participants finalized the project library.  The most amazing thing is that for half a year the developers have not updated the library on github.  Apparently they fear competition for themselves from projects based on Arduino)). <br><br>  Below you can download the already corrected library. <br><br>  A few hours of experimentation and study of the blurred explanations of the developers on the forum and library gave their fruits.  All questions were successfully resolved ... =) <br><br>  And so now in the case. <br>  Library for Arduino is engaged only in receiving and sending data. <br>  The main parameter in the data is the device ID to which the server accesses or from which it receives information.  View the full list here.  <a href="http://ninjablocks.com/pages/device-ids">ninjablocks.com/pages/device-ids</a> Each ID has its own widget in the control panel. <br><br>  In the Serial Monitor, sending or receiving a single command or data looks like this: <br><pre><code class="cpp hljs">{<span class="hljs-string"><span class="hljs-string">"GUID"</span></span>: <span class="hljs-string"><span class="hljs-string">"ETHERSHIELDBLOCK_0_0_1"</span></span>,<span class="hljs-string"><span class="hljs-string">"G"</span></span>: <span class="hljs-string"><span class="hljs-string">"0"</span></span>,<span class="hljs-string"><span class="hljs-string">"V"</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-string"><span class="hljs-string">"D"</span></span>: <span class="hljs-number"><span class="hljs-number">1</span></span>,<span class="hljs-string"><span class="hljs-string">"DA"</span></span>: <span class="hljs-number"><span class="hljs-number">27</span></span>}</code> </pre> <br>  Now consider what's inside. <br>  <b>‚ÄúG‚Äù: ‚Äú0‚Äù</b> - the GUID parameter indicates the sequence number within the group of devices with the same ID.  For example, 3 temperature sensors with the same ID = 1 are installed. Then for the first sensor the GUID will be 0, for the second one - 1 and 2 for the third. <br>  <b>"V": 0</b> - the VID parameter is an identifier for devices as well as an ID. <br>  <b>‚ÄúD‚Äù: 1</b> ‚Äî The DID (Device ID) parameter indicates the type of device.  For example, the temperature sensor has ID = 1 or 31, button - 5. <br>  <b>‚ÄúGUID‚Äù: ‚ÄúETHERSHIELDBLOCK_0_0_1‚Äù</b> - it's hard to say why this is necessary, but in general it contains the name of the ARDUINO block (which can be changed at the beginning of the example from the library) and all the above perechischennye parameters. <br>  <b>"DA": 27</b> - well, the data itself, which we transmit.  For a button or a relay, this is 0 or 1, for an RGB LED it is a color code such as FFFFFF. <br><br>  Conventionally, all sensors and devices can be divided into two types.  The first type only transmit information (button, temperature and humidity sensor).  And the second type only accept it.  Here lies one nuance.  The control panel does not initially know what is connected to the controller.  And if the first type itself will inform about itself, when they will transmit data and the panel will immediately create for them, depending on their ID.  So for the second type you need to create widgets in the control panel by sending data. <br><br>  How to send data from multiple devices with the same ID. <br>  Everything is very simple before each sending data, we must specify the sequence number of the device (GUID) <br><br><pre> <code class="cpp hljs"> NinjaBlock.guid = <span class="hljs-string"><span class="hljs-string">"1"</span></span>; <span class="hljs-comment"><span class="hljs-comment">//     0  1-, 1  2-  .. NinjaBlock.deviceID=(1); //  ID     NinjaBlock.send("24"); //  </span></span></code> </pre><br><br>  When receiving data for several devices with the same ID, we need to check what the GUID is. <br><br><pre> <code class="cpp hljs"> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (<span class="hljs-built_in"><span class="hljs-built_in">strcmp</span></span>(NinjaBlock.strGUID,<span class="hljs-string"><span class="hljs-string">"1"</span></span>) == <span class="hljs-number"><span class="hljs-number">0</span></span>) <span class="hljs-comment"><span class="hljs-comment">//    GUID 1   </span></span></code> </pre><br><br>  Let's return to devices of the second type.  To create a widget in the control panel, it‚Äôs enough just to send data on its behalf.  Create a widget with an ON / OFF switch for each of the two LEDs by writing the following in a void setup loop: <br><br><pre> <code class="cpp hljs"> NinjaBlock.guid = <span class="hljs-string"><span class="hljs-string">"0"</span></span>; NinjaBlock.deviceID=(<span class="hljs-number"><span class="hljs-number">1002</span></span>); NinjaBlock.send(<span class="hljs-string"><span class="hljs-string">"0"</span></span>); NinjaBlock.guid = <span class="hljs-string"><span class="hljs-string">"1"</span></span>; NinjaBlock.deviceID=(<span class="hljs-number"><span class="hljs-number">1002</span></span>); NinjaBlock.send(<span class="hljs-string"><span class="hljs-string">"0"</span></span>);</code> </pre><br><br>  After receiving this data, the panel will create a widget for them. <br><br>  Now I bring to your attention a simple program for working with Ninja Blocks. <br>  - Manages 4th LEDs <br>  - Sends the testimony of 2 ds18b20 temperature sensors with an interval of 60 seconds <br>  - Every 20 seconds synchronizes the position of the ON / OFF switches with the status of the LEDs.  Since the control panel does not monitor in any way whether the data reached the controller and therefore it sometimes happens that the ON position on the panel and in fact the output is turned off.  This method allows you to set the switches in the panel to the correct position every 20 seconds if they were not right before. <br>  - A button is connected, when clicked, the programmed script is executed. <br><br><div class="spoiler">  <b class="spoiler_title">Program code</b> <div class="spoiler_text"><pre> <code class="cpp hljs"><span class="hljs-meta"><span class="hljs-meta">#</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">include</span></span></span><span class="hljs-meta"> </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">&lt;SPI.h&gt; #include &lt;Ethernet.h&gt; #include &lt;NinjaBlockEthernet.h&gt; //#include &lt;MemoryFree.h&gt; #define DEFAULT_VENDOR_ID 0 // ID   #define LED_DEVICE_ID 1002 // ID        2-     #define BUTTON_DEVICE_ID 5 // ID   #define TEMP_ID 1 // ID    #include &lt;OneWire.h&gt; #include &lt;DallasTemperature.h&gt; //     ds18b20 #define ONE_WIRE_BUS 2 //    2   #define ENABLE_SERIAL false //  serial monitor byte button = 5; byte led_1 = 7; byte led_2 = 6; byte led_3 = 4; byte led_4 = 3; boolean isButtonDown = false; int time =500; //        int timeup=500; //     OneWire oneWire(ONE_WIRE_BUS); DallasTemperature sensors(&amp;oneWire); void setup(){ sensors.begin(); //    pinMode(button, INPUT); //      pinMode(led_1, OUTPUT); pinMode(led_2, OUTPUT); pinMode(led_3, OUTPUT); pinMode(led_4, OUTPUT); #if ENABLE_SERIAL Serial.begin(9600); Serial.println("Starting.."); #endif delay(1000); // This delay is to wait for the Ethernet Controller to get ready NinjaBlock.host = "api.ninja.is"; NinjaBlock.port = 80; NinjaBlock.nodeID = "ETHERSHIELDBLOCK"; //     NinjaBlock.token = " "; // Get yours from https://a.ninja.is/hacking    NinjaBlock.guid = "0"; NinjaBlock.vendorID=DEFAULT_VENDOR_ID; NinjaBlock.deviceID=LED_DEVICE_ID; NinjaBlock.deviceID=TEMP_ID; if (NinjaBlock.begin()==0) //    NinjaBlock.guid = "0"; //     2-         1-  NinjaBlock.deviceID=(1002); NinjaBlock.send("0"); NinjaBlock.guid = "1"; //  2- NinjaBlock.deviceID=(1002); NinjaBlock.send("0"); NinjaBlock.guid = "2"; //  3- NinjaBlock.deviceID=(1002); NinjaBlock.send("0"); NinjaBlock.guid = "3"; //  4- NinjaBlock.deviceID=(1002); NinjaBlock.send("0"); } void loop() { //   // if ( timeup == 1) //       (  20 ) { if( digitalRead(led_1)== HIGH) //   1  { NinjaBlock.guid = "0"; //     NinjaBlock.deviceID=(1002); //  ID NinjaBlock.send("1"); //  1 ,    } if(digitalRead(led_1)== LOW) //   1     ,   0 { NinjaBlock.guid = "0"; NinjaBlock.deviceID=(1002); NinjaBlock.send("0"); Serial.println( " Led-1 OFF UPdate"); } if(digitalRead(led_2)== HIGH) { NinjaBlock.guid = "1"; NinjaBlock.deviceID=(1002); NinjaBlock.send("1"); Serial.println( " Led-2 ON UPdate"); } if(digitalRead(led_2)== LOW) { NinjaBlock.guid = "1"; NinjaBlock.deviceID=(1002); NinjaBlock.send("0"); Serial.println( " Led-2 OFF UPdate"); } if(digitalRead(led_3)== HIGH) { NinjaBlock.guid = "2"; NinjaBlock.deviceID=(1002); NinjaBlock.send("1"); Serial.println( " Led-3 ON UPdate"); } if(digitalRead(led_3)== LOW) { NinjaBlock.guid = "2"; NinjaBlock.deviceID=(1002); NinjaBlock.send("0"); Serial.println( " Led-3 OFF UPdate"); } if(digitalRead(led_4)== HIGH) { NinjaBlock.guid = "3"; NinjaBlock.deviceID=(1002); NinjaBlock.send("1"); Serial.println( " Led-4 ON UPdate"); } if(digitalRead(led_4)== LOW) { NinjaBlock.guid = "3"; NinjaBlock.deviceID=(1002); NinjaBlock.send("0"); Serial.println( " Led-4 OFF UPdate"); } timeup=2000; } // END -   // timeup= timeup-1; //      delay(1); //    // if(NinjaBlock.receive()) { //     //   // Return values are: // NinjaBlock.strGUID // NinjaBlock.intVID // NinjaBlock.intDID // NinjaBlock.intDATA - if data is integer // NinjaBlock.strDATA - if data is string (note char[64]) if (NinjaBlock.IsDATAString) { //Serial.print("strDATA="); //Serial.println(NinjaBlock.strDATA); if (NinjaBlock.intDID == 1002) //       ..     ID { if (strcmp(NinjaBlock.strGUID,"0") == 0) //      4-   ..  GUID { if (strcmp(NinjaBlock.strDATA,"1") == 0) //  GUID  ,          { //   1     digitalWrite(led_1, HIGH); } else if (strcmp(NinjaBlock.strDATA,"0") == 0) //  0 -  { digitalWrite(led_1, LOW); } } if (strcmp(NinjaBlock.strGUID,"1") == 0) //      2-  { if (strcmp(NinjaBlock.strDATA,"1") == 0) { digitalWrite(led_2, HIGH); } else if (strcmp(NinjaBlock.strDATA,"0") == 0) { digitalWrite(led_2, LOW); } } if (strcmp(NinjaBlock.strGUID,"2") == 0) //      3-  { if (strcmp(NinjaBlock.strDATA,"1") == 0) { digitalWrite(led_3, HIGH); } else if (strcmp(NinjaBlock.strDATA,"0") == 0) { digitalWrite(led_3, LOW); } } if (strcmp(NinjaBlock.strGUID,"3") == 0) //      4-  { if (strcmp(NinjaBlock.strDATA,"1") == 0) { digitalWrite(led_4, HIGH); } else if (strcmp(NinjaBlock.strDATA,"0") == 0) { digitalWrite(led_4, LOW); } } } } } //    // if (digitalRead(button) == HIGH) { //    if (!isButtonDown) { //      #if ENABLE_SERIAL Serial.println("Button Down"); #endif NinjaBlock.guid = "0"; //    NinjaBlock.deviceID=5; //  ID  5 NinjaBlock.send(1); //   1 -  isButtonDown = true; //     } } else { if (isButtonDown) { //      #if ENABLE_SERIAL Serial.println("Button Up"); #endif NinjaBlock.guid = "0"; //    NinjaBlock.deviceID=5; //  ID  5 NinjaBlock.send(0); //   0 -  isButtonDown = false; //    -  } } if (time==1) //          (   60 ) { sensors.requestTemperatures(); //    Serial.println(sensors.getTempCByIndex(0)); NinjaBlock.guid = "0"; //    NinjaBlock.deviceID=(1); //  ID NinjaBlock.send(sensors.getTempCByIndex(0)); //     Serial.println(sensors.getTempCByIndex(1)); //     NinjaBlock.guid = "1"; NinjaBlock.deviceID=(1); NinjaBlock.send(sensors.getTempCByIndex(1)); time=6000; //     } time=time-1; //      delay (9); }</span></span></span></span></code> </pre><br></div></div><br><br>  I tried to provide the code with detailed comments. <br><br>  Prepared a small demo video <br><iframe width="420" height="315" src="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://www.youtube.com/embed/vbJ22kQijPs%3Ffeature%3Doembed&amp;xid=17259,1500008,15700021,15700186,15700191,15700253&amp;usg=ALkJrhhSXvqaNesf9QkTPEMhCEcfNpCszQ" frameborder="0" allowfullscreen=""></iframe><br><br>  Let's summarize a little. <br><br>  <b>Advantages:</b> <br>  - Management and control from anywhere in the world (if there is an Internet) <br>  - It is assembled and configured in minutes. <br>  - very simple and inexpensive <br>  - Availability of special scenarios <br>  - A wide list of widgets in the control panel. <br>  - If you add a TP-Link TL-MR3020 router ($ 20) and a 3G modem, then you can use it in the country and other places without the Internet. <br>  - If there is no desire to pull the network cable, then it is enough to buy TP-Link TL-WR702N for $ 15, which will work as a wi-fi shield <br>  - Good stability at work.  For 2 days of testing, not a single team was lost, everything works clearly. <br><br>  <b>Disadvantages:</b> <br>  - The main disadvantage of this system is the impossibility of working without the Internet. <br>  - There is a delay when switching on varies from a fraction of a second to several <br>  - The library eats a lot of space - as much as 16 KB, if you add a library for nrf24l01, then almost nothing remains.  You'll have to switch to Mega most likely. <br>  - The application for smartphones does not allow viewing sensor readings.  Device management is not very convenient, you can not see the current on / off status. <br><br>  <b>Future plans:</b> <br>  - Add a connection test in the code and in case of its absence, the Arduino will act independently and will reboot the TP-Link TL-MR3020 and 3G modem if it works in conjunction with them. <br>  - Add nrf24l01 to control and monitor other sensors. <br><br>  It is very interesting to hear your opinion and constructive criticism.  Original questions are welcome!  Fuh ... <br><br>  FILES: <br>  <a href="">Corrected library.</a> <br><br>  PS During operation, the w5100 chip on the Etherten Shield is very hot to a temperature of about 45-50 degrees.  This is normal? <br>  Find out the current temperature of my Shield <a href="http://temperature-widget.herokuapp.com/get/code/ETHERSHIELDBLOCK_1_0_1/c4b9ffa868f37e7d02a01151748892b8bcf10e78">here</a> . </div><p>Source: <a href="https://habr.com/ru/post/219107/">https://habr.com/ru/post/219107/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../219087/index.html">A new version of opensource firewall pfSense 2.1.2 has been released. Less than a week</a></li>
<li><a href="../219091/index.html">The history of hacker hacking information systems (1903-1971)</a></li>
<li><a href="../219095/index.html">Android OS will constantly monitor installed applications for malware</a></li>
<li><a href="../219101/index.html">Happy Cosmonautics Day: 53 years since the first manned flight into space</a></li>
<li><a href="../219105/index.html">The NSA knew about the vulnerability Heartbleed two years ago</a></li>
<li><a href="../219109/index.html">SSL key was successfully stolen from the CloudFlare contest server</a></li>
<li><a href="../219111/index.html">Heartbleed and Android</a></li>
<li><a href="../219117/index.html">Lenovo and EMC - global partnership</a></li>
<li><a href="../219125/index.html">Hackers get $ 10,000 for hacking Google</a></li>
<li><a href="../219129/index.html">MNP: Throw off the chains properly</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>