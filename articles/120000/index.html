<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Refactoring syndrome</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="There is an opinion that software systems, being an object that is not entirely material, are not amenable to aging. And if we talk about physical agi...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Refactoring syndrome</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/getpro/habr/post_images/a39/f7b/b90/a39f7bb90409abad7552f6ef722c5e2b.jpg" alt="image"><br>  There is an opinion that software systems, being an object that is not entirely material, are not amenable to aging.  And if we talk about physical aging, then indeed, the chances that the letter ‚Äúo‚Äù in the class name suddenly shrivels from old age and turns into the letter ‚Äúc‚Äù - really small.  But instead of physical aging, software systems age morally.  Over time, a load of errors accumulates due to inaccuracies in the initial requirements, lack of understanding of the requirements by the customer, architectural errors or unsuccessful compromise solutions;  and even smaller errors, such as poorly understood code, its high connectivity, the lack of unit tests and comments, do their dirty work.  All this leads to the accumulation of <a href="http://sergeyteplyakov.blogspot.com/2011/05/blog-post.html">technical debt</a> (which was discussed last time), because of which, when adding a new opportunity to the system, you have to pay ‚Äúinterest‚Äù in the form of higher realization costs and lower quality of the result. <br><a name="habracut"></a><br><br>  There are several ways to pay technical debt, and the simplest of them is to refactor a system or some of its parts, select new abstractions, write unit tests, comments, or completely rewrite some pieces of the system.  However, as in any other business that a glorious programming soul is engaged in, this soul often overturns the stick and instead of a pragmatic approach to improving some parts of the system to get a reasonable benefit in the future, it throws everything back and forth with a checker: what is needed It is not necessary and that it is not worth rewriting at all. <br><br>  All this leads to another metaphor that just describes a similar unremovable desire for rewriting the old code - the refactoring syndrome. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h4>  Symptom 1. Someone else's code - g # $ but </h4><br><br>  As soon as more than one developer appears in the team, problems immediately begin: different people may have different opinions about the formatting of the code used by idioms, the programming language, and the approach to solving applied problems.  In addition, no matter how understandable the requirements, no matter how expressive the programming language, no matter how good the code and no matter how well documented (although all these combinations are never found in one place), many thoughts and intentions of the developer still remain only in his head.  And, not understanding his intentions, we very often arrogantly believe that the current decision is wrong and the same can be done differently and significantly better. <br><br>  And realizing that the whole world has gone mad, many representatives of our ‚Äúrace‚Äù rush to the barricades and begin to rewrite or refactor someone else's code, simply because it is a stranger.  The classic syndrome ‚Äúthis is not invented here‚Äù (Not Invented Here) manifests itself, and all any code written not with your own hands is not understandable automatically (for many letters) and, therefore, bad. <br><br>  Such a disrespectful attitude to someone else's code, firstly does not color the developer, and secondly, in most cases does not reduce the technical debt, which should be reduced due to this refactoring.  The system as a whole does not become more followed and understood, it is just now closer and clearer to one specific person.  Of course, for some time the system maintainability improves, while the author of these changes is engaged in new features, but all the benefits will end exactly when another developer takes on this piece of code.  And the process begins again. <br><br><h4>  Symptom 2. The desire for the ideal code </h4><br><br>  The pursuit of the ideal code is the most good intention when changing the existing code, although we all know where such intentions lead to.  Blind adherence to ill-conceived coding standards is not much better than the lack of coding standards at all.  The beauty of the code is not an end in itself;  the code can be beautifully designed, all functions can be small in size with a sufficient number of comments, and even covered with unit tests.  But this does not mean that this code will cope with its main task, since, corny, no one bothered to find out this task from the user. <br><br>  For an ideal result, an endless amount of effort is required.  The code should be quite beautiful, clear enough, with a sufficient number of comments and unit tests.  From a unit test that covers completely trivial cases, or which is so incomprehensible that it is almost impossible to accompany him, more harm than good is more likely.  Unit tests are an invaluable source of information about system specifications, each of them must tell a story about one of the ways to use this class or part of the system.  They should not be many, and they should not be small;  they should be just enough so that the costs of their writing and accompaniment are justified (*). <br><br><h4>  Symptoms 3. ‚ÄúI fight because I fight‚Äù </h4><br><br>  Over time, from the height of their own new professional experience, thanks to a clearer understanding of user requirements and an understanding of their own system, even their code begins to look awful.  How many times have you caught yourself thinking: ‚ÄúWell, damn, who wrote this nonsense?‚Äù And then with surprise found out that this someone is you. <br><br>  This is a normal situation, because small debts accumulate at all.  Moreover, the reverse situation, when after a while you cannot find problems in your own code, it seems more suspicious.  Therefore, improving your own code is a process just as useful as improving someone else‚Äôs code.  But there are cases when your own code undergoes significant alterations of the heels once a year, but at the same time new features are added all the same slowly, and if you look at this code from the side, nothing in it really changes. <br><br>  In fact, this is some kind of the previous syndrome, but when the driving force is not an ideal code, but one clear, ideal solution for it.  It is normal if a person does it for his own project, when new solutions of already well-known tasks are acquired, but it is not quite reasonable when it is done for a commercial product.  After all, it turns out that the code is rewritten just like that;  just because today I learned about a new feature in my favorite programming language or about a new library that solves this problem much better.  But after a while, all new features come out (or you learn about them) and the process is repeated again from the beginning, but no debts are paid and nothing valuable is added to the system. <br><br><h4>  Symptom 4 ... 1001 </h4><br><br>  I think that every fairly experienced developer has come across all these symptoms and, probably, not one dozen others.  I didn‚Äôt set myself the goal of describing all possible reasons that might lead to unnecessary rewriting of the code.  The essence of this little note is that code, like architecture, is not an end in itself;  All these are just tools for solving specific tasks of business users or any other tasks that should be solved by an application or library.  The code and architecture should be good and flexible just as much as is necessary for successfully solving these tasks in a reasonable time frame now and for reasonable labor costs for solving new problems in the future. <br><br>  In almost any case, pragmatism and the absence of extremes is the best choice and refactoring of the existing code is no exception.  Do not forget about the Pareto law (80/20 principle): twenty percent of the effort to improve your code and maintain it in adequate condition is often enough to improve it by 80%.  And if this is not the case, then the patient may be more likely dead than alive, and investing additional funds to cover such a large technical debt simply makes no sense and should we start from scratch? <br><br>  - <br><br>  (*) Exceptionally just in case, I will say that I consider unit tests to be the most valuable tool in the developer‚Äôs arsenal.  This is an invaluable source of information about how the system should work and an amazing litmus test of design quality: if the code cannot be covered with unit tests, then something is wrong with it.  This does not mean that I cover all my code with tests, but I will definitely ‚Äútry on‚Äù them to my classes and change the design if it is impossible to write them or it is very difficult.  But at the same time I treat the tests with sufficient pragmatism and try to ensure that their number is the most optimal from the point of view of labor costs to the benefit obtained from them. </div><p>Source: <a href="https://habr.com/ru/post/120000/">https://habr.com/ru/post/120000/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../119993/index.html">Twitter confirmed the acquisition of TweetDeck</a></li>
<li><a href="../119996/index.html">Oracle functions returning a table</a></li>
<li><a href="../119997/index.html">SSD on the chart hot / crazy</a></li>
<li><a href="../119998/index.html">Live broadcast of DevCon'11 reports. The first day</a></li>
<li><a href="../119999/index.html">Flamp makes people write reviews!</a></li>
<li><a href="../120001/index.html">Kazakhstanis are sent to the App Store or How to make an application in a week</a></li>
<li><a href="../120002/index.html">III Festival of Contemporary Spanish Design</a></li>
<li><a href="../120003/index.html">Oracle DB for programmer</a></li>
<li><a href="../120004/index.html">Drupal 7.2 released</a></li>
<li><a href="../120005/index.html">Creating a programming language using LLVM. Part 2: Implementing Parser and AST</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>