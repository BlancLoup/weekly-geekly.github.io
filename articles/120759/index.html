<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Haskell Quest Tutorial - The Threshold</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="West of house 
 You are in front of a white house, with a boarded front door. 
 There is a small mailbox here. 

 > open mailbox 
 Opening the small m...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Haskell Quest Tutorial - The Threshold</h1><div class="post__text post__text-html js-mediator-article"><blockquote>  West of house <br>  You are in front of a white house, with a boarded front door. <br>  There is a small mailbox here. <br><br>  &gt; open mailbox <br>  Opening the small mailbox reveals a leaflet. <br><br>  &gt; read leaflet <br>  (Taken) <br>  ‚ÄúWELCOME TO ZORK! 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      ZORK is a game of adventure, danger, and low cunning.  By the mortals.  No computer should be without one! <br></blockquote><br><br>  Content: <br>  <a href="http://habrahabr.ru/blogs/Haskell/120590/">Greeting</a> <br>  <a href="http://habrahabr.ru/blogs/Haskell/120759/">Part 1 - The Threshold</a> <br>  <a href="http://habrahabr.ru/blogs/Haskell/121189/">Part 2 - Forest</a> <br>  <a href="http://habrahabr.ru/blogs/Haskell/122259/">Part 3 - Polyana</a> <br>  <a href="http://habrahabr.ru/blogs/Haskell/122788/">Part 4 - View of the canyon</a> <br>  <a href="http://habrahabr.ru/blogs/Haskell/123422/">Part 5 - Hall</a> <br><br>  Part 1, <br>  in which we will get acquainted with not all the basics of the Haskell language and write one useful quest feature. <br><br>  So, you stand at the very beginning, in front of the closed door and see the mailbox. <br><a name="habracut"></a><br>  Programming in Haskell takes a bit.  First of all - the desire.  It may also be useful interpreter and compiler.  We will use the GHC compiler (Glasgow Haskell Compiller) on the Haskell Platform for Windows, simply because it‚Äôs convenient.  (If you have Linux, you don't need advice, you know better than me how to make everything work.) Installation is trivial: <a href="">download</a> and install.  After installation, run the ghci command.  If it is not found, add the folder "... \ Haskell Platform \ xyz0 \ bin \" to PATH.  Haskell code is stored in "* .hs" files.  You can write it in HugIDE or Notepad ++ (as I do).  After installing the Haskell Platform, the * .hs files will be associated with the GHCi interpreter - and this is very convenient, as you will see later.  You can also download a huge repository of any good Hackage, and there you will find a simple game advgame.  She was a type and reference point for me in writing her own. <br><br>  Create a folder for your quest.  Create an empty QuestMain.hs file in it and run it.  You will see, um, a GHCi interpreter console that will help us with debugging.  You will see that GHCi loaded some libraries, successfully compiled 1 file out of 1 and said: ‚ÄúOk, modules loaded: Main.‚Äù You can play: at the command prompt ‚Äú* Main&gt;‚Äù enter any mathematical expression.  No, no, we will not write a program in it.  Now we will study this tool a little, so that later it would be easier to debug the program. <br><br><blockquote>  <font color="#339933">*</font> Main <font color="#339933">&gt;</font> <font color="red">4</font> <br>  <font color="red">four</font> <br>  <font color="#339933">*</font> Main <font color="#339933">&gt;</font> <font color="red">2</font> <font color="#339933">+</font> <font color="red">4</font> <font color="#339933">-</font> <font color="red">7</font> <br>  <font color="#339933">-</font> <font color="red">1</font> <br>  <font color="#339933">*</font> Main <font color="#339933">&gt;</font> <font color="red">9</font> <font color="#339933">/</font> <font>(</font> <font color="red">2</font> <font color="#339933">*</font> <font color="red">5.0</font> <font>)</font> <br>  <font color="red">0.9</font> <br>  <font color="#339933">*</font> Main <font color="#339933">&gt;</font> <font>(</font> <font color="#339933">-</font> <font color="red">1</font> <font>)</font> <font color="#339933">+</font> <font color="red">4</font> <br>  <font color="red">3</font> <br>  <font color="#339933">*</font> Main <font color="#339933">&gt;</font> <font color="red">7</font> <font color="#339933">==</font> <font color="red">7</font> <br>  True <br>  <font color="#339933">*</font> Main <font color="#339933">&gt;</font> <font color="#339933">-</font> <font color="red">5</font> <font color="#339933">&gt;</font> <font color="red">0</font> <br>  False </blockquote><br><br>  You also have access to mathematical functions: sin x, cos x, tan x, atan x, abs x. <br><br><blockquote>  <font color="#339933">*</font> Main <font color="#339933">&gt;</font> <font>sin</font> <font color="red">10</font> <font color="#339933">*</font> <font>sin</font> <font color="red">10</font> <font color="#339933">+</font> <font>cos</font> <font color="red">10</font> <font color="#339933">*</font> <font>cos</font> <font color="red">10</font> <br>  <font color="red">1.0</font> <br>  <font color="#339933">*</font> Main <font color="#339933">&gt;</font> <font>sin</font> <font>(</font> <font color="red">2</font> <font color="#339933">*</font> <font>cos</font> <font color="red">10</font> <font>)</font> <font color="#339933">+</font> <font>tan</font> <font color="red">5</font> <br>  <font color="#339933">-</font> <font color="red">4.374758876543559</font> </blockquote><br><br>  Haskell is a case-sensitive language (like C ++, Java).  I know that you always wanted the "cos" function, but it is not there, accept it!  There is only ‚Äúcos‚Äù. <br><br><blockquote>  <font color="#339933">*</font> Main <font color="#339933">&gt;</font> <font>cos</font> <font>(</font> <font>cos</font> <font>(</font> <font>cos</font> <font color="red">0.5</font> <font>)</font> <font>)</font> <br>  <font color="red">0.8026751006823349</font> <br>  <font color="#339933">*</font> Main <font color="#339933">&gt;</font> <font>cos</font> <font>pi</font> <br>  <font color="#339933">-</font> <font color="red">1.0</font> </blockquote><br><br>  This is all expected and understandable.  pi is a function that returns the number pi, it has no arguments.  Trigonometric functions take one argument.  What about functions with multiple arguments?  The syntax is simple: first the name of the function, then the arguments.  Without any brackets, commas and semicolons. <br><br><blockquote>  <font color="#339933">*</font> Main <font color="#339933">&gt;</font> <font>logBase</font> <font color="red">2</font> <font color="red">2</font> <br>  <font color="red">1.0</font> <br>  <font color="#339933">*</font> Main <font color="#339933">&gt;</font> <font>logBase</font> <font>(</font> <font>sin</font> <font color="red">2</font> <font>)</font> <font color="red">2</font> <br>  <font color="#339933">-</font> <font color="red">7.28991425837762</font> </blockquote><br><br>  In the second example, it is important to wrap the sin 2 in parentheses so that it is the argument No. 1 of the logBase function.  If this is not done, the interpreter will think that we have passed three arguments to the logBase function (sin, 2, 2) instead of two, and it calls out: <br><br><blockquote>  <font color="#339933">*</font> Main <font color="#339933">&gt;</font> <font>logBase</font> <font>sin</font> <font color="red">2</font> <font color="red">2</font> <br><br>  <font color="#339933">&lt;</font> interactive <font color="#339933">&gt;</font> : <font color="red">1</font> : <font color="red">1</font> : <br>  No <font color="#06c">instance</font> for <font>(</font> <font color="green"><a href="http://haskell.org/ghc/docs/latest/html/libraries/base/Prelude.html">Floating</a></font> <font>(</font> a0 <font color="#66cc66">-&gt;</font> a0 <font>)</font> <font>)</font> <br>  arising from a use <font color="#06c">of</font> ' <font>logBase</font> ' <br>  Possible fix: add an <font color="#06c">instance</font> declaration for <font>(</font> <font color="green"><a href="http://haskell.org/ghc/docs/latest/html/libraries/base/Prelude.html">Floating</a></font> <font>(</font> a0 <font color="#66cc66">-&gt;</font> a0 <font>)</font> <font>)</font> <br>  In the expression: <font>logBase</font> <font>sin</font> <font color="red">2</font> <font color="red">2</font> <br>  In this equation for 'it': it <font color="#66cc66">=</font> <font>logBase</font> <font>sin</font> <font color="red">2</font> <font color="red">2</font> <br>  <font color="#339933">..................</font> </blockquote><br><br>  What he tells us, we will not ponder yet.  This is not a royal business, we have more important things. <br><br><blockquote><blockquote>  Other functions, including math, can be found in the accompanying documentation, which is in the Haskell Platform ("GHC Library Documentation").  By default, all functions available in the Prelude module are available.  You did not load this module, it loaded itself.  sin, cos and others are defined in it.  Prelude contains a whole bunch of useful functions, they are used most often, and therefore gathered together.  Check out the Prelude documentation, and you will see something unusual, some strange constructions like this: <br><br><blockquote>  <font>words</font> <font color="#339933">::</font> <font color="green"><a href="http://haskell.org/ghc/docs/latest/html/libraries/base/Prelude.html">String</a></font> <font color="#66cc66">-&gt;</font> <font>[</font> <font color="green"><a href="http://haskell.org/ghc/docs/latest/html/libraries/base/Prelude.html">String</a></font> <font>]</font> </blockquote><br><br>  or even this one: <br><br><blockquote>  <font color="green"><a href="http://haskell.org/ghc/docs/latest/html/libraries/base/Prelude.html">Eq</a></font> a <font color="#339933">=&gt;</font> <font color="green"><a href="http://haskell.org/ghc/docs/latest/html/libraries/base/Prelude.html">Eq</a></font> <font>(</font> <font color="green"><a href="http://haskell.org/ghc/docs/latest/html/libraries/base/Prelude.html">Maybe</a></font> a <font>)</font> </blockquote><br><br>  Unclear?  Nothing else to figure it out. <br></blockquote></blockquote><br><br>  Although what's there, let's still play around, only now with strings.  Strings in Haskell look the same as in C: characters inside double quotes.  The special symbol \ n ("New Line") also works. <br><br><blockquote>  <font color="#339933">*</font> Main <font color="#339933">&gt;</font> <i><font color="#808080">"Hello, world!"</font></i> <br>  <i><font color="#808080">"Hello world!"</font></i> <br>  <font color="#339933">*</font> Main <font color="#339933">&gt;</font> <i><font color="#808080">"Hello, <font>\ n</font> World!"</font></i> <br>  <i><font color="#808080">‚ÄúHello, <font>\ n</font> world!‚Äù</font></i> </blockquote><br><br>  What, did not work ??  A. When we write a ghci string, it simply repeats it.  Similarly, it will repeat one number or True: <br><br><blockquote>  <font color="#339933">*</font> Main <font color="#339933">&gt;</font> <font color="red">1,000,000</font> <br>  <font color="red">1,000,000</font> <br>  <font color="#339933">*</font> Main <font color="#339933">&gt;</font> True <br>  True </blockquote><br><br>  This is the ghci debug output, let's call it that.  Neither the string nor the number has yet been sent to the real console.  Let's send the string to print in a real console: <br><br><blockquote>  <font color="#339933">*</font> Main <font color="#339933">&gt;</font> <font>putStrLn</font> <i><font color="#808080">"Hello, <font>\ n</font> world!"</font></i> <br>  Hello <font color="#339933">,</font> <br>  world <font color="#339933">!</font> </blockquote><br><br>  Well, the putStrLn function accepted the string and printed it on a real console.  ghci reproduced the result for us.  Write: putStrLn, accepts a string, displays it on the screen.  Two lines can be output by connecting them with the operation "++": <br><br><blockquote>  <font color="#339933">*</font> Main <font color="#339933">&gt;</font> <font>putStrLn</font> <font>(</font> <i><font color="#808080">"Hello, world!"</font></i> <font color="#339933">++</font> <i><font color="#808080">" <font>\ n</font> Here we go!"</font></i> <font>)</font> <br>  Hello <font color="#339933">,</font> world <font color="#339933">!</font> <br>  Here we go <font color="#339933">!</font> </blockquote><br><br>  Brackets are needed for ghci to understand us correctly.  Without brackets he will think literally the following: <br>  putStrLn "Hello, world!" ++ "\ nHere we go!"  &lt;=&gt; (putStrLn "Hello, world!") ++ ("\ nHere we go!") <br>  And this is an ambush, because we are trying to add a string to the output to the console of line 1.  How can we add a line to the output ??  Here is what will be at the same time abuse: <br><br><blockquote>  <font color="#339933">*</font> Main <font color="#339933">&gt;</font> <font>putStrLn</font> <i><font color="#808080">"Hello, world!"</font></i> <font color="#339933">++</font> <i><font color="#808080">" <font>\ n</font> Here we go!"</font></i> <br><br>  <font color="#339933">&lt;</font> interactive <font color="#339933">&gt;</font> : <font color="red">1</font> : <font color="red">1</font> : <br>  Couldn't match expected <font color="#06c">type</font> <font>[</font> a0 <font>]</font> with actual <font color="#06c">type</font> ' <font color="green"><a href="http://haskell.org/ghc/docs/latest/html/libraries/base/Prelude.html">IO</a></font> <font>(</font> <font>)</font> ' <br>  In the <font>return</font> <font color="#06c">type</font> <font color="#06c">of</font> a call <font color="#06c">of</font> ' <font>putStrLn</font> ' <br>  In the first argument ' <font>(</font> <font color="#339933">++</font> <font>)</font> ' <font color="#339933">,</font> namely <br>  ' <font>putStrLn</font> <i><font color="#808080">"Hello, world!"</font></i> ' <br>  In the expression: <font>putStrLn</font> <i><font color="#808080">"Hello, world!"</font></i> <font color="#339933">++</font> <i><font color="#808080">" <font>\ n</font> Here we go!"</font></i> </blockquote><br><br>  The two console outputs do not add up either.  Some more erroneous options: <br><br><blockquote>  <font color="#339933">*</font> Main <font color="#339933">&gt;</font> <font>putStrLn</font> <i><font color="#808080">"Hello, world!"</font></i> <font color="#339933">++</font> <font>putStrLn</font> <i><font color="#808080">" <font>\ n</font> Here we go!"</font></i> <br>  <font color="#339933">*</font> Main <font color="#339933">&gt;</font> <font>putStrLn</font> <i><font color="#808080">"Hello, world!"</font></i> <font>PutStrLn</font> <i><font color="#808080">" <font>\ n</font> Here we go!"</font></i> <br>  <font color="#339933">*</font> Main <font color="#339933">&gt;</font> <i><font color="#808080">"Hello, world!"</font></i> <font color="#339933">++</font> <font>putStrLn</font> <i><font color="#808080">" <font>\ n</font> Here we go!"</font></i> </blockquote><br><br>  The variant, when the function putStrLn is not present at all, will work, but we will get not ‚Äúreal‚Äù, but debug output of the string.  We wanted a part of "\ nHere we go!"  was printed from a new line, and not like this: <br><br><blockquote>  <font color="#339933">*</font> Main <font color="#339933">&gt;</font> <i><font color="#808080">"Hello, world!"</font></i> <font color="#339933">++</font> <i><font color="#808080">" <font>\ n</font> Here we go!"</font></i> <br>  <i><font color="#808080">‚ÄúHello, world!</font></i>  <i><font color="#808080"><font>\ n</font> Here we go!</font></i> </blockquote><br><br>  Having tried to execute each of the erroneous options, you will find out what ghci thinks of you.  We know with you all the pettiness of these interpreters and compilers! .. Give them only the correct and accurate, as if they do not live in our world, but in some kind of ideal one. <br><br>  Well, actually, it is.  Haskell has its own world and its own laws.  Laws require that the types of expressions are correct.  Haskell is a very strictly typed language.  Functions, parameters, expressions - everything has a specific type.  You cannot pass a parameter to a function if it wants a parameter of another type.  Try typing a number in a real console: <br><br><blockquote>  <font color="#339933">*</font> Main <font color="#339933">&gt;</font> <font>putStrLn</font> <font color="red">5</font> <br><br>  <font color="#339933">&lt;</font> interactive <font color="#339933">&gt;</font> : <font color="red">1</font> : <font color="red">10</font> : <br>  No <font color="#06c">instance</font> for <font>(</font> <font color="green"><a href="http://haskell.org/ghc/docs/latest/html/libraries/base/Prelude.html">Num</a></font> <font color="green"><a href="http://haskell.org/ghc/docs/latest/html/libraries/base/Prelude.html">String</a></font> <font>)</font> <br>  arising from the literal ' <font color="red">5</font> ' <br>  Possible fix: add an <font color="#06c">instance</font> declaration for <font>(</font> <font color="green"><a href="http://haskell.org/ghc/docs/latest/html/libraries/base/Prelude.html">Num</a></font> <font color="green"><a href="http://haskell.org/ghc/docs/latest/html/libraries/base/Prelude.html">String</a></font> <font>)</font> <br>  In the first argument <font color="#06c">of</font> ' <font>putStrLn</font> ' <font color="#339933">,</font> namely ' <font color="red">5</font> ' <br>  In the expression: <font>putStrLn</font> <font color="red">5</font> <br>  In this equation for 'it': it <font color="#66cc66">=</font> <font>putStrLn</font> <font color="red">5</font> </blockquote><br><br>  You see the already familiar interpreter swearing about something.  The function putStrLn wants a string (type String), and only it, and receives a number.  Types do not match, =&gt; a conflict occurs.  You can do this: <br><br><blockquote>  <font color="#339933">*</font> Main <font color="#339933">&gt;</font> <font>putStrLn</font> <font>(</font> <font>show</font> <font color="red">5</font> <font>)</font> <br>  <font color="red">five</font> </blockquote><br><br>  The show function, if it can, converts the argument to a string, which is then printed using putStrLn.  To make sure that by executing the function (show 5), you get the string "5", enter something like this: <br><br><blockquote>  <font color="#339933">*</font> Main <font color="#339933">&gt;</font> <font>putStrLn</font> <font>(</font> <i><font color="#808080">"String and"</font></i> <font color="#339933">++</font> <font>(</font> <font>show</font> <font color="red">5</font> <font>)</font> <font color="#339933">++</font> <i><font color="#808080">" <font>\ n</font> - a string again."</font></i> <font>)</font> <br>  <font color="green"><a href="http://haskell.org/ghc/docs/latest/html/libraries/base/Prelude.html">String</a></font> <font>and</font> <font color="red">5</font> <br>  <font color="#339933">-</font> a string again <font color="#339933">.</font> </blockquote><br><br>  The show function can translate many types into a string.  She is very useful in the quest. <br><br><blockquote>  <font color="#339933">*</font> Main <font color="#339933">&gt;</font> <font>putStrLn</font> <font>(</font> <i><font color="#808080">"sin ^ 2 5 + cos ^ 2 5 ="</font></i> <font color="#339933">++</font> <font>show</font> <font>(</font> <font>sin</font> <font color="red">5</font> <font color="#339933">*</font> <font>sin</font> <font color="red">5</font> <font color="#339933">+</font> <font>cos</font> <font color="red">5</font> <font color="#339933">*</font> <font>cos</font> <font color="red">5</font> <font>)</font> <font>)</font> <br>  <font>sin</font> <font color="#339933">^</font> <font color="red">2</font> <font color="red">5</font> <font color="#339933">+</font> <font>cos</font> <font color="#339933">^</font> <font color="red">2</font> <font color="red">5</font> <font color="#66cc66">=</font> <font color="red">0.999999999999999</font> </blockquote><br><br>  Of course, putStrLn comes in handy as much.  In theory, it should not return anything, because the Pascal procedure writeLn does not return anything either.  But in Haskell, functions always return something, because otherwise they would be ‚Äúfunctions‚Äù.  Make sure of this?  In ghci, you can enter some service commands, and the ": t" (": type") command shows the type of any expression: <br><br><blockquote>  <font color="#339933">*</font> Main <font color="#339933">&gt;</font> : t <font color="red">3</font> <font color="#339933">==</font> <font color="red">3</font> <br>  <font color="red">3</font> <font color="#339933">==</font> <font color="red">3</font> <font color="#339933">::</font> <font color="green"><a href="http://haskell.org/ghc/docs/latest/html/libraries/base/Prelude.html">Bool</a></font> <br>  <font color="#339933">*</font> Main <font color="#339933">&gt;</font> : t <font color="red">3</font> <font color="#339933">/ =</font> <font color="red">3</font> <br>  <font color="red">3</font> <font color="#339933">/ =</font> <font color="red">3</font> <font color="#339933">::</font> <font color="green"><a href="http://haskell.org/ghc/docs/latest/html/libraries/base/Prelude.html">Bool</a></font> <br>  <font color="#339933">*</font> Main <font color="#339933">&gt;</font> : <font color="#06c">type</font> 'f' <br>  'f' <font color="#339933">::</font> <font color="green"><a href="http://haskell.org/ghc/docs/latest/html/libraries/base/Prelude.html">Char</a></font> <br>  <font color="#339933">*</font> Main <font color="#339933">&gt;</font> : <font color="#06c">type</font> <i><font color="#808080">"I am a string"</font></i> <br>  <i><font color="#808080">"I am a string"</font></i> <font color="#339933">::</font> <font>[</font> <font color="green"><a href="http://haskell.org/ghc/docs/latest/html/libraries/base/Prelude.html">Char</a></font> <font>]</font> </blockquote><br><br>  Here, any expression can be considered a special kind of function, possibly not accepting parameters, but necessarily returning a result.  The type of the putStrLn function looks like this: <br><br><blockquote>  <font color="#339933">*</font> Main <font color="#339933">&gt;</font> : t <font>putStrLn</font> <br>  <font>putStrLn</font> <font color="#339933">::</font> <font color="green"><a href="http://haskell.org/ghc/docs/latest/html/libraries/base/Prelude.html">String</a></font> <font color="#66cc66">-&gt;</font> <font color="green"><a href="http://haskell.org/ghc/docs/latest/html/libraries/base/Prelude.html">IO</a></font> <font>(</font> <font>)</font> </blockquote><br><br>  If you have not encountered this form of recording (in mathematics, in some other functional languages), then perhaps you will be a little unusual, as I once was.  But you quickly get used to the good, and the types in Haskell are pretty good.  So good that in the overwhelming majority of cases we do not need to indicate them, Haskell will bring them out himself and even threaten us with a finger, if something somewhere does not coincide.  We are still looking at all sorts of designs from the basic types, and you too will feel how comfortable it is.  Not like in some C ++, where every variable needs to be described, each element described, painted, registered ... <br><br>  In this case, putStrLn takes a String and returns IO ().  The colon separates the function name and its type.  Correctly read like this: ‚ÄúputStrLn is of type from String in IO ()‚Äù.  String is the type of our input string.  The ‚ÄúIO ()‚Äù type is an integral part of I / O (Input / Output, you guessed it).  The ‚ÄúIO ()‚Äù type indicates that the putStrLn function is indulging in an ‚Äúunclean‚Äù program area.  Anything can happen in this area, even a catastrophe, and we need to think about it carefully.  But so far we have nothing to think about, and even if IO () does not bother us.  We will try to write functions in which there can be no catastrophe, functions in which there is no place for side effects. <br><br><blockquote><blockquote>  They are called pure, deterministic: such functions are required to return the same value for the same argument.  The Haskell language is a pure functional language precisely because of this concept.  Here, of course, the question arises as to what to do with functions that, with different calls, can give different results (pseudorandom number generators, for example).  And how to change the data?  How to work with memory?  How to read keyboard input?  After all, all this leads to non-determinism.  Well, in Haskell there are special mechanisms ("monads") by which these and other problems are elegantly solved.  We will return to this conversation in the future. </blockquote></blockquote><br><br>  So, open in a text editor QuestMain.hs.  While there is empty - but this is only the beginning, the threshold.  Soon mermaids will float here and dragons will fly.  In the meantime, write a simple function that calculates the product of two numbers. <br><br><blockquote>  prod x y <font color="#66cc66">=</font> x <font color="#339933">*</font> y </blockquote><br><br>  Forget assignment!  There is no assignment in Haskell!  What you see above is a function declaration.  Equals means that the prod function with two arguments x and y we match the expression x * y.  This expression will be evaluated if we call the function.  Let's do it and do it.  Save the QuestMain.hs file.  If you have already closed the ghci console, run (ghci QuestMain.hs) again.  If the console is open, enter the command: r - this will force ghci to reload and compile the current file, that is, your QuestMain.hs. <br><br><blockquote>  <font color="#339933">*</font> Main <font color="#339933">&gt;</font> : r <br>  <font>[</font> <font color="red">1</font> <font color="#06c">of</font> <font color="red">1</font> <font>]</font> Compiling Main <font>(</font> H: \ Haskell \ QuestTutorial \ Quest \ QuestMain <font color="#339933">.</font> Hs <font color="#339933">,</font> interpreted <font>)</font> <br>  Ok <font color="#339933">,</font> modules loaded: Main <font color="#339933">.</font> <br>  <font color="#339933">*</font> Main <font color="#339933">&gt;</font> prod <font color="red">3</font> <font color="red">5</font> <br>  <font color="red">15</font> </blockquote><br><br>  Works!  (If it doesn't work, check: case of letters; whether QuestMain.hs is saved; whether this version is loaded in ghci.) It is easy to guess that the numbers 3 and 5 are associated with the variables x and y, respectively.  The interpreter substitutes the expression 3 * 5 instead of prod 3 5, which is calculated. <br><br><blockquote>  <font color="#339933">*</font> Main <font color="#339933">&gt;</font> prod <font color="red">3</font> <font>(</font> <font color="red">2</font> <font color="#339933">+</font> <font color="red">3</font> <font>)</font> <br>  <font color="red">15</font> <br>  <font color="#339933">*</font> Main <font color="#339933">&gt;</font> prod <font color="red">3</font> <font>(</font> <font>cos</font> <font>pi</font> <font>)</font> <br>  <font color="#339933">-</font> <font color="red">3.0</font> </blockquote><br><br>  Let's write and test a couple more functions.  (Hereinafter, I will no longer specify what we write functions in the file, but we test it in ghci.) For example, such: <br><br><blockquote>  printString str <font color="#66cc66">=</font> <font>putStrLn</font> str <br>  printSqrt x <font color="#66cc66">=</font> <font>putStrLn</font> <font>(</font> <i><font color="#808080">"Sqrt of"</font></i> <font color="#339933">++</font> <font>show</font> x <font color="#339933">++</font> <i><font color="#808080">"="</font></i> <font color="#339933">++</font> <font>show</font> <font>(</font> <font>sqrt</font> x <font>)</font> <font>)</font> <br><br>  <font color="#339933">*</font> Main <font color="#339933">&gt;</font> printString <i><font color="#808080">"dfdf"</font></i> <br>  dfdf <br>  <font color="#339933">*</font> Main <font color="#339933">&gt;</font> printSqrt <font color="red">4</font> <br>  Sqrt <font color="#06c">of</font> <font color="red">4.0</font> <font color="#66cc66">=</font> <font color="red">2.0</font> <br>  <font color="#339933">*</font> Main <font color="#339933">&gt;</font> printSqrt <font>(</font> <font color="#339933">-</font> <font color="red">4</font> <font>)</font> <br>  Sqrt <font color="#06c">of</font> <font color="#339933">-</font> <font color="red">4.0</font> <font color="#66cc66">=</font> NaN </blockquote><br><br>  In the latter case, the square root of a negative number gives the ‚ÄúNot a Number‚Äù result.  Suppose that this conclusion does not suit us, and we would like to see the string ‚Äúx &lt;0!‚Äù On negative x.  Let's rewrite the printSqrt function in several ways, and at the same time we will study a couple of very useful constructions. <br><br><blockquote>  printSqrt1 x <font color="#66cc66">=</font> <br>  <font color="#06c">if</font> x <font color="#339933">&lt;</font> <font color="red">0</font> <br>  <font color="#06c">then</font> <font>putStrLn</font> <i><font color="#808080">"x &lt;0!"</font></i> <br>  <font color="#06c">else</font> <font>putStrLn</font> <font>(</font> <i><font color="#808080">"Sqrt of"</font></i> <font color="#339933">++</font> <font>show</font> x <font color="#339933">++</font> <i><font color="#808080">"="</font></i> <font color="#339933">++</font> <font>show</font> <font>(</font> <font>sqrt</font> x <font>)</font> <font>)</font> <br><br>  printSqrt2 x <font color="#66cc66">=</font> <font color="#06c">case</font> x <font color="#339933">&lt;</font> <font color="red">0</font> <font color="#06c">of</font> <br>  True <font color="#66cc66">-&gt;</font> <font>putStrLn</font> <i><font color="#808080">"x &lt;0!"</font></i> <br>  False <font color="#66cc66">-&gt;</font> <font>putStrLn</font> <font>(</font> <i><font color="#808080">"Sqrt of"</font></i> <font color="#339933">++</font> <font>show</font> x <font color="#339933">++</font> <i><font color="#808080">"="</font></i> <font color="#339933">++</font> <font>show</font> <font>(</font> <font>sqrt</font> x <font>)</font> <font>)</font> <br><br>  <font color="#339933">*</font> Main <font color="#339933">&gt;</font> printSqrt1 <font>(</font> <font color="#339933">-</font> <font color="red">4</font> <font>)</font> <br>  x <font color="#339933">&lt;</font> <font color="red">0</font> <font color="#339933">!</font> <br>  <font color="#339933">*</font> Main <font color="#339933">&gt;</font> printSqrt2 <font>(</font> <font color="#339933">-</font> <font color="red">4</font> <font>)</font> <br>  x <font color="#339933">&lt;</font> <font color="red">0</font> <font color="#339933">!</font> </blockquote><br><br>  if cannot be without else, because everything that is after the equal sign is an expression in which all options (alternatives) should be taken into account.  If you have not considered any option, but it fell out, you will get an error that you have an incomplete set of alternatives. <br><br><blockquote>  printSqrt2 x <font color="#66cc66">=</font> <font color="#06c">case</font> x <font color="#339933">&lt;</font> <font color="red">0</font> <font color="#06c">of</font> <br>  True <font color="#66cc66">-&gt;</font> <font>putStrLn</font> <i><font color="#808080">"x &lt;0!"</font></i> <br><br>  <font color="#339933">*</font> Main <font color="#339933">&gt;</font> : r <br>  <font color="#339933">...</font> <br>  <font color="#339933">*</font> Main <font color="#339933">&gt;</font> printSqrt2 <font>(</font> <font color="#339933">-</font> <font color="red">4</font> <font>)</font> <br>  x <font color="#339933">&lt;</font> <font color="red">0</font> <font color="#339933">!</font> <br>  <font color="#339933">*</font> Main <font color="#339933">&gt;</font> printSqrt2 <font color="red">10</font> <br>  <font color="#339933">***</font> Exception: H: \ Haskell \ QuestTutorial \ Quest \ QuestMain <font color="#339933">.</font>  hs: <font>(</font> <font color="red">12</font> <font color="#339933">,</font> <font color="red">16</font> <font>)</font> <font color="#339933">-</font> <font>(</font> <font color="red">13</font> <font color="#339933">,</font> <font color="red">41</font> <font>)</font> : Non <font color="#339933">-</font> exhaustive patterns <font color="#06c">in</font> <font color="#06c">case</font> </blockquote><br><br>  Also note that in the case versions, the indents (‚Äúbeating‚Äù) are important.  They should be the same - this also applies to spaces there or tabs.  Try compiling: <br><br><blockquote>  printSqrt2 x <font color="#66cc66">=</font> <font color="#06c">case</font> x <font color="#339933">&lt;</font> <font color="red">0</font> <font color="#06c">of</font> <br>  True <font color="#66cc66">-&gt;</font> <font>putStrLn</font> <i><font color="#808080">"x &lt;0!"</font></i> <br>  False <font color="#66cc66">-&gt;</font> <font>putStrLn</font> <font>(</font> <i><font color="#808080">"Sqrt of"</font></i> <font color="#339933">++</font> <font>show</font> x <font color="#339933">++</font> <i><font color="#808080">"="</font></i> <font color="#339933">++</font> <font>show</font> <font>(</font> <font>sqrt</font> x <font>)</font> <font>)</font> <br><br>  <font color="#339933">*</font> Main <font color="#339933">&gt;</font> : r <br>  <font>[</font> <font color="red">1</font> <font color="#06c">of</font> <font color="red">1</font> <font>]</font> Compiling Main <font>(</font> H: \ Haskell \ QuestTutorial \ Quest \ QuestMain <font color="#339933">.</font> Hs <font color="#339933">,</font> interpreted <font>)</font> <br><br>  H: \ Haskell \ QuestTutorial \ Quest \ QuestMain <font color="#339933">.</font>  hs: <font color="red">14</font> : <font color="red">23</font> : <br>  paerse <font>error</font> on input ' <font color="#66cc66">-&gt;</font> ' <br>  Failed <font color="#339933">,</font> modules loaded: none <font color="#339933">.</font> </blockquote><br><br>  Case design is very convenient.  It is easier to read and expand than if-then-else.  It, of course, can be expressed in a series of nested if-then-else, therefore, constructions are equivalent.  I will tell you a secret: the case is even more functional, and soon we will see it.  For now an additional example.  A little artificial, but yes it does not matter: <br><br><blockquote>  thinkAboutSquaredX x <font color="#66cc66">=</font> <font color="#06c">case</font> x <font color="#06c">of</font> <br>  <font color="red">0.0</font> <font color="#339933">-&gt;</font> <font>"I think x is 0, because 0 * 0 = 0."</font> <br>  <font color="red">1.0</font> <font color="#339933">-&gt;</font> <font>"x is 1, because 1 * 1 = 1."</font> <br>  <font color="red">4.0</font> <font color="#339933">-&gt;</font> <font>"Well, x is 2, because 2 * 2 = 4."</font> <br>  <font color="red">9.0</font> <font color="#339933">-&gt;</font> <font>"x = 3."</font> <br>  <font color="red">16.0</font> <font color="#339933">-&gt;</font> <font>"No way, x = 4."</font> <br>  <font color="red">25.0</font> <font color="#339933">-&gt;</font> <font>"Ha! X = 5!"</font> <br>  <font><a href="http://haskell.org/ghc/docs/latest/html/libraries/base/Prelude.html">otherwise</a></font> <font color="#339933">-&gt;</font> <font color="#06c">if</font> x <font color="#339933">&lt;</font> <font color="red">0</font> <font color="#06c">then</font> <font>"x &lt;0!"</font>  <font color="#06c">else</font> <font>"Sqrt"</font> <font color="#339933">++</font> <font>show</font> x <font color="#339933">++</font> <font>"="</font> <font color="#339933">++</font> <font>show</font> <font>(</font> <font>sqrt</font> x <font>)</font> </blockquote><br><br><br>  <font color="#339933">*</font> Main <font color="#339933">&gt;</font> thinkAboutSquaredX <font color="red">1</font> <br>  <i><font color="#808080">"X is 1, because 1 * 1 = 1."</font></i> <br>  <font color="#339933">*</font> Main <font color="#339933">&gt;</font> thinkAboutSquaredX <font color="red">25</font> <br>  <i><font color="#808080">‚ÄúHa!</font></i>  <i><font color="#808080">x = 5! ‚Äù</font></i> <br><br>  The word <a href="http://haskell.org/ghc/docs/latest/html/libraries/base/Prelude.html">otherwise</a> means ‚Äúotherwise.‚Äù  When the other options in turn did not fit, <a href="http://haskell.org/ghc/docs/latest/html/libraries/base/Prelude.html">otherwise</a> would be appropriate, because it is only a synonym for True.  It is not necessary to insert it in the middle, because then all the lower options will be unavailable. <br><br><blockquote>  thinkAboutSquaredX x <font color="#66cc66">=</font> <font color="#06c">case</font> x <font color="#06c">of</font> <br>  <font color="red">0.0</font> <font color="#66cc66">-&gt;</font> <i><font color="#808080">‚ÄúI think x is 0, because 0 * 0 = 0.‚Äù</font></i> <br>  <font color="red">1.0</font> <font color="#66cc66">-&gt;</font> <i><font color="#808080">"x is 1, because 1 * 1 = 1."</font></i> <br>  <font><a href="http://haskell.org/ghc/docs/latest/html/libraries/base/Prelude.html">otherwise</a></font> <font color="#66cc66">-&gt;</font> <font color="#06c">if</font> x <font color="#339933">&lt;</font> <font color="red">0</font> <font color="#06c">then</font> <i><font color="#808080">"x &lt;0!"</font></i> <font color="#06c">else</font> <i><font color="#808080">"Sqrt"</font></i> <font color="#339933">++</font> <font>show</font> x <font color="#339933">++</font> <i><font color="#808080">"="</font></i> <font color="#339933">++</font> <font>show</font> <font>(</font> <font>sqrt</font> x <font>)</font> <br>  <font color="red">4.0</font> <font color="#66cc66">-&gt;</font> <i><font color="#808080">"Well, x is 2, because 2 * 2 = 4."</font></i> <br>  <font color="red">9.0</font> <font color="#66cc66">-&gt;</font> <i><font color="#808080">"x = 3."</font></i> <br>  <font color="red">16.0</font> <font color="#66cc66">-&gt;</font> <i><font color="#808080">‚ÄúNo way, x = 4.‚Äù</font></i> <br>  <font color="red">25.0</font> <font color="#66cc66">-&gt;</font> <i><font color="#808080">‚ÄúHa!</font></i>  <i><font color="#808080">x = 5! ‚Äù</font></i> </blockquote><br><br>  The code will compile, but we will get a warning about the intersection of the samples for comparison: <br><br><blockquote>  <font color="#339933">*</font> Main <font color="#339933">&gt;</font> : r <br>  <font>[</font> <font color="red">1</font> <font color="#06c">of</font> <font color="red">1</font> <font>]</font> Compiling Main <font>(</font> H: \ Haskell \ QuestTutorial \ Quest \ QuestMain <font color="#339933">.</font> Hs <font color="#339933">,</font> interpreted <font>)</font> <br><br>  H: \ Haskell \ QuestTutorial \ Quest \ QuestMain <font color="#339933">.</font>  hs: 16:24: <br>  Warning: Pattern match <font>(</font> es <font>)</font> are overlapped <br>  In a <font color="#06c">case</font> alternative: <br>  <font color="red">4.0</font> <font color="#66cc66">-&gt;</font> <font color="#339933">...</font> <br>  <font color="red">9.0</font> <font color="#66cc66">-&gt;</font> <font color="#339933">...</font> <br>  <font color="red">16.0</font> <font color="#66cc66">-&gt;</font> <font color="#339933">...</font> <br>  <font color="red">25.0</font> <font color="#66cc66">-&gt;</font> <font color="#339933">...</font> <br>  Ok <font color="#339933">,</font> modules loaded: Main <font color="#339933">.</font> <br>  <font color="#339933">*</font> Main <font color="#339933">&gt;</font> thinkAboutSquaredX <font color="red">1</font> <br>  <i><font color="#808080">"X is 1, because 1 * 1 = 1."</font></i> <br>  <font color="#339933">*</font> Main <font color="#339933">&gt;</font> thinkAboutSquaredX <font color="red">9</font> <br>  <i><font color="#808080">"Sqrt 9.0 = 3.0"</font></i> <br>  <font color="#339933">*</font> Main <font color="#339933">&gt;</font> : t <font><a href="http://haskell.org/ghc/docs/latest/html/libraries/base/Prelude.html">otherwise</a></font> <br>  <font><a href="http://haskell.org/ghc/docs/latest/html/libraries/base/Prelude.html">otherwise</a></font> <font color="#339933">::</font> <font color="green"><a href="http://haskell.org/ghc/docs/latest/html/libraries/base/Prelude.html">Bool</a></font> <br>  <font color="#339933">*</font> Main <font color="#339933">&gt;</font> <font><a href="http://haskell.org/ghc/docs/latest/html/libraries/base/Prelude.html">otherwise</a></font> <font color="#339933">==</font> True <br>  True </blockquote><br><br>  Recall what we do here: we are writing a quest!  In any quest there are three things: locations (paths of movement), objects and player actions.  How could we display a location description if we had its number?  Here is the solution: <br><br><blockquote>  describeLocation locNumber <font color="#66cc66">=</font> <font color="#06c">case</font> locNumber <font color="#06c">of</font> <br>  <font color="red">1</font> <font color="#66cc66">-&gt;</font> <i><font color="#808080">"You are standing in the middle of the wooden table."</font></i> <br>  <font color="red">2</font> <font color="#66cc66">-&gt;</font> <i><font color="#808080">"You are standing behind a small wooden fence."</font></i> <br>  <font color="#5d478b">- Here to insert a description of other locations.</font> <br>  <font><a href="http://haskell.org/ghc/docs/latest/html/libraries/base/Prelude.html">otherwise</a></font> <font color="#66cc66">-&gt;</font> <i><font color="#808080">"Unknown location."</font></i> <br><br>  <font color="#339933">*</font> Main <font color="#339933">&gt;</font> describeLocation <font color="red">2</font> <br>  <i><font color="#808080">‚ÄúYou‚Äôre behind the small wooden fence.‚Äù</font></i> <br>  <font color="#339933">*</font> Main <font color="#339933">&gt;</font> describeLocation <font color="red">444</font> <br>  <i><font color="#808080">‚ÄúUnknown location.‚Äù</font></i> </blockquote><br><br>  Please note: comment!  Single-line comments begin with a double minus (as in SQL!).  For multiline characters, the characters {- and -} are used: <br><br><blockquote>  describeLocation locNumber <font color="#66cc66">=</font> <font color="#06c">case</font> locNumber <font color="#06c">of</font> <br>  <font color="red">1</font> <font color="#66cc66">-&gt;</font> <i><font color="#808080">"You are standing in the middle of the wooden table."</font></i> <br>  <font color="red">2</font> <font color="#66cc66">-&gt;</font> <i><font color="#808080">"You are standing behind a small wooden fence."</font></i> <br>  <i><font color="#5d478b">{- Here to insert a description of other locations.</font></i> <i><font color="#5d478b"><br></font></i>  <i><font color="#5d478b">Or here.</font></i> <i><font color="#5d478b"><br></font></i>  <i><font color="#5d478b">adfsdf few fef jel jle jkjlefjaiejeo -}</font></i> <br>  <font><a href="http://haskell.org/ghc/docs/latest/html/libraries/base/Prelude.html">otherwise</a></font> <font color="#66cc66">-&gt;</font> <i><font color="#808080">"Unknown location."</font></i> </blockquote><br><br>  Here you go.  We met with not all the basic constructs of the Haskell language.  putStrLn, show, case construction, strings, ghci - we will need all this in the future.  We even wrote one function for the quest.  Perhaps enough.  In the second part, we will start working on the quest and will explore some more great Haskell tricks as we go.  Adventures are waiting for us! <br><br><blockquote><blockquote>  To fix, you can solve the following problems: <br><br>  1. Set the function z and calculate it for some values: <br>  t = (7 * x ^ 3 - ln (abs (a))) / (2.7 * b) <br>  y = sin (t) - sin (a) <br>  z = 8.87 * y ^ 3 + arctan (t) <br>  where x, a, b are variables of type Float. <br><br>  2. Set the function y and calculate it for some values: <br>  |  ln (abs (sin (x))) if x&gt; 5 <br>  y = |  x ^ 2 + a ^ 2 if x &lt;= 5 and a &lt;= 3 <br>  |  x / a + 7.8 * a, if x &lt;= 5 and a&gt; 3 <br>  where x, a are variables of type Float. </blockquote></blockquote><br><br>  Table of contents, list of references and additional information can be found in the <a href="http://habrahabr.ru/blogs/Haskell/120590/">"Welcome"</a> </div><p>Source: <a href="https://habr.com/ru/post/120759/">https://habr.com/ru/post/120759/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../120748/index.html">One priority - all goals answer</a></li>
<li><a href="../120749/index.html">One simple thing</a></li>
<li><a href="../120751/index.html">Personal data protection practice</a></li>
<li><a href="../120756/index.html">Apple closes MobileMe</a></li>
<li><a href="../120757/index.html">You did not stand here</a></li>
<li><a href="../120761/index.html">Soon all Google services will be available via IPv6</a></li>
<li><a href="../120763/index.html">Olympiad programming as an art</a></li>
<li><a href="../120767/index.html">Evernote surpasses 10 million users</a></li>
<li><a href="../120769/index.html">Don't get lost</a></li>
<li><a href="../120770/index.html">High-speed photography at home</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>