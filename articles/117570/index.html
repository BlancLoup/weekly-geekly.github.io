<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Voice translator for Mac OS X</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="In the recent past, only in science fiction films one could see the ‚Äúmiracle of the box‚Äù in which one speaks, and as a result one hears the translatio...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Voice translator for Mac OS X</h1><div class="post__text post__text-html js-mediator-article">  In the recent past, only in science fiction films one could see the ‚Äúmiracle of the box‚Äù in which one speaks, and as a result one hears the translation of what was said in another language.  But progress is underway ... <br><br>  I have been waiting for a long time for Google to open the API of its speech recognition service (the company uses it in its products).  A few months ago I turned over ‚Äúthis is your Internet,‚Äù but to no avail.  And the other day I see a topic on Habr√©. <a href="http://habrahabr.ru/blogs/google/117234/">Use Google Voice Search in your .NET application</a> !  I was incredibly happy.  The topic refers to the original <a href="http://mikepultz.com/2011/03/accessing-google-speech-api-chrome-11/">Accessing Google speech API / Chrome 11</a> article.  All carefully studied and "scratched" the source code of Chrome. <br><br>  Google Speech Recognition API is still unofficial and has become available to the public thanks to the Chrome browser. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      The options for its use are truly endless.  And if you combine this with the morphological modules, then you can freak out just the freaky affairs in the field of voice control. <br><br>  To demonstrate and create a ‚Äúframe engine‚Äù (for my further needs), I made a ‚ÄúVoice Translator‚Äù for Mac OS X in a couple of days.  This is a symbiosis of technologies Google, Microsoft (pronunciation) and the open project ffmpeg (conversion to flac).  This is a voice translator - no typing.  Just say the phrase and listen to its translation.  Yes, the quality of recognition may not be perfect, but on short, clear phrases it is quite acceptable. <br><br>  Here is the video of the program: <br><iframe width="560" height="315" src="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://www.youtube.com/embed/9QOBatMLEcA%3Ffeature%3Doembed&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhhXXzpY7CGe_qpUtxfTXSsQnD8dpQ" frameborder="0" allowfullscreen=""></iframe><br><br>  As usual, I will divide this topic into two parts.  One for ordinary users who want to "play around" with this program.  Another for developers (I will provide the source code of the base project). <br><a name="habracut"></a><br><h4>  FOR USERS </h4><br>  You can download the program <a href="">here</a> (Mac OS X 10.6+). <br><br>  The program interface is very simple.  Choose the right language direction (in this demonstration project I made only two directions, but the services support a much larger number of languages).  Click the "Record" button and say the phrase.  Recording will automatically stop after 5 seconds or you can stop it yourself.  Everything - listen to the translation :). <br><br> <a title="Habraffe.ru" href=""><img src="https://habrastorage.org/storage/habraeffect/76/fc/76fc910eddfbace7507fc41c95c1751e.png"></a> <br> <a title="Habraffe.ru" href=""><img src="https://habrastorage.org/storage/habraeffect/e9/1b/e91bbebc9910564dc53646f124ae6273.png"></a> <br> <a title="Habraffe.ru" href=""><img src="https://habrastorage.org/storage/habraeffect/a5/cb/a5cb0b025bfc169eeb38f1988a86b038.png"></a> <br><br><h4>  FOR DEVELOPERS </h4><br>  Source code on <a href="https://github.com/Kyrie1965/SpeechTranslator">github</a> . <br><br>  The project uses the already assembled <a href="http://www.ffmpeg.org/">ffmpeg</a> binary converter to convert the recorded sound into flac.  If you want to transfer the project to iOS, you can use the static library from the <a href="http://flac.sourceforge.net/">libFlac</a> project. <br><br>  For the HUD interface, the project uses the already assembled <a href="http://code.google.com/p/bghudappkit/">BGHUDAppKit framework</a> . <br><br>  <a href="http://code.google.com/p/json-framework/">JSON framework is</a> used for processing JSON. <br><br>  Additionally (for simplicity) some classes from the <a href="http://code.google.com/p/gdata-objectivec-client/">Google Data API are used</a> . <br><br><h5>  SOUND RECORDING </h5><br>  Sound is recorded using the standard QTKit library (QuickTime Kit). <br><br>  Here is the initialization code for the audio data capture session: <br><blockquote> <code><font color="#a61390">BOOL</font> success <font color="#002200">=</font> <font color="#a61390">NO</font> ;&lt;br/&gt; <br> &lt;br/&gt; <br> mCaptureSession <font color="#002200">=</font> <font color="#002200">[</font> <font color="#002200">[</font> QTCaptureSession alloc <font color="#002200">]</font> init <font color="#002200">]</font> ;&lt;br/&gt; <br> &lt;br/&gt; <br> QTCaptureDevice <font color="#002200">*</font> audioDevice <font color="#002200">=</font> <font color="#002200">[</font> QTCaptureDevice defaultInputDeviceWithMediaType <font color="#002200">:</font> QTMediaTypeSound <font color="#002200">]</font> ;&lt;br/&gt; <br> &lt;br/&gt; <br> <font color="#a61390">if</font> <font color="#002200">(</font> <font color="#002200">!</font> audioDevice <font color="#002200">)</font> &lt;br/&gt; <br> <font color="#002200">{</font> &lt;br/&gt; <br> <font color="#002200">[</font> mCaptureSession release <font color="#002200">]</font> , mCaptureSession <font color="#002200">=</font> <font color="#a61390">nil</font> ;&lt;br/&gt; <br> &lt;br/&gt; <br> <font color="#002200">[</font> textLabel setStringValue <font color="#002200">:</font> NSLocalizedString <font color="#002200">(</font> <font color="#bf1d1a">@</font> <font color="#bf1d1a">"AudioError"</font> , <font color="#bf1d1a">@</font> <font color="#bf1d1a">""</font> <font color="#002200">)</font> <font color="#002200">]</font> ;&lt;br/&gt; <br> <font color="#002200">[</font> button setHidden <font color="#002200">:</font> <font color="#a61390">YES</font> <font color="#002200">]</font> ;&lt;br/&gt; <br> <font color="#002200">[</font> popUp setHidden <font color="#002200">:</font> <font color="#a61390">YES</font> <font color="#002200">]</font> ;&lt;br/&gt; <br> <font color="#002200">[</font> textLabel setHidden <font color="#002200">:</font> <font color="#a61390">NO</font> <font color="#002200">]</font> ;&lt;br/&gt; <br> <font color="#002200">}</font> &lt;br/&gt; <br> &lt;br/&gt; <br> success <font color="#002200">=</font> <font color="#002200">[</font> audioDevice open <font color="#002200">:</font> <font color="#a61390">NULL</font> <font color="#002200">]</font> ;&lt;br/&gt; <br> &lt;br/&gt; <br> <font color="#a61390">if</font> <font color="#002200">(</font> <font color="#002200">!</font> success <font color="#002200">)</font> &lt;br/&gt; <br> <font color="#002200">{</font> &lt;br/&gt; <br> <font color="#002200">[</font> mCaptureSession release <font color="#002200">]</font> , mCaptureSession <font color="#002200">=</font> <font color="#a61390">nil</font> ;&lt;br/&gt; <br> &lt;br/&gt; <br> <font color="#002200">[</font> textLabel setStringValue <font color="#002200">:</font> NSLocalizedString <font color="#002200">(</font> <font color="#bf1d1a">@</font> <font color="#bf1d1a">"AudioError"</font> , <font color="#bf1d1a">@</font> <font color="#bf1d1a">""</font> <font color="#002200">)</font> <font color="#002200">]</font> ;&lt;br/&gt; <br> <font color="#002200">[</font> button setHidden <font color="#002200">:</font> <font color="#a61390">YES</font> <font color="#002200">]</font> ;&lt;br/&gt; <br> <font color="#002200">[</font> popUp setHidden <font color="#002200">:</font> <font color="#a61390">YES</font> <font color="#002200">]</font> ;&lt;br/&gt; <br> <font color="#002200">[</font> textLabel setHidden <font color="#002200">:</font> <font color="#a61390">NO</font> <font color="#002200">]</font> ;&lt;br/&gt; <br> <font color="#002200">}</font> &lt;br/&gt; <br> &lt;br/&gt; <br> mCaptureAudioDeviceInput <font color="#002200">=</font> <font color="#002200">[</font> <font color="#002200">[</font> QTCaptureDeviceInput alloc <font color="#002200">]</font> initWithDevice <font color="#002200">:</font> audioDevice <font color="#002200">]</font> ;&lt;br/&gt; <br> success <font color="#002200">=</font> <font color="#002200">[</font> mCaptureSession addInput <font color="#002200">:</font> mCaptureAudioDeviceInput error <font color="#002200">:</font> <font color="#a61390">NULL</font> <font color="#002200">]</font> ;&lt;br/&gt; <br> &lt;br/&gt; <br> <font color="#a61390">if</font> <font color="#002200">(</font> <font color="#002200">!</font> success <font color="#002200">)</font> &lt;br/&gt; <br> <font color="#002200">{</font> &lt;br/&gt; <br> <font color="#002200">[</font> mCaptureSession release <font color="#002200">]</font> , mCaptureSession <font color="#002200">=</font> <font color="#a61390">nil</font> ;&lt;br/&gt; <br> <font color="#002200">[</font> mCaptureAudioDeviceInput release <font color="#002200">]</font> , mCaptureAudioDeviceInput <font color="#002200">=</font> <font color="#a61390">nil</font> ;&lt;br/&gt; <br> &lt;br/&gt; <br> <font color="#002200">[</font> textLabel setStringValue <font color="#002200">:</font> NSLocalizedString <font color="#002200">(</font> <font color="#bf1d1a">@</font> <font color="#bf1d1a">"AudioError"</font> , <font color="#bf1d1a">@</font> <font color="#bf1d1a">""</font> <font color="#002200">)</font> <font color="#002200">]</font> ;&lt;br/&gt; <br> <font color="#002200">[</font> button setHidden <font color="#002200">:</font> <font color="#a61390">YES</font> <font color="#002200">]</font> ;&lt;br/&gt; <br> <font color="#002200">[</font> popUp setHidden <font color="#002200">:</font> <font color="#a61390">YES</font> <font color="#002200">]</font> ;&lt;br/&gt; <br> <font color="#002200">[</font> textLabel setHidden <font color="#002200">:</font> <font color="#a61390">NO</font> <font color="#002200">]</font> ;&lt;br/&gt; <br> <font color="#002200">}</font> &lt;br/&gt; <br> &lt;br/&gt; <br> mCaptureMovieFileOutput <font color="#002200">=</font> <font color="#002200">[</font> <font color="#002200">[</font> QTCaptureMovieFileOutput alloc <font color="#002200">]</font> init <font color="#002200">]</font> ;&lt;br/&gt; <br> success <font color="#002200">=</font> <font color="#002200">[</font> mCaptureSession addOutput <font color="#002200">:</font> mCaptureMovieFileOutput error <font color="#002200">:</font> <font color="#a61390">NULL</font> <font color="#002200">]</font> ;&lt;br/&gt; <br> &lt;br/&gt; <br> <font color="#a61390">if</font> <font color="#002200">(</font> <font color="#002200">!</font> success <font color="#002200">)</font> &lt;br/&gt; <br> <font color="#002200">{</font> &lt;br/&gt; <br> <font color="#002200">[</font> mCaptureSession release <font color="#002200">]</font> , mCaptureSession <font color="#002200">=</font> <font color="#a61390">nil</font> ;&lt;br/&gt; <br> <font color="#002200">[</font> mCaptureAudioDeviceInput release <font color="#002200">]</font> , mCaptureAudioDeviceInput <font color="#002200">=</font> <font color="#a61390">nil</font> ;&lt;br/&gt; <br> <font color="#002200">[</font> mCaptureMovieFileOutput release <font color="#002200">]</font> , mCaptureMovieFileOutput <font color="#002200">=</font> <font color="#a61390">nil</font> ;&lt;br/&gt; <br> &lt;br/&gt; <br> <font color="#11740a">//error handler</font> &lt;br/&gt; <br> <font color="#002200">}</font> &lt;br/&gt; <br> &lt;br/&gt; <br> <font color="#002200">[</font> mCaptureMovieFileOutput setDelegate <font color="#002200">:</font> self <font color="#002200">]</font> ;&lt;br/&gt; <br> &lt;br/&gt; <br> <font color="#002200">[</font> mCaptureMovieFileOutput setCompressionOptions <font color="#002200">:</font> <font color="#002200">[</font> QTCompressionOptions compressionOptionsWithIdentifier <font color="#002200">:</font> <font color="#bf1d1a">@</font> <font color="#bf1d1a">"QTCompressionOptionsHighQualityAACAudio"</font> <font color="#002200">]</font> forConnection <font color="#002200">:</font> <font color="#002200">[</font> <font color="#002200">[</font> mCaptureMovieFileOutput connections <font color="#002200">]</font> objectAtIndex <font color="#002200">:</font> <font color="#2400d9">0</font> <font color="#002200">]</font> <font color="#002200">]</font> ;&lt;br/&gt; <br> &lt;br/&gt; <br> <font color="#002200">[</font> mCaptureSession startRunning <font color="#002200">]</font> ;        &lt;br/&gt; <br></code> </blockquote><br>  Now, to start writing to the file we are performing: <br><blockquote> <code><font color="#002200">[</font> mCaptureMovieFileOutput recordToOutputFileURL <font color="#002200">:</font> path <font color="#002200">]</font> ;</code> </blockquote> <br>  To finish recording: <br><blockquote> <code><font color="#002200">[</font> mCaptureMovieFileOutput recordToOutputFileURL <font color="#002200">:</font> <font color="#a61390">nil</font> <font color="#002200">]</font> ;</code> </blockquote> <br><br><h5>  CONVERSION </h5><br>  After we receive the sound file, we convert it to flac format using ffmpeg: <br><blockquote> <code><font color="#400080">NSTask</font> <font color="#002200">*</font> aTask <font color="#002200">=</font> <font color="#002200">[</font> <font color="#002200">[</font> <font color="#400080">NSTask</font> alloc <font color="#002200">]</font> init <font color="#002200">]</font> ;&lt;br/&gt; <br> <font color="#400080">NSMutableArray</font> <font color="#002200">*</font> args <font color="#002200">=</font> <font color="#002200">[</font> <font color="#400080">NSMutableArray</font> array <font color="#002200">]</font> ;&lt;br/&gt; <br> &lt;br/&gt; <br> <font color="#002200">[</font> args addObject <font color="#002200">:</font> <font color="#bf1d1a">@</font> <font color="#bf1d1a">"-i"</font> <font color="#002200">]</font> ;&lt;br/&gt; <br> <font color="#002200">[</font> args addObject <font color="#002200">:</font> <font color="#bf1d1a">@</font> <font color="#bf1d1a">"record.m4a"</font> <font color="#002200">]</font> ;&lt;br/&gt; <br> <font color="#002200">[</font> args addObject <font color="#002200">:</font> <font color="#bf1d1a">@</font> <font color="#bf1d1a">"-acodec"</font> <font color="#002200">]</font> ;&lt;br/&gt; <br> <font color="#002200">[</font> args addObject <font color="#002200">:</font> <font color="#bf1d1a">@</font> <font color="#bf1d1a">"flac"</font> <font color="#002200">]</font> ;&lt;br/&gt; <br> <font color="#002200">[</font> args addObject <font color="#002200">:</font> <font color="#bf1d1a">@</font> <font color="#bf1d1a">"-ac"</font> <font color="#002200">]</font> ;&lt;br/&gt; <br> <font color="#002200">[</font> args addObject <font color="#002200">:</font> <font color="#bf1d1a">@</font> <font color="#bf1d1a">"1"</font> <font color="#002200">]</font> ;&lt;br/&gt; <br> <font color="#002200">[</font> args addObject <font color="#002200">:</font> <font color="#bf1d1a">@</font> <font color="#bf1d1a">"-ar"</font> <font color="#002200">]</font> ;&lt;br/&gt; <br> <font color="#002200">[</font> args addObject <font color="#002200">:</font> <font color="#bf1d1a">@</font> <font color="#bf1d1a">"16000"</font> <font color="#002200">]</font> ;&lt;br/&gt; <br> <font color="#002200">[</font> args addObject <font color="#002200">:</font> <font color="#bf1d1a">@</font> <font color="#bf1d1a">"record.flac"</font> <font color="#002200">]</font> ;&lt;br/&gt; <br> <font color="#002200">[</font> aTask setCurrentDirectoryPath <font color="#002200">:</font> recordPath <font color="#002200">]</font> ;&lt;br/&gt; <br> <font color="#002200">[</font> aTask setLaunchPath <font color="#002200">:</font> <font color="#002200">[</font> <font color="#002200">[</font> <font color="#002200">[</font> <font color="#400080">NSBundle</font> mainBundle <font color="#002200">]</font> resourcePath <font color="#002200">]</font> stringByAppendingPathComponent <font color="#002200">:</font> <font color="#bf1d1a">@</font> <font color="#bf1d1a">"ffmpeg"</font> <font color="#002200">]</font> <font color="#002200">]</font> ;&lt;br/&gt; <br> <font color="#002200">[</font> aTask setArguments <font color="#002200">:</font> args <font color="#002200">]</font> ;&lt;br/&gt; <br> <font color="#002200">[</font> aTask launch <font color="#002200">]</font> ;&lt;br/&gt; <br> <font color="#002200">[</font> aTask waitUntilExit <font color="#002200">]</font> ;&lt;br/&gt; <br> <font color="#002200">[</font> aTask release <font color="#002200">]</font> ;</code> </blockquote> <br><br><h5>  COMMUNICATION WITH NETWORK SERVICE </h5><br>  After conversion, we start the recognition process.  It is implemented in a separate GoogleASR class.  An object of this class sends a request (asynchronously) to <a href="https://www.google.com/speech-api/v1/recognize">https://www.google.com/speech-api/v1/recognize</a> , processes the result and informs the delegate of the recognition content or informs about the error.  The processing of the response from the server is very correct - it is completely (algorithm) copied from the Chrome browser.  There is only one main method in the class: <br><blockquote> <code><font color="#002200">-</font> <font color="#002200">(</font> <font color="#a61390">void</font> <font color="#002200">)</font> speechRecognition <font color="#002200">:</font> <font color="#002200">(</font> <font color="#400080">NSString</font> <font color="#002200">*</font> <font color="#002200">)</font> flacPath language <font color="#002200">:</font> <font color="#002200">(</font> <font color="#400080">NSString</font> <font color="#002200">*</font> <font color="#002200">)</font> language</code> </blockquote> <br><br>  Next, we pass the recognized text to the GoogleTranslate class object.  It translates the text and tells the delegate the result of the translation or informs about the error.  The main method: <br><blockquote> <code><font color="#002200">-</font> <font color="#002200">(</font> <font color="#a61390">void</font> <font color="#002200">)</font> translate <font color="#002200">:</font> <font color="#002200">(</font> <font color="#400080">NSString</font> <font color="#002200">*</font> <font color="#002200">)</font> text from <font color="#002200">:</font> <font color="#002200">(</font> <font color="#400080">NSString</font> <font color="#002200">*</font> <font color="#002200">)</font> inLanguage to <font color="#002200">:</font> <font color="#002200">(</font> <font color="#400080">NSString</font> <font color="#002200">*</font> <font color="#002200">)</font> outLanguage</code> </blockquote> <br><br>  Next comes the object of the MicrosoftTTS class.  It receives audio data and sends it to the delegate or informs about the error.  The main method: <br><blockquote> <code><font color="#002200">-</font> <font color="#002200">(</font> <font color="#a61390">void</font> <font color="#002200">)</font> textToSpeech <font color="#002200">:</font> <font color="#002200">(</font> <font color="#400080">NSString</font> <font color="#002200">*</font> <font color="#002200">)</font> text language <font color="#002200">:</font> <font color="#002200">(</font> <font color="#400080">NSString</font> <font color="#002200">*</font> <font color="#002200">)</font> language</code> </blockquote> <br><br>  Do not forget to get your <a href="http://www.microsoft.com/web/post/using-the-free-bing-translation-apis">Bing AppID</a> from Microsoft (this is done for free) and insert it into the MicrosoftTTS class, into SpeechURL. <br><br>  Experiment! </div><p>Source: <a href="https://habr.com/ru/post/117570/">https://habr.com/ru/post/117570/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../117564/index.html">Game in two days</a></li>
<li><a href="../117565/index.html">Open data on public services of the Russian Federation</a></li>
<li><a href="../117567/index.html">Indiana: the introduction of an electronic voting system. Leonid Volkov from the scene</a></li>
<li><a href="../117568/index.html">Canobuvosti, 87th edition</a></li>
<li><a href="../117569/index.html">Internet accused of killing Russian cinema</a></li>
<li><a href="../117571/index.html">One attempt was given</a></li>
<li><a href="../117572/index.html">Sectional Symfony2 Dependency Injection</a></li>
<li><a href="../117573/index.html">Cisco Router + 2ISP + NAT. Service availability through 2 providers</a></li>
<li><a href="../117574/index.html">Create an application for Windows Phone 7 from start to finish. Part 4. Creating a new project, adding pages</a></li>
<li><a href="../117580/index.html">New feature in Google Analytics - multichannel sequences</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>