<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Autonomous quadcopter from scratch: PID and rake</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Most of the projects using copters rely on manual remote control, there are no fully autonomous systems yet. But for industrial use it is necessary; T...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Autonomous quadcopter from scratch: PID and rake</h1><div class="post__text post__text-html js-mediator-article"><img align="left" src="https://habrastorage.org/getpro/habr/post_images/f7c/07b/a52/f7c07ba52b3ab2c196cd68c409c9b60c.jpg">  Most of the projects using copters rely on manual remote control, there are no fully autonomous systems yet.  But for industrial use it is necessary;  The human factor is the cause of most accidents.  Below, the story goes about how we made our stabilization system using the <acronym>PID</acronym> , which allows us to minimize human involvement in the process of the drone. <br><br clear="all">  <sup>One of the test flights of our copter</sup> <br><a name="habracut"></a><br>  When creating robots autonomous at a high behavioral level, it is necessary to work with all lower levels of autonomy, starting with stabilization in a given position.  Therefore, we started by creating our own stabilization board. <br><br><div class="spoiler">  <b class="spoiler_title">Definition of autonomy</b> <div class="spoiler_text">  Autonomy is determined relative to the task.  If the task is for the robot to follow the GPS coordinates initially set (for example, skirting obstacles in its path), then by autonomy we mean independent decision making by the robot from the moment the route and task were received.  Autonomy at a higher level is, for example, independent choice of a route when ‚Äúpatrolling‚Äù a certain territory.  The initial data will be information about this territory. </div></div><br><br><h4>  PID </h4><br>  The simplest stabilization problem is to control the angle of inclination, but it follows from the laws of the dynamics of rotational motion that only its second derivative can be directly controlled.  The easiest way to influence the desired value is to use the FID. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <div style="text-align:center;"><img src="https://dl.dropboxusercontent.com/u/77208401/copter-images/graphs/QCopterStabilization.svg"></div><br>  <sup><acronym>MEMS</acronym> - in our case it is a gyroscope, accelerometer and magnetometer;</sup>  <sup>DMP - Digital Motion Processor;</sup>  <sup><acronym>ESC</acronym> - Brushless Motor Speed ‚Äã‚ÄãController.</sup> <br><br>  The generalized coordinate (in our case, the angle) is fed to the input of the regulator, at the output we get the moment of forces (the second derivative of the angle).  Each PID controller stabilizes the value of one <a href="http://www.femto.com.ua/articles/part_2/2551.html">generalized coordinate</a> .  We use three PIDs with constant coefficients, one for each corner of <a href="http://en.wikipedia.org/wiki/Euler_angles">Taita-Bryan</a> . <br><br><h4>  Materiel </h4><br>  We define the discrepancy - the difference between the required and real value of a certain value: <br><div style="text-align:center;"><img src="https://dl.dropboxusercontent.com/u/77208401/copter-images/0.svg"></div><br><img src="https://dl.dropboxusercontent.com/u/77208401/copter-images/a_0.svg">  - the required value (angle from the joystick), <br><img src="https://dl.dropboxusercontent.com/u/77208401/copter-images/a.svg">  - the current value of the value (angle from the sensor). <br><br>  Set the moment of force for the angle <img src="https://dl.dropboxusercontent.com/u/77208401/copter-images/a_0.svg">  at the current time: <br><div style="text-align:center;"><img src="https://dl.dropboxusercontent.com/u/77208401/copter-images/1.svg"></div><br>  Where <img src="https://dl.dropboxusercontent.com/u/77208401/copter-images/P.svg">  - proportional, <img src="https://dl.dropboxusercontent.com/u/77208401/copter-images/I.svg">  - integral, <img src="https://dl.dropboxusercontent.com/u/77208401/copter-images/D.svg">  - differential components. <br>  The minus sign says that with positive <img src="https://dl.dropboxusercontent.com/u/77208401/copter-images/K_p.svg">  , <img src="https://dl.dropboxusercontent.com/u/77208401/copter-images/K_i.svg">  , <img src="https://dl.dropboxusercontent.com/u/77208401/copter-images/K_d.svg">  Impact directed against deviation. <br><br>  What is the meaning of this formula?  We write the equation of dynamics, putting <img src="https://dl.dropboxusercontent.com/u/77208401/copter-images/2.svg">  . <br><br><div style="text-align:center;"><img src="https://dl.dropboxusercontent.com/u/77208401/copter-images/3.svg"></div><br><img src="https://dl.dropboxusercontent.com/u/77208401/copter-images/J.svg">  - moment of inertia. <br><br>  For simplicity, remove the integral component ( <img src="https://dl.dropboxusercontent.com/u/77208401/copter-images/4.svg">  ).  After redesignation of the coefficients, we obtain the equation of damped oscillations with respect to <img src="https://dl.dropboxusercontent.com/u/77208401/copter-images/a.svg">  : <br><br><div style="text-align:center;"><img src="https://dl.dropboxusercontent.com/u/77208401/copter-images/5.svg"></div><img align="right" src="https://dl.dropboxusercontent.com/u/69667824/QCopterArticleForHabr/CodeCogsEqn.svg"><br>  Where <br><div style="text-align:center;"><img src="https://dl.dropboxusercontent.com/u/77208401/copter-images/6.svg"></div><br><br>  That is, the larger the <strong>proportional</strong> component, the more ‚Äúsharp‚Äù will be the reaction to the impact (the greater the amplitude).  The larger the <strong>differential</strong> component, the faster the attenuation will occur (the greater the decrement). <br><br>  From the model of damped oscillations, we obtain the expression for the damping coefficient: <br><br><img align="left" src="https://dl.dropboxusercontent.com/u/77208401/copter-images/graphs/Damping.svg"><br><div style="text-align:center;"><img src="https://dl.dropboxusercontent.com/u/77208401/copter-images/7.svg"></div><br>  Of the possible solutions of the equation, we are approached by a regime close to the critical one (the boundary of aperiodicity, <img src="https://dl.dropboxusercontent.com/u/77208401/copter-images/8.svg">  ) - there is no negative ‚Äúflight‚Äù schedule, the transition process is short.  As you can see, the critical mode is set by just one ratio to the PID controller coefficients. <br><br>  <strong>Integral</strong> component eliminates static error.  Let discrepancy <img src="https://dl.dropboxusercontent.com/u/77208401/copter-images/9.svg">  small and constant, then the differential component is zero, and the proportional can be so small that to account for it is not enough accuracy ESC.  In this case, the rotor will not tend to the desired position.  But if we sum up the small deviations <img src="https://dl.dropboxusercontent.com/u/77208401/copter-images/9.svg">  then after some finite time the total deviation will be enough to compensate for the static error.  Coefficient <img src="https://dl.dropboxusercontent.com/u/77208401/copter-images/K_i.svg">  determines this time: the greater the value of the coefficient, the earlier the system begins to take into account the increasing error.  In this case, too large an integral component leads to self-oscillations. <br><br>  A more detailed analysis of the PID controller equation can be found in other articles: <a href="http://habrahabr.ru/post/145991/">one</a> , <a href="http://habrahabr.ru/post/143388/">two</a> . <br><br><h4>  First accident </h4><br>  Too large differential component in practice leads to self-oscillations, which should not be in theory.  Why?  Remove all components except the differential, and solve the equation: <br><br><img src="https://dl.dropboxusercontent.com/u/77208401/copter-images/10.svg">  - exhibitor, no hesitation! <br><br>  The reason for this effect is the large response time of the system (and generally because it is non-zero).  Due to the phase shift caused by system latency, the function argument <img src="https://dl.dropboxusercontent.com/u/77208401/copter-images/11.svg">  gets some decrement: <br><br><div style="text-align:center;"><img src="https://dl.dropboxusercontent.com/u/69667824/QCopterArticleForHabr/qcopter_eq1.svg"></div><br><div style="text-align:center;"><img src="https://dl.dropboxusercontent.com/u/69667824/QCopterArticleForHabr/qcopter_eq2.svg"></div><br>  i.e. value <img src="https://dl.dropboxusercontent.com/u/77208401/copter-images/a.svg">  turns into a linear combination <img src="https://dl.dropboxusercontent.com/u/77208401/copter-images/a.svg">  and its derivative.  The same happens with the moment of forces, which is also a harmonic function in this example.  With certain <img src="https://dl.dropboxusercontent.com/u/77208401/copter-images/omega.svg">  linear combination coefficients may be such that persistent self-oscillations occur. <br><br><img align="left" src="https://dl.dropboxusercontent.com/u/77208401/copter-images/graphs/new-PID-example.svg"><br>  Also, the result of the work of the components of the PID has to be limited by module.  Otherwise meaning <img src="https://dl.dropboxusercontent.com/u/77208401/copter-images/I.svg">  for example, will grow to overflow.  With the other two components, a problem also arises: it is necessary to achieve a fast reaction to an external influence in the vicinity of the position being set.  For this, the coefficients should not be too small.  But with large deviations (which are also possible in flight), large coefficients will lead to self-oscillations of large amplitude. <br><br>  A compromise is to set not too small coefficients together with the introduction of a top limit on all three components: proportional, integral and differential. <br><br>  It is worth saying that the real correction in an almost horizontal position is about 1‚Äì2 <s>parrots</s> of motor power percent (flight power is about 60%). <br><br clear="all"><img align="right" src="https://dl.dropboxusercontent.com/u/77208401/copter-images/graphs/sin.svg"><br>  Consider the solution of the second order equation (1), which in one of the cases is a damped sinusoid. <br><br>  In practice, something similar is really obtained (the example on the right).  For demonstration, the coefficients are specially degraded to increase the decay time.  The original ESC firmware had to be replaced, since it introduced a significant delay, due to which the mathematical model poorly described the real system. <br><br clear="all"><img align="left" src="https://dl.dropboxusercontent.com/u/77208401/copter-images/graphs/new-D-comparison.svg"><br>  Insofar as <img src="https://dl.dropboxusercontent.com/u/77208401/copter-images/D.svg">  -the component is proportional to the angular velocity, it is possible to come to the idea to feed the readings of the gyroscope to the input of the regulator instead of using a discrete difference scheme.  In this case, it is important not to forget to add the derivative of the required angle from the remote control to the input; without this, the control will be slow.  The graph on the left shows how important the differential component is in control. <br><br clear="all"><h4>  PID calibration </h4><br>  According to the behavior of the system (real-time component graphs), it is possible to assess exactly which coefficient leads to an undesirable effect.  Therefore, they can easily pick up manually (or guess), for which we used a stand with a flexible suspension. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/615/b51/921/615b519211e76dda6d5957e2edd809c6.gif"><img src="https://habrastorage.org/getpro/habr/post_images/b05/995/771/b05995771ca7b5110eb36e47d0408101.gif"><img src="https://habrastorage.org/getpro/habr/post_images/73e/4ed/266/73e4ed2667ea2e793163eb40979238e4.png"><br><br>  For corners <img src="https://dl.dropboxusercontent.com/u/77208401/copter-images/Theta.svg">  and <img src="https://dl.dropboxusercontent.com/u/77208401/copter-images/Phi.svg">  we hung it for the opposite axis of the test, and for the angle <img src="https://dl.dropboxusercontent.com/u/77208401/copter-images/Psi.svg">  We used 4 ropes symmetrically fixed on the frame not far from its center. <br><br>  Although this approach is not the most effective (we do not know the ‚Äúexpiration date‚Äù of the coefficients quantitatively and consider them constants), in practice we have solved the problem of stabilizing the kopter in flight.  True, there was a problem with management, but more on that later. <br><br><div class="spoiler">  <b class="spoiler_title">The values ‚Äã‚Äãon which the behavior of the apparatus depends</b> <div class="spoiler_text">  We obtained experimental confirmation that the PID controller coefficients depend significantly on the internal factors of the system.  In the future, it makes sense to conduct a series of experiments to identify the dependence of the coefficients on the following factors. <br><h5>  Internal factors </h5><table><tbody><tr><td>  Parameters of propellers (diameter X step) </td><td>  The larger the propellers, the smoother the behavior of the copter. </td></tr><tr><td>  Copter dimensions (distance between the center of the frame and the axes of the motors) </td><td>  The larger the size, the smoother the behavior of the copter. </td></tr><tr><td>  Fully equipped copter weight </td><td>  The higher the mass, the smoother the behavior of the copter </td></tr><tr><td>  Battery Charge (Voltage) </td><td>  The higher the charge, the more dynamic behavior potentially achievable in a copter </td></tr></tbody></table><br><h5>  External factors </h5><table><tbody><tr><td>  Air temperature <br><img src="https://dl.dropboxusercontent.com/u/77208401/copter-images/13.svg"></td><td>  The warmer the air, the lower the density.  As a result, smoothness rises </td></tr><tr><td>  Atmosphere pressure </td><td>  The greater the pressure, the higher the density.  As a result, smoothness decreases. </td></tr><tr><td>  Relative humidity <br><img src="https://dl.dropboxusercontent.com/u/77208401/copter-images/14.svg"></td><td>  The higher the humidity, the higher the water vapor pressure (and air density).  As a result, smoothness decreases. </td></tr><tr><td>  Wind power in terms of model <br><img src="https://dl.dropboxusercontent.com/u/77208401/copter-images/15.svg"></td><td>  Module <img src="https://dl.dropboxusercontent.com/u/77208401/copter-images/I.svg">  -FID member is directly proportional to the constant component of the wind force.  The variable component of wind power affects <img src="https://dl.dropboxusercontent.com/u/77208401/copter-images/P.svg">  - and <img src="https://dl.dropboxusercontent.com/u/77208401/copter-images/D.svg">  -components </td></tr></tbody></table><br></div></div><br><br><h4>  Rake </h4><br>  In the case of adjusting the power of the motors, it is necessary to avoid too low and too high power at which stabilization does not work correctly. <br><br>  On the one hand, there is a minimum power that cannot be reduced, or the motors will simply stop.  On the other hand, power reduction may be necessary for the correct operation of the algorithm.  If the power (throttle) is reduced too much, the FID can ‚Äúgo off scale‚Äù to the bottom.  To solve this problem, we limit the available pilot capacity. <br><br><img align="left" src="https://dl.dropboxusercontent.com/u/77208401/copter-images/graphs/I-component.svg"><br>  Another danger is the influence of side vibrations from the motors on <img src="https://dl.dropboxusercontent.com/u/77208401/copter-images/D.svg">  -component.  They generate noise in the regulator and lead to the occurrence of self-oscillations.  We have limited the angular velocity from the bottom of the module: the program filter resets all angular velocity values ‚Äã‚Äãbelow the threshold.  But the problem has not completely disappeared, now we are thinking about a more suitable solution. <br><br>  The third pitfall is that the use of an integral member of the FID can prevent you from taking off from an inclined surface.  Component <img src="https://dl.dropboxusercontent.com/u/77208401/copter-images/I.svg">  accumulates before takeoff, and already in the air, the device is experiencing a bias in the opposite direction.  Only after a couple of seconds, during which the copter manages to pick up a significant linear speed, the integral component decreases to values ‚Äã‚Äãacceptable for flight.  To solve this problem, it is possible to turn on the integral component only after the thrust of the motors reaches the take-off value (about 50% of the maximum), while the kopter is already off the ground. <br><br clear="all"><h4>  Software </h4><br><img align="right" src="https://dl.dropboxusercontent.com/u/77208401/copter-images/graphs/QuadroProgram.svg">  The figure shows a simplified block diagram of the program executed on the controller of the stabilization board.  The main part is the cycle.  If at least one action in it is not performed on time, the frequency ceases to be constant, and stabilization does not work correctly. <br><br>  We used the MPU-6050 as a dynamic sensor due to its computational capabilities.  The embedded processor (DMP) is able to partially process the data from the sensors, which allows the central controller to be unloaded.  But it turned out that reliable libraries for working with this device under Arduino do not exist.  <a href="https://github.com/jrowberg/i2cdevlib">Jrowberg's solution</a> led to problems when used on a heavily loaded microcontroller.  The code in the example is based on the synchronism of reading data.  The sensor's FIFO buffer, in which the calculated values ‚Äã‚Äãare written, overflows in the event of a late reading.  Since the first element is always read from the FIFO, when partially filled, there is a delay between placing the new data in the FIFO and processing it on the Arduino.  In turn, this delay leads to self-oscillations.  At overflow, the buffer has to be cleared: its size is 1024, which is not divided by 42 ‚Äî the packet size.  Therefore, when the buffer is full, at the beginning of the FIFO there is a part of some extraneous packet.  In other words, starting from a certain moment the structure is broken: the beginning of the FIFO does not coincide with the beginning of the packet, and it is impossible to read the correct data. <br><br>  In addition, it was necessary to change the formula in the library for the conversion of ‚Äúquaternion angles‚Äù in order for the result to be from the full range of angles.  Details of this problem are described on the project tracker: <a href="https://github.com/it-workshop/Quadrocopter/issues/18">https://github.com/it-workshop/Quadrocopter/issues/18</a> . <br><br><h4>  Onboard electronics </h4><br>  The main component that we developed independently is the stabilization board.  Initially, it was based on the Arduino Uno platform, then replaced with a more powerful Due, which made it possible to increase the frequency of the PID controllers from 40Hz to 66. (6) Hz. <br><br>  Copter propellers are driven by compact brushless motors in conjunction with standard revolutions controllers - ESC.  We use ESC with modified firmware. <br><br><div class="spoiler">  <b class="spoiler_title">More about ESC</b> <div class="spoiler_text">  The ESC controller standard uses a square wave as the control signal, the control parameter is the duty cycle.  In our case, the signal from the remote control is initially received by the stabilization controller, which at its output will forcefully generate the signal required for the ESC.  If you refuse such an interface (PWM), due to which you have to convert additional data, you can reduce the system response time.  But designing our own motor controller is a separate task that we have not yet considered. </div></div><br><br>  To power the entire system uses a lithium-polymer battery (3S).  For safety reasons, we decided to make a battery voltage monitoring system.  In normal mode, the use of batteries, the system behaves quite stably.  However, in the initial stages of work, we observed the effects caused by the non-optimal use of batteries: <br><ul><li>  Swollen batteries.  The reason is in recharging and long-term storage of discharged batteries.  Manufacturers recommend not discharging power batteries below 3.3V per each battery bank, which in our case gives the minimum allowable voltage of 9.9V. </li><li>  Turn off the motors at low voltage.  This is a feature of the reaction of most ESC firmware at low voltage, which can lead to a serious accident - at the first moment only one motor turns off, the rest continue to work. </li></ul><br><br>  For our purposes, ESC was decided to reprogram.  Through the use of <a href="https://github.com/sim-/tgy">tgy</a> firmware (from SimonK), we have achieved a reduction in system latency from the central controller to the engines.  As a result, the PID components and the angular velocity became more sinusoidal, and the behavior of the entire system approached the behavior of the mathematical model. <br><br>  The following sensors are used to measure dynamic parameters: <br><ul><li>  6-axis accelerometer gyro InvenSense MPU-6050 </li><li>  3-axis compass Honeywell HMC5883L </li></ul><br><br><h4>  Telemetry </h4><br>  Remote control is implemented in two modes (to provide a more flexible development process): <br><ol><li>  With the help of xBee Pro modules in the configuration of the "PC kopter". </li><li>  Using a dedicated radio frequency (2.4 GHz) in the configuration of the ‚Äúremote control ‚Ü¶ copter‚Äù. </li></ol><br><br>  In addition to control via the remote control, the critical data are transferred between the copter and the PC in real time, for which xBee Pro and its own application are used (see screenshot).  On the computer you can see the value of angles and angular velocity, the voltage on the battery, the power of the engines.  It is possible to adjust the PID coefficients in real time.  The program saves all incoming data and supports the subsequent playback of recorded files, which helps with debugging.  In case of emergency, we can stop the motors from the computer. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/c25/be0/f87/c25be0f87fa96e431cf86cf187096a20.png"><br><br>  Data sent between the copter and PC: <br><ul><li>  PC ‚Ü¶ Copter: control channel (PC / remote control), motor power, setting for on / off stabilization, PID coefficients and limits; </li><li>  Copter ‚Ü¶ PC: angles, angular velocity, components <img src="https://dl.dropboxusercontent.com/u/77208401/copter-images/P.svg">  , <img src="https://dl.dropboxusercontent.com/u/77208401/copter-images/I.svg">  , <img src="https://dl.dropboxusercontent.com/u/77208401/copter-images/D.svg">  , data from the joystick (power + 3 angles), the power of the motors, the voltage on the battery. </li></ul><br><br>  Thanks to the InvenSense sensor, the initial data processing from the sensors takes place on an embedded processor (DMP).  We unload the stabilization board, which even a low-power AVR microcontroller can use as a calculator. <br><br><h5>  Reproducible results </h5><br>  To create such a device, you need to assemble a similar mechanical design, equivalent electronic circuit and use our software. <br><br>  Project code: <a href="https://github.com/it-workshop/Quadrocopter/tree/MPU-6050-Compass">github.com/it-workshop/Quadrocopter/tree/MPU-6050-Compass</a> (distributed under the terms of the MIT license). <br><br><div class="spoiler">  <b class="spoiler_title">Additional info about what we made of our kopter and what was the budget</b> <div class="spoiler_text">  The frame design greatly influences the flight characteristics.  After experimenting with the materials, we came to the following. <br><ul><li>  The foam frame allows you to build an extremely light, but not rigid system.  The copter appears substantial sail.  From this material, it makes sense to make small systems (microcopters) that will fly indoors. </li><li>  Plywood truss frame is the least successful solution.  Much time to assemble because of the large number of small parts.  The rigidity of the system can be achieved with the help of additional sizing of the nodes of the frame, but then it becomes non-separable.  Reliable frame turns massive and has a noticeable windage.  The strength is low, usually after a hard landing you need to properly glue the cracks or change the bearing parts.  Of the benefits worth noting extremely low price. </li><li>  One of the most successful materials is aluminum.  We used the popular X-525 model.  The stiffness is quite high, the frame can be damaged only as a result of a serious accident.  Windage and weight are optimally low.  The disadvantage is unrecoverable small gap in the joints of the frame parts. </li><li>  Composite carbon fiber has extremely high strength at a fairly low density.  We used the Talon model.  Since carbon is extremely difficult to process without special equipment, we had to order finished parts and apply them without any modifications.  Due to the fact that the connecting nodes in carbon frames are usually made of plastic or aluminum, difficult to adjust the places are formed at the joints, that is, there are frequent problems when working with a circular carbon profile: poor alignment of engines and play in the junction points. </li></ul><br><br><h6>  Parts List </h6><table><tbody><tr><th>  Component </th><th>  Price </th><th>  amount </th><th>  Link </th></tr><tr><td>  Rama Talon </td><td>  1100 rub. </td><td>  one </td><td>  <a href="http://www.hobbyking.com/hobbyking/store/__22397__Turnigy_Talon_Carbon_Fiber_Quadcopter_Frame.html">Hobbyking</a> </td></tr><tr><td>  Battery 3S, 11.1V </td><td>  475 rub. </td><td>  one </td><td>  <a href="http://www.hobbyking.com/hobbyking/store/__8932__Turnigy_2200mAh_3S_20C_Lipo_Pack.html">Hobbyking</a> </td></tr><tr><td>  Propellers 10x4.5, 10x4.5R </td><td>  150 rub. </td><td>  four </td><td>  <a href="http://toyhobby.ru/">Toyhobby</a> </td></tr><tr><td>  Turnigy Brushless Motors </td><td>  330 rub. </td><td>  four </td><td>  <a href="http://www.hobbyking.com/hobbyking/store/__12919__D2826_6_2200kv_Outrunner_Motor.html">Hobbyking</a> </td></tr><tr><td>  Esc </td><td>  290 rub. </td><td>  four </td><td>  <a href="http://www.hobbyking.com/hobbyking/store/__6460__Hobbyking_SS_Series_25_30A_ESC.html">Hobbyking</a> </td></tr><tr><td>  2.4GHz remote control, 4 channels, with receiver </td><td>  875 rub. </td><td>  one </td><td>  <a href="http://www.hobbyking.com/hobbyking/store/__8338__Hobby_King_2_4Ghz_4Ch_Tx_Rx_V2_Mode_2_.html">Hobbyking</a> </td></tr><tr><td>  Arduino Due </td><td>  2590 rub. </td><td>  one </td><td>  <a href="http://amperka.ru/product/arduino-due">amperka.ru</a> </td></tr><tr><td>  Arduino Wireless Shield </td><td>  790 rub. </td><td>  one </td><td>  <a href="http://amperka.ru/product/arduino-wireless-shield">amperka.ru</a> </td></tr><tr><td>  InvenSence 6050 sensor </td><td>  2335 rub. </td><td>  one </td><td>  <a href="http://www.lawicel-shop.se/">www.lawicel-shop.se</a> </td></tr><tr><td>  Digital compass HMC5883L </td><td>  1290 rub. </td><td>  one </td><td>  <a href="http://amperka.ru/product/triple-axis-compass">amperka.ru</a> </td></tr><tr><td>  Xbee pro </td><td>  2290 rub. </td><td>  2 </td><td>  <a href="http://amperka.ru/">amperka.ru</a> </td></tr><tr><td>  Antenna for xBee Pro </td><td>  704 rub. </td><td>  2 </td><td>  <a href="http://wifimag.ru/">wifimag.ru</a> </td></tr><tr><th>  Total </th><th>  18523 rub. </th><td colspan="2"></td></tr></tbody></table></div></div><br><br><h4>  Directions for development </h4><br><ul><li>  The process of testing the stabilization system can be simplified using a more advanced stand.  The rope variant is more likely a one-time solution, a hard gimbal suspension with three degrees of freedom would be more appropriate. </li><li>  There are methods for automating the selection of PID controller coefficients.  For example, based on binary search (branch and bound method).  In our project, the coefficients were selected manually. </li><li>  A PC application used for monitoring and control would be more convenient to use on a tablet PC.  Plans to port the application on Android or IOS. </li></ul><br><br><h4>  Results </h4><br>  The main achievement is an excellent team of enthusiasts who are able to work on complex robotic projects.  We believe that the whole thing is in creative approach, the possibility for self-realization, as well as invaluable practical experience, which is always lacking. <br><br>  We have created a new draft stabilization system for multicopter.  Now we can pilot a quadrocopter in open space.  External factors such as wind, rain and snow are automatically compensated by the PID controller. <br><br>  We are currently improving what we have done and are developing new automation features. <br><br><h5>  Copter flight with our stabilization system </h5><br><iframe width="560" height="315" src="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://www.youtube.com/embed/AAjLpQs5sm0%3Ffeature%3Doembed&amp;xid=17259,15700021,15700186,15700190,15700253&amp;usg=ALkJrhg551Ma8XUPQJQE6iGNVRZpRDM1tg" frameborder="0" allowfullscreen=""></iframe><br>  <sup>summer 2013.</sup> <br><br><iframe width="560" height="315" src="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://www.youtube.com/embed/ZklSwnNkEMs%3Ffeature%3Doembed&amp;xid=17259,15700021,15700186,15700190,15700253&amp;usg=ALkJrhhptsSdwc3UVH5KDyo9jEECvO4TWw" frameborder="0" allowfullscreen=""></iframe><br>  <sup>winter 2014.</sup> <br><br><iframe width="560" height="315" src="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://www.youtube.com/embed/AxDoO-gNRtc%3Ffeature%3Doembed&amp;xid=17259,15700021,15700186,15700190,15700253&amp;usg=ALkJrhgQPAzobtbrahYHeuDtC478Qpyv7Q" frameborder="0" allowfullscreen=""></iframe><br>  <sup>Spring 2014</sup> <br><br><h4>  About Us </h4><br>  We are MIPT students (in their majority) who, in their free time, are engaged in a project at the TechnoWorks workshop.  In addition to the copter, we also have other projects: hardware and software.  We will tell about them later on.  And here you can come up with and implement your idea (and we will help you find people). <br><br>  If you want to join our team, contact us!  The workshop is actively expanding, for new participants we have a lot of creative and technical work.  And cookies. <br><br>  <a href="http://technoworks.ru/">technoworks.ru</a> </div><p>Source: <a href="https://habr.com/ru/post/216437/">https://habr.com/ru/post/216437/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../216427/index.html">Unreal Engine 4 is now available for everyone.</a></li>
<li><a href="../216429/index.html">Epic released Unreal Engine 4 with $ 19 subscription sources</a></li>
<li><a href="../216431/index.html">New to Java 8</a></li>
<li><a href="../216433/index.html">Appmethod Review [Many pictures]</a></li>
<li><a href="../216435/index.html">Compare reflection performance in JDK8 and JDK7</a></li>
<li><a href="../216441/index.html">GOG.com ported classic Linux games</a></li>
<li><a href="../216445/index.html">Infographic Voyager 1: 36 years on the road, distance from the Earth 19'010'023'115 km</a></li>
<li><a href="../216449/index.html">Parsing formulas in 40 lines</a></li>
<li><a href="../216453/index.html">Autotest without pain</a></li>
<li><a href="../216455/index.html">As a programmer from Russia to enter Stanford University in California</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>