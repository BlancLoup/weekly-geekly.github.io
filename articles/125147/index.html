<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Asterisk + UniMRCP + VoiceNavigator. Synthesis and speech recognition in Asterisk. Part 2</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Part 1 
 Part 3 
 Part 4 

 In the previous article , the general scheme of work was described, UniMRCP was installed, Asterisk was connected to Voice...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">🔎</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">📜</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">⬆️</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">⬇️</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Asterisk + UniMRCP + VoiceNavigator. Synthesis and speech recognition in Asterisk. Part 2</h1><div class="post__text post__text-html js-mediator-article">  <a href="http://habrahabr.ru/blogs/voip/124946/">Part 1</a> <br>  <a href="http://habrahabr.ru/blogs/voip/125512/">Part 3</a> <br>  <a href="http://habrahabr.ru/blogs/voip/128898/">Part 4</a> <br><br>  In the <a href="http://habrahabr.ru/blogs/voip/124946/">previous article</a> , the general scheme of work was described, UniMRCP was installed, Asterisk was connected to VoiceNavigator and a simple voice application was created. <br>  Let us dwell on the possibilities of synthesis and recognition.  The first part of the article will be devoted to the SSML markup language, the second - the construction of grammars. <br><br><h4>  Using SSML Markup Language </h4><br>  Management of speech synthesis at the linguistic and acoustic level, occurs with the help of control tags in SSML format. <br>  Using tags, you can define pronunciation, control intonation, speed and volume of sound, etc. <br>  I will describe only the most used tags. <br>  Detailed information on all tags can be obtained in the description of the <a href="http://www.w3.org/TR/speech-synthesis/">standard</a> . <br><a name="habracut"></a><br><h5>  <b>Tag voice</b> </h5><br>  Allows you to change voice. <br>  Today, VoiceNavigator has 5 votes: Maria, Anna, Lydia, Alexander, Vladimir. <br>  Example: <br><pre> <code class="hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">voice</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">\</span></span></span><span class="hljs-tag">"</span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">8000</span></span></span><span class="hljs-tag">\"&gt;</span></span>  .<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">voice</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br><h5>  <b>Say-as tag</b> </h5><br>  Determines how to read the enclosed expression in a tag. <br><pre> <code class="hljs swift">&lt;say-<span class="hljs-keyword"><span class="hljs-keyword">as</span></span>   &gt;  &lt;/say-<span class="hljs-keyword"><span class="hljs-keyword">as</span></span>&gt;</code> </pre> <br>  The information part of the tag is a list of the form: <br>  Tag Attribute = "Attribute Value" <br>  There can be no more than one tag per word.  Nesting of say-as tags is prohibited. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h6>  <b>Stress attribute</b> </h6><br>  Sets the number of the vowel on which the main stress is placed on the word. <br>  Numbering is considered to be a vowel of a word starting from 1. <br>  Format: <br><pre> <code class="hljs swift">&lt;say-<span class="hljs-keyword"><span class="hljs-keyword">as</span></span> stress=<span class="hljs-string"><span class="hljs-string">" "</span></span>&gt;  &lt;/say-<span class="hljs-keyword"><span class="hljs-keyword">as</span></span>&gt;</code> </pre> <br>  In case of inconsistency of the attribute value with the number of vowels in the word, the attribute will be <br>  ignored. <br>  Example: <br><pre> <code class="hljs swift">&lt;say-<span class="hljs-keyword"><span class="hljs-keyword">as</span></span> stress=<span class="hljs-string"><span class="hljs-string">"2"</span></span>&gt;  &lt;/say-<span class="hljs-keyword"><span class="hljs-keyword">as</span></span>&gt;</code> </pre> <br>  Instead of the word “ko &lt;mpas”, the word “company &lt;” will be processed. <br><br><h6>  <b>Interpret-as attribute</b> </h6><br>  <i><u>“Date” value</u></i> <br>  Sets the date value in the Gregorian style.  The text inside the tag is set as numeric delimited fields.  The separator can be a period, hyphen, colon or slash.  In this case, the format attribute is required, the value of which is one of the following lines: <br>  “Mdy” - month, day, year “ym” - year, month <br>  “Dmy” - day, month, year “my” - month, year <br>  "Ymd" - year, month day "m" - month " <br>  "Md" - month, day "d" - day <br>  “Dm” - day, month “y” - year <br>  Examples: <br><pre> <code class="hljs pgsql">&lt;say-<span class="hljs-keyword"><span class="hljs-keyword">as</span></span> interpret-<span class="hljs-keyword"><span class="hljs-keyword">as</span></span>="date" <span class="hljs-keyword"><span class="hljs-keyword">format</span></span>=\"dy\"&gt; <span class="hljs-number"><span class="hljs-number">3</span></span>/<span class="hljs-number"><span class="hljs-number">02</span></span> &lt;/say-<span class="hljs-keyword"><span class="hljs-keyword">as</span></span>&gt;</code> </pre>  - “March two thousand and two” <br><pre> <code class="hljs pgsql">&lt;say-<span class="hljs-keyword"><span class="hljs-keyword">as</span></span> interpret-<span class="hljs-keyword"><span class="hljs-keyword">as</span></span>="date" <span class="hljs-keyword"><span class="hljs-keyword">format</span></span>=\"mdy\"&gt; <span class="hljs-number"><span class="hljs-number">3</span></span>/<span class="hljs-number"><span class="hljs-number">6</span></span>/<span class="hljs-number"><span class="hljs-number">02</span></span> &lt;/say-<span class="hljs-keyword"><span class="hljs-keyword">as</span></span>&gt;</code> </pre>  - “the sixth of March, two thousand and two years” <br><br>  <i><u>Time value</u></i> <br>  Sets the time value.  The text inside the tag is specified as numeric fields with or without delimiters, in the sequence: hours, minutes, seconds.  The separator can be a period, hyphen, colon or slash. <br>  Examples: <br><pre> <code class="hljs pgsql"> &lt;say-<span class="hljs-keyword"><span class="hljs-keyword">as</span></span> interpret-<span class="hljs-keyword"><span class="hljs-keyword">as</span></span>=\"time\"&gt;<span class="hljs-number"><span class="hljs-number">2230</span></span>&lt;/say-<span class="hljs-keyword"><span class="hljs-keyword">as</span></span>&gt;</code> </pre>  - “after twenty two” <br><pre> <code class="hljs pgsql"> &lt;say-<span class="hljs-keyword"><span class="hljs-keyword">as</span></span> interpret-<span class="hljs-keyword"><span class="hljs-keyword">as</span></span>=\"time\"&gt; <span class="hljs-number"><span class="hljs-number">9</span></span>:<span class="hljs-number"><span class="hljs-number">21</span></span>:<span class="hljs-number"><span class="hljs-number">30</span></span> &lt;/say-<span class="hljs-keyword"><span class="hljs-keyword">as</span></span>&gt;</code> </pre>  <code> &lt;say-as interpret-as=\"time\"&gt; 9:21:30 &lt;/say-as&gt;</code> - "it's nine o'clock twenty-one minute thirty seconds" <br><br>  <i><u>Value "telephone"</u></i> <br>  Sets the reading of a given word or group of words as numbers or phone numbers.  The word phone number may contain the “+” sign and parentheses.  The number is read as a numeral in the nominative case.  In this case, the number is split into two- and three-digit numbers.  Non-word words that fall within the scope of the tag are processed in the usual way. <br>  Example: <br><pre> <code class="hljs pgsql">&lt;say-<span class="hljs-keyword"><span class="hljs-keyword">as</span></span> interpret-<span class="hljs-keyword"><span class="hljs-keyword">as</span></span>=\"telephone\"&gt; +<span class="hljs-number"><span class="hljs-number">7</span></span> (<span class="hljs-number"><span class="hljs-number">812</span></span>) <span class="hljs-number"><span class="hljs-number">1234567</span></span>  <span class="hljs-number"><span class="hljs-number">2345</span></span>&lt;/say-<span class="hljs-keyword"><span class="hljs-keyword">as</span></span>&gt;</code> </pre> <br>  <i><u>“Characters” value</u></i> <br>  Sets the spelling of a given word or group of words.  In this case, the letters are read as alphabetic, numerals in numbers, as quantitative in the nominative case, special characters and punctuation marks are replaced by the corresponding words.  Uppercase and lowercase letters do not differ. <br>  Example: <br><pre> <code class="hljs swift">&lt;say-<span class="hljs-keyword"><span class="hljs-keyword">as</span></span> interpret-<span class="hljs-keyword"><span class="hljs-keyword">as</span></span>=\”characters\”&gt; 2a24-<span class="hljs-type"><span class="hljs-type">B!</span></span><span class="hljs-type"><span class="hljs-type">Z</span></span>?#7X &lt;/say-<span class="hljs-keyword"><span class="hljs-keyword">as</span></span>&gt;</code> </pre>  - “BE two and two four hyphens bi exclamation mark zet X question mark lattice seven X” <br><br><h5>  <b>Break tag</b> </h5><br>  Add a pause of a specified duration or type. <br>  Attributes: <br>  <i>strength</i> - “expressiveness” of the pause.  Valid values ​​are “none”, “x-weak”, “weak”, “medium” (default), “strong”, “x-strong”. <br>  <i>time</i> - pause duration in milliseconds. <br>  Attributes strength and time can be specified simultaneously, while strength only affects intonation, and time on the duration of the pause. <br>  Example of setting a pause length of 3.6 seconds: <br><pre> <code class="hljs pgsql">   . &lt;break <span class="hljs-type"><span class="hljs-type">time</span></span>=\"3600\"/&gt;   ?</code> </pre> <br><h5>  <b>Prosody tag</b> </h5><br>  Allows you to control the tone, speed and volume of speech. <br>  Attributes (all optional) <br>  <i>pitch</i> - the average value of the tone. <br>  Valid values ​​are from 0.5 to 2. <br>  <i>rate</i> - speech speed.  Valid values: relative change or one of the values ​​“x-slow”, “slow”, “medium”, “fast”, “x-fast”, “default”. <br>  <i>volume</i> - volume.  Valid values: relative change or one of the values ​​“silent”, “x-soft”, “soft”, “medium”, “loud”, “x-loud”, “default”. <br>  Example: <br><pre> <code class="hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">prosody</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">volume</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">\</span></span></span><span class="hljs-tag">"</span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">25</span></span></span><span class="hljs-tag">\" </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">rate</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">\</span></span></span><span class="hljs-tag">"</span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">x-slow</span></span></span><span class="hljs-tag">\"&gt;</span></span>  !<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">prosody</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br><h5>  <b>Phoneme tag</b> </h5><br>  The tag provides a phoneme transcription. <br>  Attributes: <br>  <i>ph</i> - transcription, required attribute; <br>  <i>The alphabet</i> is the alphabet used to set phonemes.  VoiceNavigator supports <a href="http://ru.wikipedia.org/wiki/IPA">the IPA alphabet</a> . <br>  Example: <br><pre> <code class="hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">phoneme</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">alphabet</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"ipa"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">ph</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"   IPA (    )"</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br><br><h4>  Building SRGS Grammar </h4><br>  <a href="http://www.w3.org/TR/speech-grammar/">SRGS</a> (speech recognition grammar specification) - W3C standard that describes the structure of the grammar used in speech recognition.  SRGS allows you to specify words or phrases that can be recognized by the speech engine. <br><br>  The basic structure of the SGRS grammar is shown below: <br><pre> <code class="hljs xml"><span class="hljs-meta"><span class="hljs-meta">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">grammar</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">version</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"1.0"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">xmlns</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"http://www.w3.org/2001/06/grammar"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">mode</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"voice"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">xml:lang</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"ru-RU"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">root</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"velo"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">rule</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">id</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"velo"</span></span></span><span class="hljs-tag">&gt;</span></span>  <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">rule</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">grammar</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br>  The entire SGRS document is described in the <b>grammar</b> tag. <br>  The grammar contains the speech recognition rules described in the <b>rule</b> tag and each rule has a unique name within the grammar specified by the id attribute.  The rule with which recognition starts in a grammar is specified by the root attribute in the <b>grammar</b> tag. <br><br><h5>  Alternative pronunciation of </h5><br>  Alternative options allow you to recognize one word from a given set. <br>  Alternatives are set by <b>one-of</b> and <b>item</b> tags. <br>  For example: <br><pre> <code class="hljs xml"><span class="hljs-meta"><span class="hljs-meta">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">grammar</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">version</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"1.0"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">xmlns</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"http://www.w3.org/2001/06/grammar"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">mode</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"voice"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">xml:lang</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"ru-RU"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">root</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"velo"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">rule</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">id</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"velo"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">one-of</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">item</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">item</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">item</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">item</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">item</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">item</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">one-of</span></span></span><span class="hljs-tag">&gt;</span></span>  <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">rule</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">grammar</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br>  Such an “extended” grammar allows you to recognize pronouncings: “red bicycle”, “green bicycle” or “blue bicycle”. <br>  The <b>item</b> element can contain any tag that describes the SGRS grammar rule, including word sequences or <b>one-of</b> element. <br>  A more complete version of the grammar may contain weight in each alternative branch. <br>  recognition.  Weight is set using the weight tag of the <b>item</b> element. <br><br><h5>  Corrected </h5><br>  Rules may contain links to other rules.  References to other rules are set by the <b>ruleref</b> element and serve to use the same rule in different places of the grammar. <br>  In the following example, select the color of the bike into a separate sub-rule: <br><pre> <code class="hljs xml"><span class="hljs-meta"><span class="hljs-meta">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">grammar</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">version</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"1.0"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">xmlns</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"http://www.w3.org/2001/06/grammar"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">mode</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"voice"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">xml:lang</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"ru-RU"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">root</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"velo"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">rule</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">id</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"velo"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">ruleref</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">uri</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">”#color”/</span></span></span><span class="hljs-tag">&gt;</span></span>  <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">rule</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">rule</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">id</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"color"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">one-of</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">item</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">weight</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"50”&gt;&lt;/item&gt; &lt;item&gt;&lt;/item&gt; &lt;item&gt;&lt;/item&gt; &lt;/one-of&gt; &lt;/rule&gt; &lt;/grammar&gt;</span></span></span></span></code> </pre> <br><h5>  Special rules </h5><br>  SGRS grammar has special rules for which names are reserved: <b>NULL</b> and <b>GARBAGE</b> . <br>  Special rules are specified by the special attribute of the <b>ruleref</b> element. <br>  The <b>NULL</b> rule <b>is</b> triggered automatically if the user says nothing. <br>  The <b>GARBAGE</b> rule (using the “average speech” model) allows you to create so-called “open grammars”.  those.  distinguish words from grammar and "junk". <br>  For example: <br><pre> <code class="hljs xml"><span class="hljs-meta"><span class="hljs-meta">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">grammar</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">version</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"1.0"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">xmlns</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"http://www.w3.org/2001/06/grammar"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">mode</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"voice"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">xml:lang</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"ru-RU"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">root</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"velo"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">rule</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">id</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"velo"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">ruleref</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">special</span></span></span><span class="hljs-tag"> =</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">”GARBAGE”/</span></span></span><span class="hljs-tag">&gt;</span></span>  <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">ruleref</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">special</span></span></span><span class="hljs-tag"> =</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">”GARBAGE”/</span></span></span><span class="hljs-tag">&gt;</span></span>  <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">rule</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">grammar</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br>  You can say “I want a mountain red bike” and the system will return “mountain bike” as a result of recognition. <br><br>  VoiceNavigator grammar analyzer also supports its own <b>! SYLLABLES</b> rule, which implements the connection of the “syllable model” of speech. <br>  The use of the syllable model in many cases makes it possible to reduce the likelihood of false positives and to obtain a benefit in the reliability of clipping not provided by the grammar of utterances, “garbage”. <br><br><h5>  Semantic interpretation </h5><br>  Semantic interpretation is a mechanism that allows you to set a value for a recognized word, which can then be used in the logic of a voice application. <br>  For example: you can say “yes”, “good” or “agree”, but the semantic result of these words is the same. <br>  In SGRS grammar, semantics is specified by the <b>tag</b> element.  The content type of this element is specified by the tag-format attribute of the <b>grammar</b> element.  The Semantic Interpretation for Speech Recognition specification defines standard values ​​for the tag-format attribute: semantics / 1.0-literals and semantics / 1.0. <br>  The syntax of the semantics / 1.0-literals <b>tag</b> element is a simple string. <br>  The semantics / 1.0 type is a more powerful tool in the form of a scripting language.  In this case, the <b>tag</b> element contains the ECMAScript language code. <br>  Example: <br><pre> <code class="hljs xml"><span class="hljs-meta"><span class="hljs-meta">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span></span> <span class="hljs-comment"><span class="hljs-comment">&lt;!-- / --&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">grammar</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">xml:lang</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"ru-RU"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">root</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"da-net"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">mode</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"voice"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">version</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"1.0"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">xmlns</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"http://www.w3.org/2001/06/grammar"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">tag-format</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"semantics/1.0-literals"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">rule</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">id</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"da-net"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">one-of</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">item</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">tag</span></span></span><span class="hljs-tag">&gt;</span></span>yes<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">tag</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">item</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">item</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">tag</span></span></span><span class="hljs-tag">&gt;</span></span>yes<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">tag</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">item</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">item</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">tag</span></span></span><span class="hljs-tag">&gt;</span></span>yes<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">tag</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">item</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">item</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">tag</span></span></span><span class="hljs-tag">&gt;</span></span>yes<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">tag</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">item</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">item</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">tag</span></span></span><span class="hljs-tag">&gt;</span></span>yes<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">tag</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">item</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">item</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">tag</span></span></span><span class="hljs-tag">&gt;</span></span>no<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">tag</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">item</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">item</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">tag</span></span></span><span class="hljs-tag">&gt;</span></span>no<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">tag</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">item</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">item</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">tag</span></span></span><span class="hljs-tag">&gt;</span></span>no<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">tag</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">item</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">item</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">tag</span></span></span><span class="hljs-tag">&gt;</span></span>no<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">tag</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">item</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">item</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">tag</span></span></span><span class="hljs-tag">&gt;</span></span>back<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">tag</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">item</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">one-of</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">rule</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">grammar</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br><br>  This completes the basic theoretical part.  I hope that turned out not very tedious.  In the next part I will consider some practical case and show how synthesis and recognition make life easier when building voice menus. </div><p>Source: <a href="https://habr.com/ru/post/125147/">https://habr.com/ru/post/125147/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../125137/index.html">Google opens LevelDB: another internal development</a></li>
<li><a href="../125139/index.html">Giant claw for a game a la crane machine with Ardunio controller</a></li>
<li><a href="../125142/index.html">Trojan changes numbers in online banking</a></li>
<li><a href="../125144/index.html">Catch good luck with Radmin: a contest for system administrators!</a></li>
<li><a href="../125145/index.html">Innovative laboratory comments on the information that officials will be taken from iPad</a></li>
<li><a href="../125148/index.html">KnockoutJS: Ajax grid view from scratch to 40 lines</a></li>
<li><a href="../125150/index.html">Fast Automated Installation of Ruby on Rails on IIS 7</a></li>
<li><a href="../125151/index.html">Java SE 7 Released</a></li>
<li><a href="../125152/index.html">Windows.Git.Cygwin.SSH.Gitolite and User Guide</a></li>
<li><a href="../125153/index.html">Symform offers to exchange 150gb local disk for 100gb cloud storage</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>