<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Unix shell: absolutely first steps</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Why and for whom the article? 
 Initially, it was a memo for students who are starting to work with unix-like systems. In other words, the article is ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Unix shell: absolutely first steps</h1><div class="post__text post__text-html js-mediator-article"><h2>  Why and for whom the article? </h2><br>  Initially, it was a memo for students who are starting to work with unix-like systems.  In other words, the article is intended for those who have no previous experience in the unix command line, but for one reason or another want to or should learn to interact effectively with it. <br><br>  There will not be a retelling of manes (documentation), and the article does not cancel or replace their reading.  Instead, I will talk about the main things (commands, techniques and principles) that need to be realized from the very beginning of work in the unix shell, so that work can be done efficiently and pleasantly. <br><br>  The article concerns full-fledged unix-like environments, with a full-featured shell (preferably zsh or bash) and a fairly wide range of standard programs. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <a name="habracut"></a><h2>  What is shell </h2><br>  Shell (shell, also known as ‚Äúcommand line‚Äù, also known as CLI, also known as ‚Äúconsole‚Äù, also known as ‚Äúterminal‚Äù, also known as ‚Äúblack window with white letters‚Äù) is a text interface for communicating with the operating system (well, speaking, this is a <i>program</i> that provides such an interface, but now this distinction is not essential). <br><br>  In general, the work through the shell looks like this: the user (that is, you) enters a command from the keyboard, presses Enter, the system executes the command, writes the execution result to the screen, and again waits for the next command to be entered. <br><br>  Typical shell type: <br><img src="https://habrastorage.org/files/158/0a1/e66/1580a1e669284c40917ae98946490652.png" alt="  " title="typical shell"><br><br>  Shell is the main way to interact with all Unix-like server systems. <br><br><h2>  Where do command line systems meet? </h2><br>  Where you can wait for the unix shell, popular options are: <br><ul><li>  MacOS (bash); </li><li>  Remote access to the server for work or for a personal web project; </li><li>  home file server with remote access; </li><li>  Ubuntu, PC-BSD on a laptop / desktop - unix-like systems today are easy to install and use. </li></ul><br><br><h2>  What tasks it is reasonable to solve with a shell? </h2><br>  Natural tasks for which the shell is suitable, useful and indispensable: <br><ul><li>  interactive work in the terminal: <ul><li>  compiling, running tasks through make; </li><li>  text file comparison; </li><li>  fast ad-hoc data analysis (the number of unique ip in the log, the distribution of records by hours / minutes, etc.); </li><li>  one-time mass actions (nailing a lot of processes; if you work with a version control system, revert or cut a bunch of files); </li><li>  diagnostics of what is happening in the system (semaphores, locks, processes, descriptors, disk space, etc.); </li></ul></li><li>  scripting: <ul><li>  installation scripts for which you can not count on the presence of other interpreters - this is not for beginners; </li><li>  Functions for customizing the interactive shell (affecting the prompt, changing the directory, setting environment variables) are also not entirely for beginners; </li><li>  one-time scripts such as bulk file transcoding; </li><li>  makefiles </li></ul></li></ul><br><br><h2>  Absolutely first steps </h2><br><h3>  Getting started: log in and log out </h3><br>  Make sure you know exactly how to run the shell and how to get out of it. <br><br>  If you are working behind a machine on which Ubuntu is installed, you need to start the Terminal program.  At the end of the work, you can simply close the window. <br><br>  On MacOS, also run Terminal. <br><br>  To access a remote server, use <code>ssh</code> (if you have MacOS, Ubuntu or another unix-like system <code>putty</code> ) or <code>putty</code> (if you have Windows). <br><br><h3>  Who am I, where am I? </h3><br>  Run the following commands: <br><ul><li>  <code>hostname</code> - displays the name of the machine (server) on which you are currently located; </li><li>  <code>whoami</code> - displays your login (your name in the system); </li><li>  <code>tree -d / |less</code> - pseudographic image of the directory tree on the machine;  exit from scrolling - <code>q</code> ; </li><li>  <code>pwd</code> - displays the directory in which you are now;  on the command line, you cannot be ‚Äújust like that,‚Äù you must be in some directory (= current directory, working directory).  Probably, the current working directory is displayed in your prompt. </li><li>  <code>ls</code> - the list of files in the current directory;  <code>ls /home</code> - list of files in the specified directory; </li></ul><br><br><h3>  Command history (history) </h3><br>  An important feature of a full command line is the command history. <br><br>  Execute several commands: <code>hostname</code> , <code>ls</code> , <code>pwd</code> , <code>whoami</code> .  Now press the up key.  The previous command appeared in the input line.  Use the up and down keys to move back and forth through the history.  When you go to <code>hostname</code> , press Enter - the command will be executed again. <br><br>  Commands from the history can not just be re-executed, but also edited.  Add history to the <code>ls</code> , add the <code>-l</code> key to it (it turned out to be <code>ls -l</code> , there is a space before the minus, but not after).  Press Enter - the modified command will be executed. <br><br>  Scrolling through history, editing and re-executing commands are the most common actions when working on the command line, get used to it. <br><br><h3>  Copy-paste </h3><br>  The command line is very text-centered: commands are text, input for most standard programs is text, and the result of the work is often text too. <br><br>  A great feature of the text is that it can be copied and pasted; this is also true for the command line. <br><br>  Try the <code>date +"%y-%m-%d, %A"</code> command <br>  Did you enter it entirely with your hands or copied from the article?  Make sure you can copy it, paste it into the terminal and execute it. <br><br>  After learning how to use <code>man</code> , make sure that you can copy and execute sample commands from the help.  To check, look in the help program for the <code>date</code> section <code>EXAMPLES</code> , copy and execute the first example given (just in case: the dollar sign is not part of the command, it is a conditional image of the invitation to enter). <br><br>  How exactly to copy text from the terminal and insert it into the terminal depends on your system and on its settings, therefore, unfortunately, it will not work to give a universal instruction.  On Ubuntu, try this: copying is just a selection with the mouse, insertion is the middle mouse button.  If it does not work, or if you have another system, look on the Internet or ask more experienced friends. <br><br><h3>  Keys and options </h3><br>  When examining the history of commands, you have already come across the fact that the ls command has at least two options.  If you simply call her, she displays a simple list: <br><br><pre> <code class="hljs dos">[<span class="hljs-number"><span class="hljs-number">22</span></span>:<span class="hljs-number"><span class="hljs-number">26</span></span>]akira@latitude-e7240: ~/shell-survival-quide&gt; ls Makefile shell-first-steps.<span class="hljs-built_in"><span class="hljs-built_in">md</span></span> shell-first-steps.pdf shell-survival-quide.<span class="hljs-built_in"><span class="hljs-built_in">md</span></span> shell-survival-quide.pdf</code> </pre><br>  If you add the <code>-l</code> , detailed information is displayed for each file: <br><br><pre> <code class="hljs dos">[<span class="hljs-number"><span class="hljs-number">22</span></span>:<span class="hljs-number"><span class="hljs-number">28</span></span>]akira@latitude-e7240: ~/shell-survival-quide&gt; ls -l total <span class="hljs-number"><span class="hljs-number">332</span></span> -rw-rw-r-- <span class="hljs-number"><span class="hljs-number">1</span></span> akira akira <span class="hljs-number"><span class="hljs-number">198</span></span> Feb <span class="hljs-number"><span class="hljs-number">13</span></span> <span class="hljs-number"><span class="hljs-number">11</span></span>:<span class="hljs-number"><span class="hljs-number">48</span></span> Makefile -rw-rw-r-- <span class="hljs-number"><span class="hljs-number">1</span></span> akira akira <span class="hljs-number"><span class="hljs-number">15107</span></span> Feb <span class="hljs-number"><span class="hljs-number">14</span></span> <span class="hljs-number"><span class="hljs-number">22</span></span>:<span class="hljs-number"><span class="hljs-number">26</span></span> shell-first-steps.<span class="hljs-built_in"><span class="hljs-built_in">md</span></span> -rw-rw-r-- <span class="hljs-number"><span class="hljs-number">1</span></span> akira akira <span class="hljs-number"><span class="hljs-number">146226</span></span> Feb <span class="hljs-number"><span class="hljs-number">13</span></span> <span class="hljs-number"><span class="hljs-number">11</span></span>:<span class="hljs-number"><span class="hljs-number">49</span></span> shell-first-steps.pdf -rw-rw-r-- <span class="hljs-number"><span class="hljs-number">1</span></span> akira akira <span class="hljs-number"><span class="hljs-number">16626</span></span> Feb <span class="hljs-number"><span class="hljs-number">13</span></span> <span class="hljs-number"><span class="hljs-number">11</span></span>:<span class="hljs-number"><span class="hljs-number">45</span></span> shell-survival-quide.<span class="hljs-built_in"><span class="hljs-built_in">md</span></span> -rw-rw-r-- <span class="hljs-number"><span class="hljs-number">1</span></span> akira akira <span class="hljs-number"><span class="hljs-number">146203</span></span> Feb <span class="hljs-number"><span class="hljs-number">13</span></span> <span class="hljs-number"><span class="hljs-number">11</span></span>:<span class="hljs-number"><span class="hljs-number">35</span></span> shell-survival-quide.pdf</code> </pre><br>  This is a very typical situation: if you add special modifiers (keys, options, parameters) to the command call, the command behavior changes.  Compare: <code>tree /</code> and <code>tree -d /</code> , <code>hostname</code> and <code>hostname -f</code> . <br><br>  In addition, commands can take file names, directories, or just text strings as parameters.  Try: <br><br><pre> <code class="hljs mel"><span class="hljs-keyword"><span class="hljs-keyword">ls</span></span> -ld /home <span class="hljs-keyword"><span class="hljs-keyword">ls</span></span> -l /home grep root /etc/passwd</code> </pre><br><br><h3>  man </h3><br>  <code>man</code> - help on the commands and programs available on your machine, as well as on system calls and the standard C library. <br><br>  Try: <code>man grep</code> , <code>man atoi</code> , <code>man chdir</code> , <code>man man</code> . <br><br>  Scrolling back and forth is done with the buttons "up", "down", "PageUp", "PageDown", exit from the help view - with the <code>q</code> button.  Search for specific text in the help article: press <code>/</code> (straight forward slash), enter text to search for, press Enter.  Move to the next occurrences - the <code>n</code> key. <br><br>  All reference articles are divided into categories.  The most important: <br><ul><li>  1 - executable programs and shell commands ( <code>wc</code> , <code>ls</code> , <code>pwd</code> , etc.); </li><li>  2 - system calls ( <code>fork</code> , <code>dup2</code> , etc.) </li><li>  3 - library functions ( <code>printf</code> , <code>scanf</code> , <code>cos</code> , <code>exec</code> ). </li></ul><br>  Specify which category you need to show a certificate, you need in cases of matching names.  For example, <code>man 3 printf</code> describes a function from the standard C library, and <code>man 1 printf</code> is a console program with the same name. <br><br>  You can view a list of all the help articles available on the machine with the help of the <code>man -k .</code> command <code>man -k .</code>  (the point is also part of the team). <br><br><h3>  less </h3><br>  When in a small terminal window you need to look at a very long text (the contents of some file, a long man, etc.), use special pager programs (from the word page / page, that is, page-readers).  The most popular leaflet is <code>less</code> , and it is this that provides you with scrolling when you read mans. <br><br>  Try and compare the behavior: <br><br><pre> <code class="hljs nginx"><span class="hljs-attribute"><span class="hljs-attribute">cat</span></span> /etc/bash.bashrc cat /etc/bash.bashrc |less</code> </pre><br><br>  You can transfer the file to the page directly in the parameters: <br><br><pre> <code class="hljs nginx"><span class="hljs-attribute"><span class="hljs-attribute">less</span></span> /etc/bash.bashrc</code> </pre><br><br>  Scroll up and down - the buttons "up", "down", "PageUp", "PageDown", exit - button <code>q</code> .  Search for specific text: press <code>/</code> (straight forward slash), enter text to search, press Enter.  Move to the next occurrences - the <code>n</code> key.  (You will learn the instruction about <code>man</code> ? No wonder, <code>less</code> is also used to display help.) <br><br><h3>  The rights </h3><br>  A set of ‚Äúrights‚Äù is associated with any file or directory: the right to read the file, the right to write to the file, the right to execute the file.  All users are divided into three categories: file owner, file owner group, all other users. <br><br>  You can view file permissions using <code>ls -l</code> .  For example: <br><br><pre> <code class="hljs pgsql">&gt; ls -l Makefile -rw-r<span class="hljs-comment"><span class="hljs-comment">--r-- 1 akira students 198 Feb 13 11:48 Makefile</span></span></code> </pre><br>  This conclusion means that the owner (akira) can read and write the file, the group (students) can only read, all other users can also read. <br><br>  If during work you get the message <code>permission denied</code> , this means that you have insufficient rights to the object with which you wanted to work. <br><br>  Read more in <code>man chmod</code> . <br><br><h3>  STDIN, STDOUT, pipelines </h3><br>  There are 3 standard data streams associated with each executing program: the <code>STDIN</code> input data stream, the <code>STDOUT</code> output data stream, the <code>STDERR</code> error output stream. <br><br>  Run the <code>wc</code> program, enter the text <code>Good day today</code> , press Enter, enter the text <code>good day</code> , press Enter, press Ctrl + d.  The <code>wc</code> program will show statistics on the number of letters, words and lines in your text and will end: <br><br><pre> <code class="hljs vbscript">&gt; wc good <span class="hljs-built_in"><span class="hljs-built_in">day</span></span> today good <span class="hljs-built_in"><span class="hljs-built_in">day</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-number"><span class="hljs-number">5</span></span> <span class="hljs-number"><span class="hljs-number">24</span></span></code> </pre><br>  In this case, you submitted two-line text to the <code>STDIN</code> program, and in <code>STDOUT</code> received three numbers. <br><br>  Now run the command <code>head -n3 /etc/passwd</code> , it should look like this: <br><br><pre> <code class="hljs ruby">&gt; head -n3 /etc/passwd <span class="hljs-symbol"><span class="hljs-symbol">root:</span></span><span class="hljs-symbol"><span class="hljs-symbol">x:</span></span><span class="hljs-number"><span class="hljs-number">0</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span></span><span class="hljs-number"><span class="hljs-number">0</span></span><span class="hljs-symbol"><span class="hljs-symbol">:root</span></span><span class="hljs-symbol"><span class="hljs-symbol">:/root</span></span><span class="hljs-symbol"><span class="hljs-symbol">:/bin/bash</span></span> <span class="hljs-symbol"><span class="hljs-symbol">daemon:</span></span><span class="hljs-symbol"><span class="hljs-symbol">x:</span></span><span class="hljs-number"><span class="hljs-number">1</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span></span><span class="hljs-number"><span class="hljs-number">1</span></span><span class="hljs-symbol"><span class="hljs-symbol">:daemon</span></span><span class="hljs-symbol"><span class="hljs-symbol">:/usr/sbin</span></span><span class="hljs-symbol"><span class="hljs-symbol">:/usr/sbin/nologin</span></span> <span class="hljs-symbol"><span class="hljs-symbol">bin:</span></span><span class="hljs-symbol"><span class="hljs-symbol">x:</span></span><span class="hljs-number"><span class="hljs-number">2</span></span><span class="hljs-symbol"><span class="hljs-symbol">:</span></span><span class="hljs-number"><span class="hljs-number">2</span></span><span class="hljs-symbol"><span class="hljs-symbol">:bin</span></span><span class="hljs-symbol"><span class="hljs-symbol">:/bin</span></span><span class="hljs-symbol"><span class="hljs-symbol">:/usr/sbin/nologin</span></span></code> </pre><br>  In this case, the <code>head</code> program did not read anything from <code>STDIN</code> , and wrote three lines in <code>STDOUT</code> . <br><br>  One can imagine this: a program is a pipe into which <code>STDIN</code> flows, and <code>STDOUT</code> flows out. <br><br>  The most important feature of the unix command line is that the ‚Äúpipe‚Äù programs can be interconnected: the output ( <code>STDOUT</code> ) of one program is transmitted as input data ( <code>STDIN</code> ) to another program. <br><br>  Such a construction of the combined programs is called in English pipe (pipe), in Russian - a pipeline or pipe. <br><br>  Combining programs into a pipeline becomes a symbol <code>|</code>  (vertical bar) <br><br>  Run the command <code>head -n3 /etc/passwd |wc</code> , you get something like the following: <br><br><pre> <code class="hljs markdown"><span class="hljs-quote"><span class="hljs-quote">&gt; head -n3 /etc/passwd |wc 3 3 117</span></span></code> </pre><br>  This is what happened: the <code>head</code> program sent three lines of text to <code>STDOUT</code> , which immediately went to the <code>wc</code> program, which in turn counted the number of characters, words and lines in the received text. <br><br>  In the pipeline you can combine any number of programs.  For example, you can add another <code>wc</code> program to the previous pipeline, which will calculate how many words and letters were in the output of the first <code>wc</code> : <br><br><pre> <code class="hljs markdown"><span class="hljs-quote"><span class="hljs-quote">&gt; head -n3 /etc/passwd |wc |wc 1 3 24</span></span></code> </pre><br><br>  Drawing pipelines is a very frequent thing when working on the command line.  An example of how this is done in practice can be found in the ‚ÄúDrawing up a one-line conveyor‚Äù section. <br><br><h3>  I / O Redirection </h3><br>  The output ( <code>STDOUT</code> ) of the program can not only be transferred to another program through a pipeline, but also simply written to a file.  Such redirection is done with the help of <code>&gt;</code> (‚Äúmore‚Äù sign): <br><br><pre> <code class="hljs pgsql"><span class="hljs-type"><span class="hljs-type">date</span></span> &gt; /tmp/today.txt</code> </pre><br>  As a result of this command, the file <code>/tmp/today.txt</code> will appear on the disk.  View its contents with <code>cat /tmp/today.txt</code> <br><br>  If a file with the same name already existed, its old contents will be destroyed.  If the file did not exist, it will be created.  The directory in which the file is created must exist before the command is executed. <br><br>  If you need not to overwrite the file, but add the output to its end, use <code>&gt;&gt;</code> : <br><br><pre> <code class="hljs ruby">date <span class="hljs-meta"><span class="hljs-meta">&gt;&gt; </span></span>/tmp/today.txt</code> </pre><br>  Check what is now recorded in the file. <br><br>  In addition, instead of <code>STDIN</code> , the program can transfer any file.  Try: <br><br><pre> <code class="hljs nginx"><span class="hljs-attribute"><span class="hljs-attribute">wc</span></span> &lt;/etc/passwd</code> </pre><br><br><h3>  What to do when something is not clear </h3><br>  If you encounter a system behavior that you don‚Äôt understand, or want to achieve a certain result, but don‚Äôt know how, I advise you to act in the following order (by the way, this applies not only to shells): <br><br><ul><li>  as far as possible, clearly formulate a question or task - there is nothing more complicated than solving ‚Äúsomething, I don't know what‚Äù; </li><li>  Remember, if you already faced the same or a similar problem - in this case it is worth trying a solution that worked last time; </li><li>  read the appropriate mans (if you understand which mans are suitable for your case) - you may find suitable examples of using commands, options you need or links to other commands; </li><li>  think: is it possible to change the task a little?  - perhaps by slightly changing the conditions, you will receive a task that you already know how to solve; </li><li>  Ask your well-defined question in the search engine - perhaps the answer will be on Stack Overflow or other sites; </li></ul><br>  If none of the above helped - seek advice from a teacher, experienced colleague or friend.  And do not be afraid to ask "stupid" questions - do not be ashamed not to know, ashamed not to ask. <br><br>  If you have dealt with a difficult problem (on your own, with the help of the Internet or other people) - write down your decision in case the same problem arises again for you or your comrades.  You can record in a simple text file in Evernote, publish in social networks. <br><br><h3>  Working methods </h3><br>  <b>Copy-and-paste</b> - from man-s, from articles on StackOverflow, etc. The command line consists of text, use this: copy and use examples of commands, write successful finds for memory, publish them on twitter and blogs. <br><br>  <b>Read man</b> .  Nuff said. <br><br>  <b>Pull out the previous command from the history, add another command to the pipeline, run, repeat</b> . See.  also the section ‚ÄúDrawing up a one-line conveyor‚Äù. <br><br><h3>  Basic commands </h3><br><ul><li>  change to another directory: <code>cd</code> ; </li><li>  viewing the contents of files: <code>t</code> , <code>less</code> , <code>head</code> , <code>tail</code> ; </li><li>  file manipulations: <code>cp</code> , <code>mv</code> , <code>rm</code> ; </li><li>  viewing directory contents: <code>ls</code> , <code>ls -l</code> , <code>ls -lS</code> ; </li><li>  directory structure: <code>tree</code> , <code>tree -d</code> (you can pass a directory as a parameter); </li><li>  file search: <code>find . -name ...</code>  <code>find . -name ...</code> ; </li></ul><br><br><h3>  Analytics </h3><br><ul><li>  <code>wc</code> , <code>wc -l</code> ; </li><li>  <code>sort -k</code> - sorting by the specified field; </li><li>  <code>sort -n</code> - numeric debris; </li><li>  <code>diff</code> - file comparison; </li><li>  <code>grep</code> , <code>grep -v</code> , <code>grep -w</code> , <code>grep '\&lt;word\&gt;'</code> , <code>grep -E</code> - text search; </li><li>  <code>uniq</code> , <code>uniq -c</code> - unique string; </li><li>  <code>awk</code> - in <code>awk '{print $1}'</code> version <code>awk '{print $1}'</code> , to leave only the first field of each line, <code>$1</code> can be changed to <code>$2</code> , <code>$3</code> , etc .; </li></ul><br><br><h3>  System diagnostics </h3><br><ul><li>  <code>ps axuww</code> - information about the processes (running programs) running on the machine; </li><li>  <code>top</code> - interactive viewing of the most resource-intensive processes; </li><li>  <code>df</code> - occupied and free disk space; </li><li>  <code>du</code> - the total size of files in the directory (recursively with subdirectories); </li><li>  <code>strace</code> , <code>ktrace</code> - what system calls the process performs; </li><li>  <code>lsof</code> - which files the process uses; </li><li>  <code>netstat -na</code> , <code>netstat -nap</code> - which ports and sockets are open in the system. </li></ul><br><br>  You may not have some programs, they must be installed additionally.  In addition, some options of these programs are available only to privileged users ( <code>root</code> 'y). <br><br><h3>  Mass and semi-automatic execution </h3><br>  At first, skip this section; you will need these commands and constructions when you get to simple shell scripting. <br><br><ul><li>  <code>test</code> - check conditions; </li><li>  <code>while read</code> - loop by <code>STDIN</code> ; </li><li>  <code>xargs</code> - inserting strings from <code>STDIN</code> into parameters of the specified program; </li><li>  <code>seq</code> - generation of sequences of natural numbers; </li><li>  <code>()</code> - combine the output of several commands; </li><li> <code>;</code>  - perform one after another; </li><li>  <code>&amp;&amp;</code> - execute if successful completion of the first command; </li><li> <code>||</code>  - to execute on condition of unsuccessful completion of the first team; </li><li>  <code>tee</code> - duplicate the program output in <code>STDOUT</code> and to a file on disk. </li></ul><br><br><h3>  miscellanea </h3><br><ul><li>  <code>date</code> - the current date; </li><li>  <code>curl</code> - downloads the document at the specified url and writes the result to <code>STDOUT</code> ; </li><li>  <code>touch</code> - update the file modification date; </li><li>  <code>kill</code> - send a process signal; </li><li>  <code>true</code> - does nothing, returns true, useful for organizing eternal cycles; </li><li>  <code>sudo</code> - execute a command as <code>root</code> . </li></ul><br><br><h2>  Drawing up a one-line conveyor </h2><br>  Let's look at an example of a real task: you need to kill all the processes of <code>task-6-server</code> running on behalf of the current user. <br><br>  <b>Step 1.</b> <br>  Understand which program provides approximately the necessary data, even if not in its pure form.  <i>For our task it is worth getting a list of all processes in the system:</i> <code>ps axuww</code> .  Run. <br><br>  <b>Step 2.</b> <br>  Look at the data obtained by the eyes, come up with a filter that will throw out some of the unnecessary data.  Often this is <code>grep</code> or <code>grep -v</code> .  Use the "Up" button to pull out the previous command from the history, assign a filter to it, run it. <br><br><pre> <code class="hljs perl">ps axuww |<span class="hljs-keyword"><span class="hljs-keyword">grep</span></span> <span class="hljs-string"><span class="hljs-string">`whoami`</span></span></code> </pre><br>  - only current user processes. <br><br>  <b>Step 3.</b> <br>  Repeat point 2 until the desired data is clean. <br><br><pre> <code class="hljs perl">ps axuww |<span class="hljs-keyword"><span class="hljs-keyword">grep</span></span> <span class="hljs-string"><span class="hljs-string">`whoami`</span></span> | <span class="hljs-keyword"><span class="hljs-keyword">grep</span></span> <span class="hljs-string"><span class="hljs-string">'\&lt;task-6-server\&gt;'</span></span></code> </pre><br>  - all processes with the desired name (plus, perhaps, extra ones like vim task-6-server.c, etc.), <br><br><pre> <code class="hljs perl">ps axuww |<span class="hljs-keyword"><span class="hljs-keyword">grep</span></span> <span class="hljs-string"><span class="hljs-string">`whoami`</span></span> | <span class="hljs-keyword"><span class="hljs-keyword">grep</span></span> <span class="hljs-string"><span class="hljs-string">'\&lt;task-6-server\&gt;'</span></span> | <span class="hljs-keyword"><span class="hljs-keyword">grep</span></span> -v vim ps axuww |<span class="hljs-keyword"><span class="hljs-keyword">grep</span></span> <span class="hljs-string"><span class="hljs-string">`whoami`</span></span> | <span class="hljs-keyword"><span class="hljs-keyword">grep</span></span> <span class="hljs-string"><span class="hljs-string">'\&lt;task-6-server\&gt;'</span></span> | <span class="hljs-keyword"><span class="hljs-keyword">grep</span></span> -v vim |<span class="hljs-keyword"><span class="hljs-keyword">grep</span></span> -v less</code> </pre><br>  - only processes with the desired name <br><br><pre> <code class="hljs perl">ps axuww |<span class="hljs-keyword"><span class="hljs-keyword">grep</span></span> <span class="hljs-string"><span class="hljs-string">`whoami`</span></span> | <span class="hljs-keyword"><span class="hljs-keyword">grep</span></span> <span class="hljs-string"><span class="hljs-string">'\&lt;task-6-server\&gt;'</span></span> | <span class="hljs-keyword"><span class="hljs-keyword">grep</span></span> -v vim |<span class="hljs-keyword"><span class="hljs-keyword">grep</span></span> -v less |awk <span class="hljs-string"><span class="hljs-string">'{print $2}'</span></span></code> </pre><br><br>  - pid-s of the necessary processes, p. 3 is completed <br><br>  <b>Step 4.</b> <br>  Apply the appropriate final handler.  Use the "Up" button to pull out the previous command from the history and add processing, which will complete the solution of the problem: <br><br><ul><li>  <code>|wc -l</code> to count the number of processes; </li><li>  <code>&gt;pids</code> to write <code>&gt;pids</code> to a file; </li><li>  <code>|xargs kill -9</code> kill processes. </li></ul><br><br><h2>  Tasks for training </h2><br>  Want to practice new skills?  Try the following tasks: <br><br><ul><li>  get a list of all the files and directories in your home directory; </li><li>  get a list of all <code>man</code> articles from category 2 (system calls); </li><li>  calculate the number of times in the <code>grep</code> program in man does the word grep occur; </li><li>  calculate how many processes are currently running as <code>root</code> ; </li><li>  find which command is found in the maximum number of help categories (man); </li><li>  calculate the number of times the word var is found on the page <a href="http://ya.ru/">ya.ru.</a> </li></ul><br>  Hint: you will need <code>find</code> , <code>grep -o</code> , <code>awk '{print $1}'</code> , regular expressions in <code>grep</code> , <code>curl -s</code> . <br><br><h2>  What to study next? </h2><br>  If the command line begins to please you, do not stop, continue to improve your skills. <br><br>  Here are some programs that will definitely come in handy if you live on the command line: <br><br><ul><li> <code>awk</code> </li> <li> <code>sed</code> </li> <li>  <code>find</code> with complex options </li><li> <code>apropos</code> </li> <li> <code>locate</code> </li> <li> <code>telnet</code> </li> <li> <code>netcat</code> </li> <li> <code>tcpdump</code> </li> <li> <code>rsync</code> </li> <li> <code>screen</code> </li> <li> <code>ssh</code> </li> <li> <code>tar</code> </li> <li>  <code>zgrep</code> , <code>zless</code> </li><li> <code>visudo</code> </li> <li> <code>crontab -e</code> </li> <li> <code>sendmail</code> </li> </ul><br>  In addition, over time, it is worth mastering some scripting language, for example, <code>perl</code> or <code>python</code> , or even both of them. <br><br><h2>  Who needs it? </h2><br>  Is it worth it to study the command line and shell scripting today?  Definitely worth it.  I will cite just a few examples from Facebook's requirements for candidates who want to go to work at FB. <br><br>  <a href="https://www.facebook.com/careers/department%3Fdept%3Ddata%26req%3Da0IA000000CzAekMAF">Data Scientist, Economic Research</a> : Unix core tools;  preferred: adeptness with a scripting language such as Python, or previous software engineering experience. <br><br>  <a href="https://www.facebook.com/careers/department%3Fdept%3Dengineering%26req%3Da0IA000000CxfUlMAJ">MySQL Database Engineer</a> : High degree of proficiency in Shell scripting (Bash, Awk, etc);  high degree of proficiency in Linux administration. <br><br>  <a href="https://www.facebook.com/careers/department%3Fdept%3Dinfrastructure%26req%3Da0I1200000G4O87EAF">Manufacturing Quality Engineer, Server</a> : Scripting skills in Bash, Perl, or Python is desirable. <br><br>  <a href="https://www.facebook.com/careers/department%3Fdept%3Dinfrastructure%26req%3Da0IA000000G42VUMAZ">Data Platform Engineer</a> : 2 years experience with Unix / Linux systems. <br><br>  <a href="https://www.facebook.com/careers/department%3Fdept%3Dinfrastructure%26req%3Da0IA000000G3OXJMA3">DevOps Engineer, Data</a> : 2 years experience with Unix / Linux system administration and programming. <br><br><h2>  Questions? </h2><br>  If you have questions on this article or even on the work in the unix command line, ask them in the comments or email <code>liruoko (at) yandex (dot) ru</code> . <br><br><h2>  Some useful and interesting links. </h2><br>  <a href="http://habrahabr.ru/post/228999/">15 interesting Linux commands</a> <br><br>  <a href="http://matt.might.net/articles/basic-unix/">Survival guide for Unix newbies</a> <br><br>  <a href="http://habrahabr.ru/post/221273/">Interesting bash programming techniques</a> <br>  original: <a href="http://robertmuth.blogspot.ru/2012/08/better-bash-scripting-in-15-minutes.html">Better Bash Scripting in 15 Minutes</a> <br><br>  <a href="http://matt.might.net/articles/bash-by-example/">Shell programming with bash: by example, by counter-example</a> <br><br>  <a href="http://pragmaticperl.com/issues/15/pragmaticperl-15-%25D0%25BF%25D1%2580%25D0%25BE%25D1%2581%25D1%2582%25D1%258B%25D0%25B5-%25D1%2581%25D0%25BF%25D0%25BE%25D1%2581%25D0%25BE%25D0%25B1%25D1%258B-%25D1%2581%25D0%25B4%25D0%25B5%25D0%25BB%25D0%25B0%25D1%2582%25D1%258C-%25D0%25BA%25D0%25BE%25D0%25BD%25D1%2581%25D0%25BE%25D0%25BB%25D1%258C%25D0%25BD%25D1%2583%25D1%258E-%25D1%2583%25D1%2582%25D0%25B8%25D0%25BB%25D0%25B8%25D1%2582%25D1%2583-%25D1%2583%25D0%25B4%25D0%25BE%25D0%25B1%25D0%25BD%25D0%25B5%25D0%25B5.html">Simple ways to make the console utility more convenient.</a> <br><br>  <a href="http://jvns.ca/blog/2014/04/20/debug-your-programs-like-theyre-closed-source/">Debug your programs like they closed source!</a> <br><br></div><p>Source: <a href="https://habr.com/ru/post/267825/">https://habr.com/ru/post/267825/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../267813/index.html">Deploy infrastructure for development in the cloud InfoboxCloud. Part 1: Starting Gitlab</a></li>
<li><a href="../267815/index.html">We connect Intel devices for the Internet of things to Microsoft Azure IoT Suite</a></li>
<li><a href="../267817/index.html">Operation BATMAN: Adding Core Modules to Yocto on Intel Edison</a></li>
<li><a href="../267819/index.html">Escene ES330-N / ES330-PN IP Phones Review with Escene ESM 32 Expansion Module</a></li>
<li><a href="../267823/index.html">Who has not connected to the web? We connect remote regions with balloons, drones and an armada of satellites</a></li>
<li><a href="../267827/index.html">Big Data vs Data Mining</a></li>
<li><a href="../267829/index.html">Practical use of Desired State Configuration for Windows Server 2012 R2</a></li>
<li><a href="../267831/index.html">About the features of geolocation technology in MDK</a></li>
<li><a href="../267833/index.html">Audit of system events in Linux</a></li>
<li><a href="../267837/index.html">Todoist transition to Material Design</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>