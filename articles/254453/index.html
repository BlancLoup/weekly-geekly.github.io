<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Perl time</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Perl and CPAN provide many different tools for working with time. The traditional and most well-known DateTime causes equally traditional serious comp...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Perl time</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/files/72e/cf5/19f/72ecf519f6124a69b2c15501e65613af.jpg"><br><br>  Perl and CPAN provide many different tools for working with time.  The traditional and most well-known <code>DateTime</code> causes equally traditional serious complaints about the speed of work and memory consumption, so it gradually began to be ousted from our system by alternative modules.  TIMTOWDI is great, but I still want to have some order in the project.  Therefore, we decided to test several of the most popular modules in terms of speed, functionality and usability and choose the one that will become our main tool. <br><a name="habracut"></a><br><h3>  <b>Initial conditions</b> </h3><br>  Before conducting the tests, it was necessary to determine the requirements for the modules.  The following conditions were set for our project. <br><br>  Required functionality: <br><ul><li>  work with time zones (calculations with zones, local definition); </li><li>  Parsing and formatting a string with a time pattern </li><li>  work with time intervals (add a day, take a week off, calculate the difference between dates); </li><li>  work with such concepts as ‚Äúthe first week of October‚Äù or ‚Äúthe twelfth week of the year‚Äù, etc. </li></ul><br>  Additional conditions: <br><ul><li>  preferably one time object to work with; </li><li>  concise code; </li><li>  the module should not be abandoned (not updated for a long time, many unclosed bugs); </li><li>  working in Debian with standard Perl (now it's v5.14.2). </li></ul><br>  Criteria for evaluation: <br><ul><li>  compliance with functional requirements; </li><li>  work speed; </li><li>  adequate interface; </li><li>  subjective ease of use. </li></ul><br><h3>  <b>Modules</b> </h3><br>  There are a lot of modules for working with time, I chose the most popular of them - most often found both in code and in publications and stories of colleagues.  The resulting list (with the version number used in the tests): <br><ul><li>  <a href="https://metacpan.org/pod/DateTime">DateTime</a> (1.18); </li><li>  <a href="https://metacpan.org/pod/Date::Manip">Date :: Manip</a> (6.48); </li><li>  <a href="https://metacpan.org/pod/Time::Piece">Time :: Piece</a> (1.29); </li><li>  <a href="https://metacpan.org/pod/Panda::Date">Panda :: Date</a> (3.0.2); </li><li>  <a href="https://metacpan.org/pod/Date::Calc">Date :: Calc</a> (6.4); </li><li>  <a href="https://metacpan.org/pod/Time::Moment">Time :: Moment</a> (0.22). </li></ul><br>  I will give a brief overview of the features and features that affect the test results, and give the results of the measurements.  A detailed description of each module can be found in the native documentation. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h4>  <b><i><a href="https://metacpan.org/pod/DateTime">Datetime</a></i></b> </h4><br><img align="right" src="https://habrastorage.org/files/b43/db0/56c/b43db056c977427887054a94bf99d62b.jpg">  Probably the most popular module.  More precisely, even the group of modules, since the different functional is divided into different namespaces.  In general, the <code>DateTime</code> functionality is very wide, but the module is often criticized for poor performance. <br><br>  When creating a new object, time is taken into account with an accuracy of up to a second, but it can work with an accuracy of up to nanoseconds. <br><br>  Parsing lines with dates is not able by itself, but there are many ready-made parsers (formatters), <code>DateTime::Format::*</code> .  They are also used to form a string with time in the required format if they implement the <code>format_datetime</code> method.  For tests, I will use <code>DateTime::Format::ISO8601</code> (more often used in different APIs and services) and <code>DateTime::Format::Strptime</code> (allows you to use your own template, similar to strptime).  You can also create your own parser using <code>DateTime::Format::Builder</code> . <br><br>  You can use <code>DateTime::TimeZone</code> objects to work with time zones, but this is optional.  For example, you can create a time object in a specific zone simply by specifying <code>time_zone =&gt; 'Asia/Taipei'</code> .  It is important to understand that the description of the zones is located in the module itself, and their relevance should be monitored separately.  You can also send a previously prepared <code>DateTime::TimeZone</code> object instead of a string, which can be useful when we use a local time zone.  Determining it may be long and efficient to prepare an object in advance, for example, like this: <br><br><pre> <code class="perl hljs"><span class="hljs-keyword"><span class="hljs-keyword">state</span></span> $tz = DateTime::TimeZone-&gt;new( <span class="hljs-string"><span class="hljs-string">name =&gt;</span></span> <span class="hljs-string"><span class="hljs-string">'local'</span></span> );</code> </pre><br>  For work with intervals, <code>DateTime::Duration</code> objects are used, the same objects are returned when dates are subtracted. <br><br>  Comparing dates can be performed both in terms of fractions of seconds and by integer values ‚Äã‚Äãusing the appropriate methods <code>DateTime-&gt;compare( $dt1, $dt2 )</code> and <code>DateTime-&gt;compare_ignore_floating( $dt1, $dt2 )</code> . <br><br>  In general, the interface of the module seems to me quite simple and understandable.  Using multiple modules may seem inconvenient to someone, but they are well-organized and I cannot call it a disadvantage. <br><br><pre> <code class="perl hljs"><span class="hljs-comment"><span class="hljs-comment">#     ,  new   . my $dt = DateTime-&gt;new( year =&gt; 1964, month =&gt; 10, day =&gt; 16, hour =&gt; 16, minute =&gt; 12, second =&gt; 47, nanosecond =&gt; 500_000_000, time_zone =&gt; 'Asia/Taipei', ); #      $dt = DateTime-&gt;now(); #     UTC $dt = DateTime-&gt;now( time_zone =&gt; 'UTC' ); #         $dt = DateTime-&gt;now( time_zone =&gt; '+1000' ); #   (ISO8601) $dt = DateTime::Format::ISO8601-&gt;parse_datetime('2015-02-18T10:50:31.521345123+10:00'); #     (,  ISO8601) my $dt_format = DateTime::Format::Strptime-&gt;new( pattern =&gt; '%Y-%m-%dT%H:%M:%S.%9N%z', on_error =&gt; 'croak', ); $dt = $dt_format-&gt;parse_datetime('2015-02-18T10:50:31.521345123+1000'); #     my $str = $dt_format-&gt;format_datetime($dt); #  1  2  3  4  5   6  my $dt_duration = DateTime::Duration-&gt;new( years =&gt; 1, months =&gt; 2, days =&gt; 3, hours =&gt; 4, minutes =&gt; 5, seconds =&gt; 6, ); my $dt2 = $dt + $dt_duration; #   my $result = DateTime-&gt;compare( $dt, $dt2 ); # : -1 . . $dt &lt; $dt2 #    my $interval = $dt2-&gt;subtract_datetime( $dt1 ); #   /     my $week_begin = $dt-&gt;clone-&gt;truncate( to =&gt; 'week' ); my $week_end = $week_begin-&gt;clone-&gt;add( days =&gt; 6 ); my $month_begin = $dt-&gt;clone-&gt;truncate( to =&gt; 'month' ); my $month_end = $month_begin-&gt;clone-&gt;add( months =&gt; 1 )-&gt;subtract( days =&gt; 1 );</span></span></code> </pre><br><h4>  <b><i><a href="https://metacpan.org/pod/Date::Manip">Date :: Manip</a></i></b> </h4><br><img align="right" src="https://habrastorage.org/files/c46/d8b/673/c46d8b673313486d838e47755ea1c504.jpg">  The main feature of this module, I would call omnivorous.  He is able to do very cunning manipulations, for example, to determine the date by the line "8:00 pm December tenth", and even in different languages.  But the documentation for this module is the most incomprehensible (at least to me).  Like <code>DateTime</code> , the functionality is divided into many modules, but the logic of their separation is not obvious.  In order to create a new object, you have to use the documentation for three modules at once - <code>Date::Manip</code> , <code>Date::Manip::Date</code> , <code>Date::Manip::Obj</code> . <br><br>  He does not know how to work with fractions of a second, although this is not always necessary, but for some it may be critical. <br><br>  It can parse string dates like ‚Äú8:00 pm December tenth‚Äù or ‚Äú4 business days later‚Äù, also in different languages.  This is very cool, but I personally never encountered such a task.  Probably, it makes sense when working with some weakly standardized (or intentionally very free) user input. <br><br>  The intervals are represented by <code>Date::Manip::Delta</code> objects, they are also returned as the difference between dates. <br><br>  To compare dates, a special method is used: <br><br><pre> <code class="perl hljs">$dm_date1-&gt;cmp( $dm_date2 );</code> </pre><br>  Determining the beginning and end of the week and month is possible, but inconvenient and very slow - for this you have to perform several operations, and they are not happy with the speed. <br><br>  Can not create a copy of an existing object. <br><br>  In general, the interface is quite specific.  Perhaps you can get used to it, and then it will seem more beautiful (as with ObjectiveC), but is it necessary to do this? <br><br><pre> <code class="perl hljs"><span class="hljs-comment"><span class="hljs-comment">#   .       ,   , #        . my $dm = Date::Manip::Date-&gt;new; my $dt = $dm-&gt;new_date; #   .   . $dt-&gt;parse('now'); #   UTC $dt-&gt;parse('now gmt'); #     $date-&gt;parse('now gtm+10'); #   (ISO8601) $date-&gt;parse('2015-02-18T10:50:31.521345123+10:00'); #     my $str = $dm_date-&gt;printf("%Y.%m.%d %H-%M-%S %z"); #  1  2  3  4  5   6  my $dm_delta = Date::Manip::Delta-&gt;new; $dm_delta-&gt;parse('1:2:0:3:4:5:6'); # 0 ‚Äî  my $dm_date2 = $dm_date-&gt;calc( $dm_delta ); #   my $result = $dm_date1-&gt;cmp( $dm_date2 ); # -1 #    my $interval = $dm_date2-&gt;calc( $dm_date1 ); #         # (   parse('now') . .  ,    ) my $week_begin = $dm_date-&gt;new_date; $week_begin-&gt;parse('now'); $week_begin-&gt;prev(1,1,[0,0,0]); #     00:00:00 #   ,    (1-  ) #  ,      #  -   (,,) my $week_end = $dm_date-&gt;new_date; $week_end-&gt;parse('now'); $week_end-&gt;prev(7,1,[0,0,0]); my $month_begin = $dm_date-&gt;new_date; $month_begin-&gt;parse('now'); $month_begin-&gt;set('time',[0,0,0]); $month_begin-&gt;set('d',1); my $delta = Date::Manip::Delta-&gt;new; $delta-&gt;parse('0:1:0:-1:0:0:0'); my $month_end = $dm_m1-&gt;calc( $delta );</span></span></code> </pre><br><h4>  <b><i><a href="https://metacpan.org/pod/Time::Piece">Time :: Piece</a></i></b> </h4><br><img align="right" src="https://habrastorage.org/files/241/67f/12d/24167f12da354ba58900117128490d84.jpg">  Another very popular module.  In addition, this is a core module included in the Perl distribution.  In essence, it is an OO wrapper over standard functions.  By default, overlaps <code>localtime</code> and <code>gmtime</code> .  An empty object does not know how to create it; when called, <code>new</code> does the same as <code>localtime</code> , but if another <code>Time::Piece</code> object is passed, it creates a copy of it. <br><br>  Does not know how to change the time zone of the created object, but the time in the desired zone can be obtained by the offset (in seconds). <br><br>  Parsit can only by <code>strptime</code> pattern, which is enough in most cases. <br><br>  With fractions of a second can not work. <br><br>  All calculations are made with seconds.  For convenience, there are preset constants from <code>Time::Seconds</code> ( <code>ONE_DAY</code> , for example).  The results of the calculations are not quite obvious, so <code>'2015-02-25 10:33:25' + ONE_YEAR = '2016-02-25 16:22:15'</code> .  The thing is that <code>ONE_YEAR</code> is 31556930 seconds or 365.24225 days (yes, with rounding).  With the month the same: <code>'2015-02-01 00:00:00' + ONE_MONTH = '2015-03-03 10:29:04'</code> .  Understanding this problem, the author has provided two object methods: <code>add_months</code> and <code>add_years</code> .  But they also work with features: taking away the month of 2008-03-31, we get 2008-03-02.  It must always be remembered and taken into account. <br><br>  You can work with objects using standard arithmetic operators and comparison operators: <code>-</code> , <code>+=</code> , <code>&lt;</code> , <code>&gt;=</code> , <code>&lt;=&gt;</code> , etc. <br><br>  The object <code>Time::Seconds</code> returned as the date difference. <br><br>  Can not change the day of the week and the month, only to determine.  In the last test (determination of the beginning and end of the week and month), part of the work must be done by hand, which is not very convenient. <br><br>  In general, the interface is quite simple, clear and without excesses.  In many cases it will be enough. <br><br><pre> <code class="perl hljs"><span class="hljs-comment"><span class="hljs-comment">#   .   -&gt;new   localtime my $tp = Time::Piece-&gt;new; $tp = localtime; #   UTC $tp = gmtime; #       . $tp += 60*60*10; #     #   (  ) $tp = Time::Piece-&gt;strptime('2015-02-18T10:50:31+1000', '%Y-%m-%dT%H:%M:%S%z'); #     my $str = $tp-&gt;strftime("%Y.%m.%d %H-%M-%S %z"); #  1  2  3  4  5   6  my $tp2 = $tp1 + 3 * ONE_DAY + 4 * ONE_HOUR + 5 * ONE_MINUTE + 6; $tp2-&gt;add_years(1); $tp2-&gt;add_months(2); #   my $result = $tp1 &lt;=&gt; $tp2; # -1 #  my $interval_in_seconds = $tp1 - $tp2;</span></span></code> </pre><br><h4>  <b><i><a href="https://metacpan.org/pod/Panda::Date">Panda :: Date</a></i></b> </h4><br><img align="right" src="//habrastorage.org/files/631/6d1/a74/6316d1a747a34545bb32955714a0f70e.jpg">  The module is written using XS and is positioned as very fast.  It has a significant limitation - assembly requires Perl 5.18 or higher. <br><br>  By default, it accepts lines like '2013-03-05 23:45:56' for parsing.  But you can set another format (globally): <br><br><pre> <code class="perl hljs">Panda::Date::string_format(<span class="hljs-string"><span class="hljs-string">"%Y%m%d%H%M%S"</span></span>);</code> </pre><br>  When parsing, objects with a local time zone are created. <br><br>  With fractions of a second can not work. <br><br>  It can perform calculations without using additional objects (add dates to dates, not intervals), but <code>Panda::Date::Int</code> objects can also be used.  It knows how to add lines like '3Y 2D' (3 years and 2 days) or objects like <code>Panda::Date::Rel</code> , such addition works even faster than addition with <code>ARRAYREF</code> .  When subtracting dates, returns the object <code>Panda::Date::Int</code> . <br><br>  For comparison, only the <code>&lt;=&gt;</code> operator is used. <br><br>  Allows you to manipulate the day of the week through <code>day_of_week</code> , while the week starts on Sunday (value 0).  Or you can use <code>ewday</code> , then the week starts on Monday (value 1) and ends on Sunday (7). <br><br><pre> <code class="perl hljs"><span class="hljs-comment"><span class="hljs-comment">#     #          my $pd = Panda::Date-&gt;new; my $pd = Panda::Date-&gt;new( time ); my $pd = now; #    #      .   # Rate Panda::Date new(time) Panda::Date new Panda::Date now # Panda::Date new(time) 742853/s -- -9% -23% # Panda::Date new 813840/s 10% -- -16% # Panda::Date now 967947/s 30% 19% -- #    (  now). $pd = now; #   UTC $pd = Panda::Date-&gt;new( time, 'UTC' ); #     $pd-&gt;to_tz('UTC-10'); #   (    ) $pd = Panda::Date-&gt;new('2015-02-18 10:50:31'); #     my $str = $pd-&gt;strftime("%Y.%m.%d %H-%M-%S %z"); #  1  2  3  4  5   6  my $pd1 = Panda::Date::now; my $pd2 = $pd1 + [1,2,3,4,5,6]; my $pd2 = $pd1 + '1Y 2M 3D 4h 5m 6s'; #   #   my $result = $pd1 &lt;=&gt; $pd2; #   my $interval = $pd1 - $pd2;</span></span></code> </pre><br><h4>  <b><i><a href="https://metacpan.org/pod/Date::Calc">Date :: Calc</a></i></b> </h4><br><img align="right" src="//habrastorage.org/files/991/bfa/9ae/991bfa9ae5f24540bda05634971de372.jpg">  Another popular module.  A distinctive feature of it is that it uses a simple array to store information about the date and time instead of a special object.  The interface is quite simple and straightforward.  Many different functions for manipulating dates, a little less for manipulating time.  Works up to seconds. <br><br>  Unlike other modules, it does not have a built-in mechanism for generating strings with time, and only dates can parse, and then in a specific format.  Therefore, in the tests for parsing and string generation is not involved. <br><br>  There are no functions for comparing dates, but for this it is quite possible to use the functions of calculating the difference between dates, as recommended in the description for the module. <br><br><pre> <code class="perl hljs"><span class="hljs-comment"><span class="hljs-comment">#      my @dc = Today_and_Now(); #   UTC    . @dc = Today_and_Now(1); #             UTC   #     my @delta_tz = (0, 10, 0, 0); # , , ,  my @dc_tz =Add_Delta_DHMS( Today_and_Now(1), @delta_tz ); #  1  2  3  4  5   6  @dc = Add_Delta_YMDHMS( @dc, (1,2,3,4,5,6) ); #   my @dc1 = (2015,2,18,10,50,31); my @dc2 = (2015,2,18,10,50,32); my $result = 0+Delta_DHMS( @dc1, @dc2 ); #   , #   2   1 #  my @interval = Delta_YMDHMS( @dc1, @dc2 ); #   /    .    . @dc =Today(); #     my $dow =Day_of_Week( @dc ); my @week_begin =Add_Delta_Days( @dc, (1 - $dow) ); my @week_end =Add_Delta_Days( @week_begin, 6 ); my @month_begin = @dc; $month_begin[2] = 1; #     my @month_end =Add_Delta_Days( Add_Delta_YMD( @month_begin, (0,1,0) ), -1 );</span></span></code> </pre><br><h4>  <b><i><a href="https://metacpan.org/pod/Time::Moment">Time :: Moment</a></i></b> </h4><br><img align="right" src="//habrastorage.org/files/c9e/405/aab/c9e405aab0604d6d8abda56387235e91.jpg">  A fairly new module (current version is 0.22), I only found out about it when I began to prepare this article. <br><br>  Able to work with nanoseconds, but by default creates an object with time (local and UTC) with an accuracy of microseconds. <br><br>  It can parse dates only in a strictly defined format - ISO 8601. That may not be very convenient.  When parsing fails, throws an exception. <br><br>  It can perform simple operations ¬± year / month / day, etc. through special methods ( <code>plus_years</code> for example).  Unlike many other modules, when calculating 2013-01-31 + 1 month it gives the result 2013-02-28.  What is right, in my opinion.  Although, perhaps, someone expects a different behavior. <br><br>  For comparing dates, it uses standard number comparison operators: <code>&lt;=&gt;</code> , <code>==</code> , <code>&gt;=</code> , etc. <br><br>  There are no methods for determining the interval between two dates.  But you can subtract seconds from the beginning of the epoch, obtained by the <code>epoch</code> method.  This imposes limitations and accuracy is lost, but in some cases this accuracy may be enough ( <code>Time::Piece</code> also works with seconds). <br><br>  You can use the <code>with_day_of_week</code> (Monday 1, Sunday 7), <code>with_day_of_month</code> and math methods to determine the start / end of the month / week.  To reset the time of day, you must use the <code>with_*</code> methods. <br><br>  In general, the interface is very simple, understandable, and without noticeable specific features (as with the math of <code>Time::Piece</code> , for example). <br><br><pre> <code class="perl hljs"><span class="hljs-comment"><span class="hljs-comment">#    my $tm = Time::Moment-&gt;new; #       $tm = Time::Moment-&gt;now; #      UTC $tm = Time::Moment-&gt;now_utc; #     (   ) my $tm_with_offset = $tm-&gt;with_offset_same_instant(600); #     #   (  ISO8601) $tm = Time::Moment-&gt;from_string('2015-02-18T10:50:31.521345123+10:00'); #     my $str = $tm-&gt;strftime("%Y.%m.%d %H-%M-%S (%f) %z"); #  1  2  3  4  5   6  my $tm2 = $tm1-&gt;plus_years(1)-&gt;plus_months(2)-&gt;plus_days(3) -&gt;plus_hours(4)-&gt;plus_minutes(5)-&gt;plus_seconds(6); #   my $result = $tm1 &lt;=&gt; $tm2; # : -1 #  my $interval_in_seconds = $tm1-&gt;epoch - $tm2-&gt;epoch; #   /     $tm = $tm-&gt;with_hour(0) -&gt;with_minute(0) -&gt;with_second(0) -&gt;with_nanosecond(0) my $week_begin = $tm-&gt;with_day_of_week(1); my $week_end = $tm-&gt;with_day_of_week(7) my $month_begin = $tm-&gt;with_day_of_month(1); my $month_end = $tm-&gt;with_day_of_month( $tm-&gt;length_of_month );</span></span></code> </pre><br><h3>  <b>Tests and results</b> </h3><br>  Test code <a href="https://github.com/sfx-public/perl_time">is available on GitHub</a> . <br><br>  Test environment: <br>  Intel Core i5-2557M CPU @ 1.70GHz, 4Gb, Mac OS X 10.10.2 <br>  Perl 5.20.1 (in Perlbrew) <br>  Benchmark (1.18) <br><br>  The test results for convenience use abbreviated names of the modules: <code>Date::Manip</code> = <code>D::M</code> , <code>DateTime</code> = <code>DT</code> , etc. <br><br><h5>  <i>Creating objects with the current local time</i> </h5><br><pre> <code class="hljs php"> Rate D::M DT T::PD::CP::D (<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> time) P::D (<span class="hljs-keyword"><span class="hljs-keyword">new</span></span>) T::MP::D (now) D::M <span class="hljs-number"><span class="hljs-number">3373</span></span>/s -- <span class="hljs-number"><span class="hljs-number">-73</span></span>% <span class="hljs-number"><span class="hljs-number">-97</span></span>% <span class="hljs-number"><span class="hljs-number">-98</span></span>% <span class="hljs-number"><span class="hljs-number">-99</span></span>% <span class="hljs-number"><span class="hljs-number">-100</span></span>% <span class="hljs-number"><span class="hljs-number">-100</span></span>% <span class="hljs-number"><span class="hljs-number">-100</span></span>% DT <span class="hljs-number"><span class="hljs-number">12582</span></span>/s <span class="hljs-number"><span class="hljs-number">273</span></span>% -- <span class="hljs-number"><span class="hljs-number">-89</span></span>% <span class="hljs-number"><span class="hljs-number">-92</span></span>% <span class="hljs-number"><span class="hljs-number">-98</span></span>% <span class="hljs-number"><span class="hljs-number">-98</span></span>% <span class="hljs-number"><span class="hljs-number">-98</span></span>% <span class="hljs-number"><span class="hljs-number">-99</span></span>% T::P <span class="hljs-number"><span class="hljs-number">119244</span></span>/s <span class="hljs-number"><span class="hljs-number">3435</span></span>% <span class="hljs-number"><span class="hljs-number">848</span></span>% -- <span class="hljs-number"><span class="hljs-number">-20</span></span>% <span class="hljs-number"><span class="hljs-number">-81</span></span>% <span class="hljs-number"><span class="hljs-number">-82</span></span>% <span class="hljs-number"><span class="hljs-number">-86</span></span>% <span class="hljs-number"><span class="hljs-number">-86</span></span>% D::C <span class="hljs-number"><span class="hljs-number">149116</span></span>/s <span class="hljs-number"><span class="hljs-number">4321</span></span>% <span class="hljs-number"><span class="hljs-number">1085</span></span>% <span class="hljs-number"><span class="hljs-number">25</span></span>% -- <span class="hljs-number"><span class="hljs-number">-77</span></span>% <span class="hljs-number"><span class="hljs-number">-78</span></span>% <span class="hljs-number"><span class="hljs-number">-82</span></span>% <span class="hljs-number"><span class="hljs-number">-82</span></span>% P::D (<span class="hljs-keyword"><span class="hljs-keyword">new</span></span> time) <span class="hljs-number"><span class="hljs-number">644519</span></span>/s <span class="hljs-number"><span class="hljs-number">19009</span></span>% <span class="hljs-number"><span class="hljs-number">5022</span></span>% <span class="hljs-number"><span class="hljs-number">441</span></span>% <span class="hljs-number"><span class="hljs-number">332</span></span>% -- <span class="hljs-number"><span class="hljs-number">-5</span></span>% <span class="hljs-number"><span class="hljs-number">-22</span></span>% <span class="hljs-number"><span class="hljs-number">-23</span></span>% P::D (<span class="hljs-keyword"><span class="hljs-keyword">new</span></span>) <span class="hljs-number"><span class="hljs-number">677138</span></span>/s <span class="hljs-number"><span class="hljs-number">19976</span></span>% <span class="hljs-number"><span class="hljs-number">5282</span></span>% <span class="hljs-number"><span class="hljs-number">468</span></span>% <span class="hljs-number"><span class="hljs-number">354</span></span>% <span class="hljs-number"><span class="hljs-number">5</span></span>% -- <span class="hljs-number"><span class="hljs-number">-18</span></span>% <span class="hljs-number"><span class="hljs-number">-19</span></span>% T::M <span class="hljs-number"><span class="hljs-number">830755</span></span>/s <span class="hljs-number"><span class="hljs-number">24531</span></span>% <span class="hljs-number"><span class="hljs-number">6503</span></span>% <span class="hljs-number"><span class="hljs-number">597</span></span>% <span class="hljs-number"><span class="hljs-number">457</span></span>% <span class="hljs-number"><span class="hljs-number">29</span></span>% <span class="hljs-number"><span class="hljs-number">23</span></span>% -- <span class="hljs-number"><span class="hljs-number">-1</span></span>% P::D (now) <span class="hljs-number"><span class="hljs-number">839971</span></span>/s <span class="hljs-number"><span class="hljs-number">24804</span></span>% <span class="hljs-number"><span class="hljs-number">6576</span></span>% <span class="hljs-number"><span class="hljs-number">604</span></span>% <span class="hljs-number"><span class="hljs-number">463</span></span>% <span class="hljs-number"><span class="hljs-number">30</span></span>% <span class="hljs-number"><span class="hljs-number">24</span></span>% <span class="hljs-number"><span class="hljs-number">1</span></span>% --</code> </pre><br>  <code>Panda::Date</code> is expected the fastest.  But <code>Time::Moment</code> unexpectedly almost as fast! <br><br><h5>  <i>Creating objects with current UTC time</i> </h5><br><pre> <code class="hljs ruby"> Rate D::M DT T::PD::CP::DT::M D::M <span class="hljs-number"><span class="hljs-number">1999</span></span>/s -- -<span class="hljs-number"><span class="hljs-number">83</span></span>% -<span class="hljs-number"><span class="hljs-number">98</span></span>% -<span class="hljs-number"><span class="hljs-number">99</span></span>% -<span class="hljs-number"><span class="hljs-number">100</span></span>% -<span class="hljs-number"><span class="hljs-number">100</span></span>% DT <span class="hljs-number"><span class="hljs-number">11498</span></span>/s <span class="hljs-number"><span class="hljs-number">475</span></span>% -- -<span class="hljs-number"><span class="hljs-number">90</span></span>% -<span class="hljs-number"><span class="hljs-number">93</span></span>% -<span class="hljs-number"><span class="hljs-number">98</span></span>% -<span class="hljs-number"><span class="hljs-number">99</span></span>% T::P <span class="hljs-number"><span class="hljs-number">120130</span></span>/s <span class="hljs-number"><span class="hljs-number">5909</span></span>% <span class="hljs-number"><span class="hljs-number">945</span></span>% -- -<span class="hljs-number"><span class="hljs-number">26</span></span>% -<span class="hljs-number"><span class="hljs-number">82</span></span>% -<span class="hljs-number"><span class="hljs-number">92</span></span>% D::C <span class="hljs-number"><span class="hljs-number">161964</span></span>/s <span class="hljs-number"><span class="hljs-number">8001</span></span>% <span class="hljs-number"><span class="hljs-number">1309</span></span>% <span class="hljs-number"><span class="hljs-number">35</span></span>% -- -<span class="hljs-number"><span class="hljs-number">76</span></span>% -<span class="hljs-number"><span class="hljs-number">89</span></span>% P::D <span class="hljs-number"><span class="hljs-number">671656</span></span>/s <span class="hljs-number"><span class="hljs-number">33495</span></span>% <span class="hljs-number"><span class="hljs-number">5741</span></span>% <span class="hljs-number"><span class="hljs-number">459</span></span>% <span class="hljs-number"><span class="hljs-number">315</span></span>% -- -<span class="hljs-number"><span class="hljs-number">55</span></span>% T::M <span class="hljs-number"><span class="hljs-number">1476686</span></span>/s <span class="hljs-number"><span class="hljs-number">73761</span></span>% <span class="hljs-number"><span class="hljs-number">12743</span></span>% <span class="hljs-number"><span class="hljs-number">1129</span></span>% <span class="hljs-number"><span class="hljs-number">812</span></span>% <span class="hljs-number"><span class="hljs-number">120</span></span>% --</code> </pre><br>  All become slower on this operation.  Everything except <code>Time::Moment</code> .  It becomes much faster and comes out on top. <br><br><h5>  <i>Determining the time in a specific time zone</i> </h5><br>  Determination of the displacement in the zone in this test is not made.  The offset set in advance +10 hours.  Different modules offer different ways to set the offset.  Some are in seconds, others are in minutes, and the third is a '+1000' type string. <br><br><pre> <code class="hljs ruby"> Rate D::M DT D::CT::PP::DT::M D::M <span class="hljs-number"><span class="hljs-number">1725</span></span>/s -- -<span class="hljs-number"><span class="hljs-number">61</span></span>% -<span class="hljs-number"><span class="hljs-number">95</span></span>% -<span class="hljs-number"><span class="hljs-number">97</span></span>% -<span class="hljs-number"><span class="hljs-number">100</span></span>% -<span class="hljs-number"><span class="hljs-number">100</span></span>% DT <span class="hljs-number"><span class="hljs-number">4439</span></span>/s <span class="hljs-number"><span class="hljs-number">157</span></span>% -- -<span class="hljs-number"><span class="hljs-number">87</span></span>% -<span class="hljs-number"><span class="hljs-number">92</span></span>% -<span class="hljs-number"><span class="hljs-number">99</span></span>% -<span class="hljs-number"><span class="hljs-number">99</span></span>% D::C <span class="hljs-number"><span class="hljs-number">33939</span></span>/s <span class="hljs-number"><span class="hljs-number">1868</span></span>% <span class="hljs-number"><span class="hljs-number">665</span></span>% -- -<span class="hljs-number"><span class="hljs-number">39</span></span>% -<span class="hljs-number"><span class="hljs-number">92</span></span>% -<span class="hljs-number"><span class="hljs-number">95</span></span>% T::P <span class="hljs-number"><span class="hljs-number">55584</span></span>/s <span class="hljs-number"><span class="hljs-number">3122</span></span>% <span class="hljs-number"><span class="hljs-number">1152</span></span>% <span class="hljs-number"><span class="hljs-number">64</span></span>% -- -<span class="hljs-number"><span class="hljs-number">87</span></span>% -<span class="hljs-number"><span class="hljs-number">92</span></span>% P::D <span class="hljs-number"><span class="hljs-number">438601</span></span>/s <span class="hljs-number"><span class="hljs-number">25327</span></span>% <span class="hljs-number"><span class="hljs-number">9782</span></span>% <span class="hljs-number"><span class="hljs-number">1192</span></span>% <span class="hljs-number"><span class="hljs-number">689</span></span>% -- -<span class="hljs-number"><span class="hljs-number">40</span></span>% T::M <span class="hljs-number"><span class="hljs-number">735173</span></span>/s <span class="hljs-number"><span class="hljs-number">42520</span></span>% <span class="hljs-number"><span class="hljs-number">16463</span></span>% <span class="hljs-number"><span class="hljs-number">2066</span></span>% <span class="hljs-number"><span class="hljs-number">1223</span></span>% <span class="hljs-number"><span class="hljs-number">68</span></span>% --</code> </pre><br><h5>  <i>String parsing (date, time and zone)</i> </h5><br>  <code>Date::Calc</code> can only parse dates (without time) and only in a certain format, so it does not participate in this test. <br><br><pre> <code class="hljs ruby"> Rate D::M DT (Strptime) DT (ISO8601) T::PP::DT::M D::M <span class="hljs-number"><span class="hljs-number">1138</span></span>/s -- -<span class="hljs-number"><span class="hljs-number">43</span></span>% -<span class="hljs-number"><span class="hljs-number">63</span></span>% -<span class="hljs-number"><span class="hljs-number">99</span></span>% -<span class="hljs-number"><span class="hljs-number">100</span></span>% -<span class="hljs-number"><span class="hljs-number">100</span></span>% DT (Strptime) <span class="hljs-number"><span class="hljs-number">1993</span></span>/s <span class="hljs-number"><span class="hljs-number">75</span></span>% -- -<span class="hljs-number"><span class="hljs-number">36</span></span>% -<span class="hljs-number"><span class="hljs-number">98</span></span>% -<span class="hljs-number"><span class="hljs-number">100</span></span>% -<span class="hljs-number"><span class="hljs-number">100</span></span>% DT (ISO8601) <span class="hljs-number"><span class="hljs-number">3090</span></span>/s <span class="hljs-number"><span class="hljs-number">171</span></span>% <span class="hljs-number"><span class="hljs-number">55</span></span>% -- -<span class="hljs-number"><span class="hljs-number">98</span></span>% -<span class="hljs-number"><span class="hljs-number">100</span></span>% -<span class="hljs-number"><span class="hljs-number">100</span></span>% T::P <span class="hljs-number"><span class="hljs-number">127471</span></span>/s <span class="hljs-number"><span class="hljs-number">11097</span></span>% <span class="hljs-number"><span class="hljs-number">6297</span></span>% <span class="hljs-number"><span class="hljs-number">4025</span></span>% -- -<span class="hljs-number"><span class="hljs-number">84</span></span>% -<span class="hljs-number"><span class="hljs-number">90</span></span>% P::D <span class="hljs-number"><span class="hljs-number">792571</span></span>/s <span class="hljs-number"><span class="hljs-number">69519</span></span>% <span class="hljs-number"><span class="hljs-number">39675</span></span>% <span class="hljs-number"><span class="hljs-number">25547</span></span>% <span class="hljs-number"><span class="hljs-number">522</span></span>% -- -<span class="hljs-number"><span class="hljs-number">37</span></span>% T::M <span class="hljs-number"><span class="hljs-number">1266979</span></span>/s <span class="hljs-number"><span class="hljs-number">111190</span></span>% <span class="hljs-number"><span class="hljs-number">63482</span></span>% <span class="hljs-number"><span class="hljs-number">40899</span></span>% <span class="hljs-number"><span class="hljs-number">894</span></span>% <span class="hljs-number"><span class="hljs-number">60</span></span>% --</code> </pre><br><h5>  <i>Pattern Generation</i> </h5><br>  <code>Date::Calc</code> does not know how to format strings by itself and this test also skips. <br><br><pre> <code class="hljs ruby"> Rate DT D::MT::PP::DT::M DT <span class="hljs-number"><span class="hljs-number">10895</span></span>/s -- -<span class="hljs-number"><span class="hljs-number">55</span></span>% -<span class="hljs-number"><span class="hljs-number">95</span></span>% -<span class="hljs-number"><span class="hljs-number">98</span></span>% -<span class="hljs-number"><span class="hljs-number">98</span></span>% D::M <span class="hljs-number"><span class="hljs-number">24273</span></span>/s <span class="hljs-number"><span class="hljs-number">123</span></span>% -- -<span class="hljs-number"><span class="hljs-number">88</span></span>% -<span class="hljs-number"><span class="hljs-number">95</span></span>% -<span class="hljs-number"><span class="hljs-number">95</span></span>% T::P <span class="hljs-number"><span class="hljs-number">202159</span></span>/s <span class="hljs-number"><span class="hljs-number">1756</span></span>% <span class="hljs-number"><span class="hljs-number">733</span></span>% -- -<span class="hljs-number"><span class="hljs-number">57</span></span>% -<span class="hljs-number"><span class="hljs-number">59</span></span>% P::D <span class="hljs-number"><span class="hljs-number">473339</span></span>/s <span class="hljs-number"><span class="hljs-number">4245</span></span>% <span class="hljs-number"><span class="hljs-number">1850</span></span>% <span class="hljs-number"><span class="hljs-number">134</span></span>% -- -<span class="hljs-number"><span class="hljs-number">3</span></span>% T::M <span class="hljs-number"><span class="hljs-number">488258</span></span>/s <span class="hljs-number"><span class="hljs-number">4382</span></span>% <span class="hljs-number"><span class="hljs-number">1912</span></span>% <span class="hljs-number"><span class="hljs-number">142</span></span>% <span class="hljs-number"><span class="hljs-number">3</span></span>% --</code> </pre><br><h5>  <i>Calculating the date (addition / subtraction)</i> </h5><br><pre> <code class="hljs cpp"> Rate D::M DT T::PD::CT::MP::D (<span class="hljs-built_in"><span class="hljs-built_in">array</span></span>) P::D (<span class="hljs-built_in"><span class="hljs-built_in">string</span></span>) D::M <span class="hljs-number"><span class="hljs-number">3493</span></span>/s -- <span class="hljs-number"><span class="hljs-number">-21</span></span>% <span class="hljs-number"><span class="hljs-number">-71</span></span>% <span class="hljs-number"><span class="hljs-number">-88</span></span>% <span class="hljs-number"><span class="hljs-number">-99</span></span>% <span class="hljs-number"><span class="hljs-number">-99</span></span>% <span class="hljs-number"><span class="hljs-number">-100</span></span>% DT <span class="hljs-number"><span class="hljs-number">4403</span></span>/s <span class="hljs-number"><span class="hljs-number">26</span></span>% -- <span class="hljs-number"><span class="hljs-number">-64</span></span>% <span class="hljs-number"><span class="hljs-number">-85</span></span>% <span class="hljs-number"><span class="hljs-number">-99</span></span>% <span class="hljs-number"><span class="hljs-number">-99</span></span>% <span class="hljs-number"><span class="hljs-number">-100</span></span>% T::P <span class="hljs-number"><span class="hljs-number">12092</span></span>/s <span class="hljs-number"><span class="hljs-number">246</span></span>% <span class="hljs-number"><span class="hljs-number">175</span></span>% -- <span class="hljs-number"><span class="hljs-number">-58</span></span>% <span class="hljs-number"><span class="hljs-number">-98</span></span>% <span class="hljs-number"><span class="hljs-number">-98</span></span>% <span class="hljs-number"><span class="hljs-number">-99</span></span>% D::C <span class="hljs-number"><span class="hljs-number">29019</span></span>/s <span class="hljs-number"><span class="hljs-number">731</span></span>% <span class="hljs-number"><span class="hljs-number">559</span></span>% <span class="hljs-number"><span class="hljs-number">140</span></span>% -- <span class="hljs-number"><span class="hljs-number">-94</span></span>% <span class="hljs-number"><span class="hljs-number">-95</span></span>% <span class="hljs-number"><span class="hljs-number">-97</span></span>% T::M <span class="hljs-number"><span class="hljs-number">487483</span></span>/s <span class="hljs-number"><span class="hljs-number">13854</span></span>% <span class="hljs-number"><span class="hljs-number">10972</span></span>% <span class="hljs-number"><span class="hljs-number">3932</span></span>% <span class="hljs-number"><span class="hljs-number">1580</span></span>% -- <span class="hljs-number"><span class="hljs-number">-16</span></span>% <span class="hljs-number"><span class="hljs-number">-48</span></span>% P::D (<span class="hljs-built_in"><span class="hljs-built_in">array</span></span>) <span class="hljs-number"><span class="hljs-number">579109</span></span>/s <span class="hljs-number"><span class="hljs-number">16477</span></span>% <span class="hljs-number"><span class="hljs-number">13053</span></span>% <span class="hljs-number"><span class="hljs-number">4689</span></span>% <span class="hljs-number"><span class="hljs-number">1896</span></span>% <span class="hljs-number"><span class="hljs-number">19</span></span>% -- <span class="hljs-number"><span class="hljs-number">-38</span></span>% P::D (<span class="hljs-built_in"><span class="hljs-built_in">string</span></span>) <span class="hljs-number"><span class="hljs-number">934644</span></span>/s <span class="hljs-number"><span class="hljs-number">26655</span></span>% <span class="hljs-number"><span class="hljs-number">21129</span></span>% <span class="hljs-number"><span class="hljs-number">7630</span></span>% <span class="hljs-number"><span class="hljs-number">3121</span></span>% <span class="hljs-number"><span class="hljs-number">92</span></span>% <span class="hljs-number"><span class="hljs-number">61</span></span>% --</code> </pre><br><h5>  <i>Date comparison</i> </h5><br>  You need to understand that different modules work with different accuracy.  <code>Time::Moment</code> and <code>DateTime</code> - up to nanosecond (for them the difference between dates was 1 nanosecond), the rest up to a second (difference 1 second). <br><br><pre> <code class="hljs ruby"> Rate D::MD::C DT T::PP::DT::M D::M <span class="hljs-number"><span class="hljs-number">27427</span></span>/s -- -<span class="hljs-number"><span class="hljs-number">34</span></span>% -<span class="hljs-number"><span class="hljs-number">64</span></span>% -<span class="hljs-number"><span class="hljs-number">92</span></span>% -<span class="hljs-number"><span class="hljs-number">99</span></span>% -<span class="hljs-number"><span class="hljs-number">99</span></span>% D::C <span class="hljs-number"><span class="hljs-number">41837</span></span>/s <span class="hljs-number"><span class="hljs-number">53</span></span>% -- -<span class="hljs-number"><span class="hljs-number">46</span></span>% -<span class="hljs-number"><span class="hljs-number">88</span></span>% -<span class="hljs-number"><span class="hljs-number">99</span></span>% -<span class="hljs-number"><span class="hljs-number">99</span></span>% DT <span class="hljs-number"><span class="hljs-number">77067</span></span>/s <span class="hljs-number"><span class="hljs-number">181</span></span>% <span class="hljs-number"><span class="hljs-number">84</span></span>% -- -<span class="hljs-number"><span class="hljs-number">79</span></span>% -<span class="hljs-number"><span class="hljs-number">98</span></span>% -<span class="hljs-number"><span class="hljs-number">98</span></span>% T::P <span class="hljs-number"><span class="hljs-number">363376</span></span>/s <span class="hljs-number"><span class="hljs-number">1225</span></span>% <span class="hljs-number"><span class="hljs-number">769</span></span>% <span class="hljs-number"><span class="hljs-number">372</span></span>% -- -<span class="hljs-number"><span class="hljs-number">88</span></span>% -<span class="hljs-number"><span class="hljs-number">89</span></span>% P::D <span class="hljs-number"><span class="hljs-number">3145500</span></span>/s <span class="hljs-number"><span class="hljs-number">11369</span></span>% <span class="hljs-number"><span class="hljs-number">7418</span></span>% <span class="hljs-number"><span class="hljs-number">3981</span></span>% <span class="hljs-number"><span class="hljs-number">766</span></span>% -- -<span class="hljs-number"><span class="hljs-number">7</span></span>% T::M <span class="hljs-number"><span class="hljs-number">3399073</span></span>/s <span class="hljs-number"><span class="hljs-number">12293</span></span>% <span class="hljs-number"><span class="hljs-number">8025</span></span>% <span class="hljs-number"><span class="hljs-number">4311</span></span>% <span class="hljs-number"><span class="hljs-number">835</span></span>% <span class="hljs-number"><span class="hljs-number">8</span></span>% --</code> </pre><br>  Work with higher accuracy does not interfere with <code>Time::Moment</code> and then take first place. <br><br><h5>  <i>Determining the interval between dates (subtract dates)</i> </h5><br><pre> <code class="hljs ruby"> Rate DT D::MD::CT::PP::DT::M DT <span class="hljs-number"><span class="hljs-number">6892</span></span>/s -- -<span class="hljs-number"><span class="hljs-number">42</span></span>% -<span class="hljs-number"><span class="hljs-number">88</span></span>% -<span class="hljs-number"><span class="hljs-number">97</span></span>% -<span class="hljs-number"><span class="hljs-number">99</span></span>% -<span class="hljs-number"><span class="hljs-number">100</span></span>% D::M <span class="hljs-number"><span class="hljs-number">11964</span></span>/s <span class="hljs-number"><span class="hljs-number">74</span></span>% -- -<span class="hljs-number"><span class="hljs-number">78</span></span>% -<span class="hljs-number"><span class="hljs-number">95</span></span>% -<span class="hljs-number"><span class="hljs-number">98</span></span>% -<span class="hljs-number"><span class="hljs-number">99</span></span>% D::C <span class="hljs-number"><span class="hljs-number">55448</span></span>/s <span class="hljs-number"><span class="hljs-number">704</span></span>% <span class="hljs-number"><span class="hljs-number">363</span></span>% -- -<span class="hljs-number"><span class="hljs-number">75</span></span>% -<span class="hljs-number"><span class="hljs-number">93</span></span>% -<span class="hljs-number"><span class="hljs-number">97</span></span>% T::P <span class="hljs-number"><span class="hljs-number">219763</span></span>/s <span class="hljs-number"><span class="hljs-number">3089</span></span>% <span class="hljs-number"><span class="hljs-number">1737</span></span>% <span class="hljs-number"><span class="hljs-number">296</span></span>% -- -<span class="hljs-number"><span class="hljs-number">71</span></span>% -<span class="hljs-number"><span class="hljs-number">89</span></span>% P::D <span class="hljs-number"><span class="hljs-number">767510</span></span>/s <span class="hljs-number"><span class="hljs-number">11036</span></span>% <span class="hljs-number"><span class="hljs-number">6315</span></span>% <span class="hljs-number"><span class="hljs-number">1284</span></span>% <span class="hljs-number"><span class="hljs-number">249</span></span>% -- -<span class="hljs-number"><span class="hljs-number">63</span></span>% T::M <span class="hljs-number"><span class="hljs-number">2085234</span></span>/s <span class="hljs-number"><span class="hljs-number">30155</span></span>% <span class="hljs-number"><span class="hljs-number">17329</span></span>% <span class="hljs-number"><span class="hljs-number">3661</span></span>% <span class="hljs-number"><span class="hljs-number">849</span></span>% <span class="hljs-number"><span class="hljs-number">172</span></span>% --</code> </pre><br> <code>Time::Moment</code>     ,      ‚Äî  <code>epoch</code> (,    ). <code>DateTime</code>   ,  ,       (   ,   ). <br><br><h5> <i>         </i> </h5><br>  ,    .     /      ( 00:00:00). <br><br><pre> <code class="hljs ruby"> Rate D::M DT T::PD::CP::DT::M D::M <span class="hljs-number"><span class="hljs-number">93.9</span></span>/s -- -<span class="hljs-number"><span class="hljs-number">88</span></span>% -<span class="hljs-number"><span class="hljs-number">99</span></span>% -<span class="hljs-number"><span class="hljs-number">99</span></span>% -<span class="hljs-number"><span class="hljs-number">100</span></span>% -<span class="hljs-number"><span class="hljs-number">100</span></span>% DT <span class="hljs-number"><span class="hljs-number">790</span></span>/s <span class="hljs-number"><span class="hljs-number">741</span></span>% -- -<span class="hljs-number"><span class="hljs-number">92</span></span>% -<span class="hljs-number"><span class="hljs-number">96</span></span>% -<span class="hljs-number"><span class="hljs-number">99</span></span>% -<span class="hljs-number"><span class="hljs-number">100</span></span>% T::P <span class="hljs-number"><span class="hljs-number">10060</span></span>/s <span class="hljs-number"><span class="hljs-number">10608</span></span>% <span class="hljs-number"><span class="hljs-number">1173</span></span>% -- -<span class="hljs-number"><span class="hljs-number">45</span></span>% -<span class="hljs-number"><span class="hljs-number">93</span></span>% -<span class="hljs-number"><span class="hljs-number">94</span></span>% D::C <span class="hljs-number"><span class="hljs-number">18309</span></span>/s <span class="hljs-number"><span class="hljs-number">19388</span></span>% <span class="hljs-number"><span class="hljs-number">2217</span></span>% <span class="hljs-number"><span class="hljs-number">82</span></span>% -- -<span class="hljs-number"><span class="hljs-number">87</span></span>% -<span class="hljs-number"><span class="hljs-number">90</span></span>% P::D <span class="hljs-number"><span class="hljs-number">138748</span></span>/s <span class="hljs-number"><span class="hljs-number">147586</span></span>% <span class="hljs-number"><span class="hljs-number">17458</span></span>% <span class="hljs-number"><span class="hljs-number">1279</span></span>% <span class="hljs-number"><span class="hljs-number">658</span></span>% -- -<span class="hljs-number"><span class="hljs-number">22</span></span>% T::M <span class="hljs-number"><span class="hljs-number">177777</span></span>/s <span class="hljs-number"><span class="hljs-number">189129</span></span>% <span class="hljs-number"><span class="hljs-number">22397</span></span>% <span class="hljs-number"><span class="hljs-number">1667</span></span>% <span class="hljs-number"><span class="hljs-number">871</span></span>% <span class="hljs-number"><span class="hljs-number">28</span></span>% --</code> </pre><br><h5> <i>    </i> </h5><br> ,     ‚Äî   (   ,     ). <br><img src="//habrastorage.org/files/e98/b5c/7e8/e98b5c7e8ceb4620943b56536ac675a7.png"><br><h3>  <b>findings</b> </h3><br> <b><code>Time::Moment</code></b> ‚Äî   ,        .      ,        .          . <br><br> <b><code>DateTime</code></b> ‚Äî ,     .             . <br><br> <b><code>Date::Calc</code></b> ‚Äî       .        . <br><br> <b><code>Panda::Date</code></b> ‚Äî    .    <code>Time::Moment</code>    ,    (Perl 5.18)   . <br><br> <b><code>Time::Piece</code></b> ‚Äî   core-,      ,   . <br><br> <b><code>Date::Manip</code></b> ‚Äî       .    ‚Äî     ¬´8:00pm December tenth¬ª.      , , ,    ,         . <br><br>  ,       ‚Äî  ,         .     ‚Äî <b><code>Time::Moment</code></b> .     : <br>  <b><code>Time::Moment</code></b> ,    ,      <b><code>Time::Piece</code></b> (    core-)  <b><code>DateTime</code></b> (   ). <br><br>   : <br> <a href="http://www.perl.com/pub/2003/03/13/datetime.html">www.perl.com/pub/2003/03/13/datetime.html</a> <br> <a href="http://blogs.perl.org/users/chansen/2014/08/timemoment-vs-datetime.html">blogs.perl.org/users/chansen/2014/08/timemoment-vs-datetime.html</a> <br> <a href="http://perltricks.com/article/148/2015/2/2/Time--Moment-can-save-time">perltricks.com/article/148/2015/2/2/Time--Moment-can-save-time</a> </div><p>Source: <a href="https://habr.com/ru/post/254453/">https://habr.com/ru/post/254453/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../254443/index.html">K-Meleon 75: current status, bugs, links, etc.</a></li>
<li><a href="../254445/index.html">Simulation of functional and physical events in a logical paradigm</a></li>
<li><a href="../254447/index.html">Presentation of speakers of the Desktop UI & Business Application conference. Pro backend</a></li>
<li><a href="../254449/index.html">Let's Lab. IS-IS routing protocol. Part 3</a></li>
<li><a href="../254451/index.html">Clickberry - perhaps the most powerful video platform on MS Azure is now open source</a></li>
<li><a href="../254455/index.html">Python library for Photon Server</a></li>
<li><a href="../254459/index.html">Batyana-kombat for the developer: specially trained dudes, who are like consilers in the mafia</a></li>
<li><a href="../254461/index.html">IP Geo. SQL query optimization</a></li>
<li><a href="../254463/index.html">Layout organization in rails application using rails_ui_kit gem</a></li>
<li><a href="../254465/index.html">Weather Station on Arduino</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>