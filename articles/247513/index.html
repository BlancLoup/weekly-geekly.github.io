<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>What should we do a Chinese router?</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Good day, dear Habrazhiteli! 

 A lot of time has flown by since my last publication and enough projects have already been completed. As usual, after ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>What should we do a Chinese router?</h1><div class="post__text post__text-html js-mediator-article"> Good day, dear Habrazhiteli! <br><br>  A lot of time has flown by since my last publication and enough projects have already been completed.  As usual, after the publication we received a lot of proposals for the development of various degrees of seriousness.  These are trackers-watches for children, car trackers based on the Raspberry Pi, unknown devices subject to NDA pre-signing and other gadgets.  Unfortunately, for a number of reasons, the share of projects that are starting up is very low; <br><br>  Once a non-core proposal was received for the purchase and delivery of a batch of mini-routers from China with the function of organizing a WiFi-Ethernet bridge.  Those who are interested in what came out of this please under the cat. <br><a name="habracut"></a><br>  So, there is a request for delivery of a batch of routers of 1000 pieces in size - we proceed to search. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      For orders in daily work, we use the well-known resource <a href="http://www.taobao.com/">www.taobao.com</a> if you need to purchase something ready or <a href="http://www.1688.com/">www.1688.com</a> (Chinese version <a href="http://www.alibaba.com/">www.alibaba.com</a> ) if you need to purchase samples, <a href="http://www.1688.com/">install a</a> lot from the manufacturer or order services. <br><br>  A quick overview gave 2 main bidders for the supply: Vonets VAR11N (price from 60rmb / pc from 500 pieces) and the well-known TP-LINK TL-WR802N (price from 61rmb / pc from 500 pieces).  The basic requirements correspond, the price is acceptable - we buy samples for testing.  Upon receipt, we parse, analyze for compliance with customer requirements and ship for approval. <br><br><img src="https://habrastorage.org/files/732/6b4/f65/7326b4f652f54252b6d81516e63d864e.jpg"><br><br><img src="https://habrastorage.org/files/916/7fe/eed/9167feeed1f2496f9f102980ba89bb77.jpg"><br><br>  The customer liked the samples of routers, but during the elaboration of the final design innovations were formulated.  It is required to use as a power supply + 12V, to change the dimensions of the printed circuit board, and also to realize the possibility of direct soldering into the twisted pair board in order to save space. <br><br>  The preliminary assessment that increasing the board area and adding DC-DC + 12V -&gt; + 5V is not a difficult task was soon confirmed.  One of the positions of the router manufacturer's catalog colorfully reported on the possibility of modifying routers for acceptable from 45rmb / pc for a batch of 500 pieces. <br><br><img src="https://habrastorage.org/files/776/8ce/645/7768ce645a3c404d8c1700e1ca520065.jpg"><br><br>  We formulate a technical task and request possible conditions from the manufacturer.  In the preliminary correspondence, the project was decided easily and simply, but in any case it is necessary to visit the factory.  Therefore, we equip the delegation, accompanied by an ethnic Chinese translator, and move forward, it‚Äôs good to get 20 minutes by taxi.  Here an event happened that changed the whole course of the project. <br><br>  In the process of discussing technical and financial details, the manufacturer informed us that the production service of custom routers is significantly more expensive.  "It turns out" they have old prices on the site, which "just forgot to update", so now the custom router will cost from 65rmb / pc for a batch of 500 pieces.  We did not have time to leave the factory, as the information on the site was updated. <br><br>  Yes, it happens of course - we are looking further.  Further searches in the Chinese Internet showed a lot of different devices suitable for the parameters of 36rmb / pc, but the sediment has already remained and can also update the price unexpectedly. <br><br>  So it is decided - we will design and manufacture the device ourselves.  Preliminary requests for the cost of the main components spoke about the possibility of meeting the original 45rmb / pc.  Also in open access a large number of open source projects that should be previously studied in order to ensure a quick start of development. <br><br>  A quick search gave a publication about Chinese routers on Habr√© - <a href="http://habrahabr.ru/post/238713/">‚ÄúWe are exploring Chinese routers on RT5350‚Äù</a> . <br><br>  Another small collection of Chinese modules presented on <a href="http://www.indiegogo.com/">www.indiegogo.com</a> is <a href="http://habrahabr.ru/post/224837/">‚Äú3 projects of inexpensive mini-PCs with Indiegogo‚Äù</a> . <br><br>  A short list of links, the study of which helped the author in his further work: <br>  <a href="https://www.indiegogo.com/projects/vocore-a-coin-sized-linux-computer-with-wifi">www.indiegogo.com/projects/vocore-a-coin-sized-linux-computer-with-wifi</a> <br>  <a href="https://www.indiegogo.com/projects/asiarf-tiny-linux-computer-with-wifi-and-ethernet">www.indiegogo.com/projects/asiarf-tiny-linux-computer-with-wifi-and-ethernet#home</a> <br>  <a href="http://habrahabr.ru/company/makeitlab/blog/239625/">habrahabr.ru/company/makeitlab/blog/239625</a> <br>  <a href="http://habrahabr.ru/company/makeitlab/blog/238897/">habrahabr.ru/company/makeitlab/blog/238897</a> <br><br><img src="https://habrastorage.org/getpro/habr/post_images/f64/07b/f25/f6407bf25d708c4319d5b72de4fdc094.jpg" alt="image"><br><br><img src="https://habrastorage.org/getpro/habr/post_images/123/77b/c1e/12377bc1e008c773145a41ee55040292.jpg" alt="image"><br><br><img src="https://habrastorage.org/getpro/habr/post_images/fc8/663/80c/fc866380cb93396e9edaa8e459be9a1d.jpg" alt="image"><br><br>  WiFIDuino, VoCore and AWM002 projects integrate the use of a cheap Ralink RT5350 chip with a 360 MHz MIPS processor (WIFIDuino uses a WIFI module with this chip), plus 8 MB of FLASH memory and 32 MB of RAM. <br><br>  We request prices for the processor and memory from suppliers, again using <a href="http://www.1688.com/">www.1688.com</a> .  Hereinafter, prices are given for the quantity required for the production of 500 devices or for the minimum packing rate.  A quick survey of several suppliers now gives the following prices for main components - Ralink RT5350 - 10.5 rmb / pc, SDRAM 32MB - 5.1 rmb / pc, SPI FLASH 8MB - 6rmb / pc.  Reasonable prices - taking into account the printed circuit board and installation must fit in the planned 45rmb / pc. <br><br>  Of the above projects, VoCore made a very good impression, which was pretty well lit on the habr.  Therefore, in further work used it as an example. <br><br>  We draw in the editor the schematic diagram, we put down all the nominal components. <br><br><img src="https://habrastorage.org/files/b8e/5b1/34e/b8e5b134e49d46eb8b3d63288c09811f.jpg"><br><br>  The scheme is necessary for generating the list of items and purchasing components, as well as, of course, for the further design of the printed circuit board. <br><br><img src="https://habrastorage.org/files/291/dd9/50c/291dd950c1ba42458c2699e2075180ed.jpg"><br><img src="https://habrastorage.org/files/b8d/46b/400/b8d46b400a0c4453a19db859076f7815.jpg"><br><br>  Here it is worth recalling the requirements of the customer on the use of certain dimensions.  Therefore, before performing the finishing trace, we perform an additional step of coordinating the position of the components on the printed circuit board.  For this purpose, 3-dimensional components used in the scheme were drawn, and a 3-dimensional device model was created.  Subsequent agreement revealed a couple of comments on the position of the components, which were immediately corrected.  The LED did not get into the hole of the planned case and the dimensions of the board were slightly increased. <br><br><img src="https://habrastorage.org/files/aa5/c09/0e7/aa5c090e72f042ef87404911974fee73.jpg"><br><br>  After an intermediate check, we proceed to the trace.  The board will be 4-layer with impedance control of the 5th accuracy class.  We carry out the routing of the printed circuit board taking into account the requirements of the technical specification, as well as using the previously prepared schematic diagram and 3-dimensional components.  Estimated rough tracing should not take more than one day, the subsequent approval and revision up to 5 days.  As a result of hard work, the board has acquired the following form. <br><br><img src="https://habrastorage.org/files/a8e/0a7/bd1/a8e0a7bd1d3b4c68b01f5674897080bc.jpg"><br><br>  So, the project of the board is ready - it's time to order the printed circuit boards.  First of all, you need to prepare files for production.  We need gerber files, and not just boards, but multiplied stocking.  The panel (multiplied blank) contains several copies of the printed circuit board.  It is used to optimize production - roughly speaking at all stages several boards are manufactured / assembled.  In addition, since we have a two-way SMT installation, in order to save time and money, we make a clever panel symmetrical about a 180-degree turn. <br><br>  We place an order for prototypes of printed circuit boards and a week later - we become happy owners of nice boards. <br><br><img src="https://habrastorage.org/files/10c/3b4/5cb/10c3b45cb3d54e6187c814a4e5f9281c.jpg"><br><br>  It must be said that in parallel with the production of printed circuit boards, the purchase of components was successfully completed, and the start date of assembly at the SMT factory was agreed.  We transfer the list to the installation, wait for 3 days and the devices are ready. <br><br><img src="https://habrastorage.org/files/3d5/463/d64/3d5463d644c040a6ba365028e92e6ae8.jpg"><br><br>  Normal control of X-ray soldering using BGA packages is required. <br><br><img src="https://habrastorage.org/files/a32/b21/7d0/a32b217d04854426b97776c04ab03d41.jpg"><br><br>  Ahead the most important - we start adjustment.  Unfortunately, a few simple mistakes sneaked into the project, so I had to resort to heat-resistant wire for modification.  Also changed some denominations of passive components. <br><br><img src="https://habrastorage.org/files/d56/03c/2b3/d5603c2b35f94513b7dd3adaf855d108.jpg"><br><br>  The first functional test is to use the newly created ‚ÄúChinese router‚Äù to organize a WiFi-Ethernet bridge for a laptop.  For the first check, try downloading a couple of files.  Successful - stable download speed and a confident WiFi signal level indicate the possibility of further testing and testing. <br><br><img src="https://habrastorage.org/files/6ae/696/498/6ae6964989e449f08107a3ea09e6de60.jpg"><br><br>  Total, the first stage of the project is completed: there are living prototypes suitable for functional testing together with the customer.  Ahead of a number of inspections on the basis of which it will be decided either to refine or to start mass production. <br><br>  As already noted, the estimated cost of the device is 38rmb / pc in the production of a batch of 500 pieces.  Production time 2 weeks.  The amount of 38rmb is, of course, substantially less than the 65rmb claimed by the Chinese for custom routers and less than 60rmb for ready routers, which justifies the time and effort spent on the project. <br><br>  Development took 80 man-hours, although due to the desire to limit costs, it stretched for 2 months.  Roughly it takes up to 80 more hours for testing and rework. <br><br>  For this, thanks to the readers for their time, the customer for their patience, and the Chinese for their hard work. <br><br>  PS At the time of publication, the exchange rate is USD / RMB = 6.2, RMB / RUB = 10.5.  Please do not minus the provision of figures in the Chinese currency, and count yourself in mind, as currency rates are constantly changing. <br><br>  PPS We do not plan to make iron an open project, so the concept is not laid out in very good quality.  Believe me, the scheme is typical. </div><p>Source: <a href="https://habr.com/ru/post/247513/">https://habr.com/ru/post/247513/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../247501/index.html">The first screenshots of the new Spartan web browser from Microsoft</a></li>
<li><a href="../247505/index.html">Correct polyhedra. Part 2. Foursome</a></li>
<li><a href="../247507/index.html">Command line interpreter on the microcontroller with your own hands</a></li>
<li><a href="../247509/index.html">Lightweight library for Warning messages from javac via annotation</a></li>
<li><a href="../247511/index.html">Crowdfunding campaign OpenMandriva on IndieGoGo</a></li>
<li><a href="../247515/index.html">Reports for NORD POS. Part 1</a></li>
<li><a href="../247519/index.html">Creating a plugin for PHP Composer</a></li>
<li><a href="../247521/index.html">Release Rust 1.0 Alpha</a></li>
<li><a href="../247527/index.html">Padding Oracle Attack or why cryptography scares</a></li>
<li><a href="../247533/index.html">Programming tutorial for kids</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>