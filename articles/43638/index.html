<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Problem: content window sizing</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="While working on the project I came across a problem that I couldn‚Äôt solve with the help of the project. 
 Stand out for general discussion. Even if n...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Problem: content window sizing</h1><div class="post__text post__text-html js-mediator-article">  While working on the project I came across a problem that I couldn‚Äôt solve with the help of the project. <br>  Stand out for general discussion.  Even if no one comments - lay out their guesses and the decision, if I find. <br><br><h4>  Task </h4><br><br>  The link opens a window that contains some content.  The exact dimensions of the content are not known in advance, but it is assumed in advance that they will not exceed a certain ‚Äúreasonable‚Äù limit.  Let this limit be, for example, 1000 to 800. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      After opening, the window is required to take dimensions in accordance with the content, leaving a small, predetermined indent. <br><br><a name="habracut"></a><br><br><h4>  Preliminary solution </h4><br><br>  It was first suggested <br>  1. Open a window with some abstract size.  For example, 600 to 500. <br>  2. Resize the window depending on the size of the content. <br>  3. Center content with the method previously found on the pages of the habr. <br><br>  It turned out about the following <br><br><h5>  HTML: </h5><br><br> <code>&lt;div id="rootDiv"&gt; <br> &lt;div id="popupContainer"&gt; <br> Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Sed porta. Vestibulum augue metus, lacinia non, sollicitudin nec, tempus vitae, lacus. Phasellus ligula magna, vulputate non, tempus sit amet, ullamcorper id, est. Nam tellus quam, ultrices sit amet, feugiat a, egestas non, mi. Curabitur malesuada tristique nulla. Nullam libero turpis, scelerisque id, ultrices auctor, imperdiet vel, pede. <br> &lt;/div&gt; <br> &lt;/div&gt; <br></code> <br><br><h5>  CSS </h5><br> <code>div#popupContainer <br> { <br> background-color: white; <br> position: absolute; <br> left: 50%; <br> padding: 10px; <br> } <br> div#rootDiv <br> { <br> top: 50%; <br> left: 0px; <br> width: 100%; <br> height: 1px; <br> overflow: visible; <br> visibility: visible; <br> display: block; <br> position: absolute; <br> } <br></code> <br><br><h5>  Javascript </h5><br> <code>$(document).ready(function(){ <br> window.resizeTo( <br> $("#popupContainer").width() + 120, <br> $("#popupContainer").height() + 160 <br> ); <br> $("#popupContainer").css("margin-left", "-" + ($("#popupContainer").outerWidth() / 2) + "px"); <br> $("#popupContainer").css("margin-top", "-" + ($("#popupContainer").outerHeight() / 2) + "px"); <br> }); <br></code> <br><br><h4>  Problem number 1 </h4><br>  And here, in fact, the problem begins.  In part, it is due to the somewhat crooked method of implementation ... So, when resizeTo, the window size changes, and the size of the resulting content area will depend on the presence or absence of toolbars, window titles, etc.  and will certainly be different for different browsers.  Therefore, the height is taken ‚Äúwith a margin‚Äù, but it is impossible to calculate it precisely. <br><br>  There is a little thought that you can stupidly analyze the size of these indents by <br><ol><li>  Perform resizeTo to some constant value. </li><li>  Measure content area dimensions using <u>document.body.clientWidth</u> , <u>clientHeight</u> or <u>innerWidth</u> , <u>innerHeight</u> respectively </li><li>  Calculate the difference and then otresayzit taking into account this difference </li></ol><br><br>  But this method seems to me wrong because of the double resize - it looks bad when the window in front of the user's eyes jumps and slips / spreads. <br><br><h4>  Problem number 2 </h4><br>  It was found in the opera - in other browsers it seems not so noticeable that <br><br>  It takes some time before the ‚ÄúpopupContainer‚Äù crawls to its position in the middle of the window, which also creates an unpleasant effect. <br><br><h4>  Attention question </h4><br>  How could these two problems be solved at minimal cost, and the second, if possible, using purely CSS methods? <br><br><h4>  Comments and explanations </h4><br><h5>  Update 1 </h5><br>  When you open the window given some specific dimensions.  By default, divas will stretch to the full width of this window.  But the content may turn out to be wider, as there may be any elements inside - both divs and pictures and tables. <br><br>  So, at a minimum, you need to align the height of the window.  If the content does not fit in width, then you have to adjust the width of the window. <br><br><h5>  Update 2 </h5><br>  In principle, the problem (it turns out) can be solved if it is possible to determine the actual size of the window in all browsers.  In this case, complex CSS and Javascript constructs dealing with centering will not be required. <br><br><h5>  Update 3 </h5><br>  The solution, as usual, was somewhere nearby: it suffices to use <u>resizeBy</u> instead of <u>resizeTo</u> , and we no longer need the actual size of the window.  Then, if we need indents 10 pixels from each edge, it turns out <br><br><h6>  HTML: </h6><br><br> <code>&lt;div id="popupContainer"&gt; <br> Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Sed porta. Vestibulum augue metus, lacinia non, sollicitudin nec, tempus vitae, lacus. Phasellus ligula magna, vulputate non, tempus sit amet, ullamcorper id, est. Nam tellus quam, ultrices sit amet, feugiat a, egestas non, mi. Curabitur malesuada tristique nulla. Nullam libero turpis, scelerisque id, ultrices auctor, imperdiet vel, pede. <br> &lt;/div&gt; <br></code> <br><br><h6>  CSS </h6><br> <code>div#popupContainer <br> { <br> background-color: white; <br> position: absolute; <br> left: 10px; <br> top: 10px; <br> } <br></code> <br><br><h6>  Javascript </h6><br> <code>function docWidth() { <br> return (typeof(window.innerWidth) != 'undefined') ? window.innerWidth : document.body.clientWidth; <br> } <br> <br> function docHeight() { <br> return (typeof(window.innerHeight) != 'undefined') ? window.innerHeight: document.body.clientHeight; <br> } <br> <br> $(document).ready(function(){ <br> window.resizeBy( <br> 20 - (docWidth() - $("#popupContainer").outerWidth()), <br> 20 - (docHeight() - $("#popupContainer").outerHeight()) <br> ); <br> }); <br></code> <br><br>  Well, the problem number 2 was solved as if by itself - the centering now takes place in a ‚Äúnatural‚Äù way - due to the resizing of the window. <br><br>  Thanks for the tip to <a href="http://xpoint.ru/user/7544">Ilya Streltsyn aka SelenIT</a> <br></div><p>Source: <a href="https://habr.com/ru/post/43638/">https://habr.com/ru/post/43638/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../43632/index.html">for tech who wants to deflate the mirror kde4</a></li>
<li><a href="../43634/index.html">SecondLight: dual touchscreen or Surface on steroids</a></li>
<li><a href="../43635/index.html">Web application logic and web development</a></li>
<li><a href="../43637/index.html">parallelizing task execution with stream_select ()</a></li>
<li><a href="../436374/index.html">Trends in the design of UI and UX 2019</a></li>
<li><a href="../43639/index.html">"Developer ammunition" -update.</a></li>
<li><a href="../43641/index.html">Opera 9.62</a></li>
<li><a href="../43643/index.html">We roll into battle</a></li>
<li><a href="../43645/index.html">Brain console</a></li>
<li><a href="../43646/index.html">Rubik's Cube - Hi-tech.</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>