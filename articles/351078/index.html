<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Performance and runtime at the JPoint 2018 conference</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="We all have some expectations for conferences. Usually we go to a very specific group of reports, quite specific topics. The set of topics differs fro...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Performance and runtime at the JPoint 2018 conference</h1><div class="post__text post__text-html js-mediator-article"><p>  We all have some expectations for conferences.  Usually we go to a very specific group of reports, quite specific topics.  The set of topics differs from platform to platform.  This is what javista is interested in now: </p><br><ul><li>  Performance </li><li>  Virtual machines and runtime features </li><li>  JDK 9/10 / ... </li><li>  Frameworks </li><li>  Architecture </li><li>  Enterprise </li><li>  Big data and machine learning </li><li>  Database </li><li>  JVM languages ‚Äã‚Äã(including Kotlin) </li><li>  Devops </li><li>  Different small topics </li></ul><br><p>  The conference program is designed so that for each of the topics they try to select at least one good report.  The JPoint is held for two days, there will be about forty reports, so all the main issues will be covered in one way or another. </p><br><p>  In this small post I will talk about those reports that I liked as a person who goes mainly to reports on performance and runtime. </p><br><p>  Scaling, clusters and all that will not be considered here, suffice it to say that it is (Christopher Batey from Lightbend <a href="https://jpoint.ru/talks/5qmjxxmz7gkkcuc0o864gq/">will tell about Akka</a> , Victor Gamow from Confluent <a href="https://jpoint.ru/talks/6rzzmpfikoqa8uokcu0uas/">will tell about Kafka</a> , and so on). </p><br><img src="https://habrastorage.org/webt/mm/y7/cz/mmy7cz6yk6wpsgfnobn3pkjc7ig.png"><a name="habracut"></a><br><blockquote>  Disclamer.  The article was written on the impressions of the contents of the <a href="https://jpoint.ru/">program on the official site</a> .  Everything written down is my own thoughts, not quotes from reports.  There may be (and certainly there are) incorrect assumptions and inaccuracies in the text. </blockquote><br><h1 id="proizvoditelnost">  Performance </h1><br><p>  Remember the comic article <a href="https://habrahabr.ru/company/jugru/blog/347200/">"Java with assembly inserts"</a> ?  In the comments, <a href="https://habrahabr.ru/users/apangin/" class="user_link">apangin</a> said he would give a talk about VMStructs.  It is said - done, here it is: <a href="https://jpoint.ru/talks/7lh7kkir1ye6uamik4w4cs/">"VMStructs: why does the application need to know about the internals of the JVM"</a> .  The report focuses on using VMStructs, a special API of the HotSpot virtual machine, through which you can learn about the internal structures of the JVM, including TLAB, Code Cache, Constant Pool, Method, Symbol, etc. Despite its ‚Äúhacker‚Äù nature, this API can be useful normal program.  Andrey will show examples of how VMStructs helps in the development of real tools (which they use in Odnoklassniki). </p><br><p>  The second report, <a href="https://jpoint.ru/talks/7ulbihlaqmk4iquimasikq/">"Hardware Transactional Memory in Java,"</a> is made by Nikita Koval, a research engineer in the dxLab research group from Devexperts.  If you were at JBreak earlier this month, you may notice that there he spoke about <a href="https://2018.jbreak.ru/talks/p8nmritp8gocayqok68cs/">completely different things</a> (about writing a fast multi-threaded hash table using the power of modern multi-core architecture and special algorithms).  The same report will discuss transactional memory, which gradually appears in modern processors, but which is not yet clear how to use an ordinary person.  Nikita needs to talk about how to use it, what optimizations are already in OpenJDK, and how to perform transactions directly from Java code. </p><br><p>  And finally, <a href="https://jpoint.ru/talks/1smez2ivjmiw0wskqimew0/">"Enterprise without brakes</a> . <a href="https://jpoint.ru/talks/1smez2ivjmiw0wskqimew0/">"</a>  Where are we without a bloody enterprise!  Sergey Tsypanov deals with performance issues at Luxoft, in the domain of Deutsche Bank.  The report will look at patterns that kill the performance of your applications ‚Äî light enough to be found on code review, but complex enough to be underlined in red by IDE.  All examples are based on the code of applications running in production. </p><br><h1 id="profilirovanie">  Profiling </h1><br><p>  By eye profiling caught on three reports.  The first report is by Sasha Goldstein, <a href="https://jpoint.ru/talks/1bvhc9jbruimqwks4uqaeu/">"Linux container performance tools for JVM applications"</a> .  Sasha is a serial creator of performance hardcore.  Last year at JPoint, he gave a great talk about using <a href="https://www.youtube.com/watch%3Fv%3D0qI31tdlV-k">Berkeley Packet Filter for JVM</a> (I desperately recommend watching the recording on YouTube), and it was only a matter of time before he gets to the detailed parsing of the containerization.  The world goes to the clouds and dockers, which in turn brings us many new problems.  As you can see, most low-level debugging and profiling systems, when applied to containers, are overgrown with various features and jambs.  Sasha will consider the main scenarios (CPU load, IO responsiveness, access to shared databases, etc.) through the prism of using modern tools on the GNU / Linux platform, including BCC and perf. </p><br><p>  <a href="https://jpoint.ru/talks/4kniewswg8eiqciayummmc/">"We profile up to microseconds and processor instructions"</a> - the second profiling report by Sergey Melnikov from Raiffeisenbank.  Interestingly, before taking up the low-latency code in Java, he worked at Intel as a performance engineer of compilers for C / C ++ / FORTRAN languages.  This report will also perf!  :-) There will be more about the hardware features of the processors and Intel Processor Trace technology, which allows you to take the next step in profiling accuracy and to reconstruct the execution of the program section.  There are quite a few such reports (for example, you can find <a href="https://www.youtube.com/watch%3Fv%3DR0AlpLqhwPQ">the Andi Kleen report</a> at the Tracing Summit 2015), they usually leave a <a href="https://www.youtube.com/watch%3Fv%3DR0AlpLqhwPQ">lot of</a> questions and do not shine with practicality in relation to Java.  Here we do not just have a person who has visited both worlds (both Intel and Java in the bank), you can still find him in the discussion area and ask uncomfortable questions. </p><br><p>  The third report is <a href="https://jpoint.ru/talks/2ju2jfcff2i8ycs60emoig/">"Universal Profilers and Where They Live</a> . <a href="https://jpoint.ru/talks/2ju2jfcff2i8ycs60emoig/">"</a>  It is made by Ivan Uglansky, one of the Excelsior JET developers (certified Java SE implementation based on optimizing AOT compilation), who is involved in runtime: GC, class loading, multithreading support, profiling, etc.  The essence of the report is that they recently needed to build a profile of applications running on Excelsior JET.  This should be done on all supported systems and architectures, without recompiling the application, and even with acceptable performance.  It turned out that the usual methods of profiling at the same time for all these points are not suitable, so I had to invent something of my own.  Ivan will tell you what profiling methods are suitable for AOT, what you can afford if you profile the code from within the JVM, and what you have to pay for the versatility of the profiler. </p><br><h1 id="nestandartnye-rantaymy">  Custom Runtime </h1><br><p>  Ranttime, in short, is the thing that takes your high-level code in the JVM language, turns it into a low-level one (machine code, for example) and controls the execution process.  Usually there is some kind of assembler, compiler, interpreter, virtual machine.  Runtime features define the performance features of application tasks. </p><br><p>  The first thing that looks at the program is the <a href="https://jpoint.ru/talks/2sc3v1jbv2y6eeoyiuisoc/">Alibaba</a> report <a href="https://jpoint.ru/talks/2sc3v1jbv2y6eeoyiuisoc/">about their JDK</a> .  Who hasn't dreamed of making your own JDK with blackjack and corutin?  But it is clear to everyone that this is hellish work, pain and suffering.  But in Alibaba it turned out.  Here is what they have: </p><br><ul><li>  Some mechanism that does not allow an overhead projector on a GC to select objects in hidden regions; </li><li>  Lightweight threads (cortices) built right into the JVM, they need it for asynchronous programming; </li><li>  The ability to profiling live </li><li>  Different nice little things </li></ul><br><p>  Yes, we (the general public using OpenJDK) will soon have <a href="http://cr.openjdk.java.net/~rpressler/loom/Loom-Proposal.html">Project Loom</a> .  But there is a nuance - the development of Corutin is in Loom secondary to the main goal - the Fayber.  Fayber require <em>delimited continuations</em> , but it is not necessary that they soon, or ever at all, appear in the public API.  It seems that in Alibaba, all this has already been filed by yourself. </p><br><p>  As far as I understand, this is not a report from the category ‚Äúuse our closed proprietary JDK‚Äù, but a guide for people who are going to master the development of similar features, or to deal with their absence in OpenJDK.  For example, tools for profiling depend on the areas to be profiled and workloads ‚Äî they will be different for each product.  The reporter from Alibaba will not so much talk about his tools, but about the workload classification process, which leads the development of such tools in the right direction. </p><br><p> By the way, since we started talking about the Korutins.  They appeared in Kotlin starting from version 1.1 ( <a href="https://kotlinlang.org/docs/reference/coroutines.html">in experimental status</a> ), and there will be a <a href="https://jpoint.ru/talks/1pztl3mbmqswiyiqqg2ocu/">report by Roman Elizarov</a> from JetBrains about them.  The novel will tell about the evolution of approaches to asynchronous programming, about their differences and similarities.  Plus, we will hear the official position, why what is now in Kotlin is better than the familiar <code>async/await</code> . </p><br><p>  In order not to go far, Alibaba JDK is not the only representatives of unusual ecosystems.  Of course, there is a report about Azul Zing, and as many as two about OpenJ9 ( <a href="https://jpoint.ru/talks/5vqeeeo89yk6q8qmm0y8sg/">one</a> , <a href="https://jpoint.ru/talks/brb8twjoluieiuuew8usu/">two</a> ). </p><br><p>  All reports about the insides of Azul products have for me a certain shade of sadness, because  never in my life did I have to enter the circle of the elect, who use their steep, but very expensive solutions.  Therefore, for me, <a href="https://jpoint.ru/talks/63npsyjpokmukqsag80oia/">their recent report</a> has more theoretical significance as a source of information about technologies competing with our native OpenJDK.  Now in OpenJDK the AOT theme is actively developing - OpenJDK JDK 9 already had a built-in AOT (only for 64-bit Linux), there is a <a href="https://github.com/oracle/graal/tree/master/substratevm">SubstrateVM</a> , and then it will be only better, until the implementation of the <a href="http://cr.openjdk.java.net/~jrose/metropolis/Metropolis-Proposal.html">Metropolis</a> project.  Unfortunately, not everything is so simple with AOT in Java, everything is screwed up to a part of modern infrastructure (remember <a href="https://www.youtube.com/watch%3Fv%3DhEnvRXNyDgI">Nikita Lipsky's</a> epic <a href="https://www.youtube.com/watch%3Fv%3DhEnvRXNyDgI">report about a crookedly designed OSGi</a> ?).  Azul already has some kind of ready-made AOT solution called <em>ReadyNow</em> , embedded in their Zing, trying to combine the best qualities of JIT and AOT - that's what this report will be about. </p><br><p>  As rightly noted in the comments, you need to submit a speaker.  In short, Douglas Hawkins is a leading developer in Azul, he has been involved in Java for 15 years, has participated in various fields: bioinformatics, finance, and retail.  The more he lived in Jawamira, the more he went into the guts of the JVM, and once he just went to Azul to work on Zing, and became the main developer of that very ReadyNow.  That is, this is a person who has visited both sides of the barricade: both as an applied developer, and as a system developer, and as a result he has a very unique experience. </p><br><p>  On the other hand, OpenJ9 <a href="https://www.eclipse.org/openj9/">can be downloaded right now</a> .  Since IBM opened its virtual server in the Eclipse Foundation, there has been a lot of hyip around it.  In the mass consciousness there is a certain set of ideas and facts about the fact that it can replace HotSpot, that while the libraries from OpenJDK can be easily reused, what should decrease the amount of memory consumed, and even shift something to the GPU ... and, in general, everything.  (By the way, the GPU is generally generally presented as black magic - good, at the past Joker Dmitry Alexandrov did an excellent report ‚ÄúJava and GPU: where are we now?‚Äù. There is no video yet, but you can look at the <a href="http://downloads.contentful.com/oxjq45e8ilak/4f7eARrH9CKEyc4AGcomqK/10944de9030c26780fba33e614206b39/GPU____Java____________________________.pdf">slides</a> ). </p><br><p>  The first report, <a href="https://jpoint.ru/talks/5vqeeeo89yk6q8qmm0y8sg/">"The Eclipse OpenJ9 JVM: a deep dive!"</a>  tells Tobi Ajila, an IBM-based J9 developer working on <a href="http://openjdk.java.net/projects/valhalla/">Valhalla</a> and <a href="http://openjdk.java.net/projects/panama/">Panama</a> , with a long track record like interpreter enhancements, JVMTI and lambdas.  Apparently, there will be a description of some technical features of OpenJ9, thanks to which you can disperse your cloud solutions and other performance-critical pieces.  The second report, <a href="https://jpoint.ru/talks/brb8twjoluieiuuew8usu/">"Deep dive into the Eclipse OpenJ9 GC technologies",</a> is led by the garbage collector architect in OpenJ9, also from IBM - there will be a very pragmatic story about four garbage collection policies, where they should be used, and how it all works under the hood.  I hope that after listening to these reports, the aura of magic around OpenJ9 will be slightly reduced. </p><br><h1 id="zaklyuchenie">  Conclusion </h1><br><p>  During these two days you can visit 12 reports.  Of these, 3 keyout is common to all, so you need to make a choice 9 times.  If you select reports only from this list, then you can make 7 decisions out of 9. The remaining two - to taste (do you also need to have an outlook on "universal" topics?).  Some reports intersect with each other (the hardest choice is at 13.45 of the first day - between profiling of Sasha Goldstein‚Äôs containers, Nikita Koval‚Äôs hardware transaction memory and Kotlin Roman Yelizarov's Korutins).  There is an idea that from the point of view of a person interested in performance and runtime, the program is composed well enough to be interesting from beginning to end.  See you at the conference! </p><br><p>  I remind you that less than a month is left until JPoint 2018.  Tickets can still be purchased <a href="https://jpoint.ru/tickets/">on the official website</a> . </p></div>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <p>Source: <a href="https://habr.com/ru/post/351078/">https://habr.com/ru/post/351078/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../351062/index.html">Hell of a bare iron programming</a></li>
<li><a href="../351068/index.html">Program for digitizing graphs, drawings, drawings: algorithms for the project ‚ÄúTutor: Mathematics‚Äù</a></li>
<li><a href="../351070/index.html">Unexpected earnings difficulties on the Internet</a></li>
<li><a href="../351072/index.html">Password change: 10 steps to good implementation</a></li>
<li><a href="../351074/index.html">How to quickly write and roll out in the production of machine learning algorithm</a></li>
<li><a href="../351080/index.html">Accelerate javascript build using webpack 2-3</a></li>
<li><a href="../351082/index.html">Operating systems from scratch; Level 1 (younger half)</a></li>
<li><a href="../351084/index.html">Google leanback - big brother care</a></li>
<li><a href="../351086/index.html">Calculation of the timing and cost of projects: how is this done and is it possible to simplify the process?</a></li>
<li><a href="../351090/index.html">Welcome to the CocoaHeads Special Event March 24</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>