<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Web development on node.js and express. We study node.js in practice</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Foreword 

 A bold idea came to my mind, to start writing a tutorial on developing on node.js (something like ruby.railstutorial.org ). Since this is ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Web development on node.js and express. We study node.js in practice</h1><div class="post__text post__text-html js-mediator-article"><h2>  Foreword </h2><br><br>  A bold idea came to my mind, to start writing a tutorial on developing on node.js (something like <a href="http://ruby.railstutorial.org/">ruby.railstutorial.org</a> ).  Since this is the first time I undertake such work, any feedback is very important for me.  Need it - not necessary.  What should be removed and what to dwell upon, in general, any constructive criticism.  I hope that it will go and you will like it, in this case, as I write, I will lay out chapters on Habr. <br><br><h2>  Introduction </h2>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Greetings, in front of you is a small tutorial on practical development on node.js, using the express framework.  I am very enthusiastic about node and related technologies.  Node.js primarily attracts freshness in development approaches, courage and drive. <br><br>  You can read about node.js at <a href="http://nodejs.org/">http://nodejs.org/</a> , in short, this is a server platform for javascript execution.  We will also use express, a web-framework built on the concept of <a href="http://stephensugden.com/middleware_guide/">middleware</a> (we‚Äôll talk about it in more detail later) <br><br>  In the process of learning, we will learn about various aspects of web development, such as using a version control system, automatic testing, and so on.  As a result, in the course of the study, we will develop a completely working web-application (a simple analogue of Twitter) <br><br>  I would like to note that the <a href="http://ruby.railstutorial.org/ruby-on-rails-tutorial-book">railstutorial</a> had a great influence on me, this is the best manual on web development that I have met, and I would very much like to create something similar for node.js. <br><a name="habracut"></a><br><h2>  Chapter 1. Start </h2><br><br>  In this chapter, we will deploy the working environment from scratch, install all the necessary tools, create a simple application and even run it on a cloud hosting. <br><br><h3>  1.1 Work environment </h3><br><br>  Since I mainly use linux in my work, and more specifically, Ubuntu 12.04, most of the instructions for installing these or other tools will be aimed at Linux users, but I will try to give references to instructions for other OSs as much as possible. <br><br>  In order to follow the instructions in the tutorial exactly, you will need to install a <a href="http://ru.wikipedia.org/wiki/Git">git</a> version control system, the fact is that we will not only place the code of our projects in git, but also install many of the tools from the repositories on the <a href="https://github.com/">github</a> . <br><br>  So the first thing we do is ... <br><br><h4>  1.1.1 Install git </h4><br><br>  Users of apt-based distributions can run in the terminal: <br><br><pre><code class="bash hljs">$ sudo apt-get install git-core</code> </pre> <br><br>  The rest are sent to read the instructions at <a href="http://git-scm.com/book/ch1-4.html">http://git-scm.com/book/ch1-4.html</a> <br><br><h4>  1.1.2 Installing node.js and npm </h4><br><br>  Now it's time to install the latest stable version of node.js and npm (package installer for node).  Instructions for installing different operating systems can be found <a href="https://github.com/joyent/node/wiki/Installation">here</a> .  To install on ubuntu we run: <br><br><pre> <code class="bash hljs">$ sudo apt-get install python-software-properties $ sudo add-apt-repository ppa:chris-lea/node.js $ sudo apt-get update $ sudo apt-get install nodejs npm</code> </pre><br><br>  If there is a desire - you can run the node console and play with the javascript interpreter. <br><br><h4>  1.1.3 Development Environment </h4><br><br>  Here everyone is free to choose according to his taste, personally, I am completely satisfied with gedit with the set of <a href="https://github.com/gmate/gmate/">gmate</a> plugins <a href="https://github.com/gmate/gmate/">installed</a> .  Netbeans or Webstorm are suitable. <br><br><h4>  1.1.4 Express and first application </h4><br><br>  Now it's time to get acquainted with the <a href="http://expressjs.com/">express</a> framework.  The framework is very simple, and quite acceptable documented. <br><br>  Install express globally: <br><br><pre> <code class="bash hljs">$ sudo npm install -g express</code> </pre><br><br>  Create a directory for our training projects: <br><br><pre> <code class="bash hljs">$ mkdir -p ~/projects/node-tutorial $ <span class="hljs-built_in"><span class="hljs-built_in">cd</span></span> ~/projects/node-tutorial</code> </pre><br><br>  Create a project and install dependencies: <br><br><pre> <code class="bash hljs">$ express first-app $ <span class="hljs-built_in"><span class="hljs-built_in">cd</span></span> first-app &amp;&amp; npm install</code> </pre><br><br>  Those interested can delve into the fact that we have generated an application generator, I think that people familiar with javascript can assume what is happening there. <br><br>  Now you can run the application: <br><br><pre> <code class="bash hljs">$ node app</code> </pre><br><br>  And see the result of <a href="http://localhost:3000/">http: // localhost: 3000 /</a> <br><br><h3>  1.2 Version Control System </h3><br><br>  Now that we already have a working application, let's touch on working with the version control system in more detail.  In order to get better acquainted with the work of git, you should read the book <a href="http://git-scm.com/book">Pro Git</a> , but you can get by with the instructions in this tutorial. <br><br><h4>  1.2.1 Configuring git </h4><br><br>  For more comfortable working with git, you should first enter your personal data: <br><br><pre> <code class="bash hljs">$ git config --global user.name <span class="hljs-string"><span class="hljs-string">"Your Name"</span></span> $ git config --global user.email your.email@example.com</code> </pre><br><br>  And set up aliases for the most frequently used commands: <br><br><pre> <code class="bash hljs">$ git config --global alias.co checkout $ git config --global alias.ci commit</code> </pre><br><br><h4>  1.2.2 Working with git </h4><br><br>  Git is configured and you can place our application in the repository, initialize the new repository: <br><br><pre> <code class="bash hljs">$ git init</code> </pre><br><br>  Add a directory with application dependencies in gitignore: <br><br><pre> <code class="bash hljs">$ <span class="hljs-built_in"><span class="hljs-built_in">echo</span></span> <span class="hljs-string"><span class="hljs-string">'node_modules'</span></span> &gt; .gitignore</code> </pre><br><br>  We place all the files in the index and create the first commit: <br><br><pre> <code class="bash hljs">$ git add . $ git ci -m <span class="hljs-string"><span class="hljs-string">"Initial commit"</span></span></code> </pre><br><br><h4>  1.2.3 GitHub </h4><br><br>  After placing the project code in the repository, it's time to post the project on <a href="http://github.com/">GitHub</a> .  GitHub is a social network and hosting for projects.  A huge number of opensource projects are hosted on a githaba, so if you are not registered there yet, it's time <a href="http://github.com/signup/free">to do it</a> . <br><br>  Before working with GitHub, you will need to create RSA keys for ssh access.  The procedure is described <a href="https://help.github.com/articles/generating-ssh-keys">here</a> .  For linux users, I provide instructions on how to create keys if you do not already have them. <br><br><pre> <code class="bash hljs">$ ssh-keygen -t rsa -C <span class="hljs-string"><span class="hljs-string">"your_email@youremail.com"</span></span></code> </pre><br><br>  We answer the generator's questions, and then copy the contents of the file <code>~/.ssh/id_rsa.pub</code> : <br><br><pre> <code class="bash hljs">$ sudo apt-get install xclip $ xclip -sel clip &lt; ~/.ssh/id_rsa.pub</code> </pre><br><br>  After that, go to the <a href="https://github.com/settings/profile">Account Settings</a> link, go to the SSH Keys section and click the Add SSH Key button and paste the key from the clipboard into the Key field.  Then save. <br><br>  You can verify that the key works like this: <br><br><pre> <code class="bash hljs">$ ssh -T git@github.com</code> </pre><br><br>  You might see a warning: <br><br><pre> <code class="hljs vhdl">The authenticity <span class="hljs-keyword"><span class="hljs-keyword">of</span></span> host <span class="hljs-symbol"><span class="hljs-symbol">'github</span></span>.com (<span class="hljs-number"><span class="hljs-number">207.97</span></span>.<span class="hljs-number"><span class="hljs-number">227.239</span></span>)' can<span class="hljs-symbol"><span class="hljs-symbol">'t</span></span> be established. # RSA key fingerprint <span class="hljs-keyword"><span class="hljs-keyword">is</span></span> <span class="hljs-number"><span class="hljs-number">16</span></span>:<span class="hljs-number"><span class="hljs-number">27</span></span>:ac:a5:<span class="hljs-number"><span class="hljs-number">76</span></span>:<span class="hljs-number"><span class="hljs-number">28</span></span>:<span class="hljs-number"><span class="hljs-number">2</span></span>d:<span class="hljs-number"><span class="hljs-number">36</span></span>:<span class="hljs-number"><span class="hljs-number">63</span></span>:<span class="hljs-number"><span class="hljs-number">1</span></span>b:<span class="hljs-number"><span class="hljs-number">56</span></span>:<span class="hljs-number"><span class="hljs-number">4</span></span>d:eb:df:a6:<span class="hljs-number"><span class="hljs-number">48</span></span>. # Are you sure you want <span class="hljs-keyword"><span class="hljs-keyword">to</span></span> continue connecting (yes/no)?</code> </pre><br><br>  You just need to answer 'yes' and then, if the key was successfully added, you will see the server response: <br><br><pre> <code class="hljs vhdl">Hi username! You<span class="hljs-symbol"><span class="hljs-symbol">'ve</span></span> successfully authenticated, but GitHub does <span class="hljs-keyword"><span class="hljs-keyword">not</span></span> # provide shell <span class="hljs-keyword"><span class="hljs-keyword">access</span></span>.</code> </pre><br><br>  When the keys are configured, <a href="https://github.com/new">we create a</a> new repository with the name first-app and default settings, after which we post the code on the githab: <br><br><pre> <code class="bash hljs">$ git remote add origin git@github.com:___/first-app.git $ git push -u origin master</code> </pre><br><br><h3>  1.3 Deploy the application </h3><br><br>  Now comes the most exciting stage, we will deploy the application on the hosting. <br>  To do this, we use the services of the <a href="http://www.heroku.com/">Heroku</a> cloud deployment system.  If you're wondering how Heroku hosting works, I advise you to study their <a href="http://www.heroku.com/how">How How Works</a> section. <br><br><h4>  1.3.1 Configure Heroku </h4><br><br>  First we need to <a href="https://api.heroku.com/signup">register</a> and install the necessary <a href="https://toolbelt.heroku.com/">tools</a> . <br><br>  Ubuntu users perform: <br><br><pre> <code class="bash hljs">$ wget -qO- https://toolbelt.heroku.com/install-ubuntu.sh | sh</code> </pre><br><br>  When the installation is complete, you will need to login from the command line: <br><br><pre> <code class="bash hljs">$ heroku login</code> </pre><br><br><h4>  1.3.2 Hosting the application on heroku </h4><br><br>  Now our environment is completely ready for hosting.  Placing a node.js project on Heroku requires a few more steps, you can read about it in the <a href="https://devcenter.heroku.com/articles/nodejs">documentation</a> or simply follow the instructions. <br><br>  In the package.json file of our project, you need to specify the version of the node and npm, package.json should look like this: <br><br><pre> <code class="javascript hljs">{ <span class="hljs-string"><span class="hljs-string">"name"</span></span>: <span class="hljs-string"><span class="hljs-string">"application-name"</span></span>, <span class="hljs-string"><span class="hljs-string">"version"</span></span>: <span class="hljs-string"><span class="hljs-string">"0.0.1"</span></span>, <span class="hljs-string"><span class="hljs-string">"private"</span></span>: <span class="hljs-literal"><span class="hljs-literal">true</span></span>, <span class="hljs-string"><span class="hljs-string">"scripts"</span></span>: { <span class="hljs-string"><span class="hljs-string">"start"</span></span>: <span class="hljs-string"><span class="hljs-string">"node app"</span></span> }, <span class="hljs-string"><span class="hljs-string">"dependencies"</span></span>: { <span class="hljs-string"><span class="hljs-string">"express"</span></span>: <span class="hljs-string"><span class="hljs-string">"3.0.x"</span></span>, <span class="hljs-string"><span class="hljs-string">"jade"</span></span>: <span class="hljs-string"><span class="hljs-string">"*"</span></span> }, <span class="hljs-string"><span class="hljs-string">"engines"</span></span>: { <span class="hljs-string"><span class="hljs-string">"node"</span></span>: <span class="hljs-string"><span class="hljs-string">"0.8.x"</span></span>, <span class="hljs-string"><span class="hljs-string">"npm"</span></span>: <span class="hljs-string"><span class="hljs-string">"1.1.x"</span></span> } }</code> </pre><br><br>  Now in the root of the project we create the Procfile file: <br><br><pre> <code class="bash hljs">$ <span class="hljs-built_in"><span class="hljs-built_in">echo</span></span> <span class="hljs-string"><span class="hljs-string">'web: node app.js'</span></span> &gt; Procfile</code> </pre><br><br>  We check that everything is started using the process manager: <br><br><pre> <code class="bash hljs">$ foreman start</code> </pre><br><br>  The application must be available at <a href="http://localhost:5000/">http: // localhost: 5000 /</a> <br><br>  Add files to the repository: <br><br><pre> <code class="bash hljs">$ git add . $ git ci -m <span class="hljs-string"><span class="hljs-string">"Added Procfile and engines"</span></span> $ git push</code> </pre><br><br>  Create an application on heroku: <br><br><pre> <code class="bash hljs">$ heroku create $ heroku keys:add ~/.ssh/id_rsa.pub $ git push heroku master</code> </pre><br><br>  We collect: <br><br><pre> <code class="bash hljs">$ heroku open</code> </pre><br><br>  and admire the application. </div><p>Source: <a href="https://habr.com/ru/post/146983/">https://habr.com/ru/post/146983/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../146976/index.html">PR on Habrahabr. Statistics, expectations, reality and surprises</a></li>
<li><a href="../146978/index.html">Overview of Huawei E560 Wireless 3G Router</a></li>
<li><a href="../146979/index.html">Google Nexus 7 in Ukraine promises to sell in September for $ 350</a></li>
<li><a href="../146980/index.html">How to quickly "throw" 100,500 new users in Active Directory (raised on MS Windows Server 2003) or Script to add user accounts to Active Directory</a></li>
<li><a href="../146982/index.html">% username%, and where did you start immersion in programming?</a></li>
<li><a href="../146984/index.html">Integration tests with Maven, JUnit and Spring</a></li>
<li><a href="../146986/index.html">Tutoronline.ru: online tutorial call on the Internet. How it works?</a></li>
<li><a href="../146987/index.html">About the power interchange with examples</a></li>
<li><a href="../146988/index.html">Working with Java VisualVM during load testing</a></li>
<li><a href="../146989/index.html">What paper periodicals do you read,%% username?</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>