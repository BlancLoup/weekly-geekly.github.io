<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Scaling web applications with HMVC</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="For the last ten years, we have been witnessing a second cycle of web design - websites are turning into applications and almost no new projects appea...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Scaling web applications with HMVC</h1><div class="post__text post__text-html js-mediator-article">  For the last ten years, we have been witnessing a second cycle of web design - websites are turning into applications and almost no new projects appear that do not have a certain amount of interactivity.  The increasing complexity of software developed for the Internet has necessitated a structured and balanced design of applications. <br><br>  To date, the most frequently used site design pattern is Model-View-Controller (MVC).  Its widespread use is in part due to the success and popularity of the Ruby on Rails framework.  Now MVC is almost synonymous with web development among all platforms. <br><br>  In carrying out tasks that actively load the processor, modern websites increasingly rely on the allocated resources.  This, in particular, contributed to the opening of cloud services by Amazon and Google, which allow developers to significantly reduce the load on the processors of their own servers.  Each service is usually designed as a separate piece of software that runs within its own domain and uses its own resources. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      When dealing with modest budgets, it is usually quite difficult to convince clients of the advantages of financing more than one completed piece of software.  As my experience shows, many of them hold the opinion that scalability is not an urgent task.  They are <i>"looking forward to the day when they have to worry about it</i> . <i>"</i> <br><br>  To reduce the initial investment, it is usually decided that the application should be designed as a complete program containing all the required functions.  If the site quickly gains popularity, it will become a problem.  I still have not very pleasant impressions of the refactoring of poorly scalable code bases.  In addition, it may require a large amount of resources and money.  Ideally, applications should grow as needed and not require large financial expenditures in the process. <br><a name="habracut"></a><br><br><h4>  Pattern Hierarchical-Model-View-Controller </h4><br><img src="https://habrastorage.org/storage/353a8d26/f5e04255/ad92b25f/8d6c76e3.png"><br>  The Hierarchical-Model-View-Controller (HMVC) pattern is an MVC extension that solves many of the scalability problems already mentioned.  It was first described in July 2000 in a JavaWorld blog article entitled <i><a href="http://www.javaworld.com/javaworld/jw-07-2000/jw-0721-hmvc.html">‚ÄúHMVC: A</a></i> Multi <i><a href="http://www.javaworld.com/javaworld/jw-07-2000/jw-0721-hmvc.html">-Layer Pattern for Developing Client Levels‚Äù</a></i> ;  although it <a href="http://www.javaworld.com/javaworld/jw-09-2000/jw-0908-letters.html">is believed</a> that the authors actually rethought another pattern - Representation-Abstraction-Management (PAC) - described in 1987.  The purpose of the article was to demonstrate how HMVC can be used to create scalable sites and when designing desktop applications with graphical interfaces. <br><br>  HMVC is a collection of traditional MVC triads operating as one application.  Each triad is completely independent and can be performed in the absence of any other.  All triad requests should use the controller interface; never connect models or libraries outside their domain.  The physical location of the triad on the server does not matter, as long as it is accessible from all other parts of the system.  Characteristic features of the HMVC are to encourage code reuse, simplify testing of individual parts of the system, and ensure that the application can be complicated and expanded without much difficulty. <br><br>  Successfully designing an application based on the HMVC pattern is impossible without splitting its functions into separate systems.  Each such system must be one MVC triad, independently controlling storage methods and presentation within a larger HMVC application.  Currently, there are several frameworks that support HMVC without additional modules.  One of them is <a href="http://www.kohanaphp.com/">Kohana PHP of the third version</a> , which was originally created with a HMVC orientation.  Further in all examples I will use this framework. <br><br>  Kohana 3 uses the built-in Request object to call other controllers.  Requests can be both internal - to the application controllers, and external - to web services.  In both cases, the same class Request is used.  If the MVC triad is moved to another server, only one parameter needs to be changed. <br><br><pre><code class="php hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Controller_Default</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Controller</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">action_index</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-comment"><span class="hljs-comment">//    $internal_request = Request::factory('controller/action/param') -&gt;execute(); //    $external_request = Request::factory('http://www.ibuildings.com/controller/action/param') -&gt;execute(); } }</span></span></code> </pre> <br>  An internal request requires a correct path specifying a controller and an action, and creating a request to an external resource is reduced to providing a full URL.  This feature makes internal and external requests interchangeable without any difficulties, so taking the triads out of the main server is a fairly simple task. <br><br>  Using Kohana's Request class to retrieve data from internal controllers can remind you to redirect actions in other frameworks, for example, Zend Framework.  Actually, these are two rather different methods.  Request objects in Kohana can work in isolation as unique requests, and when redirecting actions, each of them exists within the newly created request.  Below is an example to demonstrate this. <br><br>  Default controller - <i>/application/controllers/default.php</i> <br><pre> <code class="php hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> <span class="hljs-comment"><span class="hljs-comment">//     class Controller_Default extends Controller { public function action_index() { //     GET if ($this-&gt;request-&gt;method === 'GET') { //  POST,  array (0) { empty } var_dump($_POST); //       $log = Request::factory('/log/access/'.$page_id); //  POST     $log-&gt;method = 'POST'; //  -    $log-&gt;post = array( 'uid' =&gt; $this-&gt;user-&gt;id, 'ua' =&gt; Request::user_agent('browser'), 'protocol' =&gt; Request::$protocol, ); //   $log-&gt;execute(); //  POST,   array (0) { empty } var_dump($_POST); } } }</span></span></code> </pre> <br>  Log Controller - <i>/application/controllers/log.php</i> <br><pre> <code class="php hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> <span class="hljs-comment"><span class="hljs-comment">//     class Controller_Log extends Controller { public function action_access($page_id) { //     index ( ) //       // array(3){string (3) 'uid' =&gt; int (1) 1, string (2) 'ua' =&gt; string(10) 'Mozilla... var_dump($_POST); //    Log $log = new Log_Model; //     $log-&gt;set_values($_POST) -&gt;save(); } }</span></span></code> </pre> <br>  The example above shows the independence available to the Request object.  Initially, a GET request causes the index action of the Default controller, in response to which a POST request is created for the Action access of the Log controller.  The index action assigns values ‚Äã‚Äãto three variables that are not accessible to the global <code>$_POST</code> array from the first controller.  When the second request is executed, <code>$_POST</code> already contains variables that we have made available to it.  Note that after <code>$log-&gt;execute()</code> in the Index controller, the data from <code>$_POST</code> disappears.  In other frameworks, the implementation of such an interaction requires the creation of a new query using, for example, Curl. <br><br><h4>  Gazouillement, microblogging service </h4><br>  Demonstrate the power of HMVC will help a fictional short message service (statuses) called <i>Gazouillement</i> , which is essentially the equivalent of Twitter.  Suppose that it was designed based on a service-oriented architecture (SOA) so that the web interface and the components for working with messages and relationships are separated. <br><img src="https://habrastorage.org/storage/526881e2/c4a3716d/0d2db202/3f683543.png"><br>  At first, traffic will be relatively small, because the service is new and people still do not know about it.  Therefore, nothing terrible will happen if, for the time being, all the application logic will be executed on one server. <br><br>  Let's write a controller to display the user's home page.  It will contain his most recent statuses and a list of people whom the user has listed. <br><br>  Index Controller - <i>/application/controllers/index.php</i> <br><pre> <code class="php hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> <span class="hljs-comment"><span class="hljs-comment">//    http://gazouillement.com/samsoir/ class Controller_Index extends Controller { public function action_index() { //   (samsoir)   $user = new Model_User($this-&gt;request-&gt;param('user')); //    ,   404 if ( ! $user-&gt;loaded) throw new Controller_Exception_404('Unable to load user :user', array(':user' =&gt; $this-&gt;request-&gt;param('user'))); //      xhtml $messages = Request::factory('messages/find/'.$user-&gt;name.'.xhtml') -&gt;execute() -&gt;response; //      xhtml $relations = Request::factory($user-&gt;name.'/following.xhtml') -&gt;execute() -&gt;response; //        //     ,    $this-&gt;request-&gt;response = View::factory('user/home', array( 'user' =&gt; $user, 'messages' =&gt; $messages, 'relations' =&gt; $relations, )); } }</span></span></code> </pre> <br>  Now let's look at what <code>Controller_Index::action_index()</code> does.  Initially, the action tries to load the user based on the <i>user</i> parameter from the URL.  If this fails, page 404 is displayed. Then, in order to receive messages in xhtml format, a new request is created, which in the request URI uses the user name from the corresponding class property.  Similarly, in the same format, user relationships are requested.  As a result, an object of the class View is created with the user, its messages and relations attached to it. <br><br>  When loading existing messages and relationships through a new request, the entire application logic for each service remains abstracted from the website.  This architecture provides two significant advantages compared with the usual implementation of controllers: <br><ol><li>  No part of the message service operation logic concerns the controller.  The only requirement is that the result must be in xhtml format.  During the execution of the controller, no additional library or extension was loaded. </li><li>  Each controller is responsible for only one specific task, thus significantly simplifying the writing of unit tests for them. </li></ol><br>  Because of the level of abstraction that has just been demonstrated, it is impossible to see what the services are doing.  Therefore, let's pay attention to the message service controller.  Let's start with the route in the boot file, which will be responsible for the internal management of message requests.  <a href="">Kohana's Route class</a> parses internal URLs by associating the passed URI elements with controllers, actions, and parameters. <br><br>  Route Setup - <i>/application/bootstrap.php</i> <br><pre> <code class="php hljs">Route::set(<span class="hljs-string"><span class="hljs-string">'messages'</span></span>, <span class="hljs-string"><span class="hljs-string">'messages/&lt;action&gt;/&lt;user&gt;(&lt;format&gt;)'</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">array</span></span>(<span class="hljs-string"><span class="hljs-string">'format'</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">'\.\w+'</span></span>)) -&gt;defaults(<span class="hljs-keyword"><span class="hljs-keyword">array</span></span>( <span class="hljs-string"><span class="hljs-string">'format'</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">'.json'</span></span>, <span class="hljs-string"><span class="hljs-string">'controller'</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">'messages'</span></span>, ));</code> </pre> <br>  This creates a route for a messaging service that is currently located within the domain of the main application.  The request via the <i>messages / find / samsoir.xhtml address</i> will be redirected to the <i>messages</i> controller, whose <code>find()</code> action will be passed as the parameters <code>'user' =&gt; 'samsoir'</code> and <code>'format =&gt; '.json'</code> . <br><br>  Messages Controller - <i>/application/controllers/messages.php</i> <br><pre> <code class="php hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Controller_Messages</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Controller</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-comment"><span class="hljs-comment">//  ,    protected $supported_formats = array( '.xhtml', '.json', '.xml', '.rss', ); //      protected $user; //      //       public function before() { //        if ( ! in_array($this-&gt;request-&gt;param('format'), $this-&gt;supported_formats)) throw new Controller_Exception_404('File not found'); //     $this-&gt;user = new Model_User($this-&gt;request-&gt;param('user')); if ( ! $this-&gt;user-&gt;loaded()) throw new Controller_Exception_404('File not found'); return parent::before(); } //      public function find() { //         1:M $messages = $this-&gt;user-&gt;messages; //    ,   prepare    $this-&gt;request-&gt;response = $this-&gt;_prepare_response($messages); } //      protected function _prepare_response(Model_Iterator $messages) { //  ,      switch ($this-&gt;request-&gt;param('format') { case '.json' : { $this-&gt;request-&gt;headers['Content-Type'] = 'application/json'; $messages = $messages-&gt;as_array(); return json_encode($messages); } case '.xhtml' : { return View::factory('messages/xhtml', $messages); } default : { throw new Controller_Exception_404('File not found!'); } } } }</span></span></code> </pre> <br>  The process of receiving user messages in detail is shown in the Controller_Messages <code>Controller_Messages</code> .  All methods and properties are bound only to the context of messages, including user relations.  Let's look at the code of this controller to understand what is happening. <br><br>  The Request object always calls the <code>before()</code> method <code>before()</code> calling the specified action.  This allows you to perform before the main work various routine operations.  The <code>before()</code> method first checks the requested format for maintainability and then the user's name for correctness.  If <code>before()</code> completes without thrown exceptions, then the Request object will call the <code>find()</code> action.  It loads user messages as a <i>Model_Iterator</i> object.  It should be noted that the iterator will be empty if no messages are found in the user relation.  It ends with the transfer of the message iterator to the <code>_prepare_response()</code> method, which correctly formats the data for output and sets all the necessary headers. <br><br>  The <code>Controller_Index</code> and <code>Controller_Messages</code> were both executed in a single request to the application.  On the existence of each other, however, they did not know.  Each developer is able to read the current code base and understand what is being executed and where.  This is another great feature of HMVC - ease of maintenance. <br><br>  After completing work on the remaining services code, company managers expressed satisfaction with the first stage of development and allowed deployment on an open server for limited beta testing.  After a couple of weeks the application is ready for mass use.  Over the coming months, the audience will constantly grow, and the whole site architecture will be improved and optimized. <br><br><h4>  Stephen Fry Effect </h4><br>  Stephen Fry ( <a href="http://twitter.com/stephenfry">@stephenfry</a> ) is one of the most famous Twitter users with over 2 million followers.  He is able to disable sites just by publishing the URL in his microblogging, creating a <a href="http://ru.wikipedia.org/wiki/DoS-%25D0%25B0%25D1%2582%25D0%25B0%25D0%25BA%25D0%25B0">DDOS attack</a> on the server. <br><br>  <i>Gazouillement</i> has been actively recruiting users for the past few months.  The response time has therefore increased, but it is still within the limits of the permissible.  Suddenly, a certain Twitter user with a huge number of followers, like Stephen Fry, posts a message with a link to <i>Gazouillement</i> .  And here the service begins real problems. <br><br>  The first will be a large amount of traffic.  The application instead of the usual several hundred requests per second will have to process thousands.  In this scenario, <i>Gazouillement</i> will begin to experience overload and may ‚Äúput‚Äù the server.  It will become apparent that the application needs some optimization and improvement in order to cope with markedly increasing traffic. <br><br>  Code analysis to improve performance is not an easy task.  In <a href="http://techportal.ibuildings.com/2009/12/01/profiling-with-xhprof/">previous articles</a> on <i>TechPortal</i> , utilities like <a href="http://mirror.facebook.net/facebook/xhprof/">XHProf</a> , designed for deep analysis of memory and processor during code execution, were considered.  Kohana PHP has a built-in performance analysis engine called Profiler.  But it is a supplement, <i>not a replacement for</i> XHProf and similar utilities.  Profiler allows developers to find slow spots in running code, which can then be examined in detail using XHProf or another <i>Codebench</i> module embedded in the framework. <br><br>  You can enable Profiler by changing only one parameter in the bootloader. <br><br>  Loader - <i>/application/bootstrap.php</i> <br><pre> <code class="php hljs"><span class="hljs-comment"><span class="hljs-comment">//-- Environment setup -------------------------------------------------------- Kohana::$profiling = TRUE;</span></span></code> </pre> <br>  Finally, add the Profiler view to the end of the response displayed by the controller.  This is best done through the <code>after()</code> method, then the profiler will be shown for all actions. <br><br>  Index Controller - <i>/application/controllers/index.php</i> <br><pre> <code class="php hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">after</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-comment"><span class="hljs-comment">//       $this-&gt;request-&gt;response .= View::factory('profiler/stats'); }</span></span></code> </pre> <br>  After turning on the profiler, its information starts to appear at the bottom of each action from this controller.  It is best to create a class that inherits Controller, and insert the profiler view into the <code>after()</code> method of this class.  Now all system controllers display debug profiler information at design time. <br><br><img src="https://habrastorage.org/storage/8cf5989e/76b189c7/93d63d04/75623e58.png"><br><br>  The profiler reports on the framework's work, grouping together various contexts (initialization, requests, database accesses, etc.) and displaying the corresponding processor time and amount of allocated memory.  Seeing in front of you the information on each created query, it is much easier to calculate those that take too much time.  And when this happens, you can already use tools like XHProf for more detailed analysis. <br><br><h4>  Scale Gazouillement </h4><br>  <i>Gazouillement's</i> global performance <i>analysis</i> showed that great difficulties arise in receiving messages.  Although the development team refactored and optimized the corresponding MVC triad, the required performance indicators were never obtained.  After not particularly effective improvement of processors and memory on the server, company executives agree to scale the application horizontally, starting with the message system. <br><br>  With the MVC architecture, a new service usually has to go through the stages of design, development, acceptance testing and implementation.  This process can take months and require significant investment.  But in <i>Gazouillement</i> , in essence, a new piece of software will be integrated, not a new program. <br><br>  In HMVC-based applications, new services based on the existing codebase can be created in the shortest possible time intervals.  Since all interaction with the message service was carried out through the main controller, only the message requests need to be changed. <br><br>  The messaging service was moved to another server and optimized for working with the database.  This new server performs only message-related actions, thus markedly increasing the speed of all such operations. <br><br>  Index Controller - <i>/application/controllers/index.php</i> <br><pre> <code class="php hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> <span class="hljs-comment"><span class="hljs-comment">//    http://gazouillement.com/samsoir/ class Controller_Index extends Controller { protected $_messages_uri = 'http://messages.gazouillement.com'; public function action_index() { //   (samsoir)   $user = new Model_User($this-&gt;request-&gt;param('user')); //    ,   404 if ( ! $user-&gt;loaded) throw new Controller_Exception_404('Unable to load user :user', array(':user' =&gt; $this-&gt;request-&gt;param('user'))); // --    -- //  URI     $messages_uri = $this-&gt;_messages_uri.'/find/'.$user-&gt;name'.xhtml'; //       xhtml $messages = Request::factory($messages_uri) -&gt;execute() -&gt;response; // --    -- //      xhtml $relations = Request::factory($user-&gt;name.'/following.xhtml') -&gt;execute() -&gt;response; //        //     ,    $this-&gt;request-&gt;response = View::factory('user/home', array( 'user' =&gt; $user, 'messages' =&gt; $messages, 'relations' =&gt; $relations, )); } }</span></span></code> </pre> <br>  The code highlighted a tiny change in the controller <code>Controller_Index::action_index()</code> .  The request for messages now goes not to the action of the internal controller, but to the message service that runs on the sub-domain <i><a href="http://messages.gazouillement.com/">messages.gazouillement.com</a></i> .  What would normally lead to a revision of the entire architecture of the project would be a small addition to it.  And since so little code has changed, associative and acceptance testing will be much shorter. <br><br>  This is just one example of how the Hierarchical-Model-View-Controller pattern allows developers to design web applications that can be expanded from the very beginning both vertically and horizontally.  We saw how the Request object allows controllers to return valid data for each context using a simple interface.  You saw how it makes the removal of a part of the application outside the server very easy.  And the cost of scaling was relatively small due to the small number of changes, which the company leaders were very pleased about. <br><br>  More information about Kohana can be found on <a href="http://www.kohanaphp.com/">the framework site</a> , and Kohana PHP 3 files can be downloaded from Github.  There is also api documentation: <a href="http://v3.kohanaphp.com/guide">http://v3.kohanaphp.com/guide</a> . <br><br>  The query class used in this example is currently available in the Kohana kernel development branch in my personal github account - <a href="http://github.com/samsoir/core">http://github.com/samsoir/core</a> .  If the official distribution of Kohana PHP 3.0 is used, a <a href="http://github.com/samsoir/core/commit/3159a51ae46299572da960aef6b85853d2a0750e">modified class extension is</a> required <a href="http://github.com/samsoir/core/commit/3159a51ae46299572da960aef6b85853d2a0750e">for queries</a> . </div><p>Source: <a href="https://habr.com/ru/post/113117/">https://habr.com/ru/post/113117/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../113106/index.html">Time Lapse Photo Motion on Samsung NX100</a></li>
<li><a href="../113108/index.html">Dynamic programming. Classic tasks</a></li>
<li><a href="../113109/index.html">Blocking the Internet cost Egypt at least $ 90 million</a></li>
<li><a href="../113112/index.html">Pwn2Own 2011</a></li>
<li><a href="../113114/index.html">Magic layer</a></li>
<li><a href="../113118/index.html">C # problem</a></li>
<li><a href="../113119/index.html">On the issue of GPU performance</a></li>
<li><a href="../113121/index.html">Introduction to MVP GWT 2.1</a></li>
<li><a href="../113122/index.html">Idea motivation</a></li>
<li><a href="../113123/index.html">Ubuntu 11.04 Natty Narwhal Alpha 2 released</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>