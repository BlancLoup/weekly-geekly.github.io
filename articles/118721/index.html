<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>CoffeeScript in Business - Five Things You Can Do with JavaScript</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="From the translator : The article has several JavaScript nuances that may be interesting to those who are far from CoffeeScript 

 Like all programmer...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>CoffeeScript in Business - Five Things You Can Do with JavaScript</h1><div class="post__text post__text-html js-mediator-article">  <b>From the translator</b> : The article has several JavaScript nuances that may be interesting to those who are far from CoffeeScript <br><br>  Like all programmers, I am cautious about <a href="http://en.wikipedia.org/wiki/CoffeeScript">CoffeeScript</a> .  How can a little syntax sugar justify the extra step of compiling? <br><br>  But, after I played with CoffeeScript, just a few days, I realized I would never go back.  Syntactic sugar is just the beginning.  I started writing code faster, and with fewer errors, because it became much <i>cleaner</i> .  CoffeeScript helps you stick to a good style of writing code.  Below I will give a few examples on Javascript and describe their more elegant solution using CoffeeScript. <a name="habracut"></a>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h3>  1. Declaring Variables </h3><br>  Many newbies think that <b>var x</b> means: ‚ÄúI declared a variable named X‚Äù.  In fact, <b>var</b> only prevents X from roaming outside the current region.  If you write: <br><br> <code>x = 'Hello from the JavaScript Nation!';</code> <br> <br>  and you will not use <b>var</b> , then <b>X</b> will automatically become global.  Make a similar error in two parts of your application, and one global variable will overlap the other, creating an error. <br><br>  Even experienced pros often make a similar mistake, especially when variables are declared by a clutch: <b>var a = 1, b = 2</b> and assign a new value within the environment, while <b>var a = 1;</b>  <b>b = 2</b> assigns a value to global variable <b>b</b> . <br><br>  <b>From the translator</b> : For those who doubt that they can confuse "," and ";"  I will give another example: <b>var a = b = 3</b> <br><br><h4>  CoffeeScript path </h4><br>  With CoffeeScript, all variables automatically fall into the current environment.  When you write: <br><br> <code>x = 'Welcome to CoffeeScriptville!'</code> <br> <br>  You can be sure that you have not redefined any global variable.  Moreover, thanks to the CoffeeScript compiler, <b>X</b> automatic is limited to the current file. <br><br><h3>  2. Other <b>this</b> </h3><br>  One of the most common sources of confusion in javascript is the keyword <b>this</b> .  You make a simple call: <br><br><pre> <code class="hljs javascript">tinman.prototype.loadBrain = <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.brain = <span class="hljs-string"><span class="hljs-string">'loading...'</span></span>; $.get(<span class="hljs-string"><span class="hljs-string">'ajax/brain'</span></span>, <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">data</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.brain = data; }); };</code> </pre> <br>  but you get an error, because, inside the data call, <b>this</b> points to not the same object that he pointed to, outside of it. <br><br><h4>  CoffeeScript path </h4><br>  First, the this keyword has an alias @, so that there would be a visual difference from ordinary variables. <br><br>  Secondly, in order to transfer the variables @ to a related function, you must use =&gt; (bold arrow), unlike the usual symbol -&gt;, which declares a function: <br><br><pre> <code class="hljs coffeescript">tinman::loadBrain = <span class="hljs-function"><span class="hljs-function">-&gt;</span></span> @brain = <span class="hljs-string"><span class="hljs-string">'loading...'</span></span> $.get <span class="hljs-string"><span class="hljs-string">'ajax/brain'</span></span>, <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(data)</span></span></span><span class="hljs-function"> =&gt;</span></span> @brain = data</code> </pre> <br><h3>  3. Reduced conditions </h3><br>  The ternary operator holds a special place in JavaScript: Unlike other conditional structures ( <b>if</b> , <b>switch</b> ), it returns a result.  This means that the programmer has to choose between the brevity of a ternary operator: <br><br><pre> <code class="hljs vhdl">closestEdge = x &gt; <span class="hljs-literal"><span class="hljs-literal">width</span></span> / <span class="hljs-number"><span class="hljs-number">2</span></span> ? <span class="hljs-symbol"><span class="hljs-symbol">'right</span></span>' : x &lt; <span class="hljs-literal"><span class="hljs-literal">width</span></span> / <span class="hljs-number"><span class="hljs-number">2</span></span> ? <span class="hljs-symbol"><span class="hljs-symbol">'left</span></span>' : <span class="hljs-symbol"><span class="hljs-symbol">'center</span></span>';</code> </pre> <br>  or logical chain: <br><br><pre> <code class="hljs nginx"><span class="hljs-attribute"><span class="hljs-attribute">if</span></span> (x &gt; width / <span class="hljs-number"><span class="hljs-number">2</span></span>) { <span class="hljs-attribute"><span class="hljs-attribute">closestEdge</span></span> = <span class="hljs-string"><span class="hljs-string">'right'</span></span>; } <span class="hljs-attribute"><span class="hljs-attribute">else</span></span> if (x &lt; width / <span class="hljs-number"><span class="hljs-number">2</span></span>) { <span class="hljs-attribute"><span class="hljs-attribute">closestEdge</span></span> = <span class="hljs-string"><span class="hljs-string">'left'</span></span>; } <span class="hljs-section"><span class="hljs-section">else</span></span> { <span class="hljs-attribute"><span class="hljs-attribute">closestEdge</span></span> = <span class="hljs-string"><span class="hljs-string">'center'</span></span>; }</code> </pre> <br><h4>  CoffeeScript path </h4><br>  All conditions in CoffeeScript return a result.  This gives us a clear second approach, without meaningless repetition: <br><br><pre> <code class="hljs vhdl">closestEdge = <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> x &gt; <span class="hljs-literal"><span class="hljs-literal">width</span></span> / <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-symbol"><span class="hljs-symbol">'right</span></span>' <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> x &lt; <span class="hljs-literal"><span class="hljs-literal">width</span></span> / <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-symbol"><span class="hljs-symbol">'left</span></span>' <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-symbol"><span class="hljs-symbol">'center</span></span>'</code> </pre> <br><h3>  4. Asynchronous functionality </h3><br>  The popular test ‚ÄúDo you know JavaScript well?‚Äù Contains a task: <br><br><pre> <code class="hljs matlab"><span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (var <span class="hljs-built_in"><span class="hljs-built_in">i</span></span> = <span class="hljs-number"><span class="hljs-number">1</span></span>; <span class="hljs-built_in"><span class="hljs-built_in">i</span></span> &lt;= <span class="hljs-number"><span class="hljs-number">3</span></span>; <span class="hljs-built_in"><span class="hljs-built_in">i</span></span>++) { setTimeout(<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> { </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">console</span></span></span><span class="hljs-function">.</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">log</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(i)</span></span></span><span class="hljs-function">; }, 0); }</span></span></code> </pre> <br>  the result will be: <br> <code>4 <br> 4 <br> 4</code> <br>  Why?  Even if the timeout in setTimeout is 0, this function will work only after the end of the cycle.  And when the function is executed, i will be equal to 4th.  In order to capture every value of i, you have to do: <br><br><pre> <code class="hljs matlab"><span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (var <span class="hljs-built_in"><span class="hljs-built_in">i</span></span> = <span class="hljs-number"><span class="hljs-number">1</span></span>; <span class="hljs-built_in"><span class="hljs-built_in">i</span></span> &lt;= <span class="hljs-number"><span class="hljs-number">3</span></span>; <span class="hljs-built_in"><span class="hljs-built_in">i</span></span>++) { (<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(i)</span></span></span><span class="hljs-function"> { </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">setTimeout</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(function()</span></span></span><span class="hljs-function"> { </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">console</span></span></span><span class="hljs-function">.</span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">log</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(i)</span></span></span><span class="hljs-function">; }, 0); })</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(i)</span></span></span><span class="hljs-function">; }</span></span></code> </pre> <br><h4>  CoffeeScript path </h4><br>  Although, CoffeeScript does not automatically capture variables in a loop, it does provide an opportunity to make a brief capture: <br><br><pre> <code class="hljs matlab"><span class="hljs-keyword"><span class="hljs-keyword">for</span></span> <span class="hljs-built_in"><span class="hljs-built_in">i</span></span> in [<span class="hljs-number"><span class="hljs-number">1.</span></span><span class="hljs-number"><span class="hljs-number">.3</span></span>] do (<span class="hljs-built_in"><span class="hljs-built_in">i</span></span>) -&gt; setTimeout (-&gt; console.<span class="hljs-built_in"><span class="hljs-built_in">log</span></span> <span class="hljs-built_in"><span class="hljs-built_in">i</span></span>), <span class="hljs-number"><span class="hljs-number">0</span></span></code> </pre> <br>  the result will be: <br> <code>1 <br> 2 <br> 3</code> <br> <br><h3>  5. Repeat, repeat </h3><br>  The code speaks for itself: <br><br><pre> <code class="hljs lua">x = sprite.x; y = sprite.y; css = { opacity: opacity, fontFamily: fontFamily }; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(request)</span></span></span></span> { body = request.body; <span class="hljs-built_in"><span class="hljs-built_in">status</span></span> = request.<span class="hljs-built_in"><span class="hljs-built_in">status</span></span>; // ... }</code> </pre> <br><h4>  CoffeeScript path </h4><br>  Each fragment above turns into one line: <br><br><pre> <code class="hljs erlang-repl">{x, y} = sprite css = {opacity, fontFamily} ({body, status}) -&gt; ...</code> </pre><br><h3>  Conclusion </h3><br>  CoffeeScript is not only more beautiful code, it is about more flexible code.  It is about making sure you make the right code the first time, and easily change it in the future. <br><br>  If you like design patterns and fast interaction, you should give CoffeeScript a chance.  Even if, in consequence, you decide that it is not for you, in any case you will begin to better understand JavaScript. <br><br>  (Of course, if you upgrade to Rails 3.1, you <a href="http://doihavetousecoffeescriptinrails.com/">will not have a</a> choice) <br>  <b>From the translator</b> : In order not to mislead anyone, I say, this is a joke!  Of course there is a choice, just remove the line from the Gemfile. <br><br>  <b>From the translator</b> : Congratulations to all RoR developers with the release of <a href="http://weblog.rubyonrails.org/2011/5/5/rails-3-1-beta-1-released">Rails 3.1 beta 1</a> .  Everything is not exactly translated, please send in the LAN. </div><p>Source: <a href="https://habr.com/ru/post/118721/">https://habr.com/ru/post/118721/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../118713/index.html">JQuery 1.6 Innovations</a></li>
<li><a href="../118715/index.html">Do you check your HTML validator?</a></li>
<li><a href="../118716/index.html">Who is faster: memset, bzero or std :: fill</a></li>
<li><a href="../118719/index.html">The script to create shortcuts remote control</a></li>
<li><a href="../118720/index.html">Google I / O Extended in the CIS</a></li>
<li><a href="../118723/index.html">Yandex.Money users to note</a></li>
<li><a href="../118725/index.html">Don't listen to them</a></li>
<li><a href="../118727/index.html">Magic gel</a></li>
<li><a href="../118728/index.html">Positive Hack Days will hold contests for the protection and hacking of information resources!</a></li>
<li><a href="../118730/index.html">Hide contacts in the Whois service is easy!</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>