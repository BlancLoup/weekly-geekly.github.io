<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Git happens! 6 typical git errors and how to fix them</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Note trans. : The other day in the blog for engineers of our beloved GitLab project, a small but very useful note appeared with instructions that help...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Git happens! 6 typical git errors and how to fix them</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/webt/n_/nq/m6/n_nqm6jyinrnpra6in4_sfpjhgy.png"><br><br>  <i><b>Note</b></i>  <i><b>trans.</b></i>  <i>: The other day in the blog for engineers of our beloved GitLab project, a small but very useful note appeared with instructions that help save time and nerves in case of various problems that occur as you work with Git.</i>  <i>It is unlikely that they will be new for advanced users, but there are also those who will find them useful.</i>  <i>And at the end of this material we added a small bonus from ourselves.</i>  <i>Good Friday everyone!</i> <br><br>  We all make mistakes, especially when dealing with such complex systems as Git.  But remember: Git happens! <a name="habracut"></a>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      If you're just starting out with Git, learn the <a href="https://docs.gitlab.com/ee/gitlab-basics/start-using-git.html">basics of working with it</a> on the command line.  And here I‚Äôll tell you how to fix the six most common errors in Git. <br><br><h2>  1. Oops ... I made a mistake in the message to the last commit </h2><br>  After several hours of coding, it is easy to make a mistake in the commit message.  Fortunately, this is easy to fix: <br><br><pre><code class="bash hljs">git commit --amend</code> </pre> <br>  A text editor will open with this command and allow you to make changes to the message for the last commit.  And no one will know that you wrote "addded" with three "d". <br><br><h2>  2. Oops ... I forgot to add the file to the last commit. </h2><br>  Another popular bug in Git is a too hasty commit.  Did you forget to add the file, forgot to save it, or should you make a small change for the commit to become meaningful?  Your friend will again be <code>--amend</code> . <br><br>  Add the missing file and execute this valid command: <br><br><pre> <code class="bash hljs">git add missed-file.txt git commit --amend</code> </pre> <br>  Now you can either correct the message, or simply keep it in its previous form (with the file added). <br><br><h2>  3. Oops ... I added a file that should not be in this repository. </h2><br>  But what if you have the opposite situation?  What if you added a file that you don‚Äôt want to commit?  Deceptive ENV-file, assembly directory or photo with a cat that was accidentally stored in the wrong directory ... Everything is solved. <br><br>  If you have only made a <i>stage</i> for a file and have not committed it yet, everything is done through a simple <i>reset of the</i> desired file (located on the stage): <br><br><pre> <code class="bash hljs">git reset /assets/img/misty-and-pepper.jpg</code> </pre> <br>  If you did commit the change, you will need an additional preliminary step: <br><br><pre> <code class="bash hljs">git reset --soft HEAD~1 git reset /assets/img/misty-and-pepper.jpg rm /assets/img/misty-and-pepper.jpg git commit</code> </pre> <br>  The commit will be rolled back, the picture will be deleted, and then a new commit will be made. <br><br>  <i><b>Note</b></i>  <i><b>trans.</b></i>  <i>: As noted in the comments to the original article, this problem can also be solved with the help of the already mentioned <code>--amend</code> .</i>  <i>Apparently, the author wanted to show with this item what other ways to change the commit history to correct the error.</i> <br><br><h2>  4. Oops ... I commit changes to the master. </h2><br>  So, you are working on a new feature and hurried, forgetting to create a new branch for it.  You have already committed a bunch of files and all these commits are in the master.  Fortunately, GitLab <a href="https://about.gitlab.com/2014/11/26/keeping-your-code-protected">can prevent</a> push'y directly into the master.  Therefore, we can roll back all the necessary changes to the new branch with the following three commands: <br><br>  <i><b>Note</b> : Be sure to commit or <i>stash</i> 'zeros of your changes first - otherwise they will all be lost!</i> <br><br><pre> <code class="bash hljs">git branch future-brunch git reset HEAD~ --hard git checkout future-brunch</code> </pre> <br>  A new branch will be created, in the master, a rollback to the state in which it was before your changes is made, and then a <i>checkout of the</i> new branch with all your changes is made. <br><br><h2>  5. Oops ... I made a mistake in the name of the branch. </h2><br>  The most attentive could notice in the previous example an error in the name of the branch.  It is almost 15:00, and I still have not had dinner, so my hunger called the new branch ( <i>br <b>a</b> nch</i> ) as <i>future-br <b>u</b> nch</i> .  Yummy! <br><br><img src="https://habrastorage.org/webt/m0/lw/uh/m0lwuheyhfeewx0culyotitcaqg.png"><br><br>  Rename this branch in the same way, which is used when renaming a file using the <i>mv</i> command, that is, placing it in a new location with the correct name: <br><br><pre> <code class="bash hljs">git branch -m future-brunch feature-branch</code> </pre> <br>  If you have already pushed this thread, you will need a couple of extra steps.  We will remove the old branch from the <i>remote</i> and push the new one: <br><br><pre> <code class="bash hljs">git push origin --delete future-brunch git push origin feature-branch</code> </pre> <br>  <i><b>Note</b></i>  <i><b>trans.</b></i>  <i>: You can also delete a branch from a remote using:</i> <br><br><pre> <code class="bash hljs">git push origin :future-brunch</code> </pre> <br><h2>  6. Oops ... I did it again! </h2><br>  The last command in the case when everything went wrong.  When you copied and installed a bunch of solutions with Stack Overflow, after which everything in the repository became even worse than it was at the beginning.  We all once came across a similar ... <br><br>  <code>git reflog</code> shows a list of all the operations you have performed.  It then allows you to use Git‚Äôs magical time-travel capabilities, i.e.  back to any moment from the past.  I should note that this is your last hope - you should not resort to it in simple cases.  So, to get the list, run: <br><br><pre> <code class="bash hljs">git reflog</code> </pre> <br>  Every step we take is under the watchful eye of Git.  Running the command on the project above issued the following: <br><br><pre> <code class="bash hljs">3ff8691 (HEAD -&gt; feature-branch) HEAD@{0}: Branch: renamed refs/heads/future-brunch to refs/heads/feature-branch 3ff8691 (HEAD -&gt; feature-branch) HEAD@{2}: checkout: moving from master to future-brunch 2b7e508 (master) HEAD@{3}: reset: moving to HEAD~ 3ff8691 (HEAD -&gt; feature-branch) HEAD@{4}: commit: Adds the client logo 2b7e508 (master) HEAD@{5}: reset: moving to HEAD~1 37a632d HEAD@{6}: commit: Adds the client logo to the project 2b7e508 (master) HEAD@{7}: reset: moving to HEAD 2b7e508 (master) HEAD@{8}: commit (amend): Added contributing info to the site dfa27a2 HEAD@{9}: reset: moving to HEAD dfa27a2 HEAD@{10}: commit (amend): Added contributing info to the site 700d0b5 HEAD@{11}: commit: Addded contributing info to the site efba795 HEAD@{12}: commit (initial): Initial commit</code> </pre> <br>  Pay attention to the leftmost column - this is the index.  If you want to return to any point in the history, execute the following command, replacing <code>{index}</code> with the corresponding value (for example, <code>dfa27a2</code> ): <br><br><pre> <code class="bash hljs">git reset HEAD@{index}</code> </pre> <br>  So, now you have six ways to get out of the most frequent Gitfalls <i>(pun: pitfall means ‚Äútrap, error‚Äù - <b>approx. Transl.</b> )</i> . <br><br><h2>  Translator Bonus </h2><br>  First, a valuable remark to everything written above (except for paragraph 5).  It should be borne in mind that these actions change the commit history, so they should be carried out only if the changes were not sent to the <i>remote</i> (push).  Otherwise, the old bad commit will already be on the <i>remote</i> branch and you will have to either perform <code>git pull</code> (which will make a <i>merge</i> , and then trying to ‚Äúclean up‚Äù the story will lead to worse consequences), or <code>git push --force</code> , which is fraught with data loss when working with a branch of several people ... <br><br><img src="https://habrastorage.org/webt/b5/a3/jo/b5a3jomkgjnpqnzncgub0ok9xng.jpeg"><br><br>  Now - small useful additions from our experience: <br><br><ul><li>  If you (accidentally or not) have changed a branch and you need to return to the previous one, the fastest way is to use <code>git checkout -</code> . </li><li>  If you accidentally added a file to a commit that should not be added there, but have not yet made a commit, use <code>git reset HEAD path/to/file</code> .  A similar situation is described in paragraph 3, but in reality it is wider, since  refers to any unnecessary changes in the commit (not just the case of an extra file). </li><li>  A good practice not to commit too much is to use the <code>-p</code> option when adding a file to a commit ( <code>git add -p</code> ).  This allows you to review each change that will go to the commit.  But it is worth remembering that it does not add untracked files to the commit ‚Äî they need to be added without this parameter. </li><li>  A number of good recommendations (including more complex ones) can be found in the 2014 article " <a href="https://www.codementor.io/citizen428/git-tutorial-10-common-git-problems-and-how-to-fix-them-aajv0katd">Git Tutorial: 10 Common Git Problems</a> ."  In particular, note the use of <code>git revert</code> and <code>git rebase -i</code> . </li></ul><br><h2>  PS from translator </h2><br>  Read also in our blog: <br><br><ul><li>  "GitLab CI for continuous integration and delivery in production": <a href="https://habr.com/company/flant/blog/332712/">Part 1 (our pipeline)</a> ;  <a href="https://habr.com/company/flant/blog/332842/">Part 2 (overcoming difficulties)</a> ; </li><li>  ‚Äú <a href="https://habr.com/company/flant/blog/345116/">Best CI / CD practices with Kubernetes and GitLab (review and video of the report)</a> ‚Äù; </li><li>  " <a href="https://habr.com/company/flant/blog/340996/">Building projects with GitLab CI: one .gitlab-ci.yml for hundreds of applications</a> ." </li></ul></div><p>Source: <a href="https://habr.com/ru/post/419733/">https://habr.com/ru/post/419733/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../419721/index.html">Biomarkers of aging. Frailty panel. Part 1</a></li>
<li><a href="../419725/index.html">Darts, dice and coins: discrete sampling algorithms</a></li>
<li><a href="../419727/index.html">Harbor - Registry for Docker Containers with Out-of-Box Security</a></li>
<li><a href="../419729/index.html">Charity event ‚ÄúGive wings to children‚Äù</a></li>
<li><a href="../419731/index.html">Mini-review of a dental photopolymer 3D-printer MoonRay S</a></li>
<li><a href="../419735/index.html">I / Q Signal Study with SDR using Adobe Audition</a></li>
<li><a href="../419743/index.html">What's wrong with popular articles telling that foo is faster than bar?</a></li>
<li><a href="../419745/index.html">ClassicAI genre: ML is looking for himself in poetry</a></li>
<li><a href="../419747/index.html">DJI Ronin S - the first start and the main functions</a></li>
<li><a href="../419749/index.html">Functions for documenting PostgreSQL databases. Ending</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>