<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Getting photos from android-smartphone right in html form</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hello! 



 There was a task for the online store to photograph a large number of goods. The specificity of the product is such that a beautiful pictu...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Getting photos from android-smartphone right in html form</h1><div class="post__text post__text-html js-mediator-article">  Hello! <br><br><img align="right" src="https://habrastorage.org/storage2/afd/de1/13d/afdde113d782845a74931a001e64b771.jpg" alt="image"><br><br>  There was a task for the online store to photograph a large number of goods.  The specificity of the product is such that a beautiful picture is not so important as the design features of the product (on which side is the cable, are there fastening loops, etc.) 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Photographing with an ordinary camera, then uploading a photo to a computer, searching for each item in the admin panel, then searching for the corresponding photo, seemed very long.  It is much easier to open the goods in the admin panel and direct the phone to the goods.  Moreover, with well-exposed lighting, modern smartphones give quite a high-quality picture. <br><br><h4>  Theory </h4><br>  In the android market is a wonderful program <a href="http://play.google.com/store/apps/details%3Fid%3Dcom.pas.webcam">IpWebCam</a> , which allows you to turn your phone into a full-fledged webcam.  In addition, she has api for receiving photos with autofocus.  When IpWebCam is launched, a web-server rises on the phone, which allows you to receive the current frame from the phone at the address of the form 192.168.0.14:8080/shot.jpg <br><br>  The idea was as follows: <br><ol><li>  Paste in the form &lt;img&gt; with the address of the photo from the smartphone </li><li>  Create a canvas and copy the contents of &lt;img&gt; into it. </li><li>  Save data with canvas.toDataURL () </li><li>  Send data to server using ajax </li></ol><br><a name="habracut"></a><br>  Unfortunately, the toDataURL () method retains only a black square instead of an image due to cross-domain policies.  Therefore, the canvas must be created on the same domain from which the image is taken.  Going to <a href="http://ip-webcam.appspot.com/">the program's website</a> , I learned that IpWebCam allows you to create your own html-pages on your internal server.  To do this, it‚Äôs enough to upload them to the sd card and tell the program in which folder to search for them. <br><br>  The algorithm is as follows: <br><ol><li>  On the smartphone we create a special page (for example my.html) </li><li>  In the form on our website we create &lt;iframe&gt;, in which we load the html-page from the smartphone. </li><li>  On the phone in the html page we create a canvas into which we load the image from the camera. </li><li>  Save data using canvas.toDataURL () to a variable </li><li>  Passing data to the parent page using window.postMessage () </li><li>  In the parent page we get the image and send the data to the server using ajax </li><li>  On the server, save the image to a file. </li></ol><br><h4>  Decision </h4><br>  First, we put the <a href="http://play.google.com/store/apps/details%3Fid%3Dcom.pas.webcam">IpWebCam</a> program <a href="http://play.google.com/store/apps/details%3Fid%3Dcom.pas.webcam">from the market</a> on the smartphone. <br><br>  Create a <b>webcam</b> folder on your smartphone, and in it create a file <b>my.html</b> with the following contents: <br><pre><code class="html hljs xml">Content-Type: text/html <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">html</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">head</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"text/javascript"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">src</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"jquery.min.js"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="undefined"></span><span class="hljs-tag"><span class="undefined"></span><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"text/javascript"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">src</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"jquery.jplayer.min.js"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="undefined"></span><span class="hljs-tag"><span class="undefined"></span><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"text/javascript"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">src</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"common.js"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="undefined"></span><span class="hljs-tag"><span class="undefined"></span><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">style</span></span></span><span class="hljs-tag">&gt;</span></span><span class="css"><span class="css"> * { </span><span class="hljs-attribute"><span class="css"><span class="hljs-attribute">margin</span></span></span><span class="css">: </span><span class="hljs-number"><span class="css"><span class="hljs-number">0</span></span></span><span class="css">; </span><span class="hljs-attribute"><span class="css"><span class="hljs-attribute">padding</span></span></span><span class="css">: </span><span class="hljs-number"><span class="css"><span class="hljs-number">0</span></span></span><span class="css">} </span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">style</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"text/javascript"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="javascript"><span class="javascript"> $(loadJsWindowed); </span><span class="hljs-function"><span class="hljs-keyword"><span class="javascript"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span></span><span class="javascript"><span class="hljs-function"> </span></span><span class="hljs-title"><span class="javascript"><span class="hljs-function"><span class="hljs-title">shot</span></span></span></span><span class="javascript"><span class="hljs-function">(</span></span><span class="hljs-params"></span><span class="javascript"><span class="hljs-function"><span class="hljs-params"></span>) </span></span></span><span class="javascript">{ $(</span><span class="hljs-string"><span class="javascript"><span class="hljs-string">'#msg'</span></span></span><span class="javascript">).text(</span><span class="hljs-string"><span class="javascript"><span class="hljs-string">'Please wait...'</span></span></span><span class="javascript">); </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">var</span></span></span><span class="javascript"> img = </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">new</span></span></span><span class="javascript"> Image(); img.onload = </span><span class="hljs-function"><span class="hljs-keyword"><span class="javascript"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span></span><span class="javascript"><span class="hljs-function">(</span></span><span class="hljs-params"></span><span class="javascript"><span class="hljs-function"><span class="hljs-params"></span>)</span></span></span><span class="javascript">{ </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">var</span></span></span><span class="javascript"> canvas = $(</span><span class="hljs-string"><span class="javascript"><span class="hljs-string">'&lt;canvas width="'</span></span></span><span class="javascript"> + img.width + </span><span class="hljs-string"><span class="javascript"><span class="hljs-string">'" height="'</span></span></span><span class="javascript"> + img.height + </span><span class="hljs-string"><span class="javascript"><span class="hljs-string">'"&gt;'</span></span></span><span class="javascript">); canvas[</span><span class="hljs-number"><span class="javascript"><span class="hljs-number">0</span></span></span><span class="javascript">].getContext(</span><span class="hljs-string"><span class="javascript"><span class="hljs-string">'2d'</span></span></span><span class="javascript">).drawImage(img, </span><span class="hljs-number"><span class="javascript"><span class="hljs-number">0</span></span></span><span class="javascript">, </span><span class="hljs-number"><span class="javascript"><span class="hljs-number">0</span></span></span><span class="javascript">); </span><span class="hljs-keyword"><span class="javascript"><span class="hljs-keyword">var</span></span></span><span class="javascript"> data = canvas[</span><span class="hljs-number"><span class="javascript"><span class="hljs-number">0</span></span></span><span class="javascript">].toDataURL(</span><span class="hljs-string"><span class="javascript"><span class="hljs-string">'image/jpeg'</span></span></span><span class="javascript">).replace(</span><span class="hljs-regexp"><span class="javascript"><span class="hljs-regexp">/data:image\/jpeg;base64,/</span></span></span><span class="javascript">, </span><span class="hljs-string"><span class="javascript"><span class="hljs-string">''</span></span></span><span class="javascript">); canvas.remove(); </span><span class="hljs-comment"><span class="javascript"><span class="hljs-comment">//    window.parent.postMessage(data, '*'); } img.src = 'photoaf.jpg'; } </span></span></span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">head</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">body</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">id</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"msg"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">style</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"text-align: center; background-color: #000000; color: #FFFFFF; font-weight: bold; cursor: pointer;"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">onclick</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"shot();"</span></span></span><span class="hljs-tag">&gt;</span></span>Click to take a shot..<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">img</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">id</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"img1"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">src</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"/shot.jpg?1"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">style</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"cursor: pointer; position:absolute;"</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">img</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">id</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"img2"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">src</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"/shot.jpg?2"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">style</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"cursor: pointer; position:absolute;"</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">body</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">html</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br>  Please note that at the beginning of the file are HTTP headers and a blank line before the main content of the page.  The basis was taken javascript video player from the program itself. <br><br>  Now you need to specify where to look for files for the web server of the application.  To do this, open the program on your phone, press the hardware menu button and select a single item Cheats.  Now enter the <b>set (HtmlPath, / sdcard / webcam)</b> command in the opened dialog box.  Please note that no spaces are allowed after the comma. <br><br>  Now on our server we create the jquery file of the jquery.ipwebcam.js plugin: <br><pre> <code class="javascript hljs">(<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">$</span></span></span><span class="hljs-function">) </span></span>{ $.fn.ipWebCam = <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">options</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> settings = $.extend( { <span class="hljs-attr"><span class="hljs-attr">ip</span></span>: <span class="hljs-string"><span class="hljs-string">''</span></span>, <span class="hljs-attr"><span class="hljs-attr">width</span></span>: <span class="hljs-number"><span class="hljs-number">640</span></span>, <span class="hljs-attr"><span class="hljs-attr">height</span></span>: <span class="hljs-number"><span class="hljs-number">480</span></span>, <span class="hljs-attr"><span class="hljs-attr">action</span></span>: <span class="hljs-string"><span class="hljs-string">'?'</span></span>, <span class="hljs-attr"><span class="hljs-attr">callback</span></span>: <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span>{} }, options); <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">ipWebCam_listener</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">event</span></span></span><span class="hljs-function">)</span></span>{ $(<span class="hljs-string"><span class="hljs-string">'#ipWebCam_wnd'</span></span>).prev().remove(); $(<span class="hljs-string"><span class="hljs-string">'#ipWebCam_wnd'</span></span>).remove(); $.post(settings.action, {<span class="hljs-attr"><span class="hljs-attr">data</span></span>:event.data}, settings.callback); } <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (<span class="hljs-built_in"><span class="hljs-built_in">window</span></span>.addEventListener){ <span class="hljs-built_in"><span class="hljs-built_in">window</span></span>.addEventListener(<span class="hljs-string"><span class="hljs-string">'message'</span></span>, ipWebCam_listener,<span class="hljs-literal"><span class="hljs-literal">false</span></span>); } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { <span class="hljs-built_in"><span class="hljs-built_in">window</span></span>.attachEvent(<span class="hljs-string"><span class="hljs-string">'onmessage'</span></span>, ipWebCam_listener); } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.each(<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ $(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>).click(<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(settings.ip==<span class="hljs-string"><span class="hljs-string">''</span></span>) settings.ip = prompt(<span class="hljs-string"><span class="hljs-string">'IP Webcam address:'</span></span>); $(<span class="hljs-string"><span class="hljs-string">'&lt;iframe&gt;'</span></span>).css({ <span class="hljs-attr"><span class="hljs-attr">position</span></span>: <span class="hljs-string"><span class="hljs-string">'fixed'</span></span>, <span class="hljs-attr"><span class="hljs-attr">width</span></span>: settings.width + <span class="hljs-string"><span class="hljs-string">'px'</span></span>, <span class="hljs-attr"><span class="hljs-attr">marginLeft</span></span>: <span class="hljs-string"><span class="hljs-string">'-'</span></span> + (settings.width/<span class="hljs-number"><span class="hljs-number">2</span></span>) + <span class="hljs-string"><span class="hljs-string">'px'</span></span>, <span class="hljs-attr"><span class="hljs-attr">left</span></span>: <span class="hljs-string"><span class="hljs-string">'50%'</span></span>, <span class="hljs-attr"><span class="hljs-attr">height</span></span>: settings.height + <span class="hljs-string"><span class="hljs-string">'px'</span></span>, <span class="hljs-attr"><span class="hljs-attr">marginTop</span></span>: <span class="hljs-string"><span class="hljs-string">'-'</span></span> + (settings.height/<span class="hljs-number"><span class="hljs-number">2</span></span>) + <span class="hljs-string"><span class="hljs-string">'px'</span></span>, <span class="hljs-attr"><span class="hljs-attr">top</span></span>: <span class="hljs-string"><span class="hljs-string">'50%'</span></span>, <span class="hljs-attr"><span class="hljs-attr">border</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-attr"><span class="hljs-attr">overflow</span></span>: <span class="hljs-string"><span class="hljs-string">'hidden'</span></span>, <span class="hljs-attr"><span class="hljs-attr">backgroundColor</span></span>: <span class="hljs-string"><span class="hljs-string">'#777777'</span></span> }) .attr(<span class="hljs-string"><span class="hljs-string">'width'</span></span>, settings.width) .attr(<span class="hljs-string"><span class="hljs-string">'height'</span></span>, settings.height) .attr(<span class="hljs-string"><span class="hljs-string">'src'</span></span>, <span class="hljs-string"><span class="hljs-string">'http://'</span></span> + settings.ip + <span class="hljs-string"><span class="hljs-string">':8080/my.html'</span></span>) .attr(<span class="hljs-string"><span class="hljs-string">'id'</span></span>, <span class="hljs-string"><span class="hljs-string">'ipWebCam_wnd'</span></span>) .prependTo(<span class="hljs-string"><span class="hljs-string">'body'</span></span>); $(<span class="hljs-string"><span class="hljs-string">'&lt;div&gt;'</span></span>).css({ <span class="hljs-attr"><span class="hljs-attr">position</span></span>:<span class="hljs-string"><span class="hljs-string">'fixed'</span></span>, <span class="hljs-attr"><span class="hljs-attr">left</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-attr"><span class="hljs-attr">top</span></span>: <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-attr"><span class="hljs-attr">right</span></span>:<span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-attr"><span class="hljs-attr">bottom</span></span>:<span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-attr"><span class="hljs-attr">backgroundColor</span></span>: <span class="hljs-string"><span class="hljs-string">'#000000'</span></span>, <span class="hljs-attr"><span class="hljs-attr">opacity</span></span>: <span class="hljs-number"><span class="hljs-number">0.5</span></span> }).click(<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span>{ $(<span class="hljs-string"><span class="hljs-string">'#ipWebCam_wnd'</span></span>).prev().remove(); $(<span class="hljs-string"><span class="hljs-string">'#ipWebCam_wnd'</span></span>).remove(); }).prependTo(<span class="hljs-string"><span class="hljs-string">'body'</span></span>); }); }); }; })( jQuery )</code> </pre><br>  The plugin clings to the dialog call button.  For example: <br><pre> <code class="javascript hljs">$(<span class="hljs-string"><span class="hljs-string">'#camera_button'</span></span>).ipWebCam({ <span class="hljs-attr"><span class="hljs-attr">ip</span></span>: <span class="hljs-string"><span class="hljs-string">''</span></span>, <span class="hljs-comment"><span class="hljs-comment">//ip  ,   ,     prompt action: 'save_img.php', //   ,      callback: function(rep){ //        window.location.reload(); }, width: 640, //  iframe height: 480 });</span></span></code> </pre><br>  The plugin sends data to the server using the POST method in the data variable.  Save file to php: <br><pre> <code class="php hljs"><span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">isset</span></span>($_POST[<span class="hljs-string"><span class="hljs-string">'data'</span></span>])) { $name = <span class="hljs-string"><span class="hljs-string">'img/shot.jpg'</span></span>; <span class="hljs-comment"><span class="hljs-comment">//,     base64 file_put_contents($name, base64_decode($_POST['data'] )); echo 'ok'; }</span></span></code> </pre><br>  That's all, if someone comes in handy, I will be glad. <br><br>  <b>upd</b> The idea was that the administrator works in the admin for a large computer, it is more convenient (it‚Äôs not only the pictures that he does).  A smartphone is placed on a tripod and does not move.  Directly photographing (preview and pressing the shutter) takes place on a large computer, so as not to run to the phone once again.  Therefore, the photo itself will have to be transferred directly to the html form on a large computer.  This can be done only by raising the web server on a smart.  You could write the program yourself, but why if you already have a ready solution - IpWebCam. </div><p>Source: <a href="https://habr.com/ru/post/140974/">https://habr.com/ru/post/140974/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../140965/index.html">Optimization for CPU: how to find a black cat in a dark room</a></li>
<li><a href="../140966/index.html">Banim someone else's account on Free-lance.ru</a></li>
<li><a href="../140970/index.html">Alcatel-Lucent's LightRadio: The Death of Traditional Base Stations?</a></li>
<li><a href="../140971/index.html">We will help the person to compare pictures, or about Testing Localization of the application</a></li>
<li><a href="../140973/index.html">Top Favorite Media Articles - Editor's Choice in Google News</a></li>
<li><a href="../140976/index.html">Google has released the final version of the programming language Go 1</a></li>
<li><a href="../140977/index.html">Installing a lightpack on a laptop</a></li>
<li><a href="../140979/index.html">Library for registering and catching hotkeys</a></li>
<li><a href="../140980/index.html">Is there life without AdBlock: do you have a banner cutter?</a></li>
<li><a href="../140981/index.html">Dojo, JSONP and all-all-all</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>