<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>OpenCL. What is it and why is it needed? (if there is a CUDA)</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hello, dear Habra community. 

 Many have probably heard or read about the OpenCL - the new standard for developing applications for heterogeneous sys...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>OpenCL. What is it and why is it needed? (if there is a CUDA)</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/getpro/habr/post_images/16d/aad/a99/16daada99ab921ea5311c6418e459e18.png"><br><br>  Hello, dear Habra community. <br><br>  Many have probably heard or <a href="http://habrahabr.ru/blogs/CUDA/55566/">read</a> about the OpenCL - the new standard for developing applications for heterogeneous systems.  Exactly, this is not a standard for developing applications for GPU, as many believe, OpenCL was originally conceived as something more: a single standard for writing applications that must be executed in a system with different processors, accelerators and expansion cards. <br><a name="habracut"></a><br><h2>  OpenCL prerequisites </h2><br>  The main place where you can meet heterogeneous systems are high-performance computing: from modeling physical processes in the boundary layer to video coding and rendering three-dimensional scenes.  Previously, similar problems were solved using supercomputers or very powerful desktop systems.  With the advent of NVIDIA CUDA / AMD Stream technology, it has become possible to relatively simply write programs that use the computing power of the GPU. <br><blockquote>  It should be noted that similar programs were created before, but it was NVidia CUDA that ensured the growth of popularity of GPGPU by facilitating the process of creating GPGPU applications.  The first GPGPU applications as kernels (kernel in CUDA and OpenCL) used shaders, and the data was packed into textures.  So you had to be familiar with OpenGL or DirectX.  A little later, the Brook language appeared, which simplified the programmer's life a bit (AMD Stream was created on the basis of this language (it uses Brook +)). </blockquote>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      CUDA began to gain momentum, and meanwhile (or rather earlier) in the forge located deep underground, at the foot of Mount Fuji, Japanese engineers forged <s>the absolute power</s> Cell (it was born in collaboration with IBM, Sony and Toshiba).  Currently, Cell is used in all supercomputers supplied by IBM, based on it built the most productive supercomputers in the world (according to top500).  Just less than a year ago, Toshiba announced the release of the SpursEngine PC expansion card to speed up video decoding and other demanding operations using Computing Units (SPE) designed for Cell.  Wikipedia has <a href="http://ru.wikipedia.org/wiki/SpursEngine">an article</a> briefly describing SpursEngine and its differences from Cell. <br>  At about the same time (about a year ago), the S3 Graphics (in fact, VIA) also revived, presenting to the public its new graphics adapter S3 Graphics Chrome 500. According to the company itself, this adapter is also able to speed up all sorts of calculations.  Included with it comes a software product (graphics editor) that uses all the delights of such acceleration.  Description of the technology on <a href="http://www.s3graphics.com/en/technologies/tec_dateil.aspx%3FsupportId%3D34">the manufacturer's website</a> . <br><br>  So, what we have: the machine on which the calculations are performed can contain x86, x86-64, Itanium, SpursEngine (Cell) processors, NVidia GPU, AMD GPU, VIA (S3 Graphics) GPU.  For each of these types of processes there is its own SDK (well, except perhaps VIA), its own programming language and program model.  That is, if you want your rendering engine or the 787 Boeing wing load calculation program to work on a simple workstation, BlueGene supercomputer, or a computer equipped with two NVidia Tesla accelerators, you will need to rewrite a large part of the program, since each platform is its architecture has a set of strict limitations. <br>  Since programmers are lazy people, they don‚Äôt want to write the same thing for 5 different platforms with all the features and learn to use different software and models, and customers are greedy people and don‚Äôt want to pay for the program for each platform as a separate product and pay for training courses for programmers, it was decided to create a single standard for programs running in a heterogeneous environment.  This means that the program, generally speaking, must be able to run on a computer in which both NVidia and AMD, Toshiba SpursEngine GPUs are installed simultaneously. <br><br><h2>  Solution to the problem </h2><br>  For the development of an open standard, it was decided to attract people who already have experience (very successful) in developing such a standard: the Khronos Group, in whose conscience OpenGL and OpenML already have and much more.  OpenCL is a trademark of Apple Inc., as stated on the Khronos Group website: <em>‚ÄúOpenCL is a trademark of Apple Inc.</em>  <em>Conformant products can be found here:</em> <em><br></em>  <em><a href="http://developer.apple.com/softwarelicensing/agreements/opencl.html">http://developer.apple.com/softwarelicensing/agreements/opencl.html</a></em> . <em>‚Äù</em>  In development (and financing, of course), apart from Apple, IT movers and shakers participated such as AMD, IBM, Activision Blizzard, Intel, NVidia, etc.  (full list <a href="http://www.khronos.org/opencl/">here</a> ). <br>  NVidia did not particularly advertise its participation in the project, and rapidly increased the functionality and performance of CUDA.  In the meantime, several leading NVidia engineers participated in the creation of OpenCL.  Probably, the participation of NVidia to a large extent determined the syntactic and ideological similarity of OpenCL and CUDA.  However, programmers only benefited from this - it will be easier to switch from CUDA to OpenCL if necessary. <br><br>  The first version of the standard was published at the end of 2008 and since then it has already undergone several revisions. <br><br>  Almost immediately after the standard was published, NVidia stated that OpenCL support would have no difficulty for it and will soon be implemented within the GPU Computing SDK over the CUDA Driver API.  Nothing like that from the main competitor NVidia - AMD was not heard. <br>  The driver for OpenCL was released by NVidia and was tested for compatibility with the standard, but is still available only to a limited number of people - registered developers (anyone can submit an application for registration, in my case the review took 2 weeks, after which an invitation came by mail) .  Restrictions on access to the SDK and drivers make us think that there are currently some problems or errors that cannot be fixed yet, that is, the product is still in beta testing. <br>  Implementing OpenCL for NVidia was a fairly easy task, since the basic ideas are similar: both CUDA and OpenCL are some extensions of the C language, with a similar syntax, using the same programming model as the main one: Data Parallel (SIMD), also OpenCL supports Task Parallel programming model - a model when different kernels can be running at the same time (the work-group contains one element).  On the similarity of the two technologies, even NVidia has released a <a href="http://developer.download.nvidia.com/OpenCL/NVIDIA_OpenCL_JumpStart_Guide.pdf">special document</a> on how to write for CUDA so that later it is easy to switch to OpenCL. <br><br><h2>  How are things at the moment </h2><br>  The main problem with the implementation of OpenCL from NVidia is poor performance compared to CUDA, but with each new driver release, OpenCL performance under CUDA is getting closer to the performance of CUDA applications.  According to the developers, the performance of the CUDA applications themselves has gone the same way - from relatively low on the early versions of the drivers to the impressive ones now. <br><br>  And what did AMD do at this moment?  After all, AMD (as a proponent of open standards - closed PhysX vs. open Havoc; expensive Intel Thread Profiler vs. free AMD CodeAnalyst) made big bets on the new technology, given that AMD Stream could not even compete in popularity with NVidia CUDA - due to the lag Stream from CUDA in technical terms. <br>  In the summer of 2009, AMD made a statement about support and compliance with the OpenCL standard in the new version of the Stream SDK.  In fact, it turned out that support was implemented only for the CPU.  Yes, exactly, it doesn‚Äôt contradict anything - OpenCL is a standard for heterogeneous systems and nothing prevents you from running the kernel on the CPU, moreover - this is very convenient if there is no other OpenCL device in the system.  In this case, the program will continue to work, only more slowly.  Or you can use all the computing power that is in the computer - both the GPU and the CPU, although in practice this does not make much sense, since the execution time of kernels that are executed on the CPU will be much longer than those that are executed on the GPU - speed processor will become a bottleneck.  But for debugging applications it is more than convenient. <br>  OpenCL support for AMD graphics adapters was also not long in coming - according to the latest reports from the company, the version for graphics chips is now at the stage of confirming compliance with the specifications of the standard.  After that, it will be available to everyone. <br>  Since OpenCL should work on top of some iron-specific shell, which means that this standard can truly become the same for various heterogeneous systems - it is necessary that the corresponding shells (drivers) are released for both IBM Cell and Intel Larrabie.  So far nothing has been heard from these IT giants, so OpenCL remains another development tool for the GPU along with CUDA, Stream and DirectX Compute. <br><br>  Apple also announces support for OpenCL, which, however, is provided by NVidia CUDA. <br>  Also currently, third-party developers are offered: <ul><li>  <a href="http://www.opentk.com/">OpenTK</a> is a wrapper library over OpenGL, OpenAL and OpenCL for .Net. </li><li>  <a href="http://mathema.tician.de/software/pyopencl">PyOpenCL</a> - wrapper over OpenCL for Pyton. </li><li>  <a href="http://code.google.com/p/nativelibs4java/wiki/OpenCL">Java</a> wrapper for OpenCL. </li></ul><br><br><h2>  Conclusion </h2><br>  The OpenCL technology is of interest for various IT companies - from game developers to chip manufacturers, which means that it has great chances to become the de facto standard for developing high performance computing, having taken this title from the leading CUDA sector. <br><br>  In the future, I plan a more detailed article about OpenCL itself, describing what this technology is, its features, advantages and disadvantages. <br>  Thanks for attention. <br><br><h2>  Interesting links: </h2><br>  <a href="http://www.khronos.org/opencl/">www.khronos.org/opencl</a> - the OpenCL page on the Khronos Group site <br>  <a href="http://www.nvidia.com/object/cuda_opencl.html">www.nvidia.com/object/cuda_opencl.html</a> - NVidia OpenCL (at the bottom of the page links to various documents: OpenCL Programming Guides, etc.) <br>  <a href="http://forums.amd.com/devforum/categories.cfm%3Fcatid%3D390%26entercat%3Dy">forums.amd.com/devforum/categories.cfm?catid=390&amp;entercat=y</a> - AMD OpenCL Forum <br>  <a href="http://habrahabr.ru/blogs/CUDA/55566/">habrahabr.ru/blogs/CUDA/55566</a> - a small review of OpenCL on habr <br>  <a href="http://developer.amd.com/GPU/ATISTREAMSDKBETAPROGRAM/Pages/default.aspx">developer.amd.com/GPU/ATISTREAMSDKBETAPROGRAM/Pages/default.aspx</a> - AMD Stream SDK v2.0 beta page <br>  <a href="http://ati.amd.com/technology/streamcomputing/gpgpu_history.html">ati.amd.com/technology/streamcomputing/gpgpu_history.html</a> - the history of the development of GPGPU according to AMD <br><br></div><p>Source: <a href="https://habr.com/ru/post/72247/">https://habr.com/ru/post/72247/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../72238/index.html">Lifetime e-mail on linux.com</a></li>
<li><a href="../72239/index.html">Social Engineering and Fun Theory</a></li>
<li><a href="../72240/index.html">Ruby meeting in Petersburg: noSQL</a></li>
<li><a href="../72241/index.html">Dynamic CSS?</a></li>
<li><a href="../72244/index.html">"Greedy" should be equal to "poor"</a></li>
<li><a href="../72249/index.html">New hardware API for Firefox 3.6: orientation</a></li>
<li><a href="../72250/index.html">The third generation of "Truckers" lit up on video</a></li>
<li><a href="../72251/index.html">JVM on OpenCL</a></li>
<li><a href="../72252/index.html">OperaTor - Anonymity number 10</a></li>
<li><a href="../72255/index.html">Notebook for music lovers from HP and Dr. Dre</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>