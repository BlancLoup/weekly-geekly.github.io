<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Feeder for aquarium fish based on Arduino</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="I wanted to share my development of aquarium fish feeders. 

 Summer is a holiday season. I was afraid that three weeks at sea would lead to starvatio...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Feeder for aquarium fish based on Arduino</h1><div class="post__text post__text-html js-mediator-article">  I wanted to share my development of aquarium fish feeders. <br><br>  Summer is a holiday season.  I was afraid that three weeks at sea would lead to starvation of the inhabitants of the aquarium, and since the mother-in-law came with me, there was no one to entrust the matter of feeding the fish. <br><br>  After thinking a little over the problem, I decided with the help of the Arduino UNO, which was at hand, to make an automatic feeder.  The benefit of a little automation experience has already been.  And since Ethernet Shield was purchased for future use, a thought of a terrible distortion arose: feeding management through a computer network.  The fact is that at home I have a constantly turned on computer acting as a home server.  It is connected to a bespereboynik and therefore there are high chances that even with short-term switching of the mains supply, the computer will meet us with a buzzing of its fans, and in one case it will descend to control this very feeder. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      The fact is that in the examples from the Arduino IDE development environment for the Ethernet Shield, a web server was found, some alteration of which allowed to display the status of all analog contacts in JSON format. <br><a name="habracut"></a><br>  Small experiments with the query string in this web server allowed us to recognize URLs like: <br><ul><li>  <a href="http://192.168.1.17/eat">192.168.1.17/eat</a> </li><li>  <a href="http://192.168.1.17/on">192.168.1.17/on</a> </li><li>  <a href="http://192.168.1.17/off">192.168.1.17/off</a> </li></ul><br>  The last two I adapted to turn on and off the light in the aquarium, and the first - for direct feeding. <br><br>  On-off light is done through a relay module.  This very relyuhi I directly built into a pre-purchased outlet.  From all this, subsequently made a small controlled extension cord. <br><br><img src="https://habrastorage.org/files/e9f/e7f/cfc/e9fe7fcfce824c41b1fd068498bcf8f9.jpg" alt="image"><br><br>  The hardest part was to make the feeding installation itself.  It became obvious that during the holidays the fish goes on a diet from which the frozen bloodworm is excluded, and only granules are eaten. <br><br>  Rummaged runet in search of an acceptable design for hand-made production.  The most acceptable considered rotating drum with food inside.  In this case, the drum has a slot through which the granules fall out passing the bottom point.  The most important thing is that this drum itself does not accidentally stop in the ‚Äúslot down‚Äù position, then the fish can have a ‚Äúbelly feast‚Äù, and after a while the feeling that they live in a sartire instead of an aquarium.  In short, there were problems: <br><ol><li>  what to make the drum </li><li>  how to rotate it </li><li>  how to make him stop on time, making only one turn </li></ol><br>  Having rummaged in the broken-down toys, I found a decent, as it seemed to me, gearbox with a motor.  Around which he began to collect the mechanical part of the feeder.  The usual plastic jar of oatmeal kissel, which the spouse indulged in for some time, became the drum.  But when I assembled the design and tried it from a standard five-volt power supply, I realized that the gearbox has a very small reduction, and the behavior of the entire system is somewhat similar to a centrifuge.  Redoing under the other gearbox was lazy and I decided to go a different way - lowering the voltage.  But the three-volt power too quickly rotated the drum.  Specially bought even a half-volt power supply.  I was delighted, but my joy was not long, because  when checking the work in the ‚Äúsemi-fighting‚Äù mode, i.e.  when the feeder was turned on and off via a relay, it suddenly became clear that after 20-40 cycles - the Chinese power supply unit died safely.  I had to urgently buy Motor Shield and use its wide possibilities to control the speed of rotation of the drum. <br><br><img src="https://habrastorage.org/files/a73/179/0ae/a731790aee4f47be8e7d65a3ef83a5c0.jpg" alt="image"><br><br>  In this two of the three problems are gone, and I began to seriously think about solving the exact stop problem.  A mechanical switch that would signal the passage of turnover seemed to me not a very good solution.  Confused additional mechanical load on the gearbox, which occurs only in one position of the drum.  Therefore, I decided to use the system: LED + black mark on the drum + photoresistor.  I took a photoresistor, collected a voltage divider with it, and with the help of one of the analog inputs of the Arduino UNO I began to measure the voltage to determine the presence or absence of a label.  A small piece of electrical tape made the mark itself, and the backlight was organized by means of a LED powered through a resistor (to limit the current).  Then there was a boring generation of statistics, at different degrees of illumination of the drum (the light in the room).  Determined what values ‚Äã‚Äãare removed from the analog input, and set the threshold values ‚Äã‚Äãfor the options "there is a label" - "no label."  So the last problem was solved. <br><br><img src="https://habrastorage.org/files/bdd/f9a/d32/bddf9ad3247a4e228352ff56908190f4.jpg" alt="image"><br><br>  Then I tried the feeder together with the pellets and the slit, but in order not to feed the fish in advance, I carried out all the tests on a sheet of paper, where I not only determined the size of the slit (sticking it with scotch tape fragments), but also found out that some of the granules were waking past the distance between them two laths  I had to peel the plastic packaging for some cable and make something resembling brushes in an electric motor, so that when raising the gap the feed would ‚Äúshut up‚Äù with transparent plates rubbing against the drum. <br><br>  As you already understood, the purpose of this device is not at all a full fish life, but some self-test.  And I decided to go further.  In terms of software development.  In the gland, I was only the performer of three teams, but on the home server - I decided to keep some statistics.  Since I am a web programmer, I took the habit of the MySQL database and started two tablets in it.  In one put - URLs and dates of requests to the device, in another wrote answers, as a result I received statistics on whether the fish were successfully fed and how much the lights in the aquarium turned on and off.  (The fact is that the device only responds after executing the command. And it does not, if something went wrong.) Recalling some of its skills in Java, I took the URL class and made all these three http requests to arduinka using it.  JSON-answer parsil, library downloaded from json.org.  The vacation approached swiftly because there was not enough time for the remaining perversions, and I decided to launch the java-software myself with the help of the good old cron. <br><br>  Here in this form, and found us and the fish departure to the sea.  Three weeks later, we returned tanned and saw all of our fishes swimming merrily through an aquarium. <br><br><img src="https://habrastorage.org/files/148/ce0/c55/148ce0c557594971ab7732fce9d0d5d6.jpg" alt="image"></div><p>Source: <a href="https://habr.com/ru/post/367799/">https://habr.com/ru/post/367799/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../367785/index.html">The audio indicator and the option to mute the sound appear on the tabs in Firefox.</a></li>
<li><a href="../367787/index.html">Fitness bracelets of the new generation will analyze the sweat</a></li>
<li><a href="../367791/index.html">The director of the next "Star Wars" wants to make a film on film and in space</a></li>
<li><a href="../367793/index.html">Samsung has built-in wireless charging for smartphones in the monitor</a></li>
<li><a href="../367795/index.html">Pluto has water ice. Lots of ice</a></li>
<li><a href="../367801/index.html">HTTP request via telnet</a></li>
<li><a href="../367803/index.html">Video: Stanford proved that Spider-Man‚Äôs ability to climb walls is real</a></li>
<li><a href="../367807/index.html">Wrist Pip-Boy for Fallout 4 may not be enough for everyone</a></li>
<li><a href="../367811/index.html">Published rules for registration of drones in Russia: state registration in Moscow, registration in the FSB, certificate</a></li>
<li><a href="../367813/index.html">Will the robot do your job?</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>