<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>LiveReload on Node.js</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="What it is? 
 LiveReload is a utility that allows you to automatically reload the page in the browser when changing its code and resources (html, css,...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>LiveReload on Node.js</h1><div class="post__text post__text-html js-mediator-article"><h4>  What it is? </h4><br>  <a href="http://livereload.com/">LiveReload</a> is a utility that allows you to automatically reload the page in the browser when changing its code and resources (html, css, js, images, etc) on the server.  In addition, LiveReload allows you to apply changes in CSS and JavaScript without reloading the page. <br><a name="habracut"></a><br><br><h4>  Why do you need it? </h4><br>  For the convenience of developing the client side of the application and no more.  As written on the official utility page: <br><blockquote>  The Web Developer Wonderland (a happy land where browsers don't need a Refresh button) </blockquote><br><br><h4>  How it works? </h4><br>  The principle is very simple, the utility consists of a server and a client: <br><ol><li>  Server: WebSocket which monitors changes in the specified files and if such changes are detected - notify the client </li><li>  Client, there are several options: <br><ul><li>  Add-on for the browser that updates the page. </li><li>  JavaScript snippet that listens to the WebSocket server and, if necessary, refreshes the page.  It must be inserted into your HTML files. </li></ul><br></li></ol>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h4>  Node.js, huh? </h4><br>  If you are already using Node.js or Grunt.js, or you want one LiveReload method to work on all platforms without changes (LiveReload can be configured on Windows and Linux and MacOS X, but the configuration method is different everywhere) then you can use grunt-reload. <br>  So, here is what you need: <br><ol><li>  Node.js.  On Ubunt, for example, we put it this way: <br><pre><code class="bash hljs">sudo apt-get install nodejs npm</code> </pre> <br></li><li>  Grunt.js <br><pre> <code class="bash hljs"> sudo npm install -g grunt</code> </pre> <br></li><li>  Grunt plugin grunt-reload <br><pre> <code class="bash hljs"> npm install grunt-reload --save-dev</code> </pre> <br></li></ol><br><br>  The grunt-reload plugin, besides the two already mentioned livereload methods, has a couple more options: <br><ol><li>  Proxy: creates a server that will proxy requests to dev.  server adding to HTML files livereload snippet.  Eliminates the need to manually update html'ki to support livereload. </li><li>  iFrame: is identical to the previous method, but instead of automatically adding a snippet, opens pages in iFrame, which reloads them if necessary.  And your html'ki remain clean !;) </li></ol><br><blockquote>  Unfortunately, grunt-reload does not support the use of CSS and JS without reloading the entire page.  It supports it more precisely, but only with the use of the LiveReload browser extension. </blockquote><br><br><h4>  How to use </h4><br>  We create the project, we create grunt.js in the root and in it we set up the watch task (it will monitor changes in the files) and the reload task (if we change the files, we do a livereload). <br><br>  For example, we have the following <a href="http://expressjs.com/">express.js</a> project: <br>  / public - static (CSS, images, JS, templates, etc) <br>  app.js - express.js application <br>  grunt.js - Gruntfile <br><br>  grunt.js looks like this: <br><br><pre> <code class="javascript hljs"><span class="hljs-built_in"><span class="hljs-built_in">module</span></span>.exports = <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">grunt</span></span></span><span class="hljs-function">) </span></span>{ grunt.loadNpmTasks(<span class="hljs-string"><span class="hljs-string">'grunt-bg-shell'</span></span>); <span class="hljs-comment"><span class="hljs-comment">//  grunt-reload grunt.loadNpmTasks('grunt-reload'); // Project configuration. grunt.initConfig({ bgShell: { //    supervisor'a //     //   supervisor: { cmd: 'supervisor app.js', stdout: true, stderr: true, bg: true } }, // reload //    localhost:3000 //  localhost:6001        LiveReload reload: { port: 6001, proxy: { host: 'localhost', port: 3000 }, }, watch: { //        'reload' files: [ //add here static file which need to be livereloaded 'public/styles/**/*.css', 'public/scripts/**/*.js', 'public/images/**/*', ], tasks: 'reload' } }); //  //reload       grunt.registerTask('server', 'bgShell:supervisor reload watch'); };</span></span></code> </pre><br><br>  Now from the root directory of the application, you can run the command <br><pre> <code class="bash hljs">grunt server</code> </pre> <br>  And get automatically restarted server and LiveReload on the client at <a href="http://localhost/">localhost</a> : 6001 <br><br><blockquote>  This Gruntfile also uses the supervisor package (to monitor the server), and the grunt-bg-shell package to run the supervisor in the background. <br><pre> <code class="bash hljs"> sudo npm install -g supervisor npm install grunt-bg-shell --save-dev</code> </pre><br></blockquote></div><p>Source: <a href="https://habr.com/ru/post/168091/">https://habr.com/ru/post/168091/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../168077/index.html">Hor + vert + FOV, or adaptive field of view</a></li>
<li><a href="../168079/index.html">The story of a single SQL injection</a></li>
<li><a href="../168085/index.html">Development of GPS tracker from scratch and 512 months warranty</a></li>
<li><a href="../168087/index.html">Supercomputer for 1 billion euros: a simulation of the human brain</a></li>
<li><a href="../168089/index.html">Qt 5.0.1 and Qt Creator 2.6.2 released</a></li>
<li><a href="../168095/index.html">Simple-Science - Simple Experiments (Digest # 15)</a></li>
<li><a href="../168097/index.html">Nokia, Elop Effect and Burning Platform</a></li>
<li><a href="../168099/index.html">Batch virus</a></li>
<li><a href="../168103/index.html">Lexand vs. BlackVue - FullHD DVRs</a></li>
<li><a href="../168105/index.html">Redefining method implementation. Inspired by java</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>