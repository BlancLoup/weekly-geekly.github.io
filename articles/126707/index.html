<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Forwarding COM Ports from Linux to Windows</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Good day, dear Habra community! Today, you guessed it, we‚Äôll talk about the so-called ‚Äúforwarding‚Äù of the good old COM port from Linux to Windows. 

 ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Forwarding COM Ports from Linux to Windows</h1><div class="post__text post__text-html js-mediator-article">  Good day, dear Habra community!  Today, you guessed it, we‚Äôll talk about the so-called ‚Äúforwarding‚Äù of the <s>good old</s> COM port from Linux to Windows. <br><br>  We have a Windows-based computer from which we need to get remote access to one or more physical COM ports (RS-232) on a Linux computer.  About this and talk. <br><br><a name="habracut"></a><br><h4>  Linux </h4><br>  Here we will use the ser2net package.  In my distribution (ubuntu) it is available from the standard repository, and I used this version.  Installation is trivial and looks like this: <br><blockquote>  <font color="#c20cb9">sudo</font> apt-get install ser2net </blockquote>  After installing the package in the configuration file, you must add the device of interest and describe the connection parameters. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      This is how the settings file looks like before making changes (comments from the author) <br><br>  /etc/ser2net.conf: <br><blockquote>  <font color="#666666"># Banner - this line is issued to the TCP port of the client upon connection and may contain the port, the speed</font> <br>  <font color="#666666"># works with the current port and the device name in the system.</font>  <font color="#666666">Banner output is more relevant for the telnet method.</font> <br>  <font color="#666666"># connect to the port, we do not need it.</font>  <font color="#666666">You can comment out the line so as not to mazol eyes.</font> <br><br>  BANNER: banner: \ r \ nser2net port \ p device \ d <font color="#7a0874">[</font> \ s <font color="#7a0874">]</font> <font color="#7a0874">(</font> Debian GNU <font color="#000000">/</font> Linux <font color="#7a0874">)</font> \ r \ n \ r \ n <br><br>  <font color="#666666"># Parameters for connecting to ports / dev / ttyS0 and / dev / ttyS1</font> <br>  <font color="#666666"># The config below has the following format:</font> <br>  <font color="#666666"># TCP port: state: timeout: device: options (option1 option2 - space separated)</font> <br><br>  <font color="#666666"># TCP port - everything is clear here, this is the port that our server will listen to.</font> <br><br>  <font color="#666666"># State - can be raw or rawlp or telnet.</font>  <font color="#666666">It can also be off.</font> <br><br>  <font color="#666666"># Timeout - time (in seconds) after which the client will be</font> <br>  <font color="#666666"># disconnected when inactive.</font>  <font color="#666666">A value of 0 disables the feature.</font> <br><br>  <font color="#666666">Device is the device that we want to "hang" outside.</font>  <font color="#666666">We write here something like:</font> <br>  <font color="#666666"># / dev / ttyS0 or / dev / ttyUSB0</font> <br><br>  <font color="#666666"># Options - sets additional parameters for working with the port.</font>  <font color="#666666">I will not give all the parameters</font> <br>  <font color="#666666"># in the config, everything is fine set out.</font> <br><br>  <font color="#666666"># Default settings:</font> <br>  <font color="#000000">2000</font> : telnet: <font color="#000000">600</font> : <font color="#000000">/</font> dev <font color="#000000">/</font> ttyS0: <font color="#000000">9600</font> 8DATABITS NONE 1STOPBIT banner <br>  <font color="#000000">2001</font> : telnet: <font color="#000000">600</font> : <font color="#000000">/</font> dev <font color="#000000">/</font> ttyS1: <font color="#000000">9600</font> 8DATABITS NONE 1STOPBIT banner <br>  <font color="#000000">3000</font> : telnet: <font color="#000000">600</font> : <font color="#000000">/</font> dev <font color="#000000">/</font> ttyS0: <font color="#000000">19200</font> 8DATABITS NONE 1STOPBIT banner <br>  <font color="#000000">3001</font> : telnet: <font color="#000000">600</font> : <font color="#000000">/</font> dev <font color="#000000">/</font> ttyS1: <font color="#000000">19200</font> 8DATABITS NONE 1STOPBIT banner <br>  <font color="#666666"># As we can see, 2 physical COM ports are configured here.</font> <br>  <font color="#666666"># And 4 types of connections to them at different speeds and ports, respectively.</font> <br></blockquote><br>  And so the settings look at me <br><br>  /etc/ser2net.conf: <br><blockquote>  <font color="#000000">2222</font> : raw: <font color="#000000">0</font> : <font color="#000000">/</font> dev <font color="#000000">/</font> ttyUSB0: <font color="#000000">9600</font> NONE 1STOPBIT 8DATABITS <font color="#660033">-XONXOFF</font> <font color="#660033">-RTSCTS</font> LOCAL </blockquote>  In our case, the type of connection to the port will be RAW.  Timeout 0. The speed required by my device is 9600. Parity is not checked.  Stop bit one.  Data bits are 8 bits.  XON / XOFF off.  Hardware flow control is disabled.  Monitoring of DTR modem lines - as I understand it.  The config is small, in case of problems we look in the syslog. <br><br>  After making the necessary changes, save the settings file and reboot the daemon: <br><blockquote>  <font color="#c20cb9">sudo</font> service ser2net restart </blockquote>  Check the logs - make sure that the demon is running and listening to the port.  Then we put the terminal aside in front of Windows ... <br><br><h4>  Windows </h4><br><h5>  HW Virtual Serial Port </h5><br>  On the ser2net project page, this program is listed as compatible, it‚Äôs a pity that I didn‚Äôt start it for the first time. It interests us HW VSP Singleport - since the multiport version only supports devices from the HW Group and is not suitable for our purposes.  The program supports Windows 7 and x64 bit platforms.  The only limitation is that with its help we will be able to ‚Äúforward‚Äù only 1 COM port.  For those wishing to the site can be purchased HW VSP3 Source codes. <br><br><img src="https://habrastorage.org/storage1/1df97acb/50250cec/70642e86/f5d8037b.jpg"><br><br>  During installation, we are interested in installing the service and the GUI to it.  After installation, run the program from the start menu or desktop and press login.  The password will already be entered and you will only have to click on OK.  First, go to the Settings tab and tick the Create VSP Port when HW VSP Start-up checkbox (of course, if you wish, but it is often necessary).  The program itself can be closed, the work is performed by the service that can be detected in the Windows hardware (Start-Run: services.msc). <br>  Next, go to the Virtual Serial Port tab.  Assign the virtual COM port number to which our remote port will be connected.  Next, enter the IP and Port of our server with the ser2net daemon (see the map above).  And click Create COM.  In the LAN status, it should soon be Connected, and in the VSP status, Created.  The port is connected and ready to connect.  <a href="http://www.hw-group.com/products/hw_vsp/index_en.html">Download</a> <br><br><h5>  MCSI2000 </h5><br>  During the installation, an error message was popped up in the registry, I sin on a virtual environment.  because  put on a real gland was not possible.  No credentials need to be set during installation. <br><br><img src="https://habrastorage.org/storage1/2c8bfb9a/414672ed/295c94d1/926f4783.jpg"><br><br>  When the installation is completed, the Add Virtual Port dialog will appear.  Specify the virtual port number in the system.  We select Direct (Direct connection, without autodiscovery) we drive in IP of our server.  The type of connection is RAW, the port corresponds to your settings in ser2net and click Add.  The installer will prompt you to add another port.  When all ports are added, click Done, after which the installation program will offer to reboot the computer.  Of the potential disadvantages - the lack of support for x64 and Windows 7. Of the benefits - you can add a considerable number of ports.  <a href="">Download</a> <br><br><h5>  Tibbo Device Server Toolkit </h5><br>  Fundamentally, the setting is no different from the previous ones.  After installation, start the Tibbo VSP Manager from the start menu and click Add.  One of the advantages of this program is the ability to save a connection profile.  Including compare with the user, which is very convenient.  Set the virtual port number, Connection mode: immediatly, On-the-fly-commands: disabled, as well as the IP address and port of the server. <br><br><img src="https://habrastorage.org/storage1/13158b11/48a991e9/3aea3ab0/5655f80f.jpg"><br><br>  Unfortunately, this program did not work for me.  This is what I saw when I looked at Device Manager. <br><br><img src="https://habrastorage.org/storage1/92c78252/e645c2be/222c2152/b3d5cc02.jpg"><br><br>  Check on something else, as I wrote - I do not have the opportunity. <br>  <a href="http://soi.tibbo.com/tdst.html">Download</a> (registration required) <br><br>  All of the above programs do not allow the use of COM RTS output in this configuration.  To obtain this functionality, you need to install fully compatible software on both Windows host and Linux.  Or use specialized hardware aka Serial to Ethernet.  If something is not written - correct.  It is possible in a personal, and it is possible and in comments, I do not bite =) <br><br>  Useful links: <br>  <a href="http://wtpro.ru/com.html">WTPRO thin client COM port redirection</a> <br>  <a href="http://habrahabr.ru/qa/10200/">My question is in Q &amp; A</a> <br><br>  Thanks to <a href="https://habrahabr.ru/users/max_rip/" class="user_link">max_rip</a> for a tip in Q &amp; A and to all who this post was interesting.  Successes! </div><p>Source: <a href="https://habr.com/ru/post/126707/">https://habr.com/ru/post/126707/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../126697/index.html">Amazon seriously took up the video</a></li>
<li><a href="../126701/index.html">Bash scripts interaction with user</a></li>
<li><a href="../126703/index.html">Chrome with Yandex search</a></li>
<li><a href="../126704/index.html">Draw graphs (diagrams) in Django</a></li>
<li><a href="../126705/index.html">Parsing spamming your Exim accounts</a></li>
<li><a href="../126708/index.html">Silicon Valley Infrastructure Overview</a></li>
<li><a href="../126710/index.html">About modern methods of near-earth astronomy</a></li>
<li><a href="../126711/index.html">Mi-one new smartphone Xiaomi</a></li>
<li><a href="../126714/index.html">Bootstrap toolkit for creating web applications</a></li>
<li><a href="../126715/index.html">Visa. Insurance case of the return of stolen money</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>