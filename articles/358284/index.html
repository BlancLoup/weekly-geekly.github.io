<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>1000 + 1 way to determine if all items in the list are the same.</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="In life, we always have a choice, whether we know about it or not. The same thing happens in coding. There are many ways in which we can approach a sp...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>1000 + 1 way to determine if all items in the list are the same.</h1><div class="post__text post__text-html js-mediator-article">  In life, we always have a choice, whether we know about it or not.  The same thing happens in coding.  There are many ways in which we can approach a specific task.  We may not initially consider these methods or have no idea about them, but they exist.  Being a programmer is not just knowing the language and the process of writing code.  Very often it means to be the most creative version of yourself, considering even something that you have not thought about before.  And on that note, I would like to introduce myself.  Hello!  My name is Alex, I am the founder of <a href="https://py.checkio.org/">CheckiO</a> , and I have long been engaged in the creative aspects of this project. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/774/005/371/7740053718b8ce329ca9fb85e7ad445e.jpg" alt="image"></div><a name="habracut"></a><br>  Our users have different levels of knowledge and experience in the field of coding, so I often see standard and more obvious approaches to solving problems.  But from time to time I come across such unique and unusual solutions that they force me to re-learn the previously unknown subtleties of the language. <br><br>  In this article I want to consider some solutions to one of the very simple tasks that, in my opinion, are the most interesting.  The mission requires you to write a function that will determine whether all the elements of the array have the same value. <br><cut></cut><br>  <b>1.</b> One of the first decisions that comes to mind is to compare the length of the list of source elements with how many times the first element is included in the list.  If these values ‚Äã‚Äãare equal, then the list consists of the same elements.  There is also a check whether the list is empty, since in this case it is also necessary to return True. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <pre><code class="python hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">all_the_same</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(elements)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> len(elements) &lt; <span class="hljs-number"><span class="hljs-number">1</span></span>: <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">True</span></span> <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> len(elements) == elements.count(elements[<span class="hljs-number"><span class="hljs-number">0</span></span>])</code> </pre> <br>  Or a more abbreviated version: <br><br><pre> <code class="python hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">all_the_same</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(elements)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> len(elements) &lt; <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-keyword"><span class="hljs-keyword">or</span></span> len(elements) == elements.count(elements[<span class="hljs-number"><span class="hljs-number">0</span></span>])</code> </pre><br>  <b>2.</b> This solution used a useful feature of Python - the ability to compare lists with just the comparison operator - '==' (unlike some other programming languages, where it is not so easy to do).  Consider how this works: <br><br><pre> <code class="python hljs"><span class="hljs-meta"><span class="hljs-meta">&gt;&gt;&gt; </span></span>[<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>] == [<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>] <span class="hljs-keyword"><span class="hljs-keyword">True</span></span> &gt;&gt;&gt; [<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>] == [<span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>] <span class="hljs-keyword"><span class="hljs-keyword">False</span></span></code> </pre><br>  Another feature of the language is that it provides the ability to multiply the list by a number and the result of this operation will be a list in which all elements are copied the specified number of times.  Let me show you some examples: <br><br><pre> <code class="python hljs"><span class="hljs-meta"><span class="hljs-meta">&gt;&gt;&gt; </span></span>[<span class="hljs-number"><span class="hljs-number">1</span></span>] * <span class="hljs-number"><span class="hljs-number">3</span></span> [<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>] &gt;&gt;&gt; [<span class="hljs-number"><span class="hljs-number">1</span></span>] * <span class="hljs-number"><span class="hljs-number">5</span></span> [<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>] &gt;&gt;&gt; [<span class="hljs-number"><span class="hljs-number">1</span></span>] * <span class="hljs-number"><span class="hljs-number">0</span></span> [] &gt;&gt;&gt; [<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>] * <span class="hljs-number"><span class="hljs-number">3</span></span> [<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>]</code> </pre> <br>  Thus, you can come to a simple solution - if you multiply an array of one first element from the source array by the length of this source array, you should again get the original array if all the elements of this array are the same. <br><br><pre> <code class="python hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">all_the_same</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(elements)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> <span class="hljs-keyword"><span class="hljs-keyword">not</span></span> elements: <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">True</span></span> <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> [elements[<span class="hljs-number"><span class="hljs-number">0</span></span>]] * len(elements) == elements</code> </pre> <br>  As in the previous case, you can shorten this solution: <br><br><pre> <code class="python hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">all_the_same</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(elements)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">not</span></span> elements <span class="hljs-keyword"><span class="hljs-keyword">or</span></span> [elements[<span class="hljs-number"><span class="hljs-number">0</span></span>]] * len(elements) == elements</code> </pre><br>  <b>3.</b> This solution used the standard <a href="https://docs.python.org/3/library/functions.html%3F">set () function</a> .  This function converts an object into a set in which, by definition, all elements must be unique.  It looks like this: <br><br><pre> <code class="python hljs"><span class="hljs-meta"><span class="hljs-meta">&gt;&gt;&gt; </span></span>elements = [<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">5</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">5</span></span>, <span class="hljs-number"><span class="hljs-number">3</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>] &gt;&gt;&gt; set(elements) {<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">3</span></span>, <span class="hljs-number"><span class="hljs-number">5</span></span>}</code> </pre> <br>  If, as a result, the resulting set will consist of 1 or 0 elements, then all the elements in the initial list were the same or it was empty.  The solution might look like this: <br><br><pre> <code class="python hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">all_the_same</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(elements)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> len(set(elements)) <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> (<span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>)</code> </pre> <br>  or so: <br><br><pre> <code class="python hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">all_the_same</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(elements)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> len(set(elements)) &lt;= <span class="hljs-number"><span class="hljs-number">1</span></span></code> </pre> <br>  A similar approach can be used with the <a href="http://www.numpy.org/">NumPy</a> module, which has <a href="https://docs.scipy.org/doc/numpy-1.14.0/reference/generated/numpy.unique.html">a unique () function</a> that works as follows: <br><br><pre> <code class="python hljs"><span class="hljs-meta"><span class="hljs-meta">&gt;&gt;&gt; </span></span><span class="hljs-keyword"><span class="hljs-keyword">from</span></span> numpy <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> unique &gt;&gt;&gt; a = [<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">3</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>] &gt;&gt;&gt; unique(a) [<span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span>]</code> </pre> <br>  As you can see, her work is very similar to set (), only in this case <br>  object type changes - the list remains a list.  The solution using this function looks like this: <br><br><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">from</span></span> numpy <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> unique <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">all_the_same</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(elements)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> len(unique(elements)) &lt;= <span class="hljs-number"><span class="hljs-number">1</span></span></code> </pre> <br>  <b>4.</b> Here is an example of a very original solution, in which, moreover, the name of this problem is played up with the help of the standard Python function - <a href="https://docs.python.org/3/library/functions.html">all ()</a> .  The function all () returns True if all elements of the transferred list are True.  For example: <br><br><pre> <code class="python hljs"><span class="hljs-meta"><span class="hljs-meta">&gt;&gt;&gt; </span></span>all([<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">True</span></span>]) <span class="hljs-keyword"><span class="hljs-keyword">False</span></span> <span class="hljs-comment"><span class="hljs-comment">#(0  true) &gt;&gt;&gt; all([1, 2, None, True]) False #(None  true) &gt;&gt;&gt; all([1, 2, False, True]) False &gt;&gt;&gt; all([1, 2, 0.1, True]) True</span></span></code> </pre> <br>  First, the variable first is assigned the value of the first element of the list, and rest is the list of all other elements except the first.  Then True or False values ‚Äã‚Äãare added to the_same tuple, depending on whether the next item in the list is rest and equal to the first item in the source list.  After that, the function all () returns True if the_same consists only of the 'True' elements, and False if there is at least one 'False' element in the tuple. <br><br><pre> <code class="python hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">all_the_same</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(elements)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">try</span></span>: first, *rest = elements <span class="hljs-keyword"><span class="hljs-keyword">except</span></span> ValueError: <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">True</span></span> the_same = (x == first <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> x <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> rest) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> all(the_same)</code> </pre> <br>  The ValueError exception will be raised only if the array is empty.  But we can do a more familiar check: <br><br><pre> <code class="python hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">all_the_same</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(elements)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> <span class="hljs-keyword"><span class="hljs-keyword">not</span></span> elements: <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">True</span></span> first, *rest = elements the_same = (x == first <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> x <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> rest) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> all(the_same)</code> </pre> <br>  <b>5.</b> The next solution is very similar to the previous one.  There is only a small correction in it - the first and the other elements from the original list are separated using an iterator.  <a href="https://docs.python.org/3/library/functions.html">The iter () function</a> creates an iterator from the passed list, and <a href="https://docs.python.org/3/library/functions.html">the next () function</a> takes the next element from it (that is, the first one - on the first call).  If we print out the elements in el and first, we see the following: <br><br><pre> <code class="python hljs"><span class="hljs-meta"><span class="hljs-meta">&gt;&gt;&gt; </span></span>el = iter([<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">3</span></span>]) &gt;&gt;&gt; first = next(el, <span class="hljs-keyword"><span class="hljs-keyword">None</span></span>) &gt;&gt;&gt; print(first) <span class="hljs-number"><span class="hljs-number">1</span></span> &gt;&gt;&gt; <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> i <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> el: &gt;&gt;&gt; print(i) <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span></code> </pre> <br>  Otherwise, this solution is similar to the previous one, except that we do not need to check whether the list is empty or not. <br><br><pre> <code class="python hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">all_the_same</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(elements)</span></span></span><span class="hljs-function">:</span></span> el = iter(elements) first = next(el, <span class="hljs-keyword"><span class="hljs-keyword">None</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> all(element == first <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> element <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> el)</code> </pre> <br>  <b>6.</b> One of the creative approaches to solving this problem is the rearrangement of elements.  We swap the items and check that the list has not changed because of this.  This tells us that all the items in the list are the same.  Here are a couple of examples of this approach: <br><br><pre> <code class="python hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">all_the_same</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(elements)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> elements[<span class="hljs-number"><span class="hljs-number">1</span></span>:] == elements[:<span class="hljs-number"><span class="hljs-number">-1</span></span>]</code> </pre> <br>  and <br><br><pre> <code class="python hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">all_the_same</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(elements)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> elements == elements[<span class="hljs-number"><span class="hljs-number">1</span></span>:] + elements[:<span class="hljs-number"><span class="hljs-number">1</span></span>]</code> </pre> <br>  It is also worth noting that it is possible to compare arrays elementwise using <a href="https://docs.python.org/3/library/functions.html">the zip () function</a> .  Consider this on the example of the following solutions. <br><br>  <b>7.</b> <a href="https://docs.python.org/3/library/functions.html">The zip () function</a> combines every i-th element of a single object with the i-th element of the rest until the shortest object ends. <br><br><pre> <code class="python hljs"><span class="hljs-meta"><span class="hljs-meta">&gt;&gt;&gt; </span></span>x = [<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">3</span></span>] &gt;&gt;&gt; y = [<span class="hljs-number"><span class="hljs-number">10</span></span>, <span class="hljs-number"><span class="hljs-number">11</span></span>] &gt;&gt;&gt; list(zip(x, y)) [(<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">10</span></span>), (<span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">11</span></span>)]</code> </pre> <br>  As you can see, despite the fact that x consists of three elements, only two were used, since the shortest object - in this case, y - consists of only 2 elements. <br><br>  The solution below works as follows: first, a second list is created (elements [1:]), which is equal to the original list, but without the first element.  Then, elements from these two lists are compared in turn, and as a result of each such comparison, we get True or False.  Then the all () function returns the result of processing this set of True and False. <br><br><pre> <code class="python hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">all_the_same</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(elements)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> all(x == y <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> x, y <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> zip(elements, elements[<span class="hljs-number"><span class="hljs-number">1</span></span>:]))</code> </pre> <br>  Suppose our original list is elements = [2, 2, 2, 3].  Then using zip (), we will combine the complete list ([2, 2, 2, 3]) and the list without the first element ([2, 2, 3]) in the following way: [(2, 2), (2, 2 ), (2, 3)], comparisons of elements among themselves will transfer to the all () function a set [True, True, False] and as a result we will get False, which is the correct answer, since not all elements are the same in the original list. <br><br>  <b>8.</b> The following decision was quite curious.  It used the <a href="https://docs.python.org/3/library/functions.html">groupby () iterator</a> , which works in this way - compares each i-th element with (i-1) -th and if elements are equal - moves on, and if not equal - leaves element (i-1) in the final list and continues the comparison with the next item.  In practice, it looks like this: <br><br><pre> <code class="python hljs"><span class="hljs-meta"><span class="hljs-meta">&gt;&gt;&gt; </span></span><span class="hljs-keyword"><span class="hljs-keyword">from</span></span> itertools <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> groupby &gt;&gt;&gt; elements = [<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>] &gt;&gt;&gt; <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> key, group <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> groupby(elements): &gt;&gt;&gt; print(key) <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span></code> </pre><br>  As you can see, there are only those elements that differ from the element at the next position (elements [0], elements [1], elements [4] and elements [5] have been excluded). <br><br>  In this solution, the function using the groupby () iterator adds one (1) to the list each time the next element in the original list differs from the previous one.  Thus, if the initial list contains 0 elements or all elements are equal, the sum (sum (1 for _ in groupby (elements))) will be 0 or 1 ‚Äî that is, in any case, less than 2, which is indicated in the solution. <br><br><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">from</span></span> itertools <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> groupby <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">all_the_same</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(elements)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> sum(<span class="hljs-number"><span class="hljs-number">1</span></span> <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> _ <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> groupby(elements)) &lt; <span class="hljs-number"><span class="hljs-number">2</span></span></code> </pre> <br>  <b>9.</b> Another creative solution that uses one of the standard Python modules - <a href="https://docs.python.org/3/library/collections.html">collections</a> .  <a href="https://docs.python.org/3/library/collections.html">Counter</a> creates a dictionary where it stores information about the number of each item in the source list.  Let's see how it works: <br><br><pre> <code class="python hljs"><span class="hljs-meta"><span class="hljs-meta">&gt;&gt;&gt; </span></span><span class="hljs-keyword"><span class="hljs-keyword">from</span></span> collections <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> Counter &gt;&gt;&gt; a = [<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">3</span></span>] &gt;&gt;&gt; Counter(a) Counter({<span class="hljs-number"><span class="hljs-number">1</span></span>: <span class="hljs-number"><span class="hljs-number">3</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>: <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">3</span></span>: <span class="hljs-number"><span class="hljs-number">1</span></span>})</code> </pre> <br>  Accordingly, if the length of this dictionary is 2 or more, there will be at least 2 different elements in the source list and not all elements are the same. <br><br><pre> <code class="python hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">all_the_same</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(elements)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> collections <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> Counter <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">not</span></span> len(list(Counter(elements))) &gt; <span class="hljs-number"><span class="hljs-number">1</span></span></code> </pre> <br>  10. This solution is built on the same logic as solution No. 7, but the <a href="https://docs.python.org/3/library/operator.html">eq ()</a> and <a href="https://docs.python.org/3/library/itertools.html">starmap ()</a> functions are used.  We will understand how they work: <br><br><pre> <code class="python hljs"><span class="hljs-meta"><span class="hljs-meta">&gt;&gt;&gt; </span></span><span class="hljs-keyword"><span class="hljs-keyword">from</span></span> operator <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> eq &gt;&gt;&gt; eq(<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">False</span></span></code> </pre> <br>  In essence, the eq () function does the same as ‚Äú==‚Äù - compares two objects and returns True if they are equal and False otherwise (eq is short for equivalent).  However, note that a function is an object and it can be, for example, passed as an argument to another function, which was done in the solution described below. <br><br>  The starmap () function creates an iterator that applies another function to the list of objects.  It is used when objects are already grouped into tuples.  For example: <br><br><pre> <code class="python hljs"><span class="hljs-meta"><span class="hljs-meta">&gt;&gt;&gt; </span></span><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> math &gt;&gt;&gt; <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> itertools <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> starmap &gt;&gt;&gt; list(starmap(math.pow, [(<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>), (<span class="hljs-number"><span class="hljs-number">3</span></span>, <span class="hljs-number"><span class="hljs-number">4</span></span>)])) [<span class="hljs-number"><span class="hljs-number">1.0</span></span>, <span class="hljs-number"><span class="hljs-number">81.0</span></span>]</code> </pre> <br>  As you can see, the math.pow () function specified once, thanks to the starmap () function, was applied twice - to both sets of objects (1 ** 2 = 1.0, 3 ** 4 = 81.0) <br><br>  Simplified, the starmap () function for this example can be represented as a loop: <br><br><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> math elements = [(<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>), (<span class="hljs-number"><span class="hljs-number">3</span></span>, <span class="hljs-number"><span class="hljs-number">4</span></span>)] result = [] <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> i <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> elements: result.append(math.pow(i[<span class="hljs-number"><span class="hljs-number">0</span></span>], i[<span class="hljs-number"><span class="hljs-number">1</span></span>]))</code> </pre> <br>  The solution using the functions described earlier looks like this: <br><br><pre> <code class="python hljs"><span class="hljs-keyword"><span class="hljs-keyword">from</span></span> operator <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> eq <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> itertools <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> starmap <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">all_the_same</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(elements)</span></span></span><span class="hljs-function">:</span></span> <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> all(starmap(eq, zip(elements, elements[<span class="hljs-number"><span class="hljs-number">1</span></span>:])))</code> </pre> <br>  <b>Conclusion</b> <br><br>  So, we looked at some clever solutions that relate to one of the simplest puzzles.  With all the desire, I have no idea how to begin to describe the number of unique approaches that our users use to solve other interesting and more complex tasks.  I hope you enjoyed reading this article just as much as I did at the time of writing it.  I look forward to your feedback.  Was this helpful to you?  How would you solve this problem? <br><br>  <i>Translation of the article <b><a href="https://www.blog.pythonlibrary.org/2018/05/09/determining-if-all-elements-in-a-list-are-the-same-in-python/">‚ÄúThe Same in Python‚Äù</a></b> , published on the blog <a href="http://www.blog.pythonlibrary.org/">‚ÄúThe Mouse Vs.</a></i>  <i><a href="http://www.blog.pythonlibrary.org/">The Python</a> . <a href="http://www.blog.pythonlibrary.org/">‚Äù</a></i> <br><cut></cut></div><p>Source: <a href="https://habr.com/ru/post/358284/">https://habr.com/ru/post/358284/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../358268/index.html">New trend at IT interviews: whole days of unpaid homework</a></li>
<li><a href="../358274/index.html">Patch Tuesday: critical patches you might have missed</a></li>
<li><a href="../358276/index.html">Survey from Veeam Academy. Do you want to go through intensive C # in the summer?</a></li>
<li><a href="../358278/index.html">Guice Almighty: assistedinject, multibindings, generics</a></li>
<li><a href="../358282/index.html">Messenger problems: vanishing messages in Signal for Mac are not permanently deleted</a></li>
<li><a href="../358286/index.html">DevConf: promising highload databases</a></li>
<li><a href="../358292/index.html">Apollo graphql client - developing applications on react.js without redux</a></li>
<li><a href="../358296/index.html">Tea, coffee, cookies and a pleasant atmosphere. We invite everyone to the next Hiring Tournament in Moscow</a></li>
<li><a href="../358298/index.html">How do I generate an XML statform for customs and about combining FCS with tax</a></li>
<li><a href="../358300/index.html">What are you, what work, summer is coming soon - soon our OpenHack</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>