<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>OCaml and PHP - esoteric for your convenience</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="NB: reading this topic, it is desirable not to eat - you can choke on surprise. 
 NB: less valuable pieces of code had to be put out to the pastin, du...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>OCaml and PHP - esoteric for your convenience</h1><div class="post__text post__text-html js-mediator-article">  <b>NB:</b> reading this topic, it is desirable not to eat - you can choke on surprise. <br>  <b>NB:</b> less valuable pieces of code had to be put out to the pastin, due to the fact that the Habr is cutting the post.  Follow the links in the text. <br><br>  Many attribute OCaml to marginal and even esoteric languages.  Perhaps they are right, although many people disagree with them.  For me, acquaintance with him began six months ago, when I once again wanted to learn something new and I thought that at least one functional language should be mastered.  From a variety of languages, I chose Objective Caml.  The language conquered me with human syntax and the idea: there are all the functional joys of life, but if you want an imperative style and OOP, take them, I have them!  It turned out that the developers were well aware that different tools needed different tools.  Three days of reading the <a href="http://www.ocaml-tutorial.org/">manual for C ++ and Perl programmers</a> and I already could read the code and write the hello world.  At this, my acquaintance with the language ended, because learning a language not on a real task is a silly thing. <br><a name="habracut"></a><br>  I returned to OCaml a couple of weeks ago, when there was one interesting task.  I looked at it and realized that, in principle, it can be completely solved in PHP, or I can write, as I like, a PHP extension in C ++, but a functional language would fit much more.  So, we have the main program in PHP, from which we want to call OCaml functions, getting from this an obvious profit and uncomplicated joy of the idiot and Michurin in one bottle.  In this article I will give just a simple code to demonstrate the principle - without clever optimizations and all that will make our code much faster, but will worsen its readability.  In addition, I tried to separate the wrappers for PHP and OCaml as much as possible, so data conversion is not directly done by PHP ‚Üê ‚Üí OCaml, but by the way PHP ‚Üê ‚Üí C ‚Üê ‚Üí OCaml, which additionally reduces speed.  But the principle will be so much clearer, and with the optimization, I hope, everyone will cope. <br>  We define the task that we solve as follows: it is necessary to take an array of structures from PHP, filter it in some way, for example, by some value, and then return the remaining array. <br><br><h4>  Ocaml </h4><br>  Let's get started  First, we write our OCaml-part, which will do all the work.  We define in the file ocamlpart.ml data types with which we will work.  Let it be some chemical groups: <br><blockquote><ol><li> <code><font color="black"><font color="#06c"><b>type</b></font> group_position <font color="#a52a2a">=</font> UndefPos <font color="#a52a2a">|</font> LeftPos <font color="#a52a2a">|</font> RightPos <font color="#a52a2a">;;</font> <font color="#06c"><b>type</b></font> cycle_type <font color="#a52a2a">=</font> UndefCycle <font color="#a52a2a">|</font> NoneCycle <font color="#a52a2a">|</font> AliphaticCycle <font color="#a52a2a">|</font> AromaticCycle <font color="#a52a2a">|</font> HeteroCycle <font color="#a52a2a">;;</font> <font color="#06c"><b>type</b></font> group_type <font color="#a52a2a">=</font> OrgGroup <font color="#a52a2a">|</font> InorgGroup <font color="#a52a2a">|</font> NeighbourGroup <font color="#06c"><b>of</b></font> int <font color="#a52a2a">;;</font> <font color="#06c"><b>type</b></font> group <font color="#a52a2a">=</font> <font color="#6c6">{</font> name <font color="#a52a2a">:</font> string <font color="#a52a2a">;</font> position <font color="#a52a2a">:</font> group_position <font color="#a52a2a">;</font> cycle <font color="#a52a2a">:</font> cycle_type <font color="#a52a2a">;</font> grouptype <font color="#a52a2a">:</font> group_type <font color="#a52a2a">;</font> link <font color="#a52a2a">:</font> int <font color="#a52a2a">;</font> <font color="#6c6">}</font> <font color="#a52a2a">;;</font></font></code> </li> <li> <code><font color="black"><font color="#06c"><b>type</b></font> group_position <font color="#a52a2a">=</font> UndefPos <font color="#a52a2a">|</font> LeftPos <font color="#a52a2a">|</font> RightPos <font color="#a52a2a">;;</font> <font color="#06c"><b>type</b></font> cycle_type <font color="#a52a2a">=</font> UndefCycle <font color="#a52a2a">|</font> NoneCycle <font color="#a52a2a">|</font> AliphaticCycle <font color="#a52a2a">|</font> AromaticCycle <font color="#a52a2a">|</font> HeteroCycle <font color="#a52a2a">;;</font> <font color="#06c"><b>type</b></font> group_type <font color="#a52a2a">=</font> OrgGroup <font color="#a52a2a">|</font> InorgGroup <font color="#a52a2a">|</font> NeighbourGroup <font color="#06c"><b>of</b></font> int <font color="#a52a2a">;;</font> <font color="#06c"><b>type</b></font> group <font color="#a52a2a">=</font> <font color="#6c6">{</font> name <font color="#a52a2a">:</font> string <font color="#a52a2a">;</font> position <font color="#a52a2a">:</font> group_position <font color="#a52a2a">;</font> cycle <font color="#a52a2a">:</font> cycle_type <font color="#a52a2a">;</font> grouptype <font color="#a52a2a">:</font> group_type <font color="#a52a2a">;</font> link <font color="#a52a2a">:</font> int <font color="#a52a2a">;</font> <font color="#6c6">}</font> <font color="#a52a2a">;;</font></font></code> </li> <li> <code><font color="black"><font color="#06c"><b>type</b></font> group_position <font color="#a52a2a">=</font> UndefPos <font color="#a52a2a">|</font> LeftPos <font color="#a52a2a">|</font> RightPos <font color="#a52a2a">;;</font> <font color="#06c"><b>type</b></font> cycle_type <font color="#a52a2a">=</font> UndefCycle <font color="#a52a2a">|</font> NoneCycle <font color="#a52a2a">|</font> AliphaticCycle <font color="#a52a2a">|</font> AromaticCycle <font color="#a52a2a">|</font> HeteroCycle <font color="#a52a2a">;;</font> <font color="#06c"><b>type</b></font> group_type <font color="#a52a2a">=</font> OrgGroup <font color="#a52a2a">|</font> InorgGroup <font color="#a52a2a">|</font> NeighbourGroup <font color="#06c"><b>of</b></font> int <font color="#a52a2a">;;</font> <font color="#06c"><b>type</b></font> group <font color="#a52a2a">=</font> <font color="#6c6">{</font> name <font color="#a52a2a">:</font> string <font color="#a52a2a">;</font> position <font color="#a52a2a">:</font> group_position <font color="#a52a2a">;</font> cycle <font color="#a52a2a">:</font> cycle_type <font color="#a52a2a">;</font> grouptype <font color="#a52a2a">:</font> group_type <font color="#a52a2a">;</font> link <font color="#a52a2a">:</font> int <font color="#a52a2a">;</font> <font color="#6c6">}</font> <font color="#a52a2a">;;</font></font></code> </li> <li></li><li> <code><font color="black"><font color="#06c"><b>type</b></font> group_position <font color="#a52a2a">=</font> UndefPos <font color="#a52a2a">|</font> LeftPos <font color="#a52a2a">|</font> RightPos <font color="#a52a2a">;;</font> <font color="#06c"><b>type</b></font> cycle_type <font color="#a52a2a">=</font> UndefCycle <font color="#a52a2a">|</font> NoneCycle <font color="#a52a2a">|</font> AliphaticCycle <font color="#a52a2a">|</font> AromaticCycle <font color="#a52a2a">|</font> HeteroCycle <font color="#a52a2a">;;</font> <font color="#06c"><b>type</b></font> group_type <font color="#a52a2a">=</font> OrgGroup <font color="#a52a2a">|</font> InorgGroup <font color="#a52a2a">|</font> NeighbourGroup <font color="#06c"><b>of</b></font> int <font color="#a52a2a">;;</font> <font color="#06c"><b>type</b></font> group <font color="#a52a2a">=</font> <font color="#6c6">{</font> name <font color="#a52a2a">:</font> string <font color="#a52a2a">;</font> position <font color="#a52a2a">:</font> group_position <font color="#a52a2a">;</font> cycle <font color="#a52a2a">:</font> cycle_type <font color="#a52a2a">;</font> grouptype <font color="#a52a2a">:</font> group_type <font color="#a52a2a">;</font> link <font color="#a52a2a">:</font> int <font color="#a52a2a">;</font> <font color="#6c6">}</font> <font color="#a52a2a">;;</font></font></code> </li> <li> <code><font color="black"><font color="#06c"><b>type</b></font> group_position <font color="#a52a2a">=</font> UndefPos <font color="#a52a2a">|</font> LeftPos <font color="#a52a2a">|</font> RightPos <font color="#a52a2a">;;</font> <font color="#06c"><b>type</b></font> cycle_type <font color="#a52a2a">=</font> UndefCycle <font color="#a52a2a">|</font> NoneCycle <font color="#a52a2a">|</font> AliphaticCycle <font color="#a52a2a">|</font> AromaticCycle <font color="#a52a2a">|</font> HeteroCycle <font color="#a52a2a">;;</font> <font color="#06c"><b>type</b></font> group_type <font color="#a52a2a">=</font> OrgGroup <font color="#a52a2a">|</font> InorgGroup <font color="#a52a2a">|</font> NeighbourGroup <font color="#06c"><b>of</b></font> int <font color="#a52a2a">;;</font> <font color="#06c"><b>type</b></font> group <font color="#a52a2a">=</font> <font color="#6c6">{</font> name <font color="#a52a2a">:</font> string <font color="#a52a2a">;</font> position <font color="#a52a2a">:</font> group_position <font color="#a52a2a">;</font> cycle <font color="#a52a2a">:</font> cycle_type <font color="#a52a2a">;</font> grouptype <font color="#a52a2a">:</font> group_type <font color="#a52a2a">;</font> link <font color="#a52a2a">:</font> int <font color="#a52a2a">;</font> <font color="#6c6">}</font> <font color="#a52a2a">;;</font></font></code> </li> <li> <code><font color="black"><font color="#06c"><b>type</b></font> group_position <font color="#a52a2a">=</font> UndefPos <font color="#a52a2a">|</font> LeftPos <font color="#a52a2a">|</font> RightPos <font color="#a52a2a">;;</font> <font color="#06c"><b>type</b></font> cycle_type <font color="#a52a2a">=</font> UndefCycle <font color="#a52a2a">|</font> NoneCycle <font color="#a52a2a">|</font> AliphaticCycle <font color="#a52a2a">|</font> AromaticCycle <font color="#a52a2a">|</font> HeteroCycle <font color="#a52a2a">;;</font> <font color="#06c"><b>type</b></font> group_type <font color="#a52a2a">=</font> OrgGroup <font color="#a52a2a">|</font> InorgGroup <font color="#a52a2a">|</font> NeighbourGroup <font color="#06c"><b>of</b></font> int <font color="#a52a2a">;;</font> <font color="#06c"><b>type</b></font> group <font color="#a52a2a">=</font> <font color="#6c6">{</font> name <font color="#a52a2a">:</font> string <font color="#a52a2a">;</font> position <font color="#a52a2a">:</font> group_position <font color="#a52a2a">;</font> cycle <font color="#a52a2a">:</font> cycle_type <font color="#a52a2a">;</font> grouptype <font color="#a52a2a">:</font> group_type <font color="#a52a2a">;</font> link <font color="#a52a2a">:</font> int <font color="#a52a2a">;</font> <font color="#6c6">}</font> <font color="#a52a2a">;;</font></font></code> </li> <li> <code><font color="black"><font color="#06c"><b>type</b></font> group_position <font color="#a52a2a">=</font> UndefPos <font color="#a52a2a">|</font> LeftPos <font color="#a52a2a">|</font> RightPos <font color="#a52a2a">;;</font> <font color="#06c"><b>type</b></font> cycle_type <font color="#a52a2a">=</font> UndefCycle <font color="#a52a2a">|</font> NoneCycle <font color="#a52a2a">|</font> AliphaticCycle <font color="#a52a2a">|</font> AromaticCycle <font color="#a52a2a">|</font> HeteroCycle <font color="#a52a2a">;;</font> <font color="#06c"><b>type</b></font> group_type <font color="#a52a2a">=</font> OrgGroup <font color="#a52a2a">|</font> InorgGroup <font color="#a52a2a">|</font> NeighbourGroup <font color="#06c"><b>of</b></font> int <font color="#a52a2a">;;</font> <font color="#06c"><b>type</b></font> group <font color="#a52a2a">=</font> <font color="#6c6">{</font> name <font color="#a52a2a">:</font> string <font color="#a52a2a">;</font> position <font color="#a52a2a">:</font> group_position <font color="#a52a2a">;</font> cycle <font color="#a52a2a">:</font> cycle_type <font color="#a52a2a">;</font> grouptype <font color="#a52a2a">:</font> group_type <font color="#a52a2a">;</font> link <font color="#a52a2a">:</font> int <font color="#a52a2a">;</font> <font color="#6c6">}</font> <font color="#a52a2a">;;</font></font></code> </li> <li> <code><font color="black"><font color="#06c"><b>type</b></font> group_position <font color="#a52a2a">=</font> UndefPos <font color="#a52a2a">|</font> LeftPos <font color="#a52a2a">|</font> RightPos <font color="#a52a2a">;;</font> <font color="#06c"><b>type</b></font> cycle_type <font color="#a52a2a">=</font> UndefCycle <font color="#a52a2a">|</font> NoneCycle <font color="#a52a2a">|</font> AliphaticCycle <font color="#a52a2a">|</font> AromaticCycle <font color="#a52a2a">|</font> HeteroCycle <font color="#a52a2a">;;</font> <font color="#06c"><b>type</b></font> group_type <font color="#a52a2a">=</font> OrgGroup <font color="#a52a2a">|</font> InorgGroup <font color="#a52a2a">|</font> NeighbourGroup <font color="#06c"><b>of</b></font> int <font color="#a52a2a">;;</font> <font color="#06c"><b>type</b></font> group <font color="#a52a2a">=</font> <font color="#6c6">{</font> name <font color="#a52a2a">:</font> string <font color="#a52a2a">;</font> position <font color="#a52a2a">:</font> group_position <font color="#a52a2a">;</font> cycle <font color="#a52a2a">:</font> cycle_type <font color="#a52a2a">;</font> grouptype <font color="#a52a2a">:</font> group_type <font color="#a52a2a">;</font> link <font color="#a52a2a">:</font> int <font color="#a52a2a">;</font> <font color="#6c6">}</font> <font color="#a52a2a">;;</font></font></code> </li> <li> <code><font color="black"><font color="#06c"><b>type</b></font> group_position <font color="#a52a2a">=</font> UndefPos <font color="#a52a2a">|</font> LeftPos <font color="#a52a2a">|</font> RightPos <font color="#a52a2a">;;</font> <font color="#06c"><b>type</b></font> cycle_type <font color="#a52a2a">=</font> UndefCycle <font color="#a52a2a">|</font> NoneCycle <font color="#a52a2a">|</font> AliphaticCycle <font color="#a52a2a">|</font> AromaticCycle <font color="#a52a2a">|</font> HeteroCycle <font color="#a52a2a">;;</font> <font color="#06c"><b>type</b></font> group_type <font color="#a52a2a">=</font> OrgGroup <font color="#a52a2a">|</font> InorgGroup <font color="#a52a2a">|</font> NeighbourGroup <font color="#06c"><b>of</b></font> int <font color="#a52a2a">;;</font> <font color="#06c"><b>type</b></font> group <font color="#a52a2a">=</font> <font color="#6c6">{</font> name <font color="#a52a2a">:</font> string <font color="#a52a2a">;</font> position <font color="#a52a2a">:</font> group_position <font color="#a52a2a">;</font> cycle <font color="#a52a2a">:</font> cycle_type <font color="#a52a2a">;</font> grouptype <font color="#a52a2a">:</font> group_type <font color="#a52a2a">;</font> link <font color="#a52a2a">:</font> int <font color="#a52a2a">;</font> <font color="#6c6">}</font> <font color="#a52a2a">;;</font></font></code> </li> <li> <code><font color="black"><font color="#06c"><b>type</b></font> group_position <font color="#a52a2a">=</font> UndefPos <font color="#a52a2a">|</font> LeftPos <font color="#a52a2a">|</font> RightPos <font color="#a52a2a">;;</font> <font color="#06c"><b>type</b></font> cycle_type <font color="#a52a2a">=</font> UndefCycle <font color="#a52a2a">|</font> NoneCycle <font color="#a52a2a">|</font> AliphaticCycle <font color="#a52a2a">|</font> AromaticCycle <font color="#a52a2a">|</font> HeteroCycle <font color="#a52a2a">;;</font> <font color="#06c"><b>type</b></font> group_type <font color="#a52a2a">=</font> OrgGroup <font color="#a52a2a">|</font> InorgGroup <font color="#a52a2a">|</font> NeighbourGroup <font color="#06c"><b>of</b></font> int <font color="#a52a2a">;;</font> <font color="#06c"><b>type</b></font> group <font color="#a52a2a">=</font> <font color="#6c6">{</font> name <font color="#a52a2a">:</font> string <font color="#a52a2a">;</font> position <font color="#a52a2a">:</font> group_position <font color="#a52a2a">;</font> cycle <font color="#a52a2a">:</font> cycle_type <font color="#a52a2a">;</font> grouptype <font color="#a52a2a">:</font> group_type <font color="#a52a2a">;</font> link <font color="#a52a2a">:</font> int <font color="#a52a2a">;</font> <font color="#6c6">}</font> <font color="#a52a2a">;;</font></font></code> </li> </ol></blockquote>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Please note that we have an analogue of the C structure ( <b>group</b> ), analogs of enum ( <b>group_position</b> , <b>cycle_type</b> ) and a hybrid type, which can be either an enum or an arbitrary number ( <b>group_type</b> ).  Now add a function to filter: <br><blockquote><ol><li>  <font color="#06c"><b>let</b></font> filter_org <font color="#a52a2a">=</font> <font color="#06c"><b>List</b></font> <font color="#a52a2a">.</font>  <font color="#060">filter</font> <font color="#6c6">(</font> <font color="#06c"><b>fun</b></font> r <font color="#a52a2a">-&gt;</font> <font color="#06c"><b>if</b></font> r <font color="#a52a2a">.</font> <font color="#060">grouptype</font> <font color="#a52a2a">=</font> OrgGroup <font color="#06c"><b>then</b></font> <font color="#06c"><b>true</b></font> <font color="#06c"><b>else</b></font> <font color="#06c"><b>false</b></font> <font color="#6c6">)</font> </li></ol></blockquote><br>  This function will filter the list of groups by the value of the grouptype field - in fact, this is an analogue of what in PHP is called the array_filter function. <br>  Finally, add the registration of the filter function for use in C: <br><blockquote><ol><li>  <font color="#06c"><b>let</b></font> _ <font color="#a52a2a">=</font> </li><li>  <font color="#06c"><b>Callback</b></font> <font color="#a52a2a">.</font>  <font color="#060">register</font> <font color="#3cb371">"filter_organic"</font> filter_org <font color="#a52a2a">;</font> </li><li>  <font color="#a52a2a">;;</font> </li></ol></blockquote><br>  This block will be executed upon initialization of the OCaml part from C, providing us with a remarkable nominal callback. <br>  Now we need to write a wrapper for this. <br><br><h4>  C / C ++ </h4><br>  First of all, we will prepare a common cpart.h file, which will contain common parts for OCaml and PHP wrappers: <br><blockquote><ol><li>  <font color="#339900">#include &lt;vector&gt;</font> </li><li></li><li>  <font color="#0000ff">typedef</font> <font color="#0000ff">enum</font> _group_position <font color="#008000">{</font> </li><li>  UndefPos <font color="#000080">=</font> <font color="#0000dd">0</font> , </li><li>  LeftPos, </li><li>  Rightpos </li><li>  <font color="#008000">}</font> group_position <font color="#008080">;</font> </li><li></li><li>  <font color="#0000ff">typedef</font> <font color="#0000ff">enum</font> _cycle_type <font color="#008000">{</font> </li><li>  UndefCycle <font color="#000080">=</font> <font color="#0000dd">0</font> , </li><li>  NoneCycle </li><li>  AliphaticCycle </li><li>  AromaticCycle </li><li>  Heterocycle </li><li>  <font color="#008000">}</font> cycle_type <font color="#008080">;</font> </li><li></li><li>  <font color="#0000ff">typedef</font> <font color="#0000ff">enum</font> _group_pos <font color="#008000">{</font> </li><li>  OrgGroup <font color="#000080">=</font> <font color="#000040">-</font> <font color="#0000dd">2</font> , </li><li>  InorgGroup <font color="#000080">=</font> <font color="#000040">-</font> <font color="#0000dd">1</font> </li><li>  <font color="#008000">}</font> group_pos <font color="#008080">;</font> </li><li></li><li>  <font color="#0000ff">typedef</font> <font color="#0000ff">struct</font> _group <font color="#008000">{</font> </li><li>  <font color="#0000ff">char</font> <font color="#000040">*</font> name <font color="#008080">;</font> </li><li>  group_position position <font color="#008080">;</font> </li><li>  cycle_type cycle <font color="#008080">;</font> </li><li>  <font color="#0000ff">int</font> group_type <font color="#008080">;</font> </li><li>  <font color="#0000ff">int</font> link <font color="#008080">;</font> </li><li>  <font color="#008000">}</font> group <font color="#008080">;</font> </li><li></li><li>  <font color="#0000ff">void</font> init_ocaml <font color="#008000">(</font> <font color="#008000">)</font> <font color="#008080">;</font> </li><li></li><li>  std <font color="#008080">::</font> <font color="#007788">vector</font> <font color="#000080">&lt;</font> group <font color="#000080">&gt;</font> filter_org <font color="#008000">(</font> std <font color="#008080">::</font> <font color="#007788">vector</font> <font color="#000080">&lt;</font> group <font color="#000080">&gt;</font> g <font color="#008000">)</font> <font color="#008080">;</font> </li></ol></blockquote><br>  We defined type mappings from OCaml and declared two functions ‚Äî to initialize OCaml and the main effective wrapper function, which will filter the data array. <br>  In fact, we will have more functions, but only these we plan to show in the future for PHP.  Now we will write a file ccamlpart.cc with a wrapper for Ocaml.  Headlines first: <br><blockquote><ol><li>  <font color="#339900">#include "cpart.h"</font> </li><li>  <font color="#339900">#ifdef __cplusplus</font> </li><li>  <font color="#0000ff">extern</font> <font color="#FF0000">"C"</font> </li><li>  <font color="#008000">{</font> </li><li>  <font color="#339900">#endif</font> </li><li>  <font color="#339900">#include &lt;caml / mlvalues.h&gt;</font> </li><li>  <font color="#339900">#include &lt;caml / alloc.h&gt;</font> </li><li>  <font color="#339900">#include &lt;caml / callback.h&gt;</font> </li><li>  <font color="#339900">#include &lt;caml / fail.h&gt;</font> </li><li>  <font color="#339900">#include &lt;caml / memory.h&gt;</font> </li><li>  <font color="#339900">#ifdef __cplusplus</font> </li><li>  <font color="#008000">}</font> </li><li>  <font color="#339900">#endif</font> </li><li>  <font color="#339900">#include &lt;string.h&gt;</font> </li></ol></blockquote><br>  Since we use C ++ with its vector, and we have to compile the code as a plus, we don‚Äôt forget about extern for standard OCaml functions.  Now we define auxiliary functions for type conversion between OCaml and C ( <a href="http://pastebin.com/20iKGAUe">here</a> ). <br>  Here, we needed a special function to convert the hybrid OCaml-type group_type - its enum-values ‚Äã‚Äãare stored as simple integers, but the NeighbourGroup is already a structure with one field. <br>  You should also look at three macros: CAMLparamX, CAMLlocalX and CAMLreturn *.  The first one is used for the correct operation of the garbage collector, and takes as input all OCaml variables passed to the function.  The second is used to declare local OCaml variables.  And the third macro is again necessary not only for returning the value, but also for the correct operation of the garbage collector. <br>  And finally, our actual functions for PHP: <br><blockquote><ol><li>  <font color="#0000ff">void</font> init_ocaml <font color="#008000">(</font> <font color="#008000">)</font> </li><li>  <font color="#008000">{</font> </li><li>  <font color="#0000ff">char</font> <font color="#000040">*</font> argv <font color="#008000">[</font> <font color="#0000dd">1</font> <font color="#008000">]</font> <font color="#008080">;</font> </li><li>  argv <font color="#008000">[</font> <font color="#0000dd">0</font> <font color="#008000">]</font> <font color="#000080">=</font> <font color="#0000ff">NULL</font> <font color="#008080">;</font> </li><li>  caml_main <font color="#008000">(</font> argv <font color="#008000">)</font> <font color="#008080">;</font> </li><li>  <font color="#008000">}</font> </li><li></li><li>  std <font color="#008080">::</font> <font color="#007788">vector</font> <font color="#000080">&lt;</font> group <font color="#000080">&gt;</font> filter_org <font color="#008000">(</font> std <font color="#008080">::</font> <font color="#007788">vector</font> <font color="#000080">&lt;</font> group <font color="#000080">&gt;</font> g <font color="#008000">)</font> </li><li>  <font color="#008000">{</font> </li><li>  CAMLparam0 <font color="#008000">(</font> <font color="#008000">)</font> <font color="#008080">;</font> </li><li>  <font color="#0000ff">static</font> value <font color="#000040">*</font> closure_f <font color="#000080">=</font> <font color="#0000ff">NULL</font> <font color="#008080">;</font> </li><li>  <font color="#0000ff">if</font> <font color="#008000">(</font> closure_f <font color="#000080">==</font> <font color="#0000ff">NULL</font> <font color="#008000">)</font> </li><li>  closure_f <font color="#000080">=</font> caml_named_value <font color="#008000">(</font> <font color="#FF0000">"filter_organic"</font> <font color="#008000">)</font> <font color="#008080">;</font> </li><li>  CAMLlocal3 <font color="#008000">(</font> cli, cons, cb_res <font color="#008000">)</font> <font color="#008080">;</font> </li><li>  cli <font color="#000080">=</font> Val_emptylist <font color="#008080">;</font> </li><li>  <font color="#0000ff">for</font> <font color="#008000">(</font> std <font color="#008080">::</font> <font color="#007788">vector</font> <font color="#000080">&lt;</font> group <font color="#000080">&gt;</font> <font color="#008080">::</font> <font color="#007788">iterator</font> i <font color="#000080">=</font> g. <font color="#007788">begin</font> <font color="#008000">(</font> <font color="#008000">)</font> <font color="#008080">;</font> i <font color="#000040">!</font> <font color="#000080">=</font> g. <font color="#007788">end</font> <font color="#008000">(</font> <font color="#008000">)</font> <font color="#008080">;</font> <font color="#000040">++</font> i <font color="#008000">)</font> </li><li>  <font color="#008000">{</font> </li><li>  cons <font color="#000080">=</font> caml_alloc <font color="#008000">(</font> <font color="#0000dd">2</font> , <font color="#0000dd">0</font> <font color="#008000">)</font> <font color="#008080">;</font> </li><li>  Store_field <font color="#008000">(</font> cons, <font color="#0000dd">0</font> , camlgroup_of_group <font color="#008000">(</font> <font color="#000040">&amp;</font> <font color="#008000">(</font> <font color="#000040">*</font> i <font color="#008000">)</font> <font color="#008000">)</font> <font color="#008000">)</font> <font color="#008080">;</font> </li><li>  Store_field <font color="#008000">(</font> cons, <font color="#0000dd">1</font> , cli <font color="#008000">)</font> <font color="#008080">;</font> </li><li>  cli <font color="#000080">=</font> cons <font color="#008080">;</font> </li><li>  <font color="#008000">}</font> </li><li>  cb_res <font color="#000080">=</font> caml_callback <font color="#008000">(</font> <font color="#000040">*</font> closure_f, cli <font color="#008000">)</font> <font color="#008080">;</font> </li><li>  std <font color="#008080">::</font> <font color="#007788">vector</font> <font color="#000080">&lt;</font> group <font color="#000080">&gt;</font> result <font color="#008080">;</font> </li><li>  <font color="#0000ff">while</font> <font color="#008000">(</font> cb_res <font color="#000040">!</font> <font color="#000080">=</font> Val_emptylist <font color="#008000">)</font> </li><li>  <font color="#008000">{</font> </li><li>  result.  <font color="#007788">push_back</font> <font color="#008000">(</font> group_of_camlgroup <font color="#008000">(</font> Field <font color="#008000">(</font> cb_res, <font color="#0000dd">0</font> <font color="#008000">)</font> <font color="#008000">)</font> <font color="#008000">)</font> <font color="#008080">;</font> </li><li>  cb_res <font color="#000080">=</font> Field <font color="#008000">(</font> cb_res, <font color="#0000dd">1</font> <font color="#008000">)</font> <font color="#008080">;</font> </li><li>  <font color="#008000">}</font> </li><li>  <font color="#0000ff">return</font> result <font color="#008080">;</font> </li><li>  <font color="#008000">}</font> </li></ol></blockquote><br>  We simply construct an OCaml-list from a vector: it is arranged literally according to all canons - a structure in which the first field is an element and the second is a pointer to the continuation of the list.  Then we feed this OCaml list and turn the result back into a vector. <br><br>  Let's put all this together in a static library with a makefile: <br><blockquote><ol><li>  ocamlpart <font color="#004400">.</font>  o <font color="#004400">:</font> ocamlpart <font color="#004400">.</font>  ml </li><li>  ocamlopt <font color="#004400">-</font> g <font color="#004400">-</font> output <font color="#004400">-</font> obj <font color="#000088"><b>$ ^</b></font> <font color="#004400">-</font> o <font color="#000088"><b>$ @</b></font> </li><li></li><li>  ccamlpart <font color="#004400">.</font>  o <font color="#004400">:</font> ccamlpart <font color="#004400">.</font>  cc </li><li>  g <font color="#004400">++</font> <font color="#004400">-</font> g <font color="#004400">-</font> c <font color="#004400">-</font> o <font color="#000088"><b>$ @</b></font> <font color="#004400">-</font> I <font color="#CC2200">"` ocamlc -where` "</font> <font color="#000088"><b>$ ^</b></font> </li><li></li><li>  libchempart <font color="#004400">.</font>  a <font color="#004400">:</font> ocamlpart <font color="#004400">.</font>  o ccamlpart <font color="#004400">.</font>  o </li><li>  ar rcs <font color="#000088"><b>$ @</b></font> <font color="#000088"><b>$ ^</b></font> </li><li></li><li>  all <font color="#004400">:</font> libchempart <font color="#004400">.</font>  a </li><li></li><li>  clean <font color="#004400">:</font> </li><li>  rm <font color="#004400">-</font> f <font color="#004400">*.</font>  o <font color="#004400">*.</font>  a <font color="#004400">*.</font>  cmi <font color="#004400">*.</font>  cmx </li></ol></blockquote><br><br><h4>  Php </h4><br>  Now, finally, write a PHP extension.  To do this, we will create a separate folder <b>php</b> in the folder with the project - the extension will create its Makefile, overwriting the one we used above, so we separate one from the other.  Create a <a href="http://pastebin.com/rW7WJdaq">cphppart.h</a> file in it.  In the file, we declared the standard module functions, the Chemlib class, and the global function get_group_of_caml.  We are again forced to use std :: vector, so do not forget about extern for PHP inclusions.  Now in the cphppart.cc file we implement the extension directly.  For a start, the standard information about the extension, class and its functions (see <a href="http://pastebin.com/6cFseLit">here</a> ).  Then the module initialization function ‚Äî it is in it that the class is registered in PHP, and in addition to the methods it also receives properties: <br><blockquote><ol><li>  PHP_MINIT_FUNCTION <font color="#008000">(</font> chemlib <font color="#008000">)</font> </li><li>  <font color="#008000">{</font> </li><li>  init_ocaml <font color="#008000">(</font> <font color="#008000">)</font> <font color="#008080">;</font> </li><li>  zend_class_entry chemlib_ce <font color="#008080">;</font> </li><li>  INIT_CLASS_ENTRY <font color="#008000">(</font> chemlib_ce, PHP_CHEMLIB_CLASS_NAME, chemlib_class_functions <font color="#008000">)</font> <font color="#008080">;</font> </li><li>  chemlib_class_entry <font color="#000080">=</font> zend_register_internal_class <font color="#008000">(</font> <font color="#000040">&amp;</font> chemlib_ce TSRMLS_CC <font color="#008000">)</font> <font color="#008080">;</font> </li><li>  zend_declare_property_string <font color="#008000">(</font> chemlib_class_entry, <font color="#008000">(</font> <font color="#0000ff">char</font> <font color="#000040">*</font> <font color="#008000">)</font> <font color="#FF0000">"name"</font> , <font color="#0000dd">4</font> , <font color="#008000">(</font> <font color="#0000ff">char</font> <font color="#000040">*</font> <font color="#008000">)</font> <font color="#FF0000">""</font> , ZEND_ACC_PUBLIC TSRMLS_CC <font color="#008000">)</font> <font color="#008080">;</font> </li><li>  zend_declare_property_long <font color="#008000">(</font> chemlib_class_entry, <font color="#008000">(</font> <font color="#0000ff">char</font> <font color="#000040">*</font> <font color="#008000">)</font> <font color="#FF0000">"position"</font> , <font color="#0000dd">8</font> , <font color="#0000dd">0</font> , ZEND_ACC_PUBLIC TSRMLS_CC <font color="#008000">)</font> <font color="#008080">;</font> </li><li>  zend_declare_property_long <font color="#008000">(</font> chemlib_class_entry, <font color="#008000">(</font> <font color="#0000ff">char</font> <font color="#000040">*</font> <font color="#008000">)</font> <font color="#FF0000">"cycle"</font> , <font color="#0000dd">5</font> , <font color="#0000dd">0</font> , ZEND_ACC_PUBLIC TSRMLS_CC <font color="#008000">)</font> <font color="#008080">;</font> </li><li>  zend_declare_property_long <font color="#008000">(</font> chemlib_class_entry, <font color="#008000">(</font> <font color="#0000ff">char</font> <font color="#000040">*</font> <font color="#008000">)</font> <font color="#FF0000">"group_type"</font> , <font color="#0000dd">10</font> , <font color="#0000dd">0</font> , ZEND_ACC_PUBLIC TSRMLS_CC <font color="#008000">)</font> <font color="#008080">;</font> </li><li>  zend_declare_property_long <font color="#008000">(</font> chemlib_class_entry, <font color="#008000">(</font> <font color="#0000ff">char</font> <font color="#000040">*</font> <font color="#008000">)</font> <font color="#FF0000">"link"</font> , <font color="#0000dd">4</font> , <font color="#0000dd">0</font> , ZEND_ACC_PUBLIC TSRMLS_CC <font color="#008000">)</font> <font color="#008080">;</font> </li><li></li><li>  zend_declare_class_constant_long <font color="#008000">(</font> chemlib_class_entry, <font color="#008000">(</font> <font color="#0000ff">char</font> <font color="#000040">*</font> <font color="#008000">)</font> <font color="#FF0000">"UndefPos"</font> , <font color="#0000dd">8</font> , <font color="#0000dd">0</font> TSRMLS_CC <font color="#008000">)</font> <font color="#008080">;</font> </li><li>  zend_declare_class_constant_long <font color="#008000">(</font> chemlib_class_entry, <font color="#008000">(</font> <font color="#0000ff">char</font> <font color="#000040">*</font> <font color="#008000">)</font> <font color="#FF0000">"LeftPos"</font> , <font color="#0000dd">7</font> , <font color="#0000dd">1</font> TSRMLS_CC <font color="#008000">)</font> <font color="#008080">;</font> </li><li>  zend_declare_class_constant_long <font color="#008000">(</font> chemlib_class_entry, <font color="#008000">(</font> <font color="#0000ff">char</font> <font color="#000040">*</font> <font color="#008000">)</font> <font color="#FF0000">"RightPos"</font> , <font color="#0000dd">8</font> , <font color="#0000dd">2</font> TSRMLS_CC <font color="#008000">)</font> <font color="#008080">;</font> </li><li></li><li>  zend_declare_class_constant_long <font color="#008000">(</font> chemlib_class_entry, <font color="#008000">(</font> <font color="#0000ff">char</font> <font color="#000040">*</font> <font color="#008000">)</font> <font color="#FF0000">"UndefCycle"</font> , <font color="#0000dd">10</font> , <font color="#0000dd">0</font> TSRMLS_CC <font color="#008000">)</font> <font color="#008080">;</font> </li><li>  zend_declare_class_constant_long <font color="#008000">(</font> chemlib_class_entry, <font color="#008000">(</font> <font color="#0000ff">char</font> <font color="#000040">*</font> <font color="#008000">)</font> <font color="#FF0000">"NoneCycle"</font> , <font color="#0000dd">9</font> , <font color="#0000dd">1</font> TSRMLS_CC <font color="#008000">)</font> <font color="#008080">;</font> </li><li>  zend_declare_class_constant_long <font color="#008000">(</font> chemlib_class_entry, <font color="#008000">(</font> <font color="#0000ff">char</font> <font color="#000040">*</font> <font color="#008000">)</font> <font color="#FF0000">"AliphaticCycle"</font> , <font color="#0000dd">14</font> , <font color="#0000dd">2</font> TSRMLS_CC <font color="#008000">)</font> <font color="#008080">;</font> </li><li>  zend_declare_class_constant_long <font color="#008000">(</font> chemlib_class_entry, <font color="#008000">(</font> <font color="#0000ff">char</font> <font color="#000040">*</font> <font color="#008000">)</font> <font color="#FF0000">"AromaticCycle"</font> , <font color="#0000dd">13</font> , <font color="#0000dd">3</font> TSRMLS_CC <font color="#008000">)</font> <font color="#008080">;</font> </li><li>  zend_declare_class_constant_long <font color="#008000">(</font> chemlib_class_entry, <font color="#008000">(</font> <font color="#0000ff">char</font> <font color="#000040">*</font> <font color="#008000">)</font> <font color="#FF0000">"HeteroCycle"</font> , <font color="#0000dd">11</font> , <font color="#0000dd">4</font> TSRMLS_CC <font color="#008000">)</font> <font color="#008080">;</font> </li><li></li><li>  zend_declare_class_constant_long <font color="#008000">(</font> chemlib_class_entry, <font color="#008000">(</font> <font color="#0000ff">char</font> <font color="#000040">*</font> <font color="#008000">)</font> <font color="#FF0000">"OrgGroup"</font> , <font color="#0000dd">8</font> , <font color="#000040">-</font> <font color="#0000dd">2</font> TSRMLS_CC <font color="#008000">)</font> <font color="#008080">;</font> </li><li>  zend_declare_class_constant_long <font color="#008000">(</font> chemlib_class_entry, <font color="#008000">(</font> <font color="#0000ff">char</font> <font color="#000040">*</font> <font color="#008000">)</font> <font color="#FF0000">"InorgGroup"</font> , <font color="#0000dd">10</font> , <font color="#000040">-</font> <font color="#0000dd">1</font> TSRMLS_CC <font color="#008000">)</font> <font color="#008080">;</font> </li><li>  <font color="#008000">}</font> <font color="#008080">;</font> </li><li></li></ol></blockquote><br>  As you can see, we set the class with all the same properties as in C for the group structure, in addition, we declared convenient constants of the Chemlib :: OrgGroup type.  Add default functions, functionality that everyone can fill to taste ( <a href="http://pastebin.com/UBejsqjL">here</a> ).  Season with auxiliary internal functions for converting a group between C and PHP: <br><blockquote><ol><li>  zval <font color="#000040">*</font> phpgroup_of_group <font color="#008000">(</font> group <font color="#000040">*</font> gr <font color="#008000">)</font> </li><li>  <font color="#008000">{</font> </li><li>  zval <font color="#000040">*</font> res <font color="#008080">;</font> </li><li>  ALLOC_INIT_ZVAL <font color="#008000">(</font> res <font color="#008000">)</font> <font color="#008080">;</font> </li><li>  object_init_ex <font color="#008000">(</font> res, chemlib_class_entry <font color="#008000">)</font> <font color="#008080">;</font> </li><li>  zend_update_property_string <font color="#008000">(</font> Z_OBJCE_P <font color="#008000">(</font> res <font color="#008000">)</font> , res, <font color="#008000">(</font> <font color="#0000ff">char</font> <font color="#000040">*</font> <font color="#008000">)</font> <font color="#FF0000">"name"</font> , <font color="#0000dd">4</font> , gr <font color="#000040">-</font> <font color="#000080">&gt;</font> name TSRMLS_CC <font color="#008000">)</font> <font color="#008080">;</font> </li><li>  zend_update_property_long <font color="#008000">(</font> Z_OBJCE_P <font color="#008000">(</font> res <font color="#008000">)</font> , res, <font color="#008000">(</font> <font color="#0000ff">char</font> <font color="#000040">*</font> <font color="#008000">)</font> <font color="#FF0000">"position"</font> , <font color="#0000dd">8</font> , gr <font color="#000040">-</font> <font color="#000080">&gt;</font> position TSRMLS_CC <font color="#008000">)</font> <font color="#008080">;</font> </li><li>  zend_update_property_long <font color="#008000">(</font> Z_OBJCE_P <font color="#008000">(</font> res <font color="#008000">)</font> , res, <font color="#008000">(</font> <font color="#0000ff">char</font> <font color="#000040">*</font> <font color="#008000">)</font> <font color="#FF0000">"cycle"</font> , <font color="#0000dd">5</font> , gr <font color="#000040">-</font> <font color="#000080">&gt;</font> cycle TSRMLS_CC <font color="#008000">)</font> <font color="#008080">;</font> </li><li>  zend_update_property_long <font color="#008000">(</font> Z_OBJCE_P <font color="#008000">(</font> res <font color="#008000">)</font> , res, <font color="#008000">(</font> <font color="#0000ff">char</font> <font color="#000040">*</font> <font color="#008000">)</font> <font color="#FF0000">"group_type"</font> , <font color="#0000dd">10</font> , gr <font color="#000040">-</font> <font color="#000080">&gt;</font> group_type TSRMLS_CC <font color="#008000">)</font> <font color="#008080">;</font> </li><li>  zend_update_property_long <font color="#008000">(</font> Z_OBJCE_P <font color="#008000">(</font> res <font color="#008000">)</font> , res, <font color="#008000">(</font> <font color="#0000ff">char</font> <font color="#000040">*</font> <font color="#008000">)</font> <font color="#FF0000">"link"</font> , <font color="#0000dd">4</font> , gr <font color="#000040">-</font> <font color="#000080">&gt;</font> link TSRMLS_CC <font color="#008000">)</font> <font color="#008080">;</font> </li><li>  <font color="#0000ff">return</font> res <font color="#008080">;</font> </li><li></li><li>  <font color="#008000">}</font> </li><li></li><li>  group group_of_phpgroup <font color="#008000">(</font> zval <font color="#000040">*</font> gr <font color="#008000">)</font> </li><li>  <font color="#008000">{</font> </li><li>  group res, def <font color="#008080">;</font> </li><li>  zval <font color="#000040">*</font> x <font color="#000080">=</font> zend_read_property <font color="#008000">(</font> chemlib_class_entry, gr, <font color="#008000">(</font> <font color="#0000ff">char</font> <font color="#000040">*</font> <font color="#008000">)</font> <font color="#FF0000">"name"</font> , <font color="#0000dd">4</font> , <font color="#0000dd">1</font> TSRMLS_CC <font color="#008000">)</font> <font color="#008080">;</font> </li><li>  <font color="#0000ff">if</font> <font color="#008000">(</font> Z_TYPE_P <font color="#008000">(</font> x <font color="#008000">)</font> <font color="#000040">!</font> <font color="#000080">=</font> IS_STRING <font color="#008000">)</font> </li><li>  <font color="#0000ff">return</font> def <font color="#008080">;</font> </li><li>  res.  <font color="#007788">name</font> <font color="#000080">=</font> estrdup <font color="#008000">(</font> Z_STRVAL_P <font color="#008000">(</font> x <font color="#008000">)</font> <font color="#008000">)</font> <font color="#008080">;</font> </li><li>  x <font color="#000080">=</font> zend_read_property <font color="#008000">(</font> chemlib_class_entry, gr, <font color="#008000">(</font> <font color="#0000ff">char</font> <font color="#000040">*</font> <font color="#008000">)</font> <font color="#FF0000">"position"</font> , <font color="#0000dd">8</font> , <font color="#0000dd">1</font> TSRMLS_CC <font color="#008000">)</font> <font color="#008080">;</font> </li><li>  <font color="#0000ff">if</font> <font color="#008000">(</font> Z_TYPE_P <font color="#008000">(</font> x <font color="#008000">)</font> <font color="#000040">!</font> <font color="#000080">=</font> IS_LONG <font color="#008000">)</font> </li><li>  <font color="#0000ff">return</font> def <font color="#008080">;</font> </li><li>  res.  <font color="#007788">position</font> <font color="#000080">=</font> <font color="#008000">(</font> group_position <font color="#008000">)</font> Z_LVAL_P <font color="#008000">(</font> x <font color="#008000">)</font> <font color="#008080">;</font> </li><li>  x <font color="#000080">=</font> zend_read_property <font color="#008000">(</font> chemlib_class_entry, gr, <font color="#008000">(</font> <font color="#0000ff">char</font> <font color="#000040">*</font> <font color="#008000">)</font> <font color="#FF0000">"cycle"</font> , <font color="#0000dd">5</font> , <font color="#0000dd">1</font> TSRMLS_CC <font color="#008000">)</font> <font color="#008080">;</font> </li><li>  <font color="#0000ff">if</font> <font color="#008000">(</font> Z_TYPE_P <font color="#008000">(</font> x <font color="#008000">)</font> <font color="#000040">!</font> <font color="#000080">=</font> IS_LONG <font color="#008000">)</font> </li><li>  <font color="#0000ff">return</font> def <font color="#008080">;</font> </li>  li style = "font-weight: n </ol></blockquote></div><p>Source: <a href="https://habr.com/ru/post/98185/">https://habr.com/ru/post/98185/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../98176/index.html">About Kingmax Hercules DDR3 2200 overclocker memory and overclocker variants</a></li>
<li><a href="../98179/index.html">4GB RAM - 32-bit or 64-bit system?</a></li>
<li><a href="../98180/index.html">FireFox for Maemo - Final</a></li>
<li><a href="../98181/index.html">Habrovodstvo</a></li>
<li><a href="../98183/index.html">Battle begins</a></li>
<li><a href="../98186/index.html">Social networks - connected or kidnappers of time</a></li>
<li><a href="../98187/index.html">The complexity of the person in the interaction with technology in different stages of life</a></li>
<li><a href="../98191/index.html">Google Apps accounts will be Google accounts.</a></li>
<li><a href="../98192/index.html">I need to google it</a></li>
<li><a href="../98193/index.html">First preview released version MEF 2</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>