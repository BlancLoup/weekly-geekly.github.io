<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Ribs.js - nested attributes, computed fields and binding for Backbone.js</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hello! My name is Valery Zaitsev, I am a client side developer of the Target Mail.ru project. In our project, we use the well-known library Backbone.j...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Ribs.js - nested attributes, computed fields and binding for Backbone.js</h1><div class="post__text post__text-html js-mediator-article"> <a href="http://habrahabr.ru/company/mailru/blog/228135/"><img src="https://habrastorage.org/getpro/habr/post_images/0eb/d63/de0/0ebd63de0251d5479959ee0dd275cfad.jpg"></a> <br><br>  Hello!  My name is Valery Zaitsev, I am a client side developer of the <a href="https://target.mail.ru/">Target Mail.ru</a> project.  In our project, we use the well-known library Backbone.js, and, of course, we have something to miss.  After thinking about possible solutions to our problems, I decided to write my addition to Backbone.js, as they say with blackjack and ... I want to tell you about it in this article. <br><br>  <a href="">Ribs.js</a> is a library that enhances Backbone.  And the beauty of what expands and does not change.  You can use your favorite Backbone, as before, but by necessity use new features: <br><ul><li>  nested attributes: work with the attributes of the model of any nesting; </li><li>  calculated attributes: adding attributes to the model that are automatically recalculated when dependencies change (other model attributes); </li><li>  Binding: A dynamic relationship between model attributes and DOM elements. </li></ul><br>  Consider these features in more detail. <br><a name="habracut"></a><br><h1>  Nested Attributes </h1>  Let's start with the simplest and most obvious.  If you write a lot on Backbone, then you probably have a problem when you need to make changes to the model, the attributes of which are far from flat. <br><pre><code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> Simpsons = Backbone.Ribs.Model.extend({ <span class="hljs-attr"><span class="hljs-attr">defaults</span></span>: { <span class="hljs-attr"><span class="hljs-attr">homer</span></span>: { <span class="hljs-attr"><span class="hljs-attr">age</span></span>: <span class="hljs-number"><span class="hljs-number">40</span></span>, <span class="hljs-attr"><span class="hljs-attr">weight</span></span>: <span class="hljs-number"><span class="hljs-number">90</span></span>, <span class="hljs-attr"><span class="hljs-attr">job</span></span>: <span class="hljs-string"><span class="hljs-string">'Safety Inspector'</span></span> }, <span class="hljs-attr"><span class="hljs-attr">bart</span></span>: { <span class="hljs-attr"><span class="hljs-attr">age</span></span>: <span class="hljs-number"><span class="hljs-number">10</span></span>, <span class="hljs-attr"><span class="hljs-attr">weight</span></span>: <span class="hljs-number"><span class="hljs-number">30</span></span>, <span class="hljs-attr"><span class="hljs-attr">job</span></span>: <span class="hljs-string"><span class="hljs-string">'4th grade student'</span></span> } } }); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> family = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Simpsons();</code> </pre> <br>  Suppose Homer had a good lunch and gained a few kilograms: 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      <b>Backbone:</b> <br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> homer = _.clone(family.get(<span class="hljs-string"><span class="hljs-string">'homer'</span></span>)); homer.weight = <span class="hljs-number"><span class="hljs-number">92</span></span>; family.set(<span class="hljs-string"><span class="hljs-string">'homer'</span></span>, homer);</code> </pre><br>  In order not to violate the get / set approach, we need to: <br><ol><li>  pick up an object from the model; </li><li>  create a copy of this object; </li><li>  make the necessary changes; </li><li>  put back. </li></ol><br>  Agree, this is extremely inconvenient.  And if you take into account the fact that objects can be huge, then it is also very expensive.  It is much easier to change exactly the attribute you need: <br><br>  <b>Backbone + Ribs:</b> <br><pre> <code class="javascript hljs">family.set(<span class="hljs-string"><span class="hljs-string">'homer.weight'</span></span>, <span class="hljs-number"><span class="hljs-number">92</span></span>);</code> </pre><br>  As a result of this set-a, the event <code>'change:homer.weight'</code> will be generated.  It is possible that you need events to be generated across the entire nesting chain.  To do this, the set method must pass <code>{propagation: true}</code> . <br><pre> <code class="javascript hljs">family.set(<span class="hljs-string"><span class="hljs-string">'homer.weight'</span></span>, <span class="hljs-number"><span class="hljs-number">92</span></span>, {<span class="hljs-attr"><span class="hljs-attr">propagation</span></span>: <span class="hljs-literal"><span class="hljs-literal">true</span></span>});</code> </pre><br>  In this case, the events <code>'change:homer.weight'</code> and <code>'change:homer'</code> will be generated. <br><br><h1>  Calculated Attributes </h1>  At once I will make a reservation that I used to call them computed fields, so please excuse me for double terminology.  So let's get started.  Very often there is a situation when the attributes of the model need to be transformed into a specific form (let's call it ‚Äúresult‚Äù), and then use this result, and not even in one place.  And it would be nice if the attribute is updated, the result is updated, and everything that is tied to it would also be updated.  The result is a rather cumbersome string of additional methods and subscriptions, which in the future will be quite problematic to maintain. <br><br>  For example, Professor Frink conceived some kind of insane research in which it is very important for him to control the total weight of Homer and Bart.  Let's compare implementations on pure Backbone and on Backbone + Ribs. <br><br>  <b>Backbone:</b> <br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> Simpsons = Backbone.Model.extend({ <span class="hljs-attr"><span class="hljs-attr">defaults</span></span>: { <span class="hljs-attr"><span class="hljs-attr">homer</span></span>: { <span class="hljs-attr"><span class="hljs-attr">age</span></span>: <span class="hljs-number"><span class="hljs-number">40</span></span>, <span class="hljs-attr"><span class="hljs-attr">weight</span></span>: <span class="hljs-number"><span class="hljs-number">90</span></span>, <span class="hljs-attr"><span class="hljs-attr">job</span></span>: <span class="hljs-string"><span class="hljs-string">'Safety Inspector'</span></span> }, <span class="hljs-attr"><span class="hljs-attr">bart</span></span>: { <span class="hljs-attr"><span class="hljs-attr">age</span></span>: <span class="hljs-number"><span class="hljs-number">10</span></span>, <span class="hljs-attr"><span class="hljs-attr">weight</span></span>: <span class="hljs-number"><span class="hljs-number">30</span></span>, <span class="hljs-attr"><span class="hljs-attr">job</span></span>: <span class="hljs-string"><span class="hljs-string">'4th grade student'</span></span> } } }); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> family = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Simpsons(), doSmth = <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">model, value</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(value); }; family.on(<span class="hljs-string"><span class="hljs-string">'change:bart'</span></span>, <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">model, bart</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> prev = family.previous(<span class="hljs-string"><span class="hljs-string">'bart'</span></span>).weight; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (bart.weight !== prev) { doSmth(family, bart.weight + family.get(<span class="hljs-string"><span class="hljs-string">'homer'</span></span>).weight); } }); family.on(<span class="hljs-string"><span class="hljs-string">'change:homer'</span></span>, <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">model, homer</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> prev = family.previous(<span class="hljs-string"><span class="hljs-string">'homer'</span></span>).weight; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (homer.weight !== prev) { doSmth(family, homer.weight + family.get(<span class="hljs-string"><span class="hljs-string">'bart'</span></span>).weight); } }); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> bart = _.clone(family.get(<span class="hljs-string"><span class="hljs-string">'bart'</span></span>)); bart.weight = <span class="hljs-number"><span class="hljs-number">32</span></span>; family.set(<span class="hljs-string"><span class="hljs-string">'bart'</span></span>, bart);<span class="hljs-comment"><span class="hljs-comment">//   : 122 var homer = _.clone(family.get('homer')); homer.weight = 91; family.set('homer', homer);//   : 123</span></span></code> </pre><br>  It was possible to write a little differently, but it does not greatly save the situation.  Let us examine what we have written here.  Defined a function that will do something with the desired total weight.  Subscribed to handling <code>'change:homer'</code> and <code>'change:bart'</code> .  In the handlers, we check if the weight value has changed, and in this case we call our working function.  Agree, there is a lot of scribbling for a fairly simple and common situation.  Now the same, but shorter, clearer and easier. <br><br>  <b>Backbone + Ribs:</b> <br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> Simpsons = Backbone.Ribs.Model.extend({ <span class="hljs-attr"><span class="hljs-attr">defaults</span></span>: { <span class="hljs-attr"><span class="hljs-attr">homer</span></span>: { <span class="hljs-attr"><span class="hljs-attr">age</span></span>: <span class="hljs-number"><span class="hljs-number">40</span></span>, <span class="hljs-attr"><span class="hljs-attr">weight</span></span>: <span class="hljs-number"><span class="hljs-number">90</span></span>, <span class="hljs-attr"><span class="hljs-attr">job</span></span>: <span class="hljs-string"><span class="hljs-string">'Safety Inspector'</span></span> }, <span class="hljs-attr"><span class="hljs-attr">bart</span></span>: { <span class="hljs-attr"><span class="hljs-attr">age</span></span>: <span class="hljs-number"><span class="hljs-number">10</span></span>, <span class="hljs-attr"><span class="hljs-attr">weight</span></span>: <span class="hljs-number"><span class="hljs-number">30</span></span>, <span class="hljs-attr"><span class="hljs-attr">job</span></span>: <span class="hljs-string"><span class="hljs-string">'4th grade student'</span></span> } }, <span class="hljs-attr"><span class="hljs-attr">computeds</span></span>: { <span class="hljs-attr"><span class="hljs-attr">totalWeight</span></span>: { <span class="hljs-attr"><span class="hljs-attr">deps</span></span>: [<span class="hljs-string"><span class="hljs-string">'homer.weight'</span></span>, <span class="hljs-string"><span class="hljs-string">'bart.weight'</span></span>], <span class="hljs-attr"><span class="hljs-attr">get</span></span>: <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">h, b</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> h + b; } } } }); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> family = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Simpsons(), doSmth = <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">model, value</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(value); }; family.on(<span class="hljs-string"><span class="hljs-string">'change:totalWeight'</span></span>, doSmth); family.set(<span class="hljs-string"><span class="hljs-string">'bart.weight'</span></span>, <span class="hljs-number"><span class="hljs-number">32</span></span>); <span class="hljs-comment"><span class="hljs-comment">//   : 122 family.set('homer.weight', 91); //   : 123</span></span></code> </pre><br>  What is going on here ?!  We added a calculated field that depends on two attributes.  When changing any of the attributes, the calculated field is recalculated automatically.  The calculated attribute can be perceived as a normal attribute. <br><br>  You can read its meaning: <br><pre> <code class="javascript hljs">family.get(<span class="hljs-string"><span class="hljs-string">'totalWeight'</span></span>); <span class="hljs-comment"><span class="hljs-comment">// 120</span></span></code> </pre><br>  You can subscribe to change it: <br><pre> <code class="javascript hljs">family.on(<span class="hljs-string"><span class="hljs-string">'change:totalWeight'</span></span>, <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{});</code> </pre><br>  If necessary, you can describe the set method for the calculated field, and set it without a twinge of conscience.  It should be noted that the calculated fields can be used in the dependencies of other calculated fields.  Also, computed fields are very convenient in binding! <br><br><h1>  Binding </h1>  Binding is the connection between a model and a DOM element.  Easier here and not say.  Every day a web developer has to output all kinds of data to the interface.  Watch for their changes.  Update.  Output again ... And then the work day is over.  Let's return to our yellow friends.  Suppose we wanted to output the total weight in some <code>span</code> . <br><br>  <b>Backbone:</b> <br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> Simpsons = Backbone.Model.extend({ <span class="hljs-attr"><span class="hljs-attr">defaults</span></span>: { <span class="hljs-attr"><span class="hljs-attr">homer</span></span>: { <span class="hljs-attr"><span class="hljs-attr">age</span></span>: <span class="hljs-number"><span class="hljs-number">40</span></span>, <span class="hljs-attr"><span class="hljs-attr">weight</span></span>: <span class="hljs-number"><span class="hljs-number">90</span></span>, <span class="hljs-attr"><span class="hljs-attr">job</span></span>: <span class="hljs-string"><span class="hljs-string">'Safety Inspector'</span></span> }, <span class="hljs-attr"><span class="hljs-attr">bart</span></span>: { <span class="hljs-attr"><span class="hljs-attr">age</span></span>: <span class="hljs-number"><span class="hljs-number">10</span></span>, <span class="hljs-attr"><span class="hljs-attr">weight</span></span>: <span class="hljs-number"><span class="hljs-number">30</span></span>, <span class="hljs-attr"><span class="hljs-attr">job</span></span>: <span class="hljs-string"><span class="hljs-string">'4th grade student'</span></span> } } }); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> Table = Backbone.View.extend({ <span class="hljs-attr"><span class="hljs-attr">initialize</span></span>: <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">family</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.family = family; family.on(<span class="hljs-string"><span class="hljs-string">'change:bart'</span></span>, <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">model, bart</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> prev = <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.family.previous(<span class="hljs-string"><span class="hljs-string">'bart'</span></span>).weight; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (bart.weight !== prev) { <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.onchangeTotalWeight(bart.weight + family.get(<span class="hljs-string"><span class="hljs-string">'homer'</span></span>).weight); } }, <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>); family.on(<span class="hljs-string"><span class="hljs-string">'change:homer'</span></span>, <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">model, homer</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> prev = family.previous(<span class="hljs-string"><span class="hljs-string">'homer'</span></span>).weight; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (homer.weight !== prev) { <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.onchangeTotalWeight(homer.weight + family.get(<span class="hljs-string"><span class="hljs-string">'bart'</span></span>).weight); } }, <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>); }, <span class="hljs-attr"><span class="hljs-attr">onchangeTotalWeight</span></span>: <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">totalWeight</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.$(<span class="hljs-string"><span class="hljs-string">'span'</span></span>).text(totalWeight); } }); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> family = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Simpsons(), table = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Table(family);</code> </pre><br><br>  <b>Backbone + Ribs:</b> <br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> Simpsons = Backbone.Ribs.Model.extend({ <span class="hljs-attr"><span class="hljs-attr">defaults</span></span>: { <span class="hljs-attr"><span class="hljs-attr">homer</span></span>: { <span class="hljs-attr"><span class="hljs-attr">age</span></span>: <span class="hljs-number"><span class="hljs-number">40</span></span>, <span class="hljs-attr"><span class="hljs-attr">weight</span></span>: <span class="hljs-number"><span class="hljs-number">90</span></span>, <span class="hljs-attr"><span class="hljs-attr">job</span></span>: <span class="hljs-string"><span class="hljs-string">'Safety Inspector'</span></span> }, <span class="hljs-attr"><span class="hljs-attr">bart</span></span>: { <span class="hljs-attr"><span class="hljs-attr">age</span></span>: <span class="hljs-number"><span class="hljs-number">10</span></span>, <span class="hljs-attr"><span class="hljs-attr">weight</span></span>: <span class="hljs-number"><span class="hljs-number">30</span></span>, <span class="hljs-attr"><span class="hljs-attr">job</span></span>: <span class="hljs-string"><span class="hljs-string">'4th grade student'</span></span> } }, <span class="hljs-attr"><span class="hljs-attr">computeds</span></span>: { <span class="hljs-attr"><span class="hljs-attr">totalWeight</span></span>: { <span class="hljs-attr"><span class="hljs-attr">deps</span></span>: [<span class="hljs-string"><span class="hljs-string">'homer.weight'</span></span>, <span class="hljs-string"><span class="hljs-string">'bart.weight'</span></span>], <span class="hljs-attr"><span class="hljs-attr">get</span></span>: <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">h, b</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> h + b; } } } }); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> Table = Backbone.Ribs.View.extend({ <span class="hljs-attr"><span class="hljs-attr">bindings</span></span>: { <span class="hljs-string"><span class="hljs-string">'span'</span></span>: {<span class="hljs-attr"><span class="hljs-attr">text</span></span>: <span class="hljs-string"><span class="hljs-string">'family.totalWeight'</span></span>} }, <span class="hljs-attr"><span class="hljs-attr">initialize</span></span>: <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">family</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.family = family; } }); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> family = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Simpsons(), table = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Table(family);</code> </pre><br>  Now, with any changes in the weight of Homer or Bart, the <code>span</code> will be updated.  In addition to the text, you can create other links between the parameters of the DOM elements and the attributes of the models: <br><ul><li>  two-way communication with input types of various types (text, checkbox, radio); </li><li>  css-attribute; </li><li>  css-classes; </li><li>  modifiers; </li><li>  and other. </li></ul><br>  In addition to the usual binding in Ribs.js, you can create a <b>binding collection</b> .  The description of this mechanism deserves a separate article, therefore, within the framework of this article I will tell in two words.  Binding a collection links a collection of models, Backbone.View, and a certain DOM element.  For each model from the collection, its own instance of View is created and placed in the DOM element.  And with any changes to the collection (adding / removing models, sorting) the interface is updated without your intervention.  This gives you a dynamic presentation for the entire collection.  The scope is obvious - various lists and structures with the same type of data. <br><br><h1>  Why choose Ribs.js and not something else? </h1>  On the Internet there are a number of libraries that add the ability to work with nested attributes.  There are libraries that implement binding.  But these are different libraries, and making them work together is a very difficult task, and most likely unrealizable. <br><br>  The three components of Ribs.js (nested attributes, calculated fields, and binding) can work independently of each other.  But all power is revealed when you use them together (the last example clearly illustrates this). <br><br>  The closest competitor I know is Epoxy.js.  This is a library with similar features, but: <br><ul><li>  it does not know how to work with nested attributes, and this, as we have already seen, is a very useful thing; </li><li>  one collection can be used only in one binding (in Ribs.js, you can create as many different representations as you want on the basis of one collection); </li><li>  in a test with a binding collection of 10,000 models, Epoxy.js is inferior to Ribs.js almost 2 times.  The test sources are <a href="https://github.com/ZaValera/backbone.ribs/tree/master/epoxyVSribs">here</a> ; </li><li>  There are a number of quibbles to the implementation and ease of use.  In complex tasks because of this, you have to invent workarounds and insert crutches. </li></ul><br>  Using Ribs.js, you can concentrate on business logic, without being distracted by the implementation of the simplest mechanisms.  The code becomes clearer and more compact, and this has a very positive effect on both the development itself and subsequent support.  In addition, work on Ribs.js will continue.  Many ideas implemented in Ribs.js were born in the course of work on real combat missions.  These ideas will appear further, and the best of them will fall into the next versions of the library. </div><p>Source: <a href="https://habr.com/ru/post/228135/">https://habr.com/ru/post/228135/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../228115/index.html">Disaster Recovery Planning. Part Three - Final</a></li>
<li><a href="../228121/index.html">DIY projection screen</a></li>
<li><a href="../228123/index.html">Online Store Migration: Testing Your Shop on a Different Platform</a></li>
<li><a href="../228125/index.html">Reactive programming for Android</a></li>
<li><a href="../228131/index.html">The infrastructure processing queues in the social network My World</a></li>
<li><a href="../228137/index.html">Charles Herzfield: Director of DARPA and the Godfather of ARPANET</a></li>
<li><a href="../228139/index.html">How we stopped being afraid of Ogre and started making a game on it</a></li>
<li><a href="../228141/index.html">Mojolicious Documentation: Lost Chapters</a></li>
<li><a href="../228145/index.html">Bare Fridays # 1</a></li>
<li><a href="../228147/index.html">How to make money on an indie game</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>