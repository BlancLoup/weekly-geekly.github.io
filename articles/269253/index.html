<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Intel RealSense R200 Camera - Code Samples</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="For programmers who have recently started working with Intel RealSense technology, we have prepared a post with three simple examples demonstrating th...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Intel RealSense R200 Camera - Code Samples</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/files/058/f3e/f62/058f3ef629b947eba6b30b8b19661e2f.jpg"><br><br>  For programmers who have recently started working with Intel RealSense technology, we have prepared a post with three simple examples demonstrating the capabilities of the R200 camera.  Examples include: <br><ul><li>  Record and view raw streams </li><li>  Changing the depth focus </li><li>  Face tracking </li></ul><br><a name="habracut"></a><br><h2>  <font color="#0071c5">Record and view the raw streams of the R200 camera</font> </h2><br>  <a href="">This downloadable code</a> demonstrates the basics of capturing and viewing the raw streams of the R200 camera on C # / XAML using the <a href="https://software.intel.com/en-us/intel-realsense-sdk/download">Intel¬Æ RealSense ‚Ñ¢ SDK for Windows *</a> .  The Visual Studio * solution consists of four simple projects (the size of each is no more than 200 lines of code). <br><ul><li>  ColorStream - display the color stream from the RGB camera. </li><li>  DepthStream - display stream depth. </li><li>  IRStreams - display of the right and left streams of an infrared camera. </li><li>  AllStreams - display of all listed in one window (see fig. 1). </li></ul><br><img src="https://habrastorage.org/files/ec4/ceb/cf9/ec4cebcf945a497e863888a1e014ed85.jpg"><br>  <i>Figure 1. Sample code for all threads</i> <br><br><h4>  Software development environment </h4><br>  This sample code was created in Windows¬Æ 10 RTM using Microsoft Visual Studio Community 2015. For this sample, we used the <b>Visual C #</b> project template - <b>Windows</b> - <b>Classic Desktop</b> . <br>  The SDK and DCM versions used in this project. <br><ul><li>  Intel¬Æ RealSense ‚Ñ¢ SDK v6.0.21.6598 </li><li>  Intel¬Æ RealSense ‚Ñ¢ Depth Camera Manager R200 v2.0.3.39488 </li></ul><br><h4>  Equipment description </h4><br>  For this work, we used the <a href="http://click.intel.com/intel-realsense-developer-kit-r200.html">Intel¬Æ RealSense ‚Ñ¢ Developer Kit (R200)</a> , which includes a camera, a USB3 cable and a magnetic mount for installing the camera on a laptop (Fig. 2). 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <img src="https://habrastorage.org/files/557/d91/e8d/557d91e8d9ce44c2a083a1acc62d13fe.jpg"><br>  <i>Figure 2. Intel¬Æ RealSense ‚Ñ¢ Developer Kit (R200)</i> <br><br>  For sample code R200, the following hardware requirements apply: <br><ul><li>  4th generation Intel¬Æ Core ‚Ñ¢ processor (or later). </li><li>  150 MB of free hard disk space. </li><li>  4 GB RAM. </li><li>  Intel¬Æ RealSense ‚Ñ¢ Camera (R200). </li><li>  Available USB3 port for the R200 camera (or a dedicated connection for the integrated camera). </li></ul><br>  Important!  To support the data stream transmitted by the camera, a USB3 interface is required.  This interface must be connected to a dedicated USB3 port on the client system (without using a splitter). <br><br><h4>  Code Description </h4><br>  The solution in Visual Studio consists of four WPF projects developed in C #.  These projects use an explicit path to the libpxcclr.cs.dll (managed DLL): <br><br>  <i>C: \ Program Files (x86) \ Intel \ RSSDK \ bin \ x64</i> <br><br>  Remember to change this path if the SDK is installed in a different folder on your system. <br>  Since we are launching the 64-bit version of the DLL, go to <b>Project</b> ‚Üí <b>Properties</b> ‚Üí <b>Platform target</b> and make sure that the value ‚Äúx64‚Äù is selected. <br>  To build and run a specific project, right-click the project name (for example, AllStreams) in Solution Explorer (Solution Explorer) and choose <b>Set as StartUp Project</b> from the menu. <br><br>  All projects within the <i>CameraStreams</i> solution have a similar structure. <br><br>  Configure the Session and SenseManager interface. <br><br>  Start a workflow called <i>Update</i> , which processes the <i>AcquireFrame</i> - <i>ReleaseFrame cycle</i> . <br><br>  In the <i>AcquireFrame</i> - <i>ReleaseFrame loop</i> , the following actions occur. <br><ul><li>  Receive image data. </li><li>  Call the Render method to update the user interface. </li><li>  The release of resources. </li><li>  Frame release. </li></ul><br>  In the <i>Render</i> method, the following actions occur. <br><ul><li>  Call the <i>ConvertBitmap</i> method to convert each raster frame to the BitmapImage type, which is required to display each frame in a WPF Image control. </li><li>  Updating the user interface by delegating work to the dispatcher associated with the user interface flow. </li></ul><br>  The <i>ShutDown</i> method is called whenever the <i>Window_Closing</i> or <i>btnExit_Click</i> events <i>occur</i> .  In the <i>ShutDown</i> method, the following actions occur. <br><ul><li>  Stop the Update method. </li><li>  Deleting objects. </li></ul><br><br><h2>  <font color="#0071c5">Changing the depth focus</font> </h2><br>  <a href="">This</a> C # / XAML <a href="">code example</a> demonstrates the basics of working with the Enhanced Photography (EP) module in the Intel¬Æ RealSense ‚Ñ¢ SDK for Windows * to change the focus of an image after it is taken.  This sample code performs the following actions. <br><ul><li>  Displays the RGB color flow of the R200 camera in the Image control (left). </li><li>  Shooting a frame and displaying it in the second Image control (right). </li><li>  Change the focus and aperture with the slider. </li><li>  Save the modified image as a standard JPG file (Snapshot.jpg). </li></ul><br><img src="https://habrastorage.org/files/ae3/6bd/7c5/ae36bd7c5aff47439ac559843743d13b.jpg"><br>  <i>Figure 3. An example of changing the depth focusing (focusing on a flower)</i> <br><br><img src="https://habrastorage.org/files/e70/90c/0a8/e7090c0a8a724399819dd165bcf6c476.jpg"><br>  <i>Figure 4. Saved image file</i> <br><br>  As described in the SDK manual (in the file <i>RSSDK_DIR \ doc \ PDF \ sdkmanuals.pdf</i> ), the Enhanced Photography (EP) module extends traditional photo and video processing capabilities by using three-dimensional information (in particular, depth data) recorded with photos and videos.  The function of changing the depth of field changes the focus and depth of field of the frame after shooting it.  (Please note that this algorithm only works with the R200 camera.) <br><br><h4>  Equipment description </h4><br>  We used the Intel¬Æ RealSense ‚Ñ¢ Developer Kit (R200) ‚Äã‚Äãfor this job.  The camera was mounted on a laptop using the magnetic mount included in the kit (Fig. 5). <br><br><img src="https://habrastorage.org/files/add/38a/5c8/add38a5c87704ccfab632f3242865f37.jpg"><br>  <i>Figure 5. Camera attached to magnetic mount</i> <br><br><h4>  Build Notes </h4><br>  This project uses the <i>System.Drawing.Imaging</i> namespace.  The link to it is specified manually: in the new project, right-click on <b>References</b> in the Solution Explorer and select <b>Add Reference ...</b> to open the link manager window.  Then select <b>Assemblies, Framework</b> , and find <b>System.Drawing</b> in the list.  Check the box and click OK. <br><br>  This project uses an explicit path to the libpxcclr.cs.dll (managed DLL): <i>C: \ Program Files (x86) \ Intel \ RSSDK \ bin \ x64</i> .  Remember to change this path if the SDK is installed in a different folder on your system. <br><br>  Since the project refers to the 64-bit version of the DLL, make sure that the "x64" parameter is specified in <b>Project</b> ‚Üí <b>Properties</b> ‚Üí <b>Platform target</b> . <br><br>  The project includes a post-build event command to ensure that the unmanaged DLL (libpxccpp2c.dll) is copied to the target output folder: <br> <code>if "$(Platform)" == "x86" (copy /y "$(RSSDK_DIR)\bin\win32\libpxccpp2c.dll" "$(TargetDir)" ) else ( copy /y <br> "$(RSSDK_DIR)\bin\x64\libpxccpp2c.dll" "$(TargetDir)" ) <br></code> <br><br><h2>  <font color="#0071c5">Face tracking</font> </h2><br>  <a href="">This</a> C # / XAML <a href="">code example</a> demonstrates the basics of working with the face tracking algorithm in the Intel¬Æ RealSense ‚Ñ¢ SDK for Windows * to detect and track people's faces in real time using the R200 camera.  This sample code performs the following actions. <br><ul><li>  Displays the RGB color flow of the R200 camera in the Image control. </li><li>  Overlays a rectangular control that tracks the location of the user's face (depending on where the user is in the camera‚Äôs view). </li><li>  Displays the number of faces detected by the R200. </li><li>  Display the height and width of the tracked person. </li><li>  Displays the two-dimensional coordinates (X and Y) of the tracked person. </li><li>  Specify the depth of the face, that is, the distance from the R200 camera to the face. </li><li>  Support and display of tracking alerts, subscription to an event handler. </li></ul><br><img src="https://habrastorage.org/files/212/568/da4/212568da4b4d4e36813835d555cf6be7.jpg"><br>  <i>Figure 6. Sample face tracking code</i> <br><br><h4>  Equipment description </h4><br>  We used the Intel¬Æ RealSense ‚Ñ¢ Developer Kit (R200) ‚Äã‚Äãfor this job.  The camera was mounted on a standard tripod using an optional magnetic mount ** (Fig. 7). <br><br><img src="https://habrastorage.org/files/5df/d8a/287/5dfd8a2878e04a90b2a4fcf7370f19f1.jpg"><br>  <i>Figure 7. Camera attached to a magnetic mount (may not be available in all kits)</i> <br><br><h4>  Build Notes </h4><br>  See the previous example. <br><br><h4>  Code Description </h4><br>  The sample code has the following structure. <br><br>  Configure the Session and SenseManager interface, as well as the face recognition module. <br>  Start a workflow called <i>Update</i> , which processes the <i>AcquireFrame</i> - <i>ReleaseFrame cycle</i> . <br>  In the <i>AcquireFrame</i> - <i>ReleaseFrame loop</i> , the following actions occur. <br><ul><li>  Receive image data. </li><li>  Data acquisition module face recognition. </li><li>  Call the Render method to update the user interface. </li><li>  The release of resources. </li><li>  Frame release. </li></ul><br>  In the <i>Render</i> method, the following actions occur. <br><ul><li>  Call the ConvertBitmap method to convert each raster frame to the BitmapImage type, which is required to display each frame in a WPF Image control. </li><li>  Updating the user interface by delegating work to the dispatcher associated with the user interface flow. </li></ul><br>  The <i>ShutDown</i> method is called whenever the <i>Window_Closing</i> or <i>btnExit_Click</i> events <i>occur</i> .  In the <i>ShutDown</i> method, the following actions occur. <br><ul><li>  Stop the <i>Update</i> method. </li><li>  Deleting objects. </li></ul></div><p>Source: <a href="https://habr.com/ru/post/269253/">https://habr.com/ru/post/269253/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../269239/index.html">Another answer to the question ‚ÄúDo I need a Dart?‚Äù</a></li>
<li><a href="../269243/index.html">Microsoft fixed bugs in Windows drivers</a></li>
<li><a href="../269245/index.html">Creating an .exe file for authorization and interaction with the VK API using Python</a></li>
<li><a href="../269247/index.html">How to work with connection timeouts: Case Ticketmaster</a></li>
<li><a href="../269251/index.html">Place at least one vacancy on ‚ÄúMy Circle‚Äù - get full access to the resume database of IT-specialists</a></li>
<li><a href="../269255/index.html">HP Helion OpenStack Carrier Grade - cloud for telecom operators</a></li>
<li><a href="../269259/index.html">Emoji Encryption</a></li>
<li><a href="../269261/index.html">Back to the future, or Hello World today and thirty years ago</a></li>
<li><a href="../269263/index.html">Alpha version of SocketPush - universal notifications for all browsers + 3 million free notifications</a></li>
<li><a href="../269267/index.html">Knowledge Management with KCS</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>