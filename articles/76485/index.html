<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Debugging Javascript</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Many people ask me the same question: 
 ‚ÄúHow to debug this $% *!% $! Javascript? 

 So, first of all, JavaScript is not $% *!% $! And as I debug him -...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Debugging Javascript</h1><div class="post__text post__text-html js-mediator-article"><img alt="Debug Logo" src="http://img94.imageshack.us/img94/706/titlei.png"><br><br>  Many people ask me the same question: <br>  ‚ÄúHow to debug this $% *!% $!  Javascript? <br><br>  So, first of all, JavaScript is not $% *!% $!  And as I debug him - I'll tell you now. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      ( <em>Note</em> : probably this article is more for beginners. So do not judge strictly) <br><br><a name="habracut"></a><br>  It would seem - what is there to tell?  Still obvious.  But this question is asked to me with an enviable frequency.  Yes, and I have something to tell. <br><br>  I will give specific examples and tell you how I solve them. <br><br><h2>  We see the goal, we do not see obstacles </h2><br>  Javascript dumped error?  Wonderful!  No, this is of course bad, but much better than if he were silent (yes, sometimes it happens!) In case of an error. <br><br>  Our goal is to understand what the hell happened?  But first, a <s>commercial break is a</s> lyrical digression: JavaScript Debug tools in major browsers. <br><br><h3>  Debuggers </h3><br>  Here are the main browsers and their debugging tools: <br><ul><li><img alt="Firefox Logo" src="http://img10.imageshack.us/img10/9922/firefoxspz.png">  <strong>Firefox</strong> : <br>  All of us favorite <a href="https://addons.mozilla.org/en-US/firefox/addon/1843">Firebug</a> plugin </li><li><img alt="Safari Logo" src="http://img10.imageshack.us/img10/7223/safariz.png">  <strong>Safari</strong> <img alt="Chrome Logo" src="http://img10.imageshack.us/img10/4393/googlechromeq.png">  <strong>Chrome</strong> : <br>  Built in WebKit <a href="http://webkit.org/blog/197/web-inspector-redesign/">Web Inspector</a> </li><li><img alt="Opera Logo" src="http://img7.imageshack.us/img7/5439/operak.png">  <strong>Opera</strong> : <br>  Wonderful built-in <a href="http://www.opera.com/dragonfly/">dragonfly</a> </li><li><img alt="IE Logo" src="http://img7.imageshack.us/img7/9315/52292759.png">  <strong>Internet Explorer 8</strong> : <br>  Built-in <a href="http://msdn.microsoft.com/en-us/library/dd565625%2528VS.85%2529.aspx">Developer Tools</a> </li><li><img alt="IE Logo" src="http://img7.imageshack.us/img7/9315/52292759.png">  <strong>Internet Explorer &lt;= 7</strong> <br>  There are many options: <br>  <a href="http://www.debugbar.com/%3Flangage%3Den">DebugBar</a> , <a href="http://www.my-debugbar.com/wiki/CompanionJS/HomePage">Companion.JS</a> , <a href="http://www.jonathanboutelle.com/mt/archives/2006/01/howto_debug_jav.html">via MS Visual Studio</a> ... <br>  But I somehow did not hook all these things - they are all either bulky, uncomfortable, or paid :) <br>  And I was only hooked <a href="http://www.microsoft.com/downloads/details.aspx%3FFamilyID%3D2f465be0-94fd-4569-b3c4-dffdf19ccd99%26displaylang%3Den">Script Debugger</a> .  It is very spartan, but it has everything that I need. </li></ul><br>  In all these debugging tools, we will be interested in breakpoints: <br><br><img alt="Debuggers Screenshot 1" src="http://img692.imageshack.us/img692/8128/breakpoint.png"><br><br>  And here are some ‚Äúgoodies‚Äù - conditional breakpoints (right click on the ‚Äúbreakpoint‚Äù): <br><br><img alt="Debuggers Screenshot 2" src="http://img525.imageshack.us/img525/4687/breakpointconditional.png"><br><br>  That is, we start a global variable (for example) <code>allowBreakpoints</code> and ‚Äúbryaks‚Äù will work only when we ourselves want it. <br>  Unfortunately, it does not work everywhere, so I usually do not use it. <br><br><h3>  How to "slow down" the flow </h3><br>  Debugger keyword  Upon seeing this in the code, any self-respecting JS-debugger will stop the flow of JavaScript and show us where it stopped <br><br><img alt="Debugger Keyword Screenshot 1" src="http://img262.imageshack.us/img262/3696/scr8.png"><br><br>  You can safely use it in: <ul><li><img alt="Firefox Logo" src="http://img10.imageshack.us/img10/9922/firefoxspz.png">  Firefox with Firebug enabled </li><li><img alt="Safari Logo" src="http://img10.imageshack.us/img10/7223/safariz.png">  Safari <img alt="Chrome Logo" src="http://img10.imageshack.us/img10/4393/googlechromeq.png">  Chrome with open / enabled Web Inspector / Script Panel </li><li><img alt="IE Logo" src="http://img7.imageshack.us/img7/9315/52292759.png">  Internet Explorer 8 with Developer Tools open / enabled </li><li><img alt="IE Logo" src="http://img7.imageshack.us/img7/9315/52292759.png">  Internet Explorer &lt;= 7 with Script Debugger installed </li><li><img alt="Opera Logo" src="http://img7.imageshack.us/img7/5439/operak.png">  Opera with open / on dragonfly </li></ul><br>  And do not be afraid to write a <code>debugger</code> in your code - errors will not cause it anywhere. <br><br>  But the option with the conditional stop: <br><blockquote> <code><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="black"><font color="#0000ff">if</font> (allowBreakpoints == <font color="#0000ff">true</font> ) <br> debugger;</font> <br> <br> <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></code> </blockquote> <br>  I like it so much more than putting a ‚Äúcrack‚Äù: this is how I write the code and basically debug it in one place, not two. <br><br><h3>  Debug via alert () </h3><br>  This is the least informative debug, which also stops the flow of JavaScript.  And besides, modal to the browser.  Forget that it exists at all. <br><br><h3>  Breakpoint feature </h3><br>  These options all, as one, inhibit the flow of JavaScript.  This is <strong>bad!</strong> <br><br>  Why?  If at the time the script was stopped, you had an AJAX request or a Timeout running, and the answer did not return, it may never return.  Agree, in modern web-projects of this good enough.  Therefore, at the time of the ‚Äúemergency stop‚Äù of the script, we can no longer adequately debug further - a part of the logic will be irretrievably lost. <br><br>  Therefore, I try to avoid in practice debug with a stop. <br><br><blockquote>  ‚ÄúDebugging JavaScript with breakpoints is bad, mmkay?‚Äù ¬© Mr.  Mackey, South Park </blockquote><br>  <strong>However:</strong> breakpoint is a breakpoint, and if you investigate a well-launched bug, you can‚Äôt do without a stop here (you‚Äôll have to make watch the current variable, etc.) <br><br><h3>  ‚ÄúRight‚Äù debug </h3><br>  In short: good debug - through logging.  So I basically work - in the right place at the right time <code>console.log(...)</code> works <code>console.log(...)</code> . <br><br>  Yes, about <code>console.log</code> - for the first time this method saw the world, as far as I remember, along with Firebug.  No this is not the standard and not the fact that it will work in IE6.  However, modern browsers log in exactly like <code>console.log</code> .  This is so note.  And if the production gets code from <code>console.log(...)</code> - be on the alert, it can break!  So it may be worth redefining the <code>console</code> object in your code, just for every fireman. <br><br>  If there is no <code>console.log</code> in the target browser, but I want to - try <a href="http://getfirebug.com/lite.html">Firebug Lite</a> or <a href="http://www.gscottolson.com/blackbirdjs/">Blackbird</a> , maybe you will like it;) <br><br><h2>  Example ‚Ññ1 </h2><br>  JavaScript showed an error.  We need to understand - what's what. <br>  We turn on the ‚ÄúBreak On Error‚Äù mode in the debugger: <br><br><img src="http://img692.imageshack.us/img692/6145/stoponerror.png"><br><br>  Reproduce the error again.  Javascript stops.  We see the place of the error, we make a watch and we precisely determine what the matter is. <br><br><h2>  Example 2 </h2><br>  <strong>CASE:</strong> <br>  Javascript showed no error.  But you know what it is (like a gopher).  Yes, it happens sometimes. <br><br>  <strong>CASE:</strong> <br>  You just need to pass some code.  Let's say, to see what happens at the touch of a button or after AJAX-loading data. <br><br>  It's harder here - you need to find where to start. <br><br><h3>  Little art </h3><br>  Finding the JavaScript entry point is not an easy thing.  Here is how I do it: <ol><li>  The most important thing is to <strong>understand the development tool</strong> .  Whether it is jQuery, or ExtJS, or Mootools, or even your own framework - you need to understand how a button is created, how an event handler is ‚Äúhung‚Äù, how data goes to AJAX, how to get into the grid, how TinyMCE RTE works, how, how ... If there is no understanding of the problem - it will not work to solve it! </li><li>  Use <strong>Inspect of</strong> our debugger (if there is no Inspect, use <a href="http://getfirebug.com/lite.html">Firebug Lite</a> ): <ol><li>  <strong>Find the HTML element you need</strong> (for example, a button) </li><li>  <strong>We are looking for the nearest element</strong> <em>with a meaningful ID</em> (eg: id = "my-super-button"; and id = "ext-gen124" is no longer appropriate) up the hierarchy (it could be the button itself, or maybe DIV four levels above) </li></ol></li><li>  <strong>We are looking for in our code the entry of</strong> this <em>meaningful ID's</em> </li><li>  Found  Ok, now <strong>we</strong> thoughtfully <strong>read the code and find the right place</strong> (button click handler, AJAX request, etc.) </li><li>  We write in the right place <strong><code>debugger</code></strong> : <blockquote> <code><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="black"><font color="#008000">//  </font> <br> <font color="#0000ff">if</font> (allowBreakpoints == <font color="#0000ff">true</font> ) <br> debugger; <br> <br> <font color="#008000">//  </font> <br> debugger; <br></font> <br> <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></code> </blockquote> </li></ol>  Of course, this method is not perfect.  It happens that gives miss.  But this is a good way, he strongly helps me in my work. <br><br>  So, it means that they found a place in the code, set it up.  If you don‚Äôt want to (or simply don‚Äôt) change the source code, you can put a brakepoint in the debugging tool instead of the <code>debugger</code> keyword. <br><br><h2>  Example 3 </h2><br>  The same case: you need to punch some code.  Let's say, to see what happens at the touch of a button or after AJAX-loading data.  But this time we can not slow down the flow of JavaScript for the reasons I described. <br><br>  So: <ol><li>  We are looking for the right place in the same way. </li><li>  Instead of <code>debugger</code> we write <code>console.log(variable_to_watch)</code> </li></ol><br>  There are interesting upgrades. <br><br><h3>  CASE UNO </h3><br>  <code>variable_to_watch</code> - an object that has changed since it was output to the console.  And I want to see his condition at the time of the call. <br><br>  Here you need to use not <code>console.log(variable_to_watch)</code> , but <code><strong>console.dir</strong> (variable_to_watch)</code> <br><br><h3>  CASE DUO </h3><br>  You need to not only see the current value of the <code>variable_to_watch</code> , but also experiment with it (for example, you want to call its method): <br><blockquote> <code><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="black"><font color="#008000">//       obj</font> <br> <font color="#0000ff">if</font> (debugEnabled) <br> console.log(window.temp_var = obj); <br></font> <br> <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></code> </blockquote> <br>  Thus, we will not only see the output in the console, but also get access to the object through a global link to it: <code>window.temp_var</code> . <br><br>  Open Firebug-&gt; Console and call the method: <code>temp_var.objMethod()</code> . <br><br>  No console?  We write in the address bar: <code>javascript:alert(temp_var.objMethod()); void 0;</code> <code>javascript:alert(temp_var.objMethod()); void 0;</code> <br><br><h2>  Example 4 </h2><br>  One more example.  Perhaps a little weird.  I would like to punch through the 3d-party-framework method (for example, ExtJS), but the trouble is that you cannot slow down JavaScript and there is no access to the source code (a strange example though? :) <br><br>  What to do?  I do this: <br><br>  Create a file with the patch: <em>my-ext-patch.js</em> , and connect it <em>after</em> <em>ext-all.js</em> <br>  Inside we write something like: <blockquote> <code><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="black">( <font color="#0000ff">function</font> () { <br> <font color="#0000ff">var</font> _backup = Ext.form.Form.render; <font color="#008000">//    . --   ;)</font> <br> <br> Ext.form.Form.render = <font color="#0000ff">function</font> (container) { <font color="#008000">// Wrap' </font> <br> <font color="#008000">//    </font> <br> console.log(container); <br> <br> <font color="#008000">//  :</font> <br> <font color="#008000">// console.dir(container);</font> <br> <font color="#008000">// console.log(window.t = container);</font> <br> <font color="#008000">// debugger;</font> <br> <br> <font color="#008000">//   </font> <br> <font color="#0000ff">return</font> _backup.apply( <font color="#0000ff">this</font> , arguments); <br> } <br> })(); <br></font> <br> <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></code> </blockquote> <br>  Perversion?  Maybe.  But I like&gt; :) <br><br><h2>  Epilogue </h2><br>  This is how you can debug <em><s>"this $% *!% $!"</s></em> JavaScript.  It is important to focus on the first three examples. <br><br>  I hope that my experience will help someone. </div><p>Source: <a href="https://habr.com/ru/post/76485/">https://habr.com/ru/post/76485/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../76478/index.html">14th StartupPoint and Investor Community Meeting StartupPoint (Moscow, November 29, Sunday)</a></li>
<li><a href="../76479/index.html">John Birrell, one of the FreeBSD project committers, died.</a></li>
<li><a href="../76481/index.html">boolean - fighting for Java memory ...</a></li>
<li><a href="../76482/index.html">What I found interesting on the mail server meteorologists</a></li>
<li><a href="../76483/index.html">Romeo and Juliet</a></li>
<li><a href="../76487/index.html">nginx + FastCGI (over spawn-fcgi) + lua</a></li>
<li><a href="../76488/index.html">Kubuntu 9.10 + Qt4 + Oracle Express Edition</a></li>
<li><a href="../76489/index.html">New type of posts: "Trust"</a></li>
<li><a href="../76490/index.html">Mail.Ru Agent for iPhone - first experience</a></li>
<li><a href="../76491/index.html">stillborn lighttpd 1.5</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>