<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>From the light bulb to the vacuum cleaner and the drone - as we taught Alice to control hundreds of devices</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="What do you think is common between the Philips Hue bulb, iRobot Roomba 671 vacuum cleaner, Nest thermostat, General Electric microwave, Kenmore air c...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>From the light bulb to the vacuum cleaner and the drone - as we taught Alice to control hundreds of devices</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/webt/so/xi/vu/soxivuhebessi0wuco77pbwzg6e.jpeg"><br><br>  What do you think is common between the Philips Hue bulb, iRobot Roomba 671 vacuum cleaner, Nest thermostat, General Electric microwave, Kenmore air conditioner, TP Link HS100 outlet, Sonoff devices, Smarter coffee maker and Aire drone? <br><br>  As you have already guessed, they are united by the fact that they can be controlled by voice from Alice (and from Yandex.Station), as well as hundreds of other smart devices. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Moreover, any housewife can handle this setting. <br><a name="habracut"></a><br>  Naturally, the question immediately arises - how is this possible? <br><br>  Indeed, only recently Yandex announced its Yandex.Module for a smart home, but it will go on sale only in the fall and it is not yet known what devices will be part of such equipment (most likely proprietary). <br><br>  In fairness it should also be noted that there are already skills for a smart home in Yandex.Dialogs, but they are sharpened on a specific vendor, i.e. other devices will not be supported.  It is also worth mentioning software smart homes that have Alice‚Äôs management, but the problem here is that the number of supported devices is very small and quite advanced programmer skills are needed to make it all work. <br><br>  And here - hundreds of devices (and new ones are constantly appearing) and easy setup, how? <br><br>  It's very simple - we taught Alice and Yandex. The station to perform almost all the skills possessed by Alexa Echo from Amazon - the world leader in voice assistants. <br>  First of all it concerns the management of all smart devices with which Alexa Echo can interact, of which a huge amount has recently appeared. <br>  For home use, this means the following: you just have to buy almost any smart socket, switch, lamp (or go to the nearest store and buy it more expensive) for just a penny, connect and control these devices with your voice from Alice or Yandex.Station. <br><br>  And not only with similar devices - you can control air conditioning, smart locks, garage doors, irrigation systems and even cars. <br><br>  And the link between Alice and Alex is ... <a href="https://www.mob1.biz/">M1 Messenger</a> . <br><br>  A little background. <br><br>  First, we added Alexa Echo support to the messenger. <br><br>  Those.  it became possible, without buying an Echo column, to manage smart things with a voice from a smartphone. <br>  Then we thought that this was not enough and added control of the device with text messages - for example, for those who do not want to use the voice for one reason or another (silence must be observed, etc.). <br><br>  Then we thought that people would probably be lazy typing the same commands each time with text and made custom buttons in which the user can register frequently used commands once and then call them by pressing, like a control panel. <br>  And then the thought came - if we can control devices with text, then why not make an API for such commands? <br><br>  And it turned out a certain analogue of the IFTTT service, which lives in the messenger on a smartphone and can combine different services. <br><br>  And now for more details on how to do all this with a simple example. <br><br>  So, the very first thing you need - of course, buy a smart device. <br><br>  If you are going to do it on Aliexpress, then just look in the description of any device for the phrase - works with Alexa, all this will work out of the box. <br><br>  If you plan to make a purchase in the store, then pay attention - not all sellers know that this or that device can work with Alexa - in this case you need to google this opportunity. <br><br>  Consider the step-by-step process of connecting and configuring the example of a TP Link HS100 wifi outlet. <br><br>  <b>1. Configure the TP Link HS100 smart socket</b> <br><br><img src="https://habrastorage.org/webt/i5/mt/uq/i5mtuquw_ugdprpyn0n-rtoqz6q.jpeg"><br><br>  There is nothing complicated here - download the <a href="https://play.google.com/store/apps/details%3Fid%3Dcom.tplink.kasa_android">Kasa</a> application, register and follow the instructions. <br><br>  The most important thing - remember the login-password for this application - it will be needed later. <br><br>  <b>2. Download and install <a href="https://www.mob1.biz/">M1 Messenger</a></b> <br><br>  Also, nothing complicated - download, register (without a phone number), then click the icon with the letter ‚Äúa‚Äù - launch Alexa Echo in the messenger: <br><br><img src="https://habrastorage.org/webt/cb/59/sk/cb59skae9mlgyty7ij4r-uhbhrc.png"><br><br>  After the very first click on the icon "a" the application will open the page on <br>  Amazon website with a suggestion or enter an existing username / password, or register an account: <br><br><img src="https://habrastorage.org/webt/q8/dw/aq/q8dwaqwehxw0phus5iumvvlkxpg.png"><br><br>  Enter existing data or register and then you need to allow access to the application to access Alexa Voice Service: <br><br><img src="https://habrastorage.org/webt/1k/ou/ta/1kouta0sf9dzpj-h_y5dkhvgguk.png"><br><br>  After that, a screen with Alexa in the messenger will open and you can already communicate with the voice assistant from Amazon with voice or text: <br><br><img src="https://habrastorage.org/webt/ld/3t/uh/ld3tuhw7mvvodpr6twye1k_0ppc.jpeg"><br><br>  <b>3. Bind smart socket to your account on Alexa Amazon</b> <br><br>  Now we need to bind the smart socket to Alexa and assign an activation word to it, for example, Kitchen. <br><br>  To do this, go to <a href="http://alexa.amazon.com/">alexa.amazon.com</a> <br><br>  There are several lifehacks here. <br><br>  Firstly, if you are in a country where Alexa Echo is not sold officially, then do not open this page on your mobile device - you will be transferred to the mobile store where you will be offered to download the application, but you will not be able to download the application - it will not be available in your country . <br><br>  Therefore, open this page on the desktop. <br><br>  Secondly, if you didn‚Äôt do point 2, that is, you didn‚Äôt download or install the M1 Messenger application, even if you have an account on Amazon, you‚Äôll see this page: <br><br><img src="https://habrastorage.org/webt/c_/9f/df/c_9fdfg9_6rtjvm6gu_qop22f7q.jpeg"><br><br>  This is not what we need - since there is an opportunity to configure only official products from Amazon, and we do not want to buy Echo. <br><br>  Only after installing the <a href="https://www.mob1.biz/">M1 Messenger</a> you will see this page: <br><br><img src="https://habrastorage.org/webt/qw/pi/ty/qwpity8da7c3cmzrmrj19vyc960.jpeg"><br><br>  Thus, if you see the phrase: <br><br>  <b>Welcome!</b> <b><br><br></b>  <b>Amazon is one of the Mobile One Alexa Service.</b> <br><br>  That means you did everything right and you can attach smart devices. <br><br>  Go to the section Skills. <br>  In the search we type the name of the device vendor - in our case, this is TP Link Kasa: <br><br><img src="https://habrastorage.org/webt/77/yi/jr/77yijrfdg_yeky0dvq-1w2muxtq.jpeg"><br><br>  Select the appropriate item and get to the section with the activation of this skill: <br><br><img src="https://habrastorage.org/webt/yh/ip/ed/yhiped1kt-v6pciwwnxu3pvokrs.jpeg"><br><br>  Click Enable and get to the next window (note that the opening will take place in a new window and you need to allow pop-ups to be shown if you have a blocker): <br><br><img src="https://habrastorage.org/webt/ji/yx/qz/jiyxqznsebco393el83ohn8blhe.jpeg"><br><br>  It is here that you will need to enter the login / password that you got as a result of setting up your Wi-Fi outlet in claim 1. <br><br>  If you entered the correct data, the confirmation page will open: <br><br><img src="https://habrastorage.org/webt/ws/1n/rg/ws1nrgx6c2jhh_woi9prmxiusks.jpeg"><br><br>  Next, go to the section Smart Home and start the detection of devices (the socket at this time should be included in the network): <br><br><img src="https://habrastorage.org/webt/yw/sx/fk/ywsxfkd2atzv-xfxq6kz3qlzxom.jpeg"><br><br>  Then a page with the name of the device that you specified when registering the WiFi outlet in Kasa will open: <br><br><img src="https://habrastorage.org/webt/7g/9a/ak/7g9aakt6kpb-08ezkxoaxcyydnq.jpeg"><br><br>  Next, go to the configuration of Smart Home: <br><br><img src="https://habrastorage.org/webt/ia/qp/5j/iaqp5ji51y4k32dkbjbquiku3zg.jpeg"><br><br>  Go to the Groups and prescribe an outlet called for example Kitchen: <br><br><img src="https://habrastorage.org/webt/nl/o_/ik/nlo_ikozmmd7udjclnzoibrdzuu.jpeg"><br><br>  Now, if you say in the messenger Turn kitchen On or Switch kitchen off, <br>  then your outlet will turn on / off. <br><br>  It should be noted that this is a general principle of attaching smart things to Alexa Echo - whether it is a smart outlet, a watering system or a car - you will need to do the exact same steps. <br><br>  So, we set up Alex, connected the device, we can manage commands from the <a href="https://www.mob1.biz/">M1 Messenger</a> , now we will teach Alice to do the same. <br><br>  <b>4. Teach Alice to perform Alexa Echo skills.</b> <br><br>  We start <a href="https://www.mob1.biz/">M1 Messenger</a> and in the general menu we find the item Search on the M1 network: <br><br><img src="https://habrastorage.org/webt/9t/dn/hy/9tdnhyo7gem4vzpveupphsf8wd8.png"><br><br>  We need to find the bot Alice and add to it: <br><br><img src="https://habrastorage.org/webt/mn/0d/ic/mn0dicyql5okz6lwks2k-ymn3au.jpeg"><br><br>  It is important - after adding a bot, it will not be visible in the general chat list, but in the Business menu: <br><br><img src="https://habrastorage.org/webt/ng/vq/vq/ngvqvqjo4nu8go-lr_8t-b4elhu.jpeg"><br><br>  Write / memorize the code. <br>  Next, open Alice or activate Yandex. Station and run the skill M1 Messenger: <br><br><img src="https://habrastorage.org/webt/h0/ku/97/h0ku97eyjgk0bbsiynqllhlvvue.png"><br><br>  After launching the skill, Alice will ask for the code that we received in the messenger - we say it, confirm the correctness and everything, now we can turn on the smart socket in the kitchen: <br><br><img src="https://habrastorage.org/webt/s6/63/ij/s663ij2xgnfosgasuwd705x8kcw.png"><br><br>  We have compiled a list of the most frequently used names for the smart home for Alice and in the backend doing the replacement of the phrase, pronounced in Russian, in the command in English for Alex: <br><br><img src="https://habrastorage.org/webt/wk/5u/72/wk5u72by3zmbkw_ez-qkgmcoibm.jpeg"><br><br>  Therefore, if you use any other names - tell us how you spelled it in English for Alex and what equivalent you would like to use in Russian - we will add this phrase to Alice‚Äôs dictionary and everything will work. <br><br>  Thus, adding various devices according to the above example, you can control vacuum cleaning robots, refrigerators and cars using Alice or Yandex.  Station <br><br>  A few important points - we recommend using smartphones with support for Android, and not iOS, as such a kind of hub of a smart home with a messenger. <br><br>  You also need to turn on any of the 3 modes in the messenger - Live TV or PTT or Users nearby, so that the application is always online. <br><br>  I would also like to thank the <a href="https://yode.pro/">YODE .pro</a> team and Jan Safiullina for their help in implementing the skill. </div><p>Source: <a href="https://habr.com/ru/post/419467/">https://habr.com/ru/post/419467/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../419449/index.html">Redux vs React Context API</a></li>
<li><a href="../419451/index.html">Step-by-step creating a symfony 4 bundle</a></li>
<li><a href="../419453/index.html">Numerical methods for solving systems of nonlinear equations</a></li>
<li><a href="../419457/index.html">RabbitMQ - SQL Server</a></li>
<li><a href="../419461/index.html">Ventilation of the bathroom with the mind</a></li>
<li><a href="../419469/index.html">UE4 | Cycle day and night | SkySphere modification</a></li>
<li><a href="../419471/index.html">Migration option from jQuery to pure javascript</a></li>
<li><a href="../419473/index.html">How are things in the cloud, and what drives IaaS ahead: discuss technological trends</a></li>
<li><a href="../419475/index.html">How to find inspiration and not lose uniqueness</a></li>
<li><a href="../419477/index.html">Easier than it seems. Chapter 11</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>