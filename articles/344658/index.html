<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Elixir for javistov. Part one</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Not so long ago, I decided to change the way of thinking through learning a new programming language. From the very beginning of my career, I worked w...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Elixir for javistov. Part one</h1><div class="post__text post__text-html js-mediator-article"><p><img src="https://habrastorage.org/webt/x-/ak/l1/x-akl1iqg245bsizmfinw1jwvuy.jpeg"></p><br><p>  Not so long ago, I decided to change the way of thinking through learning a new programming language.  From the very beginning of my career, I worked with Java, and now I began to feel the need for a completely different paradigm.  So I met an incredible language called Elixir. </p><br><p>  Rubists are well aware of the name of this language, as well as, perhaps, the name of the creator - Jose Walim.  However, those who come from more verbose languages ‚Äã‚Äãhave a low chance of being familiar with Elixir. </p><br><p>  So I decided to write a few posts to help the javists quickly understand how the Elixir works.  By comparing these two languages, it will be easier to comprehend a new world for you.  Through these posts I will talk about the syntax, the work of the language and the key features that make the Elixir truly awesome! </p><a name="habracut"></a><br><h2 id="funkcionalnoe-programmirovanie">  Functional programming </h2><br><p>  For a moment, let's forget about objects, classes, and interfaces.  Elixir is a compiled functional programming language based on the principle of immunity.  It is enough to remember three simple rules to understand how everything is arranged in it. </p><br><ol><li>  The data is immature </li><li>  Functions idempotent.  This means that no matter how you call a function with the same arguments, it will always return the same result. </li><li>  Long live pattern matching! </li></ol><br><h2 id="privet-mir">  Hello World! </h2><br><p>  Whatever language you learn, the beginning is always the same - ‚ÄúHello world!‚Äù.  Well, and we will not reinvent the wheel. </p><br><pre><code class="java hljs"><span class="hljs-comment"><span class="hljs-comment">// Java public class HelloWorld { public static void main(String[] args){ System.out.println("Hello world!"); } }</span></span></code> </pre> <br><pre> <code class="hljs objectivec"><span class="hljs-meta"><span class="hljs-meta"># Elixir IO.puts </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">"Hello world!"</span></span></span></span></code> </pre> <br><h2 id="tipy-i-peremennye">  Types and variables </h2><br><p>  The types of variables in the Elixir are determined dynamically during program execution.  That is, there is no need to explicitly set the type of the variable when it is declared, but there are certain rules for each type: </p><br><pre> <code class="java hljs"><span class="hljs-comment"><span class="hljs-comment">// Java int i = 1; float f = 3.0f; boolean b = true; int[] array = {}; String s = "foo"; Map&lt;String, Integer&gt; map = new HashMap&lt;&gt;();</span></span></code> </pre> <br><pre> <code class="hljs cpp"># Elixir i = <span class="hljs-number"><span class="hljs-number">1</span></span> f = <span class="hljs-number"><span class="hljs-number">3.0</span></span> b = <span class="hljs-literal"><span class="hljs-literal">true</span></span> <span class="hljs-built_in"><span class="hljs-built_in">list</span></span> = [<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>] s = <span class="hljs-string"><span class="hljs-string">"foo"</span></span> <span class="hljs-built_in"><span class="hljs-built_in">map</span></span> = %{<span class="hljs-string"><span class="hljs-string">"one"</span></span> =&gt; <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-string"><span class="hljs-string">"two"</span></span> =&gt; <span class="hljs-number"><span class="hljs-number">2</span></span>} tuple = {<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>} keyword_list = [one: <span class="hljs-number"><span class="hljs-number">1</span></span>, two: <span class="hljs-number"><span class="hljs-number">2</span></span>]</code> </pre> <br><p>  Now create a list and add a new item to it.  This is how it will look like on Java: </p><br><pre> <code class="java hljs"><span class="hljs-comment"><span class="hljs-comment">// Java List&lt;Integer&gt; list = new ArrayList&lt;&gt;(); list.add(1); list.add(2); list.size(); //  2</span></span></code> </pre> <br><p>  We recall the first rule - the <strong><em>immunity rule</em></strong> .  To change the value of a variable, you need to re-bind it to another variable.  In the example below, only the first three lines change the value of the elements of the list, then a copy is already created with the new values: </p><br><pre> <code class="hljs cpp"># Elixir <span class="hljs-built_in"><span class="hljs-built_in">list</span></span> = [] #   <span class="hljs-built_in"><span class="hljs-built_in">list</span></span> = [<span class="hljs-number"><span class="hljs-number">1</span></span> | <span class="hljs-built_in"><span class="hljs-built_in">list</span></span>] #  <span class="hljs-number"><span class="hljs-number">1</span></span>    <span class="hljs-built_in"><span class="hljs-built_in">list</span></span> = [<span class="hljs-number"><span class="hljs-number">2</span></span> | <span class="hljs-built_in"><span class="hljs-built_in">list</span></span>] #  <span class="hljs-number"><span class="hljs-number">2</span></span>    Enum.into(<span class="hljs-built_in"><span class="hljs-built_in">list</span></span>, [<span class="hljs-number"><span class="hljs-number">3</span></span>]) #  <span class="hljs-number"><span class="hljs-number">3</span></span>    <span class="hljs-built_in"><span class="hljs-built_in">list</span></span> ++ [<span class="hljs-number"><span class="hljs-number">3</span></span>, <span class="hljs-number"><span class="hljs-number">4</span></span>] #   ,  [<span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">3</span></span>, <span class="hljs-number"><span class="hljs-number">4</span></span>] Enum.count(<span class="hljs-built_in"><span class="hljs-built_in">list</span></span>) #  <span class="hljs-number"><span class="hljs-number">2</span></span></code> </pre> <br><p>  A small hint on the lists in the Elixir: <strong><em>they are stored in memory as linked lists</em></strong> .  Since there is only a link to the head of the list, in order to add a new item to the list, you need to insert it into the beginning, replacing the head of the list.  This ensures that the insert is done in <code>O(1)</code> .  If it is required to add elements to the end, then, as shown above, it is necessary to clutch the current list with the new element wrapped in the list.  But with this more careful, the operation is not simple, because it requires a large amount of memory to copy the whole list and create a new one. </p><br><p>  Another mystery is determining the length of the list.  As you might have guessed, the only way to do this is to go through the entire list and count the number of elements (complexity <code>O(n)</code> ).  Again, be careful. </p><br><p>  Do not worry, just your mind is used to seeing everything in an imperative manner.  In addition to this method of counting elements, there are others that will be discussed later.  In the meantime ... let's listen to the slogan of a well-known company: </p><br><blockquote>  <strong><em>Think different!</em></strong> </blockquote><br><h2 id="funkcii-vs-metody">  Functions vs methods </h2><br><p>  Unlike the methods in Java, which can have one of the four access modifiers ( <code>public</code> , <code>default</code> , <code>protected</code> or <code>private</code> ), the functions in the Elixir can be of only two types ( <code>public</code> or <code>private</code> ).  The definition of public and private functions begins with the words <code>def</code> and <code>defp</code> respectively.  For example: </p><br><pre> <code class="java hljs"><span class="hljs-comment"><span class="hljs-comment">// Java public void addElement(List&lt;Integer&gt; list, Integer element){ list.add(element); } private int privateSum(int a, int b){ return a + b; }</span></span></code> </pre> <br><pre> <code class="hljs swift"># <span class="hljs-type"><span class="hljs-type">Elixir</span></span> def say_hello(person) <span class="hljs-keyword"><span class="hljs-keyword">do</span></span> <span class="hljs-string"><span class="hljs-string">"Hello #{person}"</span></span> end def prepend_element(list, element) <span class="hljs-keyword"><span class="hljs-keyword">do</span></span> [element | list] end def sum(a, b), <span class="hljs-keyword"><span class="hljs-keyword">do</span></span>: a + b def sum a, b, <span class="hljs-built_in"><span class="hljs-built_in">c</span></span> <span class="hljs-keyword"><span class="hljs-keyword">do</span></span> a + b + <span class="hljs-built_in"><span class="hljs-built_in">c</span></span> end defp sum(a, b, <span class="hljs-built_in"><span class="hljs-built_in">c</span></span>, d) <span class="hljs-keyword"><span class="hljs-keyword">do</span></span> a + b + <span class="hljs-built_in"><span class="hljs-built_in">c</span></span> + d end</code> </pre> <br><p>  So, the function can be set in various ways, without the need to specify the keyword <code>return</code> .  And all because when accessing a function, the result of the last command inside it will always be returned. </p><br><p>  Let's try again to add a new item to the list, using the above functions.  Since in Java each object is a pointer, then when the object is passed to the method, the created copy of this pointer is used as an argument inside the method.  This means that as long as the list values ‚Äã‚Äãare not reassigned to <code>addElement</code> , any changes that occur in the list will be displayed outside the method.  In Elixir, everything is completely different. </p><br><p>  Remember the second rule?  <strong><em>Functions idempotent!</em></strong>  Everything that happens inside functions, with the exception of the returned result, remains there.  This is one of the main features of the Elixir, which allows you to run the code in isolation and thereby achieve a completely new level of parallelism.  And you don‚Äôt even have to worry about the side effects of your code. </p><br><pre> <code class="hljs cpp"># Elixir <span class="hljs-built_in"><span class="hljs-built_in">list</span></span> = [<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>] prepend_element(<span class="hljs-built_in"><span class="hljs-built_in">list</span></span>, <span class="hljs-number"><span class="hljs-number">3</span></span>) prepend_element(<span class="hljs-built_in"><span class="hljs-built_in">list</span></span>, <span class="hljs-number"><span class="hljs-number">4</span></span>) prepend_element(<span class="hljs-built_in"><span class="hljs-built_in">list</span></span>, <span class="hljs-number"><span class="hljs-number">5</span></span>) IO.inspect(<span class="hljs-built_in"><span class="hljs-built_in">list</span></span>) #  [<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>]</code> </pre> <br><p>  Not to mention the pipe operator <code>|&gt;</code> .  With it, you can easily and simply combine functions into chains, passing the result of the previous function to the next as an argument.  I will give the simplest example of its use: </p><br><pre> <code class="java hljs"><span class="hljs-comment"><span class="hljs-comment">// Java String fullName = "my full name"; String[] names = fullName.split(" "); String firstName = names[0]; firstName.toUpperCase();</span></span></code> </pre> <br><pre> <code class="hljs vbscript"># Elixir <span class="hljs-string"><span class="hljs-string">"my full name"</span></span> |&gt; <span class="hljs-built_in"><span class="hljs-built_in">String</span></span>.<span class="hljs-built_in"><span class="hljs-built_in">split</span></span> |&gt; List.first |&gt; <span class="hljs-built_in"><span class="hljs-built_in">String</span></span>.upcase</code> </pre> <br><h2 id="moduli-vs-klassy">  Modules vs classes </h2><br><p>  To implement something in Java, you first need to create a class containing constructors, methods, and variables.  In Elixir, the code consists of modules that combine functions into one.  It looks like this: </p><br><pre> <code class="java hljs"><span class="hljs-comment"><span class="hljs-comment">// Java class Calculator { public int sum(int a, int b){ return a + b; } }</span></span></code> </pre> <br><pre> <code class="hljs sql"><span class="hljs-comment"><span class="hljs-comment"># Elixir defmodule Calculator do def sum(a, b), do: a + b end</span></span></code> </pre> <br><p>  You can draw a parallel between modules and functions and static methods within a class.  There is no concept of an instance, so each module and each function is ‚Äústatic‚Äù.  The differences in their use are illustrated in the following example: </p><br><pre> <code class="java hljs"><span class="hljs-comment"><span class="hljs-comment">// Java Calculator calculator = new Calculator(); calculator.sum(1, 2);</span></span></code> </pre> <br><pre> <code class="hljs css"># <span class="hljs-selector-tag"><span class="hljs-selector-tag">Elixir</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">Calculator</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.sum</span></span>(1, 2) #   <span class="hljs-selector-tag"><span class="hljs-selector-tag">Calculator</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.sum</span></span> 1, 2</code> </pre> <br><h2 id="zaklyuchenie-ot-perevodchikov">  Conclusion from translators </h2><br><p>  If you are interested in the language, then subscribe to the newsletter, starting from Monday there will be a week of all the most interesting - from comprehensive information support for beginners to vacancies and open source for experienced developers. </p><br><p>  Thanks for attention! </p></div>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <p>Source: <a href="https://habr.com/ru/post/344658/">https://habr.com/ru/post/344658/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../344648/index.html">Born to intercept traffic</a></li>
<li><a href="../344650/index.html">This is Sparta</a></li>
<li><a href="../344652/index.html">How to clean the onions, or why software development is out of control</a></li>
<li><a href="../344654/index.html">Building a business analysis process in projects for the development of BI-applications with advanced visualization</a></li>
<li><a href="../344656/index.html">Representing functions as a service - OpenFaaS</a></li>
<li><a href="../344660/index.html">We start containers in Azure</a></li>
<li><a href="../344664/index.html">Artificial intelligence transforms information security, but do not wait for instant change.</a></li>
<li><a href="../344666/index.html">Russian peasant cryptography</a></li>
<li><a href="../344668/index.html">How to be a team leader if you work with people from different food teams</a></li>
<li><a href="../344670/index.html">The story of how P and X game "shared"</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>