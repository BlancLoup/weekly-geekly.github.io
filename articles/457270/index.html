<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Prisma-CMS as an engine for quickly creating MVP</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Surely many have heard the concept of MVP (Minimally viable wiki product). On Habr√© there are also many articles about MVP, but basically this or just...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Prisma-CMS as an engine for quickly creating MVP</h1><div class="post__text post__text-html js-mediator-article">  Surely many have heard the concept of MVP (Minimally viable <a href="https://ru.wikipedia.org/wiki/%25D0%259C%25D0%25B8%25D0%25BD%25D0%25B8%25D0%25BC%25D0%25B0%25D0%25BB%25D1%258C%25D0%25BD%25D0%25BE_%25D0%25B6%25D0%25B8%25D0%25B7%25D0%25BD%25D0%25B5%25D1%2581%25D0%25BF%25D0%25BE%25D1%2581%25D0%25BE%25D0%25B1%25D0%25BD%25D1%258B%25D0%25B9_%25D0%25BF%25D1%2580%25D0%25BE%25D0%25B4%25D1%2583%25D0%25BA%25D1%2582">wiki</a> product).  On Habr√© there are also many articles about MVP, but basically this or just a description of what MVP is and why it is, or various success and not very story.  But I didn‚Äôt find a single article where I‚Äôm describing what my MVP was doing.  But it is believed that personal blogs are easier to do on one engine, online stores on another, etc.  (each will substitute their own favorite engine name for this purpose).  But why then is not a more convenient MVP engine defined?  I will not give a clear answer to this question, but I will share my thoughts on exactly how to create an MVP, my Prisma CMS, which I <a href="https://habr.com/ru/post/448982/">wrote</a> here a couple of months ago, is good.  Who cares, I ask under the cat. <a name="habracut"></a><br><br>  Interestingly, by and large MVP can be compared with more advanced <a href="https://ru.wikipedia.org/wiki/%25D0%259F%25D1%2580%25D0%25BE%25D1%2582%25D0%25BE%25D1%2582%25D0%25B8%25D0%25BF%25D0%25B8%25D1%2580%25D0%25BE%25D0%25B2%25D0%25B0%25D0%25BD%25D0%25B8%25D0%25B5">wiki</a> prototyping.  At the same time, there is special software for prototyping, and I once even used Axure for a long time.  But what was not enough for me in Axure and because of what I almost immediately refused it?  (I do not know, maybe now he has become more advanced and these issues have been resolved, but at that time there wasn‚Äôt). <br><br><ol><li>  No work with real data.  That is, I have the Users section in the prototype, but I cannot get user data from the API and display it in a loop in my template.  And in general, in principle, it is not possible to work with real data (create records, read them). </li><li>  Passing through the prototyping stage and going directly to the development, you cannot use the templates created in the prototype.  That is, after the prototype was created and agreed with the customer and when we switched to programming, we could just look at the prototype with our eyes, nothing more could be done with it.  And I wanted to distribute the prototype and then use it in development. </li></ol><br>  There were other moments, but these two are the most important.  It turned out that the stages of prototyping and programming lived their own independent life and did not affect each other.  And I would like the prototyping stage to flow smoothly into programming.  And in the framework of the current article it is possible to suggest that prototyping flows into the creation of MVP, and then, if successful, develop the MVP to the final full-fledged product.  After all, if you think so, the creation of MVP does not always guarantee that in the future there will be a more complete product.  After all, what is the point of creating MVP?  First, to realize the idea with minimal costs so that you can try it in your work, and second, to study the demand and decide for yourself whether to invest further and develop it to a full-fledged product.  And it turns out that we need a tool that would allow us to quickly create prototypes / MVP, but on the other hand, if the MVP succeeds, we could develop the project further without any special restrictions. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      As a matter of fact, looking at Prisma CMS, I just see this engine.  There is a lot to quickly lay out the project blank: <br><br><ul><li>  Virtually all work is done on the front through our own WYSIWYG front editor. </li><li>  The URLs are implemented on react-router, which allows targeting to also be written directly in the front in the editor, and not on the server. </li><li>  The API is implemented in GraphQL, which allows you to write requests in the front, not on the server.  At the same time, Graphi QL is integrated, which simplifies the process of writing queries. </li><li>  Plus, there are generated filters, pagination and other useful buns. </li></ul><br>  And all this is openSource, that is, it is not SaaS, for which you have to constantly pay (not even having everything at your own disposal).  This can be deployed on your server and customized for yourself. <br><br>  Before I describe the process of installing it on my server and the processes of customization, I suggest looking at the record of the process of creating a separate section on the site.  It is almost 15 minutes, but it is enough to look at the first 4 minutes, this is more than enough to get an idea of ‚Äã‚Äãthe Prisma CMS, and if you have interest, proceed to further reading the topic, and maybe try to deploy the engine. <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/3uQR1mD1j4Y" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>  So, installing Prisma CMS on the server (I use ubuntu, preferably at least 4Gb of RAM and an SSD drive). <br><br>  <i>It assumes that you are already familiar with node-js, npm / yarn, react, and graphql.</i> <br><br><h3>  1. Install the necessary software </h3><br>  <i>If you insert everything in the terminal at once, the execution may fail, so it is better to execute line by line.</i> <br><br>  This is the minimum installation without any settings of access levels, etc., just for informational purposes, that is, if you try on a new clean server, then everything will be done from root (including the launch of the site).  For our experiment, this is not important at all. <br><br><pre><code class="plaintext hljs">sudo apt update sudo apt install mc sudo apt install git curl -sL https://deb.nodesource.com/setup_10.x | sudo -E bash - sudo apt-get install -y nodejs sudo npm i -g yarn sudo apt-get install software-properties-common python-software-properties sudo apt-key adv --keyserver hkp://p80.pool.sks-keyservers.net:80 --recv-keys 58118E89F3A912897C070ADBF76221572C52609D sudo apt-add-repository 'deb https://apt.dockerproject.org/repo ubuntu-xenial main' sudo apt-get update sudo apt-get install -y docker-engine sudo curl -L https://github.com/docker/compose/releases/download/1.18.0/docker-compose-`uname -s`-`uname -m` -o /usr/local/bin/docker-compose sudo chmod +x /usr/local/bin/docker-compose</code> </pre> <br><h3>  2. Clone the repository </h3><br><pre> <code class="plaintext hljs">mkdir /var/www cd /var/www git clone https://github.com/prisma-cms/boilerplate cd boilerplate yarn --ignore-engines</code> </pre><br>  3. We launch docker containers with MySQL and prisma (prisma is a separate product, not mine, but with which the server part is strongly connected, see <a href="https://github.com/prisma/prisma">github.com/prisma/prisma</a> ). <br><br><pre> <code class="plaintext hljs">docker-compose -f src/server/scripts/docker/prisma/docker-compose.yml up -d</code> </pre><br>  If you want to look into the database through phpMyAdmin, install it too. <br><br><pre> <code class="plaintext hljs">docker run -d --link prisma_mysql_1:db --network prisma_default -p 8090:80 phpmyadmin/phpmyadmin</code> </pre><br>  It will hang on port 8090. The default login / password is root / prisma <br><br><h3>  4. Deploy scheme </h3><br><pre> <code class="plaintext hljs">endpoint=http://localhost:4466/my-project/dev yarn deploy</code> </pre> <br>  my-project / dev, respectively, you can write your own and create many projects on one server. <br><br>  <i>Important!</i>  <i>At the production port 4466 should be closed by a firewall, it should not be directly accessible from the outside.</i> <br><br><h3>  5. We start the API server </h3><br><pre> <code class="plaintext hljs">APP_SECRET=MyStrongSecret endpoint=http://localhost:4466/my-project/dev yarn start-server</code> </pre><br>  After startup, you can open the <a href="http://server-ip/">server-ip</a> : 4000 API. <br><br>  As I wrote in the previous article, this is an intermediate server that implements your own logic over the generated one (which runs on port 4466). <br><br><h3>  6. Run the front </h3><br>  We open one more terminal and in the same folder we execute <br><br><pre> <code class="plaintext hljs">yarn start</code> </pre><br>  The front will start on port 3000. Now you can break directly to the "programming" of the front.  You open <a href="http://server-ip/">server-ip</a> : 3000.  When entering, there is no saved template for the front, the authorization button will be displayed for you.  The logic is to register and start making a website.  Who is the first - that and <s>sneakers</s> site.  This is how it looks like: <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/-iZ4dVSt1PQ" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><h3>  7. Build scripts and run SSR (Servcer-Side Rendering) </h3><br>  Starting via yarn start is a dev mode, suitable for the first start (checking that everything works) and for programming the JS part directly.  And for the battle, of course, the assembled front was needed.  We interrupt the launched yarn start via Ctrl + C and build scripts. <br><br><pre> <code class="plaintext hljs">yarn build</code> </pre> <br>  You can go to smoke and pour coffee, this process is not fast.  In rare cases, the building collapses from the first time, just start again, in which case it usually completes successfully and much faster. <br><br>  When the building is over, run the assembled front. <br><br><pre> <code class="plaintext hljs">yarn start-ssr</code> </pre><br>  Now the launch is much faster, and the scripts are smaller in size. <br><br><h3>  Conclusion </h3><br>  The video shows that sometimes there are very big problems with usability, but the project is still developing, gradually these problems are eliminated.  But much can be done right in the front.  Also, there is still a serious cleaning of the source code, since there is a lot of everything accumulated there that is not really needed, but simply drags on with heritage.  As a result, the front should be much easier.  And going to be faster and faster loading the page. <br><br>  In any case, I repeat, in my opinion, how the engine for MVP can even fit ‚Äî to quickly throw something and show it to the client.  Moreover, if we proceed to the development of the final product, even if the front does not suit, you can completely throw it out and rewrite it in your own way, while the database and server logic will not go anywhere.  After all, these are headless-cms.  But I hope that in time the front will be brought to a completely acceptable level. <br><br>  If the community has an interest, I will then separately write topics about how to customize the front (add my blocks for the front editor) and how to customize the server (expand the scheme, add my entities, add resolvers, etc.).  Already accumulated quite a lot of tools to quickly perform such tasks. <br><br>  <a href="https://github.com/prisma-cms/">Project sources</a> <br><br>  Thank you all for your attention! </div><p>Source: <a href="https://habr.com/ru/post/457270/">https://habr.com/ru/post/457270/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../45726/index.html">CorePy: programming in assembler in Python</a></li>
<li><a href="../457260/index.html">LUKS container decryption at boot time</a></li>
<li><a href="../457262/index.html">Analysis of qualifications of the programming championship among backend developers</a></li>
<li><a href="../457266/index.html">Agile crisis. What to do?</a></li>
<li><a href="../45727/index.html">Peter Nalitch - new album on the system "Pay What You Want"</a></li>
<li><a href="../457276/index.html">Seven threats from bots to your site</a></li>
<li><a href="../45728/index.html">You can take a picture and a matchbox</a></li>
<li><a href="../457282/index.html">‚ÄúThe death of God‚Äù or the collapse of the generally accepted laws of building IT teams and creating IT systems in the 21st century</a></li>
<li><a href="../457284/index.html">OpenGL WBOIT: transparency without sorting</a></li>
<li><a href="../457286/index.html">The solution of the WorldSkills tasks of the Network module in the CICA competency. Part 1 - Basic Setup</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>