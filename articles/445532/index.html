<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>20 projects, 20 languages, deadline yesterday</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Imagine: you have 7 development teams with a total of more than 100 people. They simultaneously saw 13 applications. Work is being done in 20 reposito...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>20 projects, 20 languages, deadline yesterday</h1><div class="post__text post__text-html js-mediator-article">  Imagine: you have 7 development teams with a total of more than 100 people.  They simultaneously saw 13 applications.  Work is being done in 20 repositories. <br><br>  All applications need to be translated.  Some are for 6 languages, some are for 20. And some are for 13, but this is a completely different set of languages, it is not included in the previous 20. <br><br>  Everyone has a different stack, as a result, different string formats: js, json, ts, yaml or yml.  And some people still keep their texts in the database. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      You work on Agile: daily delivery of valuables, two-week sprints.  DoR includes all required translations.  And, of course, translations were needed yesterday in order to have time to test. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/1eb/c49/eae/1ebc49eae19ba18afaeb306ce033560b.jpg" alt="image"></div><a name="habracut"></a><br>  There is a department of technical writers.  Who is a technical writer?  This is a person who writes external documentation, sometimes - internal.  Writes all kinds of texts that users or partners can see: interface texts, letter texts, API responses, errors.  Accompanying the development process to be immersed in technology and business logic.  And ensures timely delivery of translations in the application. <br><br>  There is also the position of a copywriter-translator and a localization manager.  This is a person who creates all the texts in English, and also monitors the consistency of translations, assigns translators, and solves all related problems. <br>  Attention, the question is: how many technicals, copywriters and localization managers are needed in order not to stop development and not to hurt the entire technical department? <br><br>  In our case, we managed with 4 technical notes and 1 copywriter-localization manager.  The delivery of transfers on average fits into one working day and never exceeds three working days.  I hope you became interested. <br><br><h2>  How did we come to this </h2><br>  6 years ago we worked in Google sheets and databases.  That is, if in the development process there appeared lines for translation, we copied them into a tablet, and then sent them by mail for translation.  When the translation was ready, it was manually uploaded to the database.  The only advantage of such a decision is that you do not have to re-upload the application to see the new lines.  But if there is an error in the translation, it will not be possible to roll back.  No translation memory, no glossaries.  The consistency of translations is achieved by a close look. <br><br><h3>  First try </h3><br>  The first version to automate this process looked like this: when the developer had lines, he added them to a new branch in a special repository for translations.  Then in the same thread, the pipeline was launched, which sent the entire diff strings to be translated by API.  True, the translations should have been sent back to the database, and loading the lines from the external resource to the internal database via the API did not work. <br><br>  What did such integration give?  A step was removed where the technical writer needs to collect everything into a single table, manually send, and then divide the resulting translations according to the applications and the number of languages.  In this case, the lines were immediately sent for translation within the framework of the project, of the same name with the application for which they were intended.  At the exit, the technical writer received a set of archives for each of the applications for which the work was carried out.  This significantly reduced the share of manual labor.  Moreover, on the side of the provider a translation memory was implemented.  But this decision also preserved a number of shortcomings: storing the strings in the database did not allow for the full-fledged management of the strings on our side and still meant a large proportion of manual work. <br><br><h3>  Pain and continuous localization </h3><br>  The next integration brought a lot of suffering to the developers.  It seems to me that those who found her still have an eye twitching at the word ‚Äúlocalization‚Äù.  This was the first integration with Serge and Smartcat. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/4fe/db4/065/4fedb40651055739d9eda616754b4613.jpg" alt="image"><br><br>  Here it is important to tell what Serge and Smartcat are. <br><br>  <a href="https://serge.io/">Serge</a> is a utility that supports git.  She knows how to get the necessary strings from a branch, send them for translation, and then return the translation for those strings to the same branch.  You also need a plugin that will call the API of the CAT system in which we translate.  The plugin should receive new strings from Serge and return the finished translations to Serge. <br><br>  <a href="https://www.smartcat.ai/%3Futm_source%3Dconnectors%26utm_medium%3Dreferral%26utm_campaign%3Dxsolla_serge">Smartcat</a> is a CAT system with support for a glossary, a translation memory, and placeholders.  Also, Smartcat aggregates and simplifies the process of mutual settlements with freelancers, supports the connection of vendors of translations. <br><br>  At this step, we moved the lines from the database to the project repositories.  Now the lines had to be sent directly from the application repository and returned to the same place. <br><br>  It was supposed that it would work like this: the developer knows from which branch he created his feature-branch, and the diff in the resource files between these two branches is exactly what needs to be translated.  When a developer has a set of strings for translation, he runs a job with the Serge config in his branch.  Serge calculates diff, extracts new strings, calls the plugin and sends strings to translate.  When the translations are ready, the developer calls the following job: he deploys the Serge instance created in the previous step, gets the translations ready and commits them to the original branch. <br><br>  The solution turned out to be unstable: Serge is not designed to be deployed from scratch with every launch of the pipeline, the developers did not want to think about diffs between branches, and the Smartcat plugin was in urgent need of updating and refinement.  The process of delivering new lines could take hours.  And, alas, did not always end in success. <br><br>  Theoretically, all stages of the process were automated, in fact, the maintenance, calculating the diff before launching the pipeline and troubleshooting took more time than performing the same task completely manually. <br><br><h3>  Light at the end of the tunnel </h3><br>  By August 2018, we launched the current version of integration.  We have a localization server.  On the server for each repository there is a Serge instance.  Serge scans all branches in the repository, sends new lines for translation and commits finished translations to the original branches.  In the current integration, everything is fast and stable.  After creating a branch for translations, the lines appear in Smartcat within 5-6 minutes.  After confirming the transfers, the commit is similar, for the same 5-6 minutes.  The delivery time of transfers is limited only by human factors: the workload of translators, the difference in time zones and so on. <br><br>  In the following articles I will explain how to configure the integration of Serge-Smartcat-Gitlab from scratch, and how we solved various non-standard tasks. </div><p>Source: <a href="https://habr.com/ru/post/445532/">https://habr.com/ru/post/445532/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../445518/index.html">Old iron: electronic tools that are lost in the depths of history</a></li>
<li><a href="../445520/index.html">Visual Studio Code Extensions That Help Work With Git</a></li>
<li><a href="../445524/index.html">Analysis of the layout (interface of goods placement in the store)</a></li>
<li><a href="../445528/index.html">AMP: The Future of Email</a></li>
<li><a href="../445530/index.html">Another Github 2: machine learning, datasets and Jupyter Notebooks</a></li>
<li><a href="../445534/index.html">WebAuthn standard officially completed</a></li>
<li><a href="../445536/index.html">Asterisk. Dialplan Askozia 6. Outgoing calls</a></li>
<li><a href="../445538/index.html">‚ÄúSmart‚Äù home in terms of vulnerability: dealing with vectors and attack mechanics</a></li>
<li><a href="../445542/index.html">Optishokz earphones for those who do not like the sun and love music</a></li>
<li><a href="../445544/index.html">Digest news from the world of PostgreSQL. Issue number 15</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>