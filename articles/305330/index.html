<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Writing an adaptive template for Emlog CMS</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Today I would like to talk about Emlog CMS, very few people have heard about this system, but it is a good option for maintaining a personal website. ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Writing an adaptive template for Emlog CMS</h1><div class="post__text post__text-html js-mediator-article">  Today I would like to talk about Emlog CMS, very few people have heard about this system, but it is a good option for maintaining a personal website.  Emlog is fast and stable, but inferior in Wordpress functionality, for example, and this script has fewer plug-ins and templates.  The script is Chinese, but it has Russian localization, however, the templates for it are only in Chinese and, for the most part, not adaptive, we will write a suitable template for blogging, for example. <br>  Working with Emlog is not much different from Wordpress, the default template includes files such as: <br><ul><li>  404.php </li><li>  echo_log.php - Full news. </li><li>  footer.php </li><li>  header.php </li><li>  log_list.php - Short news. </li><li>  main.css - All css template. </li><li>  module.php - Plug-ins and comments. </li><li>  page.php - Open news page. </li><li>  side.php - Sidebar. </li><li>  t.php - microblogging. </li></ul><br>  Examples of functions for the template: <br><pre><code class="php hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> <span class="hljs-keyword"><span class="hljs-keyword">require_once</span></span> View::getView(<span class="hljs-string"><span class="hljs-string">'module'</span></span>); <span class="hljs-meta"><span class="hljs-meta">?&gt;</span></span> <span class="hljs-comment"><span class="hljs-comment">// . </span><span class="hljs-meta"><span class="hljs-comment"><span class="hljs-meta">&lt;?php</span></span></span><span class="hljs-comment"> include View::getView('side'); </span><span class="hljs-meta"><span class="hljs-comment"><span class="hljs-meta">?&gt;</span></span></span><span class="hljs-comment"> //    . </span><span class="hljs-meta"><span class="hljs-comment"><span class="hljs-meta">&lt;?php</span></span></span><span class="hljs-comment"> echo $site_title; </span><span class="hljs-meta"><span class="hljs-comment"><span class="hljs-meta">?&gt;</span></span></span><span class="hljs-comment"> // . </span><span class="hljs-meta"><span class="hljs-comment"><span class="hljs-meta">&lt;?php</span></span></span><span class="hljs-comment"> blog_navi(); </span><span class="hljs-meta"><span class="hljs-comment"><span class="hljs-meta">?&gt;</span></span></span><span class="hljs-comment"> //  . </span><span class="hljs-meta"><span class="hljs-comment"><span class="hljs-meta">&lt;?php</span></span></span><span class="hljs-comment"> echo $footer_info; </span><span class="hljs-meta"><span class="hljs-comment"><span class="hljs-meta">?&gt;</span></span></span><span class="hljs-comment"> //   .</span></span></code> </pre> <br><a name="habracut"></a><br>  I will take the default template as the basis for my adaptive template. <br><img src="https://habrastorage.org/files/cdf/ebb/a9c/cdfebba9c2204d15ac53e8cfd160901f.png"><br>  First you need to edit main.css and replace all widths from pixel to percentage, it is also important to set the CSS property overflow-x: auto;  on content containers, as content items may be non-adaptive and will not display correctly on mobile devices. <br>  The top panel with links and side menu should go under the spoiler, the header and footer will look like a picture with text. <br><img src="https://habrastorage.org/files/f5a/d48/3c9/f5ad483c98ca4c06a36ba5dffad62ddc.png"><br>  Next, move &lt;? Php blog_navi ();  ?&gt; and &lt;? php include View :: getView ('side');  ?&gt; to the table <br>  which will be opened using the JS function called using the onclick event. <br><img src="https://habrastorage.org/files/972/186/f51/972186f516244a00975db6322056e85b.png"><br>  Remove duplicate sidebars on all pages of the template. <br>  Opening function - closing spoiler. <br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> menuheader = <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(<span class="hljs-built_in"><span class="hljs-built_in">document</span></span>.getElementById(<span class="hljs-string"><span class="hljs-string">"splCont"</span></span>).style.display == <span class="hljs-string"><span class="hljs-string">"none"</span></span>) { <span class="hljs-built_in"><span class="hljs-built_in">document</span></span>.getElementById(<span class="hljs-string"><span class="hljs-string">"splCont"</span></span>).style.display = <span class="hljs-string"><span class="hljs-string">"block"</span></span>; }<span class="hljs-keyword"><span class="hljs-keyword">else</span></span>{ <span class="hljs-built_in"><span class="hljs-built_in">document</span></span>.getElementById(<span class="hljs-string"><span class="hljs-string">"splCont"</span></span>).style.display = <span class="hljs-string"><span class="hljs-string">"none"</span></span>; } }</code> </pre><br>  Insert the background image into the header and footer. <br><pre> <code class="css hljs"><span class="hljs-selector-tag"><span class="hljs-selector-tag">background-image</span></span>: <span class="hljs-selector-tag"><span class="hljs-selector-tag">url</span></span>(<span class="hljs-selector-tag"><span class="hljs-selector-tag">bg</span></span><span class="hljs-selector-class"><span class="hljs-selector-class">.jpg</span></span>); <span class="hljs-selector-tag"><span class="hljs-selector-tag">background-position</span></span>: <span class="hljs-selector-tag"><span class="hljs-selector-tag">center</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">center</span></span>; <span class="hljs-selector-tag"><span class="hljs-selector-tag">background-repeat</span></span>: <span class="hljs-selector-tag"><span class="hljs-selector-tag">no-repeat</span></span>; <span class="hljs-selector-tag"><span class="hljs-selector-tag">background-attachment</span></span>: <span class="hljs-selector-tag"><span class="hljs-selector-tag">fixed</span></span>; <span class="hljs-selector-tag"><span class="hljs-selector-tag">background-size</span></span>: <span class="hljs-selector-tag"><span class="hljs-selector-tag">cover</span></span>; <span class="hljs-selector-tag"><span class="hljs-selector-tag">background-color</span></span>:<span class="hljs-selector-id"><span class="hljs-selector-id">#464646</span></span>;</code> </pre><br>  You also need to arrange the separation between the news using a gradient, use the style generator. <br><div class="spoiler">  <b class="spoiler_title">CSS code</b> <div class="spoiler_text"><pre> <code class="css hljs"><span class="hljs-selector-tag"><span class="hljs-selector-tag">padding</span></span><span class="hljs-selector-pseudo"><span class="hljs-selector-pseudo">:3</span></span>%; <span class="hljs-selector-tag"><span class="hljs-selector-tag">border-top</span></span>:<span class="hljs-selector-id"><span class="hljs-selector-id">#1faee9</span></span> 2<span class="hljs-selector-tag"><span class="hljs-selector-tag">px</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">solid</span></span>; <span class="hljs-selector-tag"><span class="hljs-selector-tag">border-bottom</span></span>:<span class="hljs-selector-id"><span class="hljs-selector-id">#1faee9</span></span> 2<span class="hljs-selector-tag"><span class="hljs-selector-tag">px</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">solid</span></span>; <span class="hljs-selector-tag"><span class="hljs-selector-tag">background-color</span></span>: <span class="hljs-selector-id"><span class="hljs-selector-id">#e3e3e3</span></span>; <span class="hljs-comment"><span class="hljs-comment">/* IE9, iOS 3.2+ */</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">background-image</span></span>: <span class="hljs-selector-tag"><span class="hljs-selector-tag">url</span></span>(<span class="hljs-selector-tag"><span class="hljs-selector-tag">data</span></span><span class="hljs-selector-pseudo"><span class="hljs-selector-pseudo">:image</span></span>/<span class="hljs-selector-tag"><span class="hljs-selector-tag">svg</span></span>+<span class="hljs-selector-tag"><span class="hljs-selector-tag">xml</span></span>;<span class="hljs-selector-tag"><span class="hljs-selector-tag">base64</span></span>,+<span class="hljs-selector-tag"><span class="hljs-selector-tag">PC9saW5lYXJHcmFkaWVudD48cmVjdCB4PSIwIiB5PSIwIiB3aWR0aD0iMSIgaGVpZ2h0PSIxIiBmaWxsPSJ1cmwoI3ZzZ2cpIiAvPjwvc3ZnPg</span></span>==); <span class="hljs-selector-tag"><span class="hljs-selector-tag">background-image</span></span>: <span class="hljs-selector-tag"><span class="hljs-selector-tag">-webkit-gradient</span></span>(<span class="hljs-selector-tag"><span class="hljs-selector-tag">linear</span></span>, 0% 0%, 0% 100%,<span class="hljs-selector-tag"><span class="hljs-selector-tag">color-stop</span></span>(0, <span class="hljs-selector-tag"><span class="hljs-selector-tag">rgb</span></span>(226, 226, 226)),<span class="hljs-selector-tag"><span class="hljs-selector-tag">color-stop</span></span>(0<span class="hljs-selector-class"><span class="hljs-selector-class">.5</span></span>, <span class="hljs-selector-tag"><span class="hljs-selector-tag">rgb</span></span>(219, 219, 219)),<span class="hljs-selector-tag"><span class="hljs-selector-tag">color-stop</span></span>(0<span class="hljs-selector-class"><span class="hljs-selector-class">.51</span></span>, <span class="hljs-selector-tag"><span class="hljs-selector-tag">rgb</span></span>(209, 209, 209)),<span class="hljs-selector-tag"><span class="hljs-selector-tag">color-stop</span></span>(1, <span class="hljs-selector-tag"><span class="hljs-selector-tag">rgb</span></span>(254, 254, 254))); <span class="hljs-comment"><span class="hljs-comment">/* Android 2.3 */</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">background-image</span></span>: <span class="hljs-selector-tag"><span class="hljs-selector-tag">-webkit-repeating-linear-gradient</span></span>(<span class="hljs-selector-tag"><span class="hljs-selector-tag">top</span></span>,<span class="hljs-selector-tag"><span class="hljs-selector-tag">rgb</span></span>(226, 226, 226) 0%,<span class="hljs-selector-tag"><span class="hljs-selector-tag">rgb</span></span>(219, 219, 219) 50%,<span class="hljs-selector-tag"><span class="hljs-selector-tag">rgb</span></span>(209, 209, 209) 51%,<span class="hljs-selector-tag"><span class="hljs-selector-tag">rgb</span></span>(254, 254, 254) 100%); <span class="hljs-comment"><span class="hljs-comment">/* IE10+ */</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">background-image</span></span>: <span class="hljs-selector-tag"><span class="hljs-selector-tag">repeating-linear-gradient</span></span>(<span class="hljs-selector-tag"><span class="hljs-selector-tag">to</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">bottom</span></span>,<span class="hljs-selector-tag"><span class="hljs-selector-tag">rgb</span></span>(226, 226, 226) 0%,<span class="hljs-selector-tag"><span class="hljs-selector-tag">rgb</span></span>(219, 219, 219) 50%,<span class="hljs-selector-tag"><span class="hljs-selector-tag">rgb</span></span>(209, 209, 209) 51%,<span class="hljs-selector-tag"><span class="hljs-selector-tag">rgb</span></span>(254, 254, 254) 100%); <span class="hljs-selector-tag"><span class="hljs-selector-tag">background-image</span></span>: <span class="hljs-selector-tag"><span class="hljs-selector-tag">-ms-repeating-linear-gradient</span></span>(<span class="hljs-selector-tag"><span class="hljs-selector-tag">top</span></span>,<span class="hljs-selector-tag"><span class="hljs-selector-tag">rgb</span></span>(226, 226, 226) 0%,<span class="hljs-selector-tag"><span class="hljs-selector-tag">rgb</span></span>(219, 219, 219) 50%,<span class="hljs-selector-tag"><span class="hljs-selector-tag">rgb</span></span>(209, 209, 209) 51%,<span class="hljs-selector-tag"><span class="hljs-selector-tag">rgb</span></span>(254, 254, 254) 100%);</code> </pre><br>  The arrow "up" is useful, therefore, insert the image of the arrow in the header and enable CSS. <br><pre> <code class="html hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">a</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"top"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">a</span></span></span><span class="hljs-tag">&gt;</span></span> /*  */ <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">a</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">href</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"#top"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">title</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"  "</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"topbutton"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">img</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">src</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"http://journal.twoclub.ru/src/content/templates/default/arrow.png"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">width</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"50px"</span></span></span><span class="hljs-tag"> /&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">a</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br></div></div><br>  The comment form also needs to be updated.  We place placeholder and change styles to the color scheme of the site. <br><img src="https://habrastorage.org/files/136/8ca/8c7/1368ca8c73c64c6dbee641f4ac044bbe.png"><br><pre> <code class="css hljs"><span class="hljs-selector-id"><span class="hljs-selector-id">#contentleft</span></span> <span class="hljs-selector-class"><span class="hljs-selector-class">.comment-post</span></span> <span class="hljs-selector-class"><span class="hljs-selector-class">.cancel-reply</span></span>{<span class="hljs-attribute"><span class="hljs-attribute">float</span></span>:right;<span class="hljs-attribute"><span class="hljs-attribute">font-size</span></span>:<span class="hljs-number"><span class="hljs-number">12px</span></span>;<span class="hljs-attribute"><span class="hljs-attribute">cursor</span></span>:pointer; <span class="hljs-attribute"><span class="hljs-attribute">_cursor</span></span>:hand;<span class="hljs-attribute"><span class="hljs-attribute">padding-right</span></span>:<span class="hljs-number"><span class="hljs-number">10%</span></span>} <span class="hljs-selector-id"><span class="hljs-selector-id">#contentleft</span></span> <span class="hljs-selector-class"><span class="hljs-selector-class">.comment-post</span></span> <span class="hljs-selector-class"><span class="hljs-selector-class">.cancel-reply</span></span><span class="hljs-selector-pseudo"><span class="hljs-selector-pseudo">:hover</span></span>{<span class="hljs-attribute"><span class="hljs-attribute">text-decoration</span></span>:underline} <span class="hljs-selector-id"><span class="hljs-selector-id">#contentleft</span></span> <span class="hljs-selector-class"><span class="hljs-selector-class">.comment-post</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">small</span></span>{<span class="hljs-attribute"><span class="hljs-attribute">font-size</span></span>:<span class="hljs-number"><span class="hljs-number">12px</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">color</span></span>:<span class="hljs-number"><span class="hljs-number">#999</span></span>} <span class="hljs-selector-id"><span class="hljs-selector-id">#contentleft</span></span> <span class="hljs-selector-class"><span class="hljs-selector-class">.comment-post</span></span> <span class="hljs-selector-tag"><span class="hljs-selector-tag">input</span></span>{<span class="hljs-attribute"><span class="hljs-attribute">padding</span></span>:<span class="hljs-number"><span class="hljs-number">5px</span></span> <span class="hljs-number"><span class="hljs-number">5px</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">border</span></span>:<span class="hljs-number"><span class="hljs-number">1px</span></span> <span class="hljs-number"><span class="hljs-number">#1faee9</span></span> solid; <span class="hljs-attribute"><span class="hljs-attribute">font-size</span></span>:<span class="hljs-number"><span class="hljs-number">12px</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">color</span></span>:<span class="hljs-number"><span class="hljs-number">#333</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">width</span></span>:<span class="hljs-number"><span class="hljs-number">40%</span></span>} <span class="hljs-selector-id"><span class="hljs-selector-id">#contentleft</span></span> <span class="hljs-selector-class"><span class="hljs-selector-class">.comment-post</span></span> <span class="hljs-selector-id"><span class="hljs-selector-id">#comment</span></span>{ <span class="hljs-attribute"><span class="hljs-attribute">width</span></span>:<span class="hljs-number"><span class="hljs-number">90%</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">border</span></span>:<span class="hljs-number"><span class="hljs-number">1px</span></span> <span class="hljs-number"><span class="hljs-number">#1faee9</span></span> solid; <span class="hljs-attribute"><span class="hljs-attribute">font-size</span></span>:<span class="hljs-number"><span class="hljs-number">12px</span></span>; <span class="hljs-attribute"><span class="hljs-attribute">color</span></span>:<span class="hljs-number"><span class="hljs-number">#333</span></span>}</code> </pre><br>  The default template contains interface elements specified by images, they need to be replaced with gradients. <br>  I want the main page to have a slider with the latest news. <br>  Create a file slider.php and connect it to header.php using the following construction: <br><pre> <code class="html hljs xml"> <span class="php"><span class="hljs-meta"><span class="php"><span class="hljs-meta">&lt;?php</span></span></span><span class="php"> </span><span class="hljs-keyword"><span class="php"><span class="hljs-keyword">require_once</span></span></span><span class="php"> View::getView(</span><span class="hljs-string"><span class="php"><span class="hljs-string">'slider'</span></span></span><span class="php">); </span><span class="hljs-meta"><span class="php"><span class="hljs-meta">?&gt;</span></span></span></span></code> </pre><br>  An example of a slider used by <a href="http://www.templatemonster.com/blog/wp-content/uploads/demos/coding-a-responsive-horizontal-posts-slider-using-css3-and-jquery/index.html">reference</a> . <br>  Modifying CSS so that it does not conflict with the overall style of the site. <br>  Next, you need to embed the content in the resulting slider. <br>  We use the built-in functions of Emlog to get content from the top.  It is worth noting that the given fragment will only work on the main page, so that on other pages the slider will not interfere. <br><div class="spoiler">  <b class="spoiler_title">Code</b> <div class="spoiler_text"><pre> <code class="html hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"crsl-items"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">data-navigation</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"navbtns"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"crsl-wrap"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="php"><span class="hljs-meta"><span class="php"><span class="hljs-meta">&lt;?php</span></span></span><span class="php"> </span><span class="hljs-keyword"><span class="php"><span class="hljs-keyword">if</span></span></span><span class="php">(!defined(</span><span class="hljs-string"><span class="php"><span class="hljs-string">'EMLOG_ROOT'</span></span></span><span class="php">)) {</span><span class="hljs-keyword"><span class="php"><span class="hljs-keyword">exit</span></span></span><span class="php">(</span><span class="hljs-string"><span class="php"><span class="hljs-string">'error!'</span></span></span><span class="php">);} </span><span class="hljs-meta"><span class="php"><span class="hljs-meta">?&gt;</span></span></span></span> <span class="php"><span class="hljs-meta"><span class="php"><span class="hljs-meta">&lt;?php</span></span></span><span class="php"> doAction(</span><span class="hljs-string"><span class="php"><span class="hljs-string">'index_loglist_top'</span></span></span><span class="php">); </span><span class="hljs-meta"><span class="php"><span class="hljs-meta">?&gt;</span></span></span></span> //  . <span class="php"><span class="hljs-meta"><span class="php"><span class="hljs-meta">&lt;?php</span></span></span><span class="php"> $i=</span><span class="hljs-number"><span class="php"><span class="hljs-number">0</span></span></span><span class="php">; </span><span class="hljs-keyword"><span class="php"><span class="hljs-keyword">if</span></span></span><span class="php"> (!</span><span class="hljs-keyword"><span class="php"><span class="hljs-keyword">empty</span></span></span><span class="php">($logs)): </span><span class="hljs-keyword"><span class="php"><span class="hljs-keyword">foreach</span></span></span><span class="php">($logs </span><span class="hljs-keyword"><span class="php"><span class="hljs-keyword">as</span></span></span><span class="php"> $value): </span><span class="hljs-comment"><span class="php"><span class="hljs-comment">// ,     5   . if($i &gt;5) break; $i++; </span></span><span class="hljs-meta"><span class="php"><span class="hljs-comment"><span class="hljs-meta">?&gt;</span></span></span></span></span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"crsl-item"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"thumbnail"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="php"><span class="hljs-meta"><span class="php"><span class="hljs-meta">&lt;?php</span></span></span><span class="php"> blog_author($value[</span><span class="hljs-string"><span class="php"><span class="hljs-string">'author'</span></span></span><span class="php">]); </span><span class="hljs-meta"><span class="php"><span class="hljs-meta">?&gt;</span></span></span></span> //  . <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">span</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"postdate"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="php"><span class="hljs-meta"><span class="php"><span class="hljs-meta">&lt;?php</span></span></span><span class="php"> </span><span class="hljs-keyword"><span class="php"><span class="hljs-keyword">echo</span></span></span><span class="php"> gmdate(</span><span class="hljs-string"><span class="php"><span class="hljs-string">'Ynj G:i'</span></span></span><span class="php">, $value[</span><span class="hljs-string"><span class="php"><span class="hljs-string">'date'</span></span></span><span class="php">]); </span><span class="hljs-meta"><span class="php"><span class="hljs-meta">?&gt;</span></span></span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">span</span></span></span><span class="hljs-tag">&gt;</span></span> //     gmdate()   . <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">h3</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">a</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">href</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"&lt;?php echo $value['log_url']; ?&gt;"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="php"><span class="hljs-meta"><span class="php"><span class="hljs-meta">&lt;?php</span></span></span><span class="php"> </span><span class="hljs-keyword"><span class="php"><span class="hljs-keyword">echo</span></span></span><span class="php"> $value[</span><span class="hljs-string"><span class="php"><span class="hljs-string">'log_title'</span></span></span><span class="php">]; </span><span class="hljs-meta"><span class="php"><span class="hljs-meta">?&gt;</span></span></span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">a</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">h3</span></span></span><span class="hljs-tag">&gt;</span></span>//   . <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">id</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"kroll"</span></span></span><span class="hljs-tag">&gt;</span></span> // ovweflow-x:auto; <span class="php"><span class="hljs-meta"><span class="php"><span class="hljs-meta">&lt;?php</span></span></span><span class="php"> blog_sort($value[</span><span class="hljs-string"><span class="php"><span class="hljs-string">'logid'</span></span></span><span class="php">]); </span><span class="hljs-meta"><span class="php"><span class="hljs-meta">?&gt;</span></span></span></span> //  <span class="php"><span class="hljs-meta"><span class="php"><span class="hljs-meta">&lt;?php</span></span></span><span class="php"> editflg($value[</span><span class="hljs-string"><span class="php"><span class="hljs-string">'logid'</span></span></span><span class="php">],$value[</span><span class="hljs-string"><span class="php"><span class="hljs-string">'author'</span></span></span><span class="php">]); </span><span class="hljs-meta"><span class="php"><span class="hljs-meta">?&gt;</span></span></span></span> <span class="php"><span class="hljs-meta"><span class="php"><span class="hljs-meta">&lt;?php</span></span></span><span class="php"> </span><span class="hljs-keyword"><span class="php"><span class="hljs-keyword">echo</span></span></span><span class="php"> $value[</span><span class="hljs-string"><span class="php"><span class="hljs-string">'log_description'</span></span></span><span class="php">]; </span><span class="hljs-meta"><span class="php"><span class="hljs-meta">?&gt;</span></span></span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="php"><span class="hljs-meta"><span class="php"><span class="hljs-meta">&lt;?php</span></span></span><span class="php"> </span><span class="hljs-keyword"><span class="php"><span class="hljs-keyword">endforeach</span></span></span><span class="php">; </span><span class="hljs-comment"><span class="php"><span class="hljs-comment">//  . else: //    . </span></span><span class="hljs-meta"><span class="php"><span class="hljs-comment"><span class="hljs-meta">?&gt;</span></span></span></span></span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">style</span></span></span><span class="hljs-tag">&gt;</span></span><span class="undefined"><span class="undefined"> //    ,   . .crsl-items { height:0px; } </span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">style</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="php"><span class="hljs-meta"><span class="php"><span class="hljs-meta">&lt;?php</span></span></span><span class="php"> </span><span class="hljs-keyword"><span class="php"><span class="hljs-keyword">endif</span></span></span><span class="php">;</span><span class="hljs-meta"><span class="php"><span class="hljs-meta">?&gt;</span></span></span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-comment"><span class="hljs-comment">&lt;!-- end #contentleft--&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">hr</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"text/javascript"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="javascript"><span class="javascript"> $(</span><span class="hljs-function"><span class="hljs-keyword"><span class="javascript"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span></span><span class="javascript"><span class="hljs-function">(</span></span><span class="hljs-params"></span><span class="javascript"><span class="hljs-function"><span class="hljs-params"></span>)</span></span></span><span class="javascript">{ </span><span class="hljs-comment"><span class="javascript"><span class="hljs-comment">// $('.crsl-items').carousel({ visible: 3, itemMinWidth: 180, itemEqualHeight: 370, itemMargin: 9, }); $("a[href=#]").on('click', function(e) { e.preventDefault(); }); }); </span></span></span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br></div></div><br>  Now it remains to start the system, initialize the database and work with the site. <br><img src="https://habrastorage.org/files/8ab/a03/f8f/8aba03f8f16b4dbda4b792e361399069.png"><br><img src="https://habrastorage.org/files/1d5/c2a/dec/1d5c2adecdae4d9f88047db6f0b0c1a0.png"><br>  <a href="https://github.com/trikstor/Emlog_project">Github</a> |  <a href="http://media.twoclub.ru/src/">Demo</a> </div>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <p>Source: <a href="https://habr.com/ru/post/305330/">https://habr.com/ru/post/305330/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../305308/index.html">In the footsteps of Google I / O 2016 - the new Firebase: integration with Android</a></li>
<li><a href="../305312/index.html">Review of physics in Sonic games. Parts 5 and 6: the loss of rings and being under water</a></li>
<li><a href="../305314/index.html">It seems that Github is again unavailable in Russia ... and other sites</a></li>
<li><a href="../305316/index.html">Facebook Messenger will receive end-to-end encryption</a></li>
<li><a href="../305318/index.html">Photos from Varlamov. Honest business or misunderstood law</a></li>
<li><a href="../305332/index.html">Encoder's good instincts will ultimately hit you in the teeth</a></li>
<li><a href="../305334/index.html">The feasibility and benefits of using server drives, building RAID arrays, is it worth saving and when?</a></li>
<li><a href="../305336/index.html">Blocking of IP addresses of CloudFlare in Beeline. 149-FZ</a></li>
<li><a href="../305338/index.html">Let me go Meteor</a></li>
<li><a href="../305340/index.html">Interview on the programmer in Amazon</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>