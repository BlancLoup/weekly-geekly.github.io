<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Change CoffeeScript to ES6</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="I hasten to suggest that you have heard about ES6 and may have managed to try it. Then you probably will find an interesting article about some featur...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Change CoffeeScript to ES6</h1><div class="post__text post__text-html js-mediator-article">  <i>I hasten to suggest that you have heard about ES6 and may have managed to try it.</i>  <i>Then you probably will find an interesting article about some features of the specification, published by <a href="https://twitter.com/BlakeWilliams__">Blake Williams</a> in the Thoughtbots blog.</i>  <i>I, with the permission of the author, publish the translation.</i> <br><br>  Recently, I looked towards the <a href="http://en.wikipedia.org/wiki/ECMAScript">ES6</a> specification, this is the next version of JavaScript, and finally I had the opportunity to use it in a project.  In a short time of use, I realized that it solves many problems that CoffeeScript is trying to solve, but without radical changes in the syntax. <br><br><h2>  ES6 today </h2><br>  You can start writing on ES6 right now using the translator in ES5 <a href="https://6to5.org/">6to5</a> .  6to5 supports quite a lot of build tools, including Broccoli, Grunt, Gulp, and Sprockets.  Everything worked fine for me with <a href="https://github.com/josh/sprockets-es6">sprockets-es6</a> , and 4.x Sprockets will support 6to5 out of the box.  You can also try ES6 directly in the browser in the <a href="https://6to5.org/repl/">6to5 REPL</a> . <br><a name="habracut"></a><br><div class="spoiler">  <b class="spoiler_title">Vim users</b> <div class="spoiler_text">  To associate * .es6 files with JavaScript, add the following line to your .vimrc: <br><pre><code class="hljs nginx"><span class="hljs-attribute"><span class="hljs-attribute">autocmd</span></span> BufRead,BufNewFile <span class="hljs-regexp"><span class="hljs-regexp">*.es</span></span>6 setfiletype javascript</code> </pre> <br></div></div>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h2>  Classes </h2><br>  In ES6, as in Coffee, there is support for classes.  Let's compare the same class written on Coffee and on ES6. <br><br>  CoffeeScript gives us such advantages as setting instance variables from parameters, interpolating strings and calling functions without brackets: <br><pre> <code class="coffeescript hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Person</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">constructor</span></span></span><span class="hljs-class">: (@</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">firstName</span></span></span><span class="hljs-class">, @</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">lastName</span></span></span><span class="hljs-class">) -&gt; </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">name</span></span></span><span class="hljs-class">: -&gt; "#{@</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">first_name</span></span></span><span class="hljs-class">} #{@</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">last_name</span></span></span><span class="hljs-class">}" </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">setName</span></span></span><span class="hljs-class">: (</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">name</span></span></span><span class="hljs-class">) -&gt; </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">names</span></span></span><span class="hljs-class"> = </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">name</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">split</span></span></span><span class="hljs-class"> " " @</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">firstName</span></span></span><span class="hljs-class"> = </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">names</span></span></span><span class="hljs-class">[0] @</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">lastName</span></span></span><span class="hljs-class"> = </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">names</span></span></span><span class="hljs-class">[1] </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">blake</span></span></span><span class="hljs-class"> = </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">new</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Person</span></span></span><span class="hljs-class"> "</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Blake</span></span></span><span class="hljs-class">", "</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Williams</span></span></span><span class="hljs-class">" </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">blake</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">setName</span></span></span><span class="hljs-class">("</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Blake</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Anderson</span></span></span><span class="hljs-class">") </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">console</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">log</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">blake</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">name</span></span></span><span class="hljs-class">()</span></span></code> </pre><br>  In ES6 classes, you can define setters and getters: <br><pre> <code class="javascript hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Person</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">constructor</span></span>(firstName, lastName) { <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.firstName = firstName; <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.lastName = lastName; } get name() { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.firstName + <span class="hljs-string"><span class="hljs-string">" "</span></span> + <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.lastName; } set name(name) { <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> names = name.split(<span class="hljs-string"><span class="hljs-string">" "</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.firstName = names[<span class="hljs-number"><span class="hljs-number">0</span></span>]; <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.lastName = names[<span class="hljs-number"><span class="hljs-number">1</span></span>]; } } <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> blake = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Person(<span class="hljs-string"><span class="hljs-string">"Blake"</span></span>, <span class="hljs-string"><span class="hljs-string">"Williams"</span></span>); blake.name = <span class="hljs-string"><span class="hljs-string">"Blake Anderson"</span></span> <span class="hljs-built_in"><span class="hljs-built_in">console</span></span>.log(blake.name);</code> </pre><br>  If you used libraries or frameworks complementing JavaScript classes, you have already noticed that the syntax of ES6 has slight differences: <br><ul><li>  No semicolon at the end of a function definition </li><li>  No <i>function</i> keyword </li><li>  No commas after each definition </li></ul><br>  Plus setters and getters that allow you to use the <i>name</i> function as an attribute. <br><br><h2>  Interpolation </h2><br>  I always wanted more powerful syntax of strings in javascript.  By the way, ES6 provides so-called <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/template_strings">string patterns</a> .  Compare the Coffee and JS lines with the ES6 line templates. <br><br>  CoffeScript: <br><pre> <code class="coffeescript hljs"><span class="hljs-string"><span class="hljs-string">"CoffeeScript allows multi-line strings with interpolation like 1 + 1 = </span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">#{</span></span><span class="hljs-number"><span class="hljs-string"><span class="hljs-subst"><span class="hljs-number">1</span></span></span></span><span class="hljs-string"><span class="hljs-subst"> + </span></span><span class="hljs-number"><span class="hljs-string"><span class="hljs-subst"><span class="hljs-number">1</span></span></span></span><span class="hljs-string"><span class="hljs-subst">}</span></span></span><span class="hljs-string"> "</span></span></code> </pre><br>  Javascript: <br><pre> <code class="javascript hljs"><span class="hljs-string"><span class="hljs-string">"JavaScript strings can only span a single line "</span></span> + <span class="hljs-string"><span class="hljs-string">"and interpolation isn't possible"</span></span></code> </pre><br>  ES6: <br><pre> <code class="javascript hljs"><span class="hljs-string"><span class="hljs-string">`Template strings allow strings to span multiple lines and allow interpolation like 1 + 1 = </span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${</span></span><span class="hljs-number"><span class="hljs-string"><span class="hljs-subst"><span class="hljs-number">1</span></span></span></span><span class="hljs-string"><span class="hljs-subst"> + </span></span><span class="hljs-number"><span class="hljs-string"><span class="hljs-subst"><span class="hljs-number">1</span></span></span></span><span class="hljs-string"><span class="hljs-subst">}</span></span></span><span class="hljs-string"> `</span></span></code> </pre><br>  You can use string patterns in the previous example class definition by changing the getter <i>name</i> to: <br><pre> <code class="javascript hljs">get name() { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-string"><span class="hljs-string">`</span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${</span></span><span class="hljs-keyword"><span class="hljs-string"><span class="hljs-subst"><span class="hljs-keyword">this</span></span></span></span><span class="hljs-string"><span class="hljs-subst">.firstName}</span></span></span><span class="hljs-string"> </span><span class="hljs-subst"><span class="hljs-string"><span class="hljs-subst">${</span></span><span class="hljs-keyword"><span class="hljs-string"><span class="hljs-subst"><span class="hljs-keyword">this</span></span></span></span><span class="hljs-string"><span class="hljs-subst">.lastName}</span></span></span><span class="hljs-string">`</span></span>; }</code> </pre><br>  Unlike concatenation, this code is much cleaner. <br><br><h2>  Thick arrows </h2><br>  Another feature that makes Coffee so attractive - thick arrows - is in ES6.  Thick arrows allow the function to <i>this</i> .  For a start, let's see how we coped without thick arrows. <br><br>  In ES5, we have to refer to <i>this</i> when defining a function: <br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> self = <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>; $(<span class="hljs-string"><span class="hljs-string">"buttob"</span></span>).on(<span class="hljs-string"><span class="hljs-string">"click"</span></span>, <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-comment"><span class="hljs-comment">// do something with self });</span></span></code> </pre><br>  Coffee allows you to do without arguments and brackets at all: <br><pre> <code class="coffeescript hljs">$(<span class="hljs-string"><span class="hljs-string">"button"</span></span>).<span class="hljs-literal"><span class="hljs-literal">on</span></span> <span class="hljs-string"><span class="hljs-string">"click"</span></span>, <span class="hljs-function"><span class="hljs-function">=&gt;</span></span> <span class="hljs-comment"><span class="hljs-comment"># do something with this</span></span></code> </pre><br>  In ES6, parentheses are required regardless of the presence of parameters: <br><pre> <code class="javascript hljs">$(<span class="hljs-string"><span class="hljs-string">"button"</span></span>).on(<span class="hljs-string"><span class="hljs-string">"click"</span></span>, () =&gt; { <span class="hljs-comment"><span class="hljs-comment">// do something with this });</span></span></code> </pre><br><br><h2>  Other features </h2><br>  In ES6 there are other features that are worth mentioning. <br><br><h3>  Default arguments </h3><br>  CoffeeScript: <br><pre> <code class="coffeescript hljs"><span class="hljs-function"><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">hello</span></span></span><span class="hljs-function"> = </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(name = </span></span><span class="hljs-string"><span class="hljs-function"><span class="hljs-params"><span class="hljs-string">"guest"</span></span></span></span><span class="hljs-function"><span class="hljs-params">)</span></span></span><span class="hljs-function"> -&gt;</span></span> alert(name)</code> </pre><br>  ES6: <br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> hello = <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">name = </span></span><span class="hljs-string"><span class="hljs-function"><span class="hljs-params"><span class="hljs-string">"guest"</span></span></span></span></span><span class="hljs-function">) </span></span>{ alert(name); }</code> </pre><br><h3>  Splats </h3><br>  <a href="http://en.wikipedia.org/wiki/Variadic_function">Variadic functions</a> , ‚Äúsplats‚Äù in Coffee terminology, allowing you to take N arguments by defining only one.  In ES6, they are called ‚Äúremaining arguments‚Äù. <br>  CoffeeScript: <br><pre> <code class="coffeescript hljs"><span class="hljs-function"><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">awards</span></span></span><span class="hljs-function"> = </span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(first, second, others...)</span></span></span><span class="hljs-function"> -&gt;</span></span> gold = first silver = second honorable_mention = others</code> </pre><br>  ES6: <br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> awards = <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">first, second, ...others</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> gold = first; <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> silver = second; <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> honorableMention = others; }</code> </pre><br><br><h3>  Destructuring </h3><br>  Destructuring allows you to match arrays and objects with a template for extracting specific values. <br><br>  CoffeeScript: <br><pre> <code class="coffeescript hljs">[first, _, last] = [<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">3</span></span>]</code> </pre><br>  ES6: <br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> [first, , last] = [<span class="hljs-number"><span class="hljs-number">1</span></span>, <span class="hljs-number"><span class="hljs-number">2</span></span>, <span class="hljs-number"><span class="hljs-number">3</span></span>]</code> </pre><br>  Destructuring can be used in setters, as in the previous example with the <i>name</i> setter, to make the code more concise: <br><pre> <code class="javascript hljs">set name(name) { [<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.firstName, <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.lastName] = name.split(<span class="hljs-string"><span class="hljs-string">" "</span></span>); }</code> </pre><br><br><h2>  Conclusion </h2><br>  ES6 translators are being actively developed and approaching CoffeScript in terms of functionality.  This post talks only about the small number of features that ES6 provides JavaScript.  You can find out more <a href="https://6to5.org/docs/learn-es6/">here</a> . <br><br>  Try ES6 in your next project! <br><br>  <a href="http://robots.thoughtbot.com/replace-coffeescript-with-es6">A source</a> </div><p>Source: <a href="https://habr.com/ru/post/249751/">https://habr.com/ru/post/249751/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../249735/index.html">The problem of diagonal boarders and Firefox</a></li>
<li><a href="../249737/index.html">Possibilities of outdoor 3G / 4G antennas for increasing data transfer speed in mobile networks</a></li>
<li><a href="../249739/index.html">Twitter Bootstrap and SharePoint. How to make Bootstrap work correctly under SP</a></li>
<li><a href="../249743/index.html">Intel¬Æ Graphics Technology. Part I: Almost Gran Turismo</a></li>
<li><a href="../249747/index.html">Yandex.Metro is watching you</a></li>
<li><a href="../249753/index.html">An overview of the Strela robotic platform or a do-it-yourself simple bluetooth bot</a></li>
<li><a href="../249755/index.html">Cards, Troika, payments</a></li>
<li><a href="../249757/index.html">How to hack Yandex two-factor authentication</a></li>
<li><a href="../249759/index.html">Sample Feature Engineering in Machine Learning</a></li>
<li><a href="../249761/index.html">Sberbank Online: find out personal data by phone</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>