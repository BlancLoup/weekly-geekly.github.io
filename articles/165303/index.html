<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Cloud9 and OpenShift. Development and deployment of applications in the clouds</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="It just so happens that now I am practicing in one company, where it is very hard to knock out a simple program on my desktop, let alone IDE, sometime...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Cloud9 and OpenShift. Development and deployment of applications in the clouds</h1><div class="post__text post__text-html js-mediator-article">  It just so happens that now I am practicing in one company, where it is very hard to knock out a simple program on my desktop, let alone IDE, sometimes it even turns into full weekly quests.  But at the same time, in my free time, I really like to experiment.  After reading the article about the <a href="http://habrahabr.ru/post/127567/">online IDE</a> and having an account in OpenShift, I decided to try and create and deploy a Yii application in the clouds. <br><br>  Immediately make a reservation that the article is for beginners.  Who cares go! <a name="habracut"></a><br><br>  <b>Link <a href="https://c9.io/">Cloud9 IDE</a> and <a href="https://openshift.redhat.com/app/">OpenShift</a> .</b> 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      As an IDE, I decided to dwell on Cloud9, I like the design and <a href="https://c9.io/site/features/">functionality</a> .  Plus, you can run the application directly in the IDE, minus - database hosting is not supported, so we will try to organize access to the database, which we will create in OpenShift. <br><br>  And also, Cloud9 smiled at me because of the presence of the terminal (Alt + T), even if it‚Äôs limited. <br><br><img src="https://habrastorage.org/storage2/603/2b5/b8a/6032b5b8a8300d18b7bcbe4e23dd44ce.jpg"><br><br>  <b>Step 0.</b> Create accounts if you do not already have them. <br><br>  I personally use free features. <br>  For Cloud9, these are public working environments of 128MB + 1 one private + limited terminal. <br>  For OpenShift it is 3 small cartridges, each with 512MB RAM and 1GB disk.  Cartridges are components that can be added to the application, such as databases (MySQL, PosgreSQL and MondoDB) and administration tools (phpMyAdmin, RockMongo, Cron, etc.). <br>  For small experiments quite worthy. <br><br>  <b>Step 1.</b> Add the key from Cloud9 to OpenShift SSH <br><br>  SSH keys are known to be used for secure connections, here are some good articles. <br>  In Cloud9, you can find the key in the Show SSH key in Your Account. <br><br><img src="https://habrastorage.org/storage2/c4e/828/b9a/c4e828b9aa1286d628257ba0a46c6ba7.jpg"><br><br>  Copy it and paste this key into OpenShift, for this your Public Keys is in Your Account <br><br><img src="https://habrastorage.org/storage2/df9/e85/ef5/df9e85ef5e552d117894f540d117c9c7.jpg"><br><br>  <b>Step 2.</b> Create a working environment in Cloud9 and add the application to OpenShift <br><br>  Everything is simple here, the main thing is to choose a git version of the working environment when creating an application in Cloud9.  Further git will be our faithful assistant. <br><br><img src="https://habrastorage.org/storage2/355/69c/d56/35569cd56b616039963db7e84676b316.jpg"><br><br>  In OpenShift, with a flick of the mouse, we create an application with PHP 5.3. <br><br><img src="https://habrastorage.org/storage2/f69/60e/d35/f6960ed35a5e6f3f3e2fcb62c5158bfa.jpg"><br><br>  <b>Step 3.</b> Add the git application repository from OpenShift to the Cloud9 workbench <br><br>  After creating an application in OpenShift, you can see its git repository. <br><br><img src="https://habrastorage.org/storage2/597/6d2/f25/5976d2f25d7f99a118b6484df03cb0d3.jpg"><br><br>  To link this repository to the working environment in Cloud9, use the following commands: <br><br><pre><code class="bash hljs">git remote add openshift -m master ssh://******.git/ git pull -s recursive -X theirs openshift master</code> </pre> <br><br>  <b>Step 4. We</b> load Yii in the Cloud9 working environment and create the framework for the yii application <br><br>  To load the framework yii into the application, use its git repository, adding it as a submodule: <br><br><pre> <code class="bash hljs">git submodule add git://github.com/yiisoft/yii.git yii git commit -m <span class="hljs-string"><span class="hljs-string">"added yii repository as submodule"</span></span></code> </pre> <br><br>  Download the release we need in the repository: <br><br><pre> <code class="bash hljs"><span class="hljs-built_in"><span class="hljs-built_in">cd</span></span> yii git checkout 1.1.13 <span class="hljs-built_in"><span class="hljs-built_in">cd</span></span> .. git add yii git commit -m <span class="hljs-string"><span class="hljs-string">"Use yii v1.1.13"</span></span></code> </pre> <br><br>  Now create the framework for the yii application.  The webapp script is usually used for this, but it will not work as a shell.  Instead, we will use the php version of the script, and yes, we need a global path to our folder. <br>  Run the following command and get the global path: <br><br><pre> <code class="bash hljs"><span class="hljs-built_in"><span class="hljs-built_in">pwd</span></span></code> </pre> <br><br>  We have about the following: <br><br><img src="https://habrastorage.org/storage2/ddd/165/372/ddd165372c6bbdf1a01eba57dc8181c9.jpg"><br><br>  Now we will execute a script with this path to create an application framework: <br><br><pre> <code class="bash hljs">php yii/framework/yiic.php webapp /var/lib/stickshift/ffa13067224647beb05863058997082a/app-root/data/354172/php git</code> </pre> <br><br>  Add all received: <br><br><pre> <code class="bash hljs">git add php git commit -m <span class="hljs-string"><span class="hljs-string">"created yii skeleton app"</span></span></code> </pre> <br><br>  A test run of php / index.php from Cloud9 will show us a warning: <br><br>  <i>date (): it is not safe to rely on the system's timezone settings.</i> <br><br>  This is solved by adding the following to php / protected / config / main.php: <br><br><pre> <code class="php hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?php</span></span> <span class="hljs-comment"><span class="hljs-comment">// uncomment the following to define a path alias // Yii::setPathOfAlias('local','path/to/local-folder'); date_default_timezone_set( 'UTC' );</span></span></code> </pre> <br><br>  And don't forget commit: <br><br><pre> <code class="bash hljs">git commit -a -m <span class="hljs-string"><span class="hljs-string">"set the default timezone to UTC"</span></span></code> </pre> <br><br>  I want to note that the problem exists only in Cloud9, in Openshift the application runs without any warnings. <br><br><img src="https://habrastorage.org/storage2/c5a/e3e/d74/c5ae3ed746730fe50a2ce53cf403e6f0.jpg"><br><br>  <b>Step 5.</b> Create a database in OpenShift and configure the connection <br><br>  Of course, you can get by with the sqlite database, but for your own interest, let's configure MySQL, add a cartridge on the application page. <br><br><img src="https://habrastorage.org/storage2/526/30d/c4c/52630dc4c9f67c1c8a147ff201d11b6f.jpg"><br><br>  <b>UPD1:</b> <s>Be sure to write down the issued password before completion, since</s>  <s>after that, I never found a way to recover or change the password :(.</s> As <a href="http://habrahabr.ru/users/Urchr/">Urchr</a> suggests in the <a href="http://habrahabr.ru/post/165303/">comments</a> , the login and password are stored in environment variables. You can use the Cloud9 terminal to get them and <a href="https://openshift.redhat.com/community/developers/remote-access">connect remotely</a> to the application via SSH. The login is standard - <i>admin</i> , and the password is taken from $ OPENSHIFT_MYSQL_DB_PASSWORD. <br>  <b>UPD2:</b> <s>I could find out the</s> address and port of the database <s>only by putting the phpMyAdmin cartridge</s> can also be obtained via the console in the environment variables $ OPENSHIFT_MYSQL_DB_HOST and $ OPENSHIFT_MYSQL_DB_PORT. <br><br>  For administrative purposes, we also supply the phpMyAdmin cartridge. <br><br><img src="https://habrastorage.org/storage2/3d8/4b8/bec/3d84b8bece71f09bc74bb98eedc88a15.jpg"><br><br>  In the same php / protected / config / main.php we set up a connection with MySQL. <br><br>  <b>That's all!</b> <br><br>  Now the application is ready for further action.  All this can be done using only the browser, wherever there is Internet. <br><br>  The following sources were used: <br>  1. <a href="https://openshift.redhat.com/community/blogs/look-ma-no-hands-developing-for-the-cloud-in-the-cloud-with-cloud9-ide">Look Ma, No Hands!</a>  <a href="https://openshift.redhat.com/community/blogs/look-ma-no-hands-developing-for-the-cloud-in-the-cloud-with-cloud9-ide">Developing for the Cloud, in the Cloud with Cloud9 IDE</a> <br>  2. <a href="http://www.yiiframework.com/wiki/373/create-yii-project-in-cloud9/">Create Yii Project In Cloud9</a> <br><br>  I hope that the article will be useful! </div><p>Source: <a href="https://habr.com/ru/post/165303/">https://habr.com/ru/post/165303/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../165297/index.html">Writing a bot for the game of Balls 2.0</a></li>
<li><a href="../165299/index.html">Method for constructing readable texts</a></li>
<li><a href="../1653/index.html">Internet swindlers caught in Irkutsk</a></li>
<li><a href="../16530/index.html">Songza - a fresh look at finding music</a></li>
<li><a href="../165301/index.html">Who is a manager</a></li>
<li><a href="../165305/index.html">Dynamic visualization of geocoded data (Twitter) using R</a></li>
<li><a href="../165307/index.html">Rational use of HP Blade servers</a></li>
<li><a href="../165309/index.html">How we write weekly reports for clients</a></li>
<li><a href="../165311/index.html">Samsung has introduced a working device with a flexible display.</a></li>
<li><a href="../165313/index.html">Registration on the portal of public services: simple step by step instructions</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>