<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Automatically generated CMS using your ready-made GraphQL scheme</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="second version of GraphQL CMS 

 In my previous article, ‚Äú Well, Russian . Original ‚Äù, I told you how to cut your code and time in half if you use Gra...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Automatically generated CMS using your ready-made GraphQL scheme</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/files/04f/a38/f30/04fa38f306bf4e83adda453608b6507b.png" alt="image"><br><br>  <a href="https://habrahabr.ru/post/315382/"><b>second version of GraphQL CMS</b></a> <br><br>  In my previous article, ‚Äú <a href="https://habrahabr.ru/post/310820/">Well, Russian</a> . <a href="https://medium.com/%40sarkis.tlt/how-to-use-mongoose-schema-to-generate-graphql-type-ada63a89915">Original</a> ‚Äù, I told you how to cut your code and time in half if you use GraphQL with Mongoose. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Today we will also talk about GraphQL technology and if you work with it, this article will be able to help you save a decent amount of development time.  The original article in English can be found on the <a href="https://medium.com/%40sarkis.tlt/auto-generating-cms-based-on-your-graphql-schema-5eaa6b07987b">link</a> . <br><br>  "Link to the module itself: <a href="https://github.com/sarkistlt/graphql-auto-generating-cms">graphql-auto-generating-cms</a> . <br><br>  As you may have guessed, this module uses your ready-made GraphQL scheme to generate a full-featured CMS.  You will not need to spend a lot of time developing an administrative panel, and you will be able to concentrate more on the business processes of your project and on its architecture. <br><br>  An important advantage of this module is that it does not require any changes from you in your ready-made code or project architecture, which makes its integration as simple as possible even on ready-made projects. <br><br>  You have two ways to use this module. <br><br><ol><li>  The first is as fast as possible and is suitable for a new project.  All you need is a GraphQL scheme and a simple pattern following the name of GraphQL methods and types. <br><br></li><li>  And the second method that does not require you to follow any patterns, and can be easily integrated into an already finished project.  All you need to do is provide the configuration object along with the GraphQL schema. </li></ol><br>  At the moment, the module does not support GraphQLList, nested objects and file downloads, their support will be implemented in future versions.  At the moment, you can easily get around these limitations using self-written functions and components that you can add to the CMS, we will look at how to do this in this article. <br><br>  Based on all the above, let's divide the current article into several points: <br><br><ul><li>  General rules </li><li>  Preparation for work </li><li>  The first method of use, with a pattern </li><li>  The second method of use, with a configuration object </li><li>  Addition of CMS with its components and functions. </li></ul><a name="habracut"></a><br><h3>  General rules </h3><br>  The module will use the graphQL type as an entity that will be available in the sidebar of the CMS. <br><br>  To exclude types that are used only as nested objects.  Accordingly, only those types that have one ‚ÄúQuery‚Äù method and at least one ‚ÄúMutation‚Äù method will be taken as an entity. <br><br>  Each type can have only one ‚ÄúQuery‚Äù [find], which will be used to get an array of objects, or to get one object using the ‚Äúid‚Äù or ‚Äú_id‚Äù argument depending on which type of database you use.  A type can also have one or more of the following ‚ÄúMutation‚Äù methods [create, update, remove]. <br><br>  Query method must support the following arguments: <br><br><pre><code class="javascript hljs">{ <span class="hljs-attr"><span class="hljs-attr">offset</span></span>: number, <span class="hljs-attr"><span class="hljs-attr">limit</span></span>: number, <span class="hljs-attr"><span class="hljs-attr">id</span></span>: number || _id: string <span class="hljs-comment"><span class="hljs-comment">//      }</span></span></code> </pre> <br>  The arguments ‚Äúoffset‚Äù and ‚Äúlimit‚Äù will be used for pagination and to get data from the server in batches, and not to say to get 50t at once.  objects because of what your application just hangs. <br><br>  On the server side, this might look like this: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">let</span></span> {offset, limit} = args; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> <span class="hljs-built_in"><span class="hljs-built_in">Promise</span></span>(<span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">resolve, reject</span></span></span><span class="hljs-function">) =&gt;</span></span> { Ingredients.find(query).skip(offset).limit(limit).exec(<span class="hljs-function"><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">err, res</span></span></span><span class="hljs-function">) =&gt;</span></span> err ? reject(err) : resolve(res)); });</code> </pre><br>  And the ‚Äúid‚Äù argument will be used to get one instance.  If you use a method like ‚ÄúfindOne‚Äù to return one element using ‚Äúid‚Äù, make sure that you return it inside the array, since the graphQL will expect exactly the array, even if it is one element. <br><br><h5>  <b>Preparation for work</b> </h5><br>  Installation: <br><br><pre> <code class="hljs matlab">npm <span class="hljs-built_in"><span class="hljs-built_in">i</span></span> -S graphql-auto-generating-cms</code> </pre> <br>  On the server side, we need to run the middleware through which we will process the GrpahQL scheme, in the example below we will use the URL "/ graphql_cms_endpoint" as the end point: <br><br><pre> <code class="javascript hljs">‚Ä¶ <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> express <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'express'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> graphqlCMS <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'graphql-auto-generating-cms/lib/middleware'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> schema <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'../schema'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> printSchema = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">'graphql/utilities/schemaPrinter'</span></span>).printSchema; <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> app = express(); <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> config = {<span class="hljs-attr"><span class="hljs-attr">schema</span></span>: printSchema(schema)} app.use(<span class="hljs-string"><span class="hljs-string">'/graphql_cms_endpoint'</span></span>, graphqlCMS(config)); ‚Ä¶ app.listen(port)</code> </pre><br>  After that we can use our React component on the client side.  You can download it from a separate link or as a normal React component. <br><br>  Inside the router: <br><br><pre> <code class="javascript hljs">... import GraphqlCMS <span class="hljs-keyword"><span class="hljs-keyword">from</span></span> <span class="hljs-string"><span class="hljs-string">'graphql-auto-generating-cms'</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">export</span></span> <span class="hljs-keyword"><span class="hljs-keyword">default</span></span> ( <span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">Router</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">onUpdate</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">{()</span></span></span></span><span class="xml"><span class="hljs-tag"> =&gt;</span></span></span><span class="xml"> window.scrollTo(0, 0)} history={browserHistory}&gt; </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">Route</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">path</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">'/graphql-cms'</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">endpoint</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">'/graphql_cms_endpoint'</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">graphql</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">'/graphql'</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">components</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">{GraphqlCMS}</span></span></span></span><span class="xml"><span class="hljs-tag"> /&gt;</span></span></span><span class="xml"> ‚Ä¶ </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">Router</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span></span></code> </pre><br>  Or as a component: <br><br><pre> <code class="javascript hljs">&lt;GraphqlCMS endpoint=<span class="hljs-string"><span class="hljs-string">'/graphql_cms_endpoint'</span></span> graphql=<span class="hljs-string"><span class="hljs-string">'/graphql'</span></span> /&gt;</code> </pre><br>  In the endpoint property we specify the same URL that we used on the server side. <br><br>  In the property "graphql" link to your GraphQL API. <br><br>  The second option is well suited if you say you want to supplement CMS with authorization functions and so on.  You simply paste it as a child component into the Layout with a navigation bar, authorization system and so on. <br><br><h3>  The first method of use, with a pattern </h3><br>  To use the quick way to generate your CMS, without additional configurations, you need to follow the following simple patterns in the GrpahQL name ‚ÄúQuery‚Äù and ‚ÄúMutation‚Äù methods. <br><br><pre> <code class="hljs pgsql">[graphql <span class="hljs-keyword"><span class="hljs-keyword">Type</span></span> <span class="hljs-type"><span class="hljs-type">name</span></span>]_[action]</code> </pre> <br>  example: <br><br><pre> <code class="javascript hljs">productType_find productType_create productType_update productType_remove</code> </pre><br>  Sorting menu items and input fields in the CMS will be identical to the order of the properties in the object. <br><br>  For example, if in our scheme the following order of types: <br><br><pre> <code class="javascript hljs">{ <span class="hljs-attr"><span class="hljs-attr">productType</span></span>: {}, <span class="hljs-attr"><span class="hljs-attr">userType</span></span>: {}, <span class="hljs-attr"><span class="hljs-attr">categoryType</span></span>: {}, ... }</code> </pre><br>  Then in the sidebar, the menu items will have the same order: <br><br><pre> <code class="javascript hljs">productType userType categoryType</code> </pre><br>  The same applies to the order of type fields, their order will be taken as the basis for constructing a UI for a page viewing one instance of an element, or for adding a new element: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">let</span></span> productType = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> GraphQLObjectType({ <span class="hljs-attr"><span class="hljs-attr">name</span></span>: <span class="hljs-string"><span class="hljs-string">'productType'</span></span>, <span class="hljs-attr"><span class="hljs-attr">fields</span></span>: { <span class="hljs-attr"><span class="hljs-attr">_id</span></span>: {<span class="hljs-attr"><span class="hljs-attr">type</span></span>: GraphQLString}, <span class="hljs-attr"><span class="hljs-attr">title</span></span>: {<span class="hljs-attr"><span class="hljs-attr">type</span></span>: GraphQLString}, <span class="hljs-attr"><span class="hljs-attr">shortDescription</span></span>: {<span class="hljs-attr"><span class="hljs-attr">type</span></span>: GraphQLString}, <span class="hljs-attr"><span class="hljs-attr">price</span></span>: {<span class="hljs-attr"><span class="hljs-attr">type</span></span>: GraphQLString}, <span class="hljs-attr"><span class="hljs-attr">isPublished</span></span>: {<span class="hljs-attr"><span class="hljs-attr">type</span></span>: GraphQLBoolean}, <span class="hljs-attr"><span class="hljs-attr">createdAt</span></span>: {<span class="hljs-attr"><span class="hljs-attr">type</span></span>: GraphQLString}, <span class="hljs-attr"><span class="hljs-attr">updatedAt</span></span>: {<span class="hljs-attr"><span class="hljs-attr">type</span></span>: GraphQLString}, <span class="hljs-attr"><span class="hljs-attr">bulletPoints</span></span>: {<span class="hljs-attr"><span class="hljs-attr">type</span></span>: GraphQLString}, <span class="hljs-attr"><span class="hljs-attr">scienceShort</span></span>: {<span class="hljs-attr"><span class="hljs-attr">type</span></span>: GraphQLString}, <span class="hljs-attr"><span class="hljs-attr">scienceFull</span></span>: {<span class="hljs-attr"><span class="hljs-attr">type</span></span>: GraphQLString}, } });</code> </pre><br>  Accordingly, if you want to change the order of the items in the sidebar, or change the order of the input fields, you just have to swap the properties in the GrpahQL scheme. <br><br><h3>  The second method of use, with a configuration object </h3><br>  The advantages of the second method: <br><br><ul><li>  You do not need to make any changes to the current code and / or architecture. </li><li>  It is not necessary to use the naming pattern. </li><li>  You can disable any ‚ÄúMutation‚Äù methods for each type. </li><li>  You can change the sorting of the fields and the side menu, without changing the scheme, simply by changing the order of the rules in the "rules" property </li><li>  You can specify an arbitrary name for the side menu items and all fields.  Initially, the names of graphQL types will be used as the names of the menu items, and the names of the type properties will be used as the names of the fields. </li><li>  You can disable editing any fields. </li><li>  You can freely specify which properties will be used inside the table with the list of documents.  Initially, the ‚Äúid‚Äù or ‚Äú_id‚Äù type property will be used for the [# / ID] field, and the second GraphQL type property will be used as [title] </li><li>  You can change which field to use for a specific property, for example, use input or textarea, change the input type, say to ‚Äúdate‚Äù and so on. </li></ul><br>  Let's take a look at how it works, all you need to do is expand the configuration object on the server side.  All fields except the ‚Äúschema‚Äù are optional. <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">let</span></span> config = {<span class="hljs-attr"><span class="hljs-attr">schema</span></span>: printSchema(schema)} app.use(<span class="hljs-string"><span class="hljs-string">'/graphql_cms_endpoint'</span></span>, graphqlCMS(config));</code> </pre><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">let</span></span> config = { <span class="hljs-attr"><span class="hljs-attr">schema</span></span>: printSchema(schema), <span class="hljs-comment"><span class="hljs-comment">//  "printed"  [required] exclude: ['paymentType', 'invoiceType'], //graphql       CMS rules: { //       graphQL  categoryType: { //   graphQL  label: 'Categories', //         listHeader: { //         //   [id]   [title] //           //  UI     ‚ÄúString‚Äù + ‚Äú ‚Äú + ‚ÄúString‚Äù id: ['id'], title: ['description'] }, resolvers: { //      naming  //       // Query's  Mutation's     find: { resolver: 'getCategories' // Query method name }, create: { resolver: 'addCategory' // Mutation method name allowed: true }, update: { resolver: 'updateCategory' // Mutation method name allowed: true }, remove: { allowed: false //       //       //    ,  true //  ‚Äúfind‚Äù,    } }, fields: { _id: {}, sortNumber: { label: 'custom field name to show in UI', inputControl: 'input', // can be ‚Äúinput‚Äù or ‚Äútextarea‚Äù inputType: 'number', // can be any input type: date, text, file etc. disabled: true, //     exclude: false, //      CMS }, name: {}, //       //        createdAt: {}, updatedAt: {}, isPublished: {} } } } }</span></span></code> </pre><br><h3>  Addition of CMS with its components and functions. </h3><br>  You can also add CMS menu items with your React components with additional features, say for some custom solutions, such as statistics or a general dashboard. <br><br>  All you need to do is simply add another property 'newMenuItems' on the client side, to the component: <br><br><pre> <code class="javascript hljs">&lt;Route path=<span class="hljs-string"><span class="hljs-string">'/graphql-cms'</span></span> endpoint=<span class="hljs-string"><span class="hljs-string">'/graphql_cms_endpoint'</span></span> graphql=<span class="hljs-string"><span class="hljs-string">'/graphql'</span></span> newMenuItems={customPages} components={GraphqlCMS} /&gt;</code> </pre><br>  Through which we send an array with additional menu items and components, the structure of the objects in the array is below: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">let</span></span> customPages = [ { <span class="hljs-attr"><span class="hljs-attr">label</span></span>: <span class="hljs-string"><span class="hljs-string">'Custom Page'</span></span>, <span class="hljs-attr"><span class="hljs-attr">secret</span></span>: <span class="hljs-string"><span class="hljs-string">'uniqeForEachComponentSecret'</span></span>, <span class="hljs-attr"><span class="hljs-attr">view</span></span>: { <span class="hljs-attr"><span class="hljs-attr">secret</span></span>: <span class="hljs-string"><span class="hljs-string">'sameUniqeComponentSecret'</span></span>, <span class="hljs-attr"><span class="hljs-attr">component</span></span>: CustomDashboard <span class="hljs-comment"><span class="hljs-comment">//  React  } } ]</span></span></code> </pre><br>  The code above will look like this: <br><br><img src="https://habrastorage.org/files/7c2/baf/aea/7c2bafaeab5e4696b1a05ca9ff78fd60.png"><br><br>  Thank you for your attention, I hope this module will be useful to you. <br><br>  <b>I am currently working on a new version of the module if you want to keep abreast of the ‚Äústar‚Äù project on GitHub.</b> <b><br></b>  <b>What will be included in the new version:</b> <b><br></b> <ul><li>  <b>support of nested objects of any depth for graphQL types</b> </li><li>  <b>graphQLList support</b> </li><li>  <b>Routing</b> </li><li>  <b>File upload support</b> </li></ul> <b><br><br></b>  <b>With the next update, the auto-generated CMS will satisfy 90% of your requirements for any CMS just using your GraphQL scheme!</b> <br><br>  " <a href="https://github.com/sarkistlt/graphql-auto-generating-cms/tree/master/example">Example code</a> <br>  ¬ª <a href="https://github.com/sarkistlt/graphql-auto-generating-cms/">Github</a> <br><br>  Several screenshots of the working version: <br><br><img src="https://habrastorage.org/files/2fa/8e4/d48/2fa8e4d48d334ee39fe8b38072c51a7e.png"><br><img src="https://habrastorage.org/files/e74/30f/19f/e7430f19f96447858fcffb8f7ebe0f3c.png"><br><img src="https://habrastorage.org/files/c30/281/0fe/c302810fe16f40ca97f9380bd006f9ea.png"><br><img src="https://habrastorage.org/files/2bc/1cb/357/2bc1cb357e154cefa03ced12df5519a5.png"><br><img src="https://habrastorage.org/files/b5a/df9/a21/b5adf9a21fa549c586ebad9ef7ae7846.png"></div><p>Source: <a href="https://habr.com/ru/post/314204/">https://habr.com/ru/post/314204/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../314192/index.html">Thermal Resistance: Production Process</a></li>
<li><a href="../314194/index.html">Interesting bookmarks UX / UI-designer</a></li>
<li><a href="../314196/index.html">Announcement of Sync.NET mitap # 3</a></li>
<li><a href="../314198/index.html">WildData: easy data access framework</a></li>
<li><a href="../314202/index.html">ServiceStack & .NET Core</a></li>
<li><a href="../314206/index.html">November 2 - the most IT day of the year</a></li>
<li><a href="../314208/index.html">Announce Dart Sass</a></li>
<li><a href="../314210/index.html">Development Indie RPG: analysis of two years of development</a></li>
<li><a href="../314212/index.html">Monitoring Docker Hosts, Containers, and Container Services</a></li>
<li><a href="../314216/index.html">How we adjusted the process from storage to software licensing: SupplyLab project</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>