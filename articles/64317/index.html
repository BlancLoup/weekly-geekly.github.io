<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Writing an applet for GNOME in Python</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="I publish this post at the request of the respected VladX , who has a temporary misunderstanding with karma. 

 An applet is a small application built...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Writing an applet for GNOME in Python</h1><div class="post__text post__text-html js-mediator-article">  I publish this post at the request of the respected <a href="http://habrahabr.ru/users/vladx/" class="user_link">VladX</a> , who has a temporary misunderstanding with karma. <br><br>  An applet is a small application built directly into the GNOME panel.  Usually, an applet performs some kind of narrow functionality (changing the volume, mounting devices), which distinguishes it from the cumbersome window application.  In fact, it is not difficult for a coder knowing a Python to write your own applet, but there is a solution for those who do not know: a large number of useful (and not very) applets are on <a href="http://www.gnomefiles.org/">gnomefiles.org</a> , in addition, there are examples of writing applets on C on the <a href="http://gnome.org/">official site</a> . <br><a name="habracut"></a><br><h4>  Go! </h4><br>  So, we write an applet.  The applet should do something.  Our applet, for example, will show habrakarma and habrasila.  For all this information we will use <a href="http://habrahabr.ru/info/help/api/">the Habr API</a> . <br><br><blockquote>  <font color="#808080">#! / usr / bin / env python</font> <br>  <font color="#808080"># coding = utf-8</font> <br>  <font color="#ff7700">import</font> <font color="#dc143c">sys</font> , <font color="#dc143c">os</font> , gtk, gtk.  <font>gdk</font> , pygtk, gnomeapplet, gnome 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      pygtk.  <font>require</font> <font>(</font> <font color="#483d8b">'2.0'</font> <font>)</font> <br><br>  __USER__ = <font color="#483d8b">'VladX'</font> <br>  __URL__ = <font color="#483d8b">'http://habrahabr.ru/api/profile/'</font> + __USER__ </blockquote><br><br>  This is how our applet begins.  Everything is clear here - we import the necessary libraries, put the necessary parameters into the variables.  In order to avoid any problems with Russian characters, we will use UTF-8 encoding (and by the way, I advise you to always do the same). <br><br><blockquote>  <font color="#ff7700">class</font> MyApplet <font>(</font> gnomeapplet. <font>Applet</font> <font>)</font> : <br><br>  <font color="#ff7700">def</font> <font color="#0000cd">__init__</font> <font>(</font> <font color="#008000">self</font> , applet, iid <font>)</font> : <br><br>  <font color="#008000">self</font> .  <font>applet</font> = applet <br>  <font color="#008000">self</font> .  <font>applet</font> .  <font>set_name</font> <font>(</font> <font color="#483d8b">'MyApplet'</font> <font>)</font> <br>  <font color="#008000">self</font> .  <font>hbox</font> = gtk.  <font>HBox</font> <font>(</font> <font>)</font> <br>  <font color="#008000">self</font> .  <font>applet</font> .  <font>add</font> <font>(</font> <font color="#008000">self</font> . <font>hbox</font> <font>)</font> <br>  <font color="#008000">self</font> .  <font>event</font> = gtk.  <font>EventBox</font> <font>(</font> <font>)</font> <br>  <font color="#008000">self</font> .  <font>hbox</font>  <font>add</font> <font>(</font> <font color="#008000">self</font> . <font>event</font> <font>)</font> <br>  <font color="#008000">self</font> .  <font>info</font> = gtk.  <font>Label</font> <font>(</font> <font>)</font> <br>  <font color="#008000">self</font> .  <font>event</font> .  <font>add</font> <font>(</font> <font color="#008000">self</font> . <font>info</font> <font>)</font> <font color="#808080"># In order for an object to react to various events, it must be placed in the Event Box</font> <br>  <font color="#008000">self</font> .  <font>event</font> .  <font>set_tooltip_text</font> <font>(</font> <font color="#483d8b">'Habrayuzer'</font> + __USER__ <font>)</font> <br>  <font color="#008000">self</font> .  <font>event</font> .  <font>connect</font> <font>(</font> <font color="#483d8b">'button-press-event'</font> , <font color="#008000">self</font> . <font>callback_button</font> <font>)</font> <br>  <font color="#008000">self</font> .__ init_popupmenu <font>(</font> <font>)</font> <br>  <font color="#008000">self</font> .  <font>applet</font> .  <font>connect</font> <font>(</font> <font color="#483d8b">'destroy'</font> , <font color="#008000">self</font> . <font>callback_destroy</font> <font>)</font> <br>  <font color="#008000">self</font> .  <font>applet</font> .  <font>show_all</font> <font>(</font> <font>)</font> <font color="#808080"># Show all this on the panel</font> <br>  <font color="#008000">self</font> .  <font>info</font> .  <font>set_text</font> <font>(</font> <font color="#008000">self</font> . <font>get_info</font> <font>(</font> <font>)</font> <font>)</font> <br><br>  <font color="#ff7700">def</font> __init_popupmenu <font>(</font> <font color="#008000">self</font> <font>)</font> : <br><br>  <font color="#008000">self</font> .  <font>applet</font> .  <font>setup_menu</font> <font>(</font> <font color="#483d8b">''</font> <font color="#483d8b">'</font> <font color="#483d8b"><br></font>  <font color="#483d8b">&lt;popup name = '</font> button3 <font color="#483d8b">'&gt;</font> <font color="#483d8b"><br></font>  <font color="#483d8b">&lt;menuitem name = '</font> Open Item <font color="#483d8b">' verb = '</font> Open <font color="#483d8b">' stockid = '</font> gtk- <font color="#008000">open</font> <font color="#483d8b">' /&gt;</font> <font color="#483d8b"><br></font>  <font color="#483d8b">&lt;menuitem name = '</font> About Item <font color="#483d8b">' verb = '</font> About <font color="#483d8b">' stockid = '</font> gtk-about <font color="#483d8b">' /&gt;</font> <font color="#483d8b"><br></font>  <font color="#483d8b">&lt;/ popup&gt; '</font> <font color="#483d8b">' '</font> , <font>[</font> <br>  <font>(</font> <font color="#483d8b">'Open'</font> , <font color="#008000">self</font> . <font>Callback_open</font> <font>)</font> , <br>  <font>(</font> <font color="#483d8b">'About'</font> , <font color="#008000">self</font> . <font>Callback_about</font> <font>)</font> <br>  <font>]</font> , <font color="#008000">None</font> <font>)</font> <br><br>  <font color="#ff7700">def</font> get_info <font>(</font> <font color="#008000">self</font> <font>)</font> : <br>  <font color="#483d8b">''</font> <font color="#483d8b">'Making a request, for example, using Pycurl'</font> <font color="#483d8b">''</font> <br>  <font color="#ff7700">import</font> pycurl, <font color="#dc143c">StringIO</font> <br>  content = <font color="#dc143c">StringIO</font> .  <font color="#dc143c">StringIO</font> <font>(</font> <font>)</font> <br>  c = pycurl.  <font>Curl</font> <font>(</font> <font>)</font> <br>  c.  <font>setopt</font> <font>(</font> pycurl. <font>URL</font> , __URL__ <font>)</font> <br>  c.  <font>setopt</font> <font>(</font> pycurl. <font>FOLLOWLOCATION</font> , <font color="#ff4500">1</font> <font>)</font> <br>  c.  <font>setopt</font> <font>(</font> pycurl. <font>WRITEFUNCTION</font> , content. <font>write</font> <font>)</font> <font color="#808080"># Set the method that writes the answer to a variable</font> <br>  c.  <font>perform</font> <font>(</font> <font>)</font> <br>  c.  <font>close</font> <font>(</font> <font>)</font> <br>  content = content.  <font>getvalue</font> <font>(</font> <font>)</font> <br>  <font color="#483d8b">''</font> <font color="#483d8b">'Parsing code'</font> <font color="#483d8b">''</font> <br>  <font color="#ff7700">try</font> : <br>  karma = content <font>[</font> content.  <font>index</font> <font>(</font> <font color="#483d8b">'&lt;karma&gt;'</font> <font>)</font> + <font color="#ff4500">7</font> : content.  <font>index</font> <font>(</font> <font color="#483d8b">'&lt;/ karma&gt;'</font> <font>)</font> <font>]</font> <br><br>  <font color="#ff7700">except</font> : <br>  karma = <font color="#483d8b">'*'</font> <br><br>  <font color="#ff7700">try</font> : <br>  rating = content <font>[</font> content.  <font>index</font> <font>(</font> <font color="#483d8b">'&lt;rating&gt;'</font> <font>)</font> + <font color="#ff4500">8</font> : content.  <font>index</font> <font>(</font> <font color="#483d8b">'&lt;/ rating&gt;'</font> <font>)</font> <font>]</font> <br><br>  <font color="#ff7700">except</font> : <br>  rating = <font color="#483d8b">'*'</font> <br><br><br>  <font color="#ff7700">return</font> karma + <font color="#483d8b">'/'</font> + rating <br><br>  <font color="#ff7700">def</font> callback_button <font>(</font> <font color="#008000">self</font> , widget, event <font>)</font> : <br><br>  <font color="#008000">self</font> .  <font>callback_open</font> <font>(</font> <font color="#008000">self</font> <font>)</font> <br><br>  <font color="#ff7700">def</font> callback_open <font>(</font> <font color="#008000">self</font> , event, data = <font color="#008000">None</font> <font>)</font> : <br>  <font color="#483d8b">''</font> <font color="#483d8b">'Open in the browser by clicking'</font> <font color="#483d8b">''</font> <br>  gnome  <font>url_show</font> <font>(</font> <br>  <font color="#483d8b">'http: //'</font> + <br>  __USER__.  <font>replace</font> <font>(</font> <font color="#483d8b">'_'</font> , <font color="#483d8b">'-'</font> <font>)</font> + <font color="#808080"># Replace underscore characters with hyphens</font> <br>  <font color="#483d8b">'.habrahabr.ru /'</font> <br>  <font>)</font> <br><br>  <font color="#ff7700">def</font> callback_about <font>(</font> <font color="#008000">self</font> , event, data = <font color="#008000">None</font> <font>)</font> : <br>  <font color="#483d8b">''</font> <font color="#483d8b">'Show the standard GNOME window'</font> <font color="#483d8b">''</font> <br>  <font color="#dc143c">os</font> .  <font>system</font> <font>(</font> <font color="#483d8b">'gnome-about'</font> <font>)</font> <br><br>  <font color="#ff7700">def</font> callback_destroy <font>(</font> <font color="#008000">self</font> , applet <font>)</font> : <br>  <font color="#483d8b">''</font> <font color="#483d8b">'Destroying an object'</font> <font color="#483d8b">''</font> <br>  <font color="#ff7700">del</font> <font color="#008000">self</font> .  <font>applet</font> <br></blockquote><br><br>  This is actually the most interesting part of the applet.  The constructor <strong>__init__ ()</strong> method initializes the object, the <strong>__init_popupmenu ()</strong> method adds ‚ÄúOpen‚Äù and ‚ÄúAbout‚Äù commands to the context menu and sets the corresponding callback method.  The <strong>get_info ()</strong> method receives a response from the server and processes it for the cherished numbers of karma and power.  It would be foolish to use a special xml-parser in such a trivial task, so we will do it in a simple bydlokodersky way. <br><br><blockquote>  <font color="#ff7700">def</font> applet_factory <font>(</font> applet, iid <font>)</font> : <br><br>  MyApplet <font>(</font> applet, iid <font>)</font> <br>  <font color="#ff7700">return</font> <font color="#008000">true</font> <br><br>  <font color="#ff7700">def</font> main <font>(</font> args <font>)</font> : <br><br>  <font color="#ff7700">if</font> <font color="#008000">len</font> <font>(</font> <font color="#dc143c">sys</font> . <font>argv</font> <font>)</font> == <font color="#ff4500">2</font> <font color="#ff7700">and</font> <font color="#dc143c">sys</font> .  <font>argv</font> <font>[</font> <font color="#ff4500">1</font> <font>]</font> == <font color="#483d8b">'run-in-window'</font> : <br><br>  window = gtk.  <font>Window</font> <font>(</font> gtk. <font>WINDOW_TOPLEVEL</font> <font>)</font> <br>  window.  <font>set_title</font> <font>(</font> <font color="#483d8b">'It works!'</font> <font>)</font> <br>  window.  <font>connect</font> <font>(</font> <font color="#483d8b">'destroy'</font> , gtk. <font>main_quit</font> <font>)</font> <br>  applet = gnomeapplet.  <font>Applet</font> <font>(</font> <font>)</font> <br>  applet_factory <font>(</font> applet, <font color="#008000">None</font> <font>)</font> <br>  applet.  <font>reparent</font> <font>(</font> window <font>)</font> <br>  window.  <font>show_all</font> <font>(</font> <font>)</font> <br>  gtk  <font>main</font> <font>(</font> <font>)</font> <br>  <font color="#dc143c">sys</font> .  <font>exit</font> <font>(</font> <font>)</font> <br><br>  <font color="#ff7700">elif</font> <font color="#008000">len</font> <font>(</font> <font color="#dc143c">sys</font> . <font>argv</font> <font>)</font> == <font color="#ff4500">2</font> <font color="#ff7700">and</font> <font color="#dc143c">sys</font> .  <font>argv</font> <font>[</font> <font color="#ff4500">1</font> <font>]</font> == <font color="#483d8b">'help'</font> : <br>  <font color="#483d8b">''</font> <font color="#483d8b">'We deduce a help by parameters'</font> <font color="#483d8b">''</font> <br>  <font color="#ff7700">print</font> <font color="#483d8b">''</font> <font color="#483d8b">'</font> <font color="#483d8b"><br></font>  <font color="#483d8b">--run-in-window - run applet independent of gnome-panel</font> <font color="#483d8b"><br></font>  <font color="#483d8b">--help - show this message '</font> <font color="#483d8b">' '</font> <br><br>  <font color="#ff7700">else</font> : <br><br>  gnomeapplet.  <font>bonobo_factory</font> <font>(</font> <font color="#483d8b">'OAFIID: GNOME_MyApplet_Factory'</font> , <br>  MyApplet .__ gtype__, <br>  <font color="#483d8b">'My Applet'</font> , <br>  <font color="#483d8b">'1.0'</font> , <br>  applet_factory <font>)</font> <br><br><br><br>  <font color="#ff7700">if</font> __name__ == <font color="#483d8b">'__main__'</font> : <br>  main <font>(</font> <font color="#dc143c">sys</font> . <font>argv</font> <font>)</font> <br></blockquote><br><br>  These functions are the same in most Python applets; you only need to change the arguments passed to the <strong>bonobo_factory</strong> method to your own. <br>  There is also one useful point: when passing the <em>--run-in-window</em> parameter to the script, the applet runs in a separate window, which helps a lot when debugging. <br><br>  Well, it would seem that all.  But no - the applet is written, but it is not on the list of the gnome applets.  To fix this, you need to put the file (in this case, you can use the name <strong>gnomeMyAppletFactory.server</strong> ) in the / usr / lib64 / bonobo / servers directory with something like this: <br><br><blockquote>  <font color="#66cc66">&lt;</font> oaf_info <font color="#66cc66">&gt;</font> <br>  <font color="#66cc66">&lt;</font> oaf_server iid = <font color="#483d8b">'OAFIID: GNOME_MyApplet_Factory'</font> <font color="#008000">type</font> = <font color="#483d8b">'exe'</font> location = <font color="#483d8b">'/home/vlad/applets/src/habrapplet.py'</font> <font color="#66cc66">&gt;</font> <br>  <font color="#66cc66">&lt;</font> oaf_attribute name = <font color="#483d8b">'repo_ids'</font> <font color="#008000">type</font> = <font color="#483d8b">'stringv'</font> <font color="#66cc66">&gt;</font> <br>  <font color="#66cc66">&lt;</font> item value = <font color="#483d8b">'IDL: Bonobo / GenericFactory: 1.0'</font> / <font color="#66cc66">&gt;</font> <br>  <font color="#66cc66">&lt;</font> item value = <font color="#483d8b">'IDL: Bonobo / Unknown: 1.0'</font> / <font color="#66cc66">&gt;</font> <br>  <font color="#66cc66">&lt;</font> / oaf_attribute <font color="#66cc66">&gt;</font> <br>  <font color="#66cc66">&lt;</font> oaf_attribute name = <font color="#483d8b">'name'</font> <font color="#008000">type</font> = <font color="#483d8b">'string'</font> value = <font color="#483d8b">'My Applet'</font> / <font color="#66cc66">&gt;</font> <br>  <font color="#66cc66">&lt;</font> oaf_attribute name = <font color="#483d8b">'description'</font> <font color="#008000">type</font> = <font color="#483d8b">'string'</font> value = <font color="#483d8b">'Show your karma and ratio'</font> / <font color="#66cc66">&gt;</font> <br>  <font color="#66cc66">&lt;</font> / oaf_server <font color="#66cc66">&gt;</font> <br><br>  <font color="#66cc66">&lt;</font> oaf_server iid = <font color="#483d8b">'OAFIID: GNOME_MyApplet'</font> <font color="#008000">type</font> = <font color="#483d8b">'factory'</font> location = <font color="#483d8b">'OAFIID: GNOME_MyApplet_Factory'</font> <font color="#66cc66">&gt;</font> <br>  <font color="#66cc66">&lt;</font> oaf_attribute name = <font color="#483d8b">'repo_ids'</font> <font color="#008000">type</font> = <font color="#483d8b">'stringv'</font> <font color="#66cc66">&gt;</font> <br>  <font color="#66cc66">&lt;</font> item value = <font color="#483d8b">'IDL: GNOME / Vertigo / PanelAppletShell: 1.0'</font> / <font color="#66cc66">&gt;</font> <br>  <font color="#66cc66">&lt;</font> item value = <font color="#483d8b">'IDL: Bonobo / Control: 1.0'</font> / <font color="#66cc66">&gt;</font> <br>  <font color="#66cc66">&lt;</font> item value = <font color="#483d8b">'IDL: Bonobo / Unknown: 1.0'</font> / <font color="#66cc66">&gt;</font> <br>  <font color="#66cc66">&lt;</font> / oaf_attribute <font color="#66cc66">&gt;</font> <br>  <font color="#66cc66">&lt;</font> oaf_attribute name = <font color="#483d8b">'name'</font> <font color="#008000">type</font> = <font color="#483d8b">'string'</font> value = <font color="#483d8b">'My First Applet'</font> / <font color="#66cc66">&gt;</font> <br>  <font color="#66cc66">&lt;</font> oaf_attribute name = <font color="#483d8b">'name-ru'</font> <font color="#008000">type</font> = <font color="#483d8b">'string'</font> value = <font color="#483d8b">'Habrapplet'</font> / <font color="#66cc66">&gt;</font> <br>  <font color="#66cc66">&lt;</font> oaf_attribute name = <font color="#483d8b">'description'</font> <font color="#008000">type</font> = <font color="#483d8b">'string'</font> value = <font color="#483d8b">'Show your karma and ratio'</font> / <font color="#66cc66">&gt;</font> <br>  <font color="#66cc66">&lt;</font> oaf_attribute name = <font color="#483d8b">'description-en'</font> <font color="#008000">type</font> = <font color="#483d8b">'string'</font> value = <font color="#483d8b">'Displays your karma and habrasil'</font> / <font color="#66cc66">&gt;</font> <br>  <font color="#66cc66">&lt;</font> oaf_attribute name = <font color="#483d8b">'panel: category'</font> <font color="#008000">type</font> = <font color="#483d8b">'string'</font> value = <font color="#483d8b">'Utility'</font> / <font color="#66cc66">&gt;</font> <br>  <font color="#66cc66">&lt;</font> oaf_attribute name = <font color="#483d8b">'panel: icon'</font> <font color="#008000">type</font> = <font color="#483d8b">'string'</font> value = <font color="#483d8b">'computer.png'</font> / <font color="#66cc66">&gt;</font> <br>  <font color="#66cc66">&lt;</font> / oaf_server <font color="#66cc66">&gt;</font> <br>  <font color="#66cc66">&lt;</font> / oaf_info <font color="#66cc66">&gt;</font> </blockquote><br><br>  Do not forget to change the path to the script on your own and allow its execution using <em>chmod + x</em> . <br><br>  Successful codding,% username%! <br><br>  ps In preparing the material used resource <a href="http://highlight.hohli.com/">highlight.hohli.com</a> . </div><p>Source: <a href="https://habr.com/ru/post/64317/">https://habr.com/ru/post/64317/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../64311/index.html">July 24: Future, Investment and Education at iCamp Russia</a></li>
<li><a href="../64312/index.html">Interview with co-owner of the eTorg group of companies, Boris Preobrazhensky</a></li>
<li><a href="../64313/index.html">How to find $ 1 000 000?</a></li>
<li><a href="../64314/index.html">Greenmob - how can I help the planet?</a></li>
<li><a href="../64315/index.html">Execute sudo while writing</a></li>
<li><a href="../64318/index.html">We are looking for three times faster: multi-queries and faceted search</a></li>
<li><a href="../64319/index.html">Comparison table of the latest smartphones</a></li>
<li><a href="../64320/index.html">Light sensitive fabric as a photosensor</a></li>
<li><a href="../64322/index.html">Tale of the rowers team</a></li>
<li><a href="../64323/index.html">XHTML is dead? Long live XHTML!</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>