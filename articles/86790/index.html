<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Grails - the holy grail of a web developer</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Entry or torment of choice 
 Hello! I want to tell a little about Grails and show how to create a simple web application. To begin with, I was looking...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Grails - the holy grail of a web developer</h1><div class="post__text post__text-html js-mediator-article"><img src="http://xmages.net/upload/0cfb4526.png" alt="grails"><br><br><h4>  Entry or torment of choice </h4><br>  Hello!  I want to tell a little about Grails and show how to create a simple web application.  To begin with, I was looking for a convenient and functional web framework for rapid development.  My view alternately fell on Django, Ruby on Rails, and various Java development.  Of course, I like Java, Spring Framework and Hibernate, all together is the most powerful thing.  However, some moments did not suit me: <a name="habracut"></a><br><ul><li>  The lag of the Java language by opportunities from other modern languages, as well as limitations in the design of the language.  This is expressed in the absence of a convenient way of writing bins - creating a couple of getters and setters for each property is somewhat tiring, there is no possibility to use intuitive mathematical operations on objects (operator overload), there is no support for functional programming, for example, closures, lack of syntactic sugar, for example, inconvenience creating a collection filled with specific values.  All this and much more makes Java programs somewhat cumbersome and less concise than similar ones, for example, in Python; </li><li>  Low speed and complexity of developing web applications - often, instead of writing code, the work comes down to setting up numerous XML configuration files that require additional study. </li></ul><br>  I began to look for an alternative.  PHP was brushed aside right away due to the imperfection of this language and the traditions of ‚Äúbicycle construction‚Äù.  As an amateur Python was tested by Django, who liked its simplicity and convenience.  I think that doing small projects on Django is just right, but I did not like the limited functionality of the template engine, for example, the lack of conditions and the assignment of variables in the templates.  Of course, some may say that there should be a minimal logic in the pattern ‚Äî no variables or branching.  I dare say that in my opinion in real projects this creates numerous inconveniences.  True, in the new version of Django, these problems will be solved soon.  With all the advantages of this framework, I don‚Äôt like its procedural orientation - although this is a purely subjective opinion, as well as procedural orientation of Python itself, as if the OOP appeared in it only yesterday, and the lack of means to protect the application code at the level of the programming language itself - in Pyhton there are no constants, in the class all methods and properties are open, and in order to make a member of a class private, it is necessary to use underscores, which makes the code extremely unpleasant in reading.  I looked at Ruby as an improved version of Python with a big emphasis on OOP, but I, like many who have tried Ruby, pushed the interpreter's syntax and inactivity, although in Ruby 1.9 things are much better.  I wanted something else.  And I found it - the holy grail. <br><br><h4>  Groovy - Java Next </h4><br>  As a Java fan, I began to look at Groovy, the language of the new generation based on Java.  It is a compiled programming language with a nice Java syntax, easy to use and concise, with great power.  A Groovy program is compiled into the bytecode of the Java virtual machine.  The main advantages include compatibility with Java at the level of code and libraries, support for functional programming, a lot of convenient syntax sugar, and a lot of new features that will make our world better :) From Groovy, you can use Java classes and libraries, so that all your experience does not will be left behind.  Of the drawbacks of Groovy, the dynamic typing of this language should be noted - although the types of variables can be specified explicitly, all checks occur at the stage of code execution, rather than compilation, as a result we have a lag compared to Java, and as shown by tests, the Groovy code is on average 40 times slower than similar Java code.  But this problem, I think, will soon have a full-fledged solution - Groovy ++, a static code compiler that has recently appeared, allows using both dynamic and static typing in one project.  Static typing is enabled using annotations, and according to the test results, the code becomes commensurate with the speed of execution with ‚Äúclassic‚Äù Java code. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h4>  Holy grail </h4><br>  For those who do not know, I'm talking about Grails - a web framework for developing web applications in the language of the new generation - Groovy.  Why grails?  Grails has absorbed the best of the existing technology.  By ideology, it is similar to Ruby on rails and until some time it was called quite similar - Groovy on Rails, and then it was reduced to the usual now ‚ÄúGrails‚Äù.  Grails is a add-on for Spring, Hibernate with the Sitemesh template engine and gsp user tags.  Unlike Spring, where additional libraries are needed to create a simple application, everything in Grails is included out of the box, no XML configurations need to be set up, and all manipulations are done in a simple and natural way.  Grails is now owned by a Java development leader, Spring Source.  For Grails, there are plugins that extend its capabilities, for example, acegi for working with authorization and authentication.  Grails follows the MVC principle, offers convenient tools for binding URLs to controllers, localizing applications, validating these models, and more.  A typical project structure is the following: <br><br><pre> % PROJECT_HOME%
	 + grails-app
		 + conf -&gt; settings
			 + hibernate
			 + spring
			 BootStrap.groovy -&gt; application download
			 BuildConfig.groovy -&gt; build setup
			 Config.groovy -&gt; general settings
			 DataSource.groovy -&gt; DB Settings
			 UrlMappings.groovy -&gt; URL Bindings to Controllers
		 + controllers -&gt; controllers
		 + domain -&gt; models
		 + i18n -&gt; localization
		 + services -&gt; services
		 + taglib -&gt; custom tags
		 + utils -&gt; helper classes
		 + views -&gt; views
			 + layouts -&gt; layouts (template containers)
	 + lib -&gt; libraries
	 + plugins -&gt; plugins for grails
	 + scripts -&gt; scripts
	 + src
		 + groovy
		 + java
		 + main
	 + target
	 + test -&gt; unit tests
	 + web-app
		 + WEB-INF
</pre><br>  So, it's time to try the Grails. <br><br><h4>  Fast start </h4><br>  We will need the following tools: <br><ul><li>  Java SDK 1.4 or higher </li><li>  Grails </li><li>  Maven </li><li>  IDE to develop.  I chose a special assembly of Eclipse from Spring Source </li></ul><br>  Download and unpack Grails (http://www.grails.org/Releases), set the GRAILS_HOME environment variable, which indicates the full path to the unpacked archive, for example ~ / grails, and add GRAILS_HOME / bin to the launch path.  Download the IDE at <a href="http://www.grails.org/STS%2BIntegration">www.grails.org/STS+Integration</a> , install and configure as described on the site. <br><br>  Now let's create the skeleton of our testapp application using Maven: <br><br>  $ mvn org.apache.maven.plugins: maven-archetype-plugin: 2.0-alpha-4: generate -DarchetypeGroupId = org.grails -DarchetypeArtifactId = grails-maven-archetype -DarchetypeVersion = 1.2.0 -DgroupId = testapp -DartifactId testapp <br><br>  $ cd testapp <br>  $ mvn initialize <br><br>  Now we run Eclipse and import our application.  <i>File -&gt; Import -&gt; Existing Projects into Workspace</i> <br><br>  After importing, you will see the following structure: <br><br><img src="http://xmages.net/upload/52003246.png" alt="Project structure"><br><br>  Now let's configure our application.  Open the file grails-app / conf / DataSource.groovy and see the following content: <br><br><pre>  dataSource {
	 pooled = true
	 driverClassName = "org.hsqldb.jdbcDriver"
	 username = "sa"
	 password = ""
 }
 hibernate {
     cache.use_second_level_cache = true
     cache.use_query_cache = true
     cache.provider_class = 'net.sf.ehcache.hibernate.EhCacheProvider'
 }
 // environment specific settings
 environments {
	 development {
		 dataSource {
			 dbCreate = "create-drop" // one of 'create', 'create-drop', 'update'
			 url = "jdbc: hsqldb: mem: devDB"
		 }
	 }
	 test {
		 dataSource {
			 dbCreate = "update"
			 url = "jdbc: hsqldb: mem: testDb"
		 }
	 }
	 production {
		 dataSource {
			 dbCreate = "update"
			 url = "jdbc: hsqldb: file: prodDb; shutdown = true"
		 }
	 }
 } </pre><br>  dataSource contains settings for connecting to the database.  Let's adapt them to work with mysql: <br><br><pre>  dataSource {
	 pooled = true
	 driverClassName = "com.mysql.jdbc.Driver"
	 username = "root"
	 password = ""
 }
</pre><br>  We look further, we see the following section: <br><br><pre>  environments {
	 development {
		 dataSource {
			 ...
		 }
	 } </pre><br>  The environments section describes the modes of operation of the application.  There are only three of them: development mode, testing mode and production mode.  Each mode uses its own settings for connecting to the database.  At the moment we are interested in the development mode, we will correct the settings as follows: <br><br><pre>  development {
	 dataSource {
		 dbCreate = "update"
		 url = "jdbc: mysql: // localhost: 3306 / testapp"
	 }
 } </pre><br>  Do not forget to check that the mysql service is running, and the testapp database is created. <br><br>  Next, open the file grails-app / conf / BuildConfig.groovy.  As I wrote above, this is the application build file.  We are interested in the following piece of code: <br><br><pre>  repositories {        
         grailsPlugins ()
         grailsHome ()

         // uncomment resolution
         // from public Maven repositories
         // mavenLocal ()
         // mavenCentral ()
         // mavenRepo "http://snapshots.repository.codehaus.org"
         // mavenRepo "http://repository.codehaus.org"
         // mavenRepo "http://download.java.net/maven/2/"
         // mavenRepo "http://repository.jboss.com/maven2/"
     }
     dependencies {
         // specify dependencies here under either 'build', 'compile', 'runtime', 'test' or 'provided' scopes eg.

         // runtime 'mysql: mysql-connector-java: 5.1.5'
     } </pre><br>  This is a section for removing dependencies during assembly.  Fix it like this: <br><br><pre>  repositories {        
         grailsPlugins ()
         grailsHome ()

         // uncomment resolution
         // from public Maven repositories
         mavenLocal ()
         mavenCentral ()
         // mavenRepo "http://snapshots.repository.codehaus.org"
         mavenRepo "http://repository.codehaus.org"
         mavenRepo "http://download.java.net/maven/2/"
         // mavenRepo "http://repository.jboss.com/maven2/"
     }
     dependencies {
         // specify dependencies here under either 'build', 'compile', 'runtime', 'test' or 'provided' scopes eg.

         runtime 'mysql: mysql-connector-java: 5.1.5'
     } </pre><br>  We have added the mysql driver.  And now it's time to create a simple application.  To begin with, we will create a Product model, for this we need to execute the create-domain-class command in the Grails console.  When creating models, we do not need to manually create a table in the database, Grails will do it by itself.  In Eclipse, open: <i>Navigate -&gt; Open Grails Command Prompt</i> and execute: <br><br>  grails&gt; create-domain-class com.testapp.Product <br><br>  The process of creating a model can be seen in the Eclipse console.  If at creation you saw the following message: <br>  Application expects grails version [1.2.0], but GRAILS_HOME is version [1.2.1] - you can use it if you want. <br><br>  This means that with maven you created the skeleton application for grails 1.2.0, and you have a newer version on the system.  Follow the instructions and run the upgrade command: <br><br>  grails&gt; upgrade <br><br>  If the model creation process was successful, you will see the following code in grails-app / domain / Product.groovy: <br><br><pre>  package com.testapp

 class Product {

     static constraints = {
     }
 } </pre><br>  Fill the model with the fields we need - product name, description and price: <br><br><pre>  class Product {

	 String name
	 String description
	 Float price
	 static constraints = {
		 name (nullable: false, blank: false, size: 1..50)
		 description (nullable: false, blank: false, size: 1..255)
	 }
	
	 String toString () {
		 return name; 
	 }
 } </pre><br>  Wonderful!  Now let's create a CRUD for it.  For this, we don‚Äôt need to write controllers and views, and we can do with one command that generates everything by itself: <br><br>  grails&gt; generate-all com.testapp.Product <br><br>  As a result, we see: <br><br>  Generating views for domain class com.testapp.Product ... <br>  Generating controller for domain class com.testapp.Product ... <br>  Finished generation for domain class com.testapp.Product <br><br>  This command has generated: <br>  com.testapp.ProductController controller <br>  display create.gsp, edit.gsp, list.gsp, show.gsp in the directory grails-app / views / product <br><br>  On this our simple application is ready.  Now you can run it using the run-app command.  The running application will be available at <a href="http://localhost/">localhost</a> : 8080 / testapp <br><br><img src="http://xmages.net/upload/6f712989.png" alt="image"><br><br><img src="http://xmages.net/upload/b5417311.png" alt="image"><br><br><img src="http://xmages.net/upload/410a01c9.png" alt="image"><br><br><img src="http://xmages.net/upload/2e49a1f5.png" alt="image"></div><p>Source: <a href="https://habr.com/ru/post/86790/">https://habr.com/ru/post/86790/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../86778/index.html">Localization of WPF applications</a></li>
<li><a href="../86781/index.html">Habra-colorer - script for coloring your handy tools</a></li>
<li><a href="../86783/index.html">Invented "larks" and "owls"</a></li>
<li><a href="../86787/index.html">Steam on MAC - officially!</a></li>
<li><a href="../86789/index.html">How interface management works through finger gestures and touches</a></li>
<li><a href="../86791/index.html">Two project management protocols</a></li>
<li><a href="../86792/index.html">Group Development - How did you organize yours? (SVN, stage, production)</a></li>
<li><a href="../86796/index.html">Proxeterium: Chapter 1. Part 1: Introduction</a></li>
<li><a href="../86799/index.html">‚ÄúDistributed Information Flow Control‚Äù / ‚ÄúDistributed Information Flow Control‚Äù</a></li>
<li><a href="../86800/index.html">A group promoted by the Internet will go to Eurovision</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>