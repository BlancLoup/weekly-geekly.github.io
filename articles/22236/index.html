<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Practical XSLT. Use as a template engine</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="There are plenty of XSL documentation available online. This section does not pretend to the role of documentation on the language, but only briefly, ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Practical XSLT. Use as a template engine</h1><div class="post__text post__text-html js-mediator-article">  There are <a href="http://www.zvon.org/xxl/XSLTutorial/Output_rus/contents.htm">plenty of <strong>XSL</strong> documentation</a> available online.  This section does not pretend to the role of documentation on the language, but only briefly, step by step explains how to create your XSLT template. <br><br>  The scheme described below has been used successfully by me for more than 3 years.  At first, I was very cautious about <strong>XSLT</strong> (especially when sorting out other people's sources), but once I realized what it was, I no longer know how to work without it. <a name="habracut"></a><br><br><h2>  Desktop </h2>  Let's define what we need for work: <br><ul><li>  Input XML Document </li><li>  XHTML template layout </li><li>  XML parser for splicing XML with XSL </li></ul><br>  I have an input <strong>XML</strong> document issued by a CMS-system, in which each page with the material is collected in an <strong>XML-tree</strong> . 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      There are no limitations to the <strong>XHTML layout</strong> .  There are only certain recommendations for the layout, which will significantly save time on the formation of the template. <br><br>  As a parser (collector) of the final document, you can use the browser.  You just need to specify the path to the template file in <strong>XML documents</strong> : <br> <code>&lt;?xml-stylesheet type="text/xsl" href="template.xsl" ?&gt;</code> <br> <br>  Although, as practice has shown, this mechanism is quite buggy (I had to use <strong>IE</strong> ).  It is better to use the tools of <strong>XML-parsing of the</strong> language in which the CMS-system is written.  I use <a href="http://www.parser.ru/">Parser</a> (on it, in general, the whole system works for me). <br><br><h2>  Input XML Document </h2>  First, let's deal with the input <strong>XML document</strong> .  In order to use <strong>XSL</strong> you need to have a complete understanding of its structure. <br><br>  I use the following scheme: <br> <code>&lt;?xml version="1.0" encoding="windows-1251"?&gt; <br> <br>  <br> <br> &lt;lang_table&gt; <br> /&gt; <br> &lt;/lang_table&gt; <br> &lt;item id="0" parent_id="0" is_published="1" section="1"&gt; <br>  <br> / <br> <br> &lt;item id="1" parent_id="0" is_published="1" section="1"&gt; <br>  <br> news <br> <br> <br></code> <br><br><br><br><br>  The above example of the scheme does not claim to be optimal.  For one reason or another, it is convenient for me.  But first things first. <br><br>  <code>&lt;?xml version="1.0" encoding="windows-1251"?&gt;</code> - the header of the <strong>XML file</strong> .  Must go strictly from the beginning of the file.  It contains the version of the XML language used and the encoding of the document.  I usually work in <strong>windows-1251</strong> (for now it's more convenient), but, in theory, <strong>UTF-8 is</strong> better. <br><br> <code><code>-    (   ). : <br> <strong>Lang</strong> -  .     . <strong>Id</strong> -   . <br> &lt;lang_table&gt; -  ,   . <br> <code><code><code>-   : <br> -    (  ): <br> &lt;item id="0" parent_id="0" is_published="1" section="1"&gt;</code> -   . : <br> <strong>Id</strong> -  . <strong>Parent_id</strong> -   . <strong>Is_published</strong> -   . <strong>Dir</strong> - uri- .     . <strong>Section</strong> -  .         . <br> <code><code><code>-  . <br>   CMS   :        : <br> <strong>Html</strong> -  .  ,    . <strong>Com</strong> - -.  ,      CMS: , ,    .. <br>  <strong>XSL-</strong>   ,     .       . <br> <br> CMS       <strong> ,      : <br> : <br> <strong>Id</strong> -  . <br> <strong>Container</strong> - - (    ). <br> <strong>Sorting</strong> -    . <br> <strong>Type</strong> - : <br> <strong>Com</strong> - - <br> <strong>Html</strong> -  . <br> <strong>Method</strong> -  . <br> <strong>Title</strong> -  . <br> <strong>DTD</strong>     (    ): <br> &lt;!DOCTYPE site_page [ <br> <br> &lt;!ENTITY nbsp " "&gt; <br> &lt;!ENTITY sect "¬ß" &gt; <br> &lt;!ENTITY copy "¬©"&gt; <br> &lt;!ENTITY laquo "¬´"&gt; <br> &lt;!ENTITY reg "¬Æ"&gt; <br> &lt;!ENTITY deg "¬∞"&gt; <br> &lt;!ENTITY plusmn "¬±"&gt; <br> &lt;!ENTITY para "¬∂"&gt; <br> &lt;!ENTITY raquo "¬ª"&gt; <br> &lt;!ENTITY times "√ó"&gt; <br> <br> <br> <br> &lt;!ENTITY bull "‚Ä¢"&gt; <br> &lt;!ENTITY hellip "‚Ä¶"&gt; <br> <br> <br> <br> &lt;!ENTITY ndash "‚Äì"&gt; <br> &lt;!ENTITY mdash "‚Äî"&gt; <br> &lt;!ENTITY lsquo "'"&gt; <br> &lt;!ENTITY rsquo "'"&gt; <br> &lt;!ENTITY sbquo "‚Äö"&gt; <br> &lt;!ENTITY ldquo "‚Äú"&gt; <br> &lt;!ENTITY rdquo "‚Äù"&gt; <br> &lt;!ENTITY bdquo "‚Äû"&gt; <br> &lt;!ENTITY lsaquo "‚Äπ"&gt; <br> &lt;!ENTITY rsaquo "‚Ä∫" &gt; <br> &lt;!ENTITY euro "‚Ç¨"&gt; <br> ]&gt; <br></strong></code> <br>      <strong>XML-</strong> .   <code>&lt;?xml version="1.0" encoding="windows-1251"?&gt;</code> . <br> <br>  XHML- <br> XSL-    XHTML- (   ).  XHTML-,  ,   <strong></strong> . <br> <br>      . <br> <br>   XHML-  ,    ,       : <br>  (   ).    -    ,      . / . <br>        HTML-: <br> <code><a href="https://habr.com/ru/post/22236/"></a> <a href="https://habr.com/ru/post/22236/"></a> <a href="https://habr.com/ru/post/22236/"></a> ... <br> <br>   <br> <br> <br> ... <br> <br>    <br> <br> ... <br> <br>   <br> <br> ... <br> <br>  <br> <br> ...</code> <br> <br>   XSL- <br>   XSL-   : <br> <code>&lt;xsl:stylesheet version = '1.0' encoding="UTF-8"?&gt; <br> &lt;xsl:template match="element"&gt; <br>   <br> &lt;/xsl:template&gt; <br> &lt;/xsl:stylesheet&gt;</code> <br> <br> : <code>&lt;xsl:stylesheet version = '1.0' encoding="UTF-8"?&gt;</code> -   <strong>XML-</strong>  .   <strong>UTF-8</strong> ( , ). <br> <code>&lt;xsl:stylesheet&gt; &lt;/xsl:stylesheet&gt;</code> -    XSL-. <br> <code>&lt;xsl:template match="element"&gt; &lt;/xsl:template&gt;</code> -       element. <br> <br>       : <br> <code>&lt;xsl:template match="element"&gt;&lt;/xsl:template&gt;</code> - ,     <strong>element</strong> .      <strong>element</strong> . <code>&lt;xsl:template match="element" mode="mode1"&gt;&lt;/xsl:template&gt;</code> - ,     <strong>element</strong>   <strong>mode1</strong> .         <strong>element</strong> . <code>&lt;xsl:template name="template-name"&gt;&lt;/xsl:template&gt;</code> -    <strong>template-name</strong> .     -  <strong>XML-</strong> . <br>           <strong>XML-</strong> (,  XML-,    item      ),      " "  : <br> <code>&lt;xsl:template match="navigation/sections/item"&gt;&lt;/xsl:template&gt;</code> <br>  ,    , ..,      ,  ,  , ..      <strong>navigation</strong> ,      <strong>navigation/sections/item</strong>     <strong>sections/item</strong> . <br> <br>    <br>  ,         -      .  ,        <strong>xsl-</strong> .            . <br> <br>       <strong>xsl</strong>    . <br> <br> ,        (       )   : <br> <strong>template_folder</strong> -    .      ,  <strong>my_template</strong> . <strong>dtd</strong> -    .   . <strong>lang</strong> -      (      ). <strong>mod</strong> -  . <br>       <strong>xsl/my_template</strong>   ,  <strong>layout.xsl</strong>  : <br> <code>&lt;?xml version="1.0" encoding="UTF-8"?&gt; <br> &lt;!DOCTYPE xsl:stylesheet SYSTEM "../dtd/entities.dtd"&gt; <br> &lt;xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform"&gt; <br> <br> &lt;xsl:template match="/node()"&gt; <br> &lt;/xsl:template&gt; <br> <br> &lt;/xsl:stylesheet&gt; <br></code> <br> : <br> <code>&lt;xsl:template match="/node()"&gt; &lt;/xsl:template&gt;</code> -    <strong>/node()</strong> ().  <strong>/node()</strong>   <strong>//document</strong> , ..      . <br> <br>   XHTML-   <code>&lt;xsl:template match="/node()"&gt;&lt;/xsl:template&gt;</code> <br> <br>        <strong>XML-</strong> .   , <strong>XSL-</strong>   <strong>XML-</strong>  <strong>XHTML-</strong>  . <br> <br> ,    <strong>XSL</strong>   <strong>template.xsl</strong> (, <strong>template</strong> -   ),     : <br> <code>&lt;?xml version="1.0" encoding="UTF-8"?&gt; <br> &lt;xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform"&gt; <br> <br> &lt;xsl:import href=" my_template /layout.xsl"/&gt; <br> &lt;/xsl:stylesheet&gt; <br></code> <br> : <br> <code>&lt;xsl:import href="my_template/layout.xsl"/&gt;</code> <br>    XSL- ( <strong>XSL-</strong> )   .     . <br> <br>       <br>       , ..     XML-    . <br> <br>   -    . <br> <br>        ,   <strong>XML-</strong>   : <br> <code><br> &lt;item id="0" parent_id="0" is_published="1" section="1"&gt; <br>  <br> / <br> <br> &lt;item id="1" parent_id="0" is_published="1" section="1" hit="yes"&gt; <br>  <br> news <br> <br></code> <br> <br> <br>      : <br>  <strong>id</strong>    <strong>document</strong> -    <strong>id</strong>  .  <strong>hit</strong>   <strong>item</strong> -   ,   ,    "  ". <br> ,  ,         : <br> <strong>sections</strong> -   . <strong>item</strong> -  . <br>  ,  ,   <strong>item</strong>     <strong>item</strong> ,   ,     : <br> <code><br> <br></code> <br> <br> 1.    xsl/my_template  navigation.xsl  : <br> <code>&lt;?xml version="1.0" encoding="UTF-8"?&gt; <br> &lt;!DOCTYPE xsl:stylesheet SYSTEM "../dtd/entities.dtd"&gt; <br> &lt;xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform"&gt; <br> <br> &lt;xsl:template match="sections" mode="global_menu"&gt; <br> &lt;/xsl:template&gt; <br> <br> &lt;/xsl:stylesheet&gt;</code> <br> <br> 2.         <strong>layout.xsl</strong> : <br> <code><a href="https://habr.com/"></a> <a href="https://habr.com/sections/"></a> <a href="https://habr.com/news/"></a> <br> &lt;xsl:template match="sections" mode="global_menu"&gt; <br>    <br> &lt;/xsl:template&gt; <br></code> <br> <br> 3. ‚Ä¶      <strong>layout.xsl</strong>     : <br> <code><br> &lt;xsl:apply-templates select="navigation/sections" mode="global_menu"/&gt; <br> <br></code> <br> : <br> <strong>select="navigation/sections"</strong> -  ( ) - .  ,     <strong>navigation/sections</strong> . <br> <br> <strong>mode="global_menu"</strong> -     <strong>global_menu</strong> .      ,        , ,  " ",  -         . <br> <br> 4. ,    layout.xsl     <strong>navigation.xsl</strong> : <br> <code>&lt;xsl:import href="navigation.xsl"/&gt;</code> <br> <br> 5. ,    <strong>navigation.xsl</strong>   ,    : <br> <code><br> &lt;xsl:template match="item" mode="global_menu"&gt; <br> &lt;xsl:call-template name="href_attribute"/&gt; <br> &lt;xsl:value-of select="title"/&gt; <br> <br> <br> &lt;/xsl:template&gt; <br> <br></code> <br> : <br> <code>&lt;xsl:call-template name="href_attribute"/&gt;</code> -    .        , ..  . <br> <br> <code>&lt;xsl:value-of select="title"/&gt;</code> - -   title  .         <strong>@</strong> -      . <br> <br> 6.    <strong>sections</strong> : <br> <code><br> &lt;xsl:template match="sections" mode="global_menu"&gt; <br> <br> &lt;/xsl:template&gt; <br> <br></code> <br> : <br> <code>&lt;xsl:apply-templates select="item" mode="global_menu"/&gt;</code> -    <strong>item</strong>  <strong>sections</strong> .  ,  <strong>item</strong>   <strong>item</strong> ( <strong>sections/item/item</strong> )   , ..      . <br> <br>     <strong>item</strong> ( )   .  ,         : <code>&lt;xsl:call-template name="href_attribute"/&gt;</code> <br> <br>      <strong>uri-</strong>    .    . <br> <br> 7.     , <br>   ,    .            <strong>item</strong> : <br> <code><br> &lt;xsl:template match="item" mode="global_menu"&gt; <br> <br> &lt;xsl:choose&gt; <br> <br> &lt;xsl:when test="descendant-or-self::*/@id = /node()/@id"&gt; <br> &lt;xsl:value-of select="title"/&gt; <br> &lt;/xsl:when&gt; <br> <br> &lt;xsl:otherwise&gt; <br> &lt;xsl:call-template name="href_attribute"/&gt; <br> &lt;xsl:value-of select="title"/&gt; <br> <br> &lt;/xsl:otherwise&gt; <br> &lt;/xsl:choose&gt; <br> <br> &lt;/xsl:template&gt; <br> <br></code> <br>      : <br> <code>&lt;xsl:choose&gt; <br> &lt;xsl:when&gt;&lt;/xsl:when&gt; <br> &lt;xsl:otherwise&gt;&lt;/xsl:otherwise&gt; <br> &lt;/xsl:choose&gt; <br></code> <br> ‚Ä¶, ,     <strong>XML-</strong> .      : <code>&lt;xsl:when test="descendant-or-self::*/@id = /node()/@id"&gt;</code> <br> <br>        <strong>ID</strong>    ( <strong>document</strong> )    ( <strong>item</strong> ),   ,    . <br> <br>   <code>&lt;xsl:when&gt;&lt;/xsl:when&gt;</code>  ,      .   <code>&lt;xsl:otherwise&gt;&lt;/xsl:otherwise&gt;</code> -    . <br> <br> 8. ,   <strong>href_attribute</strong> : <br> <code><br> &lt;xsl:template name="href_attribute"&gt; <br> &lt;xsl:attribute name="href"&gt; <br> &lt;xsl:text&gt;/&lt;/xsl:text&gt; <br> &lt;xsl:for-each select="ancestor-or-self::item"&gt; <br> &lt;xsl:value-of select="dir"/&gt; <br> &lt;xsl:text&gt;/&lt;/xsl:text&gt; <br> &lt;/xsl:for-each&gt; <br> &lt;/xsl:attribute&gt; <br> &lt;/xsl:template&gt; <br></code> <br> <br>      <strong>xsl:attribute</strong> .          .         <strong>a</strong> , ,      <strong>href</strong> , .. . <br> <br>  <code>&lt;xsl:for-each select="ancestor-or-self::item"&gt;</code>      ,  .      <strong>ancestor-or-self::item</strong> -         .           <strong>dir</strong> , ..     -. <br> <br> ,   -  ,       . ,   <a href="http://habrahabr.ru/blog/webdev/38433.html">  </a> . <br> <br> <strong>UPD:</strong> <br>   .   ,  : <br> <a href="">parser.proc.ru/iso/xslt-1.zip</a> <br> <br>        (       )           Apache. <br> <br>    XML-   /xsl/document.xml</code></code></code></code></code></code> <ul><li> <code><code>-    (   ). : <br> <strong>Lang</strong> -  .     . <strong>Id</strong> -   . <br> &lt;lang_table&gt; -  ,   . <br> <code><code><code>-   : <br> -    (  ): <br> &lt;item id="0" parent_id="0" is_published="1" section="1"&gt;</code> -   . : <br> <strong>Id</strong> -  . <strong>Parent_id</strong> -   . <strong>Is_published</strong> -   . <strong>Dir</strong> - uri- .     . <strong>Section</strong> -  .         . <br> <code><code><code>-  . <br>   CMS   :        : <br> <strong>Html</strong> -  .  ,    . <strong>Com</strong> - -.  ,      CMS: , ,    .. <br>  <strong>XSL-</strong>   ,     .       . <br> <br> CMS       <strong> ,      : <br> : <br> <strong>Id</strong> -  . <br> <strong>Container</strong> - - (    ). <br> <strong>Sorting</strong> -    . <br> <strong>Type</strong> - : <br> <strong>Com</strong> - - <br> <strong>Html</strong> -  . <br> <strong>Method</strong> -  . <br> <strong>Title</strong> -  . <br> <strong>DTD</strong>     (    ): <br> &lt;!DOCTYPE site_page [ <br> <br> &lt;!ENTITY nbsp " "&gt; <br> &lt;!ENTITY sect "¬ß" &gt; <br> &lt;!ENTITY copy "¬©"&gt; <br> &lt;!ENTITY laquo "¬´"&gt; <br> &lt;!ENTITY reg "¬Æ"&gt; <br> &lt;!ENTITY deg "¬∞"&gt; <br> &lt;!ENTITY plusmn "¬±"&gt; <br> &lt;!ENTITY para "¬∂"&gt; <br> &lt;!ENTITY raquo "¬ª"&gt; <br> &lt;!ENTITY times "√ó"&gt; <br> <br> <br> <br> &lt;!ENTITY bull "‚Ä¢"&gt; <br> &lt;!ENTITY hellip "‚Ä¶"&gt; <br> <br> <br> <br> &lt;!ENTITY ndash "‚Äì"&gt; <br> &lt;!ENTITY mdash "‚Äî"&gt; <br> &lt;!ENTITY lsquo "'"&gt; <br> &lt;!ENTITY rsquo "'"&gt; <br> &lt;!ENTITY sbquo "‚Äö"&gt; <br> &lt;!ENTITY ldquo "‚Äú"&gt; <br> &lt;!ENTITY rdquo "‚Äù"&gt; <br> &lt;!ENTITY bdquo "‚Äû"&gt; <br> &lt;!ENTITY lsaquo "‚Äπ"&gt; <br> &lt;!ENTITY rsaquo "‚Ä∫" &gt; <br> &lt;!ENTITY euro "‚Ç¨"&gt; <br> ]&gt; <br></strong></code> <br>      <strong>XML-</strong> .   <code>&lt;?xml version="1.0" encoding="windows-1251"?&gt;</code> . <br> <br>  XHML- <br> XSL-    XHTML- (   ).  XHTML-,  ,   <strong></strong> . <br> <br>      . <br> <br>   XHML-  ,    ,       : <br>  (   ).    -    ,      . / . <br>        HTML-: <br> <code><a href="https://habr.com/ru/post/22236/"></a> <a href="https://habr.com/ru/post/22236/"></a> <a href="https://habr.com/ru/post/22236/"></a> ... <br> <br>   <br> <br> <br> ... <br> <br>    <br> <br> ... <br> <br>   <br> <br> ... <br> <br>  <br> <br> ...</code> <br> <br>   XSL- <br>   XSL-   : <br> <code>&lt;xsl:stylesheet version = '1.0' encoding="UTF-8"?&gt; <br> &lt;xsl:template match="element"&gt; <br>   <br> &lt;/xsl:template&gt; <br> &lt;/xsl:stylesheet&gt;</code> <br> <br> : <code>&lt;xsl:stylesheet version = '1.0' encoding="UTF-8"?&gt;</code> -   <strong>XML-</strong>  .   <strong>UTF-8</strong> ( , ). <br> <code>&lt;xsl:stylesheet&gt; &lt;/xsl:stylesheet&gt;</code> -    XSL-. <br> <code>&lt;xsl:template match="element"&gt; &lt;/xsl:template&gt;</code> -       element. <br> <br>       : <br> <code>&lt;xsl:template match="element"&gt;&lt;/xsl:template&gt;</code> - ,     <strong>element</strong> .      <strong>element</strong> . <code>&lt;xsl:template match="element" mode="mode1"&gt;&lt;/xsl:template&gt;</code> - ,     <strong>element</strong>   <strong>mode1</strong> .         <strong>element</strong> . <code>&lt;xsl:template name="template-name"&gt;&lt;/xsl:template&gt;</code> -    <strong>template-name</strong> .     -  <strong>XML-</strong> . <br>           <strong>XML-</strong> (,  XML-,    item      ),      " "  : <br> <code>&lt;xsl:template match="navigation/sections/item"&gt;&lt;/xsl:template&gt;</code> <br>  ,    , ..,      ,  ,  , ..      <strong>navigation</strong> ,      <strong>navigation/sections/item</strong>     <strong>sections/item</strong> . <br> <br>    <br>  ,         -      .  ,        <strong>xsl-</strong> .            . <br> <br>       <strong>xsl</strong>    . <br> <br> ,        (       )   : <br> <strong>template_folder</strong> -    .      ,  <strong>my_template</strong> . <strong>dtd</strong> -    .   . <strong>lang</strong> -      (      ). <strong>mod</strong> -  . <br>       <strong>xsl/my_template</strong>   ,  <strong>layout.xsl</strong>  : <br> <code>&lt;?xml version="1.0" encoding="UTF-8"?&gt; <br> &lt;!DOCTYPE xsl:stylesheet SYSTEM "../dtd/entities.dtd"&gt; <br> &lt;xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform"&gt; <br> <br> &lt;xsl:template match="/node()"&gt; <br> &lt;/xsl:template&gt; <br> <br> &lt;/xsl:stylesheet&gt; <br></code> <br> : <br> <code>&lt;xsl:template match="/node()"&gt; &lt;/xsl:template&gt;</code> -    <strong>/node()</strong> ().  <strong>/node()</strong>   <strong>//document</strong> , ..      . <br> <br>   XHTML-   <code>&lt;xsl:template match="/node()"&gt;&lt;/xsl:template&gt;</code> <br> <br>        <strong>XML-</strong> .   , <strong>XSL-</strong>   <strong>XML-</strong>  <strong>XHTML-</strong>  . <br> <br> ,    <strong>XSL</strong>   <strong>template.xsl</strong> (, <strong>template</strong> -   ),     : <br> <code>&lt;?xml version="1.0" encoding="UTF-8"?&gt; <br> &lt;xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform"&gt; <br> <br> &lt;xsl:import href=" my_template /layout.xsl"/&gt; <br> &lt;/xsl:stylesheet&gt; <br></code> <br> : <br> <code>&lt;xsl:import href="my_template/layout.xsl"/&gt;</code> <br>    XSL- ( <strong>XSL-</strong> )   .     . <br> <br>       <br>       , ..     XML-    . <br> <br>   -    . <br> <br>        ,   <strong>XML-</strong>   : <br> <code><br> &lt;item id="0" parent_id="0" is_published="1" section="1"&gt; <br>  <br> / <br> <br> &lt;item id="1" parent_id="0" is_published="1" section="1" hit="yes"&gt; <br>  <br> news <br> <br></code> <br> <br> <br>      : <br>  <strong>id</strong>    <strong>document</strong> -    <strong>id</strong>  .  <strong>hit</strong>   <strong>item</strong> -   ,   ,    "  ". <br> ,  ,         : <br> <strong>sections</strong> -   . <strong>item</strong> -  . <br>  ,  ,   <strong>item</strong>     <strong>item</strong> ,   ,     : <br> <code><br> <br></code> <br> <br> 1.    xsl/my_template  navigation.xsl  : <br> <code>&lt;?xml version="1.0" encoding="UTF-8"?&gt; <br> &lt;!DOCTYPE xsl:stylesheet SYSTEM "../dtd/entities.dtd"&gt; <br> &lt;xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform"&gt; <br> <br> &lt;xsl:template match="sections" mode="global_menu"&gt; <br> &lt;/xsl:template&gt; <br> <br> &lt;/xsl:stylesheet&gt;</code> <br> <br> 2.         <strong>layout.xsl</strong> : <br> <code><a href="https://habr.com/"></a> <a href="https://habr.com/sections/"></a> <a href="https://habr.com/news/"></a> <br> &lt;xsl:template match="sections" mode="global_menu"&gt; <br>    <br> &lt;/xsl:template&gt; <br></code> <br> <br> 3. ‚Ä¶      <strong>layout.xsl</strong>     : <br> <code><br> &lt;xsl:apply-templates select="navigation/sections" mode="global_menu"/&gt; <br> <br></code> <br> : <br> <strong>select="navigation/sections"</strong> -  ( ) - .  ,     <strong>navigation/sections</strong> . <br> <br> <strong>mode="global_menu"</strong> -     <strong>global_menu</strong> .      ,        , ,  " ",  -         . <br> <br> 4. ,    layout.xsl     <strong>navigation.xsl</strong> : <br> <code>&lt;xsl:import href="navigation.xsl"/&gt;</code> <br> <br> 5. ,    <strong>navigation.xsl</strong>   ,    : <br> <code><br> &lt;xsl:template match="item" mode="global_menu"&gt; <br> &lt;xsl:call-template name="href_attribute"/&gt; <br> &lt;xsl:value-of select="title"/&gt; <br> <br> <br> &lt;/xsl:template&gt; <br> <br></code> <br> : <br> <code>&lt;xsl:call-template name="href_attribute"/&gt;</code> -    .        , ..  . <br> <br> <code>&lt;xsl:value-of select="title"/&gt;</code> - -   title  .         <strong>@</strong> -      . <br> <br> 6.    <strong>sections</strong> : <br> <code><br> &lt;xsl:template match="sections" mode="global_menu"&gt; <br> <br> &lt;/xsl:template&gt; <br> <br></code> <br> : <br> <code>&lt;xsl:apply-templates select="item" mode="global_menu"/&gt;</code> -    <strong>item</strong>  <strong>sections</strong> .  ,  <strong>item</strong>   <strong>item</strong> ( <strong>sections/item/item</strong> )   , ..      . <br> <br>     <strong>item</strong> ( )   .  ,         : <code>&lt;xsl:call-template name="href_attribute"/&gt;</code> <br> <br>      <strong>uri-</strong>    .    . <br> <br> 7.     , <br>   ,    .            <strong>item</strong> : <br> <code><br> &lt;xsl:template match="item" mode="global_menu"&gt; <br> <br> &lt;xsl:choose&gt; <br> <br> &lt;xsl:when test="descendant-or-self::*/@id = /node()/@id"&gt; <br> &lt;xsl:value-of select="title"/&gt; <br> &lt;/xsl:when&gt; <br> <br> &lt;xsl:otherwise&gt; <br> &lt;xsl:call-template name="href_attribute"/&gt; <br> &lt;xsl:value-of select="title"/&gt; <br> <br> &lt;/xsl:otherwise&gt; <br> &lt;/xsl:choose&gt; <br> <br> &lt;/xsl:template&gt; <br> <br></code> <br>      : <br> <code>&lt;xsl:choose&gt; <br> &lt;xsl:when&gt;&lt;/xsl:when&gt; <br> &lt;xsl:otherwise&gt;&lt;/xsl:otherwise&gt; <br> &lt;/xsl:choose&gt; <br></code> <br> ‚Ä¶, ,     <strong>XML-</strong> .      : <code>&lt;xsl:when test="descendant-or-self::*/@id = /node()/@id"&gt;</code> <br> <br>        <strong>ID</strong>    ( <strong>document</strong> )    ( <strong>item</strong> ),   ,    . <br> <br>   <code>&lt;xsl:when&gt;&lt;/xsl:when&gt;</code>  ,      .   <code>&lt;xsl:otherwise&gt;&lt;/xsl:otherwise&gt;</code> -    . <br> <br> 8. ,   <strong>href_attribute</strong> : <br> <code><br> &lt;xsl:template name="href_attribute"&gt; <br> &lt;xsl:attribute name="href"&gt; <br> &lt;xsl:text&gt;/&lt;/xsl:text&gt; <br> &lt;xsl:for-each select="ancestor-or-self::item"&gt; <br> &lt;xsl:value-of select="dir"/&gt; <br> &lt;xsl:text&gt;/&lt;/xsl:text&gt; <br> &lt;/xsl:for-each&gt; <br> &lt;/xsl:attribute&gt; <br> &lt;/xsl:template&gt; <br></code> <br> <br>      <strong>xsl:attribute</strong> .          .         <strong>a</strong> , ,      <strong>href</strong> , .. . <br> <br>  <code>&lt;xsl:for-each select="ancestor-or-self::item"&gt;</code>      ,  .      <strong>ancestor-or-self::item</strong> -         .           <strong>dir</strong> , ..     -. <br> <br> ,   -  ,       . ,   <a href="http://habrahabr.ru/blog/webdev/38433.html">  </a> . <br> <br> <strong>UPD:</strong> <br>   .   ,  : <br> <a href="">parser.proc.ru/iso/xslt-1.zip</a> <br> <br>        (       )           Apache. <br> <br>    XML-   /xsl/document.xml</code></code></code></code></code></code> </li> <li> <code><code>-    (   ). : <br> <strong>Lang</strong> -  .     . <strong>Id</strong> -   . <br> &lt;lang_table&gt; -  ,   . <br> <code><code><code>-   : <br> -    (  ): <br> &lt;item id="0" parent_id="0" is_published="1" section="1"&gt;</code> -   . : <br> <strong>Id</strong> -  . <strong>Parent_id</strong> -   . <strong>Is_published</strong> -   . <strong>Dir</strong> - uri- .     . <strong>Section</strong> -  .         . <br> <code><code><code>-  . <br>   CMS   :        : <br> <strong>Html</strong> -  .  ,    . <strong>Com</strong> - -.  ,      CMS: , ,    .. <br>  <strong>XSL-</strong>   ,     .       . <br> <br> CMS       <strong> ,      : <br> : <br> <strong>Id</strong> -  . <br> <strong>Container</strong> - - (    ). <br> <strong>Sorting</strong> -    . <br> <strong>Type</strong> - : <br> <strong>Com</strong> - - <br> <strong>Html</strong> -  . <br> <strong>Method</strong> -  . <br> <strong>Title</strong> -  . <br> <strong>DTD</strong>     (    ): <br> &lt;!DOCTYPE site_page [ <br> <br> &lt;!ENTITY nbsp " "&gt; <br> &lt;!ENTITY sect "¬ß" &gt; <br> &lt;!ENTITY copy "¬©"&gt; <br> &lt;!ENTITY laquo "¬´"&gt; <br> &lt;!ENTITY reg "¬Æ"&gt; <br> &lt;!ENTITY deg "¬∞"&gt; <br> &lt;!ENTITY plusmn "¬±"&gt; <br> &lt;!ENTITY para "¬∂"&gt; <br> &lt;!ENTITY raquo "¬ª"&gt; <br> &lt;!ENTITY times "√ó"&gt; <br> <br> <br> <br> &lt;!ENTITY bull "‚Ä¢"&gt; <br> &lt;!ENTITY hellip "‚Ä¶"&gt; <br> <br> <br> <br> &lt;!ENTITY ndash "‚Äì"&gt; <br> &lt;!ENTITY mdash "‚Äî"&gt; <br> &lt;!ENTITY lsquo "'"&gt; <br> &lt;!ENTITY rsquo "'"&gt; <br> &lt;!ENTITY sbquo "‚Äö"&gt; <br> &lt;!ENTITY ldquo "‚Äú"&gt; <br> &lt;!ENTITY rdquo "‚Äù"&gt; <br> &lt;!ENTITY bdquo "‚Äû"&gt; <br> &lt;!ENTITY lsaquo "‚Äπ"&gt; <br> &lt;!ENTITY rsaquo "‚Ä∫" &gt; <br> &lt;!ENTITY euro "‚Ç¨"&gt; <br> ]&gt; <br></strong></code> <br>      <strong>XML-</strong> .   <code>&lt;?xml version="1.0" encoding="windows-1251"?&gt;</code> . <br> <br>  XHML- <br> XSL-    XHTML- (   ).  XHTML-,  ,   <strong></strong> . <br> <br>      . <br> <br>   XHML-  ,    ,       : <br>  (   ).    -    ,      . / . <br>        HTML-: <br> <code><a href="https://habr.com/ru/post/22236/"></a> <a href="https://habr.com/ru/post/22236/"></a> <a href="https://habr.com/ru/post/22236/"></a> ... <br> <br>   <br> <br> <br> ... <br> <br>    <br> <br> ... <br> <br>   <br> <br> ... <br> <br>  <br> <br> ...</code> <br> <br>   XSL- <br>   XSL-   : <br> <code>&lt;xsl:stylesheet version = '1.0' encoding="UTF-8"?&gt; <br> &lt;xsl:template match="element"&gt; <br>   <br> &lt;/xsl:template&gt; <br> &lt;/xsl:stylesheet&gt;</code> <br> <br> : <code>&lt;xsl:stylesheet version = '1.0' encoding="UTF-8"?&gt;</code> -   <strong>XML-</strong>  .   <strong>UTF-8</strong> ( , ). <br> <code>&lt;xsl:stylesheet&gt; &lt;/xsl:stylesheet&gt;</code> -    XSL-. <br> <code>&lt;xsl:template match="element"&gt; &lt;/xsl:template&gt;</code> -       element. <br> <br>       : <br> <code>&lt;xsl:template match="element"&gt;&lt;/xsl:template&gt;</code> - ,     <strong>element</strong> .      <strong>element</strong> . <code>&lt;xsl:template match="element" mode="mode1"&gt;&lt;/xsl:template&gt;</code> - ,     <strong>element</strong>   <strong>mode1</strong> .         <strong>element</strong> . <code>&lt;xsl:template name="template-name"&gt;&lt;/xsl:template&gt;</code> -    <strong>template-name</strong> .     -  <strong>XML-</strong> . <br>           <strong>XML-</strong> (,  XML-,    item      ),      " "  : <br> <code>&lt;xsl:template match="navigation/sections/item"&gt;&lt;/xsl:template&gt;</code> <br>  ,    , ..,      ,  ,  , ..      <strong>navigation</strong> ,      <strong>navigation/sections/item</strong>     <strong>sections/item</strong> . <br> <br>    <br>  ,         -      .  ,        <strong>xsl-</strong> .            . <br> <br>       <strong>xsl</strong>    . <br> <br> ,        (       )   : <br> <strong>template_folder</strong> -    .      ,  <strong>my_template</strong> . <strong>dtd</strong> -    .   . <strong>lang</strong> -      (      ). <strong>mod</strong> -  . <br>       <strong>xsl/my_template</strong>   ,  <strong>layout.xsl</strong>  : <br> <code>&lt;?xml version="1.0" encoding="UTF-8"?&gt; <br> &lt;!DOCTYPE xsl:stylesheet SYSTEM "../dtd/entities.dtd"&gt; <br> &lt;xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform"&gt; <br> <br> &lt;xsl:template match="/node()"&gt; <br> &lt;/xsl:template&gt; <br> <br> &lt;/xsl:stylesheet&gt; <br></code> <br> : <br> <code>&lt;xsl:template match="/node()"&gt; &lt;/xsl:template&gt;</code> -    <strong>/node()</strong> ().  <strong>/node()</strong>   <strong>//document</strong> , ..      . <br> <br>   XHTML-   <code>&lt;xsl:template match="/node()"&gt;&lt;/xsl:template&gt;</code> <br> <br>        <strong>XML-</strong> .   , <strong>XSL-</strong>   <strong>XML-</strong>  <strong>XHTML-</strong>  . <br> <br> ,    <strong>XSL</strong>   <strong>template.xsl</strong> (, <strong>template</strong> -   ),     : <br> <code>&lt;?xml version="1.0" encoding="UTF-8"?&gt; <br> &lt;xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform"&gt; <br> <br> &lt;xsl:import href=" my_template /layout.xsl"/&gt; <br> &lt;/xsl:stylesheet&gt; <br></code> <br> : <br> <code>&lt;xsl:import href="my_template/layout.xsl"/&gt;</code> <br>    XSL- ( <strong>XSL-</strong> )   .     . <br> <br>       <br>       , ..     XML-    . <br> <br>   -    . <br> <br>        ,   <strong>XML-</strong>   : <br> <code><br> &lt;item id="0" parent_id="0" is_published="1" section="1"&gt; <br>  <br> / <br> <br> &lt;item id="1" parent_id="0" is_published="1" section="1" hit="yes"&gt; <br>  <br> news <br> <br></code> <br> <br> <br>      : <br>  <strong>id</strong>    <strong>document</strong> -    <strong>id</strong>  .  <strong>hit</strong>   <strong>item</strong> -   ,   ,    "  ". <br> ,  ,         : <br> <strong>sections</strong> -   . <strong>item</strong> -  . <br>  ,  ,   <strong>item</strong>     <strong>item</strong> ,   ,     : <br> <code><br> <br></code> <br> <br> 1.    xsl/my_template  navigation.xsl  : <br> <code>&lt;?xml version="1.0" encoding="UTF-8"?&gt; <br> &lt;!DOCTYPE xsl:stylesheet SYSTEM "../dtd/entities.dtd"&gt; <br> &lt;xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform"&gt; <br> <br> &lt;xsl:template match="sections" mode="global_menu"&gt; <br> &lt;/xsl:template&gt; <br> <br> &lt;/xsl:stylesheet&gt;</code> <br> <br> 2.         <strong>layout.xsl</strong> : <br> <code><a href="https://habr.com/"></a> <a href="https://habr.com/sections/"></a> <a href="https://habr.com/news/"></a> <br> &lt;xsl:template match="sections" mode="global_menu"&gt; <br>    <br> &lt;/xsl:template&gt; <br></code> <br> <br> 3. ‚Ä¶      <strong>layout.xsl</strong>     : <br> <code><br> &lt;xsl:apply-templates select="navigation/sections" mode="global_menu"/&gt; <br> <br></code> <br> : <br> <strong>select="navigation/sections"</strong> -  ( ) - .  ,     <strong>navigation/sections</strong> . <br> <br> <strong>mode="global_menu"</strong> -     <strong>global_menu</strong> .      ,        , ,  " ",  -         . <br> <br> 4. ,    layout.xsl     <strong>navigation.xsl</strong> : <br> <code>&lt;xsl:import href="navigation.xsl"/&gt;</code> <br> <br> 5. ,    <strong>navigation.xsl</strong>   ,    : <br> <code><br> &lt;xsl:template match="item" mode="global_menu"&gt; <br> &lt;xsl:call-template name="href_attribute"/&gt; <br> &lt;xsl:value-of select="title"/&gt; <br> <br> <br> &lt;/xsl:template&gt; <br> <br></code> <br> : <br> <code>&lt;xsl:call-template name="href_attribute"/&gt;</code> -    .        , ..  . <br> <br> <code>&lt;xsl:value-of select="title"/&gt;</code> - -   title  .         <strong>@</strong> -      . <br> <br> 6.    <strong>sections</strong> : <br> <code><br> &lt;xsl:template match="sections" mode="global_menu"&gt; <br> <br> &lt;/xsl:template&gt; <br> <br></code> <br> : <br> <code>&lt;xsl:apply-templates select="item" mode="global_menu"/&gt;</code> -    <strong>item</strong>  <strong>sections</strong> .  ,  <strong>item</strong>   <strong>item</strong> ( <strong>sections/item/item</strong> )   , ..      . <br> <br>     <strong>item</strong> ( )   .  ,         : <code>&lt;xsl:call-template name="href_attribute"/&gt;</code> <br> <br>      <strong>uri-</strong>    .    . <br> <br> 7.     , <br>   ,    .            <strong>item</strong> : <br> <code><br> &lt;xsl:template match="item" mode="global_menu"&gt; <br> <br> &lt;xsl:choose&gt; <br> <br> &lt;xsl:when test="descendant-or-self::*/@id = /node()/@id"&gt; <br> &lt;xsl:value-of select="title"/&gt; <br> &lt;/xsl:when&gt; <br> <br> &lt;xsl:otherwise&gt; <br> &lt;xsl:call-template name="href_attribute"/&gt; <br> &lt;xsl:value-of select="title"/&gt; <br> <br> &lt;/xsl:otherwise&gt; <br> &lt;/xsl:choose&gt; <br> <br> &lt;/xsl:template&gt; <br> <br></code> <br>      : <br> <code>&lt;xsl:choose&gt; <br> &lt;xsl:when&gt;&lt;/xsl:when&gt; <br> &lt;xsl:otherwise&gt;&lt;/xsl:otherwise&gt; <br> &lt;/xsl:choose&gt; <br></code> <br> ‚Ä¶, ,     <strong>XML-</strong> .      : <code>&lt;xsl:when test="descendant-or-self::*/@id = /node()/@id"&gt;</code> <br> <br>        <strong>ID</strong>    ( <strong>document</strong> )    ( <strong>item</strong> ),   ,    . <br> <br>   <code>&lt;xsl:when&gt;&lt;/xsl:when&gt;</code>  ,      .   <code>&lt;xsl:otherwise&gt;&lt;/xsl:otherwise&gt;</code> -    . <br> <br> 8. ,   <strong>href_attribute</strong> : <br> <code><br> &lt;xsl:template name="href_attribute"&gt; <br> &lt;xsl:attribute name="href"&gt; <br> &lt;xsl:text&gt;/&lt;/xsl:text&gt; <br> &lt;xsl:for-each select="ancestor-or-self::item"&gt; <br> &lt;xsl:value-of select="dir"/&gt; <br> &lt;xsl:text&gt;/&lt;/xsl:text&gt; <br> &lt;/xsl:for-each&gt; <br> &lt;/xsl:attribute&gt; <br> &lt;/xsl:template&gt; <br></code> <br> <br>      <strong>xsl:attribute</strong> .          .         <strong>a</strong> , ,      <strong>href</strong> , .. . <br> <br>  <code>&lt;xsl:for-each select="ancestor-or-self::item"&gt;</code>      ,  .      <strong>ancestor-or-self::item</strong> -         .           <strong>dir</strong> , ..     -. <br> <br> ,   -  ,       . ,   <a href="http://habrahabr.ru/blog/webdev/38433.html">  </a> . <br> <br> <strong>UPD:</strong> <br>   .   ,  : <br> <a href="">parser.proc.ru/iso/xslt-1.zip</a> <br> <br>        (       )           Apache. <br> <br>    XML-   /xsl/document.xml</code></code></code></code></code></code> </li> </ul> <code><code>-    (   ). : <br> <strong>Lang</strong> -  .     . <strong>Id</strong> -   . <br> &lt;lang_table&gt;</code> -  ,   . <br> <code><code><code>-   : <br> -    (  ): <br> &lt;item id="0" parent_id="0" is_published="1" section="1"&gt;</code> -   . : <br> <strong>Id</strong> -  . <strong>Parent_id</strong> -   . <strong>Is_published</strong> -   . <strong>Dir</strong> - uri- .     . <strong>Section</strong> -  .         . <br> <code><code><code>-  . <br>   CMS   :        : <br> <strong>Html</strong> -  .  ,    . <strong>Com</strong> - -.  ,      CMS: , ,    .. <br>  <strong>XSL-</strong>   ,     .       . <br> <br> CMS       <strong> ,      : <br> : <br> <strong>Id</strong> -  . <br> <strong>Container</strong> - - (    ). <br> <strong>Sorting</strong> -    . <br> <strong>Type</strong> - : <br> <strong>Com</strong> - - <br> <strong>Html</strong> -  . <br> <strong>Method</strong> -  . <br> <strong>Title</strong> -  . <br> <strong>DTD</strong>     (    ): <br> &lt;!DOCTYPE site_page [ <br> <br> &lt;!ENTITY nbsp " "&gt; <br> &lt;!ENTITY sect "¬ß" &gt; <br> &lt;!ENTITY copy "¬©"&gt; <br> &lt;!ENTITY laquo "¬´"&gt; <br> &lt;!ENTITY reg "¬Æ"&gt; <br> &lt;!ENTITY deg "¬∞"&gt; <br> &lt;!ENTITY plusmn "¬±"&gt; <br> &lt;!ENTITY para "¬∂"&gt; <br> &lt;!ENTITY raquo "¬ª"&gt; <br> &lt;!ENTITY times "√ó"&gt; <br> <br> <br> <br> &lt;!ENTITY bull "‚Ä¢"&gt; <br> &lt;!ENTITY hellip "‚Ä¶"&gt; <br> <br> <br> <br> &lt;!ENTITY ndash "‚Äì"&gt; <br> &lt;!ENTITY mdash "‚Äî"&gt; <br> &lt;!ENTITY lsquo "'"&gt; <br> &lt;!ENTITY rsquo "'"&gt; <br> &lt;!ENTITY sbquo "‚Äö"&gt; <br> &lt;!ENTITY ldquo "‚Äú"&gt; <br> &lt;!ENTITY rdquo "‚Äù"&gt; <br> &lt;!ENTITY bdquo "‚Äû"&gt; <br> &lt;!ENTITY lsaquo "‚Äπ"&gt; <br> &lt;!ENTITY rsaquo "‚Ä∫" &gt; <br> &lt;!ENTITY euro "‚Ç¨"&gt; <br> ]&gt; <br></strong></code> <br>      <strong>XML-</strong> .   <code>&lt;?xml version="1.0" encoding="windows-1251"?&gt;</code> . <br> <br>  XHML- <br> XSL-    XHTML- (   ).  XHTML-,  ,   <strong></strong> . <br> <br>      . <br> <br>   XHML-  ,    ,       : <br>  (   ).    -    ,      . / . <br>        HTML-: <br> <code><a href="https://habr.com/ru/post/22236/"></a> <a href="https://habr.com/ru/post/22236/"></a> <a href="https://habr.com/ru/post/22236/"></a> ... <br> <br>   <br> <br> <br> ... <br> <br>    <br> <br> ... <br> <br>   <br> <br> ... <br> <br>  <br> <br> ...</code> <br> <br>   XSL- <br>   XSL-   : <br> <code>&lt;xsl:stylesheet version = '1.0' encoding="UTF-8"?&gt; <br> &lt;xsl:template match="element"&gt; <br>   <br> &lt;/xsl:template&gt; <br> &lt;/xsl:stylesheet&gt;</code> <br> <br> : <code>&lt;xsl:stylesheet version = '1.0' encoding="UTF-8"?&gt;</code> -   <strong>XML-</strong>  .   <strong>UTF-8</strong> ( , ). <br> <code>&lt;xsl:stylesheet&gt; &lt;/xsl:stylesheet&gt;</code> -    XSL-. <br> <code>&lt;xsl:template match="element"&gt; &lt;/xsl:template&gt;</code> -       element. <br> <br>       : <br> <code>&lt;xsl:template match="element"&gt;&lt;/xsl:template&gt;</code> - ,     <strong>element</strong> .      <strong>element</strong> . <code>&lt;xsl:template match="element" mode="mode1"&gt;&lt;/xsl:template&gt;</code> - ,     <strong>element</strong>   <strong>mode1</strong> .         <strong>element</strong> . <code>&lt;xsl:template name="template-name"&gt;&lt;/xsl:template&gt;</code> -    <strong>template-name</strong> .     -  <strong>XML-</strong> . <br>           <strong>XML-</strong> (,  XML-,    item      ),      " "  : <br> <code>&lt;xsl:template match="navigation/sections/item"&gt;&lt;/xsl:template&gt;</code> <br>  ,    , ..,      ,  ,  , ..      <strong>navigation</strong> ,      <strong>navigation/sections/item</strong>     <strong>sections/item</strong> . <br> <br>    <br>  ,         -      .  ,        <strong>xsl-</strong> .            . <br> <br>       <strong>xsl</strong>    . <br> <br> ,        (       )   : <br> <strong>template_folder</strong> -    .      ,  <strong>my_template</strong> . <strong>dtd</strong> -    .   . <strong>lang</strong> -      (      ). <strong>mod</strong> -  . <br>       <strong>xsl/my_template</strong>   ,  <strong>layout.xsl</strong>  : <br> <code>&lt;?xml version="1.0" encoding="UTF-8"?&gt; <br> &lt;!DOCTYPE xsl:stylesheet SYSTEM "../dtd/entities.dtd"&gt; <br> &lt;xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform"&gt; <br> <br> &lt;xsl:template match="/node()"&gt; <br> &lt;/xsl:template&gt; <br> <br> &lt;/xsl:stylesheet&gt; <br></code> <br> : <br> <code>&lt;xsl:template match="/node()"&gt; &lt;/xsl:template&gt;</code> -    <strong>/node()</strong> ().  <strong>/node()</strong>   <strong>//document</strong> , ..      . <br> <br>   XHTML-   <code>&lt;xsl:template match="/node()"&gt;&lt;/xsl:template&gt;</code> <br> <br>        <strong>XML-</strong> .   , <strong>XSL-</strong>   <strong>XML-</strong>  <strong>XHTML-</strong>  . <br> <br> ,    <strong>XSL</strong>   <strong>template.xsl</strong> (, <strong>template</strong> -   ),     : <br> <code>&lt;?xml version="1.0" encoding="UTF-8"?&gt; <br> &lt;xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform"&gt; <br> <br> &lt;xsl:import href=" my_template /layout.xsl"/&gt; <br> &lt;/xsl:stylesheet&gt; <br></code> <br> : <br> <code>&lt;xsl:import href="my_template/layout.xsl"/&gt;</code> <br>    XSL- ( <strong>XSL-</strong> )   .     . <br> <br>       <br>       , ..     XML-    . <br> <br>   -    . <br> <br>        ,   <strong>XML-</strong>   : <br> <code><br> &lt;item id="0" parent_id="0" is_published="1" section="1"&gt; <br>  <br> / <br> <br> &lt;item id="1" parent_id="0" is_published="1" section="1" hit="yes"&gt; <br>  <br> news <br> <br></code> <br> <br> <br>      : <br>  <strong>id</strong>    <strong>document</strong> -    <strong>id</strong>  .  <strong>hit</strong>   <strong>item</strong> -   ,   ,    "  ". <br> ,  ,         : <br> <strong>sections</strong> -   . <strong>item</strong> -  . <br>  ,  ,   <strong>item</strong>     <strong>item</strong> ,   ,     : <br> <code><br> <br></code> <br> <br> 1.    xsl/my_template  navigation.xsl  : <br> <code>&lt;?xml version="1.0" encoding="UTF-8"?&gt; <br> &lt;!DOCTYPE xsl:stylesheet SYSTEM "../dtd/entities.dtd"&gt; <br> &lt;xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform"&gt; <br> <br> &lt;xsl:template match="sections" mode="global_menu"&gt; <br> &lt;/xsl:template&gt; <br> <br> &lt;/xsl:stylesheet&gt;</code> <br> <br> 2.         <strong>layout.xsl</strong> : <br> <code><a href="https://habr.com/"></a> <a href="https://habr.com/sections/"></a> <a href="https://habr.com/news/"></a> <br> &lt;xsl:template match="sections" mode="global_menu"&gt; <br>    <br> &lt;/xsl:template&gt; <br></code> <br> <br> 3. ‚Ä¶      <strong>layout.xsl</strong>     : <br> <code><br> &lt;xsl:apply-templates select="navigation/sections" mode="global_menu"/&gt; <br> <br></code> <br> : <br> <strong>select="navigation/sections"</strong> -  ( ) - .  ,     <strong>navigation/sections</strong> . <br> <br> <strong>mode="global_menu"</strong> -     <strong>global_menu</strong> .      ,        , ,  " ",  -         . <br> <br> 4. ,    layout.xsl     <strong>navigation.xsl</strong> : <br> <code>&lt;xsl:import href="navigation.xsl"/&gt;</code> <br> <br> 5. ,    <strong>navigation.xsl</strong>   ,    : <br> <code><br> &lt;xsl:template match="item" mode="global_menu"&gt; <br> &lt;xsl:call-template name="href_attribute"/&gt; <br> &lt;xsl:value-of select="title"/&gt; <br> <br> <br> &lt;/xsl:template&gt; <br> <br></code> <br> : <br> <code>&lt;xsl:call-template name="href_attribute"/&gt;</code> -    .        , ..  . <br> <br> <code>&lt;xsl:value-of select="title"/&gt;</code> - -   title  .         <strong>@</strong> -      . <br> <br> 6.    <strong>sections</strong> : <br> <code><br> &lt;xsl:template match="sections" mode="global_menu"&gt; <br> <br> &lt;/xsl:template&gt; <br> <br></code> <br> : <br> <code>&lt;xsl:apply-templates select="item" mode="global_menu"/&gt;</code> -    <strong>item</strong>  <strong>sections</strong> .  ,  <strong>item</strong>   <strong>item</strong> ( <strong>sections/item/item</strong> )   , ..      . <br> <br>     <strong>item</strong> ( )   .  ,         : <code>&lt;xsl:call-template name="href_attribute"/&gt;</code> <br> <br>      <strong>uri-</strong>    .    . <br> <br> 7.     , <br>   ,    .            <strong>item</strong> : <br> <code><br> &lt;xsl:template match="item" mode="global_menu"&gt; <br> <br> &lt;xsl:choose&gt; <br> <br> &lt;xsl:when test="descendant-or-self::*/@id = /node()/@id"&gt; <br> &lt;xsl:value-of select="title"/&gt; <br> &lt;/xsl:when&gt; <br> <br> &lt;xsl:otherwise&gt; <br> &lt;xsl:call-template name="href_attribute"/&gt; <br> &lt;xsl:value-of select="title"/&gt; <br> <br> &lt;/xsl:otherwise&gt; <br> &lt;/xsl:choose&gt; <br> <br> &lt;/xsl:template&gt; <br> <br></code> <br>      : <br> <code>&lt;xsl:choose&gt; <br> &lt;xsl:when&gt;&lt;/xsl:when&gt; <br> &lt;xsl:otherwise&gt;&lt;/xsl:otherwise&gt; <br> &lt;/xsl:choose&gt; <br></code> <br> ‚Ä¶, ,     <strong>XML-</strong> .      : <code>&lt;xsl:when test="descendant-or-self::*/@id = /node()/@id"&gt;</code> <br> <br>        <strong>ID</strong>    ( <strong>document</strong> )    ( <strong>item</strong> ),   ,    . <br> <br>   <code>&lt;xsl:when&gt;&lt;/xsl:when&gt;</code>  ,      .   <code>&lt;xsl:otherwise&gt;&lt;/xsl:otherwise&gt;</code> -    . <br> <br> 8. ,   <strong>href_attribute</strong> : <br> <code><br> &lt;xsl:template name="href_attribute"&gt; <br> &lt;xsl:attribute name="href"&gt; <br> &lt;xsl:text&gt;/&lt;/xsl:text&gt; <br> &lt;xsl:for-each select="ancestor-or-self::item"&gt; <br> &lt;xsl:value-of select="dir"/&gt; <br> &lt;xsl:text&gt;/&lt;/xsl:text&gt; <br> &lt;/xsl:for-each&gt; <br> &lt;/xsl:attribute&gt; <br> &lt;/xsl:template&gt; <br></code> <br> <br>      <strong>xsl:attribute</strong> .          .         <strong>a</strong> , ,      <strong>href</strong> , .. . <br> <br>  <code>&lt;xsl:for-each select="ancestor-or-self::item"&gt;</code>      ,  .      <strong>ancestor-or-self::item</strong> -         .           <strong>dir</strong> , ..     -. <br> <br> ,   -  ,       . ,   <a href="http://habrahabr.ru/blog/webdev/38433.html">  </a> . <br> <br> <strong>UPD:</strong> <br>   .   ,  : <br> <a href="">parser.proc.ru/iso/xslt-1.zip</a> <br> <br>        (       )           Apache. <br> <br>    XML-   /xsl/document.xml</code></code></code></code></code> <ul><li> <code><code><code><code>-    (   ). : <br> <strong>Lang</strong> -  .     . <strong>Id</strong> -   . <br> &lt;lang_table&gt;</code> -  ,   . <br> <code>-   : <br> -    (  ): <br> &lt;item id="0" parent_id="0" is_published="1" section="1"&gt;</code> -   . : <br> <strong>Id</strong> -  . <strong>Parent_id</strong> -   . <strong>Is_published</strong> -   . <strong>Dir</strong> - uri- .     . <strong>Section</strong> -  .         . <br> <code><code><code>-  . <br>   CMS   :        : <br> <strong>Html</strong> -  .  ,    . <strong>Com</strong> - -.  ,      CMS: , ,    .. <br>  <strong>XSL-</strong>   ,     .       . <br> <br> CMS       <strong> ,      : <br> : <br> <strong>Id</strong> -  . <br> <strong>Container</strong> - - (    ). <br> <strong>Sorting</strong> -    . <br> <strong>Type</strong> - : <br> <strong>Com</strong> - - <br> <strong>Html</strong> -  . <br> <strong>Method</strong> -  . <br> <strong>Title</strong> -  . <br> <strong>DTD</strong>     (    ): <br> &lt;!DOCTYPE site_page [ <br> <br> &lt;!ENTITY nbsp " "&gt; <br> &lt;!ENTITY sect "¬ß" &gt; <br> &lt;!ENTITY copy "¬©"&gt; <br> &lt;!ENTITY laquo "¬´"&gt; <br> &lt;!ENTITY reg "¬Æ"&gt; <br> &lt;!ENTITY deg "¬∞"&gt; <br> &lt;!ENTITY plusmn "¬±"&gt; <br> &lt;!ENTITY para "¬∂"&gt; <br> &lt;!ENTITY raquo "¬ª"&gt; <br> &lt;!ENTITY times "√ó"&gt; <br> <br> <br> <br> &lt;!ENTITY bull "‚Ä¢"&gt; <br> &lt;!ENTITY hellip "‚Ä¶"&gt; <br> <br> <br> <br> &lt;!ENTITY ndash "‚Äì"&gt; <br> &lt;!ENTITY mdash "‚Äî"&gt; <br> &lt;!ENTITY lsquo "'"&gt; <br> &lt;!ENTITY rsquo "'"&gt; <br> &lt;!ENTITY sbquo "‚Äö"&gt; <br> &lt;!ENTITY ldquo "‚Äú"&gt; <br> &lt;!ENTITY rdquo "‚Äù"&gt; <br> &lt;!ENTITY bdquo "‚Äû"&gt; <br> &lt;!ENTITY lsaquo "‚Äπ"&gt; <br> &lt;!ENTITY rsaquo "‚Ä∫" &gt; <br> &lt;!ENTITY euro "‚Ç¨"&gt; <br> ]&gt; <br></strong></code> <br>      <strong>XML-</strong> .   <code>&lt;?xml version="1.0" encoding="windows-1251"?&gt;</code> . <br> <br>  XHML- <br> XSL-    XHTML- (   ).  XHTML-,  ,   <strong></strong> . <br> <br>      . <br> <br>   XHML-  ,    ,       : <br>  (   ).    -    ,      . / . <br>        HTML-: <br> <code><a href="https://habr.com/ru/post/22236/"></a> <a href="https://habr.com/ru/post/22236/"></a> <a href="https://habr.com/ru/post/22236/"></a> ... <br> <br>   <br> <br> <br> ... <br> <br>    <br> <br> ... <br> <br>   <br> <br> ... <br> <br>  <br> <br> ...</code> <br> <br>   XSL- <br>   XSL-   : <br> <code>&lt;xsl:stylesheet version = '1.0' encoding="UTF-8"?&gt; <br> &lt;xsl:template match="element"&gt; <br>   <br> &lt;/xsl:template&gt; <br> &lt;/xsl:stylesheet&gt;</code> <br> <br> : <code>&lt;xsl:stylesheet version = '1.0' encoding="UTF-8"?&gt;</code> -   <strong>XML-</strong>  .   <strong>UTF-8</strong> ( , ). <br> <code>&lt;xsl:stylesheet&gt; &lt;/xsl:stylesheet&gt;</code> -    XSL-. <br> <code>&lt;xsl:template match="element"&gt; &lt;/xsl:template&gt;</code> -       element. <br> <br>       : <br> <code>&lt;xsl:template match="element"&gt;&lt;/xsl:template&gt;</code> - ,     <strong>element</strong> .      <strong>element</strong> . <code>&lt;xsl:template match="element" mode="mode1"&gt;&lt;/xsl:template&gt;</code> - ,     <strong>element</strong>   <strong>mode1</strong> .         <strong>element</strong> . <code>&lt;xsl:template name="template-name"&gt;&lt;/xsl:template&gt;</code> -    <strong>template-name</strong> .     -  <strong>XML-</strong> . <br>           <strong>XML-</strong> (,  XML-,    item      ),      " "  : <br> <code>&lt;xsl:template match="navigation/sections/item"&gt;&lt;/xsl:template&gt;</code> <br>  ,    , ..,      ,  ,  , ..      <strong>navigation</strong> ,      <strong>navigation/sections/item</strong>     <strong>sections/item</strong> . <br> <br>    <br>  ,         -      .  ,        <strong>xsl-</strong> .            . <br> <br>       <strong>xsl</strong>    . <br> <br> ,        (       )   : <br> <strong>template_folder</strong> -    .      ,  <strong>my_template</strong> . <strong>dtd</strong> -    .   . <strong>lang</strong> -      (      ). <strong>mod</strong> -  . <br>       <strong>xsl/my_template</strong>   ,  <strong>layout.xsl</strong>  : <br> <code>&lt;?xml version="1.0" encoding="UTF-8"?&gt; <br> &lt;!DOCTYPE xsl:stylesheet SYSTEM "../dtd/entities.dtd"&gt; <br> &lt;xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform"&gt; <br> <br> &lt;xsl:template match="/node()"&gt; <br> &lt;/xsl:template&gt; <br> <br> &lt;/xsl:stylesheet&gt; <br></code> <br> : <br> <code>&lt;xsl:template match="/node()"&gt; &lt;/xsl:template&gt;</code> -    <strong>/node()</strong> ().  <strong>/node()</strong>   <strong>//document</strong> , ..      . <br> <br>   XHTML-   <code>&lt;xsl:template match="/node()"&gt;&lt;/xsl:template&gt;</code> <br> <br>        <strong>XML-</strong> .   , <strong>XSL-</strong>   <strong>XML-</strong>  <strong>XHTML-</strong>  . <br> <br> ,    <strong>XSL</strong>   <strong>template.xsl</strong> (, <strong>template</strong> -   ),     : <br> <code>&lt;?xml version="1.0" encoding="UTF-8"?&gt; <br> &lt;xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform"&gt; <br> <br> &lt;xsl:import href=" my_template /layout.xsl"/&gt; <br> &lt;/xsl:stylesheet&gt; <br></code> <br> : <br> <code>&lt;xsl:import href="my_template/layout.xsl"/&gt;</code> <br>    XSL- ( <strong>XSL-</strong> )   .     . <br> <br>       <br>       , ..     XML-    . <br> <br>   -    . <br> <br>        ,   <strong>XML-</strong>   : <br> <code><br> &lt;item id="0" parent_id="0" is_published="1" section="1"&gt; <br>  <br> / <br> <br> &lt;item id="1" parent_id="0" is_published="1" section="1" hit="yes"&gt; <br>  <br> news <br> <br></code> <br> <br> <br>      : <br>  <strong>id</strong>    <strong>document</strong> -    <strong>id</strong>  .  <strong>hit</strong>   <strong>item</strong> -   ,   ,    "  ". <br> ,  ,         : <br> <strong>sections</strong> -   . <strong>item</strong> -  . <br>  ,  ,   <strong>item</strong>     <strong>item</strong> ,   ,     : <br> <code><br> <br></code> <br> <br> 1.    xsl/my_template  navigation.xsl  : <br> <code>&lt;?xml version="1.0" encoding="UTF-8"?&gt; <br> &lt;!DOCTYPE xsl:stylesheet SYSTEM "../dtd/entities.dtd"&gt; <br> &lt;xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform"&gt; <br> <br> &lt;xsl:template match="sections" mode="global_menu"&gt; <br> &lt;/xsl:template&gt; <br> <br> &lt;/xsl:stylesheet&gt;</code> <br> <br> 2.         <strong>layout.xsl</strong> : <br> <code><a href="https://habr.com/"></a> <a href="https://habr.com/sections/"></a> <a href="https://habr.com/news/"></a> <br> &lt;xsl:template match="sections" mode="global_menu"&gt; <br>    <br> &lt;/xsl:template&gt; <br></code> <br> <br> 3. ‚Ä¶      <strong>layout.xsl</strong>     : <br> <code><br> &lt;xsl:apply-templates select="navigation/sections" mode="global_menu"/&gt; <br> <br></code> <br> : <br> <strong>select="navigation/sections"</strong> -  ( ) - .  ,     <strong>navigation/sections</strong> . <br> <br> <strong>mode="global_menu"</strong> -     <strong>global_menu</strong> .      ,        , ,  " ",  -         . <br> <br> 4. ,    layout.xsl     <strong>navigation.xsl</strong> : <br> <code>&lt;xsl:import href="navigation.xsl"/&gt;</code> <br> <br> 5. ,    <strong>navigation.xsl</strong>   ,    : <br> <code><br> &lt;xsl:template match="item" mode="global_menu"&gt; <br> &lt;xsl:call-template name="href_attribute"/&gt; <br> &lt;xsl:value-of select="title"/&gt; <br> <br> <br> &lt;/xsl:template&gt; <br> <br></code> <br> : <br> <code>&lt;xsl:call-template name="href_attribute"/&gt;</code> -    .        , ..  . <br> <br> <code>&lt;xsl:value-of select="title"/&gt;</code> - -   title  .         <strong>@</strong> -      . <br> <br> 6.    <strong>sections</strong> : <br> <code><br> &lt;xsl:template match="sections" mode="global_menu"&gt; <br> <br> &lt;/xsl:template&gt; <br> <br></code> <br> : <br> <code>&lt;xsl:apply-templates select="item" mode="global_menu"/&gt;</code> -    <strong>item</strong>  <strong>sections</strong> .  ,  <strong>item</strong>   <strong>item</strong> ( <strong>sections/item/item</strong> )   , ..      . <br> <br>     <strong>item</strong> ( )   .  ,         : <code>&lt;xsl:call-template name="href_attribute"/&gt;</code> <br> <br>      <strong>uri-</strong>    .    . <br> <br> 7.     , <br>   ,    .            <strong>item</strong> : <br> <code><br> &lt;xsl:template match="item" mode="global_menu"&gt; <br> <br> &lt;xsl:choose&gt; <br> <br> &lt;xsl:when test="descendant-or-self::*/@id = /node()/@id"&gt; <br> &lt;xsl:value-of select="title"/&gt; <br> &lt;/xsl:when&gt; <br> <br> &lt;xsl:otherwise&gt; <br> &lt;xsl:call-template name="href_attribute"/&gt; <br> &lt;xsl:value-of select="title"/&gt; <br> <br> &lt;/xsl:otherwise&gt; <br> &lt;/xsl:choose&gt; <br> <br> &lt;/xsl:template&gt; <br> <br></code> <br>      : <br> <code>&lt;xsl:choose&gt; <br> &lt;xsl:when&gt;&lt;/xsl:when&gt; <br> &lt;xsl:otherwise&gt;&lt;/xsl:otherwise&gt; <br> &lt;/xsl:choose&gt; <br></code> <br> ‚Ä¶, ,     <strong>XML-</strong> .      : <code>&lt;xsl:when test="descendant-or-self::*/@id = /node()/@id"&gt;</code> <br> <br>        <strong>ID</strong>    ( <strong>document</strong> )    ( <strong>item</strong> ),   ,    . <br> <br>   <code>&lt;xsl:when&gt;&lt;/xsl:when&gt;</code>  ,      .   <code>&lt;xsl:otherwise&gt;&lt;/xsl:otherwise&gt;</code> -    . <br> <br> 8. ,   <strong>href_attribute</strong> : <br> <code><br> &lt;xsl:template name="href_attribute"&gt; <br> &lt;xsl:attribute name="href"&gt; <br> &lt;xsl:text&gt;/&lt;/xsl:text&gt; <br> &lt;xsl:for-each select="ancestor-or-self::item"&gt; <br> &lt;xsl:value-of select="dir"/&gt; <br> &lt;xsl:text&gt;/&lt;/xsl:text&gt; <br> &lt;/xsl:for-each&gt; <br> &lt;/xsl:attribute&gt; <br> &lt;/xsl:template&gt; <br></code> <br> <br>      <strong>xsl:attribute</strong> .          .         <strong>a</strong> , ,      <strong>href</strong> , .. . <br> <br>  <code>&lt;xsl:for-each select="ancestor-or-self::item"&gt;</code>      ,  .      <strong>ancestor-or-self::item</strong> -         .           <strong>dir</strong> , ..     -. <br> <br> ,   -  ,       . ,   <a href="http://habrahabr.ru/blog/webdev/38433.html">  </a> . <br> <br> <strong>UPD:</strong> <br>   .   ,  : <br> <a href="">parser.proc.ru/iso/xslt-1.zip</a> <br> <br>        (       )           Apache. <br> <br>    XML-   /xsl/document.xml</code></code></code></code></code> </li> <li> <code><code><code><code>-    (   ). : <br> <strong>Lang</strong> -  .     . <strong>Id</strong> -   . <br> &lt;lang_table&gt;</code> -  ,   . <br> <code>-   : <br> -    (  ): <br> &lt;item id="0" parent_id="0" is_published="1" section="1"&gt;</code> -   . : <br> <strong>Id</strong> -  . <strong>Parent_id</strong> -   . <strong>Is_published</strong> -   . <strong>Dir</strong> - uri- .     . <strong>Section</strong> -  .         . <br> <code><code><code>-  . <br>   CMS   :        : <br> <strong>Html</strong> -  .  ,    . <strong>Com</strong> - -.  ,      CMS: , ,    .. <br>  <strong>XSL-</strong>   ,     .       . <br> <br> CMS       <strong> ,      : <br> : <br> <strong>Id</strong> -  . <br> <strong>Container</strong> - - (    ). <br> <strong>Sorting</strong> -    . <br> <strong>Type</strong> - : <br> <strong>Com</strong> - - <br> <strong>Html</strong> -  . <br> <strong>Method</strong> -  . <br> <strong>Title</strong> -  . <br> <strong>DTD</strong>     (    ): <br> &lt;!DOCTYPE site_page [ <br> <br> &lt;!ENTITY nbsp " "&gt; <br> &lt;!ENTITY sect "¬ß" &gt; <br> &lt;!ENTITY copy "¬©"&gt; <br> &lt;!ENTITY laquo "¬´"&gt; <br> &lt;!ENTITY reg "¬Æ"&gt; <br> &lt;!ENTITY deg "¬∞"&gt; <br> &lt;!ENTITY plusmn "¬±"&gt; <br> &lt;!ENTITY para "¬∂"&gt; <br> &lt;!ENTITY raquo "¬ª"&gt; <br> &lt;!ENTITY times "√ó"&gt; <br> <br> <br> <br> &lt;!ENTITY bull "‚Ä¢"&gt; <br> &lt;!ENTITY hellip "‚Ä¶"&gt; <br> <br> <br> <br> &lt;!ENTITY ndash "‚Äì"&gt; <br> &lt;!ENTITY mdash "‚Äî"&gt; <br> &lt;!ENTITY lsquo "'"&gt; <br> &lt;!ENTITY rsquo "'"&gt; <br> &lt;!ENTITY sbquo "‚Äö"&gt; <br> &lt;!ENTITY ldquo "‚Äú"&gt; <br> &lt;!ENTITY rdquo "‚Äù"&gt; <br> &lt;!ENTITY bdquo "‚Äû"&gt; <br> &lt;!ENTITY lsaquo "‚Äπ"&gt; <br> &lt;!ENTITY rsaquo "‚Ä∫" &gt; <br> &lt;!ENTITY euro "‚Ç¨"&gt; <br> ]&gt; <br></strong></code> <br>      <strong>XML-</strong> .   <code>&lt;?xml version="1.0" encoding="windows-1251"?&gt;</code> . <br> <br>  XHML- <br> XSL-    XHTML- (   ).  XHTML-,  ,   <strong></strong> . <br> <br>      . <br> <br>   XHML-  ,    ,       : <br>  (   ).    -    ,      . / . <br>        HTML-: <br> <code><a href="https://habr.com/ru/post/22236/"></a> <a href="https://habr.com/ru/post/22236/"></a> <a href="https://habr.com/ru/post/22236/"></a> ... <br> <br>   <br> <br> <br> ... <br> <br>    <br> <br> ... <br> <br>   <br> <br> ... <br> <br>  <br> <br> ...</code> <br> <br>   XSL- <br>   XSL-   : <br> <code>&lt;xsl:stylesheet version = '1.0' encoding="UTF-8"?&gt; <br> &lt;xsl:template match="element"&gt; <br>   <br> &lt;/xsl:template&gt; <br> &lt;/xsl:stylesheet&gt;</code> <br> <br> : <code>&lt;xsl:stylesheet version = '1.0' encoding="UTF-8"?&gt;</code> -   <strong>XML-</strong>  .   <strong>UTF-8</strong> ( , ). <br> <code>&lt;xsl:stylesheet&gt; &lt;/xsl:stylesheet&gt;</code> -    XSL-. <br> <code>&lt;xsl:template match="element"&gt; &lt;/xsl:template&gt;</code> -       element. <br> <br>       : <br> <code>&lt;xsl:template match="element"&gt;&lt;/xsl:template&gt;</code> - ,     <strong>element</strong> .      <strong>element</strong> . <code>&lt;xsl:template match="element" mode="mode1"&gt;&lt;/xsl:template&gt;</code> - ,     <strong>element</strong>   <strong>mode1</strong> .         <strong>element</strong> . <code>&lt;xsl:template name="template-name"&gt;&lt;/xsl:template&gt;</code> -    <strong>template-name</strong> .     -  <strong>XML-</strong> . <br>           <strong>XML-</strong> (,  XML-,    item      ),      " "  : <br> <code>&lt;xsl:template match="navigation/sections/item"&gt;&lt;/xsl:template&gt;</code> <br>  ,    , ..,      ,  ,  , ..      <strong>navigation</strong> ,      <strong>navigation/sections/item</strong>     <strong>sections/item</strong> . <br> <br>    <br>  ,         -      .  ,        <strong>xsl-</strong> .            . <br> <br>       <strong>xsl</strong>    . <br> <br> ,        (       )   : <br> <strong>template_folder</strong> -    .      ,  <strong>my_template</strong> . <strong>dtd</strong> -    .   . <strong>lang</strong> -      (      ). <strong>mod</strong> -  . <br>       <strong>xsl/my_template</strong>   ,  <strong>layout.xsl</strong>  : <br> <code>&lt;?xml version="1.0" encoding="UTF-8"?&gt; <br> &lt;!DOCTYPE xsl:stylesheet SYSTEM "../dtd/entities.dtd"&gt; <br> &lt;xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform"&gt; <br> <br> &lt;xsl:template match="/node()"&gt; <br> &lt;/xsl:template&gt; <br> <br> &lt;/xsl:stylesheet&gt; <br></code> <br> : <br> <code>&lt;xsl:template match="/node()"&gt; &lt;/xsl:template&gt;</code> -    <strong>/node()</strong> ().  <strong>/node()</strong>   <strong>//document</strong> , ..      . <br> <br>   XHTML-   <code>&lt;xsl:template match="/node()"&gt;&lt;/xsl:template&gt;</code> <br> <br>        <strong>XML-</strong> .   , <strong>XSL-</strong>   <strong>XML-</strong>  <strong>XHTML-</strong>  . <br> <br> ,    <strong>XSL</strong>   <strong>template.xsl</strong> (, <strong>template</strong> -   ),     : <br> <code>&lt;?xml version="1.0" encoding="UTF-8"?&gt; <br> &lt;xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform"&gt; <br> <br> &lt;xsl:import href=" my_template /layout.xsl"/&gt; <br> &lt;/xsl:stylesheet&gt; <br></code> <br> : <br> <code>&lt;xsl:import href="my_template/layout.xsl"/&gt;</code> <br>    XSL- ( <strong>XSL-</strong> )   .     . <br> <br>       <br>       , ..     XML-    . <br> <br>   -    . <br> <br>        ,   <strong>XML-</strong>   : <br> <code><br> &lt;item id="0" parent_id="0" is_published="1" section="1"&gt; <br>  <br> / <br> <br> &lt;item id="1" parent_id="0" is_published="1" section="1" hit="yes"&gt; <br>  <br> news <br> <br></code> <br> <br> <br>      : <br>  <strong>id</strong>    <strong>document</strong> -    <strong>id</strong>  .  <strong>hit</strong>   <strong>item</strong> -   ,   ,    "  ". <br> ,  ,         : <br> <strong>sections</strong> -   . <strong>item</strong> -  . <br>  ,  ,   <strong>item</strong>     <strong>item</strong> ,   ,     : <br> <code><br> <br></code> <br> <br> 1.    xsl/my_template  navigation.xsl  : <br> <code>&lt;?xml version="1.0" encoding="UTF-8"?&gt; <br> &lt;!DOCTYPE xsl:stylesheet SYSTEM "../dtd/entities.dtd"&gt; <br> &lt;xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform"&gt; <br> <br> &lt;xsl:template match="sections" mode="global_menu"&gt; <br> &lt;/xsl:template&gt; <br> <br> &lt;/xsl:stylesheet&gt;</code> <br> <br> 2.         <strong>layout.xsl</strong> : <br> <code><a href="https://habr.com/"></a> <a href="https://habr.com/sections/"></a> <a href="https://habr.com/news/"></a> <br> &lt;xsl:template match="sections" mode="global_menu"&gt; <br>    <br> &lt;/xsl:template&gt; <br></code> <br> <br> 3. ‚Ä¶      <strong>layout.xsl</strong>     : <br> <code><br> &lt;xsl:apply-templates select="navigation/sections" mode="global_menu"/&gt; <br> <br></code> <br> : <br> <strong>select="navigation/sections"</strong> -  ( ) - .  ,     <strong>navigation/sections</strong> . <br> <br> <strong>mode="global_menu"</strong> -     <strong>global_menu</strong> .      ,        , ,  " ",  -         . <br> <br> 4. ,    layout.xsl     <strong>navigation.xsl</strong> : <br> <code>&lt;xsl:import href="navigation.xsl"/&gt;</code> <br> <br> 5. ,    <strong>navigation.xsl</strong>   ,    : <br> <code><br> &lt;xsl:template match="item" mode="global_menu"&gt; <br> &lt;xsl:call-template name="href_attribute"/&gt; <br> &lt;xsl:value-of select="title"/&gt; <br> <br> <br> &lt;/xsl:template&gt; <br> <br></code> <br> : <br> <code>&lt;xsl:call-template name="href_attribute"/&gt;</code> -    .        , ..  . <br> <br> <code>&lt;xsl:value-of select="title"/&gt;</code> - -   title  .         <strong>@</strong> -      . <br> <br> 6.    <strong>sections</strong> : <br> <code><br> &lt;xsl:template match="sections" mode="global_menu"&gt; <br> <br> &lt;/xsl:template&gt; <br> <br></code> <br> : <br> <code>&lt;xsl:apply-templates select="item" mode="global_menu"/&gt;</code> -    <strong>item</strong>  <strong>sections</strong> .  ,  <strong>item</strong>   <strong>item</strong> ( <strong>sections/item/item</strong> )   , ..      . <br> <br>     <strong>item</strong> ( )   .  ,         : <code>&lt;xsl:call-template name="href_attribute"/&gt;</code> <br> <br>      <strong>uri-</strong>    .    . <br> <br> 7.     , <br>   ,    .            <strong>item</strong> : <br> <code><br> &lt;xsl:template match="item" mode="global_menu"&gt; <br> <br> &lt;xsl:choose&gt; <br> <br> &lt;xsl:when test="descendant-or-self::*/@id = /node()/@id"&gt; <br> &lt;xsl:value-of select="title"/&gt; <br> &lt;/xsl:when&gt; <br> <br> &lt;xsl:otherwise&gt; <br> &lt;xsl:call-template name="href_attribute"/&gt; <br> &lt;xsl:value-of select="title"/&gt; <br> <br> &lt;/xsl:otherwise&gt; <br> &lt;/xsl:choose&gt; <br> <br> &lt;/xsl:template&gt; <br> <br></code> <br>      : <br> <code>&lt;xsl:choose&gt; <br> &lt;xsl:when&gt;&lt;/xsl:when&gt; <br> &lt;xsl:otherwise&gt;&lt;/xsl:otherwise&gt; <br> &lt;/xsl:choose&gt; <br></code> <br> ‚Ä¶, ,     <strong>XML-</strong> .      : <code>&lt;xsl:when test="descendant-or-self::*/@id = /node()/@id"&gt;</code> <br> <br>        <strong>ID</strong>    ( <strong>document</strong> )    ( <strong>item</strong> ),   ,    . <br> <br>   <code>&lt;xsl:when&gt;&lt;/xsl:when&gt;</code>  ,      .   <code>&lt;xsl:otherwise&gt;&lt;/xsl:otherwise&gt;</code> -    . <br> <br> 8. ,   <strong>href_attribute</strong> : <br> <code><br> &lt;xsl:template name="href_attribute"&gt; <br> &lt;xsl:attribute name="href"&gt; <br> &lt;xsl:text&gt;/&lt;/xsl:text&gt; <br> &lt;xsl:for-each select="ancestor-or-self::item"&gt; <br> &lt;xsl:value-of select="dir"/&gt; <br> &lt;xsl:text&gt;/&lt;/xsl:text&gt; <br> &lt;/xsl:for-each&gt; <br> &lt;/xsl:attribute&gt; <br> &lt;/xsl:template&gt; <br></code> <br> <br>      <strong>xsl:attribute</strong> .          .         <strong>a</strong> , ,      <strong>href</strong> , .. . <br> <br>  <code>&lt;xsl:for-each select="ancestor-or-self::item"&gt;</code>      ,  .      <strong>ancestor-or-self::item</strong> -         .           <strong>dir</strong> , ..     -. <br> <br> ,   -  ,       . ,   <a href="http://habrahabr.ru/blog/webdev/38433.html">  </a> . <br> <br> <strong>UPD:</strong> <br>   .   ,  : <br> <a href="">parser.proc.ru/iso/xslt-1.zip</a> <br> <br>        (       )           Apache. <br> <br>    XML-   /xsl/document.xml</code></code></code></code></code> </li> <li> <code><code><code><code>-    (   ). : <br> <strong>Lang</strong> -  .     . <strong>Id</strong> -   . <br> &lt;lang_table&gt;</code> -  ,   . <br> <code>-   : <br> -    (  ): <br> &lt;item id="0" parent_id="0" is_published="1" section="1"&gt;</code> -   . : <br> <strong>Id</strong> -  . <strong>Parent_id</strong> -   . <strong>Is_published</strong> -   . <strong>Dir</strong> - uri- .     . <strong>Section</strong> -  .         . <br> <code><code><code>-  . <br>   CMS   :        : <br> <strong>Html</strong> -  .  ,    . <strong>Com</strong> - -.  ,      CMS: , ,    .. <br>  <strong>XSL-</strong>   ,     .       . <br> <br> CMS       <strong> ,      : <br> : <br> <strong>Id</strong> -  . <br> <strong>Container</strong> - - (    ). <br> <strong>Sorting</strong> -    . <br> <strong>Type</strong> - : <br> <strong>Com</strong> - - <br> <strong>Html</strong> -  . <br> <strong>Method</strong> -  . <br> <strong>Title</strong> -  . <br> <strong>DTD</strong>     (    ): <br> &lt;!DOCTYPE site_page [ <br> <br> &lt;!ENTITY nbsp " "&gt; <br> &lt;!ENTITY sect "¬ß" &gt; <br> &lt;!ENTITY copy "¬©"&gt; <br> &lt;!ENTITY laquo "¬´"&gt; <br> &lt;!ENTITY reg "¬Æ"&gt; <br> &lt;!ENTITY deg "¬∞"&gt; <br> &lt;!ENTITY plusmn "¬±"&gt; <br> &lt;!ENTITY para "¬∂"&gt; <br> &lt;!ENTITY raquo "¬ª"&gt; <br> &lt;!ENTITY times "√ó"&gt; <br> <br> <br> <br> &lt;!ENTITY bull "‚Ä¢"&gt; <br> &lt;!ENTITY hellip "‚Ä¶"&gt; <br> <br> <br> <br> &lt;!ENTITY ndash "‚Äì"&gt; <br> &lt;!ENTITY mdash "‚Äî"&gt; <br> &lt;!ENTITY lsquo "'"&gt; <br> &lt;!ENTITY rsquo "'"&gt; <br> &lt;!ENTITY sbquo "‚Äö"&gt; <br> &lt;!ENTITY ldquo "‚Äú"&gt; <br> &lt;!ENTITY rdquo "‚Äù"&gt; <br> &lt;!ENTITY bdquo "‚Äû"&gt; <br> &lt;!ENTITY lsaquo "‚Äπ"&gt; <br> &lt;!ENTITY rsaquo "‚Ä∫" &gt; <br> &lt;!ENTITY euro "‚Ç¨"&gt; <br> ]&gt; <br></strong></code> <br>      <strong>XML-</strong> .   <code>&lt;?xml version="1.0" encoding="windows-1251"?&gt;</code> . <br> <br>  XHML- <br> XSL-    XHTML- (   ).  XHTML-,  ,   <strong></strong> . <br> <br>      . <br> <br>   XHML-  ,    ,       : <br>  (   ).    -    ,      . / . <br>        HTML-: <br> <code><a href="https://habr.com/ru/post/22236/"></a> <a href="https://habr.com/ru/post/22236/"></a> <a href="https://habr.com/ru/post/22236/"></a> ... <br> <br>   <br> <br> <br> ... <br> <br>    <br> <br> ... <br> <br>   <br> <br> ... <br> <br>  <br> <br> ...</code> <br> <br>   XSL- <br>   XSL-   : <br> <code>&lt;xsl:stylesheet version = '1.0' encoding="UTF-8"?&gt; <br> &lt;xsl:template match="element"&gt; <br>   <br> &lt;/xsl:template&gt; <br> &lt;/xsl:stylesheet&gt;</code> <br> <br> : <code>&lt;xsl:stylesheet version = '1.0' encoding="UTF-8"?&gt;</code> -   <strong>XML-</strong>  .   <strong>UTF-8</strong> ( , ). <br> <code>&lt;xsl:stylesheet&gt; &lt;/xsl:stylesheet&gt;</code> -    XSL-. <br> <code>&lt;xsl:template match="element"&gt; &lt;/xsl:template&gt;</code> -       element. <br> <br>       : <br> <code>&lt;xsl:template match="element"&gt;&lt;/xsl:template&gt;</code> - ,     <strong>element</strong> .      <strong>element</strong> . <code>&lt;xsl:template match="element" mode="mode1"&gt;&lt;/xsl:template&gt;</code> - ,     <strong>element</strong>   <strong>mode1</strong> .         <strong>element</strong> . <code>&lt;xsl:template name="template-name"&gt;&lt;/xsl:template&gt;</code> -    <strong>template-name</strong> .     -  <strong>XML-</strong> . <br>           <strong>XML-</strong> (,  XML-,    item      ),      " "  : <br> <code>&lt;xsl:template match="navigation/sections/item"&gt;&lt;/xsl:template&gt;</code> <br>  ,    , ..,      ,  ,  , ..      <strong>navigation</strong> ,      <strong>navigation/sections/item</strong>     <strong>sections/item</strong> . <br> <br>    <br>  ,         -      .  ,        <strong>xsl-</strong> .            . <br> <br>       <strong>xsl</strong>    . <br> <br> ,        (       )   : <br> <strong>template_folder</strong> -    .      ,  <strong>my_template</strong> . <strong>dtd</strong> -    .   . <strong>lang</strong> -      (      ). <strong>mod</strong> -  . <br>       <strong>xsl/my_template</strong>   ,  <strong>layout.xsl</strong>  : <br> <code>&lt;?xml version="1.0" encoding="UTF-8"?&gt; <br> &lt;!DOCTYPE xsl:stylesheet SYSTEM "../dtd/entities.dtd"&gt; <br> &lt;xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform"&gt; <br> <br> &lt;xsl:template match="/node()"&gt; <br> &lt;/xsl:template&gt; <br> <br> &lt;/xsl:stylesheet&gt; <br></code> <br> : <br> <code>&lt;xsl:template match="/node()"&gt; &lt;/xsl:template&gt;</code> -    <strong>/node()</strong> ().  <strong>/node()</strong>   <strong>//document</strong> , ..      . <br> <br>   XHTML-   <code>&lt;xsl:template match="/node()"&gt;&lt;/xsl:template&gt;</code> <br> <br>        <strong>XML-</strong> .   , <strong>XSL-</strong>   <strong>XML-</strong>  <strong>XHTML-</strong>  . <br> <br> ,    <strong>XSL</strong>   <strong>template.xsl</strong> (, <strong>template</strong> -   ),     : <br> <code>&lt;?xml version="1.0" encoding="UTF-8"?&gt; <br> &lt;xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform"&gt; <br> <br> &lt;xsl:import href=" my_template /layout.xsl"/&gt; <br> &lt;/xsl:stylesheet&gt; <br></code> <br> : <br> <code>&lt;xsl:import href="my_template/layout.xsl"/&gt;</code> <br>    XSL- ( <strong>XSL-</strong> )   .     . <br> <br>       <br>       , ..     XML-    . <br> <br>   -    . <br> <br>        ,   <strong>XML-</strong>   : <br> <code><br> &lt;item id="0" parent_id="0" is_published="1" section="1"&gt; <br>  <br> / <br> <br> &lt;item id="1" parent_id="0" is_published="1" section="1" hit="yes"&gt; <br>  <br> news <br> <br></code> <br> <br> <br>      : <br>  <strong>id</strong>    <strong>document</strong> -    <strong>id</strong>  .  <strong>hit</strong>   <strong>item</strong> -   ,   ,    "  ". <br> ,  ,         : <br> <strong>sections</strong> -   . <strong>item</strong> -  . <br>  ,  ,   <strong>item</strong>     <strong>item</strong> ,   ,     : <br> <code><br> <br></code> <br> <br> 1.    xsl/my_template  navigation.xsl  : <br> <code>&lt;?xml version="1.0" encoding="UTF-8"?&gt; <br> &lt;!DOCTYPE xsl:stylesheet SYSTEM "../dtd/entities.dtd"&gt; <br> &lt;xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform"&gt; <br> <br> &lt;xsl:template match="sections" mode="global_menu"&gt; <br> &lt;/xsl:template&gt; <br> <br> &lt;/xsl:stylesheet&gt;</code> <br> <br> 2.         <strong>layout.xsl</strong> : <br> <code><a href="https://habr.com/"></a> <a href="https://habr.com/sections/"></a> <a href="https://habr.com/news/"></a> <br> &lt;xsl:template match="sections" mode="global_menu"&gt; <br>    <br> &lt;/xsl:template&gt; <br></code> <br> <br> 3. ‚Ä¶      <strong>layout.xsl</strong>     : <br> <code><br> &lt;xsl:apply-templates select="navigation/sections" mode="global_menu"/&gt; <br> <br></code> <br> : <br> <strong>select="navigation/sections"</strong> -  ( ) - .  ,     <strong>navigation/sections</strong> . <br> <br> <strong>mode="global_menu"</strong> -     <strong>global_menu</strong> .      ,        , ,  " ",  -         . <br> <br> 4. ,    layout.xsl     <strong>navigation.xsl</strong> : <br> <code>&lt;xsl:import href="navigation.xsl"/&gt;</code> <br> <br> 5. ,    <strong>navigation.xsl</strong>   ,    : <br> <code><br> &lt;xsl:template match="item" mode="global_menu"&gt; <br> &lt;xsl:call-template name="href_attribute"/&gt; <br> &lt;xsl:value-of select="title"/&gt; <br> <br> <br> &lt;/xsl:template&gt; <br> <br></code> <br> : <br> <code>&lt;xsl:call-template name="href_attribute"/&gt;</code> -    .        , ..  . <br> <br> <code>&lt;xsl:value-of select="title"/&gt;</code> - -   title  .         <strong>@</strong> -      . <br> <br> 6.    <strong>sections</strong> : <br> <code><br> &lt;xsl:template match="sections" mode="global_menu"&gt; <br> <br> &lt;/xsl:template&gt; <br> <br></code> <br> : <br> <code>&lt;xsl:apply-templates select="item" mode="global_menu"/&gt;</code> -    <strong>item</strong>  <strong>sections</strong> .  ,  <strong>item</strong>   <strong>item</strong> ( <strong>sections/item/item</strong> )   , ..      . <br> <br>     <strong>item</strong> ( )   .  ,         : <code>&lt;xsl:call-template name="href_attribute"/&gt;</code> <br> <br>      <strong>uri-</strong>    .    . <br> <br> 7.     , <br>   ,    .            <strong>item</strong> : <br> <code><br> &lt;xsl:template match="item" mode="global_menu"&gt; <br> <br> &lt;xsl:choose&gt; <br> <br> &lt;xsl:when test="descendant-or-self::*/@id = /node()/@id"&gt; <br> &lt;xsl:value-of select="title"/&gt; <br> &lt;/xsl:when&gt; <br> <br> &lt;xsl:otherwise&gt; <br> &lt;xsl:call-template name="href_attribute"/&gt; <br> &lt;xsl:value-of select="title"/&gt; <br> <br> &lt;/xsl:otherwise&gt; <br> &lt;/xsl:choose&gt; <br> <br> &lt;/xsl:template&gt; <br> <br></code> <br>      : <br> <code>&lt;xsl:choose&gt; <br> &lt;xsl:when&gt;&lt;/xsl:when&gt; <br> &lt;xsl:otherwise&gt;&lt;/xsl:otherwise&gt; <br> &lt;/xsl:choose&gt; <br></code> <br> ‚Ä¶, ,     <strong>XML-</strong> .      : <code>&lt;xsl:when test="descendant-or-self::*/@id = /node()/@id"&gt;</code> <br> <br>        <strong>ID</strong>    ( <strong>document</strong> )    ( <strong>item</strong> ),   ,    . <br> <br>   <code>&lt;xsl:when&gt;&lt;/xsl:when&gt;</code>  ,      .   <code>&lt;xsl:otherwise&gt;&lt;/xsl:otherwise&gt;</code> -    . <br> <br> 8. ,   <strong>href_attribute</strong> : <br> <code><br> &lt;xsl:template name="href_attribute"&gt; <br> &lt;xsl:attribute name="href"&gt; <br> &lt;xsl:text&gt;/&lt;/xsl:text&gt; <br> &lt;xsl:for-each select="ancestor-or-self::item"&gt; <br> &lt;xsl:value-of select="dir"/&gt; <br> &lt;xsl:text&gt;/&lt;/xsl:text&gt; <br> &lt;/xsl:for-each&gt; <br> &lt;/xsl:attribute&gt; <br> &lt;/xsl:template&gt; <br></code> <br> <br>      <strong>xsl:attribute</strong> .          .         <strong>a</strong> , ,      <strong>href</strong> , .. . <br> <br>  <code>&lt;xsl:for-each select="ancestor-or-self::item"&gt;</code>      ,  .      <strong>ancestor-or-self::item</strong> -         .           <strong>dir</strong> , ..     -. <br> <br> ,   -  ,       . ,   <a href="http://habrahabr.ru/blog/webdev/38433.html">  </a> . <br> <br> <strong>UPD:</strong> <br>   .   ,  : <br> <a href="">parser.proc.ru/iso/xslt-1.zip</a> <br> <br>        (       )           Apache. <br> <br>    XML-   /xsl/document.xml</code></code></code></code></code> </li> <li> <code><code><code><code>-    (   ). : <br> <strong>Lang</strong> -  .     . <strong>Id</strong> -   . <br> &lt;lang_table&gt;</code> -  ,   . <br> <code>-   : <br> -    (  ): <br> &lt;item id="0" parent_id="0" is_published="1" section="1"&gt;</code> -   . : <br> <strong>Id</strong> -  . <strong>Parent_id</strong> -   . <strong>Is_published</strong> -   . <strong>Dir</strong> - uri- .     . <strong>Section</strong> -  .         . <br> <code><code><code>-  . <br>   CMS   :        : <br> <strong>Html</strong> -  .  ,    . <strong>Com</strong> - -.  ,      CMS: , ,    .. <br>  <strong>XSL-</strong>   ,     .       . <br> <br> CMS       <strong> ,      : <br> : <br> <strong>Id</strong> -  . <br> <strong>Container</strong> - - (    ). <br> <strong>Sorting</strong> -    . <br> <strong>Type</strong> - : <br> <strong>Com</strong> - - <br> <strong>Html</strong> -  . <br> <strong>Method</strong> -  . <br> <strong>Title</strong> -  . <br> <strong>DTD</strong>     (    ): <br> &lt;!DOCTYPE site_page [ <br> <br> &lt;!ENTITY nbsp " "&gt; <br> &lt;!ENTITY sect "¬ß" &gt; <br> &lt;!ENTITY copy "¬©"&gt; <br> &lt;!ENTITY laquo "¬´"&gt; <br> &lt;!ENTITY reg "¬Æ"&gt; <br> &lt;!ENTITY deg "¬∞"&gt; <br> &lt;!ENTITY plusmn "¬±"&gt; <br> &lt;!ENTITY para "¬∂"&gt; <br> &lt;!ENTITY raquo "¬ª"&gt; <br> &lt;!ENTITY times "√ó"&gt; <br> <br> <br> <br> &lt;!ENTITY bull "‚Ä¢"&gt; <br> &lt;!ENTITY hellip "‚Ä¶"&gt; <br> <br> <br> <br> &lt;!ENTITY ndash "‚Äì"&gt; <br> &lt;!ENTITY mdash "‚Äî"&gt; <br> &lt;!ENTITY lsquo "'"&gt; <br> &lt;!ENTITY rsquo "'"&gt; <br> &lt;!ENTITY sbquo "‚Äö"&gt; <br> &lt;!ENTITY ldquo "‚Äú"&gt; <br> &lt;!ENTITY rdquo "‚Äù"&gt; <br> &lt;!ENTITY bdquo "‚Äû"&gt; <br> &lt;!ENTITY lsaquo "‚Äπ"&gt; <br> &lt;!ENTITY rsaquo "‚Ä∫" &gt; <br> &lt;!ENTITY euro "‚Ç¨"&gt; <br> ]&gt; <br></strong></code> <br>      <strong>XML-</strong> .   <code>&lt;?xml version="1.0" encoding="windows-1251"?&gt;</code> . <br> <br>  XHML- <br> XSL-    XHTML- (   ).  XHTML-,  ,   <strong></strong> . <br> <br>      . <br> <br>   XHML-  ,    ,       : <br>  (   ).    -    ,      . / . <br>        HTML-: <br> <code><a href="https://habr.com/ru/post/22236/"></a> <a href="https://habr.com/ru/post/22236/"></a> <a href="https://habr.com/ru/post/22236/"></a> ... <br> <br>   <br> <br> <br> ... <br> <br>    <br> <br> ... <br> <br>   <br> <br> ... <br> <br>  <br> <br> ...</code> <br> <br>   XSL- <br>   XSL-   : <br> <code>&lt;xsl:stylesheet version = '1.0' encoding="UTF-8"?&gt; <br> &lt;xsl:template match="element"&gt; <br>   <br> &lt;/xsl:template&gt; <br> &lt;/xsl:stylesheet&gt;</code> <br> <br> : <code>&lt;xsl:stylesheet version = '1.0' encoding="UTF-8"?&gt;</code> -   <strong>XML-</strong>  .   <strong>UTF-8</strong> ( , ). <br> <code>&lt;xsl:stylesheet&gt; &lt;/xsl:stylesheet&gt;</code> -    XSL-. <br> <code>&lt;xsl:template match="element"&gt; &lt;/xsl:template&gt;</code> -       element. <br> <br>       : <br> <code>&lt;xsl:template match="element"&gt;&lt;/xsl:template&gt;</code> - ,     <strong>element</strong> .      <strong>element</strong> . <code>&lt;xsl:template match="element" mode="mode1"&gt;&lt;/xsl:template&gt;</code> - ,     <strong>element</strong>   <strong>mode1</strong> .         <strong>element</strong> . <code>&lt;xsl:template name="template-name"&gt;&lt;/xsl:template&gt;</code> -    <strong>template-name</strong> .     -  <strong>XML-</strong> . <br>           <strong>XML-</strong> (,  XML-,    item      ),      " "  : <br> <code>&lt;xsl:template match="navigation/sections/item"&gt;&lt;/xsl:template&gt;</code> <br>  ,    , ..,      ,  ,  , ..      <strong>navigation</strong> ,      <strong>navigation/sections/item</strong>     <strong>sections/item</strong> . <br> <br>    <br>  ,         -      .  ,        <strong>xsl-</strong> .            . <br> <br>       <strong>xsl</strong>    . <br> <br> ,        (       )   : <br> <strong>template_folder</strong> -    .      ,  <strong>my_template</strong> . <strong>dtd</strong> -    .   . <strong>lang</strong> -      (      ). <strong>mod</strong> -  . <br>       <strong>xsl/my_template</strong>   ,  <strong>layout.xsl</strong>  : <br> <code>&lt;?xml version="1.0" encoding="UTF-8"?&gt; <br> &lt;!DOCTYPE xsl:stylesheet SYSTEM "../dtd/entities.dtd"&gt; <br> &lt;xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform"&gt; <br> <br> &lt;xsl:template match="/node()"&gt; <br> &lt;/xsl:template&gt; <br> <br> &lt;/xsl:stylesheet&gt; <br></code> <br> : <br> <code>&lt;xsl:template match="/node()"&gt; &lt;/xsl:template&gt;</code> -    <strong>/node()</strong> ().  <strong>/node()</strong>   <strong>//document</strong> , ..      . <br> <br>   XHTML-   <code>&lt;xsl:template match="/node()"&gt;&lt;/xsl:template&gt;</code> <br> <br>        <strong>XML-</strong> .   , <strong>XSL-</strong>   <strong>XML-</strong>  <strong>XHTML-</strong>  . <br> <br> ,    <strong>XSL</strong>   <strong>template.xsl</strong> (, <strong>template</strong> -   ),     : <br> <code>&lt;?xml version="1.0" encoding="UTF-8"?&gt; <br> &lt;xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform"&gt; <br> <br> &lt;xsl:import href=" my_template /layout.xsl"/&gt; <br> &lt;/xsl:stylesheet&gt; <br></code> <br> : <br> <code>&lt;xsl:import href="my_template/layout.xsl"/&gt;</code> <br>    XSL- ( <strong>XSL-</strong> )   .     . <br> <br>       <br>       , ..     XML-    . <br> <br>   -    . <br> <br>        ,   <strong>XML-</strong>   : <br> <code><br> &lt;item id="0" parent_id="0" is_published="1" section="1"&gt; <br>  <br> / <br> <br> &lt;item id="1" parent_id="0" is_published="1" section="1" hit="yes"&gt; <br>  <br> news <br> <br></code> <br> <br> <br>      : <br>  <strong>id</strong>    <strong>document</strong> -    <strong>id</strong>  .  <strong>hit</strong>   <strong>item</strong> -   ,   ,    "  ". <br> ,  ,         : <br> <strong>sections</strong> -   . <strong>item</strong> -  . <br>  ,  ,   <strong>item</strong>     <strong>item</strong> ,   ,     : <br> <code><br> <br></code> <br> <br> 1.    xsl/my_template  navigation.xsl  : <br> <code>&lt;?xml version="1.0" encoding="UTF-8"?&gt; <br> &lt;!DOCTYPE xsl:stylesheet SYSTEM "../dtd/entities.dtd"&gt; <br> &lt;xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform"&gt; <br> <br> &lt;xsl:template match="sections" mode="global_menu"&gt; <br> &lt;/xsl:template&gt; <br> <br> &lt;/xsl:stylesheet&gt;</code> <br> <br> 2.         <strong>layout.xsl</strong> : <br> <code><a href="https://habr.com/"></a> <a href="https://habr.com/sections/"></a> <a href="https://habr.com/news/"></a> <br> &lt;xsl:template match="sections" mode="global_menu"&gt; <br>    <br> &lt;/xsl:template&gt; <br></code> <br> <br> 3. ‚Ä¶      <strong>layout.xsl</strong>     : <br> <code><br> &lt;xsl:apply-templates select="navigation/sections" mode="global_menu"/&gt; <br> <br></code> <br> : <br> <strong>select="navigation/sections"</strong> -  ( ) - .  ,     <strong>navigation/sections</strong> . <br> <br> <strong>mode="global_menu"</strong> -     <strong>global_menu</strong> .      ,        , ,  " ",  -         . <br> <br> 4. ,    layout.xsl     <strong>navigation.xsl</strong> : <br> <code>&lt;xsl:import href="navigation.xsl"/&gt;</code> <br> <br> 5. ,    <strong>navigation.xsl</strong>   ,    : <br> <code><br> &lt;xsl:template match="item" mode="global_menu"&gt; <br> &lt;xsl:call-template name="href_attribute"/&gt; <br> &lt;xsl:value-of select="title"/&gt; <br> <br> <br> &lt;/xsl:template&gt; <br> <br></code> <br> : <br> <code>&lt;xsl:call-template name="href_attribute"/&gt;</code> -    .        , ..  . <br> <br> <code>&lt;xsl:value-of select="title"/&gt;</code> - -   title  .         <strong>@</strong> -      . <br> <br> 6.    <strong>sections</strong> : <br> <code><br> &lt;xsl:template match="sections" mode="global_menu"&gt; <br> <br> &lt;/xsl:template&gt; <br> <br></code> <br> : <br> <code>&lt;xsl:apply-templates select="item" mode="global_menu"/&gt;</code> -    <strong>item</strong>  <strong>sections</strong> .  ,  <strong>item</strong>   <strong>item</strong> ( <strong>sections/item/item</strong> )   , ..      . <br> <br>     <strong>item</strong> ( )   .  ,         : <code>&lt;xsl:call-template name="href_attribute"/&gt;</code> <br> <br>      <strong>uri-</strong>    .    . <br> <br> 7.     , <br>   ,    .            <strong>item</strong> : <br> <code><br> &lt;xsl:template match="item" mode="global_menu"&gt; <br> <br> &lt;xsl:choose&gt; <br> <br> &lt;xsl:when test="descendant-or-self::*/@id = /node()/@id"&gt; <br> &lt;xsl:value-of select="title"/&gt; <br> &lt;/xsl:when&gt; <br> <br> &lt;xsl:otherwise&gt; <br> &lt;xsl:call-template name="href_attribute"/&gt; <br> &lt;xsl:value-of select="title"/&gt; <br> <br> &lt;/xsl:otherwise&gt; <br> &lt;/xsl:choose&gt; <br> <br> &lt;/xsl:template&gt; <br> <br></code> <br>      : <br> <code>&lt;xsl:choose&gt; <br> &lt;xsl:when&gt;&lt;/xsl:when&gt; <br> &lt;xsl:otherwise&gt;&lt;/xsl:otherwise&gt; <br> &lt;/xsl:choose&gt; <br></code> <br> ‚Ä¶, ,     <strong>XML-</strong> .      : <code>&lt;xsl:when test="descendant-or-self::*/@id = /node()/@id"&gt;</code> <br> <br>        <strong>ID</strong>    ( <strong>document</strong> )    ( <strong>item</strong> ),   ,    . <br> <br>   <code>&lt;xsl:when&gt;&lt;/xsl:when&gt;</code>  ,      .   <code>&lt;xsl:otherwise&gt;&lt;/xsl:otherwise&gt;</code> -    . <br> <br> 8. ,   <strong>href_attribute</strong> : <br> <code><br> &lt;xsl:template name="href_attribute"&gt; <br> &lt;xsl:attribute name="href"&gt; <br> &lt;xsl:text&gt;/&lt;/xsl:text&gt; <br> &lt;xsl:for-each select="ancestor-or-self::item"&gt; <br> &lt;xsl:value-of select="dir"/&gt; <br> &lt;xsl:text&gt;/&lt;/xsl:text&gt; <br> &lt;/xsl:for-each&gt; <br> &lt;/xsl:attribute&gt; <br> &lt;/xsl:template&gt; <br></code> <br> <br>      <strong>xsl:attribute</strong> .          .         <strong>a</strong> , ,      <strong>href</strong> , .. . <br> <br>  <code>&lt;xsl:for-each select="ancestor-or-self::item"&gt;</code>      ,  .      <strong>ancestor-or-self::item</strong> -         .           <strong>dir</strong> , ..     -. <br> <br> ,   -  ,       . ,   <a href="http://habrahabr.ru/blog/webdev/38433.html">  </a> . <br> <br> <strong>UPD:</strong> <br>   .   ,  : <br> <a href="">parser.proc.ru/iso/xslt-1.zip</a> <br> <br>        (       )           Apache. <br> <br>    XML-   /xsl/document.xml</code></code></code></code></code> </li> <li> <code><code><code><code>-    (   ). : <br> <strong>Lang</strong> -  .     . <strong>Id</strong> -   . <br> &lt;lang_table&gt;</code> -  ,   . <br> <code>-   : <br> -    (  ): <br> &lt;item id="0" parent_id="0" is_published="1" section="1"&gt;</code> -   . : <br> <strong>Id</strong> -  . <strong>Parent_id</strong> -   . <strong>Is_published</strong> -   . <strong>Dir</strong> - uri- .     . <strong>Section</strong> -  .         . <br> <code><code><code>-  . <br>   CMS   :        : <br> <strong>Html</strong> -  .  ,    . <strong>Com</strong> - -.  ,      CMS: , ,    .. <br>  <strong>XSL-</strong>   ,     .       . <br> <br> CMS       <strong> ,      : <br> : <br> <strong>Id</strong> -  . <br> <strong>Container</strong> - - (    ). <br> <strong>Sorting</strong> -    . <br> <strong>Type</strong> - : <br> <strong>Com</strong> - - <br> <strong>Html</strong> -  . <br> <strong>Method</strong> -  . <br> <strong>Title</strong> -  . <br> <strong>DTD</strong>     (    ): <br> &lt;!DOCTYPE site_page [ <br> <br> &lt;!ENTITY nbsp " "&gt; <br> &lt;!ENTITY sect "¬ß" &gt; <br> &lt;!ENTITY copy "¬©"&gt; <br> &lt;!ENTITY laquo "¬´"&gt; <br> &lt;!ENTITY reg "¬Æ"&gt; <br> &lt;!ENTITY deg "¬∞"&gt; <br> &lt;!ENTITY plusmn "¬±"&gt; <br> &lt;!ENTITY para "¬∂"&gt; <br> &lt;!ENTITY raquo "¬ª"&gt; <br> &lt;!ENTITY times "√ó"&gt; <br> <br> <br> <br> &lt;!ENTITY bull "‚Ä¢"&gt; <br> &lt;!ENTITY hellip "‚Ä¶"&gt; <br> <br> <br> <br> &lt;!ENTITY ndash "‚Äì"&gt; <br> &lt;!ENTITY mdash "‚Äî"&gt; <br> &lt;!ENTITY lsquo "'"&gt; <br> &lt;!ENTITY rsquo "'"&gt; <br> &lt;!ENTITY sbquo "‚Äö"&gt; <br> &lt;!ENTITY ldquo "‚Äú"&gt; <br> &lt;!ENTITY rdquo "‚Äù"&gt; <br> &lt;!ENTITY bdquo "‚Äû"&gt; <br> &lt;!ENTITY lsaquo "‚Äπ"&gt; <br> &lt;!ENTITY rsaquo "‚Ä∫" &gt; <br> &lt;!ENTITY euro "‚Ç¨"&gt; <br> ]&gt; <br></strong></code> <br>      <strong>XML-</strong> .   <code>&lt;?xml version="1.0" encoding="windows-1251"?&gt;</code> . <br> <br>  XHML- <br> XSL-    XHTML- (   ).  XHTML-,  ,   <strong></strong> . <br> <br>      . <br> <br>   XHML-  ,    ,       : <br>  (   ).    -    ,      . / . <br>        HTML-: <br> <code><a href="https://habr.com/ru/post/22236/"></a> <a href="https://habr.com/ru/post/22236/"></a> <a href="https://habr.com/ru/post/22236/"></a> ... <br> <br>   <br> <br> <br> ... <br> <br>    <br> <br> ... <br> <br>   <br> <br> ... <br> <br>  <br> <br> ...</code> <br> <br>   XSL- <br>   XSL-   : <br> <code>&lt;xsl:stylesheet version = '1.0' encoding="UTF-8"?&gt; <br> &lt;xsl:template match="element"&gt; <br>   <br> &lt;/xsl:template&gt; <br> &lt;/xsl:stylesheet&gt;</code> <br> <br> : <code>&lt;xsl:stylesheet version = '1.0' encoding="UTF-8"?&gt;</code> -   <strong>XML-</strong>  .   <strong>UTF-8</strong> ( , ). <br> <code>&lt;xsl:stylesheet&gt; &lt;/xsl:stylesheet&gt;</code> -    XSL-. <br> <code>&lt;xsl:template match="element"&gt; &lt;/xsl:template&gt;</code> -       element. <br> <br>       : <br> <code>&lt;xsl:template match="element"&gt;&lt;/xsl:template&gt;</code> - ,     <strong>element</strong> .      <strong>element</strong> . <code>&lt;xsl:template match="element" mode="mode1"&gt;&lt;/xsl:template&gt;</code> - ,     <strong>element</strong>   <strong>mode1</strong> .         <strong>element</strong> . <code>&lt;xsl:template name="template-name"&gt;&lt;/xsl:template&gt;</code> -    <strong>template-name</strong> .     -  <strong>XML-</strong> . <br>           <strong>XML-</strong> (,  XML-,    item      ),      " "  : <br> <code>&lt;xsl:template match="navigation/sections/item"&gt;&lt;/xsl:template&gt;</code> <br>  ,    , ..,      ,  ,  , ..      <strong>navigation</strong> ,      <strong>navigation/sections/item</strong>     <strong>sections/item</strong> . <br> <br>    <br>  ,         -      .  ,        <strong>xsl-</strong> .            . <br> <br>       <strong>xsl</strong>    . <br> <br> ,        (       )   : <br> <strong>template_folder</strong> -    .      ,  <strong>my_template</strong> . <strong>dtd</strong> -    .   . <strong>lang</strong> -      (      ). <strong>mod</strong> -  . <br>       <strong>xsl/my_template</strong>   ,  <strong>layout.xsl</strong>  : <br> <code>&lt;?xml version="1.0" encoding="UTF-8"?&gt; <br> &lt;!DOCTYPE xsl:stylesheet SYSTEM "../dtd/entities.dtd"&gt; <br> &lt;xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform"&gt; <br> <br> &lt;xsl:template match="/node()"&gt; <br> &lt;/xsl:template&gt; <br> <br> &lt;/xsl:stylesheet&gt; <br></code> <br> : <br> <code>&lt;xsl:template match="/node()"&gt; &lt;/xsl:template&gt;</code> -    <strong>/node()</strong> ().  <strong>/node()</strong>   <strong>//document</strong> , ..      . <br> <br>   XHTML-   <code>&lt;xsl:template match="/node()"&gt;&lt;/xsl:template&gt;</code> <br> <br>        <strong>XML-</strong> .   , <strong>XSL-</strong>   <strong>XML-</strong>  <strong>XHTML-</strong>  . <br> <br> ,    <strong>XSL</strong>   <strong>template.xsl</strong> (, <strong>template</strong> -   ),     : <br> <code>&lt;?xml version="1.0" encoding="UTF-8"?&gt; <br> &lt;xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform"&gt; <br> <br> &lt;xsl:import href=" my_template /layout.xsl"/&gt; <br> &lt;/xsl:stylesheet&gt; <br></code> <br> : <br> <code>&lt;xsl:import href="my_template/layout.xsl"/&gt;</code> <br>    XSL- ( <strong>XSL-</strong> )   .     . <br> <br>       <br>       , ..     XML-    . <br> <br>   -    . <br> <br>        ,   <strong>XML-</strong>   : <br> <code><br> &lt;item id="0" parent_id="0" is_published="1" section="1"&gt; <br>  <br> / <br> <br> &lt;item id="1" parent_id="0" is_published="1" section="1" hit="yes"&gt; <br>  <br> news <br> <br></code> <br> <br> <br>      : <br>  <strong>id</strong>    <strong>document</strong> -    <strong>id</strong>  .  <strong>hit</strong>   <strong>item</strong> -   ,   ,    "  ". <br> ,  ,         : <br> <strong>sections</strong> -   . <strong>item</strong> -  . <br>  ,  ,   <strong>item</strong>     <strong>item</strong> ,   ,     : <br> <code><br> <br></code> <br> <br> 1.    xsl/my_template  navigation.xsl  : <br> <code>&lt;?xml version="1.0" encoding="UTF-8"?&gt; <br> &lt;!DOCTYPE xsl:stylesheet SYSTEM "../dtd/entities.dtd"&gt; <br> &lt;xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform"&gt; <br> <br> &lt;xsl:template match="sections" mode="global_menu"&gt; <br> &lt;/xsl:template&gt; <br> <br> &lt;/xsl:stylesheet&gt;</code> <br> <br> 2.         <strong>layout.xsl</strong> : <br> <code><a href="https://habr.com/"></a> <a href="https://habr.com/sections/"></a> <a href="https://habr.com/news/"></a> <br> &lt;xsl:template match="sections" mode="global_menu"&gt; <br>    <br> &lt;/xsl:template&gt; <br></code> <br> <br> 3. ‚Ä¶      <strong>layout.xsl</strong>     : <br> <code><br> &lt;xsl:apply-templates select="navigation/sections" mode="global_menu"/&gt; <br> <br></code> <br> : <br> <strong>select="navigation/sections"</strong> -  ( ) - .  ,     <strong>navigation/sections</strong> . <br> <br> <strong>mode="global_menu"</strong> -     <strong>global_menu</strong> .      ,        , ,  " ",  -         . <br> <br> 4. ,    layout.xsl     <strong>navigation.xsl</strong> : <br> <code>&lt;xsl:import href="navigation.xsl"/&gt;</code> <br> <br> 5. ,    <strong>navigation.xsl</strong>   ,    : <br> <code><br> &lt;xsl:template match="item" mode="global_menu"&gt; <br> &lt;xsl:call-template name="href_attribute"/&gt; <br> &lt;xsl:value-of select="title"/&gt; <br> <br> <br> &lt;/xsl:template&gt; <br> <br></code> <br> : <br> <code>&lt;xsl:call-template name="href_attribute"/&gt;</code> -    .        , ..  . <br> <br> <code>&lt;xsl:value-of select="title"/&gt;</code> - -   title  .         <strong>@</strong> -      . <br> <br> 6.    <strong>sections</strong> : <br> <code><br> &lt;xsl:template match="sections" mode="global_menu"&gt; <br> <br> &lt;/xsl:template&gt; <br> <br></code> <br> : <br> <code>&lt;xsl:apply-templates select="item" mode="global_menu"/&gt;</code> -    <strong>item</strong>  <strong>sections</strong> .  ,  <strong>item</strong>   <strong>item</strong> ( <strong>sections/item/item</strong> )   , ..      . <br> <br>     <strong>item</strong> ( )   .  ,         : <code>&lt;xsl:call-template name="href_attribute"/&gt;</code> <br> <br>      <strong>uri-</strong>    .    . <br> <br> 7.     , <br>   ,    .            <strong>item</strong> : <br> <code><br> &lt;xsl:template match="item" mode="global_menu"&gt; <br> <br> &lt;xsl:choose&gt; <br> <br> &lt;xsl:when test="descendant-or-self::*/@id = /node()/@id"&gt; <br> &lt;xsl:value-of select="title"/&gt; <br> &lt;/xsl:when&gt; <br> <br> &lt;xsl:otherwise&gt; <br> &lt;xsl:call-template name="href_attribute"/&gt; <br> &lt;xsl:value-of select="title"/&gt; <br> <br> &lt;/xsl:otherwise&gt; <br> &lt;/xsl:choose&gt; <br> <br> &lt;/xsl:template&gt; <br> <br></code> <br>      : <br> <code>&lt;xsl:choose&gt; <br> &lt;xsl:when&gt;&lt;/xsl:when&gt; <br> &lt;xsl:otherwise&gt;&lt;/xsl:otherwise&gt; <br> &lt;/xsl:choose&gt; <br></code> <br> ‚Ä¶, ,     <strong>XML-</strong> .      : <code>&lt;xsl:when test="descendant-or-self::*/@id = /node()/@id"&gt;</code> <br> <br>        <strong>ID</strong>    ( <strong>document</strong> )    ( <strong>item</strong> ),   ,    . <br> <br>   <code>&lt;xsl:when&gt;&lt;/xsl:when&gt;</code>  ,      .   <code>&lt;xsl:otherwise&gt;&lt;/xsl:otherwise&gt;</code> -    . <br> <br> 8. ,   <strong>href_attribute</strong> : <br> <code><br> &lt;xsl:template name="href_attribute"&gt; <br> &lt;xsl:attribute name="href"&gt; <br> &lt;xsl:text&gt;/&lt;/xsl:text&gt; <br> &lt;xsl:for-each select="ancestor-or-self::item"&gt; <br> &lt;xsl:value-of select="dir"/&gt; <br> &lt;xsl:text&gt;/&lt;/xsl:text&gt; <br> &lt;/xsl:for-each&gt; <br> &lt;/xsl:attribute&gt; <br> &lt;/xsl:template&gt; <br></code> <br> <br>      <strong>xsl:attribute</strong> .          .         <strong>a</strong> , ,      <strong>href</strong> , .. . <br> <br>  <code>&lt;xsl:for-each select="ancestor-or-self::item"&gt;</code>      ,  .      <strong>ancestor-or-self::item</strong> -         .           <strong>dir</strong> , ..     -. <br> <br> ,   -  ,       . ,   <a href="http://habrahabr.ru/blog/webdev/38433.html">  </a> . <br> <br> <strong>UPD:</strong> <br>   .   ,  : <br> <a href="">parser.proc.ru/iso/xslt-1.zip</a> <br> <br>        (       )           Apache. <br> <br>    XML-   /xsl/document.xml</code></code></code></code></code> </li> </ul> <code><code><code><code>-    (   ). : <br> <strong>Lang</strong> -  .     . <strong>Id</strong> -   . <br> &lt;lang_table&gt;</code> -  ,   . <br> <code>-   : <br> -    (  ): <br> &lt;item id="0" parent_id="0" is_published="1" section="1"&gt;</code> -   . : <br> <strong>Id</strong> -  . <strong>Parent_id</strong> -   . <strong>Is_published</strong> -   . <strong>Dir</strong> - uri- .     . <strong>Section</strong> -  .         . <br> <code><code><code>-  . <br>   CMS   :        : <br> <strong>Html</strong> -  .  ,    . <strong>Com</strong> - -.  ,      CMS: , ,    .. <br>  <strong>XSL-</strong>   ,     .       . <br> <br> CMS       <strong> ,      : <br> : <br> <strong>Id</strong> -  . <br> <strong>Container</strong> - - (    ). <br> <strong>Sorting</strong> -    . <br> <strong>Type</strong> - : <br> <strong>Com</strong> - - <br> <strong>Html</strong> -  . <br> <strong>Method</strong> -  . <br> <strong>Title</strong> -  . <br> <strong>DTD</strong>     (    ): <br> &lt;!DOCTYPE site_page [ <br> <br> &lt;!ENTITY nbsp " "&gt; <br> &lt;!ENTITY sect "¬ß" &gt; <br> &lt;!ENTITY copy "¬©"&gt; <br> &lt;!ENTITY laquo "¬´"&gt; <br> &lt;!ENTITY reg "¬Æ"&gt; <br> &lt;!ENTITY deg "¬∞"&gt; <br> &lt;!ENTITY plusmn "¬±"&gt; <br> &lt;!ENTITY para "¬∂"&gt; <br> &lt;!ENTITY raquo "¬ª"&gt; <br> &lt;!ENTITY times "√ó"&gt; <br> <br> <br> <br> &lt;!ENTITY bull "‚Ä¢"&gt; <br> &lt;!ENTITY hellip "‚Ä¶"&gt; <br> <br> <br> <br> &lt;!ENTITY ndash "‚Äì"&gt; <br> &lt;!ENTITY mdash "‚Äî"&gt; <br> &lt;!ENTITY lsquo "'"&gt; <br> &lt;!ENTITY rsquo "'"&gt; <br> &lt;!ENTITY sbquo "‚Äö"&gt; <br> &lt;!ENTITY ldquo "‚Äú"&gt; <br> &lt;!ENTITY rdquo "‚Äù"&gt; <br> &lt;!ENTITY bdquo "‚Äû"&gt; <br> &lt;!ENTITY lsaquo "‚Äπ"&gt; <br> &lt;!ENTITY rsaquo "‚Ä∫" &gt; <br> &lt;!ENTITY euro "‚Ç¨"&gt; <br> ]&gt; <br></strong></code> <br>      <strong>XML-</strong> .   <code>&lt;?xml version="1.0" encoding="windows-1251"?&gt;</code> . <br> <br>  XHML- <br> XSL-    XHTML- (   ).  XHTML-,  ,   <strong></strong> . <br> <br>      . <br> <br>   XHML-  ,    ,       : <br>  (   ).    -    ,      . / . <br>        HTML-: <br> <code><a href="https://habr.com/ru/post/22236/"></a> <a href="https://habr.com/ru/post/22236/"></a> <a href="https://habr.com/ru/post/22236/"></a> ... <br> <br>   <br> <br> <br> ... <br> <br>    <br> <br> ... <br> <br>   <br> <br> ... <br> <br>  <br> <br> ...</code> <br> <br>   XSL- <br>   XSL-   : <br> <code>&lt;xsl:stylesheet version = '1.0' encoding="UTF-8"?&gt; <br> &lt;xsl:template match="element"&gt; <br>   <br> &lt;/xsl:template&gt; <br> &lt;/xsl:stylesheet&gt;</code> <br> <br> : <code>&lt;xsl:stylesheet version = '1.0' encoding="UTF-8"?&gt;</code> -   <strong>XML-</strong>  .   <strong>UTF-8</strong> ( , ). <br> <code>&lt;xsl:stylesheet&gt; &lt;/xsl:stylesheet&gt;</code> -    XSL-. <br> <code>&lt;xsl:template match="element"&gt; &lt;/xsl:template&gt;</code> -       element. <br> <br>       : <br> <code>&lt;xsl:template match="element"&gt;&lt;/xsl:template&gt;</code> - ,     <strong>element</strong> .      <strong>element</strong> . <code>&lt;xsl:template match="element" mode="mode1"&gt;&lt;/xsl:template&gt;</code> - ,     <strong>element</strong>   <strong>mode1</strong> .         <strong>element</strong> . <code>&lt;xsl:template name="template-name"&gt;&lt;/xsl:template&gt;</code> -    <strong>template-name</strong> .     -  <strong>XML-</strong> . <br>           <strong>XML-</strong> (,  XML-,    item      ),      " "  : <br> <code>&lt;xsl:template match="navigation/sections/item"&gt;&lt;/xsl:template&gt;</code> <br>  ,    , ..,      ,  ,  , ..      <strong>navigation</strong> ,      <strong>navigation/sections/item</strong>     <strong>sections/item</strong> . <br> <br>    <br>  ,         -      .  ,        <strong>xsl-</strong> .            . <br> <br>       <strong>xsl</strong>    . <br> <br> ,        (       )   : <br> <strong>template_folder</strong> -    .      ,  <strong>my_template</strong> . <strong>dtd</strong> -    .   . <strong>lang</strong> -      (      ). <strong>mod</strong> -  . <br>       <strong>xsl/my_template</strong>   ,  <strong>layout.xsl</strong>  : <br> <code>&lt;?xml version="1.0" encoding="UTF-8"?&gt; <br> &lt;!DOCTYPE xsl:stylesheet SYSTEM "../dtd/entities.dtd"&gt; <br> &lt;xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform"&gt; <br> <br> &lt;xsl:template match="/node()"&gt; <br> &lt;/xsl:template&gt; <br> <br> &lt;/xsl:stylesheet&gt; <br></code> <br> : <br> <code>&lt;xsl:template match="/node()"&gt; &lt;/xsl:template&gt;</code> -    <strong>/node()</strong> ().  <strong>/node()</strong>   <strong>//document</strong> , ..      . <br> <br>   XHTML-   <code>&lt;xsl:template match="/node()"&gt;&lt;/xsl:template&gt;</code> <br> <br>        <strong>XML-</strong> .   , <strong>XSL-</strong>   <strong>XML-</strong>  <strong>XHTML-</strong>  . <br> <br> ,    <strong>XSL</strong>   <strong>template.xsl</strong> (, <strong>template</strong> -   ),     : <br> <code>&lt;?xml version="1.0" encoding="UTF-8"?&gt; <br> &lt;xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform"&gt; <br> <br> &lt;xsl:import href=" my_template /layout.xsl"/&gt; <br> &lt;/xsl:stylesheet&gt; <br></code> <br> : <br> <code>&lt;xsl:import href="my_template/layout.xsl"/&gt;</code> <br>    XSL- ( <strong>XSL-</strong> )   .     . <br> <br>       <br>       , ..     XML-    . <br> <br>   -    . <br> <br>        ,   <strong>XML-</strong>   : <br> <code><br> &lt;item id="0" parent_id="0" is_published="1" section="1"&gt; <br>  <br> / <br> <br> &lt;item id="1" parent_id="0" is_published="1" section="1" hit="yes"&gt; <br>  <br> news <br> <br></code> <br> <br> <br>      : <br>  <strong>id</strong>    <strong>document</strong> -    <strong>id</strong>  .  <strong>hit</strong>   <strong>item</strong> -   ,   ,    "  ". <br> ,  ,         : <br> <strong>sections</strong> -   . <strong>item</strong> -  . <br>  ,  ,   <strong>item</strong>     <strong>item</strong> ,   ,     : <br> <code><br> <br></code> <br> <br> 1.    xsl/my_template  navigation.xsl  : <br> <code>&lt;?xml version="1.0" encoding="UTF-8"?&gt; <br> &lt;!DOCTYPE xsl:stylesheet SYSTEM "../dtd/entities.dtd"&gt; <br> &lt;xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform"&gt; <br> <br> &lt;xsl:template match="sections" mode="global_menu"&gt; <br> &lt;/xsl:template&gt; <br> <br> &lt;/xsl:stylesheet&gt;</code> <br> <br> 2.         <strong>layout.xsl</strong> : <br> <code><a href="https://habr.com/"></a> <a href="https://habr.com/sections/"></a> <a href="https://habr.com/news/"></a> <br> &lt;xsl:template match="sections" mode="global_menu"&gt; <br>    <br> &lt;/xsl:template&gt; <br></code> <br> <br> 3. ‚Ä¶      <strong>layout.xsl</strong>     : <br> <code><br> &lt;xsl:apply-templates select="navigation/sections" mode="global_menu"/&gt; <br> <br></code> <br> : <br> <strong>select="navigation/sections"</strong> -  ( ) - .  ,     <strong>navigation/sections</strong> . <br> <br> <strong>mode="global_menu"</strong> -     <strong>global_menu</strong> .      ,        , ,  " ",  -         . <br> <br> 4. ,    layout.xsl     <strong>navigation.xsl</strong> : <br> <code>&lt;xsl:import href="navigation.xsl"/&gt;</code> <br> <br> 5. ,    <strong>navigation.xsl</strong>   ,    : <br> <code><br> &lt;xsl:template match="item" mode="global_menu"&gt; <br> &lt;xsl:call-template name="href_attribute"/&gt; <br> &lt;xsl:value-of select="title"/&gt; <br> <br> <br> &lt;/xsl:template&gt; <br> <br></code> <br> : <br> <code>&lt;xsl:call-template name="href_attribute"/&gt;</code> -    .        , ..  . <br> <br> <code>&lt;xsl:value-of select="title"/&gt;</code> - -   title  .         <strong>@</strong> -      . <br> <br> 6.    <strong>sections</strong> : <br> <code><br> &lt;xsl:template match="sections" mode="global_menu"&gt; <br> <br> &lt;/xsl:template&gt; <br> <br></code> <br> : <br> <code>&lt;xsl:apply-templates select="item" mode="global_menu"/&gt;</code> -    <strong>item</strong>  <strong>sections</strong> .  ,  <strong>item</strong>   <strong>item</strong> ( <strong>sections/item/item</strong> )   , ..      . <br> <br>     <strong>item</strong> ( )   .  ,         : <code>&lt;xsl:call-template name="href_attribute"/&gt;</code> <br> <br>      <strong>uri-</strong>    .    . <br> <br> 7.     , <br>   ,    .            <strong>item</strong> : <br> <code><br> &lt;xsl:template match="item" mode="global_menu"&gt; <br> <br> &lt;xsl:choose&gt; <br> <br> &lt;xsl:when test="descendant-or-self::*/@id = /node()/@id"&gt; <br> &lt;xsl:value-of select="title"/&gt; <br> &lt;/xsl:when&gt; <br> <br> &lt;xsl:otherwise&gt; <br> &lt;xsl:call-template name="href_attribute"/&gt; <br> &lt;xsl:value-of select="title"/&gt; <br> <br> &lt;/xsl:otherwise&gt; <br> &lt;/xsl:choose&gt; <br> <br> &lt;/xsl:template&gt; <br> <br></code> <br>      : <br> <code>&lt;xsl:choose&gt; <br> &lt;xsl:when&gt;&lt;/xsl:when&gt; <br> &lt;xsl:otherwise&gt;&lt;/xsl:otherwise&gt; <br> &lt;/xsl:choose&gt; <br></code> <br> ‚Ä¶, ,     <strong>XML-</strong> .      : <code>&lt;xsl:when test="descendant-or-self::*/@id = /node()/@id"&gt;</code> <br> <br>        <strong>ID</strong>    ( <strong>document</strong> )    ( <strong>item</strong> ),   ,    . <br> <br>   <code>&lt;xsl:when&gt;&lt;/xsl:when&gt;</code>  ,      .   <code>&lt;xsl:otherwise&gt;&lt;/xsl:otherwise&gt;</code> -    . <br> <br> 8. ,   <strong>href_attribute</strong> : <br> <code><br> &lt;xsl:template name="href_attribute"&gt; <br> &lt;xsl:attribute name="href"&gt; <br> &lt;xsl:text&gt;/&lt;/xsl:text&gt; <br> &lt;xsl:for-each select="ancestor-or-self::item"&gt; <br> &lt;xsl:value-of select="dir"/&gt; <br> &lt;xsl:text&gt;/&lt;/xsl:text&gt; <br> &lt;/xsl:for-each&gt; <br> &lt;/xsl:attribute&gt; <br> &lt;/xsl:template&gt; <br></code> <br> <br>      <strong>xsl:attribute</strong> .          .         <strong>a</strong> , ,      <strong>href</strong> , .. . <br> <br>  <code>&lt;xsl:for-each select="ancestor-or-self::item"&gt;</code>      ,  .      <strong>ancestor-or-self::item</strong> -         .           <strong>dir</strong> , ..     -. <br> <br> ,   -  ,       . ,   <a href="http://habrahabr.ru/blog/webdev/38433.html">  </a> . <br> <br> <strong>UPD:</strong> <br>   .   ,  : <br> <a href="">parser.proc.ru/iso/xslt-1.zip</a> <br> <br>        (       )           Apache. <br> <br>    XML-   /xsl/document.xml</code></code></code></code></code> <ul><li> <code><code><code><code><code><code><code>-    (   ). : <br> <strong>Lang</strong> -  .     . <strong>Id</strong> -   . <br> &lt;lang_table&gt;</code> -  ,   . <br> <code>-   : <br> -    (  ): <br> &lt;item id="0" parent_id="0" is_published="1" section="1"&gt;</code> -   . : <br> <strong>Id</strong> -  . <strong>Parent_id</strong> -   . <strong>Is_published</strong> -   . <strong>Dir</strong> - uri- .     . <strong>Section</strong> -  .         . <br> -  . <br>   CMS   :        : <br> <strong>Html</strong> -  .  ,    . <strong>Com</strong> - -.  ,      CMS: , ,    .. <br>  <strong>XSL-</strong>   ,     .       . <br> <br> CMS       <strong> ,      : <br> : <br> <strong>Id</strong> -  . <br> <strong>Container</strong> - - (    ). <br> <strong>Sorting</strong> -    . <br> <strong>Type</strong> - : <br> <strong>Com</strong> - - <br> <strong>Html</strong> -  . <br> <strong>Method</strong> -  . <br> <strong>Title</strong> -  . <br> <strong>DTD</strong>     (    ): <br> &lt;!DOCTYPE site_page [ <br> <br> &lt;!ENTITY nbsp " "&gt; <br> &lt;!ENTITY sect "¬ß" &gt; <br> &lt;!ENTITY copy "¬©"&gt; <br> &lt;!ENTITY laquo "¬´"&gt; <br> &lt;!ENTITY reg "¬Æ"&gt; <br> &lt;!ENTITY deg "¬∞"&gt; <br> &lt;!ENTITY plusmn "¬±"&gt; <br> &lt;!ENTITY para "¬∂"&gt; <br> &lt;!ENTITY raquo "¬ª"&gt; <br> &lt;!ENTITY times "√ó"&gt; <br> <br> <br> <br> &lt;!ENTITY bull "‚Ä¢"&gt; <br> &lt;!ENTITY hellip "‚Ä¶"&gt; <br> <br> <br> <br> &lt;!ENTITY ndash "‚Äì"&gt; <br> &lt;!ENTITY mdash "‚Äî"&gt; <br> &lt;!ENTITY lsquo "'"&gt; <br> &lt;!ENTITY rsquo "'"&gt; <br> &lt;!ENTITY sbquo "‚Äö"&gt; <br> &lt;!ENTITY ldquo "‚Äú"&gt; <br> &lt;!ENTITY rdquo "‚Äù"&gt; <br> &lt;!ENTITY bdquo "‚Äû"&gt; <br> &lt;!ENTITY lsaquo "‚Äπ"&gt; <br> &lt;!ENTITY rsaquo "‚Ä∫" &gt; <br> &lt;!ENTITY euro "‚Ç¨"&gt; <br> ]&gt; <br></strong> <br>      <strong>XML-</strong> .   <code>&lt;?xml version="1.0" encoding="windows-1251"?&gt;</code> . <br> <br>  XHML- <br> XSL-    XHTML- (   ).  XHTML-,  ,   <strong></strong> . <br> <br>      . <br> <br>   XHML-  ,    ,       : <br>  (   ).    -    ,      . / . <br>        HTML-: <br> <code><a href="https://habr.com/ru/post/22236/"></a> <a href="https://habr.com/ru/post/22236/"></a> <a href="https://habr.com/ru/post/22236/"></a> ... <br> <br>   <br> <br> <br> ... <br> <br>    <br> <br> ... <br> <br>   <br> <br> ... <br> <br>  <br> <br> ...</code> <br> <br>   XSL- <br>   XSL-   : <br> <code>&lt;xsl:stylesheet version = '1.0' encoding="UTF-8"?&gt; <br> &lt;xsl:template match="element"&gt; <br>   <br> &lt;/xsl:template&gt; <br> &lt;/xsl:stylesheet&gt;</code> <br> <br> : <code>&lt;xsl:stylesheet version = '1.0' encoding="UTF-8"?&gt;</code> -   <strong>XML-</strong>  .   <strong>UTF-8</strong> ( , ). <br> <code>&lt;xsl:stylesheet&gt; &lt;/xsl:stylesheet&gt;</code> -    XSL-. <br> <code>&lt;xsl:template match="element"&gt; &lt;/xsl:template&gt;</code> -       element. <br> <br>       : <br> <code>&lt;xsl:template match="element"&gt;&lt;/xsl:template&gt;</code> - ,     <strong>element</strong> .      <strong>element</strong> . <code>&lt;xsl:template match="element" mode="mode1"&gt;&lt;/xsl:template&gt;</code> - ,     <strong>element</strong>   <strong>mode1</strong> .         <strong>element</strong> . <code>&lt;xsl:template name="template-name"&gt;&lt;/xsl:template&gt;</code> -    <strong>template-name</strong> .     -  <strong>XML-</strong> . <br>           <strong>XML-</strong> (,  XML-,    item      ),      " "  : <br> <code>&lt;xsl:template match="navigation/sections/item"&gt;&lt;/xsl:template&gt;</code> <br>  ,    , ..,      ,  ,  , ..      <strong>navigation</strong> ,      <strong>navigation/sections/item</strong>     <strong>sections/item</strong> . <br> <br>    <br>  ,         -      .  ,        <strong>xsl-</strong> .            . <br> <br>       <strong>xsl</strong>    . <br> <br> ,        (       )   : <br> <strong>template_folder</strong> -    .      ,  <strong>my_template</strong> . <strong>dtd</strong> -    .   . <strong>lang</strong> -      (      ). <strong>mod</strong> -  . <br>       <strong>xsl/my_template</strong>   ,  <strong>layout.xsl</strong>  : <br> <code>&lt;?xml version="1.0" encoding="UTF-8"?&gt; <br> &lt;!DOCTYPE xsl:stylesheet SYSTEM "../dtd/entities.dtd"&gt; <br> &lt;xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform"&gt; <br> <br> &lt;xsl:template match="/node()"&gt; <br> &lt;/xsl:template&gt; <br> <br> &lt;/xsl:stylesheet&gt; <br></code> <br> : <br> <code>&lt;xsl:template match="/node()"&gt; &lt;/xsl:template&gt;</code> -    <strong>/node()</strong> ().  <strong>/node()</strong>   <strong>//document</strong> , ..      . <br> <br>   XHTML-   <code>&lt;xsl:template match="/node()"&gt;&lt;/xsl:template&gt;</code> <br> <br>        <strong>XML-</strong> .   , <strong>XSL-</strong>   <strong>XML-</strong>  <strong>XHTML-</strong>  . <br> <br> ,    <strong>XSL</strong>   <strong>template.xsl</strong> (, <strong>template</strong> -   ),     : <br> <code>&lt;?xml version="1.0" encoding="UTF-8"?&gt; <br> &lt;xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform"&gt; <br> <br> &lt;xsl:import href=" my_template /layout.xsl"/&gt; <br> &lt;/xsl:stylesheet&gt; <br></code> <br> : <br> <code>&lt;xsl:import href="my_template/layout.xsl"/&gt;</code> <br>    XSL- ( <strong>XSL-</strong> )   .     . <br> <br>       <br>       , ..     XML-    . <br> <br>   -    . <br> <br>        ,   <strong>XML-</strong>   : <br> <code><br> &lt;item id="0" parent_id="0" is_published="1" section="1"&gt; <br>  <br> / <br> <br> &lt;item id="1" parent_id="0" is_published="1" section="1" hit="yes"&gt; <br>  <br> news <br> <br></code> <br> <br> <br>      : <br>  <strong>id</strong>    <strong>document</strong> -    <strong>id</strong>  .  <strong>hit</strong>   <strong>item</strong> -   ,   ,    "  ". <br> ,  ,         : <br> <strong>sections</strong> -   . <strong>item</strong> -  . <br>  ,  ,   <strong>item</strong>     <strong>item</strong> ,   ,     : <br> <code><br> <br></code> <br> <br> 1.    xsl/my_template  navigation.xsl  : <br> <code>&lt;?xml version="1.0" encoding="UTF-8"?&gt; <br> &lt;!DOCTYPE xsl:stylesheet SYSTEM "../dtd/entities.dtd"&gt; <br> &lt;xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform"&gt; <br> <br> &lt;xsl:template match="sections" mode="global_menu"&gt; <br> &lt;/xsl:template&gt; <br> <br> &lt;/xsl:stylesheet&gt;</code> <br> <br> 2.         <strong>layout.xsl</strong> : <br> <code><a href="https://habr.com/"></a> <a href="https://habr.com/sections/"></a> <a href="https://habr.com/news/"></a> <br> &lt;xsl:template match="sections" mode="global_menu"&gt; <br>    <br> &lt;/xsl:template&gt; <br></code> <br> <br> 3. ‚Ä¶      <strong>layout.xsl</strong>     : <br> <code><br> &lt;xsl:apply-templates select="navigation/sections" mode="global_menu"/&gt; <br> <br></code> <br> : <br> <strong>select="navigation/sections"</strong> -  ( ) - .  ,     <strong>navigation/sections</strong> . <br> <br> <strong>mode="global_menu"</strong> -     <strong>global_menu</strong> .      ,        , ,  " ",  -         . <br> <br> 4. ,    layout.xsl     <strong>navigation.xsl</strong> : <br> <code>&lt;xsl:import href="navigation.xsl"/&gt;</code> <br> <br> 5. ,    <strong>navigation.xsl</strong>   ,    : <br> <code><br> &lt;xsl:template match="item" mode="global_menu"&gt; <br> &lt;xsl:call-template name="href_attribute"/&gt; <br> &lt;xsl:value-of select="title"/&gt; <br> <br> <br> &lt;/xsl:template&gt; <br> <br></code> <br> : <br> <code>&lt;xsl:call-template name="href_attribute"/&gt;</code> -    .        , ..  . <br> <br> <code>&lt;xsl:value-of select="title"/&gt;</code> - -   title  .         <strong>@</strong> -      . <br> <br> 6.    <strong>sections</strong> : <br> <code><br> &lt;xsl:template match="sections" mode="global_menu"&gt; <br> <br> &lt;/xsl:template&gt; <br> <br></code> <br> : <br> <code>&lt;xsl:apply-templates select="item" mode="global_menu"/&gt;</code> -    <strong>item</strong>  <strong>sections</strong> .  ,  <strong>item</strong>   <strong>item</strong> ( <strong>sections/item/item</strong> )   , ..      . <br> <br>     <strong>item</strong> ( )   .  ,         : <code>&lt;xsl:call-template name="href_attribute"/&gt;</code> <br> <br>      <strong>uri-</strong>    .    . <br> <br> 7.     , <br>   ,    .            <strong>item</strong> : <br> <code><br> &lt;xsl:template match="item" mode="global_menu"&gt; <br> <br> &lt;xsl:choose&gt; <br> <br> &lt;xsl:when test="descendant-or-self::*/@id = /node()/@id"&gt; <br> &lt;xsl:value-of select="title"/&gt; <br> &lt;/xsl:when&gt; <br> <br> &lt;xsl:otherwise&gt; <br> &lt;xsl:call-template name="href_attribute"/&gt; <br> &lt;xsl:value-of select="title"/&gt; <br> <br> &lt;/xsl:otherwise&gt; <br> &lt;/xsl:choose&gt; <br> <br> &lt;/xsl:template&gt; <br> <br></code> <br>      : <br> <code>&lt;xsl:choose&gt; <br> &lt;xsl:when&gt;&lt;/xsl:when&gt; <br> &lt;xsl:otherwise&gt;&lt;/xsl:otherwise&gt; <br> &lt;/xsl:choose&gt; <br></code> <br> ‚Ä¶, ,     <strong>XML-</strong> .      : <code>&lt;xsl:when test="descendant-or-self::*/@id = /node()/@id"&gt;</code> <br> <br>        <strong>ID</strong>    ( <strong>document</strong> )    ( <strong>item</strong> ),   ,    . <br> <br>   <code>&lt;xsl:when&gt;&lt;/xsl:when&gt;</code>  ,      .   <code>&lt;xsl:otherwise&gt;&lt;/xsl:otherwise&gt;</code> -    . <br> <br> 8. ,   <strong>href_attribute</strong> : <br> <code><br> &lt;xsl:template name="href_attribute"&gt; <br> &lt;xsl:attribute name="href"&gt; <br> &lt;xsl:text&gt;/&lt;/xsl:text&gt; <br> &lt;xsl:for-each select="ancestor-or-self::item"&gt; <br> &lt;xsl:value-of select="dir"/&gt; <br> &lt;xsl:text&gt;/&lt;/xsl:text&gt; <br> &lt;/xsl:for-each&gt; <br> &lt;/xsl:attribute&gt; <br> &lt;/xsl:template&gt; <br></code> <br> <br>      <strong>xsl:attribute</strong> .          .         <strong>a</strong> , ,      <strong>href</strong> , .. . <br> <br>  <code>&lt;xsl:for-each select="ancestor-or-self::item"&gt;</code>      ,  .      <strong>ancestor-or-self::item</strong> -         .           <strong>dir</strong> , ..     -. <br> <br> ,   -  ,       . ,   <a href="http://habrahabr.ru/blog/webdev/38433.html">  </a> . <br> <br> <strong>UPD:</strong> <br>   .   ,  : <br> <a href="">parser.proc.ru/iso/xslt-1.zip</a> <br> <br>        (       )           Apache. <br> <br>    XML-   /xsl/document.xml</code></code></code></code></code></code> </li> <li> <code><code><code><code><code><code><code>-    (   ). : <br> <strong>Lang</strong> -  .     . <strong>Id</strong> -   . <br> &lt;lang_table&gt;</code> -  ,   . <br> <code>-   : <br> -    (  ): <br> &lt;item id="0" parent_id="0" is_published="1" section="1"&gt;</code> -   . : <br> <strong>Id</strong> -  . <strong>Parent_id</strong> -   . <strong>Is_published</strong> -   . <strong>Dir</strong> - uri- .     . <strong>Section</strong> -  .         . <br> -  . <br>   CMS   :        : <br> <strong>Html</strong> -  .  ,    . <strong>Com</strong> - -.  ,      CMS: , ,    .. <br>  <strong>XSL-</strong>   ,     .       . <br> <br> CMS       <strong> ,      : <br> : <br> <strong>Id</strong> -  . <br> <strong>Container</strong> - - (    ). <br> <strong>Sorting</strong> -    . <br> <strong>Type</strong> - : <br> <strong>Com</strong> - - <br> <strong>Html</strong> -  . <br> <strong>Method</strong> -  . <br> <strong>Title</strong> -  . <br> <strong>DTD</strong>     (    ): <br> &lt;!DOCTYPE site_page [ <br> <br> &lt;!ENTITY nbsp " "&gt; <br> &lt;!ENTITY sect "¬ß" &gt; <br> &lt;!ENTITY copy "¬©"&gt; <br> &lt;!ENTITY laquo "¬´"&gt; <br> &lt;!ENTITY reg "¬Æ"&gt; <br> &lt;!ENTITY deg "¬∞"&gt; <br> &lt;!ENTITY plusmn "¬±"&gt; <br> &lt;!ENTITY para "¬∂"&gt; <br> &lt;!ENTITY raquo "¬ª"&gt; <br> &lt;!ENTITY times "√ó"&gt; <br> <br> <br> <br> &lt;!ENTITY bull "‚Ä¢"&gt; <br> &lt;!ENTITY hellip "‚Ä¶"&gt; <br> <br> <br> <br> &lt;!ENTITY ndash "‚Äì"&gt; <br> &lt;!ENTITY mdash "‚Äî"&gt; <br> &lt;!ENTITY lsquo "'"&gt; <br> &lt;!ENTITY rsquo "'"&gt; <br> &lt;!ENTITY sbquo "‚Äö"&gt; <br> &lt;!ENTITY ldquo "‚Äú"&gt; <br> &lt;!ENTITY rdquo "‚Äù"&gt; <br> &lt;!ENTITY bdquo "‚Äû"&gt; <br> &lt;!ENTITY lsaquo "‚Äπ"&gt; <br> &lt;!ENTITY rsaquo "‚Ä∫" &gt; <br> &lt;!ENTITY euro "‚Ç¨"&gt; <br> ]&gt; <br></strong> <br>      <strong>XML-</strong> .   <code>&lt;?xml version="1.0" encoding="windows-1251"?&gt;</code> . <br> <br>  XHML- <br> XSL-    XHTML- (   ).  XHTML-,  ,   <strong></strong> . <br> <br>      . <br> <br>   XHML-  ,    ,       : <br>  (   ).    -    ,      . / . <br>        HTML-: <br> <code><a href="https://habr.com/ru/post/22236/"></a> <a href="https://habr.com/ru/post/22236/"></a> <a href="https://habr.com/ru/post/22236/"></a> ... <br> <br>   <br> <br> <br> ... <br> <br>    <br> <br> ... <br> <br>   <br> <br> ... <br> <br>  <br> <br> ...</code> <br> <br>   XSL- <br>   XSL-   : <br> <code>&lt;xsl:stylesheet version = '1.0' encoding="UTF-8"?&gt; <br> &lt;xsl:template match="element"&gt; <br>   <br> &lt;/xsl:template&gt; <br> &lt;/xsl:stylesheet&gt;</code> <br> <br> : <code>&lt;xsl:stylesheet version = '1.0' encoding="UTF-8"?&gt;</code> -   <strong>XML-</strong>  .   <strong>UTF-8</strong> ( , ). <br> <code>&lt;xsl:stylesheet&gt; &lt;/xsl:stylesheet&gt;</code> -    XSL-. <br> <code>&lt;xsl:template match="element"&gt; &lt;/xsl:template&gt;</code> -       element. <br> <br>       : <br> <code>&lt;xsl:template match="element"&gt;&lt;/xsl:template&gt;</code> - ,     <strong>element</strong> .      <strong>element</strong> . <code>&lt;xsl:template match="element" mode="mode1"&gt;&lt;/xsl:template&gt;</code> - ,     <strong>element</strong>   <strong>mode1</strong> .         <strong>element</strong> . <code>&lt;xsl:template name="template-name"&gt;&lt;/xsl:template&gt;</code> -    <strong>template-name</strong> .     -  <strong>XML-</strong> . <br>           <strong>XML-</strong> (,  XML-,    item      ),      " "  : <br> <code>&lt;xsl:template match="navigation/sections/item"&gt;&lt;/xsl:template&gt;</code> <br>  ,    , ..,      ,  ,  , ..      <strong>navigation</strong> ,      <strong>navigation/sections/item</strong>     <strong>sections/item</strong> . <br> <br>    <br>  ,         -      .  ,        <strong>xsl-</strong> .            . <br> <br>       <strong>xsl</strong>    . <br> <br> ,        (       )   : <br> <strong>template_folder</strong> -    .      ,  <strong>my_template</strong> . <strong>dtd</strong> -    .   . <strong>lang</strong> -      (      ). <strong>mod</strong> -  . <br>       <strong>xsl/my_template</strong>   ,  <strong>layout.xsl</strong>  : <br> <code>&lt;?xml version="1.0" encoding="UTF-8"?&gt; <br> &lt;!DOCTYPE xsl:stylesheet SYSTEM "../dtd/entities.dtd"&gt; <br> &lt;xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform"&gt; <br> <br> &lt;xsl:template match="/node()"&gt; <br> &lt;/xsl:template&gt; <br> <br> &lt;/xsl:stylesheet&gt; <br></code> <br> : <br> <code>&lt;xsl:template match="/node()"&gt; &lt;/xsl:template&gt;</code> -    <strong>/node()</strong> ().  <strong>/node()</strong>   <strong>//document</strong> , ..      . <br> <br>   XHTML-   <code>&lt;xsl:template match="/node()"&gt;&lt;/xsl:template&gt;</code> <br> <br>        <strong>XML-</strong> .   , <strong>XSL-</strong>   <strong>XML-</strong>  <strong>XHTML-</strong>  . <br> <br> ,    <strong>XSL</strong>   <strong>template.xsl</strong> (, <strong>template</strong> -   ),     : <br> <code>&lt;?xml version="1.0" encoding="UTF-8"?&gt; <br> &lt;xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform"&gt; <br> <br> &lt;xsl:import href=" my_template /layout.xsl"/&gt; <br> &lt;/xsl:stylesheet&gt; <br></code> <br> : <br> <code>&lt;xsl:import href="my_template/layout.xsl"/&gt;</code> <br>    XSL- ( <strong>XSL-</strong> )   .     . <br> <br>       <br>       , ..     XML-    . <br> <br>   -    . <br> <br>        ,   <strong>XML-</strong>   : <br> <code><br> &lt;item id="0" parent_id="0" is_published="1" section="1"&gt; <br>  <br> / <br> <br> &lt;item id="1" parent_id="0" is_published="1" section="1" hit="yes"&gt; <br>  <br> news <br> <br></code> <br> <br> <br>      : <br>  <strong>id</strong>    <strong>document</strong> -    <strong>id</strong>  .  <strong>hit</strong>   <strong>item</strong> -   ,   ,    "  ". <br> ,  ,         : <br> <strong>sections</strong> -   . <strong>item</strong> -  . <br>  ,  ,   <strong>item</strong>     <strong>item</strong> ,   ,     : <br> <code><br> <br></code> <br> <br> 1.    xsl/my_template  navigation.xsl  : <br> <code>&lt;?xml version="1.0" encoding="UTF-8"?&gt; <br> &lt;!DOCTYPE xsl:stylesheet SYSTEM "../dtd/entities.dtd"&gt; <br> &lt;xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform"&gt; <br> <br> &lt;xsl:template match="sections" mode="global_menu"&gt; <br> &lt;/xsl:template&gt; <br> <br> &lt;/xsl:stylesheet&gt;</code> <br> <br> 2.         <strong>layout.xsl</strong> : <br> <code><a href="https://habr.com/"></a> <a href="https://habr.com/sections/"></a> <a href="https://habr.com/news/"></a> <br> &lt;xsl:template match="sections" mode="global_menu"&gt; <br>    <br> &lt;/xsl:template&gt; <br></code> <br> <br> 3. ‚Ä¶      <strong>layout.xsl</strong>     : <br> <code><br> &lt;xsl:apply-templates select="navigation/sections" mode="global_menu"/&gt; <br> <br></code> <br> : <br> <strong>select="navigation/sections"</strong> -  ( ) - .  ,     <strong>navigation/sections</strong> . <br> <br> <strong>mode="global_menu"</strong> -     <strong>global_menu</strong> .      ,        , ,  " ",  -         . <br> <br> 4. ,    layout.xsl     <strong>navigation.xsl</strong> : <br> <code>&lt;xsl:import href="navigation.xsl"/&gt;</code> <br> <br> 5. ,    <strong>navigation.xsl</strong>   ,    : <br> <code><br> &lt;xsl:template match="item" mode="global_menu"&gt; <br> &lt;xsl:call-template name="href_attribute"/&gt; <br> &lt;xsl:value-of select="title"/&gt; <br> <br> <br> &lt;/xsl:template&gt; <br> <br></code> <br> : <br> <code>&lt;xsl:call-template name="href_attribute"/&gt;</code> -    .        , ..  . <br> <br> <code>&lt;xsl:value-of select="title"/&gt;</code> - -   title  .         <strong>@</strong> -      . <br> <br> 6.    <strong>sections</strong> : <br> <code><br> &lt;xsl:template match="sections" mode="global_menu"&gt; <br> <br> &lt;/xsl:template&gt; <br> <br></code> <br> : <br> <code>&lt;xsl:apply-templates select="item" mode="global_menu"/&gt;</code> -    <strong>item</strong>  <strong>sections</strong> .  ,  <strong>item</strong>   <strong>item</strong> ( <strong>sections/item/item</strong> )   , ..      . <br> <br>     <strong>item</strong> ( )   .  ,         : <code>&lt;xsl:call-template name="href_attribute"/&gt;</code> <br> <br>      <strong>uri-</strong>    .    . <br> <br> 7.     , <br>   ,    .            <strong>item</strong> : <br> <code><br> &lt;xsl:template match="item" mode="global_menu"&gt; <br> <br> &lt;xsl:choose&gt; <br> <br> &lt;xsl:when test="descendant-or-self::*/@id = /node()/@id"&gt; <br> &lt;xsl:value-of select="title"/&gt; <br> &lt;/xsl:when&gt; <br> <br> &lt;xsl:otherwise&gt; <br> &lt;xsl:call-template name="href_attribute"/&gt; <br> &lt;xsl:value-of select="title"/&gt; <br> <br> &lt;/xsl:otherwise&gt; <br> &lt;/xsl:choose&gt; <br> <br> &lt;/xsl:template&gt; <br> <br></code> <br>      : <br> <code>&lt;xsl:choose&gt; <br> &lt;xsl:when&gt;&lt;/xsl:when&gt; <br> &lt;xsl:otherwise&gt;&lt;/xsl:otherwise&gt; <br> &lt;/xsl:choose&gt; <br></code> <br> ‚Ä¶, ,     <strong>XML-</strong> .      : <code>&lt;xsl:when test="descendant-or-self::*/@id = /node()/@id"&gt;</code> <br> <br>        <strong>ID</strong>    ( <strong>document</strong> )    ( <strong>item</strong> ),   ,    . <br> <br>   <code>&lt;xsl:when&gt;&lt;/xsl:when&gt;</code>  ,      .   <code>&lt;xsl:otherwise&gt;&lt;/xsl:otherwise&gt;</code> -    . <br> <br> 8. ,   <strong>href_attribute</strong> : <br> <code><br> &lt;xsl:template name="href_attribute"&gt; <br> &lt;xsl:attribute name="href"&gt; <br> &lt;xsl:text&gt;/&lt;/xsl:text&gt; <br> &lt;xsl:for-each select="ancestor-or-self::item"&gt; <br> &lt;xsl:value-of select="dir"/&gt; <br> &lt;xsl:text&gt;/&lt;/xsl:text&gt; <br> &lt;/xsl:for-each&gt; <br> &lt;/xsl:attribute&gt; <br> &lt;/xsl:template&gt; <br></code> <br> <br>      <strong>xsl:attribute</strong> .          .         <strong>a</strong> , ,      <strong>href</strong> , .. . <br> <br>  <code>&lt;xsl:for-each select="ancestor-or-self::item"&gt;</code>      ,  .      <strong>ancestor-or-self::item</strong> -         .           <strong>dir</strong> , ..     -. <br> <br> ,   -  ,       . ,   <a href="http://habrahabr.ru/blog/webdev/38433.html">  </a> . <br> <br> <strong>UPD:</strong> <br>   .   ,  : <br> <a href="">parser.proc.ru/iso/xslt-1.zip</a> <br> <br>        (       )           Apache. <br> <br>    XML-   /xsl/document.xml</code></code></code></code></code></code> </li> </ul> <code><code><code><code><code><code><code>-    (   ). : <br> <strong>Lang</strong> -  .     . <strong>Id</strong> -   . <br> &lt;lang_table&gt;</code> -  ,   . <br> <code>-   : <br> -    (  ): <br> &lt;item id="0" parent_id="0" is_published="1" section="1"&gt;</code> -   . : <br> <strong>Id</strong> -  . <strong>Parent_id</strong> -   . <strong>Is_published</strong> -   . <strong>Dir</strong> - uri- .     . <strong>Section</strong> -  .         . <br> -  . <br>   CMS   :        : <br> <strong>Html</strong> -  .  ,    . <strong>Com</strong> - -.  ,      CMS: , ,    .. <br>  <strong>XSL-</strong>   ,     .       . <br> <br> CMS       <strong> ,      : <br> : <br> <strong>Id</strong> -  . <br> <strong>Container</strong> - - (    ). <br> <strong>Sorting</strong> -    . <br> <strong>Type</strong> - : <br> <strong>Com</strong> - - <br> <strong>Html</strong> -  . <br> <strong>Method</strong> -  . <br> <strong>Title</strong> -  . <br> <strong>DTD</strong>     (    ): <br> &lt;!DOCTYPE site_page [ <br> <br> &lt;!ENTITY nbsp " "&gt; <br> &lt;!ENTITY sect "¬ß" &gt; <br> &lt;!ENTITY copy "¬©"&gt; <br> &lt;!ENTITY laquo "¬´"&gt; <br> &lt;!ENTITY reg "¬Æ"&gt; <br> &lt;!ENTITY deg "¬∞"&gt; <br> &lt;!ENTITY plusmn "¬±"&gt; <br> &lt;!ENTITY para "¬∂"&gt; <br> &lt;!ENTITY raquo "¬ª"&gt; <br> &lt;!ENTITY times "√ó"&gt; <br> <br> <br> <br> &lt;!ENTITY bull "‚Ä¢"&gt; <br> &lt;!ENTITY hellip "‚Ä¶"&gt; <br> <br> <br> <br> &lt;!ENTITY ndash "‚Äì"&gt; <br> &lt;!ENTITY mdash "‚Äî"&gt; <br> &lt;!ENTITY lsquo "'"&gt; <br> &lt;!ENTITY rsquo "'"&gt; <br> &lt;!ENTITY sbquo "‚Äö"&gt; <br> &lt;!ENTITY ldquo "‚Äú"&gt; <br> &lt;!ENTITY rdquo "‚Äù"&gt; <br> &lt;!ENTITY bdquo "‚Äû"&gt; <br> &lt;!ENTITY lsaquo "‚Äπ"&gt; <br> &lt;!ENTITY rsaquo "‚Ä∫" &gt; <br> &lt;!ENTITY euro "‚Ç¨"&gt; <br> ]&gt; <br></strong> <br>      <strong>XML-</strong> .   <code>&lt;?xml version="1.0" encoding="windows-1251"?&gt;</code> . <br> <br>  XHML- <br> XSL-    XHTML- (   ).  XHTML-,  ,   <strong></strong> . <br> <br>      . <br> <br>   XHML-  ,    ,       : <br>  (   ).    -    ,      . / . <br>        HTML-: <br> <code><a href="https://habr.com/ru/post/22236/"></a> <a href="https://habr.com/ru/post/22236/"></a> <a href="https://habr.com/ru/post/22236/"></a> ... <br> <br>   <br> <br> <br> ... <br> <br>    <br> <br> ... <br> <br>   <br> <br> ... <br> <br>  <br> <br> ...</code> <br> <br>   XSL- <br>   XSL-   : <br> <code>&lt;xsl:stylesheet version = '1.0' encoding="UTF-8"?&gt; <br> &lt;xsl:template match="element"&gt; <br>   <br> &lt;/xsl:template&gt; <br> &lt;/xsl:stylesheet&gt;</code> <br> <br> : <code>&lt;xsl:stylesheet version = '1.0' encoding="UTF-8"?&gt;</code> -   <strong>XML-</strong>  .   <strong>UTF-8</strong> ( , ). <br> <code>&lt;xsl:stylesheet&gt; &lt;/xsl:stylesheet&gt;</code> -    XSL-. <br> <code>&lt;xsl:template match="element"&gt; &lt;/xsl:template&gt;</code> -       element. <br> <br>       : <br> <code>&lt;xsl:template match="element"&gt;&lt;/xsl:template&gt;</code> - ,     <strong>element</strong> .      <strong>element</strong> . <code>&lt;xsl:template match="element" mode="mode1"&gt;&lt;/xsl:template&gt;</code> - ,     <strong>element</strong>   <strong>mode1</strong> .         <strong>element</strong> . <code>&lt;xsl:template name="template-name"&gt;&lt;/xsl:template&gt;</code> -    <strong>template-name</strong> .     -  <strong>XML-</strong> . <br>           <strong>XML-</strong> (,  XML-,    item      ),      " "  : <br> <code>&lt;xsl:template match="navigation/sections/item"&gt;&lt;/xsl:template&gt;</code> <br>  ,    , ..,      ,  ,  , ..      <strong>navigation</strong> ,      <strong>navigation/sections/item</strong>     <strong>sections/item</strong> . <br> <br>    <br>  ,         -      .  ,        <strong>xsl-</strong> .            . <br> <br>       <strong>xsl</strong>    . <br> <br> ,        (       )   : <br> <strong>template_folder</strong> -    .      ,  <strong>my_template</strong> . <strong>dtd</strong> -    .   . <strong>lang</strong> -      (      ). <strong>mod</strong> -  . <br>       <strong>xsl/my_template</strong>   ,  <strong>layout.xsl</strong>  : <br> <code>&lt;?xml version="1.0" encoding="UTF-8"?&gt; <br> &lt;!DOCTYPE xsl:stylesheet SYSTEM "../dtd/entities.dtd"&gt; <br> &lt;xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform"&gt; <br> <br> &lt;xsl:template match="/node()"&gt; <br> &lt;/xsl:template&gt; <br> <br> &lt;/xsl:stylesheet&gt; <br></code> <br> : <br> <code>&lt;xsl:template match="/node()"&gt; &lt;/xsl:template&gt;</code> -    <strong>/node()</strong> ().  <strong>/node()</strong>   <strong>//document</strong> , ..      . <br> <br>   XHTML-   <code>&lt;xsl:template match="/node()"&gt;&lt;/xsl:template&gt;</code> <br> <br>        <strong>XML-</strong> .   , <strong>XSL-</strong>   <strong>XML-</strong>  <strong>XHTML-</strong>  . <br> <br> ,    <strong>XSL</strong>   <strong>template.xsl</strong> (, <strong>template</strong> -   ),     : <br> <code>&lt;?xml version="1.0" encoding="UTF-8"?&gt; <br> &lt;xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform"&gt; <br> <br> &lt;xsl:import href=" my_template /layout.xsl"/&gt; <br> &lt;/xsl:stylesheet&gt; <br></code> <br> : <br> <code>&lt;xsl:import href="my_template/layout.xsl"/&gt;</code> <br>    XSL- ( <strong>XSL-</strong> )   .     . <br> <br>       <br>       , ..     XML-    . <br> <br>   -    . <br> <br>        ,   <strong>XML-</strong>   : <br> <code><br> &lt;item id="0" parent_id="0" is_published="1" section="1"&gt; <br>  <br> / <br> <br> &lt;item id="1" parent_id="0" is_published="1" section="1" hit="yes"&gt; <br>  <br> news <br> <br></code> <br> <br> <br>      : <br>  <strong>id</strong>    <strong>document</strong> -    <strong>id</strong>  .  <strong>hit</strong>   <strong>item</strong> -   ,   ,    "  ". <br> ,  ,         : <br> <strong>sections</strong> -   . <strong>item</strong> -  . <br>  ,  ,   <strong>item</strong>     <strong>item</strong> ,   ,     : <br> <code><br> <br></code> <br> <br> 1.    xsl/my_template  navigation.xsl  : <br> <code>&lt;?xml version="1.0" encoding="UTF-8"?&gt; <br> &lt;!DOCTYPE xsl:stylesheet SYSTEM "../dtd/entities.dtd"&gt; <br> &lt;xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform"&gt; <br> <br> &lt;xsl:template match="sections" mode="global_menu"&gt; <br> &lt;/xsl:template&gt; <br> <br> &lt;/xsl:stylesheet&gt;</code> <br> <br> 2.         <strong>layout.xsl</strong> : <br> <code><a href="https://habr.com/"></a> <a href="https://habr.com/sections/"></a> <a href="https://habr.com/news/"></a> <br> &lt;xsl:template match="sections" mode="global_menu"&gt; <br>    <br> &lt;/xsl:template&gt; <br></code> <br> <br> 3. ‚Ä¶      <strong>layout.xsl</strong>     : <br> <code><br> &lt;xsl:apply-templates select="navigation/sections" mode="global_menu"/&gt; <br> <br></code> <br> : <br> <strong>select="navigation/sections"</strong> -  ( ) - .  ,     <strong>navigation/sections</strong> . <br> <br> <strong>mode="global_menu"</strong> -     <strong>global_menu</strong> .      ,        , ,  " ",  -         . <br> <br> 4. ,    layout.xsl     <strong>navigation.xsl</strong> : <br> <code>&lt;xsl:import href="navigation.xsl"/&gt;</code> <br> <br> 5. ,    <strong>navigation.xsl</strong>   ,    : <br> <code><br> &lt;xsl:template match="item" mode="global_menu"&gt; <br> &lt;xsl:call-template name="href_attribute"/&gt; <br> &lt;xsl:value-of select="title"/&gt; <br> <br> <br> &lt;/xsl:template&gt; <br> <br></code> <br> : <br> <code>&lt;xsl:call-template name="href_attribute"/&gt;</code> -    .        , ..  . <br> <br> <code>&lt;xsl:value-of select="title"/&gt;</code> - -   title  .         <strong>@</strong> -      . <br> <br> 6.    <strong>sections</strong> : <br> <code><br> &lt;xsl:template match="sections" mode="global_menu"&gt; <br> <br> &lt;/xsl:template&gt; <br> <br></code> <br> : <br> <code>&lt;xsl:apply-templates select="item" mode="global_menu"/&gt;</code> -    <strong>item</strong>  <strong>sections</strong> .  ,  <strong>item</strong>   <strong>item</strong> ( <strong>sections/item/item</strong> )   , ..      . <br> <br>     <strong>item</strong> ( )   .  ,         : <code>&lt;xsl:call-template name="href_attribute"/&gt;</code> <br> <br>      <strong>uri-</strong>    .    . <br> <br> 7.     , <br>   ,    .            <strong>item</strong> : <br> <code><br> &lt;xsl:template match="item" mode="global_menu"&gt; <br> <br> &lt;xsl:choose&gt; <br> <br> &lt;xsl:when test="descendant-or-self::*/@id = /node()/@id"&gt; <br> &lt;xsl:value-of select="title"/&gt; <br> &lt;/xsl:when&gt; <br> <br> &lt;xsl:otherwise&gt; <br> &lt;xsl:call-template name="href_attribute"/&gt; <br> &lt;xsl:value-of select="title"/&gt; <br> <br> &lt;/xsl:otherwise&gt; <br> &lt;/xsl:choose&gt; <br> <br> &lt;/xsl:template&gt; <br> <br></code> <br>      : <br> <code>&lt;xsl:choose&gt; <br> &lt;xsl:when&gt;&lt;/xsl:when&gt; <br> &lt;xsl:otherwise&gt;&lt;/xsl:otherwise&gt; <br> &lt;/xsl:choose&gt; <br></code> <br> ‚Ä¶, ,     <strong>XML-</strong> .      : <code>&lt;xsl:when test="descendant-or-self::*/@id = /node()/@id"&gt;</code> <br> <br>        <strong>ID</strong>    ( <strong>document</strong> )    ( <strong>item</strong> ),   ,    . <br> <br>   <code>&lt;xsl:when&gt;&lt;/xsl:when&gt;</code>  ,      .   <code>&lt;xsl:otherwise&gt;&lt;/xsl:otherwise&gt;</code> -    . <br> <br> 8. ,   <strong>href_attribute</strong> : <br> <code><br> &lt;xsl:template name="href_attribute"&gt; <br> &lt;xsl:attribute name="href"&gt; <br> &lt;xsl:text&gt;/&lt;/xsl:text&gt; <br> &lt;xsl:for-each select="ancestor-or-self::item"&gt; <br> &lt;xsl:value-of select="dir"/&gt; <br> &lt;xsl:text&gt;/&lt;/xsl:text&gt; <br> &lt;/xsl:for-each&gt; <br> &lt;/xsl:attribute&gt; <br> &lt;/xsl:template&gt; <br></code> <br> <br>      <strong>xsl:attribute</strong> .          .         <strong>a</strong> , ,      <strong>href</strong> , .. . <br> <br>  <code>&lt;xsl:for-each select="ancestor-or-self::item"&gt;</code>      ,  .      <strong>ancestor-or-self::item</strong> -         .           <strong>dir</strong> , ..     -. <br> <br> ,   -  ,       . ,   <a href="http://habrahabr.ru/blog/webdev/38433.html">  </a> . <br> <br> <strong>UPD:</strong> <br>   .   ,  : <br> <a href="">parser.proc.ru/iso/xslt-1.zip</a> <br> <br>        (       )           Apache. <br> <br>    XML-   /xsl/document.xml</code></code></code></code></code></code> <ul><li> <code><code><code><code><code><code><strong><code>-    (   ). : <br> <strong>Lang</strong> -  .     . <strong>Id</strong> -   . <br> &lt;lang_table&gt;</code> -  ,   . <br> <code>-   : <br> -    (  ): <br> &lt;item id="0" parent_id="0" is_published="1" section="1"&gt;</code> -   . : <br> <strong>Id</strong> -  . <strong>Parent_id</strong> -   . <strong>Is_published</strong> -   . <strong>Dir</strong> - uri- .     . <strong>Section</strong> -  .         . <br> -  . <br>   CMS   :        : <br> <strong>Html</strong> -  .  ,    . <strong>Com</strong> - -.  ,      CMS: , ,    .. <br>  <strong>XSL-</strong>   ,     .       . <br> <br> CMS        ,      : <br> : <br> <strong>Id</strong> -  . <br> <strong>Container</strong> - - (    ). <br> <strong>Sorting</strong> -    . <br> <strong>Type</strong> - : <br> <strong>Com</strong> - - <br> <strong>Html</strong> -  . <br> <strong>Method</strong> -  . <br> <strong>Title</strong> -  . <br> <strong>DTD</strong>     (    ): <br> &lt;!DOCTYPE site_page [ <br> <br> &lt;!ENTITY nbsp " "&gt; <br> &lt;!ENTITY sect "¬ß" &gt; <br> &lt;!ENTITY copy "¬©"&gt; <br> &lt;!ENTITY laquo "¬´"&gt; <br> &lt;!ENTITY reg "¬Æ"&gt; <br> &lt;!ENTITY deg "¬∞"&gt; <br> &lt;!ENTITY plusmn "¬±"&gt; <br> &lt;!ENTITY para "¬∂"&gt; <br> &lt;!ENTITY raquo "¬ª"&gt; <br> &lt;!ENTITY times "√ó"&gt; <br> <br> <br> <br> &lt;!ENTITY bull "‚Ä¢"&gt; <br> &lt;!ENTITY hellip "‚Ä¶"&gt; <br> <br> <br> <br> &lt;!ENTITY ndash "‚Äì"&gt; <br> &lt;!ENTITY mdash "‚Äî"&gt; <br> &lt;!ENTITY lsquo "'"&gt; <br> &lt;!ENTITY rsquo "'"&gt; <br> &lt;!ENTITY sbquo "‚Äö"&gt; <br> &lt;!ENTITY ldquo "‚Äú"&gt; <br> &lt;!ENTITY rdquo "‚Äù"&gt; <br> &lt;!ENTITY bdquo "‚Äû"&gt; <br> &lt;!ENTITY lsaquo "‚Äπ"&gt; <br> &lt;!ENTITY rsaquo "‚Ä∫" &gt; <br> &lt;!ENTITY euro "‚Ç¨"&gt; <br> ]&gt; <br> <br>      <strong>XML-</strong> .   <code>&lt;?xml version="1.0" encoding="windows-1251"?&gt;</code> . <br> <br>  XHML- <br> XSL-    XHTML- (   ).  XHTML-,  ,   <strong></strong> . <br> <br>      . <br> <br>   XHML-  ,    ,       : <br>  (   ).    -    ,      . / . <br>        HTML-: <br> <code><a href="https://habr.com/ru/post/22236/"></a> <a href="https://habr.com/ru/post/22236/"></a> <a href="https://habr.com/ru/post/22236/"></a> ... <br> <br>   <br> <br> <br> ... <br> <br>    <br> <br> ... <br> <br>   <br> <br> ... <br> <br>  <br> <br> ...</code> <br> <br>   XSL- <br>   XSL-   : <br> <code>&lt;xsl:stylesheet version = '1.0' encoding="UTF-8"?&gt; <br> &lt;xsl:template match="element"&gt; <br>   <br> &lt;/xsl:template&gt; <br> &lt;/xsl:stylesheet&gt;</code> <br> <br> : <code>&lt;xsl:stylesheet version = '1.0' encoding="UTF-8"?&gt;</code> -   <strong>XML-</strong>  .   <strong>UTF-8</strong> ( , ). <br> <code>&lt;xsl:stylesheet&gt; &lt;/xsl:stylesheet&gt;</code> -    XSL-. <br> <code>&lt;xsl:template match="element"&gt; &lt;/xsl:template&gt;</code> -       element. <br> <br>       : <br> <code>&lt;xsl:template match="element"&gt;&lt;/xsl:template&gt;</code> - ,     <strong>element</strong> .      <strong>element</strong> . <code>&lt;xsl:template match="element" mode="mode1"&gt;&lt;/xsl:template&gt;</code> - ,     <strong>element</strong>   <strong>mode1</strong> .         <strong>element</strong> . <code>&lt;xsl:template name="template-name"&gt;&lt;/xsl:template&gt;</code> -    <strong>template-name</strong> .     -  <strong>XML-</strong> . <br>           <strong>XML-</strong> (,  XML-,    item      ),      " "  : <br> <code>&lt;xsl:template match="navigation/sections/item"&gt;&lt;/xsl:template&gt;</code> <br>  ,    , ..,      ,  ,  , ..      <strong>navigation</strong> ,      <strong>navigation/sections/item</strong>     <strong>sections/item</strong> . <br> <br>    <br>  ,         -      .  ,        <strong>xsl-</strong> .            . <br> <br>       <strong>xsl</strong>    . <br> <br> ,        (       )   : <br> <strong>template_folder</strong> -    .      ,  <strong>my_template</strong> . <strong>dtd</strong> -    .   . <strong>lang</strong> -      (      ). <strong>mod</strong> -  . <br>       <strong>xsl/my_template</strong>   ,  <strong>layout.xsl</strong>  : <br> <code>&lt;?xml version="1.0" encoding="UTF-8"?&gt; <br> &lt;!DOCTYPE xsl:stylesheet SYSTEM "../dtd/entities.dtd"&gt; <br> &lt;xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform"&gt; <br> <br> &lt;xsl:template match="/node()"&gt; <br> &lt;/xsl:template&gt; <br> <br> &lt;/xsl:stylesheet&gt; <br></code> <br> : <br> <code>&lt;xsl:template match="/node()"&gt; &lt;/xsl:template&gt;</code> -    <strong>/node()</strong> ().  <strong>/node()</strong>   <strong>//document</strong> , ..      . <br> <br>   XHTML-   <code>&lt;xsl:template match="/node()"&gt;&lt;/xsl:template&gt;</code> <br> <br>        <strong>XML-</strong> .   , <strong>XSL-</strong>   <strong>XML-</strong>  <strong>XHTML-</strong>  . <br> <br> ,    <strong>XSL</strong>   <strong>template.xsl</strong> (, <strong>template</strong> -   ),     : <br> <code>&lt;?xml version="1.0" encoding="UTF-8"?&gt; <br> &lt;xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform"&gt; <br> <br> &lt;xsl:import href=" my_template /layout.xsl"/&gt; <br> &lt;/xsl:stylesheet&gt; <br></code> <br> : <br> <code>&lt;xsl:import href="my_template/layout.xsl"/&gt;</code> <br>    XSL- ( <strong>XSL-</strong> )   .     . <br> <br>       <br>       , ..     XML-    . <br> <br>   -    . <br> <br>        ,   <strong>XML-</strong>   : <br> <code><br> &lt;item id="0" parent_id="0" is_published="1" section="1"&gt; <br>  <br> / <br> <br> &lt;item id="1" parent_id="0" is_published="1" section="1" hit="yes"&gt; <br>  <br> news <br> <br></code> <br> <br> <br>      : <br>  <strong>id</strong>    <strong>document</strong> -    <strong>id</strong>  .  <strong>hit</strong>   <strong>item</strong> -   ,   ,    "  ". <br> ,  ,         : <br> <strong>sections</strong> -   . <strong>item</strong> -  . <br>  ,  ,   <strong>item</strong>     <strong>item</strong> ,   ,     : <br> <code><br> <br></code> <br> <br> 1.    xsl/my_template  navigation.xsl  : <br> <code>&lt;?xml version="1.0" encoding="UTF-8"?&gt; <br> &lt;!DOCTYPE xsl:stylesheet SYSTEM "../dtd/entities.dtd"&gt; <br> &lt;xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform"&gt; <br> <br> &lt;xsl:template match="sections" mode="global_menu"&gt; <br> &lt;/xsl:template&gt; <br> <br> &lt;/xsl:stylesheet&gt;</code> <br> <br> 2.         <strong>layout.xsl</strong> : <br> <code><a href="https://habr.com/"></a> <a href="https://habr.com/sections/"></a> <a href="https://habr.com/news/"></a> <br> &lt;xsl:template match="sections" mode="global_menu"&gt; <br>    <br> &lt;/xsl:template&gt; <br></code> <br> <br> 3. ‚Ä¶      <strong>layout.xsl</strong>     : <br> <code><br> &lt;xsl:apply-templates select="navigation/sections" mode="global_menu"/&gt; <br> <br></code> <br> : <br> <strong>select="navigation/sections"</strong> -  ( ) - .  ,     <strong>navigation/sections</strong> . <br> <br> <strong>mode="global_menu"</strong> -     <strong>global_menu</strong> .      ,        , ,  " ",  -         . <br> <br> 4. ,    layout.xsl     <strong>navigation.xsl</strong> : <br> <code>&lt;xsl:import href="navigation.xsl"/&gt;</code> <br> <br> 5. ,    <strong>navigation.xsl</strong>   ,    : <br> <code><br> &lt;xsl:template match="item" mode="global_menu"&gt; <br> &lt;xsl:call-template name="href_attribute"/&gt; <br> &lt;xsl:value-of select="title"/&gt; <br> <br> <br> &lt;/xsl:template&gt; <br> <br></code> <br> : <br> <code>&lt;xsl:call-template name="href_attribute"/&gt;</code> -    .        , ..  . <br> <br> <code>&lt;xsl:value-of select="title"/&gt;</code> - -   title  .         <strong>@</strong> -      . <br> <br> 6.    <strong>sections</strong> : <br> <code><br> &lt;xsl:template match="sections" mode="global_menu"&gt; <br> <br> &lt;/xsl:template&gt; <br> <br></code> <br> : <br> <code>&lt;xsl:apply-templates select="item" mode="global_menu"/&gt;</code> -    <strong>item</strong>  <strong>sections</strong> .  ,  <strong>item</strong>   <strong>item</strong> ( <strong>sections/item/item</strong> )   , ..      . <br> <br>     <strong>item</strong> ( )   .  ,         : <code>&lt;xsl:call-template name="href_attribute"/&gt;</code> <br> <br>      <strong>uri-</strong>    .    . <br> <br> 7.     , <br>   ,    .            <strong>item</strong> : <br> <code><br> &lt;xsl:template match="item" mode="global_menu"&gt; <br> <br> &lt;xsl:choose&gt; <br> <br> &lt;xsl:when test="descendant-or-self::*/@id = /node()/@id"&gt; <br> &lt;xsl:value-of select="title"/&gt; <br> &lt;/xsl:when&gt; <br> <br> &lt;xsl:otherwise&gt; <br> &lt;xsl:call-template name="href_attribute"/&gt; <br> &lt;xsl:value-of select="title"/&gt; <br> <br> &lt;/xsl:otherwise&gt; <br> &lt;/xsl:choose&gt; <br> <br> &lt;/xsl:template&gt; <br> <br></code> <br>      : <br> <code>&lt;xsl:choose&gt; <br> &lt;xsl:when&gt;&lt;/xsl:when&gt; <br> &lt;xsl:otherwise&gt;&lt;/xsl:otherwise&gt; <br> &lt;/xsl:choose&gt; <br></code> <br> ‚Ä¶, ,     <strong>XML-</strong> .      : <code>&lt;xsl:when test="descendant-or-self::*/@id = /node()/@id"&gt;</code> <br> <br>        <strong>ID</strong>    ( <strong>document</strong> )    ( <strong>item</strong> ),   ,    . <br> <br>   <code>&lt;xsl:when&gt;&lt;/xsl:when&gt;</code>  ,      .   <code>&lt;xsl:otherwise&gt;&lt;/xsl:otherwise&gt;</code> -    . <br> <br> 8. ,   <strong>href_attribute</strong> : <br> <code><br> &lt;xsl:template name="href_attribute"&gt; <br> &lt;xsl:attribute name="href"&gt; <br> &lt;xsl:text&gt;/&lt;/xsl:text&gt; <br> &lt;xsl:for-each select="ancestor-or-self::item"&gt; <br> &lt;xsl:value-of select="dir"/&gt; <br> &lt;xsl:text&gt;/&lt;/xsl:text&gt; <br> &lt;/xsl:for-each&gt; <br> &lt;/xsl:attribute&gt; <br> &lt;/xsl:template&gt; <br></code> <br> <br>      <strong>xsl:attribute</strong> .          .         <strong>a</strong> , ,      <strong>href</strong> , .. . <br> <br>  <code>&lt;xsl:for-each select="ancestor-or-self::item"&gt;</code>      ,  .      <strong>ancestor-or-self::item</strong> -         .           <strong>dir</strong> , ..     -. <br> <br> ,   -  ,       . ,   <a href="http://habrahabr.ru/blog/webdev/38433.html">  </a> . <br> <br> <strong>UPD:</strong> <br>   .   ,  : <br> <a href="">parser.proc.ru/iso/xslt-1.zip</a> <br> <br>        (       )           Apache. <br> <br>    XML-   /xsl/document.xml</strong></code></code></code></code></code></code> <ul><li> <code><code><code><code><code><code><strong><code>-    (   ). : <br> <strong>Lang</strong> -  .     . <strong>Id</strong> -   . <br> &lt;lang_table&gt;</code> -  ,   . <br> <code>-   : <br> -    (  ): <br> &lt;item id="0" parent_id="0" is_published="1" section="1"&gt;</code> -   . : <br> <strong>Id</strong> -  . <strong>Parent_id</strong> -   . <strong>Is_published</strong> -   . <strong>Dir</strong> - uri- .     . <strong>Section</strong> -  .         . <br> -  . <br>   CMS   :        : <br> <strong>Html</strong> -  .  ,    . <strong>Com</strong> - -.  ,      CMS: , ,    .. <br>  <strong>XSL-</strong>   ,     .       . <br> <br> CMS        ,      : <br> : <br> <strong>Id</strong> -  . <br> <strong>Container</strong> - - (    ). <br> <strong>Sorting</strong> -    . <br> <strong>Type</strong> - : <br> <strong>Com</strong> - - <br> <strong>Html</strong> -  . <br> <strong>Method</strong> -  . <br> <strong>Title</strong> -  . <br> <strong>DTD</strong>     (    ): <br> &lt;!DOCTYPE site_page [ <br> <br> &lt;!ENTITY nbsp " "&gt; <br> &lt;!ENTITY sect "¬ß" &gt; <br> &lt;!ENTITY copy "¬©"&gt; <br> &lt;!ENTITY laquo "¬´"&gt; <br> &lt;!ENTITY reg "¬Æ"&gt; <br> &lt;!ENTITY deg "¬∞"&gt; <br> &lt;!ENTITY plusmn "¬±"&gt; <br> &lt;!ENTITY para "¬∂"&gt; <br> &lt;!ENTITY raquo "¬ª"&gt; <br> &lt;!ENTITY times "√ó"&gt; <br> <br> <br> <br> &lt;!ENTITY bull "‚Ä¢"&gt; <br> &lt;!ENTITY hellip "‚Ä¶"&gt; <br> <br> <br> <br> &lt;!ENTITY ndash "‚Äì"&gt; <br> &lt;!ENTITY mdash "‚Äî"&gt; <br> &lt;!ENTITY lsquo "'"&gt; <br> &lt;!ENTITY rsquo "'"&gt; <br> &lt;!ENTITY sbquo "‚Äö"&gt; <br> &lt;!ENTITY ldquo "‚Äú"&gt; <br> &lt;!ENTITY rdquo "‚Äù"&gt; <br> &lt;!ENTITY bdquo "‚Äû"&gt; <br> &lt;!ENTITY lsaquo "‚Äπ"&gt; <br> &lt;!ENTITY rsaquo "‚Ä∫" &gt; <br> &lt;!ENTITY euro "‚Ç¨"&gt; <br> ]&gt; <br> <br>      <strong>XML-</strong> .   <code>&lt;?xml version="1.0" encoding="windows-1251"?&gt;</code> . <br> <br>  XHML- <br> XSL-    XHTML- (   ).  XHTML-,  ,   <strong></strong> . <br> <br>      . <br> <br>   XHML-  ,    ,       : <br>  (   ).    -    ,      . / . <br>        HTML-: <br> <code><a href="https://habr.com/ru/post/22236/"></a> <a href="https://habr.com/ru/post/22236/"></a> <a href="https://habr.com/ru/post/22236/"></a> ... <br> <br>   <br> <br> <br> ... <br> <br>    <br> <br> ... <br> <br>   <br> <br> ... <br> <br>  <br> <br> ...</code> <br> <br>   XSL- <br>   XSL-   : <br> <code>&lt;xsl:stylesheet version = '1.0' encoding="UTF-8"?&gt; <br> &lt;xsl:template match="element"&gt; <br>   <br> &lt;/xsl:template&gt; <br> &lt;/xsl:stylesheet&gt;</code> <br> <br> : <code>&lt;xsl:stylesheet version = '1.0' encoding="UTF-8"?&gt;</code> -   <strong>XML-</strong>  .   <strong>UTF-8</strong> ( , ). <br> <code>&lt;xsl:stylesheet&gt; &lt;/xsl:stylesheet&gt;</code> -    XSL-. <br> <code>&lt;xsl:template match="element"&gt; &lt;/xsl:template&gt;</code> -       element. <br> <br>       : <br> <code>&lt;xsl:template match="element"&gt;&lt;/xsl:template&gt;</code> - ,     <strong>element</strong> .      <strong>element</strong> . <code>&lt;xsl:template match="element" mode="mode1"&gt;&lt;/xsl:template&gt;</code> - ,     <strong>element</strong>   <strong>mode1</strong> .         <strong>element</strong> . <code>&lt;xsl:template name="template-name"&gt;&lt;/xsl:template&gt;</code> -    <strong>template-name</strong> .     -  <strong>XML-</strong> . <br>           <strong>XML-</strong> (,  XML-,    item      ),      " "  : <br> <code>&lt;xsl:template match="navigation/sections/item"&gt;&lt;/xsl:template&gt;</code> <br>  ,    , ..,      ,  ,  , ..      <strong>navigation</strong> ,      <strong>navigation/sections/item</strong>     <strong>sections/item</strong> . <br> <br>    <br>  ,         -      .  ,        <strong>xsl-</strong> .            . <br> <br>       <strong>xsl</strong>    . <br> <br> ,        (       )   : <br> <strong>template_folder</strong> -    .      ,  <strong>my_template</strong> . <strong>dtd</strong> -    .   . <strong>lang</strong> -      (      ). <strong>mod</strong> -  . <br>       <strong>xsl/my_template</strong>   ,  <strong>layout.xsl</strong>  : <br> <code>&lt;?xml version="1.0" encoding="UTF-8"?&gt; <br> &lt;!DOCTYPE xsl:stylesheet SYSTEM "../dtd/entities.dtd"&gt; <br> &lt;xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform"&gt; <br> <br> &lt;xsl:template match="/node()"&gt; <br> &lt;/xsl:template&gt; <br> <br> &lt;/xsl:stylesheet&gt; <br></code> <br> : <br> <code>&lt;xsl:template match="/node()"&gt; &lt;/xsl:template&gt;</code> -    <strong>/node()</strong> ().  <strong>/node()</strong>   <strong>//document</strong> , ..      . <br> <br>   XHTML-   <code>&lt;xsl:template match="/node()"&gt;&lt;/xsl:template&gt;</code> <br> <br>        <strong>XML-</strong> .   , <strong>XSL-</strong>   <strong>XML-</strong>  <strong>XHTML-</strong>  . <br> <br> ,    <strong>XSL</strong>   <strong>template.xsl</strong> (, <strong>template</strong> -   ),     : <br> <code>&lt;?xml version="1.0" encoding="UTF-8"?&gt; <br> &lt;xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform"&gt; <br> <br> &lt;xsl:import href=" my_template /layout.xsl"/&gt; <br> &lt;/xsl:stylesheet&gt; <br></code> <br> : <br> <code>&lt;xsl:import href="my_template/layout.xsl"/&gt;</code> <br>    XSL- ( <strong>XSL-</strong> )   .     . <br> <br>       <br>       , ..     XML-    . <br> <br>   -    . <br> <br>        ,   <strong>XML-</strong>   : <br> <code><br> &lt;item id="0" parent_id="0" is_published="1" section="1"&gt; <br>  <br> / <br> <br> &lt;item id="1" parent_id="0" is_published="1" section="1" hit="yes"&gt; <br>  <br> news <br> <br></code> <br> <br> <br>      : <br>  <strong>id</strong>    <strong>document</strong> -    <strong>id</strong>  .  <strong>hit</strong>   <strong>item</strong> -   ,   ,    "  ". <br> ,  ,         : <br> <strong>sections</strong> -   . <strong>item</strong> -  . <br>  ,  ,   <strong>item</strong>     <strong>item</strong> ,   ,     : <br> <code><br> <br></code> <br> <br> 1.    xsl/my_template  navigation.xsl  : <br> <code>&lt;?xml version="1.0" encoding="UTF-8"?&gt; <br> &lt;!DOCTYPE xsl:stylesheet SYSTEM "../dtd/entities.dtd"&gt; <br> &lt;xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform"&gt; <br> <br> &lt;xsl:template match="sections" mode="global_menu"&gt; <br> &lt;/xsl:template&gt; <br> <br> &lt;/xsl:stylesheet&gt;</code> <br> <br> 2.         <strong>layout.xsl</strong> : <br> <code><a href="https://habr.com/"></a> <a href="https://habr.com/sections/"></a> <a href="https://habr.com/news/"></a> <br> &lt;xsl:template match="sections" mode="global_menu"&gt; <br>    <br> &lt;/xsl:template&gt; <br></code> <br> <br> 3. ‚Ä¶      <strong>layout.xsl</strong>     : <br> <code><br> &lt;xsl:apply-templates select="navigation/sections" mode="global_menu"/&gt; <br> <br></code> <br> : <br> <strong>select="navigation/sections"</strong> -  ( ) - .  ,     <strong>navigation/sections</strong> . <br> <br> <strong>mode="global_menu"</strong> -     <strong>global_menu</strong> .      ,        , ,  " ",  -         . <br> <br> 4. ,    layout.xsl     <strong>navigation.xsl</strong> : <br> <code>&lt;xsl:import href="navigation.xsl"/&gt;</code> <br> <br> 5. ,    <strong>navigation.xsl</strong>   ,    : <br> <code><br> &lt;xsl:template match="item" mode="global_menu"&gt; <br> &lt;xsl:call-template name="href_attribute"/&gt; <br> &lt;xsl:value-of select="title"/&gt; <br> <br> <br> &lt;/xsl:template&gt; <br> <br></code> <br> : <br> <code>&lt;xsl:call-template name="href_attribute"/&gt;</code> -    .        , ..  . <br> <br> <code>&lt;xsl:value-of select="title"/&gt;</code> - -   title  .         <strong>@</strong> -      . <br> <br> 6.    <strong>sections</strong> : <br> <code><br> &lt;xsl:template match="sections" mode="global_menu"&gt; <br> <br> &lt;/xsl:template&gt; <br> <br></code> <br> : <br> <code>&lt;xsl:apply-templates select="item" mode="global_menu"/&gt;</code> -    <strong>item</strong>  <strong>sections</strong> .  ,  <strong>item</strong>   <strong>item</strong> ( <strong>sections/item/item</strong> )   , ..      . <br> <br>     <strong>item</strong> ( )   .  ,         : <code>&lt;xsl:call-template name="href_attribute"/&gt;</code> <br> <br>      <strong>uri-</strong>    .    . <br> <br> 7.     , <br>   ,    .            <strong>item</strong> : <br> <code><br> &lt;xsl:template match="item" mode="global_menu"&gt; <br> <br> &lt;xsl:choose&gt; <br> <br> &lt;xsl:when test="descendant-or-self::*/@id = /node()/@id"&gt; <br> &lt;xsl:value-of select="title"/&gt; <br> &lt;/xsl:when&gt; <br> <br> &lt;xsl:otherwise&gt; <br> &lt;xsl:call-template name="href_attribute"/&gt; <br> &lt;xsl:value-of select="title"/&gt; <br> <br> &lt;/xsl:otherwise&gt; <br> &lt;/xsl:choose&gt; <br> <br> &lt;/xsl:template&gt; <br> <br></code> <br>      : <br> <code>&lt;xsl:choose&gt; <br> &lt;xsl:when&gt;&lt;/xsl:when&gt; <br> &lt;xsl:otherwise&gt;&lt;/xsl:otherwise&gt; <br> &lt;/xsl:choose&gt; <br></code> <br> ‚Ä¶, ,     <strong>XML-</strong> .      : <code>&lt;xsl:when test="descendant-or-self::*/@id = /node()/@id"&gt;</code> <br> <br>        <strong>ID</strong>    ( <strong>document</strong> )    ( <strong>item</strong> ),   ,    . <br> <br>   <code>&lt;xsl:when&gt;&lt;/xsl:when&gt;</code>  ,      .   <code>&lt;xsl:otherwise&gt;&lt;/xsl:otherwise&gt;</code> -    . <br> <br> 8. ,   <strong>href_attribute</strong> : <br> <code><br> &lt;xsl:template name="href_attribute"&gt; <br> &lt;xsl:attribute name="href"&gt; <br> &lt;xsl:text&gt;/&lt;/xsl:text&gt; <br> &lt;xsl:for-each select="ancestor-or-self::item"&gt; <br> &lt;xsl:value-of select="dir"/&gt; <br> &lt;xsl:text&gt;/&lt;/xsl:text&gt; <br> &lt;/xsl:for-each&gt; <br> &lt;/xsl:attribute&gt; <br> &lt;/xsl:template&gt; <br></code> <br> <br>      <strong>xsl:attribute</strong> .          .         <strong>a</strong> , ,      <strong>href</strong> , .. . <br> <br>  <code>&lt;xsl:for-each select="ancestor-or-self::item"&gt;</code>      ,  .      <strong>ancestor-or-self::item</strong> -         .           <strong>dir</strong> , ..     -. <br> <br> ,   -  ,       . ,   <a href="http://habrahabr.ru/blog/webdev/38433.html">  </a> . <br> <br> <strong>UPD:</strong> <br>   .   ,  : <br> <a href="">parser.proc.ru/iso/xslt-1.zip</a> <br> <br>        (       )           Apache. <br> <br>    XML-   /xsl/document.xml</strong></code></code></code></code></code></code> </li> </ul> <code><code><code><code><code><code>-    (   ). : <br> <strong>Lang</strong> -  .     . <strong>Id</strong> -   . <br> &lt;lang_table&gt;</code> -  ,   . <br> <code>-   : <br> -    (  ): <br> &lt;item id="0" parent_id="0" is_published="1" section="1"&gt;</code> -   . : <br> <strong>Id</strong> -  . <strong>Parent_id</strong> -   . <strong>Is_published</strong> -   . <strong>Dir</strong> - uri- .     . <strong>Section</strong> -  .         . <br> <code>-  . <br>   CMS   :        : <br> <strong>Html</strong> -  .  ,    . <strong>Com</strong> - -.  ,      CMS: , ,    .. <br>  <strong>XSL-</strong>   ,     .       . <br> <br> CMS       <strong> ,      : <br> : <br> <strong>Id</strong> -  . <br> <strong>Container</strong> - - (    ). <br> <strong>Sorting</strong> -    . <br> <strong>Type</strong> - : <br> <strong>Com</strong> - - <br> <strong>Html</strong> -  . <br> <strong>Method</strong> -  . <br> <strong>Title</strong> -  . <br> <strong>DTD</strong>     (    ): <br> &lt;!DOCTYPE site_page [ <br> <br> &lt;!ENTITY nbsp " "&gt; <br> &lt;!ENTITY sect "¬ß" &gt; <br> &lt;!ENTITY copy "¬©"&gt; <br> &lt;!ENTITY laquo "¬´"&gt; <br> &lt;!ENTITY reg "¬Æ"&gt; <br> &lt;!ENTITY deg "¬∞"&gt; <br> &lt;!ENTITY plusmn "¬±"&gt; <br> &lt;!ENTITY para "¬∂"&gt; <br> &lt;!ENTITY raquo "¬ª"&gt; <br> &lt;!ENTITY times "√ó"&gt; <br> <br> <br> <br> &lt;!ENTITY bull "‚Ä¢"&gt; <br> &lt;!ENTITY hellip "‚Ä¶"&gt; <br> <br> <br> <br> &lt;!ENTITY ndash "‚Äì"&gt; <br> &lt;!ENTITY mdash "‚Äî"&gt; <br> &lt;!ENTITY lsquo "'"&gt; <br> &lt;!ENTITY rsquo "'"&gt; <br> &lt;!ENTITY sbquo "‚Äö"&gt; <br> &lt;!ENTITY ldquo "‚Äú"&gt; <br> &lt;!ENTITY rdquo "‚Äù"&gt; <br> &lt;!ENTITY bdquo "‚Äû"&gt; <br> &lt;!ENTITY lsaquo "‚Äπ"&gt; <br> &lt;!ENTITY rsaquo "‚Ä∫" &gt; <br> &lt;!ENTITY euro "‚Ç¨"&gt; <br> ]&gt; <br></strong></code> <br>      <strong>XML-</strong> .   <code>&lt;?xml version="1.0" encoding="windows-1251"?&gt;</code> . <br> <br>  XHML- <br> XSL-    XHTML- (   ).  XHTML-,  ,   <strong></strong> . <br> <br>      . <br> <br>   XHML-  ,    ,       : <br>  (   ).    -    ,      . / . <br>        HTML-: <br> <code><a href="https://habr.com/ru/post/22236/"></a> <a href="https://habr.com/ru/post/22236/"></a> <a href="https://habr.com/ru/post/22236/"></a> ... <br> <br>   <br> <br> <br> ... <br> <br>    <br> <br> ... <br> <br>   <br> <br> ... <br> <br>  <br> <br> ...</code> <br> <br>   XSL- <br>   XSL-   : <br> <code>&lt;xsl:stylesheet version = '1.0' encoding="UTF-8"?&gt; <br> &lt;xsl:template match="element"&gt; <br>   <br> &lt;/xsl:template&gt; <br> &lt;/xsl:stylesheet&gt;</code> <br> <br> : <code>&lt;xsl:stylesheet version = '1.0' encoding="UTF-8"?&gt;</code> -   <strong>XML-</strong>  .   <strong>UTF-8</strong> ( , ). <br> <code>&lt;xsl:stylesheet&gt; &lt;/xsl:stylesheet&gt;</code> -    XSL-. <br> <code>&lt;xsl:template match="element"&gt; &lt;/xsl:template&gt;</code> -       element. <br> <br>       : <br> <code>&lt;xsl:template match="element"&gt;&lt;/xsl:template&gt;</code> - ,     <strong>element</strong> .      <strong>element</strong> . <code>&lt;xsl:template match="element" mode="mode1"&gt;&lt;/xsl:template&gt;</code> - ,     <strong>element</strong>   <strong>mode1</strong> .         <strong>element</strong> . <code>&lt;xsl:template name="template-name"&gt;&lt;/xsl:template&gt;</code> -    <strong>template-name</strong> .     -  <strong>XML-</strong> . <br>           <strong>XML-</strong> (,  XML-,    item      ),      " "  : <br> <code>&lt;xsl:template match="navigation/sections/item"&gt;&lt;/xsl:template&gt;</code> <br>  ,    , ..,      ,  ,  , ..      <strong>navigation</strong> ,      <strong>navigation/sections/item</strong>     <strong>sections/item</strong> . <br> <br>    <br>  ,         -      .  ,        <strong>xsl-</strong> .            . <br> <br>       <strong>xsl</strong>    . <br> <br> ,        (       )   : <br> <strong>template_folder</strong> -    .      ,  <strong>my_template</strong> . <strong>dtd</strong> -    .   . <strong>lang</strong> -      (      ). <strong>mod</strong> -  . <br>       <strong>xsl/my_template</strong>   ,  <strong>layout.xsl</strong>  : <br> <code>&lt;?xml version="1.0" encoding="UTF-8"?&gt; <br> &lt;!DOCTYPE xsl:stylesheet SYSTEM "../dtd/entities.dtd"&gt; <br> &lt;xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform"&gt; <br> <br> &lt;xsl:template match="/node()"&gt; <br> &lt;/xsl:template&gt; <br> <br> &lt;/xsl:stylesheet&gt; <br></code> <br> : <br> <code>&lt;xsl:template match="/node()"&gt; &lt;/xsl:template&gt;</code> -    <strong>/node()</strong> ().  <strong>/node()</strong>   <strong>//document</strong> , ..      . <br> <br>   XHTML-   <code>&lt;xsl:template match="/node()"&gt;&lt;/xsl:template&gt;</code> <br> <br>        <strong>XML-</strong> .   , <strong>XSL-</strong>   <strong>XML-</strong>  <strong>XHTML-</strong>  . <br> <br> ,    <strong>XSL</strong>   <strong>template.xsl</strong> (, <strong>template</strong> -   ),     : <br> <code>&lt;?xml version="1.0" encoding="UTF-8"?&gt; <br> &lt;xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform"&gt; <br> <br> &lt;xsl:import href=" my_template /layout.xsl"/&gt; <br> &lt;/xsl:stylesheet&gt; <br></code> <br> : <br> <code>&lt;xsl:import href="my_template/layout.xsl"/&gt;</code> <br>    XSL- ( <strong>XSL-</strong> )   .     . <br> <br>       <br>       , ..     XML-    . <br> <br>   -    . <br> <br>        ,   <strong>XML-</strong>   : <br> <code><br> &lt;item id="0" parent_id="0" is_published="1" section="1"&gt; <br>  <br> / <br> <br> &lt;item id="1" parent_id="0" is_published="1" section="1" hit="yes"&gt; <br>  <br> news <br> <br></code> <br> <br> <br>      : <br>  <strong>id</strong>    <strong>document</strong> -    <strong>id</strong>  .  <strong>hit</strong>   <strong>item</strong> -   ,   ,    "  ". <br> ,  ,         : <br> <strong>sections</strong> -   . <strong>item</strong> -  . <br>  ,  ,   <strong>item</strong>     <strong>item</strong> ,   ,     : <br> <code><br> <br></code> <br> <br> 1.    xsl/my_template  navigation.xsl  : <br> <code>&lt;?xml version="1.0" encoding="UTF-8"?&gt; <br> &lt;!DOCTYPE xsl:stylesheet SYSTEM "../dtd/entities.dtd"&gt; <br> &lt;xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform"&gt; <br> <br> &lt;xsl:template match="sections" mode="global_menu"&gt; <br> &lt;/xsl:template&gt; <br> <br> &lt;/xsl:stylesheet&gt;</code> <br> <br> 2.         <strong>layout.xsl</strong> : <br> <code><a href="https://habr.com/"></a> <a href="https://habr.com/sections/"></a> <a href="https://habr.com/news/"></a> <br> &lt;xsl:template match="sections" mode="global_menu"&gt; <br>    <br> &lt;/xsl:template&gt; <br></code> <br> <br> 3. ‚Ä¶      <strong>layout.xsl</strong>     : <br> <code><br> &lt;xsl:apply-templates select="navigation/sections" mode="global_menu"/&gt; <br> <br></code> <br> : <br> <strong>select="navigation/sections"</strong> -  ( ) - .  ,     <strong>navigation/sections</strong> . <br> <br> <strong>mode="global_menu"</strong> -     <strong>global_menu</strong> .      ,        , ,  " ",  -         . <br> <br> 4. ,    layout.xsl     <strong>navigation.xsl</strong> : <br> <code>&lt;xsl:import href="navigation.xsl"/&gt;</code> <br> <br> 5. ,    <strong>navigation.xsl</strong>   ,    : <br> <code><br> &lt;xsl:template match="item" mode="global_menu"&gt; <br> &lt;xsl:call-template name="href_attribute"/&gt; <br> &lt;xsl:value-of select="title"/&gt; <br> <br> <br> &lt;/xsl:template&gt; <br> <br></code> <br> : <br> <code>&lt;xsl:call-template name="href_attribute"/&gt;</code> -    .        , ..  . <br> <br> <code>&lt;xsl:value-of select="title"/&gt;</code> - -   title  .         <strong>@</strong> -      . <br> <br> 6.    <strong>sections</strong> : <br> <code><br> &lt;xsl:template match="sections" mode="global_menu"&gt; <br> <br> &lt;/xsl:template&gt; <br> <br></code> <br> : <br> <code>&lt;xsl:apply-templates select="item" mode="global_menu"/&gt;</code> -    <strong>item</strong>  <strong>sections</strong> .  ,  <strong>item</strong>   <strong>item</strong> ( <strong>sections/item/item</strong> )   , ..      . <br> <br>     <strong>item</strong> ( )   .  ,         : <code>&lt;xsl:call-template name="href_attribute"/&gt;</code> <br> <br>      <strong>uri-</strong>    .    . <br> <br> 7.     , <br>   ,    .            <strong>item</strong> : <br> <code><br> &lt;xsl:template match="item" mode="global_menu"&gt; <br> <br> &lt;xsl:choose&gt; <br> <br> &lt;xsl:when test="descendant-or-self::*/@id = /node()/@id"&gt; <br> &lt;xsl:value-of select="title"/&gt; <br> &lt;/xsl:when&gt; <br> <br> &lt;xsl:otherwise&gt; <br> &lt;xsl:call-template name="href_attribute"/&gt; <br> &lt;xsl:value-of select="title"/&gt; <br> <br> &lt;/xsl:otherwise&gt; <br> &lt;/xsl:choose&gt; <br> <br> &lt;/xsl:template&gt; <br> <br></code> <br>      : <br> <code>&lt;xsl:choose&gt; <br> &lt;xsl:when&gt;&lt;/xsl:when&gt; <br> &lt;xsl:otherwise&gt;&lt;/xsl:otherwise&gt; <br> &lt;/xsl:choose&gt; <br></code> <br> ‚Ä¶, ,     <strong>XML-</strong> .      : <code>&lt;xsl:when test="descendant-or-self::*/@id = /node()/@id"&gt;</code> <br> <br>        <strong>ID</strong>    ( <strong>document</strong> )    ( <strong>item</strong> ),   ,    . <br> <br>   <code>&lt;xsl:when&gt;&lt;/xsl:when&gt;</code>  ,      .   <code>&lt;xsl:otherwise&gt;&lt;/xsl:otherwise&gt;</code> -    . <br> <br> 8. ,   <strong>href_attribute</strong> : <br> <code><br> &lt;xsl:template name="href_attribute"&gt; <br> &lt;xsl:attribute name="href"&gt; <br> &lt;xsl:text&gt;/&lt;/xsl:text&gt; <br> &lt;xsl:for-each select="ancestor-or-self::item"&gt; <br> &lt;xsl:value-of select="dir"/&gt; <br> &lt;xsl:text&gt;/&lt;/xsl:text&gt; <br> &lt;/xsl:for-each&gt; <br> &lt;/xsl:attribute&gt; <br> &lt;/xsl:template&gt; <br></code> <br> <br>      <strong>xsl:attribute</strong> .          .         <strong>a</strong> , ,      <strong>href</strong> , .. . <br> <br>  <code>&lt;xsl:for-each select="ancestor-or-self::item"&gt;</code>      ,  .      <strong>ancestor-or-self::item</strong> -         .           <strong>dir</strong> , ..     -. <br> <br> ,   -  ,       . ,   <a href="http://habrahabr.ru/blog/webdev/38433.html">  </a> . <br> <br> <strong>UPD:</strong> <br>   .   ,  : <br> <a href="">parser.proc.ru/iso/xslt-1.zip</a> <br> <br>        (       )           Apache. <br> <br>    XML-   /xsl/document.xml</code></code></code></code></code> <h2> <code><code><code><code><code><code>-    (   ). : <br> <strong>Lang</strong> -  .     . <strong>Id</strong> -   . <br> &lt;lang_table&gt;</code> -  ,   . <br> <code>-   : <br> -    (  ): <br> &lt;item id="0" parent_id="0" is_published="1" section="1"&gt;</code> -   . : <br> <strong>Id</strong> -  . <strong>Parent_id</strong> -   . <strong>Is_published</strong> -   . <strong>Dir</strong> - uri- .     . <strong>Section</strong> -  .         . <br> <code>-  . <br>   CMS   :        : <br> <strong>Html</strong> -  .  ,    . <strong>Com</strong> - -.  ,      CMS: , ,    .. <br>  <strong>XSL-</strong>   ,     .       . <br> <br> CMS       <strong> ,      : <br> : <br> <strong>Id</strong> -  . <br> <strong>Container</strong> - - (    ). <br> <strong>Sorting</strong> -    . <br> <strong>Type</strong> - : <br> <strong>Com</strong> - - <br> <strong>Html</strong> -  . <br> <strong>Method</strong> -  . <br> <strong>Title</strong> -  . <br> <strong>DTD</strong>     (    ): <br> &lt;!DOCTYPE site_page [ <br> <br> &lt;!ENTITY nbsp " "&gt; <br> &lt;!ENTITY sect "¬ß" &gt; <br> &lt;!ENTITY copy "¬©"&gt; <br> &lt;!ENTITY laquo "¬´"&gt; <br> &lt;!ENTITY reg "¬Æ"&gt; <br> &lt;!ENTITY deg "¬∞"&gt; <br> &lt;!ENTITY plusmn "¬±"&gt; <br> &lt;!ENTITY para "¬∂"&gt; <br> &lt;!ENTITY raquo "¬ª"&gt; <br> &lt;!ENTITY times "√ó"&gt; <br> <br> <br> <br> &lt;!ENTITY bull "‚Ä¢"&gt; <br> &lt;!ENTITY hellip "‚Ä¶"&gt; <br> <br> <br> <br> &lt;!ENTITY ndash "‚Äì"&gt; <br> &lt;!ENTITY mdash "‚Äî"&gt; <br> &lt;!ENTITY lsquo "'"&gt; <br> &lt;!ENTITY rsquo "'"&gt; <br> &lt;!ENTITY sbquo "‚Äö"&gt; <br> &lt;!ENTITY ldquo "‚Äú"&gt; <br> &lt;!ENTITY rdquo "‚Äù"&gt; <br> &lt;!ENTITY bdquo "‚Äû"&gt; <br> &lt;!ENTITY lsaquo "‚Äπ"&gt; <br> &lt;!ENTITY rsaquo "‚Ä∫" &gt; <br> &lt;!ENTITY euro "‚Ç¨"&gt; <br> ]&gt; <br></strong></code> <br>      <strong>XML-</strong> .   <code>&lt;?xml version="1.0" encoding="windows-1251"?&gt;</code> . <br> <br>  XHML- <br> XSL-    XHTML- (   ).  XHTML-,  ,   <strong></strong> . <br> <br>      . <br> <br>   XHML-  ,    ,       : <br>  (   ).    -    ,      . / . <br>        HTML-: <br> <code><a href="https://habr.com/ru/post/22236/"></a> <a href="https://habr.com/ru/post/22236/"></a> <a href="https://habr.com/ru/post/22236/"></a> ... <br> <br>   <br> <br> <br> ... <br> <br>    <br> <br> ... <br> <br>   <br> <br> ... <br> <br>  <br> <br> ...</code> <br> <br>   XSL- <br>   XSL-   : <br> <code>&lt;xsl:stylesheet version = '1.0' encoding="UTF-8"?&gt; <br> &lt;xsl:template match="element"&gt; <br>   <br> &lt;/xsl:template&gt; <br> &lt;/xsl:stylesheet&gt;</code> <br> <br> : <code>&lt;xsl:stylesheet version = '1.0' encoding="UTF-8"?&gt;</code> -   <strong>XML-</strong>  .   <strong>UTF-8</strong> ( , ). <br> <code>&lt;xsl:stylesheet&gt; &lt;/xsl:stylesheet&gt;</code> -    XSL-. <br> <code>&lt;xsl:template match="element"&gt; &lt;/xsl:template&gt;</code> -       element. <br> <br>       : <br> <code>&lt;xsl:template match="element"&gt;&lt;/xsl:template&gt;</code> - ,     <strong>element</strong> .      <strong>element</strong> . <code>&lt;xsl:template match="element" mode="mode1"&gt;&lt;/xsl:template&gt;</code> - ,     <strong>element</strong>   <strong>mode1</strong> .         <strong>element</strong> . <code>&lt;xsl:template name="template-name"&gt;&lt;/xsl:template&gt;</code> -    <strong>template-name</strong> .     -  <strong>XML-</strong> . <br>           <strong>XML-</strong> (,  XML-,    item      ),      " "  : <br> <code>&lt;xsl:template match="navigation/sections/item"&gt;&lt;/xsl:template&gt;</code> <br>  ,    , ..,      ,  ,  , ..      <strong>navigation</strong> ,      <strong>navigation/sections/item</strong>     <strong>sections/item</strong> . <br> <br>    <br>  ,         -      .  ,        <strong>xsl-</strong> .            . <br> <br>       <strong>xsl</strong>    . <br> <br> ,        (       )   : <br> <strong>template_folder</strong> -    .      ,  <strong>my_template</strong> . <strong>dtd</strong> -    .   . <strong>lang</strong> -      (      ). <strong>mod</strong> -  . <br>       <strong>xsl/my_template</strong>   ,  <strong>layout.xsl</strong>  : <br> <code>&lt;?xml version="1.0" encoding="UTF-8"?&gt; <br> &lt;!DOCTYPE xsl:stylesheet SYSTEM "../dtd/entities.dtd"&gt; <br> &lt;xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform"&gt; <br> <br> &lt;xsl:template match="/node()"&gt; <br> &lt;/xsl:template&gt; <br> <br> &lt;/xsl:stylesheet&gt; <br></code> <br> : <br> <code>&lt;xsl:template match="/node()"&gt; &lt;/xsl:template&gt;</code> -    <strong>/node()</strong> ().  <strong>/node()</strong>   <strong>//document</strong> , ..      . <br> <br>   XHTML-   <code>&lt;xsl:template match="/node()"&gt;&lt;/xsl:template&gt;</code> <br> <br>        <strong>XML-</strong> .   , <strong>XSL-</strong>   <strong>XML-</strong>  <strong>XHTML-</strong>  . <br> <br> ,    <strong>XSL</strong>   <strong>template.xsl</strong> (, <strong>template</strong> -   ),     : <br> <code>&lt;?xml version="1.0" encoding="UTF-8"?&gt; <br> &lt;xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform"&gt; <br> <br> &lt;xsl:import href=" my_template /layout.xsl"/&gt; <br> &lt;/xsl:stylesheet&gt; <br></code> <br> : <br> <code>&lt;xsl:import href="my_template/layout.xsl"/&gt;</code> <br>    XSL- ( <strong>XSL-</strong> )   .     . <br> <br>       <br>       , ..     XML-    . <br> <br>   -    . <br> <br>        ,   <strong>XML-</strong>   : <br> <code><br> &lt;item id="0" parent_id="0" is_published="1" section="1"&gt; <br>  <br> / <br> <br> &lt;item id="1" parent_id="0" is_published="1" section="1" hit="yes"&gt; <br>  <br> news <br> <br></code> <br> <br> <br>      : <br>  <strong>id</strong>    <strong>document</strong> -    <strong>id</strong>  .  <strong>hit</strong>   <strong>item</strong> -   ,   ,    "  ". <br> ,  ,         : <br> <strong>sections</strong> -   . <strong>item</strong> -  . <br>  ,  ,   <strong>item</strong>     <strong>item</strong> ,   ,     : <br> <code><br> <br></code> <br> <br> 1.    xsl/my_template  navigation.xsl  : <br> <code>&lt;?xml version="1.0" encoding="UTF-8"?&gt; <br> &lt;!DOCTYPE xsl:stylesheet SYSTEM "../dtd/entities.dtd"&gt; <br> &lt;xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform"&gt; <br> <br> &lt;xsl:template match="sections" mode="global_menu"&gt; <br> &lt;/xsl:template&gt; <br> <br> &lt;/xsl:stylesheet&gt;</code> <br> <br> 2.         <strong>layout.xsl</strong> : <br> <code><a href="https://habr.com/"></a> <a href="https://habr.com/sections/"></a> <a href="https://habr.com/news/"></a> <br> &lt;xsl:template match="sections" mode="global_menu"&gt; <br>    <br> &lt;/xsl:template&gt; <br></code> <br> <br> 3. ‚Ä¶      <strong>layout.xsl</strong>     : <br> <code><br> &lt;xsl:apply-templates select="navigation/sections" mode="global_menu"/&gt; <br> <br></code> <br> : <br> <strong>select="navigation/sections"</strong> -  ( ) - .  ,     <strong>navigation/sections</strong> . <br> <br> <strong>mode="global_menu"</strong> -     <strong>global_menu</strong> .      ,        , ,  " ",  -         . <br> <br> 4. ,    layout.xsl     <strong>navigation.xsl</strong> : <br> <code>&lt;xsl:import href="navigation.xsl"/&gt;</code> <br> <br> 5. ,    <strong>navigation.xsl</strong>   ,    : <br> <code><br> &lt;xsl:template match="item" mode="global_menu"&gt; <br> &lt;xsl:call-template name="href_attribute"/&gt; <br> &lt;xsl:value-of select="title"/&gt; <br> <br> <br> &lt;/xsl:template&gt; <br> <br></code> <br> : <br> <code>&lt;xsl:call-template name="href_attribute"/&gt;</code> -    .        , ..  . <br> <br> <code>&lt;xsl:value-of select="title"/&gt;</code> - -   title  .         <strong>@</strong> -      . <br> <br> 6.    <strong>sections</strong> : <br> <code><br> &lt;xsl:template match="sections" mode="global_menu"&gt; <br> <br> &lt;/xsl:template&gt; <br> <br></code> <br> : <br> <code>&lt;xsl:apply-templates select="item" mode="global_menu"/&gt;</code> -    <strong>item</strong>  <strong>sections</strong> .  ,  <strong>item</strong>   <strong>item</strong> ( <strong>sections/item/item</strong> )   , ..      . <br> <br>     <strong>item</strong> ( )   .  ,         : <code>&lt;xsl:call-template name="href_attribute"/&gt;</code> <br> <br>      <strong>uri-</strong>    .    . <br> <br> 7.     , <br>   ,    .            <strong>item</strong> : <br> <code><br> &lt;xsl:template match="item" mode="global_menu"&gt; <br> <br> &lt;xsl:choose&gt; <br> <br> &lt;xsl:when test="descendant-or-self::*/@id = /node()/@id"&gt; <br> &lt;xsl:value-of select="title"/&gt; <br> &lt;/xsl:when&gt; <br> <br> &lt;xsl:otherwise&gt; <br> &lt;xsl:call-template name="href_attribute"/&gt; <br> &lt;xsl:value-of select="title"/&gt; <br> <br> &lt;/xsl:otherwise&gt; <br> &lt;/xsl:choose&gt; <br> <br> &lt;/xsl:template&gt; <br> <br></code> <br>      : <br> <code>&lt;xsl:choose&gt; <br> &lt;xsl:when&gt;&lt;/xsl:when&gt; <br> &lt;xsl:otherwise&gt;&lt;/xsl:otherwise&gt; <br> &lt;/xsl:choose&gt; <br></code> <br> ‚Ä¶, ,     <strong>XML-</strong> .      : <code>&lt;xsl:when test="descendant-or-self::*/@id = /node()/@id"&gt;</code> <br> <br>        <strong>ID</strong>    ( <strong>document</strong> )    ( <strong>item</strong> ),   ,    . <br> <br>   <code>&lt;xsl:when&gt;&lt;/xsl:when&gt;</code>  ,      .   <code>&lt;xsl:otherwise&gt;&lt;/xsl:otherwise&gt;</code> -    . <br> <br> 8. ,   <strong>href_attribute</strong> : <br> <code><br> &lt;xsl:template name="href_attribute"&gt; <br> &lt;xsl:attribute name="href"&gt; <br> &lt;xsl:text&gt;/&lt;/xsl:text&gt; <br> &lt;xsl:for-each select="ancestor-or-self::item"&gt; <br> &lt;xsl:value-of select="dir"/&gt; <br> &lt;xsl:text&gt;/&lt;/xsl:text&gt; <br> &lt;/xsl:for-each&gt; <br> &lt;/xsl:attribute&gt; <br> &lt;/xsl:template&gt; <br></code> <br> <br>      <strong>xsl:attribute</strong> .          .         <strong>a</strong> , ,      <strong>href</strong> , .. . <br> <br>  <code>&lt;xsl:for-each select="ancestor-or-self::item"&gt;</code>      ,  .      <strong>ancestor-or-self::item</strong> -         .           <strong>dir</strong> , ..     -. <br> <br> ,   -  ,       . ,   <a href="http://habrahabr.ru/blog/webdev/38433.html">  </a> . <br> <br> <strong>UPD:</strong> <br>   .   ,  : <br> <a href="">parser.proc.ru/iso/xslt-1.zip</a> <br> <br>        (       )           Apache. <br> <br>    XML-   /xsl/document.xml</code></code></code></code></code> </h2> <code><code><code><code><code><code>-    (   ). : <br> <strong>Lang</strong> -  .     . <strong>Id</strong> -   . <br> &lt;lang_table&gt;</code> -  ,   . <br> <code>-   : <br> -    (  ): <br> &lt;item id="0" parent_id="0" is_published="1" section="1"&gt;</code> -   . : <br> <strong>Id</strong> -  . <strong>Parent_id</strong> -   . <strong>Is_published</strong> -   . <strong>Dir</strong> - uri- .     . <strong>Section</strong> -  .         . <br> <code>-  . <br>   CMS   :        : <br> <strong>Html</strong> -  .  ,    . <strong>Com</strong> - -.  ,      CMS: , ,    .. <br>  <strong>XSL-</strong>   ,     .       . <br> <br> CMS       <strong> ,      : <br> : <br> <strong>Id</strong> -  . <br> <strong>Container</strong> - - (    ). <br> <strong>Sorting</strong> -    . <br> <strong>Type</strong> - : <br> <strong>Com</strong> - - <br> <strong>Html</strong> -  . <br> <strong>Method</strong> -  . <br> <strong>Title</strong> -  . <br> <strong>DTD</strong>     (    ): <br> &lt;!DOCTYPE site_page [ <br> <br> &lt;!ENTITY nbsp " "&gt; <br> &lt;!ENTITY sect "¬ß" &gt; <br> &lt;!ENTITY copy "¬©"&gt; <br> &lt;!ENTITY laquo "¬´"&gt; <br> &lt;!ENTITY reg "¬Æ"&gt; <br> &lt;!ENTITY deg "¬∞"&gt; <br> &lt;!ENTITY plusmn "¬±"&gt; <br> &lt;!ENTITY para "¬∂"&gt; <br> &lt;!ENTITY raquo "¬ª"&gt; <br> &lt;!ENTITY times "√ó"&gt; <br> <br> <br> <br> &lt;!ENTITY bull "‚Ä¢"&gt; <br> &lt;!ENTITY hellip "‚Ä¶"&gt; <br> <br> <br> <br> &lt;!ENTITY ndash "‚Äì"&gt; <br> &lt;!ENTITY mdash "‚Äî"&gt; <br> &lt;!ENTITY lsquo "'"&gt; <br> &lt;!ENTITY rsquo "'"&gt; <br> &lt;!ENTITY sbquo "‚Äö"&gt; <br> &lt;!ENTITY ldquo "‚Äú"&gt; <br> &lt;!ENTITY rdquo "‚Äù"&gt; <br> &lt;!ENTITY bdquo "‚Äû"&gt; <br> &lt;!ENTITY lsaquo "‚Äπ"&gt; <br> &lt;!ENTITY rsaquo "‚Ä∫" &gt; <br> &lt;!ENTITY euro "‚Ç¨"&gt; <br> ]&gt; <br></strong></code> <br>      <strong>XML-</strong> .   <code>&lt;?xml version="1.0" encoding="windows-1251"?&gt;</code> . <br> <br>  XHML- <br> XSL-    XHTML- (   ).  XHTML-,  ,   <strong></strong> . <br> <br>      . <br> <br>   XHML-  ,    ,       : <br>  (   ).    -    ,      . / . <br>        HTML-: <br> <code><a href="https://habr.com/ru/post/22236/"></a> <a href="https://habr.com/ru/post/22236/"></a> <a href="https://habr.com/ru/post/22236/"></a> ... <br> <br>   <br> <br> <br> ... <br> <br>    <br> <br> ... <br> <br>   <br> <br> ... <br> <br>  <br> <br> ...</code> <br> <br>   XSL- <br>   XSL-   : <br> <code>&lt;xsl:stylesheet version = '1.0' encoding="UTF-8"?&gt; <br> &lt;xsl:template match="element"&gt; <br>   <br> &lt;/xsl:template&gt; <br> &lt;/xsl:stylesheet&gt;</code> <br> <br> : <code>&lt;xsl:stylesheet version = '1.0' encoding="UTF-8"?&gt;</code> -   <strong>XML-</strong>  .   <strong>UTF-8</strong> ( , ). <br> <code>&lt;xsl:stylesheet&gt; &lt;/xsl:stylesheet&gt;</code> -    XSL-. <br> <code>&lt;xsl:template match="element"&gt; &lt;/xsl:template&gt;</code> -       element. <br> <br>       : <br> <code>&lt;xsl:template match="element"&gt;&lt;/xsl:template&gt;</code> - ,     <strong>element</strong> .      <strong>element</strong> . <code>&lt;xsl:template match="element" mode="mode1"&gt;&lt;/xsl:template&gt;</code> - ,     <strong>element</strong>   <strong>mode1</strong> .         <strong>element</strong> . <code>&lt;xsl:template name="template-name"&gt;&lt;/xsl:template&gt;</code> -    <strong>template-name</strong> .     -  <strong>XML-</strong> . <br>           <strong>XML-</strong> (,  XML-,    item      ),      " "  : <br> <code>&lt;xsl:template match="navigation/sections/item"&gt;&lt;/xsl:template&gt;</code> <br>  ,    , ..,      ,  ,  , ..      <strong>navigation</strong> ,      <strong>navigation/sections/item</strong>     <strong>sections/item</strong> . <br> <br>    <br>  ,         -      .  ,        <strong>xsl-</strong> .            . <br> <br>       <strong>xsl</strong>    . <br> <br> ,        (       )   : <br> <strong>template_folder</strong> -    .      ,  <strong>my_template</strong> . <strong>dtd</strong> -    .   . <strong>lang</strong> -      (      ). <strong>mod</strong> -  . <br>       <strong>xsl/my_template</strong>   ,  <strong>layout.xsl</strong>  : <br> <code>&lt;?xml version="1.0" encoding="UTF-8"?&gt; <br> &lt;!DOCTYPE xsl:stylesheet SYSTEM "../dtd/entities.dtd"&gt; <br> &lt;xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform"&gt; <br> <br> &lt;xsl:template match="/node()"&gt; <br> &lt;/xsl:template&gt; <br> <br> &lt;/xsl:stylesheet&gt; <br></code> <br> : <br> <code>&lt;xsl:template match="/node()"&gt; &lt;/xsl:template&gt;</code> -    <strong>/node()</strong> ().  <strong>/node()</strong>   <strong>//document</strong> , ..      . <br> <br>   XHTML-   <code>&lt;xsl:template match="/node()"&gt;&lt;/xsl:template&gt;</code> <br> <br>        <strong>XML-</strong> .   , <strong>XSL-</strong>   <strong>XML-</strong>  <strong>XHTML-</strong>  . <br> <br> ,    <strong>XSL</strong>   <strong>template.xsl</strong> (, <strong>template</strong> -   ),     : <br> <code>&lt;?xml version="1.0" encoding="UTF-8"?&gt; <br> &lt;xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform"&gt; <br> <br> &lt;xsl:import href=" my_template /layout.xsl"/&gt; <br> &lt;/xsl:stylesheet&gt; <br></code> <br> : <br> <code>&lt;xsl:import href="my_template/layout.xsl"/&gt;</code> <br>    XSL- ( <strong>XSL-</strong> )   .     . <br> <br>       <br>       , ..     XML-    . <br> <br>   -    . <br> <br>        ,   <strong>XML-</strong>   : <br> <code><br> &lt;item id="0" parent_id="0" is_published="1" section="1"&gt; <br>  <br> / <br> <br> &lt;item id="1" parent_id="0" is_published="1" section="1" hit="yes"&gt; <br>  <br> news <br> <br></code> <br> <br> <br>      : <br>  <strong>id</strong>    <strong>document</strong> -    <strong>id</strong>  .  <strong>hit</strong>   <strong>item</strong> -   ,   ,    "  ". <br> ,  ,         : <br> <strong>sections</strong> -   . <strong>item</strong> -  . <br>  ,  ,   <strong>item</strong>     <strong>item</strong> ,   ,     : <br> <code><br> <br></code> <br> <br> 1.    xsl/my_template  navigation.xsl  : <br> <code>&lt;?xml version="1.0" encoding="UTF-8"?&gt; <br> &lt;!DOCTYPE xsl:stylesheet SYSTEM "../dtd/entities.dtd"&gt; <br> &lt;xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform"&gt; <br> <br> &lt;xsl:template match="sections" mode="global_menu"&gt; <br> &lt;/xsl:template&gt; <br> <br> &lt;/xsl:stylesheet&gt;</code> <br> <br> 2.         <strong>layout.xsl</strong> : <br> <code><a href="https://habr.com/"></a> <a href="https://habr.com/sections/"></a> <a href="https://habr.com/news/"></a> <br> &lt;xsl:template match="sections" mode="global_menu"&gt; <br>    <br> &lt;/xsl:template&gt; <br></code> <br> <br> 3. ‚Ä¶      <strong>layout.xsl</strong>     : <br> <code><br> &lt;xsl:apply-templates select="navigation/sections" mode="global_menu"/&gt; <br> <br></code> <br> : <br> <strong>select="navigation/sections"</strong> -  ( ) - .  ,     <strong>navigation/sections</strong> . <br> <br> <strong>mode="global_menu"</strong> -     <strong>global_menu</strong> .      ,        , ,  " ",  -         . <br> <br> 4. ,    layout.xsl     <strong>navigation.xsl</strong> : <br> <code>&lt;xsl:import href="navigation.xsl"/&gt;</code> <br> <br> 5. ,    <strong>navigation.xsl</strong>   ,    : <br> <code><br> &lt;xsl:template match="item" mode="global_menu"&gt; <br> &lt;xsl:call-template name="href_attribute"/&gt; <br> &lt;xsl:value-of select="title"/&gt; <br> <br> <br> &lt;/xsl:template&gt; <br> <br></code> <br> : <br> <code>&lt;xsl:call-template name="href_attribute"/&gt;</code> -    .        , ..  . <br> <br> <code>&lt;xsl:value-of select="title"/&gt;</code> - -   title  .         <strong>@</strong> -      . <br> <br> 6.    <strong>sections</strong> : <br> <code><br> &lt;xsl:template match="sections" mode="global_menu"&gt; <br> <br> &lt;/xsl:template&gt; <br> <br></code> <br> : <br> <code>&lt;xsl:apply-templates select="item" mode="global_menu"/&gt;</code> -    <strong>item</strong>  <strong>sections</strong> .  ,  <strong>item</strong>   <strong>item</strong> ( <strong>sections/item/item</strong> )   , ..      . <br> <br>     <strong>item</strong> ( )   .  ,         : <code>&lt;xsl:call-template name="href_attribute"/&gt;</code> <br> <br>      <strong>uri-</strong>    .    . <br> <br> 7.     , <br>   ,    .            <strong>item</strong> : <br> <code><br> &lt;xsl:template match="item" mode="global_menu"&gt; <br> <br> &lt;xsl:choose&gt; <br> <br> &lt;xsl:when test="descendant-or-self::*/@id = /node()/@id"&gt; <br> &lt;xsl:value-of select="title"/&gt; <br> &lt;/xsl:when&gt; <br> <br> &lt;xsl:otherwise&gt; <br> &lt;xsl:call-template name="href_attribute"/&gt; <br> &lt;xsl:value-of select="title"/&gt; <br> <br> &lt;/xsl:otherwise&gt; <br> &lt;/xsl:choose&gt; <br> <br> &lt;/xsl:template&gt; <br> <br></code> <br>      : <br> <code>&lt;xsl:choose&gt; <br> &lt;xsl:when&gt;&lt;/xsl:when&gt; <br> &lt;xsl:otherwise&gt;&lt;/xsl:otherwise&gt; <br> &lt;/xsl:choose&gt; <br></code> <br> ‚Ä¶, ,     <strong>XML-</strong> .      : <code>&lt;xsl:when test="descendant-or-self::*/@id = /node()/@id"&gt;</code> <br> <br>        <strong>ID</strong>    ( <strong>document</strong> )    ( <strong>item</strong> ),   ,    . <br> <br>   <code>&lt;xsl:when&gt;&lt;/xsl:when&gt;</code>  ,      .   <code>&lt;xsl:otherwise&gt;&lt;/xsl:otherwise&gt;</code> -    . <br> <br> 8. ,   <strong>href_attribute</strong> : <br> <code><br> &lt;xsl:template name="href_attribute"&gt; <br> &lt;xsl:attribute name="href"&gt; <br> &lt;xsl:text&gt;/&lt;/xsl:text&gt; <br> &lt;xsl:for-each select="ancestor-or-self::item"&gt; <br> &lt;xsl:value-of select="dir"/&gt; <br> &lt;xsl:text&gt;/&lt;/xsl:text&gt; <br> &lt;/xsl:for-each&gt; <br> &lt;/xsl:attribute&gt; <br> &lt;/xsl:template&gt; <br></code> <br> <br>      <strong>xsl:attribute</strong> .          .         <strong>a</strong> , ,      <strong>href</strong> , .. . <br> <br>  <code>&lt;xsl:for-each select="ancestor-or-self::item"&gt;</code>      ,  .      <strong>ancestor-or-self::item</strong> -         .           <strong>dir</strong> , ..     -. <br> <br> ,   -  ,       . ,   <a href="http://habrahabr.ru/blog/webdev/38433.html">  </a> . <br> <br> <strong>UPD:</strong> <br>   .   ,  : <br> <a href="">parser.proc.ru/iso/xslt-1.zip</a> <br> <br>        (       )           Apache. <br> <br>    XML-   /xsl/document.xml</code></code></code></code></code> <ul><li> <code><code><code><code><code><code>-    (   ). : <br> <strong>Lang</strong> -  .     . <strong>Id</strong> -   . <br> &lt;lang_table&gt;</code> -  ,   . <br> <code>-   : <br> -    (  ): <br> &lt;item id="0" parent_id="0" is_published="1" section="1"&gt;</code> -   . : <br> <strong>Id</strong> -  . <strong>Parent_id</strong> -   . <strong>Is_published</strong> -   . <strong>Dir</strong> - uri- .     . <strong>Section</strong> -  .         . <br> <code>-  . <br>   CMS   :        : <br> <strong>Html</strong> -  .  ,    . <strong>Com</strong> - -.  ,      CMS: , ,    .. <br>  <strong>XSL-</strong>   ,     .       . <br> <br> CMS       <strong> ,      : <br> : <br> <strong>Id</strong> -  . <br> <strong>Container</strong> - - (    ). <br> <strong>Sorting</strong> -    . <br> <strong>Type</strong> - : <br> <strong>Com</strong> - - <br> <strong>Html</strong> -  . <br> <strong>Method</strong> -  . <br> <strong>Title</strong> -  . <br> <strong>DTD</strong>     (    ): <br> &lt;!DOCTYPE site_page [ <br> <br> &lt;!ENTITY nbsp " "&gt; <br> &lt;!ENTITY sect "¬ß" &gt; <br> &lt;!ENTITY copy "¬©"&gt; <br> &lt;!ENTITY laquo "¬´"&gt; <br> &lt;!ENTITY reg "¬Æ"&gt; <br> &lt;!ENTITY deg "¬∞"&gt; <br> &lt;!ENTITY plusmn "¬±"&gt; <br> &lt;!ENTITY para "¬∂"&gt; <br> &lt;!ENTITY raquo "¬ª"&gt; <br> &lt;!ENTITY times "√ó"&gt; <br> <br> <br> <br> &lt;!ENTITY bull "‚Ä¢"&gt; <br> &lt;!ENTITY hellip "‚Ä¶"&gt; <br> <br> <br> <br> &lt;!ENTITY ndash "‚Äì"&gt; <br> &lt;!ENTITY mdash "‚Äî"&gt; <br> &lt;!ENTITY lsquo "'"&gt; <br> &lt;!ENTITY rsquo "'"&gt; <br> &lt;!ENTITY sbquo "‚Äö"&gt; <br> &lt;!ENTITY ldquo "‚Äú"&gt; <br> &lt;!ENTITY rdquo "‚Äù"&gt; <br> &lt;!ENTITY bdquo "‚Äû"&gt; <br> &lt;!ENTITY lsaquo "‚Äπ"&gt; <br> &lt;!ENTITY rsaquo "‚Ä∫" &gt; <br> &lt;!ENTITY euro "‚Ç¨"&gt; <br> ]&gt; <br></strong></code> <br>      <strong>XML-</strong> .   <code>&lt;?xml version="1.0" encoding="windows-1251"?&gt;</code> . <br> <br>  XHML- <br> XSL-    XHTML- (   ).  XHTML-,  ,   <strong></strong> . <br> <br>      . <br> <br>   XHML-  ,    ,       : <br>  (   ).    -    ,      . / . <br>        HTML-: <br> <code><a href="https://habr.com/ru/post/22236/"></a> <a href="https://habr.com/ru/post/22236/"></a> <a href="https://habr.com/ru/post/22236/"></a> ... <br> <br>   <br> <br> <br> ... <br> <br>    <br> <br> ... <br> <br>   <br> <br> ... <br> <br>  <br> <br> ...</code> <br> <br>   XSL- <br>   XSL-   : <br> <code>&lt;xsl:stylesheet version = '1.0' encoding="UTF-8"?&gt; <br> &lt;xsl:template match="element"&gt; <br>   <br> &lt;/xsl:template&gt; <br> &lt;/xsl:stylesheet&gt;</code> <br> <br> : <code>&lt;xsl:stylesheet version = '1.0' encoding="UTF-8"?&gt;</code> -   <strong>XML-</strong>  .   <strong>UTF-8</strong> ( , ). <br> <code>&lt;xsl:stylesheet&gt; &lt;/xsl:stylesheet&gt;</code> -    XSL-. <br> <code>&lt;xsl:template match="element"&gt; &lt;/xsl:template&gt;</code> -       element. <br> <br>       : <br> <code>&lt;xsl:template match="element"&gt;&lt;/xsl:template&gt;</code> - ,     <strong>element</strong> .      <strong>element</strong> . <code>&lt;xsl:template match="element" mode="mode1"&gt;&lt;/xsl:template&gt;</code> - ,     <strong>element</strong>   <strong>mode1</strong> .         <strong>element</strong> . <code>&lt;xsl:template name="template-name"&gt;&lt;/xsl:template&gt;</code> -    <strong>template-name</strong> .     -  <strong>XML-</strong> . <br>           <strong>XML-</strong> (,  XML-,    item      ),      " "  : <br> <code>&lt;xsl:template match="navigation/sections/item"&gt;&lt;/xsl:template&gt;</code> <br>  ,    , ..,      ,  ,  , ..      <strong>navigation</strong> ,      <strong>navigation/sections/item</strong>     <strong>sections/item</strong> . <br> <br>    <br>  ,         -      .  ,        <strong>xsl-</strong> .            . <br> <br>       <strong>xsl</strong>    . <br> <br> ,        (       )   : <br> <strong>template_folder</strong> -    .      ,  <strong>my_template</strong> . <strong>dtd</strong> -    .   . <strong>lang</strong> -      (      ). <strong>mod</strong> -  . <br>       <strong>xsl/my_template</strong>   ,  <strong>layout.xsl</strong>  : <br> <code>&lt;?xml version="1.0" encoding="UTF-8"?&gt; <br> &lt;!DOCTYPE xsl:stylesheet SYSTEM "../dtd/entities.dtd"&gt; <br> &lt;xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform"&gt; <br> <br> &lt;xsl:template match="/node()"&gt; <br> &lt;/xsl:template&gt; <br> <br> &lt;/xsl:stylesheet&gt; <br></code> <br> : <br> <code>&lt;xsl:template match="/node()"&gt; &lt;/xsl:template&gt;</code> -    <strong>/node()</strong> ().  <strong>/node()</strong>   <strong>//document</strong> , ..      . <br> <br>   XHTML-   <code>&lt;xsl:template match="/node()"&gt;&lt;/xsl:template&gt;</code> <br> <br>        <strong>XML-</strong> .   , <strong>XSL-</strong>   <strong>XML-</strong>  <strong>XHTML-</strong>  . <br> <br> ,    <strong>XSL</strong>   <strong>template.xsl</strong> (, <strong>template</strong> -   ),     : <br> <code>&lt;?xml version="1.0" encoding="UTF-8"?&gt; <br> &lt;xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform"&gt; <br> <br> &lt;xsl:import href=" my_template /layout.xsl"/&gt; <br> &lt;/xsl:stylesheet&gt; <br></code> <br> : <br> <code>&lt;xsl:import href="my_template/layout.xsl"/&gt;</code> <br>    XSL- ( <strong>XSL-</strong> )   .     . <br> <br>       <br>       , ..     XML-    . <br> <br>   -    . <br> <br>        ,   <strong>XML-</strong>   : <br> <code><br> &lt;item id="0" parent_id="0" is_published="1" section="1"&gt; <br>  <br> / <br> <br> &lt;item id="1" parent_id="0" is_published="1" section="1" hit="yes"&gt; <br>  <br> news <br> <br></code> <br> <br> <br>      : <br>  <strong>id</strong>    <strong>document</strong> -    <strong>id</strong>  .  <strong>hit</strong>   <strong>item</strong> -   ,   ,    "  ". <br> ,  ,         : <br> <strong>sections</strong> -   . <strong>item</strong> -  . <br>  ,  ,   <strong>item</strong>     <strong>item</strong> ,   ,     : <br> <code><br> <br></code> <br> <br> 1.    xsl/my_template  navigation.xsl  : <br> <code>&lt;?xml version="1.0" encoding="UTF-8"?&gt; <br> &lt;!DOCTYPE xsl:stylesheet SYSTEM "../dtd/entities.dtd"&gt; <br> &lt;xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform"&gt; <br> <br> &lt;xsl:template match="sections" mode="global_menu"&gt; <br> &lt;/xsl:template&gt; <br> <br> &lt;/xsl:stylesheet&gt;</code> <br> <br> 2.         <strong>layout.xsl</strong> : <br> <code><a href="https://habr.com/"></a> <a href="https://habr.com/sections/"></a> <a href="https://habr.com/news/"></a> <br> &lt;xsl:template match="sections" mode="global_menu"&gt; <br>    <br> &lt;/xsl:template&gt; <br></code> <br> <br> 3. ‚Ä¶      <strong>layout.xsl</strong>     : <br> <code><br> &lt;xsl:apply-templates select="navigation/sections" mode="global_menu"/&gt; <br> <br></code> <br> : <br> <strong>select="navigation/sections"</strong> -  ( ) - .  ,     <strong>navigation/sections</strong> . <br> <br> <strong>mode="global_menu"</strong> -     <strong>global_menu</strong> .      ,        , ,  " ",  -         . <br> <br> 4. ,    layout.xsl     <strong>navigation.xsl</strong> : <br> <code>&lt;xsl:import href="navigation.xsl"/&gt;</code> <br> <br> 5. ,    <strong>navigation.xsl</strong>   ,    : <br> <code><br> &lt;xsl:template match="item" mode="global_menu"&gt; <br> &lt;xsl:call-template name="href_attribute"/&gt; <br> &lt;xsl:value-of select="title"/&gt; <br> <br> <br> &lt;/xsl:template&gt; <br> <br></code> <br> : <br> <code>&lt;xsl:call-template name="href_attribute"/&gt;</code> -    .        , ..  . <br> <br> <code>&lt;xsl:value-of select="title"/&gt;</code> - -   title  .         <strong>@</strong> -      . <br> <br> 6.    <strong>sections</strong> : <br> <code><br> &lt;xsl:template match="sections" mode="global_menu"&gt; <br> <br> &lt;/xsl:template&gt; <br> <br></code> <br> : <br> <code>&lt;xsl:apply-templates select="item" mode="global_menu"/&gt;</code> -    <strong>item</strong>  <strong>sections</strong> .  ,  <strong>item</strong>   <strong>item</strong> ( <strong>sections/item/item</strong> )   , ..      . <br> <br>     <strong>item</strong> ( )   .  ,         : <code>&lt;xsl:call-template name="href_attribute"/&gt;</code> <br> <br>      <strong>uri-</strong>    .    . <br> <br> 7.     , <br>   ,    .            <strong>item</strong> : <br> <code><br> &lt;xsl:template match="item" mode="global_menu"&gt; <br> <br> &lt;xsl:choose&gt; <br> <br> &lt;xsl:when test="descendant-or-self::*/@id = /node()/@id"&gt; <br> &lt;xsl:value-of select="title"/&gt; <br> &lt;/xsl:when&gt; <br> <br> &lt;xsl:otherwise&gt; <br> &lt;xsl:call-template name="href_attribute"/&gt; <br> &lt;xsl:value-of select="title"/&gt; <br> <br> &lt;/xsl:otherwise&gt; <br> &lt;/xsl:choose&gt; <br> <br> &lt;/xsl:template&gt; <br> <br></code> <br>      : <br> <code>&lt;xsl:choose&gt; <br> &lt;xsl:when&gt;&lt;/xsl:when&gt; <br> &lt;xsl:otherwise&gt;&lt;/xsl:otherwise&gt; <br> &lt;/xsl:choose&gt; <br></code> <br> ‚Ä¶, ,     <strong>XML-</strong> .      : <code>&lt;xsl:when test="descendant-or-self::*/@id = /node()/@id"&gt;</code> <br> <br>        <strong>ID</strong>    ( <strong>document</strong> )    ( <strong>item</strong> ),   ,    . <br> <br>   <code>&lt;xsl:when&gt;&lt;/xsl:when&gt;</code>  ,      .   <code>&lt;xsl:otherwise&gt;&lt;/xsl:otherwise&gt;</code> -    . <br> <br> 8. ,   <strong>href_attribute</strong> : <br> <code><br> &lt;xsl:template name="href_attribute"&gt; <br> &lt;xsl:attribute name="href"&gt; <br> &lt;xsl:text&gt;/&lt;/xsl:text&gt; <br> &lt;xsl:for-each select="ancestor-or-self::item"&gt; <br> &lt;xsl:value-of select="dir"/&gt; <br> &lt;xsl:text&gt;/&lt;/xsl:text&gt; <br> &lt;/xsl:for-each&gt; <br> &lt;/xsl:attribute&gt; <br> &lt;/xsl:template&gt; <br></code> <br> <br>      <strong>xsl:attribute</strong> .          .         <strong>a</strong> , ,      <strong>href</strong> , .. . <br> <br>  <code>&lt;xsl:for-each select="ancestor-or-self::item"&gt;</code>      ,  .      <strong>ancestor-or-self::item</strong> -         .           <strong>dir</strong> , ..     -. <br> <br> ,   -  ,       . ,   <a href="http://habrahabr.ru/blog/webdev/38433.html">  </a> . <br> <br> <strong>UPD:</strong> <br>   .   ,  : <br> <a href="">parser.proc.ru/iso/xslt-1.zip</a> <br> <br>        (       )           Apache. <br> <br>    XML-   /xsl/document.xml</code></code></code></code></code> </li> <li> <code><code><code><code><code><code>-    (   ). : <br> <strong>Lang</strong> -  .     . <strong>Id</strong> -   . <br> &lt;lang_table&gt;</code> -  ,   . <br> <code>-   : <br> -    (  ): <br> &lt;item id="0" parent_id="0" is_published="1" section="1"&gt;</code> -   . : <br> <strong>Id</strong> -  . <strong>Parent_id</strong> -   . <strong>Is_published</strong> -   . <strong>Dir</strong> - uri- .     . <strong>Section</strong> -  .         . <br> <code>-  . <br>   CMS   :        : <br> <strong>Html</strong> -  .  ,    . <strong>Com</strong> - -.  ,      CMS: , ,    .. <br>  <strong>XSL-</strong>   ,     .       . <br> <br> CMS       <strong> ,      : <br> : <br> <strong>Id</strong> -  . <br> <strong>Container</strong> - - (    ). <br> <strong>Sorting</strong> -    . <br> <strong>Type</strong> - : <br> <strong>Com</strong> - - <br> <strong>Html</strong> -  . <br> <strong>Method</strong> -  . <br> <strong>Title</strong> -  . <br> <strong>DTD</strong>     (    ): <br> &lt;!DOCTYPE site_page [ <br> <br> &lt;!ENTITY nbsp " "&gt; <br> &lt;!ENTITY sect "¬ß" &gt; <br> &lt;!ENTITY copy "¬©"&gt; <br> &lt;!ENTITY laquo "¬´"&gt; <br> &lt;!ENTITY reg "¬Æ"&gt; <br> &lt;!ENTITY deg "¬∞"&gt; <br> &lt;!ENTITY plusmn "¬±"&gt; <br> &lt;!ENTITY para "¬∂"&gt; <br> &lt;!ENTITY raquo "¬ª"&gt; <br> &lt;!ENTITY times "√ó"&gt; <br> <br> <br> <br> &lt;!ENTITY bull "‚Ä¢"&gt; <br> &lt;!ENTITY hellip "‚Ä¶"&gt; <br> <br> <br> <br> &lt;!ENTITY ndash "‚Äì"&gt; <br> &lt;!ENTITY mdash "‚Äî"&gt; <br> &lt;!ENTITY lsquo "'"&gt; <br> &lt;!ENTITY rsquo "'"&gt; <br> &lt;!ENTITY sbquo "‚Äö"&gt; <br> &lt;!ENTITY ldquo "‚Äú"&gt; <br> &lt;!ENTITY rdquo "‚Äù"&gt; <br> &lt;!ENTITY bdquo "‚Äû"&gt; <br> &lt;!ENTITY lsaquo "‚Äπ"&gt; <br> &lt;!ENTITY rsaquo "‚Ä∫" &gt; <br> &lt;!ENTITY euro "‚Ç¨"&gt; <br> ]&gt; <br></strong></code> <br>      <strong>XML-</strong> .   <code>&lt;?xml version="1.0" encoding="windows-1251"?&gt;</code> . <br> <br>  XHML- <br> XSL-    XHTML- (   ).  XHTML-,  ,   <strong></strong> . <br> <br>      . <br> <br>   XHML-  ,    ,       : <br>  (   ).    -    ,      . / . <br>        HTML-: <br> <code><a href="https://habr.com/ru/post/22236/"></a> <a href="https://habr.com/ru/post/22236/"></a> <a href="https://habr.com/ru/post/22236/"></a> ... <br> <br>   <br> <br> <br> ... <br> <br>    <br> <br> ... <br> <br>   <br> <br> ... <br> <br>  <br> <br> ...</code> <br> <br>   XSL- <br>   XSL-   : <br> <code>&lt;xsl:stylesheet version = '1.0' encoding="UTF-8"?&gt; <br> &lt;xsl:template match="element"&gt; <br>   <br> &lt;/xsl:template&gt; <br> &lt;/xsl:stylesheet&gt;</code> <br> <br> : <code>&lt;xsl:stylesheet version = '1.0' encoding="UTF-8"?&gt;</code> -   <strong>XML-</strong>  .   <strong>UTF-8</strong> ( , ). <br> <code>&lt;xsl:stylesheet&gt; &lt;/xsl:stylesheet&gt;</code> -    XSL-. <br> <code>&lt;xsl:template match="element"&gt; &lt;/xsl:template&gt;</code> -       element. <br> <br>       : <br> <code>&lt;xsl:template match="element"&gt;&lt;/xsl:template&gt;</code> - ,     <strong>element</strong> .      <strong>element</strong> . <code>&lt;xsl:template match="element" mode="mode1"&gt;&lt;/xsl:template&gt;</code> - ,     <strong>element</strong>   <strong>mode1</strong> .         <strong>element</strong> . <code>&lt;xsl:template name="template-name"&gt;&lt;/xsl:template&gt;</code> -    <strong>template-name</strong> .     -  <strong>XML-</strong> . <br>           <strong>XML-</strong> (,  XML-,    item      ),      " "  : <br> <code>&lt;xsl:template match="navigation/sections/item"&gt;&lt;/xsl:template&gt;</code> <br>  ,    , ..,      ,  ,  , ..      <strong>navigation</strong> ,      <strong>navigation/sections/item</strong>     <strong>sections/item</strong> . <br> <br>    <br>  ,         -      .  ,        <strong>xsl-</strong> .            . <br> <br>       <strong>xsl</strong>    . <br> <br> ,        (       )   : <br> <strong>template_folder</strong> -    .      ,  <strong>my_template</strong> . <strong>dtd</strong> -    .   . <strong>lang</strong> -      (      ). <strong>mod</strong> -  . <br>       <strong>xsl/my_template</strong>   ,  <strong>layout.xsl</strong>  : <br> <code>&lt;?xml version="1.0" encoding="UTF-8"?&gt; <br> &lt;!DOCTYPE xsl:stylesheet SYSTEM "../dtd/entities.dtd"&gt; <br> &lt;xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform"&gt; <br> <br> &lt;xsl:template match="/node()"&gt; <br> &lt;/xsl:template&gt; <br> <br> &lt;/xsl:stylesheet&gt; <br></code> <br> : <br> <code>&lt;xsl:template match="/node()"&gt; &lt;/xsl:template&gt;</code> -    <strong>/node()</strong> ().  <strong>/node()</strong>   <strong>//document</strong> , ..      . <br> <br>   XHTML-   <code>&lt;xsl:template match="/node()"&gt;&lt;/xsl:template&gt;</code> <br> <br>        <strong>XML-</strong> .   , <strong>XSL-</strong>   <strong>XML-</strong>  <strong>XHTML-</strong>  . <br> <br> ,    <strong>XSL</strong>   <strong>template.xsl</strong> (, <strong>template</strong> -   ),     : <br> <code>&lt;?xml version="1.0" encoding="UTF-8"?&gt; <br> &lt;xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform"&gt; <br> <br> &lt;xsl:import href=" my_template /layout.xsl"/&gt; <br> &lt;/xsl:stylesheet&gt; <br></code> <br> : <br> <code>&lt;xsl:import href="my_template/layout.xsl"/&gt;</code> <br>    XSL- ( <strong>XSL-</strong> )   .     . <br> <br>       <br>       , ..     XML-    . <br> <br>   -    . <br> <br>        ,   <strong>XML-</strong>   : <br> <code><br> &lt;item id="0" parent_id="0" is_published="1" section="1"&gt; <br>  <br> / <br> <br> &lt;item id="1" parent_id="0" is_published="1" section="1" hit="yes"&gt; <br>  <br> news <br> <br></code> <br> <br> <br>      : <br>  <strong>id</strong>    <strong>document</strong> -    <strong>id</strong>  .  <strong>hit</strong>   <strong>item</strong> -   ,   ,    "  ". <br> ,  ,         : <br> <strong>sections</strong> -   . <strong>item</strong> -  . <br>  ,  ,   <strong>item</strong>     <strong>item</strong> ,   ,     : <br> <code><br> <br></code> <br> <br> 1.    xsl/my_template  navigation.xsl  : <br> <code>&lt;?xml version="1.0" encoding="UTF-8"?&gt; <br> &lt;!DOCTYPE xsl:stylesheet SYSTEM "../dtd/entities.dtd"&gt; <br> &lt;xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform"&gt; <br> <br> &lt;xsl:template match="sections" mode="global_menu"&gt; <br> &lt;/xsl:template&gt; <br> <br> &lt;/xsl:stylesheet&gt;</code> <br> <br> 2.         <strong>layout.xsl</strong> : <br> <code><a href="https://habr.com/"></a> <a href="https://habr.com/sections/"></a> <a href="https://habr.com/news/"></a> <br> &lt;xsl:template match="sections" mode="global_menu"&gt; <br>    <br> &lt;/xsl:template&gt; <br></code> <br> <br> 3. ‚Ä¶      <strong>layout.xsl</strong>     : <br> <code><br> &lt;xsl:apply-templates select="navigation/sections" mode="global_menu"/&gt; <br> <br></code> <br> : <br> <strong>select="navigation/sections"</strong> -  ( ) - .  ,     <strong>navigation/sections</strong> . <br> <br> <strong>mode="global_menu"</strong> -     <strong>global_menu</strong> .      ,        , ,  " ",  -         . <br> <br> 4. ,    layout.xsl     <strong>navigation.xsl</strong> : <br> <code>&lt;xsl:import href="navigation.xsl"/&gt;</code> <br> <br> 5. ,    <strong>navigation.xsl</strong>   ,    : <br> <code><br> &lt;xsl:template match="item" mode="global_menu"&gt; <br> &lt;xsl:call-template name="href_attribute"/&gt; <br> &lt;xsl:value-of select="title"/&gt; <br> <br> <br> &lt;/xsl:template&gt; <br> <br></code> <br> : <br> <code>&lt;xsl:call-template name="href_attribute"/&gt;</code> -    .        , ..  . <br> <br> <code>&lt;xsl:value-of select="title"/&gt;</code> - -   title  .         <strong>@</strong> -      . <br> <br> 6.    <strong>sections</strong> : <br> <code><br> &lt;xsl:template match="sections" mode="global_menu"&gt; <br> <br> &lt;/xsl:template&gt; <br> <br></code> <br> : <br> <code>&lt;xsl:apply-templates select="item" mode="global_menu"/&gt;</code> -    <strong>item</strong>  <strong>sections</strong> .  ,  <strong>item</strong>   <strong>item</strong> ( <strong>sections/item/item</strong> )   , ..      . <br> <br>     <strong>item</strong> ( )   .  ,         : <code>&lt;xsl:call-template name="href_attribute"/&gt;</code> <br> <br>      <strong>uri-</strong>    .    . <br> <br> 7.     , <br>   ,    .            <strong>item</strong> : <br> <code><br> &lt;xsl:template match="item" mode="global_menu"&gt; <br> <br> &lt;xsl:choose&gt; <br> <br> &lt;xsl:when test="descendant-or-self::*/@id = /node()/@id"&gt; <br> &lt;xsl:value-of select="title"/&gt; <br> &lt;/xsl:when&gt; <br> <br> &lt;xsl:otherwise&gt; <br> &lt;xsl:call-template name="href_attribute"/&gt; <br> &lt;xsl:value-of select="title"/&gt; <br> <br> &lt;/xsl:otherwise&gt; <br> &lt;/xsl:choose&gt; <br> <br> &lt;/xsl:template&gt; <br> <br></code> <br>      : <br> <code>&lt;xsl:choose&gt; <br> &lt;xsl:when&gt;&lt;/xsl:when&gt; <br> &lt;xsl:otherwise&gt;&lt;/xsl:otherwise&gt; <br> &lt;/xsl:choose&gt; <br></code> <br> ‚Ä¶, ,     <strong>XML-</strong> .      : <code>&lt;xsl:when test="descendant-or-self::*/@id = /node()/@id"&gt;</code> <br> <br>        <strong>ID</strong>    ( <strong>document</strong> )    ( <strong>item</strong> ),   ,    . <br> <br>   <code>&lt;xsl:when&gt;&lt;/xsl:when&gt;</code>  ,      .   <code>&lt;xsl:otherwise&gt;&lt;/xsl:otherwise&gt;</code> -    . <br> <br> 8. ,   <strong>href_attribute</strong> : <br> <code><br> &lt;xsl:template name="href_attribute"&gt; <br> &lt;xsl:attribute name="href"&gt; <br> &lt;xsl:text&gt;/&lt;/xsl:text&gt; <br> &lt;xsl:for-each select="ancestor-or-self::item"&gt; <br> &lt;xsl:value-of select="dir"/&gt; <br> &lt;xsl:text&gt;/&lt;/xsl:text&gt; <br> &lt;/xsl:for-each&gt; <br> &lt;/xsl:attribute&gt; <br> &lt;/xsl:template&gt; <br></code> <br> <br>      <strong>xsl:attribute</strong> .          .         <strong>a</strong> , ,      <strong>href</strong> , .. . <br> <br>  <code>&lt;xsl:for-each select="ancestor-or-self::item"&gt;</code>      ,  .      <strong>ancestor-or-self::item</strong> -         .           <strong>dir</strong> , ..     -. <br> <br> ,   -  ,       . ,   <a href="http://habrahabr.ru/blog/webdev/38433.html">  </a> . <br> <br> <strong>UPD:</strong> <br>   .   ,  : <br> <a href="">parser.proc.ru/iso/xslt-1.zip</a> <br> <br>        (       )           Apache. <br> <br>    XML-   /xsl/document.xml</code></code></code></code></code> </li> <li> <code><code><code><code><code><code>-    (   ). : <br> <strong>Lang</strong> -  .     . <strong>Id</strong> -   . <br> &lt;lang_table&gt;</code> -  ,   . <br> <code>-   : <br> -    (  ): <br> &lt;item id="0" parent_id="0" is_published="1" section="1"&gt;</code> -   . : <br> <strong>Id</strong> -  . <strong>Parent_id</strong> -   . <strong>Is_published</strong> -   . <strong>Dir</strong> - uri- .     . <strong>Section</strong> -  .         . <br> <code>-  . <br>   CMS   :        : <br> <strong>Html</strong> -  .  ,    . <strong>Com</strong> - -.  ,      CMS: , ,    .. <br>  <strong>XSL-</strong>   ,     .       . <br> <br> CMS       <strong> ,      : <br> : <br> <strong>Id</strong> -  . <br> <strong>Container</strong> - - (    ). <br> <strong>Sorting</strong> -    . <br> <strong>Type</strong> - : <br> <strong>Com</strong> - - <br> <strong>Html</strong> -  . <br> <strong>Method</strong> -  . <br> <strong>Title</strong> -  . <br> <strong>DTD</strong>     (    ): <br> &lt;!DOCTYPE site_page [ <br> <br> &lt;!ENTITY nbsp " "&gt; <br> &lt;!ENTITY sect "¬ß" &gt; <br> &lt;!ENTITY copy "¬©"&gt; <br> &lt;!ENTITY laquo "¬´"&gt; <br> &lt;!ENTITY reg "¬Æ"&gt; <br> &lt;!ENTITY deg "¬∞"&gt; <br> &lt;!ENTITY plusmn "¬±"&gt; <br> &lt;!ENTITY para "¬∂"&gt; <br> &lt;!ENTITY raquo "¬ª"&gt; <br> &lt;!ENTITY times "√ó"&gt; <br> <br> <br> <br> &lt;!ENTITY bull "‚Ä¢"&gt; <br> &lt;!ENTITY hellip "‚Ä¶"&gt; <br> <br> <br> <br> &lt;!ENTITY ndash "‚Äì"&gt; <br> &lt;!ENTITY mdash "‚Äî"&gt; <br> &lt;!ENTITY lsquo "'"&gt; <br> &lt;!ENTITY rsquo "'"&gt; <br> &lt;!ENTITY sbquo "‚Äö"&gt; <br> &lt;!ENTITY ldquo "‚Äú"&gt; <br> &lt;!ENTITY rdquo "‚Äù"&gt; <br> &lt;!ENTITY bdquo "‚Äû"&gt; <br> &lt;!ENTITY lsaquo "‚Äπ"&gt; <br> &lt;!ENTITY rsaquo "‚Ä∫" &gt; <br> &lt;!ENTITY euro "‚Ç¨"&gt; <br> ]&gt; <br></strong></code> <br>      <strong>XML-</strong> .   <code>&lt;?xml version="1.0" encoding="windows-1251"?&gt;</code> . <br> <br>  XHML- <br> XSL-    XHTML- (   ).  XHTML-,  ,   <strong></strong> . <br> <br>      . <br> <br>   XHML-  ,    ,       : <br>  (   ).    -    ,      . / . <br>        HTML-: <br> <code><a href="https://habr.com/ru/post/22236/"></a> <a href="https://habr.com/ru/post/22236/"></a> <a href="https://habr.com/ru/post/22236/"></a> ... <br> <br>   <br> <br> <br> ... <br> <br>    <br> <br> ... <br> <br>   <br> <br> ... <br> <br>  <br> <br> ...</code> <br> <br>   XSL- <br>   XSL-   : <br> <code>&lt;xsl:stylesheet version = '1.0' encoding="UTF-8"?&gt; <br> &lt;xsl:template match="element"&gt; <br>   <br> &lt;/xsl:template&gt; <br> &lt;/xsl:stylesheet&gt;</code> <br> <br> : <code>&lt;xsl:stylesheet version = '1.0' encoding="UTF-8"?&gt;</code> -   <strong>XML-</strong>  .   <strong>UTF-8</strong> ( , ). <br> <code>&lt;xsl:stylesheet&gt; &lt;/xsl:stylesheet&gt;</code> -    XSL-. <br> <code>&lt;xsl:template match="element"&gt; &lt;/xsl:template&gt;</code> -       element. <br> <br>       : <br> <code>&lt;xsl:template match="element"&gt;&lt;/xsl:template&gt;</code> - ,     <strong>element</strong> .      <strong>element</strong> . <code>&lt;xsl:template match="element" mode="mode1"&gt;&lt;/xsl:template&gt;</code> - ,     <strong>element</strong>   <strong>mode1</strong> .         <strong>element</strong> . <code>&lt;xsl:template name="template-name"&gt;&lt;/xsl:template&gt;</code> -    <strong>template-name</strong> .     -  <strong>XML-</strong> . <br>           <strong>XML-</strong> (,  XML-,    item      ),      " "  : <br> <code>&lt;xsl:template match="navigation/sections/item"&gt;&lt;/xsl:template&gt;</code> <br>  ,    , ..,      ,  ,  , ..      <strong>navigation</strong> ,      <strong>navigation/sections/item</strong>     <strong>sections/item</strong> . <br> <br>    <br>  ,         -      .  ,        <strong>xsl-</strong> .            . <br> <br>       <strong>xsl</strong>    . <br> <br> ,        (       )   : <br> <strong>template_folder</strong> -    .      ,  <strong>my_template</strong> . <strong>dtd</strong> -    .   . <strong>lang</strong> -      (      ). <strong>mod</strong> -  . <br>       <strong>xsl/my_template</strong>   ,  <strong>layout.xsl</strong>  : <br> <code>&lt;?xml version="1.0" encoding="UTF-8"?&gt; <br> &lt;!DOCTYPE xsl:stylesheet SYSTEM "../dtd/entities.dtd"&gt; <br> &lt;xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform"&gt; <br> <br> &lt;xsl:template match="/node()"&gt; <br> &lt;/xsl:template&gt; <br> <br> &lt;/xsl:stylesheet&gt; <br></code> <br> : <br> <code>&lt;xsl:template match="/node()"&gt; &lt;/xsl:template&gt;</code> -    <strong>/node()</strong> ().  <strong>/node()</strong>   <strong>//document</strong> , ..      . <br> <br>   XHTML-   <code>&lt;xsl:template match="/node()"&gt;&lt;/xsl:template&gt;</code> <br> <br>        <strong>XML-</strong> .   , <strong>XSL-</strong>   <strong>XML-</strong>  <strong>XHTML-</strong>  . <br> <br> ,    <strong>XSL</strong>   <strong>template.xsl</strong> (, <strong>template</strong> -   ),     : <br> <code>&lt;?xml version="1.0" encoding="UTF-8"?&gt; <br> &lt;xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform"&gt; <br> <br> &lt;xsl:import href=" my_template /layout.xsl"/&gt; <br> &lt;/xsl:stylesheet&gt; <br></code> <br> : <br> <code>&lt;xsl:import href="my_template/layout.xsl"/&gt;</code> <br>    XSL- ( <strong>XSL-</strong> )   .     . <br> <br>       <br>       , ..     XML-    . <br> <br>   -    . <br> <br>        ,   <strong>XML-</strong>   : <br> <code><br> &lt;item id="0" parent_id="0" is_published="1" section="1"&gt; <br>  <br> / <br> <br> &lt;item id="1" parent_id="0" is_published="1" section="1" hit="yes"&gt; <br>  <br> news <br> <br></code> <br> <br> <br>      : <br>  <strong>id</strong>    <strong>document</strong> -    <strong>id</strong>  .  <strong>hit</strong>   <strong>item</strong> -   ,   ,    "  ". <br> ,  ,         : <br> <strong>sections</strong> -   . <strong>item</strong> -  . <br>  ,  ,   <strong>item</strong>     <strong>item</strong> ,   ,     : <br> <code><br> <br></code> <br> <br> 1.    xsl/my_template  navigation.xsl  : <br> <code>&lt;?xml version="1.0" encoding="UTF-8"?&gt; <br> &lt;!DOCTYPE xsl:stylesheet SYSTEM "../dtd/entities.dtd"&gt; <br> &lt;xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform"&gt; <br> <br> &lt;xsl:template match="sections" mode="global_menu"&gt; <br> &lt;/xsl:template&gt; <br> <br> &lt;/xsl:stylesheet&gt;</code> <br> <br> 2.         <strong>layout.xsl</strong> : <br> <code><a href="https://habr.com/"></a> <a href="https://habr.com/sections/"></a> <a href="https://habr.com/news/"></a> <br> &lt;xsl:template match="sections" mode="global_menu"&gt; <br>    <br> &lt;/xsl:template&gt; <br></code> <br> <br> 3. ‚Ä¶      <strong>layout.xsl</strong>     : <br> <code><br> &lt;xsl:apply-templates select="navigation/sections" mode="global_menu"/&gt; <br> <br></code> <br> : <br> <strong>select="navigation/sections"</strong> -  ( ) - .  ,     <strong>navigation/sections</strong> . <br> <br> <strong>mode="global_menu"</strong> -     <strong>global_menu</strong> .      ,        , ,  " ",  -         . <br> <br> 4. ,    layout.xsl     <strong>navigation.xsl</strong> : <br> <code>&lt;xsl:import href="navigation.xsl"/&gt;</code> <br> <br> 5. ,    <strong>navigation.xsl</strong>   ,    : <br> <code><br> &lt;xsl:template match="item" mode="global_menu"&gt; <br> &lt;xsl:call-template name="href_attribute"/&gt; <br> &lt;xsl:value-of select="title"/&gt; <br> <br> <br> &lt;/xsl:template&gt; <br> <br></code> <br> : <br> <code>&lt;xsl:call-template name="href_attribute"/&gt;</code> -    .        , ..  . <br> <br> <code>&lt;xsl:value-of select="title"/&gt;</code> - -   title  .         <strong>@</strong> -      . <br> <br> 6.    <strong>sections</strong> : <br> <code><br> &lt;xsl:template match="sections" mode="global_menu"&gt; <br> <br> &lt;/xsl:template&gt; <br> <br></code> <br> : <br> <code>&lt;xsl:apply-templates select="item" mode="global_menu"/&gt;</code> -    <strong>item</strong>  <strong>sections</strong> .  ,  <strong>item</strong>   <strong>item</strong> ( <strong>sections/item/item</strong> )   , ..      . <br> <br>     <strong>item</strong> ( )   .  ,         : <code>&lt;xsl:call-template name="href_attribute"/&gt;</code> <br> <br>      <strong>uri-</strong>    .    . <br> <br> 7.     , <br>   ,    .            <strong>item</strong> : <br> <code><br> &lt;xsl:template match="item" mode="global_menu"&gt; <br> <br> &lt;xsl:choose&gt; <br> <br> &lt;xsl:when test="descendant-or-self::*/@id = /node()/@id"&gt; <br> &lt;xsl:value-of select="title"/&gt; <br> &lt;/xsl:when&gt; <br> <br> &lt;xsl:otherwise&gt; <br> &lt;xsl:call-template name="href_attribute"/&gt; <br> &lt;xsl:value-of select="title"/&gt; <br> <br> &lt;/xsl:otherwise&gt; <br> &lt;/xsl:choose&gt; <br> <br> &lt;/xsl:template&gt; <br> <br></code> <br>      : <br> <code>&lt;xsl:choose&gt; <br> &lt;xsl:when&gt;&lt;/xsl:when&gt; <br> &lt;xsl:otherwise&gt;&lt;/xsl:otherwise&gt; <br> &lt;/xsl:choose&gt; <br></code> <br> ‚Ä¶, ,     <strong>XML-</strong> .      : <code>&lt;xsl:when test="descendant-or-self::*/@id = /node()/@id"&gt;</code> <br> <br>        <strong>ID</strong>    ( <strong>document</strong> )    ( <strong>item</strong> ),   ,    . <br> <br>   <code>&lt;xsl:when&gt;&lt;/xsl:when&gt;</code>  ,      .   <code>&lt;xsl:otherwise&gt;&lt;/xsl:otherwise&gt;</code> -    . <br> <br> 8. ,   <strong>href_attribute</strong> : <br> <code><br> &lt;xsl:template name="href_attribute"&gt; <br> &lt;xsl:attribute name="href"&gt; <br> &lt;xsl:text&gt;/&lt;/xsl:text&gt; <br> &lt;xsl:for-each select="ancestor-or-self::item"&gt; <br> &lt;xsl:value-of select="dir"/&gt; <br> &lt;xsl:text&gt;/&lt;/xsl:text&gt; <br> &lt;/xsl:for-each&gt; <br> &lt;/xsl:attribute&gt; <br> &lt;/xsl:template&gt; <br></code> <br> <br>      <strong>xsl:attribute</strong> .          .         <strong>a</strong> , ,      <strong>href</strong> , .. . <br> <br>  <code>&lt;xsl:for-each select="ancestor-or-self::item"&gt;</code>      ,  .      <strong>ancestor-or-self::item</strong> -         .           <strong>dir</strong> , ..     -. <br> <br> ,   -  ,       . ,   <a href="http://habrahabr.ru/blog/webdev/38433.html">  </a> . <br> <br> <strong>UPD:</strong> <br>   .   ,  : <br> <a href="">parser.proc.ru/iso/xslt-1.zip</a> <br> <br>        (       )           Apache. <br> <br>    XML-   /xsl/document.xml</code></code></code></code></code> </li> </ul> <code><code><code><code><code><code>-    (   ). : <br> <strong>Lang</strong> -  .     . <strong>Id</strong> -   . <br> &lt;lang_table&gt;</code> -  ,   . <br> <code>-   : <br> -    (  ): <br> &lt;item id="0" parent_id="0" is_published="1" section="1"&gt;</code> -   . : <br> <strong>Id</strong> -  . <strong>Parent_id</strong> -   . <strong>Is_published</strong> -   . <strong>Dir</strong> - uri- .     . <strong>Section</strong> -  .         . <br> <code>-  . <br>   CMS   :        : <br> <strong>Html</strong> -  .  ,    . <strong>Com</strong> - -.  ,      CMS: , ,    .. <br>  <strong>XSL-</strong>   ,     .       . <br> <br> CMS       <strong> ,      : <br> : <br> <strong>Id</strong> -  . <br> <strong>Container</strong> - - (    ). <br> <strong>Sorting</strong> -    . <br> <strong>Type</strong> - : <br> <strong>Com</strong> - - <br> <strong>Html</strong> -  . <br> <strong>Method</strong> -  . <br> <strong>Title</strong> -  . <br> <strong>DTD</strong>     (    ): <br> &lt;!DOCTYPE site_page [ <br> <br> &lt;!ENTITY nbsp " "&gt; <br> &lt;!ENTITY sect "¬ß" &gt; <br> &lt;!ENTITY copy "¬©"&gt; <br> &lt;!ENTITY laquo "¬´"&gt; <br> &lt;!ENTITY reg "¬Æ"&gt; <br> &lt;!ENTITY deg "¬∞"&gt; <br> &lt;!ENTITY plusmn "¬±"&gt; <br> &lt;!ENTITY para "¬∂"&gt; <br> &lt;!ENTITY raquo "¬ª"&gt; <br> &lt;!ENTITY times "√ó"&gt; <br> <br> <br> <br> &lt;!ENTITY bull "‚Ä¢"&gt; <br> &lt;!ENTITY hellip "‚Ä¶"&gt; <br> <br> <br> <br> &lt;!ENTITY ndash "‚Äì"&gt; <br> &lt;!ENTITY mdash "‚Äî"&gt; <br> &lt;!ENTITY lsquo "'"&gt; <br> &lt;!ENTITY rsquo "'"&gt; <br> &lt;!ENTITY sbquo "‚Äö"&gt; <br> &lt;!ENTITY ldquo "‚Äú"&gt; <br> &lt;!ENTITY rdquo "‚Äù"&gt; <br> &lt;!ENTITY bdquo "‚Äû"&gt; <br> &lt;!ENTITY lsaquo "‚Äπ"&gt; <br> &lt;!ENTITY rsaquo "‚Ä∫" &gt; <br> &lt;!ENTITY euro "‚Ç¨"&gt; <br> ]&gt; <br></strong></code> <br>      <strong>XML-</strong> .   <code>&lt;?xml version="1.0" encoding="windows-1251"?&gt;</code> . <br> <br>  XHML- <br> XSL-    XHTML- (   ).  XHTML-,  ,   <strong></strong> . <br> <br>      . <br> <br>   XHML-  ,    ,       : <br>  (   ).    -    ,      . / . <br>        HTML-: <br> <code><a href="https://habr.com/ru/post/22236/"></a> <a href="https://habr.com/ru/post/22236/"></a> <a href="https://habr.com/ru/post/22236/"></a> ... <br> <br>   <br> <br> <br> ... <br> <br>    <br> <br> ... <br> <br>   <br> <br> ... <br> <br>  <br> <br> ...</code> <br> <br>   XSL- <br>   XSL-   : <br> <code>&lt;xsl:stylesheet version = '1.0' encoding="UTF-8"?&gt; <br> &lt;xsl:template match="element"&gt; <br>   <br> &lt;/xsl:template&gt; <br> &lt;/xsl:stylesheet&gt;</code> <br> <br> : <code>&lt;xsl:stylesheet version = '1.0' encoding="UTF-8"?&gt;</code> -   <strong>XML-</strong>  .   <strong>UTF-8</strong> ( , ). <br> <code>&lt;xsl:stylesheet&gt; &lt;/xsl:stylesheet&gt;</code> -    XSL-. <br> <code>&lt;xsl:template match="element"&gt; &lt;/xsl:template&gt;</code> -       element. <br> <br>       : <br> <code>&lt;xsl:template match="element"&gt;&lt;/xsl:template&gt;</code> - ,     <strong>element</strong> .      <strong>element</strong> . <code>&lt;xsl:template match="element" mode="mode1"&gt;&lt;/xsl:template&gt;</code> - ,     <strong>element</strong>   <strong>mode1</strong> .         <strong>element</strong> . <code>&lt;xsl:template name="template-name"&gt;&lt;/xsl:template&gt;</code> -    <strong>template-name</strong> .     -  <strong>XML-</strong> . <br>           <strong>XML-</strong> (,  XML-,    item      ),      " "  : <br> <code>&lt;xsl:template match="navigation/sections/item"&gt;&lt;/xsl:template&gt;</code> <br>  ,    , ..,      ,  ,  , ..      <strong>navigation</strong> ,      <strong>navigation/sections/item</strong>     <strong>sections/item</strong> . <br> <br>    <br>  ,         -      .  ,        <strong>xsl-</strong> .            . <br> <br>       <strong>xsl</strong>    . <br> <br> ,        (       )   : <br> <strong>template_folder</strong> -    .      ,  <strong>my_template</strong> . <strong>dtd</strong> -    .   . <strong>lang</strong> -      (      ). <strong>mod</strong> -  . <br>       <strong>xsl/my_template</strong>   ,  <strong>layout.xsl</strong>  : <br> <code>&lt;?xml version="1.0" encoding="UTF-8"?&gt; <br> &lt;!DOCTYPE xsl:stylesheet SYSTEM "../dtd/entities.dtd"&gt; <br> &lt;xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform"&gt; <br> <br> &lt;xsl:template match="/node()"&gt; <br> &lt;/xsl:template&gt; <br> <br> &lt;/xsl:stylesheet&gt; <br></code> <br> : <br> <code>&lt;xsl:template match="/node()"&gt; &lt;/xsl:template&gt;</code> -    <strong>/node()</strong> ().  <strong>/node()</strong>   <strong>//document</strong> , ..      . <br> <br>   XHTML-   <code>&lt;xsl:template match="/node()"&gt;&lt;/xsl:template&gt;</code> <br> <br>        <strong>XML-</strong> .   , <strong>XSL-</strong>   <strong>XML-</strong>  <strong>XHTML-</strong>  . <br> <br> ,    <strong>XSL</strong>   <strong>template.xsl</strong> (, <strong>template</strong> -   ),     : <br> <code>&lt;?xml version="1.0" encoding="UTF-8"?&gt; <br> &lt;xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform"&gt; <br> <br> &lt;xsl:import href=" my_template /layout.xsl"/&gt; <br> &lt;/xsl:stylesheet&gt; <br></code> <br> : <br> <code>&lt;xsl:import href="my_template/layout.xsl"/&gt;</code> <br>    XSL- ( <strong>XSL-</strong> )   .     . <br> <br>       <br>       , ..     XML-    . <br> <br>   -    . <br> <br>        ,   <strong>XML-</strong>   : <br> <code><br> &lt;item id="0" parent_id="0" is_published="1" section="1"&gt; <br>  <br> / <br> <br> &lt;item id="1" parent_id="0" is_published="1" section="1" hit="yes"&gt; <br>  <br> news <br> <br></code> <br> <br> <br>      : <br>  <strong>id</strong>    <strong>document</strong> -    <strong>id</strong>  .  <strong>hit</strong>   <strong>item</strong> -   ,   ,    "  ". <br> ,  ,         : <br> <strong>sections</strong> -   . <strong>item</strong> -  . <br>  ,  ,   <strong>item</strong>     <strong>item</strong> ,   ,     : <br> <code><br> <br></code> <br> <br> 1.    xsl/my_template  navigation.xsl  : <br> <code>&lt;?xml version="1.0" encoding="UTF-8"?&gt; <br> &lt;!DOCTYPE xsl:stylesheet SYSTEM "../dtd/entities.dtd"&gt; <br> &lt;xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform"&gt; <br> <br> &lt;xsl:template match="sections" mode="global_menu"&gt; <br> &lt;/xsl:template&gt; <br> <br> &lt;/xsl:stylesheet&gt;</code> <br> <br> 2.         <strong>layout.xsl</strong> : <br> <code><a href="https://habr.com/"></a> <a href="https://habr.com/sections/"></a> <a href="https://habr.com/news/"></a> <br> &lt;xsl:template match="sections" mode="global_menu"&gt; <br>    <br> &lt;/xsl:template&gt; <br></code> <br> <br> 3. ‚Ä¶      <strong>layout.xsl</strong>     : <br> <code><br> &lt;xsl:apply-templates select="navigation/sections" mode="global_menu"/&gt; <br> <br></code> <br> : <br> <strong>select="navigation/sections"</strong> -  ( ) - .  ,     <strong>navigation/sections</strong> . <br> <br> <strong>mode="global_menu"</strong> -     <strong>global_menu</strong> .      ,        , ,  " ",  -         . <br> <br> 4. ,    layout.xsl     <strong>navigation.xsl</strong> : <br> <code>&lt;xsl:import href="navigation.xsl"/&gt;</code> <br> <br> 5. ,    <strong>navigation.xsl</strong>   ,    : <br> <code><br> &lt;xsl:template match="item" mode="global_menu"&gt; <br> &lt;xsl:call-template name="href_attribute"/&gt; <br> &lt;xsl:value-of select="title"/&gt; <br> <br> <br> &lt;/xsl:template&gt; <br> <br></code> <br> : <br> <code>&lt;xsl:call-template name="href_attribute"/&gt;</code> -    .        , ..  . <br> <br> <code>&lt;xsl:value-of select="title"/&gt;</code> - -   title  .         <strong>@</strong> -      . <br> <br> 6.    <strong>sections</strong> : <br> <code><br> &lt;xsl:template match="sections" mode="global_menu"&gt; <br> <br> &lt;/xsl:template&gt; <br> <br></code> <br> : <br> <code>&lt;xsl:apply-templates select="item" mode="global_menu"/&gt;</code> -    <strong>item</strong>  <strong>sections</strong> .  ,  <strong>item</strong>   <strong>item</strong> ( <strong>sections/item/item</strong> )   , ..      . <br> <br>     <strong>item</strong> ( )   .  ,         : <code>&lt;xsl:call-template name="href_attribute"/&gt;</code> <br> <br>      <strong>uri-</strong>    .    . <br> <br> 7.     , <br>   ,    .            <strong>item</strong> : <br> <code><br> &lt;xsl:template match="item" mode="global_menu"&gt; <br> <br> &lt;xsl:choose&gt; <br> <br> &lt;xsl:when test="descendant-or-self::*/@id = /node()/@id"&gt; <br> &lt;xsl:value-of select="title"/&gt; <br> &lt;/xsl:when&gt; <br> <br> &lt;xsl:otherwise&gt; <br> &lt;xsl:call-template name="href_attribute"/&gt; <br> &lt;xsl:value-of select="title"/&gt; <br> <br> &lt;/xsl:otherwise&gt; <br> &lt;/xsl:choose&gt; <br> <br> &lt;/xsl:template&gt; <br> <br></code> <br>      : <br> <code>&lt;xsl:choose&gt; <br> &lt;xsl:when&gt;&lt;/xsl:when&gt; <br> &lt;xsl:otherwise&gt;&lt;/xsl:otherwise&gt; <br> &lt;/xsl:choose&gt; <br></code> <br> ‚Ä¶, ,     <strong>XML-</strong> .      : <code>&lt;xsl:when test="descendant-or-self::*/@id = /node()/@id"&gt;</code> <br> <br>        <strong>ID</strong>    ( <strong>document</strong> )    ( <strong>item</strong> ),   ,    . <br> <br>   <code>&lt;xsl:when&gt;&lt;/xsl:when&gt;</code>  ,      .   <code>&lt;xsl:otherwise&gt;&lt;/xsl:otherwise&gt;</code> -    . <br> <br> 8. ,   <strong>href_attribute</strong> : <br> <code><br> &lt;xsl:template name="href_attribute"&gt; <br> &lt;xsl:attribute name="href"&gt; <br> &lt;xsl:text&gt;/&lt;/xsl:text&gt; <br> &lt;xsl:for-each select="ancestor-or-self::item"&gt; <br> &lt;xsl:value-of select="dir"/&gt; <br> &lt;xsl:text&gt;/&lt;/xsl:text&gt; <br> &lt;/xsl:for-each&gt; <br> &lt;/xsl:attribute&gt; <br> &lt;/xsl:template&gt; <br></code> <br> <br>      <strong>xsl:attribute</strong> .          .         <strong>a</strong> , ,      <strong>href</strong> , .. . <br> <br>  <code>&lt;xsl:for-each select="ancestor-or-self::item"&gt;</code>      ,  .      <strong>ancestor-or-self::item</strong> -         .           <strong>dir</strong> , ..     -. <br> <br> ,   -  ,       . ,   <a href="http://habrahabr.ru/blog/webdev/38433.html">  </a> . <br> <br> <strong>UPD:</strong> <br>   .   ,  : <br> <a href="">parser.proc.ru/iso/xslt-1.zip</a> <br> <br>        (       )           Apache. <br> <br>    XML-   /xsl/document.xml</code></code></code></code></code> <h1> <code><code><code><code><code><code><code>-    (   ). : <br> <strong>Lang</strong> -  .     . <strong>Id</strong> -   . <br> &lt;lang_table&gt;</code> -  ,   . <br> <code>-   : <br> -    (  ): <br> &lt;item id="0" parent_id="0" is_published="1" section="1"&gt;</code> -   . : <br> <strong>Id</strong> -  . <strong>Parent_id</strong> -   . <strong>Is_published</strong> -   . <strong>Dir</strong> - uri- .     . <strong>Section</strong> -  .         . <br> <code>-  . <br>   CMS   :        : <br> <strong>Html</strong> -  .  ,    . <strong>Com</strong> - -.  ,      CMS: , ,    .. <br>  <strong>XSL-</strong>   ,     .       . <br> <br> CMS       <strong> ,      : <br> : <br> <strong>Id</strong> -  . <br> <strong>Container</strong> - - (    ). <br> <strong>Sorting</strong> -    . <br> <strong>Type</strong> - : <br> <strong>Com</strong> - - <br> <strong>Html</strong> -  . <br> <strong>Method</strong> -  . <br> <strong>Title</strong> -  . <br> <strong>DTD</strong>     (    ): <br> &lt;!DOCTYPE site_page [ <br> <br> &lt;!ENTITY nbsp " "&gt; <br> &lt;!ENTITY sect "¬ß" &gt; <br> &lt;!ENTITY copy "¬©"&gt; <br> &lt;!ENTITY laquo "¬´"&gt; <br> &lt;!ENTITY reg "¬Æ"&gt; <br> &lt;!ENTITY deg "¬∞"&gt; <br> &lt;!ENTITY plusmn "¬±"&gt; <br> &lt;!ENTITY para "¬∂"&gt; <br> &lt;!ENTITY raquo "¬ª"&gt; <br> &lt;!ENTITY times "√ó"&gt; <br> <br> <br> <br> &lt;!ENTITY bull "‚Ä¢"&gt; <br> &lt;!ENTITY hellip "‚Ä¶"&gt; <br> <br> <br> <br> &lt;!ENTITY ndash "‚Äì"&gt; <br> &lt;!ENTITY mdash "‚Äî"&gt; <br> &lt;!ENTITY lsquo "'"&gt; <br> &lt;!ENTITY rsquo "'"&gt; <br> &lt;!ENTITY sbquo "‚Äö"&gt; <br> &lt;!ENTITY ldquo "‚Äú"&gt; <br> &lt;!ENTITY rdquo "‚Äù"&gt; <br> &lt;!ENTITY bdquo "‚Äû"&gt; <br> &lt;!ENTITY lsaquo "‚Äπ"&gt; <br> &lt;!ENTITY rsaquo "‚Ä∫" &gt; <br> &lt;!ENTITY euro "‚Ç¨"&gt; <br> ]&gt; <br></strong></code> <br>      <strong>XML-</strong> .   <code>&lt;?xml version="1.0" encoding="windows-1251"?&gt;</code> . <br> <br>  XHML- <br> XSL-    XHTML- (   ).  XHTML-,  ,   <strong></strong> . <br> <br>      . <br> <br>   XHML-  ,    ,       : <br>  (   ).    -    ,      . / . <br>        HTML-: <br> <a href="https://habr.com/ru/post/22236/"></a> <a href="https://habr.com/ru/post/22236/"></a> <a href="https://habr.com/ru/post/22236/"></a> ... <br> <br>   <br> <br> <br> ... <br> <br>    <br> <br> ... <br> <br>   <br> <br> ... <br> <br>  <br> <br> ... <br> <br>   XSL- <br>   XSL-   : <br> <code>&lt;xsl:stylesheet version = '1.0' encoding="UTF-8"?&gt; <br> &lt;xsl:template match="element"&gt; <br>   <br> &lt;/xsl:template&gt; <br> &lt;/xsl:stylesheet&gt;</code> <br> <br> : <code>&lt;xsl:stylesheet version = '1.0' encoding="UTF-8"?&gt;</code> -   <strong>XML-</strong>  .   <strong>UTF-8</strong> ( , ). <br> <code>&lt;xsl:stylesheet&gt; &lt;/xsl:stylesheet&gt;</code> -    XSL-. <br> <code>&lt;xsl:template match="element"&gt; &lt;/xsl:template&gt;</code> -       element. <br> <br>       : <br> <code>&lt;xsl:template match="element"&gt;&lt;/xsl:template&gt;</code> - ,     <strong>element</strong> .      <strong>element</strong> . <code>&lt;xsl:template match="element" mode="mode1"&gt;&lt;/xsl:template&gt;</code> - ,     <strong>element</strong>   <strong>mode1</strong> .         <strong>element</strong> . <code>&lt;xsl:template name="template-name"&gt;&lt;/xsl:template&gt;</code> -    <strong>template-name</strong> .     -  <strong>XML-</strong> . <br>           <strong>XML-</strong> (,  XML-,    item      ),      " "  : <br> <code>&lt;xsl:template match="navigation/sections/item"&gt;&lt;/xsl:template&gt;</code> <br>  ,    , ..,      ,  ,  , ..      <strong>navigation</strong> ,      <strong>navigation/sections/item</strong>     <strong>sections/item</strong> . <br> <br>    <br>  ,         -      .  ,        <strong>xsl-</strong> .            . <br> <br>       <strong>xsl</strong>    . <br> <br> ,        (       )   : <br> <strong>template_folder</strong> -    .      ,  <strong>my_template</strong> . <strong>dtd</strong> -    .   . <strong>lang</strong> -      (      ). <strong>mod</strong> -  . <br>       <strong>xsl/my_template</strong>   ,  <strong>layout.xsl</strong>  : <br> <code>&lt;?xml version="1.0" encoding="UTF-8"?&gt; <br> &lt;!DOCTYPE xsl:stylesheet SYSTEM "../dtd/entities.dtd"&gt; <br> &lt;xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform"&gt; <br> <br> &lt;xsl:template match="/node()"&gt; <br> &lt;/xsl:template&gt; <br> <br> &lt;/xsl:stylesheet&gt; <br></code> <br> : <br> <code>&lt;xsl:template match="/node()"&gt; &lt;/xsl:template&gt;</code> -    <strong>/node()</strong> ().  <strong>/node()</strong>   <strong>//document</strong> , ..      . <br> <br>   XHTML-   <code>&lt;xsl:template match="/node()"&gt;&lt;/xsl:template&gt;</code> <br> <br>        <strong>XML-</strong> .   , <strong>XSL-</strong>   <strong>XML-</strong>  <strong>XHTML-</strong>  . <br> <br> ,    <strong>XSL</strong>   <strong>template.xsl</strong> (, <strong>template</strong> -   ),     : <br> <code>&lt;?xml version="1.0" encoding="UTF-8"?&gt; <br> &lt;xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform"&gt; <br> <br> &lt;xsl:import href=" my_template /layout.xsl"/&gt; <br> &lt;/xsl:stylesheet&gt; <br></code> <br> : <br> <code>&lt;xsl:import href="my_template/layout.xsl"/&gt;</code> <br>    XSL- ( <strong>XSL-</strong> )   .     . <br> <br>       <br>       , ..     XML-    . <br> <br>   -    . <br> <br>        ,   <strong>XML-</strong>   : <br> <code><br> &lt;item id="0" parent_id="0" is_published="1" section="1"&gt; <br>  <br> / <br> <br> &lt;item id="1" parent_id="0" is_published="1" section="1" hit="yes"&gt; <br>  <br> news <br> <br></code> <br> <br> <br>      : <br>  <strong>id</strong>    <strong>document</strong> -    <strong>id</strong>  .  <strong>hit</strong>   <strong>item</strong> -   ,   ,    "  ". <br> ,  ,         : <br> <strong>sections</strong> -   . <strong>item</strong> -  . <br>  ,  ,   <strong>item</strong>     <strong>item</strong> ,   ,     : <br> <code><br> <br></code> <br> <br> 1.    xsl/my_template  navigation.xsl  : <br> <code>&lt;?xml version="1.0" encoding="UTF-8"?&gt; <br> &lt;!DOCTYPE xsl:stylesheet SYSTEM "../dtd/entities.dtd"&gt; <br> &lt;xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform"&gt; <br> <br> &lt;xsl:template match="sections" mode="global_menu"&gt; <br> &lt;/xsl:template&gt; <br> <br> &lt;/xsl:stylesheet&gt;</code> <br> <br> 2.         <strong>layout.xsl</strong> : <br> <code><a href="https://habr.com/"></a> <a href="https://habr.com/sections/"></a> <a href="https://habr.com/news/"></a> <br> &lt;xsl:template match="sections" mode="global_menu"&gt; <br>    <br> &lt;/xsl:template&gt; <br></code> <br> <br> 3. ‚Ä¶      <strong>layout.xsl</strong>     : <br> <code><br> &lt;xsl:apply-templates select="navigation/sections" mode="global_menu"/&gt; <br> <br></code> <br> : <br> <strong>select="navigation/sections"</strong> -  ( ) - .  ,     <strong>navigation/sections</strong> . <br> <br> <strong>mode="global_menu"</strong> -     <strong>global_menu</strong> .      ,        , ,  " ",  -         . <br> <br> 4. ,    layout.xsl     <strong>navigation.xsl</strong> : <br> <code>&lt;xsl:import href="navigation.xsl"/&gt;</code> <br> <br> 5. ,    <strong>navigation.xsl</strong>   ,    : <br> <code><br> &lt;xsl:template match="item" mode="global_menu"&gt; <br> &lt;xsl:call-template name="href_attribute"/&gt; <br> &lt;xsl:value-of select="title"/&gt; <br> <br> <br> &lt;/xsl:template&gt; <br> <br></code> <br> : <br> <code>&lt;xsl:call-template name="href_attribute"/&gt;</code> -    .        , ..  . <br> <br> <code>&lt;xsl:value-of select="title"/&gt;</code> - -   title  .         <strong>@</strong> -      . <br> <br> 6.    <strong>sections</strong> : <br> <code><br> &lt;xsl:template match="sections" mode="global_menu"&gt; <br> <br> &lt;/xsl:template&gt; <br> <br></code> <br> : <br> <code>&lt;xsl:apply-templates select="item" mode="global_menu"/&gt;</code> -    <strong>item</strong>  <strong>sections</strong> .  ,  <strong>item</strong>   <strong>item</strong> ( <strong>sections/item/item</strong> )   , ..      . <br> <br>     <strong>item</strong> ( )   .  ,         : <code>&lt;xsl:call-template name="href_attribute"/&gt;</code> <br> <br>      <strong>uri-</strong>    .    . <br> <br> 7.     , <br>   ,    .            <strong>item</strong> : <br> <code><br> &lt;xsl:template match="item" mode="global_menu"&gt; <br> <br> &lt;xsl:choose&gt; <br> <br> &lt;xsl:when test="descendant-or-self::*/@id = /node()/@id"&gt; <br> &lt;xsl:value-of select="title"/&gt; <br> &lt;/xsl:when&gt; <br> <br> &lt;xsl:otherwise&gt; <br> &lt;xsl:call-template name="href_attribute"/&gt; <br> &lt;xsl:value-of select="title"/&gt; <br> <br> &lt;/xsl:otherwise&gt; <br> &lt;/xsl:choose&gt; <br> <br> &lt;/xsl:template&gt; <br> <br></code> <br>      : <br> <code>&lt;xsl:choose&gt; <br> &lt;xsl:when&gt;&lt;/xsl:when&gt; <br> &lt;xsl:otherwise&gt;&lt;/xsl:otherwise&gt; <br> &lt;/xsl:choose&gt; <br></code> <br> ‚Ä¶, ,     <strong>XML-</strong> .      : <code>&lt;xsl:when test="descendant-or-self::*/@id = /node()/@id"&gt;</code> <br> <br>        <strong>ID</strong>    ( <strong>document</strong> )    ( <strong>item</strong> ),   ,    . <br> <br>   <code>&lt;xsl:when&gt;&lt;/xsl:when&gt;</code>  ,      .   <code>&lt;xsl:otherwise&gt;&lt;/xsl:otherwise&gt;</code> -    . <br> <br> 8. ,   <strong>href_attribute</strong> : <br> <code><br> &lt;xsl:template name="href_attribute"&gt; <br> &lt;xsl:attribute name="href"&gt; <br> &lt;xsl:text&gt;/&lt;/xsl:text&gt; <br> &lt;xsl:for-each select="ancestor-or-self::item"&gt; <br> &lt;xsl:value-of select="dir"/&gt; <br> &lt;xsl:text&gt;/&lt;/xsl:text&gt; <br> &lt;/xsl:for-each&gt; <br> &lt;/xsl:attribute&gt; <br> &lt;/xsl:template&gt; <br></code> <br> <br>      <strong>xsl:attribute</strong> .          .         <strong>a</strong> , ,      <strong>href</strong> , .. . <br> <br>  <code>&lt;xsl:for-each select="ancestor-or-self::item"&gt;</code>      ,  .      <strong>ancestor-or-self::item</strong> -         .           <strong>dir</strong> , ..     -. <br> <br> ,   -  ,       . ,   <a href="http://habrahabr.ru/blog/webdev/38433.html">  </a> . <br> <br> <strong>UPD:</strong> <br>   .   ,  : <br> <a href="">parser.proc.ru/iso/xslt-1.zip</a> <br> <br>        (       )           Apache. <br> <br>    XML-   /xsl/document.xml</code></code></code></code></code></code> </h1> <code><code><code><code><code><code><code>-    (   ). : <br> <strong>Lang</strong> -  .     . <strong>Id</strong> -   . <br> &lt;lang_table&gt;</code> -  ,   . <br> <code>-   : <br> -    (  ): <br> &lt;item id="0" parent_id="0" is_published="1" section="1"&gt;</code> -   . : <br> <strong>Id</strong> -  . <strong>Parent_id</strong> -   . <strong>Is_published</strong> -   . <strong>Dir</strong> - uri- .     . <strong>Section</strong> -  .         . <br> <code>-  . <br>   CMS   :        : <br> <strong>Html</strong> -  .  ,    . <strong>Com</strong> - -.  ,      CMS: , ,    .. <br>  <strong>XSL-</strong>   ,     .       . <br> <br> CMS       <strong> ,      : <br> : <br> <strong>Id</strong> -  . <br> <strong>Container</strong> - - (    ). <br> <strong>Sorting</strong> -    . <br> <strong>Type</strong> - : <br> <strong>Com</strong> - - <br> <strong>Html</strong> -  . <br> <strong>Method</strong> -  . <br> <strong>Title</strong> -  . <br> <strong>DTD</strong>     (    ): <br> &lt;!DOCTYPE site_page [ <br> <br> &lt;!ENTITY nbsp " "&gt; <br> &lt;!ENTITY sect "¬ß" &gt; <br> &lt;!ENTITY copy "¬©"&gt; <br> &lt;!ENTITY laquo "¬´"&gt; <br> &lt;!ENTITY reg "¬Æ"&gt; <br> &lt;!ENTITY deg "¬∞"&gt; <br> &lt;!ENTITY plusmn "¬±"&gt; <br> &lt;!ENTITY para "¬∂"&gt; <br> &lt;!ENTITY raquo "¬ª"&gt; <br> &lt;!ENTITY times "√ó"&gt; <br> <br> <br> <br> &lt;!ENTITY bull "‚Ä¢"&gt; <br> &lt;!ENTITY hellip "‚Ä¶"&gt; <br> <br> <br> <br> &lt;!ENTITY ndash "‚Äì"&gt; <br> &lt;!ENTITY mdash "‚Äî"&gt; <br> &lt;!ENTITY lsquo "'"&gt; <br> &lt;!ENTITY rsquo "'"&gt; <br> &lt;!ENTITY sbquo "‚Äö"&gt; <br> &lt;!ENTITY ldquo "‚Äú"&gt; <br> &lt;!ENTITY rdquo "‚Äù"&gt; <br> &lt;!ENTITY bdquo "‚Äû"&gt; <br> &lt;!ENTITY lsaquo "‚Äπ"&gt; <br> &lt;!ENTITY rsaquo "‚Ä∫" &gt; <br> &lt;!ENTITY euro "‚Ç¨"&gt; <br> ]&gt; <br></strong></code> <br>      <strong>XML-</strong> .   <code>&lt;?xml version="1.0" encoding="windows-1251"?&gt;</code> . <br> <br>  XHML- <br> XSL-    XHTML- (   ).  XHTML-,  ,   <strong></strong> . <br> <br>      . <br> <br>   XHML-  ,    ,       : <br>  (   ).    -    ,      . / . <br>        HTML-: <br> <a href="https://habr.com/ru/post/22236/"></a> <a href="https://habr.com/ru/post/22236/"></a> <a href="https://habr.com/ru/post/22236/"></a> ... <br> <br>   <br> <br> <br> ... <br> <br>    <br> <br> ... <br> <br>   <br> <br> ... <br> <br>  <br> <br> ... <br> <br>   XSL- <br>   XSL-   : <br> <code>&lt;xsl:stylesheet version = '1.0' encoding="UTF-8"?&gt; <br> &lt;xsl:template match="element"&gt; <br>   <br> &lt;/xsl:template&gt; <br> &lt;/xsl:stylesheet&gt;</code> <br> <br> : <code>&lt;xsl:stylesheet version = '1.0' encoding="UTF-8"?&gt;</code> -   <strong>XML-</strong>  .   <strong>UTF-8</strong> ( , ). <br> <code>&lt;xsl:stylesheet&gt; &lt;/xsl:stylesheet&gt;</code> -    XSL-. <br> <code>&lt;xsl:template match="element"&gt; &lt;/xsl:template&gt;</code> -       element. <br> <br>       : <br> <code>&lt;xsl:template match="element"&gt;&lt;/xsl:template&gt;</code> - ,     <strong>element</strong> .      <strong>element</strong> . <code>&lt;xsl:template match="element" mode="mode1"&gt;&lt;/xsl:template&gt;</code> - ,     <strong>element</strong>   <strong>mode1</strong> .         <strong>element</strong> . <code>&lt;xsl:template name="template-name"&gt;&lt;/xsl:template&gt;</code> -    <strong>template-name</strong> .     -  <strong>XML-</strong> . <br>           <strong>XML-</strong> (,  XML-,    item      ),      " "  : <br> <code>&lt;xsl:template match="navigation/sections/item"&gt;&lt;/xsl:template&gt;</code> <br>  ,    , ..,      ,  ,  , ..      <strong>navigation</strong> ,      <strong>navigation/sections/item</strong>     <strong>sections/item</strong> . <br> <br>    <br>  ,         -      .  ,        <strong>xsl-</strong> .            . <br> <br>       <strong>xsl</strong>    . <br> <br> ,        (       )   : <br> <strong>template_folder</strong> -    .      ,  <strong>my_template</strong> . <strong>dtd</strong> -    .   . <strong>lang</strong> -      (      ). <strong>mod</strong> -  . <br>       <strong>xsl/my_template</strong>   ,  <strong>layout.xsl</strong>  : <br> <code>&lt;?xml version="1.0" encoding="UTF-8"?&gt; <br> &lt;!DOCTYPE xsl:stylesheet SYSTEM "../dtd/entities.dtd"&gt; <br> &lt;xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform"&gt; <br> <br> &lt;xsl:template match="/node()"&gt; <br> &lt;/xsl:template&gt; <br> <br> &lt;/xsl:stylesheet&gt; <br></code> <br> : <br> <code>&lt;xsl:template match="/node()"&gt; &lt;/xsl:template&gt;</code> -    <strong>/node()</strong> ().  <strong>/node()</strong>   <strong>//document</strong> , ..      . <br> <br>   XHTML-   <code>&lt;xsl:template match="/node()"&gt;&lt;/xsl:template&gt;</code> <br> <br>        <strong>XML-</strong> .   , <strong>XSL-</strong>   <strong>XML-</strong>  <strong>XHTML-</strong>  . <br> <br> ,    <strong>XSL</strong>   <strong>template.xsl</strong> (, <strong>template</strong> -   ),     : <br> <code>&lt;?xml version="1.0" encoding="UTF-8"?&gt; <br> &lt;xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform"&gt; <br> <br> &lt;xsl:import href=" my_template /layout.xsl"/&gt; <br> &lt;/xsl:stylesheet&gt; <br></code> <br> : <br> <code>&lt;xsl:import href="my_template/layout.xsl"/&gt;</code> <br>    XSL- ( <strong>XSL-</strong> )   .     . <br> <br>       <br>       , ..     XML-    . <br> <br>   -    . <br> <br>        ,   <strong>XML-</strong>   : <br> <code><br> &lt;item id="0" parent_id="0" is_published="1" section="1"&gt; <br>  <br> / <br> <br> &lt;item id="1" parent_id="0" is_published="1" section="1" hit="yes"&gt; <br>  <br> news <br> <br></code> <br> <br> <br>      : <br>  <strong>id</strong>    <strong>document</strong> -    <strong>id</strong>  .  <strong>hit</strong>   <strong>item</strong> -   ,   ,    "  ". <br> ,  ,         : <br> <strong>sections</strong> -   . <strong>item</strong> -  . <br>  ,  ,   <strong>item</strong>     <strong>item</strong> ,   ,     : <br> <code><br> <br></code> <br> <br> 1.    xsl/my_template  navigation.xsl  : <br> <code>&lt;?xml version="1.0" encoding="UTF-8"?&gt; <br> &lt;!DOCTYPE xsl:stylesheet SYSTEM "../dtd/entities.dtd"&gt; <br> &lt;xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform"&gt; <br> <br> &lt;xsl:template match="sections" mode="global_menu"&gt; <br> &lt;/xsl:template&gt; <br> <br> &lt;/xsl:stylesheet&gt;</code> <br> <br> 2.         <strong>layout.xsl</strong> : <br> <code><a href="https://habr.com/"></a> <a href="https://habr.com/sections/"></a> <a href="https://habr.com/news/"></a> <br> &lt;xsl:template match="sections" mode="global_menu"&gt; <br>    <br> &lt;/xsl:template&gt; <br></code> <br> <br> 3. ‚Ä¶      <strong>layout.xsl</strong>     : <br> <code><br> &lt;xsl:apply-templates select="navigation/sections" mode="global_menu"/&gt; <br> <br></code> <br> : <br> <strong>select="navigation/sections"</strong> -  ( ) - .  ,     <strong>navigation/sections</strong> . <br> <br> <strong>mode="global_menu"</strong> -     <strong>global_menu</strong> .      ,        , ,  " ",  -         . <br> <br> 4. ,    layout.xsl     <strong>navigation.xsl</strong> : <br> <code>&lt;xsl:import href="navigation.xsl"/&gt;</code> <br> <br> 5. ,    <strong>navigation.xsl</strong>   ,    : <br> <code><br> &lt;xsl:template match="item" mode="global_menu"&gt; <br> &lt;xsl:call-template name="href_attribute"/&gt; <br> &lt;xsl:value-of select="title"/&gt; <br> <br> <br> &lt;/xsl:template&gt; <br> <br></code> <br> : <br> <code>&lt;xsl:call-template name="href_attribute"/&gt;</code> -    .        , ..  . <br> <br> <code>&lt;xsl:value-of select="title"/&gt;</code> - -   title  .         <strong>@</strong> -      . <br> <br> 6.    <strong>sections</strong> : <br> <code><br> &lt;xsl:template match="sections" mode="global_menu"&gt; <br> <br> &lt;/xsl:template&gt; <br> <br></code> <br> : <br> <code>&lt;xsl:apply-templates select="item" mode="global_menu"/&gt;</code> -    <strong>item</strong>  <strong>sections</strong> .  ,  <strong>item</strong>   <strong>item</strong> ( <strong>sections/item/item</strong> )   , ..      . <br> <br>     <strong>item</strong> ( )   .  ,         : <code>&lt;xsl:call-template name="href_attribute"/&gt;</code> <br> <br>      <strong>uri-</strong>    .    . <br> <br> 7.     , <br>   ,    .            <strong>item</strong> : <br> <code><br> &lt;xsl:template match="item" mode="global_menu"&gt; <br> <br> &lt;xsl:choose&gt; <br> <br> &lt;xsl:when test="descendant-or-self::*/@id = /node()/@id"&gt; <br> &lt;xsl:value-of select="title"/&gt; <br> &lt;/xsl:when&gt; <br> <br> &lt;xsl:otherwise&gt; <br> &lt;xsl:call-template name="href_attribute"/&gt; <br> &lt;xsl:value-of select="title"/&gt; <br> <br> &lt;/xsl:otherwise&gt; <br> &lt;/xsl:choose&gt; <br> <br> &lt;/xsl:template&gt; <br> <br></code> <br>      : <br> <code>&lt;xsl:choose&gt; <br> &lt;xsl:when&gt;&lt;/xsl:when&gt; <br> &lt;xsl:otherwise&gt;&lt;/xsl:otherwise&gt; <br> &lt;/xsl:choose&gt; <br></code> <br> ‚Ä¶, ,     <strong>XML-</strong> .      : <code>&lt;xsl:when test="descendant-or-self::*/@id = /node()/@id"&gt;</code> <br> <br>        <strong>ID</strong>    ( <strong>document</strong> )    ( <strong>item</strong> ),   ,    . <br> <br>   <code>&lt;xsl:when&gt;&lt;/xsl:when&gt;</code>  ,      .   <code>&lt;xsl:otherwise&gt;&lt;/xsl:otherwise&gt;</code> -    . <br> <br> 8. ,   <strong>href_attribute</strong> : <br> <code><br> &lt;xsl:template name="href_attribute"&gt; <br> &lt;xsl:attribute name="href"&gt; <br> &lt;xsl:text&gt;/&lt;/xsl:text&gt; <br> &lt;xsl:for-each select="ancestor-or-self::item"&gt; <br> &lt;xsl:value-of select="dir"/&gt; <br> &lt;xsl:text&gt;/&lt;/xsl:text&gt; <br> &lt;/xsl:for-each&gt; <br> &lt;/xsl:attribute&gt; <br> &lt;/xsl:template&gt; <br></code> <br> <br>      <strong>xsl:attribute</strong> .          .         <strong>a</strong> , ,      <strong>href</strong> , .. . <br> <br>  <code>&lt;xsl:for-each select="ancestor-or-self::item"&gt;</code>      ,  .      <strong>ancestor-or-self::item</strong> -         .           <strong>dir</strong> , ..     -. <br> <br> ,   -  ,       . ,   <a href="http://habrahabr.ru/blog/webdev/38433.html">  </a> . <br> <br> <strong>UPD:</strong> <br>   .   ,  : <br> <a href="">parser.proc.ru/iso/xslt-1.zip</a> <br> <br>        (       )           Apache. <br> <br>    XML-   /xsl/document.xml</code></code></code></code></code></code> <ul><li> <code><code><code><code><code><code><code>-    (   ). : <br> <strong>Lang</strong> -  .     . <strong>Id</strong> -   . <br> &lt;lang_table&gt;</code> -  ,   . <br> <code>-   : <br> -    (  ): <br> &lt;item id="0" parent_id="0" is_published="1" section="1"&gt;</code> -   . : <br> <strong>Id</strong> -  . <strong>Parent_id</strong> -   . <strong>Is_published</strong> -   . <strong>Dir</strong> - uri- .     . <strong>Section</strong> -  .         . <br> <code>-  . <br>   CMS   :        : <br> <strong>Html</strong> -  .  ,    . <strong>Com</strong> - -.  ,      CMS: , ,    .. <br>  <strong>XSL-</strong>   ,     .       . <br> <br> CMS       <strong> ,      : <br> : <br> <strong>Id</strong> -  . <br> <strong>Container</strong> - - (    ). <br> <strong>Sorting</strong> -    . <br> <strong>Type</strong> - : <br> <strong>Com</strong> - - <br> <strong>Html</strong> -  . <br> <strong>Method</strong> -  . <br> <strong>Title</strong> -  . <br> <strong>DTD</strong>     (    ): <br> &lt;!DOCTYPE site_page [ <br> <br> &lt;!ENTITY nbsp " "&gt; <br> &lt;!ENTITY sect "¬ß" &gt; <br> &lt;!ENTITY copy "¬©"&gt; <br> &lt;!ENTITY laquo "¬´"&gt; <br> &lt;!ENTITY reg "¬Æ"&gt; <br> &lt;!ENTITY deg "¬∞"&gt; <br> &lt;!ENTITY plusmn "¬±"&gt; <br> &lt;!ENTITY para "¬∂"&gt; <br> &lt;!ENTITY raquo "¬ª"&gt; <br> &lt;!ENTITY times "√ó"&gt; <br> <br> <br> <br> &lt;!ENTITY bull "‚Ä¢"&gt; <br> &lt;!ENTITY hellip "‚Ä¶"&gt; <br> <br> <br> <br> &lt;!ENTITY ndash "‚Äì"&gt; <br> &lt;!ENTITY mdash "‚Äî"&gt; <br> &lt;!ENTITY lsquo "'"&gt; <br> &lt;!ENTITY rsquo "'"&gt; <br> &lt;!ENTITY sbquo "‚Äö"&gt; <br> &lt;!ENTITY ldquo "‚Äú"&gt; <br> &lt;!ENTITY rdquo "‚Äù"&gt; <br> &lt;!ENTITY bdquo "‚Äû"&gt; <br> &lt;!ENTITY lsaquo "‚Äπ"&gt; <br> &lt;!ENTITY rsaquo "‚Ä∫" &gt; <br> &lt;!ENTITY euro "‚Ç¨"&gt; <br> ]&gt; <br></strong></code> <br>      <strong>XML-</strong> .   <code>&lt;?xml version="1.0" encoding="windows-1251"?&gt;</code> . <br> <br>  XHML- <br> XSL-    XHTML- (   ).  XHTML-,  ,   <strong></strong> . <br> <br>      . <br> <br>   XHML-  ,    ,       : <br>  (   ).    -    ,      . / . <br>        HTML-: <br> <a href="https://habr.com/ru/post/22236/"></a> <a href="https://habr.com/ru/post/22236/"></a> <a href="https://habr.com/ru/post/22236/"></a> ... <br> <br>   <br> <br> <br> ... <br> <br>    <br> <br> ... <br> <br>   <br> <br> ... <br> <br>  <br> <br> ... <br> <br>   XSL- <br>   XSL-   : <br> <code>&lt;xsl:stylesheet version = '1.0' encoding="UTF-8"?&gt; <br> &lt;xsl:template match="element"&gt; <br>   <br> &lt;/xsl:template&gt; <br> &lt;/xsl:stylesheet&gt;</code> <br> <br> : <code>&lt;xsl:stylesheet version = '1.0' encoding="UTF-8"?&gt;</code> -   <strong>XML-</strong>  .   <strong>UTF-8</strong> ( , ). <br> <code>&lt;xsl:stylesheet&gt; &lt;/xsl:stylesheet&gt;</code> -    XSL-. <br> <code>&lt;xsl:template match="element"&gt; &lt;/xsl:template&gt;</code> -       element. <br> <br>       : <br> <code>&lt;xsl:template match="element"&gt;&lt;/xsl:template&gt;</code> - ,     <strong>element</strong> .      <strong>element</strong> . <code>&lt;xsl:template match="element" mode="mode1"&gt;&lt;/xsl:template&gt;</code> - ,     <strong>element</strong>   <strong>mode1</strong> .         <strong>element</strong> . <code>&lt;xsl:template name="template-name"&gt;&lt;/xsl:template&gt;</code> -    <strong>template-name</strong> .     -  <strong>XML-</strong> . <br>           <strong>XML-</strong> (,  XML-,    item      ),      " "  : <br> <code>&lt;xsl:template match="navigation/sections/item"&gt;&lt;/xsl:template&gt;</code> <br>  ,    , ..,      ,  ,  , ..      <strong>navigation</strong> ,      <strong>navigation/sections/item</strong>     <strong>sections/item</strong> . <br> <br>    <br>  ,         -      .  ,        <strong>xsl-</strong> .            . <br> <br>       <strong>xsl</strong>    . <br> <br> ,        (       )   : <br> <strong>template_folder</strong> -    .      ,  <strong>my_template</strong> . <strong>dtd</strong> -    .   . <strong>lang</strong> -      (      ). <strong>mod</strong> -  . <br>       <strong>xsl/my_template</strong>   ,  <strong>layout.xsl</strong>  : <br> <code>&lt;?xml version="1.0" encoding="UTF-8"?&gt; <br> &lt;!DOCTYPE xsl:stylesheet SYSTEM "../dtd/entities.dtd"&gt; <br> &lt;xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform"&gt; <br> <br> &lt;xsl:template match="/node()"&gt; <br> &lt;/xsl:template&gt; <br> <br> &lt;/xsl:stylesheet&gt; <br></code> <br> : <br> <code>&lt;xsl:template match="/node()"&gt; &lt;/xsl:template&gt;</code> -    <strong>/node()</strong> ().  <strong>/node()</strong>   <strong>//document</strong> , ..      . <br> <br>   XHTML-   <code>&lt;xsl:template match="/node()"&gt;&lt;/xsl:template&gt;</code> <br> <br>        <strong>XML-</strong> .   , <strong>XSL-</strong>   <strong>XML-</strong>  <strong>XHTML-</strong>  . <br> <br> ,    <strong>XSL</strong>   <strong>template.xsl</strong> (, <strong>template</strong> -   ),     : <br> <code>&lt;?xml version="1.0" encoding="UTF-8"?&gt; <br> &lt;xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform"&gt; <br> <br> &lt;xsl:import href=" my_template /layout.xsl"/&gt; <br> &lt;/xsl:stylesheet&gt; <br></code> <br> : <br> <code>&lt;xsl:import href="my_template/layout.xsl"/&gt;</code> <br>    XSL- ( <strong>XSL-</strong> )   .     . <br> <br>       <br>       , ..     XML-    . <br> <br>   -    . <br> <br>        ,   <strong>XML-</strong>   : <br> <code><br> &lt;item id="0" parent_id="0" is_published="1" section="1"&gt; <br>  <br> / <br> <br> &lt;item id="1" parent_id="0" is_published="1" section="1" hit="yes"&gt; <br>  <br> news <br> <br></code> <br> <br> <br>      : <br>  <strong>id</strong>    <strong>document</strong> -    <strong>id</strong>  .  <strong>hit</strong>   <strong>item</strong> -   ,   ,    "  ". <br> ,  ,         : <br> <strong>sections</strong> -   . <strong>item</strong> -  . <br>  ,  ,   <strong>item</strong>     <strong>item</strong> ,   ,     : <br> <code><br> <br></code> <br> <br> 1.    xsl/my_template  navigation.xsl  : <br> <code>&lt;?xml version="1.0" encoding="UTF-8"?&gt; <br> &lt;!DOCTYPE xsl:stylesheet SYSTEM "../dtd/entities.dtd"&gt; <br> &lt;xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform"&gt; <br> <br> &lt;xsl:template match="sections" mode="global_menu"&gt; <br> &lt;/xsl:template&gt; <br> <br> &lt;/xsl:stylesheet&gt;</code> <br> <br> 2.         <strong>layout.xsl</strong> : <br> <code><a href="https://habr.com/"></a> <a href="https://habr.com/sections/"></a> <a href="https://habr.com/news/"></a> <br> &lt;xsl:template match="sections" mode="global_menu"&gt; <br>    <br> &lt;/xsl:template&gt; <br></code> <br> <br> 3. ‚Ä¶      <strong>layout.xsl</strong>     : <br> <code><br> &lt;xsl:apply-templates select="navigation/sections" mode="global_menu"/&gt; <br> <br></code> <br> : <br> <strong>select="navigation/sections"</strong> -  ( ) - .  ,     <strong>navigation/sections</strong> . <br> <br> <strong>mode="global_menu"</strong> -     <strong>global_menu</strong> .      ,        , ,  " ",  -         . <br> <br> 4. ,    layout.xsl     <strong>navigation.xsl</strong> : <br> <code>&lt;xsl:import href="navigation.xsl"/&gt;</code> <br> <br> 5. ,    <strong>navigation.xsl</strong>   ,    : <br> <code><br> &lt;xsl:template match="item" mode="global_menu"&gt; <br> &lt;xsl:call-template name="href_attribute"/&gt; <br> &lt;xsl:value-of select="title"/&gt; <br> <br> <br> &lt;/xsl:template&gt; <br> <br></code> <br> : <br> <code>&lt;xsl:call-template name="href_attribute"/&gt;</code> -    .        , ..  . <br> <br> <code>&lt;xsl:value-of select="title"/&gt;</code> - -   title  .         <strong>@</strong> -      . <br> <br> 6.    <strong>sections</strong> : <br> <code><br> &lt;xsl:template match="sections" mode="global_menu"&gt; <br> <br> &lt;/xsl:template&gt; <br> <br></code> <br> : <br> <code>&lt;xsl:apply-templates select="item" mode="global_menu"/&gt;</code> -    <strong>item</strong>  <strong>sections</strong> .  ,  <strong>item</strong>   <strong>item</strong> ( <strong>sections/item/item</strong> )   , ..      . <br> <br>     <strong>item</strong> ( )   .  ,         : <code>&lt;xsl:call-template name="href_attribute"/&gt;</code> <br> <br>      <strong>uri-</strong>    .    . <br> <br> 7.     , <br>   ,    .            <strong>item</strong> : <br> <code><br> &lt;xsl:template match="item" mode="global_menu"&gt; <br> <br> &lt;xsl:choose&gt; <br> <br> &lt;xsl:when test="descendant-or-self::*/@id = /node()/@id"&gt; <br> &lt;xsl:value-of select="title"/&gt; <br> &lt;/xsl:when&gt; <br> <br> &lt;xsl:otherwise&gt; <br> &lt;xsl:call-template name="href_attribute"/&gt; <br> &lt;xsl:value-of select="title"/&gt; <br> <br> &lt;/xsl:otherwise&gt; <br> &lt;/xsl:choose&gt; <br> <br> &lt;/xsl:template&gt; <br> <br></code> <br>      : <br> <code>&lt;xsl:choose&gt; <br> &lt;xsl:when&gt;&lt;/xsl:when&gt; <br> &lt;xsl:otherwise&gt;&lt;/xsl:otherwise&gt; <br> &lt;/xsl:choose&gt; <br></code> <br> ‚Ä¶, ,     <strong>XML-</strong> .      : <code>&lt;xsl:when test="descendant-or-self::*/@id = /node()/@id"&gt;</code> <br> <br>        <strong>ID</strong>    ( <strong>document</strong> )    ( <strong>item</strong> ),   ,    . <br> <br>   <code>&lt;xsl:when&gt;&lt;/xsl:when&gt;</code>  ,      .   <code>&lt;xsl:otherwise&gt;&lt;/xsl:otherwise&gt;</code> -    . <br> <br> 8. ,   <strong>href_attribute</strong> : <br> <code><br> &lt;xsl:template name="href_attribute"&gt; <br> &lt;xsl:attribute name="href"&gt; <br> &lt;xsl:text&gt;/&lt;/xsl:text&gt; <br> &lt;xsl:for-each select="ancestor-or-self::item"&gt; <br> &lt;xsl:value-of select="dir"/&gt; <br> &lt;xsl:text&gt;/&lt;/xsl:text&gt; <br> &lt;/xsl:for-each&gt; <br> &lt;/xsl:attribute&gt; <br> &lt;/xsl:template&gt; <br></code> <br> <br>      <strong>xsl:attribute</strong> .          .         <strong>a</strong> , ,      <strong>href</strong> , .. . <br> <br>  <code>&lt;xsl:for-each select="ancestor-or-self::item"&gt;</code>      ,  .      <strong>ancestor-or-self::item</strong> -         .           <strong>dir</strong> , ..     -. <br> <br> ,   -  ,       . ,   <a href="http://habrahabr.ru/blog/webdev/38433.html">  </a> . <br> <br> <strong>UPD:</strong> <br>   .   ,  : <br> <a href="">parser.proc.ru/iso/xslt-1.zip</a> <br> <br>        (       )           Apache. <br> <br>    XML-   /xsl/document.xml</code></code></code></code></code></code> </li> <li> <code><code><code><code><code><code><code>-    (   ). : <br> <strong>Lang</strong> -  .     . <strong>Id</strong> -   . <br> &lt;lang_table&gt;</code> -  ,   . <br> <code>-   : <br> -    (  ): <br> &lt;item id="0" parent_id="0" is_published="1" section="1"&gt;</code> -   . : <br> <strong>Id</strong> -  . <strong>Parent_id</strong> -   . <strong>Is_published</strong> -   . <strong>Dir</strong> - uri- .     . <strong>Section</strong> -  .         . <br> <code>-  . <br>   CMS   :        : <br> <strong>Html</strong> -  .  ,    . <strong>Com</strong> - -.  ,      CMS: , ,    .. <br>  <strong>XSL-</strong>   ,     .       . <br> <br> CMS       <strong> ,      : <br> : <br> <strong>Id</strong> -  . <br> <strong>Container</strong> - - (    ). <br> <strong>Sorting</strong> -    . <br> <strong>Type</strong> - : <br> <strong>Com</strong> - - <br> <strong>Html</strong> -  . <br> <strong>Method</strong> -  . <br> <strong>Title</strong> -  . <br> <strong>DTD</strong>     (    ): <br> &lt;!DOCTYPE site_page [ <br> <br> &lt;!ENTITY nbsp " "&gt; <br> &lt;!ENTITY sect "¬ß" &gt; <br> &lt;!ENTITY copy "¬©"&gt; <br> &lt;!ENTITY laquo "¬´"&gt; <br> &lt;!ENTITY reg "¬Æ"&gt; <br> &lt;!ENTITY deg "¬∞"&gt; <br> &lt;!ENTITY plusmn "¬±"&gt; <br> &lt;!ENTITY para "¬∂"&gt; <br> &lt;!ENTITY raquo "¬ª"&gt; <br> &lt;!ENTITY times "√ó"&gt; <br> <br> <br> <br> &lt;!ENTITY bull "‚Ä¢"&gt; <br> &lt;!ENTITY hellip "‚Ä¶"&gt; <br> <br> <br> <br> &lt;!ENTITY ndash "‚Äì"&gt; <br> &lt;!ENTITY mdash "‚Äî"&gt; <br> &lt;!ENTITY lsquo "'"&gt; <br> &lt;!ENTITY rsquo "'"&gt; <br> &lt;!ENTITY sbquo "‚Äö"&gt; <br> &lt;!ENTITY ldquo "‚Äú"&gt; <br> &lt;!ENTITY rdquo "‚Äù"&gt; <br> &lt;!ENTITY bdquo "‚Äû"&gt; <br> &lt;!ENTITY lsaquo "‚Äπ"&gt; <br> &lt;!ENTITY rsaquo "‚Ä∫" &gt; <br> &lt;!ENTITY euro "‚Ç¨"&gt; <br> ]&gt; <br></strong></code> <br>      <strong>XML-</strong> .   <code>&lt;?xml version="1.0" encoding="windows-1251"?&gt;</code> . <br> <br>  XHML- <br> XSL-    XHTML- (   ).  XHTML-,  ,   <strong></strong> . <br> <br>      . <br> <br>   XHML-  ,    ,       : <br>  (   ).    -    ,      . / . <br>        HTML-: <br> <a href="https://habr.com/ru/post/22236/"></a> <a href="https://habr.com/ru/post/22236/"></a> <a href="https://habr.com/ru/post/22236/"></a> ... <br> <br>   <br> <br> <br> ... <br> <br>    <br> <br> ... <br> <br>   <br> <br> ... <br> <br>  <br> <br> ... <br> <br>   XSL- <br>   XSL-   : <br> <code>&lt;xsl:stylesheet version = '1.0' encoding="UTF-8"?&gt; <br> &lt;xsl:template match="element"&gt; <br>   <br> &lt;/xsl:template&gt; <br> &lt;/xsl:stylesheet&gt;</code> <br> <br> : <code>&lt;xsl:stylesheet version = '1.0' encoding="UTF-8"?&gt;</code> -   <strong>XML-</strong>  .   <strong>UTF-8</strong> ( , ). <br> <code>&lt;xsl:stylesheet&gt; &lt;/xsl:stylesheet&gt;</code> -    XSL-. <br> <code>&lt;xsl:template match="element"&gt; &lt;/xsl:template&gt;</code> -       element. <br> <br>       : <br> <code>&lt;xsl:template match="element"&gt;&lt;/xsl:template&gt;</code> - ,     <strong>element</strong> .      <strong>element</strong> . <code>&lt;xsl:template match="element" mode="mode1"&gt;&lt;/xsl:template&gt;</code> - ,     <strong>element</strong>   <strong>mode1</strong> .         <strong>element</strong> . <code>&lt;xsl:template name="template-name"&gt;&lt;/xsl:template&gt;</code> -    <strong>template-name</strong> .     -  <strong>XML-</strong> . <br>           <strong>XML-</strong> (,  XML-,    item      ),      " "  : <br> <code>&lt;xsl:template match="navigation/sections/item"&gt;&lt;/xsl:template&gt;</code> <br>  ,    , ..,      ,  ,  , ..      <strong>navigation</strong> ,      <strong>navigation/sections/item</strong>     <strong>sections/item</strong> . <br> <br>    <br>  ,         -      .  ,        <strong>xsl-</strong> .            . <br> <br>       <strong>xsl</strong>    . <br> <br> ,        (       )   : <br> <strong>template_folder</strong> -    .      ,  <strong>my_template</strong> . <strong>dtd</strong> -    .   . <strong>lang</strong> -      (      ). <strong>mod</strong> -  . <br>       <strong>xsl/my_template</strong>   ,  <strong>layout.xsl</strong>  : <br> <code>&lt;?xml version="1.0" encoding="UTF-8"?&gt; <br> &lt;!DOCTYPE xsl:stylesheet SYSTEM "../dtd/entities.dtd"&gt; <br> &lt;xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform"&gt; <br> <br> &lt;xsl:template match="/node()"&gt; <br> &lt;/xsl:template&gt; <br> <br> &lt;/xsl:stylesheet&gt; <br></code> <br> : <br> <code>&lt;xsl:template match="/node()"&gt; &lt;/xsl:template&gt;</code> -    <strong>/node()</strong> ().  <strong>/node()</strong>   <strong>//document</strong> , ..      . <br> <br>   XHTML-   <code>&lt;xsl:template match="/node()"&gt;&lt;/xsl:template&gt;</code> <br> <br>        <strong>XML-</strong> .   , <strong>XSL-</strong>   <strong>XML-</strong>  <strong>XHTML-</strong>  . <br> <br> ,    <strong>XSL</strong>   <strong>template.xsl</strong> (, <strong>template</strong> -   ),     : <br> <code>&lt;?xml version="1.0" encoding="UTF-8"?&gt; <br> &lt;xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform"&gt; <br> <br> &lt;xsl:import href=" my_template /layout.xsl"/&gt; <br> &lt;/xsl:stylesheet&gt; <br></code> <br> : <br> <code>&lt;xsl:import href="my_template/layout.xsl"/&gt;</code> <br>    XSL- ( <strong>XSL-</strong> )   .     . <br> <br>       <br>       , ..     XML-    . <br> <br>   -    . <br> <br>        ,   <strong>XML-</strong>   : <br> <code><br> &lt;item id="0" parent_id="0" is_published="1" section="1"&gt; <br>  <br> / <br> <br> &lt;item id="1" parent_id="0" is_published="1" section="1" hit="yes"&gt; <br>  <br> news <br> <br></code> <br> <br> <br>      : <br>  <strong>id</strong>    <strong>document</strong> -    <strong>id</strong>  .  <strong>hit</strong>   <strong>item</strong> -   ,   ,    "  ". <br> ,  ,         : <br> <strong>sections</strong> -   . <strong>item</strong> -  . <br>  ,  ,   <strong>item</strong>     <strong>item</strong> ,   ,     : <br> <code><br> <br></code> <br> <br> 1.    xsl/my_template  navigation.xsl  : <br> <code>&lt;?xml version="1.0" encoding="UTF-8"?&gt; <br> &lt;!DOCTYPE xsl:stylesheet SYSTEM "../dtd/entities.dtd"&gt; <br> &lt;xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform"&gt; <br> <br> &lt;xsl:template match="sections" mode="global_menu"&gt; <br> &lt;/xsl:template&gt; <br> <br> &lt;/xsl:stylesheet&gt;</code> <br> <br> 2.         <strong>layout.xsl</strong> : <br> <code><a href="https://habr.com/"></a> <a href="https://habr.com/sections/"></a> <a href="https://habr.com/news/"></a> <br> &lt;xsl:template match="sections" mode="global_menu"&gt; <br>    <br> &lt;/xsl:template&gt; <br></code> <br> <br> 3. ‚Ä¶      <strong>layout.xsl</strong>     : <br> <code><br> &lt;xsl:apply-templates select="navigation/sections" mode="global_menu"/&gt; <br> <br></code> <br> : <br> <strong>select="navigation/sections"</strong> -  ( ) - .  ,     <strong>navigation/sections</strong> . <br> <br> <strong>mode="global_menu"</strong> -     <strong>global_menu</strong> .      ,        , ,  " ",  -         . <br> <br> 4. ,    layout.xsl     <strong>navigation.xsl</strong> : <br> <code>&lt;xsl:import href="navigation.xsl"/&gt;</code> <br> <br> 5. ,    <strong>navigation.xsl</strong>   ,    : <br> <code><br> &lt;xsl:template match="item" mode="global_menu"&gt; <br> &lt;xsl:call-template name="href_attribute"/&gt; <br> &lt;xsl:value-of select="title"/&gt; <br> <br> <br> &lt;/xsl:template&gt; <br> <br></code> <br> : <br> <code>&lt;xsl:call-template name="href_attribute"/&gt;</code> -    .        , ..  . <br> <br> <code>&lt;xsl:value-of select="title"/&gt;</code> - -   title  .         <strong>@</strong> -      . <br> <br> 6.    <strong>sections</strong> : <br> <code><br> &lt;xsl:template match="sections" mode="global_menu"&gt; <br> <br> &lt;/xsl:template&gt; <br> <br></code> <br> : <br> <code>&lt;xsl:apply-templates select="item" mode="global_menu"/&gt;</code> -    <strong>item</strong>  <strong>sections</strong> .  ,  <strong>item</strong>   <strong>item</strong> ( <strong>sections/item/item</strong> )   , ..      . <br> <br>     <strong>item</strong> ( )   .  ,         : <code>&lt;xsl:call-template name="href_attribute"/&gt;</code> <br> <br>      <strong>uri-</strong>    .    . <br> <br> 7.     , <br>   ,    .            <strong>item</strong> : <br> <code><br> &lt;xsl:template match="item" mode="global_menu"&gt; <br> <br> &lt;xsl:choose&gt; <br> <br> &lt;xsl:when test="descendant-or-self::*/@id = /node()/@id"&gt; <br> &lt;xsl:value-of select="title"/&gt; <br> &lt;/xsl:when&gt; <br> <br> &lt;xsl:otherwise&gt; <br> &lt;xsl:call-template name="href_attribute"/&gt; <br> &lt;xsl:value-of select="title"/&gt; <br> <br> &lt;/xsl:otherwise&gt; <br> &lt;/xsl:choose&gt; <br> <br> &lt;/xsl:template&gt; <br> <br></code> <br>      : <br> <code>&lt;xsl:choose&gt; <br> &lt;xsl:when&gt;&lt;/xsl:when&gt; <br> &lt;xsl:otherwise&gt;&lt;/xsl:otherwise&gt; <br> &lt;/xsl:choose&gt; <br></code> <br> ‚Ä¶, ,     <strong>XML-</strong> .      : <code>&lt;xsl:when test="descendant-or-self::*/@id = /node()/@id"&gt;</code> <br> <br>        <strong>ID</strong>    ( <strong>document</strong> )    ( <strong>item</strong> ),   ,    . <br> <br>   <code>&lt;xsl:when&gt;&lt;/xsl:when&gt;</code>  ,      .   <code>&lt;xsl:otherwise&gt;&lt;/xsl:otherwise&gt;</code> -    . <br> <br> 8. ,   <strong>href_attribute</strong> : <br> <code><br> &lt;xsl:template name="href_attribute"&gt; <br> &lt;xsl:attribute name="href"&gt; <br> &lt;xsl:text&gt;/&lt;/xsl:text&gt; <br> &lt;xsl:for-each select="ancestor-or-self::item"&gt; <br> &lt;xsl:value-of select="dir"/&gt; <br> &lt;xsl:text&gt;/&lt;/xsl:text&gt; <br> &lt;/xsl:for-each&gt; <br> &lt;/xsl:attribute&gt; <br> &lt;/xsl:template&gt; <br></code> <br> <br>      <strong>xsl:attribute</strong> .          .         <strong>a</strong> , ,      <strong>href</strong> , .. . <br> <br>  <code>&lt;xsl:for-each select="ancestor-or-self::item"&gt;</code>      ,  .      <strong>ancestor-or-self::item</strong> -         .           <strong>dir</strong> , ..     -. <br> <br> ,   -  ,       . ,   <a href="http://habrahabr.ru/blog/webdev/38433.html">  </a> . <br> <br> <strong>UPD:</strong> <br>   .   ,  : <br> <a href="">parser.proc.ru/iso/xslt-1.zip</a> <br> <br>        (       )           Apache. <br> <br>    XML-   /xsl/document.xml</code></code></code></code></code></code> </li> <li> <code><code><code><code><code><code><code>-    (   ). : <br> <strong>Lang</strong> -  .     . <strong>Id</strong> -   . <br> &lt;lang_table&gt;</code> -  ,   . <br> <code>-   : <br> -    (  ): <br> &lt;item id="0" parent_id="0" is_published="1" section="1"&gt;</code> -   . : <br> <strong>Id</strong> -  . <strong>Parent_id</strong> -   . <strong>Is_published</strong> -   . <strong>Dir</strong> - uri- .     . <strong>Section</strong> -  .         . <br> <code>-  . <br>   CMS   :        : <br> <strong>Html</strong> -  .  ,    . <strong>Com</strong> - -.  ,      CMS: , ,    .. <br>  <strong>XSL-</strong>   ,     .       . <br> <br> CMS       <strong> ,      : <br> : <br> <strong>Id</strong> -  . <br> <strong>Container</strong> - - (    ). <br> <strong>Sorting</strong> -    . <br> <strong>Type</strong> - : <br> <strong>Com</strong> - - <br> <strong>Html</strong> -  . <br> <strong>Method</strong> -  . <br> <strong>Title</strong> -  . <br> <strong>DTD</strong>     (    ): <br> &lt;!DOCTYPE site_page [ <br> <br> &lt;!ENTITY nbsp " "&gt; <br> &lt;!ENTITY sect "¬ß" &gt; <br> &lt;!ENTITY copy "¬©"&gt; <br> &lt;!ENTITY laquo "¬´"&gt; <br> &lt;!ENTITY reg "¬Æ"&gt; <br> &lt;!ENTITY deg "¬∞"&gt; <br> &lt;!ENTITY plusmn "¬±"&gt; <br> &lt;!ENTITY para "¬∂"&gt; <br> &lt;!ENTITY raquo "¬ª"&gt; <br> &lt;!ENTITY times "√ó"&gt; <br> <br> <br> <br> &lt;!ENTITY bull "‚Ä¢"&gt; <br> &lt;!ENTITY hellip "‚Ä¶"&gt; <br> <br> <br> <br> &lt;!ENTITY ndash "‚Äì"&gt; <br> &lt;!ENTITY mdash "‚Äî"&gt; <br> &lt;!ENTITY lsquo "'"&gt; <br> &lt;!ENTITY rsquo "'"&gt; <br> &lt;!ENTITY sbquo "‚Äö"&gt; <br> &lt;!ENTITY ldquo "‚Äú"&gt; <br> &lt;!ENTITY rdquo "‚Äù"&gt; <br> &lt;!ENTITY bdquo "‚Äû"&gt; <br> &lt;!ENTITY lsaquo "‚Äπ"&gt; <br> &lt;!ENTITY rsaquo "‚Ä∫" &gt; <br> &lt;!ENTITY euro "‚Ç¨"&gt; <br> ]&gt; <br></strong></code> <br>      <strong>XML-</strong> .   <code>&lt;?xml version="1.0" encoding="windows-1251"?&gt;</code> . <br> <br>  XHML- <br> XSL-    XHTML- (   ).  XHTML-,  ,   <strong></strong> . <br> <br>      . <br> <br>   XHML-  ,    ,       : <br>  (   ).    -    ,      . / . <br>        HTML-: <br> <a href="https://habr.com/ru/post/22236/"></a> <a href="https://habr.com/ru/post/22236/"></a> <a href="https://habr.com/ru/post/22236/"></a> ... <br> <br>   <br> <br> <br> ... <br> <br>    <br> <br> ... <br> <br>   <br> <br> ... <br> <br>  <br> <br> ... <br> <br>   XSL- <br>   XSL-   : <br> <code>&lt;xsl:stylesheet version = '1.0' encoding="UTF-8"?&gt; <br> &lt;xsl:template match="element"&gt; <br>   <br> &lt;/xsl:template&gt; <br> &lt;/xsl:stylesheet&gt;</code> <br> <br> : <code>&lt;xsl:stylesheet version = '1.0' encoding="UTF-8"?&gt;</code> -   <strong>XML-</strong>  .   <strong>UTF-8</strong> ( , ). <br> <code>&lt;xsl:stylesheet&gt; &lt;/xsl:stylesheet&gt;</code> -    XSL-. <br> <code>&lt;xsl:template match="element"&gt; &lt;/xsl:template&gt;</code> -       element. <br> <br>       : <br> <code>&lt;xsl:template match="element"&gt;&lt;/xsl:template&gt;</code> - ,     <strong>element</strong> .      <strong>element</strong> . <code>&lt;xsl:template match="element" mode="mode1"&gt;&lt;/xsl:template&gt;</code> - ,     <strong>element</strong>   <strong>mode1</strong> .         <strong>element</strong> . <code>&lt;xsl:template name="template-name"&gt;&lt;/xsl:template&gt;</code> -    <strong>template-name</strong> .     -  <strong>XML-</strong> . <br>           <strong>XML-</strong> (,  XML-,    item      ),      " "  : <br> <code>&lt;xsl:template match="navigation/sections/item"&gt;&lt;/xsl:template&gt;</code> <br>  ,    , ..,      ,  ,  , ..      <strong>navigation</strong> ,      <strong>navigation/sections/item</strong>     <strong>sections/item</strong> . <br> <br>    <br>  ,         -      .  ,        <strong>xsl-</strong> .            . <br> <br>       <strong>xsl</strong>    . <br> <br> ,        (       )   : <br> <strong>template_folder</strong> -    .      ,  <strong>my_template</strong> . <strong>dtd</strong> -    .   . <strong>lang</strong> -      (      ). <strong>mod</strong> -  . <br>       <strong>xsl/my_template</strong>   ,  <strong>layout.xsl</strong>  : <br> <code>&lt;?xml version="1.0" encoding="UTF-8"?&gt; <br> &lt;!DOCTYPE xsl:stylesheet SYSTEM "../dtd/entities.dtd"&gt; <br> &lt;xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform"&gt; <br> <br> &lt;xsl:template match="/node()"&gt; <br> &lt;/xsl:template&gt; <br> <br> &lt;/xsl:stylesheet&gt; <br></code> <br> : <br> <code>&lt;xsl:template match="/node()"&gt; &lt;/xsl:template&gt;</code> -    <strong>/node()</strong> ().  <strong>/node()</strong>   <strong>//document</strong> , ..      . <br> <br>   XHTML-   <code>&lt;xsl:template match="/node()"&gt;&lt;/xsl:template&gt;</code> <br> <br>        <strong>XML-</strong> .   , <strong>XSL-</strong>   <strong>XML-</strong>  <strong>XHTML-</strong>  . <br> <br> ,    <strong>XSL</strong>   <strong>template.xsl</strong> (, <strong>template</strong> -   ),     : <br> <code>&lt;?xml version="1.0" encoding="UTF-8"?&gt; <br> &lt;xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform"&gt; <br> <br> &lt;xsl:import href=" my_template /layout.xsl"/&gt; <br> &lt;/xsl:stylesheet&gt; <br></code> <br> : <br> <code>&lt;xsl:import href="my_template/layout.xsl"/&gt;</code> <br>    XSL- ( <strong>XSL-</strong> )   .     . <br> <br>       <br>       , ..     XML-    . <br> <br>   -    . <br> <br>        ,   <strong>XML-</strong>   : <br> <code><br> &lt;item id="0" parent_id="0" is_published="1" section="1"&gt; <br>  <br> / <br> <br> &lt;item id="1" parent_id="0" is_published="1" section="1" hit="yes"&gt; <br>  <br> news <br> <br></code> <br> <br> <br>      : <br>  <strong>id</strong>    <strong>document</strong> -    <strong>id</strong>  .  <strong>hit</strong>   <strong>item</strong> -   ,   ,    "  ". <br> ,  ,         : <br> <strong>sections</strong> -   . <strong>item</strong> -  . <br>  ,  ,   <strong>item</strong>     <strong>item</strong> ,   ,     : <br> <code><br> <br></code> <br> <br> 1.    xsl/my_template  navigation.xsl  : <br> <code>&lt;?xml version="1.0" encoding="UTF-8"?&gt; <br> &lt;!DOCTYPE xsl:stylesheet SYSTEM "../dtd/entities.dtd"&gt; <br> &lt;xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform"&gt; <br> <br> &lt;xsl:template match="sections" mode="global_menu"&gt; <br> &lt;/xsl:template&gt; <br> <br> &lt;/xsl:stylesheet&gt;</code> <br> <br> 2.         <strong>layout.xsl</strong> : <br> <code><a href="https://habr.com/"></a> <a href="https://habr.com/sections/"></a> <a href="https://habr.com/news/"></a> <br> &lt;xsl:template match="sections" mode="global_menu"&gt; <br>    <br> &lt;/xsl:template&gt; <br></code> <br> <br> 3. ‚Ä¶      <strong>layout.xsl</strong>     : <br> <code><br> &lt;xsl:apply-templates select="navigation/sections" mode="global_menu"/&gt; <br> <br></code> <br> : <br> <strong>select="navigation/sections"</strong> -  ( ) - .  ,     <strong>navigation/sections</strong> . <br> <br> <strong>mode="global_menu"</strong> -     <strong>global_menu</strong> .      ,        , ,  " ",  -         . <br> <br> 4. ,    layout.xsl     <strong>navigation.xsl</strong> : <br> <code>&lt;xsl:import href="navigation.xsl"/&gt;</code> <br> <br> 5. ,    <strong>navigation.xsl</strong>   ,    : <br> <code><br> &lt;xsl:template match="item" mode="global_menu"&gt; <br> &lt;xsl:call-template name="href_attribute"/&gt; <br> &lt;xsl:value-of select="title"/&gt; <br> <br> <br> &lt;/xsl:template&gt; <br> <br></code> <br> : <br> <code>&lt;xsl:call-template name="href_attribute"/&gt;</code> -    .        , ..  . <br> <br> <code>&lt;xsl:value-of select="title"/&gt;</code> - -   title  .         <strong>@</strong> -      . <br> <br> 6.    <strong>sections</strong> : <br> <code><br> &lt;xsl:template match="sections" mode="global_menu"&gt; <br> <br> &lt;/xsl:template&gt; <br> <br></code> <br> : <br> <code>&lt;xsl:apply-templates select="item" mode="global_menu"/&gt;</code> -    <strong>item</strong>  <strong>sections</strong> .  ,  <strong>item</strong>   <strong>item</strong> ( <strong>sections/item/item</strong> )   , ..      . <br> <br>     <strong>item</strong> ( )   .  ,         : <code>&lt;xsl:call-template name="href_attribute"/&gt;</code> <br> <br>      <strong>uri-</strong>    .    . <br> <br> 7.     , <br>   ,    .            <strong>item</strong> : <br> <code><br> &lt;xsl:template match="item" mode="global_menu"&gt; <br> <br> &lt;xsl:choose&gt; <br> <br> &lt;xsl:when test="descendant-or-self::*/@id = /node()/@id"&gt; <br> &lt;xsl:value-of select="title"/&gt; <br> &lt;/xsl:when&gt; <br> <br> &lt;xsl:otherwise&gt; <br> &lt;xsl:call-template name="href_attribute"/&gt; <br> &lt;xsl:value-of select="title"/&gt; <br> <br> &lt;/xsl:otherwise&gt; <br> &lt;/xsl:choose&gt; <br> <br> &lt;/xsl:template&gt; <br> <br></code> <br>      : <br> <code>&lt;xsl:choose&gt; <br> &lt;xsl:when&gt;&lt;/xsl:when&gt; <br> &lt;xsl:otherwise&gt;&lt;/xsl:otherwise&gt; <br> &lt;/xsl:choose&gt; <br></code> <br> ‚Ä¶, ,     <strong>XML-</strong> .      : <code>&lt;xsl:when test="descendant-or-self::*/@id = /node()/@id"&gt;</code> <br> <br>        <strong>ID</strong>    ( <strong>document</strong> )    ( <strong>item</strong> ),   ,    . <br> <br>   <code>&lt;xsl:when&gt;&lt;/xsl:when&gt;</code>  ,      .   <code>&lt;xsl:otherwise&gt;&lt;/xsl:otherwise&gt;</code> -    . <br> <br> 8. ,   <strong>href_attribute</strong> : <br> <code><br> &lt;xsl:template name="href_attribute"&gt; <br> &lt;xsl:attribute name="href"&gt; <br> &lt;xsl:text&gt;/&lt;/xsl:text&gt; <br> &lt;xsl:for-each select="ancestor-or-self::item"&gt; <br> &lt;xsl:value-of select="dir"/&gt; <br> &lt;xsl:text&gt;/&lt;/xsl:text&gt; <br> &lt;/xsl:for-each&gt; <br> &lt;/xsl:attribute&gt; <br> &lt;/xsl:template&gt; <br></code> <br> <br>      <strong>xsl:attribute</strong> .          .         <strong>a</strong> , ,      <strong>href</strong> , .. . <br> <br>  <code>&lt;xsl:for-each select="ancestor-or-self::item"&gt;</code>      ,  .      <strong>ancestor-or-self::item</strong> -         .           <strong>dir</strong> , ..     -. <br> <br> ,   -  ,       . ,   <a href="http://habrahabr.ru/blog/webdev/38433.html">  </a> . <br> <br> <strong>UPD:</strong> <br>   .   ,  : <br> <a href="">parser.proc.ru/iso/xslt-1.zip</a> <br> <br>        (       )           Apache. <br> <br>    XML-   /xsl/document.xml</code></code></code></code></code></code> </li> </ul> <code><code><code><code><code><code>-    (   ). : <br> <strong>Lang</strong> -  .     . <strong>Id</strong> -   . <br> &lt;lang_table&gt;</code> -  ,   . <br> <code>-   : <br> -    (  ): <br> &lt;item id="0" parent_id="0" is_published="1" section="1"&gt;</code> -   . : <br> <strong>Id</strong> -  . <strong>Parent_id</strong> -   . <strong>Is_published</strong> -   . <strong>Dir</strong> - uri- .     . <strong>Section</strong> -  .         . <br> <code>-  . <br>   CMS   :        : <br> <strong>Html</strong> -  .  ,    . <strong>Com</strong> - -.  ,      CMS: , ,    .. <br>  <strong>XSL-</strong>   ,     .       . <br> <br> CMS       <strong> ,      : <br> : <br> <strong>Id</strong> -  . <br> <strong>Container</strong> - - (    ). <br> <strong>Sorting</strong> -    . <br> <strong>Type</strong> - : <br> <strong>Com</strong> - - <br> <strong>Html</strong> -  . <br> <strong>Method</strong> -  . <br> <strong>Title</strong> -  . <br> <strong>DTD</strong>     (    ): <br> &lt;!DOCTYPE site_page [ <br> <br> &lt;!ENTITY nbsp " "&gt; <br> &lt;!ENTITY sect "¬ß" &gt; <br> &lt;!ENTITY copy "¬©"&gt; <br> &lt;!ENTITY laquo "¬´"&gt; <br> &lt;!ENTITY reg "¬Æ"&gt; <br> &lt;!ENTITY deg "¬∞"&gt; <br> &lt;!ENTITY plusmn "¬±"&gt; <br> &lt;!ENTITY para "¬∂"&gt; <br> &lt;!ENTITY raquo "¬ª"&gt; <br> &lt;!ENTITY times "√ó"&gt; <br> <br> <br> <br> &lt;!ENTITY bull "‚Ä¢"&gt; <br> &lt;!ENTITY hellip "‚Ä¶"&gt; <br> <br> <br> <br> &lt;!ENTITY ndash "‚Äì"&gt; <br> &lt;!ENTITY mdash "‚Äî"&gt; <br> &lt;!ENTITY lsquo "'"&gt; <br> &lt;!ENTITY rsquo "'"&gt; <br> &lt;!ENTITY sbquo "‚Äö"&gt; <br> &lt;!ENTITY ldquo "‚Äú"&gt; <br> &lt;!ENTITY rdquo "‚Äù"&gt; <br> &lt;!ENTITY bdquo "‚Äû"&gt; <br> &lt;!ENTITY lsaquo "‚Äπ"&gt; <br> &lt;!ENTITY rsaquo "‚Ä∫" &gt; <br> &lt;!ENTITY euro "‚Ç¨"&gt; <br> ]&gt; <br></strong></code> <br>      <strong>XML-</strong> .   <code>&lt;?xml version="1.0" encoding="windows-1251"?&gt;</code> . <br> <br>  XHML- <br> XSL-    XHTML- (   ).  XHTML-,  ,   <strong></strong> . <br> <br>      . <br> <br>   XHML-  ,    ,       : <br>  (   ).    -    ,      . / . <br>        HTML-: <br> <code><a href="https://habr.com/ru/post/22236/"></a> <a href="https://habr.com/ru/post/22236/"></a> <a href="https://habr.com/ru/post/22236/"></a> ... <br> <br>   <br> <br> <br> ... <br> <br>    <br> <br> ... <br> <br>   <br> <br> ... <br> <br>  <br> <br> ...</code> <br> <br>   XSL- <br>   XSL-   : <br> <code>&lt;xsl:stylesheet version = '1.0' encoding="UTF-8"?&gt; <br> &lt;xsl:template match="element"&gt; <br>   <br> &lt;/xsl:template&gt; <br> &lt;/xsl:stylesheet&gt;</code> <br> <br> : <code>&lt;xsl:stylesheet version = '1.0' encoding="UTF-8"?&gt;</code> -   <strong>XML-</strong>  .   <strong>UTF-8</strong> ( , ). <br> <code>&lt;xsl:stylesheet&gt; &lt;/xsl:stylesheet&gt;</code> -    XSL-. <br> <code>&lt;xsl:template match="element"&gt; &lt;/xsl:template&gt;</code> -       element. <br> <br>       : <br> <code>&lt;xsl:template match="element"&gt;&lt;/xsl:template&gt;</code> - ,     <strong>element</strong> .      <strong>element</strong> . <code>&lt;xsl:template match="element" mode="mode1"&gt;&lt;/xsl:template&gt;</code> - ,     <strong>element</strong>   <strong>mode1</strong> .         <strong>element</strong> . <code>&lt;xsl:template name="template-name"&gt;&lt;/xsl:template&gt;</code> -    <strong>template-name</strong> .     -  <strong>XML-</strong> . <br>           <strong>XML-</strong> (,  XML-,    item      ),      " "  : <br> <code>&lt;xsl:template match="navigation/sections/item"&gt;&lt;/xsl:template&gt;</code> <br>  ,    , ..,      ,  ,  , ..      <strong>navigation</strong> ,      <strong>navigation/sections/item</strong>     <strong>sections/item</strong> . <br> <br>    <br>  ,         -      .  ,        <strong>xsl-</strong> .            . <br> <br>       <strong>xsl</strong>    . <br> <br> ,        (       )   : <br> <strong>template_folder</strong> -    .      ,  <strong>my_template</strong> . <strong>dtd</strong> -    .   . <strong>lang</strong> -      (      ). <strong>mod</strong> -  . <br>       <strong>xsl/my_template</strong>   ,  <strong>layout.xsl</strong>  : <br> <code>&lt;?xml version="1.0" encoding="UTF-8"?&gt; <br> &lt;!DOCTYPE xsl:stylesheet SYSTEM "../dtd/entities.dtd"&gt; <br> &lt;xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform"&gt; <br> <br> &lt;xsl:template match="/node()"&gt; <br> &lt;/xsl:template&gt; <br> <br> &lt;/xsl:stylesheet&gt; <br></code> <br> : <br> <code>&lt;xsl:template match="/node()"&gt; &lt;/xsl:template&gt;</code> -    <strong>/node()</strong> ().  <strong>/node()</strong>   <strong>//document</strong> , ..      . <br> <br>   XHTML-   <code>&lt;xsl:template match="/node()"&gt;&lt;/xsl:template&gt;</code> <br> <br>        <strong>XML-</strong> .   , <strong>XSL-</strong>   <strong>XML-</strong>  <strong>XHTML-</strong>  . <br> <br> ,    <strong>XSL</strong>   <strong>template.xsl</strong> (, <strong>template</strong> -   ),     : <br> <code>&lt;?xml version="1.0" encoding="UTF-8"?&gt; <br> &lt;xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform"&gt; <br> <br> &lt;xsl:import href=" my_template /layout.xsl"/&gt; <br> &lt;/xsl:stylesheet&gt; <br></code> <br> : <br> <code>&lt;xsl:import href="my_template/layout.xsl"/&gt;</code> <br>    XSL- ( <strong>XSL-</strong> )   .     . <br> <br>       <br>       , ..     XML-    . <br> <br>   -    . <br> <br>        ,   <strong>XML-</strong>   : <br> <code><br> &lt;item id="0" parent_id="0" is_published="1" section="1"&gt; <br>  <br> / <br> <br> &lt;item id="1" parent_id="0" is_published="1" section="1" hit="yes"&gt; <br>  <br> news <br> <br></code> <br> <br> <br>      : <br>  <strong>id</strong>    <strong>document</strong> -    <strong>id</strong>  .  <strong>hit</strong>   <strong>item</strong> -   ,   ,    "  ". <br> ,  ,         : <br> <strong>sections</strong> -   . <strong>item</strong> -  . <br>  ,  ,   <strong>item</strong>     <strong>item</strong> ,   ,     : <br> <code><br> <br></code> <br> <br> 1.    xsl/my_template  navigation.xsl  : <br> <code>&lt;?xml version="1.0" encoding="UTF-8"?&gt; <br> &lt;!DOCTYPE xsl:stylesheet SYSTEM "../dtd/entities.dtd"&gt; <br> &lt;xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform"&gt; <br> <br> &lt;xsl:template match="sections" mode="global_menu"&gt; <br> &lt;/xsl:template&gt; <br> <br> &lt;/xsl:stylesheet&gt;</code> <br> <br> 2.         <strong>layout.xsl</strong> : <br> <code><a href="https://habr.com/"></a> <a href="https://habr.com/sections/"></a> <a href="https://habr.com/news/"></a> <br> &lt;xsl:template match="sections" mode="global_menu"&gt; <br>    <br> &lt;/xsl:template&gt; <br></code> <br> <br> 3. ‚Ä¶      <strong>layout.xsl</strong>     : <br> <code><br> &lt;xsl:apply-templates select="navigation/sections" mode="global_menu"/&gt; <br> <br></code> <br> : <br> <strong>select="navigation/sections"</strong> -  ( ) - .  ,     <strong>navigation/sections</strong> . <br> <br> <strong>mode="global_menu"</strong> -     <strong>global_menu</strong> .      ,        , ,  " ",  -         . <br> <br> 4. ,    layout.xsl     <strong>navigation.xsl</strong> : <br> <code>&lt;xsl:import href="navigation.xsl"/&gt;</code> <br> <br> 5. ,    <strong>navigation.xsl</strong>   ,    : <br> <code><br> &lt;xsl:template match="item" mode="global_menu"&gt; <br> &lt;xsl:call-template name="href_attribute"/&gt; <br> &lt;xsl:value-of select="title"/&gt; <br> <br> <br> &lt;/xsl:template&gt; <br> <br></code> <br> : <br> <code>&lt;xsl:call-template name="href_attribute"/&gt;</code> -    .        , ..  . <br> <br> <code>&lt;xsl:value-of select="title"/&gt;</code> - -   title  .         <strong>@</strong> -      . <br> <br> 6.    <strong>sections</strong> : <br> <code><br> &lt;xsl:template match="sections" mode="global_menu"&gt; <br> <br> &lt;/xsl:template&gt; <br> <br></code> <br> : <br> <code>&lt;xsl:apply-templates select="item" mode="global_menu"/&gt;</code> -    <strong>item</strong>  <strong>sections</strong> .  ,  <strong>item</strong>   <strong>item</strong> ( <strong>sections/item/item</strong> )   , ..      . <br> <br>     <strong>item</strong> ( )   .  ,         : <code>&lt;xsl:call-template name="href_attribute"/&gt;</code> <br> <br>      <strong>uri-</strong>    .    . <br> <br> 7.     , <br>   ,    .            <strong>item</strong> : <br> <code><br> &lt;xsl:template match="item" mode="global_menu"&gt; <br> <br> &lt;xsl:choose&gt; <br> <br> &lt;xsl:when test="descendant-or-self::*/@id = /node()/@id"&gt; <br> &lt;xsl:value-of select="title"/&gt; <br> &lt;/xsl:when&gt; <br> <br> &lt;xsl:otherwise&gt; <br> &lt;xsl:call-template name="href_attribute"/&gt; <br> &lt;xsl:value-of select="title"/&gt; <br> <br> &lt;/xsl:otherwise&gt; <br> &lt;/xsl:choose&gt; <br> <br> &lt;/xsl:template&gt; <br> <br></code> <br>      : <br> <code>&lt;xsl:choose&gt; <br> &lt;xsl:when&gt;&lt;/xsl:when&gt; <br> &lt;xsl:otherwise&gt;&lt;/xsl:otherwise&gt; <br> &lt;/xsl:choose&gt; <br></code> <br> ‚Ä¶, ,     <strong>XML-</strong> .      : <code>&lt;xsl:when test="descendant-or-self::*/@id = /node()/@id"&gt;</code> <br> <br>        <strong>ID</strong>    ( <strong>document</strong> )    ( <strong>item</strong> ),   ,    . <br> <br>   <code>&lt;xsl:when&gt;&lt;/xsl:when&gt;</code>  ,      .   <code>&lt;xsl:otherwise&gt;&lt;/xsl:otherwise&gt;</code> -    . <br> <br> 8. ,   <strong>href_attribute</strong> : <br> <code><br> &lt;xsl:template name="href_attribute"&gt; <br> &lt;xsl:attribute name="href"&gt; <br> &lt;xsl:text&gt;/&lt;/xsl:text&gt; <br> &lt;xsl:for-each select="ancestor-or-self::item"&gt; <br> &lt;xsl:value-of select="dir"/&gt; <br> &lt;xsl:text&gt;/&lt;/xsl:text&gt; <br> &lt;/xsl:for-each&gt; <br> &lt;/xsl:attribute&gt; <br> &lt;/xsl:template&gt; <br></code> <br> <br>      <strong>xsl:attribute</strong> .          .         <strong>a</strong> , ,      <strong>href</strong> , .. . <br> <br>  <code>&lt;xsl:for-each select="ancestor-or-self::item"&gt;</code>      ,  .      <strong>ancestor-or-self::item</strong> -         .           <strong>dir</strong> , ..     -. <br> <br> ,   -  ,       . ,   <a href="http://habrahabr.ru/blog/webdev/38433.html">  </a> . <br> <br> <strong>UPD:</strong> <br>   .   ,  : <br> <a href="">parser.proc.ru/iso/xslt-1.zip</a> <br> <br>        (       )           Apache. <br> <br>    XML-   /xsl/document.xml</code></code></code></code></code> <h2> <code><code><code><code><code><code>-    (   ). : <br> <strong>Lang</strong> -  .     . <strong>Id</strong> -   . <br> &lt;lang_table&gt;</code> -  ,   . <br> <code>-   : <br> -    (  ): <br> &lt;item id="0" parent_id="0" is_published="1" section="1"&gt;</code> -   . : <br> <strong>Id</strong> -  . <strong>Parent_id</strong> -   . <strong>Is_published</strong> -   . <strong>Dir</strong> - uri- .     . <strong>Section</strong> -  .         . <br> <code>-  . <br>   CMS   :        : <br> <strong>Html</strong> -  .  ,    . <strong>Com</strong> - -.  ,      CMS: , ,    .. <br>  <strong>XSL-</strong>   ,     .       . <br> <br> CMS       <strong> ,      : <br> : <br> <strong>Id</strong> -  . <br> <strong>Container</strong> - - (    ). <br> <strong>Sorting</strong> -    . <br> <strong>Type</strong> - : <br> <strong>Com</strong> - - <br> <strong>Html</strong> -  . <br> <strong>Method</strong> -  . <br> <strong>Title</strong> -  . <br> <strong>DTD</strong>     (    ): <br> &lt;!DOCTYPE site_page [ <br> <br> &lt;!ENTITY nbsp " "&gt; <br> &lt;!ENTITY sect "¬ß" &gt; <br> &lt;!ENTITY copy "¬©"&gt; <br> &lt;!ENTITY laquo "¬´"&gt; <br> &lt;!ENTITY reg "¬Æ"&gt; <br> &lt;!ENTITY deg "¬∞"&gt; <br> &lt;!ENTITY plusmn "¬±"&gt; <br> &lt;!ENTITY para "¬∂"&gt; <br> &lt;!ENTITY raquo "¬ª"&gt; <br> &lt;!ENTITY times "√ó"&gt; <br> <br> <br> <br> &lt;!ENTITY bull "‚Ä¢"&gt; <br> &lt;!ENTITY hellip "‚Ä¶"&gt; <br> <br> <br> <br> &lt;!ENTITY ndash "‚Äì"&gt; <br> &lt;!ENTITY mdash "‚Äî"&gt; <br> &lt;!ENTITY lsquo "'"&gt; <br> &lt;!ENTITY rsquo "'"&gt; <br> &lt;!ENTITY sbquo "‚Äö"&gt; <br> &lt;!ENTITY ldquo "‚Äú"&gt; <br> &lt;!ENTITY rdquo "‚Äù"&gt; <br> &lt;!ENTITY bdquo "‚Äû"&gt; <br> &lt;!ENTITY lsaquo "‚Äπ"&gt; <br> &lt;!ENTITY rsaquo "‚Ä∫" &gt; <br> &lt;!ENTITY euro "‚Ç¨"&gt; <br> ]&gt; <br></strong></code> <br>      <strong>XML-</strong> .   <code>&lt;?xml version="1.0" encoding="windows-1251"?&gt;</code> . <br> <br>  XHML- <br> XSL-    XHTML- (   ).  XHTML-,  ,   <strong></strong> . <br> <br>      . <br> <br>   XHML-  ,    ,       : <br>  (   ).    -    ,      . / . <br>        HTML-: <br> <code><a href="https://habr.com/ru/post/22236/"></a> <a href="https://habr.com/ru/post/22236/"></a> <a href="https://habr.com/ru/post/22236/"></a> ... <br> <br>   <br> <br> <br> ... <br> <br>    <br> <br> ... <br> <br>   <br> <br> ... <br> <br>  <br> <br> ...</code> <br> <br>   XSL- <br>   XSL-   : <br> <code>&lt;xsl:stylesheet version = '1.0' encoding="UTF-8"?&gt; <br> &lt;xsl:template match="element"&gt; <br>   <br> &lt;/xsl:template&gt; <br> &lt;/xsl:stylesheet&gt;</code> <br> <br> : <code>&lt;xsl:stylesheet version = '1.0' encoding="UTF-8"?&gt;</code> -   <strong>XML-</strong>  .   <strong>UTF-8</strong> ( , ). <br> <code>&lt;xsl:stylesheet&gt; &lt;/xsl:stylesheet&gt;</code> -    XSL-. <br> <code>&lt;xsl:template match="element"&gt; &lt;/xsl:template&gt;</code> -       element. <br> <br>       : <br> <code>&lt;xsl:template match="element"&gt;&lt;/xsl:template&gt;</code> - ,     <strong>element</strong> .      <strong>element</strong> . <code>&lt;xsl:template match="element" mode="mode1"&gt;&lt;/xsl:template&gt;</code> - ,     <strong>element</strong>   <strong>mode1</strong> .         <strong>element</strong> . <code>&lt;xsl:template name="template-name"&gt;&lt;/xsl:template&gt;</code> -    <strong>template-name</strong> .     -  <strong>XML-</strong> . <br>           <strong>XML-</strong> (,  XML-,    item      ),      " "  : <br> <code>&lt;xsl:template match="navigation/sections/item"&gt;&lt;/xsl:template&gt;</code> <br>  ,    , ..,      ,  ,  , ..      <strong>navigation</strong> ,      <strong>navigation/sections/item</strong>     <strong>sections/item</strong> . <br> <br>    <br>  ,         -      .  ,        <strong>xsl-</strong> .            . <br> <br>       <strong>xsl</strong>    . <br> <br> ,        (       )   : <br> <strong>template_folder</strong> -    .      ,  <strong>my_template</strong> . <strong>dtd</strong> -    .   . <strong>lang</strong> -      (      ). <strong>mod</strong> -  . <br>       <strong>xsl/my_template</strong>   ,  <strong>layout.xsl</strong>  : <br> <code>&lt;?xml version="1.0" encoding="UTF-8"?&gt; <br> &lt;!DOCTYPE xsl:stylesheet SYSTEM "../dtd/entities.dtd"&gt; <br> &lt;xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform"&gt; <br> <br> &lt;xsl:template match="/node()"&gt; <br> &lt;/xsl:template&gt; <br> <br> &lt;/xsl:stylesheet&gt; <br></code> <br> : <br> <code>&lt;xsl:template match="/node()"&gt; &lt;/xsl:template&gt;</code> -    <strong>/node()</strong> ().  <strong>/node()</strong>   <strong>//document</strong> , ..      . <br> <br>   XHTML-   <code>&lt;xsl:template match="/node()"&gt;&lt;/xsl:template&gt;</code> <br> <br>        <strong>XML-</strong> .   , <strong>XSL-</strong>   <strong>XML-</strong>  <strong>XHTML-</strong>  . <br> <br> ,    <strong>XSL</strong>   <strong>template.xsl</strong> (, <strong>template</strong> -   ),     : <br> <code>&lt;?xml version="1.0" encoding="UTF-8"?&gt; <br> &lt;xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform"&gt; <br> <br> &lt;xsl:import href=" my_template /layout.xsl"/&gt; <br> &lt;/xsl:stylesheet&gt; <br></code> <br> : <br> <code>&lt;xsl:import href="my_template/layout.xsl"/&gt;</code> <br>    XSL- ( <strong>XSL-</strong> )   .     . <br> <br>       <br>       , ..     XML-    . <br> <br>   -    . <br> <br>        ,   <strong>XML-</strong>   : <br> <code><br> &lt;item id="0" parent_id="0" is_published="1" section="1"&gt; <br>  <br> / <br> <br> &lt;item id="1" parent_id="0" is_published="1" section="1" hit="yes"&gt; <br>  <br> news <br> <br></code> <br> <br> <br>      : <br>  <strong>id</strong>    <strong>document</strong> -    <strong>id</strong>  .  <strong>hit</strong>   <strong>item</strong> -   ,   ,    "  ". <br> ,  ,         : <br> <strong>sections</strong> -   . <strong>item</strong> -  . <br>  ,  ,   <strong>item</strong>     <strong>item</strong> ,   ,     : <br> <code><br> <br></code> <br> <br> 1.    xsl/my_template  navigation.xsl  : <br> <code>&lt;?xml version="1.0" encoding="UTF-8"?&gt; <br> &lt;!DOCTYPE xsl:stylesheet SYSTEM "../dtd/entities.dtd"&gt; <br> &lt;xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform"&gt; <br> <br> &lt;xsl:template match="sections" mode="global_menu"&gt; <br> &lt;/xsl:template&gt; <br> <br> &lt;/xsl:stylesheet&gt;</code> <br> <br> 2.         <strong>layout.xsl</strong> : <br> <code><a href="https://habr.com/"></a> <a href="https://habr.com/sections/"></a> <a href="https://habr.com/news/"></a> <br> &lt;xsl:template match="sections" mode="global_menu"&gt; <br>    <br> &lt;/xsl:template&gt; <br></code> <br> <br> 3. ‚Ä¶      <strong>layout.xsl</strong>     : <br> <code><br> &lt;xsl:apply-templates select="navigation/sections" mode="global_menu"/&gt; <br> <br></code> <br> : <br> <strong>select="navigation/sections"</strong> -  ( ) - .  ,     <strong>navigation/sections</strong> . <br> <br> <strong>mode="global_menu"</strong> -     <strong>global_menu</strong> .      ,        , ,  " ",  -         . <br> <br> 4. ,    layout.xsl     <strong>navigation.xsl</strong> : <br> <code>&lt;xsl:import href="navigation.xsl"/&gt;</code> <br> <br> 5. ,    <strong>navigation.xsl</strong>   ,    : <br> <code><br> &lt;xsl:template match="item" mode="global_menu"&gt; <br> &lt;xsl:call-template name="href_attribute"/&gt; <br> &lt;xsl:value-of select="title"/&gt; <br> <br> <br> &lt;/xsl:template&gt; <br> <br></code> <br> : <br> <code>&lt;xsl:call-template name="href_attribute"/&gt;</code> -    .        , ..  . <br> <br> <code>&lt;xsl:value-of select="title"/&gt;</code> - -   title  .         <strong>@</strong> -      . <br> <br> 6.    <strong>sections</strong> : <br> <code><br> &lt;xsl:template match="sections" mode="global_menu"&gt; <br> <br> &lt;/xsl:template&gt; <br> <br></code> <br> : <br> <code>&lt;xsl:apply-templates select="item" mode="global_menu"/&gt;</code> -    <strong>item</strong>  <strong>sections</strong> .  ,  <strong>item</strong>   <strong>item</strong> ( <strong>sections/item/item</strong> )   , ..      . <br> <br>     <strong>item</strong> ( )   .  ,         : <code>&lt;xsl:call-template name="href_attribute"/&gt;</code> <br> <br>      <strong>uri-</strong>    .    . <br> <br> 7.     , <br>   ,    .            <strong>item</strong> : <br> <code><br> &lt;xsl:template match="item" mode="global_menu"&gt; <br> <br> &lt;xsl:choose&gt; <br> <br> &lt;xsl:when test="descendant-or-self::*/@id = /node()/@id"&gt; <br> &lt;xsl:value-of select="title"/&gt; <br> &lt;/xsl:when&gt; <br> <br> &lt;xsl:otherwise&gt; <br> &lt;xsl:call-template name="href_attribute"/&gt; <br> &lt;xsl:value-of select="title"/&gt; <br> <br> &lt;/xsl:otherwise&gt; <br> &lt;/xsl:choose&gt; <br> <br> &lt;/xsl:template&gt; <br> <br></code> <br>      : <br> <code>&lt;xsl:choose&gt; <br> &lt;xsl:when&gt;&lt;/xsl:when&gt; <br> &lt;xsl:otherwise&gt;&lt;/xsl:otherwise&gt; <br> &lt;/xsl:choose&gt; <br></code> <br> ‚Ä¶, ,     <strong>XML-</strong> .      : <code>&lt;xsl:when test="descendant-or-self::*/@id = /node()/@id"&gt;</code> <br> <br>        <strong>ID</strong>    ( <strong>document</strong> )    ( <strong>item</strong> ),   ,    . <br> <br>   <code>&lt;xsl:when&gt;&lt;/xsl:when&gt;</code>  ,      .   <code>&lt;xsl:otherwise&gt;&lt;/xsl:otherwise&gt;</code> -    . <br> <br> 8. ,   <strong>href_attribute</strong> : <br> <code><br> &lt;xsl:template name="href_attribute"&gt; <br> &lt;xsl:attribute name="href"&gt; <br> &lt;xsl:text&gt;/&lt;/xsl:text&gt; <br> &lt;xsl:for-each select="ancestor-or-self::item"&gt; <br> &lt;xsl:value-of select="dir"/&gt; <br> &lt;xsl:text&gt;/&lt;/xsl:text&gt; <br> &lt;/xsl:for-each&gt; <br> &lt;/xsl:attribute&gt; <br> &lt;/xsl:template&gt; <br></code> <br> <br>      <strong>xsl:attribute</strong> .          .         <strong>a</strong> , ,      <strong>href</strong> , .. . <br> <br>  <code>&lt;xsl:for-each select="ancestor-or-self::item"&gt;</code>      ,  .      <strong>ancestor-or-self::item</strong> -         .           <strong>dir</strong> , ..     -. <br> <br> ,   -  ,       . ,   <a href="http://habrahabr.ru/blog/webdev/38433.html">  </a> . <br> <br> <strong>UPD:</strong> <br>   .   ,  : <br> <a href="">parser.proc.ru/iso/xslt-1.zip</a> <br> <br>        (       )           Apache. <br> <br>    XML-   /xsl/document.xml</code></code></code></code></code> </h2> <code><code><code><code><code><code>-    (   ). : <br> <strong>Lang</strong> -  .     . <strong>Id</strong> -   . <br> &lt;lang_table&gt;</code> -  ,   . <br> <code>-   : <br> -    (  ): <br> &lt;item id="0" parent_id="0" is_published="1" section="1"&gt;</code> -   . : <br> <strong>Id</strong> -  . <strong>Parent_id</strong> -   . <strong>Is_published</strong> -   . <strong>Dir</strong> - uri- .     . <strong>Section</strong> -  .         . <br> <code>-  . <br>   CMS   :        : <br> <strong>Html</strong> -  .  ,    . <strong>Com</strong> - -.  ,      CMS: , ,    .. <br>  <strong>XSL-</strong>   ,     .       . <br> <br> CMS       <strong> ,      : <br> : <br> <strong>Id</strong> -  . <br> <strong>Container</strong> - - (    ). <br> <strong>Sorting</strong> -    . <br> <strong>Type</strong> - : <br> <strong>Com</strong> - - <br> <strong>Html</strong> -  . <br> <strong>Method</strong> -  . <br> <strong>Title</strong> -  . <br> <strong>DTD</strong>     (    ): <br> &lt;!DOCTYPE site_page [ <br> <br> &lt;!ENTITY nbsp " "&gt; <br> &lt;!ENTITY sect "¬ß" &gt; <br> &lt;!ENTITY copy "¬©"&gt; <br> &lt;!ENTITY laquo "¬´"&gt; <br> &lt;!ENTITY reg "¬Æ"&gt; <br> &lt;!ENTITY deg "¬∞"&gt; <br> &lt;!ENTITY plusmn "¬±"&gt; <br> &lt;!ENTITY para "¬∂"&gt; <br> &lt;!ENTITY raquo "¬ª"&gt; <br> &lt;!ENTITY times "√ó"&gt; <br> <br> <br> <br> &lt;!ENTITY bull "‚Ä¢"&gt; <br> &lt;!ENTITY hellip "‚Ä¶"&gt; <br> <br> <br> <br> &lt;!ENTITY ndash "‚Äì"&gt; <br> &lt;!ENTITY mdash "‚Äî"&gt; <br> &lt;!ENTITY lsquo "'"&gt; <br> &lt;!ENTITY rsquo "'"&gt; <br> &lt;!ENTITY sbquo "‚Äö"&gt; <br> &lt;!ENTITY ldquo "‚Äú"&gt; <br> &lt;!ENTITY rdquo "‚Äù"&gt; <br> &lt;!ENTITY bdquo "‚Äû"&gt; <br> &lt;!ENTITY lsaquo "‚Äπ"&gt; <br> &lt;!ENTITY rsaquo "‚Ä∫" &gt; <br> &lt;!ENTITY euro "‚Ç¨"&gt; <br> ]&gt; <br></strong></code> <br>      <strong>XML-</strong> .   <code>&lt;?xml version="1.0" encoding="windows-1251"?&gt;</code> . <br> <br>  XHML- <br> XSL-    XHTML- (   ).  XHTML-,  ,   <strong></strong> . <br> <br>      . <br> <br>   XHML-  ,    ,       : <br>  (   ).    -    ,      . / . <br>        HTML-: <br> <code><a href="https://habr.com/ru/post/22236/"></a> <a href="https://habr.com/ru/post/22236/"></a> <a href="https://habr.com/ru/post/22236/"></a> ... <br> <br>   <br> <br> <br> ... <br> <br>    <br> <br> ... <br> <br>   <br> <br> ... <br> <br>  <br> <br> ...</code> <br> <br>   XSL- <br>   XSL-   : <br> <code>&lt;xsl:stylesheet version = '1.0' encoding="UTF-8"?&gt; <br> &lt;xsl:template match="element"&gt; <br>   <br> &lt;/xsl:template&gt; <br> &lt;/xsl:stylesheet&gt;</code> <br> <br> : <code>&lt;xsl:stylesheet version = '1.0' encoding="UTF-8"?&gt;</code> -   <strong>XML-</strong>  .   <strong>UTF-8</strong> ( , ). <br> <code>&lt;xsl:stylesheet&gt; &lt;/xsl:stylesheet&gt;</code> -    XSL-. <br> <code>&lt;xsl:template match="element"&gt; &lt;/xsl:template&gt;</code> -       element. <br> <br>       : <br> <code>&lt;xsl:template match="element"&gt;&lt;/xsl:template&gt;</code> - ,     <strong>element</strong> .      <strong>element</strong> . <code>&lt;xsl:template match="element" mode="mode1"&gt;&lt;/xsl:template&gt;</code> - ,     <strong>element</strong>   <strong>mode1</strong> .         <strong>element</strong> . <code>&lt;xsl:template name="template-name"&gt;&lt;/xsl:template&gt;</code> -    <strong>template-name</strong> .     -  <strong>XML-</strong> . <br>           <strong>XML-</strong> (,  XML-,    item      ),      " "  : <br> <code>&lt;xsl:template match="navigation/sections/item"&gt;&lt;/xsl:template&gt;</code> <br>  ,    , ..,      ,  ,  , ..      <strong>navigation</strong> ,      <strong>navigation/sections/item</strong>     <strong>sections/item</strong> . <br> <br>    <br>  ,         -      .  ,        <strong>xsl-</strong> .            . <br> <br>       <strong>xsl</strong>    . <br> <br> ,        (       )   : <br> <strong>template_folder</strong> -    .      ,  <strong>my_template</strong> . <strong>dtd</strong> -    .   . <strong>lang</strong> -      (      ). <strong>mod</strong> -  . <br>       <strong>xsl/my_template</strong>   ,  <strong>layout.xsl</strong>  : <br> <code>&lt;?xml version="1.0" encoding="UTF-8"?&gt; <br> &lt;!DOCTYPE xsl:stylesheet SYSTEM "../dtd/entities.dtd"&gt; <br> &lt;xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform"&gt; <br> <br> &lt;xsl:template match="/node()"&gt; <br> &lt;/xsl:template&gt; <br> <br> &lt;/xsl:stylesheet&gt; <br></code> <br> : <br> <code>&lt;xsl:template match="/node()"&gt; &lt;/xsl:template&gt;</code> -    <strong>/node()</strong> ().  <strong>/node()</strong>   <strong>//document</strong> , ..      . <br> <br>   XHTML-   <code>&lt;xsl:template match="/node()"&gt;&lt;/xsl:template&gt;</code> <br> <br>        <strong>XML-</strong> .   , <strong>XSL-</strong>   <strong>XML-</strong>  <strong>XHTML-</strong>  . <br> <br> ,    <strong>XSL</strong>   <strong>template.xsl</strong> (, <strong>template</strong> -   ),     : <br> <code>&lt;?xml version="1.0" encoding="UTF-8"?&gt; <br> &lt;xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform"&gt; <br> <br> &lt;xsl:import href=" my_template /layout.xsl"/&gt; <br> &lt;/xsl:stylesheet&gt; <br></code> <br> : <br> <code>&lt;xsl:import href="my_template/layout.xsl"/&gt;</code> <br>    XSL- ( <strong>XSL-</strong> )   .     . <br> <br>       <br>       , ..     XML-    . <br> <br>   -    . <br> <br>        ,   <strong>XML-</strong>   : <br> <code><br> &lt;item id="0" parent_id="0" is_published="1" section="1"&gt; <br>  <br> / <br> <br> &lt;item id="1" parent_id="0" is_published="1" section="1" hit="yes"&gt; <br>  <br> news <br> <br></code> <br> <br> <br>      : <br>  <strong>id</strong>    <strong>document</strong> -    <strong>id</strong>  .  <strong>hit</strong>   <strong>item</strong> -   ,   ,    "  ". <br> ,  ,         : <br> <strong>sections</strong> -   . <strong>item</strong> -  . <br>  ,  ,   <strong>item</strong>     <strong>item</strong> ,   ,     : <br> <code><br> <br></code> <br> <br> 1.    xsl/my_template  navigation.xsl  : <br> <code>&lt;?xml version="1.0" encoding="UTF-8"?&gt; <br> &lt;!DOCTYPE xsl:stylesheet SYSTEM "../dtd/entities.dtd"&gt; <br> &lt;xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform"&gt; <br> <br> &lt;xsl:template match="sections" mode="global_menu"&gt; <br> &lt;/xsl:template&gt; <br> <br> &lt;/xsl:stylesheet&gt;</code> <br> <br> 2.         <strong>layout.xsl</strong> : <br> <code><a href="https://habr.com/"></a> <a href="https://habr.com/sections/"></a> <a href="https://habr.com/news/"></a> <br> &lt;xsl:template match="sections" mode="global_menu"&gt; <br>    <br> &lt;/xsl:template&gt; <br></code> <br> <br> 3. ‚Ä¶      <strong>layout.xsl</strong>     : <br> <code><br> &lt;xsl:apply-templates select="navigation/sections" mode="global_menu"/&gt; <br> <br></code> <br> : <br> <strong>select="navigation/sections"</strong> -  ( ) - .  ,     <strong>navigation/sections</strong> . <br> <br> <strong>mode="global_menu"</strong> -     <strong>global_menu</strong> .      ,        , ,  " ",  -         . <br> <br> 4. ,    layout.xsl     <strong>navigation.xsl</strong> : <br> <code>&lt;xsl:import href="navigation.xsl"/&gt;</code> <br> <br> 5. ,    <strong>navigation.xsl</strong>   ,    : <br> <code><br> &lt;xsl:template match="item" mode="global_menu"&gt; <br> &lt;xsl:call-template name="href_attribute"/&gt; <br> &lt;xsl:value-of select="title"/&gt; <br> <br> <br> &lt;/xsl:template&gt; <br> <br></code> <br> : <br> <code>&lt;xsl:call-template name="href_attribute"/&gt;</code> -    .        , ..  . <br> <br> <code>&lt;xsl:value-of select="title"/&gt;</code> - -   title  .         <strong>@</strong> -      . <br> <br> 6.    <strong>sections</strong> : <br> <code><br> &lt;xsl:template match="sections" mode="global_menu"&gt; <br> <br> &lt;/xsl:template&gt; <br> <br></code> <br> : <br> <code>&lt;xsl:apply-templates select="item" mode="global_menu"/&gt;</code> -    <strong>item</strong>  <strong>sections</strong> .  ,  <strong>item</strong>   <strong>item</strong> ( <strong>sections/item/item</strong> )   , ..      . <br> <br>     <strong>item</strong> ( )   .  ,         : <code>&lt;xsl:call-template name="href_attribute"/&gt;</code> <br> <br>      <strong>uri-</strong>    .    . <br> <br> 7.     , <br>   ,    .            <strong>item</strong> : <br> <code><br> &lt;xsl:template match="item" mode="global_menu"&gt; <br> <br> &lt;xsl:choose&gt; <br> <br> &lt;xsl:when test="descendant-or-self::*/@id = /node()/@id"&gt; <br> &lt;xsl:value-of select="title"/&gt; <br> &lt;/xsl:when&gt; <br> <br> &lt;xsl:otherwise&gt; <br> &lt;xsl:call-template name="href_attribute"/&gt; <br> &lt;xsl:value-of select="title"/&gt; <br> <br> &lt;/xsl:otherwise&gt; <br> &lt;/xsl:choose&gt; <br> <br> &lt;/xsl:template&gt; <br> <br></code> <br>      : <br> <code>&lt;xsl:choose&gt; <br> &lt;xsl:when&gt;&lt;/xsl:when&gt; <br> &lt;xsl:otherwise&gt;&lt;/xsl:otherwise&gt; <br> &lt;/xsl:choose&gt; <br></code> <br> ‚Ä¶, ,     <strong>XML-</strong> .      : <code>&lt;xsl:when test="descendant-or-self::*/@id = /node()/@id"&gt;</code> <br> <br>        <strong>ID</strong>    ( <strong>document</strong> )    ( <strong>item</strong> ),   ,    . <br> <br>   <code>&lt;xsl:when&gt;&lt;/xsl:when&gt;</code>  ,      .   <code>&lt;xsl:otherwise&gt;&lt;/xsl:otherwise&gt;</code> -    . <br> <br> 8. ,   <strong>href_attribute</strong> : <br> <code><br> &lt;xsl:template name="href_attribute"&gt; <br> &lt;xsl:attribute name="href"&gt; <br> &lt;xsl:text&gt;/&lt;/xsl:text&gt; <br> &lt;xsl:for-each select="ancestor-or-self::item"&gt; <br> &lt;xsl:value-of select="dir"/&gt; <br> &lt;xsl:text&gt;/&lt;/xsl:text&gt; <br> &lt;/xsl:for-each&gt; <br> &lt;/xsl:attribute&gt; <br> &lt;/xsl:template&gt; <br></code> <br> <br>      <strong>xsl:attribute</strong> .          .         <strong>a</strong> , ,      <strong>href</strong> , .. . <br> <br>  <code>&lt;xsl:for-each select="ancestor-or-self::item"&gt;</code>      ,  .      <strong>ancestor-or-self::item</strong> -         .           <strong>dir</strong> , ..     -. <br> <br> ,   -  ,       . ,   <a href="http://habrahabr.ru/blog/webdev/38433.html">  </a> . <br> <br> <strong>UPD:</strong> <br>   .   ,  : <br> <a href="">parser.proc.ru/iso/xslt-1.zip</a> <br> <br>        (       )           Apache. <br> <br>    XML-   /xsl/document.xml</code></code></code></code></code> <ul><li> <code><code><code><code><code><code>-    (   ). : <br> <strong>Lang</strong> -  .     . <strong>Id</strong> -   . <br> &lt;lang_table&gt;</code> -  ,   . <br> <code>-   : <br> -    (  ): <br> &lt;item id="0" parent_id="0" is_published="1" section="1"&gt;</code> -   . : <br> <strong>Id</strong> -  . <strong>Parent_id</strong> -   . <strong>Is_published</strong> -   . <strong>Dir</strong> - uri- .     . <strong>Section</strong> -  .         . <br> <code>-  . <br>   CMS   :        : <br> <strong>Html</strong> -  .  ,    . <strong>Com</strong> - -.  ,      CMS: , ,    .. <br>  <strong>XSL-</strong>   ,     .       . <br> <br> CMS       <strong> ,      : <br> : <br> <strong>Id</strong> -  . <br> <strong>Container</strong> - - (    ). <br> <strong>Sorting</strong> -    . <br> <strong>Type</strong> - : <br> <strong>Com</strong> - - <br> <strong>Html</strong> -  . <br> <strong>Method</strong> -  . <br> <strong>Title</strong> -  . <br> <strong>DTD</strong>     (    ): <br> &lt;!DOCTYPE site_page [ <br> <br> &lt;!ENTITY nbsp " "&gt; <br> &lt;!ENTITY sect "¬ß" &gt; <br> &lt;!ENTITY copy "¬©"&gt; <br> &lt;!ENTITY laquo "¬´"&gt; <br> &lt;!ENTITY reg "¬Æ"&gt; <br> &lt;!ENTITY deg "¬∞"&gt; <br> &lt;!ENTITY plusmn "¬±"&gt; <br> &lt;!ENTITY para "¬∂"&gt; <br> &lt;!ENTITY raquo "¬ª"&gt; <br> &lt;!ENTITY times "√ó"&gt; <br> <br> <br> <br> &lt;!ENTITY bull "‚Ä¢"&gt; <br> &lt;!ENTITY hellip "‚Ä¶"&gt; <br> <br> <br> <br> &lt;!ENTITY ndash "‚Äì"&gt; <br> &lt;!ENTITY mdash "‚Äî"&gt; <br> &lt;!ENTITY lsquo "'"&gt; <br> &lt;!ENTITY rsquo "'"&gt; <br> &lt;!ENTITY sbquo "‚Äö"&gt; <br> &lt;!ENTITY ldquo "‚Äú"&gt; <br> &lt;!ENTITY rdquo "‚Äù"&gt; <br> &lt;!ENTITY bdquo "‚Äû"&gt; <br> &lt;!ENTITY lsaquo "‚Äπ"&gt; <br> &lt;!ENTITY rsaquo "‚Ä∫" &gt; <br> &lt;!ENTITY euro "‚Ç¨"&gt; <br> ]&gt; <br></strong></code> <br>      <strong>XML-</strong> .   <code>&lt;?xml version="1.0" encoding="windows-1251"?&gt;</code> . <br> <br>  XHML- <br> XSL-    XHTML- (   ).  XHTML-,  ,   <strong></strong> . <br> <br>      . <br> <br>   XHML-  ,    ,       : <br>  (   ).    -    ,      . / . <br>        HTML-: <br> <code><a href="https://habr.com/ru/post/22236/"></a> <a href="https://habr.com/ru/post/22236/"></a> <a href="https://habr.com/ru/post/22236/"></a> ... <br> <br>   <br> <br> <br> ... <br> <br>    <br> <br> ... <br> <br>   <br> <br> ... <br> <br>  <br> <br> ...</code> <br> <br>   XSL- <br>   XSL-   : <br> <code>&lt;xsl:stylesheet version = '1.0' encoding="UTF-8"?&gt; <br> &lt;xsl:template match="element"&gt; <br>   <br> &lt;/xsl:template&gt; <br> &lt;/xsl:stylesheet&gt;</code> <br> <br> : <code>&lt;xsl:stylesheet version = '1.0' encoding="UTF-8"?&gt;</code> -   <strong>XML-</strong>  .   <strong>UTF-8</strong> ( , ). <br> <code>&lt;xsl:stylesheet&gt; &lt;/xsl:stylesheet&gt;</code> -    XSL-. <br> <code>&lt;xsl:template match="element"&gt; &lt;/xsl:template&gt;</code> -       element. <br> <br>       : <br> <code>&lt;xsl:template match="element"&gt;&lt;/xsl:template&gt;</code> - ,     <strong>element</strong> .      <strong>element</strong> . <code>&lt;xsl:template match="element" mode="mode1"&gt;&lt;/xsl:template&gt;</code> - ,     <strong>element</strong>   <strong>mode1</strong> .         <strong>element</strong> . <code>&lt;xsl:template name="template-name"&gt;&lt;/xsl:template&gt;</code> -    <strong>template-name</strong> .     -  <strong>XML-</strong> . <br>           <strong>XML-</strong> (,  XML-,    item      ),      " "  : <br> <code>&lt;xsl:template match="navigation/sections/item"&gt;&lt;/xsl:template&gt;</code> <br>  ,    , ..,      ,  ,  , ..      <strong>navigation</strong> ,      <strong>navigation/sections/item</strong>     <strong>sections/item</strong> . <br> <br>    <br>  ,         -      .  ,        <strong>xsl-</strong> .            . <br> <br>       <strong>xsl</strong>    . <br> <br> ,        (       )   : <br> <strong>template_folder</strong> -    .      ,  <strong>my_template</strong> . <strong>dtd</strong> -    .   . <strong>lang</strong> -      (      ). <strong>mod</strong> -  . <br>       <strong>xsl/my_template</strong>   ,  <strong>layout.xsl</strong>  : <br> <code>&lt;?xml version="1.0" encoding="UTF-8"?&gt; <br> &lt;!DOCTYPE xsl:stylesheet SYSTEM "../dtd/entities.dtd"&gt; <br> &lt;xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform"&gt; <br> <br> &lt;xsl:template match="/node()"&gt; <br> &lt;/xsl:template&gt; <br> <br> &lt;/xsl:stylesheet&gt; <br></code> <br> : <br> <code>&lt;xsl:template match="/node()"&gt; &lt;/xsl:template&gt;</code> -    <strong>/node()</strong> ().  <strong>/node()</strong>   <strong>//document</strong> , ..      . <br> <br>   XHTML-   <code>&lt;xsl:template match="/node()"&gt;&lt;/xsl:template&gt;</code> <br> <br>        <strong>XML-</strong> .   , <strong>XSL-</strong>   <strong>XML-</strong>  <strong>XHTML-</strong>  . <br> <br> ,    <strong>XSL</strong>   <strong>template.xsl</strong> (, <strong>template</strong> -   ),     : <br> <code>&lt;?xml version="1.0" encoding="UTF-8"?&gt; <br> &lt;xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform"&gt; <br> <br> &lt;xsl:import href=" my_template /layout.xsl"/&gt; <br> &lt;/xsl:stylesheet&gt; <br></code> <br> : <br> <code>&lt;xsl:import href="my_template/layout.xsl"/&gt;</code> <br>    XSL- ( <strong>XSL-</strong> )   .     . <br> <br>       <br>       , ..     XML-    . <br> <br>   -    . <br> <br>        ,   <strong>XML-</strong>   : <br> <code><br> &lt;item id="0" parent_id="0" is_published="1" section="1"&gt; <br>  <br> / <br> <br> &lt;item id="1" parent_id="0" is_published="1" section="1" hit="yes"&gt; <br>  <br> news <br> <br></code> <br> <br> <br>      : <br>  <strong>id</strong>    <strong>document</strong> -    <strong>id</strong>  .  <strong>hit</strong>   <strong>item</strong> -   ,   ,    "  ". <br> ,  ,         : <br> <strong>sections</strong> -   . <strong>item</strong> -  . <br>  ,  ,   <strong>item</strong>     <strong>item</strong> ,   ,     : <br> <code><br> <br></code> <br> <br> 1.    xsl/my_template  navigation.xsl  : <br> <code>&lt;?xml version="1.0" encoding="UTF-8"?&gt; <br> &lt;!DOCTYPE xsl:stylesheet SYSTEM "../dtd/entities.dtd"&gt; <br> &lt;xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform"&gt; <br> <br> &lt;xsl:template match="sections" mode="global_menu"&gt; <br> &lt;/xsl:template&gt; <br> <br> &lt;/xsl:stylesheet&gt;</code> <br> <br> 2.         <strong>layout.xsl</strong> : <br> <code><a href="https://habr.com/"></a> <a href="https://habr.com/sections/"></a> <a href="https://habr.com/news/"></a> <br> &lt;xsl:template match="sections" mode="global_menu"&gt; <br>    <br> &lt;/xsl:template&gt; <br></code> <br> <br> 3. ‚Ä¶      <strong>layout.xsl</strong>     : <br> <code><br> &lt;xsl:apply-templates select="navigation/sections" mode="global_menu"/&gt; <br> <br></code> <br> : <br> <strong>select="navigation/sections"</strong> -  ( ) - .  ,     <strong>navigation/sections</strong> . <br> <br> <strong>mode="global_menu"</strong> -     <strong>global_menu</strong> .      ,        , ,  " ",  -         . <br> <br> 4. ,    layout.xsl     <strong>navigation.xsl</strong> : <br> <code>&lt;xsl:import href="navigation.xsl"/&gt;</code> <br> <br> 5. ,    <strong>navigation.xsl</strong>   ,    : <br> <code><br> &lt;xsl:template match="item" mode="global_menu"&gt; <br> &lt;xsl:call-template name="href_attribute"/&gt; <br> &lt;xsl:value-of select="title"/&gt; <br> <br> <br> &lt;/xsl:template&gt; <br> <br></code> <br> : <br> <code>&lt;xsl:call-template name="href_attribute"/&gt;</code> -    .        , ..  . <br> <br> <code>&lt;xsl:value-of select="title"/&gt;</code> - -   title  .         <strong>@</strong> -      . <br> <br> 6.    <strong>sections</strong> : <br> <code><br> &lt;xsl:template match="sections" mode="global_menu"&gt; <br> <br> &lt;/xsl:template&gt; <br> <br></code> <br> : <br> <code>&lt;xsl:apply-templates select="item" mode="global_menu"/&gt;</code> -    <strong>item</strong>  <strong>sections</strong> .  ,  <strong>item</strong>   <strong>item</strong> ( <strong>sections/item/item</strong> )   , ..      . <br> <br>     <strong>item</strong> ( )   .  ,         : <code>&lt;xsl:call-template name="href_attribute"/&gt;</code> <br> <br>      <strong>uri-</strong>    .    . <br> <br> 7.     , <br>   ,    .            <strong>item</strong> : <br> <code><br> &lt;xsl:template match="item" mode="global_menu"&gt; <br> <br> &lt;xsl:choose&gt; <br> <br> &lt;xsl:when test="descendant-or-self::*/@id = /node()/@id"&gt; <br> &lt;xsl:value-of select="title"/&gt; <br> &lt;/xsl:when&gt; <br> <br> &lt;xsl:otherwise&gt; <br> &lt;xsl:call-template name="href_attribute"/&gt; <br> &lt;xsl:value-of select="title"/&gt; <br> <br> &lt;/xsl:otherwise&gt; <br> &lt;/xsl:choose&gt; <br> <br> &lt;/xsl:template&gt; <br> <br></code> <br>      : <br> <code>&lt;xsl:choose&gt; <br> &lt;xsl:when&gt;&lt;/xsl:when&gt; <br> &lt;xsl:otherwise&gt;&lt;/xsl:otherwise&gt; <br> &lt;/xsl:choose&gt; <br></code> <br> ‚Ä¶, ,     <strong>XML-</strong> .      : <code>&lt;xsl:when test="descendant-or-self::*/@id = /node()/@id"&gt;</code> <br> <br>        <strong>ID</strong>    ( <strong>document</strong> )    ( <strong>item</strong> ),   ,    . <br> <br>   <code>&lt;xsl:when&gt;&lt;/xsl:when&gt;</code>  ,      .   <code>&lt;xsl:otherwise&gt;&lt;/xsl:otherwise&gt;</code> -    . <br> <br> 8. ,   <strong>href_attribute</strong> : <br> <code><br> &lt;xsl:template name="href_attribute"&gt; <br> &lt;xsl:attribute name="href"&gt; <br> &lt;xsl:text&gt;/&lt;/xsl:text&gt; <br> &lt;xsl:for-each select="ancestor-or-self::item"&gt; <br> &lt;xsl:value-of select="dir"/&gt; <br> &lt;xsl:text&gt;/&lt;/xsl:text&gt; <br> &lt;/xsl:for-each&gt; <br> &lt;/xsl:attribute&gt; <br> &lt;/xsl:template&gt; <br></code> <br> <br>      <strong>xsl:attribute</strong> .          .         <strong>a</strong> , ,      <strong>href</strong> , .. . <br> <br>  <code>&lt;xsl:for-each select="ancestor-or-self::item"&gt;</code>      ,  .      <strong>ancestor-or-self::item</strong> -         .           <strong>dir</strong> , ..     -. <br> <br> ,   -  ,       . ,   <a href="http://habrahabr.ru/blog/webdev/38433.html">  </a> . <br> <br> <strong>UPD:</strong> <br>   .   ,  : <br> <a href="">parser.proc.ru/iso/xslt-1.zip</a> <br> <br>        (       )           Apache. <br> <br>    XML-   /xsl/document.xml</code></code></code></code></code> </li> <li> <code><code><code><code><code><code>-    (   ). : <br> <strong>Lang</strong> -  .     . <strong>Id</strong> -   . <br> &lt;lang_table&gt;</code> -  ,   . <br> <code>-   : <br> -    (  ): <br> &lt;item id="0" parent_id="0" is_published="1" section="1"&gt;</code> -   . : <br> <strong>Id</strong> -  . <strong>Parent_id</strong> -   . <strong>Is_published</strong> -   . <strong>Dir</strong> - uri- .     . <strong>Section</strong> -  .         . <br> <code>-  . <br>   CMS   :        : <br> <strong>Html</strong> -  .  ,    . <strong>Com</strong> - -.  ,      CMS: , ,    .. <br>  <strong>XSL-</strong>   ,     .       . <br> <br> CMS       <strong> ,      : <br> : <br> <strong>Id</strong> -  . <br> <strong>Container</strong> - - (    ). <br> <strong>Sorting</strong> -    . <br> <strong>Type</strong> - : <br> <strong>Com</strong> - - <br> <strong>Html</strong> -  . <br> <strong>Method</strong> -  . <br> <strong>Title</strong> -  . <br> <strong>DTD</strong>     (    ): <br> &lt;!DOCTYPE site_page [ <br> <br> &lt;!ENTITY nbsp " "&gt; <br> &lt;!ENTITY sect "¬ß" &gt; <br> &lt;!ENTITY copy "¬©"&gt; <br> &lt;!ENTITY laquo "¬´"&gt; <br> &lt;!ENTITY reg "¬Æ"&gt; <br> &lt;!ENTITY deg "¬∞"&gt; <br> &lt;!ENTITY plusmn "¬±"&gt; <br> &lt;!ENTITY para "¬∂"&gt; <br> &lt;!ENTITY raquo "¬ª"&gt; <br> &lt;!ENTITY times "√ó"&gt; <br> <br> <br> <br> &lt;!ENTITY bull "‚Ä¢"&gt; <br> &lt;!ENTITY hellip "‚Ä¶"&gt; <br> <br> <br> <br> &lt;!ENTITY ndash "‚Äì"&gt; <br> &lt;!ENTITY mdash "‚Äî"&gt; <br> &lt;!ENTITY lsquo "'"&gt; <br> &lt;!ENTITY rsquo "'"&gt; <br> &lt;!ENTITY sbquo "‚Äö"&gt; <br> &lt;!ENTITY ldquo "‚Äú"&gt; <br> &lt;!ENTITY rdquo "‚Äù"&gt; <br> &lt;!ENTITY bdquo "‚Äû"&gt; <br> &lt;!ENTITY lsaquo "‚Äπ"&gt; <br> &lt;!ENTITY rsaquo "‚Ä∫" &gt; <br> &lt;!ENTITY euro "‚Ç¨"&gt; <br> ]&gt; <br></strong></code> <br>      <strong>XML-</strong> .   <code>&lt;?xml version="1.0" encoding="windows-1251"?&gt;</code> . <br> <br>  XHML- <br> XSL-    XHTML- (   ).  XHTML-,  ,   <strong></strong> . <br> <br>      . <br> <br>   XHML-  ,    ,       : <br>  (   ).    -    ,      . / . <br>        HTML-: <br> <code><a href="https://habr.com/ru/post/22236/"></a> <a href="https://habr.com/ru/post/22236/"></a> <a href="https://habr.com/ru/post/22236/"></a> ... <br> <br>   <br> <br> <br> ... <br> <br>    <br> <br> ... <br> <br>   <br> <br> ... <br> <br>  <br> <br> ...</code> <br> <br>   XSL- <br>   XSL-   : <br> <code>&lt;xsl:stylesheet version = '1.0' encoding="UTF-8"?&gt; <br> &lt;xsl:template match="element"&gt; <br>   <br> &lt;/xsl:template&gt; <br> &lt;/xsl:stylesheet&gt;</code> <br> <br> : <code>&lt;xsl:stylesheet version = '1.0' encoding="UTF-8"?&gt;</code> -   <strong>XML-</strong>  .   <strong>UTF-8</strong> ( , ). <br> <code>&lt;xsl:stylesheet&gt; &lt;/xsl:stylesheet&gt;</code> -    XSL-. <br> <code>&lt;xsl:template match="element"&gt; &lt;/xsl:template&gt;</code> -       element. <br> <br>       : <br> <code>&lt;xsl:template match="element"&gt;&lt;/xsl:template&gt;</code> - ,     <strong>element</strong> .      <strong>element</strong> . <code>&lt;xsl:template match="element" mode="mode1"&gt;&lt;/xsl:template&gt;</code> - ,     <strong>element</strong>   <strong>mode1</strong> .         <strong>element</strong> . <code>&lt;xsl:template name="template-name"&gt;&lt;/xsl:template&gt;</code> -    <strong>template-name</strong> .     -  <strong>XML-</strong> . <br>           <strong>XML-</strong> (,  XML-,    item      ),      " "  : <br> <code>&lt;xsl:template match="navigation/sections/item"&gt;&lt;/xsl:template&gt;</code> <br>  ,    , ..,      ,  ,  , ..      <strong>navigation</strong> ,      <strong>navigation/sections/item</strong>     <strong>sections/item</strong> . <br> <br>    <br>  ,         -      .  ,        <strong>xsl-</strong> .            . <br> <br>       <strong>xsl</strong>    . <br> <br> ,        (       )   : <br> <strong>template_folder</strong> -    .      ,  <strong>my_template</strong> . <strong>dtd</strong> -    .   . <strong>lang</strong> -      (      ). <strong>mod</strong> -  . <br>       <strong>xsl/my_template</strong>   ,  <strong>layout.xsl</strong>  : <br> <code>&lt;?xml version="1.0" encoding="UTF-8"?&gt; <br> &lt;!DOCTYPE xsl:stylesheet SYSTEM "../dtd/entities.dtd"&gt; <br> &lt;xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform"&gt; <br> <br> &lt;xsl:template match="/node()"&gt; <br> &lt;/xsl:template&gt; <br> <br> &lt;/xsl:stylesheet&gt; <br></code> <br> : <br> <code>&lt;xsl:template match="/node()"&gt; &lt;/xsl:template&gt;</code> -    <strong>/node()</strong> ().  <strong>/node()</strong>   <strong>//document</strong> , ..      . <br> <br>   XHTML-   <code>&lt;xsl:template match="/node()"&gt;&lt;/xsl:template&gt;</code> <br> <br>        <strong>XML-</strong> .   , <strong>XSL-</strong>   <strong>XML-</strong>  <strong>XHTML-</strong>  . <br> <br> ,    <strong>XSL</strong>   <strong>template.xsl</strong> (, <strong>template</strong> -   ),     : <br> <code>&lt;?xml version="1.0" encoding="UTF-8"?&gt; <br> &lt;xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform"&gt; <br> <br> &lt;xsl:import href=" my_template /layout.xsl"/&gt; <br> &lt;/xsl:stylesheet&gt; <br></code> <br> : <br> <code>&lt;xsl:import href="my_template/layout.xsl"/&gt;</code> <br>    XSL- ( <strong>XSL-</strong> )   .     . <br> <br>       <br>       , ..     XML-    . <br> <br>   -    . <br> <br>        ,   <strong>XML-</strong>   : <br> <code><br> &lt;item id="0" parent_id="0" is_published="1" section="1"&gt; <br>  <br> / <br> <br> &lt;item id="1" parent_id="0" is_published="1" section="1" hit="yes"&gt; <br>  <br> news <br> <br></code> <br> <br> <br>      : <br>  <strong>id</strong>    <strong>document</strong> -    <strong>id</strong>  .  <strong>hit</strong>   <strong>item</strong> -   ,   ,    "  ". <br> ,  ,         : <br> <strong>sections</strong> -   . <strong>item</strong> -  . <br>  ,  ,   <strong>item</strong>     <strong>item</strong> ,   ,     : <br> <code><br> <br></code> <br> <br> 1.    xsl/my_template  navigation.xsl  : <br> <code>&lt;?xml version="1.0" encoding="UTF-8"?&gt; <br> &lt;!DOCTYPE xsl:stylesheet SYSTEM "../dtd/entities.dtd"&gt; <br> &lt;xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform"&gt; <br> <br> &lt;xsl:template match="sections" mode="global_menu"&gt; <br> &lt;/xsl:template&gt; <br> <br> &lt;/xsl:stylesheet&gt;</code> <br> <br> 2.         <strong>layout.xsl</strong> : <br> <code><a href="https://habr.com/"></a> <a href="https://habr.com/sections/"></a> <a href="https://habr.com/news/"></a> <br> &lt;xsl:template match="sections" mode="global_menu"&gt; <br>    <br> &lt;/xsl:template&gt; <br></code> <br> <br> 3. ‚Ä¶      <strong>layout.xsl</strong>     : <br> <code><br> &lt;xsl:apply-templates select="navigation/sections" mode="global_menu"/&gt; <br> <br></code> <br> : <br> <strong>select="navigation/sections"</strong> -  ( ) - .  ,     <strong>navigation/sections</strong> . <br> <br> <strong>mode="global_menu"</strong> -     <strong>global_menu</strong> .      ,        , ,  " ",  -         . <br> <br> 4. ,    layout.xsl     <strong>navigation.xsl</strong> : <br> <code>&lt;xsl:import href="navigation.xsl"/&gt;</code> <br> <br> 5. ,    <strong>navigation.xsl</strong>   ,    : <br> <code><br> &lt;xsl:template match="item" mode="global_menu"&gt; <br> &lt;xsl:call-template name="href_attribute"/&gt; <br> &lt;xsl:value-of select="title"/&gt; <br> <br> <br> &lt;/xsl:template&gt; <br> <br></code> <br> : <br> <code>&lt;xsl:call-template name="href_attribute"/&gt;</code> -    .        , ..  . <br> <br> <code>&lt;xsl:value-of select="title"/&gt;</code> - -   title  .         <strong>@</strong> -      . <br> <br> 6.    <strong>sections</strong> : <br> <code><br> &lt;xsl:template match="sections" mode="global_menu"&gt; <br> <br> &lt;/xsl:template&gt; <br> <br></code> <br> : <br> <code>&lt;xsl:apply-templates select="item" mode="global_menu"/&gt;</code> -    <strong>item</strong>  <strong>sections</strong> .  ,  <strong>item</strong>   <strong>item</strong> ( <strong>sections/item/item</strong> )   , ..      . <br> <br>     <strong>item</strong> ( )   .  ,         : <code>&lt;xsl:call-template name="href_attribute"/&gt;</code> <br> <br>      <strong>uri-</strong>    .    . <br> <br> 7.     , <br>   ,    .            <strong>item</strong> : <br> <code><br> &lt;xsl:template match="item" mode="global_menu"&gt; <br> <br> &lt;xsl:choose&gt; <br> <br> &lt;xsl:when test="descendant-or-self::*/@id = /node()/@id"&gt; <br> &lt;xsl:value-of select="title"/&gt; <br> &lt;/xsl:when&gt; <br> <br> &lt;xsl:otherwise&gt; <br> &lt;xsl:call-template name="href_attribute"/&gt; <br> &lt;xsl:value-of select="title"/&gt; <br> <br> &lt;/xsl:otherwise&gt; <br> &lt;/xsl:choose&gt; <br> <br> &lt;/xsl:template&gt; <br> <br></code> <br>      : <br> <code>&lt;xsl:choose&gt; <br> &lt;xsl:when&gt;&lt;/xsl:when&gt; <br> &lt;xsl:otherwise&gt;&lt;/xsl:otherwise&gt; <br> &lt;/xsl:choose&gt; <br></code> <br> ‚Ä¶, ,     <strong>XML-</strong> .      : <code>&lt;xsl:when test="descendant-or-self::*/@id = /node()/@id"&gt;</code> <br> <br>        <strong>ID</strong>    ( <strong>document</strong> )    ( <strong>item</strong> ),   ,    . <br> <br>   <code>&lt;xsl:when&gt;&lt;/xsl:when&gt;</code>  ,      .   <code>&lt;xsl:otherwise&gt;&lt;/xsl:otherwise&gt;</code> -    . <br> <br> 8. ,   <strong>href_attribute</strong> : <br> <code><br> &lt;xsl:template name="href_attribute"&gt; <br> &lt;xsl:attribute name="href"&gt; <br> &lt;xsl:text&gt;/&lt;/xsl:text&gt; <br> &lt;xsl:for-each select="ancestor-or-self::item"&gt; <br> &lt;xsl:value-of select="dir"/&gt; <br> &lt;xsl:text&gt;/&lt;/xsl:text&gt; <br> &lt;/xsl:for-each&gt; <br> &lt;/xsl:attribute&gt; <br> &lt;/xsl:template&gt; <br></code> <br> <br>      <strong>xsl:attribute</strong> .          .         <strong>a</strong> , ,      <strong>href</strong> , .. . <br> <br>  <code>&lt;xsl:for-each select="ancestor-or-self::item"&gt;</code>      ,  .      <strong>ancestor-or-self::item</strong> -         .           <strong>dir</strong> , ..     -. <br> <br> ,   -  ,       . ,   <a href="http://habrahabr.ru/blog/webdev/38433.html">  </a> . <br> <br> <strong>UPD:</strong> <br>   .   ,  : <br> <a href="">parser.proc.ru/iso/xslt-1.zip</a> <br> <br>        (       )           Apache. <br> <br>    XML-   /xsl/document.xml</code></code></code></code></code> </li> <li> <code><code><code><code><code><code>-    (   ). : <br> <strong>Lang</strong> -  .     . <strong>Id</strong> -   . <br> &lt;lang_table&gt;</code> -  ,   . <br> <code>-   : <br> -    (  ): <br> &lt;item id="0" parent_id="0" is_published="1" section="1"&gt;</code> -   . : <br> <strong>Id</strong> -  . <strong>Parent_id</strong> -   . <strong>Is_published</strong> -   . <strong>Dir</strong> - uri- .     . <strong>Section</strong> -  .         . <br> <code>-  . <br>   CMS   :        : <br> <strong>Html</strong> -  .  ,    . <strong>Com</strong> - -.  ,      CMS: , ,    .. <br>  <strong>XSL-</strong>   ,     .       . <br> <br> CMS       <strong> ,      : <br> : <br> <strong>Id</strong> -  . <br> <strong>Container</strong> - - (    ). <br> <strong>Sorting</strong> -    . <br> <strong>Type</strong> - : <br> <strong>Com</strong> - - <br> <strong>Html</strong> -  . <br> <strong>Method</strong> -  . <br> <strong>Title</strong> -  . <br> <strong>DTD</strong>     (    ): <br> &lt;!DOCTYPE site_page [ <br> <br> &lt;!ENTITY nbsp " "&gt; <br> &lt;!ENTITY sect "¬ß" &gt; <br> &lt;!ENTITY copy "¬©"&gt; <br> &lt;!ENTITY laquo "¬´"&gt; <br> &lt;!ENTITY reg "¬Æ"&gt; <br> &lt;!ENTITY deg "¬∞"&gt; <br> &lt;!ENTITY plusmn "¬±"&gt; <br> &lt;!ENTITY para "¬∂"&gt; <br> &lt;!ENTITY raquo "¬ª"&gt; <br> &lt;!ENTITY times "√ó"&gt; <br> <br> <br> <br> &lt;!ENTITY bull "‚Ä¢"&gt; <br> &lt;!ENTITY hellip "‚Ä¶"&gt; <br> <br> <br> <br> &lt;!ENTITY ndash "‚Äì"&gt; <br> &lt;!ENTITY mdash "‚Äî"&gt; <br> &lt;!ENTITY lsquo "'"&gt; <br> &lt;!ENTITY rsquo "'"&gt; <br> &lt;!ENTITY sbquo "‚Äö"&gt; <br> &lt;!ENTITY ldquo "‚Äú"&gt; <br> &lt;!ENTITY rdquo "‚Äù"&gt; <br> &lt;!ENTITY bdquo "‚Äû"&gt; <br> &lt;!ENTITY lsaquo "‚Äπ"&gt; <br> &lt;!ENTITY rsaquo "‚Ä∫" &gt; <br> &lt;!ENTITY euro "‚Ç¨"&gt; <br> ]&gt; <br></strong></code> <br>      <strong>XML-</strong> .   <code>&lt;?xml version="1.0" encoding="windows-1251"?&gt;</code> . <br> <br>  XHML- <br> XSL-    XHTML- (   ).  XHTML-,  ,   <strong></strong> . <br> <br>      . <br> <br>   XHML-  ,    ,       : <br>  (   ).    -    ,      . / . <br>        HTML-: <br> <code><a href="https://habr.com/ru/post/22236/"></a> <a href="https://habr.com/ru/post/22236/"></a> <a href="https://habr.com/ru/post/22236/"></a> ... <br> <br>   <br> <br> <br> ... <br> <br>    <br> <br> ... <br> <br>   <br> <br> ... <br> <br>  <br> <br> ...</code> <br> <br>   XSL- <br>   XSL-   : <br> <code>&lt;xsl:stylesheet version = '1.0' encoding="UTF-8"?&gt; <br> &lt;xsl:template match="element"&gt; <br>   <br> &lt;/xsl:template&gt; <br> &lt;/xsl:stylesheet&gt;</code> <br> <br> : <code>&lt;xsl:stylesheet version = '1.0' encoding="UTF-8"?&gt;</code> -   <strong>XML-</strong>  .   <strong>UTF-8</strong> ( , ). <br> <code>&lt;xsl:stylesheet&gt; &lt;/xsl:stylesheet&gt;</code> -    XSL-. <br> <code>&lt;xsl:template match="element"&gt; &lt;/xsl:template&gt;</code> -       element. <br> <br>       : <br> <code>&lt;xsl:template match="element"&gt;&lt;/xsl:template&gt;</code> - ,     <strong>element</strong> .      <strong>element</strong> . <code>&lt;xsl:template match="element" mode="mode1"&gt;&lt;/xsl:template&gt;</code> - ,     <strong>element</strong>   <strong>mode1</strong> .         <strong>element</strong> . <code>&lt;xsl:template name="template-name"&gt;&lt;/xsl:template&gt;</code> -    <strong>template-name</strong> .     -  <strong>XML-</strong> . <br>           <strong>XML-</strong> (,  XML-,    item      ),      " "  : <br> <code>&lt;xsl:template match="navigation/sections/item"&gt;&lt;/xsl:template&gt;</code> <br>  ,    , ..,      ,  ,  , ..      <strong>navigation</strong> ,      <strong>navigation/sections/item</strong>     <strong>sections/item</strong> . <br> <br>    <br>  ,         -      .  ,        <strong>xsl-</strong> .            . <br> <br>       <strong>xsl</strong>    . <br> <br> ,        (       )   : <br> <strong>template_folder</strong> -    .      ,  <strong>my_template</strong> . <strong>dtd</strong> -    .   . <strong>lang</strong> -      (      ). <strong>mod</strong> -  . <br>       <strong>xsl/my_template</strong>   ,  <strong>layout.xsl</strong>  : <br> <code>&lt;?xml version="1.0" encoding="UTF-8"?&gt; <br> &lt;!DOCTYPE xsl:stylesheet SYSTEM "../dtd/entities.dtd"&gt; <br> &lt;xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform"&gt; <br> <br> &lt;xsl:template match="/node()"&gt; <br> &lt;/xsl:template&gt; <br> <br> &lt;/xsl:stylesheet&gt; <br></code> <br> : <br> <code>&lt;xsl:template match="/node()"&gt; &lt;/xsl:template&gt;</code> -    <strong>/node()</strong> ().  <strong>/node()</strong>   <strong>//document</strong> , ..      . <br> <br>   XHTML-   <code>&lt;xsl:template match="/node()"&gt;&lt;/xsl:template&gt;</code> <br> <br>        <strong>XML-</strong> .   , <strong>XSL-</strong>   <strong>XML-</strong>  <strong>XHTML-</strong>  . <br> <br> ,    <strong>XSL</strong>   <strong>template.xsl</strong> (, <strong>template</strong> -   ),     : <br> <code>&lt;?xml version="1.0" encoding="UTF-8"?&gt; <br> &lt;xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform"&gt; <br> <br> &lt;xsl:import href=" my_template /layout.xsl"/&gt; <br> &lt;/xsl:stylesheet&gt; <br></code> <br> : <br> <code>&lt;xsl:import href="my_template/layout.xsl"/&gt;</code> <br>    XSL- ( <strong>XSL-</strong> )   .     . <br> <br>       <br>       , ..     XML-    . <br> <br>   -    . <br> <br>        ,   <strong>XML-</strong>   : <br> <code><br> &lt;item id="0" parent_id="0" is_published="1" section="1"&gt; <br>  <br> / <br> <br> &lt;item id="1" parent_id="0" is_published="1" section="1" hit="yes"&gt; <br>  <br> news <br> <br></code> <br> <br> <br>      : <br>  <strong>id</strong>    <strong>document</strong> -    <strong>id</strong>  .  <strong>hit</strong>   <strong>item</strong> -   ,   ,    "  ". <br> ,  ,         : <br> <strong>sections</strong> -   . <strong>item</strong> -  . <br>  ,  ,   <strong>item</strong>     <strong>item</strong> ,   ,     : <br> <code><br> <br></code> <br> <br> 1.    xsl/my_template  navigation.xsl  : <br> <code>&lt;?xml version="1.0" encoding="UTF-8"?&gt; <br> &lt;!DOCTYPE xsl:stylesheet SYSTEM "../dtd/entities.dtd"&gt; <br> &lt;xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform"&gt; <br> <br> &lt;xsl:template match="sections" mode="global_menu"&gt; <br> &lt;/xsl:template&gt; <br> <br> &lt;/xsl:stylesheet&gt;</code> <br> <br> 2.         <strong>layout.xsl</strong> : <br> <code><a href="https://habr.com/"></a> <a href="https://habr.com/sections/"></a> <a href="https://habr.com/news/"></a> <br> &lt;xsl:template match="sections" mode="global_menu"&gt; <br>    <br> &lt;/xsl:template&gt; <br></code> <br> <br> 3. ‚Ä¶      <strong>layout.xsl</strong>     : <br> <code><br> &lt;xsl:apply-templates select="navigation/sections" mode="global_menu"/&gt; <br> <br></code> <br> : <br> <strong>select="navigation/sections"</strong> -  ( ) - .  ,     <strong>navigation/sections</strong> . <br> <br> <strong>mode="global_menu"</strong> -     <strong>global_menu</strong> .      ,        , ,  " ",  -         . <br> <br> 4. ,    layout.xsl     <strong>navigation.xsl</strong> : <br> <code>&lt;xsl:import href="navigation.xsl"/&gt;</code> <br> <br> 5. ,    <strong>navigation.xsl</strong>   ,    : <br> <code><br> &lt;xsl:template match="item" mode="global_menu"&gt; <br> &lt;xsl:call-template name="href_attribute"/&gt; <br> &lt;xsl:value-of select="title"/&gt; <br> <br> <br> &lt;/xsl:template&gt; <br> <br></code> <br> : <br> <code>&lt;xsl:call-template name="href_attribute"/&gt;</code> -    .        , ..  . <br> <br> <code>&lt;xsl:value-of select="title"/&gt;</code> - -   title  .         <strong>@</strong> -      . <br> <br> 6.    <strong>sections</strong> : <br> <code><br> &lt;xsl:template match="sections" mode="global_menu"&gt; <br> <br> &lt;/xsl:template&gt; <br> <br></code> <br> : <br> <code>&lt;xsl:apply-templates select="item" mode="global_menu"/&gt;</code> -    <strong>item</strong>  <strong>sections</strong> .  ,  <strong>item</strong>   <strong>item</strong> ( <strong>sections/item/item</strong> )   , ..      . <br> <br>     <strong>item</strong> ( )   .  ,         : <code>&lt;xsl:call-template name="href_attribute"/&gt;</code> <br> <br>      <strong>uri-</strong>    .    . <br> <br> 7.     , <br>   ,    .            <strong>item</strong> : <br> <code><br> &lt;xsl:template match="item" mode="global_menu"&gt; <br> <br> &lt;xsl:choose&gt; <br> <br> &lt;xsl:when test="descendant-or-self::*/@id = /node()/@id"&gt; <br> &lt;xsl:value-of select="title"/&gt; <br> &lt;/xsl:when&gt; <br> <br> &lt;xsl:otherwise&gt; <br> &lt;xsl:call-template name="href_attribute"/&gt; <br> &lt;xsl:value-of select="title"/&gt; <br> <br> &lt;/xsl:otherwise&gt; <br> &lt;/xsl:choose&gt; <br> <br> &lt;/xsl:template&gt; <br> <br></code> <br>      : <br> <code>&lt;xsl:choose&gt; <br> &lt;xsl:when&gt;&lt;/xsl:when&gt; <br> &lt;xsl:otherwise&gt;&lt;/xsl:otherwise&gt; <br> &lt;/xsl:choose&gt; <br></code> <br> ‚Ä¶, ,     <strong>XML-</strong> .      : <code>&lt;xsl:when test="descendant-or-self::*/@id = /node()/@id"&gt;</code> <br> <br>        <strong>ID</strong>    ( <strong>document</strong> )    ( <strong>item</strong> ),   ,    . <br> <br>   <code>&lt;xsl:when&gt;&lt;/xsl:when&gt;</code>  ,      .   <code>&lt;xsl:otherwise&gt;&lt;/xsl:otherwise&gt;</code> -    . <br> <br> 8. ,   <strong>href_attribute</strong> : <br> <code><br> &lt;xsl:template name="href_attribute"&gt; <br> &lt;xsl:attribute name="href"&gt; <br> &lt;xsl:text&gt;/&lt;/xsl:text&gt; <br> &lt;xsl:for-each select="ancestor-or-self::item"&gt; <br> &lt;xsl:value-of select="dir"/&gt; <br> &lt;xsl:text&gt;/&lt;/xsl:text&gt; <br> &lt;/xsl:for-each&gt; <br> &lt;/xsl:attribute&gt; <br> &lt;/xsl:template&gt; <br></code> <br> <br>      <strong>xsl:attribute</strong> .          .         <strong>a</strong> , ,      <strong>href</strong> , .. . <br> <br>  <code>&lt;xsl:for-each select="ancestor-or-self::item"&gt;</code>      ,  .      <strong>ancestor-or-self::item</strong> -         .           <strong>dir</strong> , ..     -. <br> <br> ,   -  ,       . ,   <a href="http://habrahabr.ru/blog/webdev/38433.html">  </a> . <br> <br> <strong>UPD:</strong> <br>   .   ,  : <br> <a href="">parser.proc.ru/iso/xslt-1.zip</a> <br> <br>        (       )           Apache. <br> <br>    XML-   /xsl/document.xml</code></code></code></code></code> </li> </ul> <code><code><code><code><code><code>-    (   ). : <br> <strong>Lang</strong> -  .     . <strong>Id</strong> -   . <br> &lt;lang_table&gt;</code> -  ,   . <br> <code>-   : <br> -    (  ): <br> &lt;item id="0" parent_id="0" is_published="1" section="1"&gt;</code> -   . : <br> <strong>Id</strong> -  . <strong>Parent_id</strong> -   . <strong>Is_published</strong> -   . <strong>Dir</strong> - uri- .     . <strong>Section</strong> -  .         . <br> <code>-  . <br>   CMS   :        : <br> <strong>Html</strong> -  .  ,    . <strong>Com</strong> - -.  ,      CMS: , ,    .. <br>  <strong>XSL-</strong>   ,     .       . <br> <br> CMS       <strong> ,      : <br> : <br> <strong>Id</strong> -  . <br> <strong>Container</strong> - - (    ). <br> <strong>Sorting</strong> -    . <br> <strong>Type</strong> - : <br> <strong>Com</strong> - - <br> <strong>Html</strong> -  . <br> <strong>Method</strong> -  . <br> <strong>Title</strong> -  . <br> <strong>DTD</strong>     (    ): <br> &lt;!DOCTYPE site_page [ <br> <br> &lt;!ENTITY nbsp " "&gt; <br> &lt;!ENTITY sect "¬ß" &gt; <br> &lt;!ENTITY copy "¬©"&gt; <br> &lt;!ENTITY laquo "¬´"&gt; <br> &lt;!ENTITY reg "¬Æ"&gt; <br> &lt;!ENTITY deg "¬∞"&gt; <br> &lt;!ENTITY plusmn "¬±"&gt; <br> &lt;!ENTITY para "¬∂"&gt; <br> &lt;!ENTITY raquo "¬ª"&gt; <br> &lt;!ENTITY times "√ó"&gt; <br> <br> <br> <br> &lt;!ENTITY bull "‚Ä¢"&gt; <br> &lt;!ENTITY hellip "‚Ä¶"&gt; <br> <br> <br> <br> &lt;!ENTITY ndash "‚Äì"&gt; <br> &lt;!ENTITY mdash "‚Äî"&gt; <br> &lt;!ENTITY lsquo "'"&gt; <br> &lt;!ENTITY rsquo "'"&gt; <br> &lt;!ENTITY sbquo "‚Äö"&gt; <br> &lt;!ENTITY ldquo "‚Äú"&gt; <br> &lt;!ENTITY rdquo "‚Äù"&gt; <br> &lt;!ENTITY bdquo "‚Äû"&gt; <br> &lt;!ENTITY lsaquo "‚Äπ"&gt; <br> &lt;!ENTITY rsaquo "‚Ä∫" &gt; <br> &lt;!ENTITY euro "‚Ç¨"&gt; <br> ]&gt; <br></strong></code> <br>      <strong>XML-</strong> .   <code>&lt;?xml version="1.0" encoding="windows-1251"?&gt;</code> . <br> <br>  XHML- <br> XSL-    XHTML- (   ).  XHTML-,  ,   <strong></strong> . <br> <br>      . <br> <br>   XHML-  ,    ,       : <br>  (   ).    -    ,      . / . <br>        HTML-: <br> <code><a href="https://habr.com/ru/post/22236/"></a> <a href="https://habr.com/ru/post/22236/"></a> <a href="https://habr.com/ru/post/22236/"></a> ... <br> <br>   <br> <br> <br> ... <br> <br>    <br> <br> ... <br> <br>   <br> <br> ... <br> <br>  <br> <br> ...</code> <br> <br>   XSL- <br>   XSL-   : <br> <code>&lt;xsl:stylesheet version = '1.0' encoding="UTF-8"?&gt; <br> &lt;xsl:template match="element"&gt; <br>   <br> &lt;/xsl:template&gt; <br> &lt;/xsl:stylesheet&gt;</code> <br> <br> : <code>&lt;xsl:stylesheet version = '1.0' encoding="UTF-8"?&gt;</code> -   <strong>XML-</strong>  .   <strong>UTF-8</strong> ( , ). <br> <code>&lt;xsl:stylesheet&gt; &lt;/xsl:stylesheet&gt;</code> -    XSL-. <br> <code>&lt;xsl:template match="element"&gt; &lt;/xsl:template&gt;</code> -       element. <br> <br>       : <br> <code>&lt;xsl:template match="element"&gt;&lt;/xsl:template&gt;</code> - ,     <strong>element</strong> .      <strong>element</strong> . <code>&lt;xsl:template match="element" mode="mode1"&gt;&lt;/xsl:template&gt;</code> - ,     <strong>element</strong>   <strong>mode1</strong> .         <strong>element</strong> . <code>&lt;xsl:template name="template-name"&gt;&lt;/xsl:template&gt;</code> -    <strong>template-name</strong> .     -  <strong>XML-</strong> . <br>           <strong>XML-</strong> (,  XML-,    item      ),      " "  : <br> <code>&lt;xsl:template match="navigation/sections/item"&gt;&lt;/xsl:template&gt;</code> <br>  ,    , ..,      ,  ,  , ..      <strong>navigation</strong> ,      <strong>navigation/sections/item</strong>     <strong>sections/item</strong> . <br> <br>    <br>  ,         -      .  ,        <strong>xsl-</strong> .            . <br> <br>       <strong>xsl</strong>    . <br> <br> ,        (       )   : <br> <strong>template_folder</strong> -    .      ,  <strong>my_template</strong> . <strong>dtd</strong> -    .   . <strong>lang</strong> -      (      ). <strong>mod</strong> -  . <br>       <strong>xsl/my_template</strong>   ,  <strong>layout.xsl</strong>  : <br> <code>&lt;?xml version="1.0" encoding="UTF-8"?&gt; <br> &lt;!DOCTYPE xsl:stylesheet SYSTEM "../dtd/entities.dtd"&gt; <br> &lt;xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform"&gt; <br> <br> &lt;xsl:template match="/node()"&gt; <br> &lt;/xsl:template&gt; <br> <br> &lt;/xsl:stylesheet&gt; <br></code> <br> : <br> <code>&lt;xsl:template match="/node()"&gt; &lt;/xsl:template&gt;</code> -    <strong>/node()</strong> ().  <strong>/node()</strong>   <strong>//document</strong> , ..      . <br> <br>   XHTML-   <code>&lt;xsl:template match="/node()"&gt;&lt;/xsl:template&gt;</code> <br> <br>        <strong>XML-</strong> .   , <strong>XSL-</strong>   <strong>XML-</strong>  <strong>XHTML-</strong>  . <br> <br> ,    <strong>XSL</strong>   <strong>template.xsl</strong> (, <strong>template</strong> -   ),     : <br> <code>&lt;?xml version="1.0" encoding="UTF-8"?&gt; <br> &lt;xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform"&gt; <br> <br> &lt;xsl:import href=" my_template /layout.xsl"/&gt; <br> &lt;/xsl:stylesheet&gt; <br></code> <br> : <br> <code>&lt;xsl:import href="my_template/layout.xsl"/&gt;</code> <br>    XSL- ( <strong>XSL-</strong> )   .     . <br> <br>       <br>       , ..     XML-    . <br> <br>   -    . <br> <br>        ,   <strong>XML-</strong>   : <br> <code><br> &lt;item id="0" parent_id="0" is_published="1" section="1"&gt; <br>  <br> / <br> <br> &lt;item id="1" parent_id="0" is_published="1" section="1" hit="yes"&gt; <br>  <br> news <br> <br></code> <br> <br> <br>      : <br>  <strong>id</strong>    <strong>document</strong> -    <strong>id</strong>  .  <strong>hit</strong>   <strong>item</strong> -   ,   ,    "  ". <br> ,  ,         : <br> <strong>sections</strong> -   . <strong>item</strong> -  . <br>  ,  ,   <strong>item</strong>     <strong>item</strong> ,   ,     : <br> <code><br> <br></code> <br> <br> 1.    xsl/my_template  navigation.xsl  : <br> <code>&lt;?xml version="1.0" encoding="UTF-8"?&gt; <br> &lt;!DOCTYPE xsl:stylesheet SYSTEM "../dtd/entities.dtd"&gt; <br> &lt;xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform"&gt; <br> <br> &lt;xsl:template match="sections" mode="global_menu"&gt; <br> &lt;/xsl:template&gt; <br> <br> &lt;/xsl:stylesheet&gt;</code> <br> <br> 2.         <strong>layout.xsl</strong> : <br> <code><a href="https://habr.com/"></a> <a href="https://habr.com/sections/"></a> <a href="https://habr.com/news/"></a> <br> &lt;xsl:template match="sections" mode="global_menu"&gt; <br>    <br> &lt;/xsl:template&gt; <br></code> <br> <br> 3. ‚Ä¶      <strong>layout.xsl</strong>     : <br> <code><br> &lt;xsl:apply-templates select="navigation/sections" mode="global_menu"/&gt; <br> <br></code> <br> : <br> <strong>select="navigation/sections"</strong> -  ( ) - .  ,     <strong>navigation/sections</strong> . <br> <br> <strong>mode="global_menu"</strong> -     <strong>global_menu</strong> .      ,        , ,  " ",  -         . <br> <br> 4. ,    layout.xsl     <strong>navigation.xsl</strong> : <br> <code>&lt;xsl:import href="navigation.xsl"/&gt;</code> <br> <br> 5. ,    <strong>navigation.xsl</strong>   ,    : <br> <code><br> &lt;xsl:template match="item" mode="global_menu"&gt; <br> &lt;xsl:call-template name="href_attribute"/&gt; <br> &lt;xsl:value-of select="title"/&gt; <br> <br> <br> &lt;/xsl:template&gt; <br> <br></code> <br> : <br> <code>&lt;xsl:call-template name="href_attribute"/&gt;</code> -    .        , ..  . <br> <br> <code>&lt;xsl:value-of select="title"/&gt;</code> - -   title  .         <strong>@</strong> -      . <br> <br> 6.    <strong>sections</strong> : <br> <code><br> &lt;xsl:template match="sections" mode="global_menu"&gt; <br> <br> &lt;/xsl:template&gt; <br> <br></code> <br> : <br> <code>&lt;xsl:apply-templates select="item" mode="global_menu"/&gt;</code> -    <strong>item</strong>  <strong>sections</strong> .  ,  <strong>item</strong>   <strong>item</strong> ( <strong>sections/item/item</strong> )   , ..      . <br> <br>     <strong>item</strong> ( )   .  ,         : <code>&lt;xsl:call-template name="href_attribute"/&gt;</code> <br> <br>      <strong>uri-</strong>    .    . <br> <br> 7.     , <br>   ,    .            <strong>item</strong> : <br> <code><br> &lt;xsl:template match="item" mode="global_menu"&gt; <br> <br> &lt;xsl:choose&gt; <br> <br> &lt;xsl:when test="descendant-or-self::*/@id = /node()/@id"&gt; <br> &lt;xsl:value-of select="title"/&gt; <br> &lt;/xsl:when&gt; <br> <br> &lt;xsl:otherwise&gt; <br> &lt;xsl:call-template name="href_attribute"/&gt; <br> &lt;xsl:value-of select="title"/&gt; <br> <br> &lt;/xsl:otherwise&gt; <br> &lt;/xsl:choose&gt; <br> <br> &lt;/xsl:template&gt; <br> <br></code> <br>      : <br> <code>&lt;xsl:choose&gt; <br> &lt;xsl:when&gt;&lt;/xsl:when&gt; <br> &lt;xsl:otherwise&gt;&lt;/xsl:otherwise&gt; <br> &lt;/xsl:choose&gt; <br></code> <br> ‚Ä¶, ,     <strong>XML-</strong> .      : <code>&lt;xsl:when test="descendant-or-self::*/@id = /node()/@id"&gt;</code> <br> <br>        <strong>ID</strong>    ( <strong>document</strong> )    ( <strong>item</strong> ),   ,    . <br> <br>   <code>&lt;xsl:when&gt;&lt;/xsl:when&gt;</code>  ,      .   <code>&lt;xsl:otherwise&gt;&lt;/xsl:otherwise&gt;</code> -    . <br> <br> 8. ,   <strong>href_attribute</strong> : <br> <code><br> &lt;xsl:template name="href_attribute"&gt; <br> &lt;xsl:attribute name="href"&gt; <br> &lt;xsl:text&gt;/&lt;/xsl:text&gt; <br> &lt;xsl:for-each select="ancestor-or-self::item"&gt; <br> &lt;xsl:value-of select="dir"/&gt; <br> &lt;xsl:text&gt;/&lt;/xsl:text&gt; <br> &lt;/xsl:for-each&gt; <br> &lt;/xsl:attribute&gt; <br> &lt;/xsl:template&gt; <br></code> <br> <br>      <strong>xsl:attribute</strong> .          .         <strong>a</strong> , ,      <strong>href</strong> , .. . <br> <br>  <code>&lt;xsl:for-each select="ancestor-or-self::item"&gt;</code>      ,  .      <strong>ancestor-or-self::item</strong> -         .           <strong>dir</strong> , ..     -. <br> <br> ,   -  ,       . ,   <a href="http://habrahabr.ru/blog/webdev/38433.html">  </a> . <br> <br> <strong>UPD:</strong> <br>   .   ,  : <br> <a href="">parser.proc.ru/iso/xslt-1.zip</a> <br> <br>        (       )           Apache. <br> <br>    XML-   /xsl/document.xml</code></code></code></code></code> <h2> <code><code><code><code><code><code>-    (   ). : <br> <strong>Lang</strong> -  .     . <strong>Id</strong> -   . <br> &lt;lang_table&gt;</code> -  ,   . <br> <code>-   : <br> -    (  ): <br> &lt;item id="0" parent_id="0" is_published="1" section="1"&gt;</code> -   . : <br> <strong>Id</strong> -  . <strong>Parent_id</strong> -   . <strong>Is_published</strong> -   . <strong>Dir</strong> - uri- .     . <strong>Section</strong> -  .         . <br> <code>-  . <br>   CMS   :        : <br> <strong>Html</strong> -  .  ,    . <strong>Com</strong> - -.  ,      CMS: , ,    .. <br>  <strong>XSL-</strong>   ,     .       . <br> <br> CMS       <strong> ,      : <br> : <br> <strong>Id</strong> -  . <br> <strong>Container</strong> - - (    ). <br> <strong>Sorting</strong> -    . <br> <strong>Type</strong> - : <br> <strong>Com</strong> - - <br> <strong>Html</strong> -  . <br> <strong>Method</strong> -  . <br> <strong>Title</strong> -  . <br> <strong>DTD</strong>     (    ): <br> &lt;!DOCTYPE site_page [ <br> <br> &lt;!ENTITY nbsp " "&gt; <br> &lt;!ENTITY sect "¬ß" &gt; <br> &lt;!ENTITY copy "¬©"&gt; <br> &lt;!ENTITY laquo "¬´"&gt; <br> &lt;!ENTITY reg "¬Æ"&gt; <br> &lt;!ENTITY deg "¬∞"&gt; <br> &lt;!ENTITY plusmn "¬±"&gt; <br> &lt;!ENTITY para "¬∂"&gt; <br> &lt;!ENTITY raquo "¬ª"&gt; <br> &lt;!ENTITY times "√ó"&gt; <br> <br> <br> <br> &lt;!ENTITY bull "‚Ä¢"&gt; <br> &lt;!ENTITY hellip "‚Ä¶"&gt; <br> <br> <br> <br> &lt;!ENTITY ndash "‚Äì"&gt; <br> &lt;!ENTITY mdash "‚Äî"&gt; <br> &lt;!ENTITY lsquo "'"&gt; <br> &lt;!ENTITY rsquo "'"&gt; <br> &lt;!ENTITY sbquo "‚Äö"&gt; <br> &lt;!ENTITY ldquo "‚Äú"&gt; <br> &lt;!ENTITY rdquo "‚Äù"&gt; <br> &lt;!ENTITY bdquo "‚Äû"&gt; <br> &lt;!ENTITY lsaquo "‚Äπ"&gt; <br> &lt;!ENTITY rsaquo "‚Ä∫" &gt; <br> &lt;!ENTITY euro "‚Ç¨"&gt; <br> ]&gt; <br></strong></code> <br>      <strong>XML-</strong> .   <code>&lt;?xml version="1.0" encoding="windows-1251"?&gt;</code> . <br> <br>  XHML- <br> XSL-    XHTML- (   ).  XHTML-,  ,   <strong></strong> . <br> <br>      . <br> <br>   XHML-  ,    ,       : <br>  (   ).    -    ,      . / . <br>        HTML-: <br> <code><a href="https://habr.com/ru/post/22236/"></a> <a href="https://habr.com/ru/post/22236/"></a> <a href="https://habr.com/ru/post/22236/"></a> ... <br> <br>   <br> <br> <br> ... <br> <br>    <br> <br> ... <br> <br>   <br> <br> ... <br> <br>  <br> <br> ...</code> <br> <br>   XSL- <br>   XSL-   : <br> <code>&lt;xsl:stylesheet version = '1.0' encoding="UTF-8"?&gt; <br> &lt;xsl:template match="element"&gt; <br>   <br> &lt;/xsl:template&gt; <br> &lt;/xsl:stylesheet&gt;</code> <br> <br> : <code>&lt;xsl:stylesheet version = '1.0' encoding="UTF-8"?&gt;</code> -   <strong>XML-</strong>  .   <strong>UTF-8</strong> ( , ). <br> <code>&lt;xsl:stylesheet&gt; &lt;/xsl:stylesheet&gt;</code> -    XSL-. <br> <code>&lt;xsl:template match="element"&gt; &lt;/xsl:template&gt;</code> -       element. <br> <br>       : <br> <code>&lt;xsl:template match="element"&gt;&lt;/xsl:template&gt;</code> - ,     <strong>element</strong> .      <strong>element</strong> . <code>&lt;xsl:template match="element" mode="mode1"&gt;&lt;/xsl:template&gt;</code> - ,     <strong>element</strong>   <strong>mode1</strong> .         <strong>element</strong> . <code>&lt;xsl:template name="template-name"&gt;&lt;/xsl:template&gt;</code> -    <strong>template-name</strong> .     -  <strong>XML-</strong> . <br>           <strong>XML-</strong> (,  XML-,    item      ),      " "  : <br> <code>&lt;xsl:template match="navigation/sections/item"&gt;&lt;/xsl:template&gt;</code> <br>  ,    , ..,      ,  ,  , ..      <strong>navigation</strong> ,      <strong>navigation/sections/item</strong>     <strong>sections/item</strong> . <br> <br>    <br>  ,         -      .  ,        <strong>xsl-</strong> .            . <br> <br>       <strong>xsl</strong>    . <br> <br> ,        (       )   : <br> <strong>template_folder</strong> -    .      ,  <strong>my_template</strong> . <strong>dtd</strong> -    .   . <strong>lang</strong> -      (      ). <strong>mod</strong> -  . <br>       <strong>xsl/my_template</strong>   ,  <strong>layout.xsl</strong>  : <br> <code>&lt;?xml version="1.0" encoding="UTF-8"?&gt; <br> &lt;!DOCTYPE xsl:stylesheet SYSTEM "../dtd/entities.dtd"&gt; <br> &lt;xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform"&gt; <br> <br> &lt;xsl:template match="/node()"&gt; <br> &lt;/xsl:template&gt; <br> <br> &lt;/xsl:stylesheet&gt; <br></code> <br> : <br> <code>&lt;xsl:template match="/node()"&gt; &lt;/xsl:template&gt;</code> -    <strong>/node()</strong> ().  <strong>/node()</strong>   <strong>//document</strong> , ..      . <br> <br>   XHTML-   <code>&lt;xsl:template match="/node()"&gt;&lt;/xsl:template&gt;</code> <br> <br>        <strong>XML-</strong> .   , <strong>XSL-</strong>   <strong>XML-</strong>  <strong>XHTML-</strong>  . <br> <br> ,    <strong>XSL</strong>   <strong>template.xsl</strong> (, <strong>template</strong> -   ),     : <br> <code>&lt;?xml version="1.0" encoding="UTF-8"?&gt; <br> &lt;xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform"&gt; <br> <br> &lt;xsl:import href=" my_template /layout.xsl"/&gt; <br> &lt;/xsl:stylesheet&gt; <br></code> <br> : <br> <code>&lt;xsl:import href="my_template/layout.xsl"/&gt;</code> <br>    XSL- ( <strong>XSL-</strong> )   .     . <br> <br>       <br>       , ..     XML-    . <br> <br>   -    . <br> <br>        ,   <strong>XML-</strong>   : <br> <code><br> &lt;item id="0" parent_id="0" is_published="1" section="1"&gt; <br>  <br> / <br> <br> &lt;item id="1" parent_id="0" is_published="1" section="1" hit="yes"&gt; <br>  <br> news <br> <br></code> <br> <br> <br>      : <br>  <strong>id</strong>    <strong>document</strong> -    <strong>id</strong>  .  <strong>hit</strong>   <strong>item</strong> -   ,   ,    "  ". <br> ,  ,         : <br> <strong>sections</strong> -   . <strong>item</strong> -  . <br>  ,  ,   <strong>item</strong>     <strong>item</strong> ,   ,     : <br> <code><br> <br></code> <br> <br> 1.    xsl/my_template  navigation.xsl  : <br> <code>&lt;?xml version="1.0" encoding="UTF-8"?&gt; <br> &lt;!DOCTYPE xsl:stylesheet SYSTEM "../dtd/entities.dtd"&gt; <br> &lt;xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform"&gt; <br> <br> &lt;xsl:template match="sections" mode="global_menu"&gt; <br> &lt;/xsl:template&gt; <br> <br> &lt;/xsl:stylesheet&gt;</code> <br> <br> 2.         <strong>layout.xsl</strong> : <br> <code><a href="https://habr.com/"></a> <a href="https://habr.com/sections/"></a> <a href="https://habr.com/news/"></a> <br> &lt;xsl:template match="sections" mode="global_menu"&gt; <br>    <br> &lt;/xsl:template&gt; <br></code> <br> <br> 3. ‚Ä¶      <strong>layout.xsl</strong>     : <br> <code><br> &lt;xsl:apply-templates select="navigation/sections" mode="global_menu"/&gt; <br> <br></code> <br> : <br> <strong>select="navigation/sections"</strong> -  ( ) - .  ,     <strong>navigation/sections</strong> . <br> <br> <strong>mode="global_menu"</strong> -     <strong>global_menu</strong> .      ,        , ,  " ",  -         . <br> <br> 4. ,    layout.xsl     <strong>navigation.xsl</strong> : <br> <code>&lt;xsl:import href="navigation.xsl"/&gt;</code> <br> <br> 5. ,    <strong>navigation.xsl</strong>   ,    : <br> <code><br> &lt;xsl:template match="item" mode="global_menu"&gt; <br> &lt;xsl:call-template name="href_attribute"/&gt; <br> &lt;xsl:value-of select="title"/&gt; <br> <br> <br> &lt;/xsl:template&gt; <br> <br></code> <br> : <br> <code>&lt;xsl:call-template name="href_attribute"/&gt;</code> -    .        , ..  . <br> <br> <code>&lt;xsl:value-of select="title"/&gt;</code> - -   title  .         <strong>@</strong> -      . <br> <br> 6.    <strong>sections</strong> : <br> <code><br> &lt;xsl:template match="sections" mode="global_menu"&gt; <br> <br> &lt;/xsl:template&gt; <br> <br></code> <br> : <br> <code>&lt;xsl:apply-templates select="item" mode="global_menu"/&gt;</code> -    <strong>item</strong>  <strong>sections</strong> .  ,  <strong>item</strong>   <strong>item</strong> ( <strong>sections/item/item</strong> )   , ..      . <br> <br>     <strong>item</strong> ( )   .  ,         : <code>&lt;xsl:call-template name="href_attribute"/&gt;</code> <br> <br>      <strong>uri-</strong>    .    . <br> <br> 7.     , <br>   ,    .            <strong>item</strong> : <br> <code><br> &lt;xsl:template match="item" mode="global_menu"&gt; <br> <br> &lt;xsl:choose&gt; <br> <br> &lt;xsl:when test="descendant-or-self::*/@id = /node()/@id"&gt; <br> &lt;xsl:value-of select="title"/&gt; <br> &lt;/xsl:when&gt; <br> <br> &lt;xsl:otherwise&gt; <br> &lt;xsl:call-template name="href_attribute"/&gt; <br> &lt;xsl:value-of select="title"/&gt; <br> <br> &lt;/xsl:otherwise&gt; <br> &lt;/xsl:choose&gt; <br> <br> &lt;/xsl:template&gt; <br> <br></code> <br>      : <br> <code>&lt;xsl:choose&gt; <br> &lt;xsl:when&gt;&lt;/xsl:when&gt; <br> &lt;xsl:otherwise&gt;&lt;/xsl:otherwise&gt; <br> &lt;/xsl:choose&gt; <br></code> <br> ‚Ä¶, ,     <strong>XML-</strong> .      : <code>&lt;xsl:when test="descendant-or-self::*/@id = /node()/@id"&gt;</code> <br> <br>        <strong>ID</strong>    ( <strong>document</strong> )    ( <strong>item</strong> ),   ,    . <br> <br>   <code>&lt;xsl:when&gt;&lt;/xsl:when&gt;</code>  ,      .   <code>&lt;xsl:otherwise&gt;&lt;/xsl:otherwise&gt;</code> -    . <br> <br> 8. ,   <strong>href_attribute</strong> : <br> <code><br> &lt;xsl:template name="href_attribute"&gt; <br> &lt;xsl:attribute name="href"&gt; <br> &lt;xsl:text&gt;/&lt;/xsl:text&gt; <br> &lt;xsl:for-each select="ancestor-or-self::item"&gt; <br> &lt;xsl:value-of select="dir"/&gt; <br> &lt;xsl:text&gt;/&lt;/xsl:text&gt; <br> &lt;/xsl:for-each&gt; <br> &lt;/xsl:attribute&gt; <br> &lt;/xsl:template&gt; <br></code> <br> <br>      <strong>xsl:attribute</strong> .          .         <strong>a</strong> , ,      <strong>href</strong> , .. . <br> <br>  <code>&lt;xsl:for-each select="ancestor-or-self::item"&gt;</code>      ,  .      <strong>ancestor-or-self::item</strong> -         .           <strong>dir</strong> , ..     -. <br> <br> ,   -  ,       . ,   <a href="http://habrahabr.ru/blog/webdev/38433.html">  </a> . <br> <br> <strong>UPD:</strong> <br>   .   ,  : <br> <a href="">parser.proc.ru/iso/xslt-1.zip</a> <br> <br>        (       )           Apache. <br> <br>    XML-   /xsl/document.xml</code></code></code></code></code> </h2> <code><code><code><code><code><code>-    (   ). : <br> <strong>Lang</strong> -  .     . <strong>Id</strong> -   . <br> &lt;lang_table&gt;</code> -  ,   . <br> <code>-   : <br> -    (  ): <br> &lt;item id="0" parent_id="0" is_published="1" section="1"&gt;</code> -   . : <br> <strong>Id</strong> -  . <strong>Parent_id</strong> -   . <strong>Is_published</strong> -   . <strong>Dir</strong> - uri- .     . <strong>Section</strong> -  .         . <br> <code>-  . <br>   CMS   :        : <br> <strong>Html</strong> -  .  ,    . <strong>Com</strong> - -.  ,      CMS: , ,    .. <br>  <strong>XSL-</strong>   ,     .       . <br> <br> CMS       <strong> ,      : <br> : <br> <strong>Id</strong> -  . <br> <strong>Container</strong> - - (    ). <br> <strong>Sorting</strong> -    . <br> <strong>Type</strong> - : <br> <strong>Com</strong> - - <br> <strong>Html</strong> -  . <br> <strong>Method</strong> -  . <br> <strong>Title</strong> -  . <br> <strong>DTD</strong>     (    ): <br> &lt;!DOCTYPE site_page [ <br> <br> &lt;!ENTITY nbsp " "&gt; <br> &lt;!ENTITY sect "¬ß" &gt; <br> &lt;!ENTITY copy "¬©"&gt; <br> &lt;!ENTITY laquo "¬´"&gt; <br> &lt;!ENTITY reg "¬Æ"&gt; <br> &lt;!ENTITY deg "¬∞"&gt; <br> &lt;!ENTITY plusmn "¬±"&gt; <br> &lt;!ENTITY para "¬∂"&gt; <br> &lt;!ENTITY raquo "¬ª"&gt; <br> &lt;!ENTITY times "√ó"&gt; <br> <br> <br> <br> &lt;!ENTITY bull "‚Ä¢"&gt; <br> &lt;!ENTITY hellip "‚Ä¶"&gt; <br> <br> <br> <br> &lt;!ENTITY ndash "‚Äì"&gt; <br> &lt;!ENTITY mdash "‚Äî"&gt; <br> &lt;!ENTITY lsquo "'"&gt; <br> &lt;!ENTITY rsquo "'"&gt; <br> &lt;!ENTITY sbquo "‚Äö"&gt; <br> &lt;!ENTITY ldquo "‚Äú"&gt; <br> &lt;!ENTITY rdquo "‚Äù"&gt; <br> &lt;!ENTITY bdquo "‚Äû"&gt; <br> &lt;!ENTITY lsaquo "‚Äπ"&gt; <br> &lt;!ENTITY rsaquo "‚Ä∫" &gt; <br> &lt;!ENTITY euro "‚Ç¨"&gt; <br> ]&gt; <br></strong></code> <br>      <strong>XML-</strong> .   <code>&lt;?xml version="1.0" encoding="windows-1251"?&gt;</code> . <br> <br>  XHML- <br> XSL-    XHTML- (   ).  XHTML-,  ,   <strong></strong> . <br> <br>      . <br> <br>   XHML-  ,    ,       : <br>  (   ).    -    ,      . / . <br>        HTML-: <br> <code><a href="https://habr.com/ru/post/22236/"></a> <a href="https://habr.com/ru/post/22236/"></a> <a href="https://habr.com/ru/post/22236/"></a> ... <br> <br>   <br> <br> <br> ... <br> <br>    <br> <br> ... <br> <br>   <br> <br> ... <br> <br>  <br> <br> ...</code> <br> <br>   XSL- <br>   XSL-   : <br> <code>&lt;xsl:stylesheet version = '1.0' encoding="UTF-8"?&gt; <br> &lt;xsl:template match="element"&gt; <br>   <br> &lt;/xsl:template&gt; <br> &lt;/xsl:stylesheet&gt;</code> <br> <br> : <code>&lt;xsl:stylesheet version = '1.0' encoding="UTF-8"?&gt;</code> -   <strong>XML-</strong>  .   <strong>UTF-8</strong> ( , ). <br> <code>&lt;xsl:stylesheet&gt; &lt;/xsl:stylesheet&gt;</code> -    XSL-. <br> <code>&lt;xsl:template match="element"&gt; &lt;/xsl:template&gt;</code> -       element. <br> <br>       : <br> <code>&lt;xsl:template match="element"&gt;&lt;/xsl:template&gt;</code> - ,     <strong>element</strong> .      <strong>element</strong> . <code>&lt;xsl:template match="element" mode="mode1"&gt;&lt;/xsl:template&gt;</code> - ,     <strong>element</strong>   <strong>mode1</strong> .         <strong>element</strong> . <code>&lt;xsl:template name="template-name"&gt;&lt;/xsl:template&gt;</code> -    <strong>template-name</strong> .     -  <strong>XML-</strong> . <br>           <strong>XML-</strong> (,  XML-,    item      ),      " "  : <br> <code>&lt;xsl:template match="navigation/sections/item"&gt;&lt;/xsl:template&gt;</code> <br>  ,    , ..,      ,  ,  , ..      <strong>navigation</strong> ,      <strong>navigation/sections/item</strong>     <strong>sections/item</strong> . <br> <br>    <br>  ,         -      .  ,        <strong>xsl-</strong> .            . <br> <br>       <strong>xsl</strong>    . <br> <br> ,        (       )   : <br> <strong>template_folder</strong> -    .      ,  <strong>my_template</strong> . <strong>dtd</strong> -    .   . <strong>lang</strong> -      (      ). <strong>mod</strong> -  . <br>       <strong>xsl/my_template</strong>   ,  <strong>layout.xsl</strong>  : <br> <code>&lt;?xml version="1.0" encoding="UTF-8"?&gt; <br> &lt;!DOCTYPE xsl:stylesheet SYSTEM "../dtd/entities.dtd"&gt; <br> &lt;xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform"&gt; <br> <br> &lt;xsl:template match="/node()"&gt; <br> &lt;/xsl:template&gt; <br> <br> &lt;/xsl:stylesheet&gt; <br></code> <br> : <br> <code>&lt;xsl:template match="/node()"&gt; &lt;/xsl:template&gt;</code> -    <strong>/node()</strong> ().  <strong>/node()</strong>   <strong>//document</strong> , ..      . <br> <br>   XHTML-   <code>&lt;xsl:template match="/node()"&gt;&lt;/xsl:template&gt;</code> <br> <br>        <strong>XML-</strong> .   , <strong>XSL-</strong>   <strong>XML-</strong>  <strong>XHTML-</strong>  . <br> <br> ,    <strong>XSL</strong>   <strong>template.xsl</strong> (, <strong>template</strong> -   ),     : <br> <code>&lt;?xml version="1.0" encoding="UTF-8"?&gt; <br> &lt;xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform"&gt; <br> <br> &lt;xsl:import href=" my_template /layout.xsl"/&gt; <br> &lt;/xsl:stylesheet&gt; <br></code> <br> : <br> <code>&lt;xsl:import href="my_template/layout.xsl"/&gt;</code> <br>    XSL- ( <strong>XSL-</strong> )   .     . <br> <br>       <br>       , ..     XML-    . <br> <br>   -    . <br> <br>        ,   <strong>XML-</strong>   : <br> <code><br> &lt;item id="0" parent_id="0" is_published="1" section="1"&gt; <br>  <br> / <br> <br> &lt;item id="1" parent_id="0" is_published="1" section="1" hit="yes"&gt; <br>  <br> news <br> <br></code> <br> <br> <br>      : <br>  <strong>id</strong>    <strong>document</strong> -    <strong>id</strong>  .  <strong>hit</strong>   <strong>item</strong> -   ,   ,    "  ". <br> ,  ,         : <br> <strong>sections</strong> -   . <strong>item</strong> -  . <br>  ,  ,   <strong>item</strong>     <strong>item</strong> ,   ,     : <br> <code><br> <br></code> <br> <br> 1.    xsl/my_template  navigation.xsl  : <br> <code>&lt;?xml version="1.0" encoding="UTF-8"?&gt; <br> &lt;!DOCTYPE xsl:stylesheet SYSTEM "../dtd/entities.dtd"&gt; <br> &lt;xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform"&gt; <br> <br> &lt;xsl:template match="sections" mode="global_menu"&gt; <br> &lt;/xsl:template&gt; <br> <br> &lt;/xsl:stylesheet&gt;</code> <br> <br> 2.         <strong>layout.xsl</strong> : <br> <code><a href="https://habr.com/"></a> <a href="https://habr.com/sections/"></a> <a href="https://habr.com/news/"></a> <br> &lt;xsl:template match="sections" mode="global_menu"&gt; <br>    <br> &lt;/xsl:template&gt; <br></code> <br> <br> 3. ‚Ä¶      <strong>layout.xsl</strong>     : <br> <code><br> &lt;xsl:apply-templates select="navigation/sections" mode="global_menu"/&gt; <br> <br></code> <br> : <br> <strong>select="navigation/sections"</strong> -  ( ) - .  ,     <strong>navigation/sections</strong> . <br> <br> <strong>mode="global_menu"</strong> -     <strong>global_menu</strong> .      ,        , ,  " ",  -         . <br> <br> 4. ,    layout.xsl     <strong>navigation.xsl</strong> : <br> <code>&lt;xsl:import href="navigation.xsl"/&gt;</code> <br> <br> 5. ,    <strong>navigation.xsl</strong>   ,    : <br> <code><br> &lt;xsl:template match="item" mode="global_menu"&gt; <br> &lt;xsl:call-template name="href_attribute"/&gt; <br> &lt;xsl:value-of select="title"/&gt; <br> <br> <br> &lt;/xsl:template&gt; <br> <br></code> <br> : <br> <code>&lt;xsl:call-template name="href_attribute"/&gt;</code> -    .        , ..  . <br> <br> <code>&lt;xsl:value-of select="title"/&gt;</code> - -   title  .         <strong>@</strong> -      . <br> <br> 6.    <strong>sections</strong> : <br> <code><br> &lt;xsl:template match="sections" mode="global_menu"&gt; <br> <br> &lt;/xsl:template&gt; <br> <br></code> <br> : <br> <code>&lt;xsl:apply-templates select="item" mode="global_menu"/&gt;</code> -    <strong>item</strong>  <strong>sections</strong> .  ,  <strong>item</strong>   <strong>item</strong> ( <strong>sections/item/item</strong> )   , ..      . <br> <br>     <strong>item</strong> ( )   .  ,         : <code>&lt;xsl:call-template name="href_attribute"/&gt;</code> <br> <br>      <strong>uri-</strong>    .    . <br> <br> 7.     , <br>   ,    .            <strong>item</strong> : <br> <code><br> &lt;xsl:template match="item" mode="global_menu"&gt; <br> <br> &lt;xsl:choose&gt; <br> <br> &lt;xsl:when test="descendant-or-self::*/@id = /node()/@id"&gt; <br> &lt;xsl:value-of select="title"/&gt; <br> &lt;/xsl:when&gt; <br> <br> &lt;xsl:otherwise&gt; <br> &lt;xsl:call-template name="href_attribute"/&gt; <br> &lt;xsl:value-of select="title"/&gt; <br> <br> &lt;/xsl:otherwise&gt; <br> &lt;/xsl:choose&gt; <br> <br> &lt;/xsl:template&gt; <br> <br></code> <br>      : <br> <code>&lt;xsl:choose&gt; <br> &lt;xsl:when&gt;&lt;/xsl:when&gt; <br> &lt;xsl:otherwise&gt;&lt;/xsl:otherwise&gt; <br> &lt;/xsl:choose&gt; <br></code> <br> ‚Ä¶, ,     <strong>XML-</strong> .      : <code>&lt;xsl:when test="descendant-or-self::*/@id = /node()/@id"&gt;</code> <br> <br>        <strong>ID</strong>    ( <strong>document</strong> )    ( <strong>item</strong> ),   ,    . <br> <br>   <code>&lt;xsl:when&gt;&lt;/xsl:when&gt;</code>  ,      .   <code>&lt;xsl:otherwise&gt;&lt;/xsl:otherwise&gt;</code> -    . <br> <br> 8. ,   <strong>href_attribute</strong> : <br> <code><br> &lt;xsl:template name="href_attribute"&gt; <br> &lt;xsl:attribute name="href"&gt; <br> &lt;xsl:text&gt;/&lt;/xsl:text&gt; <br> &lt;xsl:for-each select="ancestor-or-self::item"&gt; <br> &lt;xsl:value-of select="dir"/&gt; <br> &lt;xsl:text&gt;/&lt;/xsl:text&gt; <br> &lt;/xsl:for-each&gt; <br> &lt;/xsl:attribute&gt; <br> &lt;/xsl:template&gt; <br></code> <br> <br>      <strong>xsl:attribute</strong> .          .         <strong>a</strong> , ,      <strong>href</strong> , .. . <br> <br>  <code>&lt;xsl:for-each select="ancestor-or-self::item"&gt;</code>      ,  .      <strong>ancestor-or-self::item</strong> -         .           <strong>dir</strong> , ..     -. <br> <br> ,   -  ,       . ,   <a href="http://habrahabr.ru/blog/webdev/38433.html">  </a> . <br> <br> <strong>UPD:</strong> <br>   .   ,  : <br> <a href="">parser.proc.ru/iso/xslt-1.zip</a> <br> <br>        (       )           Apache. <br> <br>    XML-   /xsl/document.xml</code></code></code></code></code> <ul><li> <code><code><code><code><code><code>-    (   ). : <br> <strong>Lang</strong> -  .     . <strong>Id</strong> -   . <br> &lt;lang_table&gt;</code> -  ,   . <br> <code>-   : <br> -    (  ): <br> &lt;item id="0" parent_id="0" is_published="1" section="1"&gt;</code> -   . : <br> <strong>Id</strong> -  . <strong>Parent_id</strong> -   . <strong>Is_published</strong> -   . <strong>Dir</strong> - uri- .     . <strong>Section</strong> -  .         . <br> <code>-  . <br>   CMS   :        : <br> <strong>Html</strong> -  .  ,    . <strong>Com</strong> - -.  ,      CMS: , ,    .. <br>  <strong>XSL-</strong>   ,     .       . <br> <br> CMS       <strong> ,      : <br> : <br> <strong>Id</strong> -  . <br> <strong>Container</strong> - - (    ). <br> <strong>Sorting</strong> -    . <br> <strong>Type</strong> - : <br> <strong>Com</strong> - - <br> <strong>Html</strong> -  . <br> <strong>Method</strong> -  . <br> <strong>Title</strong> -  . <br> <strong>DTD</strong>     (    ): <br> &lt;!DOCTYPE site_page [ <br> <br> &lt;!ENTITY nbsp " "&gt; <br> &lt;!ENTITY sect "¬ß" &gt; <br> &lt;!ENTITY copy "¬©"&gt; <br> &lt;!ENTITY laquo "¬´"&gt; <br> &lt;!ENTITY reg "¬Æ"&gt; <br> &lt;!ENTITY deg "¬∞"&gt; <br> &lt;!ENTITY plusmn "¬±"&gt; <br> &lt;!ENTITY para "¬∂"&gt; <br> &lt;!ENTITY raquo "¬ª"&gt; <br> &lt;!ENTITY times "√ó"&gt; <br> <br> <br> <br> &lt;!ENTITY bull "‚Ä¢"&gt; <br> &lt;!ENTITY hellip "‚Ä¶"&gt; <br> <br> <br> <br> &lt;!ENTITY ndash "‚Äì"&gt; <br> &lt;!ENTITY mdash "‚Äî"&gt; <br> &lt;!ENTITY lsquo "'"&gt; <br> &lt;!ENTITY rsquo "'"&gt; <br> &lt;!ENTITY sbquo "‚Äö"&gt; <br> &lt;!ENTITY ldquo "‚Äú"&gt; <br> &lt;!ENTITY rdquo "‚Äù"&gt; <br> &lt;!ENTITY bdquo "‚Äû"&gt; <br> &lt;!ENTITY lsaquo "‚Äπ"&gt; <br> &lt;!ENTITY rsaquo "‚Ä∫" &gt; <br> &lt;!ENTITY euro "‚Ç¨"&gt; <br> ]&gt; <br></strong></code> <br>      <strong>XML-</strong> .   <code>&lt;?xml version="1.0" encoding="windows-1251"?&gt;</code> . <br> <br>  XHML- <br> XSL-    XHTML- (   ).  XHTML-,  ,   <strong></strong> . <br> <br>      . <br> <br>   XHML-  ,    ,       : <br>  (   ).    -    ,      . / . <br>        HTML-: <br> <code><a href="https://habr.com/ru/post/22236/"></a> <a href="https://habr.com/ru/post/22236/"></a> <a href="https://habr.com/ru/post/22236/"></a> ... <br> <br>   <br> <br> <br> ... <br> <br>    <br> <br> ... <br> <br>   <br> <br> ... <br> <br>  <br> <br> ...</code> <br> <br>   XSL- <br>   XSL-   : <br> <code>&lt;xsl:stylesheet version = '1.0' encoding="UTF-8"?&gt; <br> &lt;xsl:template match="element"&gt; <br>   <br> &lt;/xsl:template&gt; <br> &lt;/xsl:stylesheet&gt;</code> <br> <br> : <code>&lt;xsl:stylesheet version = '1.0' encoding="UTF-8"?&gt;</code> -   <strong>XML-</strong>  .   <strong>UTF-8</strong> ( , ). <br> <code>&lt;xsl:stylesheet&gt; &lt;/xsl:stylesheet&gt;</code> -    XSL-. <br> <code>&lt;xsl:template match="element"&gt; &lt;/xsl:template&gt;</code> -       element. <br> <br>       : <br> <code>&lt;xsl:template match="element"&gt;&lt;/xsl:template&gt;</code> - ,     <strong>element</strong> .      <strong>element</strong> . <code>&lt;xsl:template match="element" mode="mode1"&gt;&lt;/xsl:template&gt;</code> - ,     <strong>element</strong>   <strong>mode1</strong> .         <strong>element</strong> . <code>&lt;xsl:template name="template-name"&gt;&lt;/xsl:template&gt;</code> -    <strong>template-name</strong> .     -  <strong>XML-</strong> . <br>           <strong>XML-</strong> (,  XML-,    item      ),      " "  : <br> <code>&lt;xsl:template match="navigation/sections/item"&gt;&lt;/xsl:template&gt;</code> <br>  ,    , ..,      ,  ,  , ..      <strong>navigation</strong> ,      <strong>navigation/sections/item</strong>     <strong>sections/item</strong> . <br> <br>    <br>  ,         -      .  ,        <strong>xsl-</strong> .            . <br> <br>       <strong>xsl</strong>    . <br> <br> ,        (       )   : <br> <strong>template_folder</strong> -    .      ,  <strong>my_template</strong> . <strong>dtd</strong> -    .   . <strong>lang</strong> -      (      ). <strong>mod</strong> -  . <br>       <strong>xsl/my_template</strong>   ,  <strong>layout.xsl</strong>  : <br> <code>&lt;?xml version="1.0" encoding="UTF-8"?&gt; <br> &lt;!DOCTYPE xsl:stylesheet SYSTEM "../dtd/entities.dtd"&gt; <br> &lt;xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform"&gt; <br> <br> &lt;xsl:template match="/node()"&gt; <br> &lt;/xsl:template&gt; <br> <br> &lt;/xsl:stylesheet&gt; <br></code> <br> : <br> <code>&lt;xsl:template match="/node()"&gt; &lt;/xsl:template&gt;</code> -    <strong>/node()</strong> ().  <strong>/node()</strong>   <strong>//document</strong> , ..      . <br> <br>   XHTML-   <code>&lt;xsl:template match="/node()"&gt;&lt;/xsl:template&gt;</code> <br> <br>        <strong>XML-</strong> .   , <strong>XSL-</strong>   <strong>XML-</strong>  <strong>XHTML-</strong>  . <br> <br> ,    <strong>XSL</strong>   <strong>template.xsl</strong> (, <strong>template</strong> -   ),     : <br> <code>&lt;?xml version="1.0" encoding="UTF-8"?&gt; <br> &lt;xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform"&gt; <br> <br> &lt;xsl:import href=" my_template /layout.xsl"/&gt; <br> &lt;/xsl:stylesheet&gt; <br></code> <br> : <br> <code>&lt;xsl:import href="my_template/layout.xsl"/&gt;</code> <br>    XSL- ( <strong>XSL-</strong> )   .     . <br> <br>       <br>       , ..     XML-    . <br> <br>   -    . <br> <br>        ,   <strong>XML-</strong>   : <br> <code><br> &lt;item id="0" parent_id="0" is_published="1" section="1"&gt; <br>  <br> / <br> <br> &lt;item id="1" parent_id="0" is_published="1" section="1" hit="yes"&gt; <br>  <br> news <br> <br></code> <br> <br> <br>      : <br>  <strong>id</strong>    <strong>document</strong> -    <strong>id</strong>  .  <strong>hit</strong>   <strong>item</strong> -   ,   ,    "  ". <br> ,  ,         : <br> <strong>sections</strong> -   . <strong>item</strong> -  . <br>  ,  ,   <strong>item</strong>     <strong>item</strong> ,   ,     : <br> <code><br> <br></code> <br> <br> 1.    xsl/my_template  navigation.xsl  : <br> <code>&lt;?xml version="1.0" encoding="UTF-8"?&gt; <br> &lt;!DOCTYPE xsl:stylesheet SYSTEM "../dtd/entities.dtd"&gt; <br> &lt;xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform"&gt; <br> <br> &lt;xsl:template match="sections" mode="global_menu"&gt; <br> &lt;/xsl:template&gt; <br> <br> &lt;/xsl:stylesheet&gt;</code> <br> <br> 2.         <strong>layout.xsl</strong> : <br> <code><a href="https://habr.com/"></a> <a href="https://habr.com/sections/"></a> <a href="https://habr.com/news/"></a> <br> &lt;xsl:template match="sections" mode="global_menu"&gt; <br>    <br> &lt;/xsl:template&gt; <br></code> <br> <br> 3. ‚Ä¶      <strong>layout.xsl</strong>     : <br> <code><br> &lt;xsl:apply-templates select="navigation/sections" mode="global_menu"/&gt; <br> <br></code> <br> : <br> <strong>select="navigation/sections"</strong> -  ( ) - .  ,     <strong>navigation/sections</strong> . <br> <br> <strong>mode="global_menu"</strong> -     <strong>global_menu</strong> .      ,        , ,  " ",  -         . <br> <br> 4. ,    layout.xsl     <strong>navigation.xsl</strong> : <br> <code>&lt;xsl:import href="navigation.xsl"/&gt;</code> <br> <br> 5. ,    <strong>navigation.xsl</strong>   ,    : <br> <code><br> &lt;xsl:template match="item" mode="global_menu"&gt; <br> &lt;xsl:call-template name="href_attribute"/&gt; <br> &lt;xsl:value-of select="title"/&gt; <br> <br> <br> &lt;/xsl:template&gt; <br> <br></code> <br> : <br> <code>&lt;xsl:call-template name="href_attribute"/&gt;</code> -    .        , ..  . <br> <br> <code>&lt;xsl:value-of select="title"/&gt;</code> - -   title  .         <strong>@</strong> -      . <br> <br> 6.    <strong>sections</strong> : <br> <code><br> &lt;xsl:template match="sections" mode="global_menu"&gt; <br> <br> &lt;/xsl:template&gt; <br> <br></code> <br> : <br> <code>&lt;xsl:apply-templates select="item" mode="global_menu"/&gt;</code> -    <strong>item</strong>  <strong>sections</strong> .  ,  <strong>item</strong>   <strong>item</strong> ( <strong>sections/item/item</strong> )   , ..      . <br> <br>     <strong>item</strong> ( )   .  ,         : <code>&lt;xsl:call-template name="href_attribute"/&gt;</code> <br> <br>      <strong>uri-</strong>    .    . <br> <br> 7.     , <br>   ,    .            <strong>item</strong> : <br> <code><br> &lt;xsl:template match="item" mode="global_menu"&gt; <br> <br> &lt;xsl:choose&gt; <br> <br> &lt;xsl:when test="descendant-or-self::*/@id = /node()/@id"&gt; <br> &lt;xsl:value-of select="title"/&gt; <br> &lt;/xsl:when&gt; <br> <br> &lt;xsl:otherwise&gt; <br> &lt;xsl:call-template name="href_attribute"/&gt; <br> &lt;xsl:value-of select="title"/&gt; <br> <br> &lt;/xsl:otherwise&gt; <br> &lt;/xsl:choose&gt; <br> <br> &lt;/xsl:template&gt; <br> <br></code> <br>      : <br> <code>&lt;xsl:choose&gt; <br> &lt;xsl:when&gt;&lt;/xsl:when&gt; <br> &lt;xsl:otherwise&gt;&lt;/xsl:otherwise&gt; <br> &lt;/xsl:choose&gt; <br></code> <br> ‚Ä¶, ,     <strong>XML-</strong> .      : <code>&lt;xsl:when test="descendant-or-self::*/@id = /node()/@id"&gt;</code> <br> <br>        <strong>ID</strong>    ( <strong>document</strong> )    ( <strong>item</strong> ),   ,    . <br> <br>   <code>&lt;xsl:when&gt;&lt;/xsl:when&gt;</code>  ,      .   <code>&lt;xsl:otherwise&gt;&lt;/xsl:otherwise&gt;</code> -    . <br> <br> 8. ,   <strong>href_attribute</strong> : <br> <code><br> &lt;xsl:template name="href_attribute"&gt; <br> &lt;xsl:attribute name="href"&gt; <br> &lt;xsl:text&gt;/&lt;/xsl:text&gt; <br> &lt;xsl:for-each select="ancestor-or-self::item"&gt; <br> &lt;xsl:value-of select="dir"/&gt; <br> &lt;xsl:text&gt;/&lt;/xsl:text&gt; <br> &lt;/xsl:for-each&gt; <br> &lt;/xsl:attribute&gt; <br> &lt;/xsl:template&gt; <br></code> <br> <br>      <strong>xsl:attribute</strong> .          .         <strong>a</strong> , ,      <strong>href</strong> , .. . <br> <br>  <code>&lt;xsl:for-each select="ancestor-or-self::item"&gt;</code>      ,  .      <strong>ancestor-or-self::item</strong> -         .           <strong>dir</strong> , ..     -. <br> <br> ,   -  ,       . ,   <a href="http://habrahabr.ru/blog/webdev/38433.html">  </a> . <br> <br> <strong>UPD:</strong> <br>   .   ,  : <br> <a href="">parser.proc.ru/iso/xslt-1.zip</a> <br> <br>        (       )           Apache. <br> <br>    XML-   /xsl/document.xml</code></code></code></code></code> </li> <li> <code><code><code><code><code><code>-    (   ). : <br> <strong>Lang</strong> -  .     . <strong>Id</strong> -   . <br> &lt;lang_table&gt;</code> -  ,   . <br> <code>-   : <br> -    (  ): <br> &lt;item id="0" parent_id="0" is_published="1" section="1"&gt;</code> -   . : <br> <strong>Id</strong> -  . <strong>Parent_id</strong> -   . <strong>Is_published</strong> -   . <strong>Dir</strong> - uri- .     . <strong>Section</strong> -  .         . <br> <code>-  . <br>   CMS   :        : <br> <strong>Html</strong> -  .  ,    . <strong>Com</strong> - -.  ,      CMS: , ,    .. <br>  <strong>XSL-</strong>   ,     .       . <br> <br> CMS       <strong> ,      : <br> : <br> <strong>Id</strong> -  . <br> <strong>Container</strong> - - (    ). <br> <strong>Sorting</strong> -    . <br> <strong>Type</strong> - : <br> <strong>Com</strong> - - <br> <strong>Html</strong> -  . <br> <strong>Method</strong> -  . <br> <strong>Title</strong> -  . <br> <strong>DTD</strong>     (    ): <br> &lt;!DOCTYPE site_page [ <br> <br> &lt;!ENTITY nbsp " "&gt; <br> &lt;!ENTITY sect "¬ß" &gt; <br> &lt;!ENTITY copy "¬©"&gt; <br> &lt;!ENTITY laquo "¬´"&gt; <br> &lt;!ENTITY reg "¬Æ"&gt; <br> &lt;!ENTITY deg "¬∞"&gt; <br> &lt;!ENTITY plusmn "¬±"&gt; <br> &lt;!ENTITY para "¬∂"&gt; <br> &lt;!ENTITY raquo "¬ª"&gt; <br> &lt;!ENTITY times "√ó"&gt; <br> <br> <br> <br> &lt;!ENTITY bull "‚Ä¢"&gt; <br> &lt;!ENTITY hellip "‚Ä¶"&gt; <br> <br> <br> <br> &lt;!ENTITY ndash "‚Äì"&gt; <br> &lt;!ENTITY mdash "‚Äî"&gt; <br> &lt;!ENTITY lsquo "'"&gt; <br> &lt;!ENTITY rsquo "'"&gt; <br> &lt;!ENTITY sbquo "‚Äö"&gt; <br> &lt;!ENTITY ldquo "‚Äú"&gt; <br> &lt;!ENTITY rdquo "‚Äù"&gt; <br> &lt;!ENTITY bdquo "‚Äû"&gt; <br> &lt;!ENTITY lsaquo "‚Äπ"&gt; <br> &lt;!ENTITY rsaquo "‚Ä∫" &gt; <br> &lt;!ENTITY euro "‚Ç¨"&gt; <br> ]&gt; <br></strong></code> <br>      <strong>XML-</strong> .   <code>&lt;?xml version="1.0" encoding="windows-1251"?&gt;</code> . <br> <br>  XHML- <br> XSL-    XHTML- (   ).  XHTML-,  ,   <strong></strong> . <br> <br>      . <br> <br>   XHML-  ,    ,       : <br>  (   ).    -    ,      . / . <br>        HTML-: <br> <code><a href="https://habr.com/ru/post/22236/"></a> <a href="https://habr.com/ru/post/22236/"></a> <a href="https://habr.com/ru/post/22236/"></a> ... <br> <br>   <br> <br> <br> ... <br> <br>    <br> <br> ... <br> <br>   <br> <br> ... <br> <br>  <br> <br> ...</code> <br> <br>   XSL- <br>   XSL-   : <br> <code>&lt;xsl:stylesheet version = '1.0' encoding="UTF-8"?&gt; <br> &lt;xsl:template match="element"&gt; <br>   <br> &lt;/xsl:template&gt; <br> &lt;/xsl:stylesheet&gt;</code> <br> <br> : <code>&lt;xsl:stylesheet version = '1.0' encoding="UTF-8"?&gt;</code> -   <strong>XML-</strong>  .   <strong>UTF-8</strong> ( , ). <br> <code>&lt;xsl:stylesheet&gt; &lt;/xsl:stylesheet&gt;</code> -    XSL-. <br> <code>&lt;xsl:template match="element"&gt; &lt;/xsl:template&gt;</code> -       element. <br> <br>       : <br> <code>&lt;xsl:template match="element"&gt;&lt;/xsl:template&gt;</code> - ,     <strong>element</strong> .      <strong>element</strong> . <code>&lt;xsl:template match="element" mode="mode1"&gt;&lt;/xsl:template&gt;</code> - ,     <strong>element</strong>   <strong>mode1</strong> .         <strong>element</strong> . <code>&lt;xsl:template name="template-name"&gt;&lt;/xsl:template&gt;</code> -    <strong>template-name</strong> .     -  <strong>XML-</strong> . <br>           <strong>XML-</strong> (,  XML-,    item      ),      " "  : <br> <code>&lt;xsl:template match="navigation/sections/item"&gt;&lt;/xsl:template&gt;</code> <br>  ,    , ..,      ,  ,  , ..      <strong>navigation</strong> ,      <strong>navigation/sections/item</strong>     <strong>sections/item</strong> . <br> <br>    <br>  ,         -      .  ,        <strong>xsl-</strong> .            . <br> <br>       <strong>xsl</strong>    . <br> <br> ,        (       )   : <br> <strong>template_folder</strong> -    .      ,  <strong>my_template</strong> . <strong>dtd</strong> -    .   . <strong>lang</strong> -      (      ). <strong>mod</strong> -  . <br>       <strong>xsl/my_template</strong>   ,  <strong>layout.xsl</strong>  : <br> <code>&lt;?xml version="1.0" encoding="UTF-8"?&gt; <br> &lt;!DOCTYPE xsl:stylesheet SYSTEM "../dtd/entities.dtd"&gt; <br> &lt;xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform"&gt; <br> <br> &lt;xsl:template match="/node()"&gt; <br> &lt;/xsl:template&gt; <br> <br> &lt;/xsl:stylesheet&gt; <br></code> <br> : <br> <code>&lt;xsl:template match="/node()"&gt; &lt;/xsl:template&gt;</code> -    <strong>/node()</strong> ().  <strong>/node()</strong>   <strong>//document</strong> , ..      . <br> <br>   XHTML-   <code>&lt;xsl:template match="/node()"&gt;&lt;/xsl:template&gt;</code> <br> <br>        <strong>XML-</strong> .   , <strong>XSL-</strong>   <strong>XML-</strong>  <strong>XHTML-</strong>  . <br> <br> ,    <strong>XSL</strong>   <strong>template.xsl</strong> (, <strong>template</strong> -   ),     : <br> <code>&lt;?xml version="1.0" encoding="UTF-8"?&gt; <br> &lt;xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform"&gt; <br> <br> &lt;xsl:import href=" my_template /layout.xsl"/&gt; <br> &lt;/xsl:stylesheet&gt; <br></code> <br> : <br> <code>&lt;xsl:import href="my_template/layout.xsl"/&gt;</code> <br>    XSL- ( <strong>XSL-</strong> )   .     . <br> <br>       <br>       , ..     XML-    . <br> <br>   -    . <br> <br>        ,   <strong>XML-</strong>   : <br> <code><br> &lt;item id="0" parent_id="0" is_published="1" section="1"&gt; <br>  <br> / <br> <br> &lt;item id="1" parent_id="0" is_published="1" section="1" hit="yes"&gt; <br>  <br> news <br> <br></code> <br> <br> <br>      : <br>  <strong>id</strong>    <strong>document</strong> -    <strong>id</strong>  .  <strong>hit</strong>   <strong>item</strong> -   ,   ,    "  ". <br> ,  ,         : <br> <strong>sections</strong> -   . <strong>item</strong> -  . <br>  ,  ,   <strong>item</strong>     <strong>item</strong> ,   ,     : <br> <code><br> <br></code> <br> <br> 1.    xsl/my_template  navigation.xsl  : <br> <code>&lt;?xml version="1.0" encoding="UTF-8"?&gt; <br> &lt;!DOCTYPE xsl:stylesheet SYSTEM "../dtd/entities.dtd"&gt; <br> &lt;xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform"&gt; <br> <br> &lt;xsl:template match="sections" mode="global_menu"&gt; <br> &lt;/xsl:template&gt; <br> <br> &lt;/xsl:stylesheet&gt;</code> <br> <br> 2.         <strong>layout.xsl</strong> : <br> <code><a href="https://habr.com/"></a> <a href="https://habr.com/sections/"></a> <a href="https://habr.com/news/"></a> <br> &lt;xsl:template match="sections" mode="global_menu"&gt; <br>    <br> &lt;/xsl:template&gt; <br></code> <br> <br> 3. ‚Ä¶      <strong>layout.xsl</strong>     : <br> <code><br> &lt;xsl:apply-templates select="navigation/sections" mode="global_menu"/&gt; <br> <br></code> <br> : <br> <strong>select="navigation/sections"</strong> -  ( ) - .  ,     <strong>navigation/sections</strong> . <br> <br> <strong>mode="global_menu"</strong> -     <strong>global_menu</strong> .      ,        , ,  " ",  -         . <br> <br> 4. ,    layout.xsl     <strong>navigation.xsl</strong> : <br> <code>&lt;xsl:import href="navigation.xsl"/&gt;</code> <br> <br> 5. ,    <strong>navigation.xsl</strong>   ,    : <br> <code><br> &lt;xsl:template match="item" mode="global_menu"&gt; <br> &lt;xsl:call-template name="href_attribute"/&gt; <br> &lt;xsl:value-of select="title"/&gt; <br> <br> <br> &lt;/xsl:template&gt; <br> <br></code> <br> : <br> <code>&lt;xsl:call-template name="href_attribute"/&gt;</code> -    .        , ..  . <br> <br> <code>&lt;xsl:value-of select="title"/&gt;</code> - -   title  .         <strong>@</strong> -      . <br> <br> 6.    <strong>sections</strong> : <br> <code><br> &lt;xsl:template match="sections" mode="global_menu"&gt; <br> <br> &lt;/xsl:template&gt; <br> <br></code> <br> : <br> <code>&lt;xsl:apply-templates select="item" mode="global_menu"/&gt;</code> -    <strong>item</strong>  <strong>sections</strong> .  ,  <strong>item</strong>   <strong>item</strong> ( <strong>sections/item/item</strong> )   , ..      . <br> <br>     <strong>item</strong> ( )   .  ,         : <code>&lt;xsl:call-template name="href_attribute"/&gt;</code> <br> <br>      <strong>uri-</strong>    .    . <br> <br> 7.     , <br>   ,    .            <strong>item</strong> : <br> <code><br> &lt;xsl:template match="item" mode="global_menu"&gt; <br> <br> &lt;xsl:choose&gt; <br> <br> &lt;xsl:when test="descendant-or-self::*/@id = /node()/@id"&gt; <br> &lt;xsl:value-of select="title"/&gt; <br> &lt;/xsl:when&gt; <br> <br> &lt;xsl:otherwise&gt; <br> &lt;xsl:call-template name="href_attribute"/&gt; <br> &lt;xsl:value-of select="title"/&gt; <br> <br> &lt;/xsl:otherwise&gt; <br> &lt;/xsl:choose&gt; <br> <br> &lt;/xsl:template&gt; <br> <br></code> <br>      : <br> <code>&lt;xsl:choose&gt; <br> &lt;xsl:when&gt;&lt;/xsl:when&gt; <br> &lt;xsl:otherwise&gt;&lt;/xsl:otherwise&gt; <br> &lt;/xsl:choose&gt; <br></code> <br> ‚Ä¶, ,     <strong>XML-</strong> .      : <code>&lt;xsl:when test="descendant-or-self::*/@id = /node()/@id"&gt;</code> <br> <br>        <strong>ID</strong>    ( <strong>document</strong> )    ( <strong>item</strong> ),   ,    . <br> <br>   <code>&lt;xsl:when&gt;&lt;/xsl:when&gt;</code>  ,      .   <code>&lt;xsl:otherwise&gt;&lt;/xsl:otherwise&gt;</code> -    . <br> <br> 8. ,   <strong>href_attribute</strong> : <br> <code><br> &lt;xsl:template name="href_attribute"&gt; <br> &lt;xsl:attribute name="href"&gt; <br> &lt;xsl:text&gt;/&lt;/xsl:text&gt; <br> &lt;xsl:for-each select="ancestor-or-self::item"&gt; <br> &lt;xsl:value-of select="dir"/&gt; <br> &lt;xsl:text&gt;/&lt;/xsl:text&gt; <br> &lt;/xsl:for-each&gt; <br> &lt;/xsl:attribute&gt; <br> &lt;/xsl:template&gt; <br></code> <br> <br>      <strong>xsl:attribute</strong> .          .         <strong>a</strong> , ,      <strong>href</strong> , .. . <br> <br>  <code>&lt;xsl:for-each select="ancestor-or-self::item"&gt;</code>      ,  .      <strong>ancestor-or-self::item</strong> -         .           <strong>dir</strong> , ..     -. <br> <br> ,   -  ,       . ,   <a href="http://habrahabr.ru/blog/webdev/38433.html">  </a> . <br> <br> <strong>UPD:</strong> <br>   .   ,  : <br> <a href="">parser.proc.ru/iso/xslt-1.zip</a> <br> <br>        (       )           Apache. <br> <br>    XML-   /xsl/document.xml</code></code></code></code></code> </li> <li> <code><code><code><code><code><code>-    (   ). : <br> <strong>Lang</strong> -  .     . <strong>Id</strong> -   . <br> &lt;lang_table&gt;</code> -  ,   . <br> <code>-   : <br> -    (  ): <br> &lt;item id="0" parent_id="0" is_published="1" section="1"&gt;</code> -   . : <br> <strong>Id</strong> -  . <strong>Parent_id</strong> -   . <strong>Is_published</strong> -   . <strong>Dir</strong> - uri- .     . <strong>Section</strong> -  .         . <br> <code>-  . <br>   CMS   :        : <br> <strong>Html</strong> -  .  ,    . <strong>Com</strong> - -.  ,      CMS: , ,    .. <br>  <strong>XSL-</strong>   ,     .       . <br> <br> CMS       <strong> ,      : <br> : <br> <strong>Id</strong> -  . <br> <strong>Container</strong> - - (    ). <br> <strong>Sorting</strong> -    . <br> <strong>Type</strong> - : <br> <strong>Com</strong> - - <br> <strong>Html</strong> -  . <br> <strong>Method</strong> -  . <br> <strong>Title</strong> -  . <br> <strong>DTD</strong>     (    ): <br> &lt;!DOCTYPE site_page [ <br> <br> &lt;!ENTITY nbsp " "&gt; <br> &lt;!ENTITY sect "¬ß" &gt; <br> &lt;!ENTITY copy "¬©"&gt; <br> &lt;!ENTITY laquo "¬´"&gt; <br> &lt;!ENTITY reg "¬Æ"&gt; <br> &lt;!ENTITY deg "¬∞"&gt; <br> &lt;!ENTITY plusmn "¬±"&gt; <br> &lt;!ENTITY para "¬∂"&gt; <br> &lt;!ENTITY raquo "¬ª"&gt; <br> &lt;!ENTITY times "√ó"&gt; <br> <br> <br> <br> &lt;!ENTITY bull "‚Ä¢"&gt; <br> &lt;!ENTITY hellip "‚Ä¶"&gt; <br> <br> <br> <br> &lt;!ENTITY ndash "‚Äì"&gt; <br> &lt;!ENTITY mdash "‚Äî"&gt; <br> &lt;!ENTITY lsquo "'"&gt; <br> &lt;!ENTITY rsquo "'"&gt; <br> &lt;!ENTITY sbquo "‚Äö"&gt; <br> &lt;!ENTITY ldquo "‚Äú"&gt; <br> &lt;!ENTITY rdquo "‚Äù"&gt; <br> &lt;!ENTITY bdquo "‚Äû"&gt; <br> &lt;!ENTITY lsaquo "‚Äπ"&gt; <br> &lt;!ENTITY rsaquo "‚Ä∫" &gt; <br> &lt;!ENTITY euro "‚Ç¨"&gt; <br> ]&gt; <br></strong></code> <br>      <strong>XML-</strong> .   <code>&lt;?xml version="1.0" encoding="windows-1251"?&gt;</code> . <br> <br>  XHML- <br> XSL-    XHTML- (   ).  XHTML-,  ,   <strong></strong> . <br> <br>      . <br> <br>   XHML-  ,    ,       : <br>  (   ).    -    ,      . / . <br>        HTML-: <br> <code><a href="https://habr.com/ru/post/22236/"></a> <a href="https://habr.com/ru/post/22236/"></a> <a href="https://habr.com/ru/post/22236/"></a> ... <br> <br>   <br> <br> <br> ... <br> <br>    <br> <br> ... <br> <br>   <br> <br> ... <br> <br>  <br> <br> ...</code> <br> <br>   XSL- <br>   XSL-   : <br> <code>&lt;xsl:stylesheet version = '1.0' encoding="UTF-8"?&gt; <br> &lt;xsl:template match="element"&gt; <br>   <br> &lt;/xsl:template&gt; <br> &lt;/xsl:stylesheet&gt;</code> <br> <br> : <code>&lt;xsl:stylesheet version = '1.0' encoding="UTF-8"?&gt;</code> -   <strong>XML-</strong>  .   <strong>UTF-8</strong> ( , ). <br> <code>&lt;xsl:stylesheet&gt; &lt;/xsl:stylesheet&gt;</code> -    XSL-. <br> <code>&lt;xsl:template match="element"&gt; &lt;/xsl:template&gt;</code> -       element. <br> <br>       : <br> <code>&lt;xsl:template match="element"&gt;&lt;/xsl:template&gt;</code> - ,     <strong>element</strong> .      <strong>element</strong> . <code>&lt;xsl:template match="element" mode="mode1"&gt;&lt;/xsl:template&gt;</code> - ,     <strong>element</strong>   <strong>mode1</strong> .         <strong>element</strong> . <code>&lt;xsl:template name="template-name"&gt;&lt;/xsl:template&gt;</code> -    <strong>template-name</strong> .     -  <strong>XML-</strong> . <br>           <strong>XML-</strong> (,  XML-,    item      ),      " "  : <br> <code>&lt;xsl:template match="navigation/sections/item"&gt;&lt;/xsl:template&gt;</code> <br>  ,    , ..,      ,  ,  , ..      <strong>navigation</strong> ,      <strong>navigation/sections/item</strong>     <strong>sections/item</strong> . <br> <br>    <br>  ,         -      .  ,        <strong>xsl-</strong> .            . <br> <br>       <strong>xsl</strong>    . <br> <br> ,        (       )   : <br> <strong>template_folder</strong> -    .      ,  <strong>my_template</strong> . <strong>dtd</strong> -    .   . <strong>lang</strong> -      (      ). <strong>mod</strong> -  . <br>       <strong>xsl/my_template</strong>   ,  <strong>layout.xsl</strong>  : <br> <code>&lt;?xml version="1.0" encoding="UTF-8"?&gt; <br> &lt;!DOCTYPE xsl:stylesheet SYSTEM "../dtd/entities.dtd"&gt; <br> &lt;xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform"&gt; <br> <br> &lt;xsl:template match="/node()"&gt; <br> &lt;/xsl:template&gt; <br> <br> &lt;/xsl:stylesheet&gt; <br></code> <br> : <br> <code>&lt;xsl:template match="/node()"&gt; &lt;/xsl:template&gt;</code> -    <strong>/node()</strong> ().  <strong>/node()</strong>   <strong>//document</strong> , ..      . <br> <br>   XHTML-   <code>&lt;xsl:template match="/node()"&gt;&lt;/xsl:template&gt;</code> <br> <br>        <strong>XML-</strong> .   , <strong>XSL-</strong>   <strong>XML-</strong>  <strong>XHTML-</strong>  . <br> <br> ,    <strong>XSL</strong>   <strong>template.xsl</strong> (, <strong>template</strong> -   ),     : <br> <code>&lt;?xml version="1.0" encoding="UTF-8"?&gt; <br> &lt;xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform"&gt; <br> <br> &lt;xsl:import href=" my_template /layout.xsl"/&gt; <br> &lt;/xsl:stylesheet&gt; <br></code> <br> : <br> <code>&lt;xsl:import href="my_template/layout.xsl"/&gt;</code> <br>    XSL- ( <strong>XSL-</strong> )   .     . <br> <br>       <br>       , ..     XML-    . <br> <br>   -    . <br> <br>        ,   <strong>XML-</strong>   : <br> <code><br> &lt;item id="0" parent_id="0" is_published="1" section="1"&gt; <br>  <br> / <br> <br> &lt;item id="1" parent_id="0" is_published="1" section="1" hit="yes"&gt; <br>  <br> news <br> <br></code> <br> <br> <br>      : <br>  <strong>id</strong>    <strong>document</strong> -    <strong>id</strong>  .  <strong>hit</strong>   <strong>item</strong> -   ,   ,    "  ". <br> ,  ,         : <br> <strong>sections</strong> -   . <strong>item</strong> -  . <br>  ,  ,   <strong>item</strong>     <strong>item</strong> ,   ,     : <br> <code><br> <br></code> <br> <br> 1.    xsl/my_template  navigation.xsl  : <br> <code>&lt;?xml version="1.0" encoding="UTF-8"?&gt; <br> &lt;!DOCTYPE xsl:stylesheet SYSTEM "../dtd/entities.dtd"&gt; <br> &lt;xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform"&gt; <br> <br> &lt;xsl:template match="sections" mode="global_menu"&gt; <br> &lt;/xsl:template&gt; <br> <br> &lt;/xsl:stylesheet&gt;</code> <br> <br> 2.         <strong>layout.xsl</strong> : <br> <code><a href="https://habr.com/"></a> <a href="https://habr.com/sections/"></a> <a href="https://habr.com/news/"></a> <br> &lt;xsl:template match="sections" mode="global_menu"&gt; <br>    <br> &lt;/xsl:template&gt; <br></code> <br> <br> 3. ‚Ä¶      <strong>layout.xsl</strong>     : <br> <code><br> &lt;xsl:apply-templates select="navigation/sections" mode="global_menu"/&gt; <br> <br></code> <br> : <br> <strong>select="navigation/sections"</strong> -  ( ) - .  ,     <strong>navigation/sections</strong> . <br> <br> <strong>mode="global_menu"</strong> -     <strong>global_menu</strong> .      ,        , ,  " ",  -         . <br> <br> 4. ,    layout.xsl     <strong>navigation.xsl</strong> : <br> <code>&lt;xsl:import href="navigation.xsl"/&gt;</code> <br> <br> 5. ,    <strong>navigation.xsl</strong>   ,    : <br> <code><br> &lt;xsl:template match="item" mode="global_menu"&gt; <br> &lt;xsl:call-template name="href_attribute"/&gt; <br> &lt;xsl:value-of select="title"/&gt; <br> <br> <br> &lt;/xsl:template&gt; <br> <br></code> <br> : <br> <code>&lt;xsl:call-template name="href_attribute"/&gt;</code> -    .        , ..  . <br> <br> <code>&lt;xsl:value-of select="title"/&gt;</code> - -   title  .         <strong>@</strong> -      . <br> <br> 6.    <strong>sections</strong> : <br> <code><br> &lt;xsl:template match="sections" mode="global_menu"&gt; <br> <br> &lt;/xsl:template&gt; <br> <br></code> <br> : <br> <code>&lt;xsl:apply-templates select="item" mode="global_menu"/&gt;</code> -    <strong>item</strong>  <strong>sections</strong> .  ,  <strong>item</strong>   <strong>item</strong> ( <strong>sections/item/item</strong> )   , ..      . <br> <br>     <strong>item</strong> ( )   .  ,         : <code>&lt;xsl:call-template name="href_attribute"/&gt;</code> <br> <br>      <strong>uri-</strong>    .    . <br> <br> 7.     , <br>   ,    .            <strong>item</strong> : <br> <code><br> &lt;xsl:template match="item" mode="global_menu"&gt; <br> <br> &lt;xsl:choose&gt; <br> <br> &lt;xsl:when test="descendant-or-self::*/@id = /node()/@id"&gt; <br> &lt;xsl:value-of select="title"/&gt; <br> &lt;/xsl:when&gt; <br> <br> &lt;xsl:otherwise&gt; <br> &lt;xsl:call-template name="href_attribute"/&gt; <br> &lt;xsl:value-of select="title"/&gt; <br> <br> &lt;/xsl:otherwise&gt; <br> &lt;/xsl:choose&gt; <br> <br> &lt;/xsl:template&gt; <br> <br></code> <br>      : <br> <code>&lt;xsl:choose&gt; <br> &lt;xsl:when&gt;&lt;/xsl:when&gt; <br> &lt;xsl:otherwise&gt;&lt;/xsl:otherwise&gt; <br> &lt;/xsl:choose&gt; <br></code> <br> ‚Ä¶, ,     <strong>XML-</strong> .      : <code>&lt;xsl:when test="descendant-or-self::*/@id = /node()/@id"&gt;</code> <br> <br>        <strong>ID</strong>    ( <strong>document</strong> )    ( <strong>item</strong> ),   ,    . <br> <br>   <code>&lt;xsl:when&gt;&lt;/xsl:when&gt;</code>  ,      .   <code>&lt;xsl:otherwise&gt;&lt;/xsl:otherwise&gt;</code> -    . <br> <br> 8. ,   <strong>href_attribute</strong> : <br> <code><br> &lt;xsl:template name="href_attribute"&gt; <br> &lt;xsl:attribute name="href"&gt; <br> &lt;xsl:text&gt;/&lt;/xsl:text&gt; <br> &lt;xsl:for-each select="ancestor-or-self::item"&gt; <br> &lt;xsl:value-of select="dir"/&gt; <br> &lt;xsl:text&gt;/&lt;/xsl:text&gt; <br> &lt;/xsl:for-each&gt; <br> &lt;/xsl:attribute&gt; <br> &lt;/xsl:template&gt; <br></code> <br> <br>      <strong>xsl:attribute</strong> .          .         <strong>a</strong> , ,      <strong>href</strong> , .. . <br> <br>  <code>&lt;xsl:for-each select="ancestor-or-self::item"&gt;</code>      ,  .      <strong>ancestor-or-self::item</strong> -         .           <strong>dir</strong> , ..     -. <br> <br> ,   -  ,       . ,   <a href="http://habrahabr.ru/blog/webdev/38433.html">  </a> . <br> <br> <strong>UPD:</strong> <br>   .   ,  : <br> <a href="">parser.proc.ru/iso/xslt-1.zip</a> <br> <br>        (       )           Apache. <br> <br>    XML-   /xsl/document.xml</code></code></code></code></code> </li> <li> <code><code><code><code><code><code>-    (   ). : <br> <strong>Lang</strong> -  .     . <strong>Id</strong> -   . <br> &lt;lang_table&gt;</code> -  ,   . <br> <code>-   : <br> -    (  ): <br> &lt;item id="0" parent_id="0" is_published="1" section="1"&gt;</code> -   . : <br> <strong>Id</strong> -  . <strong>Parent_id</strong> -   . <strong>Is_published</strong> -   . <strong>Dir</strong> - uri- .     . <strong>Section</strong> -  .         . <br> <code>-  . <br>   CMS   :        : <br> <strong>Html</strong> -  .  ,    . <strong>Com</strong> - -.  ,      CMS: , ,    .. <br>  <strong>XSL-</strong>   ,     .       . <br> <br> CMS       <strong> ,      : <br> : <br> <strong>Id</strong> -  . <br> <strong>Container</strong> - - (    ). <br> <strong>Sorting</strong> -    . <br> <strong>Type</strong> - : <br> <strong>Com</strong> - - <br> <strong>Html</strong> -  . <br> <strong>Method</strong> -  . <br> <strong>Title</strong> -  . <br> <strong>DTD</strong>     (    ): <br> &lt;!DOCTYPE site_page [ <br> <br> &lt;!ENTITY nbsp " "&gt; <br> &lt;!ENTITY sect "¬ß" &gt; <br> &lt;!ENTITY copy "¬©"&gt; <br> &lt;!ENTITY laquo "¬´"&gt; <br> &lt;!ENTITY reg "¬Æ"&gt; <br> &lt;!ENTITY deg "¬∞"&gt; <br> &lt;!ENTITY plusmn "¬±"&gt; <br> &lt;!ENTITY para "¬∂"&gt; <br> &lt;!ENTITY raquo "¬ª"&gt; <br> &lt;!ENTITY times "√ó"&gt; <br> <br> <br> <br> &lt;!ENTITY bull "‚Ä¢"&gt; <br> &lt;!ENTITY hellip "‚Ä¶"&gt; <br> <br> <br> <br> &lt;!ENTITY ndash "‚Äì"&gt; <br> &lt;!ENTITY mdash "‚Äî"&gt; <br> &lt;!ENTITY lsquo "'"&gt; <br> &lt;!ENTITY rsquo "'"&gt; <br> &lt;!ENTITY sbquo "‚Äö"&gt; <br> &lt;!ENTITY ldquo "‚Äú"&gt; <br> &lt;!ENTITY rdquo "‚Äù"&gt; <br> &lt;!ENTITY bdquo "‚Äû"&gt; <br> &lt;!ENTITY lsaquo "‚Äπ"&gt; <br> &lt;!ENTITY rsaquo "‚Ä∫" &gt; <br> &lt;!ENTITY euro "‚Ç¨"&gt; <br> ]&gt; <br></strong></code> <br>      <strong>XML-</strong> .   <code>&lt;?xml version="1.0" encoding="windows-1251"?&gt;</code> . <br> <br>  XHML- <br> XSL-    XHTML- (   ).  XHTML-,  ,   <strong></strong> . <br> <br>      . <br> <br>   XHML-  ,    ,       : <br>  (   ).    -    ,      . / . <br>        HTML-: <br> <code><a href="https://habr.com/ru/post/22236/"></a> <a href="https://habr.com/ru/post/22236/"></a> <a href="https://habr.com/ru/post/22236/"></a> ... <br> <br>   <br> <br> <br> ... <br> <br>    <br> <br> ... <br> <br>   <br> <br> ... <br> <br>  <br> <br> ...</code> <br> <br>   XSL- <br>   XSL-   : <br> <code>&lt;xsl:stylesheet version = '1.0' encoding="UTF-8"?&gt; <br> &lt;xsl:template match="element"&gt; <br>   <br> &lt;/xsl:template&gt; <br> &lt;/xsl:stylesheet&gt;</code> <br> <br> : <code>&lt;xsl:stylesheet version = '1.0' encoding="UTF-8"?&gt;</code> -   <strong>XML-</strong>  .   <strong>UTF-8</strong> ( , ). <br> <code>&lt;xsl:stylesheet&gt; &lt;/xsl:stylesheet&gt;</code> -    XSL-. <br> <code>&lt;xsl:template match="element"&gt; &lt;/xsl:template&gt;</code> -       element. <br> <br>       : <br> <code>&lt;xsl:template match="element"&gt;&lt;/xsl:template&gt;</code> - ,     <strong>element</strong> .      <strong>element</strong> . <code>&lt;xsl:template match="element" mode="mode1"&gt;&lt;/xsl:template&gt;</code> - ,     <strong>element</strong>   <strong>mode1</strong> .         <strong>element</strong> . <code>&lt;xsl:template name="template-name"&gt;&lt;/xsl:template&gt;</code> -    <strong>template-name</strong> .     -  <strong>XML-</strong> . <br>           <strong>XML-</strong> (,  XML-,    item      ),      " "  : <br> <code>&lt;xsl:template match="navigation/sections/item"&gt;&lt;/xsl:template&gt;</code> <br>  ,    , ..,      ,  ,  , ..      <strong>navigation</strong> ,      <strong>navigation/sections/item</strong>     <strong>sections/item</strong> . <br> <br>    <br>  ,         -      .  ,        <strong>xsl-</strong> .            . <br> <br>       <strong>xsl</strong>    . <br> <br> ,        (       )   : <br> <strong>template_folder</strong> -    .      ,  <strong>my_template</strong> . <strong>dtd</strong> -    .   . <strong>lang</strong> -      (      ). <strong>mod</strong> -  . <br>       <strong>xsl/my_template</strong>   ,  <strong>layout.xsl</strong>  : <br> <code>&lt;?xml version="1.0" encoding="UTF-8"?&gt; <br> &lt;!DOCTYPE xsl:stylesheet SYSTEM "../dtd/entities.dtd"&gt; <br> &lt;xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform"&gt; <br> <br> &lt;xsl:template match="/node()"&gt; <br> &lt;/xsl:template&gt; <br> <br> &lt;/xsl:stylesheet&gt; <br></code> <br> : <br> <code>&lt;xsl:template match="/node()"&gt; &lt;/xsl:template&gt;</code> -    <strong>/node()</strong> ().  <strong>/node()</strong>   <strong>//document</strong> , ..      . <br> <br>   XHTML-   <code>&lt;xsl:template match="/node()"&gt;&lt;/xsl:template&gt;</code> <br> <br>        <strong>XML-</strong> .   , <strong>XSL-</strong>   <strong>XML-</strong>  <strong>XHTML-</strong>  . <br> <br> ,    <strong>XSL</strong>   <strong>template.xsl</strong> (, <strong>template</strong> -   ),     : <br> <code>&lt;?xml version="1.0" encoding="UTF-8"?&gt; <br> &lt;xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform"&gt; <br> <br> &lt;xsl:import href=" my_template /layout.xsl"/&gt; <br> &lt;/xsl:stylesheet&gt; <br></code> <br> : <br> <code>&lt;xsl:import href="my_template/layout.xsl"/&gt;</code> <br>    XSL- ( <strong>XSL-</strong> )   .     . <br> <br>       <br>       , ..     XML-    . <br> <br>   -    . <br> <br>        ,   <strong>XML-</strong>   : <br> <code><br> &lt;item id="0" parent_id="0" is_published="1" section="1"&gt; <br>  <br> / <br> <br> &lt;item id="1" parent_id="0" is_published="1" section="1" hit="yes"&gt; <br>  <br> news <br> <br></code> <br> <br> <br>      : <br>  <strong>id</strong>    <strong>document</strong> -    <strong>id</strong>  .  <strong>hit</strong>   <strong>item</strong> -   ,   ,    "  ". <br> ,  ,         : <br> <strong>sections</strong> -   . <strong>item</strong> -  . <br>  ,  ,   <strong>item</strong>     <strong>item</strong> ,   ,     : <br> <code><br> <br></code> <br> <br> 1.    xsl/my_template  navigation.xsl  : <br> <code>&lt;?xml version="1.0" encoding="UTF-8"?&gt; <br> &lt;!DOCTYPE xsl:stylesheet SYSTEM "../dtd/entities.dtd"&gt; <br> &lt;xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform"&gt; <br> <br> &lt;xsl:template match="sections" mode="global_menu"&gt; <br> &lt;/xsl:template&gt; <br> <br> &lt;/xsl:stylesheet&gt;</code> <br> <br> 2.         <strong>layout.xsl</strong> : <br> <code><a href="https://habr.com/"></a> <a href="https://habr.com/sections/"></a> <a href="https://habr.com/news/"></a> <br> &lt;xsl:template match="sections" mode="global_menu"&gt; <br>    <br> &lt;/xsl:template&gt; <br></code> <br> <br> 3. ‚Ä¶      <strong>layout.xsl</strong>     : <br> <code><br> &lt;xsl:apply-templates select="navigation/sections" mode="global_menu"/&gt; <br> <br></code> <br> : <br> <strong>select="navigation/sections"</strong> -  ( ) - .  ,     <strong>navigation/sections</strong> . <br> <br> <strong>mode="global_menu"</strong> -     <strong>global_menu</strong> .      ,        , ,  " ",  -         . <br> <br> 4. ,    layout.xsl     <strong>navigation.xsl</strong> : <br> <code>&lt;xsl:import href="navigation.xsl"/&gt;</code> <br> <br> 5. ,    <strong>navigation.xsl</strong>   ,    : <br> <code><br> &lt;xsl:template match="item" mode="global_menu"&gt; <br> &lt;xsl:call-template name="href_attribute"/&gt; <br> &lt;xsl:value-of select="title"/&gt; <br> <br> <br> &lt;/xsl:template&gt; <br> <br></code> <br> : <br> <code>&lt;xsl:call-template name="href_attribute"/&gt;</code> -    .        , ..  . <br> <br> <code>&lt;xsl:value-of select="title"/&gt;</code> - -   title  .         <strong>@</strong> -      . <br> <br> 6.    <strong>sections</strong> : <br> <code><br> &lt;xsl:template match="sections" mode="global_menu"&gt; <br> <br> &lt;/xsl:template&gt; <br> <br></code> <br> : <br> <code>&lt;xsl:apply-templates select="item" mode="global_menu"/&gt;</code> -    <strong>item</strong>  <strong>sections</strong> .  ,  <strong>item</strong>   <strong>item</strong> ( <strong>sections/item/item</strong> )   , ..      . <br> <br>     <strong>item</strong> ( )   .  ,         : <code>&lt;xsl:call-template name="href_attribute"/&gt;</code> <br> <br>      <strong>uri-</strong>    .    . <br> <br> 7.     , <br>   ,    .            <strong>item</strong> : <br> <code><br> &lt;xsl:template match="item" mode="global_menu"&gt; <br> <br> &lt;xsl:choose&gt; <br> <br> &lt;xsl:when test="descendant-or-self::*/@id = /node()/@id"&gt; <br> &lt;xsl:value-of select="title"/&gt; <br> &lt;/xsl:when&gt; <br> <br> &lt;xsl:otherwise&gt; <br> &lt;xsl:call-template name="href_attribute"/&gt; <br> &lt;xsl:value-of select="title"/&gt; <br> <br> &lt;/xsl:otherwise&gt; <br> &lt;/xsl:choose&gt; <br> <br> &lt;/xsl:template&gt; <br> <br></code> <br>      : <br> <code>&lt;xsl:choose&gt; <br> &lt;xsl:when&gt;&lt;/xsl:when&gt; <br> &lt;xsl:otherwise&gt;&lt;/xsl:otherwise&gt; <br> &lt;/xsl:choose&gt; <br></code> <br> ‚Ä¶, ,     <strong>XML-</strong> .      : <code>&lt;xsl:when test="descendant-or-self::*/@id = /node()/@id"&gt;</code> <br> <br>        <strong>ID</strong>    ( <strong>document</strong> )    ( <strong>item</strong> ),   ,    . <br> <br>   <code>&lt;xsl:when&gt;&lt;/xsl:when&gt;</code>  ,      .   <code>&lt;xsl:otherwise&gt;&lt;/xsl:otherwise&gt;</code> -    . <br> <br> 8. ,   <strong>href_attribute</strong> : <br> <code><br> &lt;xsl:template name="href_attribute"&gt; <br> &lt;xsl:attribute name="href"&gt; <br> &lt;xsl:text&gt;/&lt;/xsl:text&gt; <br> &lt;xsl:for-each select="ancestor-or-self::item"&gt; <br> &lt;xsl:value-of select="dir"/&gt; <br> &lt;xsl:text&gt;/&lt;/xsl:text&gt; <br> &lt;/xsl:for-each&gt; <br> &lt;/xsl:attribute&gt; <br> &lt;/xsl:template&gt; <br></code> <br> <br>      <strong>xsl:attribute</strong> .          .         <strong>a</strong> , ,      <strong>href</strong> , .. . <br> <br>  <code>&lt;xsl:for-each select="ancestor-or-self::item"&gt;</code>      ,  .      <strong>ancestor-or-self::item</strong> -         .           <strong>dir</strong> , ..     -. <br> <br> ,   -  ,       . ,   <a href="http://habrahabr.ru/blog/webdev/38433.html">  </a> . <br> <br> <strong>UPD:</strong> <br>   .   ,  : <br> <a href="">parser.proc.ru/iso/xslt-1.zip</a> <br> <br>        (       )           Apache. <br> <br>    XML-   /xsl/document.xml</code></code></code></code></code> </li> </ul> <code><code><code><code><code><code>-    (   ). : <br> <strong>Lang</strong> -  .     . <strong>Id</strong> -   . <br> &lt;lang_table&gt;</code> -  ,   . <br> <code>-   : <br> -    (  ): <br> &lt;item id="0" parent_id="0" is_published="1" section="1"&gt;</code> -   . : <br> <strong>Id</strong> -  . <strong>Parent_id</strong> -   . <strong>Is_published</strong> -   . <strong>Dir</strong> - uri- .     . <strong>Section</strong> -  .         . <br> <code>-  . <br>   CMS   :        : <br> <strong>Html</strong> -  .  ,    . <strong>Com</strong> - -.  ,      CMS: , ,    .. <br>  <strong>XSL-</strong>   ,     .       . <br> <br> CMS       <strong> ,      : <br> : <br> <strong>Id</strong> -  . <br> <strong>Container</strong> - - (    ). <br> <strong>Sorting</strong> -    . <br> <strong>Type</strong> - : <br> <strong>Com</strong> - - <br> <strong>Html</strong> -  . <br> <strong>Method</strong> -  . <br> <strong>Title</strong> -  . <br> <strong>DTD</strong>     (    ): <br> &lt;!DOCTYPE site_page [ <br> <br> &lt;!ENTITY nbsp " "&gt; <br> &lt;!ENTITY sect "¬ß" &gt; <br> &lt;!ENTITY copy "¬©"&gt; <br> &lt;!ENTITY laquo "¬´"&gt; <br> &lt;!ENTITY reg "¬Æ"&gt; <br> &lt;!ENTITY deg "¬∞"&gt; <br> &lt;!ENTITY plusmn "¬±"&gt; <br> &lt;!ENTITY para "¬∂"&gt; <br> &lt;!ENTITY raquo "¬ª"&gt; <br> &lt;!ENTITY times "√ó"&gt; <br> <br> <br> <br> &lt;!ENTITY bull "‚Ä¢"&gt; <br> &lt;!ENTITY hellip "‚Ä¶"&gt; <br> <br> <br> <br> &lt;!ENTITY ndash "‚Äì"&gt; <br> &lt;!ENTITY mdash "‚Äî"&gt; <br> &lt;!ENTITY lsquo "'"&gt; <br> &lt;!ENTITY rsquo "'"&gt; <br> &lt;!ENTITY sbquo "‚Äö"&gt; <br> &lt;!ENTITY ldquo "‚Äú"&gt; <br> &lt;!ENTITY rdquo "‚Äù"&gt; <br> &lt;!ENTITY bdquo "‚Äû"&gt; <br> &lt;!ENTITY lsaquo "‚Äπ"&gt; <br> &lt;!ENTITY rsaquo "‚Ä∫" &gt; <br> &lt;!ENTITY euro "‚Ç¨"&gt; <br> ]&gt; <br></strong></code> <br>      <strong>XML-</strong> .   <code>&lt;?xml version="1.0" encoding="windows-1251"?&gt;</code> . <br> <br>  XHML- <br> XSL-    XHTML- (   ).  XHTML-,  ,   <strong></strong> . <br> <br>      . <br> <br>   XHML-  ,    ,       : <br>  (   ).    -    ,      . / . <br>        HTML-: <br> <code><a href="https://habr.com/ru/post/22236/"></a> <a href="https://habr.com/ru/post/22236/"></a> <a href="https://habr.com/ru/post/22236/"></a> ... <br> <br>   <br> <br> <br> ... <br> <br>    <br> <br> ... <br> <br>   <br> <br> ... <br> <br>  <br> <br> ...</code> <br> <br>   XSL- <br>   XSL-   : <br> <code>&lt;xsl:stylesheet version = '1.0' encoding="UTF-8"?&gt; <br> &lt;xsl:template match="element"&gt; <br>   <br> &lt;/xsl:template&gt; <br> &lt;/xsl:stylesheet&gt;</code> <br> <br> : <code>&lt;xsl:stylesheet version = '1.0' encoding="UTF-8"?&gt;</code> -   <strong>XML-</strong>  .   <strong>UTF-8</strong> ( , ). <br> <code>&lt;xsl:stylesheet&gt; &lt;/xsl:stylesheet&gt;</code> -    XSL-. <br> <code>&lt;xsl:template match="element"&gt; &lt;/xsl:template&gt;</code> -       element. <br> <br>       : <br> <code>&lt;xsl:template match="element"&gt;&lt;/xsl:template&gt;</code> - ,     <strong>element</strong> .      <strong>element</strong> . <code>&lt;xsl:template match="element" mode="mode1"&gt;&lt;/xsl:template&gt;</code> - ,     <strong>element</strong>   <strong>mode1</strong> .         <strong>element</strong> . <code>&lt;xsl:template name="template-name"&gt;&lt;/xsl:template&gt;</code> -    <strong>template-name</strong> .     -  <strong>XML-</strong> . <br>           <strong>XML-</strong> (,  XML-,    item      ),      " "  : <br> <code>&lt;xsl:template match="navigation/sections/item"&gt;&lt;/xsl:template&gt;</code> <br>  ,    , ..,      ,  ,  , ..      <strong>navigation</strong> ,      <strong>navigation/sections/item</strong>     <strong>sections/item</strong> . <br> <br>    <br>  ,         -      .  ,        <strong>xsl-</strong> .            . <br> <br>       <strong>xsl</strong>    . <br> <br> ,        (       )   : <br> <strong>template_folder</strong> -    .      ,  <strong>my_template</strong> . <strong>dtd</strong> -    .   . <strong>lang</strong> -      (      ). <strong>mod</strong> -  . <br>       <strong>xsl/my_template</strong>   ,  <strong>layout.xsl</strong>  : <br> <code>&lt;?xml version="1.0" encoding="UTF-8"?&gt; <br> &lt;!DOCTYPE xsl:stylesheet SYSTEM "../dtd/entities.dtd"&gt; <br> &lt;xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform"&gt; <br> <br> &lt;xsl:template match="/node()"&gt; <br> &lt;/xsl:template&gt; <br> <br> &lt;/xsl:stylesheet&gt; <br></code> <br> : <br> <code>&lt;xsl:template match="/node()"&gt; &lt;/xsl:template&gt;</code> -    <strong>/node()</strong> ().  <strong>/node()</strong>   <strong>//document</strong> , ..      . <br> <br>   XHTML-   <code>&lt;xsl:template match="/node()"&gt;&lt;/xsl:template&gt;</code> <br> <br>        <strong>XML-</strong> .   , <strong>XSL-</strong>   <strong>XML-</strong>  <strong>XHTML-</strong>  . <br> <br> ,    <strong>XSL</strong>   <strong>template.xsl</strong> (, <strong>template</strong> -   ),     : <br> <code>&lt;?xml version="1.0" encoding="UTF-8"?&gt; <br> &lt;xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform"&gt; <br> <br> &lt;xsl:import href=" my_template /layout.xsl"/&gt; <br> &lt;/xsl:stylesheet&gt; <br></code> <br> : <br> <code>&lt;xsl:import href="my_template/layout.xsl"/&gt;</code> <br>    XSL- ( <strong>XSL-</strong> )   .     . <br> <br>       <br>       , ..     XML-    . <br> <br>   -    . <br> <br>        ,   <strong>XML-</strong>   : <br> <code><br> &lt;item id="0" parent_id="0" is_published="1" section="1"&gt; <br>  <br> / <br> <br> &lt;item id="1" parent_id="0" is_published="1" section="1" hit="yes"&gt; <br>  <br> news <br> <br></code> <br> <br> <br>      : <br>  <strong>id</strong>    <strong>document</strong> -    <strong>id</strong>  .  <strong>hit</strong>   <strong>item</strong> -   ,   ,    "  ". <br> ,  ,         : <br> <strong>sections</strong> -   . <strong>item</strong> -  . <br>  ,  ,   <strong>item</strong>     <strong>item</strong> ,   ,     : <br> <code><br> <br></code> <br> <br> 1.    xsl/my_template  navigation.xsl  : <br> <code>&lt;?xml version="1.0" encoding="UTF-8"?&gt; <br> &lt;!DOCTYPE xsl:stylesheet SYSTEM "../dtd/entities.dtd"&gt; <br> &lt;xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform"&gt; <br> <br> &lt;xsl:template match="sections" mode="global_menu"&gt; <br> &lt;/xsl:template&gt; <br> <br> &lt;/xsl:stylesheet&gt;</code> <br> <br> 2.         <strong>layout.xsl</strong> : <br> <code><a href="https://habr.com/"></a> <a href="https://habr.com/sections/"></a> <a href="https://habr.com/news/"></a> <br> &lt;xsl:template match="sections" mode="global_menu"&gt; <br>    <br> &lt;/xsl:template&gt; <br></code> <br> <br> 3. ‚Ä¶      <strong>layout.xsl</strong>     : <br> <code><br> &lt;xsl:apply-templates select="navigation/sections" mode="global_menu"/&gt; <br> <br></code> <br> : <br> <strong>select="navigation/sections"</strong> -  ( ) - .  ,     <strong>navigation/sections</strong> . <br> <br> <strong>mode="global_menu"</strong> -     <strong>global_menu</strong> .      ,        , ,  " ",  -         . <br> <br> 4. ,    layout.xsl     <strong>navigation.xsl</strong> : <br> <code>&lt;xsl:import href="navigation.xsl"/&gt;</code> <br> <br> 5. ,    <strong>navigation.xsl</strong>   ,    : <br> <code><br> &lt;xsl:template match="item" mode="global_menu"&gt; <br> &lt;xsl:call-template name="href_attribute"/&gt; <br> &lt;xsl:value-of select="title"/&gt; <br> <br> <br> &lt;/xsl:template&gt; <br> <br></code> <br> : <br> <code>&lt;xsl:call-template name="href_attribute"/&gt;</code> -    .        , ..  . <br> <br> <code>&lt;xsl:value-of select="title"/&gt;</code> - -   title  .         <strong>@</strong> -      . <br> <br> 6.    <strong>sections</strong> : <br> <code><br> &lt;xsl:template match="sections" mode="global_menu"&gt; <br> <br> &lt;/xsl:template&gt; <br> <br></code> <br> : <br> <code>&lt;xsl:apply-templates select="item" mode="global_menu"/&gt;</code> -    <strong>item</strong>  <strong>sections</strong> .  ,  <strong>item</strong>   <strong>item</strong> ( <strong>sections/item/item</strong> )   , ..      . <br> <br>     <strong>item</strong> ( )   .  ,         : <code>&lt;xsl:call-template name="href_attribute"/&gt;</code> <br> <br>      <strong>uri-</strong>    .    . <br> <br> 7.     , <br>   ,    .            <strong>item</strong> : <br> <code><br> &lt;xsl:template match="item" mode="global_menu"&gt; <br> <br> &lt;xsl:choose&gt; <br> <br> &lt;xsl:when test="descendant-or-self::*/@id = /node()/@id"&gt; <br> &lt;xsl:value-of select="title"/&gt; <br> &lt;/xsl:when&gt; <br> <br> &lt;xsl:otherwise&gt; <br> &lt;xsl:call-template name="href_attribute"/&gt; <br> &lt;xsl:value-of select="title"/&gt; <br> <br> &lt;/xsl:otherwise&gt; <br> &lt;/xsl:choose&gt; <br> <br> &lt;/xsl:template&gt; <br> <br></code> <br>      : <br> <code>&lt;xsl:choose&gt; <br> &lt;xsl:when&gt;&lt;/xsl:when&gt; <br> &lt;xsl:otherwise&gt;&lt;/xsl:otherwise&gt; <br> &lt;/xsl:choose&gt; <br></code> <br> ‚Ä¶, ,     <strong>XML-</strong> .      : <code>&lt;xsl:when test="descendant-or-self::*/@id = /node()/@id"&gt;</code> <br> <br>        <strong>ID</strong>    ( <strong>document</strong> )    ( <strong>item</strong> ),   ,    . <br> <br>   <code>&lt;xsl:when&gt;&lt;/xsl:when&gt;</code>  ,      .   <code>&lt;xsl:otherwise&gt;&lt;/xsl:otherwise&gt;</code> -    . <br> <br> 8. ,   <strong>href_attribute</strong> : <br> <code><br> &lt;xsl:template name="href_attribute"&gt; <br> &lt;xsl:attribute name="href"&gt; <br> &lt;xsl:text&gt;/&lt;/xsl:text&gt; <br> &lt;xsl:for-each select="ancestor-or-self::item"&gt; <br> &lt;xsl:value-of select="dir"/&gt; <br> &lt;xsl:text&gt;/&lt;/xsl:text&gt; <br> &lt;/xsl:for-each&gt; <br> &lt;/xsl:attribute&gt; <br> &lt;/xsl:template&gt; <br></code> <br> <br>      <strong>xsl:attribute</strong> .          .         <strong>a</strong> , ,      <strong>href</strong> , .. . <br> <br>  <code>&lt;xsl:for-each select="ancestor-or-self::item"&gt;</code>      ,  .      <strong>ancestor-or-self::item</strong> -         .           <strong>dir</strong> , ..     -. <br> <br> ,   -  ,       . ,   <a href="http://habrahabr.ru/blog/webdev/38433.html">  </a> . <br> <br> <strong>UPD:</strong> <br>   .   ,  : <br> <a href="">parser.proc.ru/iso/xslt-1.zip</a> <br> <br>        (       )           Apache. <br> <br>    XML-   /xsl/document.xml</code></code></code></code></code> <h2> <code><code><code><code><code><code>-    (   ). : <br> <strong>Lang</strong> -  .     . <strong>Id</strong> -   . <br> &lt;lang_table&gt;</code> -  ,   . <br> <code>-   : <br> -    (  ): <br> &lt;item id="0" parent_id="0" is_published="1" section="1"&gt;</code> -   . : <br> <strong>Id</strong> -  . <strong>Parent_id</strong> -   . <strong>Is_published</strong> -   . <strong>Dir</strong> - uri- .     . <strong>Section</strong> -  .         . <br> <code>-  . <br>   CMS   :        : <br> <strong>Html</strong> -  .  ,    . <strong>Com</strong> - -.  ,      CMS: , ,    .. <br>  <strong>XSL-</strong>   ,     .       . <br> <br> CMS       <strong> ,      : <br> : <br> <strong>Id</strong> -  . <br> <strong>Container</strong> - - (    ). <br> <strong>Sorting</strong> -    . <br> <strong>Type</strong> - : <br> <strong>Com</strong> - - <br> <strong>Html</strong> -  . <br> <strong>Method</strong> -  . <br> <strong>Title</strong> -  . <br> <strong>DTD</strong>     (    ): <br> &lt;!DOCTYPE site_page [ <br> <br> &lt;!ENTITY nbsp " "&gt; <br> &lt;!ENTITY sect "¬ß" &gt; <br> &lt;!ENTITY copy "¬©"&gt; <br> &lt;!ENTITY laquo "¬´"&gt; <br> &lt;!ENTITY reg "¬Æ"&gt; <br> &lt;!ENTITY deg "¬∞"&gt; <br> &lt;!ENTITY plusmn "¬±"&gt; <br> &lt;!ENTITY para "¬∂"&gt; <br> &lt;!ENTITY raquo "¬ª"&gt; <br> &lt;!ENTITY times "√ó"&gt; <br> <br> <br> <br> &lt;!ENTITY bull "‚Ä¢"&gt; <br> &lt;!ENTITY hellip "‚Ä¶"&gt; <br> <br> <br> <br> &lt;!ENTITY ndash "‚Äì"&gt; <br> &lt;!ENTITY mdash "‚Äî"&gt; <br> &lt;!ENTITY lsquo "'"&gt; <br> &lt;!ENTITY rsquo "'"&gt; <br> &lt;!ENTITY sbquo "‚Äö"&gt; <br> &lt;!ENTITY ldquo "‚Äú"&gt; <br> &lt;!ENTITY rdquo "‚Äù"&gt; <br> &lt;!ENTITY bdquo "‚Äû"&gt; <br> &lt;!ENTITY lsaquo "‚Äπ"&gt; <br> &lt;!ENTITY rsaquo "‚Ä∫" &gt; <br> &lt;!ENTITY euro "‚Ç¨"&gt; <br> ]&gt; <br></strong></code> <br>      <strong>XML-</strong> .   <code>&lt;?xml version="1.0" encoding="windows-1251"?&gt;</code> . <br> <br>  XHML- <br> XSL-    XHTML- (   ).  XHTML-,  ,   <strong></strong> . <br> <br>      . <br> <br>   XHML-  ,    ,       : <br>  (   ).    -    ,      . / . <br>        HTML-: <br> <code><a href="https://habr.com/ru/post/22236/"></a> <a href="https://habr.com/ru/post/22236/"></a> <a href="https://habr.com/ru/post/22236/"></a> ... <br> <br>   <br> <br> <br> ... <br> <br>    <br> <br> ... <br> <br>   <br> <br> ... <br> <br>  <br> <br> ...</code> <br> <br>   XSL- <br>   XSL-   : <br> <code>&lt;xsl:stylesheet version = '1.0' encoding="UTF-8"?&gt; <br> &lt;xsl:template match="element"&gt; <br>   <br> &lt;/xsl:template&gt; <br> &lt;/xsl:stylesheet&gt;</code> <br> <br> : <code>&lt;xsl:stylesheet version = '1.0' encoding="UTF-8"?&gt;</code> -   <strong>XML-</strong>  .   <strong>UTF-8</strong> ( , ). <br> <code>&lt;xsl:stylesheet&gt; &lt;/xsl:stylesheet&gt;</code> -    XSL-. <br> <code>&lt;xsl:template match="element"&gt; &lt;/xsl:template&gt;</code> -       element. <br> <br>       : <br> <code>&lt;xsl:template match="element"&gt;&lt;/xsl:template&gt;</code> - ,     <strong>element</strong> .      <strong>element</strong> . <code>&lt;xsl:template match="element" mode="mode1"&gt;&lt;/xsl:template&gt;</code> - ,     <strong>element</strong>   <strong>mode1</strong> .         <strong>element</strong> . <code>&lt;xsl:template name="template-name"&gt;&lt;/xsl:template&gt;</code> -    <strong>template-name</strong> .     -  <strong>XML-</strong> . <br>           <strong>XML-</strong> (,  XML-,    item      ),      " "  : <br> <code>&lt;xsl:template match="navigation/sections/item"&gt;&lt;/xsl:template&gt;</code> <br>  ,    , ..,      ,  ,  , ..      <strong>navigation</strong> ,      <strong>navigation/sections/item</strong>     <strong>sections/item</strong> . <br> <br>    <br>  ,         -      .  ,        <strong>xsl-</strong> .            . <br> <br>       <strong>xsl</strong>    . <br> <br> ,        (       )   : <br> <strong>template_folder</strong> -    .      ,  <strong>my_template</strong> . <strong>dtd</strong> -    .   . <strong>lang</strong> -      (      ). <strong>mod</strong> -  . <br>       <strong>xsl/my_template</strong>   ,  <strong>layout.xsl</strong>  : <br> <code>&lt;?xml version="1.0" encoding="UTF-8"?&gt; <br> &lt;!DOCTYPE xsl:stylesheet SYSTEM "../dtd/entities.dtd"&gt; <br> &lt;xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform"&gt; <br> <br> &lt;xsl:template match="/node()"&gt; <br> &lt;/xsl:template&gt; <br> <br> &lt;/xsl:stylesheet&gt; <br></code> <br> : <br> <code>&lt;xsl:template match="/node()"&gt; &lt;/xsl:template&gt;</code> -    <strong>/node()</strong> ().  <strong>/node()</strong>   <strong>//document</strong> , ..      . <br> <br>   XHTML-   <code>&lt;xsl:template match="/node()"&gt;&lt;/xsl:template&gt;</code> <br> <br>        <strong>XML-</strong> .   , <strong>XSL-</strong>   <strong>XML-</strong>  <strong>XHTML-</strong>  . <br> <br> ,    <strong>XSL</strong>   <strong>template.xsl</strong> (, <strong>template</strong> -   ),     : <br> <code>&lt;?xml version="1.0" encoding="UTF-8"?&gt; <br> &lt;xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform"&gt; <br> <br> &lt;xsl:import href=" my_template /layout.xsl"/&gt; <br> &lt;/xsl:stylesheet&gt; <br></code> <br> : <br> <code>&lt;xsl:import href="my_template/layout.xsl"/&gt;</code> <br>    XSL- ( <strong>XSL-</strong> )   .     . <br> <br>       <br>       , ..     XML-    . <br> <br>   -    . <br> <br>        ,   <strong>XML-</strong>   : <br> <code><br> &lt;item id="0" parent_id="0" is_published="1" section="1"&gt; <br>  <br> / <br> <br> &lt;item id="1" parent_id="0" is_published="1" section="1" hit="yes"&gt; <br>  <br> news <br> <br></code> <br> <br> <br>      : <br>  <strong>id</strong>    <strong>document</strong> -    <strong>id</strong>  .  <strong>hit</strong>   <strong>item</strong> -   ,   ,    "  ". <br> ,  ,         : <br> <strong>sections</strong> -   . <strong>item</strong> -  . <br>  ,  ,   <strong>item</strong>     <strong>item</strong> ,   ,     : <br> <code><br> <br></code> <br> <br> 1.    xsl/my_template  navigation.xsl  : <br> <code>&lt;?xml version="1.0" encoding="UTF-8"?&gt; <br> &lt;!DOCTYPE xsl:stylesheet SYSTEM "../dtd/entities.dtd"&gt; <br> &lt;xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform"&gt; <br> <br> &lt;xsl:template match="sections" mode="global_menu"&gt; <br> &lt;/xsl:template&gt; <br> <br> &lt;/xsl:stylesheet&gt;</code> <br> <br> 2.         <strong>layout.xsl</strong> : <br> <code><a href="https://habr.com/"></a> <a href="https://habr.com/sections/"></a> <a href="https://habr.com/news/"></a> <br> &lt;xsl:template match="sections" mode="global_menu"&gt; <br>    <br> &lt;/xsl:template&gt; <br></code> <br> <br> 3. ‚Ä¶      <strong>layout.xsl</strong>     : <br> <code><br> &lt;xsl:apply-templates select="navigation/sections" mode="global_menu"/&gt; <br> <br></code> <br> : <br> <strong>select="navigation/sections"</strong> -  ( ) - .  ,     <strong>navigation/sections</strong> . <br> <br> <strong>mode="global_menu"</strong> -     <strong>global_menu</strong> .      ,        , ,  " ",  -         . <br> <br> 4. ,    layout.xsl     <strong>navigation.xsl</strong> : <br> <code>&lt;xsl:import href="navigation.xsl"/&gt;</code> <br> <br> 5. ,    <strong>navigation.xsl</strong>   ,    : <br> <code><br> &lt;xsl:template match="item" mode="global_menu"&gt; <br> &lt;xsl:call-template name="href_attribute"/&gt; <br> &lt;xsl:value-of select="title"/&gt; <br> <br> <br> &lt;/xsl:template&gt; <br> <br></code> <br> : <br> <code>&lt;xsl:call-template name="href_attribute"/&gt;</code> -    .        , ..  . <br> <br> <code>&lt;xsl:value-of select="title"/&gt;</code> - -   title  .         <strong>@</strong> -      . <br> <br> 6.    <strong>sections</strong> : <br> <code><br> &lt;xsl:template match="sections" mode="global_menu"&gt; <br> <br> &lt;/xsl:template&gt; <br> <br></code> <br> : <br> <code>&lt;xsl:apply-templates select="item" mode="global_menu"/&gt;</code> -    <strong>item</strong>  <strong>sections</strong> .  ,  <strong>item</strong>   <strong>item</strong> ( <strong>sections/item/item</strong> )   , ..      . <br> <br>     <strong>item</strong> ( )   .  ,         : <code>&lt;xsl:call-template name="href_attribute"/&gt;</code> <br> <br>      <strong>uri-</strong>    .    . <br> <br> 7.     , <br>   ,    .            <strong>item</strong> : <br> <code><br> &lt;xsl:template match="item" mode="global_menu"&gt; <br> <br> &lt;xsl:choose&gt; <br> <br> &lt;xsl:when test="descendant-or-self::*/@id = /node()/@id"&gt; <br> &lt;xsl:value-of select="title"/&gt; <br> &lt;/xsl:when&gt; <br> <br> &lt;xsl:otherwise&gt; <br> &lt;xsl:call-template name="href_attribute"/&gt; <br> &lt;xsl:value-of select="title"/&gt; <br> <br> &lt;/xsl:otherwise&gt; <br> &lt;/xsl:choose&gt; <br> <br> &lt;/xsl:template&gt; <br> <br></code> <br>      : <br> <code>&lt;xsl:choose&gt; <br> &lt;xsl:when&gt;&lt;/xsl:when&gt; <br> &lt;xsl:otherwise&gt;&lt;/xsl:otherwise&gt; <br> &lt;/xsl:choose&gt; <br></code> <br> ‚Ä¶, ,     <strong>XML-</strong> .      : <code>&lt;xsl:when test="descendant-or-self::*/@id = /node()/@id"&gt;</code> <br> <br>        <strong>ID</strong>    ( <strong>document</strong> )    ( <strong>item</strong> ),   ,    . <br> <br>   <code>&lt;xsl:when&gt;&lt;/xsl:when&gt;</code>  ,      .   <code>&lt;xsl:otherwise&gt;&lt;/xsl:otherwise&gt;</code> -    . <br> <br> 8. ,   <strong>href_attribute</strong> : <br> <code><br> &lt;xsl:template name="href_attribute"&gt; <br> &lt;xsl:attribute name="href"&gt; <br> &lt;xsl:text&gt;/&lt;/xsl:text&gt; <br> &lt;xsl:for-each select="ancestor-or-self::item"&gt; <br> &lt;xsl:value-of select="dir"/&gt; <br> &lt;xsl:text&gt;/&lt;/xsl:text&gt; <br> &lt;/xsl:for-each&gt; <br> &lt;/xsl:attribute&gt; <br> &lt;/xsl:template&gt; <br></code> <br> <br>      <strong>xsl:attribute</strong> .          .         <strong>a</strong> , ,      <strong>href</strong> , .. . <br> <br>  <code>&lt;xsl:for-each select="ancestor-or-self::item"&gt;</code>      ,  .      <strong>ancestor-or-self::item</strong> -         .           <strong>dir</strong> , ..     -. <br> <br> ,   -  ,       . ,   <a href="http://habrahabr.ru/blog/webdev/38433.html">  </a> . <br> <br> <strong>UPD:</strong> <br>   .   ,  : <br> <a href="">parser.proc.ru/iso/xslt-1.zip</a> <br> <br>        (       )           Apache. <br> <br>    XML-   /xsl/document.xml</code></code></code></code></code> </h2> <code><code><code><code><code><code>-    (   ). : <br> <strong>Lang</strong> -  .     . <strong>Id</strong> -   . <br> &lt;lang_table&gt;</code> -  ,   . <br> <code>-   : <br> -    (  ): <br> &lt;item id="0" parent_id="0" is_published="1" section="1"&gt;</code> -   . : <br> <strong>Id</strong> -  . <strong>Parent_id</strong> -   . <strong>Is_published</strong> -   . <strong>Dir</strong> - uri- .     . <strong>Section</strong> -  .         . <br> <code>-  . <br>   CMS   :        : <br> <strong>Html</strong> -  .  ,    . <strong>Com</strong> - -.  ,      CMS: , ,    .. <br>  <strong>XSL-</strong>   ,     .       . <br> <br> CMS       <strong> ,      : <br> : <br> <strong>Id</strong> -  . <br> <strong>Container</strong> - - (    ). <br> <strong>Sorting</strong> -    . <br> <strong>Type</strong> - : <br> <strong>Com</strong> - - <br> <strong>Html</strong> -  . <br> <strong>Method</strong> -  . <br> <strong>Title</strong> -  . <br> <strong>DTD</strong>     (    ): <br> &lt;!DOCTYPE site_page [ <br> <br> &lt;!ENTITY nbsp " "&gt; <br> &lt;!ENTITY sect "¬ß" &gt; <br> &lt;!ENTITY copy "¬©"&gt; <br> &lt;!ENTITY laquo "¬´"&gt; <br> &lt;!ENTITY reg "¬Æ"&gt; <br> &lt;!ENTITY deg "¬∞"&gt; <br> &lt;!ENTITY plusmn "¬±"&gt; <br> &lt;!ENTITY para "¬∂"&gt; <br> &lt;!ENTITY raquo "¬ª"&gt; <br> &lt;!ENTITY times "√ó"&gt; <br> <br> <br> <br> &lt;!ENTITY bull "‚Ä¢"&gt; <br> &lt;!ENTITY hellip "‚Ä¶"&gt; <br> <br> <br> <br> &lt;!ENTITY ndash "‚Äì"&gt; <br> &lt;!ENTITY mdash "‚Äî"&gt; <br> &lt;!ENTITY lsquo "'"&gt; <br> &lt;!ENTITY rsquo "'"&gt; <br> &lt;!ENTITY sbquo "‚Äö"&gt; <br> &lt;!ENTITY ldquo "‚Äú"&gt; <br> &lt;!ENTITY rdquo "‚Äù"&gt; <br> &lt;!ENTITY bdquo "‚Äû"&gt; <br> &lt;!ENTITY lsaquo "‚Äπ"&gt; <br> &lt;!ENTITY rsaquo "‚Ä∫" &gt; <br> &lt;!ENTITY euro "‚Ç¨"&gt; <br> ]&gt; <br></strong></code> <br>      <strong>XML-</strong> .   <code>&lt;?xml version="1.0" encoding="windows-1251"?&gt;</code> . <br> <br>  XHML- <br> XSL-    XHTML- (   ).  XHTML-,  ,   <strong></strong> . <br> <br>      . <br> <br>   XHML-  ,    ,       : <br>  (   ).    -    ,      . / . <br>        HTML-: <br> <code><a href="https://habr.com/ru/post/22236/"></a> <a href="https://habr.com/ru/post/22236/"></a> <a href="https://habr.com/ru/post/22236/"></a> ... <br> <br>   <br> <br> <br> ... <br> <br>    <br> <br> ... <br> <br>   <br> <br> ... <br> <br>  <br> <br> ...</code> <br> <br>   XSL- <br>   XSL-   : <br> <code>&lt;xsl:stylesheet version = '1.0' encoding="UTF-8"?&gt; <br> &lt;xsl:template match="element"&gt; <br>   <br> &lt;/xsl:template&gt; <br> &lt;/xsl:stylesheet&gt;</code> <br> <br> : <code>&lt;xsl:stylesheet version = '1.0' encoding="UTF-8"?&gt;</code> -   <strong>XML-</strong>  .   <strong>UTF-8</strong> ( , ). <br> <code>&lt;xsl:stylesheet&gt; &lt;/xsl:stylesheet&gt;</code> -    XSL-. <br> <code>&lt;xsl:template match="element"&gt; &lt;/xsl:template&gt;</code> -       element. <br> <br>       : <br> <code>&lt;xsl:template match="element"&gt;&lt;/xsl:template&gt;</code> - ,     <strong>element</strong> .      <strong>element</strong> . <code>&lt;xsl:template match="element" mode="mode1"&gt;&lt;/xsl:template&gt;</code> - ,     <strong>element</strong>   <strong>mode1</strong> .         <strong>element</strong> . <code>&lt;xsl:template name="template-name"&gt;&lt;/xsl:template&gt;</code> -    <strong>template-name</strong> .     -  <strong>XML-</strong> . <br>           <strong>XML-</strong> (,  XML-,    item      ),      " "  : <br> <code>&lt;xsl:template match="navigation/sections/item"&gt;&lt;/xsl:template&gt;</code> <br>  ,    , ..,      ,  ,  , ..      <strong>navigation</strong> ,      <strong>navigation/sections/item</strong>     <strong>sections/item</strong> . <br> <br>    <br>  ,         -      .  ,        <strong>xsl-</strong> .            . <br> <br>       <strong>xsl</strong>    . <br> <br> ,        (       )   : <br> <strong>template_folder</strong> -    .      ,  <strong>my_template</strong> . <strong>dtd</strong> -    .   . <strong>lang</strong> -      (      ). <strong>mod</strong> -  . <br>       <strong>xsl/my_template</strong>   ,  <strong>layout.xsl</strong>  : <br> <code>&lt;?xml version="1.0" encoding="UTF-8"?&gt; <br> &lt;!DOCTYPE xsl:stylesheet SYSTEM "../dtd/entities.dtd"&gt; <br> &lt;xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform"&gt; <br> <br> &lt;xsl:template match="/node()"&gt; <br> &lt;/xsl:template&gt; <br> <br> &lt;/xsl:stylesheet&gt; <br></code> <br> : <br> <code>&lt;xsl:template match="/node()"&gt; &lt;/xsl:template&gt;</code> -    <strong>/node()</strong> ().  <strong>/node()</strong>   <strong>//document</strong> , ..      . <br> <br>   XHTML-   <code>&lt;xsl:template match="/node()"&gt;&lt;/xsl:template&gt;</code> <br> <br>        <strong>XML-</strong> .   , <strong>XSL-</strong>   <strong>XML-</strong>  <strong>XHTML-</strong>  . <br> <br> ,    <strong>XSL</strong>   <strong>template.xsl</strong> (, <strong>template</strong> -   ),     : <br> <code>&lt;?xml version="1.0" encoding="UTF-8"?&gt; <br> &lt;xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform"&gt; <br> <br> &lt;xsl:import href=" my_template /layout.xsl"/&gt; <br> &lt;/xsl:stylesheet&gt; <br></code> <br> : <br> <code>&lt;xsl:import href="my_template/layout.xsl"/&gt;</code> <br>    XSL- ( <strong>XSL-</strong> )   .     . <br> <br>       <br>       , ..     XML-    . <br> <br>   -    . <br> <br>        ,   <strong>XML-</strong>   : <br> <code><br> &lt;item id="0" parent_id="0" is_published="1" section="1"&gt; <br>  <br> / <br> <br> &lt;item id="1" parent_id="0" is_published="1" section="1" hit="yes"&gt; <br>  <br> news <br> <br></code> <br> <br> <br>      : <br>  <strong>id</strong>    <strong>document</strong> -    <strong>id</strong>  .  <strong>hit</strong>   <strong>item</strong> -   ,   ,    "  ". <br> ,  ,         : <br> <strong>sections</strong> -   . <strong>item</strong> -  . <br>  ,  ,   <strong>item</strong>     <strong>item</strong> ,   ,     : <br> <code><br> <br></code> <br> <br> 1.    xsl/my_template  navigation.xsl  : <br> <code>&lt;?xml version="1.0" encoding="UTF-8"?&gt; <br> &lt;!DOCTYPE xsl:stylesheet SYSTEM "../dtd/entities.dtd"&gt; <br> &lt;xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform"&gt; <br> <br> &lt;xsl:template match="sections" mode="global_menu"&gt; <br> &lt;/xsl:template&gt; <br> <br> &lt;/xsl:stylesheet&gt;</code> <br> <br> 2.         <strong>layout.xsl</strong> : <br> <code><a href="https://habr.com/"></a> <a href="https://habr.com/sections/"></a> <a href="https://habr.com/news/"></a> <br> &lt;xsl:template match="sections" mode="global_menu"&gt; <br>    <br> &lt;/xsl:template&gt; <br></code> <br> <br> 3. ‚Ä¶      <strong>layout.xsl</strong>     : <br> <code><br> &lt;xsl:apply-templates select="navigation/sections" mode="global_menu"/&gt; <br> <br></code> <br> : <br> <strong>select="navigation/sections"</strong> -  ( ) - .  ,     <strong>navigation/sections</strong> . <br> <br> <strong>mode="global_menu"</strong> -     <strong>global_menu</strong> .      ,        , ,  " ",  -         . <br> <br> 4. ,    layout.xsl     <strong>navigation.xsl</strong> : <br> <code>&lt;xsl:import href="navigation.xsl"/&gt;</code> <br> <br> 5. ,    <strong>navigation.xsl</strong>   ,    : <br> <code><br> &lt;xsl:template match="item" mode="global_menu"&gt; <br> &lt;xsl:call-template name="href_attribute"/&gt; <br> &lt;xsl:value-of select="title"/&gt; <br> <br> <br> &lt;/xsl:template&gt; <br> <br></code> <br> : <br> <code>&lt;xsl:call-template name="href_attribute"/&gt;</code> -    .        , ..  . <br> <br> <code>&lt;xsl:value-of select="title"/&gt;</code> - -   title  .         <strong>@</strong> -      . <br> <br> 6.    <strong>sections</strong> : <br> <code><br> &lt;xsl:template match="sections" mode="global_menu"&gt; <br> <br> &lt;/xsl:template&gt; <br> <br></code> <br> : <br> <code>&lt;xsl:apply-templates select="item" mode="global_menu"/&gt;</code> -    <strong>item</strong>  <strong>sections</strong> .  ,  <strong>item</strong>   <strong>item</strong> ( <strong>sections/item/item</strong> )   , ..      . <br> <br>     <strong>item</strong> ( )   .  ,         : <code>&lt;xsl:call-template name="href_attribute"/&gt;</code> <br> <br>      <strong>uri-</strong>    .    . <br> <br> 7.     , <br>   ,    .            <strong>item</strong> : <br> <code><br> &lt;xsl:template match="item" mode="global_menu"&gt; <br> <br> &lt;xsl:choose&gt; <br> <br> &lt;xsl:when test="descendant-or-self::*/@id = /node()/@id"&gt; <br> &lt;xsl:value-of select="title"/&gt; <br> &lt;/xsl:when&gt; <br> <br> &lt;xsl:otherwise&gt; <br> &lt;xsl:call-template name="href_attribute"/&gt; <br> &lt;xsl:value-of select="title"/&gt; <br> <br> &lt;/xsl:otherwise&gt; <br> &lt;/xsl:choose&gt; <br> <br> &lt;/xsl:template&gt; <br> <br></code> <br>      : <br> <code>&lt;xsl:choose&gt; <br> &lt;xsl:when&gt;&lt;/xsl:when&gt; <br> &lt;xsl:otherwise&gt;&lt;/xsl:otherwise&gt; <br> &lt;/xsl:choose&gt; <br></code> <br> ‚Ä¶, ,     <strong>XML-</strong> .      : <code>&lt;xsl:when test="descendant-or-self::*/@id = /node()/@id"&gt;</code> <br> <br>        <strong>ID</strong>    ( <strong>document</strong> )    ( <strong>item</strong> ),   ,    . <br> <br>   <code>&lt;xsl:when&gt;&lt;/xsl:when&gt;</code>  ,      .   <code>&lt;xsl:otherwise&gt;&lt;/xsl:otherwise&gt;</code> -    . <br> <br> 8. ,   <strong>href_attribute</strong> : <br> <code><br> &lt;xsl:template name="href_attribute"&gt; <br> &lt;xsl:attribute name="href"&gt; <br> &lt;xsl:text&gt;/&lt;/xsl:text&gt; <br> &lt;xsl:for-each select="ancestor-or-self::item"&gt; <br> &lt;xsl:value-of select="dir"/&gt; <br> &lt;xsl:text&gt;/&lt;/xsl:text&gt; <br> &lt;/xsl:for-each&gt; <br> &lt;/xsl:attribute&gt; <br> &lt;/xsl:template&gt; <br></code> <br> <br>      <strong>xsl:attribute</strong> .          .         <strong>a</strong> , ,      <strong>href</strong> , .. . <br> <br>  <code>&lt;xsl:for-each select="ancestor-or-self::item"&gt;</code>      ,  .      <strong>ancestor-or-self::item</strong> -         .           <strong>dir</strong> , ..     -. <br> <br> ,   -  ,       . ,   <a href="http://habrahabr.ru/blog/webdev/38433.html">  </a> . <br> <br> <strong>UPD:</strong> <br>   .   ,  : <br> <a href="">parser.proc.ru/iso/xslt-1.zip</a> <br> <br>        (       )           Apache. <br> <br>    XML-   /xsl/document.xml</code></code></code></code></code> <ul><li> <code><code><code><code><code><code>-    (   ). : <br> <strong>Lang</strong> -  .     . <strong>Id</strong> -   . <br> &lt;lang_table&gt;</code> -  ,   . <br> <code>-   : <br> -    (  ): <br> &lt;item id="0" parent_id="0" is_published="1" section="1"&gt;</code> -   . : <br> <strong>Id</strong> -  . <strong>Parent_id</strong> -   . <strong>Is_published</strong> -   . <strong>Dir</strong> - uri- .     . <strong>Section</strong> -  .         . <br> <code>-  . <br>   CMS   :        : <br> <strong>Html</strong> -  .  ,    . <strong>Com</strong> - -.  ,      CMS: , ,    .. <br>  <strong>XSL-</strong>   ,     .       . <br> <br> CMS       <strong> ,      : <br> : <br> <strong>Id</strong> -  . <br> <strong>Container</strong> - - (    ). <br> <strong>Sorting</strong> -    . <br> <strong>Type</strong> - : <br> <strong>Com</strong> - - <br> <strong>Html</strong> -  . <br> <strong>Method</strong> -  . <br> <strong>Title</strong> -  . <br> <strong>DTD</strong>     (    ): <br> &lt;!DOCTYPE site_page [ <br> <br> &lt;!ENTITY nbsp " "&gt; <br> &lt;!ENTITY sect "¬ß" &gt; <br> &lt;!ENTITY copy "¬©"&gt; <br> &lt;!ENTITY laquo "¬´"&gt; <br> &lt;!ENTITY reg "¬Æ"&gt; <br> &lt;!ENTITY deg "¬∞"&gt; <br> &lt;!ENTITY plusmn "¬±"&gt; <br> &lt;!ENTITY para "¬∂"&gt; <br> &lt;!ENTITY raquo "¬ª"&gt; <br> &lt;!ENTITY times "√ó"&gt; <br> <br> <br> <br> &lt;!ENTITY bull "‚Ä¢"&gt; <br> &lt;!ENTITY hellip "‚Ä¶"&gt; <br> <br> <br> <br> &lt;!ENTITY ndash "‚Äì"&gt; <br> &lt;!ENTITY mdash "‚Äî"&gt; <br> &lt;!ENTITY lsquo "'"&gt; <br> &lt;!ENTITY rsquo "'"&gt; <br> &lt;!ENTITY sbquo "‚Äö"&gt; <br> &lt;!ENTITY ldquo "‚Äú"&gt; <br> &lt;!ENTITY rdquo "‚Äù"&gt; <br> &lt;!ENTITY bdquo "‚Äû"&gt; <br> &lt;!ENTITY lsaquo "‚Äπ"&gt; <br> &lt;!ENTITY rsaquo "‚Ä∫" &gt; <br> &lt;!ENTITY euro "‚Ç¨"&gt; <br> ]&gt; <br></strong></code> <br>      <strong>XML-</strong> .   <code>&lt;?xml version="1.0" encoding="windows-1251"?&gt;</code> . <br> <br>  XHML- <br> XSL-    XHTML- (   ).  XHTML-,  ,   <strong></strong> . <br> <br>      . <br> <br>   XHML-  ,    ,       : <br>  (   ).    -    ,      . / . <br>        HTML-: <br> <code><a href="https://habr.com/ru/post/22236/"></a> <a href="https://habr.com/ru/post/22236/"></a> <a href="https://habr.com/ru/post/22236/"></a> ... <br> <br>   <br> <br> <br> ... <br> <br>    <br> <br> ... <br> <br>   <br> <br> ... <br> <br>  <br> <br> ...</code> <br> <br>   XSL- <br>   XSL-   : <br> <code>&lt;xsl:stylesheet version = '1.0' encoding="UTF-8"?&gt; <br> &lt;xsl:template match="element"&gt; <br>   <br> &lt;/xsl:template&gt; <br> &lt;/xsl:stylesheet&gt;</code> <br> <br> : <code>&lt;xsl:stylesheet version = '1.0' encoding="UTF-8"?&gt;</code> -   <strong>XML-</strong>  .   <strong>UTF-8</strong> ( , ). <br> <code>&lt;xsl:stylesheet&gt; &lt;/xsl:stylesheet&gt;</code> -    XSL-. <br> <code>&lt;xsl:template match="element"&gt; &lt;/xsl:template&gt;</code> -       element. <br> <br>       : <br> <code>&lt;xsl:template match="element"&gt;&lt;/xsl:template&gt;</code> - ,     <strong>element</strong> .      <strong>element</strong> . <code>&lt;xsl:template match="element" mode="mode1"&gt;&lt;/xsl:template&gt;</code> - ,     <strong>element</strong>   <strong>mode1</strong> .         <strong>element</strong> . <code>&lt;xsl:template name="template-name"&gt;&lt;/xsl:template&gt;</code> -    <strong>template-name</strong> .     -  <strong>XML-</strong> . <br>           <strong>XML-</strong> (,  XML-,    item      ),      " "  : <br> <code>&lt;xsl:template match="navigation/sections/item"&gt;&lt;/xsl:template&gt;</code> <br>  ,    , ..,      ,  ,  , ..      <strong>navigation</strong> ,      <strong>navigation/sections/item</strong>     <strong>sections/item</strong> . <br> <br>    <br>  ,         -      .  ,        <strong>xsl-</strong> .            . <br> <br>       <strong>xsl</strong>    . <br> <br> ,        (       )   : <br> <strong>template_folder</strong> -    .      ,  <strong>my_template</strong> . <strong>dtd</strong> -    .   . <strong>lang</strong> -      (      ). <strong>mod</strong> -  . <br>       <strong>xsl/my_template</strong>   ,  <strong>layout.xsl</strong>  : <br> <code>&lt;?xml version="1.0" encoding="UTF-8"?&gt; <br> &lt;!DOCTYPE xsl:stylesheet SYSTEM "../dtd/entities.dtd"&gt; <br> &lt;xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform"&gt; <br> <br> &lt;xsl:template match="/node()"&gt; <br> &lt;/xsl:template&gt; <br> <br> &lt;/xsl:stylesheet&gt; <br></code> <br> : <br> <code>&lt;xsl:template match="/node()"&gt; &lt;/xsl:template&gt;</code> -    <strong>/node()</strong> ().  <strong>/node()</strong>   <strong>//document</strong> , ..      . <br> <br>   XHTML-   <code>&lt;xsl:template match="/node()"&gt;&lt;/xsl:template&gt;</code> <br> <br>        <strong>XML-</strong> .   , <strong>XSL-</strong>   <strong>XML-</strong>  <strong>XHTML-</strong>  . <br> <br> ,    <strong>XSL</strong>   <strong>template.xsl</strong> (, <strong>template</strong> -   ),     : <br> <code>&lt;?xml version="1.0" encoding="UTF-8"?&gt; <br> &lt;xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform"&gt; <br> <br> &lt;xsl:import href=" my_template /layout.xsl"/&gt; <br> &lt;/xsl:stylesheet&gt; <br></code> <br> : <br> <code>&lt;xsl:import href="my_template/layout.xsl"/&gt;</code> <br>    XSL- ( <strong>XSL-</strong> )   .     . <br> <br>       <br>       , ..     XML-    . <br> <br>   -    . <br> <br>        ,   <strong>XML-</strong>   : <br> <code><br> &lt;item id="0" parent_id="0" is_published="1" section="1"&gt; <br>  <br> / <br> <br> &lt;item id="1" parent_id="0" is_published="1" section="1" hit="yes"&gt; <br>  <br> news <br> <br></code> <br> <br> <br>      : <br>  <strong>id</strong>    <strong>document</strong> -    <strong>id</strong>  .  <strong>hit</strong>   <strong>item</strong> -   ,   ,    "  ". <br> ,  ,         : <br> <strong>sections</strong> -   . <strong>item</strong> -  . <br>  ,  ,   <strong>item</strong>     <strong>item</strong> ,   ,     : <br> <code><br> <br></code> <br> <br> 1.    xsl/my_template  navigation.xsl  : <br> <code>&lt;?xml version="1.0" encoding="UTF-8"?&gt; <br> &lt;!DOCTYPE xsl:stylesheet SYSTEM "../dtd/entities.dtd"&gt; <br> &lt;xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform"&gt; <br> <br> &lt;xsl:template match="sections" mode="global_menu"&gt; <br> &lt;/xsl:template&gt; <br> <br> &lt;/xsl:stylesheet&gt;</code> <br> <br> 2.         <strong>layout.xsl</strong> : <br> <code><a href="https://habr.com/"></a> <a href="https://habr.com/sections/"></a> <a href="https://habr.com/news/"></a> <br> &lt;xsl:template match="sections" mode="global_menu"&gt; <br>    <br> &lt;/xsl:template&gt; <br></code> <br> <br> 3. ‚Ä¶      <strong>layout.xsl</strong>     : <br> <code><br> &lt;xsl:apply-templates select="navigation/sections" mode="global_menu"/&gt; <br> <br></code> <br> : <br> <strong>select="navigation/sections"</strong> -  ( ) - .  ,     <strong>navigation/sections</strong> . <br> <br> <strong>mode="global_menu"</strong> -     <strong>global_menu</strong> .      ,        , ,  " ",  -         . <br> <br> 4. ,    layout.xsl     <strong>navigation.xsl</strong> : <br> <code>&lt;xsl:import href="navigation.xsl"/&gt;</code> <br> <br> 5. ,    <strong>navigation.xsl</strong>   ,    : <br> <code><br> &lt;xsl:template match="item" mode="global_menu"&gt; <br> &lt;xsl:call-template name="href_attribute"/&gt; <br> &lt;xsl:value-of select="title"/&gt; <br> <br> <br> &lt;/xsl:template&gt; <br> <br></code> <br> : <br> <code>&lt;xsl:call-template name="href_attribute"/&gt;</code> -    .        , ..  . <br> <br> <code>&lt;xsl:value-of select="title"/&gt;</code> - -   title  .         <strong>@</strong> -      . <br> <br> 6.    <strong>sections</strong> : <br> <code><br> &lt;xsl:template match="sections" mode="global_menu"&gt; <br> <br> &lt;/xsl:template&gt; <br> <br></code> <br> : <br> <code>&lt;xsl:apply-templates select="item" mode="global_menu"/&gt;</code> -    <strong>item</strong>  <strong>sections</strong> .  ,  <strong>item</strong>   <strong>item</strong> ( <strong>sections/item/item</strong> )   , ..      . <br> <br>     <strong>item</strong> ( )   .  ,         : <code>&lt;xsl:call-template name="href_attribute"/&gt;</code> <br> <br>      <strong>uri-</strong>    .    . <br> <br> 7.     , <br>   ,    .            <strong>item</strong> : <br> <code><br> &lt;xsl:template match="item" mode="global_menu"&gt; <br> <br> &lt;xsl:choose&gt; <br> <br> &lt;xsl:when test="descendant-or-self::*/@id = /node()/@id"&gt; <br> &lt;xsl:value-of select="title"/&gt; <br> &lt;/xsl:when&gt; <br> <br> &lt;xsl:otherwise&gt; <br> &lt;xsl:call-template name="href_attribute"/&gt; <br> &lt;xsl:value-of select="title"/&gt; <br> <br> &lt;/xsl:otherwise&gt; <br> &lt;/xsl:choose&gt; <br> <br> &lt;/xsl:template&gt; <br> <br></code> <br>      : <br> <code>&lt;xsl:choose&gt; <br> &lt;xsl:when&gt;&lt;/xsl:when&gt; <br> &lt;xsl:otherwise&gt;&lt;/xsl:otherwise&gt; <br> &lt;/xsl:choose&gt; <br></code> <br> ‚Ä¶, ,     <strong>XML-</strong> .      : <code>&lt;xsl:when test="descendant-or-self::*/@id = /node()/@id"&gt;</code> <br> <br>        <strong>ID</strong>    ( <strong>document</strong> )    ( <strong>item</strong> ),   ,    . <br> <br>   <code>&lt;xsl:when&gt;&lt;/xsl:when&gt;</code>  ,      .   <code>&lt;xsl:otherwise&gt;&lt;/xsl:otherwise&gt;</code> -    . <br> <br> 8. ,   <strong>href_attribute</strong> : <br> <code><br> &lt;xsl:template name="href_attribute"&gt; <br> &lt;xsl:attribute name="href"&gt; <br> &lt;xsl:text&gt;/&lt;/xsl:text&gt; <br> &lt;xsl:for-each select="ancestor-or-self::item"&gt; <br> &lt;xsl:value-of select="dir"/&gt; <br> &lt;xsl:text&gt;/&lt;/xsl:text&gt; <br> &lt;/xsl:for-each&gt; <br> &lt;/xsl:attribute&gt; <br> &lt;/xsl:template&gt; <br></code> <br> <br>      <strong>xsl:attribute</strong> .          .         <strong>a</strong> , ,      <strong>href</strong> , .. . <br> <br>  <code>&lt;xsl:for-each select="ancestor-or-self::item"&gt;</code>      ,  .      <strong>ancestor-or-self::item</strong> -         .           <strong>dir</strong> , ..     -. <br> <br> ,   -  ,       . ,   <a href="http://habrahabr.ru/blog/webdev/38433.html">  </a> . <br> <br> <strong>UPD:</strong> <br>   .   ,  : <br> <a href="">parser.proc.ru/iso/xslt-1.zip</a> <br> <br>        (       )           Apache. <br> <br>    XML-   /xsl/document.xml</code></code></code></code></code> </li> <li> <code><code><code><code><code><code>-    (   ). : <br> <strong>Lang</strong> -  .     . <strong>Id</strong> -   . <br> &lt;lang_table&gt;</code> -  ,   . <br> <code>-   : <br> -    (  ): <br> &lt;item id="0" parent_id="0" is_published="1" section="1"&gt;</code> -   . : <br> <strong>Id</strong> -  . <strong>Parent_id</strong> -   . <strong>Is_published</strong> -   . <strong>Dir</strong> - uri- .     . <strong>Section</strong> -  .         . <br> <code>-  . <br>   CMS   :        : <br> <strong>Html</strong> -  .  ,    . <strong>Com</strong> - -.  ,      CMS: , ,    .. <br>  <strong>XSL-</strong>   ,     .       . <br> <br> CMS       <strong> ,      : <br> : <br> <strong>Id</strong> -  . <br> <strong>Container</strong> - - (    ). <br> <strong>Sorting</strong> -    . <br> <strong>Type</strong> - : <br> <strong>Com</strong> - - <br> <strong>Html</strong> -  . <br> <strong>Method</strong> -  . <br> <strong>Title</strong> -  . <br> <strong>DTD</strong>     (    ): <br> &lt;!DOCTYPE site_page [ <br> <br> &lt;!ENTITY nbsp " "&gt; <br> &lt;!ENTITY sect "¬ß" &gt; <br> &lt;!ENTITY copy "¬©"&gt; <br> &lt;!ENTITY laquo "¬´"&gt; <br> &lt;!ENTITY reg "¬Æ"&gt; <br> &lt;!ENTITY deg "¬∞"&gt; <br> &lt;!ENTITY plusmn "¬±"&gt; <br> &lt;!ENTITY para "¬∂"&gt; <br> &lt;!ENTITY raquo "¬ª"&gt; <br> &lt;!ENTITY times "√ó"&gt; <br> <br> <br> <br> &lt;!ENTITY bull "‚Ä¢"&gt; <br> &lt;!ENTITY hellip "‚Ä¶"&gt; <br> <br> <br> <br> &lt;!ENTITY ndash "‚Äì"&gt; <br> &lt;!ENTITY mdash "‚Äî"&gt; <br> &lt;!ENTITY lsquo "'"&gt; <br> &lt;!ENTITY rsquo "'"&gt; <br> &lt;!ENTITY sbquo "‚Äö"&gt; <br> &lt;!ENTITY ldquo "‚Äú"&gt; <br> &lt;!ENTITY rdquo "‚Äù"&gt; <br> &lt;!ENTITY bdquo "‚Äû"&gt; <br> &lt;!ENTITY lsaquo "‚Äπ"&gt; <br> &lt;!ENTITY rsaquo "‚Ä∫" &gt; <br> &lt;!ENTITY euro "‚Ç¨"&gt; <br> ]&gt; <br></strong></code> <br>      <strong>XML-</strong> .   <code>&lt;?xml version="1.0" encoding="windows-1251"?&gt;</code> . <br> <br>  XHML- <br> XSL-    XHTML- (   ).  XHTML-,  ,   <strong></strong> . <br> <br>      . <br> <br>   XHML-  ,    ,       : <br>  (   ).    -    ,      . / . <br>        HTML-: <br> <code><a href="https://habr.com/ru/post/22236/"></a> <a href="https://habr.com/ru/post/22236/"></a> <a href="https://habr.com/ru/post/22236/"></a> ... <br> <br>   <br> <br> <br> ... <br> <br>    <br> <br> ... <br> <br>   <br> <br> ... <br> <br>  <br> <br> ...</code> <br> <br>   XSL- <br>   XSL-   : <br> <code>&lt;xsl:stylesheet version = '1.0' encoding="UTF-8"?&gt; <br> &lt;xsl:template match="element"&gt; <br>   <br> &lt;/xsl:template&gt; <br> &lt;/xsl:stylesheet&gt;</code> <br> <br> : <code>&lt;xsl:stylesheet version = '1.0' encoding="UTF-8"?&gt;</code> -   <strong>XML-</strong>  .   <strong>UTF-8</strong> ( , ). <br> <code>&lt;xsl:stylesheet&gt; &lt;/xsl:stylesheet&gt;</code> -    XSL-. <br> <code>&lt;xsl:template match="element"&gt; &lt;/xsl:template&gt;</code> -       element. <br> <br>       : <br> <code>&lt;xsl:template match="element"&gt;&lt;/xsl:template&gt;</code> - ,     <strong>element</strong> .      <strong>element</strong> . <code>&lt;xsl:template match="element" mode="mode1"&gt;&lt;/xsl:template&gt;</code> - ,     <strong>element</strong>   <strong>mode1</strong> .         <strong>element</strong> . <code>&lt;xsl:template name="template-name"&gt;&lt;/xsl:template&gt;</code> -    <strong>template-name</strong> .     -  <strong>XML-</strong> . <br>           <strong>XML-</strong> (,  XML-,    item      ),      " "  : <br> <code>&lt;xsl:template match="navigation/sections/item"&gt;&lt;/xsl:template&gt;</code> <br>  ,    , ..,      ,  ,  , ..      <strong>navigation</strong> ,      <strong>navigation/sections/item</strong>     <strong>sections/item</strong> . <br> <br>    <br>  ,         -      .  ,        <strong>xsl-</strong> .            . <br> <br>       <strong>xsl</strong>    . <br> <br> ,        (       )   : <br> <strong>template_folder</strong> -    .      ,  <strong>my_template</strong> . <strong>dtd</strong> -    .   . <strong>lang</strong> -      (      ). <strong>mod</strong> -  . <br>       <strong>xsl/my_template</strong>   ,  <strong>layout.xsl</strong>  : <br> <code>&lt;?xml version="1.0" encoding="UTF-8"?&gt; <br> &lt;!DOCTYPE xsl:stylesheet SYSTEM "../dtd/entities.dtd"&gt; <br> &lt;xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform"&gt; <br> <br> &lt;xsl:template match="/node()"&gt; <br> &lt;/xsl:template&gt; <br> <br> &lt;/xsl:stylesheet&gt; <br></code> <br> : <br> <code>&lt;xsl:template match="/node()"&gt; &lt;/xsl:template&gt;</code> -    <strong>/node()</strong> ().  <strong>/node()</strong>   <strong>//document</strong> , ..      . <br> <br>   XHTML-   <code>&lt;xsl:template match="/node()"&gt;&lt;/xsl:template&gt;</code> <br> <br>        <strong>XML-</strong> .   , <strong>XSL-</strong>   <strong>XML-</strong>  <strong>XHTML-</strong>  . <br> <br> ,    <strong>XSL</strong>   <strong>template.xsl</strong> (, <strong>template</strong> -   ),     : <br> <code>&lt;?xml version="1.0" encoding="UTF-8"?&gt; <br> &lt;xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform"&gt; <br> <br> &lt;xsl:import href=" my_template /layout.xsl"/&gt; <br> &lt;/xsl:stylesheet&gt; <br></code> <br> : <br> <code>&lt;xsl:import href="my_template/layout.xsl"/&gt;</code> <br>    XSL- ( <strong>XSL-</strong> )   .     . <br> <br>       <br>       , ..     XML-    . <br> <br>   -    . <br> <br>        ,   <strong>XML-</strong>   : <br> <code><br> &lt;item id="0" parent_id="0" is_published="1" section="1"&gt; <br>  <br> / <br> <br> &lt;item id="1" parent_id="0" is_published="1" section="1" hit="yes"&gt; <br>  <br> news <br> <br></code> <br> <br> <br>      : <br>  <strong>id</strong>    <strong>document</strong> -    <strong>id</strong>  .  <strong>hit</strong>   <strong>item</strong> -   ,   ,    "  ". <br> ,  ,         : <br> <strong>sections</strong> -   . <strong>item</strong> -  . <br>  ,  ,   <strong>item</strong>     <strong>item</strong> ,   ,     : <br> <code><br> <br></code> <br> <br> 1.    xsl/my_template  navigation.xsl  : <br> <code>&lt;?xml version="1.0" encoding="UTF-8"?&gt; <br> &lt;!DOCTYPE xsl:stylesheet SYSTEM "../dtd/entities.dtd"&gt; <br> &lt;xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform"&gt; <br> <br> &lt;xsl:template match="sections" mode="global_menu"&gt; <br> &lt;/xsl:template&gt; <br> <br> &lt;/xsl:stylesheet&gt;</code> <br> <br> 2.         <strong>layout.xsl</strong> : <br> <code><a href="https://habr.com/"></a> <a href="https://habr.com/sections/"></a> <a href="https://habr.com/news/"></a> <br> &lt;xsl:template match="sections" mode="global_menu"&gt; <br>    <br> &lt;/xsl:template&gt; <br></code> <br> <br> 3. ‚Ä¶      <strong>layout.xsl</strong>     : <br> <code><br> &lt;xsl:apply-templates select="navigation/sections" mode="global_menu"/&gt; <br> <br></code> <br> : <br> <strong>select="navigation/sections"</strong> -  ( ) - .  ,     <strong>navigation/sections</strong> . <br> <br> <strong>mode="global_menu"</strong> -     <strong>global_menu</strong> .      ,        , ,  " ",  -         . <br> <br> 4. ,    layout.xsl     <strong>navigation.xsl</strong> : <br> <code>&lt;xsl:import href="navigation.xsl"/&gt;</code> <br> <br> 5. ,    <strong>navigation.xsl</strong>   ,    : <br> <code><br> &lt;xsl:template match="item" mode="global_menu"&gt; <br> &lt;xsl:call-template name="href_attribute"/&gt; <br> &lt;xsl:value-of select="title"/&gt; <br> <br> <br> &lt;/xsl:template&gt; <br> <br></code> <br> : <br> <code>&lt;xsl:call-template name="href_attribute"/&gt;</code> -    .        , ..  . <br> <br> <code>&lt;xsl:value-of select="title"/&gt;</code> - -   title  .         <strong>@</strong> -      . <br> <br> 6.    <strong>sections</strong> : <br> <code><br> &lt;xsl:template match="sections" mode="global_menu"&gt; <br> <br> &lt;/xsl:template&gt; <br> <br></code> <br> : <br> <code>&lt;xsl:apply-templates select="item" mode="global_menu"/&gt;</code> -    <strong>item</strong>  <strong>sections</strong> .  ,  <strong>item</strong>   <strong>item</strong> ( <strong>sections/item/item</strong> )   , ..      . <br> <br>     <strong>item</strong> ( )   .  ,         : <code>&lt;xsl:call-template name="href_attribute"/&gt;</code> <br> <br>      <strong>uri-</strong>    .    . <br> <br> 7.     , <br>   ,    .            <strong>item</strong> : <br> <code><br> &lt;xsl:template match="item" mode="global_menu"&gt; <br> <br> &lt;xsl:choose&gt; <br> <br> &lt;xsl:when test="descendant-or-self::*/@id = /node()/@id"&gt; <br> &lt;xsl:value-of select="title"/&gt; <br> &lt;/xsl:when&gt; <br> <br> &lt;xsl:otherwise&gt; <br> &lt;xsl:call-template name="href_attribute"/&gt; <br> &lt;xsl:value-of select="title"/&gt; <br> <br> &lt;/xsl:otherwise&gt; <br> &lt;/xsl:choose&gt; <br> <br> &lt;/xsl:template&gt; <br> <br></code> <br>      : <br> <code>&lt;xsl:choose&gt; <br> &lt;xsl:when&gt;&lt;/xsl:when&gt; <br> &lt;xsl:otherwise&gt;&lt;/xsl:otherwise&gt; <br> &lt;/xsl:choose&gt; <br></code> <br> ‚Ä¶, ,     <strong>XML-</strong> .      : <code>&lt;xsl:when test="descendant-or-self::*/@id = /node()/@id"&gt;</code> <br> <br>        <strong>ID</strong>    ( <strong>document</strong> )    ( <strong>item</strong> ),   ,    . <br> <br>   <code>&lt;xsl:when&gt;&lt;/xsl:when&gt;</code>  ,      .   <code>&lt;xsl:otherwise&gt;&lt;/xsl:otherwise&gt;</code> -    . <br> <br> 8. ,   <strong>href_attribute</strong> : <br> <code><br> &lt;xsl:template name="href_attribute"&gt; <br> &lt;xsl:attribute name="href"&gt; <br> &lt;xsl:text&gt;/&lt;/xsl:text&gt; <br> &lt;xsl:for-each select="ancestor-or-self::item"&gt; <br> &lt;xsl:value-of select="dir"/&gt; <br> &lt;xsl:text&gt;/&lt;/xsl:text&gt; <br> &lt;/xsl:for-each&gt; <br> &lt;/xsl:attribute&gt; <br> &lt;/xsl:template&gt; <br></code> <br> <br>      <strong>xsl:attribute</strong> .          .         <strong>a</strong> , ,      <strong>href</strong> , .. . <br> <br>  <code>&lt;xsl:for-each select="ancestor-or-self::item"&gt;</code>      ,  .      <strong>ancestor-or-self::item</strong> -         .           <strong>dir</strong> , ..     -. <br> <br> ,   -  ,       . ,   <a href="http://habrahabr.ru/blog/webdev/38433.html">  </a> . <br> <br> <strong>UPD:</strong> <br>   .   ,  : <br> <a href="">parser.proc.ru/iso/xslt-1.zip</a> <br> <br>        (       )           Apache. <br> <br>    XML-   /xsl/document.xml</code></code></code></code></code> </li> </ul> <code><code><code><code><code><code>-    (   ). : <br> <strong>Lang</strong> -  .     . <strong>Id</strong> -   . <br> &lt;lang_table&gt;</code> -  ,   . <br> <code>-   : <br> -    (  ): <br> &lt;item id="0" parent_id="0" is_published="1" section="1"&gt;</code> -   . : <br> <strong>Id</strong> -  . <strong>Parent_id</strong> -   . <strong>Is_published</strong> -   . <strong>Dir</strong> - uri- .     . <strong>Section</strong> -  .         . <br> <code>-  . <br>   CMS   :        : <br> <strong>Html</strong> -  .  ,    . <strong>Com</strong> - -.  ,      CMS: , ,    .. <br>  <strong>XSL-</strong>   ,     .       . <br> <br> CMS       <strong> ,      : <br> : <br> <strong>Id</strong> -  . <br> <strong>Container</strong> - - (    ). <br> <strong>Sorting</strong> -    . <br> <strong>Type</strong> - : <br> <strong>Com</strong> - - <br> <strong>Html</strong> -  . <br> <strong>Method</strong> -  . <br> <strong>Title</strong> -  . <br> <strong>DTD</strong>     (    ): <br> &lt;!DOCTYPE site_page [ <br> <br> &lt;!ENTITY nbsp " "&gt; <br> &lt;!ENTITY sect "¬ß" &gt; <br> &lt;!ENTITY copy "¬©"&gt; <br> &lt;!ENTITY laquo "¬´"&gt; <br> &lt;!ENTITY reg "¬Æ"&gt; <br> &lt;!ENTITY deg "¬∞"&gt; <br> &lt;!ENTITY plusmn "¬±"&gt; <br> &lt;!ENTITY para "¬∂"&gt; <br> &lt;!ENTITY raquo "¬ª"&gt; <br> &lt;!ENTITY times "√ó"&gt; <br> <br> <br> <br> &lt;!ENTITY bull "‚Ä¢"&gt; <br> &lt;!ENTITY hellip "‚Ä¶"&gt; <br> <br> <br> <br> &lt;!ENTITY ndash "‚Äì"&gt; <br> &lt;!ENTITY mdash "‚Äî"&gt; <br> &lt;!ENTITY lsquo "'"&gt; <br> &lt;!ENTITY rsquo "'"&gt; <br> &lt;!ENTITY sbquo "‚Äö"&gt; <br> &lt;!ENTITY ldquo "‚Äú"&gt; <br> &lt;!ENTITY rdquo "‚Äù"&gt; <br> &lt;!ENTITY bdquo "‚Äû"&gt; <br> &lt;!ENTITY lsaquo "‚Äπ"&gt; <br> &lt;!ENTITY rsaquo "‚Ä∫" &gt; <br> &lt;!ENTITY euro "‚Ç¨"&gt; <br> ]&gt; <br></strong></code> <br>      <strong>XML-</strong> .   <code>&lt;?xml version="1.0" encoding="windows-1251"?&gt;</code> . <br> <br>  XHML- <br> XSL-    XHTML- (   ).  XHTML-,  ,   <strong></strong> . <br> <br>      . <br> <br>   XHML-  ,    ,       : <br>  (   ).    -    ,      . / . <br>        HTML-: <br> <code><a href="https://habr.com/ru/post/22236/"></a> <a href="https://habr.com/ru/post/22236/"></a> <a href="https://habr.com/ru/post/22236/"></a> ... <br> <br>   <br> <br> <br> ... <br> <br>    <br> <br> ... <br> <br>   <br> <br> ... <br> <br>  <br> <br> ...</code> <br> <br>   XSL- <br>   XSL-   : <br> <code>&lt;xsl:stylesheet version = '1.0' encoding="UTF-8"?&gt; <br> &lt;xsl:template match="element"&gt; <br>   <br> &lt;/xsl:template&gt; <br> &lt;/xsl:stylesheet&gt;</code> <br> <br> : <code>&lt;xsl:stylesheet version = '1.0' encoding="UTF-8"?&gt;</code> -   <strong>XML-</strong>  .   <strong>UTF-8</strong> ( , ). <br> <code>&lt;xsl:stylesheet&gt; &lt;/xsl:stylesheet&gt;</code> -    XSL-. <br> <code>&lt;xsl:template match="element"&gt; &lt;/xsl:template&gt;</code> -       element. <br> <br>       : <br> <code>&lt;xsl:template match="element"&gt;&lt;/xsl:template&gt;</code> - ,     <strong>element</strong> .      <strong>element</strong> . <code>&lt;xsl:template match="element" mode="mode1"&gt;&lt;/xsl:template&gt;</code> - ,     <strong>element</strong>   <strong>mode1</strong> .         <strong>element</strong> . <code>&lt;xsl:template name="template-name"&gt;&lt;/xsl:template&gt;</code> -    <strong>template-name</strong> .     -  <strong>XML-</strong> . <br>           <strong>XML-</strong> (,  XML-,    item      ),      " "  : <br> <code>&lt;xsl:template match="navigation/sections/item"&gt;&lt;/xsl:template&gt;</code> <br>  ,    , ..,      ,  ,  , ..      <strong>navigation</strong> ,      <strong>navigation/sections/item</strong>     <strong>sections/item</strong> . <br> <br>    <br>  ,         -      .  ,        <strong>xsl-</strong> .            . <br> <br>       <strong>xsl</strong>    . <br> <br> ,        (       )   : <br> <strong>template_folder</strong> -    .      ,  <strong>my_template</strong> . <strong>dtd</strong> -    .   . <strong>lang</strong> -      (      ). <strong>mod</strong> -  . <br>       <strong>xsl/my_template</strong>   ,  <strong>layout.xsl</strong>  : <br> <code>&lt;?xml version="1.0" encoding="UTF-8"?&gt; <br> &lt;!DOCTYPE xsl:stylesheet SYSTEM "../dtd/entities.dtd"&gt; <br> &lt;xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform"&gt; <br> <br> &lt;xsl:template match="/node()"&gt; <br> &lt;/xsl:template&gt; <br> <br> &lt;/xsl:stylesheet&gt; <br></code> <br> : <br> <code>&lt;xsl:template match="/node()"&gt; &lt;/xsl:template&gt;</code> -    <strong>/node()</strong> ().  <strong>/node()</strong>   <strong>//document</strong> , ..      . <br> <br>   XHTML-   <code>&lt;xsl:template match="/node()"&gt;&lt;/xsl:template&gt;</code> <br> <br>        <strong>XML-</strong> .   , <strong>XSL-</strong>   <strong>XML-</strong>  <strong>XHTML-</strong>  . <br> <br> ,    <strong>XSL</strong>   <strong>template.xsl</strong> (, <strong>template</strong> -   ),     : <br> <code>&lt;?xml version="1.0" encoding="UTF-8"?&gt; <br> &lt;xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform"&gt; <br> <br> &lt;xsl:import href=" my_template /layout.xsl"/&gt; <br> &lt;/xsl:stylesheet&gt; <br></code> <br> : <br> <code>&lt;xsl:import href="my_template/layout.xsl"/&gt;</code> <br>    XSL- ( <strong>XSL-</strong> )   .     . <br> <br>       <br>       , ..     XML-    . <br> <br>   -    . <br> <br>        ,   <strong>XML-</strong>   : <br> <code><br> &lt;item id="0" parent_id="0" is_published="1" section="1"&gt; <br>  <br> / <br> <br> &lt;item id="1" parent_id="0" is_published="1" section="1" hit="yes"&gt; <br>  <br> news <br> <br></code> <br> <br> <br>      : <br>  <strong>id</strong>    <strong>document</strong> -    <strong>id</strong>  .  <strong>hit</strong>   <strong>item</strong> -   ,   ,    "  ". <br> ,  ,         : <br> <strong>sections</strong> -   . <strong>item</strong> -  . <br>  ,  ,   <strong>item</strong>     <strong>item</strong> ,   ,     : <br> <code><br> <br></code> <br> <br> 1.    xsl/my_template  navigation.xsl  : <br> <code>&lt;?xml version="1.0" encoding="UTF-8"?&gt; <br> &lt;!DOCTYPE xsl:stylesheet SYSTEM "../dtd/entities.dtd"&gt; <br> &lt;xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform"&gt; <br> <br> &lt;xsl:template match="sections" mode="global_menu"&gt; <br> &lt;/xsl:template&gt; <br> <br> &lt;/xsl:stylesheet&gt;</code> <br> <br> 2.         <strong>layout.xsl</strong> : <br> <code><a href="https://habr.com/"></a> <a href="https://habr.com/sections/"></a> <a href="https://habr.com/news/"></a> <br> &lt;xsl:template match="sections" mode="global_menu"&gt; <br>    <br> &lt;/xsl:template&gt; <br></code> <br> <br> 3. ‚Ä¶      <strong>layout.xsl</strong>     : <br> <code><br> &lt;xsl:apply-templates select="navigation/sections" mode="global_menu"/&gt; <br> <br></code> <br> : <br> <strong>select="navigation/sections"</strong> -  ( ) - .  ,     <strong>navigation/sections</strong> . <br> <br> <strong>mode="global_menu"</strong> -     <strong>global_menu</strong> .      ,        , ,  " ",  -         . <br> <br> 4. ,    layout.xsl     <strong>navigation.xsl</strong> : <br> <code>&lt;xsl:import href="navigation.xsl"/&gt;</code> <br> <br> 5. ,    <strong>navigation.xsl</strong>   ,    : <br> <code><br> &lt;xsl:template match="item" mode="global_menu"&gt; <br> &lt;xsl:call-template name="href_attribute"/&gt; <br> &lt;xsl:value-of select="title"/&gt; <br> <br> <br> &lt;/xsl:template&gt; <br> <br></code> <br> : <br> <code>&lt;xsl:call-template name="href_attribute"/&gt;</code> -    .        , ..  . <br> <br> <code>&lt;xsl:value-of select="title"/&gt;</code> - -   title  .         <strong>@</strong> -      . <br> <br> 6.    <strong>sections</strong> : <br> <code><br> &lt;xsl:template match="sections" mode="global_menu"&gt; <br> <br> &lt;/xsl:template&gt; <br> <br></code> <br> : <br> <code>&lt;xsl:apply-templates select="item" mode="global_menu"/&gt;</code> -    <strong>item</strong>  <strong>sections</strong> .  ,  <strong>item</strong>   <strong>item</strong> ( <strong>sections/item/item</strong> )   , ..      . <br> <br>     <strong>item</strong> ( )   .  ,         : <code>&lt;xsl:call-template name="href_attribute"/&gt;</code> <br> <br>      <strong>uri-</strong>    .    . <br> <br> 7.     , <br>   ,    .            <strong>item</strong> : <br> <code><br> &lt;xsl:template match="item" mode="global_menu"&gt; <br> <br> &lt;xsl:choose&gt; <br> <br> &lt;xsl:when test="descendant-or-self::*/@id = /node()/@id"&gt; <br> &lt;xsl:value-of select="title"/&gt; <br> &lt;/xsl:when&gt; <br> <br> &lt;xsl:otherwise&gt; <br> &lt;xsl:call-template name="href_attribute"/&gt; <br> &lt;xsl:value-of select="title"/&gt; <br> <br> &lt;/xsl:otherwise&gt; <br> &lt;/xsl:choose&gt; <br> <br> &lt;/xsl:template&gt; <br> <br></code> <br>      : <br> <code>&lt;xsl:choose&gt; <br> &lt;xsl:when&gt;&lt;/xsl:when&gt; <br> &lt;xsl:otherwise&gt;&lt;/xsl:otherwise&gt; <br> &lt;/xsl:choose&gt; <br></code> <br> ‚Ä¶, ,     <strong>XML-</strong> .      : <code>&lt;xsl:when test="descendant-or-self::*/@id = /node()/@id"&gt;</code> <br> <br>        <strong>ID</strong>    ( <strong>document</strong> )    ( <strong>item</strong> ),   ,    . <br> <br>   <code>&lt;xsl:when&gt;&lt;/xsl:when&gt;</code>  ,      .   <code>&lt;xsl:otherwise&gt;&lt;/xsl:otherwise&gt;</code> -    . <br> <br> 8. ,   <strong>href_attribute</strong> : <br> <code><br> &lt;xsl:template name="href_attribute"&gt; <br> &lt;xsl:attribute name="href"&gt; <br> &lt;xsl:text&gt;/&lt;/xsl:text&gt; <br> &lt;xsl:for-each select="ancestor-or-self::item"&gt; <br> &lt;xsl:value-of select="dir"/&gt; <br> &lt;xsl:text&gt;/&lt;/xsl:text&gt; <br> &lt;/xsl:for-each&gt; <br> &lt;/xsl:attribute&gt; <br> &lt;/xsl:template&gt; <br></code> <br> <br>      <strong>xsl:attribute</strong> .          .         <strong>a</strong> , ,      <strong>href</strong> , .. . <br> <br>  <code>&lt;xsl:for-each select="ancestor-or-self::item"&gt;</code>      ,  .      <strong>ancestor-or-self::item</strong> -         .           <strong>dir</strong> , ..     -. <br> <br> ,   -  ,       . ,   <a href="http://habrahabr.ru/blog/webdev/38433.html">  </a> . <br> <br> <strong>UPD:</strong> <br>   .   ,  : <br> <a href="">parser.proc.ru/iso/xslt-1.zip</a> <br> <br>        (       )           Apache. <br> <br>    XML-   /xsl/document.xml</code></code></code></code></code> <ul><li> <code><code><code><code><code><code>-    (   ). : <br> <strong>Lang</strong> -  .     . <strong>Id</strong> -   . <br> &lt;lang_table&gt;</code> -  ,   . <br> <code>-   : <br> -    (  ): <br> &lt;item id="0" parent_id="0" is_published="1" section="1"&gt;</code> -   . : <br> <strong>Id</strong> -  . <strong>Parent_id</strong> -   . <strong>Is_published</strong> -   . <strong>Dir</strong> - uri- .     . <strong>Section</strong> -  .         . <br> <code>-  . <br>   CMS   :        : <br> <strong>Html</strong> -  .  ,    . <strong>Com</strong> - -.  ,      CMS: , ,    .. <br>  <strong>XSL-</strong>   ,     .       . <br> <br> CMS       <strong> ,      : <br> : <br> <strong>Id</strong> -  . <br> <strong>Container</strong> - - (    ). <br> <strong>Sorting</strong> -    . <br> <strong>Type</strong> - : <br> <strong>Com</strong> - - <br> <strong>Html</strong> -  . <br> <strong>Method</strong> -  . <br> <strong>Title</strong> -  . <br> <strong>DTD</strong>     (    ): <br> &lt;!DOCTYPE site_page [ <br> <br> &lt;!ENTITY nbsp " "&gt; <br> &lt;!ENTITY sect "¬ß" &gt; <br> &lt;!ENTITY copy "¬©"&gt; <br> &lt;!ENTITY laquo "¬´"&gt; <br> &lt;!ENTITY reg "¬Æ"&gt; <br> &lt;!ENTITY deg "¬∞"&gt; <br> &lt;!ENTITY plusmn "¬±"&gt; <br> &lt;!ENTITY para "¬∂"&gt; <br> &lt;!ENTITY raquo "¬ª"&gt; <br> &lt;!ENTITY times "√ó"&gt; <br> <br> <br> <br> &lt;!ENTITY bull "‚Ä¢"&gt; <br> &lt;!ENTITY hellip "‚Ä¶"&gt; <br> <br> <br> <br> &lt;!ENTITY ndash "‚Äì"&gt; <br> &lt;!ENTITY mdash "‚Äî"&gt; <br> &lt;!ENTITY lsquo "'"&gt; <br> &lt;!ENTITY rsquo "'"&gt; <br> &lt;!ENTITY sbquo "‚Äö"&gt; <br> &lt;!ENTITY ldquo "‚Äú"&gt; <br> &lt;!ENTITY rdquo "‚Äù"&gt; <br> &lt;!ENTITY bdquo "‚Äû"&gt; <br> &lt;!ENTITY lsaquo "‚Äπ"&gt; <br> &lt;!ENTITY rsaquo "‚Ä∫" &gt; <br> &lt;!ENTITY euro "‚Ç¨"&gt; <br> ]&gt; <br></strong></code> <br>      <strong>XML-</strong> .   <code>&lt;?xml version="1.0" encoding="windows-1251"?&gt;</code> . <br> <br>  XHML- <br> XSL-    XHTML- (   ).  XHTML-,  ,   <strong></strong> . <br> <br>      . <br> <br>   XHML-  ,    ,       : <br>  (   ).    -    ,      . / . <br>        HTML-: <br> <code><a href="https://habr.com/ru/post/22236/"></a> <a href="https://habr.com/ru/post/22236/"></a> <a href="https://habr.com/ru/post/22236/"></a> ... <br> <br>   <br> <br> <br> ... <br> <br>    <br> <br> ... <br> <br>   <br> <br> ... <br> <br>  <br> <br> ...</code> <br> <br>   XSL- <br>   XSL-   : <br> <code>&lt;xsl:stylesheet version = '1.0' encoding="UTF-8"?&gt; <br> &lt;xsl:template match="element"&gt; <br>   <br> &lt;/xsl:template&gt; <br> &lt;/xsl:stylesheet&gt;</code> <br> <br> : <code>&lt;xsl:stylesheet version = '1.0' encoding="UTF-8"?&gt;</code> -   <strong>XML-</strong>  .   <strong>UTF-8</strong> ( , ). <br> <code>&lt;xsl:stylesheet&gt; &lt;/xsl:stylesheet&gt;</code> -    XSL-. <br> <code>&lt;xsl:template match="element"&gt; &lt;/xsl:template&gt;</code> -       element. <br> <br>       : <br> <code>&lt;xsl:template match="element"&gt;&lt;/xsl:template&gt;</code> - ,     <strong>element</strong> .      <strong>element</strong> . <code>&lt;xsl:template match="element" mode="mode1"&gt;&lt;/xsl:template&gt;</code> - ,     <strong>element</strong>   <strong>mode1</strong> .         <strong>element</strong> . <code>&lt;xsl:template name="template-name"&gt;&lt;/xsl:template&gt;</code> -    <strong>template-name</strong> .     -  <strong>XML-</strong> . <br>           <strong>XML-</strong> (,  XML-,    item      ),      " "  : <br> <code>&lt;xsl:template match="navigation/sections/item"&gt;&lt;/xsl:template&gt;</code> <br>  ,    , ..,      ,  ,  , ..      <strong>navigation</strong> ,      <strong>navigation/sections/item</strong>     <strong>sections/item</strong> . <br> <br>    <br>  ,         -      .  ,        <strong>xsl-</strong> .            . <br> <br>       <strong>xsl</strong>    . <br> <br> ,        (       )   : <br> <strong>template_folder</strong> -    .      ,  <strong>my_template</strong> . <strong>dtd</strong> -    .   . <strong>lang</strong> -      (      ). <strong>mod</strong> -  . <br>       <strong>xsl/my_template</strong>   ,  <strong>layout.xsl</strong>  : <br> <code>&lt;?xml version="1.0" encoding="UTF-8"?&gt; <br> &lt;!DOCTYPE xsl:stylesheet SYSTEM "../dtd/entities.dtd"&gt; <br> &lt;xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform"&gt; <br> <br> &lt;xsl:template match="/node()"&gt; <br> &lt;/xsl:template&gt; <br> <br> &lt;/xsl:stylesheet&gt; <br></code> <br> : <br> <code>&lt;xsl:template match="/node()"&gt; &lt;/xsl:template&gt;</code> -    <strong>/node()</strong> ().  <strong>/node()</strong>   <strong>//document</strong> , ..      . <br> <br>   XHTML-   <code>&lt;xsl:template match="/node()"&gt;&lt;/xsl:template&gt;</code> <br> <br>        <strong>XML-</strong> .   , <strong>XSL-</strong>   <strong>XML-</strong>  <strong>XHTML-</strong>  . <br> <br> ,    <strong>XSL</strong>   <strong>template.xsl</strong> (, <strong>template</strong> -   ),     : <br> <code>&lt;?xml version="1.0" encoding="UTF-8"?&gt; <br> &lt;xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform"&gt; <br> <br> &lt;xsl:import href=" my_template /layout.xsl"/&gt; <br> &lt;/xsl:stylesheet&gt; <br></code> <br> : <br> <code>&lt;xsl:import href="my_template/layout.xsl"/&gt;</code> <br>    XSL- ( <strong>XSL-</strong> )   .     . <br> <br>       <br>       , ..     XML-    . <br> <br>   -    . <br> <br>        ,   <strong>XML-</strong>   : <br> <code><br> &lt;item id="0" parent_id="0" is_published="1" section="1"&gt; <br>  <br> / <br> <br> &lt;item id="1" parent_id="0" is_published="1" section="1" hit="yes"&gt; <br>  <br> news <br> <br></code> <br> <br> <br>      : <br>  <strong>id</strong>    <strong>document</strong> -    <strong>id</strong>  .  <strong>hit</strong>   <strong>item</strong> -   ,   ,    "  ". <br> ,  ,         : <br> <strong>sections</strong> -   . <strong>item</strong> -  . <br>  ,  ,   <strong>item</strong>     <strong>item</strong> ,   ,     : <br> <code><br> <br></code> <br> <br> 1.    xsl/my_template  navigation.xsl  : <br> <code>&lt;?xml version="1.0" encoding="UTF-8"?&gt; <br> &lt;!DOCTYPE xsl:stylesheet SYSTEM "../dtd/entities.dtd"&gt; <br> &lt;xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform"&gt; <br> <br> &lt;xsl:template match="sections" mode="global_menu"&gt; <br> &lt;/xsl:template&gt; <br> <br> &lt;/xsl:stylesheet&gt;</code> <br> <br> 2.         <strong>layout.xsl</strong> : <br> <code><a href="https://habr.com/"></a> <a href="https://habr.com/sections/"></a> <a href="https://habr.com/news/"></a> <br> &lt;xsl:template match="sections" mode="global_menu"&gt; <br>    <br> &lt;/xsl:template&gt; <br></code> <br> <br> 3. ‚Ä¶      <strong>layout.xsl</strong>     : <br> <code><br> &lt;xsl:apply-templates select="navigation/sections" mode="global_menu"/&gt; <br> <br></code> <br> : <br> <strong>select="navigation/sections"</strong> -  ( ) - .  ,     <strong>navigation/sections</strong> . <br> <br> <strong>mode="global_menu"</strong> -     <strong>global_menu</strong> .      ,        , ,  " ",  -         . <br> <br> 4. ,    layout.xsl     <strong>navigation.xsl</strong> : <br> <code>&lt;xsl:import href="navigation.xsl"/&gt;</code> <br> <br> 5. ,    <strong>navigation.xsl</strong>   ,    : <br> <code><br> &lt;xsl:template match="item" mode="global_menu"&gt; <br> &lt;xsl:call-template name="href_attribute"/&gt; <br> &lt;xsl:value-of select="title"/&gt; <br> <br> <br> &lt;/xsl:template&gt; <br> <br></code> <br> : <br> <code>&lt;xsl:call-template name="href_attribute"/&gt;</code> -    .        , ..  . <br> <br> <code>&lt;xsl:value-of select="title"/&gt;</code> - -   title  .         <strong>@</strong> -      . <br> <br> 6.    <strong>sections</strong> : <br> <code><br> &lt;xsl:template match="sections" mode="global_menu"&gt; <br> <br> &lt;/xsl:template&gt; <br> <br></code> <br> : <br> <code>&lt;xsl:apply-templates select="item" mode="global_menu"/&gt;</code> -    <strong>item</strong>  <strong>sections</strong> .  ,  <strong>item</strong>   <strong>item</strong> ( <strong>sections/item/item</strong> )   , ..      . <br> <br>     <strong>item</strong> ( )   .  ,         : <code>&lt;xsl:call-template name="href_attribute"/&gt;</code> <br> <br>      <strong>uri-</strong>    .    . <br> <br> 7.     , <br>   ,    .            <strong>item</strong> : <br> <code><br> &lt;xsl:template match="item" mode="global_menu"&gt; <br> <br> &lt;xsl:choose&gt; <br> <br> &lt;xsl:when test="descendant-or-self::*/@id = /node()/@id"&gt; <br> &lt;xsl:value-of select="title"/&gt; <br> &lt;/xsl:when&gt; <br> <br> &lt;xsl:otherwise&gt; <br> &lt;xsl:call-template name="href_attribute"/&gt; <br> &lt;xsl:value-of select="title"/&gt; <br> <br> &lt;/xsl:otherwise&gt; <br> &lt;/xsl:choose&gt; <br> <br> &lt;/xsl:template&gt; <br> <br></code> <br>      : <br> <code>&lt;xsl:choose&gt; <br> &lt;xsl:when&gt;&lt;/xsl:when&gt; <br> &lt;xsl:otherwise&gt;&lt;/xsl:otherwise&gt; <br> &lt;/xsl:choose&gt; <br></code> <br> ‚Ä¶, ,     <strong>XML-</strong> .      : <code>&lt;xsl:when test="descendant-or-self::*/@id = /node()/@id"&gt;</code> <br> <br>        <strong>ID</strong>    ( <strong>document</strong> )    ( <strong>item</strong> ),   ,    . <br> <br>   <code>&lt;xsl:when&gt;&lt;/xsl:when&gt;</code>  ,      .   <code>&lt;xsl:otherwise&gt;&lt;/xsl:otherwise&gt;</code> -    . <br> <br> 8. ,   <strong>href_attribute</strong> : <br> <code><br> &lt;xsl:template name="href_attribute"&gt; <br> &lt;xsl:attribute name="href"&gt; <br> &lt;xsl:text&gt;/&lt;/xsl:text&gt; <br> &lt;xsl:for-each select="ancestor-or-self::item"&gt; <br> &lt;xsl:value-of select="dir"/&gt; <br> &lt;xsl:text&gt;/&lt;/xsl:text&gt; <br> &lt;/xsl:for-each&gt; <br> &lt;/xsl:attribute&gt; <br> &lt;/xsl:template&gt; <br></code> <br> <br>      <strong>xsl:attribute</strong> .          .         <strong>a</strong> , ,      <strong>href</strong> , .. . <br> <br>  <code>&lt;xsl:for-each select="ancestor-or-self::item"&gt;</code>      ,  .      <strong>ancestor-or-self::item</strong> -         .           <strong>dir</strong> , ..     -. <br> <br> ,   -  ,       . ,   <a href="http://habrahabr.ru/blog/webdev/38433.html">  </a> . <br> <br> <strong>UPD:</strong> <br>   .   ,  : <br> <a href="">parser.proc.ru/iso/xslt-1.zip</a> <br> <br>        (       )           Apache. <br> <br>    XML-   /xsl/document.xml</code></code></code></code></code> </li> <li> <code><code><code><code><code><code>-    (   ). : <br> <strong>Lang</strong> -  .     . <strong>Id</strong> -   . <br> &lt;lang_table&gt;</code> -  ,   . <br> <code>-   : <br> -    (  ): <br> &lt;item id="0" parent_id="0" is_published="1" section="1"&gt;</code> -   . : <br> <strong>Id</strong> -  . <strong>Parent_id</strong> -   . <strong>Is_published</strong> -   . <strong>Dir</strong> - uri- .     . <strong>Section</strong> -  .         . <br> <code>-  . <br>   CMS   :        : <br> <strong>Html</strong> -  .  ,    . <strong>Com</strong> - -.  ,      CMS: , ,    .. <br>  <strong>XSL-</strong>   ,     .       . <br> <br> CMS       <strong> ,      : <br> : <br> <strong>Id</strong> -  . <br> <strong>Container</strong> - - (    ). <br> <strong>Sorting</strong> -    . <br> <strong>Type</strong> - : <br> <strong>Com</strong> - - <br> <strong>Html</strong> -  . <br> <strong>Method</strong> -  . <br> <strong>Title</strong> -  . <br> <strong>DTD</strong>     (    ): <br> &lt;!DOCTYPE site_page [ <br> <br> &lt;!ENTITY nbsp " "&gt; <br> &lt;!ENTITY sect "¬ß" &gt; <br> &lt;!ENTITY copy "¬©"&gt; <br> &lt;!ENTITY laquo "¬´"&gt; <br> &lt;!ENTITY reg "¬Æ"&gt; <br> &lt;!ENTITY deg "¬∞"&gt; <br> &lt;!ENTITY plusmn "¬±"&gt; <br> &lt;!ENTITY para "¬∂"&gt; <br> &lt;!ENTITY raquo "¬ª"&gt; <br> &lt;!ENTITY times "√ó"&gt; <br> <br> <br> <br> &lt;!ENTITY bull "‚Ä¢"&gt; <br> &lt;!ENTITY hellip "‚Ä¶"&gt; <br> <br> <br> <br> &lt;!ENTITY ndash "‚Äì"&gt; <br> &lt;!ENTITY mdash "‚Äî"&gt; <br> &lt;!ENTITY lsquo "'"&gt; <br> &lt;!ENTITY rsquo "'"&gt; <br> &lt;!ENTITY sbquo "‚Äö"&gt; <br> &lt;!ENTITY ldquo "‚Äú"&gt; <br> &lt;!ENTITY rdquo "‚Äù"&gt; <br> &lt;!ENTITY bdquo "‚Äû"&gt; <br> &lt;!ENTITY lsaquo "‚Äπ"&gt; <br> &lt;!ENTITY rsaquo "‚Ä∫" &gt; <br> &lt;!ENTITY euro "‚Ç¨"&gt; <br> ]&gt; <br></strong></code> <br>      <strong>XML-</strong> .   <code>&lt;?xml version="1.0" encoding="windows-1251"?&gt;</code> . <br> <br>  XHML- <br> XSL-    XHTML- (   ).  XHTML-,  ,   <strong></strong> . <br> <br>      . <br> <br>   XHML-  ,    ,       : <br>  (   ).    -    ,      . / . <br>        HTML-: <br> <code><a href="https://habr.com/ru/post/22236/"></a> <a href="https://habr.com/ru/post/22236/"></a> <a href="https://habr.com/ru/post/22236/"></a> ... <br> <br>   <br> <br> <br> ... <br> <br>    <br> <br> ... <br> <br>   <br> <br> ... <br> <br>  <br> <br> ...</code> <br> <br>   XSL- <br>   XSL-   : <br> <code>&lt;xsl:stylesheet version = '1.0' encoding="UTF-8"?&gt; <br> &lt;xsl:template match="element"&gt; <br>   <br> &lt;/xsl:template&gt; <br> &lt;/xsl:stylesheet&gt;</code> <br> <br> : <code>&lt;xsl:stylesheet version = '1.0' encoding="UTF-8"?&gt;</code> -   <strong>XML-</strong>  .   <strong>UTF-8</strong> ( , ). <br> <code>&lt;xsl:stylesheet&gt; &lt;/xsl:stylesheet&gt;</code> -    XSL-. <br> <code>&lt;xsl:template match="element"&gt; &lt;/xsl:template&gt;</code> -       element. <br> <br>       : <br> <code>&lt;xsl:template match="element"&gt;&lt;/xsl:template&gt;</code> - ,     <strong>element</strong> .      <strong>element</strong> . <code>&lt;xsl:template match="element" mode="mode1"&gt;&lt;/xsl:template&gt;</code> - ,     <strong>element</strong>   <strong>mode1</strong> .         <strong>element</strong> . <code>&lt;xsl:template name="template-name"&gt;&lt;/xsl:template&gt;</code> -    <strong>template-name</strong> .     -  <strong>XML-</strong> . <br>           <strong>XML-</strong> (,  XML-,    item      ),      " "  : <br> <code>&lt;xsl:template match="navigation/sections/item"&gt;&lt;/xsl:template&gt;</code> <br>  ,    , ..,      ,  ,  , ..      <strong>navigation</strong> ,      <strong>navigation/sections/item</strong>     <strong>sections/item</strong> . <br> <br>    <br>  ,         -      .  ,        <strong>xsl-</strong> .            . <br> <br>       <strong>xsl</strong>    . <br> <br> ,        (       )   : <br> <strong>template_folder</strong> -    .      ,  <strong>my_template</strong> . <strong>dtd</strong> -    .   . <strong>lang</strong> -      (      ). <strong>mod</strong> -  . <br>       <strong>xsl/my_template</strong>   ,  <strong>layout.xsl</strong>  : <br> <code>&lt;?xml version="1.0" encoding="UTF-8"?&gt; <br> &lt;!DOCTYPE xsl:stylesheet SYSTEM "../dtd/entities.dtd"&gt; <br> &lt;xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform"&gt; <br> <br> &lt;xsl:template match="/node()"&gt; <br> &lt;/xsl:template&gt; <br> <br> &lt;/xsl:stylesheet&gt; <br></code> <br> : <br> <code>&lt;xsl:template match="/node()"&gt; &lt;/xsl:template&gt;</code> -    <strong>/node()</strong> ().  <strong>/node()</strong>   <strong>//document</strong> , ..      . <br> <br>   XHTML-   <code>&lt;xsl:template match="/node()"&gt;&lt;/xsl:template&gt;</code> <br> <br>        <strong>XML-</strong> .   , <strong>XSL-</strong>   <strong>XML-</strong>  <strong>XHTML-</strong>  . <br> <br> ,    <strong>XSL</strong>   <strong>template.xsl</strong> (, <strong>template</strong> -   ),     : <br> <code>&lt;?xml version="1.0" encoding="UTF-8"?&gt; <br> &lt;xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform"&gt; <br> <br> &lt;xsl:import href=" my_template /layout.xsl"/&gt; <br> &lt;/xsl:stylesheet&gt; <br></code> <br> : <br> <code>&lt;xsl:import href="my_template/layout.xsl"/&gt;</code> <br>    XSL- ( <strong>XSL-</strong> )   .     . <br> <br>       <br>       , ..     XML-    . <br> <br>   -    . <br> <br>        ,   <strong>XML-</strong>   : <br> <code><br> &lt;item id="0" parent_id="0" is_published="1" section="1"&gt; <br>  <br> / <br> <br> &lt;item id="1" parent_id="0" is_published="1" section="1" hit="yes"&gt; <br>  <br> news <br> <br></code> <br> <br> <br>      : <br>  <strong>id</strong>    <strong>document</strong> -    <strong>id</strong>  .  <strong>hit</strong>   <strong>item</strong> -   ,   ,    "  ". <br> ,  ,         : <br> <strong>sections</strong> -   . <strong>item</strong> -  . <br>  ,  ,   <strong>item</strong>     <strong>item</strong> ,   ,     : <br> <code><br> <br></code> <br> <br> 1.    xsl/my_template  navigation.xsl  : <br> <code>&lt;?xml version="1.0" encoding="UTF-8"?&gt; <br> &lt;!DOCTYPE xsl:stylesheet SYSTEM "../dtd/entities.dtd"&gt; <br> &lt;xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform"&gt; <br> <br> &lt;xsl:template match="sections" mode="global_menu"&gt; <br> &lt;/xsl:template&gt; <br> <br> &lt;/xsl:stylesheet&gt;</code> <br> <br> 2.         <strong>layout.xsl</strong> : <br> <code><a href="https://habr.com/"></a> <a href="https://habr.com/sections/"></a> <a href="https://habr.com/news/"></a> <br> &lt;xsl:template match="sections" mode="global_menu"&gt; <br>    <br> &lt;/xsl:template&gt; <br></code> <br> <br> 3. ‚Ä¶      <strong>layout.xsl</strong>     : <br> <code><br> &lt;xsl:apply-templates select="navigation/sections" mode="global_menu"/&gt; <br> <br></code> <br> : <br> <strong>select="navigation/sections"</strong> -  ( ) - .  ,     <strong>navigation/sections</strong> . <br> <br> <strong>mode="global_menu"</strong> -     <strong>global_menu</strong> .      ,        , ,  " ",  -         . <br> <br> 4. ,    layout.xsl     <strong>navigation.xsl</strong> : <br> <code>&lt;xsl:import href="navigation.xsl"/&gt;</code> <br> <br> 5. ,    <strong>navigation.xsl</strong>   ,    : <br> <code><br> &lt;xsl:template match="item" mode="global_menu"&gt; <br> &lt;xsl:call-template name="href_attribute"/&gt; <br> &lt;xsl:value-of select="title"/&gt; <br> <br> <br> &lt;/xsl:template&gt; <br> <br></code> <br> : <br> <code>&lt;xsl:call-template name="href_attribute"/&gt;</code> -    .        , ..  . <br> <br> <code>&lt;xsl:value-of select="title"/&gt;</code> - -   title  .         <strong>@</strong> -      . <br> <br> 6.    <strong>sections</strong> : <br> <code><br> &lt;xsl:template match="sections" mode="global_menu"&gt; <br> <br> &lt;/xsl:template&gt; <br> <br></code> <br> : <br> <code>&lt;xsl:apply-templates select="item" mode="global_menu"/&gt;</code> -    <strong>item</strong>  <strong>sections</strong> .  ,  <strong>item</strong>   <strong>item</strong> ( <strong>sections/item/item</strong> )   , ..      . <br> <br>     <strong>item</strong> ( )   .  ,         : <code>&lt;xsl:call-template name="href_attribute"/&gt;</code> <br> <br>      <strong>uri-</strong>    .    . <br> <br> 7.     , <br>   ,    .            <strong>item</strong> : <br> <code><br> &lt;xsl:template match="item" mode="global_menu"&gt; <br> <br> &lt;xsl:choose&gt; <br> <br> &lt;xsl:when test="descendant-or-self::*/@id = /node()/@id"&gt; <br> &lt;xsl:value-of select="title"/&gt; <br> &lt;/xsl:when&gt; <br> <br> &lt;xsl:otherwise&gt; <br> &lt;xsl:call-template name="href_attribute"/&gt; <br> &lt;xsl:value-of select="title"/&gt; <br> <br> &lt;/xsl:otherwise&gt; <br> &lt;/xsl:choose&gt; <br> <br> &lt;/xsl:template&gt; <br> <br></code> <br>      : <br> <code>&lt;xsl:choose&gt; <br> &lt;xsl:when&gt;&lt;/xsl:when&gt; <br> &lt;xsl:otherwise&gt;&lt;/xsl:otherwise&gt; <br> &lt;/xsl:choose&gt; <br></code> <br> ‚Ä¶, ,     <strong>XML-</strong> .      : <code>&lt;xsl:when test="descendant-or-self::*/@id = /node()/@id"&gt;</code> <br> <br>        <strong>ID</strong>    ( <strong>document</strong> )    ( <strong>item</strong> ),   ,    . <br> <br>   <code>&lt;xsl:when&gt;&lt;/xsl:when&gt;</code>  ,      .   <code>&lt;xsl:otherwise&gt;&lt;/xsl:otherwise&gt;</code> -    . <br> <br> 8. ,   <strong>href_attribute</strong> : <br> <code><br> &lt;xsl:template name="href_attribute"&gt; <br> &lt;xsl:attribute name="href"&gt; <br> &lt;xsl:text&gt;/&lt;/xsl:text&gt; <br> &lt;xsl:for-each select="ancestor-or-self::item"&gt; <br> &lt;xsl:value-of select="dir"/&gt; <br> &lt;xsl:text&gt;/&lt;/xsl:text&gt; <br> &lt;/xsl:for-each&gt; <br> &lt;/xsl:attribute&gt; <br> &lt;/xsl:template&gt; <br></code> <br> <br>      <strong>xsl:attribute</strong> .          .         <strong>a</strong> , ,      <strong>href</strong> , .. . <br> <br>  <code>&lt;xsl:for-each select="ancestor-or-self::item"&gt;</code>      ,  .      <strong>ancestor-or-self::item</strong> -         .           <strong>dir</strong> , ..     -. <br> <br> ,   -  ,       . ,   <a href="http://habrahabr.ru/blog/webdev/38433.html">  </a> . <br> <br> <strong>UPD:</strong> <br>   .   ,  : <br> <a href="">parser.proc.ru/iso/xslt-1.zip</a> <br> <br>        (       )           Apache. <br> <br>    XML-   /xsl/document.xml</code></code></code></code></code> </li> </ul> <code><code><code><code><code><code>-    (   ). : <br> <strong>Lang</strong> -  .     . <strong>Id</strong> -   . <br> &lt;lang_table&gt;</code> -  ,   . <br> <code>-   : <br> -    (  ): <br> &lt;item id="0" parent_id="0" is_published="1" section="1"&gt;</code> -   . : <br> <strong>Id</strong> -  . <strong>Parent_id</strong> -   . <strong>Is_published</strong> -   . <strong>Dir</strong> - uri- .     . <strong>Section</strong> -  .         . <br> <code>-  . <br>   CMS   :        : <br> <strong>Html</strong> -  .  ,    . <strong>Com</strong> - -.  ,      CMS: , ,    .. <br>  <strong>XSL-</strong>   ,     .       . <br> <br> CMS       <strong> ,      : <br> : <br> <strong>Id</strong> -  . <br> <strong>Container</strong> - - (    ). <br> <strong>Sorting</strong> -    . <br> <strong>Type</strong> - : <br> <strong>Com</strong> - - <br> <strong>Html</strong> -  . <br> <strong>Method</strong> -  . <br> <strong>Title</strong> -  . <br> <strong>DTD</strong>     (    ): <br> &lt;!DOCTYPE site_page [ <br> <br> &lt;!ENTITY nbsp " "&gt; <br> &lt;!ENTITY sect "¬ß" &gt; <br> &lt;!ENTITY copy "¬©"&gt; <br> &lt;!ENTITY laquo "¬´"&gt; <br> &lt;!ENTITY reg "¬Æ"&gt; <br> &lt;!ENTITY deg "¬∞"&gt; <br> &lt;!ENTITY plusmn "¬±"&gt; <br> &lt;!ENTITY para "¬∂"&gt; <br> &lt;!ENTITY raquo "¬ª"&gt; <br> &lt;!ENTITY times "√ó"&gt; <br> <br> <br> <br> &lt;!ENTITY bull "‚Ä¢"&gt; <br> &lt;!ENTITY hellip "‚Ä¶"&gt; <br> <br> <br> <br> &lt;!ENTITY ndash "‚Äì"&gt; <br> &lt;!ENTITY mdash "‚Äî"&gt; <br> &lt;!ENTITY lsquo "'"&gt; <br> &lt;!ENTITY rsquo "'"&gt; <br> &lt;!ENTITY sbquo "‚Äö"&gt; <br> &lt;!ENTITY ldquo "‚Äú"&gt; <br> &lt;!ENTITY rdquo "‚Äù"&gt; <br> &lt;!ENTITY bdquo "‚Äû"&gt; <br> &lt;!ENTITY lsaquo "‚Äπ"&gt; <br> &lt;!ENTITY rsaquo "‚Ä∫" &gt; <br> &lt;!ENTITY euro "‚Ç¨"&gt; <br> ]&gt; <br></strong></code> <br>      <strong>XML-</strong> .   <code>&lt;?xml version="1.0" encoding="windows-1251"?&gt;</code> . <br> <br>  XHML- <br> XSL-    XHTML- (   ).  XHTML-,  ,   <strong></strong> . <br> <br>      . <br> <br>   XHML-  ,    ,       : <br>  (   ).    -    ,      . / . <br>        HTML-: <br> <code><a href="https://habr.com/ru/post/22236/"></a> <a href="https://habr.com/ru/post/22236/"></a> <a href="https://habr.com/ru/post/22236/"></a> ... <br> <br>   <br> <br> <br> ... <br> <br>    <br> <br> ... <br> <br>   <br> <br> ... <br> <br>  <br> <br> ...</code> <br> <br>   XSL- <br>   XSL-   : <br> <code>&lt;xsl:stylesheet version = '1.0' encoding="UTF-8"?&gt; <br> &lt;xsl:template match="element"&gt; <br>   <br> &lt;/xsl:template&gt; <br> &lt;/xsl:stylesheet&gt;</code> <br> <br> : <code>&lt;xsl:stylesheet version = '1.0' encoding="UTF-8"?&gt;</code> -   <strong>XML-</strong>  .   <strong>UTF-8</strong> ( , ). <br> <code>&lt;xsl:stylesheet&gt; &lt;/xsl:stylesheet&gt;</code> -    XSL-. <br> <code>&lt;xsl:template match="element"&gt; &lt;/xsl:template&gt;</code> -       element. <br> <br>       : <br> <code>&lt;xsl:template match="element"&gt;&lt;/xsl:template&gt;</code> - ,     <strong>element</strong> .      <strong>element</strong> . <code>&lt;xsl:template match="element" mode="mode1"&gt;&lt;/xsl:template&gt;</code> - ,     <strong>element</strong>   <strong>mode1</strong> .         <strong>element</strong> . <code>&lt;xsl:template name="template-name"&gt;&lt;/xsl:template&gt;</code> -    <strong>template-name</strong> .     -  <strong>XML-</strong> . <br>           <strong>XML-</strong> (,  XML-,    item      ),      " "  : <br> <code>&lt;xsl:template match="navigation/sections/item"&gt;&lt;/xsl:template&gt;</code> <br>  ,    , ..,      ,  ,  , ..      <strong>navigation</strong> ,      <strong>navigation/sections/item</strong>     <strong>sections/item</strong> . <br> <br>    <br>  ,         -      .  ,        <strong>xsl-</strong> .            . <br> <br>       <strong>xsl</strong>    . <br> <br> ,        (       )   : <br> <strong>template_folder</strong> -    .      ,  <strong>my_template</strong> . <strong>dtd</strong> -    .   . <strong>lang</strong> -      (      ). <strong>mod</strong> -  . <br>       <strong>xsl/my_template</strong>   ,  <strong>layout.xsl</strong>  : <br> <code>&lt;?xml version="1.0" encoding="UTF-8"?&gt; <br> &lt;!DOCTYPE xsl:stylesheet SYSTEM "../dtd/entities.dtd"&gt; <br> &lt;xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform"&gt; <br> <br> &lt;xsl:template match="/node()"&gt; <br> &lt;/xsl:template&gt; <br> <br> &lt;/xsl:stylesheet&gt; <br></code> <br> : <br> <code>&lt;xsl:template match="/node()"&gt; &lt;/xsl:template&gt;</code> -    <strong>/node()</strong> ().  <strong>/node()</strong>   <strong>//document</strong> , ..      . <br> <br>   XHTML-   <code>&lt;xsl:template match="/node()"&gt;&lt;/xsl:template&gt;</code> <br> <br>        <strong>XML-</strong> .   , <strong>XSL-</strong>   <strong>XML-</strong>  <strong>XHTML-</strong>  . <br> <br> ,    <strong>XSL</strong>   <strong>template.xsl</strong> (, <strong>template</strong> -   ),     : <br> <code>&lt;?xml version="1.0" encoding="UTF-8"?&gt; <br> &lt;xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform"&gt; <br> <br> &lt;xsl:import href=" my_template /layout.xsl"/&gt; <br> &lt;/xsl:stylesheet&gt; <br></code> <br> : <br> <code>&lt;xsl:import href="my_template/layout.xsl"/&gt;</code> <br>    XSL- ( <strong>XSL-</strong> )   .     . <br> <br>       <br>       , ..     XML-    . <br> <br>   -    . <br> <br>        ,   <strong>XML-</strong>   : <br> <code><br> &lt;item id="0" parent_id="0" is_published="1" section="1"&gt; <br>  <br> / <br> <br> &lt;item id="1" parent_id="0" is_published="1" section="1" hit="yes"&gt; <br>  <br> news <br> <br></code> <br> <br> <br>      : <br>  <strong>id</strong>    <strong>document</strong> -    <strong>id</strong>  .  <strong>hit</strong>   <strong>item</strong> -   ,   ,    "  ". <br> ,  ,         : <br> <strong>sections</strong> -   . <strong>item</strong> -  . <br>  ,  ,   <strong>item</strong>     <strong>item</strong> ,   ,     : <br> <code><br> <br></code> <br> <br> 1.    xsl/my_template  navigation.xsl  : <br> <code>&lt;?xml version="1.0" encoding="UTF-8"?&gt; <br> &lt;!DOCTYPE xsl:stylesheet SYSTEM "../dtd/entities.dtd"&gt; <br> &lt;xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform"&gt; <br> <br> &lt;xsl:template match="sections" mode="global_menu"&gt; <br> &lt;/xsl:template&gt; <br> <br> &lt;/xsl:stylesheet&gt;</code> <br> <br> 2.         <strong>layout.xsl</strong> : <br> <code><a href="https://habr.com/"></a> <a href="https://habr.com/sections/"></a> <a href="https://habr.com/news/"></a> <br> &lt;xsl:template match="sections" mode="global_menu"&gt; <br>    <br> &lt;/xsl:template&gt; <br></code> <br> <br> 3. ‚Ä¶      <strong>layout.xsl</strong>     : <br> <code><br> &lt;xsl:apply-templates select="navigation/sections" mode="global_menu"/&gt; <br> <br></code> <br> : <br> <strong>select="navigation/sections"</strong> -  ( ) - .  ,     <strong>navigation/sections</strong> . <br> <br> <strong>mode="global_menu"</strong> -     <strong>global_menu</strong> .      ,        , ,  " ",  -         . <br> <br> 4. ,    layout.xsl     <strong>navigation.xsl</strong> : <br> <code>&lt;xsl:import href="navigation.xsl"/&gt;</code> <br> <br> 5. ,    <strong>navigation.xsl</strong>   ,    : <br> <code><br> &lt;xsl:template match="item" mode="global_menu"&gt; <br> &lt;xsl:call-template name="href_attribute"/&gt; <br> &lt;xsl:value-of select="title"/&gt; <br> <br> <br> &lt;/xsl:template&gt; <br> <br></code> <br> : <br> <code>&lt;xsl:call-template name="href_attribute"/&gt;</code> -    .        , ..  . <br> <br> <code>&lt;xsl:value-of select="title"/&gt;</code> - -   title  .         <strong>@</strong> -      . <br> <br> 6.    <strong>sections</strong> : <br> <code><br> &lt;xsl:template match="sections" mode="global_menu"&gt; <br> <br> &lt;/xsl:template&gt; <br> <br></code> <br> : <br> <code>&lt;xsl:apply-templates select="item" mode="global_menu"/&gt;</code> -    <strong>item</strong>  <strong>sections</strong> .  ,  <strong>item</strong>   <strong>item</strong> ( <strong>sections/item/item</strong> )   , ..      . <br> <br>     <strong>item</strong> ( )   .  ,         : <code>&lt;xsl:call-template name="href_attribute"/&gt;</code> <br> <br>      <strong>uri-</strong>    .    . <br> <br> 7.     , <br>   ,    .            <strong>item</strong> : <br> <code><br> &lt;xsl:template match="item" mode="global_menu"&gt; <br> <br> &lt;xsl:choose&gt; <br> <br> &lt;xsl:when test="descendant-or-self::*/@id = /node()/@id"&gt; <br> &lt;xsl:value-of select="title"/&gt; <br> &lt;/xsl:when&gt; <br> <br> &lt;xsl:otherwise&gt; <br> &lt;xsl:call-template name="href_attribute"/&gt; <br> &lt;xsl:value-of select="title"/&gt; <br> <br> &lt;/xsl:otherwise&gt; <br> &lt;/xsl:choose&gt; <br> <br> &lt;/xsl:template&gt; <br> <br></code> <br>      : <br> <code>&lt;xsl:choose&gt; <br> &lt;xsl:when&gt;&lt;/xsl:when&gt; <br> &lt;xsl:otherwise&gt;&lt;/xsl:otherwise&gt; <br> &lt;/xsl:choose&gt; <br></code> <br> ‚Ä¶, ,     <strong>XML-</strong> .      : <code>&lt;xsl:when test="descendant-or-self::*/@id = /node()/@id"&gt;</code> <br> <br>        <strong>ID</strong>    ( <strong>document</strong> )    ( <strong>item</strong> ),   ,    . <br> <br>   <code>&lt;xsl:when&gt;&lt;/xsl:when&gt;</code>  ,      .   <code>&lt;xsl:otherwise&gt;&lt;/xsl:otherwise&gt;</code> -    . <br> <br> 8. ,   <strong>href_attribute</strong> : <br> <code><br> &lt;xsl:template name="href_attribute"&gt; <br> &lt;xsl:attribute name="href"&gt; <br> &lt;xsl:text&gt;/&lt;/xsl:text&gt; <br> &lt;xsl:for-each select="ancestor-or-self::item"&gt; <br> &lt;xsl:value-of select="dir"/&gt; <br> &lt;xsl:text&gt;/&lt;/xsl:text&gt; <br> &lt;/xsl:for-each&gt; <br> &lt;/xsl:attribute&gt; <br> &lt;/xsl:template&gt; <br></code> <br> <br>      <strong>xsl:attribute</strong> .          .         <strong>a</strong> , ,      <strong>href</strong> , .. . <br> <br>  <code>&lt;xsl:for-each select="ancestor-or-self::item"&gt;</code>      ,  .      <strong>ancestor-or-self::item</strong> -         .           <strong>dir</strong> , ..     -. <br> <br> ,   -  ,       . ,   <a href="http://habrahabr.ru/blog/webdev/38433.html">  </a> . <br> <br> <strong>UPD:</strong> <br>   .   ,  : <br> <a href="">parser.proc.ru/iso/xslt-1.zip</a> <br> <br>        (       )           Apache. <br> <br>    XML-   /xsl/document.xml</code></code></code></code></code> <h3> <code><code><code><code><code><code>-    (   ). : <br> <strong>Lang</strong> -  .     . <strong>Id</strong> -   . <br> &lt;lang_table&gt;</code> -  ,   . <br> <code>-   : <br> -    (  ): <br> &lt;item id="0" parent_id="0" is_published="1" section="1"&gt;</code> -   . : <br> <strong>Id</strong> -  . <strong>Parent_id</strong> -   . <strong>Is_published</strong> -   . <strong>Dir</strong> - uri- .     . <strong>Section</strong> -  .         . <br> <code>-  . <br>   CMS   :        : <br> <strong>Html</strong> -  .  ,    . <strong>Com</strong> - -.  ,      CMS: , ,    .. <br>  <strong>XSL-</strong>   ,     .       . <br> <br> CMS       <strong> ,      : <br> : <br> <strong>Id</strong> -  . <br> <strong>Container</strong> - - (    ). <br> <strong>Sorting</strong> -    . <br> <strong>Type</strong> - : <br> <strong>Com</strong> - - <br> <strong>Html</strong> -  . <br> <strong>Method</strong> -  . <br> <strong>Title</strong> -  . <br> <strong>DTD</strong>     (    ): <br> &lt;!DOCTYPE site_page [ <br> <br> &lt;!ENTITY nbsp " "&gt; <br> &lt;!ENTITY sect "¬ß" &gt; <br> &lt;!ENTITY copy "¬©"&gt; <br> &lt;!ENTITY laquo "¬´"&gt; <br> &lt;!ENTITY reg "¬Æ"&gt; <br> &lt;!ENTITY deg "¬∞"&gt; <br> &lt;!ENTITY plusmn "¬±"&gt; <br> &lt;!ENTITY para "¬∂"&gt; <br> &lt;!ENTITY raquo "¬ª"&gt; <br> &lt;!ENTITY times "√ó"&gt; <br> <br> <br> <br> &lt;!ENTITY bull "‚Ä¢"&gt; <br> &lt;!ENTITY hellip "‚Ä¶"&gt; <br> <br> <br> <br> &lt;!ENTITY ndash "‚Äì"&gt; <br> &lt;!ENTITY mdash "‚Äî"&gt; <br> &lt;!ENTITY lsquo "'"&gt; <br> &lt;!ENTITY rsquo "'"&gt; <br> &lt;!ENTITY sbquo "‚Äö"&gt; <br> &lt;!ENTITY ldquo "‚Äú"&gt; <br> &lt;!ENTITY rdquo "‚Äù"&gt; <br> &lt;!ENTITY bdquo "‚Äû"&gt; <br> &lt;!ENTITY lsaquo "‚Äπ"&gt; <br> &lt;!ENTITY rsaquo "‚Ä∫" &gt; <br> &lt;!ENTITY euro "‚Ç¨"&gt; <br> ]&gt; <br></strong></code> <br>      <strong>XML-</strong> .   <code>&lt;?xml version="1.0" encoding="windows-1251"?&gt;</code> . <br> <br>  XHML- <br> XSL-    XHTML- (   ).  XHTML-,  ,   <strong></strong> . <br> <br>      . <br> <br>   XHML-  ,    ,       : <br>  (   ).    -    ,      . / . <br>        HTML-: <br> <code><a href="https://habr.com/ru/post/22236/"></a> <a href="https://habr.com/ru/post/22236/"></a> <a href="https://habr.com/ru/post/22236/"></a> ... <br> <br>   <br> <br> <br> ... <br> <br>    <br> <br> ... <br> <br>   <br> <br> ... <br> <br>  <br> <br> ...</code> <br> <br>   XSL- <br>   XSL-   : <br> <code>&lt;xsl:stylesheet version = '1.0' encoding="UTF-8"?&gt; <br> &lt;xsl:template match="element"&gt; <br>   <br> &lt;/xsl:template&gt; <br> &lt;/xsl:stylesheet&gt;</code> <br> <br> : <code>&lt;xsl:stylesheet version = '1.0' encoding="UTF-8"?&gt;</code> -   <strong>XML-</strong>  .   <strong>UTF-8</strong> ( , ). <br> <code>&lt;xsl:stylesheet&gt; &lt;/xsl:stylesheet&gt;</code> -    XSL-. <br> <code>&lt;xsl:template match="element"&gt; &lt;/xsl:template&gt;</code> -       element. <br> <br>       : <br> <code>&lt;xsl:template match="element"&gt;&lt;/xsl:template&gt;</code> - ,     <strong>element</strong> .      <strong>element</strong> . <code>&lt;xsl:template match="element" mode="mode1"&gt;&lt;/xsl:template&gt;</code> - ,     <strong>element</strong>   <strong>mode1</strong> .         <strong>element</strong> . <code>&lt;xsl:template name="template-name"&gt;&lt;/xsl:template&gt;</code> -    <strong>template-name</strong> .     -  <strong>XML-</strong> . <br>           <strong>XML-</strong> (,  XML-,    item      ),      " "  : <br> <code>&lt;xsl:template match="navigation/sections/item"&gt;&lt;/xsl:template&gt;</code> <br>  ,    , ..,      ,  ,  , ..      <strong>navigation</strong> ,      <strong>navigation/sections/item</strong>     <strong>sections/item</strong> . <br> <br>    <br>  ,         -      .  ,        <strong>xsl-</strong> .            . <br> <br>       <strong>xsl</strong>    . <br> <br> ,        (       )   : <br> <strong>template_folder</strong> -    .      ,  <strong>my_template</strong> . <strong>dtd</strong> -    .   . <strong>lang</strong> -      (      ). <strong>mod</strong> -  . <br>       <strong>xsl/my_template</strong>   ,  <strong>layout.xsl</strong>  : <br> <code>&lt;?xml version="1.0" encoding="UTF-8"?&gt; <br> &lt;!DOCTYPE xsl:stylesheet SYSTEM "../dtd/entities.dtd"&gt; <br> &lt;xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform"&gt; <br> <br> &lt;xsl:template match="/node()"&gt; <br> &lt;/xsl:template&gt; <br> <br> &lt;/xsl:stylesheet&gt; <br></code> <br> : <br> <code>&lt;xsl:template match="/node()"&gt; &lt;/xsl:template&gt;</code> -    <strong>/node()</strong> ().  <strong>/node()</strong>   <strong>//document</strong> , ..      . <br> <br>   XHTML-   <code>&lt;xsl:template match="/node()"&gt;&lt;/xsl:template&gt;</code> <br> <br>        <strong>XML-</strong> .   , <strong>XSL-</strong>   <strong>XML-</strong>  <strong>XHTML-</strong>  . <br> <br> ,    <strong>XSL</strong>   <strong>template.xsl</strong> (, <strong>template</strong> -   ),     : <br> <code>&lt;?xml version="1.0" encoding="UTF-8"?&gt; <br> &lt;xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform"&gt; <br> <br> &lt;xsl:import href=" my_template /layout.xsl"/&gt; <br> &lt;/xsl:stylesheet&gt; <br></code> <br> : <br> <code>&lt;xsl:import href="my_template/layout.xsl"/&gt;</code> <br>    XSL- ( <strong>XSL-</strong> )   .     . <br> <br>       <br>       , ..     XML-    . <br> <br>   -    . <br> <br>        ,   <strong>XML-</strong>   : <br> <code><br> &lt;item id="0" parent_id="0" is_published="1" section="1"&gt; <br>  <br> / <br> <br> &lt;item id="1" parent_id="0" is_published="1" section="1" hit="yes"&gt; <br>  <br> news <br> <br></code> <br> <br> <br>      : <br>  <strong>id</strong>    <strong>document</strong> -    <strong>id</strong>  .  <strong>hit</strong>   <strong>item</strong> -   ,   ,    "  ". <br> ,  ,         : <br> <strong>sections</strong> -   . <strong>item</strong> -  . <br>  ,  ,   <strong>item</strong>     <strong>item</strong> ,   ,     : <br> <code><br> <br></code> <br> <br> 1.    xsl/my_template  navigation.xsl  : <br> <code>&lt;?xml version="1.0" encoding="UTF-8"?&gt; <br> &lt;!DOCTYPE xsl:stylesheet SYSTEM "../dtd/entities.dtd"&gt; <br> &lt;xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform"&gt; <br> <br> &lt;xsl:template match="sections" mode="global_menu"&gt; <br> &lt;/xsl:template&gt; <br> <br> &lt;/xsl:stylesheet&gt;</code> <br> <br> 2.         <strong>layout.xsl</strong> : <br> <code><a href="https://habr.com/"></a> <a href="https://habr.com/sections/"></a> <a href="https://habr.com/news/"></a> <br> &lt;xsl:template match="sections" mode="global_menu"&gt; <br>    <br> &lt;/xsl:template&gt; <br></code> <br> <br> 3. ‚Ä¶      <strong>layout.xsl</strong>     : <br> <code><br> &lt;xsl:apply-templates select="navigation/sections" mode="global_menu"/&gt; <br> <br></code> <br> : <br> <strong>select="navigation/sections"</strong> -  ( ) - .  ,     <strong>navigation/sections</strong> . <br> <br> <strong>mode="global_menu"</strong> -     <strong>global_menu</strong> .      ,        , ,  " ",  -         . <br> <br> 4. ,    layout.xsl     <strong>navigation.xsl</strong> : <br> <code>&lt;xsl:import href="navigation.xsl"/&gt;</code> <br> <br> 5. ,    <strong>navigation.xsl</strong>   ,    : <br> <code><br> &lt;xsl:template match="item" mode="global_menu"&gt; <br> &lt;xsl:call-template name="href_attribute"/&gt; <br> &lt;xsl:value-of select="title"/&gt; <br> <br> <br> &lt;/xsl:template&gt; <br> <br></code> <br> : <br> <code>&lt;xsl:call-template name="href_attribute"/&gt;</code> -    .        , ..  . <br> <br> <code>&lt;xsl:value-of select="title"/&gt;</code> - -   title  .         <strong>@</strong> -      . <br> <br> 6.    <strong>sections</strong> : <br> <code><br> &lt;xsl:template match="sections" mode="global_menu"&gt; <br> <br> &lt;/xsl:template&gt; <br> <br></code> <br> : <br> <code>&lt;xsl:apply-templates select="item" mode="global_menu"/&gt;</code> -    <strong>item</strong>  <strong>sections</strong> .  ,  <strong>item</strong>   <strong>item</strong> ( <strong>sections/item/item</strong> )   , ..      . <br> <br>     <strong>item</strong> ( )   .  ,         : <code>&lt;xsl:call-template name="href_attribute"/&gt;</code> <br> <br>      <strong>uri-</strong>    .    . <br> <br> 7.     , <br>   ,    .            <strong>item</strong> : <br> <code><br> &lt;xsl:template match="item" mode="global_menu"&gt; <br> <br> &lt;xsl:choose&gt; <br> <br> &lt;xsl:when test="descendant-or-self::*/@id = /node()/@id"&gt; <br> &lt;xsl:value-of select="title"/&gt; <br> &lt;/xsl:when&gt; <br> <br> &lt;xsl:otherwise&gt; <br> &lt;xsl:call-template name="href_attribute"/&gt; <br> &lt;xsl:value-of select="title"/&gt; <br> <br> &lt;/xsl:otherwise&gt; <br> &lt;/xsl:choose&gt; <br> <br> &lt;/xsl:template&gt; <br> <br></code> <br>      : <br> <code>&lt;xsl:choose&gt; <br> &lt;xsl:when&gt;&lt;/xsl:when&gt; <br> &lt;xsl:otherwise&gt;&lt;/xsl:otherwise&gt; <br> &lt;/xsl:choose&gt; <br></code> <br> ‚Ä¶, ,     <strong>XML-</strong> .      : <code>&lt;xsl:when test="descendant-or-self::*/@id = /node()/@id"&gt;</code> <br> <br>        <strong>ID</strong>    ( <strong>document</strong> )    ( <strong>item</strong> ),   ,    . <br> <br>   <code>&lt;xsl:when&gt;&lt;/xsl:when&gt;</code>  ,      .   <code>&lt;xsl:otherwise&gt;&lt;/xsl:otherwise&gt;</code> -    . <br> <br> 8. ,   <strong>href_attribute</strong> : <br> <code><br> &lt;xsl:template name="href_attribute"&gt; <br> &lt;xsl:attribute name="href"&gt; <br> &lt;xsl:text&gt;/&lt;/xsl:text&gt; <br> &lt;xsl:for-each select="ancestor-or-self::item"&gt; <br> &lt;xsl:value-of select="dir"/&gt; <br> &lt;xsl:text&gt;/&lt;/xsl:text&gt; <br> &lt;/xsl:for-each&gt; <br> &lt;/xsl:attribute&gt; <br> &lt;/xsl:template&gt; <br></code> <br> <br>      <strong>xsl:attribute</strong> .          .         <strong>a</strong> , ,      <strong>href</strong> , .. . <br> <br>  <code>&lt;xsl:for-each select="ancestor-or-self::item"&gt;</code>      ,  .      <strong>ancestor-or-self::item</strong> -         .           <strong>dir</strong> , ..     -. <br> <br> ,   -  ,       . ,   <a href="http://habrahabr.ru/blog/webdev/38433.html">  </a> . <br> <br> <strong>UPD:</strong> <br>   .   ,  : <br> <a href="">parser.proc.ru/iso/xslt-1.zip</a> <br> <br>        (       )           Apache. <br> <br>    XML-   /xsl/document.xml</code></code></code></code></code> </h3> <code><code><code><code><code><code>-    (   ). : <br> <strong>Lang</strong> -  .     . <strong>Id</strong> -   . <br> &lt;lang_table&gt;</code> -  ,   . <br> <code>-   : <br> -    (  ): <br> &lt;item id="0" parent_id="0" is_published="1" section="1"&gt;</code> -   . : <br> <strong>Id</strong> -  . <strong>Parent_id</strong> -   . <strong>Is_published</strong> -   . <strong>Dir</strong> - uri- .     . <strong>Section</strong> -  .         . <br> <code>-  . <br>   CMS   :        : <br> <strong>Html</strong> -  .  ,    . <strong>Com</strong> - -.  ,      CMS: , ,    .. <br>  <strong>XSL-</strong>   ,     .       . <br> <br> CMS       <strong> ,      : <br> : <br> <strong>Id</strong> -  . <br> <strong>Container</strong> - - (    ). <br> <strong>Sorting</strong> -    . <br> <strong>Type</strong> - : <br> <strong>Com</strong> - - <br> <strong>Html</strong> -  . <br> <strong>Method</strong> -  . <br> <strong>Title</strong> -  . <br> <strong>DTD</strong>     (    ): <br> &lt;!DOCTYPE site_page [ <br> <br> &lt;!ENTITY nbsp " "&gt; <br> &lt;!ENTITY sect "¬ß" &gt; <br> &lt;!ENTITY copy "¬©"&gt; <br> &lt;!ENTITY laquo "¬´"&gt; <br> &lt;!ENTITY reg "¬Æ"&gt; <br> &lt;!ENTITY deg "¬∞"&gt; <br> &lt;!ENTITY plusmn "¬±"&gt; <br> &lt;!ENTITY para "¬∂"&gt; <br> &lt;!ENTITY raquo "¬ª"&gt; <br> &lt;!ENTITY times "√ó"&gt; <br> <br> <br> <br> &lt;!ENTITY bull "‚Ä¢"&gt; <br> &lt;!ENTITY hellip "‚Ä¶"&gt; <br> <br> <br> <br> &lt;!ENTITY ndash "‚Äì"&gt; <br> &lt;!ENTITY mdash "‚Äî"&gt; <br> &lt;!ENTITY lsquo "'"&gt; <br> &lt;!ENTITY rsquo "'"&gt; <br> &lt;!ENTITY sbquo "‚Äö"&gt; <br> &lt;!ENTITY ldquo "‚Äú"&gt; <br> &lt;!ENTITY rdquo "‚Äù"&gt; <br> &lt;!ENTITY bdquo "‚Äû"&gt; <br> &lt;!ENTITY lsaquo "‚Äπ"&gt; <br> &lt;!ENTITY rsaquo "‚Ä∫" &gt; <br> &lt;!ENTITY euro "‚Ç¨"&gt; <br> ]&gt; <br></strong></code> <br>      <strong>XML-</strong> .   <code>&lt;?xml version="1.0" encoding="windows-1251"?&gt;</code> . <br> <br>  XHML- <br> XSL-    XHTML- (   ).  XHTML-,  ,   <strong></strong> . <br> <br>      . <br> <br>   XHML-  ,    ,       : <br>  (   ).    -    ,      . / . <br>        HTML-: <br> <code><a href="https://habr.com/ru/post/22236/"></a> <a href="https://habr.com/ru/post/22236/"></a> <a href="https://habr.com/ru/post/22236/"></a> ... <br> <br>   <br> <br> <br> ... <br> <br>    <br> <br> ... <br> <br>   <br> <br> ... <br> <br>  <br> <br> ...</code> <br> <br>   XSL- <br>   XSL-   : <br> <code>&lt;xsl:stylesheet version = '1.0' encoding="UTF-8"?&gt; <br> &lt;xsl:template match="element"&gt; <br>   <br> &lt;/xsl:template&gt; <br> &lt;/xsl:stylesheet&gt;</code> <br> <br> : <code>&lt;xsl:stylesheet version = '1.0' encoding="UTF-8"?&gt;</code> -   <strong>XML-</strong>  .   <strong>UTF-8</strong> ( , ). <br> <code>&lt;xsl:stylesheet&gt; &lt;/xsl:stylesheet&gt;</code> -    XSL-. <br> <code>&lt;xsl:template match="element"&gt; &lt;/xsl:template&gt;</code> -       element. <br> <br>       : <br> <code>&lt;xsl:template match="element"&gt;&lt;/xsl:template&gt;</code> - ,     <strong>element</strong> .      <strong>element</strong> . <code>&lt;xsl:template match="element" mode="mode1"&gt;&lt;/xsl:template&gt;</code> - ,     <strong>element</strong>   <strong>mode1</strong> .         <strong>element</strong> . <code>&lt;xsl:template name="template-name"&gt;&lt;/xsl:template&gt;</code> -    <strong>template-name</strong> .     -  <strong>XML-</strong> . <br>           <strong>XML-</strong> (,  XML-,    item      ),      " "  : <br> <code>&lt;xsl:template match="navigation/sections/item"&gt;&lt;/xsl:template&gt;</code> <br>  ,    , ..,      ,  ,  , ..      <strong>navigation</strong> ,      <strong>navigation/sections/item</strong>     <strong>sections/item</strong> . <br> <br>    <br>  ,         -      .  ,        <strong>xsl-</strong> .            . <br> <br>       <strong>xsl</strong>    . <br> <br> ,        (       )   : <br> <strong>template_folder</strong> -    .      ,  <strong>my_template</strong> . <strong>dtd</strong> -    .   . <strong>lang</strong> -      (      ). <strong>mod</strong> -  . <br>       <strong>xsl/my_template</strong>   ,  <strong>layout.xsl</strong>  : <br> <code>&lt;?xml version="1.0" encoding="UTF-8"?&gt; <br> &lt;!DOCTYPE xsl:stylesheet SYSTEM "../dtd/entities.dtd"&gt; <br> &lt;xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform"&gt; <br> <br> &lt;xsl:template match="/node()"&gt; <br> &lt;/xsl:template&gt; <br> <br> &lt;/xsl:stylesheet&gt; <br></code> <br> : <br> <code>&lt;xsl:template match="/node()"&gt; &lt;/xsl:template&gt;</code> -    <strong>/node()</strong> ().  <strong>/node()</strong>   <strong>//document</strong> , ..      . <br> <br>   XHTML-   <code>&lt;xsl:template match="/node()"&gt;&lt;/xsl:template&gt;</code> <br> <br>        <strong>XML-</strong> .   , <strong>XSL-</strong>   <strong>XML-</strong>  <strong>XHTML-</strong>  . <br> <br> ,    <strong>XSL</strong>   <strong>template.xsl</strong> (, <strong>template</strong> -   ),     : <br> <code>&lt;?xml version="1.0" encoding="UTF-8"?&gt; <br> &lt;xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform"&gt; <br> <br> &lt;xsl:import href=" my_template /layout.xsl"/&gt; <br> &lt;/xsl:stylesheet&gt; <br></code> <br> : <br> <code>&lt;xsl:import href="my_template/layout.xsl"/&gt;</code> <br>    XSL- ( <strong>XSL-</strong> )   .     . <br> <br>       <br>       , ..     XML-    . <br> <br>   -    . <br> <br>        ,   <strong>XML-</strong>   : <br> <code><br> &lt;item id="0" parent_id="0" is_published="1" section="1"&gt; <br>  <br> / <br> <br> &lt;item id="1" parent_id="0" is_published="1" section="1" hit="yes"&gt; <br>  <br> news <br> <br></code> <br> <br> <br>      : <br>  <strong>id</strong>    <strong>document</strong> -    <strong>id</strong>  .  <strong>hit</strong>   <strong>item</strong> -   ,   ,    "  ". <br> ,  ,         : <br> <strong>sections</strong> -   . <strong>item</strong> -  . <br>  ,  ,   <strong>item</strong>     <strong>item</strong> ,   ,     : <br> <code><br> <br></code> <br> <br> 1.    xsl/my_template  navigation.xsl  : <br> <code>&lt;?xml version="1.0" encoding="UTF-8"?&gt; <br> &lt;!DOCTYPE xsl:stylesheet SYSTEM "../dtd/entities.dtd"&gt; <br> &lt;xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform"&gt; <br> <br> &lt;xsl:template match="sections" mode="global_menu"&gt; <br> &lt;/xsl:template&gt; <br> <br> &lt;/xsl:stylesheet&gt;</code> <br> <br> 2.         <strong>layout.xsl</strong> : <br> <code><a href="https://habr.com/"></a> <a href="https://habr.com/sections/"></a> <a href="https://habr.com/news/"></a> <br> &lt;xsl:template match="sections" mode="global_menu"&gt; <br>    <br> &lt;/xsl:template&gt; <br></code> <br> <br> 3. ‚Ä¶      <strong>layout.xsl</strong>     : <br> <code><br> &lt;xsl:apply-templates select="navigation/sections" mode="global_menu"/&gt; <br> <br></code> <br> : <br> <strong>select="navigation/sections"</strong> -  ( ) - .  ,     <strong>navigation/sections</strong> . <br> <br> <strong>mode="global_menu"</strong> -     <strong>global_menu</strong> .      ,        , ,  " ",  -         . <br> <br> 4. ,    layout.xsl     <strong>navigation.xsl</strong> : <br> <code>&lt;xsl:import href="navigation.xsl"/&gt;</code> <br> <br> 5. ,    <strong>navigation.xsl</strong>   ,    : <br> <code><br> &lt;xsl:template match="item" mode="global_menu"&gt; <br> &lt;xsl:call-template name="href_attribute"/&gt; <br> &lt;xsl:value-of select="title"/&gt; <br> <br> <br> &lt;/xsl:template&gt; <br> <br></code> <br> : <br> <code>&lt;xsl:call-template name="href_attribute"/&gt;</code> -    .        , ..  . <br> <br> <code>&lt;xsl:value-of select="title"/&gt;</code> - -   title  .         <strong>@</strong> -      . <br> <br> 6.    <strong>sections</strong> : <br> <code><br> &lt;xsl:template match="sections" mode="global_menu"&gt; <br> <br> &lt;/xsl:template&gt; <br> <br></code> <br> : <br> <code>&lt;xsl:apply-templates select="item" mode="global_menu"/&gt;</code> -    <strong>item</strong>  <strong>sections</strong> .  ,  <strong>item</strong>   <strong>item</strong> ( <strong>sections/item/item</strong> )   , ..      . <br> <br>     <strong>item</strong> ( )   .  ,         : <code>&lt;xsl:call-template name="href_attribute"/&gt;</code> <br> <br>      <strong>uri-</strong>    .    . <br> <br> 7.     , <br>   ,    .            <strong>item</strong> : <br> <code><br> &lt;xsl:template match="item" mode="global_menu"&gt; <br> <br> &lt;xsl:choose&gt; <br> <br> &lt;xsl:when test="descendant-or-self::*/@id = /node()/@id"&gt; <br> &lt;xsl:value-of select="title"/&gt; <br> &lt;/xsl:when&gt; <br> <br> &lt;xsl:otherwise&gt; <br> &lt;xsl:call-template name="href_attribute"/&gt; <br> &lt;xsl:value-of select="title"/&gt; <br> <br> &lt;/xsl:otherwise&gt; <br> &lt;/xsl:choose&gt; <br> <br> &lt;/xsl:template&gt; <br> <br></code> <br>      : <br> <code>&lt;xsl:choose&gt; <br> &lt;xsl:when&gt;&lt;/xsl:when&gt; <br> &lt;xsl:otherwise&gt;&lt;/xsl:otherwise&gt; <br> &lt;/xsl:choose&gt; <br></code> <br> ‚Ä¶, ,     <strong>XML-</strong> .      : <code>&lt;xsl:when test="descendant-or-self::*/@id = /node()/@id"&gt;</code> <br> <br>        <strong>ID</strong>    ( <strong>document</strong> )    ( <strong>item</strong> ),   ,    . <br> <br>   <code>&lt;xsl:when&gt;&lt;/xsl:when&gt;</code>  ,      .   <code>&lt;xsl:otherwise&gt;&lt;/xsl:otherwise&gt;</code> -    . <br> <br> 8. ,   <strong>href_attribute</strong> : <br> <code><br> &lt;xsl:template name="href_attribute"&gt; <br> &lt;xsl:attribute name="href"&gt; <br> &lt;xsl:text&gt;/&lt;/xsl:text&gt; <br> &lt;xsl:for-each select="ancestor-or-self::item"&gt; <br> &lt;xsl:value-of select="dir"/&gt; <br> &lt;xsl:text&gt;/&lt;/xsl:text&gt; <br> &lt;/xsl:for-each&gt; <br> &lt;/xsl:attribute&gt; <br> &lt;/xsl:template&gt; <br></code> <br> <br>      <strong>xsl:attribute</strong> .          .         <strong>a</strong> , ,      <strong>href</strong> , .. . <br> <br>  <code>&lt;xsl:for-each select="ancestor-or-self::item"&gt;</code>      ,  .      <strong>ancestor-or-self::item</strong> -         .           <strong>dir</strong> , ..     -. <br> <br> ,   -  ,       . ,   <a href="http://habrahabr.ru/blog/webdev/38433.html">  </a> . <br> <br> <strong>UPD:</strong> <br>   .   ,  : <br> <a href="">parser.proc.ru/iso/xslt-1.zip</a> <br> <br>        (       )           Apache. <br> <br>    XML-   /xsl/document.xml</code></code></code></code></code> <h3> <code><code><code><code><code><code>-    (   ). : <br> <strong>Lang</strong> -  .     . <strong>Id</strong> -   . <br> &lt;lang_table&gt;</code> -  ,   . <br> <code>-   : <br> -    (  ): <br> &lt;item id="0" parent_id="0" is_published="1" section="1"&gt;</code> -   . : <br> <strong>Id</strong> -  . <strong>Parent_id</strong> -   . <strong>Is_published</strong> -   . <strong>Dir</strong> - uri- .     . <strong>Section</strong> -  .         . <br> <code>-  . <br>   CMS   :        : <br> <strong>Html</strong> -  .  ,    . <strong>Com</strong> - -.  ,      CMS: , ,    .. <br>  <strong>XSL-</strong>   ,     .       . <br> <br> CMS       <strong> ,      : <br> : <br> <strong>Id</strong> -  . <br> <strong>Container</strong> - - (    ). <br> <strong>Sorting</strong> -    . <br> <strong>Type</strong> - : <br> <strong>Com</strong> - - <br> <strong>Html</strong> -  . <br> <strong>Method</strong> -  . <br> <strong>Title</strong> -  . <br> <strong>DTD</strong>     (    ): <br> &lt;!DOCTYPE site_page [ <br> <br> &lt;!ENTITY nbsp " "&gt; <br> &lt;!ENTITY sect "¬ß" &gt; <br> &lt;!ENTITY copy "¬©"&gt; <br> &lt;!ENTITY laquo "¬´"&gt; <br> &lt;!ENTITY reg "¬Æ"&gt; <br> &lt;!ENTITY deg "¬∞"&gt; <br> &lt;!ENTITY plusmn "¬±"&gt; <br> &lt;!ENTITY para "¬∂"&gt; <br> &lt;!ENTITY raquo "¬ª"&gt; <br> &lt;!ENTITY times "√ó"&gt; <br> <br> <br> <br> &lt;!ENTITY bull "‚Ä¢"&gt; <br> &lt;!ENTITY hellip "‚Ä¶"&gt; <br> <br> <br> <br> &lt;!ENTITY ndash "‚Äì"&gt; <br> &lt;!ENTITY mdash "‚Äî"&gt; <br> &lt;!ENTITY lsquo "'"&gt; <br> &lt;!ENTITY rsquo "'"&gt; <br> &lt;!ENTITY sbquo "‚Äö"&gt; <br> &lt;!ENTITY ldquo "‚Äú"&gt; <br> &lt;!ENTITY rdquo "‚Äù"&gt; <br> &lt;!ENTITY bdquo "‚Äû"&gt; <br> &lt;!ENTITY lsaquo "‚Äπ"&gt; <br> &lt;!ENTITY rsaquo "‚Ä∫" &gt; <br> &lt;!ENTITY euro "‚Ç¨"&gt; <br> ]&gt; <br></strong></code> <br>      <strong>XML-</strong> .   <code>&lt;?xml version="1.0" encoding="windows-1251"?&gt;</code> . <br> <br>  XHML- <br> XSL-    XHTML- (   ).  XHTML-,  ,   <strong></strong> . <br> <br>      . <br> <br>   XHML-  ,    ,       : <br>  (   ).    -    ,      . / . <br>        HTML-: <br> <code><a href="https://habr.com/ru/post/22236/"></a> <a href="https://habr.com/ru/post/22236/"></a> <a href="https://habr.com/ru/post/22236/"></a> ... <br> <br>   <br> <br> <br> ... <br> <br>    <br> <br> ... <br> <br>   <br> <br> ... <br> <br>  <br> <br> ...</code> <br> <br>   XSL- <br>   XSL-   : <br> <code>&lt;xsl:stylesheet version = '1.0' encoding="UTF-8"?&gt; <br> &lt;xsl:template match="element"&gt; <br>   <br> &lt;/xsl:template&gt; <br> &lt;/xsl:stylesheet&gt;</code> <br> <br> : <code>&lt;xsl:stylesheet version = '1.0' encoding="UTF-8"?&gt;</code> -   <strong>XML-</strong>  .   <strong>UTF-8</strong> ( , ). <br> <code>&lt;xsl:stylesheet&gt; &lt;/xsl:stylesheet&gt;</code> -    XSL-. <br> <code>&lt;xsl:template match="element"&gt; &lt;/xsl:template&gt;</code> -       element. <br> <br>       : <br> <code>&lt;xsl:template match="element"&gt;&lt;/xsl:template&gt;</code> - ,     <strong>element</strong> .      <strong>element</strong> . <code>&lt;xsl:template match="element" mode="mode1"&gt;&lt;/xsl:template&gt;</code> - ,     <strong>element</strong>   <strong>mode1</strong> .         <strong>element</strong> . <code>&lt;xsl:template name="template-name"&gt;&lt;/xsl:template&gt;</code> -    <strong>template-name</strong> .     -  <strong>XML-</strong> . <br>           <strong>XML-</strong> (,  XML-,    item      ),      " "  : <br> <code>&lt;xsl:template match="navigation/sections/item"&gt;&lt;/xsl:template&gt;</code> <br>  ,    , ..,      ,  ,  , ..      <strong>navigation</strong> ,      <strong>navigation/sections/item</strong>     <strong>sections/item</strong> . <br> <br>    <br>  ,         -      .  ,        <strong>xsl-</strong> .            . <br> <br>       <strong>xsl</strong>    . <br> <br> ,        (       )   : <br> <strong>template_folder</strong> -    .      ,  <strong>my_template</strong> . <strong>dtd</strong> -    .   . <strong>lang</strong> -      (      ). <strong>mod</strong> -  . <br>       <strong>xsl/my_template</strong>   ,  <strong>layout.xsl</strong>  : <br> <code>&lt;?xml version="1.0" encoding="UTF-8"?&gt; <br> &lt;!DOCTYPE xsl:stylesheet SYSTEM "../dtd/entities.dtd"&gt; <br> &lt;xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform"&gt; <br> <br> &lt;xsl:template match="/node()"&gt; <br> &lt;/xsl:template&gt; <br> <br> &lt;/xsl:stylesheet&gt; <br></code> <br> : <br> <code>&lt;xsl:template match="/node()"&gt; &lt;/xsl:template&gt;</code> -    <strong>/node()</strong> ().  <strong>/node()</strong>   <strong>//document</strong> , ..      . <br> <br>   XHTML-   <code>&lt;xsl:template match="/node()"&gt;&lt;/xsl:template&gt;</code> <br> <br>        <strong>XML-</strong> .   , <strong>XSL-</strong>   <strong>XML-</strong>  <strong>XHTML-</strong>  . <br> <br> ,    <strong>XSL</strong>   <strong>template.xsl</strong> (, <strong>template</strong> -   ),     : <br> <code>&lt;?xml version="1.0" encoding="UTF-8"?&gt; <br> &lt;xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform"&gt; <br> <br> &lt;xsl:import href=" my_template /layout.xsl"/&gt; <br> &lt;/xsl:stylesheet&gt; <br></code> <br> : <br> <code>&lt;xsl:import href="my_template/layout.xsl"/&gt;</code> <br>    XSL- ( <strong>XSL-</strong> )   .     . <br> <br>       <br>       , ..     XML-    . <br> <br>   -    . <br> <br>        ,   <strong>XML-</strong>   : <br> <code><br> &lt;item id="0" parent_id="0" is_published="1" section="1"&gt; <br>  <br> / <br> <br> &lt;item id="1" parent_id="0" is_published="1" section="1" hit="yes"&gt; <br>  <br> news <br> <br></code> <br> <br> <br>      : <br>  <strong>id</strong>    <strong>document</strong> -    <strong>id</strong>  .  <strong>hit</strong>   <strong>item</strong> -   ,   ,    "  ". <br> ,  ,         : <br> <strong>sections</strong> -   . <strong>item</strong> -  . <br>  ,  ,   <strong>item</strong>     <strong>item</strong> ,   ,     : <br> <code><br> <br></code> <br> <br> 1.    xsl/my_template  navigation.xsl  : <br> <code>&lt;?xml version="1.0" encoding="UTF-8"?&gt; <br> &lt;!DOCTYPE xsl:stylesheet SYSTEM "../dtd/entities.dtd"&gt; <br> &lt;xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform"&gt; <br> <br> &lt;xsl:template match="sections" mode="global_menu"&gt; <br> &lt;/xsl:template&gt; <br> <br> &lt;/xsl:stylesheet&gt;</code> <br> <br> 2.         <strong>layout.xsl</strong> : <br> <code><a href="https://habr.com/"></a> <a href="https://habr.com/sections/"></a> <a href="https://habr.com/news/"></a> <br> &lt;xsl:template match="sections" mode="global_menu"&gt; <br>    <br> &lt;/xsl:template&gt; <br></code> <br> <br> 3. ‚Ä¶      <strong>layout.xsl</strong>     : <br> <code><br> &lt;xsl:apply-templates select="navigation/sections" mode="global_menu"/&gt; <br> <br></code> <br> : <br> <strong>select="navigation/sections"</strong> -  ( ) - .  ,     <strong>navigation/sections</strong> . <br> <br> <strong>mode="global_menu"</strong> -     <strong>global_menu</strong> .      ,        , ,  " ",  -         . <br> <br> 4. ,    layout.xsl     <strong>navigation.xsl</strong> : <br> <code>&lt;xsl:import href="navigation.xsl"/&gt;</code> <br> <br> 5. ,    <strong>navigation.xsl</strong>   ,    : <br> <code><br> &lt;xsl:template match="item" mode="global_menu"&gt; <br> &lt;xsl:call-template name="href_attribute"/&gt; <br> &lt;xsl:value-of select="title"/&gt; <br> <br> <br> &lt;/xsl:template&gt; <br> <br></code> <br> : <br> <code>&lt;xsl:call-template name="href_attribute"/&gt;</code> -    .        , ..  . <br> <br> <code>&lt;xsl:value-of select="title"/&gt;</code> - -   title  .         <strong>@</strong> -      . <br> <br> 6.    <strong>sections</strong> : <br> <code><br> &lt;xsl:template match="sections" mode="global_menu"&gt; <br> <br> &lt;/xsl:template&gt; <br> <br></code> <br> : <br> <code>&lt;xsl:apply-templates select="item" mode="global_menu"/&gt;</code> -    <strong>item</strong>  <strong>sections</strong> .  ,  <strong>item</strong>   <strong>item</strong> ( <strong>sections/item/item</strong> )   , ..      . <br> <br>     <strong>item</strong> ( )   .  ,         : <code>&lt;xsl:call-template name="href_attribute"/&gt;</code> <br> <br>      <strong>uri-</strong>    .    . <br> <br> 7.     , <br>   ,    .            <strong>item</strong> : <br> <code><br> &lt;xsl:template match="item" mode="global_menu"&gt; <br> <br> &lt;xsl:choose&gt; <br> <br> &lt;xsl:when test="descendant-or-self::*/@id = /node()/@id"&gt; <br> &lt;xsl:value-of select="title"/&gt; <br> &lt;/xsl:when&gt; <br> <br> &lt;xsl:otherwise&gt; <br> &lt;xsl:call-template name="href_attribute"/&gt; <br> &lt;xsl:value-of select="title"/&gt; <br> <br> &lt;/xsl:otherwise&gt; <br> &lt;/xsl:choose&gt; <br> <br> &lt;/xsl:template&gt; <br> <br></code> <br>      : <br> <code>&lt;xsl:choose&gt; <br> &lt;xsl:when&gt;&lt;/xsl:when&gt; <br> &lt;xsl:otherwise&gt;&lt;/xsl:otherwise&gt; <br> &lt;/xsl:choose&gt; <br></code> <br> ‚Ä¶, ,     <strong>XML-</strong> .      : <code>&lt;xsl:when test="descendant-or-self::*/@id = /node()/@id"&gt;</code> <br> <br>        <strong>ID</strong>    ( <strong>document</strong> )    ( <strong>item</strong> ),   ,    . <br> <br>   <code>&lt;xsl:when&gt;&lt;/xsl:when&gt;</code>  ,      .   <code>&lt;xsl:otherwise&gt;&lt;/xsl:otherwise&gt;</code> -    . <br> <br> 8. ,   <strong>href_attribute</strong> : <br> <code><br> &lt;xsl:template name="href_attribute"&gt; <br> &lt;xsl:attribute name="href"&gt; <br> &lt;xsl:text&gt;/&lt;/xsl:text&gt; <br> &lt;xsl:for-each select="ancestor-or-self::item"&gt; <br> &lt;xsl:value-of select="dir"/&gt; <br> &lt;xsl:text&gt;/&lt;/xsl:text&gt; <br> &lt;/xsl:for-each&gt; <br> &lt;/xsl:attribute&gt; <br> &lt;/xsl:template&gt; <br></code> <br> <br>      <strong>xsl:attribute</strong> .          .         <strong>a</strong> , ,      <strong>href</strong> , .. . <br> <br>  <code>&lt;xsl:for-each select="ancestor-or-self::item"&gt;</code>      ,  .      <strong>ancestor-or-self::item</strong> -         .           <strong>dir</strong> , ..     -. <br> <br> ,   -  ,       . ,   <a href="http://habrahabr.ru/blog/webdev/38433.html">  </a> . <br> <br> <strong>UPD:</strong> <br>   .   ,  : <br> <a href="">parser.proc.ru/iso/xslt-1.zip</a> <br> <br>        (       )           Apache. <br> <br>    XML-   /xsl/document.xml</code></code></code></code></code> </h3> <code><code><code><code><code><code>-    (   ). : <br> <strong>Lang</strong> -  .     . <strong>Id</strong> -   . <br> &lt;lang_table&gt;</code> -  ,   . <br> <code>-   : <br> -    (  ): <br> &lt;item id="0" parent_id="0" is_published="1" section="1"&gt;</code> -   . : <br> <strong>Id</strong> -  . <strong>Parent_id</strong> -   . <strong>Is_published</strong> -   . <strong>Dir</strong> - uri- .     . <strong>Section</strong> -  .         . <br> <code>-  . <br>   CMS   :        : <br> <strong>Html</strong> -  .  ,    . <strong>Com</strong> - -.  ,      CMS: , ,    .. <br>  <strong>XSL-</strong>   ,     .       . <br> <br> CMS       <strong> ,      : <br> : <br> <strong>Id</strong> -  . <br> <strong>Container</strong> - - (    ). <br> <strong>Sorting</strong> -    . <br> <strong>Type</strong> - : <br> <strong>Com</strong> - - <br> <strong>Html</strong> -  . <br> <strong>Method</strong> -  . <br> <strong>Title</strong> -  . <br> <strong>DTD</strong>     (    ): <br> &lt;!DOCTYPE site_page [ <br> <br> &lt;!ENTITY nbsp " "&gt; <br> &lt;!ENTITY sect "¬ß" &gt; <br> &lt;!ENTITY copy "¬©"&gt; <br> &lt;!ENTITY laquo "¬´"&gt; <br> &lt;!ENTITY reg "¬Æ"&gt; <br> &lt;!ENTITY deg "¬∞"&gt; <br> &lt;!ENTITY plusmn "¬±"&gt; <br> &lt;!ENTITY para "¬∂"&gt; <br> &lt;!ENTITY raquo "¬ª"&gt; <br> &lt;!ENTITY times "√ó"&gt; <br> <br> <br> <br> &lt;!ENTITY bull "‚Ä¢"&gt; <br> &lt;!ENTITY hellip "‚Ä¶"&gt; <br> <br> <br> <br> &lt;!ENTITY ndash "‚Äì"&gt; <br> &lt;!ENTITY mdash "‚Äî"&gt; <br> &lt;!ENTITY lsquo "'"&gt; <br> &lt;!ENTITY rsquo "'"&gt; <br> &lt;!ENTITY sbquo "‚Äö"&gt; <br> &lt;!ENTITY ldquo "‚Äú"&gt; <br> &lt;!ENTITY rdquo "‚Äù"&gt; <br> &lt;!ENTITY bdquo "‚Äû"&gt; <br> &lt;!ENTITY lsaquo "‚Äπ"&gt; <br> &lt;!ENTITY rsaquo "‚Ä∫" &gt; <br> &lt;!ENTITY euro "‚Ç¨"&gt; <br> ]&gt; <br></strong></code> <br>      <strong>XML-</strong> .   <code>&lt;?xml version="1.0" encoding="windows-1251"?&gt;</code> . <br> <br>  XHML- <br> XSL-    XHTML- (   ).  XHTML-,  ,   <strong></strong> . <br> <br>      . <br> <br>   XHML-  ,    ,       : <br>  (   ).    -    ,      . / . <br>        HTML-: <br> <code><a href="https://habr.com/ru/post/22236/"></a> <a href="https://habr.com/ru/post/22236/"></a> <a href="https://habr.com/ru/post/22236/"></a> ... <br> <br>   <br> <br> <br> ... <br> <br>    <br> <br> ... <br> <br>   <br> <br> ... <br> <br>  <br> <br> ...</code> <br> <br>   XSL- <br>   XSL-   : <br> <code>&lt;xsl:stylesheet version = '1.0' encoding="UTF-8"?&gt; <br> &lt;xsl:template match="element"&gt; <br>   <br> &lt;/xsl:template&gt; <br> &lt;/xsl:stylesheet&gt;</code> <br> <br> : <code>&lt;xsl:stylesheet version = '1.0' encoding="UTF-8"?&gt;</code> -   <strong>XML-</strong>  .   <strong>UTF-8</strong> ( , ). <br> <code>&lt;xsl:stylesheet&gt; &lt;/xsl:stylesheet&gt;</code> -    XSL-. <br> <code>&lt;xsl:template match="element"&gt; &lt;/xsl:template&gt;</code> -       element. <br> <br>       : <br> <code>&lt;xsl:template match="element"&gt;&lt;/xsl:template&gt;</code> - ,     <strong>element</strong> .      <strong>element</strong> . <code>&lt;xsl:template match="element" mode="mode1"&gt;&lt;/xsl:template&gt;</code> - ,     <strong>element</strong>   <strong>mode1</strong> .         <strong>element</strong> . <code>&lt;xsl:template name="template-name"&gt;&lt;/xsl:template&gt;</code> -    <strong>template-name</strong> .     -  <strong>XML-</strong> . <br>           <strong>XML-</strong> (,  XML-,    item      ),      " "  : <br> <code>&lt;xsl:template match="navigation/sections/item"&gt;&lt;/xsl:template&gt;</code> <br>  ,    , ..,      ,  ,  , ..      <strong>navigation</strong> ,      <strong>navigation/sections/item</strong>     <strong>sections/item</strong> . <br> <br>    <br>  ,         -      .  ,        <strong>xsl-</strong> .            . <br> <br>       <strong>xsl</strong>    . <br> <br> ,        (       )   : <br> <strong>template_folder</strong> -    .      ,  <strong>my_template</strong> . <strong>dtd</strong> -    .   . <strong>lang</strong> -      (      ). <strong>mod</strong> -  . <br>       <strong>xsl/my_template</strong>   ,  <strong>layout.xsl</strong>  : <br> <code>&lt;?xml version="1.0" encoding="UTF-8"?&gt; <br> &lt;!DOCTYPE xsl:stylesheet SYSTEM "../dtd/entities.dtd"&gt; <br> &lt;xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform"&gt; <br> <br> &lt;xsl:template match="/node()"&gt; <br> &lt;/xsl:template&gt; <br> <br> &lt;/xsl:stylesheet&gt; <br></code> <br> : <br> <code>&lt;xsl:template match="/node()"&gt; &lt;/xsl:template&gt;</code> -    <strong>/node()</strong> ().  <strong>/node()</strong>   <strong>//document</strong> , ..      . <br> <br>   XHTML-   <code>&lt;xsl:template match="/node()"&gt;&lt;/xsl:template&gt;</code> <br> <br>        <strong>XML-</strong> .   , <strong>XSL-</strong>   <strong>XML-</strong>  <strong>XHTML-</strong>  . <br> <br> ,    <strong>XSL</strong>   <strong>template.xsl</strong> (, <strong>template</strong> -   ),     : <br> <code>&lt;?xml version="1.0" encoding="UTF-8"?&gt; <br> &lt;xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform"&gt; <br> <br> &lt;xsl:import href=" my_template /layout.xsl"/&gt; <br> &lt;/xsl:stylesheet&gt; <br></code> <br> : <br> <code>&lt;xsl:import href="my_template/layout.xsl"/&gt;</code> <br>    XSL- ( <strong>XSL-</strong> )   .     . <br> <br>       <br>       , ..     XML-    . <br> <br>   -    . <br> <br>        ,   <strong>XML-</strong>   : <br> <code><br> &lt;item id="0" parent_id="0" is_published="1" section="1"&gt; <br>  <br> / <br> <br> &lt;item id="1" parent_id="0" is_published="1" section="1" hit="yes"&gt; <br>  <br> news <br> <br></code> <br> <br> <br>      : <br>  <strong>id</strong>    <strong>document</strong> -    <strong>id</strong>  .  <strong>hit</strong>   <strong>item</strong> -   ,   ,    "  ". <br> ,  ,         : <br> <strong>sections</strong> -   . <strong>item</strong> -  . <br>  ,  ,   <strong>item</strong>     <strong>item</strong> ,   ,     : <br> <code><br> <br></code> <br> <br> 1.    xsl/my_template  navigation.xsl  : <br> <code>&lt;?xml version="1.0" encoding="UTF-8"?&gt; <br> &lt;!DOCTYPE xsl:stylesheet SYSTEM "../dtd/entities.dtd"&gt; <br> &lt;xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform"&gt; <br> <br> &lt;xsl:template match="sections" mode="global_menu"&gt; <br> &lt;/xsl:template&gt; <br> <br> &lt;/xsl:stylesheet&gt;</code> <br> <br> 2.         <strong>layout.xsl</strong> : <br> <code><a href="https://habr.com/"></a> <a href="https://habr.com/sections/"></a> <a href="https://habr.com/news/"></a> <br> &lt;xsl:template match="sections" mode="global_menu"&gt; <br>    <br> &lt;/xsl:template&gt; <br></code> <br> <br> 3. ‚Ä¶      <strong>layout.xsl</strong>     : <br> <code><br> &lt;xsl:apply-templates select="navigation/sections" mode="global_menu"/&gt; <br> <br></code> <br> : <br> <strong>select="navigation/sections"</strong> -  ( ) - .  ,     <strong>navigation/sections</strong> . <br> <br> <strong>mode="global_menu"</strong> -     <strong>global_menu</strong> .      ,        , ,  " ",  -         . <br> <br> 4. ,    layout.xsl     <strong>navigation.xsl</strong> : <br> <code>&lt;xsl:import href="navigation.xsl"/&gt;</code> <br> <br> 5. ,    <strong>navigation.xsl</strong>   ,    : <br> <code><br> &lt;xsl:template match="item" mode="global_menu"&gt; <br> &lt;xsl:call-template name="href_attribute"/&gt; <br> &lt;xsl:value-of select="title"/&gt; <br> <br> <br> &lt;/xsl:template&gt; <br> <br></code> <br> : <br> <code>&lt;xsl:call-template name="href_attribute"/&gt;</code> -    .        , ..  . <br> <br> <code>&lt;xsl:value-of select="title"/&gt;</code> - -   title  .         <strong>@</strong> -      . <br> <br> 6.    <strong>sections</strong> : <br> <code><br> &lt;xsl:template match="sections" mode="global_menu"&gt; <br> <br> &lt;/xsl:template&gt; <br> <br></code> <br> : <br> <code>&lt;xsl:apply-templates select="item" mode="global_menu"/&gt;</code> -    <strong>item</strong>  <strong>sections</strong> .  ,  <strong>item</strong>   <strong>item</strong> ( <strong>sections/item/item</strong> )   , ..      . <br> <br>     <strong>item</strong> ( )   .  ,         : <code>&lt;xsl:call-template name="href_attribute"/&gt;</code> <br> <br>      <strong>uri-</strong>    .    . <br> <br> 7.     , <br>   ,    .            <strong>item</strong> : <br> <code><br> &lt;xsl:template match="item" mode="global_menu"&gt; <br> <br> &lt;xsl:choose&gt; <br> <br> &lt;xsl:when test="descendant-or-self::*/@id = /node()/@id"&gt; <br> &lt;xsl:value-of select="title"/&gt; <br> &lt;/xsl:when&gt; <br> <br> &lt;xsl:otherwise&gt; <br> &lt;xsl:call-template name="href_attribute"/&gt; <br> &lt;xsl:value-of select="title"/&gt; <br> <br> &lt;/xsl:otherwise&gt; <br> &lt;/xsl:choose&gt; <br> <br> &lt;/xsl:template&gt; <br> <br></code> <br>      : <br> <code>&lt;xsl:choose&gt; <br> &lt;xsl:when&gt;&lt;/xsl:when&gt; <br> &lt;xsl:otherwise&gt;&lt;/xsl:otherwise&gt; <br> &lt;/xsl:choose&gt; <br></code> <br> ‚Ä¶, ,     <strong>XML-</strong> .      : <code>&lt;xsl:when test="descendant-or-self::*/@id = /node()/@id"&gt;</code> <br> <br>        <strong>ID</strong>    ( <strong>document</strong> )    ( <strong>item</strong> ),   ,    . <br> <br>   <code>&lt;xsl:when&gt;&lt;/xsl:when&gt;</code>  ,      .   <code>&lt;xsl:otherwise&gt;&lt;/xsl:otherwise&gt;</code> -    . <br> <br> 8. ,   <strong>href_attribute</strong> : <br> <code><br> &lt;xsl:template name="href_attribute"&gt; <br> &lt;xsl:attribute name="href"&gt; <br> &lt;xsl:text&gt;/&lt;/xsl:text&gt; <br> &lt;xsl:for-each select="ancestor-or-self::item"&gt; <br> &lt;xsl:value-of select="dir"/&gt; <br> &lt;xsl:text&gt;/&lt;/xsl:text&gt; <br> &lt;/xsl:for-each&gt; <br> &lt;/xsl:attribute&gt; <br> &lt;/xsl:template&gt; <br></code> <br> <br>      <strong>xsl:attribute</strong> .          .         <strong>a</strong> , ,      <strong>href</strong> , .. . <br> <br>  <code>&lt;xsl:for-each select="ancestor-or-self::item"&gt;</code>      ,  .      <strong>ancestor-or-self::item</strong> -         .           <strong>dir</strong> , ..     -. <br> <br> ,   -  ,       . ,   <a href="http://habrahabr.ru/blog/webdev/38433.html">  </a> . <br> <br> <strong>UPD:</strong> <br>   .   ,  : <br> <a href="">parser.proc.ru/iso/xslt-1.zip</a> <br> <br>        (       )           Apache. <br> <br>    XML-   /xsl/document.xml</code></code></code></code></code> <ul><li> <code><code><code><code><code><code><code>-    (   ). : <br> <strong>Lang</strong> -  .     . <strong>Id</strong> -   . <br> &lt;lang_table&gt;</code> -  ,   . <br> <code>-   : <br> -    (  ): <br> &lt;item id="0" parent_id="0" is_published="1" section="1"&gt;</code> -   . : <br> <strong>Id</strong> -  . <strong>Parent_id</strong> -   . <strong>Is_published</strong> -   . <strong>Dir</strong> - uri- .     . <strong>Section</strong> -  .         . <br> <code>-  . <br>   CMS   :        : <br> <strong>Html</strong> -  .  ,    . <strong>Com</strong> - -.  ,      CMS: , ,    .. <br>  <strong>XSL-</strong>   ,     .       . <br> <br> CMS       <strong> ,      : <br> : <br> <strong>Id</strong> -  . <br> <strong>Container</strong> - - (    ). <br> <strong>Sorting</strong> -    . <br> <strong>Type</strong> - : <br> <strong>Com</strong> - - <br> <strong>Html</strong> -  . <br> <strong>Method</strong> -  . <br> <strong>Title</strong> -  . <br> <strong>DTD</strong>     (    ): <br> &lt;!DOCTYPE site_page [ <br> <br> &lt;!ENTITY nbsp " "&gt; <br> &lt;!ENTITY sect "¬ß" &gt; <br> &lt;!ENTITY copy "¬©"&gt; <br> &lt;!ENTITY laquo "¬´"&gt; <br> &lt;!ENTITY reg "¬Æ"&gt; <br> &lt;!ENTITY deg "¬∞"&gt; <br> &lt;!ENTITY plusmn "¬±"&gt; <br> &lt;!ENTITY para "¬∂"&gt; <br> &lt;!ENTITY raquo "¬ª"&gt; <br> &lt;!ENTITY times "√ó"&gt; <br> <br> <br> <br> &lt;!ENTITY bull "‚Ä¢"&gt; <br> &lt;!ENTITY hellip "‚Ä¶"&gt; <br> <br> <br> <br> &lt;!ENTITY ndash "‚Äì"&gt; <br> &lt;!ENTITY mdash "‚Äî"&gt; <br> &lt;!ENTITY lsquo "'"&gt; <br> &lt;!ENTITY rsquo "'"&gt; <br> &lt;!ENTITY sbquo "‚Äö"&gt; <br> &lt;!ENTITY ldquo "‚Äú"&gt; <br> &lt;!ENTITY rdquo "‚Äù"&gt; <br> &lt;!ENTITY bdquo "‚Äû"&gt; <br> &lt;!ENTITY lsaquo "‚Äπ"&gt; <br> &lt;!ENTITY rsaquo "‚Ä∫" &gt; <br> &lt;!ENTITY euro "‚Ç¨"&gt; <br> ]&gt; <br></strong></code> <br>      <strong>XML-</strong> .   <code>&lt;?xml version="1.0" encoding="windows-1251"?&gt;</code> . <br> <br>  XHML- <br> XSL-    XHTML- (   ).  XHTML-,  ,   <strong></strong> . <br> <br>      . <br> <br>   XHML-  ,    ,       : <br>  (   ).    -    ,      . / . <br>        HTML-: <br> <code><a href="https://habr.com/ru/post/22236/"></a> <a href="https://habr.com/ru/post/22236/"></a> <a href="https://habr.com/ru/post/22236/"></a> ... <br> <br>   <br> <br> <br> ... <br> <br>    <br> <br> ... <br> <br>   <br> <br> ... <br> <br>  <br> <br> ...</code> <br> <br>   XSL- <br>   XSL-   : <br> <code>&lt;xsl:stylesheet version = '1.0' encoding="UTF-8"?&gt; <br> &lt;xsl:template match="element"&gt; <br>   <br> &lt;/xsl:template&gt; <br> &lt;/xsl:stylesheet&gt;</code> <br> <br> : <code>&lt;xsl:stylesheet version = '1.0' encoding="UTF-8"?&gt;</code> -   <strong>XML-</strong>  .   <strong>UTF-8</strong> ( , ). <br> <code>&lt;xsl:stylesheet&gt; &lt;/xsl:stylesheet&gt;</code> -    XSL-. <br> <code>&lt;xsl:template match="element"&gt; &lt;/xsl:template&gt;</code> -       element. <br> <br>       : <br> <code>&lt;xsl:template match="element"&gt;&lt;/xsl:template&gt;</code> - ,     <strong>element</strong> .      <strong>element</strong> . <code>&lt;xsl:template match="element" mode="mode1"&gt;&lt;/xsl:template&gt;</code> - ,     <strong>element</strong>   <strong>mode1</strong> .         <strong>element</strong> . <code>&lt;xsl:template name="template-name"&gt;&lt;/xsl:template&gt;</code> -    <strong>template-name</strong> .     -  <strong>XML-</strong> . <br>           <strong>XML-</strong> (,  XML-,    item      ),      " "  : <br> <code>&lt;xsl:template match="navigation/sections/item"&gt;&lt;/xsl:template&gt;</code> <br>  ,    , ..,      ,  ,  , ..      <strong>navigation</strong> ,      <strong>navigation/sections/item</strong>     <strong>sections/item</strong> . <br> <br>    <br>  ,         -      .  ,        <strong>xsl-</strong> .            . <br> <br>       <strong>xsl</strong>    . <br> <br> ,        (       )   : <br> <strong>template_folder</strong> -    .      ,  <strong>my_template</strong> . <strong>dtd</strong> -    .   . <strong>lang</strong> -      (      ). <strong>mod</strong> -  . <br>       <strong>xsl/my_template</strong>   ,  <strong>layout.xsl</strong>  : <br> <code>&lt;?xml version="1.0" encoding="UTF-8"?&gt; <br> &lt;!DOCTYPE xsl:stylesheet SYSTEM "../dtd/entities.dtd"&gt; <br> &lt;xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform"&gt; <br> <br> &lt;xsl:template match="/node()"&gt; <br> &lt;/xsl:template&gt; <br> <br> &lt;/xsl:stylesheet&gt; <br></code> <br> : <br> <code>&lt;xsl:template match="/node()"&gt; &lt;/xsl:template&gt;</code> -    <strong>/node()</strong> ().  <strong>/node()</strong>   <strong>//document</strong> , ..      . <br> <br>   XHTML-   <code>&lt;xsl:template match="/node()"&gt;&lt;/xsl:template&gt;</code> <br> <br>        <strong>XML-</strong> .   , <strong>XSL-</strong>   <strong>XML-</strong>  <strong>XHTML-</strong>  . <br> <br> ,    <strong>XSL</strong>   <strong>template.xsl</strong> (, <strong>template</strong> -   ),     : <br> <code>&lt;?xml version="1.0" encoding="UTF-8"?&gt; <br> &lt;xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform"&gt; <br> <br> &lt;xsl:import href=" my_template /layout.xsl"/&gt; <br> &lt;/xsl:stylesheet&gt; <br></code> <br> : <br> <code>&lt;xsl:import href="my_template/layout.xsl"/&gt;</code> <br>    XSL- ( <strong>XSL-</strong> )   .     . <br> <br>       <br>       , ..     XML-    . <br> <br>   -    . <br> <br>        ,   <strong>XML-</strong>   : <br> <code><br> &lt;item id="0" parent_id="0" is_published="1" section="1"&gt; <br>  <br> / <br> <br> &lt;item id="1" parent_id="0" is_published="1" section="1" hit="yes"&gt; <br>  <br> news <br> <br></code> <br> <br> <br>      : <br>  <strong>id</strong>    <strong>document</strong> -    <strong>id</strong>  .  <strong>hit</strong>   <strong>item</strong> -   ,   ,    "  ". <br> ,  ,         : <br> <strong>sections</strong> -   . <strong>item</strong> -  . <br>  ,  ,   <strong>item</strong>     <strong>item</strong> ,   ,     : <br> <code><br> <br></code> <br> <br> 1.    xsl/my_template  navigation.xsl  : <br> <code>&lt;?xml version="1.0" encoding="UTF-8"?&gt; <br> &lt;!DOCTYPE xsl:stylesheet SYSTEM "../dtd/entities.dtd"&gt; <br> &lt;xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform"&gt; <br> <br> &lt;xsl:template match="sections" mode="global_menu"&gt; <br> &lt;/xsl:template&gt; <br> <br> &lt;/xsl:stylesheet&gt;</code> <br> <br> 2.         <strong>layout.xsl</strong> : <br> <a href="https://habr.com/"></a> <a href="https://habr.com/sections/"></a> <a href="https://habr.com/news/"></a> <br> &lt;xsl:template match="sections" mode="global_menu"&gt; <br>    <br> &lt;/xsl:template&gt; <br> <br> <br> 3. ‚Ä¶      <strong>layout.xsl</strong>     : <br> <code><br> &lt;xsl:apply-templates select="navigation/sections" mode="global_menu"/&gt; <br> <br></code> <br> : <br> <strong>select="navigation/sections"</strong> -  ( ) - .  ,     <strong>navigation/sections</strong> . <br> <br> <strong>mode="global_menu"</strong> -     <strong>global_menu</strong> .      ,        , ,  " ",  -         . <br> <br> 4. ,    layout.xsl     <strong>navigation.xsl</strong> : <br> <code>&lt;xsl:import href="navigation.xsl"/&gt;</code> <br> <br> 5. ,    <strong>navigation.xsl</strong>   ,    : <br> <code><br> &lt;xsl:template match="item" mode="global_menu"&gt; <br> &lt;xsl:call-template name="href_attribute"/&gt; <br> &lt;xsl:value-of select="title"/&gt; <br> <br> <br> &lt;/xsl:template&gt; <br> <br></code> <br> : <br> <code>&lt;xsl:call-template name="href_attribute"/&gt;</code> -    .        , ..  . <br> <br> <code>&lt;xsl:value-of select="title"/&gt;</code> - -   title  .         <strong>@</strong> -      . <br> <br> 6.    <strong>sections</strong> : <br> <code><br> &lt;xsl:template match="sections" mode="global_menu"&gt; <br> <br> &lt;/xsl:template&gt; <br> <br></code> <br> : <br> <code>&lt;xsl:apply-templates select="item" mode="global_menu"/&gt;</code> -    <strong>item</strong>  <strong>sections</strong> .  ,  <strong>item</strong>   <strong>item</strong> ( <strong>sections/item/item</strong> )   , ..      . <br> <br>     <strong>item</strong> ( )   .  ,         : <code>&lt;xsl:call-template name="href_attribute"/&gt;</code> <br> <br>      <strong>uri-</strong>    .    . <br> <br> 7.     , <br>   ,    .            <strong>item</strong> : <br> <code><br> &lt;xsl:template match="item" mode="global_menu"&gt; <br> <br> &lt;xsl:choose&gt; <br> <br> &lt;xsl:when test="descendant-or-self::*/@id = /node()/@id"&gt; <br> &lt;xsl:value-of select="title"/&gt; <br> &lt;/xsl:when&gt; <br> <br> &lt;xsl:otherwise&gt; <br> &lt;xsl:call-template name="href_attribute"/&gt; <br> &lt;xsl:value-of select="title"/&gt; <br> <br> &lt;/xsl:otherwise&gt; <br> &lt;/xsl:choose&gt; <br> <br> &lt;/xsl:template&gt; <br> <br></code> <br>      : <br> <code>&lt;xsl:choose&gt; <br> &lt;xsl:when&gt;&lt;/xsl:when&gt; <br> &lt;xsl:otherwise&gt;&lt;/xsl:otherwise&gt; <br> &lt;/xsl:choose&gt; <br></code> <br> ‚Ä¶, ,     <strong>XML-</strong> .      : <code>&lt;xsl:when test="descendant-or-self::*/@id = /node()/@id"&gt;</code> <br> <br>        <strong>ID</strong>    ( <strong>document</strong> )    ( <strong>item</strong> ),   ,    . <br> <br>   <code>&lt;xsl:when&gt;&lt;/xsl:when&gt;</code>  ,      .   <code>&lt;xsl:otherwise&gt;&lt;/xsl:otherwise&gt;</code> -    . <br> <br> 8. ,   <strong>href_attribute</strong> : <br> <code><br> &lt;xsl:template name="href_attribute"&gt; <br> &lt;xsl:attribute name="href"&gt; <br> &lt;xsl:text&gt;/&lt;/xsl:text&gt; <br> &lt;xsl:for-each select="ancestor-or-self::item"&gt; <br> &lt;xsl:value-of select="dir"/&gt; <br> &lt;xsl:text&gt;/&lt;/xsl:text&gt; <br> &lt;/xsl:for-each&gt; <br> &lt;/xsl:attribute&gt; <br> &lt;/xsl:template&gt; <br></code> <br> <br>      <strong>xsl:attribute</strong> .          .         <strong>a</strong> , ,      <strong>href</strong> , .. . <br> <br>  <code>&lt;xsl:for-each select="ancestor-or-self::item"&gt;</code>      ,  .      <strong>ancestor-or-self::item</strong> -         .           <strong>dir</strong> , ..     -. <br> <br> ,   -  ,       . ,   <a href="http://habrahabr.ru/blog/webdev/38433.html">  </a> . <br> <br> <strong>UPD:</strong> <br>   .   ,  : <br> <a href="">parser.proc.ru/iso/xslt-1.zip</a> <br> <br>        (       )           Apache. <br> <br>    XML-   /xsl/document.xml</code></code></code></code></code></code> </li> <li> <code><code><code><code><code><code><code>-    (   ). : <br> <strong>Lang</strong> -  .     . <strong>Id</strong> -   . <br> &lt;lang_table&gt;</code> -  ,   . <br> <code>-   : <br> -    (  ): <br> &lt;item id="0" parent_id="0" is_published="1" section="1"&gt;</code> -   . : <br> <strong>Id</strong> -  . <strong>Parent_id</strong> -   . <strong>Is_published</strong> -   . <strong>Dir</strong> - uri- .     . <strong>Section</strong> -  .         . <br> <code>-  . <br>   CMS   :        : <br> <strong>Html</strong> -  .  ,    . <strong>Com</strong> - -.  ,      CMS: , ,    .. <br>  <strong>XSL-</strong>   ,     .       . <br> <br> CMS       <strong> ,      : <br> : <br> <strong>Id</strong> -  . <br> <strong>Container</strong> - - (    ). <br> <strong>Sorting</strong> -    . <br> <strong>Type</strong> - : <br> <strong>Com</strong> - - <br> <strong>Html</strong> -  . <br> <strong>Method</strong> -  . <br> <strong>Title</strong> -  . <br> <strong>DTD</strong>     (    ): <br> &lt;!DOCTYPE site_page [ <br> <br> &lt;!ENTITY nbsp " "&gt; <br> &lt;!ENTITY sect "¬ß" &gt; <br> &lt;!ENTITY copy "¬©"&gt; <br> &lt;!ENTITY laquo "¬´"&gt; <br> &lt;!ENTITY reg "¬Æ"&gt; <br> &lt;!ENTITY deg "¬∞"&gt; <br> &lt;!ENTITY plusmn "¬±"&gt; <br> &lt;!ENTITY para "¬∂"&gt; <br> &lt;!ENTITY raquo "¬ª"&gt; <br> &lt;!ENTITY times "√ó"&gt; <br> <br> <br> <br> &lt;!ENTITY bull "‚Ä¢"&gt; <br> &lt;!ENTITY hellip "‚Ä¶"&gt; <br> <br> <br> <br> &lt;!ENTITY ndash "‚Äì"&gt; <br> &lt;!ENTITY mdash "‚Äî"&gt; <br> &lt;!ENTITY lsquo "'"&gt; <br> &lt;!ENTITY rsquo "'"&gt; <br> &lt;!ENTITY sbquo "‚Äö"&gt; <br> &lt;!ENTITY ldquo "‚Äú"&gt; <br> &lt;!ENTITY rdquo "‚Äù"&gt; <br> &lt;!ENTITY bdquo "‚Äû"&gt; <br> &lt;!ENTITY lsaquo "‚Äπ"&gt; <br> &lt;!ENTITY rsaquo "‚Ä∫" &gt; <br> &lt;!ENTITY euro "‚Ç¨"&gt; <br> ]&gt; <br></strong></code> <br>      <strong>XML-</strong> .   <code>&lt;?xml version="1.0" encoding="windows-1251"?&gt;</code> . <br> <br>  XHML- <br> XSL-    XHTML- (   ).  XHTML-,  ,   <strong></strong> . <br> <br>      . <br> <br>   XHML-  ,    ,       : <br>  (   ).    -    ,      . / . <br>        HTML-: <br> <code><a href="https://habr.com/ru/post/22236/"></a> <a href="https://habr.com/ru/post/22236/"></a> <a href="https://habr.com/ru/post/22236/"></a> ... <br> <br>   <br> <br> <br> ... <br> <br>    <br> <br> ... <br> <br>   <br> <br> ... <br> <br>  <br> <br> ...</code> <br> <br>   XSL- <br>   XSL-   : <br> <code>&lt;xsl:stylesheet version = '1.0' encoding="UTF-8"?&gt; <br> &lt;xsl:template match="element"&gt; <br>   <br> &lt;/xsl:template&gt; <br> &lt;/xsl:stylesheet&gt;</code> <br> <br> : <code>&lt;xsl:stylesheet version = '1.0' encoding="UTF-8"?&gt;</code> -   <strong>XML-</strong>  .   <strong>UTF-8</strong> ( , ). <br> <code>&lt;xsl:stylesheet&gt; &lt;/xsl:stylesheet&gt;</code> -    XSL-. <br> <code>&lt;xsl:template match="element"&gt; &lt;/xsl:template&gt;</code> -       element. <br> <br>       : <br> <code>&lt;xsl:template match="element"&gt;&lt;/xsl:template&gt;</code> - ,     <strong>element</strong> .      <strong>element</strong> . <code>&lt;xsl:template match="element" mode="mode1"&gt;&lt;/xsl:template&gt;</code> - ,     <strong>element</strong>   <strong>mode1</strong> .         <strong>element</strong> . <code>&lt;xsl:template name="template-name"&gt;&lt;/xsl:template&gt;</code> -    <strong>template-name</strong> .     -  <strong>XML-</strong> . <br>           <strong>XML-</strong> (,  XML-,    item      ),      " "  : <br> <code>&lt;xsl:template match="navigation/sections/item"&gt;&lt;/xsl:template&gt;</code> <br>  ,    , ..,      ,  ,  , ..      <strong>navigation</strong> ,      <strong>navigation/sections/item</strong>     <strong>sections/item</strong> . <br> <br>    <br>  ,         -      .  ,        <strong>xsl-</strong> .            . <br> <br>       <strong>xsl</strong>    . <br> <br> ,        (       )   : <br> <strong>template_folder</strong> -    .      ,  <strong>my_template</strong> . <strong>dtd</strong> -    .   . <strong>lang</strong> -      (      ). <strong>mod</strong> -  . <br>       <strong>xsl/my_template</strong>   ,  <strong>layout.xsl</strong>  : <br> <code>&lt;?xml version="1.0" encoding="UTF-8"?&gt; <br> &lt;!DOCTYPE xsl:stylesheet SYSTEM "../dtd/entities.dtd"&gt; <br> &lt;xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform"&gt; <br> <br> &lt;xsl:template match="/node()"&gt; <br> &lt;/xsl:template&gt; <br> <br> &lt;/xsl:stylesheet&gt; <br></code> <br> : <br> <code>&lt;xsl:template match="/node()"&gt; &lt;/xsl:template&gt;</code> -    <strong>/node()</strong> ().  <strong>/node()</strong>   <strong>//document</strong> , ..      . <br> <br>   XHTML-   <code>&lt;xsl:template match="/node()"&gt;&lt;/xsl:template&gt;</code> <br> <br>        <strong>XML-</strong> .   , <strong>XSL-</strong>   <strong>XML-</strong>  <strong>XHTML-</strong>  . <br> <br> ,    <strong>XSL</strong>   <strong>template.xsl</strong> (, <strong>template</strong> -   ),     : <br> <code>&lt;?xml version="1.0" encoding="UTF-8"?&gt; <br> &lt;xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform"&gt; <br> <br> &lt;xsl:import href=" my_template /layout.xsl"/&gt; <br> &lt;/xsl:stylesheet&gt; <br></code> <br> : <br> <code>&lt;xsl:import href="my_template/layout.xsl"/&gt;</code> <br>    XSL- ( <strong>XSL-</strong> )   .     . <br> <br>       <br>       , ..     XML-    . <br> <br>   -    . <br> <br>        ,   <strong>XML-</strong>   : <br> <code><br> &lt;item id="0" parent_id="0" is_published="1" section="1"&gt; <br>  <br> / <br> <br> &lt;item id="1" parent_id="0" is_published="1" section="1" hit="yes"&gt; <br>  <br> news <br> <br></code> <br> <br> <br>      : <br>  <strong>id</strong>    <strong>document</strong> -    <strong>id</strong>  .  <strong>hit</strong>   <strong>item</strong> -   ,   ,    "  ". <br> ,  ,         : <br> <strong>sections</strong> -   . <strong>item</strong> -  . <br>  ,  ,   <strong>item</strong>     <strong>item</strong> ,   ,     : <br> <code><br> <br></code> <br> <br> 1.    xsl/my_template  navigation.xsl  : <br> <code>&lt;?xml version="1.0" encoding="UTF-8"?&gt; <br> &lt;!DOCTYPE xsl:stylesheet SYSTEM "../dtd/entities.dtd"&gt; <br> &lt;xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform"&gt; <br> <br> &lt;xsl:template match="sections" mode="global_menu"&gt; <br> &lt;/xsl:template&gt; <br> <br> &lt;/xsl:stylesheet&gt;</code> <br> <br> 2.         <strong>layout.xsl</strong> : <br> <a href="https://habr.com/"></a> <a href="https://habr.com/sections/"></a> <a href="https://habr.com/news/"></a> <br> &lt;xsl:template match="sections" mode="global_menu"&gt; <br>    <br> &lt;/xsl:template&gt; <br> <br> <br> 3. ‚Ä¶      <strong>layout.xsl</strong>     : <br> <code><br> &lt;xsl:apply-templates select="navigation/sections" mode="global_menu"/&gt; <br> <br></code> <br> : <br> <strong>select="navigation/sections"</strong> -  ( ) - .  ,     <strong>navigation/sections</strong> . <br> <br> <strong>mode="global_menu"</strong> -     <strong>global_menu</strong> .      ,        , ,  " ",  -         . <br> <br> 4. ,    layout.xsl     <strong>navigation.xsl</strong> : <br> <code>&lt;xsl:import href="navigation.xsl"/&gt;</code> <br> <br> 5. ,    <strong>navigation.xsl</strong>   ,    : <br> <code><br> &lt;xsl:template match="item" mode="global_menu"&gt; <br> &lt;xsl:call-template name="href_attribute"/&gt; <br> &lt;xsl:value-of select="title"/&gt; <br> <br> <br> &lt;/xsl:template&gt; <br> <br></code> <br> : <br> <code>&lt;xsl:call-template name="href_attribute"/&gt;</code> -    .        , ..  . <br> <br> <code>&lt;xsl:value-of select="title"/&gt;</code> - -   title  .         <strong>@</strong> -      . <br> <br> 6.    <strong>sections</strong> : <br> <code><br> &lt;xsl:template match="sections" mode="global_menu"&gt; <br> <br> &lt;/xsl:template&gt; <br> <br></code> <br> : <br> <code>&lt;xsl:apply-templates select="item" mode="global_menu"/&gt;</code> -    <strong>item</strong>  <strong>sections</strong> .  ,  <strong>item</strong>   <strong>item</strong> ( <strong>sections/item/item</strong> )   , ..      . <br> <br>     <strong>item</strong> ( )   .  ,         : <code>&lt;xsl:call-template name="href_attribute"/&gt;</code> <br> <br>      <strong>uri-</strong>    .    . <br> <br> 7.     , <br>   ,    .            <strong>item</strong> : <br> <code><br> &lt;xsl:template match="item" mode="global_menu"&gt; <br> <br> &lt;xsl:choose&gt; <br> <br> &lt;xsl:when test="descendant-or-self::*/@id = /node()/@id"&gt; <br> &lt;xsl:value-of select="title"/&gt; <br> &lt;/xsl:when&gt; <br> <br> &lt;xsl:otherwise&gt; <br> &lt;xsl:call-template name="href_attribute"/&gt; <br> &lt;xsl:value-of select="title"/&gt; <br> <br> &lt;/xsl:otherwise&gt; <br> &lt;/xsl:choose&gt; <br> <br> &lt;/xsl:template&gt; <br> <br></code> <br>      : <br> <code>&lt;xsl:choose&gt; <br> &lt;xsl:when&gt;&lt;/xsl:when&gt; <br> &lt;xsl:otherwise&gt;&lt;/xsl:otherwise&gt; <br> &lt;/xsl:choose&gt; <br></code> <br> ‚Ä¶, ,     <strong>XML-</strong> .      : <code>&lt;xsl:when test="descendant-or-self::*/@id = /node()/@id"&gt;</code> <br> <br>        <strong>ID</strong>    ( <strong>document</strong> )    ( <strong>item</strong> ),   ,    . <br> <br>   <code>&lt;xsl:when&gt;&lt;/xsl:when&gt;</code>  ,      .   <code>&lt;xsl:otherwise&gt;&lt;/xsl:otherwise&gt;</code> -    . <br> <br> 8. ,   <strong>href_attribute</strong> : <br> <code><br> &lt;xsl:template name="href_attribute"&gt; <br> &lt;xsl:attribute name="href"&gt; <br> &lt;xsl:text&gt;/&lt;/xsl:text&gt; <br> &lt;xsl:for-each select="ancestor-or-self::item"&gt; <br> &lt;xsl:value-of select="dir"/&gt; <br> &lt;xsl:text&gt;/&lt;/xsl:text&gt; <br> &lt;/xsl:for-each&gt; <br> &lt;/xsl:attribute&gt; <br> &lt;/xsl:template&gt; <br></code> <br> <br>      <strong>xsl:attribute</strong> .          .         <strong>a</strong> , ,      <strong>href</strong> , .. . <br> <br>  <code>&lt;xsl:for-each select="ancestor-or-self::item"&gt;</code>      ,  .      <strong>ancestor-or-self::item</strong> -         .           <strong>dir</strong> , ..     -. <br> <br> ,   -  ,       . ,   <a href="http://habrahabr.ru/blog/webdev/38433.html">  </a> . <br> <br> <strong>UPD:</strong> <br>   .   ,  : <br> <a href="">parser.proc.ru/iso/xslt-1.zip</a> <br> <br>        (       )           Apache. <br> <br>    XML-   /xsl/document.xml</code></code></code></code></code></code> </li> <li> <code><code><code><code><code><code><code>-    (   ). : <br> <strong>Lang</strong> -  .     . <strong>Id</strong> -   . <br> &lt;lang_table&gt;</code> -  ,   . <br> <code>-   : <br> -    (  ): <br> &lt;item id="0" parent_id="0" is_published="1" section="1"&gt;</code> -   . : <br> <strong>Id</strong> -  . <strong>Parent_id</strong> -   . <strong>Is_published</strong> -   . <strong>Dir</strong> - uri- .     . <strong>Section</strong> -  .         . <br> <code>-  . <br>   CMS   :        : <br> <strong>Html</strong> -  .  ,    . <strong>Com</strong> - -.  ,      CMS: , ,    .. <br>  <strong>XSL-</strong>   ,     .       . <br> <br> CMS       <strong> ,      : <br> : <br> <strong>Id</strong> -  . <br> <strong>Container</strong> - - (    ). <br> <strong>Sorting</strong> -    . <br> <strong>Type</strong> - : <br> <strong>Com</strong> - - <br> <strong>Html</strong> -  . <br> <strong>Method</strong> -  . <br> <strong>Title</strong> -  . <br> <strong>DTD</strong>     (    ): <br> &lt;!DOCTYPE site_page [ <br> <br> &lt;!ENTITY nbsp " "&gt; <br> &lt;!ENTITY sect "¬ß" &gt; <br> &lt;!ENTITY copy "¬©"&gt; <br> &lt;!ENTITY laquo "¬´"&gt; <br> &lt;!ENTITY reg "¬Æ"&gt; <br> &lt;!ENTITY deg "¬∞"&gt; <br> &lt;!ENTITY plusmn "¬±"&gt; <br> &lt;!ENTITY para "¬∂"&gt; <br> &lt;!ENTITY raquo "¬ª"&gt; <br> &lt;!ENTITY times "√ó"&gt; <br> <br> <br> <br> &lt;!ENTITY bull "‚Ä¢"&gt; <br> &lt;!ENTITY hellip "‚Ä¶"&gt; <br> <br> <br> <br> &lt;!ENTITY ndash "‚Äì"&gt; <br> &lt;!ENTITY mdash "‚Äî"&gt; <br> &lt;!ENTITY lsquo "'"&gt; <br> &lt;!ENTITY rsquo "'"&gt; <br> &lt;!ENTITY sbquo "‚Äö"&gt; <br> &lt;!ENTITY ldquo "‚Äú"&gt; <br> &lt;!ENTITY rdquo "‚Äù"&gt; <br> &lt;!ENTITY bdquo "‚Äû"&gt; <br> &lt;!ENTITY lsaquo "‚Äπ"&gt; <br> &lt;!ENTITY rsaquo "‚Ä∫" &gt; <br> &lt;!ENTITY euro "‚Ç¨"&gt; <br> ]&gt; <br></strong></code> <br>      <strong>XML-</strong> .   <code>&lt;?xml version="1.0" encoding="windows-1251"?&gt;</code> . <br> <br>  XHML- <br> XSL-    XHTML- (   ).  XHTML-,  ,   <strong></strong> . <br> <br>      . <br> <br>   XHML-  ,    ,       : <br>  (   ).    -    ,      . / . <br>        HTML-: <br> <code><a href="https://habr.com/ru/post/22236/"></a> <a href="https://habr.com/ru/post/22236/"></a> <a href="https://habr.com/ru/post/22236/"></a> ... <br> <br>   <br> <br> <br> ... <br> <br>    <br> <br> ... <br> <br>   <br> <br> ... <br> <br>  <br> <br> ...</code> <br> <br>   XSL- <br>   XSL-   : <br> <code>&lt;xsl:stylesheet version = '1.0' encoding="UTF-8"?&gt; <br> &lt;xsl:template match="element"&gt; <br>   <br> &lt;/xsl:template&gt; <br> &lt;/xsl:stylesheet&gt;</code> <br> <br> : <code>&lt;xsl:stylesheet version = '1.0' encoding="UTF-8"?&gt;</code> -   <strong>XML-</strong>  .   <strong>UTF-8</strong> ( , ). <br> <code>&lt;xsl:stylesheet&gt; &lt;/xsl:stylesheet&gt;</code> -    XSL-. <br> <code>&lt;xsl:template match="element"&gt; &lt;/xsl:template&gt;</code> -       element. <br> <br>       : <br> <code>&lt;xsl:template match="element"&gt;&lt;/xsl:template&gt;</code> - ,     <strong>element</strong> .      <strong>element</strong> . <code>&lt;xsl:template match="element" mode="mode1"&gt;&lt;/xsl:template&gt;</code> - ,     <strong>element</strong>   <strong>mode1</strong> .         <strong>element</strong> . <code>&lt;xsl:template name="template-name"&gt;&lt;/xsl:template&gt;</code> -    <strong>template-name</strong> .     -  <strong>XML-</strong> . <br>           <strong>XML-</strong> (,  XML-,    item      ),      " "  : <br> <code>&lt;xsl:template match="navigation/sections/item"&gt;&lt;/xsl:template&gt;</code> <br>  ,    , ..,      ,  ,  , ..      <strong>navigation</strong> ,      <strong>navigation/sections/item</strong>     <strong>sections/item</strong> . <br> <br>    <br>  ,         -      .  ,        <strong>xsl-</strong> .            . <br> <br>       <strong>xsl</strong>    . <br> <br> ,        (       )   : <br> <strong>template_folder</strong> -    .      ,  <strong>my_template</strong> . <strong>dtd</strong> -    .   . <strong>lang</strong> -      (      ). <strong>mod</strong> -  . <br>       <strong>xsl/my_template</strong>   ,  <strong>layout.xsl</strong>  : <br> <code>&lt;?xml version="1.0" encoding="UTF-8"?&gt; <br> &lt;!DOCTYPE xsl:stylesheet SYSTEM "../dtd/entities.dtd"&gt; <br> &lt;xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform"&gt; <br> <br> &lt;xsl:template match="/node()"&gt; <br> &lt;/xsl:template&gt; <br> <br> &lt;/xsl:stylesheet&gt; <br></code> <br> : <br> <code>&lt;xsl:template match="/node()"&gt; &lt;/xsl:template&gt;</code> -    <strong>/node()</strong> ().  <strong>/node()</strong>   <strong>//document</strong> , ..      . <br> <br>   XHTML-   <code>&lt;xsl:template match="/node()"&gt;&lt;/xsl:template&gt;</code> <br> <br>        <strong>XML-</strong> .   , <strong>XSL-</strong>   <strong>XML-</strong>  <strong>XHTML-</strong>  . <br> <br> ,    <strong>XSL</strong>   <strong>template.xsl</strong> (, <strong>template</strong> -   ),     : <br> <code>&lt;?xml version="1.0" encoding="UTF-8"?&gt; <br> &lt;xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform"&gt; <br> <br> &lt;xsl:import href=" my_template /layout.xsl"/&gt; <br> &lt;/xsl:stylesheet&gt; <br></code> <br> : <br> <code>&lt;xsl:import href="my_template/layout.xsl"/&gt;</code> <br>    XSL- ( <strong>XSL-</strong> )   .     . <br> <br>       <br>       , ..     XML-    . <br> <br>   -    . <br> <br>        ,   <strong>XML-</strong>   : <br> <code><br> &lt;item id="0" parent_id="0" is_published="1" section="1"&gt; <br>  <br> / <br> <br> &lt;item id="1" parent_id="0" is_published="1" section="1" hit="yes"&gt; <br>  <br> news <br> <br></code> <br> <br> <br>      : <br>  <strong>id</strong>    <strong>document</strong> -    <strong>id</strong>  .  <strong>hit</strong>   <strong>item</strong> -   ,   ,    "  ". <br> ,  ,         : <br> <strong>sections</strong> -   . <strong>item</strong> -  . <br>  ,  ,   <strong>item</strong>     <strong>item</strong> ,   ,     : <br> <code><br> <br></code> <br> <br> 1.    xsl/my_template  navigation.xsl  : <br> <code>&lt;?xml version="1.0" encoding="UTF-8"?&gt; <br> &lt;!DOCTYPE xsl:stylesheet SYSTEM "../dtd/entities.dtd"&gt; <br> &lt;xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform"&gt; <br> <br> &lt;xsl:template match="sections" mode="global_menu"&gt; <br> &lt;/xsl:template&gt; <br> <br> &lt;/xsl:stylesheet&gt;</code> <br> <br> 2.         <strong>layout.xsl</strong> : <br> <a href="https://habr.com/"></a> <a href="https://habr.com/sections/"></a> <a href="https://habr.com/news/"></a> <br> &lt;xsl:template match="sections" mode="global_menu"&gt; <br>    <br> &lt;/xsl:template&gt; <br> <br> <br> 3. ‚Ä¶      <strong>layout.xsl</strong>     : <br> <code><br> &lt;xsl:apply-templates select="navigation/sections" mode="global_menu"/&gt; <br> <br></code> <br> : <br> <strong>select="navigation/sections"</strong> -  ( ) - .  ,     <strong>navigation/sections</strong> . <br> <br> <strong>mode="global_menu"</strong> -     <strong>global_menu</strong> .      ,        , ,  " ",  -         . <br> <br> 4. ,    layout.xsl     <strong>navigation.xsl</strong> : <br> <code>&lt;xsl:import href="navigation.xsl"/&gt;</code> <br> <br> 5. ,    <strong>navigation.xsl</strong>   ,    : <br> <code><br> &lt;xsl:template match="item" mode="global_menu"&gt; <br> &lt;xsl:call-template name="href_attribute"/&gt; <br> &lt;xsl:value-of select="title"/&gt; <br> <br> <br> &lt;/xsl:template&gt; <br> <br></code> <br> : <br> <code>&lt;xsl:call-template name="href_attribute"/&gt;</code> -    .        , ..  . <br> <br> <code>&lt;xsl:value-of select="title"/&gt;</code> - -   title  .         <strong>@</strong> -      . <br> <br> 6.    <strong>sections</strong> : <br> <code><br> &lt;xsl:template match="sections" mode="global_menu"&gt; <br> <br> &lt;/xsl:template&gt; <br> <br></code> <br> : <br> <code>&lt;xsl:apply-templates select="item" mode="global_menu"/&gt;</code> -    <strong>item</strong>  <strong>sections</strong> .  ,  <strong>item</strong>   <strong>item</strong> ( <strong>sections/item/item</strong> )   , ..      . <br> <br>     <strong>item</strong> ( )   .  ,         : <code>&lt;xsl:call-template name="href_attribute"/&gt;</code> <br> <br>      <strong>uri-</strong>    .    . <br> <br> 7.     , <br>   ,    .            <strong>item</strong> : <br> <code><br> &lt;xsl:template match="item" mode="global_menu"&gt; <br> <br> &lt;xsl:choose&gt; <br> <br> &lt;xsl:when test="descendant-or-self::*/@id = /node()/@id"&gt; <br> &lt;xsl:value-of select="title"/&gt; <br> &lt;/xsl:when&gt; <br> <br> &lt;xsl:otherwise&gt; <br> &lt;xsl:call-template name="href_attribute"/&gt; <br> &lt;xsl:value-of select="title"/&gt; <br> <br> &lt;/xsl:otherwise&gt; <br> &lt;/xsl:choose&gt; <br> <br> &lt;/xsl:template&gt; <br> <br></code> <br>      : <br> <code>&lt;xsl:choose&gt; <br> &lt;xsl:when&gt;&lt;/xsl:when&gt; <br> &lt;xsl:otherwise&gt;&lt;/xsl:otherwise&gt; <br> &lt;/xsl:choose&gt; <br></code> <br> ‚Ä¶, ,     <strong>XML-</strong> .      : <code>&lt;xsl:when test="descendant-or-self::*/@id = /node()/@id"&gt;</code> <br> <br>        <strong>ID</strong>    ( <strong>document</strong> )    ( <strong>item</strong> ),   ,    . <br> <br>   <code>&lt;xsl:when&gt;&lt;/xsl:when&gt;</code>  ,      .   <code>&lt;xsl:otherwise&gt;&lt;/xsl:otherwise&gt;</code> -    . <br> <br> 8. ,   <strong>href_attribute</strong> : <br> <code><br> &lt;xsl:template name="href_attribute"&gt; <br> &lt;xsl:attribute name="href"&gt; <br> &lt;xsl:text&gt;/&lt;/xsl:text&gt; <br> &lt;xsl:for-each select="ancestor-or-self::item"&gt; <br> &lt;xsl:value-of select="dir"/&gt; <br> &lt;xsl:text&gt;/&lt;/xsl:text&gt; <br> &lt;/xsl:for-each&gt; <br> &lt;/xsl:attribute&gt; <br> &lt;/xsl:template&gt; <br></code> <br> <br>      <strong>xsl:attribute</strong> .          .         <strong>a</strong> , ,      <strong>href</strong> , .. . <br> <br>  <code>&lt;xsl:for-each select="ancestor-or-self::item"&gt;</code>      ,  .      <strong>ancestor-or-self::item</strong> -         .           <strong>dir</strong> , ..     -. <br> <br> ,   -  ,       . ,   <a href="http://habrahabr.ru/blog/webdev/38433.html">  </a> . <br> <br> <strong>UPD:</strong> <br>   .   ,  : <br> <a href="">parser.proc.ru/iso/xslt-1.zip</a> <br> <br>        (       )           Apache. <br> <br>    XML-   /xsl/document.xml</code></code></code></code></code></code> </li> </ul> <code><code><code><code><code><code>-    (   ). : <br> <strong>Lang</strong> -  .     . <strong>Id</strong> -   . <br> &lt;lang_table&gt;</code> -  ,   . <br> <code>-   : <br> -    (  ): <br> &lt;item id="0" parent_id="0" is_published="1" section="1"&gt;</code> -   . : <br> <strong>Id</strong> -  . <strong>Parent_id</strong> -   . <strong>Is_published</strong> -   . <strong>Dir</strong> - uri- .     . <strong>Section</strong> -  .         . <br> <code>-  . <br>   CMS   :        : <br> <strong>Html</strong> -  .  ,    . <strong>Com</strong> - -.  ,      CMS: , ,    .. <br>  <strong>XSL-</strong>   ,     .       . <br> <br> CMS       <strong> ,      : <br> : <br> <strong>Id</strong> -  . <br> <strong>Container</strong> - - (    ). <br> <strong>Sorting</strong> -    . <br> <strong>Type</strong> - : <br> <strong>Com</strong> - - <br> <strong>Html</strong> -  . <br> <strong>Method</strong> -  . <br> <strong>Title</strong> -  . <br> <strong>DTD</strong>     (    ): <br> &lt;!DOCTYPE site_page [ <br> <br> &lt;!ENTITY nbsp " "&gt; <br> &lt;!ENTITY sect "¬ß" &gt; <br> &lt;!ENTITY copy "¬©"&gt; <br> &lt;!ENTITY laquo "¬´"&gt; <br> &lt;!ENTITY reg "¬Æ"&gt; <br> &lt;!ENTITY deg "¬∞"&gt; <br> &lt;!ENTITY plusmn "¬±"&gt; <br> &lt;!ENTITY para "¬∂"&gt; <br> &lt;!ENTITY raquo "¬ª"&gt; <br> &lt;!ENTITY times "√ó"&gt; <br> <br> <br> <br> &lt;!ENTITY bull "‚Ä¢"&gt; <br> &lt;!ENTITY hellip "‚Ä¶"&gt; <br> <br> <br> <br> &lt;!ENTITY ndash "‚Äì"&gt; <br> &lt;!ENTITY mdash "‚Äî"&gt; <br> &lt;!ENTITY lsquo "'"&gt; <br> &lt;!ENTITY rsquo "'"&gt; <br> &lt;!ENTITY sbquo "‚Äö"&gt; <br> &lt;!ENTITY ldquo "‚Äú"&gt; <br> &lt;!ENTITY rdquo "‚Äù"&gt; <br> &lt;!ENTITY bdquo "‚Äû"&gt; <br> &lt;!ENTITY lsaquo "‚Äπ"&gt; <br> &lt;!ENTITY rsaquo "‚Ä∫" &gt; <br> &lt;!ENTITY euro "‚Ç¨"&gt; <br> ]&gt; <br></strong></code> <br>      <strong>XML-</strong> .   <code>&lt;?xml version="1.0" encoding="windows-1251"?&gt;</code> . <br> <br>  XHML- <br> XSL-    XHTML- (   ).  XHTML-,  ,   <strong></strong> . <br> <br>      . <br> <br>   XHML-  ,    ,       : <br>  (   ).    -    ,      . / . <br>        HTML-: <br> <code><a href="https://habr.com/ru/post/22236/"></a> <a href="https://habr.com/ru/post/22236/"></a> <a href="https://habr.com/ru/post/22236/"></a> ... <br> <br>   <br> <br> <br> ... <br> <br>    <br> <br> ... <br> <br>   <br> <br> ... <br> <br>  <br> <br> ...</code> <br> <br>   XSL- <br>   XSL-   : <br> <code>&lt;xsl:stylesheet version = '1.0' encoding="UTF-8"?&gt; <br> &lt;xsl:template match="element"&gt; <br>   <br> &lt;/xsl:template&gt; <br> &lt;/xsl:stylesheet&gt;</code> <br> <br> : <code>&lt;xsl:stylesheet version = '1.0' encoding="UTF-8"?&gt;</code> -   <strong>XML-</strong>  .   <strong>UTF-8</strong> ( , ). <br> <code>&lt;xsl:stylesheet&gt; &lt;/xsl:stylesheet&gt;</code> -    XSL-. <br> <code>&lt;xsl:template match="element"&gt; &lt;/xsl:template&gt;</code> -       element. <br> <br>       : <br> <code>&lt;xsl:template match="element"&gt;&lt;/xsl:template&gt;</code> - ,     <strong>element</strong> .      <strong>element</strong> . <code>&lt;xsl:template match="element" mode="mode1"&gt;&lt;/xsl:template&gt;</code> - ,     <strong>element</strong>   <strong>mode1</strong> .         <strong>element</strong> . <code>&lt;xsl:template name="template-name"&gt;&lt;/xsl:template&gt;</code> -    <strong>template-name</strong> .     -  <strong>XML-</strong> . <br>           <strong>XML-</strong> (,  XML-,    item      ),      " "  : <br> <code>&lt;xsl:template match="navigation/sections/item"&gt;&lt;/xsl:template&gt;</code> <br>  ,    , ..,      ,  ,  , ..      <strong>navigation</strong> ,      <strong>navigation/sections/item</strong>     <strong>sections/item</strong> . <br> <br>    <br>  ,         -      .  ,        <strong>xsl-</strong> .            . <br> <br>       <strong>xsl</strong>    . <br> <br> ,        (       )   : <br> <strong>template_folder</strong> -    .      ,  <strong>my_template</strong> . <strong>dtd</strong> -    .   . <strong>lang</strong> -      (      ). <strong>mod</strong> -  . <br>       <strong>xsl/my_template</strong>   ,  <strong>layout.xsl</strong>  : <br> <code>&lt;?xml version="1.0" encoding="UTF-8"?&gt; <br> &lt;!DOCTYPE xsl:stylesheet SYSTEM "../dtd/entities.dtd"&gt; <br> &lt;xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform"&gt; <br> <br> &lt;xsl:template match="/node()"&gt; <br> &lt;/xsl:template&gt; <br> <br> &lt;/xsl:stylesheet&gt; <br></code> <br> : <br> <code>&lt;xsl:template match="/node()"&gt; &lt;/xsl:template&gt;</code> -    <strong>/node()</strong> ().  <strong>/node()</strong>   <strong>//document</strong> , ..      . <br> <br>   XHTML-   <code>&lt;xsl:template match="/node()"&gt;&lt;/xsl:template&gt;</code> <br> <br>        <strong>XML-</strong> .   , <strong>XSL-</strong>   <strong>XML-</strong>  <strong>XHTML-</strong>  . <br> <br> ,    <strong>XSL</strong>   <strong>template.xsl</strong> (, <strong>template</strong> -   ),     : <br> <code>&lt;?xml version="1.0" encoding="UTF-8"?&gt; <br> &lt;xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform"&gt; <br> <br> &lt;xsl:import href=" my_template /layout.xsl"/&gt; <br> &lt;/xsl:stylesheet&gt; <br></code> <br> : <br> <code>&lt;xsl:import href="my_template/layout.xsl"/&gt;</code> <br>    XSL- ( <strong>XSL-</strong> )   .     . <br> <br>       <br>       , ..     XML-    . <br> <br>   -    . <br> <br>        ,   <strong>XML-</strong>   : <br> <code><br> &lt;item id="0" parent_id="0" is_published="1" section="1"&gt; <br>  <br> / <br> <br> &lt;item id="1" parent_id="0" is_published="1" section="1" hit="yes"&gt; <br>  <br> news <br> <br></code> <br> <br> <br>      : <br>  <strong>id</strong>    <strong>document</strong> -    <strong>id</strong>  .  <strong>hit</strong>   <strong>item</strong> -   ,   ,    "  ". <br> ,  ,         : <br> <strong>sections</strong> -   . <strong>item</strong> -  . <br>  ,  ,   <strong>item</strong>     <strong>item</strong> ,   ,     : <br> <code><br> <br></code> <br> <br> 1.    xsl/my_template  navigation.xsl  : <br> <code>&lt;?xml version="1.0" encoding="UTF-8"?&gt; <br> &lt;!DOCTYPE xsl:stylesheet SYSTEM "../dtd/entities.dtd"&gt; <br> &lt;xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform"&gt; <br> <br> &lt;xsl:template match="sections" mode="global_menu"&gt; <br> &lt;/xsl:template&gt; <br> <br> &lt;/xsl:stylesheet&gt;</code> <br> <br> 2.         <strong>layout.xsl</strong> : <br> <code><a href="https://habr.com/"></a> <a href="https://habr.com/sections/"></a> <a href="https://habr.com/news/"></a> <br> &lt;xsl:template match="sections" mode="global_menu"&gt; <br>    <br> &lt;/xsl:template&gt; <br></code> <br> <br> 3. ‚Ä¶      <strong>layout.xsl</strong>     : <br> <code><br> &lt;xsl:apply-templates select="navigation/sections" mode="global_menu"/&gt; <br> <br></code> <br> : <br> <strong>select="navigation/sections"</strong> -  ( ) - .  ,     <strong>navigation/sections</strong> . <br> <br> <strong>mode="global_menu"</strong> -     <strong>global_menu</strong> .      ,        , ,  " ",  -         . <br> <br> 4. ,    layout.xsl     <strong>navigation.xsl</strong> : <br> <code>&lt;xsl:import href="navigation.xsl"/&gt;</code> <br> <br> 5. ,    <strong>navigation.xsl</strong>   ,    : <br> <code><br> &lt;xsl:template match="item" mode="global_menu"&gt; <br> &lt;xsl:call-template name="href_attribute"/&gt; <br> &lt;xsl:value-of select="title"/&gt; <br> <br> <br> &lt;/xsl:template&gt; <br> <br></code> <br> : <br> <code>&lt;xsl:call-template name="href_attribute"/&gt;</code> -    .        , ..  . <br> <br> <code>&lt;xsl:value-of select="title"/&gt;</code> - -   title  .         <strong>@</strong> -      . <br> <br> 6.    <strong>sections</strong> : <br> <code><br> &lt;xsl:template match="sections" mode="global_menu"&gt; <br> <br> &lt;/xsl:template&gt; <br> <br></code> <br> : <br> <code>&lt;xsl:apply-templates select="item" mode="global_menu"/&gt;</code> -    <strong>item</strong>  <strong>sections</strong> .  ,  <strong>item</strong>   <strong>item</strong> ( <strong>sections/item/item</strong> )   , ..      . <br> <br>     <strong>item</strong> ( )   .  ,         : <code>&lt;xsl:call-template name="href_attribute"/&gt;</code> <br> <br>      <strong>uri-</strong>    .    . <br> <br> 7.     , <br>   ,    .            <strong>item</strong> : <br> <code><br> &lt;xsl:template match="item" mode="global_menu"&gt; <br> <br> &lt;xsl:choose&gt; <br> <br> &lt;xsl:when test="descendant-or-self::*/@id = /node()/@id"&gt; <br> &lt;xsl:value-of select="title"/&gt; <br> &lt;/xsl:when&gt; <br> <br> &lt;xsl:otherwise&gt; <br> &lt;xsl:call-template name="href_attribute"/&gt; <br> &lt;xsl:value-of select="title"/&gt; <br> <br> &lt;/xsl:otherwise&gt; <br> &lt;/xsl:choose&gt; <br> <br> &lt;/xsl:template&gt; <br> <br></code> <br>      : <br> <code>&lt;xsl:choose&gt; <br> &lt;xsl:when&gt;&lt;/xsl:when&gt; <br> &lt;xsl:otherwise&gt;&lt;/xsl:otherwise&gt; <br> &lt;/xsl:choose&gt; <br></code> <br> ‚Ä¶, ,     <strong>XML-</strong> .      : <code>&lt;xsl:when test="descendant-or-self::*/@id = /node()/@id"&gt;</code> <br> <br>        <strong>ID</strong>    ( <strong>document</strong> )    ( <strong>item</strong> ),   ,    . <br> <br>   <code>&lt;xsl:when&gt;&lt;/xsl:when&gt;</code>  ,      .   <code>&lt;xsl:otherwise&gt;&lt;/xsl:otherwise&gt;</code> -    . <br> <br> 8. ,   <strong>href_attribute</strong> : <br> <code><br> &lt;xsl:template name="href_attribute"&gt; <br> &lt;xsl:attribute name="href"&gt; <br> &lt;xsl:text&gt;/&lt;/xsl:text&gt; <br> &lt;xsl:for-each select="ancestor-or-self::item"&gt; <br> &lt;xsl:value-of select="dir"/&gt; <br> &lt;xsl:text&gt;/&lt;/xsl:text&gt; <br> &lt;/xsl:for-each&gt; <br> &lt;/xsl:attribute&gt; <br> &lt;/xsl:template&gt; <br></code> <br> <br>      <strong>xsl:attribute</strong> .          .         <strong>a</strong> , ,      <strong>href</strong> , .. . <br> <br>  <code>&lt;xsl:for-each select="ancestor-or-self::item"&gt;</code>      ,  .      <strong>ancestor-or-self::item</strong> -         .           <strong>dir</strong> , ..     -. <br> <br> ,   -  ,       . ,   <a href="http://habrahabr.ru/blog/webdev/38433.html">  </a> . <br> <br> <strong>UPD:</strong> <br>   .   ,  : <br> <a href="">parser.proc.ru/iso/xslt-1.zip</a> <br> <br>        (       )           Apache. <br> <br>    XML-   /xsl/document.xml</code></code></code></code></code> <h3> <code><code><code><code><code><code>-    (   ). : <br> <strong>Lang</strong> -  .     . <strong>Id</strong> -   . <br> &lt;lang_table&gt;</code> -  ,   . <br> <code>-   : <br> -    (  ): <br> &lt;item id="0" parent_id="0" is_published="1" section="1"&gt;</code> -   . : <br> <strong>Id</strong> -  . <strong>Parent_id</strong> -   . <strong>Is_published</strong> -   . <strong>Dir</strong> - uri- .     . <strong>Section</strong> -  .         . <br> <code>-  . <br>   CMS   :        : <br> <strong>Html</strong> -  .  ,    . <strong>Com</strong> - -.  ,      CMS: , ,    .. <br>  <strong>XSL-</strong>   ,     .       . <br> <br> CMS       <strong> ,      : <br> : <br> <strong>Id</strong> -  . <br> <strong>Container</strong> - - (    ). <br> <strong>Sorting</strong> -    . <br> <strong>Type</strong> - : <br> <strong>Com</strong> - - <br> <strong>Html</strong> -  . <br> <strong>Method</strong> -  . <br> <strong>Title</strong> -  . <br> <strong>DTD</strong>     (    ): <br> &lt;!DOCTYPE site_page [ <br> <br> &lt;!ENTITY nbsp " "&gt; <br> &lt;!ENTITY sect "¬ß" &gt; <br> &lt;!ENTITY copy "¬©"&gt; <br> &lt;!ENTITY laquo "¬´"&gt; <br> &lt;!ENTITY reg "¬Æ"&gt; <br> &lt;!ENTITY deg "¬∞"&gt; <br> &lt;!ENTITY plusmn "¬±"&gt; <br> &lt;!ENTITY para "¬∂"&gt; <br> &lt;!ENTITY raquo "¬ª"&gt; <br> &lt;!ENTITY times "√ó"&gt; <br> <br> <br> <br> &lt;!ENTITY bull "‚Ä¢"&gt; <br> &lt;!ENTITY hellip "‚Ä¶"&gt; <br> <br> <br> <br> &lt;!ENTITY ndash "‚Äì"&gt; <br> &lt;!ENTITY mdash "‚Äî"&gt; <br> &lt;!ENTITY lsquo "'"&gt; <br> &lt;!ENTITY rsquo "'"&gt; <br> &lt;!ENTITY sbquo "‚Äö"&gt; <br> &lt;!ENTITY ldquo "‚Äú"&gt; <br> &lt;!ENTITY rdquo "‚Äù"&gt; <br> &lt;!ENTITY bdquo "‚Äû"&gt; <br> &lt;!ENTITY lsaquo "‚Äπ"&gt; <br> &lt;!ENTITY rsaquo "‚Ä∫" &gt; <br> &lt;!ENTITY euro "‚Ç¨"&gt; <br> ]&gt; <br></strong></code> <br>      <strong>XML-</strong> .   <code>&lt;?xml version="1.0" encoding="windows-1251"?&gt;</code> . <br> <br>  XHML- <br> XSL-    XHTML- (   ).  XHTML-,  ,   <strong></strong> . <br> <br>      . <br> <br>   XHML-  ,    ,       : <br>  (   ).    -    ,      . / . <br>        HTML-: <br> <code><a href="https://habr.com/ru/post/22236/"></a> <a href="https://habr.com/ru/post/22236/"></a> <a href="https://habr.com/ru/post/22236/"></a> ... <br> <br>   <br> <br> <br> ... <br> <br>    <br> <br> ... <br> <br>   <br> <br> ... <br> <br>  <br> <br> ...</code> <br> <br>   XSL- <br>   XSL-   : <br> <code>&lt;xsl:stylesheet version = '1.0' encoding="UTF-8"?&gt; <br> &lt;xsl:template match="element"&gt; <br>   <br> &lt;/xsl:template&gt; <br> &lt;/xsl:stylesheet&gt;</code> <br> <br> : <code>&lt;xsl:stylesheet version = '1.0' encoding="UTF-8"?&gt;</code> -   <strong>XML-</strong>  .   <strong>UTF-8</strong> ( , ). <br> <code>&lt;xsl:stylesheet&gt; &lt;/xsl:stylesheet&gt;</code> -    XSL-. <br> <code>&lt;xsl:template match="element"&gt; &lt;/xsl:template&gt;</code> -       element. <br> <br>       : <br> <code>&lt;xsl:template match="element"&gt;&lt;/xsl:template&gt;</code> - ,     <strong>element</strong> .      <strong>element</strong> . <code>&lt;xsl:template match="element" mode="mode1"&gt;&lt;/xsl:template&gt;</code> - ,     <strong>element</strong>   <strong>mode1</strong> .         <strong>element</strong> . <code>&lt;xsl:template name="template-name"&gt;&lt;/xsl:template&gt;</code> -    <strong>template-name</strong> .     -  <strong>XML-</strong> . <br>           <strong>XML-</strong> (,  XML-,    item      ),      " "  : <br> <code>&lt;xsl:template match="navigation/sections/item"&gt;&lt;/xsl:template&gt;</code> <br>  ,    , ..,      ,  ,  , ..      <strong>navigation</strong> ,      <strong>navigation/sections/item</strong>     <strong>sections/item</strong> . <br> <br>    <br>  ,         -      .  ,        <strong>xsl-</strong> .            . <br> <br>       <strong>xsl</strong>    . <br> <br> ,        (       )   : <br> <strong>template_folder</strong> -    .      ,  <strong>my_template</strong> . <strong>dtd</strong> -    .   . <strong>lang</strong> -      (      ). <strong>mod</strong> -  . <br>       <strong>xsl/my_template</strong>   ,  <strong>layout.xsl</strong>  : <br> <code>&lt;?xml version="1.0" encoding="UTF-8"?&gt; <br> &lt;!DOCTYPE xsl:stylesheet SYSTEM "../dtd/entities.dtd"&gt; <br> &lt;xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform"&gt; <br> <br> &lt;xsl:template match="/node()"&gt; <br> &lt;/xsl:template&gt; <br> <br> &lt;/xsl:stylesheet&gt; <br></code> <br> : <br> <code>&lt;xsl:template match="/node()"&gt; &lt;/xsl:template&gt;</code> -    <strong>/node()</strong> ().  <strong>/node()</strong>   <strong>//document</strong> , ..      . <br> <br>   XHTML-   <code>&lt;xsl:template match="/node()"&gt;&lt;/xsl:template&gt;</code> <br> <br>        <strong>XML-</strong> .   , <strong>XSL-</strong>   <strong>XML-</strong>  <strong>XHTML-</strong>  . <br> <br> ,    <strong>XSL</strong>   <strong>template.xsl</strong> (, <strong>template</strong> -   ),     : <br> <code>&lt;?xml version="1.0" encoding="UTF-8"?&gt; <br> &lt;xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform"&gt; <br> <br> &lt;xsl:import href=" my_template /layout.xsl"/&gt; <br> &lt;/xsl:stylesheet&gt; <br></code> <br> : <br> <code>&lt;xsl:import href="my_template/layout.xsl"/&gt;</code> <br>    XSL- ( <strong>XSL-</strong> )   .     . <br> <br>       <br>       , ..     XML-    . <br> <br>   -    . <br> <br>        ,   <strong>XML-</strong>   : <br> <code><br> &lt;item id="0" parent_id="0" is_published="1" section="1"&gt; <br>  <br> / <br> <br> &lt;item id="1" parent_id="0" is_published="1" section="1" hit="yes"&gt; <br>  <br> news <br> <br></code> <br> <br> <br>      : <br>  <strong>id</strong>    <strong>document</strong> -    <strong>id</strong>  .  <strong>hit</strong>   <strong>item</strong> -   ,   ,    "  ". <br> ,  ,         : <br> <strong>sections</strong> -   . <strong>item</strong> -  . <br>  ,  ,   <strong>item</strong>     <strong>item</strong> ,   ,     : <br> <code><br> <br></code> <br> <br> 1.    xsl/my_template  navigation.xsl  : <br> <code>&lt;?xml version="1.0" encoding="UTF-8"?&gt; <br> &lt;!DOCTYPE xsl:stylesheet SYSTEM "../dtd/entities.dtd"&gt; <br> &lt;xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform"&gt; <br> <br> &lt;xsl:template match="sections" mode="global_menu"&gt; <br> &lt;/xsl:template&gt; <br> <br> &lt;/xsl:stylesheet&gt;</code> <br> <br> 2.         <strong>layout.xsl</strong> : <br> <code><a href="https://habr.com/"></a> <a href="https://habr.com/sections/"></a> <a href="https://habr.com/news/"></a> <br> &lt;xsl:template match="sections" mode="global_menu"&gt; <br>    <br> &lt;/xsl:template&gt; <br></code> <br> <br> 3. ‚Ä¶      <strong>layout.xsl</strong>     : <br> <code><br> &lt;xsl:apply-templates select="navigation/sections" mode="global_menu"/&gt; <br> <br></code> <br> : <br> <strong>select="navigation/sections"</strong> -  ( ) - .  ,     <strong>navigation/sections</strong> . <br> <br> <strong>mode="global_menu"</strong> -     <strong>global_menu</strong> .      ,        , ,  " ",  -         . <br> <br> 4. ,    layout.xsl     <strong>navigation.xsl</strong> : <br> <code>&lt;xsl:import href="navigation.xsl"/&gt;</code> <br> <br> 5. ,    <strong>navigation.xsl</strong>   ,    : <br> <code><br> &lt;xsl:template match="item" mode="global_menu"&gt; <br> &lt;xsl:call-template name="href_attribute"/&gt; <br> &lt;xsl:value-of select="title"/&gt; <br> <br> <br> &lt;/xsl:template&gt; <br> <br></code> <br> : <br> <code>&lt;xsl:call-template name="href_attribute"/&gt;</code> -    .        , ..  . <br> <br> <code>&lt;xsl:value-of select="title"/&gt;</code> - -   title  .         <strong>@</strong> -      . <br> <br> 6.    <strong>sections</strong> : <br> <code><br> &lt;xsl:template match="sections" mode="global_menu"&gt; <br> <br> &lt;/xsl:template&gt; <br> <br></code> <br> : <br> <code>&lt;xsl:apply-templates select="item" mode="global_menu"/&gt;</code> -    <strong>item</strong>  <strong>sections</strong> .  ,  <strong>item</strong>   <strong>item</strong> ( <strong>sections/item/item</strong> )   , ..      . <br> <br>     <strong>item</strong> ( )   .  ,         : <code>&lt;xsl:call-template name="href_attribute"/&gt;</code> <br> <br>      <strong>uri-</strong>    .    . <br> <br> 7.     , <br>   ,    .            <strong>item</strong> : <br> <code><br> &lt;xsl:template match="item" mode="global_menu"&gt; <br> <br> &lt;xsl:choose&gt; <br> <br> &lt;xsl:when test="descendant-or-self::*/@id = /node()/@id"&gt; <br> &lt;xsl:value-of select="title"/&gt; <br> &lt;/xsl:when&gt; <br> <br> &lt;xsl:otherwise&gt; <br> &lt;xsl:call-template name="href_attribute"/&gt; <br> &lt;xsl:value-of select="title"/&gt; <br> <br> &lt;/xsl:otherwise&gt; <br> &lt;/xsl:choose&gt; <br> <br> &lt;/xsl:template&gt; <br> <br></code> <br>      : <br> <code>&lt;xsl:choose&gt; <br> &lt;xsl:when&gt;&lt;/xsl:when&gt; <br> &lt;xsl:otherwise&gt;&lt;/xsl:otherwise&gt; <br> &lt;/xsl:choose&gt; <br></code> <br> ‚Ä¶, ,     <strong>XML-</strong> .      : <code>&lt;xsl:when test="descendant-or-self::*/@id = /node()/@id"&gt;</code> <br> <br>        <strong>ID</strong>    ( <strong>document</strong> )    ( <strong>item</strong> ),   ,    . <br> <br>   <code>&lt;xsl:when&gt;&lt;/xsl:when&gt;</code>  ,      .   <code>&lt;xsl:otherwise&gt;&lt;/xsl:otherwise&gt;</code> -    . <br> <br> 8. ,   <strong>href_attribute</strong> : <br> <code><br> &lt;xsl:template name="href_attribute"&gt; <br> &lt;xsl:attribute name="href"&gt; <br> &lt;xsl:text&gt;/&lt;/xsl:text&gt; <br> &lt;xsl:for-each select="ancestor-or-self::item"&gt; <br> &lt;xsl:value-of select="dir"/&gt; <br> &lt;xsl:text&gt;/&lt;/xsl:text&gt; <br> &lt;/xsl:for-each&gt; <br> &lt;/xsl:attribute&gt; <br> &lt;/xsl:template&gt; <br></code> <br> <br>      <strong>xsl:attribute</strong> .          .         <strong>a</strong> , ,      <strong>href</strong> , .. . <br> <br>  <code>&lt;xsl:for-each select="ancestor-or-self::item"&gt;</code>      ,  .      <strong>ancestor-or-self::item</strong> -         .           <strong>dir</strong> , ..     -. <br> <br> ,   -  ,       . ,   <a href="http://habrahabr.ru/blog/webdev/38433.html">  </a> . <br> <br> <strong>UPD:</strong> <br>   .   ,  : <br> <a href="">parser.proc.ru/iso/xslt-1.zip</a> <br> <br>        (       )           Apache. <br> <br>    XML-   /xsl/document.xml</code></code></code></code></code> </h3> <code><code><code><code><code><code>-    (   ). : <br> <strong>Lang</strong> -  .     . <strong>Id</strong> -   . <br> &lt;lang_table&gt;</code> -  ,   . <br> <code>-   : <br> -    (  ): <br> &lt;item id="0" parent_id="0" is_published="1" section="1"&gt;</code> -   . : <br> <strong>Id</strong> -  . <strong>Parent_id</strong> -   . <strong>Is_published</strong> -   . <strong>Dir</strong> - uri- .     . <strong>Section</strong> -  .         . <br> <code>-  . <br>   CMS   :        : <br> <strong>Html</strong> -  .  ,    . <strong>Com</strong> - -.  ,      CMS: , ,    .. <br>  <strong>XSL-</strong>   ,     .       . <br> <br> CMS       <strong> ,      : <br> : <br> <strong>Id</strong> -  . <br> <strong>Container</strong> - - (    ). <br> <strong>Sorting</strong> -    . <br> <strong>Type</strong> - : <br> <strong>Com</strong> - - <br> <strong>Html</strong> -  . <br> <strong>Method</strong> -  . <br> <strong>Title</strong> -  . <br> <strong>DTD</strong>     (    ): <br> &lt;!DOCTYPE site_page [ <br> <br> &lt;!ENTITY nbsp " "&gt; <br> &lt;!ENTITY sect "¬ß" &gt; <br> &lt;!ENTITY copy "¬©"&gt; <br> &lt;!ENTITY laquo "¬´"&gt; <br> &lt;!ENTITY reg "¬Æ"&gt; <br> &lt;!ENTITY deg "¬∞"&gt; <br> &lt;!ENTITY plusmn "¬±"&gt; <br> &lt;!ENTITY para "¬∂"&gt; <br> &lt;!ENTITY raquo "¬ª"&gt; <br> &lt;!ENTITY times "√ó"&gt; <br> <br> <br> <br> &lt;!ENTITY bull "‚Ä¢"&gt; <br> &lt;!ENTITY hellip "‚Ä¶"&gt; <br> <br> <br> <br> &lt;!ENTITY ndash "‚Äì"&gt; <br> &lt;!ENTITY mdash "‚Äî"&gt; <br> &lt;!ENTITY lsquo "'"&gt; <br> &lt;!ENTITY rsquo "'"&gt; <br> &lt;!ENTITY sbquo "‚Äö"&gt; <br> &lt;!ENTITY ldquo "‚Äú"&gt; <br> &lt;!ENTITY rdquo "‚Äù"&gt; <br> &lt;!ENTITY bdquo "‚Äû"&gt; <br> &lt;!ENTITY lsaquo "‚Äπ"&gt; <br> &lt;!ENTITY rsaquo "‚Ä∫" &gt; <br> &lt;!ENTITY euro "‚Ç¨"&gt; <br> ]&gt; <br></strong></code> <br>      <strong>XML-</strong> .   <code>&lt;?xml version="1.0" encoding="windows-1251"?&gt;</code> . <br> <br>  XHML- <br> XSL-    XHTML- (   ).  XHTML-,  ,   <strong></strong> . <br> <br>      . <br> <br>   XHML-  ,    ,       : <br>  (   ).    -    ,      . / . <br>        HTML-: <br> <code><a href="https://habr.com/ru/post/22236/"></a> <a href="https://habr.com/ru/post/22236/"></a> <a href="https://habr.com/ru/post/22236/"></a> ... <br> <br>   <br> <br> <br> ... <br> <br>    <br> <br> ... <br> <br>   <br> <br> ... <br> <br>  <br> <br> ...</code> <br> <br>   XSL- <br>   XSL-   : <br> <code>&lt;xsl:stylesheet version = '1.0' encoding="UTF-8"?&gt; <br> &lt;xsl:template match="element"&gt; <br>   <br> &lt;/xsl:template&gt; <br> &lt;/xsl:stylesheet&gt;</code> <br> <br> : <code>&lt;xsl:stylesheet version = '1.0' encoding="UTF-8"?&gt;</code> -   <strong>XML-</strong>  .   <strong>UTF-8</strong> ( , ). <br> <code>&lt;xsl:stylesheet&gt; &lt;/xsl:stylesheet&gt;</code> -    XSL-. <br> <code>&lt;xsl:template match="element"&gt; &lt;/xsl:template&gt;</code> -       element. <br> <br>       : <br> <code>&lt;xsl:template match="element"&gt;&lt;/xsl:template&gt;</code> - ,     <strong>element</strong> .      <strong>element</strong> . <code>&lt;xsl:template match="element" mode="mode1"&gt;&lt;/xsl:template&gt;</code> - ,     <strong>element</strong>   <strong>mode1</strong> .         <strong>element</strong> . <code>&lt;xsl:template name="template-name"&gt;&lt;/xsl:template&gt;</code> -    <strong>template-name</strong> .     -  <strong>XML-</strong> . <br>           <strong>XML-</strong> (,  XML-,    item      ),      " "  : <br> <code>&lt;xsl:template match="navigation/sections/item"&gt;&lt;/xsl:template&gt;</code> <br>  ,    , ..,      ,  ,  , ..      <strong>navigation</strong> ,      <strong>navigation/sections/item</strong>     <strong>sections/item</strong> . <br> <br>    <br>  ,         -      .  ,        <strong>xsl-</strong> .            . <br> <br>       <strong>xsl</strong>    . <br> <br> ,        (       )   : <br> <strong>template_folder</strong> -    .      ,  <strong>my_template</strong> . <strong>dtd</strong> -    .   . <strong>lang</strong> -      (      ). <strong>mod</strong> -  . <br>       <strong>xsl/my_template</strong>   ,  <strong>layout.xsl</strong>  : <br> <code>&lt;?xml version="1.0" encoding="UTF-8"?&gt; <br> &lt;!DOCTYPE xsl:stylesheet SYSTEM "../dtd/entities.dtd"&gt; <br> &lt;xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform"&gt; <br> <br> &lt;xsl:template match="/node()"&gt; <br> &lt;/xsl:template&gt; <br> <br> &lt;/xsl:stylesheet&gt; <br></code> <br> : <br> <code>&lt;xsl:template match="/node()"&gt; &lt;/xsl:template&gt;</code> -    <strong>/node()</strong> ().  <strong>/node()</strong>   <strong>//document</strong> , ..      . <br> <br>   XHTML-   <code>&lt;xsl:template match="/node()"&gt;&lt;/xsl:template&gt;</code> <br> <br>        <strong>XML-</strong> .   , <strong>XSL-</strong>   <strong>XML-</strong>  <strong>XHTML-</strong>  . <br> <br> ,    <strong>XSL</strong>   <strong>template.xsl</strong> (, <strong>template</strong> -   ),     : <br> <code>&lt;?xml version="1.0" encoding="UTF-8"?&gt; <br> &lt;xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform"&gt; <br> <br> &lt;xsl:import href=" my_template /layout.xsl"/&gt; <br> &lt;/xsl:stylesheet&gt; <br></code> <br> : <br> <code>&lt;xsl:import href="my_template/layout.xsl"/&gt;</code> <br>    XSL- ( <strong>XSL-</strong> )   .     . <br> <br>       <br>       , ..     XML-    . <br> <br>   -    . <br> <br>        ,   <strong>XML-</strong>   : <br> <code><br> &lt;item id="0" parent_id="0" is_published="1" section="1"&gt; <br>  <br> / <br> <br> &lt;item id="1" parent_id="0" is_published="1" section="1" hit="yes"&gt; <br>  <br> news <br> <br></code> <br> <br> <br>      : <br>  <strong>id</strong>    <strong>document</strong> -    <strong>id</strong>  .  <strong>hit</strong>   <strong>item</strong> -   ,   ,    "  ". <br> ,  ,         : <br> <strong>sections</strong> -   . <strong>item</strong> -  . <br>  ,  ,   <strong>item</strong>     <strong>item</strong> ,   ,     : <br> <code><br> <br></code> <br> <br> 1.    xsl/my_template  navigation.xsl  : <br> <code>&lt;?xml version="1.0" encoding="UTF-8"?&gt; <br> &lt;!DOCTYPE xsl:stylesheet SYSTEM "../dtd/entities.dtd"&gt; <br> &lt;xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform"&gt; <br> <br> &lt;xsl:template match="sections" mode="global_menu"&gt; <br> &lt;/xsl:template&gt; <br> <br> &lt;/xsl:stylesheet&gt;</code> <br> <br> 2.         <strong>layout.xsl</strong> : <br> <code><a href="https://habr.com/"></a> <a href="https://habr.com/sections/"></a> <a href="https://habr.com/news/"></a> <br> &lt;xsl:template match="sections" mode="global_menu"&gt; <br>    <br> &lt;/xsl:template&gt; <br></code> <br> <br> 3. ‚Ä¶      <strong>layout.xsl</strong>     : <br> <code><br> &lt;xsl:apply-templates select="navigation/sections" mode="global_menu"/&gt; <br> <br></code> <br> : <br> <strong>select="navigation/sections"</strong> -  ( ) - .  ,     <strong>navigation/sections</strong> . <br> <br> <strong>mode="global_menu"</strong> -     <strong>global_menu</strong> .      ,        , ,  " ",  -         . <br> <br> 4. ,    layout.xsl     <strong>navigation.xsl</strong> : <br> <code>&lt;xsl:import href="navigation.xsl"/&gt;</code> <br> <br> 5. ,    <strong>navigation.xsl</strong>   ,    : <br> <code><br> &lt;xsl:template match="item" mode="global_menu"&gt; <br> &lt;xsl:call-template name="href_attribute"/&gt; <br> &lt;xsl:value-of select="title"/&gt; <br> <br> <br> &lt;/xsl:template&gt; <br> <br></code> <br> : <br> <code>&lt;xsl:call-template name="href_attribute"/&gt;</code> -    .        , ..  . <br> <br> <code>&lt;xsl:value-of select="title"/&gt;</code> - -   title  .         <strong>@</strong> -      . <br> <br> 6.    <strong>sections</strong> : <br> <code><br> &lt;xsl:template match="sections" mode="global_menu"&gt; <br> <br> &lt;/xsl:template&gt; <br> <br></code> <br> : <br> <code>&lt;xsl:apply-templates select="item" mode="global_menu"/&gt;</code> -    <strong>item</strong>  <strong>sections</strong> .  ,  <strong>item</strong>   <strong>item</strong> ( <strong>sections/item/item</strong> )   , ..      . <br> <br>     <strong>item</strong> ( )   .  ,         : <code>&lt;xsl:call-template name="href_attribute"/&gt;</code> <br> <br>      <strong>uri-</strong>    .    . <br> <br> 7.     , <br>   ,    .            <strong>item</strong> : <br> <code><br> &lt;xsl:template match="item" mode="global_menu"&gt; <br> <br> &lt;xsl:choose&gt; <br> <br> &lt;xsl:when test="descendant-or-self::*/@id = /node()/@id"&gt; <br> &lt;xsl:value-of select="title"/&gt; <br> &lt;/xsl:when&gt; <br> <br> &lt;xsl:otherwise&gt; <br> &lt;xsl:call-template name="href_attribute"/&gt; <br> &lt;xsl:value-of select="title"/&gt; <br> <br> &lt;/xsl:otherwise&gt; <br> &lt;/xsl:choose&gt; <br> <br> &lt;/xsl:template&gt; <br> <br></code> <br>      : <br> <code>&lt;xsl:choose&gt; <br> &lt;xsl:when&gt;&lt;/xsl:when&gt; <br> &lt;xsl:otherwise&gt;&lt;/xsl:otherwise&gt; <br> &lt;/xsl:choose&gt; <br></code> <br> ‚Ä¶, ,     <strong>XML-</strong> .      : <code>&lt;xsl:when test="descendant-or-self::*/@id = /node()/@id"&gt;</code> <br> <br>        <strong>ID</strong>    ( <strong>document</strong> )    ( <strong>item</strong> ),   ,    . <br> <br>   <code>&lt;xsl:when&gt;&lt;/xsl:when&gt;</code>  ,      .   <code>&lt;xsl:otherwise&gt;&lt;/xsl:otherwise&gt;</code> -    . <br> <br> 8. ,   <strong>href_attribute</strong> : <br> <code><br> &lt;xsl:template name="href_attribute"&gt; <br> &lt;xsl:attribute name="href"&gt; <br> &lt;xsl:text&gt;/&lt;/xsl:text&gt; <br> &lt;xsl:for-each select="ancestor-or-self::item"&gt; <br> &lt;xsl:value-of select="dir"/&gt; <br> &lt;xsl:text&gt;/&lt;/xsl:text&gt; <br> &lt;/xsl:for-each&gt; <br> &lt;/xsl:attribute&gt; <br> &lt;/xsl:template&gt; <br></code> <br> <br>      <strong>xsl:attribute</strong> .          .         <strong>a</strong> , ,      <strong>href</strong> , .. . <br> <br>  <code>&lt;xsl:for-each select="ancestor-or-self::item"&gt;</code>      ,  .      <strong>ancestor-or-self::item</strong> -         .           <strong>dir</strong> , ..     -. <br> <br> ,   -  ,       . ,   <a href="http://habrahabr.ru/blog/webdev/38433.html">  </a> . <br> <br> <strong>UPD:</strong> <br>   .   ,  : <br> <a href="">parser.proc.ru/iso/xslt-1.zip</a> <br> <br>        (       )           Apache. <br> <br>    XML-   /xsl/document.xml</code></code></code></code></code> <h3> <code><code><code><code><code><code>-    (   ). : <br> <strong>Lang</strong> -  .     . <strong>Id</strong> -   . <br> &lt;lang_table&gt;</code> -  ,   . <br> <code>-   : <br> -    (  ): <br> &lt;item id="0" parent_id="0" is_published="1" section="1"&gt;</code> -   . : <br> <strong>Id</strong> -  . <strong>Parent_id</strong> -   . <strong>Is_published</strong> -   . <strong>Dir</strong> - uri- .     . <strong>Section</strong> -  .         . <br> <code>-  . <br>   CMS   :        : <br> <strong>Html</strong> -  .  ,    . <strong>Com</strong> - -.  ,      CMS: , ,    .. <br>  <strong>XSL-</strong>   ,     .       . <br> <br> CMS       <strong> ,      : <br> : <br> <strong>Id</strong> -  . <br> <strong>Container</strong> - - (    ). <br> <strong>Sorting</strong> -    . <br> <strong>Type</strong> - : <br> <strong>Com</strong> - - <br> <strong>Html</strong> -  . <br> <strong>Method</strong> -  . <br> <strong>Title</strong> -  . <br> <strong>DTD</strong>     (    ): <br> &lt;!DOCTYPE site_page [ <br> <br> &lt;!ENTITY nbsp " "&gt; <br> &lt;!ENTITY sect "¬ß" &gt; <br> &lt;!ENTITY copy "¬©"&gt; <br> &lt;!ENTITY laquo "¬´"&gt; <br> &lt;!ENTITY reg "¬Æ"&gt; <br> &lt;!ENTITY deg "¬∞"&gt; <br> &lt;!ENTITY plusmn "¬±"&gt; <br> &lt;!ENTITY para "¬∂"&gt; <br> &lt;!ENTITY raquo "¬ª"&gt; <br> &lt;!ENTITY times "√ó"&gt; <br> <br> <br> <br> &lt;!ENTITY bull "‚Ä¢"&gt; <br> &lt;!ENTITY hellip "‚Ä¶"&gt; <br> <br> <br> <br> &lt;!ENTITY ndash "‚Äì"&gt; <br> &lt;!ENTITY mdash "‚Äî"&gt; <br> &lt;!ENTITY lsquo "'"&gt; <br> &lt;!ENTITY rsquo "'"&gt; <br> &lt;!ENTITY sbquo "‚Äö"&gt; <br> &lt;!ENTITY ldquo "‚Äú"&gt; <br> &lt;!ENTITY rdquo "‚Äù"&gt; <br> &lt;!ENTITY bdquo "‚Äû"&gt; <br> &lt;!ENTITY lsaquo "‚Äπ"&gt; <br> &lt;!ENTITY rsaquo "‚Ä∫" &gt; <br> &lt;!ENTITY euro "‚Ç¨"&gt; <br> ]&gt; <br></strong></code> <br>      <strong>XML-</strong> .   <code>&lt;?xml version="1.0" encoding="windows-1251"?&gt;</code> . <br> <br>  XHML- <br> XSL-    XHTML- (   ).  XHTML-,  ,   <strong></strong> . <br> <br>      . <br> <br>   XHML-  ,    ,       : <br>  (   ).    -    ,      . / . <br>        HTML-: <br> <code><a href="https://habr.com/ru/post/22236/"></a> <a href="https://habr.com/ru/post/22236/"></a> <a href="https://habr.com/ru/post/22236/"></a> ... <br> <br>   <br> <br> <br> ... <br> <br>    <br> <br> ... <br> <br>   <br> <br> ... <br> <br>  <br> <br> ...</code> <br> <br>   XSL- <br>   XSL-   : <br> <code>&lt;xsl:stylesheet version = '1.0' encoding="UTF-8"?&gt; <br> &lt;xsl:template match="element"&gt; <br>   <br> &lt;/xsl:template&gt; <br> &lt;/xsl:stylesheet&gt;</code> <br> <br> : <code>&lt;xsl:stylesheet version = '1.0' encoding="UTF-8"?&gt;</code> -   <strong>XML-</strong>  .   <strong>UTF-8</strong> ( , ). <br> <code>&lt;xsl:stylesheet&gt; &lt;/xsl:stylesheet&gt;</code> -    XSL-. <br> <code>&lt;xsl:template match="element"&gt; &lt;/xsl:template&gt;</code> -       element. <br> <br>       : <br> <code>&lt;xsl:template match="element"&gt;&lt;/xsl:template&gt;</code> - ,     <strong>element</strong> .      <strong>element</strong> . <code>&lt;xsl:template match="element" mode="mode1"&gt;&lt;/xsl:template&gt;</code> - ,     <strong>element</strong>   <strong>mode1</strong> .         <strong>element</strong> . <code>&lt;xsl:template name="template-name"&gt;&lt;/xsl:template&gt;</code> -    <strong>template-name</strong> .     -  <strong>XML-</strong> . <br>           <strong>XML-</strong> (,  XML-,    item      ),      " "  : <br> <code>&lt;xsl:template match="navigation/sections/item"&gt;&lt;/xsl:template&gt;</code> <br>  ,    , ..,      ,  ,  , ..      <strong>navigation</strong> ,      <strong>navigation/sections/item</strong>     <strong>sections/item</strong> . <br> <br>    <br>  ,         -      .  ,        <strong>xsl-</strong> .            . <br> <br>       <strong>xsl</strong>    . <br> <br> ,        (       )   : <br> <strong>template_folder</strong> -    .      ,  <strong>my_template</strong> . <strong>dtd</strong> -    .   . <strong>lang</strong> -      (      ). <strong>mod</strong> -  . <br>       <strong>xsl/my_template</strong>   ,  <strong>layout.xsl</strong>  : <br> <code>&lt;?xml version="1.0" encoding="UTF-8"?&gt; <br> &lt;!DOCTYPE xsl:stylesheet SYSTEM "../dtd/entities.dtd"&gt; <br> &lt;xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform"&gt; <br> <br> &lt;xsl:template match="/node()"&gt; <br> &lt;/xsl:template&gt; <br> <br> &lt;/xsl:stylesheet&gt; <br></code> <br> : <br> <code>&lt;xsl:template match="/node()"&gt; &lt;/xsl:template&gt;</code> -    <strong>/node()</strong> ().  <strong>/node()</strong>   <strong>//document</strong> , ..      . <br> <br>   XHTML-   <code>&lt;xsl:template match="/node()"&gt;&lt;/xsl:template&gt;</code> <br> <br>        <strong>XML-</strong> .   , <strong>XSL-</strong>   <strong>XML-</strong>  <strong>XHTML-</strong>  . <br> <br> ,    <strong>XSL</strong>   <strong>template.xsl</strong> (, <strong>template</strong> -   ),     : <br> <code>&lt;?xml version="1.0" encoding="UTF-8"?&gt; <br> &lt;xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform"&gt; <br> <br> &lt;xsl:import href=" my_template /layout.xsl"/&gt; <br> &lt;/xsl:stylesheet&gt; <br></code> <br> : <br> <code>&lt;xsl:import href="my_template/layout.xsl"/&gt;</code> <br>    XSL- ( <strong>XSL-</strong> )   .     . <br> <br>       <br>       , ..     XML-    . <br> <br>   -    . <br> <br>        ,   <strong>XML-</strong>   : <br> <code><br> &lt;item id="0" parent_id="0" is_published="1" section="1"&gt; <br>  <br> / <br> <br> &lt;item id="1" parent_id="0" is_published="1" section="1" hit="yes"&gt; <br>  <br> news <br> <br></code> <br> <br> <br>      : <br>  <strong>id</strong>    <strong>document</strong> -    <strong>id</strong>  .  <strong>hit</strong>   <strong>item</strong> -   ,   ,    "  ". <br> ,  ,         : <br> <strong>sections</strong> -   . <strong>item</strong> -  . <br>  ,  ,   <strong>item</strong>     <strong>item</strong> ,   ,     : <br> <code><br> <br></code> <br> <br> 1.    xsl/my_template  navigation.xsl  : <br> <code>&lt;?xml version="1.0" encoding="UTF-8"?&gt; <br> &lt;!DOCTYPE xsl:stylesheet SYSTEM "../dtd/entities.dtd"&gt; <br> &lt;xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform"&gt; <br> <br> &lt;xsl:template match="sections" mode="global_menu"&gt; <br> &lt;/xsl:template&gt; <br> <br> &lt;/xsl:stylesheet&gt;</code> <br> <br> 2.         <strong>layout.xsl</strong> : <br> <code><a href="https://habr.com/"></a> <a href="https://habr.com/sections/"></a> <a href="https://habr.com/news/"></a> <br> &lt;xsl:template match="sections" mode="global_menu"&gt; <br>    <br> &lt;/xsl:template&gt; <br></code> <br> <br> 3. ‚Ä¶      <strong>layout.xsl</strong>     : <br> <code><br> &lt;xsl:apply-templates select="navigation/sections" mode="global_menu"/&gt; <br> <br></code> <br> : <br> <strong>select="navigation/sections"</strong> -  ( ) - .  ,     <strong>navigation/sections</strong> . <br> <br> <strong>mode="global_menu"</strong> -     <strong>global_menu</strong> .      ,        , ,  " ",  -         . <br> <br> 4. ,    layout.xsl     <strong>navigation.xsl</strong> : <br> <code>&lt;xsl:import href="navigation.xsl"/&gt;</code> <br> <br> 5. ,    <strong>navigation.xsl</strong>   ,    : <br> <code><br> &lt;xsl:template match="item" mode="global_menu"&gt; <br> &lt;xsl:call-template name="href_attribute"/&gt; <br> &lt;xsl:value-of select="title"/&gt; <br> <br> <br> &lt;/xsl:template&gt; <br> <br></code> <br> : <br> <code>&lt;xsl:call-template name="href_attribute"/&gt;</code> -    .        , ..  . <br> <br> <code>&lt;xsl:value-of select="title"/&gt;</code> - -   title  .         <strong>@</strong> -      . <br> <br> 6.    <strong>sections</strong> : <br> <code><br> &lt;xsl:template match="sections" mode="global_menu"&gt; <br> <br> &lt;/xsl:template&gt; <br> <br></code> <br> : <br> <code>&lt;xsl:apply-templates select="item" mode="global_menu"/&gt;</code> -    <strong>item</strong>  <strong>sections</strong> .  ,  <strong>item</strong>   <strong>item</strong> ( <strong>sections/item/item</strong> )   , ..      . <br> <br>     <strong>item</strong> ( )   .  ,         : <code>&lt;xsl:call-template name="href_attribute"/&gt;</code> <br> <br>      <strong>uri-</strong>    .    . <br> <br> 7.     , <br>   ,    .            <strong>item</strong> : <br> <code><br> &lt;xsl:template match="item" mode="global_menu"&gt; <br> <br> &lt;xsl:choose&gt; <br> <br> &lt;xsl:when test="descendant-or-self::*/@id = /node()/@id"&gt; <br> &lt;xsl:value-of select="title"/&gt; <br> &lt;/xsl:when&gt; <br> <br> &lt;xsl:otherwise&gt; <br> &lt;xsl:call-template name="href_attribute"/&gt; <br> &lt;xsl:value-of select="title"/&gt; <br> <br> &lt;/xsl:otherwise&gt; <br> &lt;/xsl:choose&gt; <br> <br> &lt;/xsl:template&gt; <br> <br></code> <br>      : <br> <code>&lt;xsl:choose&gt; <br> &lt;xsl:when&gt;&lt;/xsl:when&gt; <br> &lt;xsl:otherwise&gt;&lt;/xsl:otherwise&gt; <br> &lt;/xsl:choose&gt; <br></code> <br> ‚Ä¶, ,     <strong>XML-</strong> .      : <code>&lt;xsl:when test="descendant-or-self::*/@id = /node()/@id"&gt;</code> <br> <br>        <strong>ID</strong>    ( <strong>document</strong> )    ( <strong>item</strong> ),   ,    . <br> <br>   <code>&lt;xsl:when&gt;&lt;/xsl:when&gt;</code>  ,      .   <code>&lt;xsl:otherwise&gt;&lt;/xsl:otherwise&gt;</code> -    . <br> <br> 8. ,   <strong>href_attribute</strong> : <br> <code><br> &lt;xsl:template name="href_attribute"&gt; <br> &lt;xsl:attribute name="href"&gt; <br> &lt;xsl:text&gt;/&lt;/xsl:text&gt; <br> &lt;xsl:for-each select="ancestor-or-self::item"&gt; <br> &lt;xsl:value-of select="dir"/&gt; <br> &lt;xsl:text&gt;/&lt;/xsl:text&gt; <br> &lt;/xsl:for-each&gt; <br> &lt;/xsl:attribute&gt; <br> &lt;/xsl:template&gt; <br></code> <br> <br>      <strong>xsl:attribute</strong> .          .         <strong>a</strong> , ,      <strong>href</strong> , .. . <br> <br>  <code>&lt;xsl:for-each select="ancestor-or-self::item"&gt;</code>      ,  .      <strong>ancestor-or-self::item</strong> -         .           <strong>dir</strong> , ..     -. <br> <br> ,   -  ,       . ,   <a href="http://habrahabr.ru/blog/webdev/38433.html">  </a> . <br> <br> <strong>UPD:</strong> <br>   .   ,  : <br> <a href="">parser.proc.ru/iso/xslt-1.zip</a> <br> <br>        (       )           Apache. <br> <br>    XML-   /xsl/document.xml</code></code></code></code></code> </h3> <code><code><code><code><code><code>-    (   ). : <br> <strong>Lang</strong> -  .     . <strong>Id</strong> -   . <br> &lt;lang_table&gt;</code> -  ,   . <br> <code>-   : <br> -    (  ): <br> &lt;item id="0" parent_id="0" is_published="1" section="1"&gt;</code> -   . : <br> <strong>Id</strong> -  . <strong>Parent_id</strong> -   . <strong>Is_published</strong> -   . <strong>Dir</strong> - uri- .     . <strong>Section</strong> -  .         . <br> <code>-  . <br>   CMS   :        : <br> <strong>Html</strong> -  .  ,    . <strong>Com</strong> - -.  ,      CMS: , ,    .. <br>  <strong>XSL-</strong>   ,     .       . <br> <br> CMS       <strong> ,      : <br> : <br> <strong>Id</strong> -  . <br> <strong>Container</strong> - - (    ). <br> <strong>Sorting</strong> -    . <br> <strong>Type</strong> - : <br> <strong>Com</strong> - - <br> <strong>Html</strong> -  . <br> <strong>Method</strong> -  . <br> <strong>Title</strong> -  . <br> <strong>DTD</strong>     (    ): <br> &lt;!DOCTYPE site_page [ <br> <br> &lt;!ENTITY nbsp " "&gt; <br> &lt;!ENTITY sect "¬ß" &gt; <br> &lt;!ENTITY copy "¬©"&gt; <br> &lt;!ENTITY laquo "¬´"&gt; <br> &lt;!ENTITY reg "¬Æ"&gt; <br> &lt;!ENTITY deg "¬∞"&gt; <br> &lt;!ENTITY plusmn "¬±"&gt; <br> &lt;!ENTITY para "¬∂"&gt; <br> &lt;!ENTITY raquo "¬ª"&gt; <br> &lt;!ENTITY times "√ó"&gt; <br> <br> <br> <br> &lt;!ENTITY bull "‚Ä¢"&gt; <br> &lt;!ENTITY hellip "‚Ä¶"&gt; <br> <br> <br> <br> &lt;!ENTITY ndash "‚Äì"&gt; <br> &lt;!ENTITY mdash "‚Äî"&gt; <br> &lt;!ENTITY lsquo "'"&gt; <br> &lt;!ENTITY rsquo "'"&gt; <br> &lt;!ENTITY sbquo "‚Äö"&gt; <br> &lt;!ENTITY ldquo "‚Äú"&gt; <br> &lt;!ENTITY rdquo "‚Äù"&gt; <br> &lt;!ENTITY bdquo "‚Äû"&gt; <br> &lt;!ENTITY lsaquo "‚Äπ"&gt; <br> &lt;!ENTITY rsaquo "‚Ä∫" &gt; <br> &lt;!ENTITY euro "‚Ç¨"&gt; <br> ]&gt; <br></strong></code> <br>      <strong>XML-</strong> .   <code>&lt;?xml version="1.0" encoding="windows-1251"?&gt;</code> . <br> <br>  XHML- <br> XSL-    XHTML- (   ).  XHTML-,  ,   <strong></strong> . <br> <br>      . <br> <br>   XHML-  ,    ,       : <br>  (   ).    -    ,      . / . <br>        HTML-: <br> <code><a href="https://habr.com/ru/post/22236/"></a> <a href="https://habr.com/ru/post/22236/"></a> <a href="https://habr.com/ru/post/22236/"></a> ... <br> <br>   <br> <br> <br> ... <br> <br>    <br> <br> ... <br> <br>   <br> <br> ... <br> <br>  <br> <br> ...</code> <br> <br>   XSL- <br>   XSL-   : <br> <code>&lt;xsl:stylesheet version = '1.0' encoding="UTF-8"?&gt; <br> &lt;xsl:template match="element"&gt; <br>   <br> &lt;/xsl:template&gt; <br> &lt;/xsl:stylesheet&gt;</code> <br> <br> : <code>&lt;xsl:stylesheet version = '1.0' encoding="UTF-8"?&gt;</code> -   <strong>XML-</strong>  .   <strong>UTF-8</strong> ( , ). <br> <code>&lt;xsl:stylesheet&gt; &lt;/xsl:stylesheet&gt;</code> -    XSL-. <br> <code>&lt;xsl:template match="element"&gt; &lt;/xsl:template&gt;</code> -       element. <br> <br>       : <br> <code>&lt;xsl:template match="element"&gt;&lt;/xsl:template&gt;</code> - ,     <strong>element</strong> .      <strong>element</strong> . <code>&lt;xsl:template match="element" mode="mode1"&gt;&lt;/xsl:template&gt;</code> - ,     <strong>element</strong>   <strong>mode1</strong> .         <strong>element</strong> . <code>&lt;xsl:template name="template-name"&gt;&lt;/xsl:template&gt;</code> -    <strong>template-name</strong> .     -  <strong>XML-</strong> . <br>           <strong>XML-</strong> (,  XML-,    item      ),      " "  : <br> <code>&lt;xsl:template match="navigation/sections/item"&gt;&lt;/xsl:template&gt;</code> <br>  ,    , ..,      ,  ,  , ..      <strong>navigation</strong> ,      <strong>navigation/sections/item</strong>     <strong>sections/item</strong> . <br> <br>    <br>  ,         -      .  ,        <strong>xsl-</strong> .            . <br> <br>       <strong>xsl</strong>    . <br> <br> ,        (       )   : <br> <strong>template_folder</strong> -    .      ,  <strong>my_template</strong> . <strong>dtd</strong> -    .   . <strong>lang</strong> -      (      ). <strong>mod</strong> -  . <br>       <strong>xsl/my_template</strong>   ,  <strong>layout.xsl</strong>  : <br> <code>&lt;?xml version="1.0" encoding="UTF-8"?&gt; <br> &lt;!DOCTYPE xsl:stylesheet SYSTEM "../dtd/entities.dtd"&gt; <br> &lt;xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform"&gt; <br> <br> &lt;xsl:template match="/node()"&gt; <br> &lt;/xsl:template&gt; <br> <br> &lt;/xsl:stylesheet&gt; <br></code> <br> : <br> <code>&lt;xsl:template match="/node()"&gt; &lt;/xsl:template&gt;</code> -    <strong>/node()</strong> ().  <strong>/node()</strong>   <strong>//document</strong> , ..      . <br> <br>   XHTML-   <code>&lt;xsl:template match="/node()"&gt;&lt;/xsl:template&gt;</code> <br> <br>        <strong>XML-</strong> .   , <strong>XSL-</strong>   <strong>XML-</strong>  <strong>XHTML-</strong>  . <br> <br> ,    <strong>XSL</strong>   <strong>template.xsl</strong> (, <strong>template</strong> -   ),     : <br> <code>&lt;?xml version="1.0" encoding="UTF-8"?&gt; <br> &lt;xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform"&gt; <br> <br> &lt;xsl:import href=" my_template /layout.xsl"/&gt; <br> &lt;/xsl:stylesheet&gt; <br></code> <br> : <br> <code>&lt;xsl:import href="my_template/layout.xsl"/&gt;</code> <br>    XSL- ( <strong>XSL-</strong> )   .     . <br> <br>       <br>       , ..     XML-    . <br> <br>   -    . <br> <br>        ,   <strong>XML-</strong>   : <br> <code><br> &lt;item id="0" parent_id="0" is_published="1" section="1"&gt; <br>  <br> / <br> <br> &lt;item id="1" parent_id="0" is_published="1" section="1" hit="yes"&gt; <br>  <br> news <br> <br></code> <br> <br> <br>      : <br>  <strong>id</strong>    <strong>document</strong> -    <strong>id</strong>  .  <strong>hit</strong>   <strong>item</strong> -   ,   ,    "  ". <br> ,  ,         : <br> <strong>sections</strong> -   . <strong>item</strong> -  . <br>  ,  ,   <strong>item</strong>     <strong>item</strong> ,   ,     : <br> <code><br> <br></code> <br> <br> 1.    xsl/my_template  navigation.xsl  : <br> <code>&lt;?xml version="1.0" encoding="UTF-8"?&gt; <br> &lt;!DOCTYPE xsl:stylesheet SYSTEM "../dtd/entities.dtd"&gt; <br> &lt;xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform"&gt; <br> <br> &lt;xsl:template match="sections" mode="global_menu"&gt; <br> &lt;/xsl:template&gt; <br> <br> &lt;/xsl:stylesheet&gt;</code> <br> <br> 2.         <strong>layout.xsl</strong> : <br> <code><a href="https://habr.com/"></a> <a href="https://habr.com/sections/"></a> <a href="https://habr.com/news/"></a> <br> &lt;xsl:template match="sections" mode="global_menu"&gt; <br>    <br> &lt;/xsl:template&gt; <br></code> <br> <br> 3. ‚Ä¶      <strong>layout.xsl</strong>     : <br> <code><br> &lt;xsl:apply-templates select="navigation/sections" mode="global_menu"/&gt; <br> <br></code> <br> : <br> <strong>select="navigation/sections"</strong> -  ( ) - .  ,     <strong>navigation/sections</strong> . <br> <br> <strong>mode="global_menu"</strong> -     <strong>global_menu</strong> .      ,        , ,  " ",  -         . <br> <br> 4. ,    layout.xsl     <strong>navigation.xsl</strong> : <br> <code>&lt;xsl:import href="navigation.xsl"/&gt;</code> <br> <br> 5. ,    <strong>navigation.xsl</strong>   ,    : <br> <code><br> &lt;xsl:template match="item" mode="global_menu"&gt; <br> &lt;xsl:call-template name="href_attribute"/&gt; <br> &lt;xsl:value-of select="title"/&gt; <br> <br> <br> &lt;/xsl:template&gt; <br> <br></code> <br> : <br> <code>&lt;xsl:call-template name="href_attribute"/&gt;</code> -    .        , ..  . <br> <br> <code>&lt;xsl:value-of select="title"/&gt;</code> - -   title  .         <strong>@</strong> -      . <br> <br> 6.    <strong>sections</strong> : <br> <code><br> &lt;xsl:template match="sections" mode="global_menu"&gt; <br> <br> &lt;/xsl:template&gt; <br> <br></code> <br> : <br> <code>&lt;xsl:apply-templates select="item" mode="global_menu"/&gt;</code> -    <strong>item</strong>  <strong>sections</strong> .  ,  <strong>item</strong>   <strong>item</strong> ( <strong>sections/item/item</strong> )   , ..      . <br> <br>     <strong>item</strong> ( )   .  ,         : <code>&lt;xsl:call-template name="href_attribute"/&gt;</code> <br> <br>      <strong>uri-</strong>    .    . <br> <br> 7.     , <br>   ,    .            <strong>item</strong> : <br> <code><br> &lt;xsl:template match="item" mode="global_menu"&gt; <br> <br> &lt;xsl:choose&gt; <br> <br> &lt;xsl:when test="descendant-or-self::*/@id = /node()/@id"&gt; <br> &lt;xsl:value-of select="title"/&gt; <br> &lt;/xsl:when&gt; <br> <br> &lt;xsl:otherwise&gt; <br> &lt;xsl:call-template name="href_attribute"/&gt; <br> &lt;xsl:value-of select="title"/&gt; <br> <br> &lt;/xsl:otherwise&gt; <br> &lt;/xsl:choose&gt; <br> <br> &lt;/xsl:template&gt; <br> <br></code> <br>      : <br> <code>&lt;xsl:choose&gt; <br> &lt;xsl:when&gt;&lt;/xsl:when&gt; <br> &lt;xsl:otherwise&gt;&lt;/xsl:otherwise&gt; <br> &lt;/xsl:choose&gt; <br></code> <br> ‚Ä¶, ,     <strong>XML-</strong> .      : <code>&lt;xsl:when test="descendant-or-self::*/@id = /node()/@id"&gt;</code> <br> <br>        <strong>ID</strong>    ( <strong>document</strong> )    ( <strong>item</strong> ),   ,    . <br> <br>   <code>&lt;xsl:when&gt;&lt;/xsl:when&gt;</code>  ,      .   <code>&lt;xsl:otherwise&gt;&lt;/xsl:otherwise&gt;</code> -    . <br> <br> 8. ,   <strong>href_attribute</strong> : <br> <code><br> &lt;xsl:template name="href_attribute"&gt; <br> &lt;xsl:attribute name="href"&gt; <br> &lt;xsl:text&gt;/&lt;/xsl:text&gt; <br> &lt;xsl:for-each select="ancestor-or-self::item"&gt; <br> &lt;xsl:value-of select="dir"/&gt; <br> &lt;xsl:text&gt;/&lt;/xsl:text&gt; <br> &lt;/xsl:for-each&gt; <br> &lt;/xsl:attribute&gt; <br> &lt;/xsl:template&gt; <br></code> <br> <br>      <strong>xsl:attribute</strong> .          .         <strong>a</strong> , ,      <strong>href</strong> , .. . <br> <br>  <code>&lt;xsl:for-each select="ancestor-or-self::item"&gt;</code>      ,  .      <strong>ancestor-or-self::item</strong> -         .           <strong>dir</strong> , ..     -. <br> <br> ,   -  ,       . ,   <a href="http://habrahabr.ru/blog/webdev/38433.html">  </a> . <br> <br> <strong>UPD:</strong> <br>   .   ,  : <br> <a href="">parser.proc.ru/iso/xslt-1.zip</a> <br> <br>        (       )           Apache. <br> <br>    XML-   /xsl/document.xml</code></code></code></code></code> <h3> <code><code><code><code><code><code>-    (   ). : <br> <strong>Lang</strong> -  .     . <strong>Id</strong> -   . <br> &lt;lang_table&gt;</code> -  ,   . <br> <code>-   : <br> -    (  ): <br> &lt;item id="0" parent_id="0" is_published="1" section="1"&gt;</code> -   . : <br> <strong>Id</strong> -  . <strong>Parent_id</strong> -   . <strong>Is_published</strong> -   . <strong>Dir</strong> - uri- .     . <strong>Section</strong> -  .         . <br> <code>-  . <br>   CMS   :        : <br> <strong>Html</strong> -  .  ,    . <strong>Com</strong> - -.  ,      CMS: , ,    .. <br>  <strong>XSL-</strong>   ,     .       . <br> <br> CMS       <strong> ,      : <br> : <br> <strong>Id</strong> -  . <br> <strong>Container</strong> - - (    ). <br> <strong>Sorting</strong> -    . <br> <strong>Type</strong> - : <br> <strong>Com</strong> - - <br> <strong>Html</strong> -  . <br> <strong>Method</strong> -  . <br> <strong>Title</strong> -  . <br> <strong>DTD</strong>     (    ): <br> &lt;!DOCTYPE site_page [ <br> <br> &lt;!ENTITY nbsp " "&gt; <br> &lt;!ENTITY sect "¬ß" &gt; <br> &lt;!ENTITY copy "¬©"&gt; <br> &lt;!ENTITY laquo "¬´"&gt; <br> &lt;!ENTITY reg "¬Æ"&gt; <br> &lt;!ENTITY deg "¬∞"&gt; <br> &lt;!ENTITY plusmn "¬±"&gt; <br> &lt;!ENTITY para "¬∂"&gt; <br> &lt;!ENTITY raquo "¬ª"&gt; <br> &lt;!ENTITY times "√ó"&gt; <br> <br> <br> <br> &lt;!ENTITY bull "‚Ä¢"&gt; <br> &lt;!ENTITY hellip "‚Ä¶"&gt; <br> <br> <br> <br> &lt;!ENTITY ndash "‚Äì"&gt; <br> &lt;!ENTITY mdash "‚Äî"&gt; <br> &lt;!ENTITY lsquo "'"&gt; <br> &lt;!ENTITY rsquo "'"&gt; <br> &lt;!ENTITY sbquo "‚Äö"&gt; <br> &lt;!ENTITY ldquo "‚Äú"&gt; <br> &lt;!ENTITY rdquo "‚Äù"&gt; <br> &lt;!ENTITY bdquo "‚Äû"&gt; <br> &lt;!ENTITY lsaquo "‚Äπ"&gt; <br> &lt;!ENTITY rsaquo "‚Ä∫" &gt; <br> &lt;!ENTITY euro "‚Ç¨"&gt; <br> ]&gt; <br></strong></code> <br>      <strong>XML-</strong> .   <code>&lt;?xml version="1.0" encoding="windows-1251"?&gt;</code> . <br> <br>  XHML- <br> XSL-    XHTML- (   ).  XHTML-,  ,   <strong></strong> . <br> <br>      . <br> <br>   XHML-  ,    ,       : <br>  (   ).    -    ,      . / . <br>        HTML-: <br> <code><a href="https://habr.com/ru/post/22236/"></a> <a href="https://habr.com/ru/post/22236/"></a> <a href="https://habr.com/ru/post/22236/"></a> ... <br> <br>   <br> <br> <br> ... <br> <br>    <br> <br> ... <br> <br>   <br> <br> ... <br> <br>  <br> <br> ...</code> <br> <br>   XSL- <br>   XSL-   : <br> <code>&lt;xsl:stylesheet version = '1.0' encoding="UTF-8"?&gt; <br> &lt;xsl:template match="element"&gt; <br>   <br> &lt;/xsl:template&gt; <br> &lt;/xsl:stylesheet&gt;</code> <br> <br> : <code>&lt;xsl:stylesheet version = '1.0' encoding="UTF-8"?&gt;</code> -   <strong>XML-</strong>  .   <strong>UTF-8</strong> ( , ). <br> <code>&lt;xsl:stylesheet&gt; &lt;/xsl:stylesheet&gt;</code> -    XSL-. <br> <code>&lt;xsl:template match="element"&gt; &lt;/xsl:template&gt;</code> -       element. <br> <br>       : <br> <code>&lt;xsl:template match="element"&gt;&lt;/xsl:template&gt;</code> - ,     <strong>element</strong> .      <strong>element</strong> . <code>&lt;xsl:template match="element" mode="mode1"&gt;&lt;/xsl:template&gt;</code> - ,     <strong>element</strong>   <strong>mode1</strong> .         <strong>element</strong> . <code>&lt;xsl:template name="template-name"&gt;&lt;/xsl:template&gt;</code> -    <strong>template-name</strong> .     -  <strong>XML-</strong> . <br>           <strong>XML-</strong> (,  XML-,    item      ),      " "  : <br> <code>&lt;xsl:template match="navigation/sections/item"&gt;&lt;/xsl:template&gt;</code> <br>  ,    , ..,      ,  ,  , ..      <strong>navigation</strong> ,      <strong>navigation/sections/item</strong>     <strong>sections/item</strong> . <br> <br>    <br>  ,         -      .  ,        <strong>xsl-</strong> .            . <br> <br>       <strong>xsl</strong>    . <br> <br> ,        (       )   : <br> <strong>template_folder</strong> -    .      ,  <strong>my_template</strong> . <strong>dtd</strong> -    .   . <strong>lang</strong> -      (      ). <strong>mod</strong> -  . <br>       <strong>xsl/my_template</strong>   ,  <strong>layout.xsl</strong>  : <br> <code>&lt;?xml version="1.0" encoding="UTF-8"?&gt; <br> &lt;!DOCTYPE xsl:stylesheet SYSTEM "../dtd/entities.dtd"&gt; <br> &lt;xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform"&gt; <br> <br> &lt;xsl:template match="/node()"&gt; <br> &lt;/xsl:template&gt; <br> <br> &lt;/xsl:stylesheet&gt; <br></code> <br> : <br> <code>&lt;xsl:template match="/node()"&gt; &lt;/xsl:template&gt;</code> -    <strong>/node()</strong> ().  <strong>/node()</strong>   <strong>//document</strong> , ..      . <br> <br>   XHTML-   <code>&lt;xsl:template match="/node()"&gt;&lt;/xsl:template&gt;</code> <br> <br>        <strong>XML-</strong> .   , <strong>XSL-</strong>   <strong>XML-</strong>  <strong>XHTML-</strong>  . <br> <br> ,    <strong>XSL</strong>   <strong>template.xsl</strong> (, <strong>template</strong> -   ),     : <br> <code>&lt;?xml version="1.0" encoding="UTF-8"?&gt; <br> &lt;xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform"&gt; <br> <br> &lt;xsl:import href=" my_template /layout.xsl"/&gt; <br> &lt;/xsl:stylesheet&gt; <br></code> <br> : <br> <code>&lt;xsl:import href="my_template/layout.xsl"/&gt;</code> <br>    XSL- ( <strong>XSL-</strong> )   .     . <br> <br>       <br>       , ..     XML-    . <br> <br>   -    . <br> <br>        ,   <strong>XML-</strong>   : <br> <code><br> &lt;item id="0" parent_id="0" is_published="1" section="1"&gt; <br>  <br> / <br> <br> &lt;item id="1" parent_id="0" is_published="1" section="1" hit="yes"&gt; <br>  <br> news <br> <br></code> <br> <br> <br>      : <br>  <strong>id</strong>    <strong>document</strong> -    <strong>id</strong>  .  <strong>hit</strong>   <strong>item</strong> -   ,   ,    "  ". <br> ,  ,         : <br> <strong>sections</strong> -   . <strong>item</strong> -  . <br>  ,  ,   <strong>item</strong>     <strong>item</strong> ,   ,     : <br> <code><br> <br></code> <br> <br> 1.    xsl/my_template  navigation.xsl  : <br> <code>&lt;?xml version="1.0" encoding="UTF-8"?&gt; <br> &lt;!DOCTYPE xsl:stylesheet SYSTEM "../dtd/entities.dtd"&gt; <br> &lt;xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform"&gt; <br> <br> &lt;xsl:template match="sections" mode="global_menu"&gt; <br> &lt;/xsl:template&gt; <br> <br> &lt;/xsl:stylesheet&gt;</code> <br> <br> 2.         <strong>layout.xsl</strong> : <br> <code><a href="https://habr.com/"></a> <a href="https://habr.com/sections/"></a> <a href="https://habr.com/news/"></a> <br> &lt;xsl:template match="sections" mode="global_menu"&gt; <br>    <br> &lt;/xsl:template&gt; <br></code> <br> <br> 3. ‚Ä¶      <strong>layout.xsl</strong>     : <br> <code><br> &lt;xsl:apply-templates select="navigation/sections" mode="global_menu"/&gt; <br> <br></code> <br> : <br> <strong>select="navigation/sections"</strong> -  ( ) - .  ,     <strong>navigation/sections</strong> . <br> <br> <strong>mode="global_menu"</strong> -     <strong>global_menu</strong> .      ,        , ,  " ",  -         . <br> <br> 4. ,    layout.xsl     <strong>navigation.xsl</strong> : <br> <code>&lt;xsl:import href="navigation.xsl"/&gt;</code> <br> <br> 5. ,    <strong>navigation.xsl</strong>   ,    : <br> <code><br> &lt;xsl:template match="item" mode="global_menu"&gt; <br> &lt;xsl:call-template name="href_attribute"/&gt; <br> &lt;xsl:value-of select="title"/&gt; <br> <br> <br> &lt;/xsl:template&gt; <br> <br></code> <br> : <br> <code>&lt;xsl:call-template name="href_attribute"/&gt;</code> -    .        , ..  . <br> <br> <code>&lt;xsl:value-of select="title"/&gt;</code> - -   title  .         <strong>@</strong> -      . <br> <br> 6.    <strong>sections</strong> : <br> <code><br> &lt;xsl:template match="sections" mode="global_menu"&gt; <br> <br> &lt;/xsl:template&gt; <br> <br></code> <br> : <br> <code>&lt;xsl:apply-templates select="item" mode="global_menu"/&gt;</code> -    <strong>item</strong>  <strong>sections</strong> .  ,  <strong>item</strong>   <strong>item</strong> ( <strong>sections/item/item</strong> )   , ..      . <br> <br>     <strong>item</strong> ( )   .  ,         : <code>&lt;xsl:call-template name="href_attribute"/&gt;</code> <br> <br>      <strong>uri-</strong>    .    . <br> <br> 7.     , <br>   ,    .            <strong>item</strong> : <br> <code><br> &lt;xsl:template match="item" mode="global_menu"&gt; <br> <br> &lt;xsl:choose&gt; <br> <br> &lt;xsl:when test="descendant-or-self::*/@id = /node()/@id"&gt; <br> &lt;xsl:value-of select="title"/&gt; <br> &lt;/xsl:when&gt; <br> <br> &lt;xsl:otherwise&gt; <br> &lt;xsl:call-template name="href_attribute"/&gt; <br> &lt;xsl:value-of select="title"/&gt; <br> <br> &lt;/xsl:otherwise&gt; <br> &lt;/xsl:choose&gt; <br> <br> &lt;/xsl:template&gt; <br> <br></code> <br>      : <br> <code>&lt;xsl:choose&gt; <br> &lt;xsl:when&gt;&lt;/xsl:when&gt; <br> &lt;xsl:otherwise&gt;&lt;/xsl:otherwise&gt; <br> &lt;/xsl:choose&gt; <br></code> <br> ‚Ä¶, ,     <strong>XML-</strong> .      : <code>&lt;xsl:when test="descendant-or-self::*/@id = /node()/@id"&gt;</code> <br> <br>        <strong>ID</strong>    ( <strong>document</strong> )    ( <strong>item</strong> ),   ,    . <br> <br>   <code>&lt;xsl:when&gt;&lt;/xsl:when&gt;</code>  ,      .   <code>&lt;xsl:otherwise&gt;&lt;/xsl:otherwise&gt;</code> -    . <br> <br> 8. ,   <strong>href_attribute</strong> : <br> <code><br> &lt;xsl:template name="href_attribute"&gt; <br> &lt;xsl:attribute name="href"&gt; <br> &lt;xsl:text&gt;/&lt;/xsl:text&gt; <br> &lt;xsl:for-each select="ancestor-or-self::item"&gt; <br> &lt;xsl:value-of select="dir"/&gt; <br> &lt;xsl:text&gt;/&lt;/xsl:text&gt; <br> &lt;/xsl:for-each&gt; <br> &lt;/xsl:attribute&gt; <br> &lt;/xsl:template&gt; <br></code> <br> <br>      <strong>xsl:attribute</strong> .          .         <strong>a</strong> , ,      <strong>href</strong> , .. . <br> <br>  <code>&lt;xsl:for-each select="ancestor-or-self::item"&gt;</code>      ,  .      <strong>ancestor-or-self::item</strong> -         .           <strong>dir</strong> , ..     -. <br> <br> ,   -  ,       . ,   <a href="http://habrahabr.ru/blog/webdev/38433.html">  </a> . <br> <br> <strong>UPD:</strong> <br>   .   ,  : <br> <a href="">parser.proc.ru/iso/xslt-1.zip</a> <br> <br>        (       )           Apache. <br> <br>    XML-   /xsl/document.xml</code></code></code></code></code> </h3> <code><code><code><code><code><code>-    (   ). : <br> <strong>Lang</strong> -  .     . <strong>Id</strong> -   . <br> &lt;lang_table&gt;</code> -  ,   . <br> <code>-   : <br> -    (  ): <br> &lt;item id="0" parent_id="0" is_published="1" section="1"&gt;</code> -   . : <br> <strong>Id</strong> -  . <strong>Parent_id</strong> -   . <strong>Is_published</strong> -   . <strong>Dir</strong> - uri- .     . <strong>Section</strong> -  .         . <br> <code>-  . <br>   CMS   :        : <br> <strong>Html</strong> -  .  ,    . <strong>Com</strong> - -.  ,      CMS: , ,    .. <br>  <strong>XSL-</strong>   ,     .       . <br> <br> CMS       <strong> ,      : <br> : <br> <strong>Id</strong> -  . <br> <strong>Container</strong> - - (    ). <br> <strong>Sorting</strong> -    . <br> <strong>Type</strong> - : <br> <strong>Com</strong> - - <br> <strong>Html</strong> -  . <br> <strong>Method</strong> -  . <br> <strong>Title</strong> -  . <br> <strong>DTD</strong>     (    ): <br> &lt;!DOCTYPE site_page [ <br> <br> &lt;!ENTITY nbsp " "&gt; <br> &lt;!ENTITY sect "¬ß" &gt; <br> &lt;!ENTITY copy "¬©"&gt; <br> &lt;!ENTITY laquo "¬´"&gt; <br> &lt;!ENTITY reg "¬Æ"&gt; <br> &lt;!ENTITY deg "¬∞"&gt; <br> &lt;!ENTITY plusmn "¬±"&gt; <br> &lt;!ENTITY para "¬∂"&gt; <br> &lt;!ENTITY raquo "¬ª"&gt; <br> &lt;!ENTITY times "√ó"&gt; <br> <br> <br> <br> &lt;!ENTITY bull "‚Ä¢"&gt; <br> &lt;!ENTITY hellip "‚Ä¶"&gt; <br> <br> <br> <br> &lt;!ENTITY ndash "‚Äì"&gt; <br> &lt;!ENTITY mdash "‚Äî"&gt; <br> &lt;!ENTITY lsquo "'"&gt; <br> &lt;!ENTITY rsquo "'"&gt; <br> &lt;!ENTITY sbquo "‚Äö"&gt; <br> &lt;!ENTITY ldquo "‚Äú"&gt; <br> &lt;!ENTITY rdquo "‚Äù"&gt; <br> &lt;!ENTITY bdquo "‚Äû"&gt; <br> &lt;!ENTITY lsaquo "‚Äπ"&gt; <br> &lt;!ENTITY rsaquo "‚Ä∫" &gt; <br> &lt;!ENTITY euro "‚Ç¨"&gt; <br> ]&gt; <br></strong></code> <br>      <strong>XML-</strong> .   <code>&lt;?xml version="1.0" encoding="windows-1251"?&gt;</code> . <br> <br>  XHML- <br> XSL-    XHTML- (   ).  XHTML-,  ,   <strong></strong> . <br> <br>      . <br> <br>   XHML-  ,    ,       : <br>  (   ).    -    ,      . / . <br>        HTML-: <br> <code><a href="https://habr.com/ru/post/22236/"></a> <a href="https://habr.com/ru/post/22236/"></a> <a href="https://habr.com/ru/post/22236/"></a> ... <br> <br>   <br> <br> <br> ... <br> <br>    <br> <br> ... <br> <br>   <br> <br> ... <br> <br>  <br> <br> ...</code> <br> <br>   XSL- <br>   XSL-   : <br> <code>&lt;xsl:stylesheet version = '1.0' encoding="UTF-8"?&gt; <br> &lt;xsl:template match="element"&gt; <br>   <br> &lt;/xsl:template&gt; <br> &lt;/xsl:stylesheet&gt;</code> <br> <br> : <code>&lt;xsl:stylesheet version = '1.0' encoding="UTF-8"?&gt;</code> -   <strong>XML-</strong>  .   <strong>UTF-8</strong> ( , ). <br> <code>&lt;xsl:stylesheet&gt; &lt;/xsl:stylesheet&gt;</code> -    XSL-. <br> <code>&lt;xsl:template match="element"&gt; &lt;/xsl:template&gt;</code> -       element. <br> <br>       : <br> <code>&lt;xsl:template match="element"&gt;&lt;/xsl:template&gt;</code> - ,     <strong>element</strong> .      <strong>element</strong> . <code>&lt;xsl:template match="element" mode="mode1"&gt;&lt;/xsl:template&gt;</code> - ,     <strong>element</strong>   <strong>mode1</strong> .         <strong>element</strong> . <code>&lt;xsl:template name="template-name"&gt;&lt;/xsl:template&gt;</code> -    <strong>template-name</strong> .     -  <strong>XML-</strong> . <br>           <strong>XML-</strong> (,  XML-,    item      ),      " "  : <br> <code>&lt;xsl:template match="navigation/sections/item"&gt;&lt;/xsl:template&gt;</code> <br>  ,    , ..,      ,  ,  , ..      <strong>navigation</strong> ,      <strong>navigation/sections/item</strong>     <strong>sections/item</strong> . <br> <br>    <br>  ,         -      .  ,        <strong>xsl-</strong> .            . <br> <br>       <strong>xsl</strong>    . <br> <br> ,        (       )   : <br> <strong>template_folder</strong> -    .      ,  <strong>my_template</strong> . <strong>dtd</strong> -    .   . <strong>lang</strong> -      (      ). <strong>mod</strong> -  . <br>       <strong>xsl/my_template</strong>   ,  <strong>layout.xsl</strong>  : <br> <code>&lt;?xml version="1.0" encoding="UTF-8"?&gt; <br> &lt;!DOCTYPE xsl:stylesheet SYSTEM "../dtd/entities.dtd"&gt; <br> &lt;xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform"&gt; <br> <br> &lt;xsl:template match="/node()"&gt; <br> &lt;/xsl:template&gt; <br> <br> &lt;/xsl:stylesheet&gt; <br></code> <br> : <br> <code>&lt;xsl:template match="/node()"&gt; &lt;/xsl:template&gt;</code> -    <strong>/node()</strong> ().  <strong>/node()</strong>   <strong>//document</strong> , ..      . <br> <br>   XHTML-   <code>&lt;xsl:template match="/node()"&gt;&lt;/xsl:template&gt;</code> <br> <br>        <strong>XML-</strong> .   , <strong>XSL-</strong>   <strong>XML-</strong>  <strong>XHTML-</strong>  . <br> <br> ,    <strong>XSL</strong>   <strong>template.xsl</strong> (, <strong>template</strong> -   ),     : <br> <code>&lt;?xml version="1.0" encoding="UTF-8"?&gt; <br> &lt;xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform"&gt; <br> <br> &lt;xsl:import href=" my_template /layout.xsl"/&gt; <br> &lt;/xsl:stylesheet&gt; <br></code> <br> : <br> <code>&lt;xsl:import href="my_template/layout.xsl"/&gt;</code> <br>    XSL- ( <strong>XSL-</strong> )   .     . <br> <br>       <br>       , ..     XML-    . <br> <br>   -    . <br> <br>        ,   <strong>XML-</strong>   : <br> <code><br> &lt;item id="0" parent_id="0" is_published="1" section="1"&gt; <br>  <br> / <br> <br> &lt;item id="1" parent_id="0" is_published="1" section="1" hit="yes"&gt; <br>  <br> news <br> <br></code> <br> <br> <br>      : <br>  <strong>id</strong>    <strong>document</strong> -    <strong>id</strong>  .  <strong>hit</strong>   <strong>item</strong> -   ,   ,    "  ". <br> ,  ,         : <br> <strong>sections</strong> -   . <strong>item</strong> -  . <br>  ,  ,   <strong>item</strong>     <strong>item</strong> ,   ,     : <br> <code><br> <br></code> <br> <br> 1.    xsl/my_template  navigation.xsl  : <br> <code>&lt;?xml version="1.0" encoding="UTF-8"?&gt; <br> &lt;!DOCTYPE xsl:stylesheet SYSTEM "../dtd/entities.dtd"&gt; <br> &lt;xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform"&gt; <br> <br> &lt;xsl:template match="sections" mode="global_menu"&gt; <br> &lt;/xsl:template&gt; <br> <br> &lt;/xsl:stylesheet&gt;</code> <br> <br> 2.         <strong>layout.xsl</strong> : <br> <code><a href="https://habr.com/"></a> <a href="https://habr.com/sections/"></a> <a href="https://habr.com/news/"></a> <br> &lt;xsl:template match="sections" mode="global_menu"&gt; <br>    <br> &lt;/xsl:template&gt; <br></code> <br> <br> 3. ‚Ä¶      <strong>layout.xsl</strong>     : <br> <code><br> &lt;xsl:apply-templates select="navigation/sections" mode="global_menu"/&gt; <br> <br></code> <br> : <br> <strong>select="navigation/sections"</strong> -  ( ) - .  ,     <strong>navigation/sections</strong> . <br> <br> <strong>mode="global_menu"</strong> -     <strong>global_menu</strong> .      ,        , ,  " ",  -         . <br> <br> 4. ,    layout.xsl     <strong>navigation.xsl</strong> : <br> <code>&lt;xsl:import href="navigation.xsl"/&gt;</code> <br> <br> 5. ,    <strong>navigation.xsl</strong>   ,    : <br> <code><br> &lt;xsl:template match="item" mode="global_menu"&gt; <br> &lt;xsl:call-template name="href_attribute"/&gt; <br> &lt;xsl:value-of select="title"/&gt; <br> <br> <br> &lt;/xsl:template&gt; <br> <br></code> <br> : <br> <code>&lt;xsl:call-template name="href_attribute"/&gt;</code> -    .        , ..  . <br> <br> <code>&lt;xsl:value-of select="title"/&gt;</code> - -   title  .         <strong>@</strong> -      . <br> <br> 6.    <strong>sections</strong> : <br> <code><br> &lt;xsl:template match="sections" mode="global_menu"&gt; <br> <br> &lt;/xsl:template&gt; <br> <br></code> <br> : <br> <code>&lt;xsl:apply-templates select="item" mode="global_menu"/&gt;</code> -    <strong>item</strong>  <strong>sections</strong> .  ,  <strong>item</strong>   <strong>item</strong> ( <strong>sections/item/item</strong> )   , ..      . <br> <br>     <strong>item</strong> ( )   .  ,         : <code>&lt;xsl:call-template name="href_attribute"/&gt;</code> <br> <br>      <strong>uri-</strong>    .    . <br> <br> 7.     , <br>   ,    .            <strong>item</strong> : <br> <code><br> &lt;xsl:template match="item" mode="global_menu"&gt; <br> <br> &lt;xsl:choose&gt; <br> <br> &lt;xsl:when test="descendant-or-self::*/@id = /node()/@id"&gt; <br> &lt;xsl:value-of select="title"/&gt; <br> &lt;/xsl:when&gt; <br> <br> &lt;xsl:otherwise&gt; <br> &lt;xsl:call-template name="href_attribute"/&gt; <br> &lt;xsl:value-of select="title"/&gt; <br> <br> &lt;/xsl:otherwise&gt; <br> &lt;/xsl:choose&gt; <br> <br> &lt;/xsl:template&gt; <br> <br></code> <br>      : <br> <code>&lt;xsl:choose&gt; <br> &lt;xsl:when&gt;&lt;/xsl:when&gt; <br> &lt;xsl:otherwise&gt;&lt;/xsl:otherwise&gt; <br> &lt;/xsl:choose&gt; <br></code> <br> ‚Ä¶, ,     <strong>XML-</strong> .      : <code>&lt;xsl:when test="descendant-or-self::*/@id = /node()/@id"&gt;</code> <br> <br>        <strong>ID</strong>    ( <strong>document</strong> )    ( <strong>item</strong> ),   ,    . <br> <br>   <code>&lt;xsl:when&gt;&lt;/xsl:when&gt;</code>  ,      .   <code>&lt;xsl:otherwise&gt;&lt;/xsl:otherwise&gt;</code> -    . <br> <br> 8. ,   <strong>href_attribute</strong> : <br> <code><br> &lt;xsl:template name="href_attribute"&gt; <br> &lt;xsl:attribute name="href"&gt; <br> &lt;xsl:text&gt;/&lt;/xsl:text&gt; <br> &lt;xsl:for-each select="ancestor-or-self::item"&gt; <br> &lt;xsl:value-of select="dir"/&gt; <br> &lt;xsl:text&gt;/&lt;/xsl:text&gt; <br> &lt;/xsl:for-each&gt; <br> &lt;/xsl:attribute&gt; <br> &lt;/xsl:template&gt; <br></code> <br> <br>      <strong>xsl:attribute</strong> .          .         <strong>a</strong> , ,      <strong>href</strong> , .. . <br> <br>  <code>&lt;xsl:for-each select="ancestor-or-self::item"&gt;</code>      ,  .      <strong>ancestor-or-self::item</strong> -         .           <strong>dir</strong> , ..     -. <br> <br> ,   -  ,       . ,   <a href="http://habrahabr.ru/blog/webdev/38433.html">  </a> . <br> <br> <strong>UPD:</strong> <br>   .   ,  : <br> <a href="">parser.proc.ru/iso/xslt-1.zip</a> <br> <br>        (       )           Apache. <br> <br>    XML-   /xsl/document.xml</code></code></code></code></code> <h3> <code><code><code><code><code><code>-    (   ). : <br> <strong>Lang</strong> -  .     . <strong>Id</strong> -   . <br> &lt;lang_table&gt;</code> -  ,   . <br> <code>-   : <br> -    (  ): <br> &lt;item id="0" parent_id="0" is_published="1" section="1"&gt;</code> -   . : <br> <strong>Id</strong> -  . <strong>Parent_id</strong> -   . <strong>Is_published</strong> -   . <strong>Dir</strong> - uri- .     . <strong>Section</strong> -  .         . <br> <code>-  . <br>   CMS   :        : <br> <strong>Html</strong> -  .  ,    . <strong>Com</strong> - -.  ,      CMS: , ,    .. <br>  <strong>XSL-</strong>   ,     .       . <br> <br> CMS       <strong> ,      : <br> : <br> <strong>Id</strong> -  . <br> <strong>Container</strong> - - (    ). <br> <strong>Sorting</strong> -    . <br> <strong>Type</strong> - : <br> <strong>Com</strong> - - <br> <strong>Html</strong> -  . <br> <strong>Method</strong> -  . <br> <strong>Title</strong> -  . <br> <strong>DTD</strong>     (    ): <br> &lt;!DOCTYPE site_page [ <br> <br> &lt;!ENTITY nbsp " "&gt; <br> &lt;!ENTITY sect "¬ß" &gt; <br> &lt;!ENTITY copy "¬©"&gt; <br> &lt;!ENTITY laquo "¬´"&gt; <br> &lt;!ENTITY reg "¬Æ"&gt; <br> &lt;!ENTITY deg "¬∞"&gt; <br> &lt;!ENTITY plusmn "¬±"&gt; <br> &lt;!ENTITY para "¬∂"&gt; <br> &lt;!ENTITY raquo "¬ª"&gt; <br> &lt;!ENTITY times "√ó"&gt; <br> <br> <br> <br> &lt;!ENTITY bull "‚Ä¢"&gt; <br> &lt;!ENTITY hellip "‚Ä¶"&gt; <br> <br> <br> <br> &lt;!ENTITY ndash "‚Äì"&gt; <br> &lt;!ENTITY mdash "‚Äî"&gt; <br> &lt;!ENTITY lsquo "'"&gt; <br> &lt;!ENTITY rsquo "'"&gt; <br> &lt;!ENTITY sbquo "‚Äö"&gt; <br> &lt;!ENTITY ldquo "‚Äú"&gt; <br> &lt;!ENTITY rdquo "‚Äù"&gt; <br> &lt;!ENTITY bdquo "‚Äû"&gt; <br> &lt;!ENTITY lsaquo "‚Äπ"&gt; <br> &lt;!ENTITY rsaquo "‚Ä∫" &gt; <br> &lt;!ENTITY euro "‚Ç¨"&gt; <br> ]&gt; <br></strong></code> <br>      <strong>XML-</strong> .   <code>&lt;?xml version="1.0" encoding="windows-1251"?&gt;</code> . <br> <br>  XHML- <br> XSL-    XHTML- (   ).  XHTML-,  ,   <strong></strong> . <br> <br>      . <br> <br>   XHML-  ,    ,       : <br>  (   ).    -    ,      . / . <br>        HTML-: <br> <code><a href="https://habr.com/ru/post/22236/"></a> <a href="https://habr.com/ru/post/22236/"></a> <a href="https://habr.com/ru/post/22236/"></a> ... <br> <br>   <br> <br> <br> ... <br> <br>    <br> <br> ... <br> <br>   <br> <br> ... <br> <br>  <br> <br> ...</code> <br> <br>   XSL- <br>   XSL-   : <br> <code>&lt;xsl:stylesheet version = '1.0' encoding="UTF-8"?&gt; <br> &lt;xsl:template match="element"&gt; <br>   <br> &lt;/xsl:template&gt; <br> &lt;/xsl:stylesheet&gt;</code> <br> <br> : <code>&lt;xsl:stylesheet version = '1.0' encoding="UTF-8"?&gt;</code> -   <strong>XML-</strong>  .   <strong>UTF-8</strong> ( , ). <br> <code>&lt;xsl:stylesheet&gt; &lt;/xsl:stylesheet&gt;</code> -    XSL-. <br> <code>&lt;xsl:template match="element"&gt; &lt;/xsl:template&gt;</code> -       element. <br> <br>       : <br> <code>&lt;xsl:template match="element"&gt;&lt;/xsl:template&gt;</code> - ,     <strong>element</strong> .      <strong>element</strong> . <code>&lt;xsl:template match="element" mode="mode1"&gt;&lt;/xsl:template&gt;</code> - ,     <strong>element</strong>   <strong>mode1</strong> .         <strong>element</strong> . <code>&lt;xsl:template name="template-name"&gt;&lt;/xsl:template&gt;</code> -    <strong>template-name</strong> .     -  <strong>XML-</strong> . <br>           <strong>XML-</strong> (,  XML-,    item      ),      " "  : <br> <code>&lt;xsl:template match="navigation/sections/item"&gt;&lt;/xsl:template&gt;</code> <br>  ,    , ..,      ,  ,  , ..      <strong>navigation</strong> ,      <strong>navigation/sections/item</strong>     <strong>sections/item</strong> . <br> <br>    <br>  ,         -      .  ,        <strong>xsl-</strong> .            . <br> <br>       <strong>xsl</strong>    . <br> <br> ,        (       )   : <br> <strong>template_folder</strong> -    .      ,  <strong>my_template</strong> . <strong>dtd</strong> -    .   . <strong>lang</strong> -      (      ). <strong>mod</strong> -  . <br>       <strong>xsl/my_template</strong>   ,  <strong>layout.xsl</strong>  : <br> <code>&lt;?xml version="1.0" encoding="UTF-8"?&gt; <br> &lt;!DOCTYPE xsl:stylesheet SYSTEM "../dtd/entities.dtd"&gt; <br> &lt;xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform"&gt; <br> <br> &lt;xsl:template match="/node()"&gt; <br> &lt;/xsl:template&gt; <br> <br> &lt;/xsl:stylesheet&gt; <br></code> <br> : <br> <code>&lt;xsl:template match="/node()"&gt; &lt;/xsl:template&gt;</code> -    <strong>/node()</strong> ().  <strong>/node()</strong>   <strong>//document</strong> , ..      . <br> <br>   XHTML-   <code>&lt;xsl:template match="/node()"&gt;&lt;/xsl:template&gt;</code> <br> <br>        <strong>XML-</strong> .   , <strong>XSL-</strong>   <strong>XML-</strong>  <strong>XHTML-</strong>  . <br> <br> ,    <strong>XSL</strong>   <strong>template.xsl</strong> (, <strong>template</strong> -   ),     : <br> <code>&lt;?xml version="1.0" encoding="UTF-8"?&gt; <br> &lt;xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform"&gt; <br> <br> &lt;xsl:import href=" my_template /layout.xsl"/&gt; <br> &lt;/xsl:stylesheet&gt; <br></code> <br> : <br> <code>&lt;xsl:import href="my_template/layout.xsl"/&gt;</code> <br>    XSL- ( <strong>XSL-</strong> )   .     . <br> <br>       <br>       , ..     XML-    . <br> <br>   -    . <br> <br>        ,   <strong>XML-</strong>   : <br> <code><br> &lt;item id="0" parent_id="0" is_published="1" section="1"&gt; <br>  <br> / <br> <br> &lt;item id="1" parent_id="0" is_published="1" section="1" hit="yes"&gt; <br>  <br> news <br> <br></code> <br> <br> <br>      : <br>  <strong>id</strong>    <strong>document</strong> -    <strong>id</strong>  .  <strong>hit</strong>   <strong>item</strong> -   ,   ,    "  ". <br> ,  ,         : <br> <strong>sections</strong> -   . <strong>item</strong> -  . <br>  ,  ,   <strong>item</strong>     <strong>item</strong> ,   ,     : <br> <code><br> <br></code> <br> <br> 1.    xsl/my_template  navigation.xsl  : <br> <code>&lt;?xml version="1.0" encoding="UTF-8"?&gt; <br> &lt;!DOCTYPE xsl:stylesheet SYSTEM "../dtd/entities.dtd"&gt; <br> &lt;xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform"&gt; <br> <br> &lt;xsl:template match="sections" mode="global_menu"&gt; <br> &lt;/xsl:template&gt; <br> <br> &lt;/xsl:stylesheet&gt;</code> <br> <br> 2.         <strong>layout.xsl</strong> : <br> <code><a href="https://habr.com/"></a> <a href="https://habr.com/sections/"></a> <a href="https://habr.com/news/"></a> <br> &lt;xsl:template match="sections" mode="global_menu"&gt; <br>    <br> &lt;/xsl:template&gt; <br></code> <br> <br> 3. ‚Ä¶      <strong>layout.xsl</strong>     : <br> <code><br> &lt;xsl:apply-templates select="navigation/sections" mode="global_menu"/&gt; <br> <br></code> <br> : <br> <strong>select="navigation/sections"</strong> -  ( ) - .  ,     <strong>navigation/sections</strong> . <br> <br> <strong>mode="global_menu"</strong> -     <strong>global_menu</strong> .      ,        , ,  " ",  -         . <br> <br> 4. ,    layout.xsl     <strong>navigation.xsl</strong> : <br> <code>&lt;xsl:import href="navigation.xsl"/&gt;</code> <br> <br> 5. ,    <strong>navigation.xsl</strong>   ,    : <br> <code><br> &lt;xsl:template match="item" mode="global_menu"&gt; <br> &lt;xsl:call-template name="href_attribute"/&gt; <br> &lt;xsl:value-of select="title"/&gt; <br> <br> <br> &lt;/xsl:template&gt; <br> <br></code> <br> : <br> <code>&lt;xsl:call-template name="href_attribute"/&gt;</code> -    .        , ..  . <br> <br> <code>&lt;xsl:value-of select="title"/&gt;</code> - -   title  .         <strong>@</strong> -      . <br> <br> 6.    <strong>sections</strong> : <br> <code><br> &lt;xsl:template match="sections" mode="global_menu"&gt; <br> <br> &lt;/xsl:template&gt; <br> <br></code> <br> : <br> <code>&lt;xsl:apply-templates select="item" mode="global_menu"/&gt;</code> -    <strong>item</strong>  <strong>sections</strong> .  ,  <strong>item</strong>   <strong>item</strong> ( <strong>sections/item/item</strong> )   , ..      . <br> <br>     <strong>item</strong> ( )   .  ,         : <code>&lt;xsl:call-template name="href_attribute"/&gt;</code> <br> <br>      <strong>uri-</strong>    .    . <br> <br> 7.     , <br>   ,    .            <strong>item</strong> : <br> <code><br> &lt;xsl:template match="item" mode="global_menu"&gt; <br> <br> &lt;xsl:choose&gt; <br> <br> &lt;xsl:when test="descendant-or-self::*/@id = /node()/@id"&gt; <br> &lt;xsl:value-of select="title"/&gt; <br> &lt;/xsl:when&gt; <br> <br> &lt;xsl:otherwise&gt; <br> &lt;xsl:call-template name="href_attribute"/&gt; <br> &lt;xsl:value-of select="title"/&gt; <br> <br> &lt;/xsl:otherwise&gt; <br> &lt;/xsl:choose&gt; <br> <br> &lt;/xsl:template&gt; <br> <br></code> <br>      : <br> <code>&lt;xsl:choose&gt; <br> &lt;xsl:when&gt;&lt;/xsl:when&gt; <br> &lt;xsl:otherwise&gt;&lt;/xsl:otherwise&gt; <br> &lt;/xsl:choose&gt; <br></code> <br> ‚Ä¶, ,     <strong>XML-</strong> .      : <code>&lt;xsl:when test="descendant-or-self::*/@id = /node()/@id"&gt;</code> <br> <br>        <strong>ID</strong>    ( <strong>document</strong> )    ( <strong>item</strong> ),   ,    . <br> <br>   <code>&lt;xsl:when&gt;&lt;/xsl:when&gt;</code>  ,      .   <code>&lt;xsl:otherwise&gt;&lt;/xsl:otherwise&gt;</code> -    . <br> <br> 8. ,   <strong>href_attribute</strong> : <br> <code><br> &lt;xsl:template name="href_attribute"&gt; <br> &lt;xsl:attribute name="href"&gt; <br> &lt;xsl:text&gt;/&lt;/xsl:text&gt; <br> &lt;xsl:for-each select="ancestor-or-self::item"&gt; <br> &lt;xsl:value-of select="dir"/&gt; <br> &lt;xsl:text&gt;/&lt;/xsl:text&gt; <br> &lt;/xsl:for-each&gt; <br> &lt;/xsl:attribute&gt; <br> &lt;/xsl:template&gt; <br></code> <br> <br>      <strong>xsl:attribute</strong> .          .         <strong>a</strong> , ,      <strong>href</strong> , .. . <br> <br>  <code>&lt;xsl:for-each select="ancestor-or-self::item"&gt;</code>      ,  .      <strong>ancestor-or-self::item</strong> -         .           <strong>dir</strong> , ..     -. <br> <br> ,   -  ,       . ,   <a href="http://habrahabr.ru/blog/webdev/38433.html">  </a> . <br> <br> <strong>UPD:</strong> <br>   .   ,  : <br> <a href="">parser.proc.ru/iso/xslt-1.zip</a> <br> <br>        (       )           Apache. <br> <br>    XML-   /xsl/document.xml</code></code></code></code></code> </h3> <code><code><code><code><code><code>-    (   ). : <br> <strong>Lang</strong> -  .     . <strong>Id</strong> -   . <br> &lt;lang_table&gt;</code> -  ,   . <br> <code>-   : <br> -    (  ): <br> &lt;item id="0" parent_id="0" is_published="1" section="1"&gt;</code> -   . : <br> <strong>Id</strong> -  . <strong>Parent_id</strong> -   . <strong>Is_published</strong> -   . <strong>Dir</strong> - uri- .     . <strong>Section</strong> -  .         . <br> <code>-  . <br>   CMS   :        : <br> <strong>Html</strong> -  .  ,    . <strong>Com</strong> - -.  ,      CMS: , ,    .. <br>  <strong>XSL-</strong>   ,     .       . <br> <br> CMS       <strong> ,      : <br> : <br> <strong>Id</strong> -  . <br> <strong>Container</strong> - - (    ). <br> <strong>Sorting</strong> -    . <br> <strong>Type</strong> - : <br> <strong>Com</strong> - - <br> <strong>Html</strong> -  . <br> <strong>Method</strong> -  . <br> <strong>Title</strong> -  . <br> <strong>DTD</strong>     (    ): <br> &lt;!DOCTYPE site_page [ <br> <br> &lt;!ENTITY nbsp " "&gt; <br> &lt;!ENTITY sect "¬ß" &gt; <br> &lt;!ENTITY copy "¬©"&gt; <br> &lt;!ENTITY laquo "¬´"&gt; <br> &lt;!ENTITY reg "¬Æ"&gt; <br> &lt;!ENTITY deg "¬∞"&gt; <br> &lt;!ENTITY plusmn "¬±"&gt; <br> &lt;!ENTITY para "¬∂"&gt; <br> &lt;!ENTITY raquo "¬ª"&gt; <br> &lt;!ENTITY times "√ó"&gt; <br> <br> <br> <br> &lt;!ENTITY bull "‚Ä¢"&gt; <br> &lt;!ENTITY hellip "‚Ä¶"&gt; <br> <br> <br> <br> &lt;!ENTITY ndash "‚Äì"&gt; <br> &lt;!ENTITY mdash "‚Äî"&gt; <br> &lt;!ENTITY lsquo "'"&gt; <br> &lt;!ENTITY rsquo "'"&gt; <br> &lt;!ENTITY sbquo "‚Äö"&gt; <br> &lt;!ENTITY ldquo "‚Äú"&gt; <br> &lt;!ENTITY rdquo "‚Äù"&gt; <br> &lt;!ENTITY bdquo "‚Äû"&gt; <br> &lt;!ENTITY lsaquo "‚Äπ"&gt; <br> &lt;!ENTITY rsaquo "‚Ä∫" &gt; <br> &lt;!ENTITY euro "‚Ç¨"&gt; <br> ]&gt; <br></strong></code> <br>      <strong>XML-</strong> .   <code>&lt;?xml version="1.0" encoding="windows-1251"?&gt;</code> . <br> <br>  XHML- <br> XSL-    XHTML- (   ).  XHTML-,  ,   <strong></strong> . <br> <br>      . <br> <br>   XHML-  ,    ,       : <br>  (   ).    -    ,      . / . <br>        HTML-: <br> <code><a href="https://habr.com/ru/post/22236/"></a> <a href="https://habr.com/ru/post/22236/"></a> <a href="https://habr.com/ru/post/22236/"></a> ... <br> <br>   <br> <br> <br> ... <br> <br>    <br> <br> ... <br> <br>   <br> <br> ... <br> <br>  <br> <br> ...</code> <br> <br>   XSL- <br>   XSL-   : <br> <code>&lt;xsl:stylesheet version = '1.0' encoding="UTF-8"?&gt; <br> &lt;xsl:template match="element"&gt; <br>   <br> &lt;/xsl:template&gt; <br> &lt;/xsl:stylesheet&gt;</code> <br> <br> : <code>&lt;xsl:stylesheet version = '1.0' encoding="UTF-8"?&gt;</code> -   <strong>XML-</strong>  .   <strong>UTF-8</strong> ( , ). <br> <code>&lt;xsl:stylesheet&gt; &lt;/xsl:stylesheet&gt;</code> -    XSL-. <br> <code>&lt;xsl:template match="element"&gt; &lt;/xsl:template&gt;</code> -       element. <br> <br>       : <br> <code>&lt;xsl:template match="element"&gt;&lt;/xsl:template&gt;</code> - ,     <strong>element</strong> .      <strong>element</strong> . <code>&lt;xsl:template match="element" mode="mode1"&gt;&lt;/xsl:template&gt;</code> - ,     <strong>element</strong>   <strong>mode1</strong> .         <strong>element</strong> . <code>&lt;xsl:template name="template-name"&gt;&lt;/xsl:template&gt;</code> -    <strong>template-name</strong> .     -  <strong>XML-</strong> . <br>           <strong>XML-</strong> (,  XML-,    item      ),      " "  : <br> <code>&lt;xsl:template match="navigation/sections/item"&gt;&lt;/xsl:template&gt;</code> <br>  ,    , ..,      ,  ,  , ..      <strong>navigation</strong> ,      <strong>navigation/sections/item</strong>     <strong>sections/item</strong> . <br> <br>    <br>  ,         -      .  ,        <strong>xsl-</strong> .            . <br> <br>       <strong>xsl</strong>    . <br> <br> ,        (       )   : <br> <strong>template_folder</strong> -    .      ,  <strong>my_template</strong> . <strong>dtd</strong> -    .   . <strong>lang</strong> -      (      ). <strong>mod</strong> -  . <br>       <strong>xsl/my_template</strong>   ,  <strong>layout.xsl</strong>  : <br> <code>&lt;?xml version="1.0" encoding="UTF-8"?&gt; <br> &lt;!DOCTYPE xsl:stylesheet SYSTEM "../dtd/entities.dtd"&gt; <br> &lt;xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform"&gt; <br> <br> &lt;xsl:template match="/node()"&gt; <br> &lt;/xsl:template&gt; <br> <br> &lt;/xsl:stylesheet&gt; <br></code> <br> : <br> <code>&lt;xsl:template match="/node()"&gt; &lt;/xsl:template&gt;</code> -    <strong>/node()</strong> ().  <strong>/node()</strong>   <strong>//document</strong> , ..      . <br> <br>   XHTML-   <code>&lt;xsl:template match="/node()"&gt;&lt;/xsl:template&gt;</code> <br> <br>        <strong>XML-</strong> .   , <strong>XSL-</strong>   <strong>XML-</strong>  <strong>XHTML-</strong>  . <br> <br> ,    <strong>XSL</strong>   <strong>template.xsl</strong> (, <strong>template</strong> -   ),     : <br> <code>&lt;?xml version="1.0" encoding="UTF-8"?&gt; <br> &lt;xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform"&gt; <br> <br> &lt;xsl:import href=" my_template /layout.xsl"/&gt; <br> &lt;/xsl:stylesheet&gt; <br></code> <br> : <br> <code>&lt;xsl:import href="my_template/layout.xsl"/&gt;</code> <br>    XSL- ( <strong>XSL-</strong> )   .     . <br> <br>       <br>       , ..     XML-    . <br> <br>   -    . <br> <br>        ,   <strong>XML-</strong>   : <br> <code><br> &lt;item id="0" parent_id="0" is_published="1" section="1"&gt; <br>  <br> / <br> <br> &lt;item id="1" parent_id="0" is_published="1" section="1" hit="yes"&gt; <br>  <br> news <br> <br></code> <br> <br> <br>      : <br>  <strong>id</strong>    <strong>document</strong> -    <strong>id</strong>  .  <strong>hit</strong>   <strong>item</strong> -   ,   ,    "  ". <br> ,  ,         : <br> <strong>sections</strong> -   . <strong>item</strong> -  . <br>  ,  ,   <strong>item</strong>     <strong>item</strong> ,   ,     : <br> <code><br> <br></code> <br> <br> 1.    xsl/my_template  navigation.xsl  : <br> <code>&lt;?xml version="1.0" encoding="UTF-8"?&gt; <br> &lt;!DOCTYPE xsl:stylesheet SYSTEM "../dtd/entities.dtd"&gt; <br> &lt;xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform"&gt; <br> <br> &lt;xsl:template match="sections" mode="global_menu"&gt; <br> &lt;/xsl:template&gt; <br> <br> &lt;/xsl:stylesheet&gt;</code> <br> <br> 2.         <strong>layout.xsl</strong> : <br> <code><a href="https://habr.com/"></a> <a href="https://habr.com/sections/"></a> <a href="https://habr.com/news/"></a> <br> &lt;xsl:template match="sections" mode="global_menu"&gt; <br>    <br> &lt;/xsl:template&gt; <br></code> <br> <br> 3. ‚Ä¶      <strong>layout.xsl</strong>     : <br> <code><br> &lt;xsl:apply-templates select="navigation/sections" mode="global_menu"/&gt; <br> <br></code> <br> : <br> <strong>select="navigation/sections"</strong> -  ( ) - .  ,     <strong>navigation/sections</strong> . <br> <br> <strong>mode="global_menu"</strong> -     <strong>global_menu</strong> .      ,        , ,  " ",  -         . <br> <br> 4. ,    layout.xsl     <strong>navigation.xsl</strong> : <br> <code>&lt;xsl:import href="navigation.xsl"/&gt;</code> <br> <br> 5. ,    <strong>navigation.xsl</strong>   ,    : <br> <code><br> &lt;xsl:template match="item" mode="global_menu"&gt; <br> &lt;xsl:call-template name="href_attribute"/&gt; <br> &lt;xsl:value-of select="title"/&gt; <br> <br> <br> &lt;/xsl:template&gt; <br> <br></code> <br> : <br> <code>&lt;xsl:call-template name="href_attribute"/&gt;</code> -    .        , ..  . <br> <br> <code>&lt;xsl:value-of select="title"/&gt;</code> - -   title  .         <strong>@</strong> -      . <br> <br> 6.    <strong>sections</strong> : <br> <code><br> &lt;xsl:template match="sections" mode="global_menu"&gt; <br> <br> &lt;/xsl:template&gt; <br> <br></code> <br> : <br> <code>&lt;xsl:apply-templates select="item" mode="global_menu"/&gt;</code> -    <strong>item</strong>  <strong>sections</strong> .  ,  <strong>item</strong>   <strong>item</strong> ( <strong>sections/item/item</strong> )   , ..      . <br> <br>     <strong>item</strong> ( )   .  ,         : <code>&lt;xsl:call-template name="href_attribute"/&gt;</code> <br> <br>      <strong>uri-</strong>    .    . <br> <br> 7.     , <br>   ,    .            <strong>item</strong> : <br> <code><br> &lt;xsl:template match="item" mode="global_menu"&gt; <br> <br> &lt;xsl:choose&gt; <br> <br> &lt;xsl:when test="descendant-or-self::*/@id = /node()/@id"&gt; <br> &lt;xsl:value-of select="title"/&gt; <br> &lt;/xsl:when&gt; <br> <br> &lt;xsl:otherwise&gt; <br> &lt;xsl:call-template name="href_attribute"/&gt; <br> &lt;xsl:value-of select="title"/&gt; <br> <br> &lt;/xsl:otherwise&gt; <br> &lt;/xsl:choose&gt; <br> <br> &lt;/xsl:template&gt; <br> <br></code> <br>      : <br> <code>&lt;xsl:choose&gt; <br> &lt;xsl:when&gt;&lt;/xsl:when&gt; <br> &lt;xsl:otherwise&gt;&lt;/xsl:otherwise&gt; <br> &lt;/xsl:choose&gt; <br></code> <br> ‚Ä¶, ,     <strong>XML-</strong> .      : <code>&lt;xsl:when test="descendant-or-self::*/@id = /node()/@id"&gt;</code> <br> <br>        <strong>ID</strong>    ( <strong>document</strong> )    ( <strong>item</strong> ),   ,    . <br> <br>   <code>&lt;xsl:when&gt;&lt;/xsl:when&gt;</code>  ,      .   <code>&lt;xsl:otherwise&gt;&lt;/xsl:otherwise&gt;</code> -    . <br> <br> 8. ,   <strong>href_attribute</strong> : <br> <code><br> &lt;xsl:template name="href_attribute"&gt; <br> &lt;xsl:attribute name="href"&gt; <br> &lt;xsl:text&gt;/&lt;/xsl:text&gt; <br> &lt;xsl:for-each select="ancestor-or-self::item"&gt; <br> &lt;xsl:value-of select="dir"/&gt; <br> &lt;xsl:text&gt;/&lt;/xsl:text&gt; <br> &lt;/xsl:for-each&gt; <br> &lt;/xsl:attribute&gt; <br> &lt;/xsl:template&gt; <br></code> <br> <br>      <strong>xsl:attribute</strong> .          .         <strong>a</strong> , ,      <strong>href</strong> , .. . <br> <br>  <code>&lt;xsl:for-each select="ancestor-or-self::item"&gt;</code>      ,  .      <strong>ancestor-or-self::item</strong> -         .           <strong>dir</strong> , ..     -. <br> <br> ,   -  ,       . ,   <a href="http://habrahabr.ru/blog/webdev/38433.html">  </a> . <br> <br> <strong>UPD:</strong> <br>   .   ,  : <br> <a href="">parser.proc.ru/iso/xslt-1.zip</a> <br> <br>        (       )           Apache. <br> <br>    XML-   /xsl/document.xml</code></code></code></code></code> <h3> <code><code><code><code><code><code>-    (   ). : <br> <strong>Lang</strong> -  .     . <strong>Id</strong> -   . <br> &lt;lang_table&gt;</code> -  ,   . <br> <code>-   : <br> -    (  ): <br> &lt;item id="0" parent_id="0" is_published="1" section="1"&gt;</code> -   . : <br> <strong>Id</strong> -  . <strong>Parent_id</strong> -   . <strong>Is_published</strong> -   . <strong>Dir</strong> - uri- .     . <strong>Section</strong> -  .         . <br> <code>-  . <br>   CMS   :        : <br> <strong>Html</strong> -  .  ,    . <strong>Com</strong> - -.  ,      CMS: , ,    .. <br>  <strong>XSL-</strong>   ,     .       . <br> <br> CMS       <strong> ,      : <br> : <br> <strong>Id</strong> -  . <br> <strong>Container</strong> - - (    ). <br> <strong>Sorting</strong> -    . <br> <strong>Type</strong> - : <br> <strong>Com</strong> - - <br> <strong>Html</strong> -  . <br> <strong>Method</strong> -  . <br> <strong>Title</strong> -  . <br> <strong>DTD</strong>     (    ): <br> &lt;!DOCTYPE site_page [ <br> <br> &lt;!ENTITY nbsp " "&gt; <br> &lt;!ENTITY sect "¬ß" &gt; <br> &lt;!ENTITY copy "¬©"&gt; <br> &lt;!ENTITY laquo "¬´"&gt; <br> &lt;!ENTITY reg "¬Æ"&gt; <br> &lt;!ENTITY deg "¬∞"&gt; <br> &lt;!ENTITY plusmn "¬±"&gt; <br> &lt;!ENTITY para "¬∂"&gt; <br> &lt;!ENTITY raquo "¬ª"&gt; <br> &lt;!ENTITY times "√ó"&gt; <br> <br> <br> <br> &lt;!ENTITY bull "‚Ä¢"&gt; <br> &lt;!ENTITY hellip "‚Ä¶"&gt; <br> <br> <br> <br> &lt;!ENTITY ndash "‚Äì"&gt; <br> &lt;!ENTITY mdash "‚Äî"&gt; <br> &lt;!ENTITY lsquo "'"&gt; <br> &lt;!ENTITY rsquo "'"&gt; <br> &lt;!ENTITY sbquo "‚Äö"&gt; <br> &lt;!ENTITY ldquo "‚Äú"&gt; <br> &lt;!ENTITY rdquo "‚Äù"&gt; <br> &lt;!ENTITY bdquo "‚Äû"&gt; <br> &lt;!ENTITY lsaquo "‚Äπ"&gt; <br> &lt;!ENTITY rsaquo "‚Ä∫" &gt; <br> &lt;!ENTITY euro "‚Ç¨"&gt; <br> ]&gt; <br></strong></code> <br>      <strong>XML-</strong> .   <code>&lt;?xml version="1.0" encoding="windows-1251"?&gt;</code> . <br> <br>  XHML- <br> XSL-    XHTML- (   ).  XHTML-,  ,   <strong></strong> . <br> <br>      . <br> <br>   XHML-  ,    ,       : <br>  (   ).    -    ,      . / . <br>        HTML-: <br> <code><a href="https://habr.com/ru/post/22236/"></a> <a href="https://habr.com/ru/post/22236/"></a> <a href="https://habr.com/ru/post/22236/"></a> ... <br> <br>   <br> <br> <br> ... <br> <br>    <br> <br> ... <br> <br>   <br> <br> ... <br> <br>  <br> <br> ...</code> <br> <br>   XSL- <br>   XSL-   : <br> <code>&lt;xsl:stylesheet version = '1.0' encoding="UTF-8"?&gt; <br> &lt;xsl:template match="element"&gt; <br>   <br> &lt;/xsl:template&gt; <br> &lt;/xsl:stylesheet&gt;</code> <br> <br> : <code>&lt;xsl:stylesheet version = '1.0' encoding="UTF-8"?&gt;</code> -   <strong>XML-</strong>  .   <strong>UTF-8</strong> ( , ). <br> <code>&lt;xsl:stylesheet&gt; &lt;/xsl:stylesheet&gt;</code> -    XSL-. <br> <code>&lt;xsl:template match="element"&gt; &lt;/xsl:template&gt;</code> -       element. <br> <br>       : <br> <code>&lt;xsl:template match="element"&gt;&lt;/xsl:template&gt;</code> - ,     <strong>element</strong> .      <strong>element</strong> . <code>&lt;xsl:template match="element" mode="mode1"&gt;&lt;/xsl:template&gt;</code> - ,     <strong>element</strong>   <strong>mode1</strong> .         <strong>element</strong> . <code>&lt;xsl:template name="template-name"&gt;&lt;/xsl:template&gt;</code> -    <strong>template-name</strong> .     -  <strong>XML-</strong> . <br>           <strong>XML-</strong> (,  XML-,    item      ),      " "  : <br> <code>&lt;xsl:template match="navigation/sections/item"&gt;&lt;/xsl:template&gt;</code> <br>  ,    , ..,      ,  ,  , ..      <strong>navigation</strong> ,      <strong>navigation/sections/item</strong>     <strong>sections/item</strong> . <br> <br>    <br>  ,         -      .  ,        <strong>xsl-</strong> .            . <br> <br>       <strong>xsl</strong>    . <br> <br> ,        (       )   : <br> <strong>template_folder</strong> -    .      ,  <strong>my_template</strong> . <strong>dtd</strong> -    .   . <strong>lang</strong> -      (      ). <strong>mod</strong> -  . <br>       <strong>xsl/my_template</strong>   ,  <strong>layout.xsl</strong>  : <br> <code>&lt;?xml version="1.0" encoding="UTF-8"?&gt; <br> &lt;!DOCTYPE xsl:stylesheet SYSTEM "../dtd/entities.dtd"&gt; <br> &lt;xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform"&gt; <br> <br> &lt;xsl:template match="/node()"&gt; <br> &lt;/xsl:template&gt; <br> <br> &lt;/xsl:stylesheet&gt; <br></code> <br> : <br> <code>&lt;xsl:template match="/node()"&gt; &lt;/xsl:template&gt;</code> -    <strong>/node()</strong> ().  <strong>/node()</strong>   <strong>//document</strong> , ..      . <br> <br>   XHTML-   <code>&lt;xsl:template match="/node()"&gt;&lt;/xsl:template&gt;</code> <br> <br>        <strong>XML-</strong> .   , <strong>XSL-</strong>   <strong>XML-</strong>  <strong>XHTML-</strong>  . <br> <br> ,    <strong>XSL</strong>   <strong>template.xsl</strong> (, <strong>template</strong> -   ),     : <br> <code>&lt;?xml version="1.0" encoding="UTF-8"?&gt; <br> &lt;xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform"&gt; <br> <br> &lt;xsl:import href=" my_template /layout.xsl"/&gt; <br> &lt;/xsl:stylesheet&gt; <br></code> <br> : <br> <code>&lt;xsl:import href="my_template/layout.xsl"/&gt;</code> <br>    XSL- ( <strong>XSL-</strong> )   .     . <br> <br>       <br>       , ..     XML-    . <br> <br>   -    . <br> <br>        ,   <strong>XML-</strong>   : <br> <code><br> &lt;item id="0" parent_id="0" is_published="1" section="1"&gt; <br>  <br> / <br> <br> &lt;item id="1" parent_id="0" is_published="1" section="1" hit="yes"&gt; <br>  <br> news <br> <br></code> <br> <br> <br>      : <br>  <strong>id</strong>    <strong>document</strong> -    <strong>id</strong>  .  <strong>hit</strong>   <strong>item</strong> -   ,   ,    "  ". <br> ,  ,         : <br> <strong>sections</strong> -   . <strong>item</strong> -  . <br>  ,  ,   <strong>item</strong>     <strong>item</strong> ,   ,     : <br> <code><br> <br></code> <br> <br> 1.    xsl/my_template  navigation.xsl  : <br> <code>&lt;?xml version="1.0" encoding="UTF-8"?&gt; <br> &lt;!DOCTYPE xsl:stylesheet SYSTEM "../dtd/entities.dtd"&gt; <br> &lt;xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform"&gt; <br> <br> &lt;xsl:template match="sections" mode="global_menu"&gt; <br> &lt;/xsl:template&gt; <br> <br> &lt;/xsl:stylesheet&gt;</code> <br> <br> 2.         <strong>layout.xsl</strong> : <br> <code><a href="https://habr.com/"></a> <a href="https://habr.com/sections/"></a> <a href="https://habr.com/news/"></a> <br> &lt;xsl:template match="sections" mode="global_menu"&gt; <br>    <br> &lt;/xsl:template&gt; <br></code> <br> <br> 3. ‚Ä¶      <strong>layout.xsl</strong>     : <br> <code><br> &lt;xsl:apply-templates select="navigation/sections" mode="global_menu"/&gt; <br> <br></code> <br> : <br> <strong>select="navigation/sections"</strong> -  ( ) - .  ,     <strong>navigation/sections</strong> . <br> <br> <strong>mode="global_menu"</strong> -     <strong>global_menu</strong> .      ,        , ,  " ",  -         . <br> <br> 4. ,    layout.xsl     <strong>navigation.xsl</strong> : <br> <code>&lt;xsl:import href="navigation.xsl"/&gt;</code> <br> <br> 5. ,    <strong>navigation.xsl</strong>   ,    : <br> <code><br> &lt;xsl:template match="item" mode="global_menu"&gt; <br> &lt;xsl:call-template name="href_attribute"/&gt; <br> &lt;xsl:value-of select="title"/&gt; <br> <br> <br> &lt;/xsl:template&gt; <br> <br></code> <br> : <br> <code>&lt;xsl:call-template name="href_attribute"/&gt;</code> -    .        , ..  . <br> <br> <code>&lt;xsl:value-of select="title"/&gt;</code> - -   title  .         <strong>@</strong> -      . <br> <br> 6.    <strong>sections</strong> : <br> <code><br> &lt;xsl:template match="sections" mode="global_menu"&gt; <br> <br> &lt;/xsl:template&gt; <br> <br></code> <br> : <br> <code>&lt;xsl:apply-templates select="item" mode="global_menu"/&gt;</code> -    <strong>item</strong>  <strong>sections</strong> .  ,  <strong>item</strong>   <strong>item</strong> ( <strong>sections/item/item</strong> )   , ..      . <br> <br>     <strong>item</strong> ( )   .  ,         : <code>&lt;xsl:call-template name="href_attribute"/&gt;</code> <br> <br>      <strong>uri-</strong>    .    . <br> <br> 7.     , <br>   ,    .            <strong>item</strong> : <br> <code><br> &lt;xsl:template match="item" mode="global_menu"&gt; <br> <br> &lt;xsl:choose&gt; <br> <br> &lt;xsl:when test="descendant-or-self::*/@id = /node()/@id"&gt; <br> &lt;xsl:value-of select="title"/&gt; <br> &lt;/xsl:when&gt; <br> <br> &lt;xsl:otherwise&gt; <br> &lt;xsl:call-template name="href_attribute"/&gt; <br> &lt;xsl:value-of select="title"/&gt; <br> <br> &lt;/xsl:otherwise&gt; <br> &lt;/xsl:choose&gt; <br> <br> &lt;/xsl:template&gt; <br> <br></code> <br>      : <br> <code>&lt;xsl:choose&gt; <br> &lt;xsl:when&gt;&lt;/xsl:when&gt; <br> &lt;xsl:otherwise&gt;&lt;/xsl:otherwise&gt; <br> &lt;/xsl:choose&gt; <br></code> <br> ‚Ä¶, ,     <strong>XML-</strong> .      : <code>&lt;xsl:when test="descendant-or-self::*/@id = /node()/@id"&gt;</code> <br> <br>        <strong>ID</strong>    ( <strong>document</strong> )    ( <strong>item</strong> ),   ,    . <br> <br>   <code>&lt;xsl:when&gt;&lt;/xsl:when&gt;</code>  ,      .   <code>&lt;xsl:otherwise&gt;&lt;/xsl:otherwise&gt;</code> -    . <br> <br> 8. ,   <strong>href_attribute</strong> : <br> <code><br> &lt;xsl:template name="href_attribute"&gt; <br> &lt;xsl:attribute name="href"&gt; <br> &lt;xsl:text&gt;/&lt;/xsl:text&gt; <br> &lt;xsl:for-each select="ancestor-or-self::item"&gt; <br> &lt;xsl:value-of select="dir"/&gt; <br> &lt;xsl:text&gt;/&lt;/xsl:text&gt; <br> &lt;/xsl:for-each&gt; <br> &lt;/xsl:attribute&gt; <br> &lt;/xsl:template&gt; <br></code> <br> <br>      <strong>xsl:attribute</strong> .          .         <strong>a</strong> , ,      <strong>href</strong> , .. . <br> <br>  <code>&lt;xsl:for-each select="ancestor-or-self::item"&gt;</code>      ,  .      <strong>ancestor-or-self::item</strong> -         .           <strong>dir</strong> , ..     -. <br> <br> ,   -  ,       . ,   <a href="http://habrahabr.ru/blog/webdev/38433.html">  </a> . <br> <br> <strong>UPD:</strong> <br>   .   ,  : <br> <a href="">parser.proc.ru/iso/xslt-1.zip</a> <br> <br>        (       )           Apache. <br> <br>    XML-   /xsl/document.xml</code></code></code></code></code> </h3> <code><code><code><code><code><code>-    (   ). : <br> <strong>Lang</strong> -  .     . <strong>Id</strong> -   . <br> &lt;lang_table&gt;</code> -  ,   . <br> <code>-   : <br> -    (  ): <br> &lt;item id="0" parent_id="0" is_published="1" section="1"&gt;</code> -   . : <br> <strong>Id</strong> -  . <strong>Parent_id</strong> -   . <strong>Is_published</strong> -   . <strong>Dir</strong> - uri- .     . <strong>Section</strong> -  .         . <br> <code>-  . <br>   CMS   :        : <br> <strong>Html</strong> -  .  ,    . <strong>Com</strong> - -.  ,      CMS: , ,    .. <br>  <strong>XSL-</strong>   ,     .       . <br> <br> CMS       <strong> ,      : <br> : <br> <strong>Id</strong> -  . <br> <strong>Container</strong> - - (    ). <br> <strong>Sorting</strong> -    . <br> <strong>Type</strong> - : <br> <strong>Com</strong> - - <br> <strong>Html</strong> -  . <br> <strong>Method</strong> -  . <br> <strong>Title</strong> -  . <br> <strong>DTD</strong>     (    ): <br> &lt;!DOCTYPE site_page [ <br> <br> &lt;!ENTITY nbsp " "&gt; <br> &lt;!ENTITY sect "¬ß" &gt; <br> &lt;!ENTITY copy "¬©"&gt; <br> &lt;!ENTITY laquo "¬´"&gt; <br> &lt;!ENTITY reg "¬Æ"&gt; <br> &lt;!ENTITY deg "¬∞"&gt; <br> &lt;!ENTITY plusmn "¬±"&gt; <br> &lt;!ENTITY para "¬∂"&gt; <br> &lt;!ENTITY raquo "¬ª"&gt; <br> &lt;!ENTITY times "√ó"&gt; <br> <br> <br> <br> &lt;!ENTITY bull "‚Ä¢"&gt; <br> &lt;!ENTITY hellip "‚Ä¶"&gt; <br> <br> <br> <br> &lt;!ENTITY ndash "‚Äì"&gt; <br> &lt;!ENTITY mdash "‚Äî"&gt; <br> &lt;!ENTITY lsquo "'"&gt; <br> &lt;!ENTITY rsquo "'"&gt; <br> &lt;!ENTITY sbquo "‚Äö"&gt; <br> &lt;!ENTITY ldquo "‚Äú"&gt; <br> &lt;!ENTITY rdquo "‚Äù"&gt; <br> &lt;!ENTITY bdquo "‚Äû"&gt; <br> &lt;!ENTITY lsaquo "‚Äπ"&gt; <br> &lt;!ENTITY rsaquo "‚Ä∫" &gt; <br> &lt;!ENTITY euro "‚Ç¨"&gt; <br> ]&gt; <br></strong></code> <br>      <strong>XML-</strong> .   <code>&lt;?xml version="1.0" encoding="windows-1251"?&gt;</code> . <br> <br>  XHML- <br> XSL-    XHTML- (   ).  XHTML-,  ,   <strong></strong> . <br> <br>      . <br> <br>   XHML-  ,    ,       : <br>  (   ).    -    ,      . / . <br>        HTML-: <br> <code><a href="https://habr.com/ru/post/22236/"></a> <a href="https://habr.com/ru/post/22236/"></a> <a href="https://habr.com/ru/post/22236/"></a> ... <br> <br>   <br> <br> <br> ... <br> <br>    <br> <br> ... <br> <br>   <br> <br> ... <br> <br>  <br> <br> ...</code> <br> <br>   XSL- <br>   XSL-   : <br> <code>&lt;xsl:stylesheet version = '1.0' encoding="UTF-8"?&gt; <br> &lt;xsl:template match="element"&gt; <br>   <br> &lt;/xsl:template&gt; <br> &lt;/xsl:stylesheet&gt;</code> <br> <br> : <code>&lt;xsl:stylesheet version = '1.0' encoding="UTF-8"?&gt;</code> -   <strong>XML-</strong>  .   <strong>UTF-8</strong> ( , ). <br> <code>&lt;xsl:stylesheet&gt; &lt;/xsl:stylesheet&gt;</code> -    XSL-. <br> <code>&lt;xsl:template match="element"&gt; &lt;/xsl:template&gt;</code> -       element. <br> <br>       : <br> <code>&lt;xsl:template match="element"&gt;&lt;/xsl:template&gt;</code> - ,     <strong>element</strong> .      <strong>element</strong> . <code>&lt;xsl:template match="element" mode="mode1"&gt;&lt;/xsl:template&gt;</code> - ,     <strong>element</strong>   <strong>mode1</strong> .         <strong>element</strong> . <code>&lt;xsl:template name="template-name"&gt;&lt;/xsl:template&gt;</code> -    <strong>template-name</strong> .     -  <strong>XML-</strong> . <br>           <strong>XML-</strong> (,  XML-,    item      ),      " "  : <br> <code>&lt;xsl:template match="navigation/sections/item"&gt;&lt;/xsl:template&gt;</code> <br>  ,    , ..,      ,  ,  , ..      <strong>navigation</strong> ,      <strong>navigation/sections/item</strong>     <strong>sections/item</strong> . <br> <br>    <br>  ,         -      .  ,        <strong>xsl-</strong> .            . <br> <br>       <strong>xsl</strong>    . <br> <br> ,        (       )   : <br> <strong>template_folder</strong> -    .      ,  <strong>my_template</strong> . <strong>dtd</strong> -    .   . <strong>lang</strong> -      (      ). <strong>mod</strong> -  . <br>       <strong>xsl/my_template</strong>   ,  <strong>layout.xsl</strong>  : <br> <code>&lt;?xml version="1.0" encoding="UTF-8"?&gt; <br> &lt;!DOCTYPE xsl:stylesheet SYSTEM "../dtd/entities.dtd"&gt; <br> &lt;xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform"&gt; <br> <br> &lt;xsl:template match="/node()"&gt; <br> &lt;/xsl:template&gt; <br> <br> &lt;/xsl:stylesheet&gt; <br></code> <br> : <br> <code>&lt;xsl:template match="/node()"&gt; &lt;/xsl:template&gt;</code> -    <strong>/node()</strong> ().  <strong>/node()</strong>   <strong>//document</strong> , ..      . <br> <br>   XHTML-   <code>&lt;xsl:template match="/node()"&gt;&lt;/xsl:template&gt;</code> <br> <br>        <strong>XML-</strong> .   , <strong>XSL-</strong>   <strong>XML-</strong>  <strong>XHTML-</strong>  . <br> <br> ,    <strong>XSL</strong>   <strong>template.xsl</strong> (, <strong>template</strong> -   ),     : <br> <code>&lt;?xml version="1.0" encoding="UTF-8"?&gt; <br> &lt;xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform"&gt; <br> <br> &lt;xsl:import href=" my_template /layout.xsl"/&gt; <br> &lt;/xsl:stylesheet&gt; <br></code> <br> : <br> <code>&lt;xsl:import href="my_template/layout.xsl"/&gt;</code> <br>    XSL- ( <strong>XSL-</strong> )   .     . <br> <br>       <br>       , ..     XML-    . <br> <br>   -    . <br> <br>        ,   <strong>XML-</strong>   : <br> <code><br> &lt;item id="0" parent_id="0" is_published="1" section="1"&gt; <br>  <br> / <br> <br> &lt;item id="1" parent_id="0" is_published="1" section="1" hit="yes"&gt; <br>  <br> news <br> <br></code> <br> <br> <br>      : <br>  <strong>id</strong>    <strong>document</strong> -    <strong>id</strong>  .  <strong>hit</strong>   <strong>item</strong> -   ,   ,    "  ". <br> ,  ,         : <br> <strong>sections</strong> -   . <strong>item</strong> -  . <br>  ,  ,   <strong>item</strong>     <strong>item</strong> ,   ,     : <br> <code><br> <br></code> <br> <br> 1.    xsl/my_template  navigation.xsl  : <br> <code>&lt;?xml version="1.0" encoding="UTF-8"?&gt; <br> &lt;!DOCTYPE xsl:stylesheet SYSTEM "../dtd/entities.dtd"&gt; <br> &lt;xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform"&gt; <br> <br> &lt;xsl:template match="sections" mode="global_menu"&gt; <br> &lt;/xsl:template&gt; <br> <br> &lt;/xsl:stylesheet&gt;</code> <br> <br> 2.         <strong>layout.xsl</strong> : <br> <code><a href="https://habr.com/"></a> <a href="https://habr.com/sections/"></a> <a href="https://habr.com/news/"></a> <br> &lt;xsl:template match="sections" mode="global_menu"&gt; <br>    <br> &lt;/xsl:template&gt; <br></code> <br> <br> 3. ‚Ä¶      <strong>layout.xsl</strong>     : <br> <code><br> &lt;xsl:apply-templates select="navigation/sections" mode="global_menu"/&gt; <br> <br></code> <br> : <br> <strong>select="navigation/sections"</strong> -  ( ) - .  ,     <strong>navigation/sections</strong> . <br> <br> <strong>mode="global_menu"</strong> -     <strong>global_menu</strong> .      ,        , ,  " ",  -         . <br> <br> 4. ,    layout.xsl     <strong>navigation.xsl</strong> : <br> <code>&lt;xsl:import href="navigation.xsl"/&gt;</code> <br> <br> 5. ,    <strong>navigation.xsl</strong>   ,    : <br> <code><br> &lt;xsl:template match="item" mode="global_menu"&gt; <br> &lt;xsl:call-template name="href_attribute"/&gt; <br> &lt;xsl:value-of select="title"/&gt; <br> <br> <br> &lt;/xsl:template&gt; <br> <br></code> <br> : <br> <code>&lt;xsl:call-template name="href_attribute"/&gt;</code> -    .        , ..  . <br> <br> <code>&lt;xsl:value-of select="title"/&gt;</code> - -   title  .         <strong>@</strong> -      . <br> <br> 6.    <strong>sections</strong> : <br> <code><br> &lt;xsl:template match="sections" mode="global_menu"&gt; <br> <br> &lt;/xsl:template&gt; <br> <br></code> <br> : <br> <code>&lt;xsl:apply-templates select="item" mode="global_menu"/&gt;</code> -    <strong>item</strong>  <strong>sections</strong> .  ,  <strong>item</strong>   <strong>item</strong> ( <strong>sections/item/item</strong> )   , ..      . <br> <br>     <strong>item</strong> ( )   .  ,         : <code>&lt;xsl:call-template name="href_attribute"/&gt;</code> <br> <br>      <strong>uri-</strong>    .    . <br> <br> 7.     , <br>   ,    .            <strong>item</strong> : <br> <code><br> &lt;xsl:template match="item" mode="global_menu"&gt; <br> <br> &lt;xsl:choose&gt; <br> <br> &lt;xsl:when test="descendant-or-self::*/@id = /node()/@id"&gt; <br> &lt;xsl:value-of select="title"/&gt; <br> &lt;/xsl:when&gt; <br> <br> &lt;xsl:otherwise&gt; <br> &lt;xsl:call-template name="href_attribute"/&gt; <br> &lt;xsl:value-of select="title"/&gt; <br> <br> &lt;/xsl:otherwise&gt; <br> &lt;/xsl:choose&gt; <br> <br> &lt;/xsl:template&gt; <br> <br></code> <br>      : <br> <code>&lt;xsl:choose&gt; <br> &lt;xsl:when&gt;&lt;/xsl:when&gt; <br> &lt;xsl:otherwise&gt;&lt;/xsl:otherwise&gt; <br> &lt;/xsl:choose&gt; <br></code> <br> ‚Ä¶, ,     <strong>XML-</strong> .      : <code>&lt;xsl:when test="descendant-or-self::*/@id = /node()/@id"&gt;</code> <br> <br>        <strong>ID</strong>    ( <strong>document</strong> )    ( <strong>item</strong> ),   ,    . <br> <br>   <code>&lt;xsl:when&gt;&lt;/xsl:when&gt;</code>  ,      .   <code>&lt;xsl:otherwise&gt;&lt;/xsl:otherwise&gt;</code> -    . <br> <br> 8. ,   <strong>href_attribute</strong> : <br> <code><br> &lt;xsl:template name="href_attribute"&gt; <br> &lt;xsl:attribute name="href"&gt; <br> &lt;xsl:text&gt;/&lt;/xsl:text&gt; <br> &lt;xsl:for-each select="ancestor-or-self::item"&gt; <br> &lt;xsl:value-of select="dir"/&gt; <br> &lt;xsl:text&gt;/&lt;/xsl:text&gt; <br> &lt;/xsl:for-each&gt; <br> &lt;/xsl:attribute&gt; <br> &lt;/xsl:template&gt; <br></code> <br> <br>      <strong>xsl:attribute</strong> .          .         <strong>a</strong> , ,      <strong>href</strong> , .. . <br> <br>  <code>&lt;xsl:for-each select="ancestor-or-self::item"&gt;</code>      ,  .      <strong>ancestor-or-self::item</strong> -         .           <strong>dir</strong> , ..     -. <br> <br> ,   -  ,       . ,   <a href="http://habrahabr.ru/blog/webdev/38433.html">  </a> . <br> <br> <strong>UPD:</strong> <br>   .   ,  : <br> <a href="">parser.proc.ru/iso/xslt-1.zip</a> <br> <br>        (       )           Apache. <br> <br>    XML-   /xsl/document.xml</code></code></code></code></code> <h3> <code><code><code><code><code><code>-    (   ). : <br> <strong>Lang</strong> -  .     . <strong>Id</strong> -   . <br> &lt;lang_table&gt;</code> -  ,   . <br> <code>-   : <br> -    (  ): <br> &lt;item id="0" parent_id="0" is_published="1" section="1"&gt;</code> -   . : <br> <strong>Id</strong> -  . <strong>Parent_id</strong> -   . <strong>Is_published</strong> -   . <strong>Dir</strong> - uri- .     . <strong>Section</strong> -  .         . <br> <code>-  . <br>   CMS   :        : <br> <strong>Html</strong> -  .  ,    . <strong>Com</strong> - -.  ,      CMS: , ,    .. <br>  <strong>XSL-</strong>   ,     .       . <br> <br> CMS       <strong> ,      : <br> : <br> <strong>Id</strong> -  . <br> <strong>Container</strong> - - (    ). <br> <strong>Sorting</strong> -    . <br> <strong>Type</strong> - : <br> <strong>Com</strong> - - <br> <strong>Html</strong> -  . <br> <strong>Method</strong> -  . <br> <strong>Title</strong> -  . <br> <strong>DTD</strong>     (    ): <br> &lt;!DOCTYPE site_page [ <br> <br> &lt;!ENTITY nbsp " "&gt; <br> &lt;!ENTITY sect "¬ß" &gt; <br> &lt;!ENTITY copy "¬©"&gt; <br> &lt;!ENTITY laquo "¬´"&gt; <br> &lt;!ENTITY reg "¬Æ"&gt; <br> &lt;!ENTITY deg "¬∞"&gt; <br> &lt;!ENTITY plusmn "¬±"&gt; <br> &lt;!ENTITY para "¬∂"&gt; <br> &lt;!ENTITY raquo "¬ª"&gt; <br> &lt;!ENTITY times "√ó"&gt; <br> <br> <br> <br> &lt;!ENTITY bull "‚Ä¢"&gt; <br> &lt;!ENTITY hellip "‚Ä¶"&gt; <br> <br> <br> <br> &lt;!ENTITY ndash "‚Äì"&gt; <br> &lt;!ENTITY mdash "‚Äî"&gt; <br> &lt;!ENTITY lsquo "'"&gt; <br> &lt;!ENTITY rsquo "'"&gt; <br> &lt;!ENTITY sbquo "‚Äö"&gt; <br> &lt;!ENTITY ldquo "‚Äú"&gt; <br> &lt;!ENTITY rdquo "‚Äù"&gt; <br> &lt;!ENTITY bdquo "‚Äû"&gt; <br> &lt;!ENTITY lsaquo "‚Äπ"&gt; <br> &lt;!ENTITY rsaquo "‚Ä∫" &gt; <br> &lt;!ENTITY euro "‚Ç¨"&gt; <br> ]&gt; <br></strong></code> <br>      <strong>XML-</strong> .   <code>&lt;?xml version="1.0" encoding="windows-1251"?&gt;</code> . <br> <br>  XHML- <br> XSL-    XHTML- (   ).  XHTML-,  ,   <strong></strong> . <br> <br>      . <br> <br>   XHML-  ,    ,       : <br>  (   ).    -    ,      . / . <br>        HTML-: <br> <code><a href="https://habr.com/ru/post/22236/"></a> <a href="https://habr.com/ru/post/22236/"></a> <a href="https://habr.com/ru/post/22236/"></a> ... <br> <br>   <br> <br> <br> ... <br> <br>    <br> <br> ... <br> <br>   <br> <br> ... <br> <br>  <br> <br> ...</code> <br> <br>   XSL- <br>   XSL-   : <br> <code>&lt;xsl:stylesheet version = '1.0' encoding="UTF-8"?&gt; <br> &lt;xsl:template match="element"&gt; <br>   <br> &lt;/xsl:template&gt; <br> &lt;/xsl:stylesheet&gt;</code> <br> <br> : <code>&lt;xsl:stylesheet version = '1.0' encoding="UTF-8"?&gt;</code> -   <strong>XML-</strong>  .   <strong>UTF-8</strong> ( , ). <br> <code>&lt;xsl:stylesheet&gt; &lt;/xsl:stylesheet&gt;</code> -    XSL-. <br> <code>&lt;xsl:template match="element"&gt; &lt;/xsl:template&gt;</code> -       element. <br> <br>       : <br> <code>&lt;xsl:template match="element"&gt;&lt;/xsl:template&gt;</code> - ,     <strong>element</strong> .      <strong>element</strong> . <code>&lt;xsl:template match="element" mode="mode1"&gt;&lt;/xsl:template&gt;</code> - ,     <strong>element</strong>   <strong>mode1</strong> .         <strong>element</strong> . <code>&lt;xsl:template name="template-name"&gt;&lt;/xsl:template&gt;</code> -    <strong>template-name</strong> .     -  <strong>XML-</strong> . <br>           <strong>XML-</strong> (,  XML-,    item      ),      " "  : <br> <code>&lt;xsl:template match="navigation/sections/item"&gt;&lt;/xsl:template&gt;</code> <br>  ,    , ..,      ,  ,  , ..      <strong>navigation</strong> ,      <strong>navigation/sections/item</strong>     <strong>sections/item</strong> . <br> <br>    <br>  ,         -      .  ,        <strong>xsl-</strong> .            . <br> <br>       <strong>xsl</strong>    . <br> <br> ,        (       )   : <br> <strong>template_folder</strong> -    .      ,  <strong>my_template</strong> . <strong>dtd</strong> -    .   . <strong>lang</strong> -      (      ). <strong>mod</strong> -  . <br>       <strong>xsl/my_template</strong>   ,  <strong>layout.xsl</strong>  : <br> <code>&lt;?xml version="1.0" encoding="UTF-8"?&gt; <br> &lt;!DOCTYPE xsl:stylesheet SYSTEM "../dtd/entities.dtd"&gt; <br> &lt;xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform"&gt; <br> <br> &lt;xsl:template match="/node()"&gt; <br> &lt;/xsl:template&gt; <br> <br> &lt;/xsl:stylesheet&gt; <br></code> <br> : <br> <code>&lt;xsl:template match="/node()"&gt; &lt;/xsl:template&gt;</code> -    <strong>/node()</strong> ().  <strong>/node()</strong>   <strong>//document</strong> , ..      . <br> <br>   XHTML-   <code>&lt;xsl:template match="/node()"&gt;&lt;/xsl:template&gt;</code> <br> <br>        <strong>XML-</strong> .   , <strong>XSL-</strong>   <strong>XML-</strong>  <strong>XHTML-</strong>  . <br> <br> ,    <strong>XSL</strong>   <strong>template.xsl</strong> (, <strong>template</strong> -   ),     : <br> <code>&lt;?xml version="1.0" encoding="UTF-8"?&gt; <br> &lt;xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform"&gt; <br> <br> &lt;xsl:import href=" my_template /layout.xsl"/&gt; <br> &lt;/xsl:stylesheet&gt; <br></code> <br> : <br> <code>&lt;xsl:import href="my_template/layout.xsl"/&gt;</code> <br>    XSL- ( <strong>XSL-</strong> )   .     . <br> <br>       <br>       , ..     XML-    . <br> <br>   -    . <br> <br>        ,   <strong>XML-</strong>   : <br> <code><br> &lt;item id="0" parent_id="0" is_published="1" section="1"&gt; <br>  <br> / <br> <br> &lt;item id="1" parent_id="0" is_published="1" section="1" hit="yes"&gt; <br>  <br> news <br> <br></code> <br> <br> <br>      : <br>  <strong>id</strong>    <strong>document</strong> -    <strong>id</strong>  .  <strong>hit</strong>   <strong>item</strong> -   ,   ,    "  ". <br> ,  ,         : <br> <strong>sections</strong> -   . <strong>item</strong> -  . <br>  ,  ,   <strong>item</strong>     <strong>item</strong> ,   ,     : <br> <code><br> <br></code> <br> <br> 1.    xsl/my_template  navigation.xsl  : <br> <code>&lt;?xml version="1.0" encoding="UTF-8"?&gt; <br> &lt;!DOCTYPE xsl:stylesheet SYSTEM "../dtd/entities.dtd"&gt; <br> &lt;xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform"&gt; <br> <br> &lt;xsl:template match="sections" mode="global_menu"&gt; <br> &lt;/xsl:template&gt; <br> <br> &lt;/xsl:stylesheet&gt;</code> <br> <br> 2.         <strong>layout.xsl</strong> : <br> <code><a href="https://habr.com/"></a> <a href="https://habr.com/sections/"></a> <a href="https://habr.com/news/"></a> <br> &lt;xsl:template match="sections" mode="global_menu"&gt; <br>    <br> &lt;/xsl:template&gt; <br></code> <br> <br> 3. ‚Ä¶      <strong>layout.xsl</strong>     : <br> <code><br> &lt;xsl:apply-templates select="navigation/sections" mode="global_menu"/&gt; <br> <br></code> <br> : <br> <strong>select="navigation/sections"</strong> -  ( ) - .  ,     <strong>navigation/sections</strong> . <br> <br> <strong>mode="global_menu"</strong> -     <strong>global_menu</strong> .      ,        , ,  " ",  -         . <br> <br> 4. ,    layout.xsl     <strong>navigation.xsl</strong> : <br> <code>&lt;xsl:import href="navigation.xsl"/&gt;</code> <br> <br> 5. ,    <strong>navigation.xsl</strong>   ,    : <br> <code><br> &lt;xsl:template match="item" mode="global_menu"&gt; <br> &lt;xsl:call-template name="href_attribute"/&gt; <br> &lt;xsl:value-of select="title"/&gt; <br> <br> <br> &lt;/xsl:template&gt; <br> <br></code> <br> : <br> <code>&lt;xsl:call-template name="href_attribute"/&gt;</code> -    .        , ..  . <br> <br> <code>&lt;xsl:value-of select="title"/&gt;</code> - -   title  .         <strong>@</strong> -      . <br> <br> 6.    <strong>sections</strong> : <br> <code><br> &lt;xsl:template match="sections" mode="global_menu"&gt; <br> <br> &lt;/xsl:template&gt; <br> <br></code> <br> : <br> <code>&lt;xsl:apply-templates select="item" mode="global_menu"/&gt;</code> -    <strong>item</strong>  <strong>sections</strong> .  ,  <strong>item</strong>   <strong>item</strong> ( <strong>sections/item/item</strong> )   , ..      . <br> <br>     <strong>item</strong> ( )   .  ,         : <code>&lt;xsl:call-template name="href_attribute"/&gt;</code> <br> <br>      <strong>uri-</strong>    .    . <br> <br> 7.     , <br>   ,    .            <strong>item</strong> : <br> <code><br> &lt;xsl:template match="item" mode="global_menu"&gt; <br> <br> &lt;xsl:choose&gt; <br> <br> &lt;xsl:when test="descendant-or-self::*/@id = /node()/@id"&gt; <br> &lt;xsl:value-of select="title"/&gt; <br> &lt;/xsl:when&gt; <br> <br> &lt;xsl:otherwise&gt; <br> &lt;xsl:call-template name="href_attribute"/&gt; <br> &lt;xsl:value-of select="title"/&gt; <br> <br> &lt;/xsl:otherwise&gt; <br> &lt;/xsl:choose&gt; <br> <br> &lt;/xsl:template&gt; <br> <br></code> <br>      : <br> <code>&lt;xsl:choose&gt; <br> &lt;xsl:when&gt;&lt;/xsl:when&gt; <br> &lt;xsl:otherwise&gt;&lt;/xsl:otherwise&gt; <br> &lt;/xsl:choose&gt; <br></code> <br> ‚Ä¶, ,     <strong>XML-</strong> .      : <code>&lt;xsl:when test="descendant-or-self::*/@id = /node()/@id"&gt;</code> <br> <br>        <strong>ID</strong>    ( <strong>document</strong> )    ( <strong>item</strong> ),   ,    . <br> <br>   <code>&lt;xsl:when&gt;&lt;/xsl:when&gt;</code>  ,      .   <code>&lt;xsl:otherwise&gt;&lt;/xsl:otherwise&gt;</code> -    . <br> <br> 8. ,   <strong>href_attribute</strong> : <br> <code><br> &lt;xsl:template name="href_attribute"&gt; <br> &lt;xsl:attribute name="href"&gt; <br> &lt;xsl:text&gt;/&lt;/xsl:text&gt; <br> &lt;xsl:for-each select="ancestor-or-self::item"&gt; <br> &lt;xsl:value-of select="dir"/&gt; <br> &lt;xsl:text&gt;/&lt;/xsl:text&gt; <br> &lt;/xsl:for-each&gt; <br> &lt;/xsl:attribute&gt; <br> &lt;/xsl:template&gt; <br></code> <br> <br>      <strong>xsl:attribute</strong> .          .         <strong>a</strong> , ,      <strong>href</strong> , .. . <br> <br>  <code>&lt;xsl:for-each select="ancestor-or-self::item"&gt;</code>      ,  .      <strong>ancestor-or-self::item</strong> -         .           <strong>dir</strong> , ..     -. <br> <br> ,   -  ,       . ,   <a href="http://habrahabr.ru/blog/webdev/38433.html">  </a> . <br> <br> <strong>UPD:</strong> <br>   .   ,  : <br> <a href="">parser.proc.ru/iso/xslt-1.zip</a> <br> <br>        (       )           Apache. <br> <br>    XML-   /xsl/document.xml</code></code></code></code></code> </h3> <code><code><code><code><code><code>-    (   ). : <br> <strong>Lang</strong> -  .     . <strong>Id</strong> -   . <br> &lt;lang_table&gt;</code> -  ,   . <br> <code>-   : <br> -    (  ): <br> &lt;item id="0" parent_id="0" is_published="1" section="1"&gt;</code> -   . : <br> <strong>Id</strong> -  . <strong>Parent_id</strong> -   . <strong>Is_published</strong> -   . <strong>Dir</strong> - uri- .     . <strong>Section</strong> -  .         . <br> <code>-  . <br>   CMS   :        : <br> <strong>Html</strong> -  .  ,    . <strong>Com</strong> - -.  ,      CMS: , ,    .. <br>  <strong>XSL-</strong>   ,     .       . <br> <br> CMS       <strong> ,      : <br> : <br> <strong>Id</strong> -  . <br> <strong>Container</strong> - - (    ). <br> <strong>Sorting</strong> -    . <br> <strong>Type</strong> - : <br> <strong>Com</strong> - - <br> <strong>Html</strong> -  . <br> <strong>Method</strong> -  . <br> <strong>Title</strong> -  . <br> <strong>DTD</strong>     (    ): <br> &lt;!DOCTYPE site_page [ <br> <br> &lt;!ENTITY nbsp " "&gt; <br> &lt;!ENTITY sect "¬ß" &gt; <br> &lt;!ENTITY copy "¬©"&gt; <br> &lt;!ENTITY laquo "¬´"&gt; <br> &lt;!ENTITY reg "¬Æ"&gt; <br> &lt;!ENTITY deg "¬∞"&gt; <br> &lt;!ENTITY plusmn "¬±"&gt; <br> &lt;!ENTITY para "¬∂"&gt; <br> &lt;!ENTITY raquo "¬ª"&gt; <br> &lt;!ENTITY times "√ó"&gt; <br> <br> <br> <br> &lt;!ENTITY bull "‚Ä¢"&gt; <br> &lt;!ENTITY hellip "‚Ä¶"&gt; <br> <br> <br> <br> &lt;!ENTITY ndash "‚Äì"&gt; <br> &lt;!ENTITY mdash "‚Äî"&gt; <br> &lt;!ENTITY lsquo "'"&gt; <br> &lt;!ENTITY rsquo "'"&gt; <br> &lt;!ENTITY sbquo "‚Äö"&gt; <br> &lt;!ENTITY ldquo "‚Äú"&gt; <br> &lt;!ENTITY rdquo "‚Äù"&gt; <br> &lt;!ENTITY bdquo "‚Äû"&gt; <br> &lt;!ENTITY lsaquo "‚Äπ"&gt; <br> &lt;!ENTITY rsaquo "‚Ä∫" &gt; <br> &lt;!ENTITY euro "‚Ç¨"&gt; <br> ]&gt; <br></strong></code> <br>      <strong>XML-</strong> .   <code>&lt;?xml version="1.0" encoding="windows-1251"?&gt;</code> . <br> <br>  XHML- <br> XSL-    XHTML- (   ).  XHTML-,  ,   <strong></strong> . <br> <br>      . <br> <br>   XHML-  ,    ,       : <br>  (   ).    -    ,      . / . <br>        HTML-: <br> <code><a href="https://habr.com/ru/post/22236/"></a> <a href="https://habr.com/ru/post/22236/"></a> <a href="https://habr.com/ru/post/22236/"></a> ... <br> <br>   <br> <br> <br> ... <br> <br>    <br> <br> ... <br> <br>   <br> <br> ... <br> <br>  <br> <br> ...</code> <br> <br>   XSL- <br>   XSL-   : <br> <code>&lt;xsl:stylesheet version = '1.0' encoding="UTF-8"?&gt; <br> &lt;xsl:template match="element"&gt; <br>   <br> &lt;/xsl:template&gt; <br> &lt;/xsl:stylesheet&gt;</code> <br> <br> : <code>&lt;xsl:stylesheet version = '1.0' encoding="UTF-8"?&gt;</code> -   <strong>XML-</strong>  .   <strong>UTF-8</strong> ( , ). <br> <code>&lt;xsl:stylesheet&gt; &lt;/xsl:stylesheet&gt;</code> -    XSL-. <br> <code>&lt;xsl:template match="element"&gt; &lt;/xsl:template&gt;</code> -       element. <br> <br>       : <br> <code>&lt;xsl:template match="element"&gt;&lt;/xsl:template&gt;</code> - ,     <strong>element</strong> .      <strong>element</strong> . <code>&lt;xsl:template match="element" mode="mode1"&gt;&lt;/xsl:template&gt;</code> - ,     <strong>element</strong>   <strong>mode1</strong> .         <strong>element</strong> . <code>&lt;xsl:template name="template-name"&gt;&lt;/xsl:template&gt;</code> -    <strong>template-name</strong> .     -  <strong>XML-</strong> . <br>           <strong>XML-</strong> (,  XML-,    item      ),      " "  : <br> <code>&lt;xsl:template match="navigation/sections/item"&gt;&lt;/xsl:template&gt;</code> <br>  ,    , ..,      ,  ,  , ..      <strong>navigation</strong> ,      <strong>navigation/sections/item</strong>     <strong>sections/item</strong> . <br> <br>    <br>  ,         -      .  ,        <strong>xsl-</strong> .            . <br> <br>       <strong>xsl</strong>    . <br> <br> ,        (       )   : <br> <strong>template_folder</strong> -    .      ,  <strong>my_template</strong> . <strong>dtd</strong> -    .   . <strong>lang</strong> -      (      ). <strong>mod</strong> -  . <br>       <strong>xsl/my_template</strong>   ,  <strong>layout.xsl</strong>  : <br> <code>&lt;?xml version="1.0" encoding="UTF-8"?&gt; <br> &lt;!DOCTYPE xsl:stylesheet SYSTEM "../dtd/entities.dtd"&gt; <br> &lt;xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform"&gt; <br> <br> &lt;xsl:template match="/node()"&gt; <br> &lt;/xsl:template&gt; <br> <br> &lt;/xsl:stylesheet&gt; <br></code> <br> : <br> <code>&lt;xsl:template match="/node()"&gt; &lt;/xsl:template&gt;</code> -    <strong>/node()</strong> ().  <strong>/node()</strong>   <strong>//document</strong> , ..      . <br> <br>   XHTML-   <code>&lt;xsl:template match="/node()"&gt;&lt;/xsl:template&gt;</code> <br> <br>        <strong>XML-</strong> .   , <strong>XSL-</strong>   <strong>XML-</strong>  <strong>XHTML-</strong>  . <br> <br> ,    <strong>XSL</strong>   <strong>template.xsl</strong> (, <strong>template</strong> -   ),     : <br> <code>&lt;?xml version="1.0" encoding="UTF-8"?&gt; <br> &lt;xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform"&gt; <br> <br> &lt;xsl:import href=" my_template /layout.xsl"/&gt; <br> &lt;/xsl:stylesheet&gt; <br></code> <br> : <br> <code>&lt;xsl:import href="my_template/layout.xsl"/&gt;</code> <br>    XSL- ( <strong>XSL-</strong> )   .     . <br> <br>       <br>       , ..     XML-    . <br> <br>   -    . <br> <br>        ,   <strong>XML-</strong>   : <br> <code><br> &lt;item id="0" parent_id="0" is_published="1" section="1"&gt; <br>  <br> / <br> <br> &lt;item id="1" parent_id="0" is_published="1" section="1" hit="yes"&gt; <br>  <br> news <br> <br></code> <br> <br> <br>      : <br>  <strong>id</strong>    <strong>document</strong> -    <strong>id</strong>  .  <strong>hit</strong>   <strong>item</strong> -   ,   ,    "  ". <br> ,  ,         : <br> <strong>sections</strong> -   . <strong>item</strong> -  . <br>  ,  ,   <strong>item</strong>     <strong>item</strong> ,   ,     : <br> <code><br> <br></code> <br> <br> 1.    xsl/my_template  navigation.xsl  : <br> <code>&lt;?xml version="1.0" encoding="UTF-8"?&gt; <br> &lt;!DOCTYPE xsl:stylesheet SYSTEM "../dtd/entities.dtd"&gt; <br> &lt;xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform"&gt; <br> <br> &lt;xsl:template match="sections" mode="global_menu"&gt; <br> &lt;/xsl:template&gt; <br> <br> &lt;/xsl:stylesheet&gt;</code> <br> <br> 2.         <strong>layout.xsl</strong> : <br> <code><a href="https://habr.com/"></a> <a href="https://habr.com/sections/"></a> <a href="https://habr.com/news/"></a> <br> &lt;xsl:template match="sections" mode="global_menu"&gt; <br>    <br> &lt;/xsl:template&gt; <br></code> <br> <br> 3. ‚Ä¶      <strong>layout.xsl</strong>     : <br> <code><br> &lt;xsl:apply-templates select="navigation/sections" mode="global_menu"/&gt; <br> <br></code> <br> : <br> <strong>select="navigation/sections"</strong> -  ( ) - .  ,     <strong>navigation/sections</strong> . <br> <br> <strong>mode="global_menu"</strong> -     <strong>global_menu</strong> .      ,        , ,  " ",  -         . <br> <br> 4. ,    layout.xsl     <strong>navigation.xsl</strong> : <br> <code>&lt;xsl:import href="navigation.xsl"/&gt;</code> <br> <br> 5. ,    <strong>navigation.xsl</strong>   ,    : <br> <code><br> &lt;xsl:template match="item" mode="global_menu"&gt; <br> &lt;xsl:call-template name="href_attribute"/&gt; <br> &lt;xsl:value-of select="title"/&gt; <br> <br> <br> &lt;/xsl:template&gt; <br> <br></code> <br> : <br> <code>&lt;xsl:call-template name="href_attribute"/&gt;</code> -    .        , ..  . <br> <br> <code>&lt;xsl:value-of select="title"/&gt;</code> - -   title  .         <strong>@</strong> -      . <br> <br> 6.    <strong>sections</strong> : <br> <code><br> &lt;xsl:template match="sections" mode="global_menu"&gt; <br> <br> &lt;/xsl:template&gt; <br> <br></code> <br> : <br> <code>&lt;xsl:apply-templates select="item" mode="global_menu"/&gt;</code> -    <strong>item</strong>  <strong>sections</strong> .  ,  <strong>item</strong>   <strong>item</strong> ( <strong>sections/item/item</strong> )   , ..      . <br> <br>     <strong>item</strong> ( )   .  ,         : <code>&lt;xsl:call-template name="href_attribute"/&gt;</code> <br> <br>      <strong>uri-</strong>    .    . <br> <br> 7.     , <br>   ,    .            <strong>item</strong> : <br> <code><br> &lt;xsl:template match="item" mode="global_menu"&gt; <br> <br> &lt;xsl:choose&gt; <br> <br> &lt;xsl:when test="descendant-or-self::*/@id = /node()/@id"&gt; <br> &lt;xsl:value-of select="title"/&gt; <br> &lt;/xsl:when&gt; <br> <br> &lt;xsl:otherwise&gt; <br> &lt;xsl:call-template name="href_attribute"/&gt; <br> &lt;xsl:value-of select="title"/&gt; <br> <br> &lt;/xsl:otherwise&gt; <br> &lt;/xsl:choose&gt; <br> <br> &lt;/xsl:template&gt; <br> <br></code> <br>      : <br> <code>&lt;xsl:choose&gt; <br> &lt;xsl:when&gt;&lt;/xsl:when&gt; <br> &lt;xsl:otherwise&gt;&lt;/xsl:otherwise&gt; <br> &lt;/xsl:choose&gt; <br></code> <br> ‚Ä¶, ,     <strong>XML-</strong> .      : <code>&lt;xsl:when test="descendant-or-self::*/@id = /node()/@id"&gt;</code> <br> <br>        <strong>ID</strong>    ( <strong>document</strong> )    ( <strong>item</strong> ),   ,    . <br> <br>   <code>&lt;xsl:when&gt;&lt;/xsl:when&gt;</code>  ,      .   <code>&lt;xsl:otherwise&gt;&lt;/xsl:otherwise&gt;</code> -    . <br> <br> 8. ,   <strong>href_attribute</strong> : <br> <code><br> &lt;xsl:template name="href_attribute"&gt; <br> &lt;xsl:attribute name="href"&gt; <br> &lt;xsl:text&gt;/&lt;/xsl:text&gt; <br> &lt;xsl:for-each select="ancestor-or-self::item"&gt; <br> &lt;xsl:value-of select="dir"/&gt; <br> &lt;xsl:text&gt;/&lt;/xsl:text&gt; <br> &lt;/xsl:for-each&gt; <br> &lt;/xsl:attribute&gt; <br> &lt;/xsl:template&gt; <br></code> <br> <br>      <strong>xsl:attribute</strong> .          .         <strong>a</strong> , ,      <strong>href</strong> , .. . <br> <br>  <code>&lt;xsl:for-each select="ancestor-or-self::item"&gt;</code>      ,  .      <strong>ancestor-or-self::item</strong> -         .           <strong>dir</strong> , ..     -. <br> <br> ,   -  ,       . ,   <a href="http://habrahabr.ru/blog/webdev/38433.html">  </a> . <br> <br> <strong>UPD:</strong> <br>   .   ,  : <br> <a href="">parser.proc.ru/iso/xslt-1.zip</a> <br> <br>        (       )           Apache. <br> <br>    XML-   /xsl/document.xml</code></code></code></code></code> </li> </ul></div><p>Source: <a href="https://habr.com/ru/post/22236/">https://habr.com/ru/post/22236/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../22235/index.html">Tekhnobank refuses to recognize itself as a violator of the WebMoney Transfer Code</a></li>
<li><a href="../222353/index.html">Comprehensive analytics of an online project using Google Analytics and Google Docs</a></li>
<li><a href="../222355/index.html">Strategy (Translated from the English chapter of "Strategy" from the book "Pro Objective-C Design Patterns for iOS" by Carlo Chung)</a></li>
<li><a href="../222357/index.html">The digest of interesting materials from the world of web development and IT for the last week ‚Ññ108 (May 4 - 10, 2014)</a></li>
<li><a href="../222359/index.html">Simpson's Paradox in Mobile Analytics</a></li>
<li><a href="../222367/index.html">Microsoft and Adobe released a set of updates, May 2014</a></li>
<li><a href="../222371/index.html">Machu Picchu and the faraway Google office</a></li>
<li><a href="../222373/index.html">Organized freelance. Part 2. Artists</a></li>
<li><a href="../222375/index.html">Phone with new Firefox OS 1.3 for $ 100: ZTE Open C</a></li>
<li><a href="../222377/index.html">Dean Kamen's Amazing Artificial Arm</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>