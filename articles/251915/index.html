<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Trigger mailings</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Lately, email marketing is increasingly using automatic mailings to specific groups of consumers. Typical tasks: 

- happy birthday 
- call the site i...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Trigger mailings</h1><div class="post__text post__text-html js-mediator-article">  Lately, email marketing is increasingly using automatic mailings to specific groups of consumers.  Typical tasks: <ul><li>  happy birthday </li><li>  call the site if the consumer has not visited him for a long time </li><li>  make a personalized offer (divide customers into segments and send each letter its own segment) </li></ul><br>  In this article, we will describe how we solved this task - from writing each individual mailing by the developer from scratch 3 years ago, to the institution being sent by the manager via the web interface at the present time.  The story may be interesting not only to those involved in email marketing, but also to everyone who has to implement the periodic execution of complex operations on certain consumer samples (I know that sounds very abstract, but in the end we had to solve just this abstract problem). <br><br><habracut><h4>  <b>First implementations</b> </h4>  3 years ago, similar tasks arose extremely rarely and every time we implemented them from scratch.  In this case, the same questions arose: <ol><li>  How to tag consumers to whom we have already sent this letter? </li><li>  How to quickly process all consumers and not slow down the work of sites (which access the same records in the database)? </li></ol><br>  The answer to the first question was obvious for us: information is stored in our system about all significant actions performed by the consumer (logging in to the site, changing personal data) or above it (drawing a prize, sending a notification).  In addition, we use actions for a variety of technical notes of consumers.  So when sending an automatic mailing, we also decided to give the consumer a special <b>action-marker</b> , as a mark, that this automatic mailing had already been sent to him.  In order not to re-send the newsletter, the condition ‚Äúthe consumer has no token action‚Äù is always added to the distribution condition. <br><br>  On the second question, we stuffed a lot of cones associated with locks in the database, and eventually came up with the following pattern: <ol><li>  Sending mailings comes from the windows-service, which periodically checks to see if there are new consumers that fit the conditions. </li><li>  In the service, the first step is a single query to the database with the <b>Read Uncommitted</b> isolation <b>level</b> .  This request pulls out the Id of all consumers who need to send a letter.  Due to the low isolation level, such a request does not impose locks on the records in the database and, as a result, has a very weak effect on the operation of the site.  However, it does not guarantee the purity of the data and must be re-checked with a higher level of isolation. </li><li>  After we pulled out Id consumers, for each consumer we perform a separate transaction with a <b>Serializable</b> isolation level.  In this transaction, we re-check whether the consumer is suitable for the conditions and, if so, send him a letter and issue an action marker.  Since we process each consumer in a separate transaction, locks are imposed only on the data of one consumer and do not affect the work of other consumers.  Since such a transaction is very short, the consumer, to whom the letter is sent, will also have no special problems if he walks the site at this time.  The isolation level of a transaction must be Serializable, in order not to inadvertently send one letter twice, or not send a letter to the consumer who suddenly ceased to meet the conditions.  Although, if we guarantee that sending the same mailing can only come from one stream and from one server, and also forget about the small probability that two mailings can be sent to one consumer with mutually exclusive conditions, you can use the <b>Read Committed</b> transaction . </li></ol><br>  Of course, after the implementation of several mailings on this template, we decided to render the template code.  For this, the <b>BatchMailing</b> class was created, and for each new mailing we created and registered it in a special registry of its successor.  In the successor, it was necessary to overload the following properties and methods: <ul><li>  <b>template of action-marker</b> (earlier we called the template the type of action: I think this is a more understandable term for developers), which is issued when sending a letter </li><li>  sending method </li><li>  a method that performs additional actions (for example, together with sending birthday wishes, we can issue points to the consumer) </li><li>  the method that forms the <b>Expression &lt;Func &lt;Customer, bool &gt;&gt;</b> , which checks that the consumer fits the condition </li></ul><br>  The property and the first two methods never caused any problems, but compiling the <b>Expression</b> was not quite easy.  This Expression was used twice - first in the Read Uncommitted request to pull the consumer Id, and then in the Serializable transaction, to re-check whether the consumer fits the condition.  You had to write it in such a way that <b>Linq to SQL</b> could translate it into T-SQL.  Conditions could be quite complicated and they always had problems.  Not one newsletter could not start without writing a handful of tests on it.  In addition, for sending SMS and email, we have got different intermediate heirs from BatchMailing.  When we had to send both email and SMS, we had to copy-paste.  I had ideas on how to fix this, but since automatic mailings were not so often requested by customers, this was a low-priority task. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h4>  <b>Replace inheritance with composition</b> </h4>  2 years ago, when developing a new advertising campaign, a client asked him to make 8 different automatic mailings at once.  In this part of the conditions in the mailings were repeated.  There was no doubt that it was impossible to live like this anymore, and I took up the rewriting of our architecture.  In order to cope with all the problems described above, it was enough to apply our favorite technique: replacing inheritance with composition.  This technique helped us so many times that I advise you to use composition instead of inheritance wherever possible (or at least consider this option).  If you create a base abstract class with the idea ‚Äúfor each specific task I will have a successor overloading methods and properties,‚Äù immediately ask yourself ‚Äúwhy would I not instead register an instance of a class for each task, passing it different settings‚Äù.  And only if you are sure that the composition is not suitable here, use inheritance.  If this and that is suitable, always lean towards the composition - this is how a much more flexible and understandable architecture turns out. <br><br>  In our situation: <ul><li>  instead of overloading the property that returns the marker action template, this property is set to the class instance </li><li>  instead of overloading the sending / sms methods and performing additional logic, an arbitrary operation is placed on the class instance that needs to be performed on the consumer.  The operation can be a combination of other operations. </li><li>  instead of overloading the method of forming Expression, a condition is put to the class instance.  In this case, conditions can be combined through AND / OR </li></ul><br>  Since, apart from sending mailings, this entity can now perform any arbitrary operations on the consumer, it is incorrect to call it a mailing list.  In fact, this is a class that does some abstract work on a given sample of consumers.  Not inventing anything better, we began to call it <b>triggers</b> (in marketing they are called something like this, so the name is not bad).  Frankly speaking, I was a little bit scared by the fact that I introduced a very abstract entity into the system, which can be called <b>DoSomeWorkOnSomeCustomers</b> .  But there was no point in specializing triggers, so I decided not to bother about it, and in principle there are no big problems for clients with understanding what a trigger is. <br><br>  The registration of the trigger looked something like this: <pre><code class="hljs lisp">Add(<span class="hljs-name"><span class="hljs-name">new</span></span> Trigger(‚Äú       one-to-one‚Äù) { MarkerActionTemplateSystemName = ‚ÄúInvitationMarker‚Äù, TriggerAction = new TriggerActionCombination( <span class="hljs-name"><span class="hljs-name">new</span></span> GeneratePasswordForCustomerTriggerAction(), new SendEmailTriggerAction(‚ÄúInvitationMailing‚Äù)), TriggerCondition = new AndTriggerConditionSet( <span class="hljs-name"><span class="hljs-name">new</span></span> CustomerHasSubscripionCondition(), new CustomerHasEmailTriggerCondition(), new CustomerHadFirstActionOverChannelCondition(‚ÄúOneToOne‚Äù)), })<span class="hljs-comment"><span class="hljs-comment">;</span></span></code> </pre> <br>  <b>TriggerAction's</b> interface is extremely simple: <pre> <code class="hljs cs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">interface</span></span> <span class="hljs-title"><span class="hljs-title">ITriggerAction</span></span> { <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Execute</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params"> ModelContext modelContext, //      Customer customer</span></span></span><span class="hljs-function">)</span></span>; }</code> </pre><br>  The base class for trigger conditions is as follows: <pre> <code class="hljs pgsql"><span class="hljs-built_in"><span class="hljs-built_in">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> TriggerCondition { private readonly Func&lt;ModelContext, Expression&lt;Func&lt;Customer, <span class="hljs-type"><span class="hljs-type">bool</span></span>&gt;&gt;&gt; triggerExpressionBuilder; <span class="hljs-built_in"><span class="hljs-built_in">public</span></span> TriggerCondition(Func&lt;ModelContext, Expression&lt;Func&lt;Customer, <span class="hljs-type"><span class="hljs-type">bool</span></span>&gt;&gt;&gt; triggerExpressionBuilder) { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (triggerExpressionBuilder == <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>) throw <span class="hljs-built_in"><span class="hljs-built_in">new</span></span> ArgumentNullException("triggerExpressionBuilder"); this.triggerExpressionBuilder = triggerExpressionBuilder; } <span class="hljs-built_in"><span class="hljs-built_in">public</span></span> Expression&lt;Func&lt;Customer, <span class="hljs-type"><span class="hljs-type">bool</span></span>&gt;&gt; GetExpression(ModelContext modelContext) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> triggerExpressionBuilder(modelContext, brand); } //   <span class="hljs-keyword"><span class="hljs-keyword">Read</span></span> <span class="hljs-keyword"><span class="hljs-keyword">Uncommitted</span></span>    c Id ,    <span class="hljs-built_in"><span class="hljs-built_in">public</span></span> IQueryable&lt;Customer&gt; ChooseCustomers(ModelContext modelContext, IQueryable&lt;Customer&gt; customers) { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (modelContext == <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>) throw <span class="hljs-built_in"><span class="hljs-built_in">new</span></span> ArgumentNullException("modelContext"); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (customers == <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>) throw <span class="hljs-built_in"><span class="hljs-built_in">new</span></span> ArgumentNullException("customers"); var expression = GetExpression(modelContext); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> customers.<span class="hljs-keyword"><span class="hljs-keyword">Where</span></span>(expression).ExpandExpressions(); } //   <span class="hljs-keyword"><span class="hljs-keyword">Serializable</span></span> ,  ,        <span class="hljs-built_in"><span class="hljs-built_in">public</span></span> <span class="hljs-type"><span class="hljs-type">bool</span></span> ShouldTrigger(ModelContext modelContext, Customer customer) { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (modelContext == <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>) throw <span class="hljs-built_in"><span class="hljs-built_in">new</span></span> ArgumentNullException("modelContext"); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (customer == <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>) throw <span class="hljs-built_in"><span class="hljs-built_in">new</span></span> ArgumentNullException("customer"); var expression = GetExpression(modelContext); //      expression.Evaluate(customer), //              <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> modelContext.Repositories.<span class="hljs-keyword"><span class="hljs-keyword">Get</span></span>&lt;CustomerRepository&gt;().Items .<span class="hljs-keyword"><span class="hljs-keyword">Where</span></span>(aCustomer =&gt; aCustomer == customer) .<span class="hljs-keyword"><span class="hljs-keyword">Where</span></span>(aCustomer =&gt; expression.Evaluate(aCustomer)) .ExpandExpressions() .<span class="hljs-keyword"><span class="hljs-keyword">Any</span></span>(); } }</code> </pre>  For frequently used conditions, we created successors from <b>TriggerCondition</b> , in which a specific Expression was built depending on the parameters passed to the constructor. <br><br><h4>  <b>All tired, start your own triggers</b> </h4>  Using the architecture described above, we wound up the trigger in less than half an hour, by combining the conditions already written and the TriggerActions.  However, this was not enough for us.  The next step we wanted to completely eliminate the developers from the trigger establishment process.  And in general I understood how to do it in a couple of months after the implementation of the previous version of the architecture.  The conditions of the triggers were one to one similar to the <b>filters</b> that we use in the admin panel.  Our filter system allows you to describe complex conditions, including requests for related entities, and also allows you to combine them through AND / OR.  The filter forms an Expression, with the help of which you can already filter out entities in the database.  And for all this, UI and serialization have already been written.  It only remained to add a couple of filters that are often needed for triggers, but did not make sense during normal work with the list of consumers (for example: ‚ÄúN days have passed since the action‚Äù).  For TriggerActions, you had to write a UI and a structure for storing them in the database, but here, too, in general, everything was clear.  However, there were still some minor issues that had to be broken over: <ul><li>  By this time we began to register sending any letter as an action, and the marker action became superfluous - we could already determine to whom we sent the letter, and generally we would like to get rid of issuing unnecessary actions wherever possible. </li><li>  In addition to simple triggers that performed a specific set of operations once on each consumer, we had <b>periodic triggers</b> .  It was necessary to think up how to transfer all this to the database and at the same time allow the use of <b>arbitrary markers</b> </li><li>  marketers invent triggers not separately from each other, but as <b>chains</b> in which there are both triggers and operations performed by the consumer on the site (a letter inviting you to visit the site and do something ‚Üí the consumer performs several operations on the site ‚Üí bonus points are added and sent a letter about it).  I would like to, if not implement it immediately, then leave a reserve for the future, so that it is not difficult to describe the dependencies between triggers and operations </li></ul>  All these three problems are related to how we determine whether the trigger is executed on the consumer or not.  If you start your own marker for each trigger and operation on the site, the task is greatly simplified, but I really didn‚Äôt want to produce unnecessary actions in the system.  There was even an idea to force managers to create a filter in such a way that it would be fully responsible for whether it is possible to perform an action on the consumer now (and, accordingly, the trigger repetition rate would be described by the condition in the filter), but this approach is too error prone.  After long painful reflections, I still had an idea how to track the execution of triggers without additional entities and without complicating the work of the manager. <br><br><h4>  <b>Need more Expression</b> </h4>  Since the trigger performs an abstract <b>operation step</b> (formerly TriggerAction) on the consumer, and almost always this operation step is unique (for example, a certain letter is sent or a certain prize is issued only from this trigger), then this step can be used to check whether the checking algorithm has been executed.  Since the trigger can have several steps of the operation, the manager will have to choose which of them is a <b>marker</b> (it makes no sense to check the performance of each step).  However, it is easy to implement a method in the operation step that returns <b>Expression &lt;Func &lt;Customer, bool &gt;&gt;</b> it is impossible, since in each operation step one Expression for one-time triggers and the other for periodic ones would have to be formed.  Here we are saved by the fact that almost any operation on a user in our system gives him an action.  Accordingly, the operation step can filter out the actions that were issued to them.  Most steps of an operation produce a specific action and for them the method that forms the Expression for filtering actions looks like this: <pre> <code class="hljs cs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">sealed</span></span> <span class="hljs-keyword"><span class="hljs-keyword">override</span></span> Expression&lt;Func&lt;CustomerAction, <span class="hljs-keyword"><span class="hljs-keyword">bool</span></span>&gt;&gt; GetIsMarkerExpression(ModelContext modelContext) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> action =&gt; action.ActionTemplateId == ActionTemplateId; }</code> </pre><br>  But, for example, in the step that gives out the prize, it looks like this: <pre> <code class="hljs pgsql"><span class="hljs-built_in"><span class="hljs-built_in">public</span></span> override Expression&lt;Func&lt;CustomerAction, <span class="hljs-type"><span class="hljs-type">bool</span></span>&gt;&gt; GetIsMarkerExpression(ModelContext modelContext) { IQueryable&lt;anchor&gt;habracut&lt;/anchor&gt; customerPrizes = modelContext.Repositories.<span class="hljs-keyword"><span class="hljs-keyword">Get</span></span>&lt;CustomerPrizeRepository&gt;().GetByPrizes(Prize); //  ,      <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> action =&gt; customerPrizes.<span class="hljs-keyword"><span class="hljs-keyword">Any</span></span>(prize =&gt; prize.CustomerActionId == action.Id); }</code> </pre><br>  Also, I again applied my favorite replacement of inheritance to composition and instead of individual heirs for periodic and one-time triggers I made a strategy that checks whether the execution of the trigger should be repeated on the current consumer.  This strategy takes <b>Expression &lt;Func &lt;CustomerAction, bool &gt;&gt;</b> from the marker step of the trigger and forms <b>Expression &lt;Func &lt;Customer, bool &gt;&gt;</b> using it, for additional checking whether it is necessary to execute the trigger on the consumer.  Here is the implementation for a one-time trigger: <pre> <code class="hljs pgsql"><span class="hljs-built_in"><span class="hljs-built_in">public</span></span> override Expression&lt;Func&lt;Customer, <span class="hljs-type"><span class="hljs-type">bool</span></span>&gt;&gt; BuildShouldRepeatExpression(ModelContext modelContext, Expression&lt;Func&lt;CustomerAction, <span class="hljs-type"><span class="hljs-type">bool</span></span>&gt;&gt; isMarkerExpression) { var markerActions = modelContext.Repositories.<span class="hljs-keyword"><span class="hljs-keyword">Get</span></span>&lt;CustomerActionRepository&gt;().Items .<span class="hljs-keyword"><span class="hljs-keyword">Where</span></span>(isMarkerExpression.ExpandExpressions()); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> customer =&gt; !markerActions.<span class="hljs-keyword"><span class="hljs-keyword">Any</span></span>(action =&gt; action.Customer == customer); }</code> </pre><br>  But for periodic: <pre> <code class="hljs javascript">public override Expression&lt;Func&lt;Customer, bool&gt;&gt; BuildShouldRepeatExpression( ModelContext modelContext, Expression&lt;Func&lt;CustomerAction, bool&gt;&gt; isMarkerExpression) { <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> isInPeriodExpression = PeriodType.BuildIsInPeriodExpression(modelContext, PeriodValue); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> markerActions = modelContext.Repositories.Get&lt;CustomerActionRepository&gt;().Items .Where(isMarkerExpression.ExpandExpressions()); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> markerActionsInPeriod = markerActions.Where(isInPeriodExpression.ExpandExpressions()); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (MaxRepeatCount == <span class="hljs-literal"><span class="hljs-literal">null</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">customer</span></span></span><span class="hljs-function"> =&gt;</span></span> !markerActionsInPeriod.Any(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">action</span></span></span><span class="hljs-function"> =&gt;</span></span> action.Customer == customer); } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">customer</span></span></span><span class="hljs-function"> =&gt;</span></span> !markerActionsInPeriod.Any(<span class="hljs-function"><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">action</span></span></span><span class="hljs-function"> =&gt;</span></span> action.Customer == customer) &amp;&amp; markerActions.Count() &lt; MaxRepeatCount.Value; } }</code> </pre>  It supports not only once every N days, but also once a calendar month / year, so Expression, which checks whether an action is in a given period, has been moved to a special class, PeriodType.  Also supported by limiting the number of repetitions. <br><br>  Storage scheme of all this stuff in the database looks like this: <img src="//habrastorage.org/files/50f/c0e/4b1/50fc0e4b1ea0494096a3001cb3130b66.png"><br><br>  The essence of OperationStepGroup with one field looks rather strange, but it allows different entities (triggers, operations on the site, etc.) to refer to a group of records in a relational database.  Moreover, later in this entity additional fields appeared, so that everything is not so scary. <br><br>  In addition to getting rid of unnecessary marker action patterns, we can use the <b>IsMarkerExpression</b> obtained from the <b>marker step of the</b> trigger in order to display statistics on the number of trigger events.  We can also add chains of triggers and operations (in operations, steps are also used, one of which is marked as marker). <br><br>  As a result, the manager can start a trigger directly in the admin panel without the developer‚Äôs participation, although they often have to prompt: the establishment of a new trigger is not an easy task, but such is the price for the flexibility of this solution.  A simpler solution would be less flexible, although we, of course, will have to work a lot more to simplify the UI without losing the current flexibility of our architecture (for example, you can make Wizards for simple triggers). <br><br>  How it all looks in the UI, you can see <a href="http://blog.directcrm.ru/%3Fgo%3Dall/zavedenie-triggerov-dlya-kampaniy-v-sisteme-administrirovaniya/">here</a> . </habracut></div><p>Source: <a href="https://habr.com/ru/post/251915/">https://habr.com/ru/post/251915/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../251901/index.html">How I went to study in Singapore for free</a></li>
<li><a href="../251903/index.html">What is the difference between a crow and a desk? Or the difference between "their" modules and "our" components.</a></li>
<li><a href="../251907/index.html">All on schedule: how to monitor user activity on the main Mail.Ru helps to live and solve problems</a></li>
<li><a href="../251909/index.html">Cousera is open to sign up for web development courses on Ruby on Rails "Web Application Architectures"</a></li>
<li><a href="../251913/index.html">Welcome to Moscow.pm on March 5</a></li>
<li><a href="../251917/index.html">Crucial moment. Bank of England makes its bitcoin</a></li>
<li><a href="../251919/index.html">Big pitfalls of a small controller</a></li>
<li><a href="../251921/index.html">New server park Fujitsu</a></li>
<li><a href="../251923/index.html">Cubieboard customization highlights with linux</a></li>
<li><a href="../251927/index.html">PHP and Erlang interaction through RabbitMQ</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>