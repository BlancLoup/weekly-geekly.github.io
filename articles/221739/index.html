<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>We try native Inferno OS on Raspberry Pi</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="I present the working port of Inferno OS for Raspberry Pi . 



 For quite a long time, it was not so easy to try Inferno OS as a ‚Äúnative‚Äù OS and not ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>We try native Inferno OS on Raspberry Pi</h1><div class="post__text post__text-html js-mediator-article">  I present the working port of <a href="http://lynxline.com/projects/labs-portintg-inferno-os-to-raspberry-pi/">Inferno OS for Raspberry Pi</a> . <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/ce0/1b8/29d/ce01b829d09ab5de6ad101c84aa87c79.png" width="250"></div><br><br>  For quite a long time, it was not so easy to try Inferno OS as a ‚Äúnative‚Äù OS and not in the ‚Äúhosted‚Äù mode when the system is launched as a process on Linux / Windows / MacOS / Plan9.  The main problem is the lack of a wide range of drivers for the main platforms and the easily accessible ‚Äúhosted‚Äù mode. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      First, it probably costs a little to open the veil and say what Inferno OS is and how good it is (The first thing they ask in the comments! On Habr√©, there has long been an excellent cycle of Russian-language articles from powerman: <a href="http://habrahabr.ru/search/%3Fq%3D%5Binferno%5D%26target_type%3Dposts">list</a> , also his <a href="http://powerman.name/Inferno/">blog</a> ). <br><br><h6>  Everything is a file </h6><br><a name="habracut"></a>  Inferno OS system is the ideological successor of Plan9, so the simple concept is clear: everything is a file.  That is, the notion of API in some sense can be omitted.  For example, the TCP stack is virtual files, interacting with which new connections are opened, and data is transmitted via writing / reading files.  Environment variables - directory / env where files are environment variables, and so on ... <br><br><h6>  Namespaces </h6><br>  Each process can create its own environment for itself and its descendants - do you need a sandbox implementation without a network for applications?  - simply removes / net from the environment of certain descendant processes.  Since all interaction with the system, other applications and the environment is done through synthetic files, then by juggling with the environment of applications, you can implement a diametric approach to application development - it‚Äôs not the application that tries to adjust to the platform by analyzing the environment, hardware, software, but rather the system allows you to customize the environment applications. <br><br><h6>  Dis, virtual machine and platform-independent bytecode </h6><br>  Dis is a rather interesting byte-code that ‚Äúimplements‚Äù the processor without registers, that is, asm commands of the Dis are commands of the form mov mem1, mem2;  add mem1, mem2, mem3;  The transmission of such commands (JIT) is very fast and efficient, since each Dis instruction corresponds to only a couple of commands of the platform processor.  There is even a project to translate java bytecode to bytecode Dis.  In terms of performance, the lag behind the same C program in the tests was shown as only 1.6-2 times (I want to reproduce such testing soon to confirm the results) <br><br><h6>  Security </h6><br>  The system of access checks as a result boils down to managing access to files - the headache of checking hundreds of different APIs for vulnerabilities disappears.  This does not mean the absence of vulnerabilities, but provides a significant simplification of the security system as a whole. <br><br><h6>  Programming applications using the concept of <a href="https://en.wikipedia.org/wiki/Communicating_sequential_processes">Communicating sequential processes</a> </h6><br>  When programming applications for Inferno OS, light threads are used, channels - everything with which Go came.  But unlike Go and Erlang and the like, there is a fundamental opportunity to turn any application channel into a synthetic file.  As a result, each multi-threaded application is easily split into separate processes, applications, and, if necessary, easily transferred to different hosts.  That is why the main practice of writing applications is not a ‚Äúunixed‚Äù unix-style application that expects <i>stdin</i> , processes data and outputs results to <i>stdout,</i> but a file server-style application that has virtual (synthetic) files for incoming data, controls and virtual files for output. <br><br><h6>  Universal Network Interaction Protocol - <a href="https://ru.wikipedia.org/wiki/9P">9p / Styx</a> </h6><br>  A very simple and effective protocol for organizing the connection of various components.  Only one design feature - sensitivity to delays. <br><br><h5>  If Inferno OS is so good and easy to run in ‚Äúhosted‚Äù mode, then why do we need the ‚Äúnative‚Äù version? </h5><br>  Here is the most interesting point: in the last couple of years, interest in the Inferno OS has awakened, but not as a user system but as a system for use in the ‚ÄúInternet of things‚Äù infrastructure.  Oddly enough, it is precisely inferno as a compact operating system with a universal 9p / styx protocol for access to everything and managing everything and a universal Dis code is ideal for embedding and using in this niche. <br><br>  Many SoCs now have what can be called an ‚Äúexcess‚Äù of computing power for the tasks for which they are intended.  Therefore, technologies such as Dis / Limbo / Styx have an advantage even at lower performance than C counterparts. Plus, there is always a simple opportunity to bring the ‚Äúcomputational‚Äù part to the C-level of the core.  But 9p / Styx makes it easy to implement the interaction and integration of dozens and more inferno-devices into smart networks, it is easy to forward calculations between devices and so on ... <br><br><h5>  Now about the port itself. </h5><br>  The port was launched slowly and more just for fun.  And I did not expect that it will result in a full-fledged port.  The main goal that I set is to document the porting process in the form of a <a href="http://lynxline.com/projects/labs-portintg-inferno-os-to-raspberry-pi/">lab in</a> order to simplify the adaptation of the system to new chips as much as possible.  After receiving ‚ÄúSpherical Inferno in Vacuum‚Äù (season 1, no drivers at all, but with timers for switching processes, etc.), it turned out that a lot of drivers can be easily adapted from the Plan9 project for Pi (9pi) - it took the second season and brought the port to state to run fully on the RPi with the network, keyboard, mouse and graphical environment. <br><br>  It turned out that porting the system to another ARM chip is pretty easy. <br><br>  As a result, there is now an easy opportunity to sample and study Inferno OS exactly as a ‚Äúnative‚Äù system on iron.  Since the system is very compact, the code is easy to learn (part of the code is shared with Plan9), this operating system is easily modifiable just for research tasks (I have a couple of hot ideas!).  I think many researchers in the field of operating systems will be interested. <br><br>  Ps.  For some time this wasp was said to be forgotten.  Many architectural solutions in this system turned out to be ahead of their time and simply unclaimed.  Now it seems the situation is changing with the advent of "internet of things". <br><br><h5>  Recommended reading: </h5><br>  1. Inferno Programming with Limbo.  Phillip Stanley-Marbell. <br>  2. Principles of Operating Systems: Design &amp; Applications.  Brian L. Stuart <br>  3. Communicating Sequential Processes.  Hoare, CAR </div><p>Source: <a href="https://habr.com/ru/post/221739/">https://habr.com/ru/post/221739/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../221723/index.html">No one can handle errors</a></li>
<li><a href="../221727/index.html">Last day of registration for the all-Ukrainian UA Web Challenge VI championship for front-end developers</a></li>
<li><a href="../221733/index.html">What is the difference between factory and provider in AngularJS (on fingers)</a></li>
<li><a href="../221735/index.html">Imagine Cup 2014, as it was or a three-year path to the final</a></li>
<li><a href="../221737/index.html">Mediabox</a></li>
<li><a href="../221741/index.html">Entering passwords when building projects using gradle</a></li>
<li><a href="../221743/index.html">Python-digest # 25. News, interesting projects, articles and interviews [April 28, 2014 - May 4, 2014]</a></li>
<li><a href="../221745/index.html">IPv6 in Cisco or the future is near (Part 1)</a></li>
<li><a href="../221751/index.html">Highscreen Zera S - a compact smartphone with a 4.5 "screen</a></li>
<li><a href="../221753/index.html">Manual molecular scanner SCiO analyzes the composition of food and drugs</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>