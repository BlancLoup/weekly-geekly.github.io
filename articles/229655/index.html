<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Building React reliable web applications: Part 1, browser prototypes</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Translation of the article ‚ÄúBuilding robust web apps with React: Part 1, in-browser prototypes‚Äù, Matt Hinchliffe 

 From the translator: this is the f...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Building React reliable web applications: Part 1, browser prototypes</h1><div class="post__text post__text-html js-mediator-article">  Translation of the article ‚ÄúBuilding robust web apps with React: Part 1, in-browser prototypes‚Äù, Matt Hinchliffe <br><br>  From the translator: this is the first article from the series ‚ÄúBuilding robust web apps with React‚Äù. <br>  Translations: <br><ul><li>  Building React reliable web applications: Part 1, browser prototypes </li><li>  <a href="http://habrahabr.ru/post/229853/">Building Reliable Web Applications with React: Part 2, Optimization with Browserify</a> </li><li>  <a href="http://habrahabr.ru/post/229987/">Building React reliable web applications: Part 3, testing with Jasmine</a> </li><li>  <a href="http://habrahabr.ru/post/230269/">Building Reliable Web Applications with React: Part 4, Server Generation</a> </li></ul><br><br>  When I look at how the browsers and protocols on which the web works are arranged, I feel somehow anxious.  There is so much that can and usually goes wrong, which makes it amazing how at least something of what we write works at all.  Reliability ‚Äúagainst all odds‚Äù comes from resiliency and backward compatibility, which are rooted in key parts of the web stack.  The browser will always do everything possible to display something useful, whether it is parsing a poorly written document in which it is impossible to get dependencies, or which is obsolete for 10 years. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <img src="https://habrastorage.org/getpro/habr/post_images/03e/9ea/eee/03e9eaeee551616cb53eff147ccf5b68.jpg" alt="image"><br>  <a href="http://www.404pagefound.com/">404PageFound</a> contains still working sites created back in 1993. <br><a name="habracut"></a><br>  It seems to me that this fundamental property of the web is forgotten.  We, as developers, are striving more and more to meet the expectations set by other platforms.  We are especially jealous of the mobile development environment, we also want to build dynamic and flexible applications.  There are a lot of amazingly smart people who, right now, are creating applications that allow us to do this, now there really is a wonderful time to work in this industry.  However, I do not think the current toolkit is;  Angular, Ember, Knockout and others. This is what the future of browser development is about, because they are not inherently reliable. <br><br><blockquote>  I‚Äôm worried that I‚Äôm seeing sites that make JavaScript the cornerstone of content at the moment and for the future.  This is the construction of the base on the most fragile part of the stack. </blockquote>  - Jeremy Keith, <a href="https://www.youtube.com/watch%3Fv%3DpguQjFFgB68">Time (Full Frontal 2013)</a> <br><br>  The added complexity and burden we place on the browser means that the user may not see anything, even if there is a minimal problem.  This problem is not so much the above-mentioned tools, as in the modern approach of building websites;  <a href="https://twitter.com/scottjehl/status/433694821497438209">empty body tag on the page is simply not allowed</a> .  Our sites should be at least <i>accessible</i> when they are requested using a crappy connection or running in an old browser.  We have to realize the fact that the web browser is not at all the working environment of the smartphone, because there is so much that we can not control! <br><br><img src="https://habrastorage.org/getpro/habr/post_images/231/fa1/09f/231fa109f573634231ab4efd5151d752.jpg" alt="image"><br>  The main <a href="http://squarespace.com/">Squarespace</a> page hides all content, relying on JavaScript to handle its visibility. <br><br>  I‚Äôm not here to preach the <a href="http://ru.wikipedia.org/wiki/%25D0%259B%25D1%2583%25D0%25B4%25D0%25B4%25D0%25B8%25D1%2582%25D1%258B">Ludit</a> philosophy, I really don‚Äôt want to say that we have to design pages in pure HTML.  We can definitely overcome the fragility that we introduce on our sites, but to do this, we need to rethink some of the techniques that we use, and for there are some interesting tools, my favorite of them, is the React library from Facebook and Instagram developers . <br><br>  React is awesome because it provides a new way to build and deliver interactive interfaces.  React provides simple tools for creating <a href="http://blog.getify.com/adaptive-hybrid-javascript/">adaptive hybrid</a> or <a href="http://nerds.airbnb.com/isomorphic-javascript-future-web-apps/">isomorphic</a> web applications.  Initial HTML can be generated on the server (without any brainless browser tricks) for React to be reasonably presented after loading the browser. <br><br>  React is not an MV-whatever framework, it only handles the 'presentation', but not the usual patterns.  React views are not just pieces of text that need to be dumped onto the page, this is a lightweight, intermediate representation of the DOM, a technique better known as the ‚Äúvirtual DOM‚Äù. <br><br>  Using an intermediary, instead of reading and modifying this model of the document, allows <a href="http://calendar.perfplanet.com/2013/diff/">the difference algorithm to</a> count the least number of steps necessary to redraw the state.  This is combined with other productivity-accelerating things, such as a sensible delegation of events and <a href="http://wilsonpage.co.uk/preventing-layout-thrashing/">batch DOM updates,</a> and makes React amazingly fast. <br><br>  React allows applications to be written expressively ‚Äì interactive by default, but also returns reliability to dynamic websites.  This is reasonable and makes only a small, if any, fine in performance. <br><br><h4>  Sample application </h4><br>  An example I‚Äôm going to create is a dispatch board for London Underground stations using the TrackerNet API or ‚ÄúTube Tracker‚Äù, for short. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/ad5/5db/e8e/ad55dbe8ea6dd042f67182b3d8751b79.png" alt="image"><br><br>  This application has only four states: the display of greetings, download or error message and the display of sending trains from the station.  For a certified production level developer, an application can be represented by the following diagram: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/e0c/039/222/e0c039222cb5b81921ced2437645232d.png" alt="image"><br><br>  Instead of going through the process of writing an application line by line, I will explain a few basic things and processes that are useful when you first use React. <br><br><blockquote>  The TrackerNet API is a product of the past era, it is poorly documented and lacks data on stations and entire branches.  Problems with TrackerNet were <a href="http://www.qwghlm.co.uk/2012/03/06/why-it-took-me-five-months-to-write-whensmytube/">well described by Chris Applegate</a> and solved in his open source project <a href="https://github.com/qwghlm/WhensMyBus">When's My Transport</a> .  Fortunately, it seems that its old API <a href="http://api.beta.tfl.gov.uk/">will be replaced soon</a> . </blockquote><br><h4>  Fast browser prototyping </h4><br>  React applications can be quickly prototyped in the browser without any preparation.  I prefer to write my components using the optional JSX syntax, which will allow them to be written very similar to the HTML syntax.  If it seems to you that embedding HTML in JavaScript is wrong, this can be understood, given the years of their separation, but for me it turned out to be a more productive approach, and it makes visualization easier than using pure JavaScript.  Connecting a React and JSX Transformer (available on Facebook CDN) is all you need to get started: <br><pre><code class="html hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">html</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">head</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">title</span></span></span><span class="hljs-tag">&gt;</span></span>My React App<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">title</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">src</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"http://fb.me/react-0.9.0.js"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="undefined"></span><span class="hljs-tag"><span class="undefined"></span><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">src</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"http://fb.me/JSXTransformer-0.9.0.js"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="undefined"></span><span class="hljs-tag"><span class="undefined"></span><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">head</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">body</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"text/jsx"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="actionscript"><span class="actionscript"> </span><span class="hljs-comment"><span class="actionscript"><span class="hljs-comment">/** @jsx React.DOM */</span></span></span><span class="actionscript"> </span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">body</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">html</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br><blockquote>  Setting the <code>type</code> attribute of the script element to anything other than <code>text/javascript</code> allows non-JavaScript data to be embedded on the page.  Since the script element is not intended for the user, it does not have a visual display on the page. </blockquote><br><h4>  Component Hierarchy </h4><br>  React applications are assembled from components organized into a hierarchy.  The easiest way to plan the application architecture is to work out the responsibilities for each part of the interface and draw blocks for them.  Ideally, each component <a href="http://en.wikipedia.org/wiki/Single_responsibility_principle">should process only one thing</a> , so that the complex components are divided into smaller sub-components. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/813/a92/3b1/813a923b170d08a6ebaa731c50986cbd.png" alt="image"><br><br>  Our framework can be organized into the following hierarchy: <br><ul><li>  <code>TubeTracker</code> contains an application <br><ul><li>  <code>Network</code> displays every line on the network. <br><ul><li>  <code>Line</code> displays stations on line. </li></ul><br></li><li>  <code>Predictions</code> controls the status of the send board <br><ul><li>  <code>DepartureBoard</code> displays the current station and platforms </li></ul><br></li></ul><br></li></ul><h4>  Properties and condition </h4><br>  React has two types of data;  ‚ÄúProperties‚Äù passed between components and ‚Äústate‚Äù that is stored inside the component.  A component can change state, but its properties do not change, which is good, because, ideally, there should be only one source of truth.  A key architectural solution when designing a React application is deciding what data is required by each component and where it should be the source. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/f63/78e/18f/f6378e18fd466f4058d27cd4232bb705.png" alt="image"><br><br>  Tube Tracker requires only three types of data: network data (lines, stations, etc.), a line and station selected by the user, and schedule data received from TrackerNet. <br><br>  These networks are consumed only by the <code>Network</code> and <code>Line</code> components to provide station lists, as well as the <code>TubeTracker</code> component for validating user input.  This is a large amount of data, so it is better to process them externally and then transfer them to the application. <br><br>  The line and station selected by the user are used by the <code>Predictions</code> component, but the selected conditions are provided by the <code>Line</code> component.  Following the hierarchy of components, their common ancestor is TubeTracker, so the selected line and station must be stored in the state of the <code>TubeTracker</code> component. <br><br>  Finally, TrackerNet forecast data is used by the <code>Trains</code> , <code>DepartureBoard</code> and <code>Predictions</code> components, but not by the <code>TubeTracker</code> component, so they must be stored in the <code>Predictions</code> component. <br><br>  But there is a problem; data must be passed back up the hierarchy.  When a user input is received by a <code>Line</code> component, his ancestor, <code>TubeTracker</code> needs to know about it. <br><br>  <a href="http://facebook.github.io/react/blog/2013/11/05/thinking-in-react.html">Thinking in React (Thinking in React)</a> - a more detailed overview of the hierarchy of components and the differences between properties and state, it is definitely worth reading. <br><br><h4>  Component Communication </h4><br>  Since data can only be transmitted down the hierarchy, we must use another technique to transfer data up.  There are two main ways to do this. <br><br>  If a component should only transfer data to its forward ancestor, then providing a callback is the simplest solution.  React automatically binds the component's methods to each instance, so there is no need to worry about passing context. <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> Parent = React.createClass({ <span class="hljs-attr"><span class="hljs-attr">handleClick</span></span>: <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">e</span></span></span><span class="hljs-function">) </span></span>{...}, <span class="hljs-attr"><span class="hljs-attr">render</span></span>: <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">Child</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">callback</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">{this.handleClick}</span></span></span></span><span class="xml"><span class="hljs-tag"> /&gt;</span></span></span><span class="xml">; } }); var Child = React.createClass({ render: function() { return </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">a</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">onClick</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">{this.props.callback}</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">Click me</span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">a</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">; } });</span></span></code> </pre><br>  For more distant notifications, the <a href="http://msdn.microsoft.com/en-us/magazine/hh201955.aspx">publish / subscribe system (publish / subscribe)</a> will be more flexible and easier to maintain.  This can be done by native JavaScript events or by using the <a href="https://github.com/mroderick/PubSubJS">PubSubJS</a> library, by binding to the component's lifecycle methods. <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> Parent = React.createClass({ <span class="hljs-attr"><span class="hljs-attr">handleMyEvent</span></span>: <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">e</span></span></span><span class="hljs-function">) </span></span>{...}, <span class="hljs-attr"><span class="hljs-attr">componentWillMount</span></span>: <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-built_in"><span class="hljs-built_in">window</span></span>.addEventListener(<span class="hljs-string"><span class="hljs-string">"my-event"</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.handleMyEvent, <span class="hljs-literal"><span class="hljs-literal">false</span></span>); }, <span class="hljs-attr"><span class="hljs-attr">componentWillUnmount</span></span>: <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-built_in"><span class="hljs-built_in">window</span></span>.removeEventListener(<span class="hljs-string"><span class="hljs-string">"my-event"</span></span>, <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.handleMyEvent, <span class="hljs-literal"><span class="hljs-literal">false</span></span>); }, <span class="hljs-attr"><span class="hljs-attr">render</span></span>: <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{...} }); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> Grandchild = React.createClass({ <span class="hljs-attr"><span class="hljs-attr">handleClick</span></span>: <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">e</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> customEvent = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> CustomEvent(<span class="hljs-string"><span class="hljs-string">"my-event"</span></span>, { <span class="hljs-attr"><span class="hljs-attr">detail</span></span>: { ... }, <span class="hljs-attr"><span class="hljs-attr">bubbles</span></span>: <span class="hljs-literal"><span class="hljs-literal">true</span></span> }); <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.refs.link.getDOMNode().dispatchEvent(customEvent); }, <span class="hljs-attr"><span class="hljs-attr">render</span></span>: <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">a</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">ref</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"link"</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">onClick</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">{this.handleClick}</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">Click me</span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">a</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span></span>; } });</code> </pre><br><h4>  Component life cycle </h4><br>  Components have a short API to hook on their life cycle;  creation (mounting), updating and destruction (unmounting).  Unlike other approaches for building dynamic interfaces, this functionality is built into the component definition.  In the example of component communication, I used the <code>componentWillMount</code> and <code>componentWillUnmount</code> methods to add and remove event handlers, but there are other methods that give detailed control over the properties and state of the components.  In the Tube Tracker application, I also used the following methods: <br><ul><li>  <code>componentDidMount</code> is called after the component has been drawn; it is useful as an integration point with other code that depends on the generated DOM. </li><li>  <code>componentWillReceiveProps</code> is called every time a component receives new properties; this is useful for canceling the currently running operations that will be affected by the added properties. </li><li>  <code>shouldComponentUpdate</code> useful hook for manually checking whether a state or property change needs to be redrawn. </li></ul><br><br><h4>  Here is what I did before </h4><br>  So, we installed a browser environment, broke our UI into components, found out what data we need, where they should be stored and how they are distributed in the application, it's time to demonstrate! <br><br><img src="https://habrastorage.org/getpro/habr/post_images/2af/f11/751/2aff11751e1d1f7d14f0d6925966af65.jpg" alt="image"><br><br>  I used <a href="http://expressjs.com/">Express</a> to install a small HTTP server to roll out static files that will be used in the following parts of this article series.  You can <a href="http://react-tube-tracker.herokuapp.com/">try the app right now</a> (note: the example is running on a free account, so this link may be unstable) or go to GitHub to <a href="https://github.com/i-like-robots/react-tube-tracker/releases/tag/prototype">view the source code</a> . <br><br>  In the second part I will describe the optimization of the application;  installation of code optimization tools for the browser.  Please comment or <a href="https://twitter.com/i_like_robots">tweet me</a> , I will be happy to receive feedback. </div><p>Source: <a href="https://habr.com/ru/post/229655/">https://habr.com/ru/post/229655/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../229645/index.html">LG G Watch: a complete review of iFixit (and 9 out of 10 on the repair scale)</a></li>
<li><a href="../229647/index.html">Baby Monitor from Android smartphone</a></li>
<li><a href="../229649/index.html">Useful materials for mobile developer # 61 (July 7-13)</a></li>
<li><a href="../229651/index.html">We collect a modern system unit cheaper than 150 euros</a></li>
<li><a href="../229653/index.html">First look at Themosis, a framework for WordPress developers</a></li>
<li><a href="../229657/index.html">Banking Trojan Zeus Gameover returns in new modification</a></li>
<li><a href="../229659/index.html">Twitter will start to show the number of views microblogging?</a></li>
<li><a href="../229663/index.html">DARPA successfully tested self-guided bullets</a></li>
<li><a href="../229667/index.html">Python-digest # 32. News, interesting projects, articles and interviews [July 6, 2014 - July 13, 2014]</a></li>
<li><a href="../229673/index.html">My implementation tool for high-risk investments</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>