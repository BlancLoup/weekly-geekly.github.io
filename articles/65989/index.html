<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Comparison of JSON processing speed by different parsers and browsers</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Preamble 
 Being engaged in writing interface / middleware for a single IPTV-STB set-top box, I ran into a rather slow javascript parser of the built-...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Comparison of JSON processing speed by different parsers and browsers</h1><div class="post__text post__text-html js-mediator-article"><h2>  Preamble </h2><br>  Being engaged in writing interface / middleware for a single IPTV-STB set-top box, I ran into a rather slow javascript parser of the built-in Opera when calling eval (while Opera was not built in, but ANT Galio was even sadder, but this is a topic for another conversation).  That is, there everything works slowly, because  it's still just a prefix, but in this particular case it was necessary to do something with the brakes - the TV program was loaded via ajax, and while eval was parsing the incoming JSON line, the prefix didn‚Äôt respond to user actions at all (and long enough) .  As a result, I solved the issue using <a href="http://www.jstoolbox.com/2009/03/18/chto-takoe-jsonp/">JSONP</a> , which I earned on the console several times faster (and at the same time I solved the problem with cross-domainness), but in passing I thought about the performance of parsers in principle.  On Habr√©, I found <a href="http://habrahabr.ru/blogs/javascript/55553/">only one article</a> about it, but JSONP was not there ... Plus, there were some positive criticisms in the comments, so I decided to conduct my own testing.  All parsers from <a href="http://www.json.org/">JSON.org</a> and browsers Opera 9.64, Firefox 3.5, Internet Explorer 8, Google Chrome 2, Safari 4 are used. <br><a name="habracut"></a><br><br><h2>  Testing method </h2><br>  In the comments to the above article, we noticed that browsers can cache the result of parsing, so it‚Äôs not quite correct to simply ‚Äúrun‚Äù the same line a hundred times to get a reliable result.  In addition, there is no parsing as such in JSONP - it‚Äôs more likely a parsing of JavaScript as such. <br>  As a result, a short php script was written, which stands on the server and generates, on request, a JSON string containing an array with a specified number of objects in this format: <br> <code>{ <br> "key_string1" : "qkrlgthcnadzemsiuwvbfopxyj", <br> "key_string2" : "zbntiyjchfpsraudqxkgomvwle", <br> "key_int" : 25721, <br> "key_arr" : [21,25,19,16,10,4,27,17,6,12,22,29,5,1,26,28,23,14,24,13,3,18,30,15,2,11,8,20,9,7], <br> "key_float" : 2110.1 <br> } <br></code> <br>  The contents of the properties of objects are filled randomly each time, and the script itself is called with prevention of caching. <br>  For the test itself, a page was written, requesting in different ways a JSON string with a different number of objects in the array from the server and measuring the download and parsing times (in the case of JSONP, all at once).  For a more accurate result, all requests were conducted 50 times.  The following parsing methods are used: <br><ul><li>  <strong>JSONP</strong> - in the most classic version - the connected script calls a callback with a JSON object as a parameter.  The main disadvantage is a low level of security, since  In the connected script there can be anything. </li><li>  <strong>XMLHttpRequest + json2.js</strong> is essentially a regular eval, only slightly refined with a few regexps to check the validity of the JSON string code itself.  The disadvantage is because  eval is used, you can still try to include js-code in the string and ‚Äúmess up‚Äù on the client. </li><li>  <strong>XMLHttpRequest + json_parse.js</strong> - full-fledged JSON parsing.  Eval is not used, so everything is in order with safety, and the main drawback is low speed. </li><li>  <strong>XMLHttpRequest + json_sans_eval</strong> - Google's parser.  Does not use eval - therefore it is safe, and uses a minimum of code - therefore it is fast.  :-) The disadvantage is that it does not validate a JSON string, so if it is ‚Äúbroken‚Äù or incorrect, the result is unpredictable.  :-) I mean, as a result of the parsing, some crap will be returned. </li><li>  <strong>XMLHttpRequest + native JSON parsers</strong> - I couldn't help but include native JSON parsers that are present in recent versions of IE and FF.  :-) </li></ul><br><br>  I tested everything on my home computer (Athlon64 X2 5200+, 2GB of memory, Windows XP SP2), and the scripts were run from a server located nearby in the local network (in order to have a little positive effect on transport delays).  I want to warn you in advance that these transport delays are nevertheless fully present (around 200 ms), and with a rather large such spread, so you shouldn‚Äôt focus on the absolute values ‚Äã‚Äãof the tests - the relative by eye comparison of different parsers and browsers is much more important .  I tried to test on localhost, but php-cgi running shttps is even slower, and creating a special test bench was a bit lazy. <br>  And as for browsers.  Official latest official versions of official releases were used, available on browser sites as of 07/02/2009.  Therefore, for example, Opera is not the 10th - which, perhaps, many would like.  IE6 is not there either - I could have started it only in IETester, but it seems to me that the results from there would not be entirely correct.  The test was run in a single tab immediately after the launch of each browser.  During its operation, different browsers loaded the processor differently and consumed different amounts of memory, but this is a topic for a separate study. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h2>  Test results </h2><br>  All results are in tabular form.  For all parsers, the first line shows the total execution time in milliseconds (data request + parsing), the second (except for JSONP) shows the time for only parsing.  Only the first line makes sense to compare with JSONP, the second one only serves to compare the other parsers among themselves. <br><br>  <strong>Google Chrome 2</strong> <br><table border="1"><tbody><tr><th rowspan="2">  Parser </th><th colspan="6">  Number of objects in an array in a JSON string </th></tr><tr><th>  25 </th><th>  50 </th><th>  100 </th><th>  200 </th><th>  400 </th><th>  800 </th></tr><tr><td>  <strong>Jsonp</strong> </td><td align="right">  187 </td><td align="right">  187 </td><td align="right">  211 </td><td align="right">  197 </td><td align="right">  213 </td><td align="right">  242 </td></tr><tr><td>  <strong>Json_json2</strong> </td><td align="right">  189 </td><td align="right">  189 </td><td align="right">  193 </td><td align="right">  200 </td><td align="right">  220 </td><td align="right">  253 </td></tr><tr><td>  JSON_json2 - parse </td><td align="right">  2 </td><td align="right">  four </td><td align="right">  6 </td><td align="right">  12 </td><td align="right">  21 </td><td align="right">  42 </td></tr><tr><td>  <strong>Json_json_parse</strong> </td><td align="right">  192 </td><td align="right">  194 </td><td align="right">  198 </td><td align="right">  212 </td><td align="right">  241 </td><td align="right">  311 </td></tr><tr><td>  JSON_json_parse - parse </td><td align="right">  four </td><td align="right">  6 </td><td align="right">  eleven </td><td align="right">  22 </td><td align="right">  45 </td><td align="right">  92 </td></tr><tr><td>  <strong>Json_json_sans_eval</strong> </td><td align="right">  190 </td><td align="right">  190 </td><td align="right">  191 </td><td align="right">  231 </td><td align="right">  240 </td><td align="right">  259 </td></tr><tr><td>  JSON_json_sans_eval - parse </td><td align="right">  one </td><td align="right">  3 </td><td align="right">  6 </td><td align="right">  eleven </td><td align="right">  23 </td><td align="right">  48 </td></tr></tbody></table><br><br>  <strong>Firefox 3.5</strong> <br><table border="1"><tbody><tr><th rowspan="2">  Parser </th><th colspan="6">  Number of objects in an array in a JSON string </th></tr><tr><th>  25 </th><th>  50 </th><th>  100 </th><th>  200 </th><th>  400 </th><th>  800 </th></tr><tr><td>  <strong>Jsonp</strong> </td><td align="right">  212 </td><td align="right">  215 </td><td align="right">  219 </td><td align="right">  222 </td><td align="right">  233 </td><td align="right">  277 </td></tr><tr><td>  <strong>Json_json2</strong> </td><td align="right">  219 </td><td align="right">  224 </td><td align="right">  224 </td><td align="right">  239 </td><td align="right">  270 </td><td align="right">  384 </td></tr><tr><td>  JSON_json2 - parse </td><td align="right">  3 </td><td align="right">  6 </td><td align="right">  12 </td><td align="right">  25 </td><td align="right">  51 </td><td align="right">  106 </td></tr><tr><td>  <strong>Json_json_parse</strong> </td><td align="right">  223 </td><td align="right">  255 </td><td align="right">  276 </td><td align="right">  353 </td><td align="right">  529 </td><td align="right">  820 </td></tr><tr><td>  JSON_json_parse - parse </td><td align="right">  nineteen </td><td align="right">  36 </td><td align="right">  72 </td><td align="right">  145 </td><td align="right">  288 </td><td align="right">  578 </td></tr><tr><td>  <strong>Json_json_sans_eval</strong> </td><td align="right">  219 </td><td align="right">  225 </td><td align="right">  224 </td><td align="right">  257 </td><td align="right">  307 </td><td align="right">  365 </td></tr><tr><td>  JSON_json_sans_eval - parse </td><td align="right">  five </td><td align="right">  eight </td><td align="right">  sixteen </td><td align="right">  31 </td><td align="right">  62 </td><td align="right">  123 </td></tr><tr><td>  <strong>Json_native</strong> </td><td align="right">  198 </td><td align="right">  211 </td><td align="right">  219 </td><td align="right">  233 </td><td align="right">  244 </td><td align="right">  261 </td></tr><tr><td>  JSON_native - parse </td><td align="right">  one </td><td align="right">  one </td><td align="right">  2 </td><td align="right">  four </td><td align="right">  9 </td><td align="right">  17 </td></tr></tbody></table><br><br>  <strong>Opera 9.64</strong> <br><table border="1"><tbody><tr><th rowspan="2">  Parser </th><th colspan="6">  Number of objects in an array in a JSON string </th></tr><tr><th>  25 </th><th>  50 </th><th>  100 </th><th>  200 </th><th>  400 </th><th>  800 </th></tr><tr><td>  <strong>Jsonp</strong> </td><td align="right">  307 </td><td align="right">  356 </td><td align="right">  371 </td><td align="right">  395 </td><td align="right">  390 </td><td align="right">  430 </td></tr><tr><td>  <strong>Json_json2</strong> </td><td align="right">  323 </td><td align="right">  332 </td><td align="right">  344 </td><td align="right">  391 </td><td align="right">  463 </td><td align="right">  693 </td></tr><tr><td>  JSON_json2 - parse </td><td align="right">  eight </td><td align="right">  sixteen </td><td align="right">  31 </td><td align="right">  67 </td><td align="right">  138 </td><td align="right">  343 </td></tr><tr><td>  <strong>Json_json_parse</strong> </td><td align="right">  316 </td><td align="right">  333 </td><td align="right">  363 </td><td align="right">  438 </td><td align="right">  553 </td><td align="right">  829 </td></tr><tr><td>  JSON_json_parse - parse </td><td align="right">  eleven </td><td align="right">  22 </td><td align="right">  54 </td><td align="right">  112 </td><td align="right">  231 </td><td align="right">  476 </td></tr><tr><td>  <strong>Json_json_sans_eval</strong> </td><td align="right">  311 </td><td align="right">  323 </td><td align="right">  352 </td><td align="right">  380 </td><td align="right">  436 </td><td align="right">  588 </td></tr><tr><td>  JSON_json_sans_eval - parse </td><td align="right">  five </td><td align="right">  12 </td><td align="right">  23 </td><td align="right">  53 </td><td align="right">  114 </td><td align="right">  237 </td></tr></tbody></table><br><br>  <strong>Internet Explorer 8</strong> <br><table border="1"><tbody><tr><th rowspan="2">  Parser </th><th colspan="6">  Number of objects in an array in a JSON string </th></tr><tr><th>  25 </th><th>  50 </th><th>  100 </th><th>  200 </th><th>  400 </th><th>  800 </th></tr><tr><td>  <strong>Jsonp</strong> </td><td align="right">  191 </td><td align="right">  191 </td><td align="right">  198 </td><td align="right">  201 </td><td align="right">  217 </td><td align="right">  244 </td></tr><tr><td>  <strong>Json_json2</strong> </td><td align="right">  216 </td><td align="right">  204 </td><td align="right">  212 </td><td align="right">  218 </td><td align="right">  251 </td><td align="right">  220 </td></tr><tr><td>  JSON_json2 - parse </td><td align="right">  3 </td><td align="right">  five </td><td align="right">  eleven </td><td align="right">  22 </td><td align="right">  45 </td><td align="right">  92 </td></tr><tr><td>  <strong>Json_json_parse</strong> </td><td align="right">  238 </td><td align="right">  287 </td><td align="right">  399 </td><td align="right">  523 </td><td align="right">  864 </td><td align="right">  1672 </td></tr><tr><td>  JSON_json_parse - parse </td><td align="right">  45 </td><td align="right">  90 </td><td align="right">  191 </td><td align="right">  327 </td><td align="right">  643 </td><td align="right">  1443 </td></tr><tr><td>  <strong>Json_json_sans_eval</strong> </td><td align="right">  203 </td><td align="right">  213 </td><td align="right">  273 </td><td align="right">  306 </td><td align="right">  412 </td><td align="right">  681 </td></tr><tr><td>  JSON_json_sans_eval - parse </td><td align="right">  9 </td><td align="right">  20 </td><td align="right">  54 </td><td align="right">  107 </td><td align="right">  204 </td><td align="right">  448 </td></tr><tr><td>  <strong>Json_native</strong> </td><td align="right">  195 </td><td align="right">  196 </td><td align="right">  209 </td><td align="right">  201 </td><td align="right">  219 </td><td align="right">  250 </td></tr><tr><td>  JSON_native - parse </td><td align="right">  one </td><td align="right">  one </td><td align="right">  four </td><td align="right">  five </td><td align="right">  eleven </td><td align="right">  27 </td></tr></tbody></table><br><br>  <strong>Safari 4</strong> <br><table border="1"><tbody><tr><th rowspan="2">  Parser </th><th colspan="6">  Number of objects in an array in a JSON string </th></tr><tr><th>  25 </th><th>  50 </th><th>  100 </th><th>  200 </th><th>  400 </th><th>  800 </th></tr><tr><td>  <strong>Jsonp</strong> </td><td align="right">  204 </td><td align="right">  228 </td><td align="right">  208 </td><td align="right">  221 </td><td align="right">  238 </td><td align="right">  280 </td></tr><tr><td>  <strong>Json_json2</strong> </td><td align="right">  198 </td><td align="right">  200 </td><td align="right">  202 </td><td align="right">  210 </td><td align="right">  232 </td><td align="right">  266 </td></tr><tr><td>  JSON_json2 - parse </td><td align="right">  one </td><td align="right">  2 </td><td align="right">  four </td><td align="right">  eight </td><td align="right">  sixteen </td><td align="right">  31 </td></tr><tr><td>  <strong>Json_json_parse</strong> </td><td align="right">  224 </td><td align="right">  205 </td><td align="right">  213 </td><td align="right">  239 </td><td align="right">  273 </td><td align="right">  351 </td></tr><tr><td>  JSON_json_parse - parse </td><td align="right">  four </td><td align="right">  7 </td><td align="right">  14 </td><td align="right">  28 </td><td align="right">  56 </td><td align="right">  111 </td></tr><tr><td>  <strong>Json_json_sans_eval</strong> </td><td align="right">  202 </td><td align="right">  205 </td><td align="right">  211 </td><td align="right">  226 </td><td align="right">  260 </td><td align="right">  324 </td></tr><tr><td>  JSON_json_sans_eval - parse </td><td align="right">  3 </td><td align="right">  five </td><td align="right">  ten </td><td align="right">  20 </td><td align="right">  41 </td><td align="right">  80 </td></tr></tbody></table><br><br>  <b>UPD</b> : <a href="https://habrahabr.ru/users/deerua/" class="user_link">deerua</a> drew nice graphics for each parser - rejoice: <br><br>  <b>Jsonp</b> <br><img src="https://habrastorage.org/getpro/habr/post_images/c57/df7/dec/c57df7decbb653fd38002a26ee54e02b.png" alt="g1"><br><br>  <b>Json_json2</b> <br><img src="https://habrastorage.org/getpro/habr/post_images/1ed/15d/841/1ed15d841888b30ce69898cae9aa4999.png" alt="g2"><br><br>  <b>Json_json_parse</b> <br><img src="https://habrastorage.org/getpro/habr/post_images/ba2/c8a/510/ba2c8a5102e51d717fa75f0aaefe6752.png" alt="g3"><br><br>  <b>Json_json_sans_eval</b> <br><img src="https://habrastorage.org/getpro/habr/post_images/a9b/b0b/5a2/a9bb0b5a2d7321858d7b5a9fbf9219d9.png" alt="g4"><br><br>  <b>Json_native</b> <br><img src="https://habrastorage.org/getpro/habr/post_images/95b/49d/1a0/95b49d1a0a1ea99c364ff6e5e00f6209.png" alt="g5"><br><br><h2>  findings </h2><br>  On the one hand, the results are rather unrepresentative - most differences are concealed by a 200 millisecond delay (and its spread between different launches) when calling the server script, which returns data.  On the other hand, a number of conclusions can be made not only, but also necessary: <br><ol><li>  JSONP is really fast!  Its speed is the same in all browsers (unless Opera let us down), and the scalability is much better than that of any other parsers.  The speed of its work depends most of all on the server itself, giving the content - hence the random variation in the results.  In any case, if there are no special security requirements on the client, then JSONP is the optimal choice for transmitting and parsing JSON data. </li><li>  If we are not talking about large amounts of data (the file for 800 objects from this test takes about 190kb) and the use of IE, the time difference between the other parsers is not very significant.  This refers to the total execution time, not just JSON parsing. </li><li>  The built-in JSON parsers in FF and IE showed the best results in terms of the speed of parsing.  Considering also that they provide complete security, it clearly makes sense to use them. </li><li>  The Google parser json_sans_eval is not much slower than json2 running on classic eval, but it provides a high level of security.  Therefore, if the resulting JSON object then passes a separate validation in the process of use, then this will obviously be the best compromise. </li><li>  From browsers, Chrome and Safari performed best.  Given that the legs of both grow from one place - WebKit uniquely taxis.  :-) </li><li>  Opera and Firefox were extremely mediocre, and IE8 was ambiguous: a great native parser and eval work and at the same time a terrible "manual" line parsing.  Obviously, the matter is in the backward js-engine. </li></ol><br><br>  So, I hope it was interesting to anyone except me.  :-) Maybe later I will improve the test by removing the transport component from it, but for the initial assessment of the speed of the parsers and browsers, and this, in my opinion, is enough ... <br><br>  ps: But if the hub allowed to set bgcolor in the rows of tables - the results would be much more beautiful ... </div><p>Source: <a href="https://habr.com/ru/post/65989/">https://habr.com/ru/post/65989/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../65978/index.html">The LG CC - headset phone</a></li>
<li><a href="../65984/index.html">Installing a Google Wave server (FedOne) on a local Windows machine</a></li>
<li><a href="../65985/index.html">VimpelCom and its 3G (three G)</a></li>
<li><a href="../65987/index.html">Live on the bright side or die trying</a></li>
<li><a href="../65988/index.html">New version of CMS / CMF MODx Evolution 1.0</a></li>
<li><a href="../65993/index.html">What is transactional memory and how is it useful?</a></li>
<li><a href="../65995/index.html">Script installation service - is it needed?</a></li>
<li><a href="../66001/index.html">Loading Consciousness / Backup Brain</a></li>
<li><a href="../66002/index.html">Mini-review Zimbra 6.0 RC1 GunsNRoses</a></li>
<li><a href="../66004/index.html">Paper as a backup method</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>