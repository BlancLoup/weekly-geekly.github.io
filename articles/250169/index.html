<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>How-to: What to consider when developing the first trading robot</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="In our blog, we have already written about important stages in the development of mechanical trading systems, the choice of market strategies and thei...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>How-to: What to consider when developing the first trading robot</h1><div class="post__text post__text-html js-mediator-article"> <a href="http://habrahabr.ru/company/itinvest/blog/250169/"><img src="https://habrastorage.org/getpro/habr/post_images/b76/0f0/ab8/b760f0ab88ad296fa14d4ea57ffc96f9.jpg" alt="image"></a> <br><br>  In our blog, we have already written about <a href="http://habrahabr.ru/company/itinvest/blog/224353/">important stages in the development of</a> mechanical trading systems, the <a href="http://habrahabr.ru/company/itinvest/blog/249299/">choice of</a> market <a href="http://habrahabr.ru/company/itinvest/blog/249299/">strategies</a> and their <a href="http://habrahabr.ru/company/itinvest/blog/238839/">testing on historical data</a> .  In today's article, we will summarize the previously described information and tell you how newcomers to the stock market should approach the creation of their first trading robot to avoid common mistakes. <a name="habracut"></a><br><br><h4>  The choice of technology: the ability to compromise </h4><br>  Almost always when creating software products, developers somehow have to make certain compromises and seek a balance between several things.  In the case of trading robots, three factors play an important role: 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <ul><li>  Trade speed, i.e.  the execution of trade operations themselves - the speed of issuing an order, the speed of receiving a response from the exchange, the speed of processing by the robot itself </li><li>  Versatility and customizability of the robot for working with new markets, financial instruments, variants of algorithms </li><li>  The speed of development and making significant changes. </li></ul><br>  In those cases where speed is most important, the code should of course be written in an effective low-level language.  C ++ and pure C are very well suited for these tasks (the developer of the <a href="http://www.itinvest.ru/software/comp/smartx/">SmartX</a> trading terminal <a href="http://habrahabr.ru/company/itinvest/blog/223551/">told us</a> about the use of C ++ in our interview).  It also happens that fast robots are created and almost assembler - here it is worth mentioning the mechanisms of direct reading and writing data into the memory of a network card, bypassing the standard mechanisms for working through drivers, as well as working with "super-fast programmable hardware" like FPGA. <br><br>  The concept of speed includes two different, albeit interrelated tasks.  The first of them is the optimization of the speed of interaction with the exchange (placing orders, receiving answers).  For its successful solution, it is necessary not only to optimize the code and have good hardware, but also to take into account and use the features of the exchange architecture, right down to the rack in which the server is located.  The second task is to optimize the logic of the trading application itself. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/988/519/a40/988519a40a61dabdc67961a706b94121.jpg" alt="image"><br><br>  <i>Image: <a href="http%253A%252F%252Fmms.businesswire.com%252Fmedia%252F20130911006166%252Fen%252F382199%252F5%252FCyrusOne_0149.jpg%26ei%3DhcnYVPPqD4raaO2ZgoAF%26bvm%3Dbv.85464276,d.d2s%26psig%3DAFQjCNHePyUJWIcrBbWBeJEsbXoAbcRabw%26ust%3D1423579907406033%26cad%3Drjt">Businesswire</a></i> <br><br><h4>  Architecture and Development Environment </h4><br>  Equally important is the choice of robot architecture.  Here compromises are also possible - for example, whether to make a robot ‚Äúsharpened‚Äù to a specific market, an exchange gateway, a system with one algorithm, or maybe even a limited set of tools?  This optimization allows you to achieve additional performance gains. <br><br>  Conversely, a more versatile product allows you to increase the speed of development, as well as facilitate the use of the robot, but probably among the disadvantages of this approach will be lower productivity. <br><br>  The type of future robot and the nature of the algorithms used are of no less importance for the choice of technologies.  If you plan to create a high-frequency robot, the use of C ++, and sometimes C becomes necessary. <br><br>  In the event that you need to automate a trading strategy that involves a small number of transactions (working according to the ‚Äúnot the fastest, but the smartest‚Äù scheme), the ‚Äúslippage‚Äù value when entering a position may be a negligible value compared to both possible profits and and with a possible loss, the speed and ease of development come first. <br><br>  The next compromise between the speed of work and the speed of development is .Net in any of its guises - C #, Visual Basic, and anything else on this platform (this topic was also discussed in one of our previous <a href="http://habrahabr.ru/company/itinvest/blog/223551/">materials</a> ). <br><br>  If the robot requires significant calculations that do not require carrying them out in real time, but are used to optimize the trading parameters in the background, then the use of exotic things like interpreted languages ‚Äã‚ÄãPython, R etc. can be quite viable (one of them - scripting <a href="http://www.itinvest.ru/software/comp/smartx/plagin-konstruktor-robotov/">TradeScript</a> , more about the creation of robots on it is told <a href="http://habrahabr.ru/company/itinvest/blog/214601/">here</a> and <a href="http://habrahabr.ru/company/itinvest/blog/237689/">here</a> ).  There are also implementations of these tools that are compatible with .Net technology. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/fff/f99/f04/ffff99f0476c44c79e3ea00865dbc16d.png" alt="image"><br><br>  <i>An example of creating a simple trade strategy on TradeScript in the terminal SmartX</i> <br><br>  To summarize the discussion on the development environment, we can recommend the following three-tier architecture. <br><br><h5>  Stage # 1 </h5><br>  Rather primitive, but the fastest robot, performing a simple set of operations.  In essence, his task is to quickly take from the market or issue a simple or synthetic asset to the market, using an extremely simple algorithm.  This level is written in C, C ++, and assemblers of different levels. <br><br><h5>  Stage # 2 </h5><br>  The control system of the parameters of the first-level robot, the "wrapper" around it.  It combines the functions of a more sophisticated control of the operation of the algorithm and the user interface, which includes control parameters and mechanisms for presenting trading results.  You can implement such a product in C ++, C #, Java or in general as a web application. <br><br><h5>  Stage # 3 </h5><br>  System back-testing and selection of parameters.  This third level is not directly related to the first two trading, but there is a fundamental connection: it is here that tests of new algorithms on historical data are carried out, new parameters are chosen for the existing algorithms. <br><br>  It is for testing new ideas and hypotheses on historical data (and not to observe how the trading of the tools created in the first two stages goes) the creator of the robot must spend most of his working time. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/a26/e29/c70/a26e29c701aca0171c29a78802d83277.jpg" alt="image"><br><br>  <i>Image: <a href="">chicagosean</a></i> <br><br>  A good development style is considered to be a situation in which an algorithm written for a third-level system ‚Äúas it is‚Äù, without making changes to the code after the tests, can be transferred to the trading module.  It‚Äôs worthwhile to implement this level using the technologies that allow you to achieve maximum comfort and speed of development. <br><br>  There are exceptions in which the described scheme looks different - for example, fast high-frequency (HFT) robots are essentially limited to the first level, eliminating all unnecessary body kits, and complex option models may require support for computing on graphics cards, for example using CUDA.  At the same time, for 80% of tasks, such a division into three levels seems to be the most justified. <br><br><h4>  Stages of creating a trading robot </h4><br>  The development of a robot is a cyclic process that consists of several stages. <br><br><h5>  Idea </h5><br>  Initially, the future algorithmic trader has an idea, an understanding of any trading process, or an awareness of the existence of inefficiencies that can be used to make a profit. <br><br><h5>  Backtesting </h5><br>  Subsequently, the emerging trading idea needs to be ‚Äúdriven away on history‚Äù - depending on the specific trading approach and timeframe, different historical data can be used for this - both ‚Äúrough‚Äù candles, a tick sequence of transactions, and even a full log of stock glasses taking into account the movement of orders in them . <br><br><h5>  Cost analysis </h5><br>  An important stage, which newcomers to the stock market often underestimate, is to analyze both mandatory (commissions, position transfer rates, repos, etc.) and possible additional badly predictable costs (price slippage when making a deal, unanticipated infrastructure delays at strong movements in the market). <br><br><img src="https://habrastorage.org/getpro/habr/post_images/774/d95/9fd/774d959fdbfd74c1e29c9fb6efd13e23.jpg" alt="image"><br><br>  <i>Image: GETTY IMAGES</i> <br><br>  The cumulative amount of such expenses affects the average transaction value.  There are many algorithms that are on the verge of profitability, and a poor estimate of such additional expenses can create the illusion of successfully finding a grail where it is not there at all. <br><br><h5>  Writing a robot and its "combat" testing </h5><br>  Actually, the coding of the robot is, although very important, but still the most commonplace task (provided that the correct choice of architecture, working ideas, etc.). <br><br>  After writing the robot and debugging it (for this you can use <a href="http://www.itinvest.ru/services/test/">test access to the exchange</a> with virtual money), the practical use of the algorithm begins. <br><br>  The most effective approach is trading for real money even during the testing period of the robot - you need to allocate a certain budget (you can say goodbye to it in advance) in order to be able to test the strategy on small-volume transactions.  Let the amounts be quite small, but the risk of real money gives a fundamentally different understanding of the trading processes - only this way can they be realized and successfully modeled in the future. <br><br>  Most likely, immediately after the start of trading, the result will not be exactly the same as originally planned, so the developer will have to go back a couple of steps more than once and not two and fix something. <br><br>  If the strategy has earned on small amounts of funds, but for its successful operation it is required to increase the volume, you need to gradually move towards this - there will certainly be problems and losses of funds on this path, which means you will need to again be engaged in strategy and code optimization. <br><br><blockquote>  In the spring of 2012, I suddenly earned extra money, not realizing where they came from.  It turned out that I had the wrong dollar hedge.  At that moment there was a strong movement on the RTS index, and my ‚Äúbasket‚Äù was overvalued as a big plus.  I earned about 1.5 million rubles, but at the same time, the profit was the reason for my serious transformation of the system, so that in the future there would be no unexpected failures. <br><br>  <b>- Deputy Managing Director of ITinvest Alexey Afanasyevsky, an interview with F &amp; O magazine</b> </blockquote><br><h5>  Stable (possible) work </h5><br>  After some time of constant optimization, the algorithm (perhaps) will begin to consistently show acceptable results - this stage is fraught with a decrease in concentration (dreams of sports cars, yachts and villas in warm countries appear very quickly).  It often happens that at this very moment the reality strikes back and forces the creator of the robot to roll back a few steps back, up to and including revising the entire trading strategy in principle. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/4fb/4c3/7cb/4fb4c37cbbb8c55b9753adf3189827d5.jpg" alt="image"><br><br><h4>  findings </h4><br>  In order to succeed in creating trading robots, it is necessary to take into account many factors: technology, platforms, gateways, mathematics, hardware, distance to the stock exchange, news, trading time, news release time, the relationship between economics and politics, and so on. <br>  All these parameters will have different weight in the case of creating different types of robots - high-frequency trading requires fast execution, for a directional robot it is a good understanding of technical and / or fundamental processes, for various types of arbitration good statistical methods.  At the same time, it is necessary to understand that in a pure form such a ‚Äúclassification of robots‚Äù does not exist - each product, to varying degrees, ‚Äúclimbs into a glade of different approaches at the same time. <br><br>  IT professionals who would like to try their hand at creating robots must first pull up their knowledge of the stock market (this is helped by specialized literature), and only then go to the stage of writing code and experiments.  On the way to creating a robot that achieves results, mistakes and financial losses are inevitable. <br><br>  In any case, even before the start of work on a trading robot, you should be prepared to create a universal tool for making money and then retire and only watch the increase in the bill fail.  Algorithmic trading is an interesting, but long and continuous work to improve itself and its understanding of the world and the market as its expression.  If a person is interested in doing this, the creation of robots will become just a tool for getting results, and not an end in itself. <br><br>  <i>In preparing the material, information was used from an interview with the Deputy Managing Director of ITinvest Alexey Afanasyevsky to F &amp; O magazine</i> <br><br>  <i>Picture on teaser: <a href="">modernmarketsinitiative</a></i> <br><br>  PS If you notice a typo, a broken link or other inaccuracy - write us a personal message and we will fix everything promptly. </div><p>Source: <a href="https://habr.com/ru/post/250169/">https://habr.com/ru/post/250169/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../250157/index.html">Review of the most interesting materials on data analysis and machine learning ‚Ññ34 (February 2 - 8, 2015)</a></li>
<li><a href="../250159/index.html">Deploying Windows Server 2012 R2 to Dell servers in BARE-METAL mode. Part 1</a></li>
<li><a href="../250161/index.html">2 FortiGate Multi-Threat Security Systems curriculum</a></li>
<li><a href="../250163/index.html">Develop a mobile application and win - an interview with the head of the mobile development department Alexander Bogdanovich</a></li>
<li><a href="../250165/index.html">Weekly assembly Vivaldi 1.0.98.2</a></li>
<li><a href="../250171/index.html">Creating an iOS application. From idea to result</a></li>
<li><a href="../250173/index.html">Master of Academic University opens the set for 2015</a></li>
<li><a href="../250177/index.html">Classification of tables in relational databases on the basis of integrity and data redundancy</a></li>
<li><a href="../250179/index.html">New tool for checking structured data, documentation and more</a></li>
<li><a href="../250183/index.html">Windows server 2012 r2 Hyper-V role installation or how you can make mistakes during the installation process</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>