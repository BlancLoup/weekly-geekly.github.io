<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>From the basement of the secret laboratory of the PVS-Studio developers ...</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="From time to time we talk about our internal research and development, which takes place in the development team of the PVS-Studio static code analyze...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>From the basement of the secret laboratory of the PVS-Studio developers ...</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/getpro/habr/post_images/8e5/475/346/8e5475346e70e126f9694dbc4f53fbb0.png" alt="Oh, interesting article about PVS-Studio!" align="left"><br>  From time to time we talk about our internal research and development, which takes place in the development team of the PVS-Studio static code analyzer for C / C ++.  Today's story is about another new product that we are preparing as part of our product. <br><br>  Those who follow our project (and even more so use it) know that our analyzer was originally a plug-in only for Visual Studio.  Then it became possible to use it as a console application embedded in the Makefile (ask me how if you do not know).  Then, at the beginning of this year, we had integration in C ++ Builder.  By the way, we still have quite a few users under C ++ Builder, and we do not quite understand why.  And recently, we thought about the so-called standalone application. <br><br><a name="habracut"></a>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      In general, how does the ideal static code analyzer look like for the user (in vacuum or not)?  It seems to me that, based on my experience in this field, the ideal analyzer should look like this.  The user downloads the utility, launches it, indicates the folder with the code, and presses the big green button: ‚ÄúFind all errors!‚Äù.  No settings, no "integration into the project."  After all, the user does not need it?  Yes, not necessary.  But you need a code analyzer, unfortunately.  At a minimum, you need information on #include and #define if we are talking about C ++.  It is needed in order to perform the <a href="http://www.viva64.com/ru/t/0040/">preprocessing of the</a> code. <br><br>  And here we come to the need to choose one of the options: <br><ol><li>  Either the tool itself must extract this information from the project file (as our plugins for Visual C ++ and C ++ Builder do). </li><li>  Or the tool can receive this information if it is sent to it in the Makefile (how our command line version works). </li><li>  Either the tool forces the user to painfully drive in all the folders for #include and #define parameters, which is almost impossible, since  It is extremely difficult for the user to do this. </li><li>  Or ... come up with some other option. </li></ol><br>  We went the fourth way and decided to try it.  And what if, as the source information, the analyzer will receive not ordinary source files in the form of .cpp files, but already <a href="http://www.viva64.com/ru/t/0076/">preprocessed files</a> .  Those.  files that are processed by the preprocessor.  This will save us from having to call the preprocessor, and therefore know these #include and #define. <br><br>  Of course, this is slightly different from the ideal analyzer option described above.  But on the other hand, it allows you to use PVS-Studio for almost any C / C ++ project, no matter in which development environment you would not run it. <br><br>  So, the tool developed in the secret laboratories of our team looks like this: <br><img src="https://habrastorage.org/getpro/habr/post_images/6e5/7f4/994/6e57f49946480804e4790c6c91739440.png" alt="Figure 1 - Startup dialog for scanning preprocessed files."><br>  Figure 1 - Startup dialog for scanning preprocessed files. <br><br>  First, we specify the folder where the preprocessed .i-files are located.  They will analyze our tool. <br><br>  Secondly, we specify the source folder.  This is necessary in order to identify errors more accurately.  In addition, it is always better to do (in the future) navigate through custom .cpp-files, rather than not quite understandable to humans .i-files. <br><br>  Third, we specify the folder in which the system include files are located.  The most basic ones, like &lt;string&gt; or &lt;stream&gt;.  For what?  In order for the analyzer to know that there are files here that do not need to issue diagnostic messages. <br><br>  So, we can ‚Äúfeed‚Äù the preprocessed files to this program, and then run the analyzer onto them.  This is how we are currently testing the Boost project.  By the way, there will soon be a report on checking Boost - subscribe to our blog, so as not to miss.  After checking the files, we get a list of diagnostic messages in this form: <br><img src="https://habrastorage.org/getpro/habr/post_images/41c/8f4/cd8/41c8f4cd8897e3cff4376cc157242214.png" alt="Figure 2 - List of diagnostic messages after checking i-files."><br>  Figure 2 - List of diagnostic messages after checking i-files. <br><br>  I draw readers' attention to the fact that this is not Visual Studio or RAD Studio.  This is a separate utility that repeats completely (or rather uses) the PVS-Studio window.  It also has a built-in code editor (Scintilla from Notepad ++), which allows you to work with errors quite fully: <br><img src="https://habrastorage.org/getpro/habr/post_images/f59/614/2ca/f596142ca5b9f33c496f866a21bcab91.png" alt="Figure 3 - Full code editor."><br>  Figure 3 - Full code editor. <br><br>  Naturally, this post does not pull on a full description of our new secret utility.  However, I can answer a few questions. <br><br>  Who DOES NOT need this utility?  Those who can easily test their project in PVS-Studio with the help of integration in Visual Studio and C ++ Builder.  Who needs this utility?  Those who want to check their code using PVS-Studio and use other development environments and / or project files that are difficult to integrate our command line utility. <br><br>  What would you like to see such a utility?  Is the checking mode for ready-to-use preprocessed files convenient for you?  What is missing in such a utility?  Should we release it or abandon further development of this utility, as everyone is satisfied with our integration into Microsoft / Embarcadero environments? <br><br>  PS By the way, we have updated the design of our <a href="http://www.viva64.com/ru/examples/">database of errors</a> found in open source projects. </div><p>Source: <a href="https://habr.com/ru/post/189566/">https://habr.com/ru/post/189566/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../189556/index.html">Creating a Bashkir layout for Mac OS X</a></li>
<li><a href="../189558/index.html">Xbox One: unboxing</a></li>
<li><a href="../189560/index.html">Social engineering: an educational program about an attack method that never becomes obsolete</a></li>
<li><a href="../189562/index.html">LG Optimus F5 - LTE in the middle segment</a></li>
<li><a href="../189564/index.html">Install any Linux distribution on Digital Ocean</a></li>
<li><a href="../189568/index.html">Privilege to the countable projectile, issued to the music teacher Kummer on March 29, 1847 for 10 years</a></li>
<li><a href="../189570/index.html">Make beautiful input [type = file] for responsive site</a></li>
<li><a href="../189574/index.html">Oracle data access methods</a></li>
<li><a href="../189576/index.html">10 reasons why your project should use the Dojo Toolkit</a></li>
<li><a href="../189578/index.html">Microsoft released another set of updates, August 2013</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>