<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Strong data encryption in PNG</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Good morning Habra. I read an article about hash-steganography through social networks yesterday, and it occurred to me to make something more optimal...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Strong data encryption in PNG</h1><div class="post__text post__text-html js-mediator-article">  Good morning Habra.  I read <a href="https://habrahabr.ru/post/351370/">an article</a> about hash-steganography through social networks yesterday, and it occurred to me to make something more optimal in terms of the amount of output data.  It turned out something more or less efficient and even optimized (unlike the <a href="https://github.com/RomaLash/vkhs_POC">proof-of-concept</a> <a href="https://habrahabr.ru/users/romabibi/" class="user_link">romabibi</a> ), therefore, as <a href="https://habrahabr.ru/post/351370/">promised</a> , I am writing an article. <br><br>  Well, say hello to you again: <img src="https://habrastorage.org/webt/ze/5e/iv/ze5eivfx5v4acqyrcvd13mgts9k.png" title="key = habr">  and welcome under cat. <br><a name="habracut"></a><br>  I decided to implement the idea as <s>stupidly as</s> simple as possible, therefore I will briefly describe the encryption algorithm: <br><br><ol><li>  Key fitting to a multiple of 16 (for AES encryption) </li><li>  Compress raw data using zlib </li><li>  Fits in length 16 and encrypts compressed data </li><li>  Re-compress encrypted data </li><li>  Calculating the MD5 hash from the encryption key for comparison when decrypting </li><li>  Finding the minimum number of '\ 0' that are not found in a row in the text for use as a data separator and white (literally) noise </li><li>  Preparing a grayscale image and filling it with random data </li><li>  Write a string (data_length + MD__length_key + MD5_key + data) on top of noise </li></ol><br>  The string (in the form of bytes) is written by a square in the upper left corner of the image, merging with white noise.  The result is something like some kind of texture - for example, a stone from the game Minecraft.  Judge for yourself: 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <img src="https://habrastorage.org/webt/ii/v6/jx/iiv6jxodvgwijwivbn3garrff8e.png" width="64"><img src="https://habrastorage.org/webt/dc/al/cz/dcalczecklohdw4jidwex4vjzzs.png" width="64"><br><br>  Of course, it is not difficult to understand that this is a cipher, but without an algorithm, it is not so easy to decipher it (after all, an AES key is needed, and not every format with prefixes and double compression will need to be recovered). <br><br><hr><br>  Well, we got the picture.  What to do with it now?  Send to the recipient, of course.  True, he should know the key and the algorithm (or script) for decryption in advance.  And everything would even be good, if not for one ‚Äúbut‚Äù.  And this ‚Äúbut‚Äù is compression. <br><br>  Obviously, to keep the original images of social.  networks is not profitable.  VK, for example, even converts PNG to JPG, using not the smallest compression ratio.  And, since we use specific values ‚Äã‚Äãof bytes (0-255), losing them will not lead to anything good.  The solution is to send the received images as documents (files). <br><br><hr><br>  I rolled out a deployed script in line 101 with exceptions and displaying progress and runtime in stderr.  You can always find it in the repository.  Most likely, I will be gradually refining it, although lately I have divorced enough projects (including those for habrastaty). <br><br>  True, I think this article (which grew out of the commentary) has exhausted itself.  I would be glad to hear the suggestions of other algorithms, and helpfully code them for you, adding to the same script. <br><br>  Thanks again <a href="https://habrahabr.ru/users/romabibi/" class="user_link">romabibi</a> for the idea;  adios. </div><p>Source: <a href="https://habr.com/ru/post/351858/">https://habr.com/ru/post/351858/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../351848/index.html">Russian VR market: why not</a></li>
<li><a href="../351850/index.html">VR yesterday, today and tomorrow: one of the first opinions</a></li>
<li><a href="../351852/index.html">Thymeleaf Tutorial: Chapter 9. Local Variables</a></li>
<li><a href="../351854/index.html">Thymeleaf Tutorial: Chapter 10. Attribute Priority</a></li>
<li><a href="../351856/index.html">Cryptocurrency and court practice. Enlightenment</a></li>
<li><a href="../351860/index.html">Authorization for lazy. Our rake</a></li>
<li><a href="../351862/index.html">Neoquest 2018: ‚ÄúFind Ichthyandra‚Äù</a></li>
<li><a href="../351864/index.html">How to grow from a junior tester into a good tester? The opinion of Alexander Alexandrov</a></li>
<li><a href="../351866/index.html">New Aether Cloud Console for Enterprise Security Management</a></li>
<li><a href="../351868/index.html">We use PHP for its intended purpose</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>