<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Best ways to use Angular.js</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="From the translator: 
 Hi, Habr! We continue to share with the community useful materials about the design and development. This time, the TrackDuck t...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Best ways to use Angular.js</h1><div class="post__text post__text-html js-mediator-article"><h3>  From the translator: </h3><br><blockquote>  Hi, Habr!  We continue to share with the community useful materials about the design and development.  This time, the <a href="http://trackduck.com/">TrackDuck</a> team prepared a translation of the article about Angular by Jeff Dickey, which we really liked and in due time made me look closer at Gulp.  This article will be useful for developers who want to save time on routine operations and build quality processes when developing web applications.  We actively use Angular to develop <a href="http://app.trackduck.com/">our own product for visual commenting on websites</a> , so we are ready to answer in the comments questions that interest you! <br></blockquote><br><br><img src="https://habrastorage.org/getpro/habr/post_images/cd0/6a1/4eb/cd06a14ebb0c88f40fbf70c434f312c8.jpg"><br><br>  I used Angular in quite a large number of applications and saw many ways of structuring applications using this framework.  Now I am writing a book on designing Angular applications using the MEAN stack, and most of the research I have done in this direction.  As a result, I stopped at a rather original structure of the application.  I think my approach is simpler than the one proposed by <a href="http://developer.telerik.com/featured/requiring-vs-browerifying-angular/">Burke Holland</a> . <br>  Before I begin, I would like to talk about the existing approach to the implementation of modularity in Angular. <a name="habracut"></a>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h3>  What is a module in JavaScript </h3><br>  JavaScript applications by default do not have the ability to load modules.  First, let's understand what a ‚ÄúModule‚Äù is, since everyone can understand this in their own way. <br>  The module allows developers to divide the application into logical parts.  Also in JavaScript, the division of an application into modules allows you to avoid conflicts of global variables. <br><br>  Newbies to JavaScript may be surprised by the fact that so much attention is paid to modules.  I want to immediately note one thing - the main purpose of the modules is NOT the organization of the delayed (lazy-loading) loading of application components.  Require.js allows you to implement this, and this is not the main thing in modules. <br><br>  So, as I already noted, JS does not support modules, so over time, several ways to solve this problem have appeared.  You can skip the next section if you are already familiar with the organization of modularity in JS. <br><br><h3>  .noConflict () </h3><br>  I would like to illustrate the problem: let's say you want to include jQuery in your project.  jQuery must define a global variable '$'.  If your code already uses a variable with the same name, naturally, you will get a variable conflict.  Usually this problem is solved using the .noConflict () function.  Simply put, .noConflict () allows you to change the name of a variable that you use for a library. <br><br><pre><code class="html hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span><span class="actionscript"><span class="actionscript"> </span><span class="hljs-keyword"><span class="actionscript"><span class="hljs-keyword">var</span></span></span><span class="actionscript"> $ = </span><span class="hljs-string"><span class="actionscript"><span class="hljs-string">'myobject that jquery will conflict with'</span></span></span><span class="actionscript"> </span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">src</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">'//ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js'</span></span></span><span class="hljs-tag">&gt;</span></span><span class="undefined"></span><span class="hljs-tag"><span class="undefined"></span><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span><span class="actionscript"><span class="actionscript"> </span><span class="hljs-comment"><span class="actionscript"><span class="hljs-comment">// $ is jQuery since we added that script tag var jq = jQuery.noConflict(); // $ is back to 'myobject that jquery will conflict with' // jq is now jQuery </span></span></span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br><br>  This is quite common, but not the most convenient solution for most JavaScript libraries.  It does not provide good code separation - you have to declare modules before using them, and in fact this approach forces you to use a method similar to .noConflict () <br><br>  If you still have questions about the operation of the .noConflict function, follow the link and read this <a href="http://stackoverflow.com/questions/7882374/how-do-i-implement-jquery-noconflict">useful material</a> . <br><br>  There are alternative solutions to the problem, and I would like to tell you about 4 main areas: <br><ul><li>  Require.js (Implementation of AMD) </li><li>  Browserify (Implementation of CommonJS) </li><li>  Angular dependency injection </li><li>  ES6 modules </li></ul><br><br>  Each of them has its own specifics, pros and cons.  You can also use several of these solutions at the same time (for example, <a href="http://developer.telerik.com/featured/requiring-vs-browerifying-angular/">Burke Holland</a> uses two).  Let's look at each of the solutions. <br><br><h3>  Sample App </h3><br>  Let's create a small application on Angular and try to figure it out with a real example. <br>  Here is a link to the <a href="https://github.com/dickeyxxx/ng-modules">GitHub repository with ready-made code</a> .  For convenience, let's start working with JavaScript in a single app.js file: <br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> app = angular.module(<span class="hljs-string"><span class="hljs-string">'app'</span></span>, []) app.factory(<span class="hljs-string"><span class="hljs-string">'GithubSvc'</span></span>, <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">$http</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> { <span class="hljs-attr"><span class="hljs-attr">fetchStories</span></span>: <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> $http.get(<span class="hljs-string"><span class="hljs-string">'https://api.github.com/users'</span></span>) } } }) app.controller(<span class="hljs-string"><span class="hljs-string">'GithubCtrl'</span></span>, <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">$scope, GithubSvc</span></span></span><span class="hljs-function">) </span></span>{ GithubSvc.fetchStories().success(<span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">users</span></span></span><span class="hljs-function">) </span></span>{ $scope.users = users }) })</code> </pre><br><br>  Define the object 'app' - this is our module.  Next, we define the 'GithubSvc' service with a single function that will help us get GitHub users. <br>  Finally, we define a controller that will use the service to load users into an array located in $ scope.  <a href="https://github.com/dickeyxxx/ng-modules/blob/gh-pages/index.html">Here is the template</a> with which we will display the list. <br><br><h3>  Splitting into separate files </h3><br>  The problem is that now our code is in one file, which is completely inapplicable for a real application.  From the very beginning of my acquaintance with Angular, every time I saw code samples, I wanted to see a more realistic code with the division into files, which is used in real life. <br><br>  In our example, I would suggest this structure: <br><ul><li>  src / module.js </li><li>  src / github / github.svc.js </li><li>  src / github / github.ctrl.js </li></ul><br><br>  If your application is small, use an alternative way to split files: <br><ul><li>  src / module.js </li><li>  src / services / github.svc.js </li><li>  src / controllers / github.ctrl.js </li></ul><br><br>  In any case, without using a module like browserify or require.js, we must include each of these files using the script tag.  It is important to understand that your code can easily grow to hundreds of files and it will be just inconvenient to manage their connection in this way. <br><br>  When a large number of files are connected, there is also a performance problem - the browser, when loading the application, should simultaneously establish many connections to the server.  With a slow internet connection, your users will encounter problems and long download times. <br><br>  We need a way that allows the developer to connect a large number of js files, and they should not be loaded into the browser at the same time (without connecting via the script tag) <br><br>  That is why people use the require.js or browserify module loaders.  Angular allows you to logically break code, but not files.  I want to show a simpler solution, but first, let's look at the well-known ways of managing the loading of modules. <br><br><h3>  Require.js - very difficult </h3><br>  Require.js was the first attempt to use modules in javascript.  The solution allows you to define dependencies directly inside the js file, runs in a browser and is able to load modules as needed. <br><br>  Thus, this library allows us to achieve two goals at once - to load modules from js and determine the order of loading. <br><br>  Unfortunately, this library is very difficult to connect and configure.  It requires code written in a certain way and has a very high entry threshold for the programmer.  In addition, it does not allow enough well handle cyclic dependencies.  This can lead to problems when you try to build a modular solution for your Angular application using this library. <br><br>  More details about require.js can be found in <a href="http://developer.telerik.com/featured/requiring-vs-browerifying-angular/">this review</a> . <br><br>  The ability to require.js to load modules on demand does not work for Angular.  Although in reality I have never worked with a project that had this need.  In addition, I would like to emphasize once again that this functionality is not vital for Angular developers.  It is much more important to be able to properly divide your code into logical parts. <br><br><h3>  Browserify ‚Äî A Good Module Loader </h3><br>  Unlike require.js, which uses a browser to load modules, browserify processes your code on the server before it starts executing in the browser.  You can not take a browserify file and run it in a browser.  First you need to create a 'package'. <br><br>  Packages use a format similar to that of node.js modules (moreover, they are almost always compatible).  It looks like this: <br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> moduleA = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">'my-module'</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> moduleB = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">'your-module'</span></span>) moduleA.doSomething(moduleB)</code> </pre><br><br>  It really looks more comfortable and readable.  You simply declare a variable and require () for the module to which it belongs.  Writing code to export a module is easy. <br><br>  In Node, this works well because all the plug-ins are in the file system and take almost no time to load. <br>  So with the help of browserify, you can run the code and it will collect all the files in one package, which can be fully used in the browser.  Read more about browserify in <a href="http://developer.telerik.com/featured/requiring-vs-browerifying-angular/">this article</a> . <br><br>  This is a great tool that you can use in your project that does not use Angular.  For Angular, I offer you an even simpler solution. <br><br><h3>  Angular Dependency Injection - solves most of our problems. </h3><br>  Go back and look at app.js.  I would like to note this point: <br>  it doesn't matter in which order we create services and controllers.  Angular will handle all dependencies for us with the help of internal mechanisms. <br><br>  When using this method to work with the 'app' object, we must be sure that the module is declared at the beginning of the program.  This is the only place where the order of declarations in Angular matters, since I want to merge all the JavaScript files. <br><br><h3>  Gulp concat </h3><br>  I will use Gulp to merge JS files.  Do not worry about the need to learn a new tool, I will use it in a very simple way and you can easily port it to Grunt, Make or the utility you are used to.  You just need something that will help you automate the merging of files. <br><br>  I tried all the modern build systems and Gulp is undoubtedly my favorite.  When it comes to working with JS or CSS, it works great. <br><br>  You might think that I just want to replace one build tool (browserify) with another (Gulp), and you will be right.  But, Gulp can solve a wider range of tasks.  You can configure and use Gulp for such tasks as minifying, precompiling CoffeeScript, generating sourcemaps, image processing, compiling scss or sass, starting a dev server on node.js.  All this will provide us with a platform for further expansion of our project. <br><br>  First I install Gulp and Gulp-concat <br><pre> <code class="bash hljs">$ npm install --global gulp $ npm install --save-dev gulp gulp-concat</code> </pre><br><br>  You will need to create a package.json file in your project and install node.js.  Here is a small trick to help you initiate a new project: <br><pre> <code class="bash hljs">$ <span class="hljs-built_in"><span class="hljs-built_in">echo</span></span> <span class="hljs-string"><span class="hljs-string">'{}'</span></span> &gt; package.json</code> </pre><br><br>  Next, create a gulpfile.js file: <br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> gulp = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">'gulp'</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> concat = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">'gulp-concat'</span></span>) gulp.task(<span class="hljs-string"><span class="hljs-string">'js'</span></span>, <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ gulp.src([<span class="hljs-string"><span class="hljs-string">'src/**/module.js'</span></span>, <span class="hljs-string"><span class="hljs-string">'src/**/*.js'</span></span>]) .pipe(concat(<span class="hljs-string"><span class="hljs-string">'app.js'</span></span>)) .pipe(gulp.dest(<span class="hljs-string"><span class="hljs-string">'.'</span></span>)) })</code> </pre><br><br>  This is a simple task that combines javascript files from the / src directory into the app.js file.  JS files are listed in this order is not surprising - it is with such an entry files *.  module.js will be included first.  I will tell about it when we take a closer look at minification. <br><br>  If you want to try experimenting with concatenation in Gulp, <a href="https://github.com/dickeyxxx/ng-modules/tree/gh-pages/src">download these files</a> and run the command 'gulp js' to run.  More information about Gulp can be found by <a href="http://blog.carbonfive.com/2014/05/05/roll-your-own-asset-pipeline-with-gulp/">reading my article</a> . <br><br><h3>  Gulp watch </h3><br>  It is very simple and the code speaks for itself: <br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> gulp = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">'gulp'</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> concat = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">'gulp-concat'</span></span>) gulp.task(<span class="hljs-string"><span class="hljs-string">'js'</span></span>, <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ gulp.src([<span class="hljs-string"><span class="hljs-string">'src/**/module.js'</span></span>, <span class="hljs-string"><span class="hljs-string">'src/**/*.js'</span></span>]) .pipe(concat(<span class="hljs-string"><span class="hljs-string">'app.js'</span></span>)) .pipe(gulp.dest(<span class="hljs-string"><span class="hljs-string">'.'</span></span>)) }) gulp.task(<span class="hljs-string"><span class="hljs-string">'watch'</span></span>, [<span class="hljs-string"><span class="hljs-string">'js'</span></span>], <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ gulp.watch(<span class="hljs-string"><span class="hljs-string">'src/**/*.js'</span></span>, [<span class="hljs-string"><span class="hljs-string">'js'</span></span>]) })</code> </pre><br><br>  Here we just add a new task 'gulp watch' which will perform the task 'js' every time when any of the javascript files in 'src / ** / *. Js' is changed.  Woo-la, we got rid of the routine! <br><br><h3>  Minification </h3><br>  It's time to start minifying our code.  In Gulp, we create a stream for source files that need to be processed with several modules (Minimize, Concatenation, etc.) and then save them. <br><br>  Let's start with gulp-uglify.  First you need to install it using npm: <br><pre> <code class="bash hljs">npm install -D gulp-uglify</code> </pre><br><br>  Now we add our Gulp file: <br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> gulp = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">'gulp'</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> concat = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">'gulp-concat'</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> uglify = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">'gulp-uglify'</span></span>) gulp.task(<span class="hljs-string"><span class="hljs-string">'js'</span></span>, <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ gulp.src([<span class="hljs-string"><span class="hljs-string">'src/**/module.js'</span></span>, <span class="hljs-string"><span class="hljs-string">'src/**/*.js'</span></span>]) .pipe(concat(<span class="hljs-string"><span class="hljs-string">'app.js'</span></span>)) .pipe(uglify()) .pipe(gulp.dest(<span class="hljs-string"><span class="hljs-string">'.'</span></span>)) })</code> </pre><br><br>  But we have a problem.  Gulp-uglify, recognizing the argument names of the Angular function, must inject dependencies.  Now our application is not working.  If you are not familiar with this problem, read.  <a href="https://docs.angularjs.org/guide/di">docs.angularjs.org/guide/di</a> <br><br>  We can use the cumbersome syntax of arrays in code or a great tool: <a href="https://www.npmjs.org/package/gulp-ng-annotate">ng-gulp-annotate</a> <br><br>  Install it: <br><pre> <code class="bash hljs">npm install -D gulp-ng-annotate</code> </pre><br><br>  And add our gulpfile: <br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> gulp = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">'gulp'</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> concat = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">'gulp-concat'</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> uglify = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">'gulp-uglify'</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> ngAnnotate = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">'gulp-ng-annotate'</span></span>) gulp.task(<span class="hljs-string"><span class="hljs-string">'js'</span></span>, <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ gulp.src([<span class="hljs-string"><span class="hljs-string">'src/**/module.js'</span></span>, <span class="hljs-string"><span class="hljs-string">'src/**/*.js'</span></span>]) .pipe(concat(<span class="hljs-string"><span class="hljs-string">'app.js'</span></span>)) .pipe(ngAnnotate()) .pipe(uglify()) .pipe(gulp.dest(<span class="hljs-string"><span class="hljs-string">'.'</span></span>)) })</code> </pre><br>  I hope you start to see the value in Gulp! <br><br><h3>  Sourcemaps </h3><br>  Almost everyone uses debugging to diagnose problems with code.  The problem is that minified JavaScript cannot be debugged.  For this, code maps (sourcemaps) are used.  Here is a Gulp plugin that will help generate them: <br><br>  Install gulp-sourcemaps: <br><pre> <code class="bash hljs">npm install -D gulp-sourcemaps</code> </pre><br><br>  And add the appropriate notation in the gulpfile: <br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> gulp = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">'gulp'</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> concat = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">'gulp-concat'</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> sourcemaps = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">'gulp-sourcemaps'</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> uglify = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">'gulp-uglify'</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> ngAnnotate = <span class="hljs-built_in"><span class="hljs-built_in">require</span></span>(<span class="hljs-string"><span class="hljs-string">'gulp-ng-annotate'</span></span>) gulp.task(<span class="hljs-string"><span class="hljs-string">'js'</span></span>, <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> (</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ gulp.src([<span class="hljs-string"><span class="hljs-string">'src/**/module.js'</span></span>, <span class="hljs-string"><span class="hljs-string">'src/**/*.js'</span></span>]) .pipe(sourcemaps.init()) .pipe(concat(<span class="hljs-string"><span class="hljs-string">'app.js'</span></span>)) .pipe(ngAnnotate()) .pipe(uglify()) .pipe(sourcemaps.write()) .pipe(gulp.dest(<span class="hljs-string"><span class="hljs-string">'.'</span></span>)) })</code> </pre><br><br><h3>  Why concatenation is better </h3><br>  Because, first of all it is easier.  Angular handles all the download code for us, we just have to help with the files. <br>  It is also great because when creating new files, it‚Äôs enough to add them to the directory with existing ones.  No additional declaration of these files anywhere, as, for example, in browserify, is required.  No dependencies that were in require.js <br>  Actually, the fewer places where we can make a mistake, the fewer errors there will be. <br><br><h3>  Summary </h3><br>  <a href="https://github.com/dickeyxxx/ng-modules">Here is the final code</a> .  This can easily become the starting point for building your Angular application. <br><ul><li>  It is well structured. </li><li>  JS is automatically minified. </li><li>  It has source code maps. </li><li>  It does not have Global Variables. </li><li>  No redundant script tags are used. </li><li>  Build setup is very simple. </li></ul><br><br>  I tried to make the description as universal as possible. As I mentioned earlier, it is not only realizable with Gulp.  Repeat the same with any collector that supports JS concatenation. <br><br><h3>  Looking to the future: Angular 2.0 and ES6 </h3><br>  It is expected that the next version of JavaScript will solve the problem of modules at the native level.  And when ES6 gets widespread support - of course this article will become archaic, but nevertheless, I hope for some time I helped you. <br><br>  It is worth noting that Angular 2.0 is planning to support ES6 modules, and this is great.  I think it will be like a set of packages from which you can easily compose the necessary functionality for your application.  But while version 2.0, unfortunately is also far from release. <br>  Angular 2.0 will use a separate di.js library, which will be responsible for the modules.  We can easily use it in all applications on Angular.  The only problem is that before the release of ES6 and A2.0 you will have to deal with the current implementation of the modules, with which, I hope, my article will help you. </div><p>Source: <a href="https://habr.com/ru/post/230257/">https://habr.com/ru/post/230257/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../230247/index.html">6 tools available usability testing for websites</a></li>
<li><a href="../230249/index.html">Are you afraid of gradle as I fear it?</a></li>
<li><a href="../230251/index.html">Wiren Board Smart Home batch production experience</a></li>
<li><a href="../230253/index.html">An animator from Russia is working on creating a 3D version of the intro to Futurama.</a></li>
<li><a href="../230255/index.html">How to discuss money at the interview: the negotiation strategy for the applicant</a></li>
<li><a href="../230259/index.html">Microsoft fires 18,000 employees</a></li>
<li><a href="../230261/index.html">VMware vCloud Connector Part 1. Product Overview and Base Version Installation</a></li>
<li><a href="../230263/index.html">Speech synthesizer directly connected to the brain</a></li>
<li><a href="../230265/index.html">Tugging a Camel or integration with Camel. Part 1</a></li>
<li><a href="../230267/index.html">Juniper tincture: Prepare Juniper SRX. Part 2: IPSec</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>