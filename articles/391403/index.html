<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Wireless wit. Overview module ESP-8266 Witty</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="During its still short existence, ESP8266 managed to mutate into many modifications of various sizes and shapes with different capabilities. 
 And now...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Wireless wit. Overview module ESP-8266 Witty</h1><div class="post__text post__text-html js-mediator-article">  During its still short existence, ESP8266 managed to mutate into many modifications of various sizes and shapes with different capabilities. <br>  And now, from the Celestial Empire, I came to a headscarf based on it, which I had never had to hold in my hands before.  In something interesting, in something funny.  Let's figure it out. <br><br><img src="https://habrastorage.org/files/88b/eb7/302/88beb7302ef844a5b3225849d4b0162c.jpg" alt="image"><br><br>  This board has a proper name: Witty.  Yeah, the wits of the creators, the Chinese company Gizwits, just do not hold. <br>  In general, Gizwits is positioning itself as a provider of solutions for the smart home, whatever that means. <br>  Among other things, this company has its own cloud for the Internet of things, which also includes remote management.  Accordingly, there is support for a number of wireless devices.  Including the ESP 8266 in such an unusual version. <br><a name="habracut"></a>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      For those who are too lazy to read, the video version of this material: <br><iframe width="560" height="315" src="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://www.youtube.com/embed/AlD3DdATObM%3Ffeature%3Doembed&amp;xid=17259,15700023,15700186,15700191,15700248,15700253&amp;usg=ALkJrhj15HrV67VbyuJoh-_SB9w0aOis9Q" frameborder="0" allowfullscreen=""></iframe><br><br><h3>  Module </h3><br><br><img src="https://habrastorage.org/files/84d/1ad/646/84d1ad64632547e1931f8851aa7f1e80.jpg" alt="image"><br><br>  The most interesting thing in the design of this module is that it consists of two separate boards: the controller board itself and the auxiliary one used for firmware and communication with the computer. <br><br>  Consider them separately. <br><img src="https://habrastorage.org/files/97c/f28/457/97cf284572ca4372b51fe4e4b4917295.jpg" alt="image"><br>  We immediately see that the module is assembled on the basis of ESP-12.  The description indicates that the latest ESP-12F model is used at the time of release of this material.  Whether this is so, I can not say, because it is difficult to visually distinguish between ESP-12E and ESP-12F. <br><br>  Divided all the findings of the ESP-12, and divorced c increments of one-tenth of an inch, which will easily mount it on common layout.  Also installed on the module: <br>  - light sensor.  A simple photoresistor connected to the analog input through a divider; <br>  - RGB SMD5050 format LED; <br>  - button, apparently connected to GPIO4. <br><br>  <b><i>Unobvious moment</i></b> <br>  On the leg of the Vcc of our module is not 3.3V, as one would assume, but 5V.  And they go directly from the LM1117, which allows to feed significant loads from the Vcc foot.  If you need 3.3V, you can take them from the foot CH_PD. <br><br><img src="https://habrastorage.org/files/863/526/792/8635267920504470b04493b62e2a69c0.jpg" alt="image"><br><br>  On the bottom side of the board we see: <br>  - microUSB-connector used for power; <br>  - Converter 1117, reducing coming with microUSB 5V to 3.3V; <br>  - body kit for LEDs, and light sensor. <br><br>  <b>Second board</b> <br><br><img src="https://habrastorage.org/files/a45/c72/83a/a45c7283a91c4fd490bb8b1af89c331b.jpg" alt="image"><br><br>  It seems that it was planned as a Shield for firmware.  It shows another microUSB connector, the ch340 chip, a USB-UART converter and buttons, labeled RESET and FLASH. <br><br>  Thus, it can be assumed that, according to the manufacturer's idea, all wired communication with this module should pass through this Shield.  It is strange then why this Shield is not made through, to give the opportunity to plant it directly on the breadboard.  It turns out that for each firmware update the module will have to be removed from the circuit, which is not very convenient. <br><br>  Another surprise awaits us when trying to install this module in the layout. <br>  The module occupies the entire width of the brainboard.  Accordingly, it becomes difficult to switch something with wires with dupont connectors.  Or rather, altogether impossible.  The only solution that comes to my mind is to connect several prototypes in parallel and connect the module to both at once. <br><br><h3>  First start </h3><br>  We figured out the design, now we feed the microUSB board to the module and see what happens. <br><br>  The LED lights up - it means the module is working.  Conveniently, no additional power supply units are needed, because the 500 milliamperes that the usb port issues are enough for the module. <br><br>  After launching the module, I expected to see a new network, which by default all 8266s create on the standard firmware, but this did not happen, new networks were not detected in radius of visibility.  Strange ... <br><br>  Having connected to the module via the wire using the ESPlorer utility (I use it to communicate with the board by habit), I got something unintelligible to the console. <br>  It looks like non-standard firmware. <br><br>  Well, I'm not going to connect to the Chinese cloud, so I‚Äôm going to get a module with something more suitable.  For example, NodeMCU. <br><br>  To do this, we again assemble a sandwich from two boards and connect it already through the microUSB port of the lower module. <br><br>  I was pleased that the firmware was successful, without any problems.  The main thing is to press the FLASH button in time. <br><br>  <b><i>Help to explain</i></b> <br>  During the first launches (approximately 2-3 hours of experiments) the module was significantly heated.  The chip screen a minute after the start was about 39-40 degrees sensation and the temperature continued to rise (after 20 minutes of continuous work of the doholide to the level ‚ÄúI can barely touch‚Äù).  It became interesting that it would be, so I left the module to fry and did other things.  After a while, I touched the module - it was at room temperature (which is typically ESP-12) and has not been heated since. <br>  Who has ideas with what it can be connected - please write in the comments. <br><br><h3>  Job </h3><br>  So, the module responds to commands, connected to my wi-fi - everything seems to be in order. <br>  What do first of all with your favorite new module or controller?  Right!  Blink LED!  Nor will we depart from tradition.  Looking at the tracks on the board and experimenting, I found that the following outputs are used to control the LED's glow: <br>  GPIO12 - green <br>  GPIO13 - blue <br>  GPIO15 - red <br>  And the manufacturer did not bother to put the limiting resistors of different ratings for each of the colors, so at full brightness red is much dimmer than the others.  However, these outputs support PWM.  And if it is critical for someone, he can adjust the brightness of the glow on his own. <br><br>  Now turn the light sensor. <br>  As expected, this sensor is connected to the single analog input of the ESP-8266 - adc pin.  Indications change in accordance with changes in light.  The only photosensitive resistor used in this module changes its parameters in a very wide range.  Therefore, when it is connected to the ESP-8266 through the simplest divider, as is done in this module, the sensor will show the illumination only in a narrow range.  Slightly darker - 0, a little brighter - maximum. <br><br><img src="https://habrastorage.org/files/4fe/74f/f7e/4fe74ff7e4bf46bcab8713cb9ecb814f.jpg" alt="image"><br><br><h3>  Findings. </h3><br>  <b><i>Advantages of Witty:</i></b> <br>  1. The module is assembled and ready to go.  No need to connect with a shaman, wondering if there is enough power.  Just plug in the microUSB and go! <br>  2. A flasher in the kit.  You do not need to connect a third-party USB-UART, only output a special button for the firmware. <br>  3. Built-in light sensor. <br>  size 4.  More compact than NodeMCU board.  Although it occupies the entire width of the layout. <br><br>  <b><i>Disadvantages:</i></b> <br>  1. Size.  Still, I would like to have at least one row of holes in the breadboard free. <br>  2. Dismantling from the layout is required for each firmware (or connecting via Tx, Rx, which kills the idea of ‚Äã‚Äãa convenient connection) <br>  3. The LED is parallelized with three GPIO Outputs.  Either do not use them, or light music. <br><br>  <b><i>For whom is she:</i></b> <br>  I would recommend this board to those who are just planning to get acquainted with ESP-8266, who wants to understand at all if he needs this controller.  Thus, the threshold of entry becomes minimal.  No shamanism with the connection, power and other vagaries of ESP-8266, which many have discouraged continue acquaintance with the controller. <br>  It will also be useful as part of a set for rapid prototyping (why I actually took it) or for single-use devices (done-worked-disassembled) <br><br>  Link to the store where I took it (not advertising): <br>  <a href="http://ru.aliexpress.com/item/Free-Shipping-SMD-Resistor-0805-51R-5-resistor-smd-resistor-51R-5000pcs-reel-in-stock-if/1882818309.html">ru.aliexpress.com/item/Free-Shipping-SMD-Resistor-0805-51R-5-resistor-smd-resistor-51R-5000pcs-reel-in-stock-if/1882818309.html</a> </div><p>Source: <a href="https://habr.com/ru/post/391403/">https://habr.com/ru/post/391403/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../391389/index.html">Happy man who managed to realize all his dreams and intentions. Admiral-engineer and academician A.I. Berg and Ki-Berg-Netika</a></li>
<li><a href="../391393/index.html">Wrong honey: French beekeeper has learned to make hemp honey</a></li>
<li><a href="../391395/index.html">PCB Ruler. The ruler of radio amateur and crowdfunding in Vkontakte</a></li>
<li><a href="../391399/index.html">Not stupid office</a></li>
<li><a href="../391401/index.html">HackerQuest v0.97: quest room of the Nightmare difficulty level</a></li>
<li><a href="../391405/index.html">iOS 9.3 will report on employer surveillance</a></li>
<li><a href="../391407/index.html">World Drone Prix Super Bowl Race: $ 1 million prize pool</a></li>
<li><a href="../391409/index.html">Dawn probe has been studying Ceres for a year now: interesting discoveries and new puzzles</a></li>
<li><a href="../391413/index.html">Visualization of music in the XXI century: from Animusic to the music box</a></li>
<li><a href="../391415/index.html">Google has discovered the next version of Android for developers.</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>