<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Website creation on Yii 2 (blog, basic) - Part 1</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hello! I will try to describe in detail the process of developing a basic version of a blog using Yii 2 (basic) for educational purposes. 

 Why basic...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Website creation on Yii 2 (blog, basic) - Part 1</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/getpro/habr/post_images/d8a/b34/9e9/d8ab349e9df8c9cfa142955afeafa919.jpg" alt="image"><br><br>  Hello!  I will try to describe in detail the process of developing a basic version of a blog using Yii 2 (basic) for educational purposes. <br><br>  Why basic?  If you take up advanced, you can easily get confused at the first couple. <br><a name="habracut"></a><br>  Before starting, I will talk about software: 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <ul><li>  web server with PHP module and SQL database.  In this case, I recommend assembling the <a href="https://www.apachefriends.org/ru/download.html">XAMPP</a> web server, it is easy to install, easy to use control interface ..; </li><li>  <a href="http://www.yiiframework.com/download/">Basic version Yii 2</a> .  To install Yii 2, I recommend <a href="https://ru.wikipedia.org/wiki/Composer">Composer</a> (package manager).  Mastering Composer, later you save a whole bunch of time, not only with yii, but with other software.  Since  Composer loads yii from GitHub, <a href="http://sauron.org.ua/post/947">Composer asks token github</a> , if you have an account on GitHub, this problem is solved very quickly. </li></ul><br>  Recommendations: <br><br><ul><li>  knowledge of OOP in PHP; </li><li>  basic knowledge of SQL; </li><li>  if you are not familiar with the <a href="https://ru.wikipedia.org/wiki/Model-View-Controller">MVC pattern</a> , then before learning Yii 2 you just have to know what it is; </li><li>  I also recommend that you familiarize yourself with the <a href="https://nix-tips.ru/yii2-api-guides/guide-ru-start-workflow.html">documentation</a> , the most important will be the <b>‚ÄúFirst Acquaintance‚Äù</b> and the <b>‚ÄúStructure of the Application‚Äù</b> , the rest can be effectively studied in the process. </li></ul><br><h2>  <strong>1) Configure the database and create tables</strong> </h2><br>  So, you somehow installed Yii 2 basic, you checked the work of the standard script. <br>  I propose to start with setting up the database, I will use MySQL and phpMyAdmin. <br><br>  Yii needs information about the database, go to one of the application configuration files, namely in <b>basic \ config \ db.php</b> : <br><br><pre><code class="php hljs"><span class="hljs-keyword"><span class="hljs-keyword">return</span></span> [ <span class="hljs-string"><span class="hljs-string">'class'</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">'yii\db\Connection'</span></span>, <span class="hljs-comment"><span class="hljs-comment">//    'dsn' =&gt; 'mysql:host=localhost;dbname=yii2basic', //   , URL 'username' =&gt; 'root', //     'password' =&gt; '', //     'charset' =&gt; 'utf8', //  ];</span></span></code> </pre> <br>  Standard parameters are the same as those I need.  This data will be used by the yii \ db \ Connection class (also specified in the parameters) to initialize and create an instance of this class, and accordingly the classes with access to the DB. <br><br>  In this case, we need several tables: <br><br><ul><li>  table for <b>users</b> , because  in the basic version, standard registration / login via the database is not implemented; </li><li>  table for blog <b>articles</b> . </li></ul><br>  I will add new tables to the database through <a href="https://nix-tips.ru/yii2-api-guides/guide-ru-db-migrations.html">migrations</a> , they will help to communicate between individual databases.  It is not necessary to apply migrations, but this will allow you to apply / cancel / apply_read / watch_migration_ history in each individual copy of the application. <br><br>  So, to create a migration, you need to chat with the yii.bat file located in the basic directory of the application. <br><br>  I will communicate through the <b>command line</b> windows <br>  Directory change: <br><pre> <code class="php hljs">cd C:\xampp\htdocs\Yii2St\basic</code> </pre><br><br>  Creating migrations for user and post tables (table for articles): <br><br>  Code after cd: <br><br><pre> <code class="php hljs">yii migrate/create create_post_table</code> </pre><br>  (For table post) <br><br><pre> <code class="php hljs">yii migrate/create create_user_table</code> </pre><br>  (For user table) <br><br>  Yii will create a migrations folder if it is not there.  Now there are 2 files and classes for the two above created migrations. <br><br>  Head over to <br>  <b>basic \ migrations \ m170304_160410_create_user_table</b> . <br>  We make changes to the ‚Äúup‚Äù function, do the same table as in the advanced version: <br><br><pre> <code class="php hljs"> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">up</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> //   </span></span>{ $tableOptions = <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;db-&gt;driverName === <span class="hljs-string"><span class="hljs-string">'mysql'</span></span>) { <span class="hljs-comment"><span class="hljs-comment">//  ,         . $tableOptions = 'CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE=InnoDB'; } $this-&gt;createTable('user', [ 'id' =&gt; $this-&gt;primaryKey(), 'username' =&gt; $this-&gt;string()-&gt;notNull()-&gt;unique(), 'auth_key' =&gt; $this-&gt;string(32)-&gt;notNull(), 'password_hash' =&gt; $this-&gt;string()-&gt;notNull(), 'password_reset_token' =&gt; $this-&gt;string()-&gt;unique(), 'email' =&gt; $this-&gt;string()-&gt;notNull()-&gt;unique(), 'status' =&gt; $this-&gt;smallInteger()-&gt;notNull()-&gt;defaultValue(10), 'created_at' =&gt; $this-&gt;integer()-&gt;notNull(), 'updated_at' =&gt; $this-&gt;integer()-&gt;notNull(), ], $tableOptions); }</span></span></code> </pre><br><br>  We also make changes for articles in the <b>basic \ migrations \ m170304_160323_create_post_table</b> : <br><br><pre> <code class="php hljs"> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">up</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ $tableOptions = <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;db-&gt;driverName === <span class="hljs-string"><span class="hljs-string">'mysql'</span></span>) { $tableOptions = <span class="hljs-string"><span class="hljs-string">'CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE=InnoDB'</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;createTable(<span class="hljs-string"><span class="hljs-string">'post'</span></span>, [ <span class="hljs-string"><span class="hljs-string">'id'</span></span> =&gt; <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;primaryKey(), <span class="hljs-string"><span class="hljs-string">'author_id'</span></span> =&gt; <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;integer()-&gt;notNull(), <span class="hljs-comment"><span class="hljs-comment">// 'date' =&gt; $this-&gt;integer()-&gt;notNull(), 'category_id' =&gt; $this-&gt;integer()-&gt;notNull(), //  'text' =&gt; $this-&gt;text()-&gt;notNull(), 'title' =&gt; $this-&gt;string()-&gt;notNull()-&gt;unique(), //   'abridgment' =&gt; $this-&gt;text()-&gt;notNull(), //   'activity' =&gt; $this-&gt;integer()-&gt;notNull()-&gt;defaultValue(0), //   ], $tableOptions); }</span></span></code> </pre><br>  Then simply execute this code in the console: <br><br><pre> <code class="php hljs">yii migrate</code> </pre> <br>  If it is simpler to say, this command executes the up methods in the migration classes + updates / adds the table 'migration', accordingly the down method reverses the changes. <br><br>  Tables are ready. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/7ac/0e9/4c8/7ac0e94c898c51d00ba23b08db52d717.jpg" alt="image"><br><br><h2>  2) Adding the function of registration / login through DB </h2><br><br>  (About the <a href="https://nix-tips.ru/yii2-api-guides/guide-ru-security-authentication.html">User</a> component <a href="https://nix-tips.ru/yii2-api-guides/guide-ru-security-authentication.html">and IdentityInterface</a> ) <br><br>  In Yii, there is a component of the User application, it controls the status of user authentication, for example: <br><br><pre> <code class="php hljs">Yii::$app-&gt;user-&gt;isGuest; <span class="hljs-comment"><span class="hljs-comment">//  false,    Yii::$app-&gt;user-&gt;logout(); //    Yii::$app-&gt;user-&gt;identity-&gt;username //  username  //  ..</span></span></code> </pre><br>  It requires you to specify an <b>identity class</b> that will contain the current authentication logic: <br><br><pre> <code class="php hljs">$config = [ ... <span class="hljs-string"><span class="hljs-string">'components'</span></span> =&gt; [ .... <span class="hljs-string"><span class="hljs-string">'user'</span></span> =&gt; [ <span class="hljs-string"><span class="hljs-string">'identityClass'</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">'app\models\User'</span></span>, <span class="hljs-comment"><span class="hljs-comment">//      User ], .... ] ... ];</span></span></code> </pre><br><br>  In the standard User model, the storage of logins and passwords (etc.) looks like this (code from User itself): <br><pre> <code class="php hljs"> <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> $users = [ <span class="hljs-string"><span class="hljs-string">'100'</span></span> =&gt; [ <span class="hljs-string"><span class="hljs-string">'id'</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">'100'</span></span>, <span class="hljs-string"><span class="hljs-string">'username'</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">'admin'</span></span>, <span class="hljs-string"><span class="hljs-string">'password'</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">'admin'</span></span>, <span class="hljs-string"><span class="hljs-string">'authKey'</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">'test100key'</span></span>, <span class="hljs-string"><span class="hljs-string">'accessToken'</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">'100-token'</span></span>, ], <span class="hljs-string"><span class="hljs-string">'101'</span></span> =&gt; [ <span class="hljs-string"><span class="hljs-string">'id'</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">'101'</span></span>, <span class="hljs-string"><span class="hljs-string">'username'</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">'demo'</span></span>, <span class="hljs-string"><span class="hljs-string">'password'</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">'demo'</span></span>, <span class="hljs-string"><span class="hljs-string">'authKey'</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">'test101key'</span></span>, <span class="hljs-string"><span class="hljs-string">'accessToken'</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">'101-token'</span></span>, ], ];</code> </pre><br>  Naturally registration with the standard model will be difficult to implement, all we need for a complete, convenient connection with the database is ActiveRecord, it will determine the properties in the class based on the rows in the table of the same name with the class name. <br>  For example: <br><pre> <code class="php hljs">$model-&gt;id; <span class="hljs-comment"><span class="hljs-comment">//  id  $model-&gt;id = 5; //  id $model-&gt;save(); //     </span></span></code> </pre><br>  Also, do not forget that the User component requires that the class it needs to implement the IdentityInterface interface for its personal purposes. <br>  <b>basic \ models \ User</b> : <br><br><pre> <code class="php hljs"><span class="hljs-keyword"><span class="hljs-keyword">namespace</span></span> <span class="hljs-title"><span class="hljs-title">app</span></span>\<span class="hljs-title"><span class="hljs-title">models</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">use</span></span> <span class="hljs-title"><span class="hljs-title">Yii</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">use</span></span> <span class="hljs-title"><span class="hljs-title">yii</span></span>\<span class="hljs-title"><span class="hljs-title">base</span></span>\<span class="hljs-title"><span class="hljs-title">NotSupportedException</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">use</span></span> <span class="hljs-title"><span class="hljs-title">yii</span></span>\<span class="hljs-title"><span class="hljs-title">db</span></span>\<span class="hljs-title"><span class="hljs-title">ActiveRecord</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">use</span></span> <span class="hljs-title"><span class="hljs-title">yii</span></span>\<span class="hljs-title"><span class="hljs-title">web</span></span>\<span class="hljs-title"><span class="hljs-title">IdentityInterface</span></span>; <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">User</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ActiveRecord</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">implements</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">IdentityInterface</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-comment"><span class="hljs-comment">//       ID    ,   'status'   SCATUS_ACTIVE const STATUS_DELETED = 0; //   () const STATUS_ACTIVE = 10; //    const STATUS_ADMIN = 1; //   (  II) //     public static function findIdentity($id) { return static::findOne(['id' =&gt; $id, 'status' =&gt; self::STATUS_ACTIVE]); } public static function findIdentityByAccessToken($token, $type = null) { throw new NotSupportedException('"findIdentityByAccessToken" is not implemented.'); } public static function findByUsername($username) { return static::findOne(['username' =&gt; $username, 'status' =&gt; self::STATUS_ACTIVE]); } public function getId() { return $this-&gt;getPrimaryKey(); } public function getAuthKey() { return $this-&gt;auth_key; } public function validateAuthKey($authKey) { return $this-&gt;getAuthKey() === $authKey; } public function validatePassword($password) { return Yii::$app-&gt;security-&gt;validatePassword($password, $this-&gt;password_hash); } public function setPassword($password) { $this-&gt;password_hash = Yii::$app-&gt;security-&gt;generatePasswordHash($password); } public function generateAuthKey() { $this-&gt;auth_key = Yii::$app-&gt;security-&gt;generateRandomString(); } }</span></span></code> </pre><br>  To implement the registration, we will add a separate model, although almost the same registration method can be implemented in the User model, it is better not to clog the constantly used model + the new model will be used by the registration type. <br><br>  <b>basic \ models \ SignupForm.php</b> : <br>  (About <a href="https://nix-tips.ru/yii2-api-guides/guide-ru-input-validation.html">validate () and rules</a> ) <br><br><pre> <code class="php hljs"><span class="hljs-keyword"><span class="hljs-keyword">namespace</span></span> <span class="hljs-title"><span class="hljs-title">app</span></span>\<span class="hljs-title"><span class="hljs-title">models</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">use</span></span> <span class="hljs-title"><span class="hljs-title">Yii</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">use</span></span> <span class="hljs-title"><span class="hljs-title">yii</span></span>\<span class="hljs-title"><span class="hljs-title">base</span></span>\<span class="hljs-title"><span class="hljs-title">Model</span></span>; <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">SignupForm</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Model</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> $username; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> $email; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> $password; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">rules</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> //      :  ,     </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">validate</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function">,       </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> [ [<span class="hljs-string"><span class="hljs-string">'username'</span></span>, <span class="hljs-string"><span class="hljs-string">'trim'</span></span>], <span class="hljs-comment"><span class="hljs-comment">//      null     ['username', 'required'], // 'username'    ['username', 'unique', 'targetClass' =&gt; '\app\models\User', 'message' =&gt; 'This username has already been taken.'], // 'username'   \app\models\User(    user( ActivityRecords)   ) ['username', 'string', 'min' =&gt; 2, 'max' =&gt; 255], // 'username'  string     2  255  ['email', 'trim'], ['email', 'required'], ['email', 'email'], ['email', 'string', 'max' =&gt; 255], ['email', 'unique', 'targetClass' =&gt; '\app\models\User', 'message' =&gt; 'This email address has already been taken.'], ['password', 'required'], ['password', 'string', 'min' =&gt; 6], ]; } public function attributeLabels() //    { return [ 'username' =&gt; '', 'email' =&gt; ' ', 'password' =&gt; '', ]; } public function signup() //  { if (!$this-&gt;validate()) { //    false   null return null; } $user = new User(); //  AcriveRecord User $user-&gt;username = $this-&gt;username; //    $user-&gt;email = $this-&gt;email; $user-&gt;setPassword($this-&gt;password); $user-&gt;generateAuthKey(); $user-&gt;created_at = time(); return $user-&gt;save() ? $user : null; //    ( ActivityRecord) user     null } }</span></span></code> </pre><br>  Add a registration action to the standard controller <br>  <b>basic \ controllers \ SiteController.php</b> : <br><br><pre> <code class="php hljs"> <span class="hljs-comment"><span class="hljs-comment">//.... public function actionSignup() { $model = new SignupForm(); //      : use app\models\SignupForm;   'new SignupForm()'  '\app\models\SignupForm()' if ($model-&gt;load(Yii::$app-&gt;request-&gt;post())) { //  ,  post       load  Model if ($user = $model-&gt;signup()) { //  if (Yii::$app-&gt;getUser()-&gt;login($user)) { //      return $this-&gt;goHome(); //     } } } return $this-&gt;render('signup', [ //       if  false 'model' =&gt; $model, ]); } //....</span></span></code> </pre><br>  Next you need to add a signup view for form input. <br>  <b>basic \ views \ site \ signup.php</b> : <br><br><pre> <code class="php hljs"><span class="hljs-keyword"><span class="hljs-keyword">use</span></span> <span class="hljs-title"><span class="hljs-title">yii</span></span>\<span class="hljs-title"><span class="hljs-title">helpers</span></span>\<span class="hljs-title"><span class="hljs-title">Html</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">use</span></span> <span class="hljs-title"><span class="hljs-title">yii</span></span>\<span class="hljs-title"><span class="hljs-title">bootstrap</span></span>\<span class="hljs-title"><span class="hljs-title">ActiveForm</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;title = <span class="hljs-string"><span class="hljs-string">''</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;params[<span class="hljs-string"><span class="hljs-string">'breadcrumbs'</span></span>][] = <span class="hljs-keyword"><span class="hljs-keyword">$this</span></span>-&gt;title; <span class="hljs-comment"><span class="hljs-comment">// &lt;--   </span><span class="hljs-meta"><span class="hljs-comment"><span class="hljs-meta">?&gt;</span></span></span><span class="hljs-comment"> &lt;div class="site-signup"&gt; &lt;h1&gt;</span><span class="hljs-meta"><span class="hljs-comment"><span class="hljs-meta">&lt;?</span></span></span><span class="hljs-comment">= Html::encode($this-&gt;title) </span><span class="hljs-meta"><span class="hljs-comment"><span class="hljs-meta">?&gt;</span></span></span><span class="hljs-comment">&lt;/h1&gt; &lt;div class="row"&gt; &lt;div class="col-lg-5"&gt; </span><span class="hljs-meta"><span class="hljs-comment"><span class="hljs-meta">&lt;?php</span></span></span><span class="hljs-comment"> $form = ActiveForm::begin(['id' =&gt; 'form-signup']); </span><span class="hljs-meta"><span class="hljs-comment"><span class="hljs-meta">?&gt;</span></span></span><span class="hljs-comment"> </span><span class="hljs-meta"><span class="hljs-comment"><span class="hljs-meta">&lt;?</span></span></span><span class="hljs-comment">= $form-&gt;field($model, 'username')-&gt;textInput(['autofocus' =&gt; true]) </span><span class="hljs-meta"><span class="hljs-comment"><span class="hljs-meta">?&gt;</span></span></span><span class="hljs-comment"> </span><span class="hljs-meta"><span class="hljs-comment"><span class="hljs-meta">&lt;?</span></span></span><span class="hljs-comment">= $form-&gt;field($model, 'email') </span><span class="hljs-meta"><span class="hljs-comment"><span class="hljs-meta">?&gt;</span></span></span><span class="hljs-comment"> </span><span class="hljs-meta"><span class="hljs-comment"><span class="hljs-meta">&lt;?</span></span></span><span class="hljs-comment">= $form-&gt;field($model, 'password')-&gt;passwordInput() </span><span class="hljs-meta"><span class="hljs-comment"><span class="hljs-meta">?&gt;</span></span></span><span class="hljs-comment"> &lt;div class="form-group"&gt; </span><span class="hljs-meta"><span class="hljs-comment"><span class="hljs-meta">&lt;?</span></span></span><span class="hljs-comment">= Html::submitButton('Signup', ['class' =&gt; 'btn btn-primary', 'name' =&gt; 'signup-button']) </span><span class="hljs-meta"><span class="hljs-comment"><span class="hljs-meta">?&gt;</span></span></span><span class="hljs-comment"> &lt;/div&gt; </span><span class="hljs-meta"><span class="hljs-comment"><span class="hljs-meta">&lt;?php</span></span></span><span class="hljs-comment"> ActiveForm::end(); </span><span class="hljs-meta"><span class="hljs-comment"><span class="hljs-meta">?&gt;</span></span></span><span class="hljs-comment"> &lt;/div&gt; &lt;/div&gt; &lt;/div&gt;</span></span></code> </pre><br>  Change Navbar <br>  <b>basic \ views \ layouts</b> <br><br><pre> <code class="php hljs"><span class="hljs-comment"><span class="hljs-comment">//    NavBar::begin(),  NavBar::end() NavBar::begin([ 'brandLabel' =&gt; 'My Company', //   'brandUrl' =&gt; Yii::$app-&gt;homeUrl, // Url        'options' =&gt; [ 'class' =&gt; 'navbar-inverse navbar-fixed-top', //  bootstrap class="navbar-inverse navbar-fixed-top"  HTML ], ]); $menuItems = [ // ,     ['label' =&gt; '', 'url' =&gt; ['/site/index']], ['label' =&gt; '', 'url' =&gt; ['/site/contact']], ]; if(Yii::$app-&gt;user-&gt;isGuest) //     { $menuItems[] = ['label' =&gt; '', 'url' =&gt; ['/site/signup']]; $menuItems[] = ['label' =&gt; '', 'url' =&gt; ['/site/login']]; } else { $menuItems[] = ['label' =&gt; '', 'url' =&gt; ['/post']]; $menuItems[] = '&lt;li&gt;' . Html::beginForm(['/site/logout'], 'post') //  ,   ActiveForm . Html::submitButton( ' (' . Yii::$app-&gt;user-&gt;identity-&gt;username . ')', ['class' =&gt; 'btn btn-link logout'] ) . Html::endForm() . '&lt;/li&gt;'; } echo Nav::widget([ //    'options' =&gt; ['class' =&gt; 'navbar-nav navbar-right'], 'items' =&gt; $menuItems //   ]); NavBar::end();</span></span></code> </pre><br>  For localization, you need to specify the following code in the configuration: <br>  <b>basic \ config \ web.php</b> : <br><br><pre> <code class="php hljs"><span class="hljs-keyword"><span class="hljs-keyword">return</span></span> [ <span class="hljs-string"><span class="hljs-string">'id'</span></span> =&gt; <span class="hljs-string"><span class="hljs-string">'basic'</span></span>, <span class="hljs-string"><span class="hljs-string">'basePath'</span></span> =&gt; dirname(<span class="hljs-keyword"><span class="hljs-keyword">__DIR__</span></span>), <span class="hljs-comment"><span class="hljs-comment">// ... 'language' =&gt; 'ru-RU', // &lt;-  ! // ... ]</span></span></code> </pre><br>  <a href="https://nix-tips.ru/yii2-api-guides/guide-ru-tutorial-i18n.html">About localization</a> <br><br><h2>  3) Add <a href="https://ru.wikipedia.org/wiki/CRUD">CRUD</a> for articles </h2><br>  CRUD allows you to add, edit, view and delete an article.  The quickest way to add a CRUD in our case is <a href="https://nix-tips.ru/yii2-api-guides/guide-ru-start-gii.html">gii</a> .  Gii automatically generates the code, after which you just need to change the generated code. <br><br>  Go to the url with get <b>? R = gii</b> <br>  For CRUD, a model is needed, I generate a new one: <br><br>  (The description can be viewed by simply hovering the cursor over the form label) <br><br><img src="https://pp.userapi.com/c637124/v637124642/35ff9/jPtAC7HzSNc.jpg" alt="image"><br><br>  Next, fill in the forms and generate the CRUD itself: <br><br><img src="https://pp.userapi.com/c637124/v637124642/36001/7YgDKmPObM8.jpg" alt="image"><br><br>  Check CRUD possible through this get <b>? R = post</b> <br><br>  <b>PS</b> End of the first part. <br>  <b>PPS</b> First article, judge strictly. </div><p>Source: <a href="https://habr.com/ru/post/324300/">https://habr.com/ru/post/324300/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../324290/index.html">Make your anonymizer in 10 minutes</a></li>
<li><a href="../324292/index.html">Design patterns, iOS view developer. Part 2. The Observer</a></li>
<li><a href="../324294/index.html">Browser-based WebRTC broadcasts with low latency RTSP IP cameras</a></li>
<li><a href="../324296/index.html">Again about Monty Hall or statistics as a collective intuition</a></li>
<li><a href="../324298/index.html">Experience passing certified Openstack Administrator (COA)</a></li>
<li><a href="../324304/index.html">Deploying the symfony development environment for Windows</a></li>
<li><a href="../324306/index.html">The digest of interesting materials for the mobile # 195 developer (March 13-19)</a></li>
<li><a href="../324308/index.html">About functional programming in the frontend</a></li>
<li><a href="../324312/index.html">ASP.NET Core: Developing ASP.NET Core Applications with dotnet watch</a></li>
<li><a href="../324314/index.html">Abnormal programming: a macro interpreter in Notepad ++</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>