<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>What can DSS - or old songs about the main thing</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="A couple of days ago, my colleagues called me with a question - the old disk shelf is completely dying (they are still old IBM), what should I do? No ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>What can DSS - or old songs about the main thing</h1><div class="post__text post__text-html js-mediator-article">  A couple of days ago, my colleagues called me with a question - the old disk shelf is completely dying (they are still old IBM), what should I do?  No discs, no support, no money <s>called Oleg</s> . <br><br>  What to buy, where to run, how to continue to live? <br><br>  On Habr√©, apart from the absence of the ‚Äúinsert table‚Äù button and mixing (after merging with GT) into one heap of philosophy, politics, school cosmonautics and autumn aggravation, there is also an almost complete absence of fresh articles about how modern storage systems work, choose this season and so on. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      New authors, too, something is not, about, say, 3par from 2015 almost no word (but, suddenly, there was material on Huawei Oceanstor - so there will be many links about it). <br><br>  I'll have to write me how I can - so that there is something for my colleagues to tell about the storage system and what to refer to. <br><br>  <b>TL / DR</b> What is going on in the storage now?  Briefly and with errors, in the inherent style of the author, "we throw in a heap." <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/7ae/92f/c6c/7ae92fc6cb40a384b5b1b1d4f37d8a86.jpg" alt="image"></div><a name="habracut"></a><br>  <b>So, what modern storage systems can do from the category of ‚Äúexpensive of course, but there is not much choice‚Äù.</b> <br><br>  1. Junior storage systems <br>  1.1.  Do-it-yourself systems. <br>  1.2.  The same, but from the factory and with updates from the manufacturer. <br>  1.3.  Junior real-time storage systems.  Already with mother of pearl buttons. <br>  2. Hyper-converged storage systems. <br>  3. Systems based on Ceph, Gluster and so on. <br>  4. Modern storage of the middle price segment. <br>  5. Modern storage systems of the older price segment will not be considered, although it is also interesting there. <br>  6. Where it all goes. <br>  7. Some conclusions. <br>  8. Link and what else to search and read, including in Russian. <br><br>  <b>1. Junior storage systems</b> <br><br>  <b>1.1.</b>  <b>Do-it-yourself systems.</b> <br><br>  There is nothing complicated about that - they took any SAS controller of disks, or even without it, took any case ‚Äúmore‚Äù, stuffed disks there, collected Raid 1-10-5-6 from them, and gave them 10G iSCSI.  Windows can build software Raid 5 since Server 2003, and give it to iSCSI also somewhere from Server 2003. Linux also knows how to raid, and iSCSI target, the configuration process is described, I did. <br><br>  There is a problem with such a self-collection in everything, starting from the speed of the array itself, ending with monitoring (there is no SNMP, the controller doesn‚Äôt know anything, but the Zabbix agent should be installed), rebuilding speed and various hardware-software foci in work. <br><br>  <i>Comment from colleagues:</i> <i><br><br></i>  <i>Well, by the way, nothing, FreeNAS will give everything out of the box.</i>  <i>Below is ZFS, well, so every evil Pinocchio himself chooses what to entertain himself with.</i> <i><br><br></i>  <i>And the speed is quite civil, a dozen 900gb 10k is quite pulling mediocre buzines (Ex ~ 100 was digging with fat boxes, Ball, terminals and other tinsel).</i>  <i>Raid-10 of course, Storage Spaces, JBOD SS shelf and heads on DL120g8.</i> <br><br>  In general, the most painful place for modern simple arrays in my opinion is the speed of rebuilding Raid 5-6 on capacious and cheap 7200 SATA / NL-SAS drives. <br><br>  The reason for this pain is known - in order to build a fallen block, you must read all the blocks from the remaining ones, count the fallen block, and write this block, taking into account the Raid penalty and the fact that the remaining disks continue to work.  Rebuilding such an array can go 3 days, and maybe a week, and all the disks will be loaded, moreover, as they usually are not loaded. <br><br>  The second and THIRD drive for me with such rebuilds flew out, sometimes I had to take data from backup. <br><br>  Decisions of the form ‚Äúlet's collect not 6, but 60‚Äù leads to a mild form of amphibious asphyxiation (strangulation with a toad).  For example, we have an array of 24 disks, without a hot-swap disk (it is in the closet).  We divide it into 3 blocks of 6 + 2 disks, collect R60 and get the free capacity "-2 from each block, total -6".  This is certainly not -12 from Raid10, but already rapidly approaching it. <br><br>  Yes, and not all controllers support Raid60, and even on 6-8 TB disks it will still be sad. <br><br>  <b>1.1a.</b>  <b>Separately, it is necessary to note the decision ‚Äúnot to understand what</b> ‚Äù - for example <a href="https://habr.com/company/tssolution/blog/425309/">, this</a> . <br><br>  Not a word about what nodes, what controllers, what with snapshots and backups, what is there for "well, we do not have x86 in the database" - and what, raspberry?  or what kind of ARM?, and hints of total data loss in the comments. <br><br>  <b>1.2.</b>  <b>The same, but from the factory and with updates from the manufacturer.</b> <br><br>  These are junior QNap, Synology, who else is there.  Not quite the youngest "for the house - SOHO", with ZFS and neonkoy, but something similar to the storage system. <br><br>  In these storage systems there are already two power supplies, two SAS controllers more expensive, two 10G network cards, or maybe even FC 8/16, and everything above is programmatically defined - you want iSCSI, you want SMB (and if you are brave, even SMB 1.0), you want NFS, you can FTP.  Want - even you can make thin disks.  On the controller, even a cache with a battery is available!  Of course, this is not such a big battery to turn the dials for an hour, but there is one. <br><br>  The system is good, working - but the problems are the same as in self-collection.  Speed ‚Äã‚Äãand rebuild.  And yes, when updating, there will be a break in work for 30 minutes (if the OS) or for a couple of hours (if also FW controllers), and often you cannot roll back. <br><br>  On top of the bugs are added as "from the manufacturer", and from the fact that under the hood of such a storage system, which controller and OS. <br><br>  <b>1.3.</b>  <b>Junior real-time storage systems.</b>  <b>Already with mother of pearl buttons.</b> <br><br>  The fact that in the picture book is called "entry-level" <br>  Of the known ones, this is the HPE MSA line - 2052, 2050, 2042, 2040, 1050, 1040, and the old-old P2000 G3, although it has not been sold for a long time. <br><br>  Dell has this, of course (Dell Storage SCv2000), and Lenovo, the old Huawei. <br><br>  For example, now the old (4th) generation of the HPE MSA line completes the life cycle, as the HPE website modestly writes - buy <a href="https://support.hpe.com/hpsc/doc/public/display%3FdocId%3Demr_na-a00038415en_us%26docLocale%3Den_US">1040 -&gt; 1050, 2040 -&gt; 2050, 2042 -&gt; 2052.</a> <br><br>  At this level, there are such functions as upgrading the controller firmware without interrupting the service, the ability to replace the controller with the next generation (only the controller), of course, ‚Äúhot swap of everything‚Äù - disks, controllers, power supplies.  Snapshots appear at the storage level, tiering, and remote replication.  You can read not in Russian here - <a href="https://support.hpe.com/hpsc/doc/public/display%3FdocId%3Demr_na-a00017538en_us">HPE MSA 2050 SAN Storage - Overview</a> , or here <a href="https://h20195.www2.hpe.com/v2/getpdf.aspx/A00015961ENW.pdf">HPE MSA 1050/2050/2052 Best Practices</a> , or <a href="https://habr.com/company/hpe/blog/426063/">here in translation</a> <br><br>  The problems with rebuilding Raid are still the same, and new ones are added - with the same tearing. <br><br>  What is a tearing, I hope everyone knows.  If they don't know, then <br><br>  <b>Tiring:</b> <br><br>  This is a combination of 2-3 types of different disks and Raid types into one storage group, for example, we put SSD in Raid 10 and SATA 7200 in Raid 6/60 into one group. After that, we have a storage system looking (a couple of days) to which data more often accessed (hot data), and leaves them on the SSD, and more "cold" sends a level lower.  As a result, the hot data is on the SSD, completely cold on the cheap SATA 7200. That's just the rebuild is once a day, and sometimes you need to "now."  The array does not operate with separate virtual machine files, so speeding up ‚Äúone machine there right now‚Äù will not work unless you have guaranteed a fast separate LUN left and transfer the machine (from the virtualization environment) to it or to the local storage of the virtualization host. <br><br>  New, fresh problems and pains begin around here, and the problems are not with the storage system.  A simple example is that storage systems are bought ‚Äúexpensively‚Äù, and then pseudo-specialists from (from) the same Gilev are launched to it, and they start to drive CrystalDiskMark in the virtualization environment in order to try to get reading speed at the output at the level of the slowest storage level.  Why they do it is not clear at all. <br><br>  However, those who allow such unfortunate specialists into their infrastructure pay for all this work with their money, this is their right.  As they say, that only people will not do, instead of buying a new 1U server with fast processors and a multi-memory ‚Äújust under 1s‚Äù - for example, with <br>  Intel Xeon Gold 5122 (3.6GHz / 4-core / 16.5MB / 105W) Processor <br>  or Intel Xeon Platinum 8156 (3.6GHz / 4-core / 16.5MB / 105W) Processor <br>  By the way, it will be necessary to ask myself to buy such a miracle under 1s - there is no money, but perhaps I‚Äôll do a price request for Dell / Lenovo / Huawei / HPE. <br><br>  <b>2. Hyper-converged storage systems.</b> <br><br>  This is not a junior segment at all, especially Nutanix, however, given the ubiquitous love for import substitution ‚Äútrophy‚Äù, and the presence of Nutanix CE (some even have a productive role), you will have to place it here. <br><br>  Simply put, hyperconvergence is a server stuffed with disks and SSD, and the working data lies locally on the same servers where the virtual machines are running (and the copy is somewhere else). <br>  Of the well-known systems, this is Nutanix (as a whole, as a hardware-software complex, although there is CE ‚Äúto look at‚Äù), MS Storage space direct (S2D), VMWare VSAN.  With the latter, everything is very fun, the system is called ‚Äúnot a day without patches,‚Äù ‚Äúwe are suffering again,‚Äù or, as with the latest update 6.7u1, ‚Äúwe broke your backup, MVU XO XO‚Äù. <br><br>  Not that the others didn‚Äôt have it, everyone has a problem, I just often come across VMWare. <br><br>  A number of manufacturers (except for Nutanix itself) are already selling such systems ‚Äî for example, the Dell XC Series. <br><br>  In general, these systems seem to me that everything is not bad.  Everyone has.  And MS is actively sold (and even in the Azure stack format - already two pieces in the Russian Federation), and Nutanix is ‚Äã‚Äãgrowing both in sales and capitalization, and the performance gain in some scenarios for Nutanix is ‚Äã‚Äãdecent, really ‚Äúat times‚Äù, up to the growth rate of some services for counting photos from 5 hours to an hour (if not faster).  Even deduplication with compression is available. <br><br>  Judging by the financial indicators, VMWare as a whole is still not bad either. <br><br>  <b>3. Systems based on Ceph, Gluster and so on.</b> <br><br>  It is possible to collect something similar on open source components, especially if you are brave, and (or) you have a staff of developers, as in Krok.  Or the data is not sorry.  Of course, such as in Cloud Mouse will no longer be what you are.  Or maybe just a fartu suit. <br><br>  examples of <a href="https://habr.com/company/semrush/blog/353854/">times</a> <br>  examples <a href="https://habr.com/company/croccloudteam/blog/422905/">two</a> <br>  examples <a href="https://habr.com/company/croccloudteam/blog/417475/">three</a> <br><br>  Problems with the implementation of such solutions are: <br><br><ul><li>  technical: and how is it all backed up?  And how much will be rebuilt in case of failure of one disk or one machine?  How to configure and who will support?  And how much will the restoration take? </li><li>  Administrative: And if your administrator falls under the tram or just quits, then who will take up the support?  How much is it?  And if you suddenly lose your magnificent development team at full strength?  Of course, this is not a bunch of keys, but it happens that people leave right away with commands. </li></ul><br>  <i>Comment from colleagues:</i> <br><br>  <i>What will happen with blackout?</i>  <i>And that is a cool story, as the fallen Symmetra dropped the data center in one FSUE (s).</i>  <i>Fallen in the literal sense, the raised floor failed.</i> <i><br><br></i>  <i>Like the cheerful welders in another FSUE, who showed the capitalist inverter the harsh Russian-Tajik "Aha!".</i> <i><br><br></i>  <i>So, how it will wind up and be repaired, with 100500k IOPS recordings per second with a fall - the question.</i> <i><br><br></i>  <i>And if you are not in Default City, but in some khibiny, among bears and mosquitoes?</i>  <i>You can teach a bear to play the balalaika, but to fix the gluster ...</i> <i><br></i> <br><br>  In the mid-level storage systems, by the way, there are also batteries for the cache (or supercapacitors), or their own battery modules, and the cache itself is also partially in RAM, and partly in SSD and with a power failure of the entire data center - will accurately transfer everything that did not have time - to transaction logs and to your reserved cache. <br><br>  BECAP BUT DO IT EQUALLY. <br><br>  <b>4. Modern storage of the middle price segment.</b> <br><br>  As I already wrote, the search for Habra quickly found three articles about Huawei OceanStor <br><br>  Import <a href="https://habr.com/post/254593/">Substitution Part 2. Huawei OceanStor Family</a> , three lines <a href="https://habr.com/company/lanit/blog/335242/">here</a> <br>  and <a href="https://habr.com/company/croc/blog/350152/">testing All-flash OceanStor Dorado V3</a> . <br><br>  There are a couple of reviews of 2012-2015 by 3par <br>  <a href="https://habr.com/company/muk/blog/263469">example</a> <br>  I somehow did not search for reviews on Dell, IBM Storwize, maybe in vain. <br><br>  There are slightly more materials in Russian on the big Internet, for example, the same Oceanstor is reviewed <a href="http://dendubinin.blogspot.com/2015/01/huawei-oceanstor-v3-2.html">here</a> (by the way, on the whole, a useful weblog is full of references to Huawei). <br><br>  <b>So, what a modern HPE 3par / Huawei / IBM-Lenovo level array offers us.</b> <br>  4.1 First of all, this is a new approach to partitioning disks.  This 3Par RAID, Huawei Raid 2.0 and Lenovo-IBM is Storwize Distributed RAID (DRAID).  The rumors of this rumor were still in the HP Enterprise Virtual Array (EVA), in 3Par it came to a logical and more or less understandable state. <br>  How it works.  In general, there is a video, albeit in English, but everything is clear. <br><br>  <a href="https://www.youtube.com/watch%3Fv%3DMaTU2xc23NE">HPE 3PAR StoreServ Architecture Overview ChalkTalk</a> <br><br>  <a href="https://youtu.be/LMe1CTL5rDY">Huawei RAID 2.0 Technology</a> <br>  Or (a little longer, in more detail and in Russian) - <a href="https://www.youtube.com/watch%3Fv%3DbHIU4rZj2y8">Webinar E = DC2 ‚Ññ2: RAID technology and its application</a> - about Raid 2.0 from 1:18. <br><br>  <b>How it works, if described in words, not pictures.</b> <br><br>  First, we allocate a disk domain.  Just a group of disks, different - for example, SSD and SATA. <br>  Each individual disk is divided into logical blocks of 64/256 / 1GB (all in different ways), also called differently.  HPE has chunklets, Huawei chunk, IBM's extent (but this is not certain). <br><br>  Then from these chunklets \ chunk (not from all at once! And from no more than N, the R5 array from 50 + 1 you are not nesberete, and smeared on different disks!), The chunklets \ chunk should be of the same type (for example, SSD), the capacity of the disks and their number to the word is also regulated, such as ‚Äúdisks are the same, add in pairs - 2.4) and collect the‚Äú we need ‚Äùarray.  For example, on SSD, we need speed - we collect R10, and on SATA the volume is important - we collect Raid 5. We‚Äôre not ‚Äúcollecting‚Äù, but choosing ‚Äúhow we can collect here‚Äù.  There are no 100,500 manual operations here.  The resulting chunklets \ chunk group gather into groups, the groups are cut into small sectors (under the tearing), bug for the granddaughter, and we end up with a thin or thick logical drive (already LUN or file system under SMB), the desired size plus reserved space for the rebuild .  Details you can see <a href="http://support.huawei.com/enterprise/docinforeader!loadDocument1.action%3FcontentId%3DDOC1000045720%26partNo%3D10042">for example here</a> . <br><br>  <b>What are the advantages of this approach to splitting.</b> <br><br>  The pros are pretty simple. <br><br>  First of all, it is a much faster rebuild when a single disk fails. <br><br>  ATTENTION!  Backups still need to be done!  Raid is not a backup, and will not protect against incorrect data changes in any way. <br><br>  If the disk failed in Raid5 / 6, we had to read all the data, count the math and write all the data on one disk, then the resulting disk itself became the bottleneck. <br>  Here the recording will go on all discs at once.  Here, of course, it would be necessary to consider such a functional as recording with full stripes, but this is now difficult to surprise anyone. <br>  As a result, the rebuilding is much faster. <br><br>  <b>How it works in terms of mathematics and raid.</b> <br><br>  I hasten to reassure everyone, there is no magic here.  Raid has not gone away, just became a little more virtual. <br><br>  Suppose we have 2 arrays on 20 disks.  and + spare in each.  1.2 - it does not matter. <br>  The disks are different, but the total raw volume of the array is the same. <br>  The first array is assembled from 2TB disks as Raid 5. 19 + 1. <br>  The second array is assembled from 1TB disks as Raid 50. 4 groups of Raid 5 by 5 disks are assembled into a raid-group.  Total (4 + 1) * 4 <br><br>  Let us fly out by a total volume of 2 TB in each case.  In different disk groups for the second array. <br><br>  In the first case, we need to read the data from the 19 remaining disks, calculate "what was lost" and write to 1 disk.  The speed of recording on one disc will be - let it be 10 IOPS (we have no raid penalties and there is an other load). <br><br>  In the second case, we need to read data from only 8 disks, and write data already on two disks, 10 IOPS per disk, for a total of 20. <br><br>  Astrologers have announced a week of rebuilding, the speed of rebuilding is doubled. <br><br>  Now we find out that we have such ‚Äúmicro-arrays 5 + 1‚Äù, one hundred megabytes (maximum gigabyte) each, not at all 4, but the entire disk.  In addition, we know which microarrays were used and which were not, and we can throw empty space out of rebuilding.  In addition, the backup space is spread over all the remaining disks, and the recording will go on all disks at once, at a speed of 10 * N, where N is the number of disks. <br><br>  Yes, after the failed disk is replaced, rebalancing will be performed - the disk will be divided into segments, and part of the data will be transferred to it.  However, this will be an operation in the background, and without the need for recalculation, and the workload will not ask for the time of such a rebuilding. <br><br>  You have to pay for everything, and such a partition is no exception.  If you lost 2 disks in the array for 20 disks and Raid 6, 2/20, 10%, then the space here will be used both for rebuilding reservations, and for the same Raid 6, if you take 6 + 2, then you lose 2 / 8, 25%. <br>  On the other hand, there are advantages as well - one of the reasons for using Raid 6 is the already significant risk of collisions on R5 arrays when using ‚Äúfrom 1 TB approximately‚Äù disks.  In numbers, the risk may be small, but I don‚Äôt want to lose data.  Another reason is ‚Äúa long rebuild with the risk of losing another disk, which is fatal for R5‚Äù.  Here, the disk groups are small, the risks of collision are much lower, the rebuilding is quick - and in some cases you can do R5. <br><br>  Now for those who have a question "how does it live at the very moment of departure, before rebuilding" - I will answer with the quote: <br><br>  <i>System preserve data for system administration.</i> <i><br></i>  <i>These logical disks are multi-level logical disks with three way mirrors for enhanced redundancy</i> <i><br></i>  <i>and performance.</i>  <i>The following logical disk types are created by the system:</i> <i><br><br></i>  <i>‚Ä¢ logging logical disks are RAID 10 logical disks that are temporarily hold data during</i> <i><br></i>  <i>disk failures and disk replacement procedures.</i>  <i>Logging logical disks are created by the system</i> <i><br></i>  <i>during the initial installation and setup of the system.</i>  <i>Each controller node in the system has</i> <i><br></i>  <i>a 60 GB logging LD.</i> <i><br><br></i>  <i>How spare chunklets work:</i> <i><br><br></i>  <i>‚Ä¢ When the connection fails, it writes</i> <i><br></i>  <i>the disk disk comes back</i> <i><br></i>  <i>logging is online.</i>  <i>Logging disk space is allocated when the</i> <i><br></i>  <i>system is set up.</i>  <i>This does not apply to RAID 0 chunklets which have no fault-tolerance.</i> <i><br><br></i>  <i>‚Ä¢ If the logical disk becomes a volume, the relocation</i> <i><br></i>  <i>The spares starts automatically.</i> <i><br></i>  <i>Chunklets for chunklets.</i> <br>  HP 3PAR StoreServ 7200 2-node Administrator's Manual: Viewing Spare Chunklets <br>  3PAR InForm OS 2.2.4 Concepts Guide <br><br>  <b>4.2 In addition to fast rebuilding</b> , such a partition adds the ability to do anything convenient in the ‚Äúthin disk‚Äù format.  In principle, it can do both Microsoft and Vmware, but both with their own interesting features in terms of speed.  Here, due to caches and preliminary allocation of a place ‚Äúin reserve‚Äù, there are slightly fewer problems. <br><br>  <b>4.3 Deduplication and compression.</b> <br><br>  The same deduplication has been on NTFS for a long time, and recently appeared on ReFS, but it does not always work in an understandable way, offline and on a schedule. <br><br>  On the storage system, it is possible to do deduplication and compression on the fly (again, with restrictions).  If your data is ‚Äúsimilar, or even the same,‚Äù for example, some LUN is allocated strictly for disks with operating systems, then deduplication will free up 2/3 of the space (if not more).  Compression can be added some more.  Or a lot.  Or, if you have a compressed video, it won't add anything at all. <br><br>  <b>4.4 The aforementioned TIRING</b> - when once a day, at your choice, either cold data goes to cheap slow drives, or suddenly suddenly hot data goes to SSD. <br><br>  The function is useful if used wisely, correctly configure the collection of statistics and monitor the counters. <br><br>  <b>4.5 Snapshots at the storage level.</b> <br><br>  I underestimated the previously useful thing. <br><br>  How a virtual machine backs up completely ‚Äúusually‚Äù - snapshot is done, then snapshot is presented to the backup system (SRK), after recording snapshot in the SRK - the system takes a long and tedious consolidation. <br><br>  It should be remembered that it would be nice to have a backup system agent (service) inside the virtual machine being copied, which will instruct other services to reset everything on the disk, give the wallet and generally stand up (this is Volume Shadow Copy Service, VSS in Windows). <br><br>  VSS ‚Äî   .      ,  (    ,   Exchange    )   ‚Äû <i>   ,         ‚Äú ( dirty    exchange)</i> ,        ,     ,            ,  ,     -    (, ,      ,     DAG   Always On). <br><br>           ,  (   Veeam)           ,         . <br><br>   . <br><br>      . <br>        Halt! ausweis. <br>       . <br>      LUN   ( , ,     . Veeam + 3par     , <a href="https://www.veeam.com/blog/intelligent-data-management-huawei-oceanstor.html">Veeam + Huawei ‚Äî   2018</a> <br>   IBM,  IBM Storwize.  Nimble   ,    ‚Äî   . <br><br>   Veeam,     . <br><br>      ,     Weggetreten!    .         (   -      )        .      ‚Äû     ‚Äú   ‚Äû     ‚Äú,    . <br><br> ,       ,          ,        ,        ,         ,     ,      SSD (   ,    ),         (   ) <br><br> <b>4.6   ,    .</b> <br><br> ,      (  ),      .   ,  ,   ‚Äî   .     <br> ‚Äî     Live ( dead) migration. <br><br>  ,     ,        . <br><br> ‚Äî   ,     ‚Äû  ‚Äú (         ). <br><br>        ,    LUN    ‚Äû           ‚Äú,         . <br>     ,      ,      ,     . <br><br>        ,          ‚Äû‚Äú,  . <br><br> <b>4.7     SSD .</b> <br><br>       ,    ,     ‚Äî ,   .     ,       - -   .   ,  SSD     . <br><br>    .  ,         (1U) ,          (    )   <a href="https://habr.com/company/intel/blog/370791/">Intel Xeon Scalable</a> <br>  Intel Xeon Platinum 8156 Processor (3.6 / 3.7 , 105 W TDP)  Intel Xeon Gold 5122 Processor,        ,   1. <br>    ,        2 SSD  4 m2,   raid 1/5/6 (  ,    0),    1-,         (,      16-24,     ,         ). <br><br> <b>4.8      .</b> <br><br>   ,     (  )   . <br>    ‚Äî  x86 ,     ,       -   ‚Äû ‚Äú. <br><br> <b>4.9  .</b> <br><br>   , , ,    . <br>         ,  ,     ,        . <br><br> ,         (    )     ,     ()      ‚Äî    . <br><br> <b>4.10 </b> <br><br>    ,     ,     . <br><br>  ,   (),    ‚Äû ‚Äú.     ,        LUN, , ,      ‚Äû  <s> </s>   ‚Äú. <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">The reverse side of the function: if you suddenly have such an array, there is no offline backup (in classics, 3-2-1, 3 copies, on two types of media, 1 copy outside the main site) and evil hackers (or suddenly fell ill the head of the administrator) there is access to this function - there is a risk of losing everything at once.</font></font><br><br>  <b>4.11.</b> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Delegation, integration with LDAP and other.</font></font></b> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Of course, there are functions ‚Äúto give rights to see someone‚Äù with rather high granularity, plus beautiful graphics and not boring pictures. You can safely give the Big Boss the rights to "view," let him look at the pictures if he needs. Will not break. </font></font><br><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">6. Where it all goes.</font></font></b> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Storage systems are now being developed in two directions - these are hyperconverged software-hardware complexes (PAK), and all-flash arrays. SSD drives have fallen in price in the past 5 years at times, if not dozens of times (per gigabyte), increased speed, survivability, connectivity options. As a result, there are almost no 15k disks (of course you can still buy), 10k disks are already on the way to the price range, 7200 disks will live again. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Chips (ASIC) and processing in them also do not stand still. </font></font><br><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Conclusion</font></font></b> ‚Äî         ,     ,   . ,  , ‚Äû ‚Äú   Nutanix CE,        SSD,    . <br><br> <b>  ,  ‚Äû SSD  15‚Äú</b> <br><br>    ,        ,        . <br><br>        ‚Äû  IOPS‚Äú  ‚Äû ‚Äú. <br> 872392-B21 HPE <b>1.92 TB</b> , SAS, read intensive, digitally signed FW, solid state ‚Äî 2700$. <br> 875492-B21 HPE 960 GB, SATA, mixed used, digitally signed FW, solid state, M.2 2280 ‚Äî 1200$ <br> 870759-B21 ‚Äî HPE 900 GB SAS, enterprise, 15K rpm, small form factor hard disk drive ‚Äî 900$ <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">702505-001 The hard disk of the HP 900GB SAS SFF 10K is about $ 400 </font></font><br><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">7. Some conclusions.</font></font></b> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> The need to understand storage arises from the moment when a business begins to be interested in ‚Äúwhy we are so slow,‚Äù and you are not in the right place to answer. Immediately there is a need to understand the theory - what is IOPS, latency (and where and from what it arises), raid penalty, load profile (day, night, during backup). </font></font><br><br> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Commentary from colleagues: </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Either when he begins to be interested, ‚Äúhow can we get uptime for five nines, but cheaply?‚Äù</font></font></i> <br><br>               RTO/RPO ‚Äî     ,        ,      -   ,   . <br><br>  RPO/RTO    :      ‚ÄûRDP‚Äú  1    (SSD raid 1, hdd raid 1   )   ,   SSD. <br><br>    SSD  ,    ‚Äî 2  .      .     ‚Äî  30  ,  .   ,   ‚Äû     ‚Äú,    . <br><br>           ,      ‚Äû    -, 100  ‚Äú ‚Äî   ,    . <br><br> ,      ‚Äî         .8,          . ,    ,  ,     . <br><br> <b>8.     </b> <br><br> <a href="http://nutanix.ru/"> ¬ª Nutanix ‚Äî http://nutanix.ru/</a> ‚Äî    (     )  ¬´  ¬ª.  In Russian. <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Report </font></font><a href="http://blog.vadmin.ru/2016/11/highload-2016.html"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Highload 2016. What industrial storage systems are already capable of.</font></font></a> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Brocade: FC 101-WBT Introduction to Fiber Channel Concepts </font></font><br> <a href="http://www.brocade.com/en/education/courses/introduction-to-fibre-channel-concepts.html"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">One</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font></font><a href="https://www.youtube.com/watch%3Fv%3D9aDMrO9a52s"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">two</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font></font><a href="https://www.youtube.com/watch%3Fv%3Dq4veZ-sdV28"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">three</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font></font><a href="https://h20195.www2.hpe.com/v2/getpdf.aspx/4aa4-7060enw.pdf"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">four</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font></font><a href="https://www.brocade.com/content/dam/common/documents/content-types/education-study-tools/brocade-bcfa-nutshell-certification-study-tools.pdf"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">five</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br><br> <a href="http://dendubinin.blogspot.com/2015/01/huawei-oceanstor-v3.html"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Storage Systems Huawei Oceanstor V3 </font></font></a> <br> <a href="http://dendubinin.blogspot.com/2015/01/huawei-oceanstor-v3-2.html"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Storage Systems Huawei Oceanstor V3 (Part 2) </font></font></a> <br> <a href="http://dendubinin.blogspot.com/2015/03/huawei-oceanstor-v3-4.html"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Storage Systems Huawei Oceanstor V3 (Part 3) </font></font></a> <br> <a href="http://dendubinin.blogspot.com/2015/03/huawei-oceanstor-v3-4.html"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Storage Systems Huawei Oceanstor V3 (Part 4) </font></font></a> <br><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Huawei Storage Simulator</font></font></b> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Surprisingly handy thing. This is a small web server (hundreds of megabytes) that allows you to make a virtual storage system. Of course, you can‚Äôt pick it up anywhere, but you can press any buttons, create a disk domain, LUN and whatever, study the logs and study the command line separately - it‚Äôs quite possible.</font></font><br><br>  <a href="http://support.huawei.com/enterprisetool/en/tool/Storage%2520Simulator-TL1000000114">Links</a> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">there to take files of the form "Demo_for_". </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Huawei Hands-on LAB - for example, </font></font><br> <a href="https://support-hol.huawei.com/course/427"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Huawei Dorado 5000 V3 Storage Active-Active Solution (Carrier / Enterprise)</font></font></a> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> H6LH3AAE Managing HPE 3PAR StoreServ Hands On Lab </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">This is a course from HPE, for which they want 23.400 rubles without VAT what causes certain problems when carrying out, and especially when returning). </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">HPE 3PAR StoreServ Simulator </font></font><br> <a href="https://h20392.www2.hpe.com/portal/swdepot/displayProductInfo.do%3FproductNumber%3DHP3PARSIM"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">h20392.www2.hpe.com/portal/swdepot/displayProductInfo.do?productNumber=HP3PARSIM</font></font></a> <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> What else to search. </font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">HK902S Managing HPE 3PAR StoreServ I: Management and Local Replication (there is video on the Internet) </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">HK904S Managing HPE 3PAR StoreServ II: Optimization and Remote Replication (similarly, there is video)</font></font><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">EMC Information Storage and Management Student Guide (this is not a book in Russian) </font></font><br><br> <a href="https://www.ibm.com/developerworks/community/blogs/storagevirtualization/entry/vdisks_mdisks_extents_and_grains_scale_out_for_sure%3Flang%3Den"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Vdisks, Mdisks, Extents and Grains - Scale Out for Sure</font></font></a> </div><p>Source: <a href="https://habr.com/ru/post/427167/">https://habr.com/ru/post/427167/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../427153/index.html">DNA Mechanisms for storing and processing information. Part II</a></li>
<li><a href="../427155/index.html">Bus filter from Southampton - the first step to cleaner cities</a></li>
<li><a href="../427159/index.html">We collect Mikrotik firewall logs into the database</a></li>
<li><a href="../427163/index.html">New material will help make thermal solar power plants more efficient.</a></li>
<li><a href="../427165/index.html">How to develop integration tests for Atlassian Jira Server (jira-func-test-plugin)</a></li>
<li><a href="../427169/index.html">Tesla quietly removed the option of full autopilot</a></li>
<li><a href="../427171/index.html">Security leaving you</a></li>
<li><a href="../427173/index.html">Is telephony cheaper than free?</a></li>
<li><a href="../427175/index.html">Sunsheds Or what if you are a plant in the shower</a></li>
<li><a href="../427177/index.html">Egocentric daffodils are inferior in their productivity to humble leaders.</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>