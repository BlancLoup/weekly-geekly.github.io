<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>We build a tracked Bluetooth robot with a camera. Part 1</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Due to numerous requests, I decided to describe the process of creating such a robot with a camera on a tracked chassis and control via bluetooth usin...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>We build a tracked Bluetooth robot with a camera. Part 1</h1><div class="post__text post__text-html js-mediator-article"> Due to numerous requests, I decided to describe the process of creating such a robot with a camera on a tracked chassis and control via bluetooth using a joystick. <br><img src="https://habrastorage.org/storage1/63e50c22/5bac2c55/c743afee/3e5e2c83.jpg"><br>  I always dreamed of creating a robot that can be controlled using a computer and watching it move from the first person. <br>  I conditionally divided the whole process into three parts: <br>  1. Build a robot <br>  2. Programming boron microcontroller <br>  3. PC control programming <br><a name="habracut"></a><br>  I believe that the most interesting this topic will be those who would like to build such a robot, but do not have enough knowledge in some moments.  (For those who are well versed in robotics, electronics and programming, I will not reveal anything new).  Therefore, I will tell you the most detailed and simple. <br>  Generally speaking, the robot can be bought and finished, but <br>  - firstly it is not so interesting - the process of creating a robot with your own hands is a great pleasure <br>  - secondly, when buying a ready-made robot, it is often quite difficult, if not impossible, to remake it for your own interests. <br>  -and finally, with the right approach, it may be cheaper to make a robot yourself. <br>  We will use the cheapest, but ready-made units, because the assembly from scratch is not interesting for everyone, is more complex and risks getting tired of the process that lasts for months :). <br>  If you want to not just get a robot to play, but to make yourself, then let's go! <br>  The robot does not make decisions on its own, that is, it is a PC-controlled chassis that executes commands and transmits the video signal.  However, it is not difficult to modify it to an independent robot - you just need to add sensors and add logic to the on-board computer.  The platform is designed for this. <br>  <b>We will need:</b> <br>  For tracked chassis <br>  1. Twin engine gearbox - Tamiya Twin Motor Gearbox (TAM70097) <br><img src="https://habrastorage.org/storage1/645c570c/ff626ae2/3e228b33/0f0dfa43.jpg"><br>  2. Tracks and rollers with axles - Tamiya Track and Wheel Set (TAM70100) <br><img src="https://habrastorage.org/storage1/4072dcba/25bd19fc/56124ebe/18a6dc0b.jpg"><br>  3. Platforms and fasteners - Tamiya Universal Plate Set (2) (TAM70157) <br><img src="https://habrastorage.org/storage1/e5c51c0b/b50feb46/ac21bc12/18750e4c.jpg"><br><br>  of this, deficiency in Russia is only point 2. <br>  You can buy the rest in <a href="http://www.terraelectronica.ru/catalog.php%3FID%3D1172%26Search%3D1%26Text%3Dtamiya%26Gde%3D2%26PageS%3D1">Terraelectronics</a> (70097 - 520r, 70157 - 385r) <br>  Or in the official <a href="http://www.tamiyarus.ru/konstruktor.php">Tamiya store</a> .  If you buy in it, then take a tracked chassis (630r) and a box (390r).  You will reserve a box with one motor. <br>  The fact is that we need a box with two motors, so that the robot can not only go straight, but also turn it, driving the tracks separately. <br>  Since in Moscow it was not possible to buy everything in one place, but I didn‚Äôt want to run and look, I ordered it all on ebay from a <a href="http://stores.ebay.com/Phils-Hobby-Shop%3F_trksid%3Dp4340.l2563">single seller</a> who delivers to Russia at a normal price.  Cost kit approximately $ 37.5 with delivery. <br>  You can also find these parts at pololu.com.  There is more expensive and not always available. <br>  Instead of a platform with holes it is quite possible to use a piece of plywood, and for fasteners a metal constructor, which is sold in the children's world for about 200-400 rubles (there are several sets). <br> <a href="http://www.labirint.ru/games/35860/"><img src="https://habrastorage.org/getpro/geektimes/post_images/e9b/72b/b59/e9b72bb5995ea57765a76f3271710cf3.jpg" alt="image"></a> <br>  In general, the most important thing is the tracks and gearmotors. <br><br>  <b>Onboard electronics</b> <br>  1. Arduino Duemillanove / Freeduino 2009 - the brain of our robot - <br><img src="https://habrastorage.org/getpro/geektimes/post_images/ae1/6d6/5c2/ae16d65c25031d1c8c75f5e760013a95.jpg" alt="image"><br>  on ebay from $ 17.60. <br>  I took on freeduino.ru, for a long time and for 950r. <br>  For a robot, it is quite sufficient on the basis of Atmega168 (cheaper than Atmega328P), if you are not going to write a very sophisticated logic of the robot or use the Arduino like me for other experiments that might not suffice 16kB of flash memory. <br>  2. Motor Shield V2 or V3 power module for motor control <br><img src="https://habrastorage.org/getpro/geektimes/post_images/dc4/787/55b/dc478755b92fe51115bd7cd0a6b6b510.jpg" alt="image"><br>  On ebay from $ 10.5, the old version and no combs for installing the next floor shields. <br>  on Freeduino.ru from 600r in the form of a designer to 900 r in assembled form.  I advise v3 - it is more flexible. <br>  3. Sensor shield V4 - a convenient module for connecting sensors and servo drives.  If you are not afraid of a bundle of wires, then he nafig not needed.  I bought it for experiments, so I stuck it for convenience. <br><img src="http://iteadstudio.net/Wholesale/images/icons/Arduinosensorshieldv4_1.jpg" alt="image"><br>  about $ 8 on ebay <br>  4. SmartBluetooth module.  It will be needed to communicate with a PC or laptop. <br><img width="400" src="https://habrastorage.org/getpro/geektimes/comment_images/139/890/b27/139890b273bd0d870795c6931e3d304b.jpg" alt="image"><br>  on ebay from $ 9.9.  I took a long time and he cost me as much as $ 23 <br>  5. Bluetooth dongle - if you control from a PC and Bluetooth interface is not in it, you need to buy. <br><img src="http://cdn101.iofferphoto.com/img3/item/486/505/619/g_mini-v2-0-wireless-bluetooth-usb-adapter-usb-dongle-5de8.jpg" alt="image">  price - $ 2.7 <br>  Total $ 40.7 if you do without the Sensor shield, but with a bluetooth dongle for the PC. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      We will also need power for the Arduino and the motors.  You can use ordinary AA batteries in such a compartment by buying it on the market or in Chipidip, if it is very urgent. <br> <a href="http://fotki.yandex.ru/users/masterraven/view/343578/"><img src="https://habrastorage.org/getpro/geektimes/post_images/6a9/c5f/e96/6a9c5fe963c9778500045c6735952788.jpg" width="500" height="343" title="RPMS &amp; amp;  AA" alt="RPMS &amp; amp;  AA"></a> <br>  <a href="http://fotki.yandex.ru/users/masterraven/view/343578/">RPMS &amp; AA</a> <br>  or 9V battery type "Krona". <br>  I prefer compact and more convenient <a href="http://www.hobbyking.com/hobbyking/store/uh_viewItem.asp%3FidProduct%3D6786">LiPoly batteries</a> : <br><img src="https://habrastorage.org/getpro/geektimes/post_images/c33/52c/f31/c3352cf3157b8aac2d2f49505e5179c5.jpg" alt="image"><br>  or 2 LiIon element 18650 connected in series. <br><br>  This kit is enough to make a robot with basic functionality, so I would suggest to pause at this place, choose where and what you will order, make orders or go shopping, and while the order will be delivered, take video subsystem. <br>  When ordering mainly from China, all the components you will receive in about 2-3 weeks and will cost $ 80-100, depending on the chosen vendor or your desire to bargain and save, it may be cheaper.  If you buy several products from one seller, ask to combine shipping, you can save on this.  The so-called ‚Äúfree shipping‚Äù is simply included in the price and is good if you buy one item. <br><br>  <b>We assemble the chassis</b> <br>  The Tamiya 70100 Kit comes with detailed instructions.  Carefully cut out the rubber caterpillars and rollers with cutting pliers or with a stationery knife, separating them from the sprues, assemble and fasten with cogs M3x10 to the plywood floor, or if you bought the Tamiya universal plate set, then complete wedges, they are reusable, so it's okay if something happens first you will not thrust there. <br>  Then we assemble a box of motors with TAM70097 gearboxes.  She has 2 options for gear ratios.  58: 1 drives very, very quickly, but the motors at low speeds do not pull and moan plaintively, and after loading the platform, they can barely turn over.  I recommend to collect in the version 201: 1, so our "tank" will not run away from sight and will move more smoothly.  True noise from the furiously rotating gear will be more.  The driving gears of the chassis are mounted on the hexagonal axes of the box. <br>  To check the performance, it is enough to apply power from 2 batteries to the motors simply by referring to the wiring of the motor contacts.  Now you need to solder a pair of wires to the motors.  Centimeters 10-15 will be enough. <br>  Then, using parts from the designer, I secured the second platform for mounting the electronics.  In principle, it is possible to do one floor, it‚Äôs just that there‚Äôs not enough space and it‚Äôs not very convenient to work, but it‚Äôs quite possible. <br>  On the second floor, fasten the Arduino / Freeduino with cogs M3x10 (it does not quite coincide along the holes and becomes slightly diagonal).  The second floor insert MotorShield.  Through the holes in the site, we pass the wires from the motors and fasten the wires to the port M3 and M4 - extreme screws, the middle one remains unused (it is for stepper motors).  The polarity of the motor connection does not matter yet, then it can be changed or set programmatically, so do not be afraid to confuse. <br>  Bluetooth module for now just think about where to plug in or attach to the top floor with an office eraser.  I didn‚Äôt even unpack it - the foamed packaging will serve as a mechanical protection for it, and at the same time it will not allow to close the contacts by accident. <br><br>  You‚Äôll get something like this sandwich: <br> <a href="http://fotki.yandex.ru/users/masterraven/view/340912/"><img src="https://habrastorage.org/getpro/geektimes/post_images/eb1/4cb/483/eb14cb4832adff5a44d5247a0f4af71d.jpg" width="500" height="375" title="RC Tank chassis" alt="RC Tank chassis"></a> <br>  " <a href="http://fotki.yandex.ru/users/masterraven/view/340912/">RC Tank chassis</a> " <br>  Open the full-size image to see better what is connected and how, if there are difficulties with the assembly and connection.  Arduino fasten USB port to the edge of the platform, so that it is more convenient to then connect the cable and program without removing from the robot. <br>  Work just a couple of hours, if done slowly. <br><br>  <b>Video subsystem</b> <br>  To ride with the image of the first person we need a miniature video camera, radio transmitter (transmitter) and receiver (receiver). <br>  There are a lot of options.  Including reach the market and buy in the store spy things or CCTV equipment Chinese radio camera.  Will cost most likely 2-4 sput together with the receiver. <br>  But much cheaper to order from China. <br>  I recommend taking it at 1.2 GHz, not 2.4 GHz, to avoid interfering with the bluetooth module and WiFi running at 2.4 GHz <br>  For example, here is such a <a href="http://www.dealextreme.com/p/ultra-mini-1-2ghz-wireless-surveillance-audio-video-camera-with-receiver-set-47920">kit</a> : <br><img src="https://habrastorage.org/getpro/geektimes/post_images/da8/ea9/a96/da8ea9a969933211a05df0574d4aa245.jpg" alt="image"><br>  will cost a little more than $ 30.  There are cheaper, depending on the camera in the kit. <br>  On ebay, you can buy exactly the same or with a camera in a metal case as in the picture from the box. <br>  The image quality of all these CMOS cameras is quite so-so (380TVL and those are quite soapy and with a low dynamic range and high noise in low light).  Therefore, I ordered a <a href="http://www.hobbyking.com/hobbyking/store/uh_viewItem.asp%3FidProduct%3D13434">camera</a> on Sony's CCD matrix with a resolution of 420TVL and better sensitivity on hobbyking.com, which allows you to see what is going on under the table without additional lighting. <br><img src="https://habrastorage.org/getpro/geektimes/post_images/b5a/e1c/44d/b5ae1c44d9e47080c3cc1c19110fe0ca.jpg" alt="image"><br>  And also <a href="http://www.hobbyking.com/hobbyking/store/uh_viewItem.asp%3FidProduct%3D12875">fastening</a> for it with turn and an inclination: <br><img src="https://habrastorage.org/getpro/geektimes/post_images/b6c/f0f/d6c/b6cf0fd6ce712d28ac0483dfdef9cdf6.jpg" alt="image"><br>  As the inscription on the picture reads, servo drives are not included in the kit, so we are ordering inexpensive 9gram servos.  We will need 2 pieces, the 3rd will remain in reserve if we break it. <br>  My 9V camera doesn't work, so I have to power it from a separate 11.1V <a href="http://www.hobbyking.com/hobbyking/store/__9164__Turnigy_1000mAh_3S_25C_Lipo_Pack.html">battery</a> . <br>  The receiver and transmitter used from the inexpensive kit shown above.  (The transmitter tried a more powerful one - at 800mW, but it decently warms up, cumbersome with a radiator and power such that it causes pickups on the camera's servos). <br>  You can connect the receiver to a TV, but control it from a computer, and watching TV is not very convenient (except to buy a portable one).  Therefore, we need a video capture device. <br>  Fortunately it is <a href="http://www.dealextreme.com/p/easycap-usb-video-capture-adapter-5707">inexpensive</a> , very compact, powered by a USB port, all cables and software included: <br><img src="https://habrastorage.org/getpro/geektimes/post_images/825/c6e/d59/825c6ed59c591d22f60863c6c8705d3c.jpg" alt="image"><br>  It is useful to have a <a href="http://www.hobbyking.com/hobbyking/store/uh_viewItem.asp%3FidProduct%3D4841">switch</a> from trifles, so as not to suffer from switching off, pulling out the power connector and a set of connectors <a href="http://www.hobbyking.com/hobbyking/store/uh_viewItem.asp%3FidProduct%3D9630">male</a> and <a href="http://www.hobbyking.com/hobbyking/store/uh_viewItem.asp%3FidProduct%3D9631">female</a> <br>  That's all we need. <br>  Where to buy options and how to save enough, there are others, but the article will endless if you try to list everything. <br>  Collecting all this is quite fascinating and not at all as difficult as it may seem at first glance. <br>  But we will deal with the final assembly and tuning in the next part, but for now you need to buy everything you need and assemble the chassis.  :) <br>  Enjoy the shopping! <br><br>  <b>UPD</b> I was contacted more than once about the cost. <br>  To avoid misunderstandings, I will put together: <br>  1. Chassis - I bought on ebay for <b>$ 37.5</b> with delivery.  In Moscow, all components are in Terraelectronica: <br>  <a href="http://www.terraelectronica.ru/catalog.php%3FID%3D1172%26Search%3D1%26Text%3D70097%26Gde%3D2%26PageS%3D1">70097</a> (motor-gearbox) - 514r <br>  <a href="http://www.terraelectronica.ru/catalog.php%3FID%3D1115%26Search%3D1%26Text%3D70157%26Gde%3D2%26PageS%3D1">70157</a> (2 platforms + fasteners) - 381r <br>  <a href="http://www.terraelectronica.ru/catalog.php%3FID%3D1115%26Search%3D1%26Text%3D70100%26Gde%3D2%26PageS%3D1">70100</a> (tracks and wheels) - 571r <br>  Total chassis in Moscow <b>1466 p</b> (~ $ 46- $ 50) <br><br>  2. Electronics - <b>$ 40.7</b> if you do without the Sensor shield, but with a bluetooth dongle for the PC.  All from China. <br>  3. Video subsystem - from <b>$ 27</b> on Dealextreme. <br><br>  Total full set from <b>$ 105</b> (all from China) to <b>$ 118</b> (chassis in Moscow). <br>  Batteries are separate, there are too many power options to describe here. <br>  <b>UPD 2</b> To charge lithium-ion and lithium-polymer batteries, appropriate charging is needed - a regular power supply will not work. <br>  On hobbiking there is a whole section of chargers: <a href="http://www.hobbyking.com/hobbyking/store/__216__408__Battery_Chargers_Acc_-Battery_Chargers.html">www.hobbyking.com/hobbyking/store/__216__408__Battery_Chargers_Acc_-Battery_Chargers.html</a> <br>  I myself use this: <a href="http://www.hobbyking.com/hobbyking/store/__11060__HobbyKing_ECO6_50W_5A_Balancer_Charger_w_accessories.html">HobbyKing ECO6</a> 50W 5A Balancer / Charger w / accessories.  He needs a power supply for 12V approx 5 A, at HK <a href="http://www.hobbyking.com/hobbyking/store/__6256__12V_5A_110_240V_50_60Hz_Power_Supply.html">there is one</a> , you can buy from us on the radio market. <br><br>  All links are given in the article. <br><br>  <a href="http://habrahabr.ru/blogs/DIY/135371/">Part 2</a> <br>  <a href="http://habrahabr.ru/blogs/DIY/136224/">Part 3</a> </div><p>Source: <a href="https://habr.com/ru/post/133414/">https://habr.com/ru/post/133414/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../133408/index.html">Parse the GNU Coreutils source code: yes utility</a></li>
<li><a href="../133409/index.html">Methods of malware analysis: Unpacking drivers in Ring3</a></li>
<li><a href="../133410/index.html">Google webinar content on creating mobile sites</a></li>
<li><a href="../133411/index.html">X Neural Switcher - Cookbook (Part 3). Keylogger</a></li>
<li><a href="../133413/index.html">Java. Stop the task</a></li>
<li><a href="../133415/index.html">Brute force card number, CVV2 and expiration date using the Master Bank website</a></li>
<li><a href="../133416/index.html">Tester conferences of the world. Continuation</a></li>
<li><a href="../133417/index.html">Platform @ Mail.Ru // Reports from the Mail.Ru Technology Forum 2011: text of the report, video, presentation</a></li>
<li><a href="../133418/index.html">School DDoS and whether to be afraid of him</a></li>
<li><a href="../133419/index.html">Sales of the world's first e-book with Qualcomm Mirasol began.</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>