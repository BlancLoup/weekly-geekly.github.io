<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Terminology OneGet, NuGet, Chocolatey, PowerShellGet - we break it down</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="In this article I want to help understand the structure of package managers under Windows. The article is aimed more at those who, like me, came from ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Terminology OneGet, NuGet, Chocolatey, PowerShellGet - we break it down</h1><div class="post__text post__text-html js-mediator-article">  In this article I want to help understand the structure of package managers under Windows.  The article is aimed more at those who, like me, came from the world of Linux, where it is customary to go into understanding processes below the level of abstractions. <br><br>  I am sure that you have already read the abstractions without me: <br><blockquote>  chocolatey to install applications, nuget to install dependencies by the developer. </blockquote><br>  But this is not only rough, it is also not true. <br><br>  So, what types of packages do we know from the Linux world?  Attention: not package managers, but the packages themselves.  The most common are conventionally divided into two groups: OS-dependent (deb, rpm) or language-dependent (usually, tar-bols).  In principle, we can say that the first group is applications (utilities), and the second are dependencies (libraries).  But sometimes this is not the case: there are libraries among OS packages, and there are packages among language packages that install utilities (for example, stdeb in pip or elastalert in npm) - if installed globally, it will turn out as an OS package. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Go back to Windows. <br><a name="habracut"></a><br>  Initially, the package format was also invented here.  It was made to replace the old msi / msu format because the old format had a rather high input threshold for understanding how to automate it [it is quite likely that I am raving].  In general, the new format is very similar to rpm.  It even has a spec file.  His name is NuGet, but the extension is .nupkg.  Inside this package there are directories, files and installation scripts - all of us, Linux, are familiar and familiar. <br><br>  Now let's remember what package managers we know.  For OS, this is apt, yum, ... For language: pip, gem, npm, cpan, cpm, ... <br>  What is windows?  Here we get to know the new NuGet.  There is a NuGet-package, and there is nuget.exe of the same name - a utility that can download and unzip these packages.  In general, she knows a lot more, but this is beyond the scope of the issue under discussion. <br><br>  What is the deal we get: <br><br>  Debian: apt (deb) + pip + npm + gem + ... <br>  RHEL: yum (rpm) + pip + npm + gem + ... <br>  Windows: nuget (nupkg) + pip + npm + gem + ... <br><br>  Please note that for the msi package manager it was not created (this is not quite the case, but for the sake of simplicity so far). <br><br>  And here begins the difference from Linux.  Some talented guy appeared in the Windows world who decided that he wants to install everything as a team.  And he began writing the open-source OneGet project (its proprietary name: PackageManager, which is one of the PowerShell modules of version&gt; = 5.0). <br><br>  OneGet is an abstract interface that can talk to each package manager in its own language.  OneGet publishes a set of unified commands for us.  For example, the Install-Package command, which is a wrapper every time for different commands. <br><br>  What happens: we connect several package managers to OneGet.  For example: NuGet, PIP, NPM. <br><br>  Further, if we want to put some python package, then we write: <br><br><pre><code class="hljs sql"><span class="hljs-keyword"><span class="hljs-keyword">Install</span></span>-<span class="hljs-keyword"><span class="hljs-keyword">Package</span></span> &lt; pip-&gt;</code> </pre> <br>  OneGet converts this to: <br><br><pre> <code class="bash hljs">pip install &lt; pip-&gt;</code> </pre> <br>  And now we want to put the NuGet package and run: <br><br><pre> <code class="hljs sql"><span class="hljs-keyword"><span class="hljs-keyword">Install</span></span>-<span class="hljs-keyword"><span class="hljs-keyword">Package</span></span> &lt; nupkg-&gt;</code> </pre> <br>  This time the team called: <br><br><pre> <code class="bash hljs">nuget install &lt; nupkg-&gt;</code> </pre> <br>  I lied.  In fact, Install-Package does not call these commands in the background - package managers are no longer used.  Dropped out of the food chain.  Instead, specialized package providers are installed (read the PowerShell plugins) to manage foreign packages.  And these providers are engaged in the installation task instead of the usual package managers.  And OneGet is their boss.  Dependencies are monitored by the providers themselves. <br><br>  And here we get acquainted with the third NuGet - NuGet-packet provider.  From the very beginning of the article, I dreamed of blowing up your brain: NuGet is a package provider that replaced the NuGet package manager (nuget.exe) to manage NuGet packages (.nupkg). <br><br>  Here is a very important point.  The old package managers each had their own list of repositories (Source in Windows terminology): <br><br><pre> <code class="bash hljs">PS C:\&gt; nuget <span class="hljs-built_in"><span class="hljs-built_in">source</span></span> list Registered Sources: 1. nuget.org [Enabled] https://api.nuget.org/v3/index.json 2. ABC [Enabled] http://&lt;___IP&gt;/artifactory/api/nuget/&lt;_&gt;</code> </pre> <br>  Or: <br><br><pre> <code class="bash hljs">PS C:\&gt; gem sources *** CURRENT SOURCES *** https://rubygems.org</code> </pre> <br>  OneGet does not rely on them, but on the providers that replaced them.  And the list of repositories is the same for everyone, but with an indication of who owns which repository - by analogy with the foreign keys of the database. <br><br>  First we look at the list of package providers: <br><br><pre> <code class="bash hljs">PS C:\&gt; Get-PackageProvider Name Version DynamicOptions ---- ------- -------------- Chocolatey 2.8.5.130 SkipDependencies, ContinueOnFailure, ExcludeVers ChocolateyGet 1.0.0.1 AdditionalArguments msi 3.0.0.0 AdditionalArguments msu 3.0.0.0 NuGet 2.8.5.208 Destination, ExcludeVersion, Scope, SkipDependen PowerShellGet 1.0.0.1 PackageManagementProvider, Type, Scope, AllowClo Programs 3.0.0.0 IncludeWindowsInstaller, IncludeSystemComponent</code> </pre><br>  And now we look to whom the repository belongs to: <br><br><pre> <code class="bash hljs">PS C:\&gt; Get-PackageSource Name ProviderName IsTrusted Location ---- ------------ --------- -------- nuget.org NuGet False https://api.nuget.org/v3/index.json PSGallery PowerShellGet False https://www.powershellgallery.... chocolatey Chocolatey False http://chocolatey.org/api/v2/</code> </pre><br>  Now I will pause and get distracted by one of the strange package providers - PowerShellGet.  This provider is designed to install PowerShell modules.  It appeared in PowerShell 2 - even before the arrival of the PackageManager (aka OneGet).  But they are not equal to each other.  PowerShellGet is one of the ordinary package providers who can only make their own type of packages, and not a manager of package providers like OneGet. <br><br>  Its package type is .nupkg, the contents of which are PowerShell modules.  So do not be surprised that its PSGallery repository has the NuGet format: <br><br><pre> <code class="bash hljs">PS C:\&gt; Get-PSRepository -Name <span class="hljs-string"><span class="hljs-string">"PSGallery"</span></span> | Format-List * -Force Name : PSGallery SourceLocation : https://www.powershellgallery.com/api/v2/ Trusted : False Registered : True InstallationPolicy : Untrusted PackageManagementProvider : NuGet PublishLocation : https://www.powershellgallery.com/api/v2/package/ ScriptSourceLocation : https://www.powershellgallery.com/api/v2/items/psscript/ ScriptPublishLocation : https://www.powershellgallery.com/api/v2/package/ ProviderOptions : {}</code> </pre> <br>  And now you may have noticed the following subtlety: the list of repositories in the PackageManager is done with the command Get-PackageSource, not Get-PSRepository. <br><br>  The fact is that the work of this module, as I said above, install PowerShell modules.  The installation kit includes registration of new cmdlets, which he did.  This cmdlet provides additional fields when registering a repository (for example, PublishLocation).  This is not visible if you use the standard cmdlet: <br><br><pre> <code class="bash hljs">PS C:\&gt; Get-PackageSource -Name <span class="hljs-string"><span class="hljs-string">"PSGallery"</span></span> | Format-List * -Force Name : PSGallery Location : https://www.powershellgallery.com/api/v2/ Source : PSGallery ProviderName : PowerShellGet Provider : Microsoft.PackageManagement.Implementation.PackageProvider IsTrusted : False IsRegistered : True IsValidated : False Details : {[ScriptPublishLocation, https://www.powershellgallery.com/api/v2/package/], [InstallationPolicy, Untrusted], [PackageManagementProvider, NuGet], [ScriptSourceLocation, https://www.powershellgallery.com/api/v2/items/psscript/]...}</code> </pre><br>  Last: Chocolatey. <br><br>  That's all they say that Chocolatey is a superstructure over NuGet.  It is like that, but not quite.  Chocolatey uses the same specs, but not completely.  Instead of a full package, it often uses downloading .msi or anything else and the subsequent silent installation.  That is, while NuGet batch provider or nuget.exe package manager installs only native NuGet packages, Chocolatey installs them + everything that others cannot install.  Therefore, the base package Chocolatey so impressive compared to the base NuGet.  And so there are so many scripts in Chocolatey packages. <br><br>  You may have noticed that there are two providers, Chocolatey and ChocolateyGet.  The first is a homemade makeshift.  The second is the official provider that just recently came out.  Well, you see by version. </div><p>Source: <a href="https://habr.com/ru/post/331124/">https://habr.com/ru/post/331124/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../331114/index.html">A quick setup option for a wholesale company management system</a></li>
<li><a href="../331116/index.html">New plug-in for Sennheiser headsets and free upgrade to 3CX v15.5</a></li>
<li><a href="../331118/index.html">Catch data big and small! (Overview of Data Science courses from the Cognitive Class)</a></li>
<li><a href="../331120/index.html">How to write the most awful backend for a mobile application</a></li>
<li><a href="../331122/index.html">Android: dynamically load fragments from the network</a></li>
<li><a href="../331128/index.html">Our recipe for a fail-safe Linux router</a></li>
<li><a href="../331130/index.html">Functional programming in Scala - is it necessary at all?</a></li>
<li><a href="../331132/index.html">It was 2017. Where is UDP fragmentation?</a></li>
<li><a href="../331134/index.html">Emacs Lisp Alternative</a></li>
<li><a href="../331136/index.html">What is the essence of design? I find the answer to the question considering the UI and UX, new terms in the field of web design</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>