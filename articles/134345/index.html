<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>How did the iPhone application for ServerClub</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="In anticipation of the fall, I completed the development of an iPhone application for hosting ServerClub.com. Now I had a free minute, and I would lik...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>How did the iPhone application for ServerClub</h1><div class="post__text post__text-html js-mediator-article">  In anticipation of the fall, I completed the development of an iPhone application for hosting ServerClub.com.  Now I had a free minute, and I would like to use it to share some lessons learned during the project with Habrasoobschestvom, as well as tell about the ‚Äúrakes‚Äù that we met on the way. <br><br>  So, it all started with the fact that the HQ of <a href="http://serverclub.com/">ServerClub.com</a> , which provides servers and related services for hire, had the idea to add a multi-platform mobile client to the website, which would provide users with access to their servers, traffic data, sensors, tickets, finance, invoices, and also would allow to order servers directly from the application.  In general, they conceived to repeat the entire functionality of the web client, rethinking and packaging it into a mobile application.  It was immediately clear that there was still a lot of work to do, but still, as is often the case, optimism overcame the mind, and I rated the work at 1 calendar month, after which I expected to publish the application on the App Store.  Here is only in the course of development, coordination and refinement, each major feature has ‚Äúovergrown‚Äù with even minor nuances, the implementation and polishing of which took extra time.  In addition, unexpected surprises were presented by reviewers, but first things first. <br><a name="habracut"></a><br>  The composition of the project team is worth a separate mention.  I worked in Moscow, the server-side developer was in Vietnam, the customer was in New York, the data center was in Holland, and the office with engineers was in St. Petersburg.  In this case, all were Russian-speaking.  This is globalization :) <br><br>  The first thing decided to choose technology.  A multi-platform html site that would work equally well not only on the iPhone, but also on Android and other platforms looked like an enticing option.  Having considered the pros and cons, we decided to start with a native client for the iPhone, because of its popularity, as well as the ease of installing the application from the App Store.  In the case of an html site, the only advantage is multiplatform and lower cost, to the detriment of navigation speed, rendering speed, and flexibility in the use of hardware capabilities.  In general, the interests of the user were put at the forefront. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      The customer immediately made special demands on the security of the connection to the server and the storage of access details to the user account.  This predetermined the choice of https, Keychain, and more.  It is important that these moments were agreed at the earliest stages of the project and I did not have to quickly redo everything at the release stage, when the customer suddenly came up with new requirements - and this also happened. <br><br>  We started with developing an API for client-server interaction.  To do this, I created a document that was shared with the whole team in Google Docs and in a couple of days formed the basis of the API.  In the future, in the course of working on the project, we more than once supplemented it and clarified it, but the most important foundations were laid immediately, so we moved quickly, without going back and breaking the construction. <br><br>  Now, having a well-developed and consistent API before my eyes, I saw a clearer picture of the upcoming amount of work.  And it became clear that the initial estimates were optimistic.  Having made a revaluation, brought it to the customer.  We must pay tribute to him, he accepted them without complaint.  One developer took up the server part, the client itself - I myself. <br><br>  Working through the API and architecture, I already presented the navigation scheme for the application and was ready to give it to the design.  Found a freelance designer.  Agreed on a price and timing.  For a couple of days, the layout of the 1st screen appeared, then the 2nd one.  The job went.  And suddenly the guy disappears.  On calls and mail in response - silence.  As it turned out, he had a baby.  And according to him, he spent a lot of time in the hospital, tenderly holding his wife's hand.  And so almost a week.  Well, you can understand fatherly feelings.  But time was lost, and trust was undermined.  I had to quickly look for other options.  The design that you will see on the screenshots below was done by another person. <br><br><img src="https://habrastorage.org/storage1/b5a7431c/63431eb5/be09334a/b6917b99.jpg"><br><img src="https://habrastorage.org/storage1/5e0420ef/6a2cad03/85b12191/ea578812.jpg"><br><br>  Technological problems, perhaps, was not.  Therefore, I will mention only some of the features.  Those who are interested in more subtle details, I will try to answer in the comments.  Interaction with the server: json via https, transfer of pictures: png via https.  The frameworks that helped a lot in reducing routine and time: <a href="http://allseeing-i.com/ASIHTTPRequest/">ASIHTTPRequest</a> , <a href="https://github.com/stig/json-framework">SBJson</a> , <a href="https://github.com/jdg/MBProgressHUD">MBProgressHUD</a> , <a href="https://github.com/ldandersen/scifihifi-iphone">SFHFKeychainUtils</a> . <br><br>  Belatedly, I discovered the animation of views using blocks.  Now instead of several methods in which the animation is laid out in stages: <br><br><pre><code class="cpp hljs">-(<span class="hljs-keyword"><span class="hljs-keyword">void</span></span>)showPickerPopup { [UIView beginAnimations:nil context:nil]; [UIView setAnimationDuration:<span class="hljs-number"><span class="hljs-number">0.5</span></span>]; [UIView setAnimationDelegate:self]; [UIView setAnimationDidStopSelector:@selector(pickerPopupShown)]; tableView.alpha = <span class="hljs-number"><span class="hljs-number">0</span></span>; [UIView commitAnimations]; } -(<span class="hljs-keyword"><span class="hljs-keyword">void</span></span>)pickerPopupShown { tableView.hidden = YES; }</code> </pre> <br><br>  ... starting with iOS 4.0, you can write in a more compact and readable way: <br><br><pre> <code class="cpp hljs">-(<span class="hljs-keyword"><span class="hljs-keyword">void</span></span>)showPickerPopup { [UIView animateWithDuration:<span class="hljs-number"><span class="hljs-number">0.5</span></span> animations:^{ tableView.alpha = <span class="hljs-number"><span class="hljs-number">0</span></span>; } completion:^(BOOL finished) { tableView.hidden = YES; } ]; }</code> </pre> <br>  At first glance, both methods are similar, but in real code, when you have to control not only the alpha (as in this example), but also a bunch of other parameters from several views, the code based on the blocks starts to gain great visual clarity.  And when the code is visually convenient for perception, as a result, it contains less errors, and at the final stage it will take less time to debug.  I did not just make such a conclusion, but suffered through years of work in various projects.  Therefore, I try to adhere to this principle, which I advise others. <br><br>  And now about the very "rakes" that were waiting for me when publishing the application in the App Store.  I must say, this is not my first application for the iPhone, and so far, reviews have passed without any claims from the censors.  And then just three.  First, it turned out to be deeply bogus for asking the user for his e-mail at login and registration.  Earlier, I repeatedly re-read the Apple Review Guidelines, but either did not pay attention to this point, or it appeared there recently.  I had to remove the registration screen, despite the extreme dissatisfaction of the customer.  A login was used by a nickname and this saved him from the righteous wrath of the ‚Äúgods‚Äù  The second claim was, obviously, due to the negligence of the censor.  He stated that ordering and paying for servers is possible only through an in-app purchase (IAP).  But the fact is that the order through the application is not paid, but only formed as a POST request and sent to the server.  I wrote about it and waited for an answer.  After 7 days, the answer comes that the application (attention!) Needs to be REMOVED by an in-app purchase, since real goods, such as server rent, are not allowed to be paid via IAP.  Vicious circle.  Again the letter.  Again failure after 5-7 days.  After that, I filed an appeal, after which I was promptly called back and informed that all the claims had been removed, you just need to remove the registration screen, which I did.  And thirdly, in the text of the user agreement, the censors saw a link to the main hosting page of ServerClub.com and demanded to remove it.  What is the catch here, I did not even find out and just removed the link.  All correspondence took about 20 calendar days. <br><br>  Total, the whole development cycle - from idea to release in the App Store - took about 2 calendar months. <br><br>  App on the App Store: <a href="http://itunes.apple.com/app/id453939265">http://itunes.apple.com/app/id453939265</a> <br><br>  Findings: <br><ul><li>  It is necessary to form the main feature list with the customer at the earliest stages of the project.  Although it is also silly to count on its 100% immutability. </li><li>  Stabilization, nuances and polishing should not be underestimated.  Additional time will always be spent on them. </li><li>  it is important not only to harmonize and document the underlying technologies of the project, but also to bring them to each participant </li><li>  Do not be afraid of the iterative adjustments of their initial estimates.  Hiding them from the customer and disrupting the deadlines in the future may bring more trouble, broken nerves and sleepless nights. </li><li>  unfamiliar freelancer in the project - a high risk, especially for a short-term project </li><li>  Well-readable code reduces development time, especially when stabilizing a project. </li><li>  read the Apple Review Guidelines carefully and more often, for it periodically and without notice to the developers changes </li><li>  in some cases, the App Review Board helps to deal with the obstinacy of censors, who are also human and they are mistaken. </li></ul><br>  Perhaps it was in this project more than ever that I felt the whole infinity of the world, in which a small group of people, being on different continents and communicating exclusively through the Internet, did one thing in common, smoothly and efficiently.  Thanks to everyone who made this project possible, and also to you, the reader, for showing patience and reading to the end. </div><p>Source: <a href="https://habr.com/ru/post/134345/">https://habr.com/ru/post/134345/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../134334/index.html">XenApp: Installation and Configuration Experience</a></li>
<li><a href="../134338/index.html">How many pages of search engine information do you study before rephrasing a query?</a></li>
<li><a href="../134340/index.html">Petersburg startup: media and an online catalog for parents, building an effective platform for web promotion</a></li>
<li><a href="../134343/index.html">MirrorLink technology in your car</a></li>
<li><a href="../134344/index.html">Validation of Javascript in VisualStudio using google closure</a></li>
<li><a href="../134346/index.html">This letter to Santa Claus</a></li>
<li><a href="../134348/index.html">Silverlight 5 Released!</a></li>
<li><a href="../134349/index.html">A new way to generate random numbers will protect data from hackers</a></li>
<li><a href="../134350/index.html">Motorola won a lawsuit with Apple in a German court</a></li>
<li><a href="../134351/index.html">Certon Systems has released a protected hard drive.</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>