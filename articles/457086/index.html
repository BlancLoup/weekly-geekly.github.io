<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Architectural template "Builder" in the universe "Swift" and "iOS" / "macOS"</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="This time I would like to talk a little bit about one more generating design pattern from the Gang of Four arsenal - the Builder . It turned out that ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Architectural template "Builder" in the universe "Swift" and "iOS" / "macOS"</h1><div class="post__text post__text-html js-mediator-article"><p>  This time I would like to talk a little bit about one more generating design pattern from the Gang of Four arsenal - the <a href="https://en.wikipedia.org/wiki/Builder_pattern">Builder</a> .  It turned out that in the course of getting my own (albeit not too extensive) experience, I quite often saw that the pattern was used in the <a href="https://java.com/">‚ÄúJava‚Äù</a> code in general and in the <a href="https://android.com/">‚ÄúAndroid‚Äù</a> applications in particular.  But in <a href="https://apple.com/ios">‚ÄúiOS‚Äù</a> projects, whether they are written in <a href="https://swift.org/">‚ÄúSwift‚Äù</a> or <a href="https://en.wikipedia.org/wiki/Objective-C">‚ÄúObjective-C‚Äù</a> , the <a href="https://en.wikipedia.org/wiki/Software_design_pattern">template</a> was rarely seen by me.  Nevertheless, with all its simplicity, in appropriate cases, it can be quite convenient and, as is fashionable to say, powerful. <a name="habracut"></a></p><br><p><img src="https://habrastorage.org/webt/yb/mn/d3/ybmnd3bovtbxkuii2d4iot2lxsu.jpeg" alt="image"></p><br><p>  The template is used to replace the complex initialization process by constructing the desired object step by step, with a finalizing method call at the end.  Steps can be optional and should not have a strict call sequence. </p><br><p><img src="https://habrastorage.org/webt/m8/4m/ho/m84mhoyuodwqs34x4d2wqolx7dc.gif" alt="image"></p><br><h2 id="primer-iz-foundation">  Example from "Foundation" </h2><br><p> In cases when the necessary <a href="https://en.wikipedia.org/wiki/URL">‚ÄúURL‚Äù is</a> not fixed, but constructed from the components (for example, the host address and relative path to the resource), you probably used the convenient <a href="https://developer.apple.com/documentation/foundation/urlcomponents"><code>URLComponents</code></a> mechanism from the <a href="https://developer.apple.com/documentation/foundation">‚ÄúFoundation‚Äù</a> library. </p><br><p>  <code>URLComponents</code> are, for the most part, just a class that combines a number of variables that store the values ‚Äã‚Äãof certain URL components, as well as the <a href="https://developer.apple.com/documentation/foundation/urlcomponents/1780032-url"><code>url</code></a> property, which returns the corresponding URL set to the current set of components.  For example: </p><br><pre> <code class="swift hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> urlComponents = <span class="hljs-type"><span class="hljs-type">URLComponents</span></span>() urlComponents.scheme = <span class="hljs-string"><span class="hljs-string">"https"</span></span> urlComponents.user = <span class="hljs-string"><span class="hljs-string">"admin"</span></span> urlComponents.password = <span class="hljs-string"><span class="hljs-string">"qwerty"</span></span> urlComponents.host = <span class="hljs-string"><span class="hljs-string">"somehost.com"</span></span> urlComponents.port = <span class="hljs-number"><span class="hljs-number">80</span></span> urlComponents.path = <span class="hljs-string"><span class="hljs-string">"/some/path"</span></span> urlComponents.queryItems = [<span class="hljs-type"><span class="hljs-type">URLQueryItem</span></span>(name: <span class="hljs-string"><span class="hljs-string">"page"</span></span>, value: <span class="hljs-string"><span class="hljs-string">"0"</span></span>)] <span class="hljs-number"><span class="hljs-number">_</span></span> = urlComponents.url <span class="hljs-comment"><span class="hljs-comment">// https://admin:qwerty@somehost.com:80/some/path?page=0</span></span></code> </pre> <br><p>  In essence, the above example of use is the implementation of the ‚ÄúBuilder‚Äù pattern.  In this case, <code>URLComponents</code> acts as the builder itself, assigning values ‚Äã‚Äãto its various properties ( <a href="https://developer.apple.com/documentation/foundation/urlcomponents/1779624-scheme"><code>scheme</code></a> , <a href="https://developer.apple.com/documentation/foundation/urlcomponents/1779882-host"><code>host</code></a> , etc.) is the initialization of the future object <code>URLComponents</code> , and calling the <code>url</code> property is a sort of finalizing method. </p><br><p>  <em>In the comments, there were heated battles about <a href="https://en.wikipedia.org/wiki/Request_for_Comments">‚ÄúRFC‚Äù</a> documents describing the ‚ÄúURL‚Äù and <a href="https://en.wikipedia.org/wiki/Uniform_Resource_Identifier">‚ÄúURI‚Äù</a> , therefore, to be more precise, I suggest for example to assume that we are talking only about the ‚ÄúURL‚Äù of remote resources, and do not take into account such ‚ÄúURL‚Äù schemes, like, say, ‚Äúfile‚Äù.</em> </p><br><p>  It seems to be all right, if you use this code infrequently and know all its subtleties.  But what if you forget something?  For example, is anything important like a host address?  What do you think will be the result of the following code? </p><br><pre> <code class="swift hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> urlComponents = <span class="hljs-type"><span class="hljs-type">URLComponents</span></span>() urlComponents.scheme = <span class="hljs-string"><span class="hljs-string">"https"</span></span> urlComponents.path = <span class="hljs-string"><span class="hljs-string">"/some/path"</span></span> <span class="hljs-number"><span class="hljs-number">_</span></span> = urlComponents.url</code> </pre> <br><p>  We work with properties, not methods, and no errors will be ‚Äúthrown out‚Äù for sure.  The "finalizing" property <code>url</code> returns <a href="https://developer.apple.com/documentation/swift/optional">an optional</a> value, so maybe we get <code>nil</code> ?  No, we get a fully-fledged <a href="https://developer.apple.com/documentation/foundation/url"><code>URL</code></a> type object with a meaningless value - ‚Äúhttps: / some / path‚Äù.  Therefore, it occurred to me to practice writing my own ‚Äúbuilder‚Äù on the basis of the <a href="https://en.wikipedia.org/wiki/Application_programming_interface">‚ÄúAPI‚Äù</a> described above. </p><br><h2 id="zdes-dolzhen-byl-byt-emodzi-velosiped-no-habr-ego-ne-otobrazhaet">  (There was supposed to be an Emoji ‚Äúbicycle‚Äù, but ‚ÄúHabr‚Äù does not display it) </h2><br><p>  Despite the above, I consider <code>URLComponents</code> good and convenient ‚ÄúAPI‚Äù for building a ‚ÄúURL‚Äù from components and, on the contrary, for ‚Äúparsing‚Äù the components of the well-known ‚ÄúURL‚Äù.  Therefore, based on it, we will now write our own type that collects the ‚ÄúURL‚Äù from parts and that has (suppose) the ‚ÄúAPI‚Äù we need at the moment. </p><br><p>  First, I want to get rid of scattered initialization by assigning new values ‚Äã‚Äãto all the necessary properties.  Instead, we implement the ability to create an instance of the builder and assign values ‚Äã‚Äãto all properties using the methods called along the chain.  The chain ends with a finalizing method, the result of which will be called and the corresponding instance of the <code>URL</code> .  Perhaps you have encountered something like a ‚ÄúJava‚Äù <a href="https://docs.oracle.com/javase/7/docs/api/java/lang/StringBuilder.html"><code>StringBuilder</code></a> in your life path - we will strive for something like this ‚ÄúAPI‚Äù now. </p><br><p>  To be able to call the methods-steps on the chain, each of them must return an instance of the current builder, within which the corresponding change will be stored.  For this reason, as well as to get rid of multiple copying of objects and from dancing around <code>mutating</code> methods, especially without thinking, we will declare our builder a <a href="https://docs.swift.org/swift-book/LanguageGuide/ClassesAndStructures.html">class</a> : </p><br><pre> <code class="swift hljs"><span class="hljs-keyword"><span class="hljs-keyword">final</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">URLBuilder</span></span></span><span class="hljs-class"> </span></span>{ }</code> </pre> <br><p>  Let's declare the methods that set the parameters of the future ‚ÄúURL‚Äù, taking into account the requirements listed above: </p><br><pre> <code class="swift hljs"><span class="hljs-keyword"><span class="hljs-keyword">final</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">URLBuilder</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> scheme = <span class="hljs-string"><span class="hljs-string">"https"</span></span> <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> user: <span class="hljs-type"><span class="hljs-type">String?</span></span> <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> password: <span class="hljs-type"><span class="hljs-type">String?</span></span> <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> host: <span class="hljs-type"><span class="hljs-type">String?</span></span> <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> port: <span class="hljs-type"><span class="hljs-type">Int?</span></span> <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> path = <span class="hljs-string"><span class="hljs-string">""</span></span> <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> queryItems: [<span class="hljs-type"><span class="hljs-type">String</span></span> : <span class="hljs-type"><span class="hljs-type">String</span></span>]? <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">with</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(scheme: String)</span></span></span></span> -&gt; <span class="hljs-type"><span class="hljs-type">URLBuilder</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.scheme = scheme <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">self</span></span> } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">with</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(user: String)</span></span></span></span> -&gt; <span class="hljs-type"><span class="hljs-type">URLBuilder</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.user = user <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">self</span></span> } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">with</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(password: String)</span></span></span></span> -&gt; <span class="hljs-type"><span class="hljs-type">URLBuilder</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.password = password <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">self</span></span> } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">with</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(host: String)</span></span></span></span> -&gt; <span class="hljs-type"><span class="hljs-type">URLBuilder</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.host = host <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">self</span></span> } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">with</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(port: Int)</span></span></span></span> -&gt; <span class="hljs-type"><span class="hljs-type">URLBuilder</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.port = port <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">self</span></span> } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">with</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(path: String)</span></span></span></span> -&gt; <span class="hljs-type"><span class="hljs-type">URLBuilder</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.path = path <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">self</span></span> } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">with</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(queryItems: [String : String])</span></span></span></span> -&gt; <span class="hljs-type"><span class="hljs-type">URLBuilder</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">self</span></span>.queryItems = queryItems <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">self</span></span> } }</code> </pre> <br><p>  We save the specified parameters in private properties of the class for further use by finalizing the method. </p><br><p>  Another ‚ÄúAPI‚Äù tribute on which we base our class is the <a href="https://developer.apple.com/documentation/foundation/urlcomponents/1780144-path"><code>path</code></a> property, which, unlike all neighboring properties, is not optional, and in the absence of a relative path it stores an empty string as its value. </p><br><p>  To write this, actually, finalizing method, you need to think about a few more things.  First, the ‚ÄúURL‚Äù has some parts, without which it, as indicated at the beginning, ceases to have meaning ‚Äî it is a <code>scheme</code> and a <code>host</code> .  First, we "awarded" the default value, so forgetting about it, we still get the expected result. </p><br><p>  With the second, things are a bit more complicated: you cannot assign a default value to it.  In this case, we have two ways: if there is no value for this property, either return <code>nil</code> or throw an error and let the client code decide what to do with it.  The second option is more difficult, but it will allow unambiguously to point out a specific programmer's error.  Perhaps, for example, on this path we will go. </p><br><p>  Another interesting point is related to the <a href="https://developer.apple.com/documentation/foundation/urlcomponents/1780088-user"><code>user</code></a> and <a href="https://developer.apple.com/documentation/foundation/urlcomponents/1779807-password"><code>password</code></a> properties: they only make sense if they are used simultaneously.  But what if the programmer forgets to assign one of these two values? </p><br><p>  And, probably, the last thing that needs to be taken into account is that we want to have the value of the <code>url</code> property <code>URLComponents</code> as a <code>URLComponents</code> , and this, in this case, is not by the way optional.  Although with any combination of the given values ‚Äã‚Äãof the <code>nil</code> properties we will not get.  (The value will be missing only for an empty, newly created, instance of <code>URLComponents</code> .) To overcome this circumstance, you can use <code>!</code>  - operator "forced unwrapping".  But in general, we would not like to encourage its use, so in our example we abstract a little from the knowledge of the finer points of the Foundation and consider the situation under discussion as a system error, the occurrence of which does not depend on our code. </p><br><p>  So: </p><br><pre> <code class="swift hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extension</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">URLBuilder</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">func</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">build</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span></span> <span class="hljs-keyword"><span class="hljs-keyword">throws</span></span> -&gt; <span class="hljs-type"><span class="hljs-type">URL</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">guard</span></span> <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> host = host <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">throw</span></span> <span class="hljs-type"><span class="hljs-type">URLBuilderError</span></span>.emptyHost } <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> user != <span class="hljs-literal"><span class="hljs-literal">nil</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">guard</span></span> password != <span class="hljs-literal"><span class="hljs-literal">nil</span></span> <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">throw</span></span> <span class="hljs-type"><span class="hljs-type">URLBuilderError</span></span>.inconsistentCredentials } } <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> password != <span class="hljs-literal"><span class="hljs-literal">nil</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">guard</span></span> user != <span class="hljs-literal"><span class="hljs-literal">nil</span></span> <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">throw</span></span> <span class="hljs-type"><span class="hljs-type">URLBuilderError</span></span>.inconsistentCredentials } } <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> urlComponents = <span class="hljs-type"><span class="hljs-type">URLComponents</span></span>() urlComponents.scheme = scheme urlComponents.user = user urlComponents.password = password urlComponents.host = host urlComponents.port = port urlComponents.path = path urlComponents.queryItems = queryItems?.<span class="hljs-built_in"><span class="hljs-built_in">map</span></span> { <span class="hljs-type"><span class="hljs-type">URLQueryItem</span></span>(name: $<span class="hljs-number"><span class="hljs-number">0</span></span>, value: $<span class="hljs-number"><span class="hljs-number">1</span></span>) } <span class="hljs-keyword"><span class="hljs-keyword">guard</span></span> <span class="hljs-keyword"><span class="hljs-keyword">let</span></span> url = urlComponents.url <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">throw</span></span> <span class="hljs-type"><span class="hljs-type">URLBuilderError</span></span>.systemError <span class="hljs-comment"><span class="hljs-comment">// Impossible? } return url } enum URLBuilderError: Error { case emptyHost case inconsistentCredentials case systemError } }</span></span></code> </pre> <br><p>  Here, perhaps, that's all!  Now componentwise creation of the ‚ÄúURL‚Äù from the example at the beginning may look like this: </p><br><pre> <code class="swift hljs"><span class="hljs-number"><span class="hljs-number">_</span></span> = <span class="hljs-keyword"><span class="hljs-keyword">try</span></span> <span class="hljs-type"><span class="hljs-type">URLBuilder</span></span>() .with(user: <span class="hljs-string"><span class="hljs-string">"admin"</span></span>) .with(password: <span class="hljs-string"><span class="hljs-string">"Qwerty"</span></span>) .with(host: <span class="hljs-string"><span class="hljs-string">"somehost.com"</span></span>) .with(port: <span class="hljs-number"><span class="hljs-number">80</span></span>) .with(path: <span class="hljs-string"><span class="hljs-string">"/some/path"</span></span>) .with(queryItems: [<span class="hljs-string"><span class="hljs-string">"page"</span></span>: <span class="hljs-string"><span class="hljs-string">"0"</span></span>]) .build() <span class="hljs-comment"><span class="hljs-comment">// https://admin:Qwerty@somehost.com:80/some/path?page=0</span></span></code> </pre> <br><p>  Of course, using <a href="https://docs.swift.org/swift-book/LanguageGuide/ErrorHandling.html"><code>try</code></a> outside a <code>do</code> - <code>catch</code> or without an operator <code>?</code>  when an error occurs, causes the program to crash.  But we have provided the ‚Äúclient‚Äù with the ability to handle errors as he deems necessary. </p><br><p>  <em>Yes, and another useful feature of step-by-step design using this template is the ability to place steps in different parts of the code.</em>  <em>Not the most frequent "case", but nonetheless.</em>  <em>Thanks <a href="https://habr.com/ru/users/akryukov/" class="user_link">akryukov</a> for the reminder!</em> </p><br><h2 id="zaklyuchenie">  Conclusion </h2><br><p>  The pattern is extremely simple to understand, and everything simple is, as you know, brilliant.  Or vice versa?  Nevermind.  The main thing is that I, without turning my head, can say that it (the template) has already happened, it helped me to solve problems of creating large and complex initialization processes.  For example, the process of preparing a session of communication with the server in the library, which I wrote for one service almost two years ago.  By the way, the code is <a href="https://en.wikipedia.org/wiki/Open_source">‚Äúopen source‚Äù</a> and, if desired, it is quite possible to <a href="https://github.com/webim/webim-client-sdk-ios/blob/b473a746c8869fc4a99269baee5c10f665196625/WebimClientLibrary/Webim.swift">get acquainted</a> with it.  (Although, of course, since then much water has flowed under the bridge, and other programmers were also attached to this code.) </p><br><p>  <strong>My other posts about design patterns:</strong> </p><br><ul><li>  <a href="https://habr.com/ru/post/451324/">"Factory method" and "Abstract factory" in the universe "Swift" and "iOS"</a> , </li><li>  <a href="https://habr.com/ru/post/437614/">"Architectural pattern" Iterator "(" Iterator ") in the universe" Swift "</a> , </li><li>  <a href="https://habr.com/ru/post/432558/">"Architectural pattern" Visitor "(" Visitor ") in the universe of" iOS "and" Swift "</a> . </li></ul><br><p>  <em>And this is <a href="https://twitter.com/lazarevzubov">my Twitter</a> to satisfy a hypothetical interest in my public professional activity.</em> </p></div>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <p>Source: <a href="https://habr.com/ru/post/457086/">https://habr.com/ru/post/457086/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../457074/index.html">Evolution of developers: what games to expect in the future</a></li>
<li><a href="../457078/index.html">How to turn your avatar in Telegram into a clock</a></li>
<li><a href="../45708/index.html">Software self motivation</a></li>
<li><a href="../457082/index.html">Imperceptible issuance of administrator rights</a></li>
<li><a href="../457084/index.html">How to live with professional lighting. Videos from Badoo Techleads Meetup # 4</a></li>
<li><a href="../457090/index.html">Security Cheat Sheets: JWT</a></li>
<li><a href="../457092/index.html">We study MITER ATT & CK. Mobile Matrices: Device Access. Part 5</a></li>
<li><a href="../457096/index.html">We free our hands to several analysts: API Livy to automate typical banking tasks</a></li>
<li><a href="../457098/index.html">Elegant JavaScript error handling with the Either monad</a></li>
<li><a href="../4571/index.html">"Soup" suffers from bad PR</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>