<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>New version of HP Vertica Excavator (7.2)</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="In late October, a new version of HP Vertica was released. The development team continued the glorious traditions of the release of construction equip...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>New version of HP Vertica Excavator (7.2)</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/getpro/habr/post_images/420/2a2/d35/4202a2d35c558cf895cb4230b697eba3.jpg" alt="image"><br><br>  In late October, a new version of HP Vertica was released.  The development team continued the glorious traditions of the release of construction equipment BigData and gave the code name of the new version of Excavator. <br><br>  Having studied the innovations of this version, I think the name was chosen correctly: everything that is needed to work with big data from HP Vertica has already been implemented, now you need to balance and improve the existing one, that is, to dig. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      You can view the full list of innovations in this document: <a href="http://my.vertica.com/docs/7.2.x/PDF/HP_Vertica_7.2.x_New_Features.pdf">http://my.vertica.com/docs/7.2.x/PDF/HP_Vertica_7.2.x_New_Features.pdf</a> <br><br>  I will briefly go through the most significant changes from my point of view. <br><br><h1>  Licensing policy changed </h1><br>  In the new version, the algorithms for calculating the size of the data in the license were changed: <br><ul><li>  For tabular data, now when counting does not take into account 1 byte separator for numeric and date-time fields; </li><li>  For data in the flex zone, the license size is calculated as 1/10 of the size of the loaded JSON. </li></ul><br>  Thus, when upgrading to a new version, the size of your storage license will decrease, which will be especially noticeable on large data warehouses that occupy tens and hundreds of terabytes. <br><br><h1>  Added official support for RHEL 7 and CentOS 7 </h1><br>  Now it will be possible to deploy a Vertica cluster on more modern Linux operating systems, which I think should rejoice the system administrators. <br><br><h1>  Optimized database directory storage </h1><br>  The format for storing the data catalog in Vertica is already quite a lot of versions remained the same.  Given the growth not only of the data in the databases, but also the number of objects in them and the number of nodes in the clusters, it has already ceased to satisfy the efficiency issues for high-loaded data warehouses.  The new version was optimized in order to reduce the size of the directory, which had a positive impact on the speed of its synchronization between nodes and working with it when executing queries. <br><a name="habracut"></a><br><h1>  Improved integration with Apache solutions </h1><br>  Added integration with Apache Kafka: <br><img src="https://habrastorage.org/getpro/habr/post_images/df7/3e1/91e/df73e191eabb3311f419cf9df05e19da.png" alt="image"><br><br>  This solution allows you to organize real-time loading of streams through Kafka, where this product will collect data from streams in JSON and then load them in parallel into the Vertica Flex storage zone.  All this will allow you to easily create downloads of streaming data without the involvement of expensive software or resource-intensive development of your own jobs on ETL. <br><br>  Also added support for downloading files from Apache HDFS in Avro format.  This is quite a popular format for storing data on HDFS and it really didn‚Äôt have enough support before. <br><br>  Well, Vertica's work with Hadoop has become so constant with customers that now there is no need to install a separate work package with Hadoop in Vertica, it is immediately included in it.  Remember to remove the old Hadoop integration package before installing the new version! <br><br><h1>  Added drivers for Python </h1><br>  Now Python to work with Vertica has its own native full-featured drivers, officially supported by HP Vertica.  Previously, developers on Python had to be content with ODBC drivers, which created inconveniences and additional difficulties.  Now they can easily and easily work with Vertica. <br><br><h1>  Improved JDBC driver functionality </h1><br>  Added the ability to perform multiple requests at the same time within one session (Multiple Active Result Sets).  This allows the session, to build a complex analytical query with different sections, to simultaneously run the necessary queries, which, as they are executed, will return their data.  Those data that the session has not yet taken from the server will be cached on its side. <br><br>  Also added is the functionality of calculating the hash of field values, similar to calling the Hash function in Vertica.  This allows even before loading records into the data storage table, to calculate which nodes they will be placed on by a given segmentation key. <br><br><h1>  Expanded management of the cluster node recovery process </h1><br>  Added functionality that allows you to set the priority of recovery tables for recovered nodes.  This is useful if you need to balance the recovery of the cluster yourself, determining which tables will be restored among the first, and which ones should be restored last. <br><br><h1>  Added new backup mechanism functionality. </h1><br><ul><li>  You can back up to local node hosts; </li><li>  You can restore a schema or a table from a full or object backup; </li><li>  Using the COPY_PARTITIONS_TO_TABLE function, you can organize sharing of data storage between several tables with the same structure.  After copying these partitions from the table to the table, they will physically refer to the same ROS containers of the copied partitions.  When changes are made to these table partitions, each further has its own version of the changes.  This makes it possible to do snapshots of partitioning tables into other tables for their use, with the guarantee that the original data of the original table will remain intact, at high speed, without the cost of storing the copied data on disks. </li><li>  With object restoration, you can specify the behavior when the object to be restored exists.  Vertica can create it, if it is not already in the database, do not restore it, restore it from a backup, or create a new object next to the existing one with a prefix in the name of the backup name and its date. </li></ul><br><br><h1>  Improved optimizer performance </h1><br>  When joining tables with the HASH JOIN method, the connection processing process could take a lot of time if both joined tables had a large number of records.  In fact, it was necessary to build a hash table of values ‚Äã‚Äãon the external connection table and then, scanning the internal connection table, look for the hash in the created hash table.  Now, in the new version, scanning into the hash table is made parallel, which should significantly improve the connection speed of the tables by this method. <br><br>  For query plans, it is possible to create query plan scripts using hints in the query: specify the explicit order of joining tables, their join and segmentation algorithms, list projections that can or cannot be used when executing a query.  This allows you to more flexibly seek from the optimizer to build effective query plans.  And in order for BI systems to take advantage of this optimization when performing standard queries without the requirement to enter descriptions of hints, the ability to save the script of such queries has been added to Vertica.  Any session that executes a query that matches the pattern stored by the script will receive the optimal query plan already described and work on it. <br><br>  To optimize the performance of queries with multiple calculations in calculated fields or conditions, including like, JIT compilation of query expressions has been added to Vertica.  Earlier, interpretation of expressions was used and this greatly degraded the speed of query execution, in which, for example, dozens of like expressions were encountered. <br><br><h1>  Extended data integrity checking functionality </h1><br>  Previously, Vertica, when describing restrictions on tables, only checked the NOT NULL condition when loading and modifying data.  All PK, FK and UK restrictions were fully checked only with single DML INSERT and UPDATE statements, as well as for the MERGE operator, whose operation algorithm directly depends on the compliance of the PK and FK integrity constraints.  However, it was possible to check for violation of the integrity of the values ‚Äã‚Äãof all constraints using a special function that issued a list of violating constraints. <br><br>  Now, in the new version, you can enable checking all restrictions for group DML operators and COPY on all or just the necessary tables.  This allows you to more flexibly implement checks on the purity of the downloaded data and choose between the speed at which data is loaded and the simplicity of checking its integrity.  If the data in the repository comes from reliable sources and in large volumes, it is reasonable not to include checking restrictions on such tables.  If the volume of incoming data is not critical, but their purity is questionable, it is easier to enable checks than to implement the ETL checks themselves. <br><br><h1>  Deprecated Ad </h1><br>  Alas, any product development always not only adds functionality, but also gets rid of obsolete.  In this version of Vertica, not so much has been declared obsolete, but there are a couple of significant ads that are worth considering: <br><ul><li>  Ext3 file system support </li><li>  Support for pre-join projections </li></ul><br>  Both items are quite critical for Vertica customers.  Those who have long been working with this server can easily have a cluster still on the old ext3 fs.  And I also know, many, use pre-join projections to optimize queries to constellations.  In any case, an explicit version of the removal of support for these functions is not indicated, and I have time to get ready for Vertica customers, I think, at least a couple more years. <br><br><h1>  Summarizing the impressions of the new version </h1><br>  This article lists only half of what has been added to Vertica.  The scope of expansion of the functionality is impressive, but I listed only what is relevant for all projects of building data warehouses.  If you are using full-text search, geolocation, advanced security, and other cool features implemented in Vertica, then you can read all the changes on them at the link that I gave at the beginning of the article or documentation on the new version of Vertica: <br>  <a href="https://my.vertica.com/docs/7.2.x/HTML/index.htm">https://my.vertica.com/docs/7.2.x/HTML/index.htm</a> <br><br>  From myself I‚Äôll say: working with large data warehouses on HP Vertica in dozens of terabytes in different projects, I appreciate the changes in the new version very positively.  It really implements a lot of things that I would like to receive and facilitate the development and maintenance of data warehouses. </div><p>Source: <a href="https://habr.com/ru/post/270755/">https://habr.com/ru/post/270755/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../270741/index.html">New ICQ, or as we received Editors' Choice</a></li>
<li><a href="../270743/index.html">Static analysis of printf-like functions in C using libclang</a></li>
<li><a href="../270745/index.html">Cloud for development companies: how Robots Can Dream made a project for the FINA World Cup 2015</a></li>
<li><a href="../270747/index.html">7 key benefits of Dell technical support</a></li>
<li><a href="../270753/index.html">I2P: Signature and EdDSA Signature Verification</a></li>
<li><a href="../270757/index.html">Creating an enterprise - the solution of tomorrow</a></li>
<li><a href="../270759/index.html">Russian AI Cup 2015: race for survival for programmers</a></li>
<li><a href="../270763/index.html">Office Add-Ins for Excel - new features for VBA and VSTO developers</a></li>
<li><a href="../270765/index.html">Sound theory. What you need to know about the sound to work with it. Experience Yandex. Music</a></li>
<li><a href="../270775/index.html">How to use the Internet and modern technology people with visual impairment. Yandex research</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>