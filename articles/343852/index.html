<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Interfaces in C #</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="For those who are just starting to master C #, the question often arises of what an interface is and why it is needed. 

 First about what can be foun...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Interfaces in C #</h1><div class="post__text post__text-html js-mediator-article">  For those who are just starting to master C #, the question often arises of what an interface is and why it is needed. <br><br>  First about what can be found on the first link in a search engine.  In most articles, the meaning of the interface is explained as a ‚Äúcontract‚Äù on what the class should contain, what properties and methods.  For example, we have an interface: <br><br><pre><code class="vala hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">interface</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">IForecast</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> GetForecast(<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> value); <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> Size { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">set</span></span>; } }</code> </pre> 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Accordingly, if a class implements this interface, then it must contain the implementation of the int method GetForecast (int value) and the Size property. <br><br>  The practical value of such a contract is minimal.  If you throw the interface out of the project, everything will work fine without it.  Unless you want to completely rewrite the logic of the class and then the interface will help you not to forget about the necessary methods. <br><br>  Summing up this part, if an interface is implemented only in a single class, then do not waste time on it.  He just does not need. <br><br><a name="habracut"></a><br><br>  <b>Addition</b> <br>  Immediately after the publication, a lot of criticism fell on me, at first I tried to answer, but then I realized that there was no point.  All critics rest on what I wrote in the previous paragraph and try to give complex examples of projects where there are many classes, all sorts of links here and there, support by the team and so on.  I probably was wrong, that I briefly summarized the introduction.  But the bottom line is that the interface is not always needed.  If you have your own personal (or just not very large) project that does not plan to scale, which no one refers to and, most importantly, that <u>works successfully</u> , then the introduction to the project of interfaces will not change anything.  And do not invent stories that somewhere someone once implemented the interface and gained immortality.  If the interface were needed everywhere, it would be an integral part of the class. <br><br>  This article is about how you can use the interface not for connectivity between projects, but within a single project.  On this occasion, criticism has not yet been. <br><br>  <b>End of Supplement</b> <br><br>  Fortunately, the interface capabilities are much more interesting.  The interface can set a common feature for disparate objects, and this opens up tremendous opportunities in terms of code flexibility. <br><br>  For example, suppose we have two classes: <br><br><pre> <code class="vala hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">First</span></span></span></span></code> </pre>  and <pre> <code class="vala hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Second</span></span></span></span></code> </pre> <br><br>  These are two completely different classes, but let them have something in common, i.e.  we want one method to work with both of them without additional logic.  In this case, we can implement a common interface, i.e.  declare these classes as <br><br><pre> <code class="vala hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">First</span></span></span><span class="hljs-class"> : </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">IForecast</span></span></span></span></code> </pre>  and <pre> <code class="vala hljs"><span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Second</span></span></span><span class="hljs-class"> : </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">IForecast</span></span></span></span></code> </pre> <br><br>  Now we can make a common method for them: <br><br><pre> <code class="vala hljs"><span class="hljs-keyword"><span class="hljs-keyword">void</span></span> AnyMethod(IForecast anyClass) { <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> value = anyClass.GetForecast(<span class="hljs-number"><span class="hljs-number">10</span></span>); }</code> </pre> <br><br>  As you can see, the value variable will receive the value of the GetForecast function from the class that will be passed as a parameter without additional actions on type casting, etc. <br><br>  Another example, we do not know in advance which class we will need in the course of computations, however we need to declare an instance of this class before starting work.  In this case, you can declare an instance of the class that implements the interface: <br><br><pre> <code class="vala hljs">... IForecast any; ‚Ä¶  : <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(...) any = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> First(); <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> any = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Second();</code> </pre> <br><br>  You can go even further and declare an array (or list) of such objects: <br><br><pre> <code class="vala hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> array = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> IForecast[<span class="hljs-number"><span class="hljs-number">2</span></span>]; array[<span class="hljs-number"><span class="hljs-number">0</span></span>] = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> First(); array[<span class="hljs-number"><span class="hljs-number">1</span></span>] = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Second();</code> </pre> <br><br>  And then you can, for example, calculate the sum of all Size properties: <br><br><pre> <code class="vala hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> summ = <span class="hljs-number"><span class="hljs-number">0</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">foreach</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">var</span></span> forecast in array) { summ += forecast.Size; }</code> </pre> <br><br>  An interface declaration has one drawback: you will only have access to methods and properties declared in the interface <s>and the class itself</s> .  If your class is inherited from the base class, then to access its methods you will have to do a type conversion: <br><br><pre> <code class="vala hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">BaseClass</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> GetValue(<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> value) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> value * <span class="hljs-number"><span class="hljs-number">2</span></span>; } } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Second</span></span></span><span class="hljs-class">: </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">BaseClass</span></span></span><span class="hljs-class">, </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">IForecast</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">IForecast</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">frc</span></span></span><span class="hljs-class">; </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">frc</span></span></span><span class="hljs-class"> = </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">new</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Second</span></span></span><span class="hljs-class">(); </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">var</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">frcBase</span></span></span><span class="hljs-class"> = (</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">BaseClass</span></span></span><span class="hljs-class">) </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">frc</span></span></span><span class="hljs-class">; </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">var</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">result</span></span></span><span class="hljs-class"> = </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">frcBase</span></span></span><span class="hljs-class">.</span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">GetValue</span></span></span><span class="hljs-class">(45);</span></span></code> </pre> <br><br>  Another focus with interfaces can be cranked using the ability to implement two interfaces in the same class with the same signature but different content methods.  I don‚Äôt know what practical use this may be other than the one already mentioned, but if suddenly you don‚Äôt have enough imagination to come up with the names of functions, you can put them into the interfaces. <br><br>  For example, add another interface to our project: <br><br><pre> <code class="vala hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">interface</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">IForecast2</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> GetForecast(<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> value); }</code> </pre> <br><br>  And create a new class that inherits both interfaces: <br><br><pre> <code class="vala hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Third</span></span></span><span class="hljs-class">: </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">IForecast</span></span></span><span class="hljs-class">, </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">IForecast2</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> IForecast.GetForecast(<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> value) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> value + Size; } <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> Size { <span class="hljs-keyword"><span class="hljs-keyword">get</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">set</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> IForecast2.GetForecast(<span class="hljs-keyword"><span class="hljs-keyword">int</span></span> value) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span> * value + Size; } }</code> </pre> <br><br>  This is called an explicit interface implementation.  Now you can build this structure: <br><br><pre> <code class="vala hljs"> <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> third = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Third {Size = <span class="hljs-number"><span class="hljs-number">10</span></span>}; <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> v1 = ((IForecast) third).GetForecast(<span class="hljs-number"><span class="hljs-number">100</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> v2 = ((IForecast2)third).GetForecast(<span class="hljs-number"><span class="hljs-number">100</span></span>); Console.WriteLine(v1+v2);</code> </pre> <br><br>  Interestingly, when implementing such interfaces, access modifiers (‚Äúpublic‚Äù or something else) cannot be assigned to methods, but they are quite accessible as public via type conversion. <br><br>  As you can see, it works, but it looks too cumbersome.  To somehow improve the code, you can write a little differently: <br><br><pre> <code class="vala hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> third = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Third {Size = <span class="hljs-number"><span class="hljs-number">10</span></span>}; <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> bad = (IForecast) third; <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> good = (IForecast2) third; <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> v1 = bad.GetForecast(<span class="hljs-number"><span class="hljs-number">100</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> v2 = good.GetForecast(<span class="hljs-number"><span class="hljs-number">100</span></span>); Console.WriteLine(v1+v2)</code> </pre>  ; <br><br>  bad and good will refer to the third, but keep in mind the different interfaces.  The ghost can be done once, and its result can then be used repeatedly.  It is possible that in some cases this will make the code more readable. <br><br>  Another interface application is the rapid fabrication of plugs for functions. <br>  For example, you build a large project in a team and your class depends on the class that your colleague writes.  But not yet written.  The wise chief prepared the interfaces of all the main classes at the first stage of the project development and you can no longer wait for a colleague, but implement a stub class for your class.  Those.  the temporary class will not contain logic, but will only pretend that it works: accept calls and return adequate values.  To do this, you only need to implement the same interface that your colleague received. <br><br>  A working project with all the examples from this article can be found here: <a href="https://github.com/viktand/testInterface">link</a> </div><p>Source: <a href="https://habr.com/ru/post/343852/">https://habr.com/ru/post/343852/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../343842/index.html">WD (Western Digital) plans to create a 40 TB disk, but is this enough?</a></li>
<li><a href="../343844/index.html">How programmers with PVS-Studio looked for project errors</a></li>
<li><a href="../343846/index.html">.Net Core bots for Telegram, Slack and Facebook</a></li>
<li><a href="../343848/index.html">Gifts from M.Video: what's under the hood?</a></li>
<li><a href="../343850/index.html">On the results of the MERC-2017 contest: winners and comments</a></li>
<li><a href="../343854/index.html">ASO Monthly # 16: August 2017</a></li>
<li><a href="../343856/index.html">ITSM Digest: 20 materials on optimizing IT processes</a></li>
<li><a href="../343858/index.html">Virtual desktop service overview</a></li>
<li><a href="../343860/index.html">One-stop digital marketing: dismantling SAS cloud products</a></li>
<li><a href="../343862/index.html">Startup of the day (November 2017)</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>