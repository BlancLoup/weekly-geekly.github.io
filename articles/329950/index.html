<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>A day in the life of technical support</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Is it good to work in technical support? Well, it depends on what needs to be supported! Today, we will talk about the tasks that support companies in...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>A day in the life of technical support</h1><div class="post__text post__text-html js-mediator-article">  Is it good to work in technical support?  Well, it depends on what needs to be supported!  Today, we will talk about the tasks that support companies in Virtuozzo have to solve, and they will share their secrets - why they came to work specifically for these positions. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/66b/0f5/cc9/66b0f5cc9d8646f4ce078014a151abb4.gif" alt="image"></div><a name="habracut"></a><br>  So, technical support is a specific job associated with constant communication with customers.  No matter how hard we try to make the program code better, there are always enough problems.  They can be associated with the next release, and with an atypical scenario of using software, and with unforeseen situations in a personal server client.  In our case, all these troubles have to be solved by a support team in which 10 people work - and their number is planned to increase. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/c9d/cd5/803/c9dcd5803d0785c1fa504c76e86861f4.jpg" alt="image">
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      <i>Leading Technical Support Specialists at Virtuozzo Maria Antonova and Anna Vinokurova</i> <br><br>  - I have been working in technical support for a long time, and I really like this work from the point of view of language self-improvement.  English is the language of international communication, for many of our clients it is not native, and this cannot but leave its imprint on their manner of speech and perception of what you say in response.  For those who love communication and linguistics in general, but see themselves in a technical profile, it seems to me that working in such an environment is very useful for improving language skills and career development, ‚Äùsays Anna Vinokurova. <br><br>  The practice of the technical support service of Virtuozzo has derived several rules for itself that must be followed when communicating with customers from different regions.  In this case, it is easier to work, and results are achieved faster.  Here are some of them: <br><br>  ‚Ä¢ Clients from the Asian region should not write too long and detailed letters; of all the letters, only the first couple of paragraphs will most likely be read. <br>  ‚Ä¢ When verbally communicating with US customers, it is necessary several times to give confirmation that they understood you correctly. <br>  ‚Ä¢ Germans and Austrians can issue quite comprehensive instructions consisting of many points, and they will apply them exactly as it was written <br><br>  In general, the specificity of the work of supporters is a very high degree of spontaneity.  You can never guess at what point something goes wrong and engineers should be, as they say, ‚Äúalways ready.‚Äù  Clients sometimes need urgent help for various reasons, but basically any urgency is associated with obligations to end users - after all, most of the Virtuozzo clients are hosters, and non-working virtual machines or containers are someone's inaccessible sites or databases. <br><br>  However, there are predictable load waves, they are usually associated with the release of new products, the release of major updates, or the discovery of another Linux vulnerability. <br><br>  ‚ÄúWhen a regular security advisory bulletin is published on the Internet, anxious clients begin to come to the support team who want to know which versions are affected by the vulnerability, and how soon we will release an update,‚Äù notes Anna Vinokurova. <br><br>  - I really like working in technical support, because this work combines the tasks of a software expert, a programmer and a detective.  Sometimes the problem is so disguised that its solution is not at all obvious.  And each time, when it is possible to solve the riddle, ‚Äúwhy nothing works,‚Äù a feeling of deep satisfaction and even celebration comes!  - says Maria Antonova. <br><br>  What does the Virtuozzo support do? <br><br>  For those who are wondering whether to go to work for supportrs, we will tell a few stories from the real practice of our technical support. <br><br>  1. Memory is not added - CPU error <br><br>  One night, the client reports support for an error in an attempt to increase RAM for one of the virtual machines.  However, the error for some reason, "swears" on the CPU, not RAM. <br><br>  At first, this situation was very surprised by everyone, but after a while we figured out that the error returned was not directly related to the action being performed - it only revealed a failure that hid much deeper inside the system. <br><br>  The reason turned out to be quite serious: on the physical server, the CPU socket was knocked out, and it ceased to be detected, and with it all virtual cores within the socket went offline.  Naturally, when changing the memory limits for a virtual machine, validation of the future configuration did not take place simply as a whole, because the number of cores began to exceed the number of available cores on the server node. <br><br>  The fact is that in the process of validating the configuration file, the NUMA arrays, and the CPUs that belong to them, are processed.  On a physically ‚Äúhealthy‚Äù server, no NUMA should be empty, and the situation arose because no one had previously assumed that a server that was damaged in this way would be able to work for a long time. <br><br>  Decision <br><br>  On the client server, a correction was made to the python-component of the product, which made it possible to continue correct operation, despite the existence of NUMA nodes consisting entirely of offline-cores.  After that, we were able to set the number of CPUs within the real ‚Äúsurviving‚Äù cores for the virtual machine, which means that further configuration changes were possible. <br><br>  However, more global improvements followed: in the product code, the definition of CPU statuses was improved on an ongoing basis: an empty array with virtual CPUs belonging to the same NUMA group no longer causes errors in the code and is considered a legal situation. <br><br>  ‚ÄúIn fact, the client was very lucky that his server remained accessible for quite a long time, despite such a serious hardware failure.  This allowed virtual machines to migrate to other hosts while they were still available, ‚Äùsaid Maria Antonova. <br><br>  2. Lost network connection in virtual machines <br><br>  The client noticed a periodic loss of access to the network in the virtual machines.  However, if such a virtual machine is migrated to another physical server or restarted on the current one, the network works again. <br><br>  To investigate the problem, it was necessary to get a virtual machine when the problem was reproduced, but the services inside the virtual machines would have to work without interruption, and our online research would cause problems for a large number of end users.  Therefore, the client provided us with a copy of the virtual machine, on which we were able to reproduce the problem and investigate it in our environment without inconvenience to users.  The bug was found in the memory allocation mechanism for the virtual-socket buffer of the virtual device virtio-net - part of the kernel module. <br><br>  Decision <br><br>  Alas, there was simply no quick solution to the problem, without changing the kernel modules, it turned out that the client simply did not upgrade to the latest version of Virtuozzo Linux.  At the time of the appeal, an update has already been released, and in the ReadyKernel format.  This allowed to apply the update and solve the problem in a few minutes, even without restarting the services. <br><br>  3. User has deleted all containers. <br><br>  One client decided to directly change the path to the private area of ‚Äã‚Äãthe containers, but due to an error in the shell script prepared by him, the path for all containers began to point to the same place ‚Äî the common storage of all containers.  Then, as expected, one of the end users decided to remove their own container.  The deletion led to the disappearance of all containers in the storage, as the updated configuration pointed this way. <br><br>  Decision <br><br>  To prevent further data loss, the client control panel was temporarily disabled for end users so that they could not stop the containers, as this would lead to further data loss.  With the containers completely removed, there was nothing to do, so the task was to recover the metadata for those containers that remained running. <br><br>  Since the affected containers were about 400 pieces, the task was quite creative - it was necessary to write a script that would make similar, but not the same type of manipulation for all the victims.  As a deeper inspection showed, for 200 containers, the data were completely lost, since the containers were at that moment in a stopped state.  But for running containers, the deletion did not complete completely, since their virtual disks were locked.  In such containers all data was lost except for the virtual disks themselves - metadata, configuration files and other service files. <br><br>  Physically, the virtual disk files were transferred to a temporary directory for deleting files, and stopping such a container would result in the final deletion of data. <br><br>  Since metadata varies from container to container, they need to be created from scratch individually.  Configuration files were restored on the basis of billing information and tariff plans of end users - this was done by the client himself, since our support service does not have access to the billing information of the client.  But we, in turn, provided something like a ‚Äúskeleton‚Äù of the configuration, in which you had to enter IP, host name, and resource limits.  To restore the disk metadata, the Virtuozzo supporters created a script that generated the correct metadata based on information about the mounted containers from the kernel, and also calculated the virtual disk parameters, such as the number of cylinders, heads and sectors. <br><br>  By the way, after this call to the container removal mechanism, a check was turned on whether the deleted directory is a container - this will avoid such problems in the future, even if the user runs the script with an error. <br><br>  <b>And a detective, and a linguist, and a programmer</b> <br><br>  Thus, we can confidently say that our support service is a very interesting team, ready to solve many-sided problems and even engage in the finalization of the product.  And if you want to try yourself in this kind of work, you can work at night and are not afraid of Asian English, we can open new vacancies! </div><p>Source: <a href="https://habr.com/ru/post/329950/">https://habr.com/ru/post/329950/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../329940/index.html">Startups and abnormal programming. Tbd</a></li>
<li><a href="../329942/index.html">Review of changes in the new major release Node 8</a></li>
<li><a href="../329944/index.html">GitHub goes to GraphQL</a></li>
<li><a href="../329946/index.html">How many technologies does Yandex need for a search to find fresh documents almost instantly</a></li>
<li><a href="../329948/index.html">Non-recursive algorithm for generating all partitions and compositions of an integer</a></li>
<li><a href="../329952/index.html">Product design digest, May 2017</a></li>
<li><a href="../329954/index.html">How to worry less about your own lack of talent</a></li>
<li><a href="../329956/index.html">StringBuffer, and how hard it is to get rid of the legacy of the old code</a></li>
<li><a href="../329960/index.html">Marie Meeker report from the Code Conference: the main thing</a></li>
<li><a href="../329962/index.html">Safety Guide for Web Developers</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>