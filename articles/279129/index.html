<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>On the issue of errors</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="When would you know from what rubbish 
 poems grow without knowing shame ... 
 The topic of this post appeared completely unexpectedly, in the process...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>On the issue of errors</h1><div class="post__text post__text-html js-mediator-article"><h1>  When would you know from what rubbish <br>  poems grow without knowing shame ... </h1><br>  The topic of this post appeared completely unexpectedly, in the process of reading the book ‚ÄúReal-Time C ++‚Äù, more specifically in the process of reading section 6.13, which considered the construction of a divider of the measured voltage so that the resulting result was easily (using only the shift operation) scaled.  So, at the end of the section on page 121, a formula was given for estimating the error of the resulting quantity, which led me to some confusion.  Since this book ‚Äúcan be seen by children‚Äù and get an irreparable trauma to the psyche, if they uncritically react to what was written, I created this post to bring a certain order to the understanding of the methodology for estimating measurement errors by young engineers. <br><br><img src="https://habrastorage.org/files/a9a/7df/af9/a9a7dfaf906349e1bc428a335cedc47f.png"><br><a name="habracut"></a><br><br>  To begin with, let us recall the main points, determine the terminology and establish some important facts. <br>  Any measured value always represents only a certain approximation to the measured parameter, and to estimate the degree of deviation of the measured value from the exact value, the concept of the error dX = |  X-Xo |, where dX is the absolute error, X is the measured value, Xo is the true value (it is assumed that we know it from somewhere). <br>  Also very important is the relative error qX = dX / Xo (in the same notation), which characterizes the degree of accuracy of the result obtained much better than the absolute (although there are certain problems with Xo = 0 with it).  However, the relative error is very often used to indicate the parameters of electronic circuit components in the form of accuracy, for example, resistors - 5% or 1%. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      It should be borne in mind that we only specify the maximum value of the deviation of the nominal component from its expected value, there are no assumptions about the distribution law of this deviation, it can be a linear distribution, and a triangular, and Gaussian with truncated tails, therefore no assumptions about we do not make the standard deviation and in the future we operate only with the maximum deviation.  Such an approach for our case (we are engineers, not trainers) is more correct, it is unlikely that your customers will be satisfied with the scheme that will work in 98% of cases, the scheme we have designed will always work (within acceptable operating conditions, of course). <br><br>  Since the measured parameters or component parameter values ‚Äã‚Äãare extremely rarely used in their pure form, and most often they are part of various transfer functions together with other parameters or constants, we need rules for calculating the accuracy characteristics of various expressions of this kind.  Once again, we estimate only the maximum error. <br><br>  We start with the simplest function f (X) = K * X (the scaling function) and obtain the accuracy for the result of this function depending on the accuracy of its members.  Assuming the constant K is given exactly, we apply the simplest method of direct calculation qf (X) = |  f (X) - f (Xo) |  / f (Xo), which leads to the expression q (k * X) = |  K * (Xo + dX) - K * Xo |  / (K * Xo), or q (K * X) = |  K * dX |  / (K * Xo) = dX / Xo, hence q (K * X) = qX, which means that the relative error does not change when scaling. <br><br>  The next important function is taking the inverse value f (X) = 1 / X, for it we get <br>  q (1 / X) = |  1 / (Xo + dX) - 1 / Xo |  / (1 / Xo), after transformation we have <br>  q (1 / X) = |  -dX / ((Xo + dX) * Xo) |  * Xo = |  -dX / (Xo + dx) |, <br>  assuming that dX &lt;&lt; Xo, we get q (1 / X) ~ dX / Xo = qX, that is, when taking the inverse value, the relative error remains unchanged. <br><br>  We now consider the sum function f (X, Y) = X + Y. We perform similar calculations and obtain <br>  q (X + Y) = |  ((Xo + dX) + (Yo + dY)) - (Xo + Yo) |  / (Xo + Yo) = |  dX + dY |  / (Xo + Yo) = qX * Xo / (Xo + Yo) + qY * Yo / (Xo + Yo).  We were convinced that with the addition of two quantities the absolute errors add up, and the relative errors are scaled according to the values ‚Äã‚Äãof the exact values. <br>  If the relative errors of both quantities coincide, then we get q (X + Y) = qX * (Xo + Yo) / (Xo + Yo) = qX = qY, that is, when adding two quantities with the same relative error, the relative error of the sum will be the same. <br><br>  An interesting conclusion follows from the results obtained - the relative accuracy of the equivalent resistance of any resistor circuit is equal to the relative accuracy of its components and does not depend on the nominal values ‚Äã‚Äãand the connection circuit.  Indeed, with a series connection, the resistances are added, and we have established the preservation of accuracy when adding, and with a parallel connection, the conductivities (values ‚Äã‚Äãopposite to the resistance) are added, and we also have established the preservation of accuracy when taking the reverse.  The result (at least for me) is somewhat unexpected, but it turns out that way. <br><br>  For further consideration, we also need the accuracy of the multiplication function of two quantities; we obtain it in the same way. <br>  q (X * Y) = |  (Xo + dX) * (Yo + dY) - Xo * Yo |  / (Xo * Yo) = |  dX * Yo + dY * Xo + dX * dY |  / (Xo * Yo) = <br>  = dX / Xo + dY / Yo + dX / Xo * dY / Yo = qX + qY + qX * qY, taking into account qY ~ qY &lt;&lt; 1, we finally get q (X * Y) = qX + qY, that is, when multiplying relative errors add up. <br>  Considering division as multiplication by the inverse value, we extend this result to the division q (X / Y) = qX + qY. <br><br>  Now we are ready to calculate the accuracy of the transfer coefficient of the resistive divider, which is determined by the formula <br>  K (R, r) = r / (R + r).  To begin, consider our formula in parts and estimate qK (R, r) = qr + q (R + r) = qr + qR * R / (R + r) + qr * r / (R + r), assuming qr = qR, we get qK (R, r) = 2 * qR. <br>  It is this result that was used in the book indicated at the very beginning of the post, but it is not quite correct, because we believed that the numerator and denominator of the fraction in our function are independent, and this is not so, and there and there the common parameter is used. <br>  Let us clarify the result obtained by resorting to the tried and tested method of obtaining a relative error and get (intermediate calculations are left to the inquisitive reader and so they will surely scold me for the inconvenient writing of formulas, for some reason I don‚Äôt have Latex today, and there will be multi-storey expressions) qK (R, r) = (qR + qr) * R / (R + r). <br>  So, we see that the refined error formula shows us that the accuracy of the divider transfer coefficient depends on the division ratio K = r / (R + r) in the form qK (R, r) = 2 * qR * (1 - K), then there is a doubling of the error only for very small transmission coefficients (K &lt;&lt; 1), and, for example, with a division ratio of 1/2, the relative error of the coefficient will coincide with the relative error of the resistors, which again is somewhat unexpected.  For the nominal values ‚Äã‚Äãspecified in the book, the error will be 2 * 64.9 / (11.8 + 64.9) = 1.7 * qR, which, although close to the first result (2 * qR), is still separated from it. <br><br>  And the last remark - since I repeatedly stressed that we estimate the maximum deviation, the calculation of the rms value can in no way be welcomed and, given that the code at the output of the ADC is described by the formula N = Uin * Kac, you should simply add the relative errors of these quantities, getting qN = qUin + qKatsp = 1.7 * 0.01 + 2/1024 ~ 1.9% &lt;2%, which, however, corresponds to the result indicated in the book. <br><br>  One more important circumstance should be taken into account - if the error of the transmission coefficient does not depend on the input voltage, then we can‚Äôt say about the error of the ADC - it is 2 EMP regardless of the input voltage (in fact, everything is much more complicated, but we accepted for simplicity ), so that the obtained relative measurement error is true only for voltages close to the maximum, and in other cases it will increase. </div><p>Source: <a href="https://habr.com/ru/post/279129/">https://habr.com/ru/post/279129/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../279113/index.html">Observation of internationalized domain names and the letter K</a></li>
<li><a href="../279117/index.html">Linear models: simple regression</a></li>
<li><a href="../279123/index.html">Superscalar stack processor: we continue to cross the grass and the hedgehog</a></li>
<li><a href="../279125/index.html">Dagger 2. Part One. Basics, creating a dependency graph, Scopes</a></li>
<li><a href="../279127/index.html">Nutanix Big Update: NutanixOS 4.6</a></li>
<li><a href="../279133/index.html">The digest of interesting materials for the mobile developer # 144 (on March 9-13)</a></li>
<li><a href="../279139/index.html">We invite everyone to the first hackathon in the history of the Stavropol Territory</a></li>
<li><a href="../279143/index.html">A brief course of computer graphics: setting normal maps in a tangent space</a></li>
<li><a href="../279145/index.html">VKontakte launches the third VK Cup championship</a></li>
<li><a href="../279147/index.html">1.4 SFML and Xcode (Mac OS X)</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>