<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>The Basics of IPv6</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Foreword 
 The post is a brief summary of the Wiki , TechNet , FreeBSD handbook , Serverfault , a variety of RFCs and IANA documents, as well as cours...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>The Basics of IPv6</h1><div class="post__text post__text-html js-mediator-article"><h4>  <b>Foreword</b> </h4><br>  The post is a brief summary of the <a href="http://en.wikipedia.org/wiki/IPv6">Wiki</a> , <a href="http://support.microsoft.com/default.aspx%3Fkbid%3D919739">TechNet</a> , <a href="http://www.freebsd.org/doc/en/books/handbook/network-ipv6.html">FreeBSD handbook</a> , <a href="http://serverfault.com/questions/tagged/ipv6">Serverfault</a> , a variety of RFCs and <a href="https://www.iana.org/">IANA</a> documents, as well as courses from Specialist.Ru for Yandex employees. <br><br>  The post can be viewed as a piggy bank of links on the <i>current</i> IPv6 specification for 2012.  However, it does not <a href="http://habrahabr.ru/blogs/p2p/53625/">describe in any way possible ways of establishing an IPv6 connection to the Internet</a> and is not tied to any particular OS. <br>  Consider that reading this habrastation will take you no more than half an hour, however, it is highly recommended that you read all the links in the article ... The latter may take several weeks. <br><a name="habracut"></a><br><h3>  <b>Prerequisites</b> </h3><br>  Although the article is called ‚ÄúIPv6 Basics‚Äù, it still implies basic knowledge of IP networks and at least some practical experience with IPv6, otherwise habrastat will not be very easy. <br>  It is also recommended to read the document <a href="http://www.cisco.com/en/US/docs/ios/ipv6/configuration/guide/ip6-addrg_bsc_con.html">Implementing IPv6 Addressing and Basic Connectivity</a> from Cisco. <br>  It is also worth noting that the links to Wikipedia are often more remarkable in the References section than with their content. <br><br><h3>  <b>IPv6 Addresses</b> </h3><br><h4>  <b>Anatomy of IPv6 addresses</b> </h4><br>  In the first version of this site, there was a lot of text here, but from that moment on Wikipedia a great article has grown: <a href="https://secure.wikimedia.org/wikipedia/en/wiki/IPv6_address">IPv6 Address</a> . 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h4>  <b>Subnet masks</b> </h4><br>  Masks are now set only by / prefix ( <a href="https://en.wikipedia.org/wiki/Classless_Inter-Domain_Routing">CIDR</a> ), there is no class addressing and standard decimal dotted notation in IPv6.  Also, now the first and last network addresses are not reserved for the network identifier and broadcast respectively. <br><br><h4>  <b>IPv6 address allocation</b> </h4><br>  As in the case of IPv4, IPv6 addresses are allocated <a href="https://en.wikipedia.org/wiki/IPv6_address">through a whole hierarchy of organizations</a> : <br>  <a href="https://en.wikipedia.org/wiki/Regional_Internet_Registry">RIR</a> (/ 12- / 23) -&gt; <a href="https://en.wikipedia.org/wiki/National_Internet_Registry">NIR</a> (??) -&gt; <a href="https://en.wikipedia.org/wiki/Local_Internet_registry">LIR</a> (/ 19- / 32) -&gt; ISP (/ 48- / 56) -&gt; LAN (=&gt; / 64) <br>  ISPs are already allocating addresses to networks as they wish.  However, there is also the Best-Practice from IPv6 Task Force: <a href="http://www.eu.ipv6tf.org/PublicDocuments/guidelines_for_isp_on_ipv6_assignment_to_customers_v1_2.pdf">Guidelines for ISPs on IPv6 Assignment to Customers</a> . <br>  In general, requests for IPv6 address allocation are described in RFC5375 <a href="http://tools.ietf.org/html/rfc5375">IPv6 Unicast Address Assignment Considerations</a> <br>  Also an interesting detail: The routing tables in IPv6 were initially planned to be made as aggrimmeable as possible, which implied the absence of <a href="https://secure.wikimedia.org/wikipedia/en/wiki/Provider-independent_address_space">Provider-Independent (PI)</a> addresses.  However, large corporations (apparently willing to do BGP-failover) in 2009 still <a href="https://www.ripe.net/ripe/docs/ripe-510">‚Äúpushed‚Äù RIPE</a> , so getting PI addresses in IPv6 is now realistic. <br><br><h4>  <b>Address types and their prefixes</b> </h4><br>  IPv6 addressing is detailed in <a href="http://tools.ietf.org/html/rfc4291">RFC4291</a> .  Next, I will describe the most common types of IPv6 addresses, their destination and prefixes. <br><ul><li> <code>::/128 - Unspecified</code> - should not belong to any node in the network; </li><li>  <code>::/0 - Default route</code> ; </li><li>  <code>::1/128 - Loopback</code> ; </li><li>  <code>fe80::/10 - Link-Local</code> - addresses unique on the link.  Creating an <code>IPv6 link-local</code> address from the <code>fe80::</code> prefix and the MAC address of the network card, as well as much more, is described <a href="">in the Microsoft presentation</a> and <a href="http://download.microsoft.com/download/e/9/b/e9bd20d3-cc8d-4162-aa60-3aa3abc2b2e9/IPv6.doc">in the Introduction to IP Version 6 document. The</a> procedure for creating a modified EUI-64 identifier on fingers is explained in <a href="http://tools.ietf.org/html/rfc4291">Appendix A of RFC4291</a> ); </li><li>  <code>fec0::/10 - Site-Local</code> - <a href="http://tools.ietf.org/html/rfc3879">expired judging by RFC3879</a> ; </li><li>  <code>fc00::/7 - Unique Site-Local</code> - <a href="http://tools.ietf.org/html/rfc4193">Replaced</a> Site-Local in <a href="http://tools.ietf.org/html/rfc4193">RFC4193</a> .  Currently divided into two parts: fc00 :: / 8 and fd00 :: / 8.  <a href="https://en.wikipedia.org/wiki/Unique_local_address">Unique within the organization</a> , not routed to the Internet address.  However, they can be routed inside the site and between sites; </li><li>  <code>ff00::/8 - Multicast</code> - I'll tell you more about multicaste below.  A full list of multicast addresses can be found here: <a href="http://www.iana.org/assignments/ipv6-multicast-addresses/">IANA IPv6 Multicast Addresses</a> ; </li><li>  <code>::0000/96 - IPv4-Compatible IPv6 Address</code> - <a href="https://en.wikipedia.org/wiki/IPv6_address">deprecated</a> ; </li><li>  <code>::ffff/96 - IPv4-Mapped IPv6 Address</code> - Addresses intended <code>::ffff/96 - IPv4-Mapped IPv6 Address</code> for the Socket API.  Their purpose is described in more detail in <a href="http://tools.ietf.org/html/rfc4038">RFC4038</a> .  Reading this RFC will be useful for programmers who are going to write Dual-Stack applications; </li></ul><br>  All ‚Äúnon-special‚Äù addresses refer to: <br>  <code>Global Unicast</code> - global addresses, unique in the whole Internet.  So far, however, <a href="http://www.iana.org/assignments/ipv6-address-space/">judging by this document</a> , only global space <code>2000::/3</code> (Addresses from <code>2000::</code> to <code>3fff:ffff:ffff:ffff:ffff:ffff:ffff:ffff</code> ) <br><br><h4>  <b>Types of traffic</b> </h4><br><ul><li>  <code>Unicast</code> - Good old unicast; </li><li>  <code>Multicast</code> - Multicast is now a necessary extension, not an optional IPv4 version.  IGMP has been replaced by MLD ( <a href="https://en.wikipedia.org/wiki/Multicast_Listener_Discovery">Multicast Listener Discovery</a> ).  And the procedure for obtaining a global multicast prefix has become trivial - now when receiving a / 64 prefix, the provider automatically receives 4.2 billion global multicast groups.  The procedure is described in detail in <a href="http://tools.ietf.org/html/rfc3306">RFC3306</a> , as well as complemented by the implementation of the RP address directly into the IPv6 address in <a href="http://tools.ietf.org/html/rfc3956">RFC3956</a> .  Obtaining a global multicast prefix for IPv4 and IPv6 is described in <a href="https://tools.ietf.org/html/rfc6308">RFC6308</a> .  It is also worth noting that in IPv4 Multicast link-layer the prefix was 01: 00: 5e, in IPv6 it became 33: 33: ff (you can see the list of groups for interfaces in FreeBSD via <code>ifmcstat</code> or via <code>ip maddr</code> in Linux); </li><li>  <code>Anycast</code> - The same anycast as in IPv4.  This type of address is usually announced by a dynamic routing protocol (for example, BGP) from several places at once.  This ensures optimal routing routing; </li><li>  <code>Broadcast</code> - there is no broadcast in IPv6.  In place of it, you can use <a href="">All Nodes Address</a> .  Packets sent to it will be sent only to hosts <b>with an</b> IPv6 <b>-configured</b> address (with MLD snooping enabled);  Also, some of the protocols that used Broadcast in the IPv6 version even got their own multicast group; </li></ul><br><br><h4>  <b>Address scope</b> </h4><br>  In IPv6, a concept such as <a href="https://en.wikipedia.org/wiki/IPv6_address">Scope</a> , also known as Microsoft's Microsoft Zone ID, appeared.  In fact, it was in IPv4, but it was not explicitly specified: 10/8, 172.16 / 12 and 192.168 / 16 networks are vivid examples of this. <br><br>  In the case of Unicast / Anycast addresses, the following is applicable: <br>  Each IPv6 enabled interface has a Link-local address.  Its scope is, suddenly, local.  These addresses are unique within the link, but not required to be relevant within the same host.  So, for example, the VLAN created on the interface will have the same link-local address as the parent interface (since without IPv6 Privacy Extensions it will be generated from the same Link Layer address).  In order to explicitly specify the interface to which the IPv6 address belongs, you need to either specify the manual interface for outgoing packets or use a special suffix when writing the address:% Index of the Interface in Windows (fe80 :: 2b0: d0ff: fee9: 4143% 3) or% Name of the Interface in * BSD / Linux (fe80 :: 2b0: d0ff: fee9: 4143% em0). <br>  In the case of Multicast, the scope addresses are specified in the last four bits of the IPv6 address octet of the address: ff0 <u>s</u> :: and can be interface-local, link-local, admin-local, site-local, organization-local, or global. <br>  Additionally, you should familiarize yourself with RFC4007 <a href="http://tools.ietf.org/html/rfc4007">IPv6 Scoped Address Architecture</a> <br><br><h4>  <b>IPv6 address life cycle</b> </h4><br>  The following <a href="http://technet.microsoft.com/en-us/library/cc778502%2528v%3DWS.10%2529.aspx">states of an IPv6 address</a> are possible throughout its life cycle: <br><img src="https://habrastorage.org/getpro/habr/post_images/086/f45/b60/086f45b60d689ed6a45a0f8fdaacf658.gif"><br><ul><li>  Tentative - The address is still checked for uniqueness; </li><li>  Valid - Traffic to this address will be received by the host, divided into 2 substates: <br><ul><li>  Prefered state - Basic state, unlimited use of the address; </li><li>  Deprecated state - The address can still be used for old connections, but you cannot create new connections; </li></ul><br></li><li>  Invalid - The address cannot be used to receive / send packets. </li></ul><br><br><h3>  <b>IPv6 Package</b> </h3><br><h4>  <b>IPv6 packet header</b> </h4><br>  Significant changes in <a href="https://en.wikipedia.org/wiki/IPv6_Packet">package header format</a> <br><ul><li>  Fixed header size; </li><li>  There is no Checksum header, accordingly, it does not need to be checked, and also recalculated for each packet when the <strike>TTL</strike> Hop Limit changes.  Since the checksum is no longer present, the entire responsibility for the integrity of the information must lie with the lower level protocol, for example, Ethernet frames have their own honest CRC32.  Also for UDP packets, checksum is now mandatory and UDP / IPv6 packets with Checksum 0000 will simply be discarded by the receiving host; </li><li>  TTL itself is now referred to as Hop Limit (most likely because earlier one of the conditions of the router was to reduce TTL by one every <a href="http://tools.ietf.org/html/rfc791">second</a> when a packet was queued, therefore TIME-to-live).  In connection with the latest trend with the widespread introduction of MPLS / TE, it is worth noting that when an IP packet passes through MPLS, its TTL / HopLimit cloud may not and does not change; </li><li>  Routers are no longer involved in packet fragmentation.  Hosts must themselves conduct <a href="http://tools.ietf.org/html/rfc1981">Path MTU discovery</a> and split packets.  The minimum MTU is now 1280. </li><li>  <a href="http://ru.wikipedia.org/wiki/IPv6">Flow Marks</a> have been added, used to unload routers, more accurately prioritize traffic and balancing.  More detail can be found in RFC6437 - <a href="https://tools.ietf.org/html/rfc6437">IPv6 Flow Label Specification</a> .  There are still battles about using this IPv6 header field in practice.  You can read Epic threads in RFC6294 - <a href="https://tools.ietf.org/html/rfc6294">Survey of</a> Proprietary <a href="https://tools.ietf.org/html/rfc6294">Flow Labels</a> , RFC6436 - <a href="https://tools.ietf.org/html/rfc6436">Rationale for IPv6 Flow Label Specification</a> and RFC6438 - <a href="https://tools.ietf.org/html/rfc6438">Using the IPv6 Flow Label for Multipath Routing and Link Aggregation in Tunnels</a> .  The only operating system (from those we tested) that does not set the default flow labels to be FreeBSD; </li><li>  Initially (in obsoleted <a href="https://tools.ietf.org/html/rfc1883">RFC1883</a> ), the Traffic Class field was called Priority and occupied 4 bits, and the flow label was 24 bits.  In <a href="https://tools.ietf.org/html/rfc2460">RFC2460,</a> they became 8 and 20 bits, respectively.  If anyone is interested in nicrofilia, you can read the rest of the <a href="https://en.wikipedia.org/wiki/IPv6_address">Historical notes</a> on the wiki; </li><li>  IPSec support is now mandatory; </li></ul><br><br><h4>  <b>Extension headers</b> </h4><br>  The packet header is now fixed in length and noticeably simplified, however, thanks to the <a href="https://en.wikipedia.org/wiki/IPv6_packet">Extension Header,</a> greater flexibility is provided than with <a href="http://www.iana.org/assignments/ip-parameters">IPv4 Options</a> , which, thanks to the 40-byte size limit, was generally not usable.  The structure of the IPv6 packet is described in <a href="http://tools.ietf.org/html/rfc2460">detail</a> in <a href="http://tools.ietf.org/html/rfc2460">RFC2460</a> , here I will describe only the most basic. <br>  Each packet contains an eight bit field called Next Header, which contains the <a href="https://en.wikipedia.org/wiki/List_of_IP_protocol_numbers">identifier of the next header</a> .  Extension Headers can go immediately after the IPv6 header (between the header and the payload of the IPv6 packet) and include additional network layer information.  Currently the following types of extension headers are available: <br><ul><li>  <code>Hop-by-Hop Options</code> - any router on its way to a packet should view only the IPv6 header, all other headers are intended exclusively for the recipient of the packet.  However, the Hop-by-Hop header is an exception - all routers view it and, if there is one, it should go right after the IPv6 header. </li><li>  <code>Routing</code> - <a href="http://tools.ietf.org/html/rfc5095">RFC5095</a> cancels Type 0 Routing Headers, which contain DoS vulnerability in their definition (even more serious than source routing in IPv4).  More on the topic of security in IPv6 is discussed in <a href="http://tools.ietf.org/html/rfc4942">RFC4942</a> and in the presentation of <a href="http://www.fosslc.org/drupal/content/security-implications-ipv6">Security Implications of IPv6</a> . </li><li>  <code>Fragment</code> - The header of the fragmented packet.  As I already mentioned, routers are no longer involved in fragmentation, so the sender himself should take care of the optimal packet size, otherwise he will receive Packet too big from one of the routers on the way.  By the way, the MTU for IPv6 operation should not be less than 1280. </li><li>  <code>Destination Options</code> - Options intended only for the recipient. </li></ul><br>  There are also headers for IPsec encryption and encryption: <br><ul><li>  <code>Authentication</code> - <a href="http://tools.ietf.org/html/rfc4302">RFC4302</a> </li><li>  <code>Encapsulating Security Payload</code> - <a href="http://tools.ietf.org/html/rfc4303">RFC4303</a> </li></ul><br><br><h3>  <b>IPv6 Protocols</b> </h3><br><h4>  <b>ICMPv6</b> </h4><br>  ICMP to IPv6 has been replaced by <a href="https://en.wikipedia.org/wiki/ICMPv6">ICMPv6</a> .  You can read about ICMPv6 in the RFC4443 <a href="http://tools.ietf.org/html/rfc4443">Internet Control Message Protocol (ICMPv6) for the Internet Protocol Version 6 (IPv6) Specification</a> . <br>  By itself, ICMPv6 is quite simple, but based on it, a number of rather non-trivial protocols have been made, which we will discuss below. <br><br><h4>  <b>Mld</b> </h4><br>  <a href="https://en.wikipedia.org/wiki/Multicast_Listener_Discovery">Multicast Listener Discovery</a> is an ICMPv6 based protocol.  Analogue IGMP for IPv6.  More in RFC3810 - <a href="https://tools.ietf.org/html/rfc3810">Multicast Listener Discovery Version 2 (MLDv2) for IPv6</a> . <br><br><h4>  <b>NDP</b> </h4><br>  A description of the <a href="http://en.wikipedia.org/wiki/Neighbor_Discovery_Protocol">Neighbor Discovery Protocol</a> that replaced the ARP protocol is available in <a href="http://tools.ietf.org/html/rfc4861">RFC4861</a> .  Now this is not a separate protocol, but an add-on over ICMPv6 that adds several new message types. <br>  The main purpose of NDP is to produce mapping between the link-layer and IPv6 addresses, but this is only a small part of the functionality. <br><br>  What else can NDP: <br><ul><li>  Neigbour Unreachability Detection, which allows you to determine the availability of a host by one of two methods: <br><ul><li>  Using a higher level protocol; </li><li>  With the help of unicast solicitation, to which the host must respond to the Neighbor Advertisement message; </li></ul></li><li>  <a href="http://tools.ietf.org/html/rfc4429">Duplicate Address Detection</a> </li><li>  Sending and processing redirect </li><li>  Determination of link parameters (for example, MTU) </li><li>  Identify network services (for example, DNS: RFC6106 <a href="https://tools.ietf.org/html/rfc6106">IPv6 Router Advertisement Options for DNS Configuration</a> ) </li><li>  Stateless autoconfiguration (more on this below) </li></ul><br>  There is also a cryptographically protected analogue of the NDP - <a href="https://en.wikipedia.org/wiki/Secure_Neighbor_Discovery_Protocol">SEcure Neighbor Discovery</a> (SEND) described in <a href="https://tools.ietf.org/html/rfc3971">RFC3971</a> .  SEND, in turn, uses the <a href="https://en.wikipedia.org/wiki/Cryptographically_Generated_Addresses">Cryptographically Generated Address</a> described next in <a href="https://tools.ietf.org/html/rfc3972">RFC3972</a> . <br><br><h4>  <b>Autoconfiguration</b> </h4><br><h5>  Zeroconf </h5><br>  As already mentioned above, hosts are able to automatically generate their IPv6 link-local address from the link-level address.  So without any configuration, any IPv6-enabled host connected to the network will give itself the address of the network layer. <br>  In IPv4, this technology uses a reserved IPv4 range of 169.254 / 16.  The technology is described in detail in RFC3927 <a href="https://tools.ietf.org/html/rfc3927">Dynamic Configuration of IPv4 Link-Local Addresses</a> (Note that this RFC came out after IPv6 of the 2462). <br><br><h5>  Stateful </h5><br>  In IPv4, autoconfiguration is only possible using a DHCP server.  In IPv6, this feature was left: you can configure the network using a <a href="http://tools.ietf.org/html/rfc3315">DHCPv6</a> server and client.  However, support from vendors of DHCPv6 does not yet shine, for example, dhclient in FreeBSD does not know IPv6 out of the box. <br><br><h5>  Stateless </h5><br>  In addition to stateful configuration, IPv6 also has a <a href="http://www.cisco.com/en/US/docs/ios/ipv6/configuration/guide/ip6-addrg_bsc_con.html">stateless</a> autoconfiguration, which allows hosts to automatically obtain IPv6 addresses on a network without a DHCP server through the use of NDP.  It is enough for the router to specify the prefix that it will announce through the Router Advertisement for the rest of the network.  Hosts will receive RAs and configure them based on the prefix and their link-layer IPv6 address. <br>  A couple of comments: <br><ul><li>  Stateless address determination is possible only if there is a router / roters sending out RA; </li><li>  Each router has a priority: high / medium / low.  The operating system should consider it when choosing a default route; </li><li>  RFC6106 - <a href="https://tools.ietf.org/html/rfc6106">IPv6 Router Advertisement Options for DNS Configuration</a> explains how to embed DNS server addresses directly into RA, which eliminates the need for using DHCPv6 for this case.  However, this is not supported by all vendors; </li><li>  Generating an IPv6 address using your link-layer is not very safe in terms of privacy.  Your movements around the world and sometimes the equipment model will be available to the entire Internet.  The solution to the problem was described in RFC4941 - <a href="https://tools.ietf.org/html/rfc4941">Privacy Extensions for Stateless Address Autoconfiguration in IPv6</a> .  All modern operating systems support Privacy Extensions; </li></ul><br><br><h5>  Combined </h5><br>  Both types of autoconfiguration can be used at the same time, for example, stateless to get an IPv6 prefix and stateful to get DNS server addresses and / or other parameters that cannot be passed using the Router Advertisement. <br><br><h4>  <b>DNS</b> </h4><br>  This moment in the IPv6 documentation has received little attention, but judging by the number of RFCs on this topic, the changes are colossal. <br>  To fully support IPv6, many changes were made to the DNS system ( <a href="http://tools.ietf.org/html/rfc3152">RFC3152</a> , <a href="http://tools.ietf.org/html/rfc3226">RFC3226</a> , <a href="http://tools.ietf.org/html/rfc3363">RFC3363</a> ) and there are still a number of unresolved problems ‚Äî <a href="http://tools.ietf.org/html/rfc4472">RFC4472</a> . <br>  For a while, there were even two standards for describing IPv6 addresses in DNS: <a href="http://tools.ietf.org/html/rfc2874">A6</a> and <a href="http://tools.ietf.org/html/rfc3596">AAAA</a> , the pros and cons of each one are described in <a href="http://tools.ietf.org/html/rfc3364">RFC3364</a> .  In short, A6 provides greater flexibility and less zone dependency on the prefix, and AAAA is only a special case of A6 with a long prefix of 0. A6 was subsequently transferred to Experimental status in RFC3363 - <a href="https://tools.ietf.org/html/rfc3363">Representing Internet Protocol version 6 (IPv6) Addresses in the Domain Name System (DNS)</a> <br>  For minimal IPv6 support, only one AAAA record is required.  PTR recording may also be required.  Reverse DNS records for IPv6 look terrifying.  So, for example, the return for address <code>4321:0:1:2:3:4:567:89ab</code> will look like <code>ba9.8.7.6.5.0.4.0.0.0.3.0.0.0.2.0.0.0.1.0.0.0.0.0.0.0.1.2.3.4.IP6.ARPA.</code>  .  This spectacle is not for the faint of heart, however, it is likely to encourage people to automatically generate redraws.  For manual generation, I would recommend <a href="http://www.freshports.org/net-mgmt/sipcalc/">sipcalc</a> with the ‚Äìr key or something similar. <br><br><h3>  <b>Other</b> </h3><br><h4>  <b>Higher protocols</b> </h4><br>  Some of the protocols that use the network-layer address in their work required that they be made certain of changes in order to start working on IPv6.  A good example of such a protocol is <a href="https://tools.ietf.org/html/rfc2428">FTP</a> . <br><br><h4>  <b>Tunneling IPv6 traffic over IPv4 networks</b> </h4><br>  There is a very casual way about <a href="https://en.wikipedia.org/wiki/IPv6_transition_mechanisms">some possible technologies</a> : <br><ul><li>  Static point-to-point MCT / <a href="https://en.wikipedia.org/wiki/Generic_Routing_Encapsulation">GRE</a> tunnels; </li><li>  <a href="https://en.wikipedia.org/wiki/6to4">6to4</a> .  Uses the 2002 :: / 16 range.  There is also a variation of it for customer devices that do not have a dedicated server for de-encapsulating packets from the ‚Äúother‚Äù side: they send encapsulated packets to anycast address 192.88.99.1, which is advertised from a variety of 6to4 gateways using dynamic routing protocols; </li><li>  <a href="https://en.wikipedia.org/wiki/Teredo_tunneling">Teredo</a> / Miredo.  Does not work with all types of NATs; </li><li>  <a href="https://en.wikipedia.org/wiki/ISATAP">ISATAP</a> - Intra-Site Automatic Tunnel Addressing Protocol.  Usually tied to the use of DNS (via rezolv isatap.example.com); </li></ul><br><br><h4>  <b>Mobile IPv6</b> </h4><br>  I don‚Äôt know anything about him, so I‚Äôll just leave it here: <a href="https://en.wikipedia.org/wiki/Mobile_IPv6">Mobile IP</a> . <br><br><h4>  <b>IPv6 address as a repository of information</b> </h4><br>  Agree 128bit is a huge scope for imagination.  There are many technologies that are trying to use these same 128bit.  From coding there IPv4 addresses and cryptographic signatures to determining the distance between nodes (here, by the way, even we thought in this direction, but for now let's look at ALTO: <a href="https://tools.ietf.org/html/rfc5693">Application-Layer Traffic Optimization (ALTO) Problem Statement</a> ). <br><br><h4>  <b>Socket API</b> </h4><br>  Habratopik describes IPv6 from the point of view of the NOC / system administrator, but not from the point of view of the programmer.  If someone is interested in the features of IPv6 programming, I recommend referring to the RFC3493 - <a href="https://tools.ietf.org/html/rfc3493">Basic Socket Interface Extensions for IPv6</a> and the <a href="http://www.amazon.com/Network-Programming-Jun-ichiro-itojun-Hagino/dp/1555583180">IPv6 Network Programming</a> book <br><br><h4>  <b>Afterword</b> </h4><br>  Despite all my attempts to structure the article, it turned out to be rather messy.  Perhaps this is due to its purely theoretical orientation, perhaps due to the fact that he himself has not yet settled everything in his head.  In any case, I hope it will serve as a good reminder and reference directory for IPv6, both for me and for the entire hardware community. <br>  However, it is possible that before you bury your head in RFC and tcpdump, you can first read the books, for example, O'Reilly's <a href="http://www.amazon.com/IPv6-Essentials-Silvia-Hagen/dp/0596100582/ref%3Dcm_cr_pr_sims_i">IPv6 Essentials</a> should greatly assist in the assimilation of the material described in this article. </div><p>Source: <a href="https://habr.com/ru/post/64592/">https://habr.com/ru/post/64592/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../64581/index.html">Solve practical problems on batch file</a></li>
<li><a href="../64583/index.html">Who was the first blogger?</a></li>
<li><a href="../64586/index.html">Time management using color</a></li>
<li><a href="../64587/index.html">Opera 10 Beta 2</a></li>
<li><a href="../64590/index.html">China has banned cure Internet addiction by electric shocks</a></li>
<li><a href="../64594/index.html">Speech recognition. Part 2. Typical speech recognition system structure</a></li>
<li><a href="../64595/index.html">GoogleReader becomes a social network.</a></li>
<li><a href="../64596/index.html">Beautiful fonts with @ font-face</a></li>
<li><a href="../64599/index.html">Piracy: the jokes are over</a></li>
<li><a href="../64600/index.html">Put points in the MVC Framework. Controller Factory</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>