<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>MyTarget Dynamic Remarketing: Non-Personal Product Tips</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Dynamic remarketing (dynrem) in myTarget is a targeted advertising technology that uses information about user actions on websites and mobile applicat...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>MyTarget Dynamic Remarketing: Non-Personal Product Tips</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/webt/de/kz/dd/dekzddigjl1hij4eww3s4muobno.jpeg"><br><br>  Dynamic remarketing (dynrem) in myTarget is a targeted advertising technology that uses information about user actions on websites and mobile applications of advertisers.  For example, in an online store, a user viewed product pages or added them to the cart, and myTarget uses these events to display advertisements for exactly those goods and services to which a person has previously shown interest.  Today I will talk more about the mechanism for generating non-personal, that is, item2item-recommendations, which allow to diversify and supplement the advertising issue. <br><br>  The clients for dynrem myTarget are mainly online stores, which may have one or several lists of goods.  When building recommendations, the pair ‚Äústore - list of goods‚Äù must be taken into account as a separate unit.  But for simplicity, we will continue to use just the ‚Äústore‚Äù  If we talk about the dimension of the problem at the entrance, then recommendations need to be built for about a thousand stores, and the quantity of goods can vary from a few thousand to millions. <br><a name="habracut"></a><br>  The recommendation system for dynrem must meet the following requirements: 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <ol><li>  The banner contains products that maximize its CTR. </li><li>  Recommendations are built in offline mode for a specified time. </li><li>  The system architecture must be flexible, scalable, resilient, and operate in a cold start. </li></ol><br>  Note that from the requirement of building recommendations for a fixed time and the described initial conditions (we will optimistically assume that the number of stores is increasing) naturally arises the requirement of economical use of machine resources. <br><br>  Section 2 contains the theoretical basis for building recommender systems, sections 3 and 4 deal with the practical side of the issue, and section 5 summarizes. <br><br><h1>  Basic concepts </h1><br>  Consider the task of building a recommender system for one store and list the main mathematical approaches. <br><br><h3>  Singular Value Decomposition (SVD) </h3><br>  A popular approach to building recommender systems is the singular value decomposition (SVD) approach.  Matrix ratings <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2">R</span><span class="MJXp-mo" id="MJXp-Span-3" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mo" id="MJXp-Span-4" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-msubsup" id="MJXp-Span-5"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-6" style="margin-right: 0.05em;">r</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-7" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-8">u</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-9">i</span></span></span><span class="MJXp-mo" id="MJXp-Span-10" style="margin-left: 0em; margin-right: 0em;">)</span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-1-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="9.46ex" height="2.66ex" viewBox="0 -832 4073.2 1145.2" role="img" focusable="false" style="vertical-align: -0.728ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMATHI-52" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMAIN-3D" x="1037" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMAIN-28" x="2093" y="0"></use><g transform="translate(2483,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMATHI-72" x="0" y="0"></use><g transform="translate(451,-150)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMATHI-75" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMATHI-69" x="572" y="0"></use></g></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMAIN-29" x="3683" y="0"></use></g></svg></span><script type="math/tex" id="MathJax-Element-1"> R = (r_ {ui}) </script>  represent as a product of two matrices <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-11"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-12">P</span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-2-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.745ex" height="2.057ex" viewBox="0 -780.1 751.5 885.9" role="img" focusable="false" style="vertical-align: -0.246ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMATHI-50" x="0" y="0"></use></g></svg></span><script type="math/tex" id="MathJax-Element-2"> P </script>  and <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-13"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-14">Q</span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-3-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.838ex" height="2.419ex" viewBox="0 -780.1 791.5 1041.5" role="img" focusable="false" style="vertical-align: -0.607ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMATHI-51" x="0" y="0"></use></g></svg></span><script type="math/tex" id="MathJax-Element-3"> Q </script>  so that <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-15"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-16">R</span><span class="MJXp-mtext" id="MJXp-Span-17">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-18">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-19">p</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-20">p</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-21">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-22">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-23">x</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-24">P</span><span class="MJXp-msubsup" id="MJXp-Span-25"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-26" style="margin-right: 0.05em;">Q</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-27" style="vertical-align: 0.5em;">T</span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-4-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="14.392ex" height="2.78ex" viewBox="0 -935.7 6196.7 1197.1" role="img" focusable="false" style="vertical-align: -0.607ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMATHI-52" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMATHI-61" x="1009" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMATHI-70" x="1539" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMATHI-70" x="2042" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMATHI-72" x="2546" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMATHI-6F" x="2997" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMATHI-78" x="3483" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMATHI-50" x="4055" y="0"></use><g transform="translate(4807,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMATHI-51" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMATHI-54" x="1119" y="513"></use></g></g></svg></span><script type="math/tex" id="MathJax-Element-4"> R \ approx P Q ^ T </script>  , then user rating rating <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-28"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-29">u</span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-5-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.33ex" height="1.455ex" viewBox="0 -520.7 572.5 626.5" role="img" focusable="false" style="vertical-align: -0.246ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMATHI-75" x="0" y="0"></use></g></svg></span><script type="math/tex" id="MathJax-Element-5"> u </script>  for goods <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-30"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-31">i</span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-6-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="0.802ex" height="1.937ex" viewBox="0 -728.2 345.5 834" role="img" focusable="false" style="vertical-align: -0.246ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMATHI-69" x="0" y="0"></use></g></svg></span><script type="math/tex" id="MathJax-Element-6"> i </script>  represented as <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-32"><span class="MJXp-mtext" id="MJXp-Span-33">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-34">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-35">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-36">t</span><span class="MJXp-msubsup" id="MJXp-Span-37"><span class="MJXp-mrow" id="MJXp-Span-38" style="margin-right: 0.05em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-39">r</span></span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-40" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-41">u</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-42">i</span></span></span><span class="MJXp-mo" id="MJXp-Span-43" style="margin-left: 0.333em; margin-right: 0.333em;">=&lt;</span><span class="MJXp-msubsup" id="MJXp-Span-44"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-45" style="margin-right: 0.05em;">p</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-46" style="vertical-align: -0.4em;">u</span></span><span class="MJXp-mo" id="MJXp-Span-47" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-msubsup" id="MJXp-Span-48"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-49" style="margin-right: 0.05em;">q</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-50" style="vertical-align: -0.4em;">i</span></span><span class="MJXp-mo" id="MJXp-Span-51" style="margin-left: 0.333em; margin-right: 0.333em;">&gt;</span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-7-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="19.35ex" height="2.419ex" viewBox="0 -780.1 8331.2 1041.5" role="img" focusable="false" style="vertical-align: -0.607ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMATHI-68" x="250" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMATHI-61" x="826" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMATHI-74" x="1356" y="0"></use><g transform="translate(1717,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMATHI-72" x="0" y="0"></use><g transform="translate(451,-150)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMATHI-75" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMATHI-69" x="572" y="0"></use></g></g><g transform="translate(3195,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMAIN-3D"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMAIN-3C" x="778" y="0"></use></g><g transform="translate(5030,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMATHI-70" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMATHI-75" x="712" y="-213"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMAIN-2C" x="6038" y="0"></use><g transform="translate(6484,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMATHI-71" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMATHI-69" x="631" y="-213"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMAIN-3E" x="7552" y="0"></use></g></svg></span><script type="math/tex" id="MathJax-Element-7"> \ hat {r} _ {ui} = <p_u, q_i> </script>  [1], where the elements of the scalar product are dimension vectors <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-52"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-53">k</span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-8-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.211ex" height="2.057ex" viewBox="0 -780.1 521.5 885.9" role="img" focusable="false" style="vertical-align: -0.246ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMATHI-6B" x="0" y="0"></use></g></svg></span><script type="math/tex" id="MathJax-Element-8"> k </script>  (the main parameter of the model).  This formula serves as the basis for other SVD models.  Task of finding <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-54"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-55">P</span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-9-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.745ex" height="2.057ex" viewBox="0 -780.1 751.5 885.9" role="img" focusable="false" style="vertical-align: -0.246ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMATHI-50" x="0" y="0"></use></g></svg></span><script type="math/tex" id="MathJax-Element-9"> P </script>  and <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-56"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-57">Q</span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-10-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.838ex" height="2.419ex" viewBox="0 -780.1 791.5 1041.5" role="img" focusable="false" style="vertical-align: -0.607ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMATHI-51" x="0" y="0"></use></g></svg></span><script type="math/tex" id="MathJax-Element-10"> Q </script>  comes down to optimizing the functional: <br><br>  (2.1) <br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-58"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-59">J</span><span class="MJXp-mo" id="MJXp-Span-60" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-61">P</span><span class="MJXp-mo" id="MJXp-Span-62" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-63">Q</span><span class="MJXp-mo" id="MJXp-Span-64" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mo" id="MJXp-Span-65" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mtext" id="MJXp-Span-66">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-67">s</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-68">u</span><span class="MJXp-msubsup" id="MJXp-Span-69"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-70" style="margin-right: 0.05em;">m</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-71" style="vertical-align: -0.4em;"><span class="MJXp-mo" id="MJXp-Span-72">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-73">u</span><span class="MJXp-mo" id="MJXp-Span-74">,</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-75">i</span><span class="MJXp-mo" id="MJXp-Span-76">)</span></span></span><span class="MJXp-mtext" id="MJXp-Span-77">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-78">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-79">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-80">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-81">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-82">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-83">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-84">l</span><span class="MJXp-mrow" id="MJXp-Span-85"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-86">L</span></span><span class="MJXp-mo" id="MJXp-Span-87" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-msubsup" id="MJXp-Span-88"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-89" style="margin-right: 0.05em;">r</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-90" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-91">u</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-92">i</span></span></span><span class="MJXp-mo" id="MJXp-Span-93" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mtext" id="MJXp-Span-94">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-95">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-96">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-97">t</span><span class="MJXp-msubsup" id="MJXp-Span-98"><span class="MJXp-mrow" id="MJXp-Span-99" style="margin-right: 0.05em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-100">r</span></span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-101" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-102">u</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-103">i</span></span></span><span class="MJXp-mo" id="MJXp-Span-104" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mo" id="MJXp-Span-105" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-mtext" id="MJXp-Span-106">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-107">L</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-108">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-109">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-110">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-111">d</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-112">a</span><span class="MJXp-mo" id="MJXp-Span-113" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-114">P</span><span class="MJXp-mo" id="MJXp-Span-115" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-116">Q</span><span class="MJXp-mo" id="MJXp-Span-117" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mtext" id="MJXp-Span-118">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-119">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-120">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-121">g</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-122">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-123">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-124">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-125">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-126">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-127">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-128">w</span><span class="MJXp-mtext" id="MJXp-Span-129">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-130">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-131">i</span><span class="MJXp-msubsup" id="MJXp-Span-132"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-133" style="margin-right: 0.05em;">n</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-134" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-135">P</span><span class="MJXp-mo" id="MJXp-Span-136">,</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-137">Q</span></span></span><span class="MJXp-mo" id="MJXp-Span-138" style="margin-left: 0em; margin-right: 0.222em;">,</span></span></span><div class="MathJax_SVG_Display MathJax_SVG_Processed" style="text-align: center;"><span class="MathJax_SVG" id="MathJax-Element-11-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="81.145ex" height="3.021ex" viewBox="0 -832 34937.1 1300.8" role="img" focusable="false" style="vertical-align: -1.089ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMATHI-4A" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMAIN-28" x="633" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMATHI-50" x="1023" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMAIN-2C" x="1774" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMATHI-51" x="2219" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMAIN-29" x="3011" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMAIN-3D" x="3678" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMATHI-73" x="4984" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMATHI-75" x="5454" y="0"></use><g transform="translate(6026,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMATHI-6D" x="0" y="0"></use><g transform="translate(878,-187)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMAIN-28" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMATHI-75" x="389" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMAIN-2C" x="962" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMATHI-69" x="1240" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMAIN-29" x="1586" y="0"></use></g></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMATHI-6D" x="8652" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMATHI-61" x="9530" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMATHI-74" x="10060" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMATHI-68" x="10421" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMATHI-63" x="10998" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMATHI-61" x="11431" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMATHI-6C" x="11961" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMATHI-4C" x="12259" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMAIN-28" x="12941" y="0"></use><g transform="translate(13330,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMATHI-72" x="0" y="0"></use><g transform="translate(451,-150)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMATHI-75" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMATHI-69" x="572" y="0"></use></g></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMAIN-2C" x="14531" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMATHI-68" x="15226" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMATHI-61" x="15802" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMATHI-74" x="16332" y="0"></use><g transform="translate(16693,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMATHI-72" x="0" y="0"></use><g transform="translate(451,-150)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMATHI-75" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMATHI-69" x="572" y="0"></use></g></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMAIN-29" x="17894" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMAIN-2B" x="18506" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMATHI-4C" x="19756" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMATHI-61" x="20438" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMATHI-6D" x="20967" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMATHI-62" x="21846" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMATHI-64" x="22275" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMATHI-61" x="22799" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMAIN-28" x="23328" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMATHI-50" x="23718" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMAIN-2C" x="24469" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMATHI-51" x="24915" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMAIN-29" x="25706" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMATHI-72" x="26346" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMATHI-69" x="26797" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMATHI-67" x="27143" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMATHI-68" x="27623" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMATHI-74" x="28200" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMATHI-61" x="28561" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMATHI-72" x="29091" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMATHI-72" x="29542" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMATHI-6F" x="29994" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMATHI-77" x="30479" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMATHI-6D" x="31446" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMATHI-69" x="32324" y="0"></use><g transform="translate(32670,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMATHI-6E" x="0" y="0"></use><g transform="translate(600,-155)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMATHI-50" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMAIN-2C" x="751" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMATHI-51" x="1030" y="0"></use></g></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMAIN-2C" x="34658" y="0"></use></g></svg></span></div><script type="math/tex;mode=display" id="MathJax-Element-11"> J (P, Q) = \ sum _ {(u, i)} \ mathcal {L} (r_ {ui}, \ hat {r} _ {ui}) + \ Lambda (P, Q) \ rightarrow \ min_ {P, Q}, </script></p><br>  Where <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-139"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-140">L</span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-12-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.583ex" height="2.057ex" viewBox="0 -780.1 681.5 885.9" role="img" focusable="false" style="vertical-align: -0.246ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMATHI-4C" x="0" y="0"></use></g></svg></span><script type="math/tex" id="MathJax-Element-12"> L </script>  - error function (for example, RMSE as in a <a href="https://www.netflixprize.com/">Netflix</a> contest), <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-141"><span class="MJXp-mrow" id="MJXp-Span-142"><span class="MJXp-mo" id="MJXp-Span-143" style="margin-left: 0em; margin-right: 0em;">Œõ</span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-13-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.613ex" height="2.057ex" viewBox="0 -780.1 694.5 885.9" role="img" focusable="false" style="vertical-align: -0.246ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMAIN-39B" x="0" y="0"></use></g></svg></span><script type="math/tex" id="MathJax-Element-13"> Œõ </script>  - regularization, and summation goes in pairs, for which the rating is known.  We rewrite expression (2.1) explicitly: <br><br>  (2.2) <br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-144"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-145">J</span><span class="MJXp-mo" id="MJXp-Span-146" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-147">P</span><span class="MJXp-mo" id="MJXp-Span-148" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-149">Q</span><span class="MJXp-mo" id="MJXp-Span-150" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mo" id="MJXp-Span-151" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mtext" id="MJXp-Span-152">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-153">s</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-154">u</span><span class="MJXp-msubsup" id="MJXp-Span-155"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-156" style="margin-right: 0.05em;">m</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-157" style="vertical-align: -0.4em;"><span class="MJXp-mo" id="MJXp-Span-158">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-159">u</span><span class="MJXp-mo" id="MJXp-Span-160">,</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-161">i</span><span class="MJXp-mo" id="MJXp-Span-162">)</span></span></span><span class="MJXp-mo" id="MJXp-Span-163" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-msubsup" id="MJXp-Span-164"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-165" style="margin-right: 0.05em;">r</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-166" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-167">u</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-168">i</span></span></span><span class="MJXp-mo" id="MJXp-Span-169" style="margin-left: 0.267em; margin-right: 0.267em;">‚àí</span><span class="MJXp-mo" id="MJXp-Span-170" style="margin-left: 0.333em; margin-right: 0.333em;">&lt;</span><span class="MJXp-msubsup" id="MJXp-Span-171"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-172" style="margin-right: 0.05em;">p</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-173" style="vertical-align: -0.4em;">u</span></span><span class="MJXp-mo" id="MJXp-Span-174" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-msubsup" id="MJXp-Span-175"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-176" style="margin-right: 0.05em;">q</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-177" style="vertical-align: -0.4em;">i</span></span><span class="MJXp-mo" id="MJXp-Span-178" style="margin-left: 0.333em; margin-right: 0.333em;">&gt;</span><span class="MJXp-msubsup" id="MJXp-Span-179"><span class="MJXp-mo" id="MJXp-Span-180" style="margin-left: 0em; margin-right: 0.05em;">)</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-181" style="vertical-align: 0.5em;">2</span></span><span class="MJXp-mo" id="MJXp-Span-182" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-mtext" id="MJXp-Span-183">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-184">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-185">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-186">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-187">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-188">d</span><span class="MJXp-msubsup" id="MJXp-Span-189"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-190" style="margin-right: 0.05em;">a</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-191" style="vertical-align: -0.4em;">1</span></span><span class="MJXp-mrow" id="MJXp-Span-192"><span class="MJXp-mo" id="MJXp-Span-193" style="margin-left: 0.167em; margin-right: 0.167em;">|</span></span><span class="MJXp-mrow" id="MJXp-Span-194"><span class="MJXp-mo" id="MJXp-Span-195" style="margin-left: 0.167em; margin-right: 0.167em;">|</span></span><span class="MJXp-msubsup" id="MJXp-Span-196"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-197" style="margin-right: 0.05em;">p</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-198" style="vertical-align: -0.4em;">u</span></span><span class="MJXp-mrow" id="MJXp-Span-199"><span class="MJXp-mo" id="MJXp-Span-200" style="margin-left: 0.167em; margin-right: 0.167em;">|</span></span><span class="MJXp-msubsup" id="MJXp-Span-201"><span class="MJXp-mrow" id="MJXp-Span-202" style="margin-right: 0.05em;"><span class="MJXp-mo" id="MJXp-Span-203" style="margin-left: 0.167em; margin-right: 0.167em;">|</span></span><span class="MJXp-mn MJXp-script" id="MJXp-Span-204" style="vertical-align: 0.5em;">2</span></span><span class="MJXp-mo" id="MJXp-Span-205" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-mtext" id="MJXp-Span-206">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-207">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-208">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-209">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-210">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-211">d</span><span class="MJXp-msubsup" id="MJXp-Span-212"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-213" style="margin-right: 0.05em;">a</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-214" style="vertical-align: -0.4em;">2</span></span><span class="MJXp-mrow" id="MJXp-Span-215"><span class="MJXp-mo" id="MJXp-Span-216" style="margin-left: 0.167em; margin-right: 0.167em;">|</span></span><span class="MJXp-mrow" id="MJXp-Span-217"><span class="MJXp-mo" id="MJXp-Span-218" style="margin-left: 0.167em; margin-right: 0.167em;">|</span></span><span class="MJXp-msubsup" id="MJXp-Span-219"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-220" style="margin-right: 0.05em;">q</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-221" style="vertical-align: -0.4em;">i</span></span><span class="MJXp-mrow" id="MJXp-Span-222"><span class="MJXp-mo" id="MJXp-Span-223" style="margin-left: 0.167em; margin-right: 0.167em;">|</span></span><span class="MJXp-msubsup" id="MJXp-Span-224"><span class="MJXp-mrow" id="MJXp-Span-225" style="margin-right: 0.05em;"><span class="MJXp-mo" id="MJXp-Span-226" style="margin-left: 0.167em; margin-right: 0.167em;">|</span></span><span class="MJXp-mn MJXp-script" id="MJXp-Span-227" style="vertical-align: 0.5em;">2</span></span><span class="MJXp-mtext" id="MJXp-Span-228">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-229">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-230">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-231">g</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-232">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-233">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-234">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-235">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-236">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-237">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-238">w</span><span class="MJXp-mtext" id="MJXp-Span-239">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-240">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-241">i</span><span class="MJXp-msubsup" id="MJXp-Span-242"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-243" style="margin-right: 0.05em;">n</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-244" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-245">P</span><span class="MJXp-mo" id="MJXp-Span-246">,</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-247">Q</span></span></span><span class="MJXp-mo" id="MJXp-Span-248" style="margin-left: 0em; margin-right: 0.222em;">,</span></span></span><div class="MathJax_SVG_Display MathJax_SVG_Processed" style="text-align: center;"><span class="MathJax_SVG" id="MathJax-Element-14-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="93.499ex" height="3.503ex" viewBox="0 -1039.5 40256.4 1508.3" role="img" focusable="false" style="vertical-align: -1.089ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMATHI-4A" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMAIN-28" x="633" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMATHI-50" x="1023" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMAIN-2C" x="1774" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMATHI-51" x="2219" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMAIN-29" x="3011" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMAIN-3D" x="3678" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMATHI-73" x="4984" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMATHI-75" x="5454" y="0"></use><g transform="translate(6026,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMATHI-6D" x="0" y="0"></use><g transform="translate(878,-187)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMAIN-28" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMATHI-75" x="389" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMAIN-2C" x="962" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMATHI-69" x="1240" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMAIN-29" x="1586" y="0"></use></g></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMAIN-28" x="8402" y="0"></use><g transform="translate(8791,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMATHI-72" x="0" y="0"></use><g transform="translate(451,-150)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMATHI-75" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMATHI-69" x="572" y="0"></use></g></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMAIN-2212" x="9992" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMAIN-3C" x="11048" y="0"></use><g transform="translate(12104,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMATHI-70" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMATHI-75" x="712" y="-213"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMAIN-2C" x="13113" y="0"></use><g transform="translate(13558,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMATHI-71" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMATHI-69" x="631" y="-213"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMAIN-3E" x="14626" y="0"></use><g transform="translate(15405,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMAIN-29" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMAIN-32" x="550" y="583"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMAIN-2B" x="16470" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMATHI-6C" x="17721" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMATHI-61" x="18020" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMATHI-6D" x="18549" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMATHI-62" x="19428" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMATHI-64" x="19857" y="0"></use><g transform="translate(20381,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMATHI-61" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMAIN-31" x="748" y="-213"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMAIN-7C" x="21364" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMAIN-7C" x="21643" y="0"></use><g transform="translate(21921,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMATHI-70" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMATHI-75" x="712" y="-213"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMAIN-7C" x="22929" y="0"></use><g transform="translate(23208,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMAIN-7C" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMAIN-32" x="393" y="675"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMAIN-2B" x="24163" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMATHI-6C" x="25413" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMATHI-61" x="25712" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMATHI-6D" x="26241" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMATHI-62" x="27120" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMATHI-64" x="27549" y="0"></use><g transform="translate(28073,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMATHI-61" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMAIN-32" x="748" y="-213"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMAIN-7C" x="29056" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMAIN-7C" x="29335" y="0"></use><g transform="translate(29613,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMATHI-71" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMATHI-69" x="631" y="-213"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMAIN-7C" x="30404" y="0"></use><g transform="translate(30683,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMAIN-7C" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMAIN-32" x="393" y="675"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMATHI-72" x="31665" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMATHI-69" x="32116" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMATHI-67" x="32462" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMATHI-68" x="32942" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMATHI-74" x="33519" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMATHI-61" x="33880" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMATHI-72" x="34410" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMATHI-72" x="34861" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMATHI-6F" x="35313" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMATHI-77" x="35798" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMATHI-6D" x="36765" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMATHI-69" x="37643" y="0"></use><g transform="translate(37989,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMATHI-6E" x="0" y="0"></use><g transform="translate(600,-155)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMATHI-50" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMAIN-2C" x="751" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMATHI-51" x="1030" y="0"></use></g></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMAIN-2C" x="39977" y="0"></use></g></svg></span></div><script type="math/tex;mode=display" id="MathJax-Element-14"> J (P, Q) = \ sum _ {(u, i)} (r_ {ui} - <p_u, q_i>) ^ 2 + \ lambda_1 || p_u || ^ 2 + \ lambda_2 || q_i || ^ 2 \ rightarrow \ min_ {P, Q}, </script></p><br>  Here <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-249"><span class="MJXp-mrow" id="MJXp-Span-250"><span class="MJXp-mo" id="MJXp-Span-251" style="margin-left: 0em; margin-right: 0em;">Œª</span></span><span class="MJXp-mn" id="MJXp-Span-252">1</span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-15-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="2.518ex" height="2.057ex" viewBox="0 -780.1 1084 885.9" role="img" focusable="false" style="vertical-align: -0.246ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMATHI-3BB" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMAIN-31" x="583" y="0"></use></g></svg></span><script type="math/tex" id="MathJax-Element-15"> Œª1 </script>  , <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-253"><span class="MJXp-mrow" id="MJXp-Span-254"><span class="MJXp-mo" id="MJXp-Span-255" style="margin-left: 0em; margin-right: 0em;">Œª</span></span><span class="MJXp-mn" id="MJXp-Span-256">2</span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-16-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="2.518ex" height="2.057ex" viewBox="0 -780.1 1084 885.9" role="img" focusable="false" style="vertical-align: -0.246ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMATHI-3BB" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMAIN-32" x="583" y="0"></use></g></svg></span><script type="math/tex" id="MathJax-Element-16"> Œª2 </script>  - L2 regularization coefficients for user views <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-257"><span class="MJXp-msubsup" id="MJXp-Span-258"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-259" style="margin-right: 0.05em;">p</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-260" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-261">u</span></span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-17-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="2.431ex" height="1.817ex" viewBox="-38.5 -520.7 1046.8 782.1" role="img" focusable="false" style="vertical-align: -0.607ex; margin-left: -0.089ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMATHI-70" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMATHI-75" x="712" y="-213"></use></g></svg></span><script type="math/tex" id="MathJax-Element-17"> p_ {u} </script>  and product <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-262"><span class="MJXp-msubsup" id="MJXp-Span-263"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-264" style="margin-right: 0.05em;">q</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-265" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-266">i</span></span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-18-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.837ex" height="1.817ex" viewBox="0 -520.7 790.8 782.1" role="img" focusable="false" style="vertical-align: -0.607ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMATHI-71" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMATHI-69" x="631" y="-213"></use></g></svg></span><script type="math/tex" id="MathJax-Element-18"> q_ {i} </script>  respectively.  The basic model for the Netflix competition was: <br><br>  (2.3) <br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-267"><span class="MJXp-mtext" id="MJXp-Span-268">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-269">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-270">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-271">t</span><span class="MJXp-msubsup" id="MJXp-Span-272"><span class="MJXp-mrow" id="MJXp-Span-273" style="margin-right: 0.05em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-274">r</span></span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-275" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-276">u</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-277">i</span></span></span><span class="MJXp-mo" id="MJXp-Span-278" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mtext" id="MJXp-Span-279">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-280">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-281">u</span><span class="MJXp-mo" id="MJXp-Span-282" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-msubsup" id="MJXp-Span-283"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-284" style="margin-right: 0.05em;">b</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-285" style="vertical-align: -0.4em;">u</span></span><span class="MJXp-mo" id="MJXp-Span-286" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-msubsup" id="MJXp-Span-287"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-288" style="margin-right: 0.05em;">b</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-289" style="vertical-align: -0.4em;">i</span></span><span class="MJXp-mo" id="MJXp-Span-290" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-mo" id="MJXp-Span-291" style="margin-left: 0.333em; margin-right: 0.333em;">&lt;</span><span class="MJXp-msubsup" id="MJXp-Span-292"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-293" style="margin-right: 0.05em;">p</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-294" style="vertical-align: -0.4em;">u</span></span><span class="MJXp-mo" id="MJXp-Span-295" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-msubsup" id="MJXp-Span-296"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-297" style="margin-right: 0.05em;">q</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-298" style="vertical-align: -0.4em;">i</span></span><span class="MJXp-mo" id="MJXp-Span-299" style="margin-left: 0.333em; margin-right: 0.333em;">&gt;</span><span class="MJXp-mo" id="MJXp-Span-300" style="margin-left: 0em; margin-right: 0.222em;">,</span></span></span><div class="MathJax_SVG_Display MathJax_SVG_Processed" style="text-align: center;"><span class="MathJax_SVG" id="MathJax-Element-19-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="36.694ex" height="2.419ex" viewBox="0 -780.1 15798.8 1041.5" role="img" focusable="false" style="vertical-align: -0.607ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMATHI-68" x="250" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMATHI-61" x="826" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMATHI-74" x="1356" y="0"></use><g transform="translate(1717,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMATHI-72" x="0" y="0"></use><g transform="translate(451,-150)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMATHI-75" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMATHI-69" x="572" y="0"></use></g></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMAIN-3D" x="3195" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMATHI-6D" x="4502" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMATHI-75" x="5380" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMAIN-2B" x="6175" y="0"></use><g transform="translate(7176,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMATHI-62" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMATHI-75" x="607" y="-213"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMAIN-2B" x="8332" y="0"></use><g transform="translate(9333,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMATHI-62" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMATHI-69" x="607" y="-213"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMAIN-2B" x="10107" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMAIN-3C" x="11163" y="0"></use><g transform="translate(12219,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMATHI-70" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMATHI-75" x="712" y="-213"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMAIN-2C" x="13228" y="0"></use><g transform="translate(13673,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMATHI-71" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMATHI-69" x="631" y="-213"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMAIN-3E" x="14741" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMAIN-2C" x="15520" y="0"></use></g></svg></span></div><script type="math/tex;mode=display" id="MathJax-Element-19"> \ hat {r} _ {ui} = \ mu + b_u + b_i + <p_u, q_i>, </script></p><br>  (2.4) <br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-301"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-302">J</span><span class="MJXp-mo" id="MJXp-Span-303" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-304">P</span><span class="MJXp-mo" id="MJXp-Span-305" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-306">Q</span><span class="MJXp-mo" id="MJXp-Span-307" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mo" id="MJXp-Span-308" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mtext" id="MJXp-Span-309">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-310">s</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-311">u</span><span class="MJXp-msubsup" id="MJXp-Span-312"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-313" style="margin-right: 0.05em;">m</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-314" style="vertical-align: -0.4em;"><span class="MJXp-mo" id="MJXp-Span-315">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-316">u</span><span class="MJXp-mo" id="MJXp-Span-317">,</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-318">i</span><span class="MJXp-mo" id="MJXp-Span-319">)</span></span></span><span class="MJXp-mo" id="MJXp-Span-320" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-msubsup" id="MJXp-Span-321"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-322" style="margin-right: 0.05em;">r</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-323" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-324">u</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-325">i</span></span></span><span class="MJXp-mo" id="MJXp-Span-326" style="margin-left: 0.267em; margin-right: 0.267em;">‚àí</span><span class="MJXp-mtext" id="MJXp-Span-327">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-328">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-329">u</span><span class="MJXp-mo" id="MJXp-Span-330" style="margin-left: 0.267em; margin-right: 0.267em;">‚àí</span><span class="MJXp-msubsup" id="MJXp-Span-331"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-332" style="margin-right: 0.05em;">b</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-333" style="vertical-align: -0.4em;">u</span></span><span class="MJXp-mo" id="MJXp-Span-334" style="margin-left: 0.267em; margin-right: 0.267em;">‚àí</span><span class="MJXp-msubsup" id="MJXp-Span-335"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-336" style="margin-right: 0.05em;">b</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-337" style="vertical-align: -0.4em;">i</span></span><span class="MJXp-mo" id="MJXp-Span-338" style="margin-left: 0.267em; margin-right: 0.267em;">‚àí</span><span class="MJXp-mo" id="MJXp-Span-339" style="margin-left: 0.333em; margin-right: 0.333em;">&lt;</span><span class="MJXp-msubsup" id="MJXp-Span-340"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-341" style="margin-right: 0.05em;">p</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-342" style="vertical-align: -0.4em;">u</span></span><span class="MJXp-mo" id="MJXp-Span-343" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-msubsup" id="MJXp-Span-344"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-345" style="margin-right: 0.05em;">q</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-346" style="vertical-align: -0.4em;">i</span></span><span class="MJXp-mo" id="MJXp-Span-347" style="margin-left: 0.333em; margin-right: 0.333em;">&gt;</span><span class="MJXp-msubsup" id="MJXp-Span-348"><span class="MJXp-mo" id="MJXp-Span-349" style="margin-left: 0em; margin-right: 0.05em;">)</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-350" style="vertical-align: 0.5em;">2</span></span><span class="MJXp-mo" id="MJXp-Span-351" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-mtext" id="MJXp-Span-352">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-353">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-354">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-355">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-356">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-357">d</span><span class="MJXp-msubsup" id="MJXp-Span-358"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-359" style="margin-right: 0.05em;">a</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-360" style="vertical-align: -0.4em;">1</span></span><span class="MJXp-mrow" id="MJXp-Span-361"><span class="MJXp-mo" id="MJXp-Span-362" style="margin-left: 0.167em; margin-right: 0.167em;">|</span></span><span class="MJXp-mrow" id="MJXp-Span-363"><span class="MJXp-mo" id="MJXp-Span-364" style="margin-left: 0.167em; margin-right: 0.167em;">|</span></span><span class="MJXp-msubsup" id="MJXp-Span-365"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-366" style="margin-right: 0.05em;">p</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-367" style="vertical-align: -0.4em;">u</span></span><span class="MJXp-mrow" id="MJXp-Span-368"><span class="MJXp-mo" id="MJXp-Span-369" style="margin-left: 0.167em; margin-right: 0.167em;">|</span></span><span class="MJXp-msubsup" id="MJXp-Span-370"><span class="MJXp-mrow" id="MJXp-Span-371" style="margin-right: 0.05em;"><span class="MJXp-mo" id="MJXp-Span-372" style="margin-left: 0.167em; margin-right: 0.167em;">|</span></span><span class="MJXp-mn MJXp-script" id="MJXp-Span-373" style="vertical-align: 0.5em;">2</span></span><span class="MJXp-mo" id="MJXp-Span-374" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-mtext" id="MJXp-Span-375">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-376">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-377">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-378">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-379">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-380">d</span><span class="MJXp-msubsup" id="MJXp-Span-381"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-382" style="margin-right: 0.05em;">a</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-383" style="vertical-align: -0.4em;">2</span></span><span class="MJXp-mrow" id="MJXp-Span-384"><span class="MJXp-mo" id="MJXp-Span-385" style="margin-left: 0.167em; margin-right: 0.167em;">|</span></span><span class="MJXp-mrow" id="MJXp-Span-386"><span class="MJXp-mo" id="MJXp-Span-387" style="margin-left: 0.167em; margin-right: 0.167em;">|</span></span><span class="MJXp-msubsup" id="MJXp-Span-388"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-389" style="margin-right: 0.05em;">q</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-390" style="vertical-align: -0.4em;">i</span></span><span class="MJXp-mrow" id="MJXp-Span-391"><span class="MJXp-mo" id="MJXp-Span-392" style="margin-left: 0.167em; margin-right: 0.167em;">|</span></span><span class="MJXp-msubsup" id="MJXp-Span-393"><span class="MJXp-mrow" id="MJXp-Span-394" style="margin-right: 0.05em;"><span class="MJXp-mo" id="MJXp-Span-395" style="margin-left: 0.167em; margin-right: 0.167em;">|</span></span><span class="MJXp-mn MJXp-script" id="MJXp-Span-396" style="vertical-align: 0.5em;">2</span></span><span class="MJXp-mo" id="MJXp-Span-397" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-mtext" id="MJXp-Span-398">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-399">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-400">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-401">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-402">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-403">d</span><span class="MJXp-msubsup" id="MJXp-Span-404"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-405" style="margin-right: 0.05em;">a</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-406" style="vertical-align: -0.4em;">3</span></span><span class="MJXp-msubsup" id="MJXp-Span-407"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-408" style="margin-right: 0.05em;">b</span><span class="MJXp-script-box" style="height: 1.86em; vertical-align: -0.64em;"><span class=" MJXp-script"><span><span style="margin-bottom: -0.25em;"><span class="MJXp-mn" id="MJXp-Span-410">2</span></span></span></span><span class=" MJXp-script"><span><span style="margin-top: -0.85em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-409">u</span></span></span></span></span></span><span class="MJXp-mo" id="MJXp-Span-411" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-mtext" id="MJXp-Span-412">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-413">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-414">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-415">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-416">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-417">d</span><span class="MJXp-msubsup" id="MJXp-Span-418"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-419" style="margin-right: 0.05em;">a</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-420" style="vertical-align: -0.4em;">4</span></span><span class="MJXp-msubsup" id="MJXp-Span-421"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-422" style="margin-right: 0.05em;">b</span><span class="MJXp-script-box" style="height: 1.86em; vertical-align: -0.64em;"><span class=" MJXp-script"><span><span style="margin-bottom: -0.25em;"><span class="MJXp-mn" id="MJXp-Span-424">2</span></span></span></span><span class=" MJXp-script"><span><span style="margin-top: -0.85em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-423">i</span></span></span></span></span></span><span class="MJXp-mtext" id="MJXp-Span-425">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-426">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-427">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-428">g</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-429">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-430">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-431">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-432">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-433">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-434">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-435">w</span><span class="MJXp-mtext" id="MJXp-Span-436">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-437">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-438">i</span><span class="MJXp-msubsup" id="MJXp-Span-439"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-440" style="margin-right: 0.05em;">n</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-441" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-442">P</span><span class="MJXp-mo" id="MJXp-Span-443">,</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-444">Q</span></span></span><span class="MJXp-mo" id="MJXp-Span-445" style="margin-left: 0em; margin-right: 0.222em;">,</span></span></span><div class="MathJax_SVG_Display MathJax_SVG_Processed" style="text-align: center;"><span class="MathJax_SVG" id="MathJax-Element-20-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="137.924ex" height="3.503ex" viewBox="0 -1039.5 59383.8 1508.3" role="img" focusable="false" style="vertical-align: -1.089ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMATHI-4A" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMAIN-28" x="633" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMATHI-50" x="1023" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMAIN-2C" x="1774" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMATHI-51" x="2219" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMAIN-29" x="3011" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMAIN-3D" x="3678" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMATHI-73" x="4984" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMATHI-75" x="5454" y="0"></use><g transform="translate(6026,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMATHI-6D" x="0" y="0"></use><g transform="translate(878,-187)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMAIN-28" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMATHI-75" x="389" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMAIN-2C" x="962" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMATHI-69" x="1240" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMAIN-29" x="1586" y="0"></use></g></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMAIN-28" x="8402" y="0"></use><g transform="translate(8791,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMATHI-72" x="0" y="0"></use><g transform="translate(451,-150)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMATHI-75" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMATHI-69" x="572" y="0"></use></g></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMAIN-2212" x="10214" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMATHI-6D" x="11465" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMATHI-75" x="12343" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMAIN-2212" x="13138" y="0"></use><g transform="translate(14139,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMATHI-62" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMATHI-75" x="607" y="-213"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMAIN-2212" x="15295" y="0"></use><g transform="translate(16296,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMATHI-62" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMATHI-69" x="607" y="-213"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMAIN-2212" x="17070" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMAIN-3C" x="18126" y="0"></use><g transform="translate(19182,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMATHI-70" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMATHI-75" x="712" y="-213"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMAIN-2C" x="20191" y="0"></use><g transform="translate(20636,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMATHI-71" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMATHI-69" x="631" y="-213"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMAIN-3E" x="21704" y="0"></use><g transform="translate(22483,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMAIN-29" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMAIN-32" x="550" y="583"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMAIN-2B" x="23548" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMATHI-6C" x="24799" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMATHI-61" x="25098" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMATHI-6D" x="25627" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMATHI-62" x="26506" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMATHI-64" x="26935" y="0"></use><g transform="translate(27459,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMATHI-61" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMAIN-31" x="748" y="-213"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMAIN-7C" x="28442" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMAIN-7C" x="28721" y="0"></use><g transform="translate(28999,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMATHI-70" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMATHI-75" x="712" y="-213"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMAIN-7C" x="30007" y="0"></use><g transform="translate(30286,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMAIN-7C" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMAIN-32" x="393" y="675"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMAIN-2B" x="31241" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMATHI-6C" x="32491" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMATHI-61" x="32790" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMATHI-6D" x="33319" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMATHI-62" x="34198" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMATHI-64" x="34627" y="0"></use><g transform="translate(35151,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMATHI-61" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMAIN-32" x="748" y="-213"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMAIN-7C" x="36134" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMAIN-7C" x="36413" y="0"></use><g transform="translate(36691,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMATHI-71" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMATHI-69" x="631" y="-213"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMAIN-7C" x="37482" y="0"></use><g transform="translate(37760,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMAIN-7C" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMAIN-32" x="393" y="675"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMAIN-2B" x="38715" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMATHI-6C" x="39966" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMATHI-61" x="40264" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMATHI-6D" x="40794" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMATHI-62" x="41672" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMATHI-64" x="42102" y="0"></use><g transform="translate(42625,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMATHI-61" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMAIN-33" x="748" y="-213"></use></g><g transform="translate(43609,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMATHI-62" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMAIN-32" x="607" y="488"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMATHI-75" x="607" y="-211"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMAIN-2B" x="44765" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMATHI-6C" x="46016" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMATHI-61" x="46314" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMATHI-6D" x="46844" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMATHI-62" x="47722" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMATHI-64" x="48152" y="0"></use><g transform="translate(48675,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMATHI-61" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMAIN-34" x="748" y="-213"></use></g><g transform="translate(49659,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMATHI-62" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMAIN-32" x="607" y="488"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMATHI-69" x="607" y="-430"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMATHI-72" x="50792" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMATHI-69" x="51244" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMATHI-67" x="51589" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMATHI-68" x="52070" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMATHI-74" x="52646" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMATHI-61" x="53008" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMATHI-72" x="53537" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMATHI-72" x="53989" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMATHI-6F" x="54440" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMATHI-77" x="54926" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMATHI-6D" x="55892" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMATHI-69" x="56771" y="0"></use><g transform="translate(57116,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMATHI-6E" x="0" y="0"></use><g transform="translate(600,-155)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMATHI-50" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMAIN-2C" x="751" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMATHI-51" x="1030" y="0"></use></g></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMAIN-2C" x="59105" y="0"></use></g></svg></span></div><script type="math/tex;mode=display" id="MathJax-Element-20"> J (P, Q) = \ sum _ {(u, i)} (r_ {ui} - \ mu - b_u - b_i - <p_u, q_i>) ^ 2 + \ lambda_1 || p_u || ^ 2 + \ lambda_2 || q_i || ^ 2 + \ lambda_3 b_u ^ 2 + \ lambda_4 b_i ^ 2 \ rightarrow \ min_ {P, Q}, </script></p><br>  Where <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-446"><span class="MJXp-mrow" id="MJXp-Span-447"><span class="MJXp-mo" id="MJXp-Span-448" style="margin-left: 0em; margin-right: 0em;">¬µ</span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-21-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.111ex" height="2.298ex" viewBox="0 -780.1 478.2 989.6" role="img" focusable="false" style="vertical-align: -0.487ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(51.874) matrix(1 0 0 -1 0 0)">¬µ</text></g></svg></span><script type="math/tex" id="MathJax-Element-21"> ¬µ </script>  , <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-449"><span class="MJXp-msubsup" id="MJXp-Span-450"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-451" style="margin-right: 0.05em;">b</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-452" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-453">u</span></span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-22-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="2.17ex" height="2.419ex" viewBox="0 -780.1 934.3 1041.5" role="img" focusable="false" style="vertical-align: -0.607ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMATHI-62" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMATHI-75" x="607" y="-213"></use></g></svg></span><script type="math/tex" id="MathJax-Element-22"> b_ {u} </script>  and <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-454"><span class="MJXp-msubsup" id="MJXp-Span-455"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-456" style="margin-right: 0.05em;">b</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-457" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-458">i</span></span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-23-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.797ex" height="2.419ex" viewBox="0 -780.1 773.8 1041.5" role="img" focusable="false" style="vertical-align: -0.607ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMATHI-62" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMATHI-69" x="607" y="-213"></use></g></svg></span><script type="math/tex" id="MathJax-Element-23"> b_ {i} </script>  - Offsets for rating, user and product, respectively.  Model (2.3) - (2.4) can be improved by adding an implicit user preference to it.  On the example of a Netflix competition, the explicit response is the score given by the user to the film ‚Äúat our request‚Äù, and the implicit response is other information about the ‚Äúuser interaction with the product‚Äù (watching the film, its description, reviews on it; i.e. an implicit response does not direct information about the rating of the film, but it indicates interest).  Consideration of the implicit response is implemented in the SVD ++ model: <br><br>  (2.5) <br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-459"><span class="MJXp-mtext" id="MJXp-Span-460">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-461">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-462">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-463">t</span><span class="MJXp-msubsup" id="MJXp-Span-464"><span class="MJXp-mrow" id="MJXp-Span-465" style="margin-right: 0.05em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-466">r</span></span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-467" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-468">u</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-469">i</span></span></span><span class="MJXp-mo" id="MJXp-Span-470" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mtext" id="MJXp-Span-471">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-472">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-473">u</span><span class="MJXp-mo" id="MJXp-Span-474" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-msubsup" id="MJXp-Span-475"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-476" style="margin-right: 0.05em;">b</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-477" style="vertical-align: -0.4em;">u</span></span><span class="MJXp-mo" id="MJXp-Span-478" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-msubsup" id="MJXp-Span-479"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-480" style="margin-right: 0.05em;">b</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-481" style="vertical-align: -0.4em;">i</span></span><span class="MJXp-mo" id="MJXp-Span-482" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-mo" id="MJXp-Span-483" style="margin-left: 0.333em; margin-right: 0.333em;">&lt;</span><span class="MJXp-msubsup" id="MJXp-Span-484"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-485" style="margin-right: 0.05em;">p</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-486" style="vertical-align: -0.4em;">u</span></span><span class="MJXp-mo" id="MJXp-Span-487" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-mtext" id="MJXp-Span-488">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-489">f</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-490">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-491">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-492">c</span><span class="MJXp-mrow" id="MJXp-Span-493"><span class="MJXp-mn" id="MJXp-Span-494">1</span></span><span class="MJXp-mrow" id="MJXp-Span-495"><span class="MJXp-mtext" id="MJXp-Span-496">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-497">s</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-498">q</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-499">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-500">t</span><span class="MJXp-mrow" id="MJXp-Span-501"><span class="MJXp-mtext" id="MJXp-Span-502">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-503">s</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-504">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-505">g</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-506">m</span><span class="MJXp-msubsup" id="MJXp-Span-507"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-508" style="margin-right: 0.05em;">a</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-509" style="vertical-align: -0.4em;">u</span></span></span></span><span class="MJXp-mtext" id="MJXp-Span-510">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-511">s</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-512">u</span><span class="MJXp-msubsup" id="MJXp-Span-513"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-514" style="margin-right: 0.05em;">m</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-515" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-516">j</span><span class="MJXp-mtext" id="MJXp-Span-517">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-518">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-519">n</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-520">S</span><span class="MJXp-mo" id="MJXp-Span-521">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-522">u</span><span class="MJXp-mo" id="MJXp-Span-523">)</span></span></span><span class="MJXp-msubsup" id="MJXp-Span-524"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-525" style="margin-right: 0.05em;">y</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-526" style="vertical-align: -0.4em;">j</span></span><span class="MJXp-mo" id="MJXp-Span-527" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mspace" id="MJXp-Span-528" style="width: 0.167em; height: 0em;"></span><span class="MJXp-mtext" id="MJXp-Span-529">&nbsp;</span><span class="MJXp-mo" id="MJXp-Span-530" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-msubsup" id="MJXp-Span-531"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-532" style="margin-right: 0.05em;">q</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-533" style="vertical-align: -0.4em;">i</span></span><span class="MJXp-mo" id="MJXp-Span-534" style="margin-left: 0.333em; margin-right: 0.333em;">&gt;</span><span class="MJXp-mo" id="MJXp-Span-535" style="margin-left: 0em; margin-right: 0.222em;">,</span></span></span><div class="MathJax_SVG_Display MathJax_SVG_Processed" style="text-align: center;"><span class="MathJax_SVG" id="MathJax-Element-24-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="73.918ex" height="2.901ex" viewBox="0 -780.1 31825.8 1249" role="img" focusable="false" style="vertical-align: -1.089ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMATHI-68" x="250" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMATHI-61" x="826" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMATHI-74" x="1356" y="0"></use><g transform="translate(1717,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMATHI-72" x="0" y="0"></use><g transform="translate(451,-150)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMATHI-75" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMATHI-69" x="572" y="0"></use></g></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMAIN-3D" x="3195" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMATHI-6D" x="4502" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMATHI-75" x="5380" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMAIN-2B" x="6175" y="0"></use><g transform="translate(7176,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMATHI-62" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMATHI-75" x="607" y="-213"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMAIN-2B" x="8332" y="0"></use><g transform="translate(9333,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMATHI-62" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMATHI-69" x="607" y="-213"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMAIN-2B" x="10107" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMAIN-3C" x="11163" y="0"></use><g transform="translate(12219,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMATHI-70" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMATHI-75" x="712" y="-213"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMAIN-2B" x="13450" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMATHI-66" x="14701" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMATHI-72" x="15251" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMATHI-61" x="15703" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMATHI-63" x="16232" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMAIN-31" x="16666" y="0"></use><g transform="translate(17166,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMATHI-73" x="250" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMATHI-71" x="719" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMATHI-72" x="1180" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMATHI-74" x="1631" y="0"></use><g transform="translate(1993,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMATHI-73" x="250" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMATHI-69" x="719" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMATHI-67" x="1065" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMATHI-6D" x="1545" y="0"></use><g transform="translate(2424,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMATHI-61" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMATHI-75" x="748" y="-213"></use></g></g></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMATHI-73" x="22867" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMATHI-75" x="23337" y="0"></use><g transform="translate(23909,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMATHI-6D" x="0" y="0"></use><g transform="translate(878,-187)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMATHI-6A" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMATHI-69" x="766" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMATHI-6E" x="1111" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMATHI-53" x="1712" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMAIN-28" x="2357" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMATHI-75" x="2747" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMAIN-29" x="3319" y="0"></use></g></g><g transform="translate(27511,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMATHI-79" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMATHI-6A" x="693" y="-213"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMAIN-2C" x="28393" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMAIN-2C" x="29255" y="0"></use><g transform="translate(29700,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMATHI-71" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMATHI-69" x="631" y="-213"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMAIN-3E" x="30768" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMAIN-2C" x="31547" y="0"></use></g></svg></span></div><script type="math/tex;mode=display" id="MathJax-Element-24"> \ hat {r} _ {ui} = \ mu + b_u + b_i + <p_u + \ frac {1} {\ sqrt {\ sigma_u}} \ sum_ {j \ in S (u)} y_j, \, \ , q_i>, </script></p><br>  Where <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-536"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-537">S</span><span class="MJXp-mo" id="MJXp-Span-538" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-539">u</span><span class="MJXp-mo" id="MJXp-Span-540" style="margin-left: 0em; margin-right: 0em;">)</span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-25-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="4.638ex" height="2.66ex" viewBox="0 -832 1997 1145.2" role="img" focusable="false" style="vertical-align: -0.728ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMATHI-53" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMAIN-28" x="645" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMATHI-75" x="1035" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMAIN-29" x="1607" y="0"></use></g></svg></span><script type="math/tex" id="MathJax-Element-25"> S (u) </script>  - a set of objects with which the user implicitly interacted, <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-541"><span class="MJXp-msubsup" id="MJXp-Span-542"><span class="MJXp-mrow" id="MJXp-Span-543" style="margin-right: 0.05em;"><span class="MJXp-mo" id="MJXp-Span-544" style="margin-left: 0em; margin-right: 0em;">œÉ</span></span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-545" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-546">u</span></span></span><span class="MJXp-mo" id="MJXp-Span-547" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mrow" id="MJXp-Span-548"><span class="MJXp-mo" id="MJXp-Span-549" style="margin-left: 0.167em; margin-right: 0.167em;">|</span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-550">S</span><span class="MJXp-mo" id="MJXp-Span-551" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-552">u</span><span class="MJXp-mo" id="MJXp-Span-553" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mrow" id="MJXp-Span-554"><span class="MJXp-mo" id="MJXp-Span-555" style="margin-left: 0.167em; margin-right: 0.167em;">|</span></span><span class="MJXp-mo" id="MJXp-Span-556" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-msubsup" id="MJXp-Span-557"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-558" style="margin-right: 0.05em;">y</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-559" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-560">j</span></span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-26-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="14.613ex" height="2.78ex" viewBox="0 -832 6291.7 1197.1" role="img" focusable="false" style="vertical-align: -0.848ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMATHI-3C3" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMATHI-75" x="808" y="-213"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMAIN-3D" x="1354" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMAIN-7C" x="2410" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMATHI-53" x="2688" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMAIN-28" x="3334" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMATHI-75" x="3723" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMAIN-29" x="4296" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMAIN-7C" x="4685" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMAIN-2C" x="4964" y="0"></use><g transform="translate(5409,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMATHI-79" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMATHI-6A" x="693" y="-213"></use></g></g></svg></span><script type="math/tex" id="MathJax-Element-26"> œÉ_ {u} = | S (u) |, y_ {j} </script>  - representation of dimension <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-561"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-562">k</span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-27-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.211ex" height="2.057ex" viewBox="0 -780.1 521.5 885.9" role="img" focusable="false" style="vertical-align: -0.246ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMATHI-6B" x="0" y="0"></use></g></svg></span><script type="math/tex" id="MathJax-Element-27"> k </script>  for an object of <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-563"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-564">S</span><span class="MJXp-mo" id="MJXp-Span-565" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-566">u</span><span class="MJXp-mo" id="MJXp-Span-567" style="margin-left: 0em; margin-right: 0em;">)</span></span></span><span class="MathJax_SVG MathJax_SVG_Processed" id="MathJax-Element-28-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="4.638ex" height="2.66ex" viewBox="0 -832 1997 1145.2" role="img" focusable="false" style="vertical-align: -0.728ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMATHI-53" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMAIN-28" x="645" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMATHI-75" x="1035" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMAIN-29" x="1607" y="0"></use></g></svg></span><script type="math/tex" id="MathJax-Element-28"> S (u) </script>  . <br><br><h3>  Factorization Machines (FM) </h3><br>  As seen in the examples with different SVD models, one model differs from another in the set of terms included in the evaluation formula.  In this case, the expansion of the model each time represents a new task.  We want such changes (for example, adding a new kind of implicit response, taking into account time parameters) to be easily implemented without changing the model implementation code.  Models (2.1) - (2.5) can be represented in a convenient universal form using the following parameterization.  We represent the user and product in the form of a set of signs: <br><br>  (2.6) <br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-568"><span class="MJXp-mtext" id="MJXp-Span-569">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-570">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-571">v</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-572">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-573">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-574">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-575">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-576">n</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-577">e</span><span class="MJXp-msubsup" id="MJXp-Span-578"><span class="MJXp-mrow" id="MJXp-Span-579" style="margin-right: 0.05em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-580">x</span></span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-581" style="vertical-align: 0.5em;">U</span></span><span class="MJXp-mo" id="MJXp-Span-582" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mo" id="MJXp-Span-583" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-msubsup" id="MJXp-Span-584"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-585" style="margin-right: 0.05em;">x</span><span class="MJXp-script-box" style="height: 1.86em; vertical-align: -0.64em;"><span class=" MJXp-script"><span><span style="margin-bottom: -0.25em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-587">U</span></span></span></span><span class=" MJXp-script"><span><span style="margin-top: -0.85em;"><span class="MJXp-mn" id="MJXp-Span-586">1</span></span></span></span></span></span><span class="MJXp-mo" id="MJXp-Span-588" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-msubsup" id="MJXp-Span-589"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-590" style="margin-right: 0.05em;">x</span><span class="MJXp-script-box" style="height: 1.86em; vertical-align: -0.64em;"><span class=" MJXp-script"><span><span style="margin-bottom: -0.25em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-592">U</span></span></span></span><span class=" MJXp-script"><span><span style="margin-top: -0.85em;"><span class="MJXp-mn" id="MJXp-Span-591">2</span></span></span></span></span></span><span class="MJXp-mo" id="MJXp-Span-593" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mtext" id="MJXp-Span-594">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-595">d</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-596">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-597">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-598">s</span><span class="MJXp-mo" id="MJXp-Span-599" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-msubsup" id="MJXp-Span-600"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-601" style="margin-right: 0.05em;">x</span><span class="MJXp-script-box" style="height: 1.86em; vertical-align: -0.64em;"><span class=" MJXp-script"><span><span style="margin-bottom: -0.25em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-603">U</span></span></span></span><span class=" MJXp-script"><span><span style="margin-top: -0.85em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-602">l</span></span></span></span></span></span><span class="MJXp-mo" id="MJXp-Span-604" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mtext" id="MJXp-Span-605">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-606">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-607">n</span><span class="MJXp-mtext" id="MJXp-Span-608">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-609">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-610">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-611">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-612">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-613">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-614">b</span><span class="MJXp-msubsup" id="MJXp-Span-615"><span class="MJXp-mrow" id="MJXp-Span-616" style="margin-right: 0.05em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-617">R</span></span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-618" style="vertical-align: 0.5em;">l</span></span><span class="MJXp-mo" id="MJXp-Span-619" style="margin-left: 0em; margin-right: 0.222em;">,</span></span></span><div class="MathJax_SVG_Display MathJax_SVG_Processed" style="text-align: center;"><span class="MathJax_SVG" id="MathJax-Element-29-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="47.031ex" height="3.262ex" viewBox="0 -987.6 20249.4 1404.6" role="img" focusable="false" style="vertical-align: -0.969ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMATHI-6F" x="250" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMATHI-76" x="735" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMATHI-65" x="1221" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMATHI-72" x="1687" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMATHI-6C" x="2139" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMATHI-69" x="2437" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMATHI-6E" x="2783" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMATHI-65" x="3383" y="0"></use><g transform="translate(3850,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMATHI-78" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMATHI-55" x="809" y="583"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMAIN-3D" x="5342" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMAIN-28" x="6399" y="0"></use><g transform="translate(6788,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMATHI-78" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMATHI-55" x="809" y="510"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMAIN-31" x="809" y="-435"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMAIN-2C" x="8003" y="0"></use><g transform="translate(8449,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMATHI-78" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMATHI-55" x="809" y="510"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMAIN-32" x="809" y="-435"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMAIN-2C" x="9664" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMATHI-64" x="10359" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMATHI-6F" x="10883" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMATHI-74" x="11368" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMATHI-73" x="11730" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMAIN-2C" x="12199" y="0"></use><g transform="translate(12644,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMATHI-78" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMATHI-55" x="809" y="510"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMATHI-6C" x="809" y="-464"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMAIN-29" x="13859" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMATHI-69" x="14499" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMATHI-6E" x="14844" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMATHI-6D" x="15695" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMATHI-61" x="16573" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMATHI-74" x="17103" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMATHI-68" x="17464" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMATHI-62" x="18041" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMATHI-62" x="18470" y="0"></use><g transform="translate(18900,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMATHI-52" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMATHI-6C" x="1074" y="583"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMAIN-2C" x="19970" y="0"></use></g></svg></span></div><script type="math/tex;mode=display" id="MathJax-Element-29"> \ overline {x} ^ U = (x_1 ^ U, x_2 ^ U, \ dots, x_l ^ U) \ in \ mathbb {R} ^ l, </script></p><br><br>  (2.7) <br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-620"><span class="MJXp-mtext" id="MJXp-Span-621">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-622">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-623">v</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-624">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-625">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-626">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-627">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-628">n</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-629">e</span><span class="MJXp-msubsup" id="MJXp-Span-630"><span class="MJXp-mrow" id="MJXp-Span-631" style="margin-right: 0.05em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-632">x</span></span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-633" style="vertical-align: 0.5em;">I</span></span><span class="MJXp-mo" id="MJXp-Span-634" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mo" id="MJXp-Span-635" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-msubsup" id="MJXp-Span-636"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-637" style="margin-right: 0.05em;">x</span><span class="MJXp-script-box" style="height: 1.86em; vertical-align: -0.64em;"><span class=" MJXp-script"><span><span style="margin-bottom: -0.25em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-639">I</span></span></span></span><span class=" MJXp-script"><span><span style="margin-top: -0.85em;"><span class="MJXp-mn" id="MJXp-Span-638">1</span></span></span></span></span></span><span class="MJXp-mo" id="MJXp-Span-640" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-msubsup" id="MJXp-Span-641"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-642" style="margin-right: 0.05em;">x</span><span class="MJXp-script-box" style="height: 1.86em; vertical-align: -0.64em;"><span class=" MJXp-script"><span><span style="margin-bottom: -0.25em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-644">I</span></span></span></span><span class=" MJXp-script"><span><span style="margin-top: -0.85em;"><span class="MJXp-mn" id="MJXp-Span-643">2</span></span></span></span></span></span><span class="MJXp-mo" id="MJXp-Span-645" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mtext" id="MJXp-Span-646">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-647">d</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-648">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-649">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-650">s</span><span class="MJXp-mo" id="MJXp-Span-651" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-msubsup" id="MJXp-Span-652"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-653" style="margin-right: 0.05em;">x</span><span class="MJXp-script-box" style="height: 1.86em; vertical-align: -0.64em;"><span class=" MJXp-script"><span><span style="margin-bottom: -0.25em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-655">I</span></span></span></span><span class=" MJXp-script"><span><span style="margin-top: -0.85em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-654">m</span></span></span></span></span></span><span class="MJXp-mo" id="MJXp-Span-656" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mtext" id="MJXp-Span-657">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-658">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-659">n</span><span class="MJXp-mtext" id="MJXp-Span-660">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-661">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-662">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-663">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-664">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-665">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-666">b</span><span class="MJXp-msubsup" id="MJXp-Span-667"><span class="MJXp-mrow" id="MJXp-Span-668" style="margin-right: 0.05em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-669">R</span></span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-670" style="vertical-align: 0.5em;">m</span></span><span class="MJXp-mo" id="MJXp-Span-671" style="margin-left: 0em; margin-right: 0.222em;">.</span></span></span><div class="MathJax_SVG_Display MathJax_SVG_Processed" style="text-align: center;"><span class="MathJax_SVG" id="MathJax-Element-30-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="46.87ex" height="3.142ex" viewBox="0 -987.6 20180.1 1352.7" role="img" focusable="false" style="vertical-align: -0.848ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMATHI-6F" x="250" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMATHI-76" x="735" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMATHI-65" x="1221" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMATHI-72" x="1687" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMATHI-6C" x="2139" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMATHI-69" x="2437" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMATHI-6E" x="2783" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMATHI-65" x="3383" y="0"></use><g transform="translate(3850,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMATHI-78" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMATHI-49" x="809" y="583"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMAIN-3D" x="5157" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMAIN-28" x="6213" y="0"></use><g transform="translate(6602,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMATHI-78" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMATHI-49" x="809" y="488"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMAIN-31" x="809" y="-435"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMAIN-2C" x="7632" y="0"></use><g transform="translate(8077,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMATHI-78" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMATHI-49" x="809" y="488"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMAIN-32" x="809" y="-435"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMAIN-2C" x="9106" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMATHI-64" x="9801" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMATHI-6F" x="10325" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMATHI-74" x="10810" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMATHI-73" x="11172" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMAIN-2C" x="11641" y="0"></use><g transform="translate(12086,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMATHI-78" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMATHI-49" x="809" y="488"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMATHI-6D" x="809" y="-212"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMAIN-29" x="13380" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMATHI-69" x="14019" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMATHI-6E" x="14365" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMATHI-6D" x="15215" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMATHI-61" x="16094" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMATHI-74" x="16623" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMATHI-68" x="16985" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMATHI-62" x="17561" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMATHI-62" x="17991" y="0"></use><g transform="translate(18420,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMATHI-52" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMATHI-6D" x="1074" y="583"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://habr.com/ru/company/mailru/blog/445392/&amp;xid=17259,15700023,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhinCh1pnSftNrtQbxV4b0sLeqBzgg#MJMAIN-2E" x="19901" y="0"></use></g></svg></span></div><script type="math/tex;mode=display" id="MathJax-Element-30"> \ overline {x} ^ I = (x_1 ^ I, x_2 ^ I, \ dots, x_m ^ I) \ in \ mathbb {R} ^ m. </script></p><br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/l_/si/kt/l_siktfxhut3izcg369arb-sn-k.jpeg" width="400"></div><br>  <i>Fig.</i>  <i>1: An example of a feature matrix in the case of CF.</i> <br><br>  For example, in the case of collaborative filtering (CF), when only data on the interaction of users and products are used, feature vectors are in the form of a one-hot code (Fig. 1).  We introduce a vector <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-672"><span class="MJXp-mtext" id="MJXp-Span-673">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-674">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-675">v</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-676">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-677">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-678">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-679">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-680">n</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-681">e</span><span class="MJXp-mrow" id="MJXp-Span-682"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-683">x</span></span><span class="MJXp-mo" id="MJXp-Span-684" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mo" id="MJXp-Span-685" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mtext" id="MJXp-Span-686">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-687">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-688">v</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-689">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-690">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-691">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-692">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-693">n</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-694">e</span><span class="MJXp-msubsup" id="MJXp-Span-695"><span class="MJXp-mrow" id="MJXp-Span-696" style="margin-right: 0.05em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-697">x</span></span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-698" style="vertical-align: 0.5em;">U</span></span><span class="MJXp-mo" id="MJXp-Span-699" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mtext" id="MJXp-Span-700">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-701">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-702">v</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-703">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-704">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-705">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-706">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-707">n</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-708">e</span><span class="MJXp-msubsup" id="MJXp-Span-709"><span class="MJXp-mrow" id="MJXp-Span-710" style="margin-right: 0.05em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-711">x</span></span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-712" style="vertical-align: 0.5em;">I</span></span><span class="MJXp-mo" id="MJXp-Span-713" style="margin-left: 0em; margin-right: 0em;">)</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-31-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-31"> \ overline {x} = (\ overline {x} ^ U, \ overline {x} ^ I) </script>  then the recommendation task is reduced to regression tasks with the target variable <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-714"><span class="MJXp-msubsup" id="MJXp-Span-715"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-716" style="margin-right: 0.05em;">r</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-717" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-718">u</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-719">i</span></span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-32-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-32"> r_ {ui} </script>  : <br><br><ol><li>  Linear model: <br>  (2.8) <br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-720"><span class="MJXp-msubsup" id="MJXp-Span-721"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-722" style="margin-right: 0.05em;">h</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-723" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-724">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-725">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-726">n</span></span></span><span class="MJXp-mo" id="MJXp-Span-727" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mtext" id="MJXp-Span-728">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-729">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-730">v</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-731">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-732">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-733">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-734">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-735">n</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-736">e</span><span class="MJXp-mrow" id="MJXp-Span-737"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-738">x</span></span><span class="MJXp-mo" id="MJXp-Span-739" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mo" id="MJXp-Span-740" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-msubsup" id="MJXp-Span-741"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-742" style="margin-right: 0.05em;">w</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-743" style="vertical-align: -0.4em;">0</span></span><span class="MJXp-mo" id="MJXp-Span-744" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-mtext" id="MJXp-Span-745">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-746">s</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-747">u</span><span class="MJXp-msubsup" id="MJXp-Span-748"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-749" style="margin-right: 0.05em;">m</span><span class="MJXp-script-box" style="height: 1.86em; vertical-align: -0.64em;"><span class=" MJXp-script"><span><span style="margin-bottom: -0.25em;"><span class="MJXp-mrow" id="MJXp-Span-754"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-755">l</span><span class="MJXp-mo" id="MJXp-Span-756">+</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-757">m</span></span></span></span></span><span class=" MJXp-script"><span><span style="margin-top: -0.85em;"><span class="MJXp-mrow" id="MJXp-Span-750"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-751">j</span><span class="MJXp-mo" id="MJXp-Span-752">=</span><span class="MJXp-mn" id="MJXp-Span-753">1</span></span></span></span></span></span></span><span class="MJXp-msubsup" id="MJXp-Span-758"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-759" style="margin-right: 0.05em;">w</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-760" style="vertical-align: -0.4em;">j</span></span><span class="MJXp-msubsup" id="MJXp-Span-761"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-762" style="margin-right: 0.05em;">x</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-763" style="vertical-align: -0.4em;">j</span></span></span></span><div class="MathJax_SVG_Display MathJax_SVG_Processing"><span class="MathJax_SVG" id="MathJax-Element-33-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span></div><script type="math/tex;mode=display" id="MathJax-Element-33"> h_ {lin} (\ overline {x}) = w_0 + \ sum_ {j = 1} ^ {l + m} w_jx_j </script></p></li><li>  Poly2: <br>  (2.9) <br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-764"><span class="MJXp-msubsup" id="MJXp-Span-765"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-766" style="margin-right: 0.05em;">h</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-767" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-768">p</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-769">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-770">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-771">y</span><span class="MJXp-mn" id="MJXp-Span-772">2</span></span></span><span class="MJXp-mo" id="MJXp-Span-773" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mtext" id="MJXp-Span-774">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-775">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-776">v</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-777">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-778">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-779">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-780">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-781">n</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-782">e</span><span class="MJXp-mrow" id="MJXp-Span-783"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-784">x</span></span><span class="MJXp-mo" id="MJXp-Span-785" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mo" id="MJXp-Span-786" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-msubsup" id="MJXp-Span-787"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-788" style="margin-right: 0.05em;">w</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-789" style="vertical-align: -0.4em;">0</span></span><span class="MJXp-mo" id="MJXp-Span-790" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-mtext" id="MJXp-Span-791">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-792">s</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-793">u</span><span class="MJXp-msubsup" id="MJXp-Span-794"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-795" style="margin-right: 0.05em;">m</span><span class="MJXp-script-box" style="height: 1.86em; vertical-align: -0.64em;"><span class=" MJXp-script"><span><span style="margin-bottom: -0.25em;"><span class="MJXp-mrow" id="MJXp-Span-800"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-801">l</span><span class="MJXp-mo" id="MJXp-Span-802">+</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-803">m</span></span></span></span></span><span class=" MJXp-script"><span><span style="margin-top: -0.85em;"><span class="MJXp-mrow" id="MJXp-Span-796"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-797">j</span><span class="MJXp-mo" id="MJXp-Span-798">=</span><span class="MJXp-mn" id="MJXp-Span-799">1</span></span></span></span></span></span></span><span class="MJXp-msubsup" id="MJXp-Span-804"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-805" style="margin-right: 0.05em;">w</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-806" style="vertical-align: -0.4em;">j</span></span><span class="MJXp-msubsup" id="MJXp-Span-807"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-808" style="margin-right: 0.05em;">x</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-809" style="vertical-align: -0.4em;">j</span></span><span class="MJXp-mo" id="MJXp-Span-810" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-mtext" id="MJXp-Span-811">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-812">s</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-813">u</span><span class="MJXp-msubsup" id="MJXp-Span-814"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-815" style="margin-right: 0.05em;">m</span><span class="MJXp-script-box" style="height: 1.86em; vertical-align: -0.64em;"><span class=" MJXp-script"><span><span style="margin-bottom: -0.25em;"><span class="MJXp-mrow" id="MJXp-Span-820"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-821">l</span><span class="MJXp-mo" id="MJXp-Span-822">+</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-823">m</span></span></span></span></span><span class=" MJXp-script"><span><span style="margin-top: -0.85em;"><span class="MJXp-mrow" id="MJXp-Span-816"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-817">i</span><span class="MJXp-mo" id="MJXp-Span-818">=</span><span class="MJXp-mn" id="MJXp-Span-819">1</span></span></span></span></span></span></span><span class="MJXp-mtext" id="MJXp-Span-824">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-825">s</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-826">u</span><span class="MJXp-msubsup" id="MJXp-Span-827"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-828" style="margin-right: 0.05em;">m</span><span class="MJXp-script-box" style="height: 1.86em; vertical-align: -0.64em;"><span class=" MJXp-script"><span><span style="margin-bottom: -0.25em;"><span class="MJXp-mrow" id="MJXp-Span-835"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-836">l</span><span class="MJXp-mo" id="MJXp-Span-837">+</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-838">m</span></span></span></span></span><span class=" MJXp-script"><span><span style="margin-top: -0.85em;"><span class="MJXp-mrow" id="MJXp-Span-829"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-830">j</span><span class="MJXp-mo" id="MJXp-Span-831">=</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-832">i</span><span class="MJXp-mo" id="MJXp-Span-833">+</span><span class="MJXp-mn" id="MJXp-Span-834">1</span></span></span></span></span></span></span><span class="MJXp-msubsup" id="MJXp-Span-839"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-840" style="margin-right: 0.05em;">w</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-841" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-842">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-843">j</span></span></span><span class="MJXp-msubsup" id="MJXp-Span-844"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-845" style="margin-right: 0.05em;">x</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-846" style="vertical-align: -0.4em;">i</span></span><span class="MJXp-msubsup" id="MJXp-Span-847"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-848" style="margin-right: 0.05em;">x</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-849" style="vertical-align: -0.4em;">j</span></span></span></span><div class="MathJax_SVG_Display MathJax_SVG_Processing"><span class="MathJax_SVG" id="MathJax-Element-34-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span></div><script type="math/tex;mode=display" id="MathJax-Element-34"> h_ {poly2} (\ overline {x}) = w_0 + \ sum_ {j = 1} ^ {l + m} w_jx_j + \ sum_ {i = 1} ^ {l + m} \ sum_ {j = i + 1 } ^ {l + m} w_ {ij} x_i x_j </script></p></li><li>  FM: <br>  (2.10) <br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-850"><span class="MJXp-msubsup" id="MJXp-Span-851"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-852" style="margin-right: 0.05em;">h</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-853" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-854">F</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-855">M</span></span></span><span class="MJXp-mo" id="MJXp-Span-856" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mtext" id="MJXp-Span-857">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-858">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-859">v</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-860">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-861">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-862">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-863">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-864">n</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-865">e</span><span class="MJXp-mrow" id="MJXp-Span-866"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-867">x</span></span><span class="MJXp-mo" id="MJXp-Span-868" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mo" id="MJXp-Span-869" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-msubsup" id="MJXp-Span-870"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-871" style="margin-right: 0.05em;">w</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-872" style="vertical-align: -0.4em;">0</span></span><span class="MJXp-mo" id="MJXp-Span-873" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-mtext" id="MJXp-Span-874">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-875">s</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-876">u</span><span class="MJXp-msubsup" id="MJXp-Span-877"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-878" style="margin-right: 0.05em;">m</span><span class="MJXp-script-box" style="height: 1.86em; vertical-align: -0.64em;"><span class=" MJXp-script"><span><span style="margin-bottom: -0.25em;"><span class="MJXp-mrow" id="MJXp-Span-883"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-884">l</span><span class="MJXp-mo" id="MJXp-Span-885">+</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-886">m</span></span></span></span></span><span class=" MJXp-script"><span><span style="margin-top: -0.85em;"><span class="MJXp-mrow" id="MJXp-Span-879"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-880">j</span><span class="MJXp-mo" id="MJXp-Span-881">=</span><span class="MJXp-mn" id="MJXp-Span-882">1</span></span></span></span></span></span></span><span class="MJXp-msubsup" id="MJXp-Span-887"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-888" style="margin-right: 0.05em;">w</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-889" style="vertical-align: -0.4em;">j</span></span><span class="MJXp-msubsup" id="MJXp-Span-890"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-891" style="margin-right: 0.05em;">x</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-892" style="vertical-align: -0.4em;">j</span></span><span class="MJXp-mo" id="MJXp-Span-893" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-mtext" id="MJXp-Span-894">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-895">s</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-896">u</span><span class="MJXp-msubsup" id="MJXp-Span-897"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-898" style="margin-right: 0.05em;">m</span><span class="MJXp-script-box" style="height: 1.86em; vertical-align: -0.64em;"><span class=" MJXp-script"><span><span style="margin-bottom: -0.25em;"><span class="MJXp-mrow" id="MJXp-Span-903"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-904">l</span><span class="MJXp-mo" id="MJXp-Span-905">+</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-906">m</span></span></span></span></span><span class=" MJXp-script"><span><span style="margin-top: -0.85em;"><span class="MJXp-mrow" id="MJXp-Span-899"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-900">i</span><span class="MJXp-mo" id="MJXp-Span-901">=</span><span class="MJXp-mn" id="MJXp-Span-902">1</span></span></span></span></span></span></span><span class="MJXp-mtext" id="MJXp-Span-907">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-908">s</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-909">u</span><span class="MJXp-msubsup" id="MJXp-Span-910"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-911" style="margin-right: 0.05em;">m</span><span class="MJXp-script-box" style="height: 1.86em; vertical-align: -0.64em;"><span class=" MJXp-script"><span><span style="margin-bottom: -0.25em;"><span class="MJXp-mrow" id="MJXp-Span-918"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-919">l</span><span class="MJXp-mo" id="MJXp-Span-920">+</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-921">m</span></span></span></span></span><span class=" MJXp-script"><span><span style="margin-top: -0.85em;"><span class="MJXp-mrow" id="MJXp-Span-912"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-913">j</span><span class="MJXp-mo" id="MJXp-Span-914">=</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-915">i</span><span class="MJXp-mo" id="MJXp-Span-916">+</span><span class="MJXp-mn" id="MJXp-Span-917">1</span></span></span></span></span></span></span><span class="MJXp-msubsup" id="MJXp-Span-922"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-923" style="margin-right: 0.05em;">x</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-924" style="vertical-align: -0.4em;">i</span></span><span class="MJXp-msubsup" id="MJXp-Span-925"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-926" style="margin-right: 0.05em;">x</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-927" style="vertical-align: -0.4em;">j</span></span><span class="MJXp-mo" id="MJXp-Span-928" style="margin-left: 0.333em; margin-right: 0.333em;">&lt;</span><span class="MJXp-mtext" id="MJXp-Span-929">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-930">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-931">v</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-932">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-933">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-934">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-935">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-936">n</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-937">e</span><span class="MJXp-msubsup" id="MJXp-Span-938"><span class="MJXp-mrow" id="MJXp-Span-939" style="margin-right: 0.05em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-940">v</span></span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-941" style="vertical-align: -0.4em;">i</span></span><span class="MJXp-mo" id="MJXp-Span-942" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mtext" id="MJXp-Span-943">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-944">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-945">v</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-946">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-947">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-948">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-949">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-950">n</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-951">e</span><span class="MJXp-msubsup" id="MJXp-Span-952"><span class="MJXp-mrow" id="MJXp-Span-953" style="margin-right: 0.05em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-954">v</span></span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-955" style="vertical-align: -0.4em;">j</span></span><span class="MJXp-mo" id="MJXp-Span-956" style="margin-left: 0.333em; margin-right: 0.333em;">&gt;</span></span></span><div class="MathJax_SVG_Display MathJax_SVG_Processing"><span class="MathJax_SVG" id="MathJax-Element-35-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span></div><script type="math/tex;mode=display" id="MathJax-Element-35"> h_ {FM} (\ overline {x}) = w_0 + \ sum_ {j = 1} ^ {l + m} w_jx_j + \ sum_ {i = 1} ^ {l + m} \ sum_ {j = i + 1 } ^ {l + m} x_i x_j <\ overline {v} _i, \ overline {v} _j> </script></p></li></ol><br>  Where <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-957"><span class="MJXp-msubsup" id="MJXp-Span-958"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-959" style="margin-right: 0.05em;">w</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-960" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-961">j</span></span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-36-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-36"> w_ {j} </script>  - model parameters, <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-962"><span class="MJXp-msubsup" id="MJXp-Span-963"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-964" style="margin-right: 0.05em;">v</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-965" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-966">i</span></span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-37-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-37"> v_ {i} </script>  - dimension vectors <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-967"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-968">k</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-38-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-38"> k </script>  representing the attribute <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-969"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-970">i</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-39-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-39"> i </script>  in latent space, <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-971"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-972">l</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-40-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-40"> l </script>  and <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-973"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-974">m</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-41-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-41"> m </script>  - the number of signs of the user and product, respectively.  In addition to one-hot-codes, content attributes (Content-based, CB) (Fig. 2), for example, vectorized descriptions of products and user profiles, can act as attributes. <br><br><img src="https://habrastorage.org/webt/vl/6m/fe/vl6mfev-mfk1x0tzrukny6m-gmm.jpeg"><br>  <i>Fig.</i>  <i>2: Example of an extended feature matrix.</i> <br><br>  The FM model introduced in [2] is a generalization for (2.1) - (2.5), (2.8), (2.10).  The essence of FM is that it takes into account the pairwise interaction of features using the scalar product <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-975"><span class="MJXp-mo" id="MJXp-Span-976" style="margin-left: 0.333em; margin-right: 0.333em;">&lt;</span><span class="MJXp-mtext" id="MJXp-Span-977">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-978">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-979">v</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-980">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-981">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-982">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-983">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-984">n</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-985">e</span><span class="MJXp-msubsup" id="MJXp-Span-986"><span class="MJXp-mrow" id="MJXp-Span-987" style="margin-right: 0.05em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-988">v</span></span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-989" style="vertical-align: -0.4em;">i</span></span><span class="MJXp-mo" id="MJXp-Span-990" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mtext" id="MJXp-Span-991">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-992">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-993">v</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-994">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-995">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-996">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-997">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-998">n</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-999">e</span><span class="MJXp-msubsup" id="MJXp-Span-1000"><span class="MJXp-mrow" id="MJXp-Span-1001" style="margin-right: 0.05em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1002">v</span></span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-1003" style="vertical-align: -0.4em;">j</span></span><span class="MJXp-mo" id="MJXp-Span-1004" style="margin-left: 0.333em; margin-right: 0.333em;">&gt;</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-42-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-42"> <\ overline {v} _i, \ overline {v} _j> </script>  rather than using the parameter <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1005"><span class="MJXp-msubsup" id="MJXp-Span-1006"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1007" style="margin-right: 0.05em;">w</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-1008" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1009">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1010">j</span></span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-43-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-43"> w_ {ij} </script>  .  The advantage of FM relative to Poly2 is to significantly reduce the number of parameters: for vectors <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1011"><span class="MJXp-msubsup" id="MJXp-Span-1012"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1013" style="margin-right: 0.05em;">v</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-1014" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1015">i</span></span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-44-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-44"> v_ {i} </script>  we will need <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1016"><span class="MJXp-mo" id="MJXp-Span-1017" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1018">l</span><span class="MJXp-mo" id="MJXp-Span-1019" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1020">m</span><span class="MJXp-mo" id="MJXp-Span-1021" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mo" id="MJXp-Span-1022" style="margin-left: 0.267em; margin-right: 0.267em;">¬∑</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1023">k</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-45-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-45"> (l + m) ¬∑ k </script>  parameters, and for <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1024"><span class="MJXp-msubsup" id="MJXp-Span-1025"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1026" style="margin-right: 0.05em;">w</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-1027" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1028">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1029">j</span></span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-46-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-46"> w_ {ij} </script>  would need <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1030"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1031">l</span><span class="MJXp-mo" id="MJXp-Span-1032" style="margin-left: 0.267em; margin-right: 0.267em;">¬∑</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1033">m</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-47-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-47"> l ¬∑ m </script>  parameters.  With <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1034"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1035">l</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-48-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-48"> l </script>  and <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1036"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1037">m</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-49-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-49"> m </script>  large orders, the first approach uses significantly fewer parameters. <br><br>  Note: if there is no specific pair in the training set <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1038"><span class="MJXp-mo" id="MJXp-Span-1039" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1040">i</span><span class="MJXp-mo" id="MJXp-Span-1041" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1042">j</span><span class="MJXp-mo" id="MJXp-Span-1043" style="margin-left: 0em; margin-right: 0em;">)</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-50-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-50"> (i, j) </script>  , then the corresponding term with <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1044"><span class="MJXp-msubsup" id="MJXp-Span-1045"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1046" style="margin-right: 0.05em;">w</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-1047" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1048">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1049">j</span></span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-51-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-51"> w_ {ij} </script>  in Poly2, it does not affect the training of the model, and the rating of the rating is formed only along the linear part.  However, approach (2.10) allows you to establish links through other signs.  In other words, the data on one interaction helps to estimate the parameters of features not included in this example. <br><br>  On the basis of FM, a so-called hybrid model is implemented, in which CB-signs are added to CF signs.  It allows you to solve the problem of cold start, and also takes into account user preferences and allows you to make personal recommendations. <br><br><h3>  Lightfm </h3><br>  In the popular implementation of <a href="https://github.com/lyst/lightfm">FM</a> , emphasis is placed on the separation between user and product attributes.  The parameters of the model are matrices. <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1050"><span class="MJXp-msubsup" id="MJXp-Span-1051"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1052" style="margin-right: 0.05em;">E</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-1053" style="vertical-align: 0.5em;">u</span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-52-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-52"> E ^ u </script>  and <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1054"><span class="MJXp-msubsup" id="MJXp-Span-1055"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1056" style="margin-right: 0.05em;">E</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-1057" style="vertical-align: 0.5em;">i</span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-53-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-53"> E ^ i </script>  Submission of custom and product features: <br><br>  (2.11) <br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-1058"><span class="MJXp-msubsup" id="MJXp-Span-1059"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1060" style="margin-right: 0.05em;">E</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-1061" style="vertical-align: 0.5em;">U</span></span><span class="MJXp-mo" id="MJXp-Span-1062" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mtext" id="MJXp-Span-1063">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1064">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1065">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1066">g</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1067">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1068">n</span><span class="MJXp-mrow" id="MJXp-Span-1069"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1070">p</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1071">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1072">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1073">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1074">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1075">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1076">x</span></span><span class="MJXp-mtext" id="MJXp-Span-1077">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1078">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1079">v</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1080">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1081">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1082">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1083">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1084">n</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1085">e</span><span class="MJXp-msubsup" id="MJXp-Span-1086"><span class="MJXp-mrow" id="MJXp-Span-1087" style="margin-right: 0.05em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1088">e</span></span><span class="MJXp-script-box" style="height: 1.86em; vertical-align: -0.64em;"><span class=" MJXp-script"><span><span style="margin-bottom: -0.25em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1090">U</span></span></span></span><span class=" MJXp-script"><span><span style="margin-top: -0.85em;"><span class="MJXp-mn" id="MJXp-Span-1089">1</span></span></span></span></span></span><span class="MJXp-mspace" id="MJXp-Span-1091" style="width: 0em; height: 0em;"></span><span class="MJXp-mtext" id="MJXp-Span-1092">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1093">v</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1094">d</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1095">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1096">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1097">s</span><span class="MJXp-mspace" id="MJXp-Span-1098" style="width: 0em; height: 0em;"></span><span class="MJXp-mtext" id="MJXp-Span-1099">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1100">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1101">v</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1102">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1103">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1104">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1105">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1106">n</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1107">e</span><span class="MJXp-msubsup" id="MJXp-Span-1108"><span class="MJXp-mrow" id="MJXp-Span-1109" style="margin-right: 0.05em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1110">e</span></span><span class="MJXp-script-box" style="height: 1.86em; vertical-align: -0.64em;"><span class=" MJXp-script"><span><span style="margin-bottom: -0.25em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1112">U</span></span></span></span><span class=" MJXp-script"><span><span style="margin-top: -0.85em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1111">l</span></span></span></span></span></span><span class="MJXp-mtext" id="MJXp-Span-1113">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1114">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1115">n</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1116">d</span><span class="MJXp-mrow" id="MJXp-Span-1117"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1118">p</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1119">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1120">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1121">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1122">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1123">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1124">x</span></span><span class="MJXp-mo" id="MJXp-Span-1125" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mspace" id="MJXp-Span-1126" style="width: 0.167em; height: 0em;"></span><span class="MJXp-mspace" id="MJXp-Span-1127" style="width: 0.167em; height: 0em;"></span><span class="MJXp-msubsup" id="MJXp-Span-1128"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1129" style="margin-right: 0.05em;">E</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-1130" style="vertical-align: 0.5em;">I</span></span><span class="MJXp-mo" id="MJXp-Span-1131" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mtext" id="MJXp-Span-1132">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1133">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1134">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1135">g</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1136">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1137">n</span><span class="MJXp-mrow" id="MJXp-Span-1138"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1139">p</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1140">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1141">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1142">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1143">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1144">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1145">x</span></span><span class="MJXp-mtext" id="MJXp-Span-1146">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1147">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1148">v</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1149">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1150">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1151">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1152">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1153">n</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1154">e</span><span class="MJXp-msubsup" id="MJXp-Span-1155"><span class="MJXp-mrow" id="MJXp-Span-1156" style="margin-right: 0.05em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1157">e</span></span><span class="MJXp-script-box" style="height: 1.86em; vertical-align: -0.64em;"><span class=" MJXp-script"><span><span style="margin-bottom: -0.25em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1159">I</span></span></span></span><span class=" MJXp-script"><span><span style="margin-top: -0.85em;"><span class="MJXp-mn" id="MJXp-Span-1158">1</span></span></span></span></span></span><span class="MJXp-mspace" id="MJXp-Span-1160" style="width: 0em; height: 0em;"></span><span class="MJXp-mtext" id="MJXp-Span-1161">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1162">v</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1163">d</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1164">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1165">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1166">s</span><span class="MJXp-mspace" id="MJXp-Span-1167" style="width: 0em; height: 0em;"></span><span class="MJXp-mtext" id="MJXp-Span-1168">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1169">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1170">v</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1171">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1172">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1173">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1174">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1175">n</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1176">e</span><span class="MJXp-msubsup" id="MJXp-Span-1177"><span class="MJXp-mrow" id="MJXp-Span-1178" style="margin-right: 0.05em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1179">e</span></span><span class="MJXp-script-box" style="height: 1.86em; vertical-align: -0.64em;"><span class=" MJXp-script"><span><span style="margin-bottom: -0.25em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1181">I</span></span></span></span><span class=" MJXp-script"><span><span style="margin-top: -0.85em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1180">m</span></span></span></span></span></span><span class="MJXp-mtext" id="MJXp-Span-1182">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1183">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1184">n</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1185">d</span><span class="MJXp-mrow" id="MJXp-Span-1186"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1187">p</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1188">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1189">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1190">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1191">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1192">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1193">x</span></span><span class="MJXp-mo" id="MJXp-Span-1194" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mtext" id="MJXp-Span-1195">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1196">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1197">v</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1198">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1199">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1200">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1201">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1202">n</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1203">e</span><span class="MJXp-msubsup" id="MJXp-Span-1204"><span class="MJXp-mrow" id="MJXp-Span-1205" style="margin-right: 0.05em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1206">e</span></span><span class="MJXp-script-box" style="height: 1.86em; vertical-align: -0.64em;"><span class=" MJXp-script"><span><span style="margin-bottom: -0.25em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1208">U</span></span></span></span><span class=" MJXp-script"><span><span style="margin-top: -0.85em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1207">i</span></span></span></span></span></span><span class="MJXp-mtext" id="MJXp-Span-1209">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1210">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1211">n</span><span class="MJXp-mtext" id="MJXp-Span-1212">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1213">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1214">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1215">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1216">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1217">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1218">b</span><span class="MJXp-msubsup" id="MJXp-Span-1219"><span class="MJXp-mrow" id="MJXp-Span-1220" style="margin-right: 0.05em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1221">R</span></span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-1222" style="vertical-align: 0.5em;">k</span></span><span class="MJXp-mo" id="MJXp-Span-1223" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mtext" id="MJXp-Span-1224">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1225">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1226">v</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1227">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1228">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1229">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1230">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1231">n</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1232">e</span><span class="MJXp-msubsup" id="MJXp-Span-1233"><span class="MJXp-mrow" id="MJXp-Span-1234" style="margin-right: 0.05em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1235">e</span></span><span class="MJXp-script-box" style="height: 1.86em; vertical-align: -0.64em;"><span class=" MJXp-script"><span><span style="margin-bottom: -0.25em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1237">I</span></span></span></span><span class=" MJXp-script"><span><span style="margin-top: -0.85em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1236">i</span></span></span></span></span></span><span class="MJXp-mtext" id="MJXp-Span-1238">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1239">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1240">n</span><span class="MJXp-mtext" id="MJXp-Span-1241">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1242">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1243">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1244">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1245">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1246">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1247">b</span><span class="MJXp-msubsup" id="MJXp-Span-1248"><span class="MJXp-mrow" id="MJXp-Span-1249" style="margin-right: 0.05em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1250">R</span></span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-1251" style="vertical-align: 0.5em;">k</span></span></span></span><div class="MathJax_SVG_Display MathJax_SVG_Processing"><span class="MathJax_SVG" id="MathJax-Element-54-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span></div><script type="math/tex;mode=display" id="MathJax-Element-54"> E ^ U = \ begin {pmatrix} \ overline {e} _1 ^ U \\ \ vdots \\ \ overline {e} _l ^ U \ end {pmatrix}, \, \, E ^ I = \ begin {pmatrix } \ overline {e} _1 ^ I \\ \ vdots \\ \ overline {e} _m ^ I \ end {pmatrix}, \ overline {e} _i ^ U \ in \ mathbb {R} ^ k, \ overline { e} _i ^ I \ in \ mathbb {R} ^ k </script></p><br>  as well as offsets <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1252"><span class="MJXp-mtext" id="MJXp-Span-1253">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1254">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1255">v</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1256">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1257">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1258">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1259">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1260">n</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1261">e</span><span class="MJXp-msubsup" id="MJXp-Span-1262"><span class="MJXp-mrow" id="MJXp-Span-1263" style="margin-right: 0.05em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1264">b</span></span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-1265" style="vertical-align: 0.5em;">U</span></span><span class="MJXp-mo" id="MJXp-Span-1266" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mtext" id="MJXp-Span-1267">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1268">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1269">v</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1270">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1271">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1272">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1273">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1274">n</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1275">e</span><span class="MJXp-msubsup" id="MJXp-Span-1276"><span class="MJXp-mrow" id="MJXp-Span-1277" style="margin-right: 0.05em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1278">b</span></span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-1279" style="vertical-align: 0.5em;">I</span></span><span class="MJXp-mtext" id="MJXp-Span-1280">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1281">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1282">n</span><span class="MJXp-mtext" id="MJXp-Span-1283">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1284">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1285">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1286">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1287">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1288">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1289">b</span><span class="MJXp-msubsup" id="MJXp-Span-1290"><span class="MJXp-mrow" id="MJXp-Span-1291" style="margin-right: 0.05em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1292">R</span></span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-1293" style="vertical-align: 0.5em;">k</span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-55-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-55"> \ overline {b} ^ U, \ overline {b} ^ I \ in \ mathbb {R} ^ k </script>  .  Using user and product views: <br><br>  (2.12) <br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-1294"><span class="MJXp-mtext" id="MJXp-Span-1295">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1296">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1297">v</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1298">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1299">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1300">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1301">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1302">n</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1303">e</span><span class="MJXp-msubsup" id="MJXp-Span-1304"><span class="MJXp-mrow" id="MJXp-Span-1305" style="margin-right: 0.05em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1306">p</span></span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-1307" style="vertical-align: 0.5em;">U</span></span><span class="MJXp-mo" id="MJXp-Span-1308" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mtext" id="MJXp-Span-1309">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1310">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1311">v</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1312">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1313">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1314">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1315">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1316">n</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1317">e</span><span class="MJXp-msubsup" id="MJXp-Span-1318"><span class="MJXp-mrow" id="MJXp-Span-1319" style="margin-right: 0.05em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1320">x</span></span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-1321" style="vertical-align: 0.5em;">U</span></span><span class="MJXp-mtext" id="MJXp-Span-1322">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1323">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1324">d</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1325">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1326">t</span><span class="MJXp-msubsup" id="MJXp-Span-1327"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1328" style="margin-right: 0.05em;">E</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-1329" style="vertical-align: 0.5em;">U</span></span><span class="MJXp-mo" id="MJXp-Span-1330" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mtext" id="MJXp-Span-1331">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1332">s</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1333">u</span><span class="MJXp-msubsup" id="MJXp-Span-1334"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1335" style="margin-right: 0.05em;">m</span><span class="MJXp-script-box" style="height: 1.86em; vertical-align: -0.64em;"><span class=" MJXp-script"><span><span style="margin-bottom: -0.25em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1340">l</span></span></span></span><span class=" MJXp-script"><span><span style="margin-top: -0.85em;"><span class="MJXp-mrow" id="MJXp-Span-1336"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1337">j</span><span class="MJXp-mo" id="MJXp-Span-1338">=</span><span class="MJXp-mn" id="MJXp-Span-1339">1</span></span></span></span></span></span></span><span class="MJXp-msubsup" id="MJXp-Span-1341"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1342" style="margin-right: 0.05em;">x</span><span class="MJXp-script-box" style="height: 1.86em; vertical-align: -0.64em;"><span class=" MJXp-script"><span><span style="margin-bottom: -0.25em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1344">U</span></span></span></span><span class=" MJXp-script"><span><span style="margin-top: -0.85em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1343">j</span></span></span></span></span></span><span class="MJXp-mtext" id="MJXp-Span-1345">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1346">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1347">d</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1348">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1349">t</span><span class="MJXp-mtext" id="MJXp-Span-1350">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1351">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1352">v</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1353">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1354">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1355">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1356">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1357">n</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1358">e</span><span class="MJXp-msubsup" id="MJXp-Span-1359"><span class="MJXp-mrow" id="MJXp-Span-1360" style="margin-right: 0.05em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1361">e</span></span><span class="MJXp-script-box" style="height: 1.86em; vertical-align: -0.64em;"><span class=" MJXp-script"><span><span style="margin-bottom: -0.25em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1363">U</span></span></span></span><span class=" MJXp-script"><span><span style="margin-top: -0.85em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1362">j</span></span></span></span></span></span><span class="MJXp-mo" id="MJXp-Span-1364" style="margin-left: 0em; margin-right: 0.222em;">,</span></span></span><div class="MathJax_SVG_Display MathJax_SVG_Processing"><span class="MathJax_SVG" id="MathJax-Element-56-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span></div><script type="math/tex;mode=display" id="MathJax-Element-56"> \ overline {p} ^ U = \ overline {x} ^ U \ cdot E ^ U = \ sum_ {j = 1} ^ l x_j ^ U \ cdot \ overline {e} _j ^ U, </script></p><br>  (2.13) <br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-1365"><span class="MJXp-mtext" id="MJXp-Span-1366">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1367">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1368">v</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1369">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1370">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1371">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1372">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1373">n</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1374">e</span><span class="MJXp-msubsup" id="MJXp-Span-1375"><span class="MJXp-mrow" id="MJXp-Span-1376" style="margin-right: 0.05em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1377">q</span></span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-1378" style="vertical-align: 0.5em;">I</span></span><span class="MJXp-mo" id="MJXp-Span-1379" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mtext" id="MJXp-Span-1380">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1381">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1382">v</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1383">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1384">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1385">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1386">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1387">n</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1388">e</span><span class="MJXp-msubsup" id="MJXp-Span-1389"><span class="MJXp-mrow" id="MJXp-Span-1390" style="margin-right: 0.05em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1391">x</span></span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-1392" style="vertical-align: 0.5em;">I</span></span><span class="MJXp-mtext" id="MJXp-Span-1393">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1394">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1395">d</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1396">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1397">t</span><span class="MJXp-msubsup" id="MJXp-Span-1398"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1399" style="margin-right: 0.05em;">E</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-1400" style="vertical-align: 0.5em;">I</span></span><span class="MJXp-mo" id="MJXp-Span-1401" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mtext" id="MJXp-Span-1402">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1403">s</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1404">u</span><span class="MJXp-msubsup" id="MJXp-Span-1405"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1406" style="margin-right: 0.05em;">m</span><span class="MJXp-script-box" style="height: 1.86em; vertical-align: -0.64em;"><span class=" MJXp-script"><span><span style="margin-bottom: -0.25em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1411">m</span></span></span></span><span class=" MJXp-script"><span><span style="margin-top: -0.85em;"><span class="MJXp-mrow" id="MJXp-Span-1407"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1408">j</span><span class="MJXp-mo" id="MJXp-Span-1409">=</span><span class="MJXp-mn" id="MJXp-Span-1410">1</span></span></span></span></span></span></span><span class="MJXp-msubsup" id="MJXp-Span-1412"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1413" style="margin-right: 0.05em;">x</span><span class="MJXp-script-box" style="height: 1.86em; vertical-align: -0.64em;"><span class=" MJXp-script"><span><span style="margin-bottom: -0.25em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1415">I</span></span></span></span><span class=" MJXp-script"><span><span style="margin-top: -0.85em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1414">j</span></span></span></span></span></span><span class="MJXp-mtext" id="MJXp-Span-1416">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1417">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1418">d</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1419">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1420">t</span><span class="MJXp-mtext" id="MJXp-Span-1421">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1422">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1423">v</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1424">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1425">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1426">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1427">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1428">n</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1429">e</span><span class="MJXp-msubsup" id="MJXp-Span-1430"><span class="MJXp-mrow" id="MJXp-Span-1431" style="margin-right: 0.05em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1432">e</span></span><span class="MJXp-script-box" style="height: 1.86em; vertical-align: -0.64em;"><span class=" MJXp-script"><span><span style="margin-bottom: -0.25em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1434">I</span></span></span></span><span class=" MJXp-script"><span><span style="margin-top: -0.85em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1433">j</span></span></span></span></span></span><span class="MJXp-mo" id="MJXp-Span-1435" style="margin-left: 0em; margin-right: 0.222em;">,</span></span></span><div class="MathJax_SVG_Display MathJax_SVG_Processing"><span class="MathJax_SVG" id="MathJax-Element-57-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span></div><script type="math/tex;mode=display" id="MathJax-Element-57"> \ overline {q} ^ I = \ overline {x} ^ I \ cdot E ^ I = \ sum_ {j = 1} ^ m x_j ^ I \ cdot \ overline {e} _j ^ I, </script></p><br>  get pair rating <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1436"><span class="MJXp-mo" id="MJXp-Span-1437" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1438">u</span><span class="MJXp-mo" id="MJXp-Span-1439" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1440">i</span><span class="MJXp-mo" id="MJXp-Span-1441" style="margin-left: 0em; margin-right: 0em;">)</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-58-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-58"> (u, i) </script>  : <br><br>  (2.14) <br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-1442"><span class="MJXp-mtext" id="MJXp-Span-1443">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1444">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1445">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1446">t</span><span class="MJXp-msubsup" id="MJXp-Span-1447"><span class="MJXp-mrow" id="MJXp-Span-1448" style="margin-right: 0.05em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1449">r</span></span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-1450" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1451">u</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1452">i</span></span></span><span class="MJXp-mo" id="MJXp-Span-1453" style="margin-left: 0.333em; margin-right: 0.333em;">=&lt;</span><span class="MJXp-mtext" id="MJXp-Span-1454">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1455">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1456">v</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1457">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1458">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1459">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1460">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1461">n</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1462">e</span><span class="MJXp-msubsup" id="MJXp-Span-1463"><span class="MJXp-mrow" id="MJXp-Span-1464" style="margin-right: 0.05em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1465">p</span></span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-1466" style="vertical-align: 0.5em;">U</span></span><span class="MJXp-mo" id="MJXp-Span-1467" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mtext" id="MJXp-Span-1468">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1469">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1470">v</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1471">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1472">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1473">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1474">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1475">n</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1476">e</span><span class="MJXp-msubsup" id="MJXp-Span-1477"><span class="MJXp-mrow" id="MJXp-Span-1478" style="margin-right: 0.05em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1479">q</span></span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-1480" style="vertical-align: 0.5em;">I</span></span><span class="MJXp-mo" id="MJXp-Span-1481" style="margin-left: 0.333em; margin-right: 0.333em;">&gt;</span><span class="MJXp-mo" id="MJXp-Span-1482" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-mo" id="MJXp-Span-1483" style="margin-left: 0.333em; margin-right: 0.333em;">&lt;</span><span class="MJXp-mtext" id="MJXp-Span-1484">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1485">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1486">v</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1487">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1488">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1489">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1490">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1491">n</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1492">e</span><span class="MJXp-msubsup" id="MJXp-Span-1493"><span class="MJXp-mrow" id="MJXp-Span-1494" style="margin-right: 0.05em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1495">x</span></span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-1496" style="vertical-align: 0.5em;">U</span></span><span class="MJXp-mo" id="MJXp-Span-1497" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mtext" id="MJXp-Span-1498">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1499">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1500">v</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1501">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1502">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1503">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1504">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1505">n</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1506">e</span><span class="MJXp-msubsup" id="MJXp-Span-1507"><span class="MJXp-mrow" id="MJXp-Span-1508" style="margin-right: 0.05em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1509">b</span></span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-1510" style="vertical-align: 0.5em;">U</span></span><span class="MJXp-mo" id="MJXp-Span-1511" style="margin-left: 0.333em; margin-right: 0.333em;">&gt;</span><span class="MJXp-mo" id="MJXp-Span-1512" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-mo" id="MJXp-Span-1513" style="margin-left: 0.333em; margin-right: 0.333em;">&lt;</span><span class="MJXp-mtext" id="MJXp-Span-1514">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1515">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1516">v</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1517">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1518">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1519">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1520">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1521">n</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1522">e</span><span class="MJXp-msubsup" id="MJXp-Span-1523"><span class="MJXp-mrow" id="MJXp-Span-1524" style="margin-right: 0.05em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1525">x</span></span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-1526" style="vertical-align: 0.5em;">I</span></span><span class="MJXp-mo" id="MJXp-Span-1527" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mtext" id="MJXp-Span-1528">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1529">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1530">v</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1531">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1532">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1533">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1534">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1535">n</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1536">e</span><span class="MJXp-msubsup" id="MJXp-Span-1537"><span class="MJXp-mrow" id="MJXp-Span-1538" style="margin-right: 0.05em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1539">b</span></span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-1540" style="vertical-align: 0.5em;">I</span></span><span class="MJXp-mo" id="MJXp-Span-1541" style="margin-left: 0.333em; margin-right: 0.333em;">&gt;</span><span class="MJXp-mo" id="MJXp-Span-1542" style="margin-left: 0em; margin-right: 0.222em;">.</span></span></span><div class="MathJax_SVG_Display MathJax_SVG_Processing"><span class="MathJax_SVG" id="MathJax-Element-59-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span></div><script type="math/tex;mode=display" id="MathJax-Element-59"> \ hat {r} _ {ui} = <\ overline {p} ^ U, \ overline {q} ^ I> + <\ overline {x} ^ U, \ overline {b} ^ U> + <\ overline {x} ^ I, \ overline {b} ^ I>. </script></p><br><h3>  Loss functions </h3><br>  In our case, it is necessary to arrange the goods for a specific user so that the more relevant product has a higher rating than the less relevant one.  LightFM implements several loss functions: <br><br><ol><li>  Logistic is an implementation that requires a negative, which is not explicitly represented in most tasks. </li><li>  BPR [3] is to maximize the difference in ratings between positive and negative examples for a particular user.  Negative is obtained by bootstrap sampling.  The quality functionality used in the algorithm is similar to the ROC-AUC. </li><li>  WARP [4] differs from BPR by sampling negative examples and the loss function, which is also ranking, but also optimizes the top recommendations for the user. </li></ol><br><h1>  Practical implementation </h1><br>  To build recommendations for a specified time, a parallel implementation on Spark is used.  For each store, an independent task is started, the execution of which is controlled by luigi. <br><br><h3>  Data preprocessing </h3><br>  Data preprocessing is performed by automatically scaled Spark SQL tools.  The attributes selected for the final model are text descriptions of goods and catalogs with standard transformations. <br><br>  What helped us in dealing with Spark: <br><br><ol><li>  Partitioning of the prepared data (matrix of interactions of users and products, signs for them) in the shops.  This allows you to save time reading data from HDFS at the training stage.  Otherwise, each task has to read the data into the Spark memory and filter it by store ID. </li><li>  Saving / retrieving data to / from Spark is done in parts.  This is due to the fact that in the process of any of these actions, the data is loaded into the memory of the JVM.  Why not just increase the memory for the JVM?  First, then the memory available for learning the model is reduced, and secondly, it is not necessary to store anything in the JVM, it acts in this case as a temporary storage. </li></ol><br><h3>  Model training </h3><br>  The model for each store is trained in its Spark-container, so that you can simultaneously run an arbitrary number of tasks for stores, limited only by cluster resources. <br><br>  In LightFM, there are no early stop mechanisms, therefore, we spend extra resources on additional learning iterations when there is no target metric gain.  We chose AUC as a metric, the relationship of which with CTR is confirmed experimentally. <br><br>  Denote: <br><br><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1543"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1544">S</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-60-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-60"> S </script>  - all known interactions between users and products, that is, pairs <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1545"><span class="MJXp-mo" id="MJXp-Span-1546" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1547">u</span><span class="MJXp-mo" id="MJXp-Span-1548" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1549">i</span><span class="MJXp-mo" id="MJXp-Span-1550" style="margin-left: 0em; margin-right: 0em;">)</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-61-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-61"> (u, i) </script>  , <br><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1551"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1552">I</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-62-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-62"> I </script>  - the set of all goods <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1553"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1554">i</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-63-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-63"> i </script>  , <br><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1555"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1556">U</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-64-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-64"> U </script>  - many all users <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1557"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1558">u</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-65-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-65"> u </script>  . <br>  For a specific user <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1559"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1560">u</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-66-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-66"> u </script>  also introduce <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1561"><span class="MJXp-msubsup" id="MJXp-Span-1562"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1563" style="margin-right: 0.05em;">I</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-1564" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1565">u</span></span></span><span class="MJXp-mo" id="MJXp-Span-1566" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mrow" id="MJXp-Span-1567"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1568">i</span><span class="MJXp-mo" id="MJXp-Span-1569" style="margin-left: 0.333em; margin-right: 0.333em;">‚àà</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1570">I</span><span class="MJXp-mo" id="MJXp-Span-1571" style="margin-left: 0.111em; margin-right: 0.167em;">:</span><span class="MJXp-mo" id="MJXp-Span-1572" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1573">u</span><span class="MJXp-mo" id="MJXp-Span-1574" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1575">i</span><span class="MJXp-mo" id="MJXp-Span-1576" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mo" id="MJXp-Span-1577" style="margin-left: 0.333em; margin-right: 0.333em;">‚àà</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1578">S</span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-67-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-67"> I_ {u} = {i ‚àà I: (u, i) ‚àà S} </script>  - many products with which the user interacts.  AUC can be calculated as follows [ref]: <br><br>  (3.1) <br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-1579"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1580">A</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1581">U</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1582">C</span><span class="MJXp-mo" id="MJXp-Span-1583" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1584">u</span><span class="MJXp-mo" id="MJXp-Span-1585" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mo" id="MJXp-Span-1586" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mtext" id="MJXp-Span-1587">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1588">f</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1589">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1590">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1591">c</span><span class="MJXp-mrow" id="MJXp-Span-1592"><span class="MJXp-mn" id="MJXp-Span-1593">1</span></span><span class="MJXp-mrow" id="MJXp-Span-1594"><span class="MJXp-mrow" id="MJXp-Span-1595"><span class="MJXp-mo" id="MJXp-Span-1596" style="margin-left: 0.167em; margin-right: 0.167em;">|</span></span><span class="MJXp-mtext" id="MJXp-Span-1597">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1598">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1599">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1600">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1601">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1602">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1603">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1604">l</span><span class="MJXp-msubsup" id="MJXp-Span-1605"><span class="MJXp-mrow" id="MJXp-Span-1606" style="margin-right: 0.05em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1607">I</span></span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-1608" style="vertical-align: -0.4em;">u</span></span><span class="MJXp-mrow" id="MJXp-Span-1609"><span class="MJXp-mo" id="MJXp-Span-1610" style="margin-left: 0.167em; margin-right: 0.167em;">|</span></span><span class="MJXp-mrow" id="MJXp-Span-1611"><span class="MJXp-mo" id="MJXp-Span-1612" style="margin-left: 0.167em; margin-right: 0.167em;">|</span></span><span class="MJXp-mtext" id="MJXp-Span-1613">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1614">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1615">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1616">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1617">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1618">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1619">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1620">l</span><span class="MJXp-mrow" id="MJXp-Span-1621"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1622">I</span></span><span class="MJXp-mtext" id="MJXp-Span-1623">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1624">s</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1625">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1626">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1627">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1628">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1629">n</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1630">u</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1631">s</span><span class="MJXp-mtext" id="MJXp-Span-1632">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1633">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1634">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1635">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1636">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1637">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1638">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1639">l</span><span class="MJXp-msubsup" id="MJXp-Span-1640"><span class="MJXp-mrow" id="MJXp-Span-1641" style="margin-right: 0.05em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1642">I</span></span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-1643" style="vertical-align: -0.4em;">u</span></span><span class="MJXp-mrow" id="MJXp-Span-1644"><span class="MJXp-mo" id="MJXp-Span-1645" style="margin-left: 0.167em; margin-right: 0.167em;">|</span></span></span><span class="MJXp-mtext" id="MJXp-Span-1646">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1647">s</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1648">u</span><span class="MJXp-msubsup" id="MJXp-Span-1649"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1650" style="margin-right: 0.05em;">m</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-1651" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1652">i</span><span class="MJXp-mtext" id="MJXp-Span-1653">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1654">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1655">n</span><span class="MJXp-mtext" id="MJXp-Span-1656">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1657">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1658">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1659">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1660">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1661">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1662">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1663">l</span><span class="MJXp-msubsup" id="MJXp-Span-1664"><span class="MJXp-mrow" id="MJXp-Span-1665" style="margin-right: 0.05em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1666">I</span></span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-1667" style="vertical-align: -0.4em;">u</span></span></span></span><span class="MJXp-mtext" id="MJXp-Span-1668">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1669">s</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1670">u</span><span class="MJXp-msubsup" id="MJXp-Span-1671"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1672" style="margin-right: 0.05em;">m</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-1673" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1674">j</span><span class="MJXp-mtext" id="MJXp-Span-1675">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1676">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1677">n</span><span class="MJXp-mtext" id="MJXp-Span-1678">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1679">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1680">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1681">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1682">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1683">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1684">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1685">l</span><span class="MJXp-mrow" id="MJXp-Span-1686"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1687">I</span></span><span class="MJXp-mtext" id="MJXp-Span-1688">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1689">s</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1690">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1691">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1692">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1693">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1694">n</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1695">u</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1696">s</span><span class="MJXp-mtext" id="MJXp-Span-1697">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1698">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1699">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1700">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1701">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1702">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1703">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1704">l</span><span class="MJXp-msubsup" id="MJXp-Span-1705"><span class="MJXp-mrow" id="MJXp-Span-1706" style="margin-right: 0.05em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1707">I</span></span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-1708" style="vertical-align: -0.4em;">u</span></span></span></span><span class="MJXp-mtext" id="MJXp-Span-1709">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1710">d</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1711">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1712">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1713">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1714">a</span><span class="MJXp-mo" id="MJXp-Span-1715" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mtext" id="MJXp-Span-1716">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1717">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1718">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1719">t</span><span class="MJXp-msubsup" id="MJXp-Span-1720"><span class="MJXp-mrow" id="MJXp-Span-1721" style="margin-right: 0.05em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1722">r</span></span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-1723" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1724">u</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1725">i</span></span></span><span class="MJXp-mo" id="MJXp-Span-1726" style="margin-left: 0.333em; margin-right: 0.333em;">&gt;</span><span class="MJXp-mtext" id="MJXp-Span-1727">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1728">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1729">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1730">t</span><span class="MJXp-msubsup" id="MJXp-Span-1731"><span class="MJXp-mrow" id="MJXp-Span-1732" style="margin-right: 0.05em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1733">r</span></span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-1734" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1735">u</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1736">j</span></span></span><span class="MJXp-mo" id="MJXp-Span-1737" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mo" id="MJXp-Span-1738" style="margin-left: 0em; margin-right: 0.222em;">,</span></span></span><div class="MathJax_SVG_Display MathJax_SVG_Processing"><span class="MathJax_SVG" id="MathJax-Element-68-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span></div><script type="math/tex;mode=display" id="MathJax-Element-68"> AUC (u) = \ frac {1} {| \ mathcal {I} _u || \ mathcal {I} \ setminus \ mathcal {I} _u |} \ sum_ {i \ in \ mathcal {I} _u} \ sum_ {j \ in \ mathcal {I} \ setminus \ mathcal {I} _u} \ delta (\ hat {r} _ {ui}> \ hat {r} _ {uj}), </script></p><br>  (3.2) <br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-1739"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1740">A</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1741">U</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1742">C</span><span class="MJXp-mo" id="MJXp-Span-1743" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mtext" id="MJXp-Span-1744">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1745">f</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1746">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1747">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1748">c</span><span class="MJXp-mrow" id="MJXp-Span-1749"><span class="MJXp-mn" id="MJXp-Span-1750">1</span></span><span class="MJXp-mrow" id="MJXp-Span-1751"><span class="MJXp-mrow" id="MJXp-Span-1752"><span class="MJXp-mo" id="MJXp-Span-1753" style="margin-left: 0.167em; margin-right: 0.167em;">|</span></span><span class="MJXp-mtext" id="MJXp-Span-1754">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1755">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1756">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1757">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1758">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1759">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1760">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1761">l</span><span class="MJXp-mrow" id="MJXp-Span-1762"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1763">U</span></span><span class="MJXp-mrow" id="MJXp-Span-1764"><span class="MJXp-mo" id="MJXp-Span-1765" style="margin-left: 0.167em; margin-right: 0.167em;">|</span></span></span><span class="MJXp-mtext" id="MJXp-Span-1766">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1767">s</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1768">u</span><span class="MJXp-msubsup" id="MJXp-Span-1769"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1770" style="margin-right: 0.05em;">m</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-1771" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1772">u</span><span class="MJXp-mtext" id="MJXp-Span-1773">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1774">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1775">n</span><span class="MJXp-mtext" id="MJXp-Span-1776">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1777">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1778">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1779">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1780">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1781">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1782">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1783">l</span><span class="MJXp-mrow" id="MJXp-Span-1784"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1785">U</span></span></span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1786">A</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1787">U</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1788">C</span><span class="MJXp-mo" id="MJXp-Span-1789" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1790">u</span><span class="MJXp-mo" id="MJXp-Span-1791" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mo" id="MJXp-Span-1792" style="margin-left: 0em; margin-right: 0.222em;">.</span></span></span><div class="MathJax_SVG_Display MathJax_SVG_Processing"><span class="MathJax_SVG" id="MathJax-Element-69-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span></div><script type="math/tex;mode=display" id="MathJax-Element-69"> AUC = \ frac {1} {| \ mathcal {U} |} \ sum_ {u \ in \ mathcal {U}} AUC (u). </script></p><br>  In formula (3.1) we need to calculate the rating for all possible pairs. <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1793"><span class="MJXp-mo" id="MJXp-Span-1794" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1795">u</span><span class="MJXp-mo" id="MJXp-Span-1796" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1797">i</span><span class="MJXp-mo" id="MJXp-Span-1798" style="margin-left: 0em; margin-right: 0em;">)</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-70-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-70"> (u, i) </script>  ( <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1799"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1800">u</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-71-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-71"> u </script>  fixed), and also compare ratings for items from <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1801"><span class="MJXp-mtext" id="MJXp-Span-1802">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1803">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1804">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1805">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1806">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1807">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1808">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1809">l</span><span class="MJXp-msubsup" id="MJXp-Span-1810"><span class="MJXp-mrow" id="MJXp-Span-1811" style="margin-right: 0.05em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1812">I</span></span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-1813" style="vertical-align: -0.4em;">u</span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-72-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-72"> \ mathcal {I} _u </script>  with ratings from <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1814"><span class="MJXp-mtext" id="MJXp-Span-1815">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1816">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1817">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1818">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1819">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1820">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1821">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1822">l</span><span class="MJXp-mrow" id="MJXp-Span-1823"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1824">I</span></span><span class="MJXp-mtext" id="MJXp-Span-1825">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1826">s</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1827">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1828">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1829">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1830">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1831">n</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1832">u</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1833">s</span><span class="MJXp-mtext" id="MJXp-Span-1834">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1835">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1836">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1837">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1838">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1839">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1840">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1841">l</span><span class="MJXp-msubsup" id="MJXp-Span-1842"><span class="MJXp-mrow" id="MJXp-Span-1843" style="margin-right: 0.05em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1844">I</span></span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-1845" style="vertical-align: -0.4em;">u</span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-73-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-73"> \ mathcal {I} \ setminus \ mathcal {I} _u </script>  .  Given that the user interacts with the meager part of the range, the complexity of the calculation is <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1846"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1847">O</span><span class="MJXp-mo" id="MJXp-Span-1848" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mrow" id="MJXp-Span-1849"><span class="MJXp-mo" id="MJXp-Span-1850" style="margin-left: 0.167em; margin-right: 0.167em;">|</span></span><span class="MJXp-mtext" id="MJXp-Span-1851">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1852">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1853">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1854">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1855">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1856">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1857">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1858">l</span><span class="MJXp-mrow" id="MJXp-Span-1859"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1860">U</span></span><span class="MJXp-mrow" id="MJXp-Span-1861"><span class="MJXp-mo" id="MJXp-Span-1862" style="margin-left: 0.167em; margin-right: 0.167em;">|</span></span><span class="MJXp-mrow" id="MJXp-Span-1863"><span class="MJXp-mo" id="MJXp-Span-1864" style="margin-left: 0.167em; margin-right: 0.167em;">|</span></span><span class="MJXp-mtext" id="MJXp-Span-1865">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1866">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1867">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1868">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1869">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1870">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1871">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1872">l</span><span class="MJXp-mrow" id="MJXp-Span-1873"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1874">I</span></span><span class="MJXp-mrow" id="MJXp-Span-1875"><span class="MJXp-mo" id="MJXp-Span-1876" style="margin-left: 0.167em; margin-right: 0.167em;">|</span></span><span class="MJXp-mo" id="MJXp-Span-1877" style="margin-left: 0em; margin-right: 0em;">)</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-74-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-74"> O (| \ mathcal {U} || \ mathcal {I} |) </script>  .  At the same time, one era of FM training costs us <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1878"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1879">O</span><span class="MJXp-mo" id="MJXp-Span-1880" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mrow" id="MJXp-Span-1881"><span class="MJXp-mo" id="MJXp-Span-1882" style="margin-left: 0.167em; margin-right: 0.167em;">|</span></span><span class="MJXp-mtext" id="MJXp-Span-1883">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1884">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1885">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1886">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1887">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1888">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1889">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1890">l</span><span class="MJXp-mrow" id="MJXp-Span-1891"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1892">U</span></span><span class="MJXp-mrow" id="MJXp-Span-1893"><span class="MJXp-mo" id="MJXp-Span-1894" style="margin-left: 0.167em; margin-right: 0.167em;">|</span></span><span class="MJXp-mo" id="MJXp-Span-1895" style="margin-left: 0em; margin-right: 0em;">)</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-75-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-75"> O (| \ mathcal {U} |) </script>  . <br><br>  Therefore, we modified the AUC calculation.  First, the sample should be split into training <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1896"><span class="MJXp-mtext" id="MJXp-Span-1897">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1898">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1899">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1900">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1901">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1902">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1903">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1904">l</span><span class="MJXp-msubsup" id="MJXp-Span-1905"><span class="MJXp-mrow" id="MJXp-Span-1906" style="margin-right: 0.05em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1907">S</span></span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-1908" style="vertical-align: 0.5em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1909">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1910">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1911">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1912">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1913">n</span></span></span><span class="MJXp-mtext" id="MJXp-Span-1914">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1915">s</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1916">u</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1917">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1918">s</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1919">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1920">t</span><span class="MJXp-mtext" id="MJXp-Span-1921">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1922">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1923">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1924">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1925">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1926">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1927">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1928">l</span><span class="MJXp-mrow" id="MJXp-Span-1929"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1930">S</span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-76-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-76"> \ mathcal {S} ^ {train} \ subset \ mathcal {S} </script>  and validation <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1931"><span class="MJXp-mtext" id="MJXp-Span-1932">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1933">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1934">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1935">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1936">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1937">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1938">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1939">l</span><span class="MJXp-msubsup" id="MJXp-Span-1940"><span class="MJXp-mrow" id="MJXp-Span-1941" style="margin-right: 0.05em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1942">S</span></span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-1943" style="vertical-align: 0.5em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1944">v</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1945">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1946">l</span></span></span><span class="MJXp-mtext" id="MJXp-Span-1947">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1948">s</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1949">u</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1950">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1951">s</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1952">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1953">t</span><span class="MJXp-mtext" id="MJXp-Span-1954">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1955">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1956">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1957">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1958">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1959">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1960">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1961">l</span><span class="MJXp-mrow" id="MJXp-Span-1962"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1963">S</span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-77-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-77"> \ mathcal {S} ^ {val} \ subset \ mathcal {S} </script>  , and <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1964"><span class="MJXp-mtext" id="MJXp-Span-1965">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1966">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1967">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1968">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1969">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1970">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1971">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1972">l</span><span class="MJXp-msubsup" id="MJXp-Span-1973"><span class="MJXp-mrow" id="MJXp-Span-1974" style="margin-right: 0.05em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1975">S</span></span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-1976" style="vertical-align: 0.5em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1977">v</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1978">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1979">l</span></span></span><span class="MJXp-mo" id="MJXp-Span-1980" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mtext" id="MJXp-Span-1981">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1982">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1983">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1984">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1985">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1986">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1987">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1988">l</span><span class="MJXp-mrow" id="MJXp-Span-1989"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1990">S</span></span><span class="MJXp-mtext" id="MJXp-Span-1991">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1992">s</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1993">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1994">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1995">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1996">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1997">n</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1998">u</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1999">s</span><span class="MJXp-mtext" id="MJXp-Span-2000">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2001">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2002">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2003">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2004">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2005">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2006">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2007">l</span><span class="MJXp-msubsup" id="MJXp-Span-2008"><span class="MJXp-mrow" id="MJXp-Span-2009" style="margin-right: 0.05em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2010">S</span></span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-2011" style="vertical-align: 0.5em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2012">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2013">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2014">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2015">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2016">n</span></span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-78-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-78"> \ mathcal {S} ^ {val} = \ mathcal {S} \ setminus \ mathcal {S} ^ {train} </script>  .  Next, using sampling, we form a multitude of users to validate <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-2017"><span class="noError" id="MJXp-Span-2018" style="display: inline-block;">\&nbsp;mathcal&nbsp;{U}&nbsp;^&nbsp;{val}&nbsp;\&nbsp;subset&nbsp;\&nbsp;{u&nbsp;\&nbsp;in&nbsp;\&nbsp;mathcal&nbsp;{U}:&nbsp;(u,&nbsp;i)&nbsp;\&nbsp;in&nbsp;\&nbsp;mathcal&nbsp;{S}&nbsp;^&nbsp;{val}&nbsp;\}</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-79-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-79"> \ mathcal {U} ^ {val} \ subset \ {u \ in \ mathcal {U}: (u, i) \ in \ mathcal {S} ^ {val} \} </script>  .  For the user <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-2019"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2020">u</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-80-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-80"> u </script>  of <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-2021"><span class="MJXp-mtext" id="MJXp-Span-2022">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2023">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2024">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2025">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2026">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2027">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2028">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2029">l</span><span class="MJXp-msubsup" id="MJXp-Span-2030"><span class="MJXp-mrow" id="MJXp-Span-2031" style="margin-right: 0.05em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2032">U</span></span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-2033" style="vertical-align: 0.5em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2034">v</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2035">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2036">l</span></span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-81-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-81"> \ mathcal {U} ^ {val} </script>  elements of the positive class will be considered a set <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-2037"><span class="noError" id="MJXp-Span-2038" style="display: inline-block;">\&nbsp;mathcal&nbsp;{I}&nbsp;_u&nbsp;^&nbsp;{+}&nbsp;=&nbsp;\&nbsp;{i&nbsp;\&nbsp;in&nbsp;\&nbsp;mathcal&nbsp;{I}:&nbsp;(u,&nbsp;i)&nbsp;\&nbsp;in&nbsp;\&nbsp;mathcal&nbsp;{S}&nbsp;^&nbsp;{val}&nbsp;\}</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-82-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-82"> \ mathcal {I} _u ^ {+} = \ {i \ in \ mathcal {I}: (u, i) \ in \ mathcal {S} ^ {val} \} </script>  similar to <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-2039"><span class="MJXp-mtext" id="MJXp-Span-2040">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2041">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2042">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2043">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2044">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2045">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2046">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2047">l</span><span class="MJXp-msubsup" id="MJXp-Span-2048"><span class="MJXp-mrow" id="MJXp-Span-2049" style="margin-right: 0.05em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2050">I</span></span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-2051" style="vertical-align: -0.4em;">u</span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-83-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-83"> \ mathcal {I} _u </script>  .  As elements of the negative class, take a subsample. <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-2052"><span class="MJXp-mtext" id="MJXp-Span-2053">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2054">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2055">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2056">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2057">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2058">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2059">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2060">l</span><span class="MJXp-msubsup" id="MJXp-Span-2061"><span class="MJXp-mrow" id="MJXp-Span-2062" style="margin-right: 0.05em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2063">I</span></span><span class="MJXp-script-box" style="height: 1.86em; vertical-align: -0.64em;"><span class=" MJXp-script"><span><span style="margin-bottom: -0.25em;"><span class="MJXp-mrow" id="MJXp-Span-2065"><span class="MJXp-mo" id="MJXp-Span-2066">‚àí</span></span></span></span></span><span class=" MJXp-script"><span><span style="margin-top: -0.85em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2064">u</span></span></span></span></span></span><span class="MJXp-mtext" id="MJXp-Span-2067">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2068">s</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2069">u</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2070">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2071">s</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2072">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2073">t</span><span class="MJXp-mtext" id="MJXp-Span-2074">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2075">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2076">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2077">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2078">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2079">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2080">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2081">l</span><span class="MJXp-mrow" id="MJXp-Span-2082"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2083">I</span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-84-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-84"> \ mathcal {I} _u ^ {-} \ subset \ mathcal {I} </script>  so that elements from <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-2084"><span class="MJXp-mtext" id="MJXp-Span-2085">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2086">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2087">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2088">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2089">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2090">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2091">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2092">l</span><span class="MJXp-msubsup" id="MJXp-Span-2093"><span class="MJXp-mrow" id="MJXp-Span-2094" style="margin-right: 0.05em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2095">I</span></span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-2096" style="vertical-align: -0.4em;">u</span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-85-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-85"> \ mathcal {I} _u </script>  .  The size of the subsample can be taken proportional to the size <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-2097"><span class="MJXp-mtext" id="MJXp-Span-2098">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2099">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2100">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2101">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2102">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2103">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2104">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2105">l</span><span class="MJXp-msubsup" id="MJXp-Span-2106"><span class="MJXp-mrow" id="MJXp-Span-2107" style="margin-right: 0.05em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2108">I</span></span><span class="MJXp-script-box" style="height: 1.86em; vertical-align: -0.64em;"><span class=" MJXp-script"><span><span style="margin-bottom: -0.25em;"><span class="MJXp-mrow" id="MJXp-Span-2110"><span class="MJXp-mo" id="MJXp-Span-2111">+</span></span></span></span></span><span class=" MJXp-script"><span><span style="margin-top: -0.85em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2109">u</span></span></span></span></span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-86-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-86"> \ mathcal {I} _u ^ {+} </script>  , i.e <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-2112"><span class="MJXp-mrow" id="MJXp-Span-2113"><span class="MJXp-mo" id="MJXp-Span-2114" style="margin-left: 0.167em; margin-right: 0.167em;">|</span></span><span class="MJXp-mtext" id="MJXp-Span-2115">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2116">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2117">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2118">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2119">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2120">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2121">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2122">l</span><span class="MJXp-msubsup" id="MJXp-Span-2123"><span class="MJXp-mrow" id="MJXp-Span-2124" style="margin-right: 0.05em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2125">I</span></span><span class="MJXp-script-box" style="height: 1.86em; vertical-align: -0.64em;"><span class=" MJXp-script"><span><span style="margin-bottom: -0.25em;"><span class="MJXp-mrow" id="MJXp-Span-2127"><span class="MJXp-mo" id="MJXp-Span-2128">‚àí</span></span></span></span></span><span class=" MJXp-script"><span><span style="margin-top: -0.85em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2126">u</span></span></span></span></span></span><span class="MJXp-mrow" id="MJXp-Span-2129"><span class="MJXp-mo" id="MJXp-Span-2130" style="margin-left: 0.167em; margin-right: 0.167em;">|</span></span><span class="MJXp-mo" id="MJXp-Span-2131" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2132">c</span><span class="MJXp-mtext" id="MJXp-Span-2133">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2134">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2135">d</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2136">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2137">t</span><span class="MJXp-mrow" id="MJXp-Span-2138"><span class="MJXp-mo" id="MJXp-Span-2139" style="margin-left: 0.167em; margin-right: 0.167em;">|</span></span><span class="MJXp-mtext" id="MJXp-Span-2140">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2141">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2142">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2143">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2144">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2145">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2146">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2147">l</span><span class="MJXp-msubsup" id="MJXp-Span-2148"><span class="MJXp-mrow" id="MJXp-Span-2149" style="margin-right: 0.05em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2150">I</span></span><span class="MJXp-script-box" style="height: 1.86em; vertical-align: -0.64em;"><span class=" MJXp-script"><span><span style="margin-bottom: -0.25em;"><span class="MJXp-mrow" id="MJXp-Span-2152"><span class="MJXp-mo" id="MJXp-Span-2153">+</span></span></span></span></span><span class=" MJXp-script"><span><span style="margin-top: -0.85em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2151">u</span></span></span></span></span></span><span class="MJXp-mrow" id="MJXp-Span-2154"><span class="MJXp-mo" id="MJXp-Span-2155" style="margin-left: 0.167em; margin-right: 0.167em;">|</span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-87-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-87"> | \ mathcal {I} _u ^ {-} | = c \ cdot | \ mathcal {I} _u ^ {+} | </script>  .  Then formulas (3.1), (3.2) for calculating AUC will change: <br><br>  (3.3) <br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-2156"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2157">A</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2158">U</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2159">C</span><span class="MJXp-mo" id="MJXp-Span-2160" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2161">u</span><span class="MJXp-mo" id="MJXp-Span-2162" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mo" id="MJXp-Span-2163" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mtext" id="MJXp-Span-2164">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2165">f</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2166">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2167">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2168">c</span><span class="MJXp-mrow" id="MJXp-Span-2169"><span class="MJXp-mn" id="MJXp-Span-2170">1</span></span><span class="MJXp-mrow" id="MJXp-Span-2171"><span class="MJXp-mrow" id="MJXp-Span-2172"><span class="MJXp-mo" id="MJXp-Span-2173" style="margin-left: 0.167em; margin-right: 0.167em;">|</span></span><span class="MJXp-mtext" id="MJXp-Span-2174">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2175">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2176">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2177">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2178">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2179">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2180">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2181">l</span><span class="MJXp-msubsup" id="MJXp-Span-2182"><span class="MJXp-mrow" id="MJXp-Span-2183" style="margin-right: 0.05em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2184">I</span></span><span class="MJXp-script-box" style="height: 1.86em; vertical-align: -0.64em;"><span class=" MJXp-script"><span><span style="margin-bottom: -0.25em;"><span class="MJXp-mrow" id="MJXp-Span-2186"><span class="MJXp-mo" id="MJXp-Span-2187">+</span></span></span></span></span><span class=" MJXp-script"><span><span style="margin-top: -0.85em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2185">u</span></span></span></span></span></span><span class="MJXp-mrow" id="MJXp-Span-2188"><span class="MJXp-mo" id="MJXp-Span-2189" style="margin-left: 0.167em; margin-right: 0.167em;">|</span></span><span class="MJXp-mrow" id="MJXp-Span-2190"><span class="MJXp-mo" id="MJXp-Span-2191" style="margin-left: 0.167em; margin-right: 0.167em;">|</span></span><span class="MJXp-mtext" id="MJXp-Span-2192">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2193">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2194">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2195">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2196">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2197">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2198">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2199">l</span><span class="MJXp-msubsup" id="MJXp-Span-2200"><span class="MJXp-mrow" id="MJXp-Span-2201" style="margin-right: 0.05em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2202">I</span></span><span class="MJXp-script-box" style="height: 1.86em; vertical-align: -0.64em;"><span class=" MJXp-script"><span><span style="margin-bottom: -0.25em;"><span class="MJXp-mrow" id="MJXp-Span-2204"><span class="MJXp-mo" id="MJXp-Span-2205">‚àí</span></span></span></span></span><span class=" MJXp-script"><span><span style="margin-top: -0.85em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2203">u</span></span></span></span></span></span><span class="MJXp-mrow" id="MJXp-Span-2206"><span class="MJXp-mo" id="MJXp-Span-2207" style="margin-left: 0.167em; margin-right: 0.167em;">|</span></span></span><span class="MJXp-mtext" id="MJXp-Span-2208">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2209">s</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2210">u</span><span class="MJXp-msubsup" id="MJXp-Span-2211"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2212" style="margin-right: 0.05em;">m</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-2213" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2214">i</span><span class="MJXp-mtext" id="MJXp-Span-2215">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2216">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2217">n</span><span class="MJXp-mtext" id="MJXp-Span-2218">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2219">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2220">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2221">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2222">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2223">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2224">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2225">l</span><span class="MJXp-msubsup" id="MJXp-Span-2226"><span class="MJXp-mrow" id="MJXp-Span-2227" style="margin-right: 0.05em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2228">I</span></span><span class="MJXp-script-box" style="height: 1.86em; vertical-align: -0.64em;"><span class=" MJXp-script"><span><span style="margin-bottom: -0.25em;"><span class="MJXp-mrow" id="MJXp-Span-2230"><span class="MJXp-mo" id="MJXp-Span-2231">+</span></span></span></span></span><span class=" MJXp-script"><span><span style="margin-top: -0.85em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2229">u</span></span></span></span></span></span></span></span><span class="MJXp-mtext" id="MJXp-Span-2232">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2233">s</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2234">u</span><span class="MJXp-msubsup" id="MJXp-Span-2235"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2236" style="margin-right: 0.05em;">m</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-2237" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2238">j</span><span class="MJXp-mtext" id="MJXp-Span-2239">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2240">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2241">n</span><span class="MJXp-mtext" id="MJXp-Span-2242">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2243">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2244">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2245">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2246">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2247">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2248">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2249">l</span><span class="MJXp-msubsup" id="MJXp-Span-2250"><span class="MJXp-mrow" id="MJXp-Span-2251" style="margin-right: 0.05em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2252">I</span></span><span class="MJXp-script-box" style="height: 1.86em; vertical-align: -0.64em;"><span class=" MJXp-script"><span><span style="margin-bottom: -0.25em;"><span class="MJXp-mrow" id="MJXp-Span-2254"><span class="MJXp-mo" id="MJXp-Span-2255">‚àí</span></span></span></span></span><span class=" MJXp-script"><span><span style="margin-top: -0.85em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2253">u</span></span></span></span></span></span></span></span><span class="MJXp-mtext" id="MJXp-Span-2256">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2257">d</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2258">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2259">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2260">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2261">a</span><span class="MJXp-mo" id="MJXp-Span-2262" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mtext" id="MJXp-Span-2263">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2264">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2265">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2266">t</span><span class="MJXp-msubsup" id="MJXp-Span-2267"><span class="MJXp-mrow" id="MJXp-Span-2268" style="margin-right: 0.05em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2269">r</span></span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-2270" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2271">u</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2272">i</span></span></span><span class="MJXp-mo" id="MJXp-Span-2273" style="margin-left: 0.333em; margin-right: 0.333em;">&gt;</span><span class="MJXp-mtext" id="MJXp-Span-2274">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2275">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2276">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2277">t</span><span class="MJXp-msubsup" id="MJXp-Span-2278"><span class="MJXp-mrow" id="MJXp-Span-2279" style="margin-right: 0.05em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2280">r</span></span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-2281" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2282">u</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2283">j</span></span></span><span class="MJXp-mo" id="MJXp-Span-2284" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mo" id="MJXp-Span-2285" style="margin-left: 0em; margin-right: 0.222em;">,</span></span></span><div class="MathJax_SVG_Display MathJax_SVG_Processing"><span class="MathJax_SVG" id="MathJax-Element-88-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span></div><script type="math/tex;mode=display" id="MathJax-Element-88"> AUC (u) = \ frac {1} {| \ mathcal {I} _u ^ {+} || \ mathcal {I} _u ^ {-} |} \ sum_ {i \ in \ mathcal {I} _u ^ {+}} \ sum_ {j \ in \ mathcal {I} _u ^ {-}} \ delta (\ hat {r} _ {ui}> \ hat {r} _ {uj}), </script></p><br>  (3.4) <br><p></p><p><math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-2286"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2287">A</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2288">U</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2289">C</span><span class="MJXp-mo" id="MJXp-Span-2290" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mtext" id="MJXp-Span-2291">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2292">f</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2293">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2294">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2295">c</span><span class="MJXp-mrow" id="MJXp-Span-2296"><span class="MJXp-mn" id="MJXp-Span-2297">1</span></span><span class="MJXp-mrow" id="MJXp-Span-2298"><span class="MJXp-mrow" id="MJXp-Span-2299"><span class="MJXp-mo" id="MJXp-Span-2300" style="margin-left: 0.167em; margin-right: 0.167em;">|</span></span><span class="MJXp-mtext" id="MJXp-Span-2301">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2302">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2303">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2304">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2305">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2306">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2307">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2308">l</span><span class="MJXp-msubsup" id="MJXp-Span-2309"><span class="MJXp-mrow" id="MJXp-Span-2310" style="margin-right: 0.05em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2311">U</span></span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-2312" style="vertical-align: 0.5em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2313">v</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2314">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2315">l</span></span></span><span class="MJXp-mrow" id="MJXp-Span-2316"><span class="MJXp-mo" id="MJXp-Span-2317" style="margin-left: 0.167em; margin-right: 0.167em;">|</span></span></span><span class="MJXp-mtext" id="MJXp-Span-2318">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2319">s</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2320">u</span><span class="MJXp-msubsup" id="MJXp-Span-2321"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2322" style="margin-right: 0.05em;">m</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-2323" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2324">u</span><span class="MJXp-mtext" id="MJXp-Span-2325">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2326">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2327">n</span><span class="MJXp-mtext" id="MJXp-Span-2328">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2329">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2330">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2331">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2332">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2333">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2334">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2335">l</span><span class="MJXp-msubsup" id="MJXp-Span-2336"><span class="MJXp-mrow" id="MJXp-Span-2337" style="margin-right: 0.05em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2338">U</span></span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-2339" style="vertical-align: 0.5em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2340">v</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2341">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2342">l</span></span></span></span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2343">A</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2344">U</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2345">C</span><span class="MJXp-mo" id="MJXp-Span-2346" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2347">u</span><span class="MJXp-mo" id="MJXp-Span-2348" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mo" id="MJXp-Span-2349" style="margin-left: 0em; margin-right: 0.222em;">.</span></span></span><div class="MathJax_SVG_Display MathJax_SVG_Processing"><span class="MathJax_SVG" id="MathJax-Element-89-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span></div><script type="math/tex;mode=display" id="MathJax-Element-89"> AUC = \ frac {1} {| \ mathcal {U} ^ {val} |} \ sum_ {u \ in \ mathcal {U} ^ {val}} AUC (u). </script></p><br>  As a result, we get a constant time to calculate AUC, since we take only a fixed part of users, and sets <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-2350"><span class="MJXp-mtext" id="MJXp-Span-2351">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2352">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2353">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2354">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2355">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2356">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2357">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2358">l</span><span class="MJXp-msubsup" id="MJXp-Span-2359"><span class="MJXp-mrow" id="MJXp-Span-2360" style="margin-right: 0.05em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2361">I</span></span><span class="MJXp-script-box" style="height: 1.86em; vertical-align: -0.64em;"><span class=" MJXp-script"><span><span style="margin-bottom: -0.25em;"><span class="MJXp-mrow" id="MJXp-Span-2363"><span class="MJXp-mo" id="MJXp-Span-2364">+</span></span></span></span></span><span class=" MJXp-script"><span><span style="margin-top: -0.85em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2362">u</span></span></span></span></span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-90-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-90"> \ mathcal {I} _u ^ {+} </script>  and <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-2365"><span class="MJXp-mtext" id="MJXp-Span-2366">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2367">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2368">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2369">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2370">h</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2371">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2372">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2373">l</span><span class="MJXp-msubsup" id="MJXp-Span-2374"><span class="MJXp-mrow" id="MJXp-Span-2375" style="margin-right: 0.05em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2376">I</span></span><span class="MJXp-script-box" style="height: 1.86em; vertical-align: -0.64em;"><span class=" MJXp-script"><span><span style="margin-bottom: -0.25em;"><span class="MJXp-mrow" id="MJXp-Span-2378"><span class="MJXp-mo" id="MJXp-Span-2379">‚àí</span></span></span></span></span><span class=" MJXp-script"><span><span style="margin-top: -0.85em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2377">u</span></span></span></span></span></span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-91-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-91"> \ mathcal {I} _u ^ {-} </script>  have a small size.  The store learning process stops after AUC (3.4) stops improving. <br><br><h3>  Search for similar objects </h3><br>  As part of the task item2item must be selected for each product. <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-2380"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2381">n</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-92-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-92"> n </script>  (or products that are as similar as possible to him) are those that maximize banner clickability.  Our assumption: the candidates for the banner must be counted from the top <math></math><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-2382"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2383">k</span></span></span><span class="MathJax_SVG MathJax_SVG_Processing" id="MathJax-Element-93-Frame" tabindex="0" style="font-size: 100%; display: inline-block;"></span><script type="math/tex" id="MathJax-Element-93"> k </script>  closest space embeddingings.  We tested the following methods of calculating the ‚Äúnearest neighbors‚Äù: Scala + Spark, ANNOY, SCANNs, HNSW. <br><br><br>  For the Scala + Spark bundle for a store with 500 thousand objects, the calculation of an honest cosine metric took 15 minutes and a significant amount of cluster resources, in connection with which we tested approximate methods for finding the nearest neighbors.  In the study of the SCANNs method, the following parameters were varied: <code>bucketLimit</code> , <code>shouldSampleBuckets</code> , <code>NumHashes</code> and <code>setSignatureLength</code> , but the results were unsatisfactory compared to other methods (much different objects fell into the buckets).  Algorithms ANNOY and HNSW showed results comparable to honest cosine, but worked much faster. <br><br><table><tbody><tr><td></td><td colspan="2">  200k products </td><td colspan="2">  500k products </td><td colspan="2">  2.2m products </td></tr><tr><td>  Algorithm </td><td>  ANNOY </td><td>  Hnsw </td><td>  ANNOY </td><td>  Hnsw </td><td>  ANNOY </td><td>  Hnsw </td></tr><tr><td>  build time <br>  index (sec) </td><td>  59.45 </td><td>  8.64 </td><td>  258.02 </td><td>  25.44 </td><td>  1190.81 </td><td>  90.45 </td></tr><tr><td>  total time (sec) </td><td>  141.23 </td><td>  14.01 </td><td>  527.76 </td><td>  43.38 </td><td>  2081.57 </td><td>  150.92 </td></tr></tbody></table><br><br>  Due to the fact that HNSW worked faster than all algorithms, we decided to stop there. <br>  We also search for the nearest neighbors in the Spark container and write the result to Hive with the appropriate partitioning. <br><br><h1>  Conclusion </h1><br>  Recall: WARP we use for training the model, AUC - for an early stop, and the final quality assessment is carried out using the A / B test on live traffic. <br><br>  We believe that in this place - in the organization of the experiment and the selection of the optimal composition of the banner - ends with data and science begins.  Here we learn to determine whether it makes sense to show recommendations for products for which retargeting has worked;  how many recommendations to show;  how many products viewed, etc.  We will tell about it in the following articles. <br><br>  Further improvements of the algorithm - the search for universal embeddings, which will allow to place the goods of all stores in one space - we carry out within the paradigm described in the beginning of the article. <br><br>  Thanks for attention! <br><br><h1>  Literature </h1><br>  [1] Ricci F., Rokach L., Shapira B. Introduction to recommender systems handbook <br>  // Recommender systems handbook.  - Springer, Boston, MA, 2011. - p. 147160. <br><br>  [2] Rendle S. Factorization machines // 2010 IEEE International Conference on Data Mining.  - IEEE, 2010. - p. 995-1000. <br><br>  [3] Rendle S. et al.  BPR: Bayesian personalized ranking from implicit feedback <br>  // Proceedings of the twenty-fifth conference on artificial intelligence. <br>  - AUAI Press, 2009. - p. 452-461. <br><br>  [4] Weston J., Bengio S., Usunier N. Wsabie: Scaling up to large vocabulary image annotation // Twenty-Second International Joint Conference on Artificial Intelligence.  - 2011. </div><p>Source: <a href="https://habr.com/ru/post/445392/">https://habr.com/ru/post/445392/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../445372/index.html">Machine Vision vs Human Intuition: Algorithms for Disruption of Object Recognition</a></li>
<li><a href="../445378/index.html">Labyrinths: classification, generation, search for solutions</a></li>
<li><a href="../445380/index.html">Modern PHP is beautiful and productive.</a></li>
<li><a href="../445384/index.html">Mission "Chang'e-4" - scientific equipment on the landing module and the satellite transponder</a></li>
<li><a href="../445390/index.html">Idea normal person or why we chose Monaco</a></li>
<li><a href="../445394/index.html">Changes in 3D secure protocol: we meet 3-D Secure 2.0</a></li>
<li><a href="../445398/index.html">Googleology (this is not a typo) for programmers</a></li>
<li><a href="../445402/index.html">Battle shooting at night, or Why load the prod - not scary</a></li>
<li><a href="../445406/index.html">Overview of the program C ++ Russia 2019. What does the next day prepare for us?</a></li>
<li><a href="../445408/index.html">Crossposting posts from Instagram to VK public in Python</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>