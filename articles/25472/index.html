<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>jQuery + AJAX + (Google Search API || Yahoo Search API)</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="As is clear from the title - this post will be devoted to working with the Google Search API and the Yahoo Search API through jQuery JavaScript librar...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>jQuery + AJAX + (Google Search API || Yahoo Search API)</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/getpro/habr/olpictures/a79/647/5e2/a796475e2fe19f87953bccc32f7b6e11.gif" width="168" height="146" hspace="10" vspace="10"><br><br>  As is clear from the title - this post will be devoted to working with the Google Search API and the Yahoo Search API through jQuery JavaScript library. <br><a name="habracut"></a><br><br><h2>  Yahoo Search AJAX API </h2><br>  I'll start by using the <strong>Yahoo Search API</strong> .  And for that there are 2 reasons: <br><ol><li>  Google service is more <a href="http://code.google.com/p/google-ajax-apis/issues/list">buggy</a> than Yahoo (it‚Äôs still green) </li><li>  Yahoo does not pay attention to the ref = "nofollow" attribute, due to which its issue is more complete </li></ol>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      So let's get started, first we need to register a Yahoo account and get an " <a href="http://developer.yahoo.com/wsregapp/index.php">Application Id</a> ". <br><br>  Your favorite bookmark for a while will be <a href="http://developer.yahoo.com/search/">http://developer.yahoo.com/search/</a> . <br><br>  Next, we decide for ourselves what search interests us (all links to the relevant sections of the documentation for the Yahoo API): <br><ul><li>  <a href="http://developer.yahoo.com/search/audio/index.html">Audio Search</a> <br><ul><li>  <a href="http://developer.yahoo.com/search/audio/V1/albumSearch.html">Album Search</a> <br>  <a href="http://developer.yahoo.com/search/audio/V1/artistSearch.html">Artist Search</a> <br>  <a href="http://developer.yahoo.com/search/audio/V1/songDownloadLocation.html">Download Location</a> <br>  <a href="http://developer.yahoo.com/search/audio/V1/songSearch.html">Song search</a> <br><br><br>  <a href="http://developer.yahoo.com/search/autos/autoinstall.html">Autos custom</a> <br>  <a href="http://developer.yahoo.com/search/content/V1/termExtraction.html">Content analysis</a> <br>  <a href="http://developer.yahoo.com/search/image/V1/imageSearch.html">Image Search</a> <br>  <a href="http://developer.yahoo.com/search/local/">Local Search</a> <br><ul><li>  <a href="http://developer.yahoo.com/search/local/V3/localSearch.html">Local Search V3</a> </li></ul><br><br>  <a href="http://developer.yahoo.com/search/myweb/index.html">MyWeb 2.0</a> <br><ul><li>  <a href="http://developer.yahoo.com/search/myweb/V1/relatedTags.html">Related Tags</a> <br>  <a href="http://developer.yahoo.com/search/myweb/V1/tagSearch.html">Tag Search</a> <br>  <a href="http://developer.yahoo.com/search/myweb/V1/urlSearch.html">URL Search</a> <br><br><br>  <a href="http://developer.yahoo.com/search/news/V1/newsSearch.html">News Search</a> <br>  <a href="http://developer.yahoo.com/search/siteexplorer/index.html">Site explorer</a> <br><ul><li>  <a href="http://developer.yahoo.com/search/siteexplorer/V1/pageData.html">Pages</a> <br>  <a href="http://developer.yahoo.com/search/siteexplorer/V1/inlinkData.html">Inlinks</a> <br>  <a href="http://developer.yahoo.com/search/siteexplorer/V1/updateNotification.html">Update Notification</a> <br><br><br>  <a href="http://developer.yahoo.com/search/video/V1/videoSearch.html">Video Search</a> <br>  <a href="http://developer.yahoo.com/search/web/">Web search</a> <br><ul><li>  <a href="http://developer.yahoo.com/search/web/V1/webSearch.html">Web search</a> <br>  <a href="http://developer.yahoo.com/search/web/V1/contextSearch.html">Context search</a> <br>  <a href="http://developer.yahoo.com/search/web/V1/relatedSuggestion.html">Related Queries</a> <br>  <a href="http://developer.yahoo.com/search/web/V1/spellingSuggestion.html">Spelling Suggest</a> <br></li></ul><br><br><br>  There are many of them, but we will choose one - Web Search, and we will continue to experiment on it. <br><br><h3>  We make a REST request </h3><br><br>  Using the links above, we get the base of our URL, for Web Search these are: <br>  <em><a href="http://search.yahooapis.com/WebSearchService/V1/webSearch">search.yahooapis.com/WebSearchService/V1/webSearch</a></em> <br><br>  Add your API ID <em>appid = YahooDemo</em> and <i>query = PHP itself</i> (before adding a query, you must prepare it using the <a href="http://developer.mozilla.org/en/docs/Core_JavaScript_1.5_Reference:Global_Functions:encodeURIComponent">encodeURIComponent</a> function) <br><br>  As a result, we get the following URL: <br><br><blockquote>  <a href="http://search.yahooapis.com/WebSearchService/V1/webSearch%3Fappid%3DYahooDemo%26query%3DPHP">http://search.yahooapis.com/WebSearchService/V1/webSearch?appid=YahooDemo&amp;query=PHP</a> </blockquote><br><br>  This is our necessary minimum, but XML is not the most digestible format for JavaScript, we prefer JSON, and even better than <a href="http://bob.pythonmac.org/archives/2005/12/05/remote-json-jsonp/">JSONP</a> .  To do this, we need to specify the output format using the <i>output</i> parameter.  To use the charms of JSONP, we also need to specify the name of the callback function, and now our URL will look like this: <br><br><blockquote>  <a href="http://search.yahooapis.com/WebSearchService/V1/webSearch%3Fappid%3DYahooDemo%26output%3Djson%26callback%3Dfoo%26query%3DPHP">http://search.yahooapis.com/WebSearchService/V1/webSearch?appid=YahooDemo&amp;output=json&amp;callback=foo&amp;query=PHP</a> </blockquote><br><br><h3>  Javascript </h3><br><br>  Now take jQuery and get the following construction: <br><blockquote><pre> $ .getJSON ("http://search.yahooapis.com/WebSearchService/V1/webSearch?appid=YahooDemo&amp;output=json&amp;query=PHP&amp;callback=?",
 function (data) {
     var ul = document.createElement ("ul");
     $ .each (data.ResultSet.Result, function (i, val) {
            var li = document.createElement ("li");
        	 var inner = '&lt;a href="'+val.Url+'" title="'+val.Url+'" target="_blank"&gt;' + val.Title + "&lt;/a&gt;";
        	 if (val.Summary! = "" &amp;&amp; val.Summary! = "undefined") {
        		 inner + = "-" + val.Summary;
        	 }
        	 li.innerHTML = inner;        						
        	 ul.appendChild (li);
     });
     $ ('body'). html (ul);
 });
</pre></blockquote><br><br>  This example is similar to the following: <br><blockquote><pre> $ .ajax ({
             // AJAX-specified URL
            url: "http://search.yahooapis.com/WebSearchService/V1/webSearch?appid=YahooDemo&amp;output=json&amp;query=PHP&amp;callback=?",
            dataType: "jsonp",
            // Handle the success event
            success: function (data) {
                // equal to previuos example
                // ...
            }
 });
</pre></blockquote><br><br>  <u>Note</u> : we have slightly changed the request - now it ends in <strong>... &amp; callback =?</strong>  - it is necessary that jQuery substituted the correct name of the callback function in the request.  The callback function in this example creates a UL list in which the LI elements will match the search results.  (each type of search has its own, specific fields, see the above links for a more detailed description). <br><br>  As we can see, everything is quite simple - now the output of search results falls entirely on your imagination ... <br><br><h2>  Google Search AJAX API </h2><br><br>  If you have already encountered the Google Search AJAX API, then you know - they have a wonderful JavaScript library that is quite difficult to customize for specific needs, therefore, by analogy with the Yahoo API, we use JSONP.  But first ... we need to get the " <a href="http://code.google.com/apis/ajaxsearch/signup.html">AJAX Search API Key</a> ". <br><br>  Our starting point will be the page: <a href="http://code.google.com/apis/ajaxsearch/documentation/reference.html">http://code.google.com/apis/ajaxsearch/documentation/reference.html</a> <br><br><h3>  We make a REST request </h3><br><br>  Select the type of search, and the corresponding base URL: <br><ul><li>  Web Search - <a href="http://ajax.googleapis.com/ajax/services/search/web">http://ajax.googleapis.com/ajax/services/search/web</a> </li><li>  Local Search - <a href="http://ajax.googleapis.com/ajax/services/search/local">http://ajax.googleapis.com/ajax/services/search/local</a> </li><li>  Video Search - <a href="http://ajax.googleapis.com/ajax/services/search/video">http://ajax.googleapis.com/ajax/services/search/video</a> </li><li>  Blog Search - <a href="http://ajax.googleapis.com/ajax/services/search/blogs">http://ajax.googleapis.com/ajax/services/search/blogs</a> </li><li>  News Search - <a href="http://ajax.googleapis.com/ajax/services/search/news">http://ajax.googleapis.com/ajax/services/search/news</a> </li><li>  Book Search - <a href="http://ajax.googleapis.com/ajax/services/search/books">http://ajax.googleapis.com/ajax/services/search/books</a> </li><li>  Image Search - <a href="http://ajax.googleapis.com/ajax/services/search/images">http://ajax.googleapis.com/ajax/services/search/images</a> </li></ul><br><br>  You need to specify three parameters - this is the API version - <em>v = 1.0</em> , your API Key is <em>key = your-key</em> and the request itself is <em>q = PHP</em> (the key is not a required parameter, but highly recommended): <br><br><blockquote>  <a href="http://ajax.googleapis.com/ajax/services/search/web%3Fv%3D1.0%26q%3DPHP">http://ajax.googleapis.com/ajax/services/search/web?v=1.0&amp;q=PHP</a> </blockquote><br><br>  <u>Note</u> : each type of search has its own specific parameters, all of which are described in the <a href="http://code.google.com/apis/ajaxsearch/documentation/reference.html">documentation</a> . <br><br><h3>  Javascript </h3><br><br>  Now returning to our beloved JSONP - Google has done us a disservice - for the JSONP organization, it provided as many as two parameters - <em>callback</em> and <em>context</em> and they are mutually binding, and the context parameter will always be returned to us in the callback function as the first parameter (this is done for so that we can distinguish between simultaneous calls to the API).  But there is one catch - this is not suitable for working with jQuery, since  jQuery expects data as the first parameter, for this reason I had to go for a trick and create an intermediate callback function: <br><br><blockquote><pre> // callback function
 function GoogleCallback (func, data) {
     window [func] (data);
 }
</pre></blockquote><br><br>  Now we are ready to ‚Äúask‚Äù: <br><blockquote><pre> // change key !!!
 $ .getJSON ("http://ajax.googleapis.com/ajax/services/search/web?v=1.0?key=your-key&amp;q=PHP&amp;callback=GoogleCallback&amp;context=?",
 function (data) {
     var ul = document.createElement ("ul");
     $ .each (data.results, function (i, val) {
        	 var li = document.createElement ("li");
        	 li.innerHTML = '&lt;a href="'+val.url+'" title="'+val.url+'" target="_blank"&gt;' + val.title + "&lt;/a&gt; -" + val.content;  						
        	 ul.appendChild (li);
     });
     $ ('body'). html (ul);
 });
</pre></blockquote><br><br>  <u>Note</u> : each type of results has its own properties, more information can be found in the <a href="http://code.google.com/apis/ajaxsearch/documentation/reference.html">documentation</a> . <br><br>  As you can see, now we are not limited by the ‚Äúcapabilities‚Äù of Google‚Äôs JavaScript library, and we are free to use the data at our discretion, which is what we really wanted ... <br><br>  PS: Using a similar approach - we remove the restriction on the presentation of data, and what is important - we transfer the load from the server to the client (this is how the search is organized on the website <a href="http://analyser.hohli.com/people">analyzer.hohli.com</a> ). <br><br>  Crossposting: <a href="http://anton.shevchuk.name/javascript/jquery-and-google-search-api-or-yahoo-search-api-yahoo-search-api/">http://anton.shevchuk.name/</a> </li></ul></li></ul></li></ul></li></ul></div><p>Source: <a href="https://habr.com/ru/post/25472/">https://habr.com/ru/post/25472/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../254711/index.html">Presentation of speakers of the Desktop UI & Business Application conference. About UI</a></li>
<li><a href="../254713/index.html">Even more jQuery?</a></li>
<li><a href="../254715/index.html">What are good free monads</a></li>
<li><a href="../254717/index.html">On middleware</a></li>
<li><a href="../254719/index.html">The Bresenham algorithm in a soldering furnace - theory</a></li>
<li><a href="../254721/index.html">Practical use of a small vocabulary</a></li>
<li><a href="../254727/index.html">Asynchronous work with Tarantool on Python</a></li>
<li><a href="../25473/index.html">The first release of the project Moonlight</a></li>
<li><a href="../254731/index.html">Improving xaml: Bindable Converters, Switch Converter, Sets</a></li>
<li><a href="../254733/index.html">Using Asterisk to receive data from security systems</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>