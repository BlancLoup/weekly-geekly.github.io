<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Setting up wireless networks on a Cisco controller</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Using my guides on the initial setup and connection of access points to the Wi-Fi controller of the Cisco WLC, you have built the necessary wireless n...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Setting up wireless networks on a Cisco controller</h1><div class="post__text post__text-html js-mediator-article">  Using my guides on the <a href="http://habrahabr.ru/post/145082/">initial setup</a> and <a href="http://habrahabr.ru/post/145677/">connection of access points</a> to the Wi-Fi controller of the Cisco WLC, you have built the necessary wireless network infrastructure.  Now you need to configure the networks themselves (WLAN, SSID), to provide communication services to your users.  About this is the final article of the introductory course of a young fighter.  This is not a translation or copy-paste docks, but a brief squeeze of descriptions of all the required features, checked on their own skin. <br><img src="https://habrastorage.org/storage2/58e/314/c08/58e314c08f025808d91caa7c1edcaffd.gif"><br><br><a name="habracut"></a><br><br>  Although your controller is controlled via the command line (console, ssh), almost all configuration operations are better (faster and more convenient) through the web interface.  The controller is accessible via HTTP (by default; better switch to HTTPS) with the login password set during installation.  In this article we will consider only the configuration of the wireless networks themselves.  The remaining parameters (radio, security, control) and so are set to more or less acceptable values.  In detail, all painted in the <a href="http://www.cisco.com/en/US/docs/wireless/controller/7.0/configuration/guide/c70.html">official documentation</a> , <s>but who reads it</s> .  The purpose of this article is to communicate as clearly as possible the possible settings for an individual wireless network. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Each of your wireless networks is identified by a unique name, or SSID.  Each network can have its own, independent set of authorization, encryption, QoS, additional properties.  Each access point can serve (announce) up to 16 wireless networks.  The controller (depending on the model) can serve up to 512 networks and up to hundreds of access points. <br><br>  All settings are made in the WLANs menu (top picture).  To create a new network, select the menu item ‚ÄúCreate new‚Äù, and set the basic parameters: <br><br><img src="https://habrastorage.org/storage2/97d/bb1/400/97dbb1400dbfcfce6219a4cd00c3d92a.gif"><br>  <u>Network type</u> : WLAN (wireless).  The controller can also work as a Captive Portal for a wired network (Guest LAN) <br>  <u>Profile name</u> : An arbitrary word, usually the name of a network, is used when using ‚Äúadult‚Äù WCS / NCS control systems. <br>  <u>Network Name (SSID)</u> : how your network will be ‚Äúvisible‚Äù to client computers <br>  <u>Identifier (sequence number)</u> : by default, your access points will announce networks with numbers &lt;= 16 <br><br>  Having created a new network, you get into a window with bookmarks, in which all parameters of its work are indicated: <br><br><img src="http://habrastorage.org/storage2/b23/70e/907/b2370e907c52952965d62c6069c96659.gif"><br><br>  <u>Enable</u> enables / disables network access points <br>  <u>Security policy</u> notifies you about the current set of network security policies that are configured further. <br>  <u>Radio policy</u> allows you to choose in what range of frequencies (2.4, 5 GHz) and speeds (up to 11, up to 54 Mb / s) the network will work.  Possible combinations of options.  High Speed ‚Äã‚Äã(802.11n) is a separate article.  Naturally, your points should support the selected ranges. <br>  <u>The interface</u> determines which wired network (sub-) interface (VLAN) of the controller will by default terminate the connections of wireless clients.  You can create several so-called ‚Äúdynamic interfaces‚Äù, each with its own VLAN ID, and distribute your users to them depending on which network they are connected to (which is most often used to provide guest access) <br>  <u>Multicast VLAN</u> determines where in case of several groups of interfaces multicast traffic will go (topic of a separate article) <br>  The last parameter <u>Broadcast SSID</u> determines whether the network name will be reflected in the beacon (announcements) of the packets periodically sent by the access point.  Otherwise it is called ‚Äúopen / closed network‚Äù. <br><br>  The next tab, Security, usually raises the most questions. <br><br><img src="https://habrastorage.org/storage2/600/5f5/c0c/6005f5c0ceb74450fd994d41e7910f86.gif"><br><br>  Wireless security is built from three components: <br><ul><li>  Authorization </li><li>  Encryption </li><li>  Web Policy (optional) </li></ul><br><br>  The first two policies work at OSI level 2, so they are called Layer 2 logically. Authorization is responsible for who to let into the network and how.  Encryption defines the packet encryption algorithm itself in a radio environment.  The web policy allows you to wrap the client HTTP session to the embedded web server of the controller (or external), and request confirmation / login-password through the form. <br><br>  Available 2nd level security options: <br><ul><li>  <u>None</u> - traffic authorization and encryption are not applied (‚Äúinsecure network‚Äù).  Used for guest access in hotspots.  Often combined with a web policy where you connect to the wireless network without question, but when you try to log out of the web browser, the session is intercepted by the controller, and you are forced to enter a login and password, agree to the terms, etc.  (see below). </li><li>  <u>WPA + WPA2</u> - allows you to select a WPA policy or WPA2 (or both), TKIP or AES encryption type (or both).  These parameters are simply announced to customers in beacon packages.  Not all client adapters (especially old ones) are able to understand the modern standard.  If all customers are new, WPA2 / AES is best suited.  Additionally, it is proposed to indicate how the key for encryption will be generated: <br><ul><li>  <u>802.1X</u> - an individual key for each client will be generated by the RADIUS server at the time of authorization.  The safest option, also called WPA (2) Enterprise </li><li>  <u>CCKM</u> - uses its own Cisco key generation mechanism, suitable only for Cisco Wi-Fi phones </li><li>  <u>PSK</u> - shared (pre-shared) key, network password, in this case called WPA (2) Personal </li><li>  <u>802.1x + CCKM</u> - a hybrid of CCKM and RADIUS key (for Cisco phones) </li></ul></li><li>  <u>802.1X</u> - an individual key for each client will be generated by the RADIUS server at the time of authorization.  However, this is a WEP-key, and the radio channel encryption protocol is WEP, which in our time can no longer be used. </li><li>  <u>Static WEP</u> - static WEP key </li><li>  <u>Static WEP + 802.1X</u> - a hybrid of the two previous </li><li>  <u>CKIP</u> is a proprietary analogue of WEP for Cisco phones </li></ul><br><img src="https://habrastorage.org/storage2/0dd/441/e07/0dd441e07825568956a329bd2f9b4c05.gif"><br><br>  Summing up the mini-result on L2 security, we say that in reality it is necessary to make a choice between: <br><ul><li>  No encryption / authorization (guest access) </li><li>  WPA2 (AES) PSK aka "WPA2 Personal" to access the network with a common password </li><li>  WPA2 (AES) + 802.1X aka "WPA2 Enterprise" for access to the network through authorization on a RADIUS server (EAP: by domain account, certificate, etc.) </li></ul><br>  Attention!  High 802.11n connection speeds are only available for networks that use either Security = None, WPA2 / AES / PSK, or WPA2 / AES / 802.1X. <br><br>  Under any option of security / authorization settings, you can enable an additional L3 policy, which is to intercept a client web session: <br><img src="https://habrastorage.org/storage2/e4d/cb5/491/e4dcb549126a856e9b88604581f4cc6b.gif"><br>  The following options are available: <br><br><ul><li>  <u>Authentication</u> - the user sees the login-password input window, which are then checked on the controller (in its local database) or on the RADIUS server </li><li>  <u>Passthrough</u> - the user sees the welcome window, where they can optionally ask him his e-mail address (hereinafter it is not used anywhere and is not checked) </li><li>  <u>Conditional Web Redirect</u> - allows you to redirect the user session to the page specified in the RADIUS response after authorization.  For example, on the recharge page.  After the redirect, the user must log in again. </li><li>  <u>Splash Page Web Redirect</u> - the same, but with access to the network immediately </li><li>  <u>On MAC Filter failure</u> - redirect occurs when a user is blocked by the MAC filter </li></ul><br>  Additionally, you can specify an ACL (access list) for users who have not passed authorization (for example, for a DNS server or an external web server with a logo). <br>  You can also choose which page (form) to show to the user during authorization (standard, self-modified standard, or located on an external web server). <br><br>  When using a RADIUS server, you need to make additional settings.  First of all, specify the authorization server itself in the Security - RADIUS - AAA - Authentication menu: <br><img src="https://habrastorage.org/storage2/73b/016/34f/73b01634fcbe75620732230b7a04df31.gif"><br>  You must specify the following parameters: <br>  <u>IP address of the server</u> .  FreeRADIUS, Cisco ACS, Cisco ISE, Microsoft server are supported. <br>  <u>Shared secret</u> (radius server key) <br>  <u>Network user</u> - the server supports the authorization of Wi-Fi network users <br>  <u>Management</u> - the server supports the authorization of the administrators of the controller itself <br>  The remaining parameters of interest are not. <br>  It is also useful to set the same server for accounting purposes. <br><br>  In the security settings of the wireless network in the AAA servers tab, everything specified by default ensures the operation of all RADIUS servers registered with the controller: <br><img src="https://habrastorage.org/storage2/090/a70/0d6/090a700d668ed6e917b530b93e02ae27.gif"><br>  You can also assign a separate server for this wireless network, disable accounting, enable the mini RADIUS server built into the controller, etc. <br><br>  The QoS tab is responsible for the parameters of quality of service in the network, giving priorities to different types of traffic and users.  It‚Äôs worth bothering if you have a voice, video, a lot of guest users with a large load, and in similar exotic cases in your wireless network. <br><img src="https://habrastorage.org/storage2/fea/3b2/ab6/fea3b2ab6cc18a8bbc8124afb3dcf5de.gif"><br><br>  The last tab, Advanced, describes various ‚Äúadvanced parameters‚Äù of your wireless network, of which there are quite a lot.  Tell about all. <br><img src="https://habrastorage.org/storage2/261/f79/902/261f799024ff0add5dc6458f599205de.gif"><br><br><ul><li>  <u>Allow AAA Override</u> - allows you to transfer additional parameters from the RADIUS server at the time of successful client authorization, and apply them to this client individually.  Such parameters can be VLAN number, local interface name, access list (ACL), URL for redirect, QoS policy, etc. </li><li>  <u>Coverage Hole Detection</u> - controls the mechanism for determining and compensating for insufficient coverage for clients of a given wireless network.  It is recommended to disable guest WLANs. </li><li>  <u>Enable Session Timeout, Session Timeout (secs)</u> - enables and defines the client session timeout during web authorization </li><li>  <u>Aironet IE</u> ‚Äî Includes Cisco-specific beacon frame extensions.  In this case, smart client adapters work better (roaming, energy saving), stupid ones may not work at all in such a network. </li><li>  <u>Diagnostic Channel</u> - activates an additional logical diagnostic channel for CCX5-compatible client adapters </li><li>  <u>IPv6</u> - in reality only allows IPv6 traffic for web authorization </li><li>  <u>Override Interface ACL</u> - allows you to specify an alternative access list (ACL) instead of the one specified on the wired VLAN (management, dynamic) controller interface. </li><li>  <u>P2P Blocking Action</u> - defines the policy of passing traffic between wireless clients (within the controller).  Valid values: Disabled (skip), Drop (do not skip), Forward-UpStream (send to the router, let it decide). </li><li>  <u>Client Exclusion, Timeout Value (secs)</u> - enables and sets the timeout for the exclusion (temporary blocking) of the client, the authorization of which in the wireless network failed. </li><li>  <u>Maximum Allowed Clients</u> - sets the maximum number of simultaneous associations with this network. </li><li>  <u>Static IP Tunneling</u> - allows roaming between controllers to clients with a static IP address </li><li>  <u>Off Channel Scanning Defer, Scan Defer Priority</u> - each point sometimes ‚Äújumps off‚Äù from its working channel (frequency) and listens to other channels for neighboring networks, spectrum cleanliness, ‚Äúbad‚Äù subscribers, etc.  At the same time, such a ‚Äújumping off‚Äù may adversely affect the voice traffic transmitted by this point.  If a dot ‚Äúsees‚Äù packets with a value of 802.1p of the field marked with a check mark (0 1 2 3 4 5 6 7), then the dismount from the working balance will be delayed. </li><li>  <u>Scan Defer Time (msecs)</u> - by how many milliseconds delayed </li><li>  <u>H-REAP Local Switching</u> - allows an access point that is in H-REAP (remote office) mode when servicing this wireless network to ‚Äúlock‚Äù the subscriber traffic locally, rather than transmit to the controller in the CAPWAP tunnel </li><li>  <u>H-REAP Local Auth</u> - allows an access point that is in H-REAP (remote office) mode to maintain authorization for this wireless network locally, and not on the controller </li><li>  <u>Learn Client IP Address</u> - in H-REAP mode, the point will report the client‚Äôs IP address to the controller, if available </li><li>  <u>DHCP Server Override, DHCP Server IP Addr</u> - use the specified IP address of the DHCP server instead of the one specified in the settings of the wired interface of the controller to which the traffic of the wireless clients is ‚Äúlocked‚Äù. </li><li>  <u>DHCP Addr.</u>  <u>Assignment</u> - require the use of a DHCP server by clients of this wireless network (statically configured clients will not work) </li><li>  <u>MFP Client Protection</u> ‚Äî enable and require protection of client frames, the options Disabled (none), Optional (if available) and Required (required, and all your clients must support CCX5) </li><li>  <u>DTIM Period (in beacon intervals)</u> - how often to broadcast / multicast frames, affects the energy efficiency of clients </li><li>  <u>NAC State</u> - selects the operation mode in conjunction with the NAC device. </li><li>  <u>Client Load Balancing</u> - allows balancing clients between access points according to their workload </li><li>  <u>Client Band Select</u> - allows ‚Äúpushing‚Äù of clients into the 5 GHz range, which is more preferable due to its smaller workload </li><li>  <u>Passive Client</u> - allows the operation of client devices that "say little" (like Wi-Fi weights) </li><li>  <u>Media Session Snooping</u> - allows you to "peep" into phone SIP-sessions </li><li>  <u>Re-anchor Roamed Voice Clients</u> - allows you to forcibly transfer between voice controllers that are roaming between controllers </li></ul><br><br>  So, having adjusted the network settings, clicking on the Apply button and not forgetting to save the controller configuration, we try to connect.  Good luck! </div><p>Source: <a href="https://habr.com/ru/post/148903/">https://habr.com/ru/post/148903/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../148896/index.html">About how we vorpsimanii teskkt</a></li>
<li><a href="../148897/index.html">Video review of the laptop (slikbuk) HP ENVY 6</a></li>
<li><a href="../148899/index.html">Object Oriented Functional Metaprogramming</a></li>
<li><a href="../148901/index.html">We use fast exponentiation of matrices to write a very fast interpreter of a simple programming language.</a></li>
<li><a href="../148902/index.html">Nokia 101 Review - Flashlight with Player and $ 35 Phone</a></li>
<li><a href="../148904/index.html">The development of Windows 8 has been completed. The system has moved to the RTM stage</a></li>
<li><a href="../148905/index.html">Duck typing or ‚Äúis old foreach so simple?‚Äù</a></li>
<li><a href="../148906/index.html">Compiling a Fortran software project</a></li>
<li><a href="../148907/index.html">Seven practical methods and tools to optimize the work on the thesis</a></li>
<li><a href="../148909/index.html">Do you know how to set the fitness function using an artificial neural network?</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>