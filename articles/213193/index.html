<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Very simple screen slider</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="When I started to learn android, I really wanted to add a beautiful flipping screens - as in popular applications. I just wanted some semblance of Lin...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Very simple screen slider</h1><div class="post__text post__text-html js-mediator-article">  When I started to learn android, I really wanted to add a beautiful flipping screens - as in popular applications.  I just wanted some semblance of LinearLayout, the contents of which can be scrolled.  However, in order to write a simple slider using ViewPager, it took me a few hours to parse, as well as a whole page of code.  In addition, there were some restrictions - adding an object inside the &lt;ViewPager&gt; tag did not add it to the list of widgets. <br><br>  Having understood, I decided to write my own ScreenPager class, which is inherited from ViewPager and works very simply.  And it works in both xml and pure code. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/466/bed/04d/466bed04da07664e00d3389cdfb787db.png"><br><a name="habracut"></a><br><h1>  Using </h1>  To start, create a simple application.  Let its MainActivity class be in com.example.testapp and have an onCreate method.  Now create the ScreenPager class in the same directory and add the following code there, without delving into it for now: 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <div class="spoiler">  <b class="spoiler_title">ScreenPager.java</b> <div class="spoiler_text"><pre><code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">package</span></span> com.example.testapp; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> android.content.Context; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> android.support.v4.view.PagerAdapter; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> android.support.v4.view.ViewPager; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> android.util.AttributeSet; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> android.view.LayoutInflater; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> android.view.View; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> android.view.ViewGroup; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> java.util.ArrayList; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> java.util.List; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ScreenPager</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ViewPager</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> PagerAdapter adapter = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> ScreenPagerAdapter(); <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> List&lt;View&gt; viewList = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> ArrayList&lt;View&gt;(); <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">ScreenPager</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Context context)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">super</span></span>(context); init(); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">ScreenPager</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(Context context, AttributeSet attrs)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">super</span></span>(context, attrs); init(); } <span class="hljs-meta"><span class="hljs-meta">@Override</span></span> <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> ViewGroup.<span class="hljs-function"><span class="hljs-function">LayoutParams </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">generateLayoutParams</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(AttributeSet attrs)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> ViewGroup.LayoutParams(LayoutParams.MATCH_PARENT, LayoutParams.MATCH_PARENT); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">private</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">init</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ setAdapter(adapter); } <span class="hljs-meta"><span class="hljs-meta">@Override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">addView</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(View child, ViewGroup.LayoutParams params)</span></span></span><span class="hljs-function"> </span></span>{ addScreen(child); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">addScreen</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(View screen)</span></span></span><span class="hljs-function"> </span></span>{ viewList.add(screen); adapter.notifyDataSetChanged(); } <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">ScreenPagerAdapter</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">PagerAdapter</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-meta"><span class="hljs-meta">@Override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">int</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getCount</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> viewList.size(); } <span class="hljs-meta"><span class="hljs-meta">@Override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">boolean</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">isViewFromObject</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(View view, Object o)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> view.equals(o); } <span class="hljs-meta"><span class="hljs-meta">@Override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> Object </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">instantiateItem</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(ViewGroup container, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> position)</span></span></span><span class="hljs-function"> </span></span>{ View view = viewList.get(position); container.addView(view); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> view; } <span class="hljs-meta"><span class="hljs-meta">@Override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">destroyItem</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(ViewGroup container, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> position, Object object)</span></span></span><span class="hljs-function"> </span></span>{ container.removeView((View) object); } } <span class="hljs-comment"><span class="hljs-comment">/** * Use - in MainActivity.onCreate add: * LayoutInflater.from(this).setFactory(ScreenPager.getShortNameFactory()); * * </span><span class="hljs-doctag"><span class="hljs-comment"><span class="hljs-doctag">@return</span></span></span><span class="hljs-comment"> */</span></span> <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> LayoutInflater.<span class="hljs-function"><span class="hljs-function">Factory </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getShortNameFactory</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> LayoutInflater.Factory() { <span class="hljs-meta"><span class="hljs-meta">@Override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> View </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">onCreateView</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(String name, Context context, AttributeSet attrs)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (ScreenPager.class.getSimpleName().equals(name)) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> ScreenPager(context, attrs); } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>; } }; } }</code> </pre> </div></div><br>  Now you can create a screenpager.xml file in your res / layout and put the following code there <br><br><pre> <code class="xml hljs"><span class="hljs-meta"><span class="hljs-meta">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">com.example.testapp.ScreenPager</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">xmlns:a</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"http://schemas.android.com/apk/res/android"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">a:layout_width</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"match_parent"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">a:layout_height</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"match_parent"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Button</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">a:text</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">" ‚Ññ 1"</span></span></span><span class="hljs-tag"> /&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Button</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">a:text</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">" ‚Ññ 2"</span></span></span><span class="hljs-tag"> /&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Button</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">a:text</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">" ‚Ññ 3"</span></span></span><span class="hljs-tag"> /&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Button</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">a:text</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">" ‚Ññ 4"</span></span></span><span class="hljs-tag"> /&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">com.example.testapp.ScreenPager</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br>  If you manually create a file, do not forget to save it in UTF-8 encoding.  And do not forget that strings should be stored in string resources, and not inserted directly.  In this article, I intentionally did not do this in order to simplify the code. <br><br>  Now add one line to MainActivity.onCreate <br><br><pre> <code class="java hljs">setContentView(R.layout.screenpager);</code> </pre> <br>  Everything!  Slider works.  But the long name com.example.testapp is ugly.  We want to make everything as simple as possible, right? <br><br>  It turned out that the system allows using short names only for classes from android.view or android.widget.  If we want to do this for our class, we should override the Factory for the LayoutInflater.  I wrote the getShortNameFactory method, which returns a special factory that allows you to use an abbreviated name for our class.  Install it in the onCreate method, and you need to do this before setContentView: <br><br><pre> <code class="java hljs">LayoutInflater.from(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>).setFactory(ScreenPager.getShortNameFactory());</code> </pre> <br>  Also import LayoutInflater if your IDE does not do it for you: <br><br><pre> <code class="java hljs"><span class="hljs-keyword"><span class="hljs-keyword">import</span></span> android.view.LayoutInflater;</code> </pre> <br>  Now we can use use the abbreviated name of our class: <br><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">ScreenPager</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">xmlns:a</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"http://schemas.android.com/apk/res/android"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">a:layout_width</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"match_parent"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">a:layout_height</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"match_parent"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Button</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">a:text</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">" ‚Ññ 1"</span></span></span><span class="hljs-tag"> /&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Button</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">a:text</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">" ‚Ññ 2"</span></span></span><span class="hljs-tag"> /&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Button</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">a:text</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">" ‚Ññ 3"</span></span></span><span class="hljs-tag"> /&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Button</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">a:text</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">" ‚Ññ 4"</span></span></span><span class="hljs-tag"> /&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">ScreenPager</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br>  But that is not all!  You can build your screens in code, and this is also simple: <br><br><pre> <code class="java hljs">ScreenPager screenPager = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> ScreenPager(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>); Button button1 = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Button(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>); button1.setText(<span class="hljs-string"><span class="hljs-string">" ‚Ññ1"</span></span>); screenPager.addScreen(button1); Button button2 = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Button(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>); button2.setText(<span class="hljs-string"><span class="hljs-string">" ‚Ññ2"</span></span>); screenPager.addScreen(button2); <span class="hljs-comment"><span class="hljs-comment">//... setContentView(screenPager);</span></span></code> </pre> <br>  Use on health.  Instead of buttons, you can insert your layout managers or any other is-a View objects.  True, your development environment (in my case, this is Android Studio) can swear at the lack of layout_width and layout_height, but this warning can be easily disabled. <br><br>  I post the <a href="">full source code of the</a> example. <br><br><h1>  Details </h1>  How ViewPager and PagerAdapter work, you can read <a href="http://habrahabr.ru/post/131889/">in this article</a> .  Actually, I studied them for her. <br><br>  The ScreenPager class is inherited from ViewPager and includes a non-static nested class - ScreenPagerAdapter, which is inherited from the PagerAdapter.  If you need to get it, it can be done through getAdapter ().  Also inside ScreenPager is a list from View, with which it should work. <br><br>  When the xml-code is processed, addView is invoked for each object inside the ScreenPager tag.  We redefined this function and it redirects the View to addScreen to add it to the collection and notify the adapter about it.  Thus, both cases ‚Äî the creation of the slider through the code, and through the xml ‚Äî pass through addScreen. <br><br>  Next, I added a small static function that returns the LayoutInflater.Factory.  We simply check the short name of our class - how much it coincides with the name of the tag - and, if successful, we return our object. <br><br>  And now the fun part.  You probably noticed that, for example, LinearLayout forces all children to specify layout_width and layout_height.  And GridLayout does not require this.  I really wanted to free the users of my widget from such redundant code, in this case also not meaningful.  I had to read a lot about the creation of custom container components.  But there was no necessary information.  And only a study of the source code GridLayout answered this question.  It turns out that it is enough to override generateLayoutParams and return ViewGroup.LayoutParams (LayoutParams.MATCH_PARENT, LayoutParams.MATCH_PARENT).  And this is all - now all child widgets can be specified without height and width attributes. <br><br>  Finally, I will talk about one interesting feature that I stumbled upon.  You can achieve reduced use of ScreenPager without LayoutInflater.from (this) .setFactory.  Let's reason logically.  Android searches for abbreviated names in the android.view package.  Actually, nothing prevents us in our src folder from creating the android folder on a par with the com folder.  And it already has a folder view and place the file ScreenPager.java there, not forgetting to change the name of the package inside the file itself.  And it compiles perfectly and runs!  Try it.  However, putting your classes in other people's packages is not a good approach.  Rather just an interesting moment. </div><p>Source: <a href="https://habr.com/ru/post/213193/">https://habr.com/ru/post/213193/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../213179/index.html">ORM in PHP to be or not to be?</a></li>
<li><a href="../213181/index.html">Experience in developing an intelligent tutorial interface</a></li>
<li><a href="../213183/index.html">Application of the Pareto chart to analyze the reasons for the backlog</a></li>
<li><a href="../213187/index.html">How to delete 1,500,000 entries from Yahoo database</a></li>
<li><a href="../213191/index.html">Investigating the obfuscation of the Linksys WRT120N firmware</a></li>
<li><a href="../213195/index.html">Fitbit for the brain: a cognitive activity tracker</a></li>
<li><a href="../213197/index.html">BigRep One: A New 3D Printer That Can Print Entire Furniture</a></li>
<li><a href="../213199/index.html">A little note on how to make friends with Heroku, Kraken.js and Sockjs</a></li>
<li><a href="../213201/index.html">Another money transfer protection</a></li>
<li><a href="../213205/index.html">Filling the stack in fprintf on Linksys WRT120N</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>