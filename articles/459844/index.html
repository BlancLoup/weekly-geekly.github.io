<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Penguin in the window: the potential and prospects for WSL2</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hi, Habr! 

 While the summer sale is going on with might and main, we would like to invite you to discuss one of the most ambitious topics that we ha...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Penguin in the window: the potential and prospects for WSL2</h1><div class="post__text post__text-html js-mediator-article">  Hi, Habr! <br><br>  While the <a href="https://habr.com/ru/company/piter/blog/459322/">summer sale</a> is going on with might and main, we would like to invite you to discuss one of the most ambitious topics that we have been working on recently - the interaction between Windows and Linux, related in particular to the development of the <a href="https://ru.wikipedia.org/wiki/Windows_Subsystem_for_Linux">WSL</a> system.  WSL 2 is already on the way, and you are invited to a brief overview of the features that await us in this subsystem, as well as a forecast of further integration of Windows and Linux. <br><br><img src="https://habrastorage.org/webt/sf/7z/-l/sf7z-l-19-r45869bvb9fsbemok.jpeg"><br><a name="habracut"></a><br>  In May of this year, Microsoft announced that WSL2, the latest version of the Windows subsystem on Linux, will run on a full-fledged Linux kernel built by the company. <br>  Thus, for the first time Microsoft has included the Linux kernel as one of its components in Windows.  Microsoft also introduces a command line to Windows that will expand PowerShell and WSL. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Both the Linux kernel for WSL2, created by Microsoft, and the new Windows command line are interesting, first of all, for developers. <br><br>  ‚ÄúThis is the strongest move in the game against AWS,‚Äù notes Joshua Schwartz, head of digitalization programs at consulting firm AT Kearney. <br><br>  The future of Microsoft is not related to the PC market, although it will continue to firmly hold positions in this segment.  Much more important will be to gain a foothold in the cloud market, one of the components of which in the future can become desktop PCs. <br><br><h4>  What WSL2 does </h4><br>  WSL2 is the latest Windows subsystem infrastructure for Linux.  It allows you to dramatically improve the performance of the file system and provides full compatibility with system calls. <br><br>  One of the main requests of the WSL-community was related to the improvement of the functional.  WSL2 runs much more tools under Linux than WSL, in particular, Docker and FUSE. <br>  WSL2 handles intensive file operations, in particular, git clone, npm install, apt update and apt upgrade.  The actual increase in speed depends on the particular application and how it interacts with the file system. <br><br>  The first tests showed that WSL2 is about 20 times faster than WSL1 copes with unpacking tar from zip.  When using git clone, npm install and cmake in various projects, the system showed a performance increase of two to five times. <br><br><h4>  Will it win the trust of the developers? </h4><br>  In essence, Microsoft is seeking to gain recognition and trust in the developer community, taking on the development of its own version of the Linux kernel to support WSL2 processes, says Cody Swann, CEO at Gunner Technology. <br><br>  ‚ÄúApart from developing strictly under Windows, creating all other applications ‚Äî cloud, mobile, web applications ‚Äî on a PC was extremely inconvenient, which is why the developer somehow had to download the Linux distribution package in parallel with the Windows OS.  Microsoft recognized this and proposed a solution, ‚Äùhe concludes. <br><br>  It is unlikely that the introduction of its own Linux kernel will seriously affect the work with the system from the point of view of a regular user.  In this case, however, opportunities open up for closer interaction between Microsoft services and the Linux operating system. <br>  Such a move on the part of Microsoft is really very literate, because it helps to penetrate deeper into the developer community, and also actively use products that someone else is developing - that is, connecting to the open source, says Swann. <br><br><h4>  Welcome to New Microsoft </h4><br>  The trend towards the creation and support of the Linux kernel ‚Äúspecifically for Windows‚Äù reflects the decisive direction of development towards open-source, which is promoted by the CEO Satya Nadella.  Microsoft is no longer the one with Gates and Balmer, when everything was kept behind a proprietary palisade, and no one thought about interoperability. <br><br>  ‚ÄúSatya has completely transformed Microsoft into a much more modern platform, and this strategy has paid off handsomely.  Hi, capitalization is trillions of dollars, ‚Äùsays Schwartz. <br><br>  According to Charles King, chief analyst at Pund-IT, Microsoft‚Äôs two main strengths are related to efficiency and security. <br><br>  ‚ÄúBy actively using its own serious developments - resources and tools - the company can guarantee customers that the kernel will be fully up to date and equipped with the latest patches and patches that ensure complete security,‚Äù he adds. <br><br><h4>  Developers also win </h4><br>  Linux binaries perform many functions using system calls, such as accessing files, requesting memory, and creating processes.  WSL1 relies on a translation layer that interprets many of these system calls and allows them to interact with the Windows NT kernel. <br><br>  The most difficult thing is to implement all system calls.  Since this was not done in WSL1, some applications could not work there.  In WSL2, there are many new applications that work normally in this environment. <br><br>  New architecture allows Microsoft to bring the latest optimizations to the Linux kernel much faster than with WSL1.  Microsoft can update the WSL2 core, and not re-implement all restrictions. <br><br><h4>  Fully open source tool </h4><br>  Microsoft‚Äôs own Linux kernel development has been the culmination of many years of work done by the Linux Systems Group, as well as many other teams operating throughout Microsoft, says Jack Hammons, program manager for the Linux Systems Group, Microsoft. <br><br>  The kernel provided for WSL2 will be completely open source, and Microsoft will post on GitHub instructions on how to build such a kernel.  The company will interact with developers who want to help the project and stimulate upward changes. <br><br>  Microsoft developers created WSL2 using continuous integration and continuous delivery systems operating in the company.  This software will be serviced through the Windows update system and will be completely transparent to the user.  The kernel will remain relevant and include all the features of the newest stable Linux branch. <br><br>  To ensure the availability of source code, the company mirrors the repositories locally, as well as constantly monitors the contents of the Linux mailing list on security issues, and also collaborates with several companies that support work with databases in the corporate virtual environment (CVE).  In this way, it is guaranteed that the latest updates will be taken into account in the Microsoft Linux kernel and all emerging threats will be eliminated. <br><br><h4>  Ascending changes become mandatory. </h4><br>  Microsoft ensures that all kernel changes will propagate in an upstream direction ‚Äî an important aspect of the Linux philosophy.  Support for downstream patches comes with added complexity;  in addition, this practice is not generally accepted in the free development community. <br><br>  The goal of Microsoft actively using Linux is to become a disciplined member of this community and deliver changes to the community order.  In order to achieve stability of branches related to long-term support, some patches ‚Äî for example, those containing new features ‚Äî can only be included in new kernel versions, and not be ported to the current version of LTS in backward compatibility mode. <br><br>  When the WSL kernel sources are available, they will consist of references to a set of patches and from the long-playing stable part of the sources.  Microsoft expects that this list will shrink over time as the patches propagate upstream, and new local patches will be added to support the latest WSL features. <br><br><h4>  More pleasant window decoration </h4><br>  Microsoft also announced the release of the upcoming "winter" version of Windows Terminal - a new application for users working with command-line tools and shells, in particular, Command Prompt, PowerShell and WSL. <br><br><img src="https://habrastorage.org/webt/kc/2k/-e/kc2k-ebxdwhe69qulqrlbkc6f_q.jpeg"><br><br>  <i>Terminal windows</i> <br><br>  Windows Terminal 1.0 offers a lot of settings and configuration options that give you more control over the appearance of the terminal window, as well as over the shells / profiles that should open as new tabs. <br><br>  The settings will be saved in a structured text file, making them easy to configure and arrange the terminal window to your taste. <br><br>  Microsoft stops updating the existing Windows console, and creates a new one from scratch, deciding to take a fresh approach.  Windows Terminal is installed and running in parallel with the existing Windows Console application supplied out of the box. <br><br><h4>  How it works </h4><br>  When a Windows 10 user directly starts Cmd / PowerShell / etc, the process attached to the normal Console instance is triggered.  The new terminal configuration mechanism allows Windows users to create multiple profiles for all desired shells / applications / tools, whether in PowerShell, the command line, Ubuntu, or even SSH connections to Azure or Internet of Things devices. <br><br>  In these profiles, you can provide your own combinations of design and size of the font, color themes, blur levels or background transparency.  In addition, users will be able to choose a new fixed-width font so that the terminal window looks more modern and cooler.  Programmer ligatures are provided in this font, it will be laid out in open access and will be stored in its own repository. <br><br>  The main advantages of the new Windows command interface are a lot of tabs and beautiful text.  Support for multiple tabs was considered the most requested request for terminal development.  Beautiful text is obtained through the rendering engine based on DirectWrite / DirectX, equipped with GPU-accelerated. <br><br>  The engine displays text icons, glyphs and special characters available in fonts, including Chinese, Japanese and Korean ideograms (CJK), emoji, powerline symbols, icons, and programmer ligatures.  In addition, this engine displays text much faster than GDI, previously used in the console. <br><br>  Backward compatibility remains in good order, although, if desired, you can try Windows Terminal. <br><br><h4>  Chronology: how it will be </h4><br>  Microsoft will provide Windows Terminal through the Microsoft Store in Windows 10 and update it regularly.  Thus, users will always work with the latest versions and the latest updates - almost without any extra effort. <br><br>  Microsoft plans to launch a new terminal next winter.  After Microsoft rolls out Windows Terminal 1.0, developers will continue to pursue the many features already put back into backlog. <br><br>  The source code for Windows Terminal and the Windows Console is <a href="https://github.com/Microsoft/Terminal">already available</a> on GitHub. <br><br><h4>  What can we expect in the future? </h4><br>  The possibility that Microsoft will use its own Linux kernel for other purposes, for example, to develop its Linux distribution, today seems somewhat hypothetical. <br><br>  Probably, the outcome depends on whether Microsoft will be able to detect a noticeable demand for such a product, and what kind of commercial opportunities could potentially open up such developments, says Charles King. <br><br>  He thinks that in the foreseeable future, the company will focus its main work on ensuring the ever closer compatibility between Windows and Linux and their mutual complementarity. <br><br>  Joshua Schwartz believes that in this case it will be necessary to weigh what investments will be made in this work, and what will be the return from it.  If today Microsoft was a very young company, it probably would have done everything based on Linux.  However, porting all the developments that Microsoft already has to the native Linux architecture is now a costly and difficult project that hardly pays for itself well.  Linux lovers will get their own Linux, and the main architecture will remain untouched. <br><br>  When Apple re-invented Mac OS in 2000, this operating system was based on BSD Unix, which is more similar to Linux than DOS.  Today, a new version of Microsoft Windows is created based on Linux. <br><br><h4>  Perhaps a new door is opening before us? </h4><br>  The Microsoft Linux kernel can open the way for closer interaction between Windows services and the Linux operating system.  In essence, these developments of Microsoft indicate that Microsoft itself already understands: today there are almost no customers left who prefer to exist in a world where Windows is everywhere. <br><br>  It is much more reasonable to use heterogeneous technologies and systems that best meet business requirements and specific practical situations. <br><br>  The more important strategic question is, what new strategic opportunities does this move open for the Microsoft platform itself? <br><br>  Azure - Microsoft's cloud-based ecosystem - already provides tremendous support for Linux.  Previously, Windows was well supported by Linux using virtual machines. <br><br>  The principal changes taking place today are due to the fact that now Linux processes will be natively executed on the Windows kernel, which means that working with Linux from Windows will go much faster than on virtual machines.  It is likely that as a result, Azure will be enriched by a whole layer of engineers using Linux on an industrial scale. </div><p>Source: <a href="https://habr.com/ru/post/459844/">https://habr.com/ru/post/459844/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../45983/index.html">The story with the "hacker Danila"</a></li>
<li><a href="../459830/index.html">Of course, they gave power and turn from a machine gun. Cancer and more ... experience with medicine</a></li>
<li><a href="../459832/index.html">9 rules cool extension for Visual Studio</a></li>
<li><a href="../459840/index.html">XAML Hot Reload Preview for Xamarin.Forms has been released</a></li>
<li><a href="../459842/index.html">Luxor</a></li>
<li><a href="../45985/index.html">Chrome will support extensions.</a></li>
<li><a href="../459850/index.html">Amateur radio technology: how I ordered the installation of a PCB in a Chinese factory</a></li>
<li><a href="../459852/index.html">The practice of using the lottie library in the bank‚Äôs mobile application</a></li>
<li><a href="../459858/index.html">Research of modern Malware Cerberus for Android</a></li>
<li><a href="../459860/index.html">Configure ClickHouse for integration testing in gitlab-ci</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>