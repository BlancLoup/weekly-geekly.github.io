<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>We program in the world of Minecraft</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Habr, hello! While everyone is discussing AI in the world of Pacman , we will start making your AI in Minecraft with the Malmo framework from Microsof...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>We program in the world of Minecraft</h1><div class="post__text post__text-html js-mediator-article">  Habr, hello!  While everyone is discussing <a href="https://tproger.ru/news/microsoft-ms-pac-man-ai/">AI in the world of Pacman</a> , we will start making your AI in Minecraft with the Malmo framework from Microsoft Research.  We will have a pacman too.  If you like the cubic world, or you would like to start studying artificial intelligence, or you have children with whom you can not find common hobbies, or you are just interested in the topic - I ask under the cat. <br><br><img src="https://habrastorage.org/web/501/efe/a10/501efea106814990941383dc54be17b1.jpg"><br><a name="habracut"></a><br>  In this article I will try to cover several topics: <br><br><ul><li>  Express your opinion about the madness of children on a cubic toy </li><li>  I'll tell you about the main idea of ‚Äã‚ÄãMalmo </li><li>  I will show a few examples with the code and give an understanding of where to go next </li><li>  I'll tell you about the idea and the results of the Malmo Challenge </li></ul><br><h2>  Minecraft: my backstory </h2><br>  I met a toy, being already a student.  This did not prevent me from postponing all my personal, work, and academic goals on the same day, and to go completely into the cubic universe.  Then I was released only a month later, but still I gladly go sometimes to run an hour or so on my beloved world. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      For me, Minecraft was a continuation of Lego's favorite childhood toy, correcting its main drawback: a constant lack of detail.  Analogue Lego with unlimited details, what could be better. <br><br>  I would like to particularly note the absence of cruelty in this game.  You can kill a zombie or run away, jump off a cliff.  No one argues.  But the lack of blood is very good, as is the sweet visualization of the birth of a new life. <br><br><img src="https://habrastorage.org/web/cbf/466/a59/cbf466a593964785869754ffa3bcbc99.jpg"><br><br>  Minecraft has a very vague notion of the final goal.  Of course, you can pump and kill the dragon, proudly saying that you have completed the game.  But no one does.  The main thrill of the world of Minecraft is that every time it is possible to come up with a personal goal: explore the world and find a cave with caches, build your dream home, learn the basics of electricity, or go to the server with a friend and make all kinds of traps.  The lack of goals in the game - in my opinion, its main advantage.  Minecraft gives a huge scope for creativity, with almost no restrictions. <br><br>  Studying the subject, I accidentally learned that the world of Minecraft is not limited to the game, merch, letspleyami and fan artami.  The <a href="https://youtu.be/NS06Aff7UyQ">whole</a> <a href="https://youtu.be/HMmK9_8sUCk">series</a> are filmed in the game, and - unexpectedly - they are quite popular.  In my opinion, it's funny. <br><br>  I was very pleased with the news about the availability of open source framework for programming in the world of Minecraft.  I firmly believe that in the future, the vast majority of occupations may need basic programming skills.  The framework based on your favorite toy is, in my opinion, a great way to show your child the exciting world of programming. <br><br><h2>  Malmo: the main idea </h2><br>  The Malmo framework was created by the joint efforts of several researchers whose main goal was to adapt the interesting world to experiments in the field of artificial intelligence.  The algorithms of AI are still relatively small, and they all have great potential for more detailed study and improvement.  I really like the fact that Microsoft creates additional motivation to learn the unknown. <br><br><h4>  Technical points </h4><br><blockquote>  <b><a href="https://github.com/Microsoft/malmo">Installation</a></b> <br>  Despite following the instructions clearly, you may encounter a number of problems during the installation process.  My problems were mainly due to the fact that some of my components were already delivered, but the version was different.  All problems are treated with the help of a <a href="https://stackoverflow.com/">well-known site</a> . <br><br>  <b>OS and programming language support</b> <br>  Despite the bold statement about the support of all three popular operating systems, it seemed to me that the testing was conducted properly only for Windows.  Having defeated installation problems, your headache on Windows OS promises to end.  On Linux, the problems are likely to continue, as the elevated server periodically crashes, without giving a reason.  If you continue my experiments - be sure to write in the comments about your experience. <br><br>  The authors tried to support a large number of popular languages ‚Äã‚Äãand made bindings for C #, C ++, Lua, Python2 and Java.  I chose Python. </blockquote><br><h2>  How <s>to play</s> Malmo program </h2><br>  The main process is as follows: in one window you need to raise the server and the client.  For this there is a script <code>./Minecraft/launchClient.*</code> .  Once the server is up, in another window you can run the code with the main logic to control the character.  How do I know that the server is up?  Everything is extremely logical: you will see a running instance of Minecraft with the initial menu inside, and in the terminal the inscription <code>Building 95%</code> will proudly flaunt. <br><br>  You can run as many <code>launchClient</code> instances.  In this case, the first instance launched will be the server, as well as the client, representing one character.  All subsequent instances will connect to an already raised server, adding an extra character to the world. <br><br>  You can implement the logic for each of the men in the code, and you can also control the character yourself with all the familiar AWSD keys. <br><br>  In addition to the server with the client and the file with the logic, we also have an xml file describing the initial state of the world.  The authors do not insist on its existence, and in their examples they often put it in a line and store it in code, but, in my opinion, it is more convenient to immediately make it a separate file, adding the necessary pieces as needed. <br><br>  The authors took care of us and made an impressive number of <a href="https://github.com/Microsoft/malmo/tree/master/Malmo/samples/Python_examples">examples</a> , adding a <a href="https://github.com/Microsoft/malmo/blob/master/Malmo/samples/Python_examples/Tutorial.pdf">description</a> to them. <br><br>  <b>My advice</b> : do not try to start from scratch, take the first example as a base.  Nothing happens in it, we simply create the simplest flat world and join the character.  In the while loop at the end, you can, at your discretion, add action to what is happening.  For example, write there: <br><br><pre> <code class="python hljs">agent_host.sendCommand(<span class="hljs-string"><span class="hljs-string">"move 1"</span></span>)</code> </pre> <br>  And enjoy the first steps of your hero.  Note that the default is so-called.  ContinuousMovementCommands.  Think of the commands given to the character as a change in the position of the lever.  Saying <code>"move 1"</code> , you take more than one step.  You will run until you give the command <code>"move 0"</code> .  Such a code in practice does not move the little man from the place: <br><br><pre> <code class="python hljs">agent_host.sendCommand(<span class="hljs-string"><span class="hljs-string">"move 1"</span></span>) agent_host.sendCommand(<span class="hljs-string"><span class="hljs-string">"move 0"</span></span>)</code> </pre> <br>  Commands will be executed in a split second.  Do not forget to insert the periodic lines <code>"time.sleep(X)"</code> .  I am sure that you know where to get information <a href="http://microsoft.github.io/malmo/0.21.0/Documentation/index.html">about the other commands</a> (although, in my experience, it is easier to look at the <a href="https://github.com/Microsoft/malmo/blob/master/Malmo/samples/Python_examples/Tutorial.pdf">tutorial</a> diagonally and then search for the right source). <br><br>  In the xml file you can set the game mode: <br><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">AgentSection</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">mode</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"Survival"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-comment"><span class="hljs-comment">&lt;!--   Creative     --&gt;</span></span></code> </pre> <br>  Set the starting time, character position, customize the world: make it flat or close to reality. <br><br>  This code will draw you Pakman, who eats balls and goes to the rainbow crater: <br><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">FlatWorldGenerator</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">generatorString</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"3;7,44*49,73,35:1,159:4,95:13,35:13,159:11,95:10,159:14,159:6,35:6,95:6;12;lake,lava_lake"</span></span></span><span class="hljs-tag"> /&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">DrawingDecorator</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">DrawSphere</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">x</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"-60"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">y</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"70"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">z</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"0"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">radius</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"30"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"air"</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">DrawSphere</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">x</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"-60"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">y</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"80"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">z</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"30"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">radius</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"10"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"wool"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">colour</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"YELLOW"</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">DrawCuboid</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">x1</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"-50"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">y1</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"80"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">z1</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"30"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">x2</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"-70"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">y2</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"70"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">z2</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"20"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"air"</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">DrawSphere</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">x</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"-60"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">y</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"75"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">z</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"25"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">radius</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"2"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"wool"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">colour</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"WHITE"</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">DrawSphere</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">x</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"-60"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">y</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"68"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">z</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"18"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">radius</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"2"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"wool"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">colour</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"MAGENTA"</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">DrawSphere</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">x</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"-60"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">y</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"61"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">z</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"11"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">radius</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"2"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"wool"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">colour</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"PURPLE"</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">DrawSphere</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">x</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"-60"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">y</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"54"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">z</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"4"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">radius</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"2"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"wool"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">colour</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"PINK"</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">DrawingDecorator</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br><img src="https://habrastorage.org/web/1b0/c6d/430/1b0c6d430cd04473aaa4cd5809fa0d5d.PNG"><br><br>  Finally, in xml, you can add the necessary coordinates to add a character review: <br><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">ObservationFromGrid</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Grid</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"floor3x3"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">min</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">x</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"-1"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">y</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"0"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">z</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"-1"</span></span></span><span class="hljs-tag"> /&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">max</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">x</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"1"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">y</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"0"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">z</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"1"</span></span></span><span class="hljs-tag"> /&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Grid</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">ObservationFromGrid</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br>  By default, we have no opportunity to look around and get information about the nearest blocks.  However, we can say that we want to know what is around us.  Note that in this case we need to use relative coordinates, measured from the cube with the hero's legs.  As a result of this line: <br><br><pre> <code class="python hljs">grid = observations.get(<span class="hljs-string"><span class="hljs-string">u'floor3x3'</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>)</code> </pre> <br>  We get an array with strings.  Each line is a textual representation of the type of one of the cubes. <br><br><pre> <code class="python hljs">floor3x3: [<span class="hljs-string"><span class="hljs-string">'lava'</span></span>, <span class="hljs-string"><span class="hljs-string">'obsidian'</span></span>, <span class="hljs-string"><span class="hljs-string">'obsidian'</span></span>, <span class="hljs-string"><span class="hljs-string">'lava'</span></span>, <span class="hljs-string"><span class="hljs-string">'obsidian'</span></span>, <span class="hljs-string"><span class="hljs-string">'obsidian'</span></span>, <span class="hljs-string"><span class="hljs-string">'lava'</span></span>, <span class="hljs-string"><span class="hljs-string">'obsidian'</span></span>, <span class="hljs-string"><span class="hljs-string">'obsidian'</span></span>]</code> </pre> <br>  In this way, an AI can be created that explores the world, searches for something and does not die for silly reasons.  The simplest option without using machine learning I implemented <a href="https://github.com/telezhnaya/malmo/blob/master/Malmo/samples/Python_examples/june-mk/3/discover-solved.py">here</a> . <br><br><h4>  Features for AI </h4><br>  Of course, the first thing I wanted to see for the implementation of AI algorithms in malmo is the ability to move discretely.  In the question of AI and so lack of complexity, and do not want to add to everything else a constant adjustment of the direction and speed of movement. <br>  We include necessary in xml so: <br><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">DiscreteMovenetCommands</span></span></span><span class="hljs-tag">/&gt;</span></span></code> </pre> <br>  Unfortunately, this will not be enough.  To move discretely, your starting position must be strictly in the center of the cube: <br><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Placement</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">x</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"4.5"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">y</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"46.0"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">z</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"1.5"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">yaw</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"0"</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-comment"><span class="hljs-comment">&lt;!-- y - , x, z -   --&gt;</span></span></code> </pre> <br>  Whole coordinates will put you at the intersection of the cubes, the character will refuse to move from the spot, you will not see any warnings and errors.  In the tutorial this is also not warned.  I spent about 4 hours to realize the essence of the problem and make the x and z coordinates half-and-half.  (y is responsible for the height and does not play a role in this story). <br><br>  In addition, the researchers added some nice features to solve the problem of reinforcement learning (Reinforcement Learning).  Algorithms of this type imply the constant rewarding or punishment of artificial intelligence for certain actions.  The developers have thought about this moment and added the ability to register these actions / events in xml, saving the code from the same constant checks.  You can also set the end of the game when a certain event occurs: <br><br><pre> <code class="xml hljs"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">RewardForTouchingBlockType</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Block</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">reward</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"-100.0"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"lava"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">behaviour</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"onceOnly"</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Block</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">reward</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"100.0"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"lapis_block"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">behaviour</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"onceOnly"</span></span></span><span class="hljs-tag">/&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">RewardForTouchingBlockType</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">RewardForSendingCommand</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">reward</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"-1"</span></span></span><span class="hljs-tag"> /&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">AgentQuitFromTouchingBlockType</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Block</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"lava"</span></span></span><span class="hljs-tag"> /&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Block</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"lapis_block"</span></span></span><span class="hljs-tag"> /&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">AgentQuitFromTouchingBlockType</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br>  For example, <a href="https://github.com/telezhnaya/malmo/blob/master/Malmo/samples/Python_examples/tutorial_6.py">here</a> we constantly punish the character a little bit for each step that is not crowned with a victory;  strongly rewarded for victory and punished for death;  Finally, we end the round in case of death or win. <br><br><img src="https://habrastorage.org/web/542/214/22a/54221422a429412e99c90890a8b51914.PNG"><br><br><h2>  Malmo: Conclusion </h2><br>  The authors of the framework gave us an amazing opportunity to dive into the beloved world from the other side.  Malmo is still in beta, in many situations he ... makes him improve his troubleshooting skills.  Nevertheless, its advantages outweigh all its disadvantages, and the fact that the source code is in open access on github allows us to finish the right place on our own or create an issue to fix critical bugs. <br><br>  For obvious reasons, the authors of the project do not mention in any of the articles the opportunity to educate children on the basis of the framework: a child is unlikely to cope with the struggle with small but frequent bugs.  Nevertheless, I am sure that if a parent helps his child and programs with him, it will give excellent results and allow you to spend time with benefits. <br><br><h2>  Malmo Challenge: History and Results </h2><br>  In addition to the framework itself, Microsoft also held a competition on the basis of a platform called the Malmo Challenge.  It was intended to encourage scientists and researchers to work on collaborative algorithms.  The competition started about six months ago, and the results appeared on June 5th. <br><br>  The essence of the challenge is as follows: we have a flat world, a fence of complex shape, inside the pen runs a pig and 2 people walk.  Our task is to create an AI for one of the characters, who will be able to interact with the second one, so that together they will drive the pig into the closed space.  The second character can behave randomly, can be controlled by a person, another AI, it can even be a second copy of your own AI. <br><br><img src="https://habrastorage.org/web/1ee/e72/5fd/1eee725fd4be4b2c94f52bcb503fcfe7.png"><br><br>  In this case, you can get the maximum number of points by catching a pig, or you can get a small number of points by jumping into a puddle on the side.  You will not get anything if your partner decides to jump into a puddle, refusing to interact with you. <br><br>  This task in general is called <a href="https://ru.wikipedia.org/wiki/%25D0%259E%25D1%2585%25D0%25BE%25D1%2582%25D0%25B0_%25D0%25BD%25D0%25B0_%25D0%25BE%25D0%25BB%25D0%25B5%25D0%25BD%25D1%258F">Deer Hunt</a> .  It was formulated in the 18th century by Jean-Jacques Rousseau.  Despite the impressive age of the problem, it is still unclear which algorithm most effectively solves the problem. <br><br>  I am pleased to share with you the <a href="https://www.microsoft.com/en-us/research/blog/malmo-collaborative-ai-challenge-winners/">results of the competition</a> .  I was very surprised by the distribution of seats in the standings. <br><br>  <b>First place</b> went to the <a href="">project</a> team from the UK.  The authors soberly appreciated a strong lack of time, they realized that they are unlikely to have time to adapt complex existing algorithms for the task.  They chose <a href="https://ru.wikipedia.org/wiki/%25D0%2591%25D0%25B0%25D0%25B9%25D0%25B5%25D1%2581%25D0%25BE%25D0%25B2%25D1%2581%25D0%25BA%25D0%25B8%25D0%25B9_%25D0%25B2%25D1%258B%25D0%25B2%25D0%25BE%25D0%25B4">Bayesian inference</a> to determine the type of partner, as well as <a href="https://ru.wikipedia.org/wiki/%25D0%259C%25D0%25B0%25D1%2580%25D0%25BA%25D0%25BE%25D0%25B2%25D1%2581%25D0%25BA%25D0%25B8%25D0%25B9_%25D0%25BF%25D1%2580%25D0%25BE%25D1%2586%25D0%25B5%25D1%2581%25D1%2581_%25D0%25BF%25D1%2580%25D0%25B8%25D0%25BD%25D1%258F%25D1%2582%25D0%25B8%25D1%258F_%25D1%2580%25D0%25B5%25D1%2588%25D0%25B5%25D0%25BD%25D0%25B8%25D0%25B9">Markov chains</a> for direct gameplay.  And they won. <br><br>  The runners <a href="https://github.com/village-people/flying-pig"><b>-up</b></a> decided to take the most difficult of the existing solutions, they used DNN, Reinforcement learning, DQN, A3C model ... And all this did not help them bypass Bayes and Markov chains. <br><br>  Summing up the article with the thought that you need to be easier. <br><br>  If you also want to try creating your own AI, join our Russian-language <a href="https://t.me/neuroworkshop">chat about neural networks in Telegram</a> .  There you can ask questions that interest you, as well as share your achievements. <br><br>  <a href="https://youtu.be/XHR45iJR3io">Video with my story about Malmo</a> at the meeting of the Petersburg <a href="https://www.meetup.com/spbpython/events/239534432/">Python mitap</a> has already appeared on my <a href="https://www.youtube.com/programming_together">channel on Youtube</a> .  There are also records of my other lectures and other chatter about IT. </div><p>Source: <a href="https://habr.com/ru/post/331034/">https://habr.com/ru/post/331034/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../331024/index.html">11 questions for PostgreSQL database administrators</a></li>
<li><a href="../331026/index.html">Stack Overflow 2017 survey results: developers who use spaces earn more</a></li>
<li><a href="../331028/index.html">Laws and projects that will change the face of Russian IT. Part I</a></li>
<li><a href="../331030/index.html">Performance of lambda expressions in Java 8</a></li>
<li><a href="../331032/index.html">Use SpreadsheetCloudAPI to write applications and make life easier</a></li>
<li><a href="../331036/index.html">Why open data is not needed by anyone</a></li>
<li><a href="../331042/index.html">Life hacking editor Unity 3D. Part 1: Attributes</a></li>
<li><a href="../331044/index.html">Fight for build-in iOS applications</a></li>
<li><a href="../331046/index.html">Android Excellence on Google Play</a></li>
<li><a href="../331048/index.html">Go without global variables</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>