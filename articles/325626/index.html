<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Build a project in python3 & PyQT5 for Windows using PyInstaller</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="The reason for writing the article was a huge number of constantly emerging questions for newbies with the following content: "How to build a project ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Build a project in python3 & PyQT5 for Windows using PyInstaller</h1><div class="post__text post__text-html js-mediator-article"><p>  The reason for writing the article was a huge number of constantly emerging questions for newbies with the following content: "How to build a project with pyqt5", "Why it doesn't work", "Which tool to choose", etc.  Today we will learn how to collect projects without torment and dancing with a tambourine. </p><br><a name="habracut"></a><br><p>  Somehow I had to write a small desktop application.  Python was chosen as the programming language for development, since it was ideally suited for solving my problem.  The standard Python library already includes the tkinter library, which allows you to create GUIs.  But the problem with tkinter is that little attention is devoted to this library, and finding a course, book or FAQ on it is quite difficult to find on the Internet.  Therefore, it was decided to use a more powerful, modern and functional Qt library, which has links to the python programming language in the form of the PyQT5 library.  You can read more about PyQT <a href="http://pythonworld.ru/gui/pyqt5-firstprograms.html">here</a> .  As an example, I will use the code: </p><br><pre><code class="hljs scala">#!/usr/bin/python3 # -*- coding: utf<span class="hljs-number"><span class="hljs-number">-8</span></span> -*- <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> sys from <span class="hljs-type"><span class="hljs-type">PyQt5</span></span>.<span class="hljs-type"><span class="hljs-type">QtWidgets</span></span> <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> <span class="hljs-type"><span class="hljs-type">QApplication</span></span>, <span class="hljs-type"><span class="hljs-type">QWidget</span></span> from <span class="hljs-type"><span class="hljs-type">PyQt5</span></span>.<span class="hljs-type"><span class="hljs-type">QtGui</span></span> <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> <span class="hljs-type"><span class="hljs-type">QIcon</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Example</span></span></span><span class="hljs-class">(</span><span class="hljs-params"><span class="hljs-type"><span class="hljs-class"><span class="hljs-params"><span class="hljs-type">QWidget</span></span></span></span></span><span class="hljs-class">)</span></span>: <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">__init__</span></span></span></span>(self): <span class="hljs-keyword"><span class="hljs-keyword">super</span></span>().__init__() self.initUI() <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">def</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">initUI</span></span></span></span>(self): self.setGeometry(<span class="hljs-number"><span class="hljs-number">300</span></span>, <span class="hljs-number"><span class="hljs-number">300</span></span>, <span class="hljs-number"><span class="hljs-number">300</span></span>, <span class="hljs-number"><span class="hljs-number">220</span></span>) self.setWindowTitle(<span class="hljs-symbol"><span class="hljs-symbol">'Ico</span></span>n') self.setWindowIcon(<span class="hljs-type"><span class="hljs-type">QIcon</span></span>(<span class="hljs-symbol"><span class="hljs-symbol">'web</span></span>.png')) self.show() <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> __name__ == <span class="hljs-symbol"><span class="hljs-symbol">'__main_</span></span>_': app = <span class="hljs-type"><span class="hljs-type">QApplication</span></span>(sys.argv) ex = <span class="hljs-type"><span class="hljs-type">Example</span></span>() sys.exit(app.exec_())</code> </pre> <br><p>  If you are a more or less experienced developer, then you understand that you cannot run python code without an interpreter.  And I would like to give every user the opportunity to use the program.  This is where special libraries come to our aid and allow you to build projects in .exe, which you can then run as a normal application without any problems. </p><br><p>  There are a large number of libraries that allow this to be done, among which the most popular are: cx_Freeze, py2exe, nuitka, PyInstaller, and others. Quite a lot are written about each.  But I must say that many of these solutions allow you to run the code only on a computer with a pre-installed interpreter and pyqt5.  I do not think that the user will bother and set himself additional packages and programs.  I hope you understand that running a program on a dev-environment and the user is not the same thing.  It should also be noted that each solution had its own problems: one did not start, the other collected what it could not launch, the third refused to do anything at all. </p><br><p>  After a long dance with a tambourine and active googling, I still managed to build the project using pyinstaller, into a fully working application. </p><br><h3>  Little about pyinstaller </h3><br><p>  Pyinstaller builds the python application and all dependencies in one package.  The user can run the application without installing the python interpreter or any modules.  Pyinstaller supports python 2.7 and python 3.3+ and such libraries as: numpy, PyQt, Django, wxPython and others. </p><br><p>  Pyinstaller has been tested on Windows, Mac OS X and Linux.  Anyway, this is not a cross-platform compiler: to make an application under Windows, do it on Windows;  To make a Linux application, do it on Linux, etc. </p><br><p>  PyInstaller has been used successfully with AIX, Solaris, and FreeBSD, but has not been tested. </p><br><p>  You can read more about PyInstaller here: <a href="http://www.pyinstaller.org/">documentation</a> . </p><br><p>  In addition, after the assembly, the application weighed only about 15 mb.  By the way, this is an advantage of the pyinstaller, since it does not collect everything, but only the necessary.  Similar libraries gave the result for 200-300 mb. </p><br><h3>  Getting Started </h3><br><p>  Before we start building, we need to install the necessary libraries, namely pywin32 and the pyinstaller itself: </p><br><pre> <code class="hljs sql">pip <span class="hljs-keyword"><span class="hljs-keyword">install</span></span> pypiwin32 pip <span class="hljs-keyword"><span class="hljs-keyword">install</span></span> pyinstaller</code> </pre> <br><p>  To make sure that everything is set up normally, enter the command: </p><br><pre> <code class="hljs pgsql">pyinstaller <span class="hljs-comment"><span class="hljs-comment">--version</span></span></code> </pre> <br><p>  the pyinstaller version should be displayed.  If everything is set correctly, go ahead. </p><br><p>  In the project folder, run cmd and type: </p><br><pre> <code class="hljs nginx"> <span class="hljs-attribute"><span class="hljs-attribute">pyinstaller</span></span> myscript.py</code> </pre> <br><p>  Actually this is the simplest team that will assemble our project. <br>  The pyinstaller command syntax is: </p><br><p>  pyinstaller [options] script [script ...] |  specfile </p><br><p>  <b>The most commonly used options are:</b> </p><br><p>  --onefile - build into one file, i.e.  .dll files are not written. <br>  --windowed - when the application starts, the console will appear. <br>  --noconsole - when launching the application, the console will not appear. <br>  --icon = app.ico - add an icon to the window. <br>  - paths - the ability to manually set the path to the required files, if pyinstaller <br>  can't find them (for example: --paths D: \ python35 \ Lib \ site-packages \ PyQt5 \ Qt \ bin) </p><br><p>  PyInstaller analyzes the myscript.py file and does the following: </p><br><ol><li>  Writes a myscript.spec file in the same folder as the script. </li><li>  Creates a build folder in the same folder as the script. </li><li>  Writes some logs and work files to the build folder. </li><li>  Creates a dist folder in the same folder as the script. </li><li>  Writes the executable file to the dist folder. </li></ol><br><p>  As a result, our team will look like this: </p><br><pre> <code class="hljs pgsql">pyinstaller <span class="hljs-comment"><span class="hljs-comment">--onefile --icon=name.ico --noconsole myscript.py</span></span></code> </pre> <br><p>  After running the program, you will find two folders: dist and build.  Actually in the dist folder is our application.  Subsequently, the build folder can be safely removed, it does not affect the performance of the application. </p><br><p>  Thanks for attention.  I hope the article was useful to you. </p></div>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <p>Source: <a href="https://habr.com/ru/post/325626/">https://habr.com/ru/post/325626/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../325614/index.html">MBLT17 preliminary program</a></li>
<li><a href="../325616/index.html">How to accelerate the deployment of IoT-projects in a corporate environment?</a></li>
<li><a href="../325618/index.html">The release of the integration platform Ensemble 2017.1</a></li>
<li><a href="../325622/index.html">Apache Spark Mitap</a></li>
<li><a href="../325624/index.html">13 years of bad code in games</a></li>
<li><a href="../325628/index.html">React Native: another ‚Äúsilver bullet‚Äù for cross-platform development?</a></li>
<li><a href="../325630/index.html">Details that matter</a></li>
<li><a href="../325632/index.html">Second honorary. Notes of the participant of the contest Dstl Satellite Imagery Feature Detection</a></li>
<li><a href="../325634/index.html">Google Benchmark Library</a></li>
<li><a href="../325636/index.html">StakeOverflow Developer Survey (2017)</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>