<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Authorization through the new API site Vkontakte.ru</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="The army of potential users of your site registered in the social network Vkontakte.ru will certainly appreciate your efforts to introduce registratio...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Authorization through the new API site Vkontakte.ru</h1><div class="post__text post__text-html js-mediator-article">  The army of potential users of your site registered in the social network Vkontakte.ru will certainly appreciate your efforts to introduce registration with the help of their favorite social sphere.  I thought about creating such an opportunity today in the morning and, without delay, decided to turn desire into reality. <br><br>  It made the implementation of two facts easier: the first is that the Open API reminded me a lot of Facebook Connect, with which I was already working.  The second fact was still weightier - I already have a library in which each authorization option (OpenID, OAuth, FacebookConnect) are separate backends and write an additional one, much less similar to FC, did not look like a difficult task.  In the end, we can say that in fact it really turned out to be a playful thing. <br><br>  So, what is needed for authorization on Vkontakte.ru? <br><a name="habracut"></a><br>  1. Python 2.5+ <br>  2. Django r11807 (best of all download the latest version from the trunk) <br>  3. <a href="http://bitbucket.org/offline/django-annoying/wiki/Home">django-annoying</a> <br>  4. <a href="http://bitbucket.org/offline/django-publicauth/wiki/Home">django-publicauth</a> 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      In principle, the description of the installation and settings is on the django-publicauth library wiki pages, but I‚Äôll focus on Vkontakte.ru and describe the instructions again, but in Russian. <br><br>  Let's start with the fact that you need <a href="http://vkontakte.ru/pages.php%3Fact%3Ddevelopers">to create your application</a> on the website vkontakte.ru. <br>  A small disappointment for me was the inability to specify the connection address in the settings of the application in the form of <a href="http://localhost/">localhost</a> : 8000 /.  I had to specify the real domain on which the application will spin and change / etc / hosts on the home computer, as well as launch the site on port 80.  There is no such problem on Facebook. <br>  Next, you need to register the generated keys and passwords in the settings.py file, it looks like this: <br><ol><li>  VKONTAKTE_APP_ID = XXXX </li><li>  VKONTAKTE_API_KEY = 'XXXX' </li><li>  VKONTAKTE_SECRET_KEY = 'XXXXXXXXX' </li></ol><br><br>  Now you need to insert the following html / javascript piece into your login page template: <br><br><blockquote><code><a href="http://s-c.me/6913/s"></a> <a href="http://s-c.me/6913/h"></a> <font color="black">Copy Source | Copy HTML &lt;a onclick= <font color="#A31515">"return vk_login();"</font> href= <font color="#A31515">"#"</font> &gt;.ru&lt;/a&gt;&lt; &lt;script src= <font color="#A31515">"http://vkontakte.ru/js/api/openapi.js"</font> type= <font color="#A31515">"text/javascript"</font> charset= <font color="#A31515">"windows-1251"</font> &gt;&lt;/script&gt; &lt;script type= <font color="#A31515">"text/javascript"</font> &gt; VK.init({ apiId: xxxxx, nameTransportPath: <font color="#A31515">'{% url publicauth-vkontakte-xdreceiver %}'</font> }); <font color="#0000ff">function</font> vk_login() { VK.Auth.login(testMe); <font color="#0000ff">return false</font> ; } <font color="#0000ff">function</font> testMe(response) { <font color="#0000ff">if</font> (response.status == <font color="#A31515">"connected"</font> ) { window.location = <font color="#A31515">"{% url publicauth-complete 'vkontakte' %}"</font> } }; &lt;/script&gt;</font></code> <ol> <li> <code><font color="black"><a href="http://s-c.me/6913/s"></a> <a href="http://s-c.me/6913/h"></a> Copy Source | Copy HTML &lt;a onclick= <font color="#A31515">"return vk_login();"</font> href= <font color="#A31515">"#"</font> &gt;.ru&lt;/a&gt;&lt; &lt;script src= <font color="#A31515">"http://vkontakte.ru/js/api/openapi.js"</font> type= <font color="#A31515">"text/javascript"</font> charset= <font color="#A31515">"windows-1251"</font> &gt;&lt;/script&gt; &lt;script type= <font color="#A31515">"text/javascript"</font> &gt; VK.init({ apiId: xxxxx, nameTransportPath: <font color="#A31515">'{% url publicauth-vkontakte-xdreceiver %}'</font> }); <font color="#0000ff">function</font> vk_login() { VK.Auth.login(testMe); <font color="#0000ff">return false</font> ; } <font color="#0000ff">function</font> testMe(response) { <font color="#0000ff">if</font> (response.status == <font color="#A31515">"connected"</font> ) { window.location = <font color="#A31515">"{% url publicauth-complete 'vkontakte' %}"</font> } }; &lt;/script&gt;</font></code> </li> <li></li><li></li><li> <code><font color="black"><a href="http://s-c.me/6913/s"></a> <a href="http://s-c.me/6913/h"></a> Copy Source | Copy HTML &lt;a onclick= <font color="#A31515">"return vk_login();"</font> href= <font color="#A31515">"#"</font> &gt;.ru&lt;/a&gt;&lt; &lt;script src= <font color="#A31515">"http://vkontakte.ru/js/api/openapi.js"</font> type= <font color="#A31515">"text/javascript"</font> charset= <font color="#A31515">"windows-1251"</font> &gt;&lt;/script&gt; &lt;script type= <font color="#A31515">"text/javascript"</font> &gt; VK.init({ apiId: xxxxx, nameTransportPath: <font color="#A31515">'{% url publicauth-vkontakte-xdreceiver %}'</font> }); <font color="#0000ff">function</font> vk_login() { VK.Auth.login(testMe); <font color="#0000ff">return false</font> ; } <font color="#0000ff">function</font> testMe(response) { <font color="#0000ff">if</font> (response.status == <font color="#A31515">"connected"</font> ) { window.location = <font color="#A31515">"{% url publicauth-complete 'vkontakte' %}"</font> } }; &lt;/script&gt;</font></code> </li> <li> <code><font color="black"><a href="http://s-c.me/6913/s"></a> <a href="http://s-c.me/6913/h"></a> Copy Source | Copy HTML &lt;a onclick= <font color="#A31515">"return vk_login();"</font> href= <font color="#A31515">"#"</font> &gt;.ru&lt;/a&gt;&lt; &lt;script src= <font color="#A31515">"http://vkontakte.ru/js/api/openapi.js"</font> type= <font color="#A31515">"text/javascript"</font> charset= <font color="#A31515">"windows-1251"</font> &gt;&lt;/script&gt; &lt;script type= <font color="#A31515">"text/javascript"</font> &gt; VK.init({ apiId: xxxxx, nameTransportPath: <font color="#A31515">'{% url publicauth-vkontakte-xdreceiver %}'</font> }); <font color="#0000ff">function</font> vk_login() { VK.Auth.login(testMe); <font color="#0000ff">return false</font> ; } <font color="#0000ff">function</font> testMe(response) { <font color="#0000ff">if</font> (response.status == <font color="#A31515">"connected"</font> ) { window.location = <font color="#A31515">"{% url publicauth-complete 'vkontakte' %}"</font> } }; &lt;/script&gt;</font></code> </li> <li> <code><font color="black"><a href="http://s-c.me/6913/s"></a> <a href="http://s-c.me/6913/h"></a> Copy Source | Copy HTML &lt;a onclick= <font color="#A31515">"return vk_login();"</font> href= <font color="#A31515">"#"</font> &gt;.ru&lt;/a&gt;&lt; &lt;script src= <font color="#A31515">"http://vkontakte.ru/js/api/openapi.js"</font> type= <font color="#A31515">"text/javascript"</font> charset= <font color="#A31515">"windows-1251"</font> &gt;&lt;/script&gt; &lt;script type= <font color="#A31515">"text/javascript"</font> &gt; VK.init({ apiId: xxxxx, nameTransportPath: <font color="#A31515">'{% url publicauth-vkontakte-xdreceiver %}'</font> }); <font color="#0000ff">function</font> vk_login() { VK.Auth.login(testMe); <font color="#0000ff">return false</font> ; } <font color="#0000ff">function</font> testMe(response) { <font color="#0000ff">if</font> (response.status == <font color="#A31515">"connected"</font> ) { window.location = <font color="#A31515">"{% url publicauth-complete 'vkontakte' %}"</font> } }; &lt;/script&gt;</font></code> </li> <li> <code><font color="black"><a href="http://s-c.me/6913/s"></a> <a href="http://s-c.me/6913/h"></a> Copy Source | Copy HTML &lt;a onclick= <font color="#A31515">"return vk_login();"</font> href= <font color="#A31515">"#"</font> &gt;.ru&lt;/a&gt;&lt; &lt;script src= <font color="#A31515">"http://vkontakte.ru/js/api/openapi.js"</font> type= <font color="#A31515">"text/javascript"</font> charset= <font color="#A31515">"windows-1251"</font> &gt;&lt;/script&gt; &lt;script type= <font color="#A31515">"text/javascript"</font> &gt; VK.init({ apiId: xxxxx, nameTransportPath: <font color="#A31515">'{% url publicauth-vkontakte-xdreceiver %}'</font> }); <font color="#0000ff">function</font> vk_login() { VK.Auth.login(testMe); <font color="#0000ff">return false</font> ; } <font color="#0000ff">function</font> testMe(response) { <font color="#0000ff">if</font> (response.status == <font color="#A31515">"connected"</font> ) { window.location = <font color="#A31515">"{% url publicauth-complete 'vkontakte' %}"</font> } }; &lt;/script&gt;</font></code> </li> <li> <code><font color="black"><a href="http://s-c.me/6913/s"></a> <a href="http://s-c.me/6913/h"></a> Copy Source | Copy HTML &lt;a onclick= <font color="#A31515">"return vk_login();"</font> href= <font color="#A31515">"#"</font> &gt;.ru&lt;/a&gt;&lt; &lt;script src= <font color="#A31515">"http://vkontakte.ru/js/api/openapi.js"</font> type= <font color="#A31515">"text/javascript"</font> charset= <font color="#A31515">"windows-1251"</font> &gt;&lt;/script&gt; &lt;script type= <font color="#A31515">"text/javascript"</font> &gt; VK.init({ apiId: xxxxx, nameTransportPath: <font color="#A31515">'{% url publicauth-vkontakte-xdreceiver %}'</font> }); <font color="#0000ff">function</font> vk_login() { VK.Auth.login(testMe); <font color="#0000ff">return false</font> ; } <font color="#0000ff">function</font> testMe(response) { <font color="#0000ff">if</font> (response.status == <font color="#A31515">"connected"</font> ) { window.location = <font color="#A31515">"{% url publicauth-complete 'vkontakte' %}"</font> } }; &lt;/script&gt;</font></code> </li> <li> <code><font color="black"><a href="http://s-c.me/6913/s"></a> <a href="http://s-c.me/6913/h"></a> Copy Source | Copy HTML &lt;a onclick= <font color="#A31515">"return vk_login();"</font> href= <font color="#A31515">"#"</font> &gt;.ru&lt;/a&gt;&lt; &lt;script src= <font color="#A31515">"http://vkontakte.ru/js/api/openapi.js"</font> type= <font color="#A31515">"text/javascript"</font> charset= <font color="#A31515">"windows-1251"</font> &gt;&lt;/script&gt; &lt;script type= <font color="#A31515">"text/javascript"</font> &gt; VK.init({ apiId: xxxxx, nameTransportPath: <font color="#A31515">'{% url publicauth-vkontakte-xdreceiver %}'</font> }); <font color="#0000ff">function</font> vk_login() { VK.Auth.login(testMe); <font color="#0000ff">return false</font> ; } <font color="#0000ff">function</font> testMe(response) { <font color="#0000ff">if</font> (response.status == <font color="#A31515">"connected"</font> ) { window.location = <font color="#A31515">"{% url publicauth-complete 'vkontakte' %}"</font> } }; &lt;/script&gt;</font></code> </li> <li></li><li> <code><font color="black"><a href="http://s-c.me/6913/s"></a> <a href="http://s-c.me/6913/h"></a> Copy Source | Copy HTML &lt;a onclick= <font color="#A31515">"return vk_login();"</font> href= <font color="#A31515">"#"</font> &gt;.ru&lt;/a&gt;&lt; &lt;script src= <font color="#A31515">"http://vkontakte.ru/js/api/openapi.js"</font> type= <font color="#A31515">"text/javascript"</font> charset= <font color="#A31515">"windows-1251"</font> &gt;&lt;/script&gt; &lt;script type= <font color="#A31515">"text/javascript"</font> &gt; VK.init({ apiId: xxxxx, nameTransportPath: <font color="#A31515">'{% url publicauth-vkontakte-xdreceiver %}'</font> }); <font color="#0000ff">function</font> vk_login() { VK.Auth.login(testMe); <font color="#0000ff">return false</font> ; } <font color="#0000ff">function</font> testMe(response) { <font color="#0000ff">if</font> (response.status == <font color="#A31515">"connected"</font> ) { window.location = <font color="#A31515">"{% url publicauth-complete 'vkontakte' %}"</font> } }; &lt;/script&gt;</font></code> </li> <li> <code><font color="black"><a href="http://s-c.me/6913/s"></a> <a href="http://s-c.me/6913/h"></a> Copy Source | Copy HTML &lt;a onclick= <font color="#A31515">"return vk_login();"</font> href= <font color="#A31515">"#"</font> &gt;.ru&lt;/a&gt;&lt; &lt;script src= <font color="#A31515">"http://vkontakte.ru/js/api/openapi.js"</font> type= <font color="#A31515">"text/javascript"</font> charset= <font color="#A31515">"windows-1251"</font> &gt;&lt;/script&gt; &lt;script type= <font color="#A31515">"text/javascript"</font> &gt; VK.init({ apiId: xxxxx, nameTransportPath: <font color="#A31515">'{% url publicauth-vkontakte-xdreceiver %}'</font> }); <font color="#0000ff">function</font> vk_login() { VK.Auth.login(testMe); <font color="#0000ff">return false</font> ; } <font color="#0000ff">function</font> testMe(response) { <font color="#0000ff">if</font> (response.status == <font color="#A31515">"connected"</font> ) { window.location = <font color="#A31515">"{% url publicauth-complete 'vkontakte' %}"</font> } }; &lt;/script&gt;</font></code> </li> <li> <code><font color="black"><a href="http://s-c.me/6913/s"></a> <a href="http://s-c.me/6913/h"></a> Copy Source | Copy HTML &lt;a onclick= <font color="#A31515">"return vk_login();"</font> href= <font color="#A31515">"#"</font> &gt;.ru&lt;/a&gt;&lt; &lt;script src= <font color="#A31515">"http://vkontakte.ru/js/api/openapi.js"</font> type= <font color="#A31515">"text/javascript"</font> charset= <font color="#A31515">"windows-1251"</font> &gt;&lt;/script&gt; &lt;script type= <font color="#A31515">"text/javascript"</font> &gt; VK.init({ apiId: xxxxx, nameTransportPath: <font color="#A31515">'{% url publicauth-vkontakte-xdreceiver %}'</font> }); <font color="#0000ff">function</font> vk_login() { VK.Auth.login(testMe); <font color="#0000ff">return false</font> ; } <font color="#0000ff">function</font> testMe(response) { <font color="#0000ff">if</font> (response.status == <font color="#A31515">"connected"</font> ) { window.location = <font color="#A31515">"{% url publicauth-complete 'vkontakte' %}"</font> } }; &lt;/script&gt;</font></code> </li> <li> <code><font color="black"><a href="http://s-c.me/6913/s"></a> <a href="http://s-c.me/6913/h"></a> Copy Source | Copy HTML &lt;a onclick= <font color="#A31515">"return vk_login();"</font> href= <font color="#A31515">"#"</font> &gt;.ru&lt;/a&gt;&lt; &lt;script src= <font color="#A31515">"http://vkontakte.ru/js/api/openapi.js"</font> type= <font color="#A31515">"text/javascript"</font> charset= <font color="#A31515">"windows-1251"</font> &gt;&lt;/script&gt; &lt;script type= <font color="#A31515">"text/javascript"</font> &gt; VK.init({ apiId: xxxxx, nameTransportPath: <font color="#A31515">'{% url publicauth-vkontakte-xdreceiver %}'</font> }); <font color="#0000ff">function</font> vk_login() { VK.Auth.login(testMe); <font color="#0000ff">return false</font> ; } <font color="#0000ff">function</font> testMe(response) { <font color="#0000ff">if</font> (response.status == <font color="#A31515">"connected"</font> ) { window.location = <font color="#A31515">"{% url publicauth-complete 'vkontakte' %}"</font> } }; &lt;/script&gt;</font></code> </li> <li></li><li> <code><font color="black"><a href="http://s-c.me/6913/s"></a> <a href="http://s-c.me/6913/h"></a> Copy Source | Copy HTML &lt;a onclick= <font color="#A31515">"return vk_login();"</font> href= <font color="#A31515">"#"</font> &gt;.ru&lt;/a&gt;&lt; &lt;script src= <font color="#A31515">"http://vkontakte.ru/js/api/openapi.js"</font> type= <font color="#A31515">"text/javascript"</font> charset= <font color="#A31515">"windows-1251"</font> &gt;&lt;/script&gt; &lt;script type= <font color="#A31515">"text/javascript"</font> &gt; VK.init({ apiId: xxxxx, nameTransportPath: <font color="#A31515">'{% url publicauth-vkontakte-xdreceiver %}'</font> }); <font color="#0000ff">function</font> vk_login() { VK.Auth.login(testMe); <font color="#0000ff">return false</font> ; } <font color="#0000ff">function</font> testMe(response) { <font color="#0000ff">if</font> (response.status == <font color="#A31515">"connected"</font> ) { window.location = <font color="#A31515">"{% url publicauth-complete 'vkontakte' %}"</font> } }; &lt;/script&gt;</font></code> </li> <li> <code><font color="black"><a href="http://s-c.me/6913/s"></a> <a href="http://s-c.me/6913/h"></a> Copy Source | Copy HTML &lt;a onclick= <font color="#A31515">"return vk_login();"</font> href= <font color="#A31515">"#"</font> &gt;.ru&lt;/a&gt;&lt; &lt;script src= <font color="#A31515">"http://vkontakte.ru/js/api/openapi.js"</font> type= <font color="#A31515">"text/javascript"</font> charset= <font color="#A31515">"windows-1251"</font> &gt;&lt;/script&gt; &lt;script type= <font color="#A31515">"text/javascript"</font> &gt; VK.init({ apiId: xxxxx, nameTransportPath: <font color="#A31515">'{% url publicauth-vkontakte-xdreceiver %}'</font> }); <font color="#0000ff">function</font> vk_login() { VK.Auth.login(testMe); <font color="#0000ff">return false</font> ; } <font color="#0000ff">function</font> testMe(response) { <font color="#0000ff">if</font> (response.status == <font color="#A31515">"connected"</font> ) { window.location = <font color="#A31515">"{% url publicauth-complete 'vkontakte' %}"</font> } }; &lt;/script&gt;</font></code> </li> <li> <code><font color="black"><a href="http://s-c.me/6913/s"></a> <a href="http://s-c.me/6913/h"></a> Copy Source | Copy HTML &lt;a onclick= <font color="#A31515">"return vk_login();"</font> href= <font color="#A31515">"#"</font> &gt;.ru&lt;/a&gt;&lt; &lt;script src= <font color="#A31515">"http://vkontakte.ru/js/api/openapi.js"</font> type= <font color="#A31515">"text/javascript"</font> charset= <font color="#A31515">"windows-1251"</font> &gt;&lt;/script&gt; &lt;script type= <font color="#A31515">"text/javascript"</font> &gt; VK.init({ apiId: xxxxx, nameTransportPath: <font color="#A31515">'{% url publicauth-vkontakte-xdreceiver %}'</font> }); <font color="#0000ff">function</font> vk_login() { VK.Auth.login(testMe); <font color="#0000ff">return false</font> ; } <font color="#0000ff">function</font> testMe(response) { <font color="#0000ff">if</font> (response.status == <font color="#A31515">"connected"</font> ) { window.location = <font color="#A31515">"{% url publicauth-complete 'vkontakte' %}"</font> } }; &lt;/script&gt;</font></code> </li> <li> <code><font color="black"><a href="http://s-c.me/6913/s"></a> <a href="http://s-c.me/6913/h"></a> Copy Source | Copy HTML &lt;a onclick= <font color="#A31515">"return vk_login();"</font> href= <font color="#A31515">"#"</font> &gt;.ru&lt;/a&gt;&lt; &lt;script src= <font color="#A31515">"http://vkontakte.ru/js/api/openapi.js"</font> type= <font color="#A31515">"text/javascript"</font> charset= <font color="#A31515">"windows-1251"</font> &gt;&lt;/script&gt; &lt;script type= <font color="#A31515">"text/javascript"</font> &gt; VK.init({ apiId: xxxxx, nameTransportPath: <font color="#A31515">'{% url publicauth-vkontakte-xdreceiver %}'</font> }); <font color="#0000ff">function</font> vk_login() { VK.Auth.login(testMe); <font color="#0000ff">return false</font> ; } <font color="#0000ff">function</font> testMe(response) { <font color="#0000ff">if</font> (response.status == <font color="#A31515">"connected"</font> ) { window.location = <font color="#A31515">"{% url publicauth-complete 'vkontakte' %}"</font> } }; &lt;/script&gt;</font></code> </li> <li> <code><font color="black"><a href="http://s-c.me/6913/s"></a> <a href="http://s-c.me/6913/h"></a> Copy Source | Copy HTML &lt;a onclick= <font color="#A31515">"return vk_login();"</font> href= <font color="#A31515">"#"</font> &gt;.ru&lt;/a&gt;&lt; &lt;script src= <font color="#A31515">"http://vkontakte.ru/js/api/openapi.js"</font> type= <font color="#A31515">"text/javascript"</font> charset= <font color="#A31515">"windows-1251"</font> &gt;&lt;/script&gt; &lt;script type= <font color="#A31515">"text/javascript"</font> &gt; VK.init({ apiId: xxxxx, nameTransportPath: <font color="#A31515">'{% url publicauth-vkontakte-xdreceiver %}'</font> }); <font color="#0000ff">function</font> vk_login() { VK.Auth.login(testMe); <font color="#0000ff">return false</font> ; } <font color="#0000ff">function</font> testMe(response) { <font color="#0000ff">if</font> (response.status == <font color="#A31515">"connected"</font> ) { window.location = <font color="#A31515">"{% url publicauth-complete 'vkontakte' %}"</font> } }; &lt;/script&gt;</font></code> </li> <li> <code><font color="black"><a href="http://s-c.me/6913/s"></a> <a href="http://s-c.me/6913/h"></a> Copy Source | Copy HTML &lt;a onclick= <font color="#A31515">"return vk_login();"</font> href= <font color="#A31515">"#"</font> &gt;.ru&lt;/a&gt;&lt; &lt;script src= <font color="#A31515">"http://vkontakte.ru/js/api/openapi.js"</font> type= <font color="#A31515">"text/javascript"</font> charset= <font color="#A31515">"windows-1251"</font> &gt;&lt;/script&gt; &lt;script type= <font color="#A31515">"text/javascript"</font> &gt; VK.init({ apiId: xxxxx, nameTransportPath: <font color="#A31515">'{% url publicauth-vkontakte-xdreceiver %}'</font> }); <font color="#0000ff">function</font> vk_login() { VK.Auth.login(testMe); <font color="#0000ff">return false</font> ; } <font color="#0000ff">function</font> testMe(response) { <font color="#0000ff">if</font> (response.status == <font color="#A31515">"connected"</font> ) { window.location = <font color="#A31515">"{% url publicauth-complete 'vkontakte' %}"</font> } }; &lt;/script&gt;</font></code> </li> </ol></blockquote><br><br>  Do not forget to replace xxxxx with the real application ID, and this should be an integer, so do not put quotes. <br><br>  In principle, this can be stopped.  By default, the publicauth library will ask you to fill in the additional username field after the first attempt at authorization, but if you don‚Äôt have such a field or you need other additional fields, simply specify the PUBLICAUTH_EXTRA_FORM setting in your settings.py with the value as a path to your form.  The only rule is that the form must contain a save method which takes the following parameters: <br>  save (self, request, identity, provider): pass and returns the created user. <br><br>  You can view the site with a working example <a href="http://pyplanet.org/auth/login/">here</a> . <br><br>  <b>UPDATE</b> : at the request of workers, put a ready demo project with all possible authorization options.  <a href="">http://pyplanet.org/static/example.tar.gz</a> <br><br>  This is a regular Django site, unzip the archive and install all the necessary libraries via pip, and even better through virtualenv + pip.  For this, I put a special script inside the project.  If you have Linux, then just do ./buildenv.sh and everything will install itself, after which you will only need to activate the virtual environment (source venv / bin / acitvate) and make syncdb.  If you do not want to use virtualenv, you can manually make pip install -r pipreq.txt <br><br>  The settings I have done are a bit unusual, everything is in the settings / folder for you to specify the base (if you are not satisfied with sqlite3) you need to edit the file settings / local.py <br>  Django-publicauth settings are in settings / publicauth.py <br><br>  Its form with additional fields is the root of the project named custom_from.py. <br><br>  In order for you to earn authorization on Vkontakte.ru, you can simply write a line in / etc / hosts <br>  127.0.0.1 pyplanet.org <br>  start the site on port 80 (python manage.py runserver 0.0.0.0:80) and go to this address. <br>  Well, or create your own application on the VKontakte site with some other domain and insert your keys into the settings / publicauth.py settings file <br>  The same scam is needed for Facebook. </div><p>Source: <a href="https://habr.com/ru/post/91568/">https://habr.com/ru/post/91568/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../91557/index.html">How to register domains in the zone .UA</a></li>
<li><a href="../91561/index.html">Wall Street Corporations will report via a python script</a></li>
<li><a href="../91562/index.html">Presentation of phone number for business cards</a></li>
<li><a href="../91565/index.html">Symfony 2 and Doctrine 2</a></li>
<li><a href="../91567/index.html">Android OS on Samsung i900 (Witu). Is the game worth the candle?</a></li>
<li><a href="../91569/index.html">Google Adwords Ban</a></li>
<li><a href="../91575/index.html">XAMPP on Linux + Xdebug (Linux 64bit)</a></li>
<li><a href="../91582/index.html">Google killed http: //</a></li>
<li><a href="../91583/index.html">Brief instructions on moving the site from one host to another</a></li>
<li><a href="../91584/index.html">Does the charging warranty apply to MacBooks?</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>