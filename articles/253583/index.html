<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Web Components and JSON-LD to help the web developer</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hi, Habr! Let's start the week with a conversation on how to combine the work of JSON-LD and Web Components. JSON-LD is a format for structuring data ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Web Components and JSON-LD to help the web developer</h1><div class="post__text post__text-html js-mediator-article">  Hi, Habr!  Let's start the week with a conversation on how to combine the work of JSON-LD and Web Components.  <a href="http://www.w3.org/TR/json-ld/">JSON-LD</a> is a format for <a href="http://developers.google.com/structured-data/">structuring data</a> on a site for displaying it in the search results of Google and other search engines.  For example, if the site contains a list of events, places or people, then in HTML code you can add markup of this data using the constructs of the schema.org dictionary in the form of JSON-LD code.  Structuring data helps Google better understand the content of your pages and highlight it in search results.  So you can <a href="https://developers.google.com/structured-data/events/">report on upcoming events</a> through the function "Knowledge Network" or show an <a href="https://developers.google.com/structured-data/rich-snippets/">extended description of the</a> pages in the search results. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/b3e/b3f/869/b3eb3f8698233cd60179d86d76dc65e5.png" alt="html5rocks"><br><a name="habracut"></a><br>  <a href="http://webcomponents.org/">Web Components</a> - an evolving set of standards for creating widgets in the user interface.  Any web developer can apply them using a <a href="http://webcomponents.org/articles/introduction-to-template-element/">template</a> that is <a href="http://webcomponents.org/articles/introduction-to-html-imports/">added to the page code</a> .  You can set the behavior of Web Components using the <a href="http://webcomponents.org/articles/introduction-to-custom-elements/">Custom Element</a> function.  Developers can use the same Web Components elements on different pages, as well as distribute them, which facilitates the web design process. <br><br>  JSON-LD and Web Components are perfectly combined during development.  Custom Element functions are used to represent visible content, and JSON-LD markup is used to structure the data.  Custom Element can be used with any <a href="http://schema.org/">schema.org</a> data type, such as <a href="http://schema.org/Event">schema.org/Event</a> or <a href="http://schema.org/LocalBusiness">schema.org/LocalBusiness</a> . 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h2>  An example of using JSON-LD and Web Components for an interactive map </h2><br>  Structured data, such as store addresses, is stored in a database.  This information is posted on the page as a JSON-LD code.  This means that the elements of the Custom Element can show them to users, and Googlebot recognizes them when indexing the page.  Suppose we want to create a page with a list of some Google offices: <a href="http://polymerlabs.github.io/structured-data-web-components/demo/combined-demo.html">polymerlabs.github.io/structured-data-web-components/demo/combined-demo.html</a> <br><br>  On the page there are two widgets: a map with a pin for each office and a drop-down menu with a list of addresses.  It is very important that both widgets present the same information to the user, and the page is available for scanning by search engines. <br><img src="https://habrastorage.org/getpro/habr/post_images/9c8/8b6/afd/9c88b6afd7b9e6a2d12923e8891f7b27.png" alt="Sample map with JSON-LD"><br>  In this example, we use the <a href="https://developers.google.com/webmasters/business-location-pages/">LocalBusiness</a> elements to express the meaning of the data presented: the geographical location of some of the Google offices. <br><br>  To check how Google scans and indexes this page, it‚Äôs best to use the updated <a href="https://developers.google.com/structured-data/testing-tool/%3Fhl%3Dru">Structured Data Verification Tool</a> .  Paste the URL of the example we are parsing into the tool, and then click the ‚ÄúGet and check‚Äù button.  On the right you will see the result of parsing data from the page and possible errors.  A more convenient way to check the correctness of the implementation of the JSON-LD markup and its understanding of Google, perhaps, is not invented. <br><img src="https://habrastorage.org/files/d96/a93/d1b/d96a93d1b0334500bae9e24b71e4635d.png" alt="Structured Data Verification Tool"><br>  In more detail about this tool and innovations in it in our recent article on Habr√©: <a href="http://habrahabr.ru/company/google/blog/250179/">New tool for checking structured data, documentation and more</a> . <br><br><h2>  Binding components to a structured data source </h2><br>  The code we use is laid out on <a href="https://github.com/PolymerLabs/structured-data-web-components">github</a> .  Let's look at the <a href="https://github.com/PolymerLabs/structured-data-web-components/blob/master/demo/combined-demo.html">source code of the</a> combined-demo.html page. <br><br>  First, we embed the data on the page using the JSON-LD script: <br><pre><code class="html hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"application/ld+json"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="undefined"><span class="undefined"> {...} </span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br>  So we facilitate access to data for other systems that support the standard schema.org and JSON-LD format, for example, for search engines. <br><br>  Then we use two web components to display the data: <br><ul><li>  address-dropdown-jsonld - this element creates a drop-down list with all the addresses in the "jsonld" attribute. </li><li>  google-map-jsonld - this item creates a google map with a pin for each address in the jsonld attribute. </li></ul><br>  Now import them to our page using <a href="https://www.polymer-project.org/0.5/platform/html-imports.html">HTML import</a> . <br><pre> <code class="html hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">link</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">rel</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"import"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">href</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"bower_components/google-map-jsonld/google-map-jsonld.html"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">link</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">rel</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"import"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">href</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"bower_components/address-dropdown-jsonld/address-dropdown-jsonld.html"</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br>  After import, we can use them on our page: <br><pre> <code class="html hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">address-dropdown-jsonld</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">jsonld</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">""</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">address-dropdown-jsonld</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">google-map-jsonld</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">jsonld</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">""</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">google-map-jsonld</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br>  Finally, we associate JSON-LD data and elements.  To do this, use the <a href="https://www.polymer-project.org/0.5/docs/polymer/polymer.html">polymer-ready callback</a> (this event is triggered when the components are ready for use).  Since elements can be configured using attributes, it is enough to assign our JSON-LD data to the corresponding component attribute: <br><pre> <code class="html hljs xml">document.addEventListener('polymer-ready', function() { var jsonld = JSON.parse( document.querySelector( 'script[type="application/ld+json"]').innerText); document.querySelector('google-map-jsonld').jsonld = jsonld['@graph']; document.querySelector('address-dropdown-jsonld').jsonld = jsonld['@graph']; });</code> </pre><br>  Read more about these technologies in the following materials: <br><ul><li>  original article with code examples on <a href="http://www.html5rocks.com/ru/">html5rocks.com</a> </li><li>  <a href="http://json-ld.org/">JSON-LD website</a> and <a href="http://www.w3.org/TR/json-ld/">W3C specifications</a> ; </li><li>  <a href="http://www.w3.org/wiki/WebComponents/">Web Components</a> documentation on webcomponents.org; </li><li>  schema.org; </li><li>  <a href="https://developers.google.com/structured-data/">Google documentation on structured data</a> . </li></ul></div><p>Source: <a href="https://habr.com/ru/post/253583/">https://habr.com/ru/post/253583/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../253569/index.html">K-Meleon Welcomes Habrazhiteley</a></li>
<li><a href="../253571/index.html">Online conference for Java developers DEV Labs 2015</a></li>
<li><a href="../253573/index.html">Understanding the download of ArchLinux over the network</a></li>
<li><a href="../253575/index.html">Lesson 1.1 - Actors and ActorSystem</a></li>
<li><a href="../253579/index.html">We write client for Slack with notifications</a></li>
<li><a href="../253585/index.html">Making web forms easier to fill out</a></li>
<li><a href="../253587/index.html">Backend and Golden Hammers</a></li>
<li><a href="../253589/index.html">MSBuild - in Open Source on github</a></li>
<li><a href="../253591/index.html">MSBuild - in Open Source on github</a></li>
<li><a href="../253595/index.html">DOM L3 XPath support in Project Spartan</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>