<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Own VPN client on JavaScript. Part 1 - introductory</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Greetings, Habr. 

 Finally, the time has come to write another article that I conceived quite a long time ago, and the need for writing of which I ha...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Own VPN client on JavaScript. Part 1 - introductory</h1><div class="post__text post__text-html js-mediator-article">  Greetings, Habr. <br><br>  Finally, the time has come to write another article that I conceived quite a long time ago, and the need for writing of which I have been particularly keen to since since October 26 of this year I decided to take up again one undeservedly forgotten project. <br><br><img src="https://habrastorage.org/webt/c0/2e/hs/c02ehszpyxpnhna0yom1ic8xgjm.gif">
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      <i>Since I myself do not particularly like to read articles where there are no demos and other visual pieces that you can immediately see, I made sure that in my article all this was available.</i>  <i>So right now you can try or just read the code without spending time reading the article: <b><a href="https://github.com/JsusDev/JS.VPN-Client">project repository</a></b></i> <br><br>  In this article I want to tell and show how the development of the application on <b>Electron</b> and <b>OpenVPN took place</b> only at the end of 2018. <br>  In the first part, I will make the most complete insight into the topic, so that in the subsequent parts there will be no big blocks of text, but only practical information relating to the development itself. <br><a name="habracut"></a><br><h4>  Prehistory </h4><br>  A little about why and how this project appeared. <br><br>  Coincidentally, I became acquainted with such a wonderful technology as <b>Electron</b> right before the start of <s>repression</s> and <b>Telegram</b> locks in Russia.  The senseless and merciless Roskomnadzor and the <s>Bloody Gebnya</s> - who are all these people?  Here, on Habr√©, I saw numerous articles about raising my own VPN and proxy servers against the background of this whole battle for the network.  It gave me no peace: the <b>Internet is part of my life</b> , and when the Internet came, I could not stay idle.  I had to take part in resistance <b>for free internet</b> . <br><br>  I could not come to terms with the fact that the messenger beloved by me, whose developers I am deeply grateful to - literally everyone who is involved in the development of this amazing IT product, will not be available. <br><br>  Therefore, the project appeared <b>JS.VPN-Client</b> .  <u>04.05.2018</u> <br>  Last time, the story of <b>Electron</b> ended up developing one application, so I remained familiar with this technology only a little closer than writing articles.  I did not understand and go into the development of desktop applications, and the problem in the hardware aggravated the development, making it unbearable.  However, maybe I just didn‚Äôt have an adequate look at <b>Electron</b> at that moment.  In short, it was not particularly interesting. <br><br><h4>  Post history </h4><br>  In general, I no longer had a deal with <b>Electron</b> and was not even going to have anything to do.  However, on October 26, 2018, I remembered one of my long-standing projects, which I periodically launch, recalling with <i>obvious sadness</i> how the program code was randomly organized. <br><br>  Realizing that the year is coming to an end, and so many good things have not yet been done, I decided to write about the development of this project.  However, the problem that periodically led me to <i>obvious sadness</i> simply did not allow me to publish a single line of the current code.  It was necessary to <b>rewrite everything</b> or <b>burn it</b> . <br><br>  After a week or two, I completely rewrote the application, and even came to a very interesting way of internal code organization.  Technologies such as Electron and <s>Puppetter</s> have a very specific architecture: in my opinion, having touched Electron for the first time is not easy to present the development of even a small application, despite (not) a lot of training materials.  But I‚Äôm ready to provide instructions on how to develop Electron applications, albeit <b>inadequately</b> rolled back, but already allowing to create such an application as <b>JS.VPN-Client</b> . <br><br><h4>  Development </h4><br>  <i>Of course, I‚Äôm not going (or going, but very rarely) to systematically develop my projects as described in this article, but since I want to bring the reader up to date, I‚Äôll additionally explain all the points at issue in my opinion.</i>  <i>What I leave without explanation should be obvious to a JavaScript developer <s>or should not be completely clear</s> .</i> <br><br>  For a long time I couldn‚Äôt decide for myself how I want to see my application this time in terms of organizing code, and soon even the little that I knew about <b>Electron was</b> completely forgotten. <br><br><img src="https://habrastorage.org/webt/og/xn/0t/ogxn0tqmsw6ivxzh4rw0l2qvr4y.png"><br><br>  Starting anew, I decided that the program should be developed <u>by components completely independent of each other</u> , which should have their own, although not a large <u>API</u> , through which they will interact, and in the end everyone will be connected into one big application. <br><br>  Later I came to one very beautiful and concise way of organizing the code, which I wrote about above.  In the course of development, I will tell and show what I mean.  This approach seemed to me so convenient that I declare: it can lay claim to a standard in the development of <b>Electron</b> applications. <br><br><h4>  VPN and Security </h4><br>  My VPN client needs configs, but since I am not the server holder in my application, I use only public VPN servers with <b>OpenVPN</b> support.  I get them from the <a href="http://130.158.6.57/api/iphone/">API of</a> this site <a href="https://www.vpngate.net/">VPN Gate - Public Free VPN</a> <br>  To assert that this is the best way, I will not, because it is not competent in the issue of security.  In any case, the structure of the application is flexible enough to remake "by itself" and use the best way to get secure servers. <br><br>  <a href="https://habr.com/post/429566/">Part 2 - Development</a> <br><br><div class="spoiler">  <b class="spoiler_title">Navigation</b> <div class="spoiler_text">  <b><a href="https://habr.com/post/427777/">Part 1 - introductory</a></b> <br>  <a href="https://habr.com/post/429566/">Part 2 - Development</a> <br>  <a href="https://habr.com/post/429430/">Part 3 - OpenVPN component</a> <br>  <a href="https://habr.com/post/429432/">Part 4 - Configs Component</a> <br>  <a href="https://habr.com/post/429434/">5 part - Vpn component</a> <br>  <a href="https://habr.com/post/429436/">6 part - Notify component</a> <br>  <a href="https://habr.com/post/429438/">Part 7 - Context Component</a> <br>  <a href="https://habr.com/post/429440/">Part 8 - Setting component</a> <br>  <a href="https://habr.com/post/429442/">Part 9 - Callback Component</a> <br>  <a href="https://habr.com/post/429444/">10 part - Combining all components</a> <br>  <a href="https://habr.com/post/429446/">Part 11 - Building an Application for Windows</a> <br></div></div><br><img src="https://habrastorage.org/getpro/habr/post_images/19b/9d8/fa5/19b9d8fa57e2329e98feefa02c812c10.png" alt=" VPN   JavaScript by JSus" title="Own VPN client on JavaScript by JSus"></div><p>Source: <a href="https://habr.com/ru/post/427777/">https://habr.com/ru/post/427777/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../427763/index.html">MIT course "Computer Systems Security". Lecture 13: "Network Protocols", part 1</a></li>
<li><a href="../427767/index.html">Situation: Canada offered to introduce a streaming stream - we are discussing what the problem is</a></li>
<li><a href="../427771/index.html">MIT course "Computer Systems Security". Lecture 13: "Network Protocols", part 2</a></li>
<li><a href="../427773/index.html">I wrote a cross-browser tab extension, but don't do that.</a></li>
<li><a href="../427775/index.html">Disguised as a programmer bot corrects errors in the code</a></li>
<li><a href="../427779/index.html">MIT course "Computer Systems Security". Lecture 13: "Network Protocols", part 3</a></li>
<li><a href="../427781/index.html">Why credit institutions data science</a></li>
<li><a href="../427783/index.html">MIT course "Computer Systems Security". Lecture 14: "SSL and HTTPS", part 1</a></li>
<li><a href="../427785/index.html">MIT course "Computer Systems Security". Lecture 14: "SSL and HTTPS", part 2</a></li>
<li><a href="../427787/index.html">MIT course "Computer Systems Security". Lecture 14: "SSL and HTTPS", part 3</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>