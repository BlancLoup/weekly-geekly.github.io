<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Experience creating a cross-platform game (iOS / Android)</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="This post will be useful to developers who have just embarked on the rainbow path gamedev. In our recent post we have already talked about the initial...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Experience creating a cross-platform game (iOS / Android)</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/getpro/habr/post_images/533/8d5/af2/5338d5af23c60c8e0787fc60b2d44c4f.png"><br>  This post will be useful to developers who have just embarked on the rainbow path gamedev.  In our recent <a href="http://habrahabr.ru/post/194136/">post</a> we have already talked about the initial steps of our dream team in the field of igroystroy.  As promised, we are working in this direction further and decided to try ourselves in a different genre of games.  Next will be briefly covered some moments of creating and publishing the game on two platforms, iOS and android. <br><br><a name="habracut"></a><br><br><h1>  Development tools </h1><br><h2>  Cocos2d-x </h2><br><img src="https://habrastorage.org/getpro/habr/post_images/a26/962/632/a2696263264e30d568bfdca8a5ff5178.png"><br>  Previous experience has shown that being sprayed onto two platforms (ios \ android) is quite wasteful, especially with a game project.  In this regard, the choice fell on cross-platform.  At that time, I had experience with Unity3D and Cocos2d.  And since the proposed project was a 2D game, the choice fell on the cross-platform implementation of <a href="http://www.cocos2d-x.org/">Cocos2D-x</a> .  Not the last role in the selection was played by the engine's <s>freebie</s> open source. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Cocos2d-x is an open game engine whose source code is distributed under the MIT license.  For cross-platform development for iOS, Android, Windows Phone, BlackBerry, Tizen platforms, languages ‚Äã‚Äãlike C ++, Javascript, Lua can be used.  Below is a table with platforms, where ‚Äúo‚Äù means that everything works coolly, and ‚Äúi‚Äù means that development is supported, but not recommended. <br><img src="https://habrastorage.org/getpro/habr/post_images/b8e/c90/b9e/b8ec90b9ed99a20a94962ca79b51bef0.png"><br>  The platform has a large community that will not leave you in the lurch.  Of the famous companies that use this engine, you can mention Zynga, Konami, Glu, Gamevil and KingSoft.  Also recently, Microsoft Open Technologies has <a href="http://msopentech.com/blog/2013/09/27/easily-port-your-cocos2d-x-game-to-windows-8-and-windows-phone-8/">contributed to</a> easy porting games to Windows 8 and Windows Phone 8. <br><br><h2>  JS Development </h2><br>  Our project was developed using javascript.  Using Javascript Binding-a argue for faster development than C ++, as well as the ability to run the project in browsers (convenient debugging of the project in the browser console). <br><img src="https://habrastorage.org/getpro/habr/post_images/5fb/bde/af4/5fbbdeaf496470e6d3f8538244aa25ec.png"><br>  Writing a game using javascript is available in all cocos implementations - cocos2d-x, cocos2d-ios and cocos2d-html5.  But while cocos2d-html5 runs in a browser, cocos2d-x / ios provide js-binding, which allows a significant increase in performance.  In fact, the entire engine code - graphics, rendering, physics, etc. - will be executed natively, and the game logic itself will be executed in javascript.  Also, by means of simple manipulations, it is possible to implement the most resource-intensive operations natively.  <a href="https://developer.mozilla.org/en-US/docs/Mozilla/Projects/SpiderMonkey%3Fredirectlocale%3Den-US%26redirectslug%3DSpiderMonkey">SpiderMonkey is</a> used as a javascript engine. <br>  The only browser where the game brakes were not observed is Safari (although the recommendations recommend using Chrome).  By simple <a href="https://developer.mozilla.org/en-US/Apps/Developing/Manifest">manipulations,</a> we launched a project on the ZTE Open with Firefox OS on board. <br>  When using js to modify the base code, you must also modify the binding of new methods, although this can be done automatically with the help of the <a href="http://www.cocos2d-x.org/wiki/How_to_bind_C%2B%2B_to_Javascript">bindings-generator</a> . <br><br><h2>  Cocosbuilder </h2><br><img src="https://habrastorage.org/getpro/habr/post_images/c81/b75/fc5/c81b75fc5fcdd7b0d91523a0e85782a6.png"><br>  <a href="http://cocosbuilder.com/">CocosBuilder</a> is an indispensable assistant for us - it is a free tool (released under the MIT license) for the rapid development of games and applications.  With it, you can manage scenes, sprites, interface elements, animation of objects, etc. There is a system of particles that can be prepared using the built-in tools or a special tool <a href="http://www.71squared.com/en/particledesigner">Particle Designer</a> .  You can also customize frame-by-frame animation, set the sequence of animations, and more. <br>  Currently javascript is supported only in <a href="http://cocosbuilder.com/%3Fpage_id%3D11">alpha version 3</a> .  Available for Mac OS only.  You can get acquainted with the possibilities <a href="http://code.zynga.com/2012/10/creating-a-game-with-cocosbuilder/">here</a> and <a href="http://habrahabr.ru/post/166709/">here</a> . <br><br><h2>  CocoStudio </h2><br><img src="https://habrastorage.org/getpro/habr/post_images/6df/0a7/d22/6df0a7d220de89afa3ecc5ec721bb4fb.png"><br>  <a href="http://www.cocos2d-x.org/wiki/Cocostudio">CocoStudio</a> - appeared not so long ago and was created as an alternative to CocosBuilder.  Previously, the interface was only in Chinese, and most recently it was translated into <s>normal</s> English. <br>  When launched, the program presents a choice of 4 editors: <br><ul><li>  UI editor‚Äì buttons, lists and the like.  So far, 12 interface elements are available, but they promise to add more. </li><li>  Animation editor - according to the developers, this editor is similar to Adobe Flash animation.  The main focus is on skeletal animation, as well as the usual frame-by-frame animation.  There is a texture packer. </li><li>  Data editor - allows you to convert data from excel tables into data suitable for processing in cocos2d-x. </li><li>  Scene editor - allows you to manipulate all parts of the project, received from the first three editors.  That is, you can emulate the game level.  It is also possible to use third-party auxiliary tools, such as particle designer. </li></ul><br><br>  In general, a quick inspection of the possibilities makes it clear that the product has a bright future.  Unfortunately, only the windows version is available, so we have not used this editor in our developments yet. <br><br><h2>  Tile Map Editor </h2><br>  <a href="http://www.mapeditor.org/">Tile</a> is an open source project that we used to create levels. <br><img src="https://habrastorage.org/getpro/habr/post_images/db7/630/e61/db7630e61d32d4e34490aca6a1918b73.png"><br>  Work with tiles can be described in the following steps: <br><ul><li>  First choose the base size of the map, as well as the size of the tile. </li><li>  Add to our TileSets atlas with pictures. </li><li>  Place the tiles on the map. </li><li>  We save the map in a standardized tmx format. </li></ul><br>  The created maps are saved in the TMX format (Tile Map XML) - they allow to flexibly describe the map with tiles of various sizes, different numbers of layers, objects and their properties.  For example, you can set different layers for surface tiles, for decorations.  It is also convenient to set the motion paths of objects.  Through setting properties to tiles, you can programmatically replace them, for example, with any dynamic objects. <br>  Excellent posts for acquaintance to the level-editor: <a href="http://www.raywenderlich.com/39113/cocos2d-x-tile-map-tutorial-part-1">time</a> , <a href="http://gamedev.tutsplus.com/tutorials/level-design/introduction-to-tiled-map-editor/">two</a> . <br><br><h2>  Texture packer </h2><br>  <a href="http://www.codeandweb.com/texturepacker">Texture Packer</a> - use to create atlases with textures.  You can publish for various platforms, such as Cocos2d, Corona, Sparrow, LibGDX, LimeJS, Ogre, etc. Available for Mac, Win and Linux.  This company also provides another excellent product, the <a href="http://www.codeandweb.com/physicseditor">Physic Editor</a> , which we use in the current project. <br><img src="https://habrastorage.org/getpro/habr/post_images/a55/e84/fcb/a55e84fcb376cefe4151420bb56d812b.png"><br><br><h1>  Build project </h1><br>  Building the project begins with publishing in CocosBuilder, where iOS, android, and html5 settings are separately taken into account. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/b85/0b3/01a/b850b301a956fc7e1d6662f1a4f31350.png"><br>  Further, in the case of iOS, we open the project in Xcode and enjoy launching the game on the simulator or device. <br>  But in the case of android you need to tinker a bit.  You need to configure the paths to android NDK, SDK and cocos2d-x, and then upgrade the project using the script build_native.sh.  Then you can open the resulting project in Eclipse (or Idea) and work with the manifest and java code.  By the way, <a href="http://project.soom.la/">ready-made frameworks</a> already exist for payments and some ad networks, but for us it was not difficult to use native code for both platforms. <br>  More information about the settings of publishing can be read <a href="http://www.cocos2d-x.org/wiki/How_to_create_a_multi-platform_project_in_one_command_line">here</a> or <a href="http://www.raywenderlich.com/33750">here</a> . <br>  For our game we set a minimum version of ios 5.0.  For android, the minimum version is 4.0, although it is possible to make 2.3, but our game is designed for devices with a large screen, and in later versions the probability of crashes is significantly reduced, so for now they have decided to test the performance on newer devices. <br><br><h1>  Launch and promotion </h1><br>  In total, the game took us about 1.5 months of development.  Much of the time was spent on familiarity with the engines and utilities.  The project was on the Apple Store on the fifth of November night, and the next morning we started the promotion.  Most of the pledged funds for the promotion, we focused on advertising in the Facebook mobile application, setting the targeting only on the USA and on the interests relevant to our game.  We also bought a few Shars and likes and retweets, in the hope of a word of mouth effect on Google + / Vk / Facebook social networks. <br>  The rest of the advertising campaign went without money and consisted of sending press releases to editors of Internet publications about iOS / Android with the aim to interest them with our game and the opportunity to get into some kind of weekly digest or even with the possibility of reviewing the game itself. <br>  But, unfortunately, advertising on Facebook did not give those positive results that we managed to achieve with our other game and practically passed without a trace.  The advertising budget for the USA is likely to be easily multiplied by 10 compared with Russia (ios). <br>  The highest positions that have been achieved at the moment are only six countries where the game has entered the top 50 in the ‚ÄúStrategy‚Äù category and about 30 countries where it ranges between 200 and 300 places in the same category. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/10b/dd1/dab/10bdd1dab30e49e03076079a7f7b74f7.png"><br><br>  Some more or less noticeable results in the general top games or the general top of all applications were not achieved.  In the upcoming time, we will make an effort to cross-connect with our existing applications, as well as purchase a couple of reviews at w3bsit3-dns.com, for example (there, by the way, the developer support policy has changed).  Let's try targeted Facebook Ads on European countries (most likely Spain, Germany, Italy, have not yet decided).  Most of the forces and means throw on the iOS platform, as the exhaust will be much more.  In general, this was our first project regarding cross-platform development, with all its pluses and minuses, so to speak, first attempt at writing, and we like what came out of it, let's hope that the upcoming promotion will help to slightly raise and keep the game in the top. <br><br>  Summing up, I want to note that the current tools make it easy to create games, there would be ideas.  We are waiting for your questions on the process of work. </div><p>Source: <a href="https://habr.com/ru/post/201598/">https://habr.com/ru/post/201598/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../201588/index.html">Counts for the smallest: Ford & Bellman or how to understand that you got into the infinitely distant past</a></li>
<li><a href="../201590/index.html">The tragedy of communities in the real world or coupon fever-2</a></li>
<li><a href="../201592/index.html">Iterator in doT.js template engine for objects with filtering</a></li>
<li><a href="../201594/index.html">Profiling and Debugging Python</a></li>
<li><a href="../201596/index.html">From idea to App Store in 24 hours</a></li>
<li><a href="../201600/index.html">jBone. Replacing jQuery for Backbone or 2kb for DOM manipulation</a></li>
<li><a href="../201602/index.html">Remote DOS exploit (device reboot) iOS ~ 6.1 - 7.0.3 [0day]</a></li>
<li><a href="../201604/index.html">How to work with inadequate customers?</a></li>
<li><a href="../201606/index.html">Interlight Moscow and novelties from Notehnika</a></li>
<li><a href="../201608/index.html">An example of using WxPython to create a node interface. Part 3: We continue to add features + keyboard handling</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>