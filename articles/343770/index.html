<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Lecture Yandex: Advanced UI, Part One</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="We will publish several lectures of the Mobile Development School 2017. This school is part of the Yandex Mobilization project. Here you can find vide...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Lecture Yandex: Advanced UI, Part One</h1><div class="post__text post__text-html js-mediator-article">  We will publish several lectures of the Mobile Development School 2017.  This school is part of the Yandex Mobilization project.  <a href="https://habrahabr.ru/company/yandex/blog/318098/">Here you can find</a> video courses compiled on the basis of the "Mobilization" of the last year. <br><br>  The lecture ‚ÄúAdvanced UI‚Äù was read by Dmitry Svirikhin, a developer from the Yandex.Mail mobile team.  Dmitry explains how to solve the most common problems when developing the Android application interface. <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/BbxB3Sr55qw" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><blockquote>  Let's summarize all of the above about the topic.  We need to stylize uniform UI elements with themes, without needing to write the whole theme from scratch, we can inherit from some system theme and initially set a certain subset of attributes for this theme. </blockquote><br><a name="habracut"></a>  - You have been studying for a month at Mobilization School and learned a lot during this month, including about UI.  Today I will try to uncover some things that you could already know, and also try to tell something new.  I hope it will be interesting. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      My lecture will consist of two parts, and in it we will first put some problem, and then look for ways to solve it. <br><img src="https://habrastorage.org/webt/_f/js/3f/_fjs3fxcuqkn1bttphd6sdn4brs.jpeg"><br><br>  Let's see what problems we will explore today. <br><br>  First, we will look at the problem of UI inconsistency in our application and the means to solve this inconsistency. <br><br>  Secondly, one of the rather major problems of Android development is interaction with the keyboard.  What to do when a keyboard appears on the screen, how to live with it. <br><br>  Third, we explore how we can effectively apply custom views.  You have already been in one of the lectures and are roughly aware of how we should create custom views, what are the rules for this.  But today we will slightly open this topic and logically continue it.  We also examine a little the loss of state when it is possible.  Of course, you already know how to behave when we have a loss of state during the re-creation of an activity.  You need to save some things in the bundle and then after recreating the activity, use them in some way. <br><br>  But nevertheless, you still sometimes have problems, and we will try to take these problems into account today. <br><br>  We will also consider the problem of insufficient interactivity of our UI, see how to make it more interactive and understandable to respond to any actions that the user does. <br><br>  Let's start from the very beginning - about inconsistency. <br><img src="https://habrastorage.org/webt/cn/ma/lp/cnmalpblem1qtzstypuffhk54sm.jpeg"><br>  UI inconsistency can be of several types.  First, we may have inconsistency UI on different devices in Android.  For example, the same view on our different devices may look different.  You all know that Android has a rather extensive fleet of devices, and because of this, we have quite a high fragmentation of Android versions.  Accordingly, on Android 4, the UI may look one way, on Android 5, another.  This causes inconsistency of the UI on different devices. <br><img src="https://habrastorage.org/webt/yp/ew/sm/ypewsmougx1pt9fvqrw6hhafeyk.jpeg"><br>  But this is probably not the main problem, because UI inconsistency can also be in the application, when on different screens we have a toolbar of a different color, or the toolbar can still not be combined with the color that we have in Navigation Drawer, which leaves on the left side of the screen.  And there is some way by which we can, if not solve this problem, then at least greatly simplify its solution. <br><br>  These are themes and styles. <br><img src="https://habrastorage.org/webt/dg/iv/1i/dgiv1i4wxo0dvbubnpbqf2kljho.jpeg"><br><br>  We start with that.  And let's first define what a topic is. <br><br>  The theme is a kind of global configuration of our entire Android UI.  The theme attributes can include, for example, some window lags relative to which our entire UI is built, some global colors and images that are also used to construct the UI, and even whole styles for individual views and subtopics, for example, for conversations. <br><br>  There are about 300 attributes in a topic, and even more, but when we define our topic, we don‚Äôt need to redefine all 300 attributes, we simply don‚Äôt have to do that.  To do this, the platform provides such a way that we must inherit from some already prepared system theme and redefine what we need. <br><br>  Let's see what topics we can inherit from. <br><br>  At the very beginning, it is best to connect the AppCompat library, which is part of the support library, and inherit our own theme from one of those already provided for in this library.  Accordingly, Theme.AppCompat you may need in order to make a dark UI, and Theme.AppCompat.Light for light.  And after you do this - inherit your own theme from one of these predefined topics - you will have already solved the problem of UI inconsistency on different devices.  On your fourth, fifth, and higher Android UI, it may be not identical, but very similar, and the inconsistency problem on different devices will already be solved. <br><br>  So, we have created our own theme, inherited from some kind of system.  What do we need to do next? <br><img src="https://habrastorage.org/webt/om/rl/b2/omrlb2il_mfj3qafjqms8egbuty.jpeg"><br><br>  The feature of theme attributes is that all internal themes and styles are somehow tied to each other, and initially we need to define a certain subset of attributes, some basic attributes.  On the slide they are presented.  Let's deal with each of them. <br><img src="https://habrastorage.org/webt/qw/mc/ye/qwmcyej4fpr1y-u5clfpy1i0bmi.jpeg"><br>  Firstly, windowBackground, on the slide you can see how the look of our application will change with given different backgrounds.  windowBackground Just sets the main background for our application, setting the color or drawable, which we passed to the windowBackground parameter as the windows background, in which all our views are drawn. <br><img src="https://habrastorage.org/webt/i9/o1/z7/i9o1z7adgtehn0qoxn5nusoeozi.jpeg"><br>  There are also options such as colorPrimary and colorPrimaryDark.  According to their name, you might think that these are some very important parameters, but, in fact, the only thing for which they are needed is to simply set some colors for our tool bar and status bar.  They can also be used in the same toolbar when it goes into Action Mode here.  Using these attributes, the separator between the toolbar and the content is colored. <br><img src="https://habrastorage.org/webt/aj/f_/tq/ajf_tq2uo-dr6ffe0qcorvmkkig.jpeg"><br>  Therefore, we turn to the more interesting attribute - colorAccent.  As the name implies, it is needed in order to focus the user's attention on some important parts of the UI.  What could it be?  For example, it can be FloatingActionButton, it can be an edittext that the user is currently editing, it can be the selected checkbox, etc. <br><img src="https://habrastorage.org/webt/jd/yu/8b/jdyu8bxnerabvjup51qfqqyuwru.jpeg"><br>  colorControlNormal determines the color of the UI-elements in the inactive state.  By an inactive state, we mean an unfocused edittext, for example, or an unselected checkbox, etc. <br><img src="https://habrastorage.org/webt/zn/pd/4q/znpd4qdsl7froe9mekzfoshau5i.jpeg"><br>  colorControlActivated, on the contrary, determines the color of the focused edittext, the selected checkbox, etc. As a rule, we do not need to redefine this attribute, because it is tied to colorAccent, by default it uses the same resource as colorAccent, and we touch it not necessary, but, nevertheless, it is still useful to know about him. <br><img src="https://habrastorage.org/webt/yf/7y/po/yf7ypo3mjlxp2zsehpvfnqia538.jpeg"><br>  colorControlHighlight defines the color with which our view will be highlighted when we tap on it.  In fact, this is the same color ripple that we have when we tap on the view and wait some time. <br><br>  It should be noted that this color must have an alpha channel set in order for us to have such a beautiful effect. <br><img src="https://habrastorage.org/webt/mm/vo/sk/mmvoskyok4rdjhodgdmadd3pa4y.jpeg"><br>  There is also a list of attributes that is needed for styling, for example, buttons - this is colorButtonNormal.  Buttons, they are not subject to the colorControlNormal attribute, which we considered earlier, because they are somewhat different for the guides, and a separate attribute was invented for it. <br><br>  Also, for example, there is a similar attribute for the Switch.  Therefore, when you specify some attributes like colorControlNormal, if something is not painted on you - it doesn't matter, most likely there are some attributes that will help you also solve the created problem. <br><img src="https://habrastorage.org/webt/kp/xf/yz/kpxfyzvxfbh1jntkcgw9_wzc8u8.jpeg"><br>  And let's talk a little about the parameters, about the text. <br><br>  There is such a parameter in the system as textColorPrimary (the main text color of the application) and textColorHighlight, which determines the color of the text selection.  In general, there are quite a number of parameters associated with the text, and it is not always immediately possible to guess, as a given parameter, the text color attribute will affect many views in our system, therefore there are two options.  If the textColorPrimary parameter does not work, you can either determine by experience which attribute with the text you need, or climb into the interior of the AppCompat library and find out what color your view ultimately depends on. <br><img src="https://habrastorage.org/webt/lv/q0/oq/lvq0oqbf6pgbafxw7d9jejydcmi.jpeg"><br>  Let's now look at how it happens that we set the color in the theme, and at the same time, we generally paint the backgrounds of all the views in our layout.  In fact, it happens as follows, and there is no magic here. <br><br>  Initially, the system contains some bitmap, usually black, or on new Android, it is set using a vector, and the selector attached to it is in the form of tint for this view.  For example, for a checkbox, such a selector can be attached here, as shown on the slide, which shows that, in the Checked state, we need to paint the background of our view in the color specified in the colorControlActivated attribute.  Accordingly, if our view - in this case, the checkbox - accepts the Checked attribute, then it will be painted exactly in this color.  This is how our checkbox will look like if under colorControlActivated we set the color to yellow. <br><img src="https://habrastorage.org/webt/7d/l0/dl/7dl0dlla6ri0rwtri9c1nzwmnjk.jpeg"><br><br>  And one more important point, which is worth noting about the attributes - we can refer to them directly in our layout.  Here is the most common way presented on the slide, when we want to make a triple effect for some layout in our hierarchy.  We can simply give it a selectableItemBackground background, and then, tapping on this frame layout, the user will see ripple.  It will be on Android 5 and higher, and on Android 4 it will just change the background on tapu. <br><img src="https://habrastorage.org/webt/fo/4d/gt/fo4dgt0415rgnsubv3d3tvax6mg.jpeg"><br>  Let's summarize all of the above about the topic.  We need to stylize uniform UI elements with themes, without needing to write the whole theme from scratch, we can inherit from some system theme and initially set a certain subset of attributes for this theme. <br><br>  Then, if we do not have enough of it, we can change some other attributes to a point in order to achieve the desired result.  And also, if necessary, you can use attributes directly in your layout. <br><br>  So, we figured out how to write a topic.  Let's see where we can use it.  We can set the theme for our application and activity directly in the manifest using the android: theme attribute.  When can we use each of these cases?  In the application, we can set, for example, a bright theme.  Quite often now all applications look with a light theme.  And while it is quite fashionable now to make galleries, which, on the contrary, have a dark color.  Thus, we can set the main theme and then separately in the activity in which we want to see our gallery, make, for example, a dark theme. <br><br>  But there are also other situations. <br><img src="https://habrastorage.org/webt/hj/l6/cu/hjl6cum_gadhy3wncxy77ddbwpq.jpeg"><br>  Here we have some layout, so it looks like with themes by default.  In general, everything is not bad, but we do not like it.  We or our designer wants a slightly different theme - he wants our toolbar to be so dark.  It turns out that in the main part of the application we use a light theme - this is a light background with dark text, but the toolbar suddenly became with a dark theme and with light text. <br><br>  For this, Android provided the ability to set themes at the view level.  What happens when we set a topic at the view level?  Those attributes that are specified in this topic that we set in the view, they, respectively, will override the basic attributes of the activity in which this view is displayed. <br><img src="https://habrastorage.org/webt/4n/ae/rc/4naerchdmqhholhflszov5cvfie.jpeg"><br>  And for this, the system also provides for the so-called ThemeOverlay, from which we must inherit our own themes, which we are going to transmit in view, and also using the AppCompat library, we already have some list of those themes that we can use, from which we can be inherited.  Accordingly, ThemeOverlay.AppCompat.Light is designed to override some part of the hierarchy from a dark theme to a light one, and ThemeOverlay.AppCompat.Dark - on the contrary, from a light to dark one.  There are also already prepared Overlay for ActionBar and for DarkActionBar.  Last we need to use in our example, which we considered earlier. <br><img src="https://habrastorage.org/webt/ot/cv/dt/otcvdt5nhcdsbyqaglgf3vz9-ye.jpeg"><br>  Now let's see this situation.  What is the difference between themes and styles that we set at the view level?  I think you all know what styles are, you have used them more than once, and let's say we set some styles for view B in this hierarchy, which is now represented on the slide.  What happens then?  All attributes that are inside this style will only be view B. <br><br>  If we want to set a theme for view B, what will happen?  All global attributes from this topic in turn will affect the entire hierarchy: not only on B, but also on all of its child'ov (in this case, D and E).  But if D and E had other childs, the topic would also apply to them. <br><br>  What happens if we set both the style and the theme for view B?  Everything in general is pretty clear.  The style will also work for this view B, and the theme will apply to B and all of her childs. <br><br>  Now let's formally define what the difference is in style and theme, which can be set at the view level.  The style is intended to set some subset of attributes that is adequate only for the given view, in which we set this style.  For example, a style may be contained if we set it for a TextView, the TextAppearance or Background attribute.  This is a normal example of a topic.  And in general, initially the themes were intended so that we could eliminate duplication for the same type of view.  If we set a topic for a view, it should be intended to redefine some global attributes for the entire hierarchy, in which we set this topic. <br><br>  The theme may contain attributes such as, for example, colorControlNormal, which we reviewed earlier. <br><img src="https://habrastorage.org/webt/ps/hj/jp/pshjjpdleshm5rt7lrxcdrpmvso.jpeg"><br>  There is also another type of style called TextAppearance, which is designed to define a set of attributes associated exclusively with the text.  It can be as color, size, font, even the shadow of the text.  And they are used mainly for such views as EditText and TextView, but in general there is still some set of views where they are used.  The main distinguishing feature is that these styles should be transferred to those attributes whose names contain the phrase TextAppearance.  Pretty easy to remember. <br><img src="https://habrastorage.org/webt/xl/nf/dc/xlnfdcepfeup-eierkbn-t006tg.jpeg"><br>  These are the TextAppearance with us using the AppCompat library exist in the platform.  You can use them.  You can even tell your designers to use these styles to give you some kind of layouts. <br><br>  In general, the topic of typography in Android is quite extensive.  You can spend a whole lecture on them, but I will probably leave it to self-study.  Below is a link where you can read various details about the text in Android, and he will go on to the next topic related directly to the development. <br><br>  And the last thing I wanted to say about styles is about explicit and implicit inheritance of styles.  Let's see, we have some layout.  This is the usual login form.  Accordingly, there is a field for entering e-mail and password.  It seems that these fields look very similar, but, nevertheless, they have some kind of common part and style differences.  Let's try to build a hierarchy of these styles. <br><img src="https://habrastorage.org/webt/yi/gk/su/yigksunbsspyqyiy6ngfqlmfdzu.jpeg"><br><br>  We will select the common part using a style called AuthField, and then separately for the login and for the password we will create styles that will already be inherited in a familiar way.  We also inherited topics.  This is done using the parent attribute, and in general, everything is clear and simple.  But we can do otherwise.  We can make clearer, more visual way, which will allow us to follow the hierarchy of styles. <br><img src="https://habrastorage.org/webt/gs/3a/dr/gs3adroknoylw8ojqxqdjacf-4s.jpeg"><br><br>  We can simply separate the common part through a dot and write styles derived from the common part in this way. <br><br>  For your own hierarchies, this method seems more acceptable, because it is more visual and obvious, and generally use this method. <br><br>  About the styles and themes, I said everything I wanted.  (See the question and answer session in the video. - Ed.) <br><br>  Since we are talking about text fields, let us see what the main problem may be when we have text fields.  This problem is called a keyboard, which can overlap with us some part of the layout. <br><br>  And this is not always good for the user, so let's deal with some parts that are related to the keyboard in the section "Interaction with the keyboard." <br><img src="https://habrastorage.org/webt/5r/dc/ms/5rdcmsoef0vfnupschgi2bt96o4.jpeg"><br>  So, if at some point when you are developing your application, you want to determine the size of the keyboard, then in 99% of cases you don‚Äôt need to, you just don‚Äôt.  This can be useful to you only if you are developing a chat, for example, and in all other cases it is not necessary.  It is much easier to follow the change in the size of the layout and depending on this, somehow somehow adjust everything that you have on the screen to the size that you have left after the appearance of the keyboard. <br><br>  It is also important to understand that the keyboard is a separate application that we can‚Äôt configure in any way, we can only accept the fact that it is there, so on any small device the keyboard can occupy 2/3 of the screen. <br><br>  And what do we need to do if it will cover a fairly large part of our layout?      layout  ScrollView,     ,    2/3  ,        -     layout. <br><img src="https://habrastorage.org/webt/iw/8-/kz/iw8-kzgzt1hhjfgk-w6jieksdai.jpeg"><br><br> ,        layout?      OnLayoutChangeListener.       ScrollView    ,    view,      ,   ,   -      ,   . <br><img src="https://habrastorage.org/webt/ra/yi/hi/rayihikkzazjecsaofftvrx_upq.jpeg"><br>    ?  , ,  ,       ,           ‚Äî  .     ,    .         . <br><img src="https://habrastorage.org/webt/hz/7p/0k/hz7p0k1s5bfhxskkvgrnnmchpiu.jpeg"><br>   ,      .  ,       -  . ,   e-mail        (@)     .      - ,   ,       e-mail.  Wonderful. <br><br>       .    e-mail,           ,  ,     .        ,   ¬´¬ª  .  user    ¬´¬ª, , ,        .  And that's not it. , -,     ,       Sign In,      ,    Done,       layout,  .          . <br><img src="https://habrastorage.org/webt/0j/x-/be/0jx-bea4jpvxayuz-6vrsbsvnag.jpeg"><br>       : inputType  imeOptions. inputType  ,   -  .  This is the first.      inputType Text Password,    ,    ,   .  , . <br><br>      inputType    -    , ,      textEmailAddress,      ¬´¬ª     . <br><br>        . ,   ‚Äî   ,         ,   ,      ,    . <br><br>     imeOptions,       ,          ,  .      .    ,    ¬´¬ª, ¬´¬ª, ¬´¬ª,      . <br><img src="https://habrastorage.org/webt/kq/pf/ch/kqpfchjcjdirfdakpuo_to8-kkc.jpeg"><br>   ,         inputType.    textEmailAddress,      ¬´¬ª   ‚Äî   ,      e-mail. <br><br>  inputType   -  . ,         -    - . <br><br>   inputType=‚Äùphone‚Äù,        .  ,   ,      ‚Äî ,  , ,   . . <br><img src="https://habrastorage.org/webt/7r/lr/sv/7rlrsvwqcog6v6vajtxivrvubcw.jpeg"><br><br>     listener    - ,     .          Done.      ,             .    ‚Äî      . <br><br> Actiondone,   ,    ‚Äî   . <br><br>  ,     -   . , Actionnext            ,        . ,   ,     -    ,  . <br><img src="https://habrastorage.org/webt/ct/wv/qk/ctwvqk9w3ttwqjsyh3mtsxdvwuc.jpeg"><br>     ,       .   -  ,     landscape,  -   .   layout    .   fullscreen-,       ,     -      .   ,   ,       ,   -  ,   layout .    .   ,     ,   : ¬´        ¬ª (  e-mail),      NoExtractUi   imeOptions,      Pipe,        imeOptions ,    action     .   ,    . <br><img src="https://habrastorage.org/webt/ld/oj/aj/ldojajh5h5h_1egvy5y4o7a5ec8.jpeg"><br>    ,     .       layout,            .   . <br><br> -,  UI-   ,    ,     , , ScrollView.  ,        ,      inputType  imeOptions,      XML,        .    ,       . (    .  . ‚Äî . .) <br><br>   ,    ,     - ,         view. <br><br>  ,    ,      - frame layout.    view    frame layout,     . <br><br>       - linear layout.      view,      . <br><br>        -  view.     ? <br><img src="https://habrastorage.org/webt/7g/ro/yt/7groytghgcrogn7f7xhqjuj2s3q.jpeg"><br>        view,     ,      view  ,      -  ,    ,    -  ,      view,      .  ,       .  ,        .    - ,      view. <br><br> -,     view,      ,     ,      .       . <br><br>           ¬´  custom view¬ª. <br><br>     ,      view. <br><br> ,      ‚Äî      view  -   ,     . ,   ,     view   ,  .   ,    view. -,  view   -  ,   -   view . ,  ,      button      .       button  -   .   . <br><br>  Third.  ,     view  ,       Support Library,  ,  -    ,     ,    -  . <br><br>      view    .    -  view,   - : ¬´,    ,   - listener   view,      ¬ª. ,   ,    ‚Äî      view. <br><img src="https://habrastorage.org/webt/xd/pt/fv/xdptfvirysixweos2y5kmw6loew.jpeg"><br>       compound view.   compound view?   . Compound view    compound components (    ).   ,    view group    . <br><br>     ? -,     - layout,      ,     ,  -     -.      .      compound view,    - linear layout, frame layout  . .  ,     performance  . ,   -    relative layout. ,     .      ,     .    view,   view group,      view  . <br><br>          ,   Android   ÃÅ    view, ,  ConstraintLayout, CoordinatorLayout,  FlexboxLayout       ( ,     ).   layout, , ,     -    layout. <br><img src="https://habrastorage.org/webt/m7/oo/yg/m7ooygvcwcpkbzcus8qgy9l-tmw.jpeg"><br>      view.      . <br><br>  , ,  ,       Context   ,     view  . <br><br>  ,     AttributeSet,   ,      ,   view  XML.    LayoutInflater. <br><br>      ?  ,        ,       ,  Button,     ,    .    ,        . <br><br>       buttonStyle.  What is it all about?    ,        ,       ,     ,      view   ,     . <br><br>        ?      Android 5,        . ,   ,    ,     . <br><br> -, ,      Button   . <br><img src="https://habrastorage.org/webt/91/eh/z4/91ehz4gjwe9tq--jlvat1qvhcsu.jpeg"><br>           ,              ,    view    .          view    -   ,     - . <br><img src="https://habrastorage.org/webt/s0/-r/c1/s0-rc1-6gzq8spb6zm73ijn3yik.jpeg"><br><br> ,   ,       view.       .    ,        view   ,   - .  ,    ,     . <br><img src="https://habrastorage.org/webt/fk/to/kp/fktokp2tekpy-kojowyunl8mo5e.jpeg"><br><br>       -  obtainStyledAttributes,      XML,     XML.   attrs, defStyleAttr  defStyleRes ‚Äî      .      styleable?    XML,       ,     declare-styleable ,     view   . ,  obtainStyledAttributes        . <br><br>          TypedArray,      ,   , ,     XML,     - .         TypedArray  Recycle,       TypedArray,       view. <br><img src="https://habrastorage.org/webt/e6/jo/q3/e6joq3ato9ecqvu0cqaxkyowik0.jpeg"><br><br>    ,       ,   .  ,  ,  ,  ,  90%    ,  .          view,  ,  ,     ,        .       obtainStyledAttributes     0. <br><br>          . -   view,        .    ,     -    ,      styleable.CustomView. <br><img src="https://habrastorage.org/webt/fy/5a/vq/fy5avqdogkryiew9qvqlxivrfsm.jpeg"><br> ,    .    view  ,     . ,      ,  ,       ,     -  listener   view.     . <br><br>     ,   view,   ,  ,  ,  ,       . <br><br>         ,      XML,   view    ,        . <br><br>     view,       view,   layout,      ,   . <br><img src="https://habrastorage.org/webt/qo/id/wi/qoidwiykint5bhknpurvgantkog.jpeg"><br> ,    ,  ,   -  ,      ,    .      ,  ,       .    ,     . ,   ‚Äî   .    ,     .    ? ,    ,     Bundle    OnSaveInstanceState     ,       ,   ,    . <br><img src="https://habrastorage.org/webt/ok/bw/j_/okbwj_zqf2vbjkeoi2-nxq1uesu.jpeg"><br>   ,   , -,  ,       ,    ,  ,    -      .  ,   ,                ,     Bundle. <br><br>        . <br><img src="https://habrastorage.org/webt/_q/60/rc/_q60rckrt7ykpywtu4aad28sadq.jpeg"><br>    ,       state.  ,     activity,       , , ,   ‚Äî   activity      , ‚Äî            - ,   activity,     activity  state. , ,  activity  OnSaveInstanceState. , , - state , , ,            state . <br><br>        state?  activity, fragment,      ,  ,   .   view,      - .   view,     ,      state. <br><br>        ? <br><img src="https://habrastorage.org/webt/0x/jd/cj/0xjdcjvfmwvfh7fi6pfkkwjxbje.jpeg"><br> ,    -   EditText, , ,   .     ViewPager,    ,      Spinner      RecyclerView.   view     . <br><br>     ? ,         view. <br><img src="https://habrastorage.org/webt/hy/uv/kb/hyuvkbmas4tuimybz2d-wuiuody.jpeg"><br>   ,   ,     view  ,  .   , ,  ,  ‚Äî    ,      view,   ,      , ‚Äî    , .  ,       Bundle    ,          . <br><br>    ,    drawable.  drawable      Bundle   Parcelable,    Parcelable,    ,      Android 700 ,   .    ,    drawable,     ,  . <br><br>   drawable     Glide  Picasso.    ,    drawable    . <br><img src="https://habrastorage.org/webt/-v/hs/2y/-vhs2ys6wempskj6u5dnxsnkx3g.jpeg"><br>      ?  ,  view    ,   ,      activity   - ,      ,        ,  .     ,            ,       .     . <br><br> ,    ,    ,  -,         . <br><img src="https://habrastorage.org/webt/vh/ng/vy/vhngvyxulgsfkstnldlleke4mqs.jpeg"><br>       ,   .  view,  ,       .    .   view     .       ,       .      RecyclerView,   ListView.      ,     . <br><img src="https://habrastorage.org/webt/iy/9z/sl/iy9zsldn1ex5sacqlzyz9_z3v5u.jpeg"><br><br>  What follows from this?     ,    , , ,   .  ,     -       ‚Äî , ‚Äî   ,      - ,       ,          . <br><br>      ,      ,  ProgressBar. <br><img src="https://habrastorage.org/webt/re/j8/c6/rej8c6jvsy9wfaacsq0eoco82qa.jpeg"><br>    ,       view  ,    .     ,      .     ,      ,    ,     . <br><img src="https://habrastorage.org/webt/5t/ww/oz/5twwozvpuvxrubklvmed0p_go98.jpeg"><br>        -  . <br><br>  , , ,      OnSaveInstanceState   -    .   , , ,  Fragment Manager,      ,     layout,       ,  Back Stack,     . . Activity,    Fragment Manager,    .     , ,    - ,   ,         .    ,      .  ,  ,    .  How does this happen? <br><img src="https://habrastorage.org/webt/vv/8y/i_/vv8yi_1murn187g8fpzsuokxgii.jpeg"><br><br>       , ,  onCreate,     ,     ,       ,       activity       ,  ,  ,     , , ,  - . <br><br>    ,      ? <br><img src="https://habrastorage.org/webt/cu/gf/oq/cugfoq-bzdlrnebk7k_velpx2so.jpeg"><br><br>   , ,     .   .     activity ,     -    .    , ,     ,    -    .    ,   , ,  . <br><br>  ,      :  Fragment Manager     . <br><br>  ,  ,    ,    ,   ,    DialogFragment.  .   , ,  ,   DialogFragment ‚Äî     ,          .      . <br><img src="https://habrastorage.org/webt/za/y5/9a/zay59aum5sl9oay04myuxjz1wog.jpeg"><br>        .     . <br><br> -,      UI   ,      . <br><br> -,     layout,     ,      layout,    ,       ,      ,     . <br><br> -,  view     .      ‚Äî        view?     - XML   view,      -       ? <br><br>    ‚Äî    ,      .         .    , ,    ,    . <br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">On this I would like to finish the first part. </font><font style="vertical-align: inherit;">Thank you very much for your attention.</font></font></div><p>Source: <a href="https://habr.com/ru/post/343770/">https://habr.com/ru/post/343770/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../343758/index.html">Using Bash in SQL style</a></li>
<li><a href="../343760/index.html">Programming on the phone using the Termux terminal emulator</a></li>
<li><a href="../343762/index.html">AI systems have learned how to create smart models for ML: a digest for beginners.</a></li>
<li><a href="../343764/index.html">The digest of interesting materials for the mobile developer # 232 (November 27-December 3)</a></li>
<li><a href="../343766/index.html">When you start a startup and find out that it is not a startup at all</a></li>
<li><a href="../343772/index.html">‚ÄúI am watching you‚Äù or how to make SCADA from CADa (MultiCAD.NET API)</a></li>
<li><a href="../343774/index.html">Hole from a hosting provider or how to get access to a remote (not active) account</a></li>
<li><a href="../343776/index.html">Ideal catalog, data sample optimization</a></li>
<li><a href="../343778/index.html">Entity-Component-System Design Pattern - implementation and sample game</a></li>
<li><a href="../343780/index.html">Virtual Pentest Laboratory</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>