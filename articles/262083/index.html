<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Wallix vs balabit. Comparison of admin control software [rdp]</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Increasingly, large companies are thinking about controlling and tracking access to business-critical servers. Who went in, what did and when? Integra...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Wallix vs balabit. Comparison of admin control software [rdp]</h1><div class="post__text post__text-html js-mediator-article">  Increasingly, large companies are thinking about controlling and tracking access to business-critical servers.  Who went in, what did and when?  Integrated logging is not always convenient and ‚Äúreadable‚Äù, and now products for the ‚Äúcontrol of privileged users‚Äù gradually began to enter the Russian market.  It seemed to me interesting to compare the two "main" products of this line, namely, Balabit Shell Control Box and Wallix Admin Bastion. <br><br>  <i>Note: To reduce the length of the article, the comparison will be only in the context of the rdp protocol and the functional as a whole, resulting in a relatively general character.</i>  <i>The ssh protocol is also supported by these products, but in this article it is NOT considered, so as not to interfere with everything "in one pile".</i> <br><img src="https://habrastorage.org/files/825/fe1/a44/825fe1a449c94b078d5bc5ae087a7b48.png"><br><a name="habracut"></a><br><h1>  Who needs admin control systems? </h1><br>  In our computerized time, the system administrator became almost the ‚Äúking and god‚Äù of the Company's IT space.  As a result of this, the management prefers not to interfere with them and, if possible, to make concessions, because leaving ‚Äúin a bad way‚Äù, the former administrator can cause decent damage to the business.  Therefore, the phrase ‚Äúadmin control‚Äù itself may seem to many top 5 employees to get rid of a delicate problem and a great solution, but ... is everything so simple?  Of course not.  Therefore, in the first place, I would like to briefly identify the companies in which <i>really</i> similar products can bring some kind of positive exhaust.  The list was born on the basis of its own experience and does not claim to be the ultimate truth, i.e.  is initially subjective. <br><br>  So, "control admins" useful: 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <ul><li>  Companies, the number of system administrators in which exceeds ~ 7-10 people; </li><li>  For companies whose IT support is provided by a third-party organization (outsourcing); </li><li>  Companies with specific software that need to be sent to the target servers of the vendor \ distributor; </li><li>  Companies that are tormented by regulators and require them to comply with different standards (did not encounter, but do not rule out). </li></ul><br>  In other cases, the use of software to control admins, as a rule, is not advisable. <br><br>  Both of the systems described below are a hardware or virtual appliance based on several modified unix systems: Wallix is ‚Äã‚Äãdeployed based on Debian, Balabit is ZorpOS.  The required hardware capacity depends on the number of active users and the number of protected servers. <br><br><h1>  How it works - Wallix Admin Bastion </h1><br>  Wallix can only work in the "bastion" mode at the application level of the OSI model, i.e.  put in a network break in an explicit form visible to the administrator.  On the Wallix server, rules are configured (about them below), on the basis of which he skips \ blocks administrator connections.  The administrator connects to the wallix server using the rdp protocol (standard port) and logs in with the help of the created local account (or imported from AD).  After that, he is provided with an available list of pairs of server + final accounting, and he chooses the server he needs.  Wallix itself can substitute the password for the final account, but you can also request this password from the administrator.  For clarity, the logical connection diagram is shown below: <br><img src="https://habrastorage.org/files/09f/6dc/449/09f6dc4495f247b0af9401e893c3e09c.png"><br>  <i>Logic diagram for connecting admins to protected servers via Wallix</i> <br><br>  The Wallix settings are binary (true-false \ can-not) mappings between two types of groups: groups of user accounts on Wallix itself (can be replaced with user accounts imported from AD) and a group of Server + final account pairs. <br><br><img src="https://habrastorage.org/files/bd1/92d/12e/bd192d12eb5946f9a86d45a1d8e921dc.png"><br>  <i>The form of adding / editing the protected server and the final account</i> <br><br>  The number of such comparisons, as well as the groups themselves, is not limited and on their basis an access matrix is ‚Äã‚Äãbuilt up to whom and where to connect. <br><br>  Wallix stores rdp records in the form of video clips (in file form) that can be driven through the built-in text recognizer (ocr), and then searched by titles (search by titles within more than one video was promised to be screwed in the next versions). <br><br><img src="https://habrastorage.org/files/3b3/1ef/2ac/3b31ef2aca2c4c06b766511422431845.png"><br>  <i>List of saved video records rdp-sessions</i> <br><br>  <b>How can you "force" the admin to go to the right servers through wallix?</b> <br><br><ul><li>  The closure of routes at the network level, coupled with the organizers, ‚Äúeither way or the other way, otherwise severe measures will follow ...‚Äù; </li><li>  Allow access to protected servers only under specially created domain accounts, the password for which Wallix will change once per hour \ day \ week \ month (passwords are sent in encrypted form to the specified box. You need a GPG certificate and a ZK for it). </li></ul><br>  <u><b>Product Benefits</b></u> <br><ul><li>  Simple, uncomplicated setup; </li><li>  Stable operating mode "bastion", the possibility of dual authorization and the preparation of an appropriate access matrix based on it; </li><li>  Ability to integrate with multiple AD. </li></ul><br>  <u><b>Product cons</b></u> <br><ul><li>  There is no <b>consistently</b> working "transparent" mode.  The one that is declared works with a tambourine and through a stump-deck or does not work at all; </li><li>  There are unrecorded production nuances (version 4.2), which have to be closed with crutches and on the run. </li></ul><br><h1>  How it works - Balabit Shell Control Box </h1><br>  Balabit is also put in a ‚Äúgap‚Äù, but it can work in several modes on different OSI models.  At the same time, the setting of the "transparent" \ "opaque" mode is made directly in the connection itself, which is very convenient from the point of view of the "fine" setting of a particular connection. <br><br><h3>  "Transparent mode" </h3><br>  The main advantage of Balabit is that it can work in a ‚Äútransparent‚Äù mode, staying on the network in a form hidden to administrators.  IP spoofing allows you to make it ‚Äúinvisible‚Äù even for FW and routers, substituting the PC administrator's IP address as ip-src, so there is no need to configure separate permissions for it on the network equipment. <br><br>  For balabit to work in transparent mode, the corresponding routes are written on the router (that all traffic from the subnetwork N is sent to the Balabit IP address).  At the same time, traffic that balabit cannot recognize (to detect controlled protocols in it) will be passed on without any further changes (to the specified gateway). <br><br>  <i>Note: in transparent mode, authorization is not performed on the balabit server, however, the system records, under what account, the administrator logged in to the protected server, which allows you to subsequently set the required filters and find the desired video clip.</i> <br><br>  The balabit settings have a cut on the protected servers - each server has its own instantaneous settings and access rights (for transparent mode: from which network you can connect to the protected server).  The option of settings is presented below: <br><br><img src="https://habrastorage.org/files/839/67f/b0d/83967fb0def546ca8ec7d148d68512d5.png"><br>  <i>Settings for access to the protected server via balabit</i> <br><br>  In transparent mode, the main layer of settings falls on the routing of traffic and setting up network equipment.  The settings on balabit itself are minimal and operate with ip-addresses from which they access protected servers, and not users and their rights, as implemented in Wallix. <br><br><h3>  Bastion Mode </h3><br>  Bastion mode has several implementations: <br><ol><li>  TS Gateway mode.  In this mode, the DNS name of the balabit server is set up in the rdp client as the gateway server of remote desktops.  This mode uses certificates, encrypting traffic both to TS GW (balabit server certificate), and from balabita to the protected server (either a certificate generated on the fly, or downloaded to balabit).  With this connection, it is possible to substitute the password of the final account set up in advance on the balabit server, so the administrator may not know the credentials for connecting to the protected server.  However, balabit itself does not automatically know how to change passwords and somehow ‚Äúmanage‚Äù them.  Integrates with a separate SSO system Thycotic Secret Server. <br><br>  <i>Note: Such a scheme is quite capricious in its performance, because</i>  <i>requires a fairly decent amount of fine tuning and understanding what is being configured and why.</i>  <i>Sometimes there can be some unpredictable ‚Äúgags‚Äù (for example, when a proxy is written in the browser properties, the rdp-client refused to resolve the DNS name of the server balabit).</i> <br><br></li><li>  Mode "Authorization on GW".  In this mode, the administrator <s>needs to have two monitors, you</s> will need to start connecting to the protected server, after initializing the connection, log in to the balabit web interface and ‚Äúallow‚Äù your connection.  This connection option also requires network traffic routing and corresponding settings on the router (s). </li><li>  Mode "4 eyes."  The principle of operation is the same as in paragraph 2, but here another person should ‚Äúallow‚Äù. </li></ol><br><br>  For each mode, there are their own settings, which now would not want to go deep.  Suffice it to say that sometimes the eyes of the number of fields run up :)) <br><br>  The system also stores all the sessions in the form of video clips.  OCR is produced once.  The search for the recognized text in all videos is already present.  To view the session, you need client software (Audit Player), which comes with the distribution kit and is installed on the operator's PC with MS-OS onboard. <br><br><img src="https://habrastorage.org/files/d54/d3c/8e4/d54d3c8e49104e45a582570fae47a353.png"><br>  <i>List of saved video records rdp-sessions</i> <br><br>  <u><b>Product Benefits</b></u> <br><ul><li> Able to work stably and professionally in transparent-MiTM mode; </li><li>  It has many subtle settings for almost every taste; </li></ul><br>  <u><b>Product cons</b></u> <br><ul><li>  Integrates with only one AD (requires input to AD); </li><li>  The "bastion" mode sometimes requires dances with a tambourine and long-term smoking of manulas; </li><li>  Cannot manage passwords; </li><li>  Dual authorization has a rather confusing character and temper; </li></ul><br><h1>  Summarizing </h1><br>  As can be seen from the text above, each product has its own strengths and weaknesses - it all depends on the pool of tasks assigned to it.  The comparison did not involve all the capabilities of the systems. <br><br>  I would also like to separately note that, by the type of Wallix, the CyberArk system is present on the market, which has a similar but more advanced functionality in the "bastion" mode.  The basis of its work is the mechanism of MS Remote Application, which has increased the number of supported protocols and connectivity.  Unfortunately, the author does not have sufficient competence to add it to the comparison, however, he considers it to be silent about it as criminal. </div><p>Source: <a href="https://habr.com/ru/post/262083/">https://habr.com/ru/post/262083/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../262073/index.html">Horizontal scaling of database servers for OLTP systems, or what is on the market</a></li>
<li><a href="../262075/index.html">Writing for Apple Watch something harder Hello, world</a></li>
<li><a href="../262077/index.html">Digest of grocery design, June 2015</a></li>
<li><a href="../262079/index.html">Visualization of static and dynamic networks on R, part 1</a></li>
<li><a href="../262081/index.html">My encryption algorithm</a></li>
<li><a href="../262085/index.html">We are looking for speakers! AndroidDevs Meetup 2</a></li>
<li><a href="../262087/index.html">Interview with the coordinator of the Code Club project on teaching children 9-11 years old the basics of programming</a></li>
<li><a href="../262089/index.html">Adding an OpenCV library to an Android Studio project</a></li>
<li><a href="../262091/index.html">Mikrotik VRF + NAT - Managing devices with the same IP address from one host</a></li>
<li><a href="../262093/index.html">Gangbang, protein window and poker with ballerinas: Robots Office Dictionary</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>