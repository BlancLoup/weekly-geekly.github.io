<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Set up the Strava heatmap layer in OsmAnd</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="The OsmAnd application for phones on the android operating system has the ability to add additional layers to OSM (Open Street Map) maps. A useful add...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Set up the Strava heatmap layer in OsmAnd</h1><div class="post__text post__text-html js-mediator-article">  The OsmAnd application for phones on the android operating system has the ability to add additional layers to OSM (Open Street Map) maps.  A useful addition to your navigation system will be the Strava heatmap layer, the result of the tracks, runners, cyclists, and swimmers recorded during trips and workouts.  Visualization of this data allows us to find, on one side, the most popular routes, highlighted by impressive lanes, in navigation, and to determine the cross-country ability or throughput of the site on the terrain through thin threads of single tracks. <br><br>  Since 2018, Strava labs has provided free access to low-resolution tails.  This happened, apparently, for ‚Äúsafety assurance‚Äù in response to publications about a massive declassification of the location of user training. <br><br>  To search for popular routes of low detailing is quite enough, but in order to assess whether we pass a part of the terrain, we need records of single tracks. <br><a name="habracut"></a><br>  I will give an example.  In the screenshot of the phone screen you can see that the descent along the path down the Akhun mountain to the Agursky waterfalls (1) is a fairly popular hiking and cycling (note, only for bicycle extremes!) Route.  But to overcome the slope of 1.5 km from the road to the top of Akhun to the Chertovy Vorota canyon (2) on the Khost river, the final point of the Yew-boxwood trail (3), with all the seductiveness of such a walk is unlikely to work.  When approaching the map, it will be visible on the single tracks that there have been attempts at such an obvious challenge, but they all ended in failure. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <img src="https://habrastorage.org/webt/2c/mu/3a/2cmu3ak1dyljxgoeyri8ldqatr0.jpeg"><br><br><h1>  Connect OsmAnd Strava heatmap in low resolution </h1><br>  Let's look at how to set up the Strava heatmap layer on your smartphone.  To connect heatmap in OsmAnd in low resolution, create a new source for the layer (Menu -&gt; Configure Map -&gt; Map Source -&gt; Set / Edit ...) <br><br><img src="https://habrastorage.org/webt/ko/be/ag/kobeagzbmmalddhbdvvkxop8-nq.jpeg"><br><br>  Name the new layer, for example, heatmap cycling (not detailed) <br>  We set the URL for downloading the emails: <br><pre><code class="1c hljs">https:<span class="hljs-comment"><span class="hljs-comment">//heatmap-external-{switch:a,b,c}.strava.com/tiles/cycling/bluered/{zoom}/{x}/{y}.png?px=256 tiles/ -     cycling/ -  ,     ride, both, all bluered/ -  ,    hot, grey ?px=256 -    OsmAnd</span></span></code> </pre> <br><br>  You can choose a suitable representation of the layer in OsmAnd by switching the settings on the Strava map. <br>  For hiking, for example, adjust the bluered palette, and for the bike hot and switch depending on your trip.  The differences between these ‚Äúhitmaps‚Äù are minimal, but sometimes these differences are important.  Where there is a mountain path and you can go, it is not always possible to drive. <br><br><h1>  Setting the detailed layer Strava heatmap </h1><br>  In order to display detailed tails in your OsmAnd, you will need to specify a different path to the images (/ tiles-auth) and add authorization to the source for the card, which we will take from browser cookies. <br><br>  Link example: <br><pre> <code class="1c hljs">https:<span class="hljs-comment"><span class="hljs-comment">//heatmap-external-{switch:a,b,c}.strava.com/tiles-auth/running/bluered/{zoom}/{x}/{y}.png?px=256&amp;Key-Pair-Id={1}&amp;Signature={2}&amp;Policy={3} : {1} = CloudFront-Key-Pair-Id {2} = CloudFront-Signature {3} = CloudFront-Policy</span></span></code> </pre><br><br>  To get these settings, log in to Strava and copy the corresponding cookie values.  In Chrome, type in the address bar: chrome: // settings / cookies / detail? Site = strava.com.  To view cookies in Firefox, press Shift + F9. <br><br>  An example of a Front-Policy field value to add to a URL. <br><br>  Set the transparency adjustment of the coverage map, using this slider you can adjust the optimal view of the map. <br><br>  Check the size of the data / net.osmand / files / tiles folder where downloaded maps are cached.  I have accumulated 0.5 Gb in 2 weeks of use.  When deleting folders with images of maps of different scales, save the .metainfo file <br><br><img src="https://habrastorage.org/webt/pb/ya/rg/pbyargq9szweyvyiuy_erftfpy8.jpeg"><br><br><h3>  Finally </h3><br>  Customize your maps in OsmAnd, enjoy popular routes, look for difficult, but interesting, carefully plan to overcome the places where no one has ever walked or traveled.  Interesting and safe travel! </div><p>Source: <a href="https://habr.com/ru/post/450124/">https://habr.com/ru/post/450124/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../450112/index.html">Eh, what happened to the suitcases? On the example of a children's suitcase-scooter ZINC</a></li>
<li><a href="../450114/index.html">That we implemented in EWM thanks to your advice</a></li>
<li><a href="../450116/index.html">Operating Systems: Three Easy Pieces. Part 5: Planning: Multi-Level Feedback Queue (translation)</a></li>
<li><a href="../450118/index.html">Stream the screen to multiple devices over the network</a></li>
<li><a href="../450122/index.html">Startup Digest: Genetics (January - March 2019)</a></li>
<li><a href="../450126/index.html">Backdoor and Buhtrap encoder distributed using Yandex.Direct</a></li>
<li><a href="../450128/index.html">Using Minolta AF optics (Sony A-mount) on modern mirrorless Sony cameras</a></li>
<li><a href="../45013/index.html">In garbage. In garbage? In garbage!</a></li>
<li><a href="../450130/index.html">Do teams survive after hackathon?</a></li>
<li><a href="../450132/index.html">Unable to explain monad</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>