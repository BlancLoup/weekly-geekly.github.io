<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>What I don't like in C and C ++</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Please do not read professional C / C ++ programmers). 

 In the article, I express my point of view, if they disagree - justify in the comments. 
 Th...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>What I don't like in C and C ++</h1><div class="post__text post__text-html js-mediator-article">  Please do not read professional C / C ++ programmers). <br><br>  In the article, I express my point of view, if they disagree - justify in the comments. <br>  The purpose of this article is to point out the shortcomings of C and C ++, which I really dislike and encourage you to use the new version of the language or maybe even offer some ideas for improving the standard. <br><br>  Well, it's time to rekindle the holivar. <br><a name="habracut"></a><br>  I think everyone knows that it‚Äôs awesome strings in C ++.  Especially if we are talking about the old type, in the new string a lot has been fixed and improved, but there is still no support for Unicode (!). 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      In the standard C ++ 20, they seem to be about to introduce unicode strings. <br><br>  C ++ 20!  And this is despite the fact that C ++ has <b>existed since 1983</b> . <br><br>  Open your favorite IDE and try to compile the following code: <br><br><pre><code class="cpp hljs"><span class="hljs-meta"><span class="hljs-meta">#</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">include</span></span></span><span class="hljs-meta"> </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">&lt;iostream&gt; #include &lt;cstdio&gt; int main() { char string [256]; std::cout &lt;&lt; ": "; gets(string); std::cout &lt;&lt; ": " &lt;&lt; string; return 0; }</span></span></span></span></code> </pre> <br>  UPD1: the commentator says that krakozyabry only on Windows.  That's for sure, I forgot to write about it. <br>  But still unpleasant. <br><br>  I compiled in Dev Cpp, the GCC compiler. <br><br>  Compile and see: <br><br><img src="https://habrastorage.org/webt/ws/9t/vp/ws9tvpaleonjqbeffnhntdzaqb4.png"><br><br>  Good screen output, huh? <br><br>  Now let's replace char string [256] with char * string. <br><br>  I‚Äôm not saying that this should work, but the compiler should have thrown the error to its maximum. <br><br>  We got a work program that hung. <br>  It would be better if the compiler threw an error. <br>  And the whole garbage is that the compiler is not only compiling it, it has not yet <br>  Gave out warnings. <br><br>  Here's another joke: <br><br><pre> <code class="cpp hljs"><span class="hljs-meta"><span class="hljs-meta">#</span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword">include</span></span></span><span class="hljs-meta"> </span><span class="hljs-meta-string"><span class="hljs-meta"><span class="hljs-meta-string">&lt;iostream&gt; using namespace std; int main(){ int arr[100]={}; cout&lt;&lt;arr[101]&lt;&lt;endl; return 0; }</span></span></span></span></code> </pre><br>  What do we expect?  The compiler will tell us that it is impossible to refer to 101 array elements, since there are only 100 elements. But we compile, run and see ... 32765 (at least on my hardware). <br><br>  Hmm. <br><br>  Now let's test this code: <br><br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">int</span></span> i = <span class="hljs-number"><span class="hljs-number">5</span></span>; i = ++i + ++i; <span class="hljs-built_in"><span class="hljs-built_in">std</span></span>::<span class="hljs-built_in"><span class="hljs-built_in">cout</span></span>&lt;&lt;i;</code> </pre><br>  What do you think he will bring? <br><br>  The correct answer depends on the compiler. <br><br>  In GCC it will be 14, but depending on the optimization flags. <br><br>  In a different compiler, this can easily be 12 ... <br><br>  I think everyone knows that in C and in the pluses a bunch of syntactic sugar, which is not always needed. <br><br>  For example, <code>std::cout&lt;&lt;4["string"];</code>  This is a valid code <br>  It prints n, as well as <code>std::cout&lt;&lt;"string"[4];</code> <br><br>  Great, huh? <br><br>  And now about the patient. <br>  C ++ and network. <br>  These are 2 sooo badly matched concepts. <br>  Try to just download the image of the cat from your favorite site using the standard C ++ library. <br>  This was not possible until the adoption of the C ++ 17 standard. <br>  In the same standard library you cannot work with JSON. <br>  Excellent comment about this. <br><blockquote>  In general, working with JSON in C ++ is like a nightmare. <br></blockquote>  <a href="https://habr.com/post/276305/">Source of</a> <br>  Do you think the condition will always be false? <br><br><pre> <code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">sizeof</span></span> (<span class="hljs-string"><span class="hljs-string">'a'</span></span>) != <span class="hljs-keyword"><span class="hljs-keyword">sizeof</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">char</span></span>)){ <span class="hljs-comment"><span class="hljs-comment">//do something }</span></span></code> </pre><br>  No, you are mistaken. <br><br>  If you compile it as a c ++ project, then the condition is likely to fail. <br>  Should not. [1] <br>  And if like a C project, then in that case sizeof ('a') == sizeof (int). <br>  That's it. <br>  [1] In general, many different C and C ++ compilers are also a problem. <br>  Because a lot of solutions are non-standardized and they will work only in certain compilers. <br><br>  For example, 128 bit numbers in C ++.  In gcc and clang there is the type __int128, while in Visual Studio it is not, because it is not a standard.  Or, for example, strings in Visual Studio. <br><br><pre> <code class="cpp hljs">String^ MyString3 = <span class="hljs-string"><span class="hljs-string">"Hello, world!"</span></span>; <span class="hljs-comment"><span class="hljs-comment">//   GCC</span></span></code> </pre><br>  Or, for example, in the old Borland C ++ Builder, you can code written in Object Pascal. <br>  And there are many such moments. <br><br>  Of particular pain is the lack of a list of C and C ++ packages. <br><br>  What follows from this?  Use the new version of C ++, for example C ++ 17 and some problems will be solved. <br><br>  I must say that in the nearest competitor C ++ - Rust there are not most of the problems from this list, for example, there is a wonderful cargo, but of course it is not perfect either. <br><br>  And what problems C and C ++ do you know? <br>  Write in the comments. <br><br>  UPD: Many people seem to have misunderstood my article: <br><blockquote>  In no case do I want to criticize C / s ++ and say write on the plant. <br>  Just pointing out the flaws in s / s ++, because they got a bit of it myself. </blockquote><br>  Everything has its drawbacks, I just shared my thoughts. <br>  UPD2: <br><br>  In the comments, many people write that this is how OS works and in general it is a feature.  You guys are wrong. <br>  The same proof that you can make a system programming language in which it is not so easy to shoot yourself in the foot. <br><br>  It‚Äôs just that C / C ++ is full of solutions that nobody can fix, because it can break backward compatibility. <br><br>  And yes, this is my opinion, it is <b>subjective</b> . <br><br>  If you do not agree - better comment, and not stupidly minus, because the opinion of all of us <br>  subjectively. </div><p>Source: <a href="https://habr.com/ru/post/432488/">https://habr.com/ru/post/432488/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../432476/index.html">UBS analysts: by 2030, the revenue of the Alphabet unit for the development of unmanned vehicles will be $ 114 billion</a></li>
<li><a href="../432478/index.html">Donald Knut: "3:16" - a book about the Bible (72,73,74 / 97)</a></li>
<li><a href="../432482/index.html">Google trainee mistakenly launched a yellow box ad campaign with a budget of about $ 10 million</a></li>
<li><a href="../432484/index.html">Global AI & MR Bootcamp Moscow 2018</a></li>
<li><a href="../432486/index.html">Why driving a car is a challenge even for an AI</a></li>
<li><a href="../432492/index.html">5 books that Bill Gates advises in 2018</a></li>
<li><a href="../432494/index.html">IntelliCode now in TypeScript / JavaScript</a></li>
<li><a href="../432496/index.html">Conference DEFCON 18. You have spent all this money, but you continue to "have". Part 2</a></li>
<li><a href="../432498/index.html">Definition of numbers at the hearing: implementation on the Arduino</a></li>
<li><a href="../432500/index.html">PMP Certification: Application Audit</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>