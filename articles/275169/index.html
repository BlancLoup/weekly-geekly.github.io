<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Algorithmic Trading: Finding an Efficient Data Processing Method Using FPGA</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="A group of researchers from the University of Toronto has published a paper on the use of FPGA to increase the efficiency of event processing in algor...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Algorithmic Trading: Finding an Efficient Data Processing Method Using FPGA</h1><div class="post__text post__text-html js-mediator-article"> <a href="http://habrahabr.ru/company/itinvest/blog/275169/"><img src="https://habrastorage.org/files/4a4/453/752/4a4453752492407e8a1be8ebf9d27f8e.png"></a> <br><br>  A group of researchers from the University of Toronto has published a <a href="http://msrg.org/publications/pdf_files/2010/moTrading-Efficient_Event_Processing_through_.pdf">paper</a> on the use of FPGA to increase the efficiency of event processing in algorithmic trading on the exchange.  We present to you the highlights of this document. <br><a name="habracut"></a><br><h4>  Introduction </h4><br>  Currently, high-frequency trading dominates the financial markets (according to various sources, the proportion of transactions made using algorithms is now about 70%).  Accordingly, the importance of optimizing the processes of order execution and processing of transactions and events occurring in the market is constantly growing - the competition is so strong that microseconds decide everything. <br><br>  Successful strategies can bring profits to their creators, playing even on microscopic differences in the prices of related assets on different stock exchanges - for example, if a certain company shares are traded on the New York Stock Exchange at $ 40.05, and in Toronto - at $ 40.04 , the algorithm has to buy into a stock in Canada and sell it in the USA.  Every millisecond won here can result in millions of profits on the horizon of the year. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Algorithmic trading can be modeled as an event processing platform in which financial news and market data are treated as events, such as [stock = ABX, TSXask = 40.04, NYSEask = 40.05], and investment strategies are formulated by financial institutions or investors in the form of subscriptions: [ stock = ABX, TSXask 6 = NYSEask] or [stock = ABX, TSXask ‚â§ 40.04]. <br><br>  Thus, a scalable event processing platform must be able to efficiently find all investment strategies (subscriptions) that correspond to incoming events ‚Äî and there may be millions of such events per second. <br><br><h4>  Why use FPGA </h4><br>  The most resource-intensive aspect of the event handling process is matching.  The algorithm accepts an input event (a flow of quotations, market events) and a set of subscriptions (that is, investment strategies) and returns subscriptions for which matches are found with market events. <br><br>  Dealing with data processing efficiency requirements in networks with ever-increasing throughput is not a trivial task.  Simultaneously with the increase in throughput, the volumes of processed data are growing.  At the same time, building not too expensive systems to work in such a situation is also not easy due to the fact that the existing technologies for creating processors are approaching their limit and their performance is not growing as fast as it was before. <br><br>  Popular servers often fail to handle market data at the right speed.  As a result, traders and financial institutions are faced with the need to improve the performance of their infrastructure.  You can speed up the work of algorithms not only by purchasing additional servers, but also using FPGA. <br><br><h4>  Soft-processing approach </h4><br>  The hardware reconfiguration capability allows FPGAs to use <a href="https://ru.wikipedia.org/wiki/Soft-%25D0%25BC%25D0%25B8%25D0%25BA%25D1%2580%25D0%25BE%25D0%25BF%25D1%2580%25D0%25BE%25D1%2586%25D0%25B5%25D1%2581%25D1%2581%25D0%25BE%25D1%2580">soft microprocessors</a> , which have several important advantages.  They are easier to program (this means that you can use C instead of Verilog, which requires specialized knowledge), they can be ported to different FPGAs, they can be customized, in addition, they can be used to interact with other parts of the system. <br><br>  In the current example, the FPGA is located on the NetFPGA network card and communicates with the host machine via DMA on the PCI interface.  The FPGA has programmable pins that provide a direct connection to the memory and network interfaces ‚Äî in a normal server, you can interact with them only through the interface of the network card. <br><br>  For the experiments, a solution was created based on Soft-microprocessors, working on NetFPGA, as well as the basic version for working with PCs - both implementations used the same match strategy. <br><br><img src="https://habrastorage.org/files/314/bdc/56a/314bdc56a144423e80d48799e39181f3.png"><br><br>  <i>Soft microprocessor implementation</i> <br><br>  To increase the bandwidth of the event-handling application, NetThreads was selected, which has two single-task, five-step, multi-threaded processors. <br><br>  In a single core, instructions from the four ‚Äúiron‚Äù threads are processed in a manner similar to round-robin ‚Äî this allows you to perform calculations even if you need to wait for memory.  Such a system is well suited for handling events: Soft-processors do not suffer from overloads of the operating system, which ordinary computers are subject to, they can receive and process packets in parallel, with minimal resources, and they have access to a higher resolution timer (much larger than on a PC) for processing timeouts and scheduling operations. <br><br>  Due to the absence of the operating system in NetThreads, the packets are considered as memory buffers of characters and are available immediately after their full receipt by the processor (skipping step with copying to the application in user space). <br><br><h4>  Only "iron" </h4><br>  The second approach used meant the creation of an exclusively hardware solution: all the necessary steps are carried out by ‚Äúcustom‚Äù iron components, including they are used to parse market events and match them with the appropriate strategies.  This method allows you to achieve the greatest performance, but it is also the most difficult. <br><br><img src="https://habrastorage.org/files/680/fa9/af0/680fa9af07fc458b93b07586a123c9a1.png"><br><br><h4>  Hybrid approach </h4><br>  Due to the complexity of using only hardware to support dynamic strategies and event formats, a hybrid approach can be used, combining the advantages of the two schemes described above.  Since FPGAs are usually programmed in low-level languages, it is rather difficult to maintain the work of the communication protocols created in this way. <br><br>  This problem can be avoided by running a soft microprocessor to implement packet processing using software.  After parsing incoming packets with market data, a soft microprocessor transfers them to the hardware. <br><br><img src="https://habrastorage.org/files/2ea/2d2/27b/2ea2d227bc6846a6adb9e08a179d7c2e.png"><br><br><h4>  Conclusion </h4><br>  As a result of various approaches - using the PC as a base case, a soft approach, only hardware and a hybrid method - researchers were able to collect data on the effectiveness of each of the presented methods for handling market events. <br><br><img src="https://habrastorage.org/files/2f2/63e/414/2f263e414551482d954817a6cf80eaf1.png"><br><br>  The load during the experiments changed from 250 to 100 thousand analyzed investment strategies.  As a result, the use of a hybrid approach made it possible to overtake other methods by two or more orders of magnitude (the results are presented in the table above). </div><p>Source: <a href="https://habr.com/ru/post/275169/">https://habr.com/ru/post/275169/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../275159/index.html">Resist adding new libraries to your project.</a></li>
<li><a href="../275161/index.html">Hacking bank cards, cars and instant messengers and other features of education at the best magistracy in the Netherlands</a></li>
<li><a href="../275163/index.html">IaaS useful digest</a></li>
<li><a href="../275165/index.html">Safe doors, or continue to design ACS TP</a></li>
<li><a href="../275167/index.html">Intelligence agencies allegedly exploited Juniper vulnerabilities</a></li>
<li><a href="../275171/index.html">Tips and tricks for deploying a test automation process from scratch</a></li>
<li><a href="../275173/index.html">User feedback based on Intel RealSense technology</a></li>
<li><a href="../275175/index.html">Support our students</a></li>
<li><a href="../275181/index.html">Chrome add-on PushAll returns the capabilities of the Alert Center and complements it</a></li>
<li><a href="../275183/index.html">OpenSSH cryptographic software fixes dangerous vulnerability</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>