<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>My 5 favorite features in the Play Framework</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="About Play already wrote on Habr√©: Excellent Java MVC framework and the 'Hello World' tutorial . In this article, Thomas R√∂mer from ZeroTurnaround tal...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>My 5 favorite features in the Play Framework</h1><div class="post__text post__text-html js-mediator-article">  About Play already wrote on Habr√©: <a href="http://habrahabr.ru/blogs/java/106744/">Excellent Java MVC framework</a> and the <a href="http://habrahabr.ru/blogs/java/111420/">'Hello World' tutorial</a> .  In this article, Thomas R√∂mer from <a href="http://www.zeroturnaround.com/">ZeroTurnaround</a> talks about his favorite tweaks in Play!  framework. <br><br>  Over the past year I have been developing two projects with Play!  Framework.  This is the <a href="http://www.zeroturnaround.com/jrebel/license-server/">JRebel</a> and <a href="http://www.zeroturnaround.com/liverebel/">LiveRebel</a> <a href="http://www.zeroturnaround.com/jrebel/license-server/">license server</a> .  I tried different frameworks for these two tasks, and in the end my choice came down to two candidates: <a href="http://struts.apache.org/">Struts</a> and <a href="http://www.playframework.org/">Play!</a>  <a href="http://www.playframework.org/">Framework</a> .  Play!  seemed more <strong>risky, fun, rebellious</strong> , while Struts was considered something of an old workhorse that works and is guaranteed to achieve results.  After some disputes in the team, we decided to take a chance and try Play! .. Since then I have loved some of the features of Play!  more than others and would like to share my love. <br><br><a name="habracut"></a>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h3>  My 5 favorite fishes in Play!  Framework </h3><br><ol><li>  <a href="https://habr.com/ru/post/116522/">Tasks (Jobs) - perform work in the background</a> </li><li>  <a href="https://habr.com/ru/post/116522/">Patterns - intuitive and productive</a> </li><li>  <a href="&amp;xid=17259,1500004,15700022,15700186,15700190,15700253,15700256,15700259&amp;usg=ALkJrhjys_nZyMhNeh-hjV0DKrFK2GxRLQ#">Mapping and URL redirection - horror as easy</a> </li><li>  <a href="https://habr.com/ru/post/116522/">Testing - forced and half done for you</a> </li><li>  <a href="https://habr.com/ru/post/116522/">Quick changes - happy and productive developers</a> </li><li>  <a href="https://habr.com/ru/post/116522/">findings</a> </li></ol><br><br><h4>  Tasks (Jobs) </h4><br><br>  Tasks in Play!  frameworks offer a way to run program logic in "background mode".  Play!  take care of their life cycle and time of execution.  For example, if you want to run something every five minutes, you simply use the <code>@Every(‚Äú5min‚Äù)</code> annotation <code>@Every(‚Äú5min‚Äù)</code> , and the task will be executed every 5 minutes.  I will give for example the class <code>MemoryUsageLogger</code> , which logs the amount of memory used.  Kill yourself how easy it is! <br><br><pre> <code class="java hljs"><span class="hljs-meta"><span class="hljs-meta">@OnApplicationStart</span></span> <span class="hljs-meta"><span class="hljs-meta">@Every</span></span>(<span class="hljs-string"><span class="hljs-string">"5min"</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-class"><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">class</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">MemoryUsageLogger</span></span></span><span class="hljs-class"> </span><span class="hljs-keyword"><span class="hljs-class"><span class="hljs-keyword">extends</span></span></span><span class="hljs-class"> </span><span class="hljs-title"><span class="hljs-class"><span class="hljs-title">Job</span></span></span><span class="hljs-class"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">private</span></span> <span class="hljs-keyword"><span class="hljs-keyword">volatile</span></span> <span class="hljs-keyword"><span class="hljs-keyword">boolean</span></span> maxPrinted = <span class="hljs-keyword"><span class="hljs-keyword">false</span></span>; <span class="hljs-meta"><span class="hljs-meta">@Override</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">doJob</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">throws</span></span></span><span class="hljs-function"> Exception </span></span>{ Runtime r = Runtime.getRuntime(); <span class="hljs-keyword"><span class="hljs-keyword">long</span></span> total = r.totalMemory(); <span class="hljs-keyword"><span class="hljs-keyword">long</span></span> free = r.freeMemory(); <span class="hljs-keyword"><span class="hljs-keyword">long</span></span> used = total - free; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (!maxPrinted) { Logger.debug(<span class="hljs-string"><span class="hljs-string">"Used: %dM Free: %dM Total: %dM Max: %dM"</span></span>, m(used), m(free), m(total), m(r.maxMemory())); maxPrinted = <span class="hljs-keyword"><span class="hljs-keyword">true</span></span>; } <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> { Logger.debug(<span class="hljs-string"><span class="hljs-string">"Used: %dM Free: %dM Total: %dM"</span></span>, m(used), m(free), m(total)); } } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">private</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">long</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">m</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">long</span></span></span></span><span class="hljs-function"><span class="hljs-params"> bytes)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> bytes / <span class="hljs-number"><span class="hljs-number">1024</span></span> / <span class="hljs-number"><span class="hljs-number">1024</span></span>; } }</code> </pre><br><br><h4>  Templates </h4><br>  So far I have used JSP (old XML-like syntax), Jelly (in Hudson plugins), XTemplate and Smarty for templates in PHP.  I have never felt particularly productive with them.  Writing customized tags that fly to hell as soon as you change the container, struggle with bloated XML files, or even just learning the muddy expression language for templates ‚Äî you can't call it fun. <br><br>  Play templates!  use Groovy as an expression language, as well as its tag system for reusable components.  Groovy is a clean, intuitive, powerful and truly simple language, especially easy for Java developers.  I also like the fact that Groovy is something independent, a separate promoted project, and not something special, created only for templates. <br><br><pre> <code class="xml hljs">#{list items:resources,as:'res'} #{if res.directory} <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">tr</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"directory collapsed"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">rel</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"${res.id}"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">parent</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"${res.parent?.id}"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">td</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">a</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">href</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"#"</span></span></span><span class="hljs-tag">&gt;</span></span>${res.name}<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">a</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">td</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">td</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">td</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">td</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"right"</span></span></span><span class="hljs-tag">&gt;</span></span>${res.lastModified == null ? '(unknown)' : res.lastModified.format("yyyy-MM-dd HH:mm")}<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">td</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">tr</span></span></span><span class="hljs-tag">&gt;</span></span> #{/if} #{/list}</code> </pre><br><br>  By the way, all this is provided with great error messages, even for templates.  You can quickly understand where you made a mistake.  I hope that the template language will be supported by Eclipse to provide autofill and syntax highlighting. <br> <a href=""><img src="https://habrastorage.org/getpro/habr/post_images/c17/cd0/595/c17cd0595579acb691b8a84e2daa08c6.png" title="Templating error messages" width="100" height="100"></a> <br><br><h4>  URL mappings and redirects (URL mappings and redirects) </h4><br>  Your controllers in Play!  contain a bunch of static methods that are bound to your application's URLs.  For example, if you need to show something via the <code>/contacts/list</code> link, you need to write the <code>list</code> method in the <code>contacts</code> controller (this is the default naming convention, which can be redefined if necessary).  Or if you need a page that shows contact information, you create a <code>showContact</code> method and it will be linked to the <code>/contacts/showcontact</code> . <br><br>  What if you want to redirect the user from the page with a list of contacts to the <code>/contacts/showcontact</code> page if there is only one contact in the list?  In your Java code in the <code>list</code> method, just call the <code>showContact</code> method, and Play!  will check this as an external redirect (http redirect).  So easy and readable that it becomes scary. <br><br><h4>  Testing </h4><br>  Automated application testing is a hard question.  There are many approaches, and usually you have no choice but to choose a couple of them and try on your application written in the X. Play framework!  uses a different approach: it comes bundled with a nice interface for running unit, functional, and selenium tests on your application.  Since testing is such a thing that ‚Äúeasy to forget‚Äù is about, it is always convenient when it starts ‚Äúsomehow by itself‚Äù.  In addition to the automation of testing, you can use the same interface during the development process (usually for this you have to configure the launch of tests from IDE or ant / maven / shell scripts). <br><br> <a href=""><img src="https://habrastorage.org/getpro/habr/post_images/d74/576/dfd/d74576dfd51a0a6dd63b4c5d67808ec5.png" title="Running Tests with Play! Framework" width="100" height="100"></a> <br><br><h4>  Quick turnaround </h4><br>  We at <a href="http://www.zeroturnaround.com/">ZeroTurnaround</a> (literally "zero turnover" or "instantaneous response") are obsessed with developer productivity.  Our flagship product <a href="http://www.zeroturnaround.com/jrebel/">JRebel</a> allows <a href="http://www.zeroturnaround.com/jrebel/">you</a> to change the application code and simply click the "refresh" button in the browser to instantly see your changes on the screen.  Play Framework!  offers similar functionality.  I have not yet had enough time to study the source code of Play !, in detail, but it seems that due to several small restrictions (some meta-information in bytecode, see tmp / bytecode / DEV, a stateless model, and a customized <code>play run</code> ) it Offers you the powerful ability to change code on the fly.  If at some point changing the code "on the fly" is not possible, it will automatically restart your application quietly.  This is a huge advantage over other frameworks. <br><br><h4>  findings </h4><br>  Play Framework!  suggests cool things, and these are just 5 of my favorites.  Of course, play!  - This is not a silver bullet, and it has its own problems, but it is a topic for a separate article.  During the time I was working with Play !, it proved to be a productive and intuitive environment for developing web applications.  And what are your favorite pieces of Play !? <br><br><hr><br><img src="https://habrastorage.org/getpro/habr/post_images/33f/ff3/eb3/33fff3eb3e0dbc912d2c6f3f65911a0b.jpg" align="left" height="70"><br>  Toomas R√∂mer, co-founder and product lead of ZeroTurnaround, is the one that made <a href="http://www.zeroturnaround.com/jrebel/">JRebel</a> .  Thomas is a big fan of JUGs, OSS communities and beer.  He writes blogs at <a href="http://dow.ngra.de/">dow.ngra.de</a> , tweets like @toomasr, and also supports the non-commercial site <a href="http://www.chesspastebin.com/">chesspastebin.com</a> .  In his spare time, he smashes Lexus in drive tests, plays chess, Go, and Starcraft.  His appearance is deceptive;  he will surely make you squash.  If anything, he and <a href="http://www.linkedin.com/in/toomasr">LinkedIn</a> have an account. <br><hr><br><br></div><p>Source: <a href="https://habr.com/ru/post/116522/">https://habr.com/ru/post/116522/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../116517/index.html">ESKD and GOST 7.32 templates for Lyx 1.6.x</a></li>
<li><a href="../116518/index.html">Google‚Äôs ultra high-speed internet access goes to the city of Kansas City, Kansas</a></li>
<li><a href="../116519/index.html">+1 to search results</a></li>
<li><a href="../116520/index.html">As I turned my "world" on 90 ¬∞</a></li>
<li><a href="../116521/index.html">Seminar "Down with excuses in testing!" In St. Petersburg</a></li>
<li><a href="../116523/index.html">Pathogen. We organize plugins</a></li>
<li><a href="../116526/index.html">A keylogger was detected on Samsung laptops, probably installed by the manufacturer [not confirmed]</a></li>
<li><a href="../116528/index.html">3 hours about PR on the Internet. April 1st. Is free</a></li>
<li><a href="../116529/index.html">Need more Android</a></li>
<li><a href="../116530/index.html">Racing with sound</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>