<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>We make our firmware for an IP camera on Rust and fight fraud</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="This is a continuation of the story about the best ( in the opinion of the participants ) HighLoad ++ 2017 reports. In a previous article I wrote abou...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>We make our firmware for an IP camera on Rust and fight fraud</h1><div class="post__text post__text-html js-mediator-article">  This is a continuation of the story about the best ( <a href="https://www.facebook.com/oleg.bunin/posts/1808061875902162">in the opinion of the participants</a> ) HighLoad ++ 2017 reports. In a previous article I <a href="https://habrahabr.ru/company/oleg-bunin/blog/346934/">wrote</a> about the two leaders in the rating.  Go ahead.  In this material - the report of Vadim Antonyuk about fraud and Max Lapshin - about the firmware for the IP camera on Rust. <br><br><img src="https://habrastorage.org/webt/i-/ut/cq/i-utcqb7jmlix3362tlolzd50bm.jpeg"><br><a name="habracut"></a><br><h2>  Fraud in mobile applications: <a href="https://www.facebook.com/vadimant%3Ffref%3Dmentions">Vadim Antonyuk</a> (4.73 points) </h2><br><br>  Honorable third place.  Vadim is not the first time talking about the anti-fraud on Highload ++.  A year earlier, he talked about the anti-counterfeit in RTB-systems in general, this time "got" mobile applications.  Looking ahead, I will say that there are still disputes about what to consider fraud in mobile applications, unlike the web, where everything is more or less clear.  Nevertheless, the segment itself is growing, and with it the problem.  So, it's time to start solving it - ‚Äúnot yet started.‚Äù 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <iframe width="560" height="315" src="https://www.youtube.com/embed/HWMSuWefArw" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>  In the meantime, if you do not know or still doubt that RTB is Haylod, how do you figure 400 billion requests per day?  At the same time, according to statistics, the share of mobile applications accounts for about 40% - more than on the desktop web.  IPONWEB (one of the major players in the market of RTB advertising) for a long time and successfully detected fraud in the web segment, but they only got to applications. <br><br>  So.  Classical methods (bots, AdStackng, Domains Spoofing, Ghost sites), which have long been used in the classic web, do not work in mobile applications explicitly.  As a result, methods of dealing with them are not suitable, and something new needs to be invented. <br>  By the way, the industry has not yet agreed on what to consider fraud in mobile applications.  It would seem that stories with ads in mobile phones are already decent, but the fact remains a fact, and Vadim speaks about it. <br><br>  The report discusses two (and in fact almost three) approaches to detect fraud: <br><br><ul><li>  Backgroundness - display ads in the background.  The essence of this type of fraud is in its name.  That is, there is advertising, but the user does not see it.  How to find her?  Everything is not very difficult, but there are nuances.  The essence of the original method is to search in a stream of incoming requests for all requests from the ‚Äúapplication + user‚Äù pair, which send requests continuously.  Such intervals are calculated and the analysis for realism is done. <br><br>  For example, on the slide below, the T1 signal flow with the interval between the signals t1 can be quite long, 10 hours, which almost certainly indicates that it is fraud.  After all, the user can not look at the screen for 10 hours without a break.  If you collect statistics on this application, it is possible to calculate the villains with a high degree of probability.  But, as usual, there is a nuance - the method depends on at least two parameters, and both of them are calculated empirically. <br><br><img src="https://habrastorage.org/webt/qa/en/cz/qaencz_qb49-k2lsorfj--60bw4.jpeg"><br><br>  Can it be made easier?  It turns out that you can only rely on the value of T (the period of continuous signal emission) and analyze the intervals between adjacent time intervals (in our example, the desired interval between T1 and T2. If there is no realistic break during the day (let's say 6 hours), then Most likely, something went wrong. As a result, with a large number of measurements from a single application, the accuracy of the method increases. </li><li>  The second method is Entropy Score.  Search for scoundrels through abnormal entropy.  To make it clearer, I recommend pre- <a href="https://ru.wikipedia.org/wiki/%25D0%2598%25D0%25BD%25D1%2584%25D0%25BE%25D1%2580%25D0%25BC%25D0%25B0%25D1%2586%25D0%25B8%25D0%25BE%25D0%25BD%25D0%25BD%25D0%25B0%25D1%258F_%25D1%258D%25D0%25BD%25D1%2582%25D1%2580%25D0%25BE%25D0%25BF%25D0%25B8%25D1%258F">reading the wiki</a> .  The method is based on a sequential numerical analysis of user and application behavior.  The Entropy Score is calculated, due to the large number of measurements, the allowable interval for the value of this parameter is determined ‚Äî when, with a high degree of probability, the behavior of the application and user are real ‚Äî and all other applications are analyzed. <br><br>  A slightly more complicated method is used in IPONWEB as a supplement to the first one.  It allows you to catch applications that have a small number of users, even though there is no continuous stream of requests.  As an example, are applications for artificial viewing of advertising. </li><li>  The third method is not explicitly highlighted.  It analyzes a large number of requests from a single device.  In fact, this is an analogue of a bot on the web.  So if you go back to the beginning of the conversation, Vadim was a little cunning when he said that fraud analysis methods on the web are not suitable. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/88a/822/f58/88a822f58650b68a24c477e888862f6f.png"><br><br>  As a result, due to the use of a combination of fraud identification methods, the guys from IPONWEB filter out more than 15% of the traffic.  Very solid indicator, taking into account the total number of requests.  All methods are probabilistic, and there is always the likelihood of error. <br><br>  Dialogue on this topic is constantly being conducted when, as a result of the analysis, good applications are cut, and therefore the system is constantly being adjusted and adjusted.  However, it must be understood that bad traffic still remains.  Returning to the question of the use of certain methods in the web and mobile applications, Vadim noted that in a number of cases nothing prevents them from combining them and getting good results. </li></ul><br>  If you are interested in this topic, you can look through the links under the spoiler or simply google the terms that Vadim mentions.  The only thing that is a bit annoying is the lion's share of information on this topic is semi-advertising articles in exchange for mail from teams that deal with both advertising and anti-fraud. <br><br><div class="spoiler">  <b class="spoiler_title">Links about frode</b> <div class="spoiler_text">  <a href="https://www.youtube.com/watch%3Fv%3DCIfhrpN5DF4">https://www.youtube.com/watch?v=CIfhrpN5DF4</a> - report from Highload ++ 2016 about fraud on the web. <br>  <a href="https://en.wikipedia.org/wiki/Click_farm">https://en.wikipedia.org/wiki/Click_farm</a> <br>  <a href="http://blog.ezanga.com/blog/ad-fraud-101-types-of-ad-fraud-that-plague-all-marketers">http://blog.ezanga.com/blog/ad-fraud-101-types-of-ad-fraud-that-plague-all-marketers</a> <br>  <a href="https://www.kochava.com/detecting-fraud-counting-clicks/">https://www.kochava.com/detecting-fraud-counting-clicks/</a> (in the comments to the articles there are links to the following articles in the series) <br>  <a href="https://performancein.com/news/2017/02/17/seven-things-you-should-know-about-app-fraud/">https://performancein.com/news/2017/02/17/seven-things-you-should-know-about-app-fraud/</a> <br>  <a href="http://telecoms.com/opinion/mobile-app-fraud-how-to-fight-back-to-protect-against-risk/">http://telecoms.com/opinion/mobile-app-fraud-how-to-fight-back-to-protect-against-risk/</a> <br></div></div><br><h2>  Making our firmware for an IP camera on Rust, <a href="https://www.facebook.com/max.lapshin%3Ffref%3Dmentions">Max Lapshin</a> (4.70 points) </h2><br>  Max is a regular participant of IT events, a member of the Highload ++ program committee, the author of very fast and productive video streaming solutions that are used all over the planet, an erlang expert and just a great speaker.  His story was not included in the top three, but it is necessary to listen to him - if only because his company is one of the few in Russia that is successfully promoting its software product on the world market. <br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/VkSEEhCzjW0" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>  Directly about the streaming and its nuances, Max told at past conferences.  This time it was about how to change software on IP cameras, how Rust appeared in this story, and what came of it.  The report has two parts: the first is directly about the specifics of working with IP cameras, the second is devoted to Rust and his features. <br><br>  Despite the fact that IP cameras are widespread, cheap, and the hardware platform every year becomes more reliable, the software for IP cameras leaves much to be desired.  That is, together with the camera, you get 10-12 year old software with all defects, lack of features, and most importantly - the inability to make changes.  As a result, it is most reasonable to write your software in order to get a set of necessary features and reduce the complexity of working with the device.  By the way, there was also an option to make my own camera - but it was abandoned due to its high cost and duration, as well as the need to work with existing cameras, of which there are millions. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/0cf/7f9/bda/0cf7f9bda59c9fac429d2125166606b8.png"><br><br>  In fact, an IP camera is a computer with a processor, memory and other nodes, and therefore it is possible to work with it, for example, by analogy with mobile phones.  Just like in mobile phones, there are a lot of options for running internal software: somewhere you can write something, only read somewhere, there is a different U-boot (a powerful bootloader with a bunch of functions needed for uploading) with different software for rewriting, there is a large set of different plumes, tongs and soldering irons.  Well, as a result, all the delights of flashing your favorite android get out: the power jumped - the camera turned into a brick, made a mistake in the firmware - again a brick.  Fortunately, the cost of such a "brick" is currently in the range of ten dollars apiece. <br><br>  To make your life easier, you can, as soon as you manage to get documentation on the camera and hack it, put software on it, allowing you to make further updates in a more familiar way. <br><br>  After assembly, you can safely proceed to the firmware.  It turns out that what you used to think of as a ‚Äúzoo‚Äù of technologies is babbling compared to when it comes to cameras.  Different versions of the kernel, libraries, SDK - the absolute norm for them.  The norm should be considered the complete lack of the ability to drive tests without pouring onto the camera, a severe lack of space (8 megabytes, yeah), as well as constant work with hardware and accurate memory management.  To summarize - the camera is very interesting and at the same time a cheap device (you can safely experiment and turn cameras into bricks), with which you can interact very well, achieving your goals. <br><br>  The second part of the story is entirely devoted to Rust and its features.  An attentive listener will definitely note for himself the reasons why Rust was chosen, and not the good old C. <br><br>  The following two slides show the results that were achieved when using this not very common language for working with iron. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/99d/55c/96f/99d55c96f02aab982c453a92a2999bdb.png"><br><br><img src="https://habrastorage.org/getpro/habr/post_images/6e7/593/7dd/6e75937ddab655f8241b7603fa8f6831.png"><br><br>  I will not dwell in detail, I will only note that Max explains to the HYIP lovers very intelligibly that you have to pay for everything, and Rust is no exception.  In conclusion, it is noted that, despite the external complexity, it is possible to use Rust systems for semi-embedded systems, which is fresh and cool, although you will have to reformat your brain a little. <br><br>  From myself, I note that many of the things that Max talks about are characteristic of developing most embedded systems.  If you are aiming at this direction - be sure to listen. <br><br><div class="spoiler">  <b class="spoiler_title">Max‚Äôs several managerial reports about his product and company</b> <div class="spoiler_text"><ol><li>  <a href="https://www.youtube.com/watch%3Fv%3DxKsj3Av1ITE">https://www.youtube.com/watch?v=xKsj3Av1ITE</a> - a story about how to make a small profitable company in the field of video streaming. <br></li><li>  <a href="https://www.youtube.com/watch%3Fv%3D8qdo-HnXBJ8">https://www.youtube.com/watch?v=8qdo-HnXBJ8</a> - interview with Max on RIT 2017 <br></li><li>  <a href="https://www.youtube.com/watch%3Fv%3DQ29TKg_3xvo">https://www.youtube.com/watch?v=Q29TKg_3xvo</a> - as a programmer to grow your company. <br></li></ol><br></div></div><br><hr><br>  Soon you will see four more reports.  If you yourself are ready to share experience or interesting cases in the field of Hyloca, management and teambuilding, programming or mobile development, we invite you to become the speaker of the corresponding section of RIT ++ 2018. Applications that can be left <a href="http://speakers.ritfest.ru/">here are</a> already open in the program committee.  Perhaps your report will be the best this year. </div><p>Source: <a href="https://habr.com/ru/post/347794/">https://habr.com/ru/post/347794/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../347780/index.html">Little about the retrospective</a></li>
<li><a href="../347782/index.html">Skills, tools, requirements - HackerRank's large-scale developer market research 2018</a></li>
<li><a href="../347786/index.html">Cast. Visual contrast static_cast from dynamic_cast</a></li>
<li><a href="../347788/index.html">5 innovative ways to use machine learning</a></li>
<li><a href="../347790/index.html">Winter open lectures on the gaming industry</a></li>
<li><a href="../347798/index.html">Lectures Technopolis. Design of high-load systems (fall 2017)</a></li>
<li><a href="../347800/index.html">VoiceAttack Security Study</a></li>
<li><a href="../347802/index.html">I hated javascript. And now I like him</a></li>
<li><a href="../347804/index.html">WebAssembly and DOM manipulations</a></li>
<li><a href="../347806/index.html">20+ resources to start freelancing</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>