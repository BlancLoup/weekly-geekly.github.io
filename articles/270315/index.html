<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>The results of the competition held by our company on SECR2015</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Our company (OOO ‚ÄúProgram Verification LLC‚Äù, developer of PVS-Studio) held a competition at the SECR2015 conference. The essence of the competition wa...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>The results of the competition held by our company on SECR2015</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/getpro/habr/post_images/596/6b7/b33/5966b7b3378e280f0d9d580699fa67ee.png" alt="Sad unicorn" align="left"><br>  Our company (OOO ‚ÄúProgram Verification LLC‚Äù, developer of PVS-Studio) held a competition at the SECR2015 conference.  The essence of the competition was to find the most interesting error in its code.  In fact, there is nothing to tell about, because exactly 1 person took part in the competition.  Nevertheless, a number of people were asked to tell how the contest ended, and I decided to write a tiny note on this topic. <br><a name="habracut"></a><br>  Being one of the sponsors of the <a href="http://2015.secr.ru/">SECR2015</a> conference, we decided to hold a small competition related to the use of <a href="http://www.viva64.com/ru/pvs-studio/">PVS-Studio</a> .  To this end, each participant was handed an envelope containing instructions, a small chocolate bar and a key for the full use of PVS-Studio for several days. <br><br>  The first goal of the competition was for some of the conference participants to finally be too lazy and decide to try PVS-Studio on their projects.  How this is the case is unknown to us. <br><br>  The second goal of the competition was to collect code samples with errors and write an interesting article.  We understood that not everyone would want to show their code to the public.  We would like to offer these people to modify the code beyond recognition.  Well, or about them, we generally could not write, but they would still take part in the competition.  The winners were awarded prizes (various Gift Cards).  Unfortunately, this task just did not work out. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      So, the competition is over and it's time to take stock.  Participation in the competition took a single person.  He automatically becomes the winner.  Greetings to him: <br><br>  Alexey Drozdov, company [deleted]. <br><br>  After checking one of the company's projects, he noticed an interesting error related to the use of a nonexistent buffer.  Thanks to luck, the error does not manifest itself, but the bug still remains a bug.  The essence of the error is demonstrated by the following pseudocode: <br><pre><code class="cpp hljs"><span class="hljs-keyword"><span class="hljs-keyword">const</span></span> <span class="hljs-keyword"><span class="hljs-keyword">char</span></span>* ptr = <span class="hljs-literal"><span class="hljs-literal">nullptr</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">while</span></span> (p &lt; end) { <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> <span class="hljs-keyword"><span class="hljs-keyword">unsigned</span></span> <span class="hljs-keyword"><span class="hljs-keyword">int</span></span> uc = GetValue(*p++); <span class="hljs-keyword"><span class="hljs-keyword">switch</span></span> (uc) { <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> <span class="hljs-number"><span class="hljs-number">1</span></span>: ptr = <span class="hljs-string"><span class="hljs-string">"a"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span>: ptr = <span class="hljs-string"><span class="hljs-string">"b"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">case</span></span> <span class="hljs-number"><span class="hljs-number">3</span></span>: ptr = <span class="hljs-string"><span class="hljs-string">"c"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">default</span></span>: { <span class="hljs-keyword"><span class="hljs-keyword">char</span></span> buffer[<span class="hljs-number"><span class="hljs-number">0x100</span></span>]; ... ptr = buffer; } } } <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (ptr) result = ptr; <span class="hljs-comment"><span class="hljs-comment">//    'result'   //  </span></span></code> </pre> <br>  Error detected by diagnosing <a href="http://www.viva64.com/ru/d/0096/">V507</a> .  The program uses a buffer that ceases to exist after exiting the default block.  However, this code is old and has worked successfully for N-years.  It's all about luck.  Visual C ++ allocates a place on the stack for all arrays / variables on the stack and does not reuse the allocated memory.  However, as you understand, this is luck for the time being. <br><br>  We thank Alexey and give him a prize (a $ 200 gift card). <br><br>  PS At the moment there is a new contest " <a href="http://c.viva64.com/">Photo casting with PVS-Studio unicorn</a> ".  In a nutshell: we offer to take pictures with our unicorn and participate in a photo contest.  I invite all our fans to participate. </div><p>Source: <a href="https://habr.com/ru/post/270315/">https://habr.com/ru/post/270315/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../270301/index.html">Grow Big: Simple Tips for New Business Application Makers</a></li>
<li><a href="../270307/index.html">A cryptographic program encrypts user files offline.</a></li>
<li><a href="../270309/index.html">Creating a plugin for Intellij IDEA. Notes and small tips</a></li>
<li><a href="../270311/index.html">Utility for the developer</a></li>
<li><a href="../270313/index.html">Project Cenntenial</a></li>
<li><a href="../270317/index.html">Material ProgressBar for pre-Lollipop</a></li>
<li><a href="../270321/index.html">Workflow automation for a small development team (Part 2)</a></li>
<li><a href="../270323/index.html">Microsoft cloud-based prescription services: the practice of Russian service providers</a></li>
<li><a href="../270325/index.html">Next, in search of palindromes</a></li>
<li><a href="../270327/index.html">Call Tracking Paying Lead, Not Numbers</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>