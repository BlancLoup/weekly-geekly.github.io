<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Completion of Livolo light load switches</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="More about Livolo switches. 

 Livolo's touch-sensitive radio-controlled switches are wonderful for everyone (they can directly replace a conventional...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Completion of Livolo light load switches</h1><div class="post__text post__text-html js-mediator-article">  More about Livolo switches. <br><br>  Livolo's touch-sensitive radio-controlled switches are wonderful for everyone (they can directly replace a conventional switch, they do not require a third wire, low own consumption, radio control, a wide range), except for one thing - poorly or not at all working with a small load such as economical LED lamps (less than 15 watts ) and with devices of smooth ignition of incandescent lamps. <br><br><a name="habracut"></a>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      This is directly written in the specification of switches.  Livolo offers an additional troubleshooting block (VL-PJ01). <br>  It would seem all is well, but the additional unit costs money and being connected in parallel to the lighting device obviously eats additional electricity.  This reduces the savings from the use of LED devices and reducing the reliability of the system.  In fact, additional capacity creates additional power consumption, albeit reactive. <br>  I did not hold this additional block in my hands, but I believe that inside it there is a capacitor of type X2 with a capacity of 470 or 680 nanofarads.  Why type x2?  It is necessary that the system be protected from accidental breakdown of this capacitance, and the capacitors of type X2 are just made to self-recover after the breakdown. <br>  The disadvantage of this solution is the appearance of an additional reactive component in the consumption of the lamp, the presence of an additional element in the high-voltage circuit and the obvious inconvenience of installing an additional element somewhere in the luminaire.  In my case, for example, in the bathroom and in the toilet, there are 8 watt LED lamps and the cartridges are embedded in the wall.  The only non-destructive solution is the use of adapters with contact sockets.  As a basis, I used adapters purchased in Leroy for 22 p.  Unfortunately, the quality of them was completely unsatisfactory, the metal of the screw part resembled foil and behaved accordingly - when screwed, it deformed.  I used the screw part from the usual still incandescent lamp.  He broke it, cleaned it of glass and soldered it together with hot melt to assemble it into a single structure: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/b32/e40/215/b32e40215683f73c9218e86f6487992b.jpg"><br><br>  large capacitor: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/ccc/157/243/ccc1572436a5193a3fc8e9f972b25358.jpg"><br><br>  The solution is quite workable, but it has obvious disadvantages, I will list them again: <br>  - the presence of a capacitor in the circuit leads to the appearance of reactive current <br>  - the design appearance is strange ... <br><br>  Therefore, I wondered, but what actually prevents the switch from switching small loads? <br>  I researched the scheme, taken and posted by a friend of <a href="http://we.easyelectronics.ru/Shematech/preparirovanie-sensornogo-vyklyuchatelya-livolo.html">mChel</a> (http://we.easyelectronics.ru/Shematech/preparirovanie-sensornogo-vyklyuchatelya-livolo.html). <br>  Let me put a copy of this scheme here: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/a74/6f6/c60/a746f6c605d50b977a4209059e30b3d7.png"><br><br>  I assembled a test stand and watched the behavior of the switch with a small load. <br>  The switch with a small load when you try to turn on the light clicks and almost immediately releases the relay.  If the switch is dual-line (i.e., it can switch two loads), then when the nominal load is switched on, first and then small, it will work perfectly normally.  If you turn on a large load, then a small one and turn off a large one, a small one will remain working. <br>  Those.  the actual power circuit of the relay may well provide the relay with normal power when it is turned on.  This part of the mChel diagram is highlighted in green. <br>  The relay does not have enough power in the transient mode - when the command came to turn on the relay, it closed, the switch circuit should switch to power from the green part, but until the load started working (the LED lamp turns on with a noticeable delay, about 400 ms, lamp ignition unit incandescence has a delay of about 2000 ms) - the relay must be powered by the energy stored in the capacitor C6 (330 microfarads at 25 volts).  This energy is obviously not enough. <br><br>  <b>ATTENTION!</b>  <b>The circuit breaker has galvanic contact with a 220 volt network.</b>  <b>All work with the circuit breaker can be done only when the circuit is completely de-energized - i.e.</b>  <b>Both wires must be disconnected.</b>  <b>Non-observance of the safety instructions can damage your health.</b> <br><br>  The first solution is to put a larger capacity in parallel with this capacitor, I applied 1000 microfarads at 35 volts.  The effect is curious - the system does not turn on at all.  The blue LED lights up, but only - there is no response to the touch sensor, the relay does not work.  Turning off the power of the test circuit for a short interval can sometimes make the system turn on and then it works normally.  And sometimes it starts flashing blue LED, cyclically repeating some phrase. <br>  I concluded that the microprocessor does not start.  A study of the Microchip 16F690 processor manual confirmed my assumption that the Power on Reset system normally starts the system at a voltage rise rate not less than indicated in Table 17.1 <br><br><img src="https://habrastorage.org/getpro/habr/post_images/ed4/461/1f7/ed44611f7b0f92f261b8941e684144bc.png"><br><br>  Thus, we have two boundary values ‚Äã‚Äã- when the filter capacity for power supply in 330 microfarads of energy is small, and at 1330 (330 + 1000) microfarads - the rate of increase of the supply voltage is small and the processor does not start. <br>  Next to successive approximations, I determined that for a switch that commutes an 8-watt LED lamp, a capacitance of 220 ¬µF is sufficient. <br>  And for switching incandescent lamps with a delayed start it was necessary to supply an additional capacity of 680 microfarads. <br><br>  I was lucky and the solution was found - and there is enough capacity to power the relay while the load goes to the operating mode and the rate of increase of the supply voltage is sufficient to start the processor. <br>  If it were not lucky, then the next idea would be to install a dynistor at a low voltage at the input LDO of the U1 stabilizer.  I think a dynistor at 8-10 volts would be enough.  A dynistor is a device that turns on abruptly when the voltage at the terminals becomes more than a threshold and then remains in the on state until the current through it becomes less than the holding current. <br><br>  I installed an additional capacitor inside the switch between the boards. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/b1c/646/473/b1c6464736e254eb1f11cbd5a6cbd33c.jpg"><br><br>  There is enough space and requires minimum dismantling for rework - it is necessary to remove the glass plate and pull out the top plate.  Next, we solder an additional capacitor, carefully inspect the installation site, make sure that the soldering is done cleanly, there are no snot on the adjacent elements, we assemble everything in reverse order: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/414/e82/8bf/414e828bfe3ab117d69a32ba88e6ee4d.jpg"><br><br><img src="https://habrastorage.org/getpro/habr/post_images/d25/ee1/f71/d25ee1f71f1ce3182b1dd5d5477fc57e.jpg"><br><br>  After installing additional capacity after powering up for the first time, the switch begins to respond to sensors with a noticeable delay - approximately 40-60 seconds.  This does not interfere with normal operation, since it occurs only after energizing once.  Apparently the program in the processor measures the supply voltage and goes to full-time operation only after the power supply returns to normal. <br>  I wrapped the additional capacitor with several layers of black electrical tape; the short wires of MGTF, additionally protected by heat shrinking of the corresponding color (blue minus, red plus), are soldered to the terminals.  On the Livolo board, the C6 capacitor leads are located as follows: bottom plus, top minus. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/055/0bd/2b8/0550bd2b83436877be95fd94379e469b.jpg"><br><br>  If you put an additional capacitor before installation in the box, then the space for placing the container is much more. <br>  In the single-line circuit breaker, an additional capacitor can be placed in place of the missing second relay. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/564/293/d57/564293d57f7b9afb85924f2b08a8bd67.jpg"><br><br>  You can replace the capacitor on the board with a larger one (it will be longer) and make a hole in the black plastic case; there is enough space in the usual installation box. <br>  In principle, there is a place between the switch body and the electrical installation box. <br><br>  <b>And finally, I remind you - this circuit has galvanic contact with a 220 volt electrical network.</b>  <b>All changes, assembly, disassembly, always spend with a complete disconnection from the mains.</b> </div><p>Source: <a href="https://habr.com/ru/post/229215/">https://habr.com/ru/post/229215/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../229199/index.html">Simple Connection Pool without DataSource in Java</a></li>
<li><a href="../229203/index.html">HP Network Simulator is available for public use!</a></li>
<li><a href="../229205/index.html">How to tame a dragon using Intel technology?</a></li>
<li><a href="../229211/index.html">How to eat whale or the story of creating a line of mobile products</a></li>
<li><a href="../229213/index.html">Learning Java EE 7</a></li>
<li><a href="../229217/index.html">Sports technologization: smart devices for professionals and amateurs</a></li>
<li><a href="../229225/index.html">AngularJS: how I abandoned ng-include and linked the states of two controllers</a></li>
<li><a href="../229227/index.html">Behavioral factors and a comprehensive assessment of the effectiveness of the interaction of advertising with Central Asia (part 2: assessment criteria)</a></li>
<li><a href="../229229/index.html">A serious loss of Blizzard, adding to the team Oculus Rift and the new publisher of the game Boom Beach - the main mobile news of the week</a></li>
<li><a href="../229231/index.html">We write in C / C ++ in Windows under KolibriOS</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>