<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>mocap on the knee (Skeletal Animations 2)</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="On May 12, 2007, Jochen Diehl published a very interesting article "Skeletal Animations" . 



 Briefly outline the essence: 



1. the article is not...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>mocap on the knee (Skeletal Animations 2)</h1><div class="post__text post__text-html js-mediator-article">  On May 12, 2007, Jochen Diehl published a very interesting article <a href="http://www.gotoandplay.it/_articles/2007/04/skeletal_animation.php">"Skeletal Animations"</a> . <br><br><img src="https://habrastorage.org/files/2c9/cac/f78/2c9cacf78d34442f8eab810dd189b069.png"><br><br>  <b>Briefly outline the essence:</b> <br><a name="habracut"></a><br><ol><li>  the article is not skeletal animation (in the first sentence, the author stated: "This is no true bones animation") </li><li>  data for a 10-frame animation is an array of points (joints) </li><li>  the author himself MANUALLY points (by pointing the cursor and writing out the coordinates) collected a gait of the person from the recording.  He used 10 frames equally distributed in time. </li><li>  in the process of playing a clip, the animation is smoothed using interpolation </li><li>  at the end of the article the author proposes to continue his experiment: <br><ul><li>  use time based animation instead of frame based interpolation </li><li>  write down your own actions (jumping, running ...) and try to make smooth transitions between them </li><li>  add shadows </li><li>  add a skeleton and make a ragdoll, dying, as in life </li><li>  unsubscribe to the forum </li></ul><br></li></ol><br>  <b>What attracted me to the method:</b> 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <ol><li>  opportunity not to go deep into 3D modeling - let 3D-modellers be engaged in it </li><li>  the opportunity NOT to go deep into the problem of transferring 3D to flash - for me for small projects it is useless </li><li>  A very simple method to get various actions for the characters. </li></ol><br>  * if it will be interesting, I will write in detail in points the method of adding new movements, characters in the Habr√© <br><br>  <b>Further:</b> <br><br>  First of all, I translated the animation in time based (nothing complicated here): <br><br><pre><code class="actionscript hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">update</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(time:Number)</span></span></span><span class="hljs-function">:void </span></span>{ render(currentFrame); currentFrame+=(actionArray.length*time/actionLoopTime); currentFrame = int(currentFrame*<span class="hljs-number"><span class="hljs-number">100</span></span>)/<span class="hljs-number"><span class="hljs-number">100</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(currentFrame&gt;actionFrameNumber) { currentFrame-=actionFrameNumber; } }</code> </pre> <br><br>  But further, in the process of immersion in the method, I realized that there is still at least one most attractive (for me) opportunity to diversify the crowd of NPC-characters on the screen.  It is enough just to deform the initial ‚Äúskeleton‚Äù in the keyframes in the required manner, and get an infinite number of variants of figures and characters. <br><br>  For example (the code can be seen in the source code <a href="">Main.handleGUIChange</a> - I'll just show the essence here): <br><ul><li>  shorten the legs and arms ( <i>scale * point.y; scale * point.z;</i> ) - get a gnome </li><li>  lengthen your arms and legs ( <i>scale * point.y; scale * point.z;</i> ) - get Uncle Stepou </li><li>  narrow the waist and widen the hips ( <i>scale * point.x;</i> ) - get a manly woman </li><li>  Zuzu shoulders and rashir waist ( <i>scale * point.x;</i> ) - get effeminate man </li><li>  bend the body, bend your knees - bending soldier </li><li>  bend the body, bend your knees, tremble in the joints - old man </li><li>  change the amplitude of strokes with arms and legs - get a new mood </li></ul><br>  and all this on the basis of only one single sequence of key frames (!) <br><br>  <b>a working example collected on the knee can be seen <a href="http://meiciuc.com/assets/skeletalAnimation/skeletalAnimation.html">here</a></b> <br>  <b>example code <a href="https://code.google.com/p/meiciucexamples/source/browse/trunk/">here</a></b> <br><br>  <b>Remarks:</b> <br><ul><li>  animation used by the author (Jochen Diehl) </li><li>  the tilts in my example work preparishey - this is because I do not understand anything in mathematics and in the rotation matrix in particular.  If a kind person tells you how to correctly calculate the resulting rotation matrix based on the available data (default angle, current angle, data from the slider), I will immediately make changes to the working code and add a bunch of other possibilities for changing the shape </li></ul><br><br>  <b>PS:</b> Well, it turned out that the errors in calculating the resulting matrix with the ‚Äúslopes‚Äù were in that instead of degrees I substituted radians into the matrix.  Documentation should be read better! <br>  Perezalivayu with corrections. </div><p>Source: <a href="https://habr.com/ru/post/238049/">https://habr.com/ru/post/238049/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../238033/index.html">Come to KRI 2014</a></li>
<li><a href="../238035/index.html">Apple recalls iOS 8.0.1</a></li>
<li><a href="../238037/index.html">Programming on the keyboard ... piano</a></li>
<li><a href="../238039/index.html">Kevin Mitnick mastering the profession of the future</a></li>
<li><a href="../238041/index.html">Family business in the field of IT. Who is Energoslon?</a></li>
<li><a href="../238051/index.html">Android Authority: waiting for the HTC Nexus October 9 - 15, Android L - November 1</a></li>
<li><a href="../238053/index.html">How to produce PLA for 3d-printers. Report from the workshop</a></li>
<li><a href="../238055/index.html">Spain considers Bitcoin an electronic payment system</a></li>
<li><a href="../238057/index.html">Future of Virgin Galactic transorbital flights: 45 minutes from London to New York, an hour and a half from London to Sydney</a></li>
<li><a href="../238059/index.html">Virtualization¬≤</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>