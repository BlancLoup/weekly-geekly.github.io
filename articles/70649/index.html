<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Backup systems</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="A few months ago, I started working on / understanding backup systems. I keep all the useful docks / links in my notes. 
 A lot of things have accumul...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Backup systems</h1><div class="post__text post__text-html js-mediator-article"> A few months ago, I started working on / understanding backup systems.  I keep all the useful docks / links in my notes. <br>  A lot of things have accumulated, I decided to share records, useful links and personal experience. <br><a name="habracut"></a><br>  <b>Most respected errors when backing up databases</b> (taken from <a href="http://citrin.ru/backup.html">citrin.ru/backup.html</a> ) <br><br>  <i>- These principles are applicable not only to databases, but also to backup in general.</i> <br>  Excerpt from the PostgreSQL book.  Developer Guide and Administrator.  Geshvinde, Schenig Basically, when working with a database server, they make six errors: <br><br>  <i>- No backup copies at all.</i> <br>  Needless to say, this will certainly lead to serious problems. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      <i>- Backup copies are created, but the recovery process has never been tested.</i> <br>  Perhaps this is one of the most serious mistakes made when working with backups.  The administrator creates backup copies and is sure that the data is protected from any surprises.  However, if it is not known how the recovery works, in emergencies you may encounter serious problems.  If recovery has never been verified before, the administrator feels insecure in the recovery process, which, in turn, leads to additional time losses and errors.  Make sure that you know well enough how to recover data from backup copies.  This is a very important aspect that most users and administrators simply forget. <br><br>  <i>- You create backup copies, but no one except you knows about them.</i> <br>  Generally speaking, cars are more reliable than people.  This should be considered when developing database systems and backup strategies.  In many organizations that we have had to deal with over the past few years, we have seen a very dangerous tendency: the person who was responsible for the backup or the entire information system was the only one with all the information about the state of the system.  And what will happen when this person goes on vacation or decides to leave the organization?  In such situations, many organizations can face serious problems.  Regardless of the degree of redundancy and reliability of the information system, the organization will face great trouble if no one knows how it works, and how to act in emergency situations.  The ability of the personnel working with the system to substitute each other is no less important than the redundancy of the equipment.  There should be documentation of all critical processes in the information system, and several people should know about how the system works.  Many organizations, trying to save money, neglect the documentation - however, in most cases, recovery processes are more expensive than creating short documents.  In conclusion, it should be noted that the documentation must be maintained in a usable condition. <br><br>  <i>- Backups are created on the same media as the source data.</i> <br>  Over the past few years, we have come across several more worrying scenarios.  We had to see backup systems in which backup copies were stored on the same media as the original data.  Imagine a situation when a hard disk stops working.  If you still manage to read the backups, you will be very lucky.  In most cases this will not be possible.  Backups and source data should be on different media.  Otherwise, when trying to restore, you will encounter problems. <br><br>  <i>- Backups and raw data are stored in the same room.</i> <br>  In the event of a fire, it is important that one version of the data is stored in another room.  Otherwise it is possible to destroy both data and backups.  In this case, the data is lost forever, and their recovery is not possible. <br><br>  <i>- Having only the latest backup.</i> <br>  The existence of only the latest backup may cause problems.  In most cases, the exact time of the problem is unknown, so the latest backups will also contain errors, and therefore the recovery will be difficult. <br><br>  <b>Useful links:</b> <br>  <a href="http://www.ibm.com/developerworks/ru/library/l-backup/index.html">www.ibm.com/developerworks/ru/library/l-backup/index.html</a> - Automate Backup to Linux <br>  <a href="http://www.freebsd.org/doc/ru_RU.KOI8-R/books/handbook/backup-basics.html">www.freebsd.org/doc/ru_RU.KOI8-R/books/handbook/backup-basics.html</a> - Backup Technology Basics <br><br>  <a href="http://ru.wikipedia.org/wiki/%25D0%25A1%25D0%25BF%25D0%25B8%25D1%2581%25D0%25BE%25D0%25BA_%25D0%259F%25D0%259E_%25D0%25B4%25D0%25BB%25D1%258F_%25D1%2580%25D0%25B5%25D0%25B7%25D0%25B5%25D1%2580%25D0%25B2%25D0%25BD%25D0%25BE%25D0%25B3%25D0%25BE_%25D0%25BA%25D0%25BE%25D0%25BF%25D0%25B8%25D1%2580%25D0%25BE%25D0%25B2%25D0%25B0%25D0%25BD%25D0%25B8%25D1%258F">ru.wikipedia.org/wiki/List_PO_for_rezervogo_kopirovaniya</a> <br>  <a href="http://en.wikipedia.org/wiki/Rsync">en.wikipedia.org/wiki/Rsync</a> <br>  <a href="http://rsync.samba.org/examples.html">rsync.samba.org/examples.html</a> <br>  <a href="http://www.fredshack.com/docs/rsync.html">www.fredshack.com/docs/rsync.html</a> <br>  <a href="http://everythinglinux.org/rsync/">everythinglinux.org/rsync</a> <br>  <a href="http://howtoforge.org/rsync_incremental_snapshot_backups">howtoforge.org/rsync_incremental_snapshot_backups</a> <br>  <a href="http://www.mikerubel.org/computers/rsync_snapshots/">www.mikerubel.org/computers/rsync_snapshots</a> <br><br>  <a href="http://www.debianhelp.co.uk/backup.htm">www.debianhelp.co.uk/backup.htm</a> <br>  <a href="http://www.linux-backup.net/">www.linux-backup.net</a> <br><br>  <b>My choice:</b> <br>  <i>Flexbackup</i> <br>  <a href="http://flexbackup.sourceforge.net/">flexbackup.sourceforge.net</a> <br>  <a href="http://gentoo-wiki.com/HOWTO_Backup">gentoo-wiki.com/HOWTO_Backup</a> - a very smart dock, what to do and how. <br><br>  Knows the differential \ incrimental \ full backups for which it was selected. <br>  The syntax is very flexible, inclusion / exception masks.  A wide selection of archivers. <br>  Tholes is positioned as a backup system for single hosts (this is what I need.) <br><br>  Differential backups are a type of backups where all subsequent backups back up only the changes that have occurred since the creation of the full backup. <br><br>  In this way: <br> <code>#monthly full backup <br> 30 2 1 * * flexbackup -set all -full <br> #daily differential backups <br> 0 5 2-31/3 * * flexbackup -set all -differential</code> <br> <br>  Once a month, a full backup is created, a differential copy is created every 3 days, relative to a full backup. <br><br>  So that backups do not accumulate too much, but there were at least backups for the current and previous month: <br> <code># Deleting all backups older then 60 days <br> 30 1 1 * * find /mnt/backups/`hostname -s`/flexbackup.0/ -name "*.tar" -a -mtime +60 -delete</code> <br> <br>  Of course, that in flexbackup.conf it is specified to save files in this directory (/ mnt / backups / `hostname -s` / flexbackup.0 /), and also backup type is set to" tar " <br><br>  Everything, on a separate host, the backup system is configured. <br>  Next, using ssh keys and rsync, we synchronize the backup directory of the remote server with the centralized backup storage server. <br>  It's simple, from standard tools, but effective;) <br><br>  <b>Attention:</b> <br>  This is all written and tested on Linux.  On FreeBSD, this system also works, but at least in scripts everywhere you need to specify the PATH environment variables. </div><p>Source: <a href="https://habr.com/ru/post/70649/">https://habr.com/ru/post/70649/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../70636/index.html">Technical writer: you to me - I to you</a></li>
<li><a href="../70637/index.html">Another logical problem</a></li>
<li><a href="../70640/index.html">MySQL indices: multicolumn indices versus combined indices</a></li>
<li><a href="../70641/index.html">Yota users are indignant</a></li>
<li><a href="../70647/index.html">Propel comes to life</a></li>
<li><a href="../70655/index.html">Google Maps enters Yelp market</a></li>
<li><a href="../70656/index.html">"Fast" and "slow" search: two different approaches to search the site</a></li>
<li><a href="../70658/index.html">Hobbies: Off-road motorcycles</a></li>
<li><a href="../70661/index.html">TechCrunch interview with Steve Ballmer</a></li>
<li><a href="../70663/index.html">We work with iPhone SDK MapKit framework</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>