<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Web analytics: analyze it! Part 2. Data Collection</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Before analyzing these statistics, you need to understand how they were collected, which of them may be inaccurate, and why. 

 The server on the Inte...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Web analytics: analyze it! Part 2. Data Collection</h1><div class="post__text post__text-html js-mediator-article">  Before analyzing these statistics, you need to understand how they were collected, which of them may be inaccurate, and why. <br><br>  The server on the Internet receives requests from the user's browser and sends the data.  For each page view, the server receives one request (for the body of the page), and then several additional (pictures, scripts, style sheets and other additional data to display the page).  Scripts on the page can also generate requests to the server - including, to a separate server statistics. <br><a name="habracut"></a><br>  The web server connects requests for the same user using sessions.  When a new user accesses the server, he creates a new session identifier, which the user informs the server with each new page load.  Typically, the session ID is transmitted to the server from a cookie - a variable file that the browser can save for a particular site. <br><br>  What can the server know about the user? <ul><li>  First of all, its ip-address.  It is usually used for only one purpose: to find out the region from which the user goes to the Internet.  Most providers are configured in such a way that each user addresses change all the time.  In addition, many people leave the network with a single external address.  Thus, the same address does not mean that the same user works with them, and vice versa. </li><li>  The address of the page that the user visits. </li><li>  Address of the page from which the user switched to the current, or "referrer".  This data is very helpful.  If the user, for example, came from a search engine, then the previous address saved the request, which he entered into the search engine. </li><li>  The exact time of the request. </li><li>  The ‚Äúcallsign‚Äù of the user's browser is his identification string.  It allows you to understand which browsers are popular among users, and also to distinguish a query from a search robot. </li><li>  Cookies are data that the server previously ‚Äúasked‚Äù the browser to remember.  Cookies can be persistent (saved for a certain period of time) and session cookies (destroyed after the browser is closed).  They contain arbitrary sets of variables and values. </li><li>  Variables that the browser passes. </li></ul>  There are three main types of statistics systems.  One, ‚Äúpassive‚Äù, is based on the analysis of server logs - records of requests made to the server.  Each time a user accesses the server, he writes a set of data about this request to the event log.  Typically, such a log is kept by the server for its own needs, so there is no extra load due to the collection of statistics, and not a single request remains unaccounted for.  However, in order to obtain all the necessary data, the standard server configuration is not enough. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      The second type of statistics collection system adds to the page shown by the user, additional code that queries the statistics system.  When the Internet was young and the browsers were very stupid, they used pictures: to display a picture on the page, browsers made a request to the statistics server.  This server has already made an entry in its journal, and then displayed a picture with numbers - it was precisely since then that the Runet tradition of ‚Äúhanging counters‚Äù of 88x31 size went.  This method is worse for everyone than the first, and was used only because site owners did not have access to their server logs. <br><br>  When browsers everywhere learned to execute JavaScript scripts (mini-programs), the external counters became much smarter.  In addition to the standard query, JavaScript was able to transmit a lot of new data to the statistics system: the resolution and color of the screen, the parameters of the operating system.  They again got access to the referrer and were able to set cookies on behalf of the visited site, which made it easier to track user sessions.  The most popular ‚Äúfancy‚Äù counter of this kind is Google Analytics! <br><br>  The external counter on JS also has flaws: <br>  - with its help it is impossible to track file downloads from the site, <br>  - it records only transitions to the pages loaded in full (since otherwise the code will not have time to be executed), <br>  - it requires a modern browser and permission to operate the scripts, <br>  - it does not work on mobile browsers (except Opera Mini and modern smartphones), <br>  - in order to record the parameters of the internal ‚Äúkitchen‚Äù, such as user account data, all this data needs to be distilled into the counter code, which is usually unsafe, difficult and, as a result, pointless.  Imagine that this is a dating site, each of whose users has a profile with a bunch of parameters.  To analyze the behavior of users with different parameters of the profiles, you need to link the questionnaires with the requests. <br><br>  In such difficult cases, site developers themselves develop a system for recording statistics to which they add all the features they need.  The advantages of such a system are its infinite flexibility.  This also leads to a major drawback: the need to write data analysis tools manually for such a system.  So developers, whose needs are met by ready-made systems, try to use them. <br><table><tbody><tr><td></td><td>  Server logs </td><td>  External statistics </td><td>  Record statistics </td></tr><tr><td>  Session tracking </td><td>  - (difficult enough realizable) </td><td>  + </td><td>  + </td></tr><tr><td>  Record all visits </td><td>  + </td><td>  - (only browsers with JS enabled and full pages) </td><td>  + </td></tr><tr><td>  Tracking uploaded files </td><td>  + </td><td>  - </td><td>  + </td></tr><tr><td>  Tracking search and other bots </td><td>  + </td><td>  - </td><td>  + </td></tr><tr><td>  Communication visits with internal data site </td><td>  - </td><td>  - </td><td>  + </td></tr><tr><td>  Comparison with data from other sites </td><td>  - </td><td>  + </td><td>  - </td></tr><tr><td>  Ability to track transactions and sales funnels </td><td>  - </td><td>  + </td><td>  + </td></tr><tr><td>  Tracking events that do not lead to requests to the server </td><td>  - </td><td>  + </td><td>  + </td></tr></tbody></table><br>  The first and most important thing to remember when working with statistics from the Internet: accurate and complete data is often very difficult to obtain.  I will clarify inaccuracies as metrics are listed.  A key analyst skill is the ability to distinguish important from unimportant constraints. <blockquote>  For example, external statistics systems based on JavaScript will not work for users with very old browsers or scripts disabled for security reasons.  In most cases, this is acceptable: the share of such users is small (less than a percent).  However, if you collect data on the corporate intranet in a company that disables JS from its employees, or you want to measure the percentage of users with disabled scripts, this method is no longer suitable. </blockquote>  General limitations of statistics collection systems: <br><ul><li>  It is impossible to track who is sitting at the computer.  You can only distinguish between browsers. </li><li>  It is impossible to accurately determine the region - just try to guess based on the user's IP (although it can go online via remote proxy, VPN, etc.).  For example, all users of the mobile Internet through Opera Mini were recorded by statistical systems in the ‚ÄúNorway‚Äù region, because requests went through an adapting server in this country. </li><li>  It is impossible to find out the user if he came from another computer and did not enter the password on the site. </li><li>  It is impossible to determine where the user came from, if the firewall filters the referrer field, or he clicked on the link in the mail, ICQ, reprinted it from the advertisement, etc. </li><li>  It is impossible to determine whether the user made a transaction if he decided at a certain stage to continue it offline (call the store, for example).  This problem more significantly affects the proper calculation of the quality of online stores and requires additional measures offline :( </li></ul><br><br>  Standard, popular systems most often use the second method.  Most of all, we‚Äôll talk about Google Analytics, and in the next section we‚Äôll look at the main metrics available to its users. </div><p>Source: <a href="https://habr.com/ru/post/66404/">https://habr.com/ru/post/66404/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../66391/index.html">Sender!</a></li>
<li><a href="../66392/index.html">Media Library on the nail</a></li>
<li><a href="../66394/index.html">Signed an agreement on the localization of IGN.com content in Russia</a></li>
<li><a href="../66395/index.html">Game Designer Day!</a></li>
<li><a href="../66403/index.html">MagickWand Captcha</a></li>
<li><a href="../66406/index.html">japan captcha</a></li>
<li><a href="../66407/index.html">Code editor</a></li>
<li><a href="../66409/index.html">Physics of the impossible: Teleportation</a></li>
<li><a href="../66410/index.html">VISA Virtual from QIWI. Soon!</a></li>
<li><a href="../66412/index.html">Mac OS X updated to version 10.5.8</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>