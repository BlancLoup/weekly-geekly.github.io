<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Electronic scoreboard 2 or for the benefit of society</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Recently, there are not many good articles about web development on Habr√©. But now is not about that. 
 Sometimes habralyudi share interesting ideas, ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Electronic scoreboard 2 or for the benefit of society</h1><div class="post__text post__text-html js-mediator-article">  Recently, there are not many good articles about web development on Habr√©.  But now is not about that. <br>  Sometimes habralyudi share interesting ideas, but do not reveal their essence.  And maybe nothing.  Because during the writing of the article (description) you notice what you have not seen before, other moves and decisions, and it is easier for the reader to understand the idea and give practical advice. <br>  So a few days ago on the Habr√© appeared the article <a href="http://habrahabr.ru/blogs/javascript/64195/">"Electronic scoreboard"</a> , in which the author shared a link to his craft, but because of the insufficient description, the article came out of the category - "look what I did." <br>  How interesting could the article be if the author added more descriptions.  Therefore, I wanted to show with the example of this article how it would be possible to do a little better, and at the same time to share my implementation of his task. <br><a name="habracut"></a><br>  I would like to note that I don‚Äôt want to say anything bad about the author (only that I didn‚Äôt add enough accompanying text).  It can be seen that this <a href="http://aregeda.narod.ru/etablo/">work</a> was ‚Äúmade with love‚Äù: many hours were spent on inventing, implementing and debugging.  It turned out what happened.  Not very simple, not very fast, but the main thing - it works. <br><br>  What can we improve? <br>  The first thing that catches your eye is the image for the light bulbs.  I have nothing against - pretty lights.  But if the picture is not loaded (at some point or at all), or the images are disabled (yes, this happens), then the user will not see anything.  Not very nice.  Therefore, you should always think about how we can get out of the situation in the absence of images, there should be some backup option. <br>  Fortunately, in this case, this solution asks for itself and consists in changing the image: <br><img src="http://basis.et-lab.ru/habrahabr/tablo/point2dot.png" width="482" height="174"><br>  <font color="#888"><i>(image magnified 16 times, checkered and translucent areas are marked)</i></font> <br>  A couple of minutes in Photoshop and we have a new image obtained from the original.  If before that we had a white ball on a transparent substrate, now the square is filled with the background color (the color is left to be the author, that is, # 3d3d3d) with a hole (with a hole) in it.  Before that, we were tied to the color of the light bulb (white) and the background could be any - now the opposite.  Thus, we can use any color for the bulb, but this is not the main thing.  The main gain is that in the absence of an image we will see a white (or other color) square, which will signal that the light is on.  When the images become available, the bulb will be perfectly round, as it was before.  With CSS we prescribe: <br><blockquote>  background: white url (dot.png); </blockquote><br>  And we get the following: <br><img src="http://basis.et-lab.ru/habrahabr/tablo/pic2.png"><br>  <font color="#888"><i>(on top of what will be without pictures, below - with pictures)</i></font> <br>  Here I also had to add an indent of 1 pixel between the blocks (light bulbs) so that they would not merge.  But you can without it. <br><br>  The next improvement is the adjustment of static HTML.  Apparently the author does not really understand what and when it is better to use: classes or IDs, which tags in which situation.  Although I still do not know myself :) I also admit that this code was ‚Äútorn out‚Äù from somewhere, and it just has a heavy inheritance.  Anyway, it seemed to me that HTML can be slightly simplified - throwing away all unnecessary, especially since it will be used for demonstration, that is, as an example. <br>  A few thoughts.  Using a list to enumerate form fields inside a &lt;form&gt; is somewhat strange, where it is more appropriate to use &lt;div class = "field"&gt; .. &lt;/ div&gt;, for example.  If you use a &lt;label&gt;, it is better to put &lt;input&gt; in its contents, or use the for attribute.  That is, instead of: <br><blockquote><code><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="black"><font color="#0000ff">&lt;</font> <font color="#800000">label</font> <font color="#0000ff">&gt;</font> E-TABLO HORIZ. POINTS: <font color="#0000ff">&lt;/</font> <font color="#800000">label</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">input</font> <font color="#ff0000">type</font> <font color="#0000ff">="text"</font> <font color="#ff0000">name</font> <font color="#0000ff">="w"</font> <font color="#ff0000">value</font> <font color="#0000ff">="55"</font> <font color="#0000ff">/&gt;</font></font> <br> <br> <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></code> </blockquote> <br>  much better: <br><blockquote> <code><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="black"><font color="#0000ff">&lt;</font> <font color="#800000">label</font> <font color="#ff0000">for</font> <font color="#0000ff">="w"</font> <font color="#0000ff">&gt;</font> E-TABLO HORIZ. POINTS: <font color="#0000ff">&lt;/</font> <font color="#800000">label</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">input</font> <font color="#ff0000">type</font> <font color="#0000ff">="text"</font> <font color="#ff0000">name</font> <font color="#0000ff">="w"</font> <font color="#ff0000">value</font> <font color="#0000ff">="55"</font> <font color="#0000ff">/&gt;</font></font> <br> <br> <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></code> </blockquote> <br>  or that I prefer more: <br><blockquote> <code><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="black"><font color="#0000ff">&lt;</font> <font color="#800000">label</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">span</font> <font color="#ff0000">class</font> <font color="#0000ff">="title"</font> <font color="#0000ff">&gt;</font> E-TABLO HORIZ. POINTS: <font color="#0000ff">&lt;/</font> <font color="#800000">span</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">input</font> <font color="#ff0000">type</font> <font color="#0000ff">="text"</font> <font color="#ff0000">name</font> <font color="#0000ff">="w"</font> <font color="#ff0000">value</font> <font color="#0000ff">="55"</font> <font color="#0000ff">/&gt;</font> <br> <font color="#0000ff">&lt;/</font> <font color="#800000">label</font> <font color="#0000ff">&gt;</font></font> <br> <br> <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></code> </blockquote> <br>  This is all the more relevant in the strategy by which the author made the layout: set for &lt;label&gt; <i>display: block &amp; float: left</i> .  To make it easier to manipulate (to achieve visual effects, positioning), the latter option is best suited. <br>  Another practical advice is not to give short IDs, classes, names to fields like ‚Äúw‚Äù, as well as variables with a large field of view, especially if you want to give someone else (or someone who will continue to support it) to understand the code.  This may have a bad effect in the future or on a big project (even if it will never be born).  It would be much clearer if instead of ‚Äúw‚Äù it would be written ‚ÄútabloWidth‚Äù, ‚Äútablo_width‚Äù or, at worst, just ‚Äúwidth‚Äù. <br>  But this is all no more than another opinion.  In this case, mine. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      Separately, I want to note the styles <i>* {outline: none;</i>  <i>}</i> and <i>div {display: none! important;</i>  <i>}</i> - just a great "present" for those who want to figure out how it all works in firebug.  At first it seemed to me that I had something wrong with firebug - it turned out to be much easier.  If someone doesn‚Äôt understand what I‚Äôm talking about, these styles ‚Äúturn off‚Äù the highlight of the blocks when you hover over them when you want to select an element on the page.  It seems to me, if you lay out an example on habr with such styles, then this is just a mockery of mere mortals.  <strike>Surprisingly, javascript without obfuscation ...</strike> <br><br>  Well, now directly javascript itself and the algorithm. <br>  Studying the code, I confess I am confused.  Somehow everything is complicated, and really too much code.  There are guesses how this works, but I could be wrong, so I won‚Äôt guess and tell you how I would do it (or rather did it). <br>  The first thing you wanted to change is the symbol table. <br>  Of course, <a href="http://habrahabr.ru/blogs/javascript/64195/">alternative solutions emerged</a> in the discussion of the article, when you can do without a symbol table (in which, in essence, the font is coded).  The essence of the method is to use some kind of grid (that is, an image with holes), under which to ‚Äúoutput‚Äù plain text in regular font, and then move it.  This is sometimes done in various graphical environments and games.  But in this case, the grain (the size of the holes) should be small, ideally 1 pixel, otherwise (as in ours, with a hole size of ~ 10 pixels), it is easy to get a ‚Äúmissing pixels‚Äù situation, that is, when our hole is only part of the letter is visible.  And even if it turns out on a certain browser to achieve a clear hit in the pixels in some kind of font, then to achieve this everywhere and always, IMHO, is impossible. <br>  But back to the table.  An image is encoded for each character using an array of zeros and ones.  For example, the letter "T": <br><img src="http://basis.et-lab.ru/habrahabr/tablo/pic3.png"><br>  I think everything can be understood from the picture.  The coding method is in principle normal, since it is convenient to ‚Äúdraw‚Äù.  But too redundant and inconvenient to use. <br>  Let us re-encode characters so that the character is encoded not by line, but by vertical lines.  And the zeros and ones put bits in a number.  For this we use a small converter: <br><blockquote> <code><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="black"><font color="#0000ff">var</font> letters = { <br> <font color="#008000">//   </font> <br> }; <br> <font color="#008000">//  </font> <br> <font color="#0000ff">var</font> letters2 = {}; <br> <font color="#008000">//   </font> <br> <font color="#0000ff">for</font> ( <font color="#0000ff">var</font> letter <font color="#0000ff">in</font> letters) <br> { <br> <font color="#008000">//   - (  8 )</font> <br> <font color="#0000ff">var</font> lineCount = letters[letter].length / 8; <br> <font color="#008000">//    (   )</font> <br> <font color="#0000ff">var</font> converted = []; <br> <font color="#008000">//  </font> <br> <font color="#0000ff">for</font> ( <font color="#0000ff">var</font> i = 0; i &lt; lineCount; i++) <br> { <br> <font color="#0000ff">var</font> line = 0; <br> <font color="#008000">//  ""  </font> <br> <font color="#0000ff">for</font> ( <font color="#0000ff">var</font> j = 0; j &lt; 8; j++) <br> <font color="#008000">//     ...   ,    :)</font> <br> <font color="#008000">//     :   ""   </font> <br> line = line | letters[letter][j * lineCount + i] &lt;&lt; j; <br> <br> converted.push(line); <br> } <br> <font color="#008000">//  </font> <br> letters2[letter] = converted; <br> } <br> <font color="#008000">//     " "</font> <br> <font color="#0000ff">for</font> ( <font color="#0000ff">var</font> letter <font color="#0000ff">in</font> letters2) <br> { <br> <font color="#0000ff">document</font> .write( <font color="#A31515">"&lt;br&gt;'"</font> + letter + <font color="#A31515">"': ["</font> + letters2[letter] + <font color="#A31515">"],"</font> ); <br> } <br></font> <br> <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></code> </blockquote> <br><br>  After such a conversion, our letter ‚ÄúT‚Äù in the code will look like this: <br><blockquote>  'T': [3, 3, 255, 255, 3, 3] </blockquote><br>  What is much more compact (the table itself has decreased by 3 times), but this is not an end in itself.  In this scenario, it has become more difficult to encode new characters (on the other hand, you can encode as before, and then use the converter), but it is much more convenient to use in the code (now you will see it). <br><br>  Now that we've converted the symbol table, it's time to move on to the main part.  First, you need to decide on the canvas (the next I will call it a conveyor, since this name is more appropriate for the logic of the work).  It seems logical to form the entire strip from the text right away, and not to do it at each step of the animation - during the animation we will simply shift.  At the current state of affairs, it is very simple to form such a band and it will be a linear (one dimension) array containing numbers.  This is done by the following function: <br><blockquote> <code><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="black"><font color="#008000">//  </font> <br> <font color="#0000ff">var</font> pipeline = []; <br> <br> <font color="#008000">//  </font> <br> <font color="#0000ff">function</font> fill(str){ <br> <font color="#008000">// </font> <br> pipeline.length = 0; <br> <br> <font color="#008000">//          ,</font> <br> <font color="#008000">//        </font> <br> str = (str + <font color="#A31515">'     '</font> ).toUpperCase(); <br> <br> <font color="#008000">// </font> <br> <font color="#0000ff">for</font> ( <font color="#0000ff">var</font> i = 0; i &lt; str.length; i++) <br> <font color="#008000">// ,      </font> <br> <font color="#0000ff">if</font> (letters[str.charAt(i)]) <br> { <br> <font color="#008000">//  ,       </font> <br> <font color="#008000">//   ,      </font> <br> pipeline.push.apply(pipeline, letters[str.charAt(i)]); <br> pipeline.push(0); <br> } <br> <br> <font color="#008000">//   ,      (  )</font> <br> <font color="#0000ff">while</font> (pipeline.length &lt;= tabloWidth) <br> pipeline.push(0); <br> } <br></font> <br> <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></code> </blockquote> <br><br>  It seems so far simple.  When calling, say, fill ('habrahabr'), the pipeline array will contain: <br><blockquote>  [255, 255, 24, 24, 255, 255, 0, 252, 254, 51, 51, 254, 252, 0, 255, 255, 153, 153, 255, 118, 0, 255, 255, 27, 59 , 255, 206, 0, 252, 254, 51, 51, 254, 252, 0, 255, 255, 24, 24, 255, 255, 0, 252, 254, 51, 51, 254, 252, 0, 255 , 255, 153, 153, 255, 118, 0, 255, 255, 27, 59, 255, 206, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0] </blockquote><br>  Before proceeding to the interpretation of this array, we need to create an HTML structure of the scoreboard.  Since it may have different widths, for this purpose we will write a function.  The size of the scoreboard is set by two variables - <i>tabloWidth</i> and <i>tabloHeight,</i> respectively.  In our case, <i>tableHeight</i> does not change and is always 8. <br>  The author of the article, based on which this one was written, used DOM methods for generating a structure, which is good and for which he can shake a paw.  However, he simply added <i>tabloWidth x tabloHeight</i> elements to the container, and they were broken into lines because the container was limited in width.  For this, he calculated and set the container a new width (in pixels) when changing <i>tabloWidth</i> .  This is not very convenient, since the size of the light bulb turns out to be ‚Äúwired‚Äù in the code, and when the CSS (light bulb size) is changed, we will have to edit the code. <br>  I acted differently.  In the container I place &lt;div&gt; elements, the number of which is equal to the number of lines, and in each of them there is already the necessary number of &lt;span&gt; (light bulbs).  It is more convenient both for layout and for further manipulations (animation).  Also, in this case, we can create only one line and then clone it <i>tableHeight - 1</i> time, which will turn out much faster (although the gain, of course, is doubtful here).  By default, we do not put any classes on the elements (this corresponds to the fact that the light bulb is on), and later we will add the class off for off lights.  So, the text of the function: <br><blockquote> <code><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="black"><font color="#008000">//  HTML </font> <br> <font color="#0000ff">function</font> createTablo(){ <br> <font color="#008000">//  </font> <br> <font color="#0000ff">while</font> (htmlTablo.lastChild) <br> htmlTablo.removeChild(htmlTablo.lastChild); <br> <br> <font color="#008000">//   </font> <br> <font color="#0000ff">var</font> lineProto = <font color="#0000ff">document</font> .createElement( <font color="#A31515">'DIV'</font> ); <br> <font color="#0000ff">for</font> ( <font color="#0000ff">var</font> i = 0; i &lt; tabloWidth; i++) <br> lineProto.appendChild( <font color="#0000ff">document</font> .createElement( <font color="#A31515">'SPAN'</font> )); <br> <br> <font color="#008000">//   </font> <br> htmlTablo.appendChild(lineProto); <font color="#008000">//  </font> <br> <font color="#0000ff">for</font> ( <font color="#0000ff">var</font> i = 0; i &lt; tabloHeight - 1; i++) <br> <font color="#008000">//   </font> <br> htmlTablo.appendChild(lineProto.cloneNode( <font color="#0000ff">true</font> )); <br> } <br></font> <br> <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></code> </blockquote> <br>  The output in the container referenced by htmlTablo will be something like this HTML: <br><blockquote> <code><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="black"><font color="#0000ff">&lt;</font> <font color="#800000">div</font> <font color="#0000ff">&gt;&lt;</font> <font color="#800000">span</font> <font color="#0000ff">&gt;&lt;/</font> <font color="#800000">span</font> <font color="#0000ff">&gt;&lt;</font> <font color="#800000">span</font> <font color="#0000ff">&gt;&lt;/</font> <font color="#800000">span</font> <font color="#0000ff">&gt;&lt;</font> <font color="#800000">span</font> <font color="#0000ff">&gt;&lt;/</font> <font color="#800000">span</font> <font color="#0000ff">&gt;</font> ... <font color="#0000ff">&lt;/</font> <font color="#800000">div</font> <font color="#0000ff">&gt;</font> <br> <font color="#0000ff">&lt;</font> <font color="#800000">div</font> <font color="#0000ff">&gt;&lt;</font> <font color="#800000">span</font> <font color="#0000ff">&gt;&lt;/</font> <font color="#800000">span</font> <font color="#0000ff">&gt;&lt;</font> <font color="#800000">span</font> <font color="#0000ff">&gt;&lt;/</font> <font color="#800000">span</font> <font color="#0000ff">&gt;&lt;</font> <font color="#800000">span</font> <font color="#0000ff">&gt;&lt;/</font> <font color="#800000">span</font> <font color="#0000ff">&gt;</font> ... <font color="#0000ff">&lt;/</font> <font color="#800000">div</font> <font color="#0000ff">&gt;</font> <br> ... <br> <font color="#0000ff">&lt;</font> <font color="#800000">div</font> <font color="#0000ff">&gt;&lt;</font> <font color="#800000">span</font> <font color="#0000ff">&gt;&lt;/</font> <font color="#800000">span</font> <font color="#0000ff">&gt;&lt;</font> <font color="#800000">span</font> <font color="#0000ff">&gt;&lt;/</font> <font color="#800000">span</font> <font color="#0000ff">&gt;&lt;</font> <font color="#800000">span</font> <font color="#0000ff">&gt;&lt;/</font> <font color="#800000">span</font> <font color="#0000ff">&gt;</font> ... <font color="#0000ff">&lt;/</font> <font color="#800000">div</font> <font color="#0000ff">&gt;</font></font> <br> <br> <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></code> </blockquote> <br><br>  Now everything is ready to finally engage in animation, or rather, in the animation step, that is, the shift.  The next function performs this task, namely, it lights and extinguishes the bulbs, and shifts everything one column to the left.  The cursor variable points to the line (column) that will be currently displayed on the right.  After the line is ‚Äúdrawn out‚Äù, the cursor increases by one (moves to the next element-line), and when it reaches the end of the array (pipeline, where all the lines are stored) goes back to the beginning (becomes zero).  That is, the animation is looped.  The code itself: <br><blockquote> <code><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="black"><font color="#008000">// </font> <br> <font color="#0000ff">function</font> step(){ <br> <font color="#008000">//   </font> <br> <font color="#0000ff">for</font> ( <font color="#0000ff">var</font> i = 0, line = htmlTablo.firstChild; line; i++, line = line.nextSibling) <br> { <br> <font color="#008000">//   </font> <br> <font color="#0000ff">var</font> dot = line.firstChild; <br> <br> <font color="#008000">//   </font> <br> line.appendChild(dot); <br> <br> <font color="#008000">//   </font> <br> <font color="#008000">//    :)     ""</font> <br> <font color="#008000">//     ( ),   -   off</font> <br> dot.className = (pipeline[cursor] &gt;&gt; i) &amp; 1 ? <font color="#A31515">''</font> : <font color="#A31515">'off'</font> ; <br> <br> <font color="#008000">//     :</font> <br> <font color="#008000">// var dot = line.lastChild;</font> <br> <font color="#008000">// line.insertBefore(dot, line.firstChild);</font> <br> <font color="#008000">// dot.className = (pipeline[pipeline.length - cursor - 1] &gt;&gt; i) &amp; 1 ? '' : 'off';</font> <br> } <br> <font color="#008000">//   ""</font> <br> cursor = (cursor + 1) % pipeline.length; <br> } <br></font> <br> <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></code> </blockquote> <br>  A little about the method of displacement.  We do not repaint all the light bulbs, but simply take the first column and put it to the end.  For this we use the DOM.  Then we repaint the bulbs (change the class of &lt;span&gt;) of the last column (which was the first before) in accordance with the next value in the pipeline array.  This is much cheaper than changing the class for all &lt;span&gt;: instead of changing the class for <i>tabloWidth x tabloHeight</i> elements, we only change for <i>tabloHeight</i> . <br>  The comments also provide the code for the shift to the right (only this may not be enough, you may need to change something in other places). <br><br>  That's all.  Only initialization remains: we need to create a scoreboard ( <i>createTablo</i> function), fill the pipeline with text ( <i>fill</i> function), execute the <i>tableWidth</i> step-shift times (that is, the <i>step</i> function) in order to clear the scoreboard and fill it with the initial state, and set up a call using setInterval step functions with the required interval.  The text of the function that does all this can be viewed in the working example, the title is left to be the author - ENJOY, so as not to spoil the celebration of life :) <br>  <a href="http://basis.et-lab.ru/habrahabr/tablo/tablo.html">View result</a> <br><br>  What we have achieved: <br>  * More simple and short code; <br>  * It seems to work faster; <br>  * Full control on the style through CSS, that is, no size is not "sewn up" in the code;  In addition, you can change the color of light bulbs, for example, for extinguished light bulbs, I set the color a bit darker than the background, which added more realism, and the extinguished light bulbs also stand out from the background;  you can experiment and make, for example, a rainbow on the board; <br>  * Not tied to the images, the user will be able to see something without them; <br>  * Revealed, explained how it works :) <br>  And the code turned out to be three times smaller than the original one (if you skip both sources, for example, through the <a href="http://dean.edwards.name/packer/">packer</a> , which will remove spaces / comments, and compare).  How much easier - to judge you. <br>  Of course, the animation script is a little different from the original one, but, I suppose, if you wish, you yourself can achieve the desired result - you have the foundation. <br><br>  PS <br>  I would like to see articles about this form.  I decided not just to say it, but to do it.  Maybe my writing style is not the best and in some places too detailed.  I tried to make this article useful, and it was easier for beginners to understand.  Writing a working example took much less time than simplifying the code, writing comments and this article (which suffered for three days due to lack of time).  I hope someone will come in handy. <br>  We are waiting for good articles on Habr√©. <br><br>  ENJOY! <br><br>  <b>UPDATE:</b> Some, having read to the end, forget (or do not pay attention) that I am not the author of the original idea, the author of which is <a href="https://habrahabr.ru/users/regeda/" class="user_link">regeda</a> , which he wrote about in his article The <a href="http://habrahabr.ru/blogs/javascript/64195/">Electronic Scoreboard</a> .  I am just the author of another implementation of this article. <br>  Also this article is intended only to demonstrate the approaches and ideas, and the board itself is just an example.  Remember, as in the Matrix: I can only show the door, but you have to enter it yourself "... </div><p>Source: <a href="https://habr.com/ru/post/64381/">https://habr.com/ru/post/64381/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../64369/index.html">Virtual constructor</a></li>
<li><a href="../64372/index.html">Overview of SharePoint Server 2010 Features and the Las Vegas Conference</a></li>
<li><a href="../64373/index.html">Hearing about Apple tablet</a></li>
<li><a href="../64376/index.html">I want to become a real programmer</a></li>
<li><a href="../64378/index.html">3D CSS</a></li>
<li><a href="../64382/index.html">Brazilian University will help the project Openmoko</a></li>
<li><a href="../64383/index.html">Investor Tales from the Managing Director of the Alliance ROSNO Venture Fund</a></li>
<li><a href="../64384/index.html">How to start developing a plugin for JIRA?</a></li>
<li><a href="../64385/index.html">Executive submarine</a></li>
<li><a href="../64386/index.html">Carefully, you hear "Echelon"! (excursion into the history and present of the English-speaking system of global electronic espionage)</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>