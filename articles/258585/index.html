<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Smart quest in reality: demons and wiring</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Many have heard about quests in reality - escape the room games of the genre transferred to our world. Solve puzzles, get answers, go to the next stag...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Smart quest in reality: demons and wiring</h1><div class="post__text post__text-html js-mediator-article">  Many have heard about <a href="https://ru.wikipedia.org/wiki/%25D0%25AD%25D1%2581%25D0%25BA%25D0%25B5%25D0%25B9%25D0%25BF-%25D1%2580%25D1%2583%25D0%25BC">quests in reality</a> - <a href="https://ru.wikipedia.org/wiki/%25D0%2592%25D1%258B%25D1%2585%25D0%25BE%25D0%25B4_%25D0%25B8%25D0%25B7_%25D0%25BA%25D0%25BE%25D0%25BC%25D0%25BD%25D0%25B0%25D1%2582%25D1%258B">escape the room</a> games of the genre transferred to our world.  Solve puzzles, get answers, go to the next stage.  You need to finish in an hour, as a result, the door opens to the exit.  But few know how they are arranged inside.  In this article we will look behind the scenes of one of these quests, as well as compare it with others in technical terms. <br><br>  As a developer of escape rooms, I have seen the implementation of some of them.  Usually the quest is divided into unrelated blocks, which together realize the possibility of passing.  However, for our quest, we used a centralized architecture.  I will try to tell you what the pros and cons of these approaches, and also describe what tasks the "technician" solves, creating quests in reality, because  This topic is not well disclosed on the Internet. <br><br><img src="https://habrastorage.org/files/280/5c2/bad/2805c2badad14a41b59bd8dfd69799b7.png">
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <a name="habracut"></a><br><br><h2>  Standard approach </h2><br>  Logically, the quest scenario is divided into tasks.  For example, the customer wants to ‚Äúenter the code in the keyboard ‚áí a light bulb comes on‚Äù.  Accordingly, the task for the technician here is to make a keyboard that lights the light bulb when entering the correct password.  Arduino immediately comes to mind, which controls the light bulb and keyboard.  So usually done. <br><br><img src="https://habrastorage.org/files/342/19b/247/34219b247f744a1aa16e101a320a9f3f.png"><br>  <i>Standard architecture</i> <br><br>  As a result, we obtain separate, not related to each other tasks, which together are the quest.  This approach has a serious disadvantage: lack of flexibility.  The need to make changes leads to a long repair, requiring to climb into hard-to-reach places, and even break walls and ceilings in order to gain access to the cherished components.  Changes in the quest are caused by: <br><br><ul><li>  A change in the script.  In the process of construction occurs constantly, after sometimes. </li><li>  Breaking down  Components are cheap, so this is also not rare </li><li>  The requirements of people who also do the quest: builders, decorators, ... </li></ul><br><br>  A simple example: the task is ready.  But you want to change the color on a controlled searchlight.  To do this, go to the place where the arduin is installed, connect the laptop, look for the code to the task, change it, load it, and then test it.  Well, if it works out the first time.  In my experience, it is not uncommon for such seemingly elementary changes to lead to serious consequences: if you accidentally hit a wire, the whole task collapses or the component burns.  The quest stops at the hysterical team. <br><br>  Another example.  The operator (the person in charge of the quest and accepting players) calls and says that something has broken (for example, after entering the code the light does not light up - symptoms).  To fix this, you need to come to the site, connect a laptop and start to understand.  After all, it is not known what broke: a light bulb, wires, a controller, or something else.  It is necessary to carry out some tests, excluding possibilities.  It takes time, especially when the problem ‚Äúthat is, it does not‚Äù, i.e.  sometimes the light comes on (all is well) and sometimes not. <br><br><img src="https://habrastorage.org/files/682/199/603/682199603a364478b1aaa8599865f304.png"><br>  <i>Nightmare technique</i> <br><br>  When debugging, you have to stand for hours in uncomfortable positions with a laptop, because  Arduin tightly secured together with a bunch of wires that you do not want to touch: everything will break.  In the dust, dirt, afraid to move.  With operators who periodically come in and ask "well, when already, people are waiting there."  At such times, you compare your activities with prostitution and consider the possibilities of corresponding career growth. <br><br><img src="https://habrastorage.org/files/232/13a/e5b/23213ae5be2a47e18ba94d835f29373e.jpg"><br>  <i>Implementation of one of the tasks in one of the quests.</i>  <i>From above in the center of arduin.</i> <br><br>  The worst situation here is interfering with the breakdown of tasks.  For example, the customer wants the keyboard from task 1 to affect the light bulb in task 2. This means that you need to pull the wires from one arduin to another and change the code in both. <br><br>  So, the lack of flexibility in such quests leads to great difficulties in the creation and maintenance.  Problems also appear with the customer, because  repair is delayed and waiting for the players for half an hour begin to boil. <br><br><h2>  Centralized approach </h2><br>  How to solve this problem?  How to ensure quick access to all devices, as well as the ability to quickly change the connections between different components?  It is logical to <i>connect all devices to the network and manage them from one computer</i> . <br><br>  Each event (in the example above, this button press) will be handled by the central computer, and if the button presses make up the correct password, it will give the command to light a light bulb.  If you need to make changes (for example, change the password or make the light on for 3 seconds instead of 5, or even light the lights in another room), you just need to change the code on the computer.  Walls do not need to break. <br><br><img src="https://habrastorage.org/files/c2f/68b/91b/c2f68b91bde341f1ab53d2f03764ecfc.png"><br><br>  Our quest uses this architecture.  I will try to tell in more detail how it is implemented, and what difficulties arose during development. <br><br><h3>  Implementation </h3><br>  To begin with the list of peripherals: <ul><li>  Control GPIO (light, locks). </li><li>  Information from GPIO (buttons, sensors) </li><li>  LED RGB spotlights </li><li>  Monitors showing video synchronously (video wall) with the ability to change the speed and add text at runtime </li><li> Peephole with image </li><li>  IR receiver </li><li>  Large keyboard on the wall, the buttons of which you need to touch with your palm </li><li>  RFID sensors </li><li>  Matrix keyboard </li><li>  LED board with text </li><li>  Stepper motor for analogue Soviet mechanical watches </li></ul><br>  All this smoothly scattered on 6 rooms. <br><br>  <i>I will say right away: the</i> customer was set a goal to collect a quest <s>from matches and acorns of the</s> lowest cost.  Therefore, the components were chosen accordingly (computers with avito, for example).  The complicating circumstances did not allow the use of the most appropriate technology.  For example, at the hottest moment, the guy who owns the magic of photoresist quit, because of what he had to use boards for prototyping (Arduino).  In short, collected as best we could from what was. <br><br>  A normal PC with Debian is used as a control device.  It runs a demon that controls the entire quest.  The network uses Ethernet and UDP.  Ethernet is well supported by both computers and peripherals (avr).  UDP is easy to implement, and therefore there are good libraries for MCs that support it. <br><br><img src="https://habrastorage.org/files/471/bf7/a32/471bf7a325404b1c8d91b2f64255def7.jpg"><br>  <i>Server Quest.</i>  <i>One computer (lower left) controls everything, the rest are needed to display the video.</i> <br><br>  The variety of peripherals leads to three types of devices that need to be connected to the network.  These are Arduino Mega, Raspberry Pi and a regular computer with Debian.  The last two do not cause questions, the first is to stay. <br><br><img src="https://habrastorage.org/files/c03/35a/f1f/c0335af1f2074853b0251fa173c67445.png"><br><br><h3>  AVR </h3><br>  C ++ (avr-g ++ compiler) is selected as the programming language, and CMake is used as the build utility.  In contrast to the Arduino IDE, this enabled automation of the build process and greater flexibility.  For example, you can get access to timers and interrupts that are needed to implement quest tasks, but by default they are occupied with Arduino code. <br><br>  An inexpensive Microchip ENC28J60 (~ 250r) was chosen as the Ethernet module.  <a href="https://github.com/jcw/ethercard">EtherCard is</a> used as a library.  It refers to arduino-style functions, such as pinMode.  Instead of rewriting the library, we took from the Arduino code the implementation of those functions that are needed, thereby obtaining a ‚Äúmini-version‚Äù of the Arduino core.  CMake makes it easy to connect a ‚Äúmini-core‚Äù to projects. <br><br>  The library has many methods, but we need only some of them: send a UDP packet and set Callback to receive a UDP packet.  Big data will not walk in our network, so we believe that the data is always placed in one package. <br><br>  The system would not make sense if you could not change the controller firmware or reboot it remotely.  It would be necessary, as before, to break the walls and connect a laptop.  We solved this problem using the <a href="https://code.google.com/p/avr-etherboot/">avr-etherboot project</a> , slightly changing it to work with Mega 2560. It works as follows: .hex files with firmware are stored on a central computer and are accessible via TFTP protocol.  Avr-etherboot generates a bootloader that is flashed by an ISP to each controller.  It is an ISP, because  USB-UART firmware is implemented by the Arduino bootloader, which may already be missing.  When the controller starts downloading, the bootloader starts up, connects to the network and downloads the firmware via TFTP (each controller downloads its own, since the bootloaders are slightly different).  Next is the work of the firmware on each MK.  The written script allows you to generate a bootloader for each MC in the quest and flash it with one command. <br><br>  But what if there is an error in the firmware, and you need to replace it?  How to restart all MK?  For this, we use a relay (because there are about 50 of them in the quest, we use <a href="https://arduinobazar.ru/rele/40-plata-rele-vosmikanalnaya-kupit-moskva-arduino.html">8-channel ones</a> ), through which all arduins, except for one, pass.  The latter controls this relay and is flashed via USB from the central computer. <br><br><img src="https://habrastorage.org/files/b78/edb/dc7/b78edbdc76a545ad8abc707232be64d7.png"><br>  <i>It looks not easy, but once written scripts allow you to reflash all devices with one command, if required.</i> <br><br>  A funny, but important note: since we use the debug board in production, we need to constantly think about reliability.  Not one hour was spent on debugging the code when the problem was in the wire that had fallen off.  Therefore, the connection of the periphery with MK, ENC with MK and power made with the help of wires and terminals PLS and BLS.  Experience shows that without a crimper it is not always possible to clamp them well, so one option remains - soldering.  <i>Most of the failures in the quest,</i> because of which you have to cancel the game - not problems in the code or logic, but trivially fallen off wires. <br><br><h3>  Central computer </h3><br>  So, we have a periphery that can perceive the actions of the players or do something themselves.  We also have a quest scenario.  It should be said that this is not just a sequence of actions: options are possible in it.  For example, you can first go through room A, and then room B, and vice versa.  There are also tasks that work "independently", for example, you can press a button as many times as you like, after which the notorious light bulb will come on, and this can be done at any time, regardless of the stages completed.  How is this easiest to implement? <br><br>  We will use several processes.  Each process will have full access to the periphery.  Also, the processes will interact with each other.  In separate processes we will carry out independent tasks and expectations of events (for example, the correct password is entered in the keyboard).  When an event occurs, the processes will react as needed. <br><br>  The main scenario is a separate process.  He awaits the events of the passage of each of the rooms, and also gives commands to the periphery to perform actions. <br><br>  All this is implemented in C ++ and standard libraries (unistd.h, sys / *).  The interaction between the processes is performed using unnamed pipes.  In order to read several processes from a single UDP socket on the periphery, a ‚Äúbranching‚Äù pipe is used, according to the number of listening processes.  A packet received from a specific device is sent to all these pipes, the listening process already reads from its pipe. <br><br>  Additionally screwed TCP-server that allows you to manage the quest, creating events and showing the log.  It is possible to communicate with peripherals directly through it, which is very useful for debugging, because  You do not need to ‚Äúquench‚Äù the quest-daemon to release the port and gain access to the peripherals.  TCP-server allows you to create a web interface to the quest, allowing you to control the quest from the tablet. <br><br><img src="https://habrastorage.org/files/44c/6a2/5ae/44c6a25aec4e451086c28dbcbb2adc34.png"><br>  <i>Daemon schema in the context of other components</i> <br><br>  Example.  Let the quest consist of one task: you need to type the code on the keyboard.  After that, a light bulb comes on and an exit door opens.  In this architecture, it will work as follows: <ol><li>  Process 1, the script waits for the "run quest" event (blocking call) </li><li>  The operator presses the button in the web interface.  Chaining it creates a corresponding event, the script continues to work. </li><li>  Script starts process 2, ‚Äútask 1‚Äù, waits for the event ‚Äútask 1 passed‚Äù </li><li>  Task 1 starts the process 3, ‚Äúfinding the correct password‚Äù, waits for the corresponding event from it </li><li>  The player enters a password.  Each click is processed by process 3. When the correct password is encountered in the input sequence, process 3 generates the event ‚Äútask 1. The correct password is entered‚Äù </li><li>  The blocking call in process 2 is completed, process 2 gives the command ‚Äúlight a bulb‚Äù.  It is passed to the periphery.  Process 2 generates the event ‚Äútask 1 passed‚Äù </li><li>  The blocking call in process 1 is completed, process 1 gives the command ‚Äúopen the entrance door‚Äù.  Quest completed </li></ol><br><br><img src="https://habrastorage.org/files/698/523/2e9/6985232e9c784ab4ae8c7481bdef7b9b.png"><br>  <i>Illustration for example above</i> <br><br>  For such an example, the complex architecture seems to be something extra, but when there are many tasks, different types of periphery, and the scenario changes both during construction and during the quest, the forces invested in it ‚Äúpay off‚Äù with interest. <br><br>  <i>Quest web interface</i> <br><img src="https://habrastorage.org/files/756/108/ee2/756108ee2b18432db814aa07d191e346.png"><img src="https://habrastorage.org/files/c0c/be1/18e/c0cbe118e80f47ad94a55a65886da931.png"><br><br><br>  For the convenience of debug all events are recorded in the system log: <br><img src="https://habrastorage.org/files/b9d/ace/185/b9dace1855eb405dbff059023ee15ba3.png"><br><br>  If you think about the problem a little more, the following idea will come to mind: you need to separate the low-level (communication with the periphery) and the high-level (quest events) parts of the demon.  For example, by TCP.  This will make it possible to use a higher level language for translating the script from the customer into the code.  It will be easier and faster to write and maintain.  <i>The idea came to mind when the quest was already working, so it is not yet implemented.</i> <br><br><h2>  Tasks </h2><br>  When the architecture is invented, it remains only to connect peripherals and test tasks.  Below is the development process and results: <br><div class="spoiler">  <b class="spoiler_title">Task solutions and captured jambs</b> <div class="spoiler_text"><ul><li>  GPIO.  Create a callback that responds to an incoming UDP packet.  Depending on the content, it changes the state of the pin, or polls the pin and sends the result.  We make out in the form of a library. </li><li>  GPIO: electronic locks.  Controlled by relay.  An important point: it is <i>necessary</i> to add a diode that will take on the current that occurs when it is opened due to a significant induction of the lock.  Otherwise, the MK quest will randomly fall when you open the door. </li><li>  <a href="http://www.nova-led.ru/svetodiodnye-prozhektoru/prozhektor-led-220v-10w-rgb.html">LED RGB spotlights</a> .  Initially controlled from the console via IR.  But in the quest it is safer to use the wires, so we will emulate the IR signal using Arduino.  The important point: ‚Äúover the air‚Äù a modulated signal is transmitted.  By wire from the IR receiver to the searchlight is already normal.  Therefore, it is necessary to emulate it.  Google, we find <a href="http://www.instructables.com/id/Reverse-Engineering-RGB-LED-Bulb-with-IR-remote/%3FALLSTEPS">a ready-made project</a> .  In the code, it remains only to remove the modulation, since  We use a wire instead of a pair of IR receiver and IR transmitter.  We make out as a library, create a callback that will respond to UDP packets and add it to the device project. <br>  A small feature: on the long wires, the teams reach ‚Äúthrough time‚Äù.  Since the problem is purely electric, and the ransacking guy quits, we had to solve it programmatically, sending each command several times. </li><li>  Monitors with video.  A computer with Debian is great for our purposes.  Soft write yourself.  This will be a daemon that uses <a href="https://wiki.videolan.org/LibVLC/">libvlc</a> to display the video.  You can change such parameters as volume, playback speed, etc.  To display text over video at runtime, <a href="https://github.com/videolan/vlc/tree/master/test/dynamicoverlay">we are looking for a program</a> .  We do control through UDP.  We put in rc.d on each computer (to manage all at once it is convenient to write a script that executes one command to all via ssh).  For installation it is convenient to use <a href="https://www.debian-administration.org/article/147/Installing_packages_from_source_code_with_checkinstall">checkinstall</a> .  To implement the ability to change the playback direction for each file, <a href="https://gist.github.com/hfossli/6003302">create a</a> second, ‚Äúreverse‚Äù to the original. </li><li>  Door peephole with the image.  The peephole itself is taken from the viewfinder of an old video camera bought on avito (500r).  They used to have CRT monitors.  I had to buy two, because  the first was inappropriate.  The second viewfinder was designed as a separate module with inputs for power and composite video.  Google, how to determine which of the wires of the video, power and ground (fee without inscriptions).  Connect to Raspberry Pi.  We use the same daemon with libvlc as for computers.  Warning: in order to use the hardware acceleration on the RPI, you need <a href="http://intensecode.blogspot.ru/2013/10/tutorial-vlc-with-hardware-acceleration.html">to compile libvlc yourself</a> . </li><li>  IR receiver.  We are looking for a remote and <a href="http://amperka.ru/product/ir-receiver">receiver</a> with the appropriate modulation frequencies.  <a href="http://www.modmypi.com/blog/raspberry-pis-remotes-ir-receivers">We connect to Raspberry</a> , <a href="http://www.instructables.com/id/Raspberry-Pi-Universal-Remote/%3FALLSTEPS">configure LIRC</a> with our remote control.  We write a daemon that will send received commands to the central computer via UDP. </li><li>  Network in Raspberry.  For some reason, the network configured via / etc / network / interfaces falls off periodically.  Use Network Manager. </li><li>  Large keyboard on the wall.  We buy thin plates of iron, solder the wires.  We connect to the Arduino the resulting capacitive sensors.  We are <a href="http://playground.arduino.cc/Main/CapacitiveSensor">writing a CapSense-</a> based UDP <a href="http://playground.arduino.cc/Main/CapacitiveSensor">library</a> .  We remove all unnecessary, because  a lot of buttons, but not very memory. </li><li>  RFID sensors.  Bought two types: matrix-2 and cp-z.  Do not forget to tighten the signal wire.  We are <a href="http://playground.arduino.cc/Learning/OneWire">writing a OneWire</a> based UDP <a href="http://playground.arduino.cc/Learning/OneWire">library</a> . </li><li>  Matrix keyboards.  Writing a library with UDP support based on <a href="http://playground.arduino.cc/Main/KeypadTutorial">Keypad</a> </li><li>  LED text display NoName.  It is stitched from the computer, it can show 10 different inscriptions.  Need to be able to switch them on command.  We disassemble, remove the battery, power it from an external source, output the wires from the button for switching the label to the outside, connect it to the GPIO </li><li>  <a href="http://amperka.ru/product/stepper-motor-ldo-28sth45-0674a">Stepper motor</a> for analogue Soviet mechanical watches (we are looking for watches on avito.ru).  <a href="http://mechatronics.mech.northwestern.edu/design_ref/actuators/stepper_drive1.html">We connect the</a> driver for the engine <a href="http://amperka.ru/product/l293d-motor-driver">L293D</a> .  We are writing our SD management library with UDP support.  We use timers, we consider that the dial is round, there is a minute and an hour hand.  We consider that the motor shaft is connected with the arrows through the gears.  In order not to suffer from timing, time will go on the clock, and the central computer will request it.  If you do the opposite, the arrows will go unevenly, with jerks due to delays in the transfer of data. <br>  We are looking for a gear with the necessary parameters (to keep on the shaft of the SD, and to go to the gear in hours).  We read about the parameters of the gears <a href="https://ru.wikipedia.org/wiki/%25D0%2597%25D1%2583%25D0%25B1%25D1%2587%25D0%25B0%25D1%2582%25D0%25BE%25D0%25B5_%25D0%25BA%25D0%25BE%25D0%25BB%25D0%25B5%25D1%2581%25D0%25BE">on Wikipedia</a> .  The engine is fixed to the clock with the help of plywood and the builder, who also creates a quest. <br>  Note: in order to find out the gear module in hours, we count the number of teeth, measure the diameter with a ruler. <br>  Note: on sites with gears search does not work well enough.  We are looking for ourselves and do not give up.  I found a suitable one in a radio-controlled helicopter shop only after 4 hours of unsuccessful search. </li><li>  Nutrition.  Two types of sources are used to power all the elements: a computer power supply unit (5V: Arduino and others) and a power supply unit that comes with LED tape (12V: locks, LED tapes, etc.) </li><li>  Old TV (Ruby / Record / ...) with an arbitrary video <i>(not included in the quest)</i> .  We connect the Raspberry PI to the antenna input through the RF modulator.  The modulator is included with the Sega Mega Drive game console.  We are looking for on avito.ru </li></ul></div></div><br><br>  Video from development: <br><iframe width="560" height="315" src="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://www.youtube.com/embed/kXbubjs7aTA%3Ffeature%3Doembed&amp;xid=17259,15700021,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjojsxBSjZxdE2selt2kKSg-wVczQ" frameborder="0" allowfullscreen=""></iframe><br><br>  Total devices: <ul><li>  6 x PC </li><li>  2 x Raspberry Pi </li><li>  5 x Arduino Mega + ENC28J60 </li><li>  40 relays </li></ul><br><br>  General remarks: <div class="spoiler">  <b class="spoiler_title">Interesting too</b> <div class="spoiler_text"><ul><li>  Blocks with components must be well secured, no resistors dangling on the wires.  Soldering <a href="http://www.voltmaster.ru/cgi-bin/qwery.pl/id%3D934692354">boards</a> are well suited for this purpose. <br><img src="https://habrastorage.org/files/4d6/d62/bff/4d6d62bff3c44e9a9a58bbcc922add21.jpg"><br>  <i>Fee for driver SD</i> <br></li><li>  It is convenient to solder the <a href="http://www.voltmaster.ru/cgi-bin/qwery.pl/id%3D10706">terminal blocks to</a> such boards, and to them to connect wires. <br><img src="https://habrastorage.org/files/931/821/c5c/931821c5c0a0494aa3d5448a839fa765.jpg"><br>  <i>Large keyboard board</i> </li><li>  Wires are conveniently connected by <a href="http://chipster.ru/catalog/components/connectors/terminal-blocks/3468.html">WAGO</a> terminals.  Twisting is unreliable (especially for brittle wires), and soldering is long and inflexible. <br><img src="https://habrastorage.org/files/7ee/cd5/d16/7eecd5d164c247a680080b921a274f46.jpg"><br>  <i>Wall with components.</i>  <i>It does not look very good, but there is documentation.</i> </li><li>  Screeds, hotmelt and shrinking - everything is ours. <br><img src="https://habrastorage.org/files/46c/7c0/c4c/46c7c0c4ccf74965bec1723f1095b7d2.jpg"><br>  <i>Viewfinder in the peephole</i> </li></ul></div></div><br><br><h2>  Conclusion </h2><br>  So, we got a quest that is very easy to change, without doing too much work during construction.  We also got handy features, such as web-based management and easy search for errors.  Remote support has become possible, since  the location has an external IP. <br><br>  All the breakdowns that occurred since the launch, are due to "iron" problems (the computer died, the wire came off, ...).  With the help of the remote control, in a short time, it is possible to determine exactly what has broken.  Most can be repaired remotely, telling the operators what to do.  Changes to the quest from the customer are also performed "from home". <br><br>  In comparison, it is obvious that the centralized architecture is good for technically challenging quests, whereas for very simple ones it is suitable for ordinary ones. <br><br><img src="https://habrastorage.org/files/cf4/555/61b/cf455561b80c4d5bac7096064372cef5.png"><br><br>  If someone needs a code, I will create a public repository.  The main one is closed because  it contains the script and other secret things. <br><br>  Thanks for attention! <br><br>  UPD: <a href="https://github.com/OpenEscapeControl/AVR-Etherboot">Avr-etherboot code for Arduino Mega 2560</a> </div><p>Source: <a href="https://habr.com/ru/post/258585/">https://habr.com/ru/post/258585/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../258575/index.html">Why Windows Phone has become the best platform to launch the game "Torque"</a></li>
<li><a href="../258577/index.html">Proper performance evaluation for diagnosing and fixing issues with .Net serialization</a></li>
<li><a href="../258579/index.html">Post reinforced retro</a></li>
<li><a href="../258581/index.html">My experience with Apache Cassandra</a></li>
<li><a href="../258583/index.html">Convert conversations to mp3 - Elastix 2.5 (FreePBX 2.11)</a></li>
<li><a href="../258587/index.html">Animation of characters in Blender 3D is just</a></li>
<li><a href="../258593/index.html">On the issue of programming style</a></li>
<li><a href="../258595/index.html">The sad state of the sysadmin in the era of containers</a></li>
<li><a href="../258597/index.html">The application that I need</a></li>
<li><a href="../258599/index.html">Using Arduino as a component of Wolfram SystemModeler</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>