<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>A programming language that fits on a postcard</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="A source 


 Ralph Johnson, a member of the Gang of Four, once showed how the syntax of Smalltalk-80 can fit on a postcard. Now, almost 30 years after...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>A programming language that fits on a postcard</h1><div class="post__text post__text-html js-mediator-article"><p><img src="https://habrastorage.org/getpro/habr/post_images/fba/b78/b21/fbab78b212fe7d49e49dbf842e4314de.svg" alt="image"><br>  <a href=""><em>A source</em></a> </p><br><p>  Ralph Johnson, a member of the Gang of Four, once showed how the syntax of Smalltalk-80 can fit on a postcard.  Now, almost 30 years after the appearance of the first version of Smalltalk, the fastest growing dialect of Smalltalk is Pharo, whose postcard will be further analyzed. </p><a name="habracut"></a><br><h3 id="obyavlenie-metoda">  Method declaration </h3><br><pre><code class="smalltalk hljs">exampleWithNumber: x</code> </pre> <br><p>  Methods are declared as <code>: </code> and are members of the class.  A method with multiple parameters is declared as </p><br><pre> <code class="smalltalk hljs">rangeFrom: start to: end</code> </pre> <br><p>  The method name here is <code>rangeFrom:to:</code> and the parameter names are <code>start</code> and <code>end</code> . </p><br><h3 id="deklaraciya-pragma">  Pragma declaration </h3><br><pre> <code class="smalltalk hljs">&lt;syntaxOn: <span class="hljs-symbol"><span class="hljs-symbol">#postcard</span></span>&gt;</code> </pre> <br><p>  Pragma is used to annotate a method.  This annotation can be used by the compiler or other methods as metadata. </p><br><h3 id="kommentarii">  Comments </h3><br><pre> <code class="smalltalk hljs"><span class="hljs-comment"><span class="hljs-comment">"A "</span></span><span class="hljs-comment"><span class="hljs-comment">"complete"</span></span><span class="hljs-comment"><span class="hljs-comment">" Pharo syntax"</span></span></code> </pre> <br><p>  Comments are indicated by quotes.  Quotes inside a comment are indicated by double quotes. </p><br><h3 id="obyavlenie-lokalnoy-peremennoy">  Local variable declaration </h3><br><pre> <code class="smalltalk hljs">| y |</code> </pre> <br><p>  Local variables are used in calculations inside the method.  Variable type declarations are not required because Smalltalk is a dynamically typed language. </p><br><p>  Multiple variables are declared in one list. </p><br><pre> <code class="smalltalk hljs">| yx totalSum |</code> </pre> <br><h3 id="obekty-i-soobscheniya">  Objects and Messages </h3><br><pre> <code class="smalltalk hljs"><span class="hljs-keyword"><span class="hljs-keyword">true</span></span> &amp; <span class="hljs-keyword"><span class="hljs-keyword">false</span></span> not &amp; (<span class="hljs-keyword"><span class="hljs-keyword">nil</span></span> isNil)</code> </pre> <br><p>  Everything in Smalltalk is objects, and objects can receive messages.  The order of execution (that is, the sending of messages) is from left to right, but messages without parameters are sent first of all in accordance with the priority rules, so the calculation order here will be </p><br><pre> <code class="smalltalk hljs">(<span class="hljs-keyword"><span class="hljs-keyword">true</span></span> &amp; (<span class="hljs-keyword"><span class="hljs-keyword">false</span></span> not)) &amp; (<span class="hljs-keyword"><span class="hljs-keyword">nil</span></span> isNil)</code> </pre> <br><p>  There are only four priority rules in Smalltalk: the first messages are sent in parentheses, then unary (no additional parameters besides the receiving object itself, for example <code>false not</code> ), then binary ones (with one additional parameter, for example <code>1 + 2</code> ), then messages with several parameters (for example, <code>15 between: 1 and: 2</code> ).  The priority of execution is indicated by a simple scheme. </p><br><p>  <em>brackets</em> &gt; <em>unary</em> &gt; <em>binary</em> &gt; <em>messages with multiple parameters</em> </p><br><p>  These rules also apply to mathematical operations, so the result of the expression </p><br><pre> <code class="smalltalk hljs"><span class="hljs-number"><span class="hljs-number">1</span></span> + <span class="hljs-number"><span class="hljs-number">15</span></span> / <span class="hljs-number"><span class="hljs-number">4</span></span> <span class="hljs-comment"><span class="hljs-comment">" = (1 + 15) / 4 "</span></span></code> </pre> <br><p>  will be <code>4</code> .  By the way, <code>nil</code> also an object and can receive and respond to messages. </p><br><h3 id="uslovnoe-vypolnenie-i-bloki-koda">  Conditional execution and code blocks </h3><br><pre> <code class="smalltalk hljs"><span class="hljs-keyword"><span class="hljs-keyword">true</span></span> &amp; <span class="hljs-keyword"><span class="hljs-keyword">false</span></span> not &amp; (<span class="hljs-keyword"><span class="hljs-keyword">nil</span></span> isNil) ifFalse: [ <span class="hljs-keyword"><span class="hljs-keyword">self</span></span> perform: <span class="hljs-symbol"><span class="hljs-symbol">#add</span></span>: with: x ].</code> </pre> <br><p>  Conditional execution is implemented by sending messages <code>ifTrue</code> , <code>ifFalse</code> to a logical value object.  The argument of this message is a code block, indicated by square brackets, that is executed if the specified condition is met. </p><br><p>  Smalltalk blocks are also used as anonymous functions: </p><br><pre> <code class="smalltalk hljs">sum := [ :x :y | x+y ]. <span class="hljs-comment"><span class="hljs-comment">"  x,y -&gt; x+y "</span></span> sum value: <span class="hljs-number"><span class="hljs-number">10</span></span> value: <span class="hljs-number"><span class="hljs-number">25.</span></span> <span class="hljs-comment"><span class="hljs-comment">"  ,  - 35"</span></span></code> </pre> <br><h3 id="otpravka-soobscheniy-samomu-sebe">  Send messages to yourself </h3><br><pre> <code class="smalltalk hljs"><span class="hljs-keyword"><span class="hljs-keyword">self</span></span> perform: <span class="hljs-symbol"><span class="hljs-symbol">#add</span></span>: with: x</code> </pre> <br><p>  The <code>self</code> keyword is used as a reference to an object containing a method when sending messages to the object itself.  Here we send the message perform: with: with arguments <code>#add</code> and <code>x</code> .  The <code>#</code> sign indicates a literal string, which is used here as a method identifier. </p><br><h3 id="prisvoenie-peremennoy">  Variable assignment </h3><br><pre> <code class="smalltalk hljs">y := <span class="hljs-keyword"><span class="hljs-keyword">thisContext</span></span> stack size + <span class="hljs-keyword"><span class="hljs-keyword">super</span></span> size.</code> </pre> <br><p>  Variable assignment is denoted by the operator <code>:=</code> .  The super keyword is used to refer to a superclass object. </p><br><p>  All Smalltalk objects inherit from either the <code>Object</code> class, or from their superclass, which, in turn, inherits from its superclass or from the <code>Object</code> class. </p><br><h3 id="staticheskiy-massiv">  Static array </h3><br><pre> <code class="smalltalk hljs">byteArray := #[<span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-number"><span class="hljs-number">2</span></span>r100 <span class="hljs-number"><span class="hljs-number">8</span></span>r20 <span class="hljs-number"><span class="hljs-number">16</span></span>rFF].</code> </pre> <br><p>  <code>byteArray</code> is a class instance variable declared when the class is declared.  The byteArray array consists of integers written in different number systems in the form </p><br><pre> <code class="smalltalk hljs">&lt;&gt;r&lt;&gt;</code> </pre> <br><p>  The size of static arrays is fixed and set at compile time.  Array indexing starts at 1 </p><br><pre> <code class="smalltalk hljs">byteArray at: <span class="hljs-number"><span class="hljs-number">2</span></span> <span class="hljs-comment"><span class="hljs-comment">" = 2r100 "</span></span></code> </pre> <br><p>  From the very beginning, Smalltalk was not only a language, but also an integrated development environment with its virtual machine: Smalltalk classes and methods are not stored in separate text files, but are immediately stored in the virtual machine image and declared through the development environment interface.  For example, the class <code>Counter</code> declared in the class section as </p><br><pre> <code class="smalltalk hljs"><span class="hljs-type"><span class="hljs-type">Object</span></span> subclass: <span class="hljs-symbol"><span class="hljs-symbol">#Counter</span></span> instanceVariableNames: <span class="hljs-string"><span class="hljs-string">'count initialValue'</span></span> classVariableNames: <span class="hljs-string"><span class="hljs-string">''</span></span> package: <span class="hljs-string"><span class="hljs-string">'MyCounter'</span></span></code> </pre> <br><p>  and its methods are declared in the methods section of the <code>Counter</code> class. </p><br><h3 id="dinamicheskiy-massiv">  Dynamic array </h3><br><pre> <code class="smalltalk hljs">{ <span class="hljs-number"><span class="hljs-number">-42</span></span> . #(<span class="hljs-string"><span class="hljs-string">$a</span></span> <span class="hljs-symbol"><span class="hljs-symbol">#a</span></span> #<span class="hljs-string"><span class="hljs-string">'I'</span></span><span class="hljs-string"><span class="hljs-string">'m'</span></span> <span class="hljs-string"><span class="hljs-string">'a'</span></span> <span class="hljs-number"><span class="hljs-number">1.0</span></span> <span class="hljs-number"><span class="hljs-number">1.23e2</span></span> <span class="hljs-number"><span class="hljs-number">3.14</span></span>s2 <span class="hljs-number"><span class="hljs-number">1</span></span>) }</code> </pre> <br><p>  A dynamic array is created during program execution. <br>  Arrays can contain data of different types: the first element of the array is the number -42, the second element of the array is an array with elements of different types: </p><br><ul><li>  <code>$a</code> - the character "a" </li><li>  <code>#a #'I''m'</code> - literal strings "a" and "I'm" </li><li>  <code>'a'</code> - string "a" </li><li>  <code>1.0 1.23e2</code> - floating point numbers </li><li>  <code>3.14s2</code> - decimal fraction with a scale of 2 </li></ul><br><h3 id="cikly">  Cycles </h3><br><pre> <code class="smalltalk hljs">{ <span class="hljs-number"><span class="hljs-number">-42</span></span> . #(<span class="hljs-string"><span class="hljs-string">$a</span></span> <span class="hljs-symbol"><span class="hljs-symbol">#a</span></span> #<span class="hljs-string"><span class="hljs-string">'I'</span></span><span class="hljs-string"><span class="hljs-string">'m'</span></span> <span class="hljs-string"><span class="hljs-string">'a'</span></span> <span class="hljs-number"><span class="hljs-number">1.0</span></span> <span class="hljs-number"><span class="hljs-number">1.23e2</span></span> <span class="hljs-number"><span class="hljs-number">3.14</span></span>s2 <span class="hljs-number"><span class="hljs-number">1</span></span>) } do: [ :each | | var | var := Transcript show: each class name; show: each printString ].</code> </pre> <br><p>  Loops in Smalltalk are implemented by sending a message to an array with a block that will be executed on each element of this array, which is very similar to the functional approach.  At each iteration, the array element is passed as an argument to the block that performs some calculations on it.  In the block in the example, the local variable var is declared, which is assigned the result of sending the last show message to the global <code>Transcript</code> object. </p><br><p>  An interesting feature of Smalltalk is the possibility of cascading messages: an expression </p><br><pre> <code class="smalltalk hljs"><span class="hljs-type"><span class="hljs-type">Transcript</span></span> show: <span class="hljs-string"><span class="hljs-string">'A'</span></span>; show: <span class="hljs-string"><span class="hljs-string">'B'</span></span>.</code> </pre> <br><p>  sequentially outputs lines <code>A</code> and <code>B</code> to the <code>Transcript</code> console window.  This is equivalent to code. </p><br><pre> <code class="smalltalk hljs"><span class="hljs-type"><span class="hljs-type">Transcript</span></span> show: <span class="hljs-string"><span class="hljs-string">'A'</span></span>. <span class="hljs-type"><span class="hljs-type">Transcript</span></span> show: <span class="hljs-string"><span class="hljs-string">'B'</span></span>.</code> </pre> <br><p>  but avoids repeating the name of the transcript message receiving object.  The result of cascading is the response of the object to the last message. </p><br><p>  Return values ‚Äã‚Äãfrom method </p><br><pre> <code class="smalltalk hljs">^ x &lt; y</code> </pre> <br><p>  Returning a value is indicated by a <code>^</code> .  In this case, a logical value is returned - the result of comparing <code>x &lt; y</code> . </p></div>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <p>Source: <a href="https://habr.com/ru/post/446578/">https://habr.com/ru/post/446578/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../446566/index.html">Project Zero. How Amazon wants to deal with fakes</a></li>
<li><a href="../446568/index.html">Large-scale update CMS Umbraco 8: what's new</a></li>
<li><a href="../446570/index.html">The history of the first GPU: Rendition V√©rit√© 1000</a></li>
<li><a href="../446572/index.html">Editor.js is an excellent editor saving source code in JSON format.</a></li>
<li><a href="../446576/index.html">Import substitution, or how Russian Helicopters did something wrong</a></li>
<li><a href="../446582/index.html">Reflections on solar hosting for bees</a></li>
<li><a href="../446586/index.html">Network settings from FreeRadius via DHCP</a></li>
<li><a href="../446590/index.html">39 new features that will be available in Java 12</a></li>
<li><a href="../446592/index.html">Checking the source code of Roslyn</a></li>
<li><a href="../446598/index.html">Recreating fonts from a CRT screen</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>