<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Page Object Model + Webdriver. An example of implementation on a single test</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="I decided to write this article, because I think this approach is the most effective for organizing the structure of a test automation project. 
 Unfo...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Page Object Model + Webdriver. An example of implementation on a single test</h1><div class="post__text post__text-html js-mediator-article">  I decided to write this article, because  I think this approach is the most effective for organizing the structure of a test automation project. <br>  Unfortunately I did not work with other automation tools other than Webdriver or Selenium.  But despite this, it seems to me that this approach can be used with other tools. <br><br><h4>  Code samples will be on C # + NUnit. </h4><br><br>  Just want to say that this article is a reflection of my own experience and does not contain any references or quotes.  What is written below is nothing more than a narration of my vision of this approach and is not at all presented as a postulate. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h4>  Why is it so effective? </h4><br><br>  Probably because he brings this invaluable order to the structure of the project.  Following the principles of this approach, we create a structure with well-defined logical modules.  And each such module will be a reflection of the logical modules of the application under test. <br>  This greatly facilitates the search and reuse of methods and, as a result, facilitates project maintenance.  Also, it significantly reduces the time required for a new participant to ‚Äúinject‚Äù into the project. <br><a name="habracut"></a><br><h4>  Structure </h4><br><br>  An example would be one simple test - a login on Facebook (success in logging in, we assume that the username appears in the upper right corner of the page). <br><br>  An example of this project can be downloaded here <a href="https://github.com/DmitryRoss/Page-Object-Model-Article">github.com/DmitryRoss/Page-Object-Model-Article</a> . <br><br>  - At the head of the entire project are classes with NUnit tests.  For our test, we will make one such class and call it LoginTests.  In it we will create a test method with the name AssertLogin (). <br><br><pre><code class="cs hljs">[<span class="hljs-meta"><span class="hljs-meta">TestFixture</span></span>] <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">LoginTests</span></span> : <span class="hljs-title"><span class="hljs-title">BaseTests</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">static</span></span> LoginHelper loginHelper = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> LoginHelper(); [Test] <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">AssertLogin</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span>{...} }</code> </pre> <br><br>  - Below are the Helpers classes.  Each such class serves one specific class with tests. <br>  But sometimes, some methods from the Helpers classes are needed by other classes with tests or other Helpers classes.  In this case, it is advisable to bring such methods into separate general classes that are at the same level in the hierarchy of the structure as the Helpers classes.  A striking example of this class is the application navigation class.  After all, the transition to this or that page may be needed in different classes with tests or classes Helpers.  Usually in each project there are other Helpers classes that are rendered as general. <br>  For convenience, the methods return an instance of the Helper class in which they are located.  This allows you to contact them in such an abbreviated form, through the point - <br><br><pre> <code class="cs hljs"> loginHelper. DoLogin(userName, password). AssertUserName(displayedUserName);</code> </pre><br><br>  In our example, we will create one such class and name it LoginHelper. <br>  In it we will create 2 methods. <br>  1. DoLogin (string userName, string password) <br>  2. AssertUserName (string userName) <br><br><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">LoginHelper</span></span> :<span class="hljs-title"><span class="hljs-title">TestFramework</span></span> { <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> LoginHelper </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">DoLogin</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">string</span></span></span></span><span class="hljs-function"><span class="hljs-params"> userName, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">string</span></span></span></span><span class="hljs-function"><span class="hljs-params"> password</span></span></span><span class="hljs-function">)</span></span>{...} <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> LoginHelper </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">AssertUserName</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">string</span></span></span></span><span class="hljs-function"><span class="hljs-params"> userName</span></span></span><span class="hljs-function">)</span></span>{...} }</code> </pre><br><br>  - And here begins the core of our project - Pages, i.e.  pages.  These are classes with pages of our application.  Those.  Each such class corresponds to a specific page of the application and it contains the locators and web elements of this page.  In addition, it has elementary methods that are used on this page by Helpers classes. <br>  I believe that it is good practice to divide it into as small as possible elements.  For example, if a pop-up window appears on your page, it is better to create a separate class for this window.  Any fragmentation should be obvious and reflect something in the application itself. <br>  The approach also described in this article assumes that each method should, if possible, return a copy of the page to which it will lead.  For example, clicking on the Login button takes us to the main page.  Consequently, the method of clicking on the Login button returns an instance of the class in which the main page is described.  If the actions in the method do not involve going somewhere, then it returns the instance of the page class in which it is located. <br>  This allows you to conveniently refer to the page methods - <br><br><pre> <code class="cs hljs">loginPage. TypeUserName(userName). TypePassword(password). ClickLoginButton();</code> </pre><br><br>  Obviously, the TypeUserName method does not lead to a transition to any other page, so this method returns us an instance of the LoginPage page (in which it is located).  The same applies to the method - TypePassword.  But the ClickLoginButton method goes to the main page, so it will return an instance of the LandingPage class.  If we had to call any method from the main page (LandingPage), then we would just put a period (.) And immediately get access to all methods of the main page. <br>  Let's go back to the example.  We have two pages - the page from which we Login to the system and the page to which we get after Login. <br>  Create the LoginPage and LandingPage classes for them. <br>  On the page from which we log in, we perform 3 logically understandable actions (as part of our test) - fill in the field with the user name, fill in the field with a password, and click on the enter button. <br>  On the page where we go, we perform only one action (as part of our test) - we make sure that the username is displayed correctly in the upper right corner of the page. <br><br><pre> <code class="cs hljs"><span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> <span class="hljs-title"><span class="hljs-title">LoginPage</span></span> : <span class="hljs-title"><span class="hljs-title">TestFramework</span></span> { [FindsBy(How = How.XPath, Using = USER_NAME_TEXT_FIELD)] <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> IWebElement userNameTextField; [FindsBy(How = How.XPath, Using = PASSWORD_TEXT_FIELD)] <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> IWebElement passwordTextField; [FindsBy(How = How.XPath, Using = LOGIN_BUTTON)] <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> IWebElement loginButton; <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> LoginPage </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">GetLoginPage</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span>{...} <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> LoginPage </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">TypeUserName</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">string</span></span></span></span><span class="hljs-function"><span class="hljs-params"> userName</span></span></span><span class="hljs-function">)</span></span>{...} <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> LoginPage </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">TypePassword</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">string</span></span></span></span><span class="hljs-function"><span class="hljs-params"> password</span></span></span><span class="hljs-function">)</span></span>{...} <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> LandingPage </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">ClickLoginButton</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span>{...} <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> <span class="hljs-keyword"><span class="hljs-keyword">string</span></span> USER_NAME_TEXT_FIELD = <span class="hljs-string"><span class="hljs-string">"//input[@id='email']"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> <span class="hljs-keyword"><span class="hljs-keyword">string</span></span> PASSWORD_TEXT_FIELD = <span class="hljs-string"><span class="hljs-string">"//input[@id='pass']"</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">const</span></span> <span class="hljs-keyword"><span class="hljs-keyword">string</span></span> LOGIN_BUTTON = <span class="hljs-string"><span class="hljs-string">"//label[@id='loginbutton']/input"</span></span>; }</code> </pre><br><br>  In the example above, there is a GetLoginPage () method.  It returns an instance of the class of this page with initialized elements. <br><br>  I would also like to highlight some convenience of using inheritance from pages.  For example, in most web applications, the upper part (Header) is displayed on all pages.  In this case, it is very convenient to describe Header in a separate class, and make all other pages the heirs of this class.  Then the Header methods will be available from any page. <br>  You can also use inheritance when clicking on a checkbox leads to the appearance of the whole form.  Based on the principle of maximal dorobeniya, it is better to take out this form into a separate class.  But at the same time all the elements of the page itself remain visible.  Here it is advisable to make the form a page heir so that the page elements and methods are accessible to it. <br><br>  I often saw projects being built without a layer with Helpers classes.  Tests directly addressed the methods of the pages. <br>  This approach has the following disadvantage.  In any automation project, methods that combine the elementary actions of several pages are needed.  In our example, there is a method, DoLogin ().  I did not fully describe it.  If I wrote it correctly, then at the beginning it would be necessary to make sure that no one is logged in, exit, if logged in and go to the page with which we enter.  Further our method would go and, after its termination, it would be necessary to be convinced that the main page was loaded.  I did not implement this for ease of transferring the basics of the described approach. <br>  But, if we put this method in the LoginPage page class (as in projects without a layer with Helpers classes), then we would lose this clear boundary between logical modules.  After all, the procedure for entering the system does not begin on the login page. <br>  But imagine the situation when you need more methods to check the validation of fields to enter the system.  In this case, the LoginPage class will be overgrown with a bunch of methods that only the LoginTests class will need. <br>  Such an excessive amount of complex methods in the class page will, on the one hand, make it difficult to search for elementary methods, and on the other hand, make a blurred line between logical modules. <br><br>  But creating Helpers classes has one pitfall.  What to do with the methods that are used in class 1 test is clear - they will be in the Helper classes of this test.  But what to do with other complex methods that can be used by other test classes? <br>  Here I proceed as follows: I single out separate classes with complex methods (that is, methods that use several elementary methods from one or several page classes.), Let's call them Utils classes.  Names will be of type NavigationUtils.  From the name of the class it is clear that it contains methods for navigating in the application.  Or LoginUtils - login methods that can be used by other classes, in addition to the class with login tests.  If you need to create some content in the application to perform different tests, then you can create the ContentUtils class. <br>  My rule is simple - if this method from one Helper class was needed by some other class with tests or Helper classes, then this method migrates to the corresponding Utils class.  If this Utils class has not yet been created, then I create it. <br>  Such an approach will somewhat complicate the project with an additional layer, but it will put a clear line between logical modules.  Because in the classes of the pages only the most elementary methods will be located, which can be performed only on this page. <br><br><h4>  A little more about the service. </h4><br><br>  In projects where I participated, the lion's share of changes in the application from build to build accounted for locators.  Another small share fell on the ways of influencing the elements (for example, what was previously worked out by the usual Click () command, after the release of the new build, it already required a series of commands from MouseMove (), MouseDown and MouseUp ()).  In such cases, all support comes down to changing the classes of the pages.  And, as you can see, these are the most reusable classes.  Consequently, support efforts are minimal. <br>  There are cases when in a new build some logical chain of actions changes, for example, a link to navigate to an entity in an application is transferred from one menu to another.  Support will then affect Helpers classes and Utils classes. <br>  And extremely rarely, when the logic of the test itself changes, you will need to support classes with tests. <br><br><h4>  Perfect structure. </h4><br><br>  For myself, I derived the ideal structure of such a project, but, I confess, it didn‚Äôt follow, it only worked towards it. <br><br>  This is a set of simple rules: <br>  1. Classes with tests use only Helpers classes and Utils classes.  Do not use page classes, and, especially, the framework methods that work with Selenium and Webdriver.  The remaining methods of the framework can be used. <br>  2. Helpers classes use only page classes and Utils classes.  Do not use framework methods that work with Selenium and Webdriver.  The remaining methods of the framework can be used. <br>  3. Utils classes use only page classes.  Do not use Helpers classes and framework methods that work with Selenium and Webdriver.  The remaining methods of the framework can be used. <br>  4. Page Classes use only framework methods.  Do not use the methods of Selenium and Webdriver directly. <br>  Observing such rules initially, I think, will help avoid painful problems with the project in the future and will make support as easy as possible. <br><br>  From my point of view, many existing projects could be converted in accordance with the described approach.  I myself had such an experience.  And I tell you, such a transition revealed a huge amount of duplicate code. <br><br>  Those who have been in large testing automation projects understand that without order there simply cannot survive.  Therefore, if you still have not heard / thought / tried it, I still recommend you to try. <br></div><p>Source: <a href="https://habr.com/ru/post/155109/">https://habr.com/ru/post/155109/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../155099/index.html">x-acl lightweight utility to organize Access Control List (ACL)</a></li>
<li><a href="../155101/index.html">What do users think about paperless technology</a></li>
<li><a href="../155103/index.html">The new infrastructure of the Pirate Bay: still indestructible and elusive</a></li>
<li><a href="../155105/index.html">Restore base 1C using HEX editor</a></li>
<li><a href="../155107/index.html">JQuery tutorial for beginners</a></li>
<li><a href="../155111/index.html">Extending Asterisk with PHP</a></li>
<li><a href="../155113/index.html">Metropolis or Windows 8 through the eyes of Delphi programmers</a></li>
<li><a href="../155115/index.html">How does apache cassandra work?</a></li>
<li><a href="../155119/index.html">How to search and find the best employees in the mobile mode?</a></li>
<li><a href="../155121/index.html">Virtual walk through Google data centers</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>