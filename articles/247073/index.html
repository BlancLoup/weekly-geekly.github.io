<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Expressive ReactJS or Type Angular features in our framework</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="In recent times, AngularJS has not criticized just lazy, and I, over the past couple of months, have read a lot of articles with criticism. One such a...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Expressive ReactJS or Type Angular features in our framework</h1><div class="post__text post__text-html js-mediator-article">  In recent times, AngularJS has not criticized just lazy, and I, over the past couple of months, have read a lot of articles with criticism.  One such article ended with the phrase ‚ÄúI, damn it, do not understand how Angular can be so popular, because it‚Äôs so bad!‚Äù <br>  ‚ÄúAnd really,‚Äù I wondered, ‚Äúif he's so bad, then why is he so popular?‚Äù And I think I found the answer.  The fact is that Angular, like jQuery, has a low threshold of entry, it is simple and intuitive.  Yes, of course, you can do complex things in Angular and jQuery, but most people do not use these libraries in this way.  What I mean? <br><a name="habracut"></a><br>  Suppose a developer has the following task: ‚ÄúMake a list of reviews, if there are no reviews, invite the user to add a review‚Äù <br>  First, let's implement this on Angular: <br><br><pre><code class="html hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">h1</span></span></span><span class="hljs-tag">&gt;</span></span>Reviews<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">h1</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">article</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">ng-repeat</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"review in reviews"</span></span></span><span class="hljs-tag">&gt;</span></span> {{review.user}}: {{review.text}} <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">article</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">ng-hide</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"reviews"</span></span></span><span class="hljs-tag">&gt;</span></span> There are no reviews, wanna <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">a</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">href</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"#"</span></span></span><span class="hljs-tag">&gt;</span></span>add<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">a</span></span></span><span class="hljs-tag">&gt;</span></span> some? <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br><br>  And now on React: <br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> Reviews = React.createClass({ getReviews (){ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(!<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.props.reviews.length){ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> ( <span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">div</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> There are no reviews, wanna </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">a</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">href</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"#"</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">add</span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">a</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> some? </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">div</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span></span> ) } }, getReview (review){ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> ( <span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">article</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">ng-repeat</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"review in reviews"</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> {review.user}: {review.text} </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">article</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span></span> ) }, render (){ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> ( <span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">h1</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">Reviews</span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">h1</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span></span> {<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.maybeGetAddNew()} {<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.props.reviews.map(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.getReview} ) } });</code> </pre>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      As we can see, the code on React is not only longer, but also more confusing.  After I finally enter the designers and layout designers, ‚ÄúMarkap is always at the bottom of the file, write plain HTML, just use className instead of class,‚Äù the designer visits my file, sees <i>it</i> and tells me, ‚ÄúWhat are you kidding?  What are these braces?  I need to add a class to one div, and what is it?  I actually taught HTML, but not JS " <br>  Another thing is with Angular, everything is clear to the designer, where he should be added, perhaps he even understands that when he disappears and what is repeated, you just need to scare him, that if he touches the attributes of ng-, then he will have a terrible judgment, hell and death and everything will be fine. <br>  Well, it's the same designers, what to take from them, nubiyo, in one word, we are bearded, severe programmers, we like this code.  Yah?  And if someone from the team tells us, ‚ÄúHey, {username}, what is your naked div?  He breaks the whole layout for me! ‚ÄùAnd we go into the component and see this: <br><br><pre> <code class="javascript hljs"> render (){ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> ( {<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.getPostTitleIfPostHasTitle()} {<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.getPostAuthorAvatarIfAuthorHasAvatar()} {<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.getPostAuthorNameIfNotAnonymous()} {<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.getPostTeaserImageIfPostHasTeaserImage()} {<span class="hljs-comment"><span class="hljs-comment">/*   */</span></span>} ) }</code> </pre><br><br>  and now we need to run through the methods and check the conditions of each in order to find that unfortunate div.  Well, if some of the methods are also inherited from mixin ... then there will be unbridled fun for an hour, or even more. <br><br><h2>  Decision? </h2><br>  Obviously, we need to port a couple of the most used Angular directives to React, for example, ng-show, ng-hide, ng-class and ng-repeat.  But how?  You can, of course, make a mixin that will run along a hard-line list of ‚Äúdirectives‚Äù and check them against the host's propy, and then follow the logic associated with this ‚Äúdirective‚Äù <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> DirectiveMixin = { renderWithDirectives (target){ <span class="hljs-keyword"><span class="hljs-keyword">if</span></span>(!!<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.props.isShownWhen){ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> target; } <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-literal"><span class="hljs-literal">null</span></span>; } } <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> Component = { <span class="hljs-attr"><span class="hljs-attr">mixins</span></span>: [DirectiveMixin], render (){ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.renderWithDirectives( <span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">div</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">Hi there!</span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">div</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span></span> ) } } <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> userIsLoggedIn = <span class="hljs-literal"><span class="hljs-literal">false</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> React.renderComponent(<span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">Component</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">isShownWhen</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">{userIsLoggedIn}/</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">, document.body);</span></span></code> </pre><br><br>  Already not bad, but there are a couple of moments.  First, we have to write a component for every small detail that conditionally appears / hides on our site, even if it is a small span.  Well, secondly, if we want to use this for some old component, we will have to rewrite the render method using renderWithDirectives, and this is not always possible.  And it's also difficult to debug if you have a component. <br><br><pre> <code class="html hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">AdminBar</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">isShownWhen</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">{userIsLoggedIn}/</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br><br>  which should appear, but does not appear, is it because <i>userIsLoggedIn is</i> false, or does AdminBar simply not use renderWithDirectives?  These problems can be solved by creating one small component, which we, for readability, call it.  It can look something like this: <br><br><pre> <code class="javascript hljs"><span class="hljs-keyword"><span class="hljs-keyword">var</span></span> It = React.createClass({ <span class="hljs-attr"><span class="hljs-attr">mixins</span></span>: [DirectiveComponents], render (){ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.renderWithDirectives(<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.props.children); } });</code> </pre><br><br>  And you can use it like this: <br><br><pre> <code class="javascript hljs">&lt;It isShownWhen={reviews.length}&gt; <span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">div</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">There are no reviews, wanna </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">a</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">href</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"#"</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">add</span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">a</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml"> some?</span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">div</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span></span> &lt;<span class="hljs-regexp"><span class="hljs-regexp">/It&gt;</span></span></code> </pre><br><br>  And for even greater readability, you can fill this with a syntactic sugar, for example, like this: <br><br><pre> <code class="javascript hljs">&lt;Show when={userIsLoggedIn}&gt; <span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">a</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">href</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"#"</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">Lougout</span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">a</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span></span> &lt;<span class="hljs-regexp"><span class="hljs-regexp">/Show&gt; &lt;Hide when={userIsLoggedIn}&gt; &lt;a href="#"&gt;Login&lt;/</span></span>a&gt; <span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">Hide</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span></span> &lt;Show unless={userIsLoggedOut}&gt; <span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">a</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">href</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"#"</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">Lougout</span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">a</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span></span> &lt;<span class="hljs-regexp"><span class="hljs-regexp">/Show&gt; &lt;Hide unless={userIsLoggedOut}&gt; &lt;a href="#"&gt;Login&lt;/</span></span>a&gt; <span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">Hide</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span></span></code> </pre><br><br>  Well that's all?  We have mix, component It and syntactic sugar in the form of Show / Hide when / unless, it remains to finish ng-class and ng-repeat and can it be on github and npm?  Somehow, everything is too simple, let's make life difficult for us, and not just port Angulyar directives, but also make them better.  For example, like this: <br><br><pre> <code class="javascript hljs">&lt;Show when=<span class="hljs-string"><span class="hljs-string">"user is logged in"</span></span>&gt; <span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">a</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">href</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"#"</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">Logout</span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">a</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span></span> &lt;<span class="hljs-regexp"><span class="hljs-regexp">/Show&gt; &lt;Show unless="user is logged in"&gt; &lt;a href="#"&gt;Login&lt;/</span></span>a&gt; <span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">Show</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span></span> &lt;Hide when=<span class="hljs-string"><span class="hljs-string">"user is logged in"</span></span>&gt; No account? <span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">a</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">href</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"#"</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span><span class="xml">Sign up!</span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">a</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span></span> &lt;<span class="hljs-regexp"><span class="hljs-regexp">/Hide&gt; &lt;DisplayAll the="reviews for this product"&gt; &lt;div className="review-container"&gt; &lt;div isShownWhenThereAreNo="reviews for this product"&gt; There are no reviews, wanna &lt;a href="#"&gt;add&lt;/</span></span>a&gt; some? <span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">div</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span></span> &lt;Review isTheTemplateForThe=<span class="hljs-string"><span class="hljs-string">"review"</span></span>/&gt; <span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">div</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span></span> &lt;<span class="hljs-regexp"><span class="hljs-regexp">/DisplayAll&gt;</span></span></code> </pre><br><br>  There is nowhere more understandable, since it is almost English.  Now the designer will understand exactly what conditionally appears / disappears, and the developer, who sees this code for the first time, will immediately understand what's going on, he will not have to control / command-click methods of {this.maybeGetThisStuff ()} to figure out .  And to whom the situation is unknown, when an evil typewriter writes an evil tick to the bewildered developer ‚ÄúWhy do you have a delimiter at new moon ?!  I explained a hundred times to you, it should appear when the fast does not have a tambneil, Beijing has an air temperature above 20 degrees <i>or</i> the fast has a tambneil, in London there is a clear sky <i>and</i> full moon, but it must not be loved at new moon! "Now he can be explained , so that it describes the behavior of components in English on white already at the layout stage, for example like this: <br><br><pre> <code class="javascript hljs">&lt;Show when=<span class="hljs-string"><span class="hljs-string">"post has no thumbnail, it's 20 C in Beijing or the sky is clear in London and the moon is full"</span></span>&gt; <span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">div</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">className</span></span></span></span><span class="xml"><span class="hljs-tag">=</span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">"delimiter"</span></span></span></span><span class="xml"><span class="hljs-tag">/&gt;</span></span></span><span class="xml"> </span><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;/</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">Show</span></span></span></span><span class="xml"><span class="hljs-tag">&gt;</span></span></span></span></code> </pre><br><br>  The attentive reader is probably asking me "Oh, you demon!  Did you come up with a natural language processor, or what?  So why do you powder my head with your React! ‚Äù <br>  Unfortunately, no, I didn‚Äôt invent the AI, and I‚Äôm probably not getting the Nobel Prize anymore.  The principle of operation of these "string" conditions is similar to the work of function translators, that is, for example, in this case: <br><br><pre> <code class="javascript hljs">__(<span class="hljs-string"><span class="hljs-string">'Please like and subscribe!'</span></span>)</code> </pre><br><br>  The string <i>Please like and subscribe!</i>  is the key of the associative array, and the translation is performed by reading the value of this key (if any).  The spherical "__" function in vacuum probably looks something like this: <br><br><pre> <code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">__</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">str</span></span></span><span class="hljs-function">)</span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-string"><span class="hljs-string">'undefined'</span></span> == <span class="hljs-keyword"><span class="hljs-keyword">typeof</span></span> translations[str] ? str : translations[str]; }</code> </pre><br><br>  Thus, the phrase <i>post has no thumbnail is the</i> key to the object, the value of which is boolean.  After the coder described the behavior of the components, the programmer needed to finish his coffee and write something like: <br><br><pre> <code class="javascript hljs">getDesigner2CoderTranslations (){ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> { <span class="hljs-string"><span class="hljs-string">"post has no thumbnail, it's 20 C in Beijing or the sky is clear in London and the moon is full"</span></span>: (!<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.postHasThumbnail() &amp;&amp; <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.getTemperature(<span class="hljs-string"><span class="hljs-string">'Beijing'</span></span>) == <span class="hljs-number"><span class="hljs-number">20</span></span>) || (<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.getSkyState(<span class="hljs-string"><span class="hljs-string">'London'</span></span>) == <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.SKY_CLEAR &amp;&amp; <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.getMoonPhase() == <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.MOON_FULL) } }</code> </pre><br><br>  Not bad, but where will this object with ‚Äútranslations‚Äù be stored, and how will we transmit it?  Well, I thought about it and decided that it would be best to use the undocumented React function, called context.  This is something like a sermon, which is transmitted not from the immediate parent to the immediate child, but from the higher component to all subordinate children, that is, children of children, children of children of children, etc.  Here is <a href="https://www.tildedave.com/2014/11/15/introduction-to-contexts-in-react-js.html">an unofficial introduction</a> . <br>  And, armed with new knowledge, let's end: <br><br><pre> <code class="javascript hljs">childContextTypes: { <span class="hljs-attr"><span class="hljs-attr">monstroLanguage</span></span>: React.PropTypes.object }, <span class="hljs-attr"><span class="hljs-attr">getChildContext</span></span>: <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> { <span class="hljs-attr"><span class="hljs-attr">monstroLanguage</span></span>: { <span class="hljs-string"><span class="hljs-string">"post has no thumbnail, it's 20 C in Beijing or the sky is clear in London and the moon is full"</span></span>: (!<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.postHasThumbnail() &amp;&amp; <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.getTemperature(<span class="hljs-string"><span class="hljs-string">'Beijing'</span></span>) == <span class="hljs-number"><span class="hljs-number">20</span></span>) || (<span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.getSkyState(<span class="hljs-string"><span class="hljs-string">'London'</span></span>) == <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.SKY_CLEAR &amp;&amp; <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.getMoonPhase() == <span class="hljs-keyword"><span class="hljs-keyword">this</span></span>.MOON_FULL) } }; }</code> </pre><br><br>  Mixin and directives declare that they expect such a context, and all the ‚Äústring‚Äù conditions will be searched for in it. <br><br><pre> <code class="javascript hljs">contextTypes: { <span class="hljs-attr"><span class="hljs-attr">monstroLanguage</span></span>: React.PropTypes.object },</code> </pre><br><br><h2>  Beautifully laid out, fraerok.  And where can you look at your magic? </h2><br>  I put the code on the <a href="https://github.com/MonstroThemes/directive-components">githab</a> .  Now I finish the documentation (more precisely, I transfer from bitbucket markdown to github markdown), I test the examples and at the same time.  By the evening, I think, I will finish, and lay out on npm.  I would like to hear your opinion, advice, which directives would not hurt to add.  Pull requests, of course, are very welcome. </div><p>Source: <a href="https://habr.com/ru/post/247073/">https://habr.com/ru/post/247073/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../247053/index.html">Sorting on a single-linked list in O (nlogn) time, at worst, with O (1) additional memory</a></li>
<li><a href="../247055/index.html">Adventures Tyzh-programmer. New Year's Eve Mood Post</a></li>
<li><a href="../247057/index.html">Samsung Introduces SE790C - Ultra WQHD 34-inch Curved Monitor</a></li>
<li><a href="../247059/index.html">Drupal - choosing a business consultant</a></li>
<li><a href="../247071/index.html">Features and configuration of 3CX WebMeeting</a></li>
<li><a href="../247075/index.html">New Year's digest of Microsoft Azure</a></li>
<li><a href="../247077/index.html">Face recognition in 4 lines on jQuery</a></li>
<li><a href="../247079/index.html">As I wrote a PeerJS (WebRTC) client for Android</a></li>
<li><a href="../247081/index.html">Template specialization by base class</a></li>
<li><a href="../247083/index.html">5 ways to attract more customers using psychology</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>