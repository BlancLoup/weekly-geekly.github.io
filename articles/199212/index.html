<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Interview with C # legend Eric Lippert</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="The material is taken from the DotNetCurry magazine dedicated to technologies based on the .NET platform. 

 Dear readers, we are very happy to see Er...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Interview with C # legend Eric Lippert</h1><div class="post__text post__text-html js-mediator-article">  The material is taken from the <a href="http://www.dotnetcurry.com/magazine/dnc-magazine-issue6.aspx">DotNetCurry</a> magazine dedicated to technologies based on the .NET platform. <br><br>  Dear readers, we are very happy to see Eric Lippert in this issue of the DNC magazine.  Eric doesn‚Äôt need to be introduced to people familiar with C #, but for the rest, Eric is known for his work in the C # compiler team.  He devoted a significant part of his career to Microsoft, working in various positions.  Before joining Microsoft, Eric worked for Watcom.  Our "oldies" remember Watcom as a company that has created very good compilers for C ++ and Fortran languages.  Erik currently works for Coverity to help create static code analysis products. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/d5e/24c/1fb/d5e24c1fb9a6577b23f975af422737bc.png"><br><a name="habracut"></a><br>  <b>DNC:</b> Hello Eric, we are very glad to see you here with us. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      <b>EL:</b> Thank you.  I'm glad to be here. <br><br>  <b>DNC:</b> You have been working at Microsoft for a long 16 years.  Describe your journey (if you can call it that) from an internship to working on VBScript, JScript, VSTO (Visual Studio Tools for Office) and becoming the main developer of the C # compiler team. <br><br>  <b>EL:</b> I grew up in Waterloo, was interested in science and mathematics from an early age, so it was natural for me to go to the University of Waterloo.  In addition, I had relatives in the staff, and I already knew a number of professors, and as you said, as a student, I worked for UW, which was a subsidiary of Watcom.  UW had an excellent training program, one of the largest in the whole world, through which I managed to get three internships at Microsoft to the VisualBasic development team.  They happily extended my job offer when I finished my internship, and I stayed in the tool development department throughout my career at Microsoft. <br><br>  <b>DNC:</b> Before you started your internship at Microsoft, it's fair to assume that in the early years you received a lot of good advice from senior engineers.  Which of these tips was the best programming tip you have ever received? <br><br>  <b>EL:</b> I received a lot of good advice from senior engineers throughout my career, not just at the beginning;  Microsoft encourages formal and informal mentoring.  I recently talked about the best career advice that I received it at Microsoft: in principle, as I became a subject matter expert, I answer as many user questions as I can.  But to say which of the programming tips was the best is not so simple.  I learned so much from Microsoft ‚Äî a world expert in programming language design, performance analysis, and many other things ‚Äî it's hard for me to name one thing. <br><br>  One thing I remembered before I got into Microsoft.  One day, many years ago, Brian Kernighan gave a talk on programming in UW.  One slide showed the code with which something was wrong.  It was incorrect because the comment to the code and the code itself did not match each other.  Kernigan asked the question: what actually works - the code or comments to it?  I still ask myself this rhetorical question when I try to understand the code containing the error;  It often happens that comments are misleading, because they are outdated or simply were not originally written, at the same time it often happens that the comments are correct, and you don‚Äôt even have to delve into the code containing the error.  Kernighan's report completely changed my attitude to commenting code.  From now on, I try to write comments that explain the purpose of some part of the code, before trying to explain how it works. <br><br>  <b>DNC:</b> When your team started developing C #, what were your main goals?  Are you happy with what language C # has become? <br><br>  <b>EL:</b> To be honest, I started working on C # when the basic concepts of C # 3.0 were seriously developed and developed.  I have been following C # since it appeared more than 10 years ago, but I was not part of the C # 1.0 or C # 2.0 team. <br><br>  When we talk about goals, I try to distinguish ‚Äúbusiness‚Äù goals from ‚Äútechnical‚Äù ones;  they are closely related, but different.  From a business point of view, the main goal of C # was and is the creation of a rich language that would allow you to get all the benefits of the .NET platform and, moreover, improve the modern view of the Windows ecosystem as a whole.  <i>The best tools entail more productive developers, more productive developers create better applications for their users, better applications make the platform more attractive and everyone wins.</i> <br><br>  In terms of language design, there are a number of basic principles to which developers return again and again.  The language should be modern, practical, general-purpose language, which is used by professional programmers who develop software. <br><br>  C # 1.0 started out as a fairly simple, modern programming language.  Obviously, he felt the influence of C and C ++;  The language design team sought to smooth out some of the shortcomings of the C / C ++ languages, while at the same time allowing access to unsafe code.  But 10 years later, the language grew, adding features such as: generic types, sequence generators, functional closures, query expressions, the ability to interact with dynamic languages, and later, a significant improvement in support for writing asynchronous code.  I am excited about how the language has evolved over the past 12 years, and it is an honor for me to be part of some of the most exciting changes.  I look forward to continuing work on the C # ecosystem. <br><br>  <b>DNC:</b> As a member of the C # development team, what negotiations did you have with the Windows OS team?  At what level is the operating system when developing certain language features?  Do you largely work alone or do you have more joint efforts? <br><br>  <b>EL:</b> Every time is different.  In the distant past, this was usually the first;  When developing C # 5.0, the Windows team was heavily involved.  I personally, did not communicate much with the Windows team during the work on C # 5.0, but the C # project management team was almost always with my colleagues from the Windows team throughout the work on Windows RT.  There were several technical issues that required special care to ensure that as few inconsistencies as possible were made between C # developers and the Windows RT programming model.  In particular, it was important that ‚Äúasync / await‚Äù meets the needs of Windows RT developers using C #. <br><br>  However, this is true relatively recently.  C # historically did not have direct interaction with the Windows command, since it is based on the managed CLR, and also uses the BCL class library to provide access to the operating system functionality.  Since the C # team realized that the CLR and BCL teams would act as an "intermediary" between the operating system services, they were able to concentrate more on the design of the language that would use all the power of the CLR and BCL, and let these teams interact with operating system. <br><br>  <b>DNC:</b> We heard about your podcast with the StackExchange team in which you mentioned things that are on the top of your list - ‚Äúif I had a Gene to fix in C # ...‚Äù.  It was about unsafe covariance of arrays.  Could you tell our readers about this? <br><br>  <b>EL:</b> Of course.  First, let's define what the term ‚Äúcovariance‚Äù means.  Proper definition will require a touch on the category theory theory, but we don‚Äôt have to go so far to understand the meaning of this term.  The idea of ‚Äã‚Äãcovariance, as the name implies, is when one statement is reduced to another, the truth of which is preserved when a certain transformation is performed on the original statement. <br><br>  In C #, there is the following rule: if T and U are reference types and T is reduced to U by a reference transformation, then T [] is reduced to U [] as well by a reference transformation.  This rule, as they say, is covariant, since the statement ‚ÄúT is reducible to U‚Äù you can lead to the statement ‚ÄúT [] is reducible to U []‚Äù, while the truth of the statement is preserved.  This is not true for everything;  for example, you cannot conclude that List &lt;T&gt; is reduced to List &lt;U&gt;, only because T is reduced to U. <br><br>  Unfortunately, the covariance of arrays weakens type safety in the language.  A language is type-safe when the compiler catches such errors as, for example, assigning an integer to a variable having a string type, that is, the program will not be compiled until all type mismatch errors are corrected.  Covariance of arrays, an example of such a situation, when type mismatch cannot be caught at compile time, but can only be checked at run time. <br><br><pre><code class="cs hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">M</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">Animal[] animals</span></span></span><span class="hljs-function">)</span></span> { animals[<span class="hljs-number"><span class="hljs-number">0</span></span>] = <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> Turtle(); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">N</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">Giraffe[] giraffes</span></span></span><span class="hljs-function">)</span></span> { M(giraffes); }</code> </pre> <br>  Since the transformation of the arrays is covariant, the giraffe array can be converted to an animal array.  And since the turtle is an animal, we can put it in an array of animals.  But this array actually contains giraffes.  This type mismatch will result in throwing an exception at runtime. <br><br>  The covariance of arrays has 2 negative consequences.  First, the assignment of a value to a variable must always be checked at compile time, but in this case it is not possible.  And secondly, this means that every time you assign an element to an array (a type that is an unprinted reference type) value is not an empty reference, the environment checks the actual type of the array elements with the type assigned to the reference.  This check takes time!  In order for the covariance of the arrays to work, the correct program will have to work slower each time the array elements are accessed. <br><br><h4>  // If I had a Gene who could fix any code, I would remove the insecure covariance of arrays completely. </h4><br>  The C # team has added type-safe covariance in C # 4.0.  If you are interested in how this is done, I have written a long series of articles devoted to the implementation of this functionality;  You can read them here. <a href="http://blogs.msdn.com/b/ericlippert/archive/tags/covariance%2Band%2Bcontravariance/">blogs.msdn.com/b/ericlippert/archive/tags/covariance+and+contravariance</a> <br><br>  If I had a Gene who could fix any code, I would completely remove the unsafe covariance of the arrays, and correct all the code using the type safe covariance added in C # 4.0. <br><br>  <b>DNC:</b> Before we got to your current job, tell us a little about static code analysis. <br><br>  <b>EL:</b> Static analysis refers to the analysis of a program based on its source code only.  It differs from dynamic analysis, which analyzes the program at runtime.  Compilers produce static analysis, while profilers produce dynamic analysis.  Compilers use static analysis for 3 things: first, to determine if a program is a valid program, and if not, display the appropriate error messages.  Secondly, to translate the correct program into any other language, usually in byte code, or machine language, but it can be any other high-level language.  And, thirdly, to determine the constructions that are correct, but the use, of which is doubtful, and to draw the appropriate warnings. <br><br>  In Coverity, we usually deal with the third type of static analysis, we assume that the code is syntactically correct;  this will be verified by the compiler, and we conduct a much more in-depth analysis to identify questionable constructions and present them to your attention.  The sooner you find an error, the cheaper it is to fix it. <br><br><h4>  // I spent about 15 thousand hours carefully studying the design and implementation of the C # compiler. </h4><br>  There are other things you can do with static analysis, for example, Coverity also makes a product that uses static analysis to find code changes that do not have the appropriate unit tests. <br><br>  <b>DNC:</b> How does your deep C # knowledge benefit Coverity? <br><br>  <b>EL:</b> Mostly in two ways.  First, C # is a huge language, its specification takes about 800 pages.  Ordinary developers, of course, should not know the whole language in detail in order to use it effectively, but the creators of the compilers should of course.  I spent about 15 thousand hours carefully studying the design and implementation of the C # compiler, as well as learning from the designers of the language Anders Hejlsberg, Neil Gafter and Eric Meyer, so I have a fairly solid understanding of what a good C # static analyzer does.  Secondly, I have seen thousands of lines of C # code containing errors.  I know what kind of errors C # developers are making, which helps us to identify the places where we need to make special efforts in static analysis. <br><br>  <b>DNC:</b> Ever since you have worked for Coverity, have you come up with a situation in which you thought - ‚Äúmmm, will this help make C # more statically typed (provable)‚Äù? <br><br>  <b>EL:</b> Some language functionality complicates static analysis, but at the same time makes the language more powerful.  For example, virtual methods complicate static analysis, because the meaning of virtual methods is that the real method will be selected based on the real type at run time. <br><br>  As I said earlier, C # was designed to take into account the shortcomings of C / C ++ languages.  The C # 1.0 developers did a good job;  for it is rather difficult to organize a buffer overflow or create a memory leak or use a variable prior to its initialization or accidentally use the same name for completely different things.  But what really was instructive for me after the transition to Coverity was that most of the erroneous constructions that Coverity checks in C / C ++ are equally well applicable in modern languages ‚Äã‚Äãsuch as Java and C #. <br><br>  <b>DNC:</b> We heard you developed one of the first fan pages of the novel The Lord of the Rings.  Tell us more about how this happened, as well as about your interests in books and movies. <br><br>  <b>EL:</b> My father read the Hobbit to me when I was very young;  from that time I began to get involved in the writer Tolkien;  I collected his biography and it was my hobby when I was a teenager.  When I studied mathematics at UW in the early 1990s, the world wide web (WWW) was something new;  One day I was surfing the internet and I found a fan page for the original Star Trek series.  I thought it would be a great idea to create something similar for Tolkien, I searched the entire Internet, which didn't take me long in 1993 and found all the FTP sites, newsgroups and much more about Tolkien, and created a simple a web page that was just a collection of links and put it on the server of the GOPHER computer science club.  With the growth of the web, more and more people associated with it sent me the addresses of their pages.  I continued to add more and more links until there were too many of them.  I stopped supporting this page and, in the end, my membership came to an end.  I think you can still find it in the archive of the Internet. <br><br>  The fact is that at that time such companies as Open Text and Google started indexing the Internet and their search algorithms took into account such things as: how long the page existed, how often it changed over time, and how many external links to it were.  Even after I stopped it actively maintain the performance of the page were at a high level.  As a result, for many years my name was the first to make a request for Tolkien.  When the film was presented, many people did just that.  As a result, I ended up giving an interview to several newspapers, received an e-mail from one of Tolkien's grandsons, Jeopardy (the American name of the program ‚ÄúMy Game‚Äù) to check the facts once called me, asking ‚ÄúWho are the Ents?‚Äù.  I had a lot of fun. <br><br>  However, in those days I read very little fiction and fantasy.  Most of my free time reading is about popular science books. <br><br>  I love watching movies and inviting friends to watch them, our nightly movie choices are very different.  One month we watch films nominated for an Oscar, another month horror films. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/cda/124/9cf/cda1249cf66942fe7b5eac478bb3b285.png"><br><br><h4>  // One of the ways to determine that a language really becomes big is when users send a request for a new functionality, and you already have it. </h4><br>  Here are three little features that not many people know about. <br><br><ul><li>  You can add the prefix "global:" to the namespace name to force the name resolution algorithm to start the search from the namespace marked with the word global.  This is useful in situations where you have a conflict between global space and local space or type.  For example, if your code is in the poorly named namespace "Foo.Bar.System", then referring to "String" in "Foo.Bar.System" will result in an error.  If you add the prefix "global: System.String" then the String will be searched in the global namespace System. </li><li>  C # prohibits "falling" from one section of a switch statement to another.  What people don't know is that you don't have to use the word break in each section.  You can force the operator to fall from one section to another using labels.  You can also complete the switch section with goto, return, throw, yield break, continue, or even an infinite loop. </li><li>  And the last clever function that few people know: you can combine the use of the unifying null operators to get the value of the first non-empty element in the sequence of expressions.  If you have variables x, y, and z of type int?  then the result of the expression x ?? y ?? z ?? - 1 is the first of x, y, or z is not a null number or -1 if they are all null. </li></ul><br>  I often talk about the unusual features of the language in my blog, so visit it if you want more examples. </div><p>Source: <a href="https://habr.com/ru/post/199212/">https://habr.com/ru/post/199212/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../199200/index.html">The path from idea to layout. Thinking about product concept</a></li>
<li><a href="../199202/index.html">Cooking NSA SELinux</a></li>
<li><a href="../199204/index.html">Site UploaderTalk turned out to be an anti-piracy trap</a></li>
<li><a href="../199206/index.html">HTML minimization in Web Essentials 2013</a></li>
<li><a href="../199210/index.html">Some interesting and useful things for a web developer (release 7)</a></li>
<li><a href="../199218/index.html">IvBit Conference Report</a></li>
<li><a href="../199220/index.html">MicroXperts U400-06. Aluminum Ultrabook Review</a></li>
<li><a href="../199222/index.html">Where does hard drive space disappear in Mac OS X</a></li>
<li><a href="../199224/index.html">Discovered the most distant galaxy: 30 billion light years from Earth</a></li>
<li><a href="../199226/index.html">Recipe i18n. Basis - Babel, json with coffee and a grant with hbs to your taste</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>