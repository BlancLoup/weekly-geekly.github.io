<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Led romb</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="It was evening, there was nothing. (with) 



 It was about 3 years ago. I stumbled upon one video LED cube 8x8x8 demo and to be honest, it impressed ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Led romb</h1><div class="post__text post__text-html js-mediator-article">  It was evening, there was nothing.  (with) <br><br><img src="https://habrastorage.org/files/619/9cb/6ce/6199cb6ceb304155854baaa0ebcf5548.jpg"><br><br>  It was about 3 years ago.  I stumbled upon one video <a href="http://www.youtube.com/watch%3Fv%3D6mXM-oGggrM">LED cube 8x8x8 demo</a> and to be honest, it impressed me.  At that time my hands for a long time were itching to create something like that.  Then I did not know what an Arduino was, and indeed I had a vague idea even how to connect a LED correctly.  Gaining courage, I went to the Internet, where I quickly found ideas and schemes for how to assemble such cubes, and a store where you can buy components.  I chose a 4x4x4 cube as the best option for the first experience. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <a name="habracut"></a><br>  <b>A bit of theory and thinking:</b> <br>  How to light a LED? <br>  Energize and connect ground.  Power 5V - need a resistor. <br>  How to light 16 diodes with the ability to light separately? <br>  Need 16 keys to supply voltage. <br>  How to light any diode from a 4x4x4 matrix? <br>  We put the matrix on the "floors" 4 by 4. We get 16 keys for voltage on the "pillars" + 4 for opening the ground on the "floor". <br><br>  Total need 20 controlled outputs of a certain microcontroller. <br>  I didn't dare to solder the strapping and program the microcontroller from scratch without experience and chose the Arduino, or rather the Freeduino analogue. <br>  Freeduino nano v5 <br>  Microcontroller: ATmega328 <br>  Digital I / O ports: 14 ports (6 of them with PWM signal) <br>  Analog input ports: 8 ports <br><br>  22 programmable inputs / outputs with a voltage of + 5V with a logical unit - what you need. <br><br>  <b>Materials:</b> <br>  LEDs 64pcs. <br>  Resistors 20 pcs. <br>  Bipolar transistors 4 pcs. <br>  MK: Freeduino Nano v5 <br>  Wiring, switch, connectors, layouts and more. <br>  The LEDs and Freeduino were purchased at the nearest store; the rest is evaporated from the nearest power supply or found elsewhere. <br><br>  <b>So, we proceed:</b> <br>  We mark something on squares with sides of 5 mm by 5 mm - this is the length of the short of the LED legs. <br><img src="https://habrastorage.org/files/c7a/c83/4bf/c7ac834bf5254137a4b1d48154ec51ac.jpg"><br><br>  Bend the cathode at 90 degrees - we will solder them in a chain, getting the "floors" and beautifully set on the previously obtained matrix template. <br><img src="https://habrastorage.org/files/1e1/0ed/6a0/1e10ed6a0278444aad447d83460518a2.jpg"><br><br>  Next, bend the anode (long leg) at a slight angle.  This is required so that it is convenient to solder the "floors" <br><img src="https://habrastorage.org/files/0c6/290/4b8/0c62904b8b634505989e871c16f379f0.jpg"><br><br><img src="https://habrastorage.org/files/bcd/0d0/f47/bcd0d0f47e3d4373b4eeef435272b01e.jpg"><br><br>  and solder everything together. <br><br>  It's time to test. <br>  Since  the LEDs were blue, found a blue loop and dismissed it. <br><img src="https://habrastorage.org/files/da0/1ff/0e9/da01ff0e97ba4d9ab3ce166844f5e1ad.jpg"><br><br>  When it all worked on the layout joy there was no chapel. <br><br>  We collect a pedestal. <br>  It just so happened that I bought exactly 64 LEDs and one was lost.  I did not have a store where I could buy it on the way, and it was quite strange to order delivery due to one diode.  The exit was found by itself - to put a cube on a truncated face!  And the original and appearance only wins.  A box of blanks just fit in size.  In it for reliability and the possibility of disconnection, the switch floats over the ground. <br><img src="https://habrastorage.org/files/5e8/c95/90c/5e8c9590c27c4234a21d3c2795e94123.jpg"><br><br>  Next are the photos of the updated version.  The first assembled cube fell victim to a local scale cataclysm and was irretrievably lost except for the base.  To collect the updated version, I did not bend the legs anymore, because  they are very soft and poorly shaped, I cut them almost to the root, and made connections from steel wire 0.9 mm from the hardware store.  Fuss turned out more, but the result is much better.  Smoother edges, and the stiffness of the structure has increased.  Diodes are already taken from the Chinese and collected a full 4x4x4 cube. <br><img src="https://habrastorage.org/files/5d7/5bb/e35/5d75bbe358b8465291f0ccfca938dae5.jpg"><br><br>  What is inside: <br><img src="https://habrastorage.org/files/ca0/9db/ce3/ca09dbce31bf4df193527e86107025ad.jpg"><br><br>  And the result: <br><img src="https://habrastorage.org/files/1b3/74c/c7f/1b374cc7f3f746a08c955b88f3592846.jpg"><br><br>  Powered by any source at 5V.  Most often connected to a USB port.  For programming, you must turn off the cube, so as not to glow.  because  Outputs 0 and 1 were used, which are also used for programming the controller.  When the illumination is turned on and the program works, current flows through the outputs, which leads to failures in 90% of cases when a new sketch is cast. <br><br>  I didn't write about the Arduino IDE.  Simple cycles are nothing interesting and there are already a lot of examples on the Internet. <br>  <s>If someone has an interest, add the code and make a video.</s> <br><br><div class="spoiler">  <b class="spoiler_title">Sketch Rhombus</b> <div class="spoiler_text"><pre><code class="php hljs"><span class="hljs-comment"><span class="hljs-comment">/* Rombik Arduino. Created by Azurius */</span></span> int i,z,x,c,v,b,a,s,d; int dt = <span class="hljs-number"><span class="hljs-number">100</span></span>; int dts = <span class="hljs-number"><span class="hljs-number">2</span></span>; int nprog =<span class="hljs-number"><span class="hljs-number">1</span></span>; int tmp1=<span class="hljs-number"><span class="hljs-number">0</span></span>, tmp2=<span class="hljs-number"><span class="hljs-number">0</span></span>, tmp3=<span class="hljs-number"><span class="hljs-number">0</span></span>; int timeb=<span class="hljs-number"><span class="hljs-number">0</span></span>, timew=<span class="hljs-number"><span class="hljs-number">0</span></span>; int LEDM[<span class="hljs-number"><span class="hljs-number">4</span></span>][<span class="hljs-number"><span class="hljs-number">4</span></span>] = { <span class="hljs-number"><span class="hljs-number">4</span></span>,<span class="hljs-number"><span class="hljs-number">5</span></span>,<span class="hljs-number"><span class="hljs-number">6</span></span>,<span class="hljs-number"><span class="hljs-number">7</span></span>, <span class="hljs-number"><span class="hljs-number">8</span></span>,<span class="hljs-number"><span class="hljs-number">9</span></span>,<span class="hljs-number"><span class="hljs-number">10</span></span>,<span class="hljs-number"><span class="hljs-number">11</span></span>, <span class="hljs-number"><span class="hljs-number">16</span></span>,<span class="hljs-number"><span class="hljs-number">17</span></span>,<span class="hljs-number"><span class="hljs-number">18</span></span>,<span class="hljs-number"><span class="hljs-number">19</span></span>, <span class="hljs-number"><span class="hljs-number">15</span></span>,<span class="hljs-number"><span class="hljs-number">14</span></span>,<span class="hljs-number"><span class="hljs-number">12</span></span>,<span class="hljs-number"><span class="hljs-number">13</span></span>}; int LEDF[<span class="hljs-number"><span class="hljs-number">4</span></span>] = { <span class="hljs-number"><span class="hljs-number">3</span></span>,<span class="hljs-number"><span class="hljs-number">2</span></span>,<span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">1</span></span>}; int ma[<span class="hljs-number"><span class="hljs-number">12</span></span>]={ <span class="hljs-number"><span class="hljs-number">4</span></span>,<span class="hljs-number"><span class="hljs-number">5</span></span>,<span class="hljs-number"><span class="hljs-number">6</span></span>,<span class="hljs-number"><span class="hljs-number">7</span></span>,<span class="hljs-number"><span class="hljs-number">11</span></span>,<span class="hljs-number"><span class="hljs-number">19</span></span>,<span class="hljs-number"><span class="hljs-number">13</span></span>,<span class="hljs-number"><span class="hljs-number">12</span></span>,<span class="hljs-number"><span class="hljs-number">14</span></span>,<span class="hljs-number"><span class="hljs-number">15</span></span>,<span class="hljs-number"><span class="hljs-number">16</span></span>,<span class="hljs-number"><span class="hljs-number">8</span></span>}; int mas[<span class="hljs-number"><span class="hljs-number">4</span></span>]={ <span class="hljs-number"><span class="hljs-number">0</span></span>,<span class="hljs-number"><span class="hljs-number">3</span></span>,<span class="hljs-number"><span class="hljs-number">12</span></span>,<span class="hljs-number"><span class="hljs-number">15</span></span>}; void setup() { <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (i=<span class="hljs-number"><span class="hljs-number">0</span></span>;i&lt;<span class="hljs-number"><span class="hljs-number">4</span></span>;i++){ <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (z=<span class="hljs-number"><span class="hljs-number">0</span></span>;z&lt;<span class="hljs-number"><span class="hljs-number">4</span></span>;z++){ pinMode(LEDM[i][z], OUTPUT); } } <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (i=<span class="hljs-number"><span class="hljs-number">0</span></span>;i&lt;<span class="hljs-number"><span class="hljs-number">4</span></span>;i++){ pinMode(LEDF[i], OUTPUT); } LedOFFAll(); <span class="hljs-comment"><span class="hljs-comment">//tushim vse pered nachalom } void LedON(int pin){ digitalWrite(pin, HIGH); } void LedOFF(int pin){ digitalWrite(pin, LOW); } void DotON(int kx, int ky, int kz){ LedON(LEDM[kx][ky]); LedON(LEDF[kz]); } void DotOFF(int kx,int ky, int kz){ LedOFF(LEDM[kx][ky]); LedOFF(LEDF[kz]); } void LedOFFAll(){ for (i=0;i&lt;4;i++){ for (z=0;z&lt;4;z++){ LedOFF(LEDM[i][z]); } LedOFF(LEDF[i]); } } void change(){ timew=millis(); if ((timew-timeb)&gt;=10000){nprog++;timeb=millis();dt=70;} if (nprog==10) nprog=1; } void loop() { change(); //nprog = 0; //##########[## Prog 0 ############## // ALL ON if (nprog==0){ // ON begin for (c=0;c&lt;4;c++){ LedON(LEDF[c]); for (i=0;i&lt;4;i++){ for (z=0;z&lt;4;z++){ LedON(LEDM[i][z]); delay(300); LedOFF(LEDM[i][z]); } } LedOFF(LEDF[c]); } } // end nprog 0 //############ Prog 1 ############## // zajigaet po ocheredi tochkami if (nprog==1){ // ON begin for (c=0;c&lt;4;c++){ for (i=0;i&lt;4;i++){ for (z=0;z&lt;4;z++){ DotON(i,z,c); delay(dt); DotOFF(i,z,c); } } } } // end nprog 1 //############ Prog 2 ############## // zajigaem stolbiki po ocheredi if (nprog==2){ // ON begin for (c=0;c&lt;4;c++){ LedON(LEDF[c]); } for (i=0;i&lt;4;i++){ for (z=0;z&lt;4;z++){ LedON(LEDM[i][z]); delay(dt); } } for (i=0;i&lt;4;i++){ for (z=0;z&lt;4;z++){ delay(dt); LedOFF(LEDM[i][z]); } } } // end nprog 2 //############ Prog 3 ############## // zajigaem etaji po ocheredi if (nprog==3) { // ON begin for (i=0;i&lt;4;i++){ for (z=0;z&lt;4;z++){ //LedON(LEDF[c]); LedON(LEDM[i][z]); } } for (c=0;c&lt;4;c++){ LedON(LEDF[c]); delay(dt); LedOFF(LEDF[c]); } LedOFFAll(); } //end nprog 3 //############ Prog 4 ############## // Zmeyka po granyam if (nprog ==4){ dt=30; while(1){ x=v; v=random(0,3); if(x!=v){break;} } if(v==0){if(i==0){ for(b=0;b&lt;4;b++){i=b;DotON(i,z,c); delay(dt); DotOFF(i,z,c);}} else{ for(b=3;b&gt;-1;b--){i=b;DotON(i,z,c); delay(dt); DotOFF(i,z,c);}} } if(v==1){if(z==0){ for(b=0;b&lt;4;b++){z=b;DotON(i,z,c); delay(dt); DotOFF(i,z,c);}} else{ for(b=3;b&gt;-1;b--){z=b;DotON(i,z,c); delay(dt); DotOFF(i,z,c);}} } if(v==2){if(c==0){ for(b=0;b&lt;4;b++){c=b;DotON(i,z,c); delay(dt); DotOFF(i,z,c);}} else{ for(b=3;b&gt;-1;b--){c=b;DotON(i,z,c); delay(dt); DotOFF(i,z,c);}} } } //end nprog 4 //############ Prog 5 ############## // goryashie grani if (nprog == 5){ for (c=0;c&lt;4;c++){ LedON(LEDF[c]); for (i=0;i&lt;12;i++){ LedON(ma[i]); if (c==1 | c==2){ i=i+2; } } delay(dts); LedOFF(LEDF[c]); for (i=0;i&lt;12;i++){ LedOFF(ma[i]); } } }// end nprog 5 //############ 6 ########### // ploskosti po ocheredi if (nprog==6){ // ON begin for (i=0;i&lt;4;i++){ LedON(LEDM[i][0]); LedON(LEDM[i][3]); LedON(LEDF[i]); } delay(1000); LedOFFAll(); for (i=0;i&lt;4;i++){ LedON(LEDM[0][i]); LedON(LEDM[3][i]); LedON(LEDF[i]); } delay(1000); LedOFFAll(); } //end nprog 6 //############ 7 ########### if (nprog==7){ i=random(0,4); z=random(0,4); c=random(0,4); DotON(i,z,c); delay(dt); DotOFF(i,z,c); } //end nprog 7 //############ 8 ########### if (nprog==8){ //random up i=random(0,4); z=random(0,4); v=random(0,4); b=random(0,4); a=random(0,4); s=random(0,4); LedON(LEDM[i][z]); LedON(LEDM[v][b]); LedON(LEDM[a][s]); for (c=0;c&lt;4;c++){ LedON(LEDF[c]); delay(dt); LedOFF(LEDF[c]); } LedOFF(LEDM[i][z]); LedOFF(LEDM[v][b]); LedOFF(LEDM[a][s]); } //end nprog 8 //############ 8 ########### if (nprog==9){ //obhod po krugu LedOFFAll(); for(c=0;c&lt;4;c++){ LedON(LEDF[c]); } for(i=0;i&lt;12;i++){ LedON(ma[i]); delay(dt); if(i&gt;1){LedOFF(ma[i-2]);} } } //end nprog 9 } // end loop</span></span></code> </pre> </div></div><br><br>  <a href="http://youtu.be/EM6GVZ_hAMg">Led romb</a> <br><iframe width="560" height="315" src="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://www.youtube.com/embed/EM6GVZ_hAMg%3Ffeature%3Doembed&amp;xid=17259,1500003,15700023,15700186,15700191,15700253&amp;usg=ALkJrhismvvf4v47W-S630f1bngW_skqBQ" frameborder="0" allowfullscreen=""></iframe><br><br>  Thanks for attention. <br><br>  ZY  Revising before publishing the article saw the edge of the stand under the circles.  I feel there will be questions "what's under the mug?". <br>  Here is: <br><img src="https://habrastorage.org/files/017/950/991/017950991239413a9149dd4bf0bddc45.jpg"><br>  Glued with glue gun. <br><img src="https://habrastorage.org/files/c44/7c2/953/c447c29534ef42d8a7c61429ae6f9b0f.jpg"></div><p>Source: <a href="https://habr.com/ru/post/234019/">https://habr.com/ru/post/234019/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../234005/index.html">What should be the service implementation of media content, or why piracy thrives</a></li>
<li><a href="../234007/index.html">Cybersecurity books: 5+ recommendations from our experts</a></li>
<li><a href="../234009/index.html">mCube: a miniature accelerometer of a new type that can even turn clothes into a fitness tracker</a></li>
<li><a href="../234011/index.html">We make Oculus Rift a little better.</a></li>
<li><a href="../234017/index.html">Summer School of High Performance Computing in Biology and Medicine Available Online</a></li>
<li><a href="../234021/index.html">This video will be eternal or widely available to increase the capacity of the DVR (NVR / DVR)</a></li>
<li><a href="../234023/index.html">Google Project Tango: disassembling the "spatial tablet" from iFixit (4 out of 10 on the repair scale)</a></li>
<li><a href="../234027/index.html">How startups like Dropbox, Airbnb, Groupon and others got their first users.</a></li>
<li><a href="../234029/index.html">28 Curious Facts About Online Marketing</a></li>
<li><a href="../234031/index.html">Announced new Java 9 features</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>