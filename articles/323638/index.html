<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Direction Finder on Augmented Reality</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="When I was just starting engineering activity with the development of direction finders, in the heads of experienced comrades, called by us, young, ‚Äúg...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Direction Finder on Augmented Reality</h1><div class="post__text post__text-html js-mediator-article"><p><img src="https://habrastorage.org/files/dab/903/114/dab903114f784ac68dde673760ca9745.png" alt="image (screenshot or photo)"></p><br><p>  When I was just starting engineering activity with the development of direction finders, in the heads of experienced comrades, called by us, young, ‚Äúgrandfathers‚Äù behind my eyes, the dream of a ‚Äúdirection finder on the navel‚Äù wandered.  ‚ÄúThis,‚Äù they said, ‚Äúis such a small direction finder that you can carry around with you and sneak off.  Here, they say, we have to carry such weights on the roof and back (although they were dragging, of course, the youth), and they, the youth, will not develop such a thing. ‚Äù  Looking at the huge pieces of iron standing on the table, we thought they were a little confused. </p><br><p>  Over time, the technique decreased in size, of course, not so much that it could be worn in the bosom.  But a few years later, having learned a little design of antenna technology, I no longer treated these dreams of older comrades as nonsense. </p><br><p>  Then a storm of existential crisis brought me out of the cozy office of an organization glorified in narrow circles into the cruel ocean of the national economy.  But youth does not let go, it eats into our brain and I discovered that no matter what I took to do, I almost always got a direction finder.  At least that's what my comrades say. </p><br><p>  Terrible rock!  But I looked around and saw that direction-finders may be needed by ordinary people.  It gave hope! </p><a name="habracut"></a><br><p>  First, I will point out the interest of especially peaceful organizations to direction finders (Direction Finders).  The Bluetooth organization has a working group on introducing the possibility of determining the angle of arrival of a wave in Bluetooth radio tools of standard number 5. They are working on changes in the physical layer that will allow the construction of Bluetooth radiation sources.  The goal of development is most likely to improve the positioning of the user's mobile devices and Bluetooth radio tags (beacons).  They are personal, which can be carried with them or hung on things, and infrastructure, which are mounted on the wall.  Now, in any case, they are almost always positioned by the signal level.  These are such things (they have already been seen by everyone): </p><br><p><img src="https://habrastorage.org/files/4c2/72e/725/4c272e725d524210819360c21e564bf1.jpg" alt="image (photo of different tags)"></p><br><p>  And indeed, let us imagine the future world, stuffed with devices of the Internet of Things (IoT - Internet of Things).  In the same room with you will emit several dozen IoT-devices: light bulbs, speakers, environmental sensors, wearable gadgets, smartphones, tablets, beacons on children, dogs, cats, wifi routers, kettles, coffee makers, washing machines and other adult toys ).  And well, if you have already been to this place and your gadget has remembered the correspondence of the device identifier to a specific physical item.  And if you are here for the first time, and you definitely need to dim the lights or the sound in this part of the room (horror! Will it really be someone to do?).  And you would not want to svapit a long list of devices, and you just want to shift your attention - to direct your gadget - to the desired item and manage it.  Then it will be very necessary to know which device ID is in focus of your attention. </p><br><p>  (Brad, but at least something! Any sense in the everyday efforts of a lonely engineer!) </p><br><p><img src="https://habrastorage.org/files/5ac/323/62d/5ac32362ddf741b2abb3feeac9778f14.png" alt="image (photo of AR-world)"></p><br><p>  At first I went on the beaten track - I began to make a phase direction finder.  But soon I saw that it was already done.  There is a Finnish company Quoppa, as I think, a splinter from the merger with Microsoft of some Nokia division.  They embed their direction finders in indoor positioning systems.  Their thing is suspended from the ceiling and shows a vector in the direction of the Bluetooth-beacon, which today can be anything. </p><br><p>  In general, Nokia was the main skirmisher in this matter.  Here is <a href="http://geta.aalto.fi/en/courses/bringing_navigation_indoors.pdf">an article</a> of what year dash they tell you about the Bluetooth direction finder on a mobile device.  Then even the name of the Internet of Things was still not heard. </p><br><p>  Realizing that the current level of technology does not allow me to create a compact phase direction finder, I began to try amplitude.  Although the electronics for finding the angle of arrival of the wave moved forward.  Broadcom and Marvel announced chipsets supporting Bluetooth 5 with direction finding function (AoA - angle of arrival).  But even access to the documentation did not work.  And their guys at the conference <a href="https://www.youtube.com/watch%3Fv%3DNXtE-SrByhI">spoke</a> cheerfully (about the positioning of the Bluetooth 5 devices at once, from the 12th minute of the 25th second), how soon the users of mobile devices will send the smartphone to the Bluetooth device and receive information.  That is, it turns out augmented reality on the Internet of things.  Concept! </p><br><p><img src="https://habrastorage.org/files/3dc/ff5/33d/3dcff533d87f409486691e8e11e01d34.jpg" alt="image (picture or photo about AR IOT)"></p><br><p>  So, the amplitude direction finder.  Naturally I wanted to do something small.  Normal directional antenna is not suitable.  Its size depends on the directivity, you cannot get anything good in the size of the tablet on the standard 2.4 GHz frequency.  Here a long-forgotten old solution has emerged - a single-pulse amplitude direction finder.  In those days, when the receivers were expensive and bulky, and it was necessary to carry out direction finding, the engineers did not use ‚Äúpositive‚Äù, but ‚Äúnegative‚Äù directivity.  Roughly speaking, they caught not the maximum of the signal, but the minimum, at zero.  This is how the frame antenna works on shortwave direction finders familiar to an inexperienced reader, for example, from the Stirlitz film.  The direction finder also works in fox hunting.  And in many good and not very direction-finders. </p><br><p><img src="https://habrastorage.org/files/555/37d/1f7/55537d1f7e5e4e4293f9230e5744bbf4.jpg" alt="image (photo of frame and Lisyatnikov direction-finders)"></p><br><p>  A characteristic feature of such direction finders is the need to move to obtain an accurate bearing.  No, you can stand still, but then the countdown will be inaccurate.  Accuracy in this direction finder lives near zero of the pattern. </p><br><p>  The first pancake went like this. </p><br><p><img src="https://habrastorage.org/files/cff/7d7/41e/cff7d741e83f43bca3e135ab43bfbdde.jpg" alt="image (photo of BLUEX)"></p><br><p>  This thing consists of two antennas.  The first one has a smooth directional pattern, and the second one is drastically changing. </p><br><p><img src="https://habrastorage.org/files/48c/21f/b56/48c21fb565c84f8aac16c2bcc9634c53.PNG" alt="image (graphics)"></p><br><p>  From the difference in levels from two antennas, it is possible to determine how close in angle the wave source is in the normal to the plane of the device.  The greater the difference, the closer the source is to the normal to the plane of the device or, in other words, to the focus of the camera of the tablet or smartphone, if the device is fixed on its back side. </p><br><p>  The first such direction finder was made for Bluetooth-beacons.  Here is a video with a demonstration of his <a href="https://www.youtube.com/watch%3Fv%3DD3quecrnvJ0">work</a> . </p><br><p>  Although the device turned out to be small, it was very dependent on the polarization of the incident wave.  When a wave with a polarization vector falling on such a direction finder predominantly parallel to the device plane, the direction-finding characteristic degenerated.  Roughly speaking, he just stopped working.  On the video you can see that it was necessary to slightly rotate the device around an axis perpendicular to its plane. </p><br><p>  Thus, it was necessary to make a pin with circular polarization.  This problem has not yet been solved in its original dimensions, but if we increase the direction finder by a factor of two, then we can offer a design like an out-of-phase antenna array.  This is a lattice of four elements whose phases are rotated relative to each other.  It will have zero normal and circular polarization.  As the graphs show, the difference between the radiation patterns for the horizontal and vertical polarizations is insignificant. </p><br><p>  These are the measured characteristics of the real model: </p><br><p><img src="https://habrastorage.org/files/872/d5b/a07/872d5ba0707446b0b176aecc510a4a99.png" alt="image (graphics)"></p><br><p>  The dimensions of the direction finder have doubled, the antenna complexity has greatly increased, but the polarization degeneracy has disappeared. </p><br><p>  Now the direction finder works <a href="https://www.youtube.com/watch%3Fv%3D4NNsTqK4riQ">like this</a> .  And it looks like this: </p><br><p><img src="https://habrastorage.org/files/174/3c0/738/1743c0738b174ddfa0ba78fc44f9e64a.jpg" alt="image (photo XNZR)"></p><br><p>  The receiver itself can be built on any Bluetooth or WiFi module or chip.  For example, on ESP8266, as done now.  The device connects to a mobile device via USB.  The difference in levels is inverted and shown against the background of a real video as the size of a circle.  The farther the focus of the camera from the direction to the source, the larger the diameter, the closer - the smaller.  What is quite natural, when you hover on the source circle shrinks. </p><br><p>  Sources of the application on Android are available on <a href="https://github.com/xnzr">GitHub</a> . </p><br><p>  Two basic problems should be mentioned.  Firstly, the sensitivity of such a direction finder is obviously much worse than the phase one, since it is determined by the antenna gain at the minimum of the radiation pattern.  Secondly, such a direction finder is affected by multipath, like all others, but the direction finder does not have a built-in ability to cope with it.  In the presence of interference, it is necessary to move in order to locate the source.  It takes some training to learn how to do it quickly. </p><br><p>  But at the expense of this complexity there are some considerations.  If they are confirmed, then I will definitely write about it here. </p><br><p>  An attempt to introduce a direction finder to the national economy was a <a href="https://www.indiegogo.com/projects/mobile-augmented-reality-wifi-ap-direction-finder/">failure</a> .  Therefore, it is very important for me to hear your opinion about who could benefit from such a device and for what. </p></div>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <p>Source: <a href="https://habr.com/ru/post/323638/">https://habr.com/ru/post/323638/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../323628/index.html">Testing Conference Heisenbag: Video recordings of reports-2016 and work on the bugs in 2017</a></li>
<li><a href="../323630/index.html">Videos: February TechLeads Mitap at Badoo</a></li>
<li><a href="../323632/index.html">How to optimize a site on Magento</a></li>
<li><a href="../323634/index.html">Stacker: what's new?</a></li>
<li><a href="../323636/index.html">Top 10 errors in open projects With ++ for 2016</a></li>
<li><a href="../323640/index.html">Hacker put up for sale 640 thousand stolen user accounts PlayStation</a></li>
<li><a href="../323644/index.html">Another new feature pg_filedump: restore the PostgreSQL directory</a></li>
<li><a href="../323646/index.html">Potential vulnerabilities eliminated by the PVS-Studio team this week: release N1</a></li>
<li><a href="../323648/index.html">Battle drone, completely yours. We teach gaming AI method busting strategies</a></li>
<li><a href="../323650/index.html">Attempts to make learning path finding algorithms easier.</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>