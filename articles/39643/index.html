<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Java is easy! Java and SNMP</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="I looked at the not too voluminous blog JAVA and decided that it was necessary to raise its rating. In addition, many manufacturers complain that "Hab...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Java is easy! Java and SNMP</h1><div class="post__text post__text-html js-mediator-article"> I looked at the not too voluminous blog JAVA and decided that it was necessary to raise its rating.  In addition, many manufacturers complain that "Habr is not the same."  There was an idea to write a series of articles promoting the idea that JAVA is easy!  I work in the environment of integrators (we take ready-made ‚Äúfat‚Äù systems, connect them into a single complex and sell), and often there is a situation when something cannot be solved by means of integrable systems.  Then colleagues set the searchlight in the night sky and I go to help them :).  Therefore, it is often necessary to use java in various aspects.  Let's start with working with <a href="http://ru.wikipedia.org/wiki/SNMP">SNMP</a> .  SNMP is used to manage the network. <br><a name="habracut"></a><br> <code><a href="http://www.snmp4j.org/html/download.html"></a> /* <br> <b>:</b> <br>  SNMP         -   . <br> <b>:</b> <br>     snmp4j   : <br> */ <br> import java.io.IOException; import org.snmp4j.CommandResponder; import org.snmp4j.CommandResponderEvent; import org.snmp4j.CommunityTarget; import org.snmp4j.PDU; import org.snmp4j.Snmp; import org.snmp4j.TransportMapping; import org.snmp4j.mp.SnmpConstants; import org.snmp4j.smi.Address; import org.snmp4j.smi.GenericAddress; import org.snmp4j.smi.OctetString; import org.snmp4j.smi.VariableBinding; import org.snmp4j.transport.DefaultUdpTransportMapping; public class snmpt extends Thread{ /* ,     .*/ private Snmp snmp = null; private Address targetAddress = GenericAddress.parse("udp:127.0.0.1/162"); private TransportMapping transport = null; /*    SNMP .         .*/ public snmpt() throws Exception{ transport = new DefaultUdpTransportMapping(); snmp = new Snmp(transport); CommandResponder trapPrinter = new CommandResponder() { public synchronized void processPdu(CommandResponderEvent e){ PDU command = e.getPDU(); /*      (.1234567890).   PDU      SNMP .*/ if (command != null) { System.out.println(" : " +command.toString()); } } }; snmp.addNotificationListener(targetAddress, trapPrinter); } /*   .      targetAddress.*/ public void send(){ // setting up target CommunityTarget c_target = new CommunityTarget(); c_target.setCommunity(new OctetString("public")); c_target.setAddress(targetAddress); c_target.setRetries(2); c_target.setTimeout(1500); c_target.setVersion( SnmpConstants.version2c); PDU pdu = new PDU(); pdu.setType(PDU.INFORM); pdu.add(new VariableBinding(SnmpConstants.snmpTrapEnterprise)); pdu.add(new VariableBinding(SnmpConstants.snmpTrapAddress)); try { snmp.send(pdu, c_target, transport); } catch (IOException ex2) { ex2.printStackTrace(); } } /* , ,   .*/ public static void main(String[] args) throws Exception{ snmpt s = new snmpt(); s.start(); s.send(); System.out.println(0); } /*  .          trapPrinter*/ public void run() { while(true) try{ this.sleep(1000000); }catch (Exception e) { e.printStackTrace(); } } }</code> <pre> <code class="hljs pgsql"><a href="http://www.snmp4j.org/html/download.html"></a> <span class="hljs-comment"><span class="hljs-comment">/* </span></span><br><span class="hljs-comment"><span class="hljs-comment"> </span></span><b><span class="hljs-comment"><span class="hljs-comment">:</span></span></b><span class="hljs-comment"><span class="hljs-comment"> </span></span><br><span class="hljs-comment"><span class="hljs-comment">  SNMP         -   . </span></span><br><span class="hljs-comment"><span class="hljs-comment"> </span></span><b><span class="hljs-comment"><span class="hljs-comment">:</span></span></b><span class="hljs-comment"><span class="hljs-comment"> </span></span><br><span class="hljs-comment"><span class="hljs-comment">     snmp4j   : </span></span><br><span class="hljs-comment"><span class="hljs-comment"> */</span></span> <br> <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> java.io.IOException; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.snmp4j.CommandResponder; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.snmp4j.CommandResponderEvent; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.snmp4j.CommunityTarget; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.snmp4j.PDU; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.snmp4j.Snmp; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.snmp4j.TransportMapping; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.snmp4j.mp.SnmpConstants; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.snmp4j.smi.Address; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.snmp4j.smi.GenericAddress; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.snmp4j.smi.OctetString; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.snmp4j.smi.VariableBinding; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.snmp4j.transport.DefaultUdpTransportMapping; <span class="hljs-built_in"><span class="hljs-built_in">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> snmpt extends Thread{ <span class="hljs-comment"><span class="hljs-comment">/* ,     .*/</span></span> private Snmp snmp = <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>; private Address targetAddress = GenericAddress.parse("udp:127.0.0.1/162"); private TransportMapping transport = <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>; <span class="hljs-comment"><span class="hljs-comment">/*    SNMP .         .*/</span></span> <span class="hljs-built_in"><span class="hljs-built_in">public</span></span> snmpt() throws <span class="hljs-keyword"><span class="hljs-keyword">Exception</span></span>{ transport = <span class="hljs-built_in"><span class="hljs-built_in">new</span></span> DefaultUdpTransportMapping(); snmp = <span class="hljs-built_in"><span class="hljs-built_in">new</span></span> Snmp(transport); CommandResponder trapPrinter = <span class="hljs-built_in"><span class="hljs-built_in">new</span></span> CommandResponder() { <span class="hljs-built_in"><span class="hljs-built_in">public</span></span> synchronized <span class="hljs-type"><span class="hljs-type">void</span></span> processPdu(CommandResponderEvent e){ PDU command = e.getPDU(); <span class="hljs-comment"><span class="hljs-comment">/*      (.1234567890).   PDU      SNMP .*/</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (command != <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">System</span></span>.<span class="hljs-keyword"><span class="hljs-keyword">out</span></span>.println(" : " +command.toString()); } } }; snmp.addNotificationListener(targetAddress, trapPrinter); } <span class="hljs-comment"><span class="hljs-comment">/*   .      targetAddress.*/</span></span> <span class="hljs-built_in"><span class="hljs-built_in">public</span></span> <span class="hljs-type"><span class="hljs-type">void</span></span> send(){ // setting up target CommunityTarget c_target = <span class="hljs-built_in"><span class="hljs-built_in">new</span></span> CommunityTarget(); c_target.setCommunity(<span class="hljs-built_in"><span class="hljs-built_in">new</span></span> OctetString("public")); c_target.setAddress(targetAddress); c_target.setRetries(<span class="hljs-number"><span class="hljs-number">2</span></span>); c_target.setTimeout(<span class="hljs-number"><span class="hljs-number">1500</span></span>); c_target.setVersion( SnmpConstants.version2c); PDU pdu = <span class="hljs-built_in"><span class="hljs-built_in">new</span></span> PDU(); pdu.setType(PDU.INFORM); pdu.<span class="hljs-keyword"><span class="hljs-keyword">add</span></span>(<span class="hljs-built_in"><span class="hljs-built_in">new</span></span> VariableBinding(SnmpConstants.snmpTrapEnterprise)); pdu.<span class="hljs-keyword"><span class="hljs-keyword">add</span></span>(<span class="hljs-built_in"><span class="hljs-built_in">new</span></span> VariableBinding(SnmpConstants.snmpTrapAddress)); try { snmp.send(pdu, c_target, transport); } catch (IOException ex2) { ex2.printStackTrace(); } } <span class="hljs-comment"><span class="hljs-comment">/* , ,   .*/</span></span> <span class="hljs-built_in"><span class="hljs-built_in">public</span></span> static <span class="hljs-type"><span class="hljs-type">void</span></span> main(String[] args) throws <span class="hljs-keyword"><span class="hljs-keyword">Exception</span></span>{ snmpt s = <span class="hljs-built_in"><span class="hljs-built_in">new</span></span> snmpt(); s.<span class="hljs-keyword"><span class="hljs-keyword">start</span></span>(); s.send(); <span class="hljs-keyword"><span class="hljs-keyword">System</span></span>.<span class="hljs-keyword"><span class="hljs-keyword">out</span></span>.println(<span class="hljs-number"><span class="hljs-number">0</span></span>); } <span class="hljs-comment"><span class="hljs-comment">/*  .          trapPrinter*/</span></span> <span class="hljs-built_in"><span class="hljs-built_in">public</span></span> <span class="hljs-type"><span class="hljs-type">void</span></span> run() { <span class="hljs-keyword"><span class="hljs-keyword">while</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">true</span></span>) try{ this.sleep(<span class="hljs-number"><span class="hljs-number">1000000</span></span>); }catch (<span class="hljs-keyword"><span class="hljs-keyword">Exception</span></span> e) { e.printStackTrace(); } } }</code> </pre> <code><a href="http://www.snmp4j.org/html/download.html"></a> /* <br> <b>:</b> <br>  SNMP         -   . <br> <b>:</b> <br>     snmp4j   : <br> */ <br> import java.io.IOException; import org.snmp4j.CommandResponder; import org.snmp4j.CommandResponderEvent; import org.snmp4j.CommunityTarget; import org.snmp4j.PDU; import org.snmp4j.Snmp; import org.snmp4j.TransportMapping; import org.snmp4j.mp.SnmpConstants; import org.snmp4j.smi.Address; import org.snmp4j.smi.GenericAddress; import org.snmp4j.smi.OctetString; import org.snmp4j.smi.VariableBinding; import org.snmp4j.transport.DefaultUdpTransportMapping; public class snmpt extends Thread{ /* ,     .*/ private Snmp snmp = null; private Address targetAddress = GenericAddress.parse("udp:127.0.0.1/162"); private TransportMapping transport = null; /*    SNMP .         .*/ public snmpt() throws Exception{ transport = new DefaultUdpTransportMapping(); snmp = new Snmp(transport); CommandResponder trapPrinter = new CommandResponder() { public synchronized void processPdu(CommandResponderEvent e){ PDU command = e.getPDU(); /*      (.1234567890).   PDU      SNMP .*/ if (command != null) { System.out.println(" : " +command.toString()); } } }; snmp.addNotificationListener(targetAddress, trapPrinter); } /*   .      targetAddress.*/ public void send(){ // setting up target CommunityTarget c_target = new CommunityTarget(); c_target.setCommunity(new OctetString("public")); c_target.setAddress(targetAddress); c_target.setRetries(2); c_target.setTimeout(1500); c_target.setVersion( SnmpConstants.version2c); PDU pdu = new PDU(); pdu.setType(PDU.INFORM); pdu.add(new VariableBinding(SnmpConstants.snmpTrapEnterprise)); pdu.add(new VariableBinding(SnmpConstants.snmpTrapAddress)); try { snmp.send(pdu, c_target, transport); } catch (IOException ex2) { ex2.printStackTrace(); } } /* , ,   .*/ public static void main(String[] args) throws Exception{ snmpt s = new snmpt(); s.start(); s.send(); System.out.println(0); } /*  .          trapPrinter*/ public void run() { while(true) try{ this.sleep(1000000); }catch (Exception e) { e.printStackTrace(); } } }</code> <pre> <code class="hljs pgsql"><a href="http://www.snmp4j.org/html/download.html"></a> <span class="hljs-comment"><span class="hljs-comment">/* </span></span><br><span class="hljs-comment"><span class="hljs-comment"> </span></span><b><span class="hljs-comment"><span class="hljs-comment">:</span></span></b><span class="hljs-comment"><span class="hljs-comment"> </span></span><br><span class="hljs-comment"><span class="hljs-comment">  SNMP         -   . </span></span><br><span class="hljs-comment"><span class="hljs-comment"> </span></span><b><span class="hljs-comment"><span class="hljs-comment">:</span></span></b><span class="hljs-comment"><span class="hljs-comment"> </span></span><br><span class="hljs-comment"><span class="hljs-comment">     snmp4j   : </span></span><br><span class="hljs-comment"><span class="hljs-comment"> */</span></span> <br> <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> java.io.IOException; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.snmp4j.CommandResponder; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.snmp4j.CommandResponderEvent; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.snmp4j.CommunityTarget; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.snmp4j.PDU; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.snmp4j.Snmp; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.snmp4j.TransportMapping; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.snmp4j.mp.SnmpConstants; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.snmp4j.smi.Address; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.snmp4j.smi.GenericAddress; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.snmp4j.smi.OctetString; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.snmp4j.smi.VariableBinding; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.snmp4j.transport.DefaultUdpTransportMapping; <span class="hljs-built_in"><span class="hljs-built_in">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> snmpt extends Thread{ <span class="hljs-comment"><span class="hljs-comment">/* ,     .*/</span></span> private Snmp snmp = <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>; private Address targetAddress = GenericAddress.parse("udp:127.0.0.1/162"); private TransportMapping transport = <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>; <span class="hljs-comment"><span class="hljs-comment">/*    SNMP .         .*/</span></span> <span class="hljs-built_in"><span class="hljs-built_in">public</span></span> snmpt() throws <span class="hljs-keyword"><span class="hljs-keyword">Exception</span></span>{ transport = <span class="hljs-built_in"><span class="hljs-built_in">new</span></span> DefaultUdpTransportMapping(); snmp = <span class="hljs-built_in"><span class="hljs-built_in">new</span></span> Snmp(transport); CommandResponder trapPrinter = <span class="hljs-built_in"><span class="hljs-built_in">new</span></span> CommandResponder() { <span class="hljs-built_in"><span class="hljs-built_in">public</span></span> synchronized <span class="hljs-type"><span class="hljs-type">void</span></span> processPdu(CommandResponderEvent e){ PDU command = e.getPDU(); <span class="hljs-comment"><span class="hljs-comment">/*      (.1234567890).   PDU      SNMP .*/</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (command != <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">System</span></span>.<span class="hljs-keyword"><span class="hljs-keyword">out</span></span>.println(" : " +command.toString()); } } }; snmp.addNotificationListener(targetAddress, trapPrinter); } <span class="hljs-comment"><span class="hljs-comment">/*   .      targetAddress.*/</span></span> <span class="hljs-built_in"><span class="hljs-built_in">public</span></span> <span class="hljs-type"><span class="hljs-type">void</span></span> send(){ // setting up target CommunityTarget c_target = <span class="hljs-built_in"><span class="hljs-built_in">new</span></span> CommunityTarget(); c_target.setCommunity(<span class="hljs-built_in"><span class="hljs-built_in">new</span></span> OctetString("public")); c_target.setAddress(targetAddress); c_target.setRetries(<span class="hljs-number"><span class="hljs-number">2</span></span>); c_target.setTimeout(<span class="hljs-number"><span class="hljs-number">1500</span></span>); c_target.setVersion( SnmpConstants.version2c); PDU pdu = <span class="hljs-built_in"><span class="hljs-built_in">new</span></span> PDU(); pdu.setType(PDU.INFORM); pdu.<span class="hljs-keyword"><span class="hljs-keyword">add</span></span>(<span class="hljs-built_in"><span class="hljs-built_in">new</span></span> VariableBinding(SnmpConstants.snmpTrapEnterprise)); pdu.<span class="hljs-keyword"><span class="hljs-keyword">add</span></span>(<span class="hljs-built_in"><span class="hljs-built_in">new</span></span> VariableBinding(SnmpConstants.snmpTrapAddress)); try { snmp.send(pdu, c_target, transport); } catch (IOException ex2) { ex2.printStackTrace(); } } <span class="hljs-comment"><span class="hljs-comment">/* , ,   .*/</span></span> <span class="hljs-built_in"><span class="hljs-built_in">public</span></span> static <span class="hljs-type"><span class="hljs-type">void</span></span> main(String[] args) throws <span class="hljs-keyword"><span class="hljs-keyword">Exception</span></span>{ snmpt s = <span class="hljs-built_in"><span class="hljs-built_in">new</span></span> snmpt(); s.<span class="hljs-keyword"><span class="hljs-keyword">start</span></span>(); s.send(); <span class="hljs-keyword"><span class="hljs-keyword">System</span></span>.<span class="hljs-keyword"><span class="hljs-keyword">out</span></span>.println(<span class="hljs-number"><span class="hljs-number">0</span></span>); } <span class="hljs-comment"><span class="hljs-comment">/*  .          trapPrinter*/</span></span> <span class="hljs-built_in"><span class="hljs-built_in">public</span></span> <span class="hljs-type"><span class="hljs-type">void</span></span> run() { <span class="hljs-keyword"><span class="hljs-keyword">while</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">true</span></span>) try{ this.sleep(<span class="hljs-number"><span class="hljs-number">1000000</span></span>); }catch (<span class="hljs-keyword"><span class="hljs-keyword">Exception</span></span> e) { e.printStackTrace(); } } }</code> </pre> <code><a href="http://www.snmp4j.org/html/download.html"></a> /* <br> <b>:</b> <br>  SNMP         -   . <br> <b>:</b> <br>     snmp4j   : <br> */ <br> import java.io.IOException; import org.snmp4j.CommandResponder; import org.snmp4j.CommandResponderEvent; import org.snmp4j.CommunityTarget; import org.snmp4j.PDU; import org.snmp4j.Snmp; import org.snmp4j.TransportMapping; import org.snmp4j.mp.SnmpConstants; import org.snmp4j.smi.Address; import org.snmp4j.smi.GenericAddress; import org.snmp4j.smi.OctetString; import org.snmp4j.smi.VariableBinding; import org.snmp4j.transport.DefaultUdpTransportMapping; public class snmpt extends Thread{ /* ,     .*/ private Snmp snmp = null; private Address targetAddress = GenericAddress.parse("udp:127.0.0.1/162"); private TransportMapping transport = null; /*    SNMP .         .*/ public snmpt() throws Exception{ transport = new DefaultUdpTransportMapping(); snmp = new Snmp(transport); CommandResponder trapPrinter = new CommandResponder() { public synchronized void processPdu(CommandResponderEvent e){ PDU command = e.getPDU(); /*      (.1234567890).   PDU      SNMP .*/ if (command != null) { System.out.println(" : " +command.toString()); } } }; snmp.addNotificationListener(targetAddress, trapPrinter); } /*   .      targetAddress.*/ public void send(){ // setting up target CommunityTarget c_target = new CommunityTarget(); c_target.setCommunity(new OctetString("public")); c_target.setAddress(targetAddress); c_target.setRetries(2); c_target.setTimeout(1500); c_target.setVersion( SnmpConstants.version2c); PDU pdu = new PDU(); pdu.setType(PDU.INFORM); pdu.add(new VariableBinding(SnmpConstants.snmpTrapEnterprise)); pdu.add(new VariableBinding(SnmpConstants.snmpTrapAddress)); try { snmp.send(pdu, c_target, transport); } catch (IOException ex2) { ex2.printStackTrace(); } } /* , ,   .*/ public static void main(String[] args) throws Exception{ snmpt s = new snmpt(); s.start(); s.send(); System.out.println(0); } /*  .          trapPrinter*/ public void run() { while(true) try{ this.sleep(1000000); }catch (Exception e) { e.printStackTrace(); } } }</code> <pre> <code class="hljs pgsql"><a href="http://www.snmp4j.org/html/download.html"></a> <span class="hljs-comment"><span class="hljs-comment">/* </span></span><br><span class="hljs-comment"><span class="hljs-comment"> </span></span><b><span class="hljs-comment"><span class="hljs-comment">:</span></span></b><span class="hljs-comment"><span class="hljs-comment"> </span></span><br><span class="hljs-comment"><span class="hljs-comment">  SNMP         -   . </span></span><br><span class="hljs-comment"><span class="hljs-comment"> </span></span><b><span class="hljs-comment"><span class="hljs-comment">:</span></span></b><span class="hljs-comment"><span class="hljs-comment"> </span></span><br><span class="hljs-comment"><span class="hljs-comment">     snmp4j   : </span></span><br><span class="hljs-comment"><span class="hljs-comment"> */</span></span> <br> <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> java.io.IOException; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.snmp4j.CommandResponder; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.snmp4j.CommandResponderEvent; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.snmp4j.CommunityTarget; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.snmp4j.PDU; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.snmp4j.Snmp; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.snmp4j.TransportMapping; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.snmp4j.mp.SnmpConstants; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.snmp4j.smi.Address; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.snmp4j.smi.GenericAddress; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.snmp4j.smi.OctetString; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.snmp4j.smi.VariableBinding; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.snmp4j.transport.DefaultUdpTransportMapping; <span class="hljs-built_in"><span class="hljs-built_in">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> snmpt extends Thread{ <span class="hljs-comment"><span class="hljs-comment">/* ,     .*/</span></span> private Snmp snmp = <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>; private Address targetAddress = GenericAddress.parse("udp:127.0.0.1/162"); private TransportMapping transport = <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>; <span class="hljs-comment"><span class="hljs-comment">/*    SNMP .         .*/</span></span> <span class="hljs-built_in"><span class="hljs-built_in">public</span></span> snmpt() throws <span class="hljs-keyword"><span class="hljs-keyword">Exception</span></span>{ transport = <span class="hljs-built_in"><span class="hljs-built_in">new</span></span> DefaultUdpTransportMapping(); snmp = <span class="hljs-built_in"><span class="hljs-built_in">new</span></span> Snmp(transport); CommandResponder trapPrinter = <span class="hljs-built_in"><span class="hljs-built_in">new</span></span> CommandResponder() { <span class="hljs-built_in"><span class="hljs-built_in">public</span></span> synchronized <span class="hljs-type"><span class="hljs-type">void</span></span> processPdu(CommandResponderEvent e){ PDU command = e.getPDU(); <span class="hljs-comment"><span class="hljs-comment">/*      (.1234567890).   PDU      SNMP .*/</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (command != <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">System</span></span>.<span class="hljs-keyword"><span class="hljs-keyword">out</span></span>.println(" : " +command.toString()); } } }; snmp.addNotificationListener(targetAddress, trapPrinter); } <span class="hljs-comment"><span class="hljs-comment">/*   .      targetAddress.*/</span></span> <span class="hljs-built_in"><span class="hljs-built_in">public</span></span> <span class="hljs-type"><span class="hljs-type">void</span></span> send(){ // setting up target CommunityTarget c_target = <span class="hljs-built_in"><span class="hljs-built_in">new</span></span> CommunityTarget(); c_target.setCommunity(<span class="hljs-built_in"><span class="hljs-built_in">new</span></span> OctetString("public")); c_target.setAddress(targetAddress); c_target.setRetries(<span class="hljs-number"><span class="hljs-number">2</span></span>); c_target.setTimeout(<span class="hljs-number"><span class="hljs-number">1500</span></span>); c_target.setVersion( SnmpConstants.version2c); PDU pdu = <span class="hljs-built_in"><span class="hljs-built_in">new</span></span> PDU(); pdu.setType(PDU.INFORM); pdu.<span class="hljs-keyword"><span class="hljs-keyword">add</span></span>(<span class="hljs-built_in"><span class="hljs-built_in">new</span></span> VariableBinding(SnmpConstants.snmpTrapEnterprise)); pdu.<span class="hljs-keyword"><span class="hljs-keyword">add</span></span>(<span class="hljs-built_in"><span class="hljs-built_in">new</span></span> VariableBinding(SnmpConstants.snmpTrapAddress)); try { snmp.send(pdu, c_target, transport); } catch (IOException ex2) { ex2.printStackTrace(); } } <span class="hljs-comment"><span class="hljs-comment">/* , ,   .*/</span></span> <span class="hljs-built_in"><span class="hljs-built_in">public</span></span> static <span class="hljs-type"><span class="hljs-type">void</span></span> main(String[] args) throws <span class="hljs-keyword"><span class="hljs-keyword">Exception</span></span>{ snmpt s = <span class="hljs-built_in"><span class="hljs-built_in">new</span></span> snmpt(); s.<span class="hljs-keyword"><span class="hljs-keyword">start</span></span>(); s.send(); <span class="hljs-keyword"><span class="hljs-keyword">System</span></span>.<span class="hljs-keyword"><span class="hljs-keyword">out</span></span>.println(<span class="hljs-number"><span class="hljs-number">0</span></span>); } <span class="hljs-comment"><span class="hljs-comment">/*  .          trapPrinter*/</span></span> <span class="hljs-built_in"><span class="hljs-built_in">public</span></span> <span class="hljs-type"><span class="hljs-type">void</span></span> run() { <span class="hljs-keyword"><span class="hljs-keyword">while</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">true</span></span>) try{ this.sleep(<span class="hljs-number"><span class="hljs-number">1000000</span></span>); }catch (<span class="hljs-keyword"><span class="hljs-keyword">Exception</span></span> e) { e.printStackTrace(); } } }</code> </pre> <code><a href="http://www.snmp4j.org/html/download.html"></a> /* <br> <b>:</b> <br>  SNMP         -   . <br> <b>:</b> <br>     snmp4j   : <br> */ <br> import java.io.IOException; import org.snmp4j.CommandResponder; import org.snmp4j.CommandResponderEvent; import org.snmp4j.CommunityTarget; import org.snmp4j.PDU; import org.snmp4j.Snmp; import org.snmp4j.TransportMapping; import org.snmp4j.mp.SnmpConstants; import org.snmp4j.smi.Address; import org.snmp4j.smi.GenericAddress; import org.snmp4j.smi.OctetString; import org.snmp4j.smi.VariableBinding; import org.snmp4j.transport.DefaultUdpTransportMapping; public class snmpt extends Thread{ /* ,     .*/ private Snmp snmp = null; private Address targetAddress = GenericAddress.parse("udp:127.0.0.1/162"); private TransportMapping transport = null; /*    SNMP .         .*/ public snmpt() throws Exception{ transport = new DefaultUdpTransportMapping(); snmp = new Snmp(transport); CommandResponder trapPrinter = new CommandResponder() { public synchronized void processPdu(CommandResponderEvent e){ PDU command = e.getPDU(); /*      (.1234567890).   PDU      SNMP .*/ if (command != null) { System.out.println(" : " +command.toString()); } } }; snmp.addNotificationListener(targetAddress, trapPrinter); } /*   .      targetAddress.*/ public void send(){ // setting up target CommunityTarget c_target = new CommunityTarget(); c_target.setCommunity(new OctetString("public")); c_target.setAddress(targetAddress); c_target.setRetries(2); c_target.setTimeout(1500); c_target.setVersion( SnmpConstants.version2c); PDU pdu = new PDU(); pdu.setType(PDU.INFORM); pdu.add(new VariableBinding(SnmpConstants.snmpTrapEnterprise)); pdu.add(new VariableBinding(SnmpConstants.snmpTrapAddress)); try { snmp.send(pdu, c_target, transport); } catch (IOException ex2) { ex2.printStackTrace(); } } /* , ,   .*/ public static void main(String[] args) throws Exception{ snmpt s = new snmpt(); s.start(); s.send(); System.out.println(0); } /*  .          trapPrinter*/ public void run() { while(true) try{ this.sleep(1000000); }catch (Exception e) { e.printStackTrace(); } } }</code> <pre> <code class="hljs pgsql"><a href="http://www.snmp4j.org/html/download.html"></a> <span class="hljs-comment"><span class="hljs-comment">/* </span></span><br><span class="hljs-comment"><span class="hljs-comment"> </span></span><b><span class="hljs-comment"><span class="hljs-comment">:</span></span></b><span class="hljs-comment"><span class="hljs-comment"> </span></span><br><span class="hljs-comment"><span class="hljs-comment">  SNMP         -   . </span></span><br><span class="hljs-comment"><span class="hljs-comment"> </span></span><b><span class="hljs-comment"><span class="hljs-comment">:</span></span></b><span class="hljs-comment"><span class="hljs-comment"> </span></span><br><span class="hljs-comment"><span class="hljs-comment">     snmp4j   : </span></span><br><span class="hljs-comment"><span class="hljs-comment"> */</span></span> <br> <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> java.io.IOException; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.snmp4j.CommandResponder; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.snmp4j.CommandResponderEvent; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.snmp4j.CommunityTarget; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.snmp4j.PDU; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.snmp4j.Snmp; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.snmp4j.TransportMapping; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.snmp4j.mp.SnmpConstants; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.snmp4j.smi.Address; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.snmp4j.smi.GenericAddress; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.snmp4j.smi.OctetString; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.snmp4j.smi.VariableBinding; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.snmp4j.transport.DefaultUdpTransportMapping; <span class="hljs-built_in"><span class="hljs-built_in">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> snmpt extends Thread{ <span class="hljs-comment"><span class="hljs-comment">/* ,     .*/</span></span> private Snmp snmp = <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>; private Address targetAddress = GenericAddress.parse("udp:127.0.0.1/162"); private TransportMapping transport = <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>; <span class="hljs-comment"><span class="hljs-comment">/*    SNMP .         .*/</span></span> <span class="hljs-built_in"><span class="hljs-built_in">public</span></span> snmpt() throws <span class="hljs-keyword"><span class="hljs-keyword">Exception</span></span>{ transport = <span class="hljs-built_in"><span class="hljs-built_in">new</span></span> DefaultUdpTransportMapping(); snmp = <span class="hljs-built_in"><span class="hljs-built_in">new</span></span> Snmp(transport); CommandResponder trapPrinter = <span class="hljs-built_in"><span class="hljs-built_in">new</span></span> CommandResponder() { <span class="hljs-built_in"><span class="hljs-built_in">public</span></span> synchronized <span class="hljs-type"><span class="hljs-type">void</span></span> processPdu(CommandResponderEvent e){ PDU command = e.getPDU(); <span class="hljs-comment"><span class="hljs-comment">/*      (.1234567890).   PDU      SNMP .*/</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (command != <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">System</span></span>.<span class="hljs-keyword"><span class="hljs-keyword">out</span></span>.println(" : " +command.toString()); } } }; snmp.addNotificationListener(targetAddress, trapPrinter); } <span class="hljs-comment"><span class="hljs-comment">/*   .      targetAddress.*/</span></span> <span class="hljs-built_in"><span class="hljs-built_in">public</span></span> <span class="hljs-type"><span class="hljs-type">void</span></span> send(){ // setting up target CommunityTarget c_target = <span class="hljs-built_in"><span class="hljs-built_in">new</span></span> CommunityTarget(); c_target.setCommunity(<span class="hljs-built_in"><span class="hljs-built_in">new</span></span> OctetString("public")); c_target.setAddress(targetAddress); c_target.setRetries(<span class="hljs-number"><span class="hljs-number">2</span></span>); c_target.setTimeout(<span class="hljs-number"><span class="hljs-number">1500</span></span>); c_target.setVersion( SnmpConstants.version2c); PDU pdu = <span class="hljs-built_in"><span class="hljs-built_in">new</span></span> PDU(); pdu.setType(PDU.INFORM); pdu.<span class="hljs-keyword"><span class="hljs-keyword">add</span></span>(<span class="hljs-built_in"><span class="hljs-built_in">new</span></span> VariableBinding(SnmpConstants.snmpTrapEnterprise)); pdu.<span class="hljs-keyword"><span class="hljs-keyword">add</span></span>(<span class="hljs-built_in"><span class="hljs-built_in">new</span></span> VariableBinding(SnmpConstants.snmpTrapAddress)); try { snmp.send(pdu, c_target, transport); } catch (IOException ex2) { ex2.printStackTrace(); } } <span class="hljs-comment"><span class="hljs-comment">/* , ,   .*/</span></span> <span class="hljs-built_in"><span class="hljs-built_in">public</span></span> static <span class="hljs-type"><span class="hljs-type">void</span></span> main(String[] args) throws <span class="hljs-keyword"><span class="hljs-keyword">Exception</span></span>{ snmpt s = <span class="hljs-built_in"><span class="hljs-built_in">new</span></span> snmpt(); s.<span class="hljs-keyword"><span class="hljs-keyword">start</span></span>(); s.send(); <span class="hljs-keyword"><span class="hljs-keyword">System</span></span>.<span class="hljs-keyword"><span class="hljs-keyword">out</span></span>.println(<span class="hljs-number"><span class="hljs-number">0</span></span>); } <span class="hljs-comment"><span class="hljs-comment">/*  .          trapPrinter*/</span></span> <span class="hljs-built_in"><span class="hljs-built_in">public</span></span> <span class="hljs-type"><span class="hljs-type">void</span></span> run() { <span class="hljs-keyword"><span class="hljs-keyword">while</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">true</span></span>) try{ this.sleep(<span class="hljs-number"><span class="hljs-number">1000000</span></span>); }catch (<span class="hljs-keyword"><span class="hljs-keyword">Exception</span></span> e) { e.printStackTrace(); } } }</code> </pre> <code><a href="http://www.snmp4j.org/html/download.html"></a> /* <br> <b>:</b> <br>  SNMP         -   . <br> <b>:</b> <br>     snmp4j   : <br> */ <br> import java.io.IOException; import org.snmp4j.CommandResponder; import org.snmp4j.CommandResponderEvent; import org.snmp4j.CommunityTarget; import org.snmp4j.PDU; import org.snmp4j.Snmp; import org.snmp4j.TransportMapping; import org.snmp4j.mp.SnmpConstants; import org.snmp4j.smi.Address; import org.snmp4j.smi.GenericAddress; import org.snmp4j.smi.OctetString; import org.snmp4j.smi.VariableBinding; import org.snmp4j.transport.DefaultUdpTransportMapping; public class snmpt extends Thread{ /* ,     .*/ private Snmp snmp = null; private Address targetAddress = GenericAddress.parse("udp:127.0.0.1/162"); private TransportMapping transport = null; /*    SNMP .         .*/ public snmpt() throws Exception{ transport = new DefaultUdpTransportMapping(); snmp = new Snmp(transport); CommandResponder trapPrinter = new CommandResponder() { public synchronized void processPdu(CommandResponderEvent e){ PDU command = e.getPDU(); /*      (.1234567890).   PDU      SNMP .*/ if (command != null) { System.out.println(" : " +command.toString()); } } }; snmp.addNotificationListener(targetAddress, trapPrinter); } /*   .      targetAddress.*/ public void send(){ // setting up target CommunityTarget c_target = new CommunityTarget(); c_target.setCommunity(new OctetString("public")); c_target.setAddress(targetAddress); c_target.setRetries(2); c_target.setTimeout(1500); c_target.setVersion( SnmpConstants.version2c); PDU pdu = new PDU(); pdu.setType(PDU.INFORM); pdu.add(new VariableBinding(SnmpConstants.snmpTrapEnterprise)); pdu.add(new VariableBinding(SnmpConstants.snmpTrapAddress)); try { snmp.send(pdu, c_target, transport); } catch (IOException ex2) { ex2.printStackTrace(); } } /* , ,   .*/ public static void main(String[] args) throws Exception{ snmpt s = new snmpt(); s.start(); s.send(); System.out.println(0); } /*  .          trapPrinter*/ public void run() { while(true) try{ this.sleep(1000000); }catch (Exception e) { e.printStackTrace(); } } }</code> <pre> <code class="hljs pgsql"><a href="http://www.snmp4j.org/html/download.html"></a> <span class="hljs-comment"><span class="hljs-comment">/* </span></span><br><span class="hljs-comment"><span class="hljs-comment"> </span></span><b><span class="hljs-comment"><span class="hljs-comment">:</span></span></b><span class="hljs-comment"><span class="hljs-comment"> </span></span><br><span class="hljs-comment"><span class="hljs-comment">  SNMP         -   . </span></span><br><span class="hljs-comment"><span class="hljs-comment"> </span></span><b><span class="hljs-comment"><span class="hljs-comment">:</span></span></b><span class="hljs-comment"><span class="hljs-comment"> </span></span><br><span class="hljs-comment"><span class="hljs-comment">     snmp4j   : </span></span><br><span class="hljs-comment"><span class="hljs-comment"> */</span></span> <br> <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> java.io.IOException; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.snmp4j.CommandResponder; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.snmp4j.CommandResponderEvent; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.snmp4j.CommunityTarget; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.snmp4j.PDU; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.snmp4j.Snmp; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.snmp4j.TransportMapping; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.snmp4j.mp.SnmpConstants; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.snmp4j.smi.Address; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.snmp4j.smi.GenericAddress; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.snmp4j.smi.OctetString; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.snmp4j.smi.VariableBinding; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.snmp4j.transport.DefaultUdpTransportMapping; <span class="hljs-built_in"><span class="hljs-built_in">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> snmpt extends Thread{ <span class="hljs-comment"><span class="hljs-comment">/* ,     .*/</span></span> private Snmp snmp = <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>; private Address targetAddress = GenericAddress.parse("udp:127.0.0.1/162"); private TransportMapping transport = <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>; <span class="hljs-comment"><span class="hljs-comment">/*    SNMP .         .*/</span></span> <span class="hljs-built_in"><span class="hljs-built_in">public</span></span> snmpt() throws <span class="hljs-keyword"><span class="hljs-keyword">Exception</span></span>{ transport = <span class="hljs-built_in"><span class="hljs-built_in">new</span></span> DefaultUdpTransportMapping(); snmp = <span class="hljs-built_in"><span class="hljs-built_in">new</span></span> Snmp(transport); CommandResponder trapPrinter = <span class="hljs-built_in"><span class="hljs-built_in">new</span></span> CommandResponder() { <span class="hljs-built_in"><span class="hljs-built_in">public</span></span> synchronized <span class="hljs-type"><span class="hljs-type">void</span></span> processPdu(CommandResponderEvent e){ PDU command = e.getPDU(); <span class="hljs-comment"><span class="hljs-comment">/*      (.1234567890).   PDU      SNMP .*/</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (command != <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">System</span></span>.<span class="hljs-keyword"><span class="hljs-keyword">out</span></span>.println(" : " +command.toString()); } } }; snmp.addNotificationListener(targetAddress, trapPrinter); } <span class="hljs-comment"><span class="hljs-comment">/*   .      targetAddress.*/</span></span> <span class="hljs-built_in"><span class="hljs-built_in">public</span></span> <span class="hljs-type"><span class="hljs-type">void</span></span> send(){ // setting up target CommunityTarget c_target = <span class="hljs-built_in"><span class="hljs-built_in">new</span></span> CommunityTarget(); c_target.setCommunity(<span class="hljs-built_in"><span class="hljs-built_in">new</span></span> OctetString("public")); c_target.setAddress(targetAddress); c_target.setRetries(<span class="hljs-number"><span class="hljs-number">2</span></span>); c_target.setTimeout(<span class="hljs-number"><span class="hljs-number">1500</span></span>); c_target.setVersion( SnmpConstants.version2c); PDU pdu = <span class="hljs-built_in"><span class="hljs-built_in">new</span></span> PDU(); pdu.setType(PDU.INFORM); pdu.<span class="hljs-keyword"><span class="hljs-keyword">add</span></span>(<span class="hljs-built_in"><span class="hljs-built_in">new</span></span> VariableBinding(SnmpConstants.snmpTrapEnterprise)); pdu.<span class="hljs-keyword"><span class="hljs-keyword">add</span></span>(<span class="hljs-built_in"><span class="hljs-built_in">new</span></span> VariableBinding(SnmpConstants.snmpTrapAddress)); try { snmp.send(pdu, c_target, transport); } catch (IOException ex2) { ex2.printStackTrace(); } } <span class="hljs-comment"><span class="hljs-comment">/* , ,   .*/</span></span> <span class="hljs-built_in"><span class="hljs-built_in">public</span></span> static <span class="hljs-type"><span class="hljs-type">void</span></span> main(String[] args) throws <span class="hljs-keyword"><span class="hljs-keyword">Exception</span></span>{ snmpt s = <span class="hljs-built_in"><span class="hljs-built_in">new</span></span> snmpt(); s.<span class="hljs-keyword"><span class="hljs-keyword">start</span></span>(); s.send(); <span class="hljs-keyword"><span class="hljs-keyword">System</span></span>.<span class="hljs-keyword"><span class="hljs-keyword">out</span></span>.println(<span class="hljs-number"><span class="hljs-number">0</span></span>); } <span class="hljs-comment"><span class="hljs-comment">/*  .          trapPrinter*/</span></span> <span class="hljs-built_in"><span class="hljs-built_in">public</span></span> <span class="hljs-type"><span class="hljs-type">void</span></span> run() { <span class="hljs-keyword"><span class="hljs-keyword">while</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">true</span></span>) try{ this.sleep(<span class="hljs-number"><span class="hljs-number">1000000</span></span>); }catch (<span class="hljs-keyword"><span class="hljs-keyword">Exception</span></span> e) { e.printStackTrace(); } } }</code> </pre> <code><a href="http://www.snmp4j.org/html/download.html"></a> /* <br> <b>:</b> <br>  SNMP         -   . <br> <b>:</b> <br>     snmp4j   : <br> */ <br> import java.io.IOException; import org.snmp4j.CommandResponder; import org.snmp4j.CommandResponderEvent; import org.snmp4j.CommunityTarget; import org.snmp4j.PDU; import org.snmp4j.Snmp; import org.snmp4j.TransportMapping; import org.snmp4j.mp.SnmpConstants; import org.snmp4j.smi.Address; import org.snmp4j.smi.GenericAddress; import org.snmp4j.smi.OctetString; import org.snmp4j.smi.VariableBinding; import org.snmp4j.transport.DefaultUdpTransportMapping; public class snmpt extends Thread{ /* ,     .*/ private Snmp snmp = null; private Address targetAddress = GenericAddress.parse("udp:127.0.0.1/162"); private TransportMapping transport = null; /*    SNMP .         .*/ public snmpt() throws Exception{ transport = new DefaultUdpTransportMapping(); snmp = new Snmp(transport); CommandResponder trapPrinter = new CommandResponder() { public synchronized void processPdu(CommandResponderEvent e){ PDU command = e.getPDU(); /*      (.1234567890).   PDU      SNMP .*/ if (command != null) { System.out.println(" : " +command.toString()); } } }; snmp.addNotificationListener(targetAddress, trapPrinter); } /*   .      targetAddress.*/ public void send(){ // setting up target CommunityTarget c_target = new CommunityTarget(); c_target.setCommunity(new OctetString("public")); c_target.setAddress(targetAddress); c_target.setRetries(2); c_target.setTimeout(1500); c_target.setVersion( SnmpConstants.version2c); PDU pdu = new PDU(); pdu.setType(PDU.INFORM); pdu.add(new VariableBinding(SnmpConstants.snmpTrapEnterprise)); pdu.add(new VariableBinding(SnmpConstants.snmpTrapAddress)); try { snmp.send(pdu, c_target, transport); } catch (IOException ex2) { ex2.printStackTrace(); } } /* , ,   .*/ public static void main(String[] args) throws Exception{ snmpt s = new snmpt(); s.start(); s.send(); System.out.println(0); } /*  .          trapPrinter*/ public void run() { while(true) try{ this.sleep(1000000); }catch (Exception e) { e.printStackTrace(); } } }</code> <pre> <code class="hljs pgsql"><a href="http://www.snmp4j.org/html/download.html"></a> <span class="hljs-comment"><span class="hljs-comment">/* </span></span><br><span class="hljs-comment"><span class="hljs-comment"> </span></span><b><span class="hljs-comment"><span class="hljs-comment">:</span></span></b><span class="hljs-comment"><span class="hljs-comment"> </span></span><br><span class="hljs-comment"><span class="hljs-comment">  SNMP         -   . </span></span><br><span class="hljs-comment"><span class="hljs-comment"> </span></span><b><span class="hljs-comment"><span class="hljs-comment">:</span></span></b><span class="hljs-comment"><span class="hljs-comment"> </span></span><br><span class="hljs-comment"><span class="hljs-comment">     snmp4j   : </span></span><br><span class="hljs-comment"><span class="hljs-comment"> */</span></span> <br> <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> java.io.IOException; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.snmp4j.CommandResponder; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.snmp4j.CommandResponderEvent; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.snmp4j.CommunityTarget; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.snmp4j.PDU; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.snmp4j.Snmp; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.snmp4j.TransportMapping; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.snmp4j.mp.SnmpConstants; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.snmp4j.smi.Address; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.snmp4j.smi.GenericAddress; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.snmp4j.smi.OctetString; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.snmp4j.smi.VariableBinding; <span class="hljs-keyword"><span class="hljs-keyword">import</span></span> org.snmp4j.transport.DefaultUdpTransportMapping; <span class="hljs-built_in"><span class="hljs-built_in">public</span></span> <span class="hljs-keyword"><span class="hljs-keyword">class</span></span> snmpt extends Thread{ <span class="hljs-comment"><span class="hljs-comment">/* ,     .*/</span></span> private Snmp snmp = <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>; private Address targetAddress = GenericAddress.parse("udp:127.0.0.1/162"); private TransportMapping transport = <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>; <span class="hljs-comment"><span class="hljs-comment">/*    SNMP .         .*/</span></span> <span class="hljs-built_in"><span class="hljs-built_in">public</span></span> snmpt() throws <span class="hljs-keyword"><span class="hljs-keyword">Exception</span></span>{ transport = <span class="hljs-built_in"><span class="hljs-built_in">new</span></span> DefaultUdpTransportMapping(); snmp = <span class="hljs-built_in"><span class="hljs-built_in">new</span></span> Snmp(transport); CommandResponder trapPrinter = <span class="hljs-built_in"><span class="hljs-built_in">new</span></span> CommandResponder() { <span class="hljs-built_in"><span class="hljs-built_in">public</span></span> synchronized <span class="hljs-type"><span class="hljs-type">void</span></span> processPdu(CommandResponderEvent e){ PDU command = e.getPDU(); <span class="hljs-comment"><span class="hljs-comment">/*      (.1234567890).   PDU      SNMP .*/</span></span> <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (command != <span class="hljs-keyword"><span class="hljs-keyword">null</span></span>) { <span class="hljs-keyword"><span class="hljs-keyword">System</span></span>.<span class="hljs-keyword"><span class="hljs-keyword">out</span></span>.println(" : " +command.toString()); } } }; snmp.addNotificationListener(targetAddress, trapPrinter); } <span class="hljs-comment"><span class="hljs-comment">/*   .      targetAddress.*/</span></span> <span class="hljs-built_in"><span class="hljs-built_in">public</span></span> <span class="hljs-type"><span class="hljs-type">void</span></span> send(){ // setting up target CommunityTarget c_target = <span class="hljs-built_in"><span class="hljs-built_in">new</span></span> CommunityTarget(); c_target.setCommunity(<span class="hljs-built_in"><span class="hljs-built_in">new</span></span> OctetString("public")); c_target.setAddress(targetAddress); c_target.setRetries(<span class="hljs-number"><span class="hljs-number">2</span></span>); c_target.setTimeout(<span class="hljs-number"><span class="hljs-number">1500</span></span>); c_target.setVersion( SnmpConstants.version2c); PDU pdu = <span class="hljs-built_in"><span class="hljs-built_in">new</span></span> PDU(); pdu.setType(PDU.INFORM); pdu.<span class="hljs-keyword"><span class="hljs-keyword">add</span></span>(<span class="hljs-built_in"><span class="hljs-built_in">new</span></span> VariableBinding(SnmpConstants.snmpTrapEnterprise)); pdu.<span class="hljs-keyword"><span class="hljs-keyword">add</span></span>(<span class="hljs-built_in"><span class="hljs-built_in">new</span></span> VariableBinding(SnmpConstants.snmpTrapAddress)); try { snmp.send(pdu, c_target, transport); } catch (IOException ex2) { ex2.printStackTrace(); } } <span class="hljs-comment"><span class="hljs-comment">/* , ,   .*/</span></span> <span class="hljs-built_in"><span class="hljs-built_in">public</span></span> static <span class="hljs-type"><span class="hljs-type">void</span></span> main(String[] args) throws <span class="hljs-keyword"><span class="hljs-keyword">Exception</span></span>{ snmpt s = <span class="hljs-built_in"><span class="hljs-built_in">new</span></span> snmpt(); s.<span class="hljs-keyword"><span class="hljs-keyword">start</span></span>(); s.send(); <span class="hljs-keyword"><span class="hljs-keyword">System</span></span>.<span class="hljs-keyword"><span class="hljs-keyword">out</span></span>.println(<span class="hljs-number"><span class="hljs-number">0</span></span>); } <span class="hljs-comment"><span class="hljs-comment">/*  .          trapPrinter*/</span></span> <span class="hljs-built_in"><span class="hljs-built_in">public</span></span> <span class="hljs-type"><span class="hljs-type">void</span></span> run() { <span class="hljs-keyword"><span class="hljs-keyword">while</span></span>(<span class="hljs-keyword"><span class="hljs-keyword">true</span></span>) try{ this.sleep(<span class="hljs-number"><span class="hljs-number">1000000</span></span>); }catch (<span class="hljs-keyword"><span class="hljs-keyword">Exception</span></span> e) { e.printStackTrace(); } } }</code> </pre> <br>  Just delighted with the logic of JAVA and its functionality! <br>  The ‚Äúlistener‚Äù pattern is used, so our code is almost identical to the code when working with events in the GUI.  And this is one of the greatest virtues of this language - strict adherence to certain patterns in all its aspects.  Everything is laid out on the shelves and ready to use.  Such an order in the standard libraries you want, you don't want to force developers to also write the "correct" code.  Therefore, most frameworks are also implemented as a concise extension of the functions and principles of JavaEE. <br><br>  To be continued‚Ä¶ </div>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <p>Source: <a href="https://habr.com/ru/post/39643/">https://habr.com/ru/post/39643/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../396421/index.html">Sega launches two new versions of its retro console Mega Drive</a></li>
<li><a href="../396423/index.html">Why startups fail</a></li>
<li><a href="../396425/index.html">X-rays helped find a hidden medieval library</a></li>
<li><a href="../396427/index.html">Redmi Pro - the first dual camera smartphone from XIAOMI</a></li>
<li><a href="../396429/index.html">Lockheed Martin is developing a minisubmarine to deliver special forces to the battlefield.</a></li>
<li><a href="../396431/index.html">Is it possible to find pokemon in nature?</a></li>
<li><a href="../396433/index.html">Speedometer / odometer on IN14</a></li>
<li><a href="../396435/index.html">The first patient in the USA who was transplanted with both hands wants to get rid of them.</a></li>
<li><a href="../396437/index.html">22 messages of hope (and science) for creationists</a></li>
<li><a href="../396439/index.html">Why are brown dwarfs so dim?</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>