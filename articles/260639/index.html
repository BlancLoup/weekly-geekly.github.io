<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Sensors and microcontrollers. Part 3. We measure current and voltage.</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="We turn to the final part of the sensor review cycle, in which we consider the DC and AC current and voltage sensors. For all other sensors that did n...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Sensors and microcontrollers. Part 3. We measure current and voltage.</h1><div class="post__text post__text-html js-mediator-article"><img align="left" src="https://habrastorage.org/files/4df/1f8/1cd/4df1f81cd86c4e2a8f5afa1441fb88e5.jpg"><br>  We turn to the final part of the sensor review cycle, in which we consider the DC and AC current and voltage sensors.  For all other sensors that did not fall into the main series, we will do additional reviews when they are suddenly needed in future articles. <br>  This article opens up a new cycle of materials about measuring the parameters of power quality, which will include issues of connecting current and voltage sensors to a microcontroller, reviewing the algorithms of power quality analyzers, the meaning of certain power quality indicators and what they mean.  In addition, we will touch on the topic of digitization and data processing, which concerns many people, mentioned in the comments to the first article. <br><h4>  <b>Content</b> </h4><br>  <a href="http://habrahabr.ru/post/258967/"><b>Part 1. Mat.</b></a>  <a href="http://habrahabr.ru/post/258967/"><b>part.</b></a>  It considers a sensor that is not tied to any particular measured parameter.  The static and dynamic characteristics of the sensor are considered. <br>  <a href="http://habrahabr.ru/post/259203/"><b>Part 2. Climate control sensors.</b></a>  It discusses the features of working with sensors of temperature, humidity, pressure and gas composition <br>  <b>Part 3. Sensors of electrical quantities.</b>  In this part I will look at current and voltage sensors. <br><a name="habracut"></a><br><blockquote>  ATTENTION: <s>Do not insert the spokes into the socket</s> Do not climb into the 220V network without the necessary skills! </blockquote><br><iframe width="560" height="315" src="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://www.youtube.com/embed/fTKcBsMhwq8%3Ffeature%3Doembed&amp;xid=17259,15700021,15700186,15700190,15700248,15700253&amp;usg=ALkJrhjBOP4QqNtG_6gO00sVM75UW1SKRA" frameborder="0" allowfullscreen=""></iframe><br>  There is a direct current, it is variable.  It happens all at once, which sometimes brings a lot of problems.  But more about that later.  For a start, let's deal with the terminology. <br><img src="https://habrastorage.org/files/2c0/178/f26/2c0178f26bef4a10bee18fcaa177a8c8.png"><br>  <i>Figure 1: AC Voltage</i> <br>  In the measurement of alternating current, we have 4 different quantities, which will guide the measurements.  All the formulas and terms below apply to the current meter. <br>  <b>1. The instantaneous voltage value</b> is the potential difference between two points.  Measured at a specific point in time.  This value is basic in all other calculations.  In fact, our task will be to read a sequential set of instantaneous voltage values ‚Äã‚Äãat regular intervals in order to later get some other data with their help. <br>  <i>u = u (t)</i> (1) <br>  The result is approximately the following graph: <br><img src="https://habrastorage.org/files/138/ebb/c90/138ebbc90c1c49aeb098bbe3e3d30380.png"><br>  <i>Figure 2: Measurement of a series of instantaneous voltage values</i> <br>  When selecting the sampling frequency of the sensors, we are guided by the Kotelnikov-Shannon theorem, when in order to restore a signal with a frequency f it is necessary to perform reading with a frequency greater than 2f.  I note the need for strict inequality, that is, if we need to digitize a signal with a frequency of 50 Hz, then the reading must be done with a frequency of at least 101 Hz.  But, of course, the more the better. <br>  If we recall the GOST on electricity quality indicators, then in the Harmonics section we find that harmonics up to 40, i.e. up to 2 kHz, are interesting for our measurement.  And microchips of electricity meters read at a frequency of 4096 times per second.  The power of two is chosen so that you can apply fast Fourier transform algorithms. <br>  Having this large data set collected per unit of time, for example, 1c, we proceed to the following: <br>  <b>2. Amplitude voltage value</b> - which is defined as the maximum modulo value from our sample: <br><img src="https://habrastorage.org/files/514/612/bef/514612befc40408cbe0d07da2fea0960.jpg">  (2) <br>  where [u (t)] is an array with data. <br>  For harmonic oscillations, this value is used in the following formula: <br><img src="https://habrastorage.org/files/ca8/c9a/54b/ca8c9a54be7e4d40a62a5f94f29bc9b4.jpg">  (3) <br>  <b>3. The average value of the voltage,</b> i.e. The arithmetic average, i.e. the constant component of the alternating voltage. <br><img src="https://habrastorage.org/files/41e/a51/fdb/41ea51fdb83748688979cc060597393a.jpg">  (four) <br>  Where <img src="https://habrastorage.org/files/f90/f25/703/f90f257033f5484896b9ef25e062f9a0.jpg">  - the sampling period of the analog signal.  I intentionally write the sum instead of the integral.  In an industrial AC network, the average value should be zero.  If this condition is not met, there may be certain problems, since the direct current magnetises the transformers, introducing them into saturation, or heats the supply line.  The latter way may be useful for solving the problem of frozen ice on the wires - the wire is heated and the ice falls off. <br>  In low-current analog circuits, the constant component is present all the time and can be very useful.  And if it interferes with us, then we will quickly get rid of it, but more on that later. <br>  <b>4. RMS voltage value</b> .  - also known as the effective voltage value - on a linear resistive load, it performs the same work as a constant voltage of a similar level.  Is determined by the following formula: <br><img src="https://habrastorage.org/files/843/29c/d27/84329cd27c484297a0132252efbbb9e6.jpg">  (five) <br>  When measuring the voltage in the outlet, we, as a rule, are interested in precisely this very actual voltage, which is 230 / 380V. <br>  Amplitude and effective values ‚Äã‚Äãof sinusoidal voltage are interconnected through <img src="https://habrastorage.org/files/27a/022/080/27a0220808e145d3b0d2a9f18cd6c91b.jpg">  .  During the design of the measuring system, we will be primarily interested in the amplitude value of voltage and current. <br>  During the measurements we will be guided by one of the following schemes: <br><img src="https://habrastorage.org/files/10a/0f7/657/10a0f765761342f6a270e8fff0e33d91.png"><br>  <i>Figure 3: Connecting measuring devices</i> <br>  A puzzle for the mind - both connection schemes are correct, but under what circumstances is it important to choose one of them correctly?  Answers in the comments. <br><br><h4>  <b>Voltage sensors</b> </h4><br><iframe width="560" height="315" src="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://www.youtube.com/embed/B5L0_bAtDgI%3Ffeature%3Doembed&amp;xid=17259,15700021,15700186,15700190,15700248,15700253&amp;usg=ALkJrhi265vx1ZgmwKcOQCxUY4up_Ql8Vw" frameborder="0" allowfullscreen=""></iframe><br>  First of all, we will measure the voltage.  All of the following applies to voltages of at least the supply voltage of the ADC of our controller.  Thus, we need to measure the voltage with an amplitude greater than the ADC is able to chew.  Therefore, the voltage level must be lowered - i.e.  to weaken the signal. <br>  For small voltages (for example, as thermocouple thermocouple from the previous article), the inverse problem is necessary - signal amplification.  This is a more difficult task and we will definitely return to it in the following articles. <br>  We set the condition for the calculation of our sensors: <br>  Measured voltage: AC, 0-1000V, frequency 50 / 60Hz.  For a three-phase voltage of 380V, the amplitude is almost 600V, and there are also 660V mains.  So let it be.  In fact, I took this calculation from my piece of iron and was too lazy to redo it. <br>  Output voltage ¬± 1,65V - half from the power supply + 3.3V <br><h5>  <b>Voltage divider</b> </h5><br>  The easiest way would be a voltage divider. <br><img src="https://habrastorage.org/files/1bc/ff6/e91/1bcff6e9108d4e9bb7e4e2938ddb356f.png"><br>  <i>Figure 4: Voltage Divider</i> <br>  The voltage on our measuring device will be defined as the input voltage multiplied by the divider coefficient: <br><img src="https://habrastorage.org/files/f38/c16/d04/f38c16d04e084b978891836c0a1a5c35.jpg">  (6) <br>  When choosing the resistance of resistors, it is necessary to determine the following requirements: <br>  1. The current through the resistor circuit must be 1-2 orders of magnitude greater than the current of our measuring device so that this current does not affect the readings.  The meter has a finite resistance value and it turns out that another resistor is connected to the resistor R2.  The greater the internal resistance, the closer the total resistance to the resistance R2.  The resistance of the internal circuits of the ATmega ADC, for example, is 100 MŒ©. <br>  2. The power allocated to our divider should not be too large <br>  3. The applied input voltage must be less than the resistor breakdown voltage. <br>  Let the current through our maker be 1mA.  Then, the total resistance of the resistors will be equal to: <br><img src="https://habrastorage.org/files/0d9/4d4/c8f/0d94d4c8f9534e29825d7b67d84a224d.jpg">  (7) <br>  Define the required transfer ratio of our divider: <br><img src="https://habrastorage.org/files/75f/4ec/78e/75f4ec78e5c54f198eb3c0c1a2ee4d7f.jpg">  (eight) <br>  For a series of ratings of resistors E24, we choose the nearest value, which gives about 1MŒ©: <br>  R1 = 990 kŒ© (three 330 kŒ© resistors) <br>  then R2 = K ¬∑ R1 = 1.63 kŒ© <br>  From the E24 series, select the second resistor R2 = 1.6 kŒ© <br>  Check the ratio: <br><img src="https://habrastorage.org/files/ab1/ec0/911/ab1ec0911b71471882ad813f5615e4d6.jpg">  (9) <br>  The error from the previously estimated 2.3%, which is fine with us.  In general, it is possible to accurately select resistors from the E192 series, but in my case it is not necessary - a voltage of 1000V at the input is an abnormal mode, and the system will still be calibrated later. <br>  Look measuring circuit will be as follows: <br><img src="https://habrastorage.org/files/236/5f3/320/2365f33204924d6f85050718b86d65c9.jpg"><br>  <i>Figure 5: Voltage Meter Circuit</i> <br>  When designing a voltage divider for large operating voltages, it is necessary to take into account the maximum allowable voltages for the resistors used. <br>  For example, the nominal operating voltage for SMD resistors is 15 V (0201);  50 V (0402, 0603);  150 V (0805);  200 V (1206, 2010, 2512), <br>  And the maximum allowable is 50 V (0201);  100 V (0402, 0603);  200 V (0805);  400 V (1206, 2010, 2512). <br>  That is why I use three series-connected resistors of the size 1206 - they fit into 555 volts of the worker and 1000 V maximum allowable. <br>  Of course, all these resistors must be highly accurate, since the measurement accuracy depends on their resistance and thermal stability of this resistance. <br>  On the basis of the R4-C1 chain, a low-pass filter is assembled so that no hindrances to us are terrible.  By the way, we can quickly see what this filter does: <br><img src="https://habrastorage.org/files/737/790/dc8/737790dc8ed84c789c3c6dd2321a358c.png"><br>  <i>Figure 6: Filter Frequency Response</i> <br>  As can be seen from the LAFC graph, for the working frequency range from 0 to 2000 Hz the filter practically does not spoil the amplitude and phase of the signal.  But the interference at frequencies of the order of 100 kHz and above, coming from the high-frequency converters, reliably choke.  So everything is super. <br>  <b>Advantages:</b> <br><ul><li>  a wide range of voltages and frequencies determined by the values ‚Äã‚Äãof resistors; </li><li>  high accuracy, again determined by the accuracy and thermal stability of resistors; </li><li>  measures constant and alternating voltage. </li></ul><br>  <b>Disadvantages:</b> <br><ul><li>  no galvanic isolation - when interacting with an industrial network, it is necessary to provide for the protection of the user from electrical circuits, or to use a galvanic isolation; </li><li>  low efficiency - the entire current of the divider goes into heat; </li></ul><br><h5>  <b>Voltage transformer</b> </h5><br><img src="https://habrastorage.org/files/80b/bf8/513/80bbf8513b3943edb6e12060eda6e1ec.png"><br>  <i>Figure 7: Voltage Transformer</i> <br>  For cases when it is necessary to measure very high voltages, 6 / 10kV and above, a voltage transformer is used. In fact, it is a conventional transformer, the main mode of operation of which is the idle mode. <br>  The accuracy class of such a transformer depends on the working area of ‚Äã‚Äãthe magnetization characteristic.  After all, we need to pass through it not just a signal with a certain amplitude, but also not to spoil its shape.  Here is the problem - most voltage transformers practically do not miss harmonics.  It's all about the metal core and the reversal loss.  At the same time, the thinner the core plate.  the better its frequency response. <br>  The usual accuracy class of the transformer is 0.5, 1, 3 <br>  <b>Advantages:</b> <br><ul><li>  a huge range of operating voltages - up to hundreds of kilovolts and above; </li><li>  so necessary galvanic isolation. </li></ul><br>  <b>Disadvantages:</b> <br><ul><li>  works on a certain frequency band; </li><li>  only works with alternating voltage; </li></ul><br>  The last drawback is a bit far-fetched, because if necessary, you can use a measuring DC transformer.  Yes, DC transformers "exist", but the correct name of the device is a magnetic amplifier.  The accuracy and linearity of such devices leaves much to be desired - work takes place at the site of saturation of the core by magnetization. <br>  It looks like this: <br><img src="https://habrastorage.org/files/866/ada/1c8/866ada1c897041bb972a27b68ed056c4.png"><br>  <i>Figure 8: DC Measurement with a Magnetic Amplifier</i> <br>  You can <a href="http://analogiu.ru/6/6-2-2.html">read</a> about this miracle of technology here: <a href="http://analogiu.ru/6/6-2-2.html">analogiu.ru/6/6-2-2.html</a> <br>  If the topic is interesting, then I will sift a review of these old regulators. <br><h5>  <b>Electronic Insulated Sensor</b> </h5><br>  The drawbacks of both schemes are devoid of electronic isolated sensor.  In fact, it is a complete device.  Inside of which there are both a voltage divider, and operational amplifiers, and a galvanic isolation unit and an isolated power supply circuit for this whole ugliness: <br><img src="https://habrastorage.org/files/38f/1bc/15d/38f1bc15d7e54103ac7433c34bcd0d19.jpg"><br>  <i>Figure 9: Block diagram of an electronic isolated sensor</i> <br>  I only came across industrial sensors with an output voltage of 0-10V or a current of 0-10mA.  Unlike previous sensors, it produces a unipolar signal.  In principle, such a scheme can be developed independently, applying, for example.  Isolated analog amplifier like <a href="http://www.avagotech.com/pages/en/optocouplers_hermetic/analog_isolation_amplifier/hcpl-7851/">HCPL-7850</a> .  The main drawback of the scheme is very difficult and very expensive. <br>  And as right notes in the comments of Comrade.  <a href="http://geektimes.ru/users/progchip666/" class="user_link">progchip666</a> <br><blockquote>  It is extremely difficult to transmit an analog signal with an accuracy of even one percent over the galvanically-isolated interface, therefore, in this case, it is often necessary to distill it into a figure and in such a form already distill it. <br>  Unfortunately, the amplifier shown in the diagram must also be powered.  Of course from galvanized source. </blockquote><br>  <b>Advantages:</b> <br><ul><li>  galvanic isolation; </li><li>  high accuracy; </li><li>  wide range of voltages and frequencies; </li><li>  measures constant and alternating voltage. </li></ul><br>  <b>Disadvantages:</b> <br><ul><li>  expensive; </li><li>  complex circuitry. </li></ul><br><h5>  <b>Additional links</b> </h5><br>  ABB current and voltage sensors <a href="http://www.power-e.ru/2006_03_56.php">www.power-e.ru/2006_03_56.php</a> <br>  current and voltage sensors LEM <a href="http://www.sensorica.ru/pdf/LEM.pdf">www.sensorica.ru/pdf/LEM.pdf</a> <br>  Energy meters STMP32 <a href="http://www.compel.ru/lib/ne/2015/4/2-dlya-odnofaznyih-i-mnogofaznyih-schetchikov-novyie-izmeritelnyie-mikroshemyi-ot-st/">www.compel.ru/lib/ne/2015/4/2-dlya-odnofaznyih-i-mnogofaznyih-schetchikov-novyie-izmeritelnyie-mikroshemyi-ot-st</a> <br>  <a href="https://ru.wikipedia.org/wiki/%25D0%25AD%25D0%25BB%25D0%25B5%25D0%25BA%25D1%2582%25D1%2580%25D0%25B8%25D1%2587%25D0%25B5%25D1%2581%25D0%25BA%25D0%25BE%25D0%25B5_%25D0%25BD%25D0%25B0%25D0%25BF%25D1%2580%25D1%258F%25D0%25B6%25D0%25B5%25D0%25BD%25D0%25B8%25D0%25B5">ru.wikipedia.org/wiki/Electrical_power</a> <br><h4>  <b>Current sensors</b> </h4><br><iframe width="560" height="315" src="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://www.youtube.com/embed/ICCkwkyHbVY%3Ffeature%3Doembed&amp;xid=17259,15700021,15700186,15700190,15700248,15700253&amp;usg=ALkJrhg2XBwC1v-lEx-uHhfcbPwSuvcyDA" frameborder="0" allowfullscreen=""></iframe><br><h5>  <b>Measuring shunt</b> </h5><br>  The easiest and most accurate way to measure current.  As you know, when current flows through an active resistance, a voltage drop occurs on it, which is proportional to the measured current.  Great, take a resistor and place it in the gap of the circuit to be measured: <br><img src="https://habrastorage.org/files/17f/8e7/7ba/17f8e77ba9a14fdd9498c74b0cf72640.jpg"><br>  <i>Figure 10: Current Shunt Current Sensor</i> <br>  The voltage drop across the shunt is proportional to the current flowing: <br><img src="https://habrastorage.org/files/ab3/493/de7/ab3493de7d3644cda88c0465e0819430.jpg">  (ten) <br>  Accordingly, depending on the required voltage at the sensor output, we select the desired resistance of the shunt.  But!  The voltage drop on the shunt will lead to the power losses emitted into the heat, respectively, at high currents we have to be content with small values ‚Äã‚Äãof the voltage from the sensor in order to limit the losses.  These industrial-grade ShSM shunts provide a standard output voltage of 75mV at rated current: <br><img src="https://habrastorage.org/files/cba/d66/3da/cbad663da7024f35b272786f3df2e51c.jpg"><br>  <i>Figure 11: The current shunt type SHSM</i> <br>  For voltage of 75mV, most of the measuring heads for shunts were calibrated.  Pay attention to the second pair of screws - they are designed specifically for connection to the measuring device to improve measurement accuracy by separating the currents of the power and measuring circuit ... <br>  To measure current using such shunts, it is necessary to use operational amplifiers.  In this case, the average gain is 20-40, which is due to the widespread operational amplifiers.  In principle, in noncritical DC circuits, you can use the amplifier cascade based on a single transistor.  The linearity of such a scheme will limp, but for threshold protection circuits, this is a simple and reliable option. <br>  We get the following scheme: <br><img src="https://habrastorage.org/files/67d/026/162/67d026162fe24eba803ea7b0787451f0.jpg"><br>  Figure 12: Using an Op Amp as an Amplifier <br>  It should be borne in mind that when measuring AC, the output signal will be bipolar and the operational amplifier must be powered from a bipolar power source. <br>  Let's look just in case, how our scheme works: <br><img src="https://habrastorage.org/files/d01/b5a/5f7/d01b5a5f7c074cad983abf3f03c3f792.jpg"><br>  <i>Figure 13: Simulation of current sensor amplifier</i> <br>  At the input, we apply 75mV, multiply by 20, at the output we have a signal with an amplitude of 1.5V for a current of 10A.  In the following material we will understand what a bipolar signal can be uncomfortable. <br>  <b>Advantages</b> : <br><ul><li>  high accuracy; </li><li>  wide range of voltages and frequencies; </li><li>  measures direct and alternating current. </li></ul><br>  <b>Disadvantages:</b> <br><ul><li>  no galvanic isolation; </li><li>  low efficiency. </li></ul><br><h5>  <b>Current transformer</b> </h5><br>  The measuring current transformer is a transformer, the primary winding of which is connected to the current source, and the secondary is closed to measuring instruments or protective automatics devices. <br>  Current transformers are used to measure currents in high-current circuits, often with high potential.  For example, we wanted to measure the current in a 10kV network.  Or, we want to get a simple and relatively cheap way to galvanically isolate the measured current circuit of our device to 220V.  The main problem of current transformers is that they can only measure alternating voltage. <br>  The current transformer is always loaded.  If the secondary winding of the current transformer is open, a potential of a couple of thousand kilovolts will arise on it, which will cripple the personnel and damage the device by breaking its insulation. <br>  Transformers come with built-in primary winding.  For example: <br><img src="https://habrastorage.org/files/91f/112/993/91f112993f424eff8785c3e32a93a53a.jpg"><br>  <i>Figure 14: Coilcraft CS2106L Series Current Transformer</i> <br>  Either such elephants, having the similarity of the primary winding in the form of a huge bus, or a window for passing wires through it <br><img src="https://habrastorage.org/files/bc5/ad1/358/bc5ad135863b4e338f670ef9c649ef14.jpg"><br>  <i>Figure 15: Industrial multi-amp current transformer</i> <br>  The main disadvantage of the current transformer is that it works only at a certain frequency of 50, 60 or 400 Hz due to the metallic core.  Of course, the current transformer is capable of transmitting a signal at a higher frequency, but with much lower accuracy.  In this case, one should pay attention to the sheet thickness of the core used - the thinner the iron in the current transformer, the higher the maximum permissible operating frequency.  By the way, there are current transformers from ferrite, which are used to measure systems with a frequency of 50-60 kHz or more.  For example, the <a href="http://coilcraft.com/pdfs/senhi.pdf">Coilcraft CS1</a> series is designed for operation in the range of 20-50 kHz and can be used in switching power supplies. <br>  But if we remove it, we get an air transformer, or, so-called.  Rogowski coil: <br><img src="https://habrastorage.org/files/f19/3f3/d0c/f193f3d0cb694c39a56dca8ba145d848.jpg"><br>  <i>Figure 16: Rogowski coil wiring diagram</i> <br>  Unlike other sensors that require interaction with the circuit to be measured, the Rogowski coil can be installed over the wires of the circuit to be measured as a belt. <br>  Some measuring instruments are equipped with such sensors: <br><img src="https://habrastorage.org/files/418/da3/244/418da3244d274abcbd97eaa9ab07ee66.jpg"><br>  <i>Figure 17: Rogowski coil sensor</i> <br>  The range of measured currents is from tens to thousands of amperes, but they suffer from low accuracy. <br>  <b>Advantages:</b> <br><ul><li>  galvanic isolation; </li><li>  work with large currents in thousands of Amperes; </li></ul><br>  <b>Disadvantages:</b> <br><ul><li>  measures only alternating current in a certain frequency range (except for the Rogowski coil); </li><li>  changes the phase of the signal and requires compensation </li></ul><br><h5>  <b>Hall Effect Current Sensors</b> </h5><br>  Sensors of this type use the effect of the appearance of potential difference when a conductor with a current in a magnetic field is placed. <br><img src="https://habrastorage.org/files/eb0/553/46f/eb055346f96a4372992d11365c7dc8a6.jpg"><br>  <i>Figure 18: The Hall Effect</i> <br>  When creating a sensor, we take the magnetic core, pass the wire of the circuit to be measured through it, and place the Hall sensor in the open magnetic section, receiving the open type current sensor: <br><img src="https://habrastorage.org/files/34c/a98/525/34ca98525480433ba3020d0351d51a16.jpg"><br>  <i>Figure 19: Open-Type Hall Effect Current Sensor</i> <br>  The advantage of this sensor is simplicity.  The disadvantage is the presence of magnetic bias of the core, therefore, increasing the nonlinearity of indications. <br>  Add a winding to the core and start up a current proportional to the measured current: <br><img src="https://habrastorage.org/files/5b4/97f/6c2/5b497f6c2d1f48a8bc4d58c72b9dac9c.jpg"><br>  <i>Figure 20: Compensated-type Hall Effect Current Sensor</i> <br>  With zero core bias, we increase the linearity of the sensor and its accuracy class.  However, by its design, such a sensor approaches current transformers, respectively, its cost increases significantly. <br>  Like transformers, there are types of sensors that allow the power wire to pass through: <br><img src="https://habrastorage.org/files/f91/cd7/6cb/f91cd76cba59489497c7505c0462f6b4.jpg"><br>  <i>Figure 22: Hall Effect Current Sensor</i> <br>  There are sensors with a shared core - but their value is simply rolls over. <br>  Sensors with an integrated power circuit based on a 2.1kV and 3kV galvanically isolated electrical isolation are manufactured by Allegro.  Due to their small size, they do not provide high accuracy, but they are compact and easy to use. <br><img src="https://habrastorage.org/files/f4c/e56/639/f4ce566391be4473979550557a4d3b0e.jpg"><br> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Figure 23: Allegro ACS754 Current Sensor</font></font></i> <br><ul><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ACS712 sensor - measurement of direct and alternating current up to 30A with an accuracy of ¬± 1.5% </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ACS713 sensor - optimized for measuring DC current up to 30A. </font><font style="vertical-align: inherit;">It is twice as sensitive as its universal counterpart.</font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ACS754 sensor - measurement of direct and alternating current up to 200A with an accuracy of ¬± 1.5% </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ACS755 sensor - optimized for measuring DC current. </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Sensor ACS756 - sensor for measuring DC and AC up to 100A with a supply voltage of 3-5V. </font></font></li></ul><br><img src="https://habrastorage.org/files/cd0/6ac/da2/cd06acda22f446a5b94ca3f4e97dd9a2.jpg"><br> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Figure 24: Dependence of the output voltage of the sensor on the current. </font></font></i> <br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Merits</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> :</font></font><br><ul><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> wide range of measured currents with frequency up to 50-100 kHz and above; </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> measures direct and alternating current. </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> galvanic isolation </font></font></li></ul><br> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Disadvantages</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> :</font></font><br><ul><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Expensive </font></font></li></ul><br><h5> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Additional links:</font></font></b> </h5><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Measuring DC transformers </font></font><a href="http://analogiu.ru/6/6-2-2.html"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">analogiu.ru/6/6-2-2.html</font></font></a> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Rogowski coils </font></font><a href="http://www.russianelectronics.ru/leader-r/review/2193/doc/54046/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">www.russianelectronics.ru/leader-r/review/2193/doc/54046</font></font></a> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Hall Effect in wikipedia: </font></font><a href="https://ru.wikipedia.org/wiki/%25D0%25AD%25D1%2584%25D1%2584%25D0%25B5%25D0%25BA%25D1%2582_%25D0%25A5%25D0%25BE%25D0%25BB%25D0%25BB%25D0%25B0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ru.wikipedia.org/wiki/Effect_Holl</font></font></a> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Hall sensors </font></font><a href="http://robocraft.ru/blog/electronics/594.html"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">robocraft.ru/blog/electronics/594.html</font></font></a> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Danilov A. Modern industrial current sensors </font></font><a href="http://www.soel.ru/cms/f/%3F/311512.pdf"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">www.soel.ru/cms/f/?/311512.pdf</font></font></a> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Designing circuits based on an analog amplifier HCPL-7851 </font></font><a href="http://www.kit-e.ru/assets/files/pdf/2010_04_26.pdf"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">www.kit-e. com / assets / files / pdf / 2010_04_26.pdf</font></font></a> <br><br><h4>  <b>Conclusion</b> </h4>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <font style="vertical-align: inherit;"><font style="vertical-align: inherit;">I set myself the task of making review material on sensors, the most frequently used by the community when developing various devices. </font><font style="vertical-align: inherit;">Most of the sensors were not included in the cycle only for the reason that in the near future they will not be needed for my materials, but some of them are in the plans. </font><font style="vertical-align: inherit;">Be sure to make a separate material with acceleration sensors, angular velocities, a compass and examples, so stay tuned for new articles!</font></font></div><p>Source: <a href="https://habr.com/ru/post/260639/">https://habr.com/ru/post/260639/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../260629/index.html">Digest news of the gaming industry</a></li>
<li><a href="../260631/index.html">We pump HP t5325 thin client</a></li>
<li><a href="../260633/index.html">What to tell at the training on service h. 1</a></li>
<li><a href="../260635/index.html">Matlab features for developing and testing mechanistic trading systems</a></li>
<li><a href="../260637/index.html">Retrospective development of Crash Bandicoot, or how the developers packed the whole game in 2MB RAM</a></li>
<li><a href="../260641/index.html">200 design and engineering blogs</a></li>
<li><a href="../260643/index.html">My little relays: Autowatering is magic</a></li>
<li><a href="../260645/index.html">We use SVG on the site</a></li>
<li><a href="../260647/index.html">Lock on access_log, an easy way to shoot a leg or eliminate competitors</a></li>
<li><a href="../260649/index.html">Review of the book Design Patterns on the .NET Platform</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>