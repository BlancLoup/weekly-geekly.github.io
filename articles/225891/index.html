<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>AngularJS - Are you sure you know how ng-if works?</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Not so long ago, I already wrote about the behavior of ng-if directives , but then I ran into checking the conditions, but today there was another pro...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>AngularJS - Are you sure you know how ng-if works?</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/getpro/habr/post_images/4ff/67a/63c/4ff67a63c23b9df0e2f9ec8a850b1822.jpg" align="right"><br>  Not so long ago, I already wrote <a href="http://habrahabr.ru/post/225243/">about the behavior of ng-if directives</a> , but then I ran into checking the conditions, but today there was another problem. <br><br>  There are a lot of elements like tooltip, popover, modal windows and so on in the project.  I think you all understand what these elements are and I will not talk about them.  For many of them, absolute positioning is used.  If we didn't use custom directives, then there would be no problems - all modal windows would lie at the end of the body and would be shown when needed.  But since all these elements are declared as directives, there is a problem with positioning, since a directive can have a parent with relative positioning and so on. <br><br><pre><code class="html hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">style</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"position: relative; overflow:hidden"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">button</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">ng-click</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"visible = true"</span></span></span><span class="hljs-tag">&gt;</span></span>Greeting<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">button</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">modal</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">visible</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"visible"</span></span></span><span class="hljs-tag">&gt;</span></span> Hello, Habr! <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">modal</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br><a name="habracut"></a><br>  The modal window should be positioned relative to the browser window, but in this case will be positioned relative to the parent element. <br>  The simplest solution to this problem is to remove an element from the current directive: 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <pre> <code class="javascript hljs"><span class="hljs-built_in"><span class="hljs-built_in">module</span></span>.directive(<span class="hljs-string"><span class="hljs-string">'modal'</span></span>,[ <span class="hljs-string"><span class="hljs-string">'$rootElement'</span></span>, <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params"> $rootElement </span></span></span><span class="hljs-function">)</span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> { <span class="hljs-attr"><span class="hljs-attr">restrict</span></span>: <span class="hljs-string"><span class="hljs-string">'E'</span></span>, ... link: <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">scope, element</span></span></span><span class="hljs-function">)</span></span>{ element.appendTo($rootElement); scope.$on(<span class="hljs-string"><span class="hljs-string">'$destroy'</span></span>, <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span>{ element.remove(); }); ... } } }] });</code> </pre><br><br>  That is, we extract the element from the current context and insert it into the root element of the application.  When a directive is deleted, the element is deleted.  Everything seems to be OK, but there are no problems until the <code>ng-if</code> directive is used together with this approach. <br><br>  <code>ng-if</code> with a negative result of the condition completely removes the DOM element, I think many people know it, but not many know how it happens. <br><br>  <a href="">Here are the sources and the watcher</a> <code>ng-if</code> attribute itself. <br>  If the result is positive, the <code>document.createComment(' end ngIf: ' + $attr.ngIf + ' ');</code> comment <code>document.createComment(' end ngIf: ' + $attr.ngIf + ' ');</code>  and two values ‚Äã‚Äãare put into the <code>block.clone</code> variable: <br><ul><li>  0 - the element itself for which the <code>ng-if</code> directive was declared </li><li>  1 - created comment </li></ul><br><br>  In the source code of the page, you most likely often see this: <br><img src="https://habrastorage.org/getpro/habr/post_images/76b/90e/686/76b90e686070fda7d98ee1710df34830.png"><br><br><blockquote>  In this screenshot, the <code>ng-if="!task.id"</code> is positive and the li element for which the directive is declared is in the DOM tree and is between the comments and.  The second condition <code>ng-if="validation.task.app_id"</code> is negative and there is nothing between the comments. </blockquote><br>  If negative, destroy the child scope and <a href="">delete items</a> .  And the most interesting thing about the <a href="">getBlockElements</a> function: <br><pre> <code class="javascript hljs"><span class="hljs-comment"><span class="hljs-comment">/** * Return the DOM siblings between the first and last node in the given array. * @param {Array} array like object * @returns {DOMElement} object containing the elements */</span></span> <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">getBlockElements</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">nodes</span></span></span><span class="hljs-function">) </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> startNode = nodes[<span class="hljs-number"><span class="hljs-number">0</span></span>], endNode = nodes[nodes.length - <span class="hljs-number"><span class="hljs-number">1</span></span>]; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (startNode === endNode) { <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> jqLite(startNode); } <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> element = startNode; <span class="hljs-keyword"><span class="hljs-keyword">var</span></span> elements = [element]; <span class="hljs-keyword"><span class="hljs-keyword">do</span></span> { element = element.nextSibling; <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (!element) <span class="hljs-keyword"><span class="hljs-keyword">break</span></span>; elements.push(element); } <span class="hljs-keyword"><span class="hljs-keyword">while</span></span> (element !== endNode); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> jqLite(elements); }</code> </pre><br>  What makes this function clear from its description is the <i>return code.</i> <br>  And the nodes argument in our case is an array of two elements that I described yours.  That is, the function returns all elements between the main element for which the <code>ng-if</code> directive and the closing comment were declared, and if the comment was not found, it will return all elements after the main element. <br><br>  For example, such a template (# angular-application is the root element of the application): <br><pre> <code class="html hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">id</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"angular-application"</span></span></span><span class="hljs-tag">&gt;</span></span> ... <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">style</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"position: relative; overflow: hidden"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">style</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"position: absolute; right: 0; bottom: 0"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">modal</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">ng-if</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"isFirstModal()"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">id</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"modal-1"</span></span></span><span class="hljs-tag">&gt;</span></span>...<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">modal</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">modal</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">ng-if</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"isSecondModal()"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">id</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"modal-2"</span></span></span><span class="hljs-tag">&gt;</span></span>...<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">modal</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">style</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"position: absolute; left: 0; bottom: 0"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">popover</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">ng-if</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"isFirstPopover()"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">id</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"popover-1"</span></span></span><span class="hljs-tag">&gt;</span></span>...<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">popover</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">popover</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">ng-if</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"isSecondPopover()"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">id</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"popover-2"</span></span></span><span class="hljs-tag">&gt;</span></span>...<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">popover</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> ... <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br>  Compile in this html: <br><pre> <code class="html hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">id</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"angular-application"</span></span></span><span class="hljs-tag">&gt;</span></span> ... <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">style</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"position: relative; overflow: hidden"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">style</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"position: absolute; right: 0; bottom: 0"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-comment"><span class="hljs-comment">&lt;!-- ngIf: isFirstModal() --&gt;</span></span> <span class="hljs-comment"><span class="hljs-comment">&lt;!-- end ngIf: isFirstModal() --&gt;</span></span> <span class="hljs-comment"><span class="hljs-comment">&lt;!-- ngIf: isSecondModal() --&gt;</span></span> <span class="hljs-comment"><span class="hljs-comment">&lt;!-- end ngIf: isSecondModal() --&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">style</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"position: absolute; left: 0; bottom: 0"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-comment"><span class="hljs-comment">&lt;!-- ngIf: isFirstPopover() --&gt;</span></span> <span class="hljs-comment"><span class="hljs-comment">&lt;!-- end ngIf: isFirstPopover() --&gt;</span></span> <span class="hljs-comment"><span class="hljs-comment">&lt;!-- ngIf: isSecondPopover() --&gt;</span></span> <span class="hljs-comment"><span class="hljs-comment">&lt;!-- end ngIf: isSecondPopover() --&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> ... <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">id</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"popover-1"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"popover"</span></span></span><span class="hljs-tag">&gt;</span></span>...<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">id</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"modal-1"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"modal-window"</span></span></span><span class="hljs-tag">&gt;</span></span>...<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">id</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"modal-2"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"modal-window"</span></span></span><span class="hljs-tag">&gt;</span></span>...<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">id</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"popover-2"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">class</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"popover"</span></span></span><span class="hljs-tag">&gt;</span></span>...<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br>  That is, as was written above, all the modal windows and popowers, so that the positioning is not disturbed and their layout is moved at the end of the application, but the comments remained in the same place.  And now, the <a href="">getBlockElements</a> function for <code><a href=""></a> <code>.-    - <b>#popover-1</b> , <b>#modal-1</b> , <b>#modal-2</b> , <b>#popover-2</b> .       ng-if="isFirstPopover()"</code> <u> DOM      </u> . <br> <br>  : <br>    :)     .        .          ,    ,     , ,   .      -    ,     -    ;      .     ,    ,         ,    ;   ng-if   .     .    ,    .       ,        -     enable;      . <a href="https://docs.angularjs.org/api/ng/service/%24compile"></a>     ,   <code>ng-if</code> ,    600;     ,  .  : <code>element.find('[append-to-root]').appendTo($rootElement);</code>     <code>ng-if</code> ,   : <br> <code class="html">&lt;div ng-if="condition"&gt; &lt;my-custom-directive&gt;...&lt;/my-custom-directive&gt; &lt;/div&gt;</code> <br></code> <ul><li> <code><a href=""></a> <code>.-    - <b>#popover-1</b> , <b>#modal-1</b> , <b>#modal-2</b> , <b>#popover-2</b> .       ng-if="isFirstPopover()"</code> <u> DOM      </u> . <br> <br>  : <br>    :)     .        .          ,    ,     , ,   .      -    ,     -    ;      .     ,    ,         ,    ;   ng-if   .     .    ,    .       ,        -     enable;      . <a href="https://docs.angularjs.org/api/ng/service/%24compile"></a>     ,   <code>ng-if</code> ,    600;     ,  .  : <code>element.find('[append-to-root]').appendTo($rootElement);</code>     <code>ng-if</code> ,   : <br> <code class="html">&lt;div ng-if="condition"&gt; &lt;my-custom-directive&gt;...&lt;/my-custom-directive&gt; &lt;/div&gt;</code> <br></code> </li> <li> <code><a href=""></a> <code>.-    - <b>#popover-1</b> , <b>#modal-1</b> , <b>#modal-2</b> , <b>#popover-2</b> .       ng-if="isFirstPopover()"</code> <u> DOM      </u> . <br> <br>  : <br>    :)     .        .          ,    ,     , ,   .      -    ,     -    ;      .     ,    ,         ,    ;   ng-if   .     .    ,    .       ,        -     enable;      . <a href="https://docs.angularjs.org/api/ng/service/%24compile"></a>     ,   <code>ng-if</code> ,    600;     ,  .  : <code>element.find('[append-to-root]').appendTo($rootElement);</code>     <code>ng-if</code> ,   : <br> <code class="html">&lt;div ng-if="condition"&gt; &lt;my-custom-directive&gt;...&lt;/my-custom-directive&gt; &lt;/div&gt;</code> <br></code> </li> <li> <code><a href=""></a> <code>.-    - <b>#popover-1</b> , <b>#modal-1</b> , <b>#modal-2</b> , <b>#popover-2</b> .       ng-if="isFirstPopover()"</code> <u> DOM      </u> . <br> <br>  : <br>    :)     .        .          ,    ,     , ,   .      -    ,     -    ;      .     ,    ,         ,    ;   ng-if   .     .    ,    .       ,        -     enable;      . <a href="https://docs.angularjs.org/api/ng/service/%24compile"></a>     ,   <code>ng-if</code> ,    600;     ,  .  : <code>element.find('[append-to-root]').appendTo($rootElement);</code>     <code>ng-if</code> ,   : <br> <code class="html">&lt;div ng-if="condition"&gt; &lt;my-custom-directive&gt;...&lt;/my-custom-directive&gt; &lt;/div&gt;</code> <br></code> </li> <li> <code><a href=""></a> <code>.-    - <b>#popover-1</b> , <b>#modal-1</b> , <b>#modal-2</b> , <b>#popover-2</b> .       ng-if="isFirstPopover()"</code> <u> DOM      </u> . <br> <br>  : <br>    :)     .        .          ,    ,     , ,   .      -    ,     -    ;      .     ,    ,         ,    ;   ng-if   .     .    ,    .       ,        -     enable;      . <a href="https://docs.angularjs.org/api/ng/service/%24compile"></a>     ,   <code>ng-if</code> ,    600;     ,  .  : <code>element.find('[append-to-root]').appendTo($rootElement);</code>     <code>ng-if</code> ,   : <br> <code class="html">&lt;div ng-if="condition"&gt; &lt;my-custom-directive&gt;...&lt;/my-custom-directive&gt; &lt;/div&gt;</code> <br></code> </li> <li> <code><a href=""></a> <code>.-    - <b>#popover-1</b> , <b>#modal-1</b> , <b>#modal-2</b> , <b>#popover-2</b> .       ng-if="isFirstPopover()"</code> <u> DOM      </u> . <br> <br>  : <br>    :)     .        .          ,    ,     , ,   .      -    ,     -    ;      .     ,    ,         ,    ;   ng-if   .     .    ,    .       ,        -     enable;      . <a href="https://docs.angularjs.org/api/ng/service/%24compile"></a>     ,   <code>ng-if</code> ,    600;     ,  .  : <code>element.find('[append-to-root]').appendTo($rootElement);</code>     <code>ng-if</code> ,   : <br> <code class="html">&lt;div ng-if="condition"&gt; &lt;my-custom-directive&gt;...&lt;/my-custom-directive&gt; &lt;/div&gt;</code> <br></code> </li> <li> <code><a href=""></a> <code>.-    - <b>#popover-1</b> , <b>#modal-1</b> , <b>#modal-2</b> , <b>#popover-2</b> .       ng-if="isFirstPopover()"</code> <u> DOM      </u> . <br> <br>  : <br>    :)     .        .          ,    ,     , ,   .      -    ,     -    ;      .     ,    ,         ,    ;   ng-if   .     .    ,    .       ,        -     enable;      . <a href="https://docs.angularjs.org/api/ng/service/%24compile"></a>     ,   <code>ng-if</code> ,    600;     ,  .  : <code>element.find('[append-to-root]').appendTo($rootElement);</code>     <code>ng-if</code> ,   : <br> <code class="html">&lt;div ng-if="condition"&gt; &lt;my-custom-directive&gt;...&lt;/my-custom-directive&gt; &lt;/div&gt;</code> <br></code> <pre> <code class="hljs 1c"><a href=""></a> <code>.-    - <b><span class="hljs-meta"><span class="hljs-meta">#popover-1</span></span></b><span class="hljs-meta"><span class="hljs-meta"> , </span></span><b><span class="hljs-meta"><span class="hljs-meta">#modal-1</span></span></b><span class="hljs-meta"><span class="hljs-meta"> , </span></span><b><span class="hljs-meta"><span class="hljs-meta">#modal-2</span></span></b><span class="hljs-meta"><span class="hljs-meta"> , </span></span><b><span class="hljs-meta"><span class="hljs-meta">#popover-2</span></span></b><span class="hljs-meta"><span class="hljs-meta"> .       ng-if="isFirstPopover()"</span></span></code><span class="hljs-meta"><span class="hljs-meta"> </span></span><u><span class="hljs-meta"><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword"></span></span></span><span class="hljs-meta"> DOM      </span></span></u><span class="hljs-meta"><span class="hljs-meta"> . </span></span><br><span class="hljs-meta"><span class="hljs-meta"> </span></span><br><span class="hljs-meta"><span class="hljs-meta">  : </span></span><br><span class="hljs-meta"><span class="hljs-meta"> </span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword"></span></span></span><span class="hljs-meta">   :) </span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword"></span></span></span><span class="hljs-meta">   </span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword"></span></span></span><span class="hljs-meta"> .    </span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword"></span></span></span><span class="hljs-meta">  </span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword"></span></span></span><span class="hljs-meta">  .         </span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword"></span></span></span><span class="hljs-meta"> ,    ,     , ,   .  </span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword"></span></span></span><span class="hljs-meta"> </span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword"></span></span></span><span class="hljs-meta">   -    ,     -   </span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword"></span></span></span><span class="hljs-meta"> ;      .  </span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword"></span></span></span><span class="hljs-meta">  </span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword"></span></span></span><span class="hljs-meta"> ,    ,         ,    ; </span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword"></span></span></span><span class="hljs-meta">  ng-if   .     .    ,    .    </span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword"></span></span></span><span class="hljs-meta">   ,     </span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword"></span></span></span><span class="hljs-meta">   -     enable;     </span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword"></span></span></span><span class="hljs-meta"> . </span></span><a href="https://docs.angularjs.org/api/ng/service/%24compile"><span class="hljs-meta"><span class="hljs-meta"></span></span></a><span class="hljs-meta"><span class="hljs-meta">     ,   </span></span><code><span class="hljs-meta"><span class="hljs-meta">ng-if</span></span></code><span class="hljs-meta"><span class="hljs-meta"> ,    600;  </span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword"></span></span></span><span class="hljs-meta">   ,  .  : </span></span><code><span class="hljs-meta"><span class="hljs-meta">element.find('[append-to-root]').appendTo($rootElement);</span></span></code><span class="hljs-meta"><span class="hljs-meta"> </span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword"></span></span></span><span class="hljs-meta">  </span><span class="hljs-meta-keyword"><span class="hljs-meta"><span class="hljs-meta-keyword"></span></span></span><span class="hljs-meta">  </span></span><code><span class="hljs-meta"><span class="hljs-meta">ng-if</span></span></code><span class="hljs-meta"><span class="hljs-meta"> ,   : </span></span><br><span class="hljs-meta"><span class="hljs-meta"> </span></span><code class="html"><span class="hljs-meta"><span class="hljs-meta">&lt;div ng-if="condition"&gt; &lt;my-custom-directive&gt;...&lt;/my-custom-directive&gt; &lt;/div&gt;</span></span></code><span class="hljs-meta"><span class="hljs-meta"> </span></span><br></code> </pre> <code><a href=""></a> <code>.-    - <b>#popover-1</b> , <b>#modal-1</b> , <b>#modal-2</b> , <b>#popover-2</b> .       ng-if="isFirstPopover()"</code> <u> DOM      </u> . <br> <br>  : <br>    :)     .        .          ,    ,     , ,   .      -    ,     -    ;      .     ,    ,         ,    ;   ng-if   .     .    ,    .       ,        -     enable;      . <a href="https://docs.angularjs.org/api/ng/service/%24compile"></a>     ,   <code>ng-if</code> ,    600;     ,  .  : <code>element.find('[append-to-root]').appendTo($rootElement);</code>     <code>ng-if</code> ,   : <br> <code class="html">&lt;div ng-if="condition"&gt; &lt;my-custom-directive&gt;...&lt;/my-custom-directive&gt; &lt;/div&gt;</code> <br></code> </li></ul></div><p>Source: <a href="https://habr.com/ru/post/225891/">https://habr.com/ru/post/225891/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../225869/index.html">Software 3.0: silent revolution</a></li>
<li><a href="../225871/index.html">Development of gadgets for smartphones: health 2.0 and other topics</a></li>
<li><a href="../225873/index.html">Intel has demonstrated a soaring display</a></li>
<li><a href="../225879/index.html">Jolla has released the update Sailfish 1.0.7.16, and also opened the source code of Sailfish Office</a></li>
<li><a href="../225889/index.html">Toaster. Weekly digest for your tags</a></li>
<li><a href="../225893/index.html">EBay chief says Bitcoin integration is inevitable in PayPal</a></li>
<li><a href="../225895/index.html">Chronicle of space super heavyweight. Part 2. "Park" reusable period</a></li>
<li><a href="../225897/index.html">System for watering plants. How to get to Kickstarter. Step-by-step process</a></li>
<li><a href="../225899/index.html">Pro release zombodavilki on iOS and thoughts about the publishers</a></li>
<li><a href="../225901/index.html">Unsigned arithmetic in Java</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>