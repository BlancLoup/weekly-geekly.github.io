<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>How to develop 1C: ERP (and not only)</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hi, Habr! 
 In one of the previous articles it was described how the process of developing the 1C: Enterprise platform is organized. And today we want...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>How to develop 1C: ERP (and not only)</h1><div class="post__text post__text-html js-mediator-article">  Hi, Habr! <br>  In <a href="http://habrahabr.ru/company/1c/blog/273591/">one of the previous articles it was</a> described how the process of developing the 1C: Enterprise platform is organized.  And today we want to tell you how the application solution 1C, <a href="http://v8.1c.ru/erp/">‚Äú1C: ERP Enterprise Management 2‚Äù</a> , is probably the most functional application solution <a href="http://v8.1c.ru/erp/">1C: 1C: ERP</a> . <br>  ‚Äú1C: ERP Enterprise Management‚Äù is an innovative solution for building integrated information systems for managing the activities of multi-disciplinary enterprises, including those with technically complex multi-production, taking into account the best international and domestic automation practices of large and medium-sized businesses. <br>  Some infographics: <br><img src="https://habrastorage.org/files/433/530/ab9/433530ab97d7446bb4f794472d8635c7.png" alt="image"><br><a name="habracut"></a><br>  More than 900 enterprises have become 1C: ERP users today (March 2016), and their number is growing.  At the same time, several dozens of projects, from the point of view of developers, received the status of ‚Äúpilot‚Äù, i.e.  these enterprises and organizations primarily take an active part in the development of new functionality, promptly providing feedback. <br>  Here are the logos of some 1C users: ERP: <br><img src="https://habrastorage.org/files/5c6/64d/2ad/5c664d2add0940eeb74f9843d1421d0e.png" alt="image"><br>  An interesting feature of the 1C: ERP solution is that we are developing <b>one solution</b> - 1C: ERP - and from its sources we automatically get <b>four solutions</b> (by ‚Äúcutting out‚Äù the functionality and switching the functional options): <br><ol><li>  Actually 1C: ERP.  The most functional solution, ready for implementation for thousands of jobs in medium and large companies. <div class="spoiler">  <b class="spoiler_title">Modules 1C: ERP</b> <div class="spoiler_text"><img src="https://habrastorage.org/files/8b0/540/82a/8b054082a4284770a59d10d461ec6c0b.png" alt="image"><br></div></div><br></li><li>  <a href="http://v8.1c.ru/ka/">1C: Integrated Automation</a> .  Its use will be most effective in the context of the growing business of small and medium-sized enterprises, whose management processes require close coordination and concerted actions of several executives. <div class="spoiler">  <b class="spoiler_title">Read more</b> <div class="spoiler_text">  The ‚ÄúIntegrated Automation‚Äù configuration, edition 2.0 may be of interest to users who have experience with complex configurations on the 1C: Enterprise 7.7 platform, and users who work with separate information bases based on the <a href="http://v8.1c.ru/buhv8/">Enterprise Accounting</a> , <a href="http://v8.1c.ru/trade/">Management of Trade</a> , <a href="http://v8.1c.ru/hrm/">"Salary and personnel management."</a> <br></div></div><br></li><li>  <a href="http://v8.1c.ru/trade/">1C: Trade Management</a> .  Allows the complex to automate the tasks of operational and management accounting, analysis and planning of trade operations, thereby ensuring the effective management of modern trading enterprise. <br></li><li>  <a href="http://v8.1c.ru/tradebase/index.htm">1C: Trade Management.</a>  <a href="http://v8.1c.ru/tradebase/index.htm">Basic version</a> .  The solution for small trade enterprises allows you to keep records on behalf of one organization - a legal entity or an individual entrepreneur.  Configuration changes are not supported, only typical configurations can be used and updates can be installed; only one user can work with one information base at a time, work with the 1C: Enterprise 8 server is not supported.  That is, in fact, the notorious "automation of the stall." <br></li></ol><br>  If you expand your business or increase your automation needs, you can increase the functionality of the system in stages, moving from the ‚ÄúTrade Management‚Äù configuration to the ‚ÄúIntegrated Automation‚Äù configuration and then to ‚ÄúERP Enterprise Management 2‚Äù.  Due to the high degree of unification of solutions, such a transition is performed quickly, the data accumulated in the information database is saved, and user retraining is not required - they continue to work in the usual software and information environment. <br><br><h3>  How to spell 1C: ERP </h3><br><h4>  How do we make four of one solution? </h4><br>  Development is carried out only in one branch (ERP).  The process of forming from the flagship ERP solution more ‚Äúlight‚Äù, functionally limited to Integrated Automation (hereinafter - KA for short) and two types of Trade Administration (hereinafter - UT and UT Basic) is automated. <br>  Changes from ERP to ‚Äúderived‚Äù configurations (KA, UT, UT Basic) are transferred automatically, using the <a href="http://v8.1c.ru/overview/Term_000000291.htm">mechanism of comparison and combination of configurations</a> .  This mechanism was originally intended to automate the process of transition to new versions of application solutions of those users who change / extend the functionality of the application solution on their side.  The mechanism for comparing and merging configurations performs a three-way semantic fusion based on the analysis of three configurations: <br><ul><li>  old vendor configuration </li><li>  new configuration from the supplier </li><li>  current user configuration (old configuration from the supplier plus changes made by the user) </li></ul><br>  At the output we get a new current configuration, which combines the new functionality (introduced by the developer) and saves the customization (modifications) made by the user. <br>  In our case, the current configuration, in turn, is the AC, UT, UT Basic, and the old and new configurations from the supplier ‚Äî the ERP of the old and the new version, respectively.  Those.  we believe that the functionally limited configurations - KA, UT, UT Basic - are customized (mainly by removing unused objects) versions of ERP. <br><img src="https://habrastorage.org/files/d38/29c/a01/d3829ca0169a4fdd9ee11eebeb10697b.png" alt="image"><br>  One of the few objects that are written for each of the solutions manually is <a href="http://v8.1c.ru/overview/Term_000000151.htm">exchange plans</a> that define the rules for integrating this solution with other 1C solutions (for example, with 1C: Document flow) or, for example, with external equipment.  But, thanks to the gradual transition in the exchange of data to a single standard <a href="http://v8.1c.ru/edi/edi_app/enterprisedata/">EnterpriseData</a> , we reduce the number of exchange plans that are unique for a particular solution and try to use a single code for the exchange of data. <br>  In this approach, there is one interesting feature.  The entire solution is written once, in the ERP branch;  but most of the code, forms, scripts, reports, etc.  used in four solutions, and very different - ERP is implemented in enterprises with thousands of users, and UT Basic is designed to serve individual entrepreneurs.  We try to pay a lot of attention to the usability of our product. <br>  The international standard ISO 9241-11 defines usability as: <br><blockquote>  <i>the extent to which a product can be used by <b><u>certain users</u></b> in a particular context of use to achieve certain goals with due efficiency, productivity and satisfaction</i> </blockquote><br>  We try to write the application in such a way that even an inexperienced user can easily and conveniently work with it. <br><br><h4>  Design features </h4><br>  When developing ERP, we must always remember that the developed functionality can be used in one or several ERP-derived solutions (KA, UT, UT Basic).  For easy on / off functionality, we widely use the <a href="http://v8.1c.ru/overview/Term_000000701.htm">mechanism of functional options</a> , originally created for such tasks.  Functional options allow you to select functionality in an application that can be turned on / off during implementation without changing the application itself.  Functional options are solution settings, checkboxes, when turned off, all related functionality becomes inaccessible.  First of all, functional options are used to fine-tune the program to the needs of a specific implementation.  In ERP, we use this mechanism (in addition to its main purpose) to ‚Äúcut out‚Äù ERP derived configurations.  For example, in the ERP solution there is a functional option ‚ÄúEnterprise Management‚Äù, all the functionality that is responsible for production management is associated with it ‚Äî setting up a production schedule, recording production costs, corresponding reports, and much more.  This option is enabled only in the 1C: ERP solution and is disabled in the "derivative" solutions of the AC, UT, UT Basic.  And just 1C: ERP uses about 600 functional options. <br>  Another platform mechanism that facilitates the work of a 1C: ERP developer <a href="http://v8.1c.ru/overview/Term_000000113.htm">subsystem</a> .  Subsystems are a way to break the solution's functionality into blocks;  each object in the solution (directory, document, report, etc.) must be included in at least one subsystem.  In particular, the ERP solution instituted three subsystems that facilitate the construction of ERP-derived solutions: <br><ol><li>  ‚ÄúObjects of UE, UT, KA‚Äù are objects included in all applied solutions: Trade Management, Integrated Automation, Enterprise Management (Russian name ERP). </li><li>  "Objects of UE, KA" - objects related only to the configurations of Integrated Automation and ERP. </li><li>  "UE Objects" - objects related only to the ERP solution </li></ol><br>  Any application object in an ERP solution should ONLY refer to ONE of these three subsystems.  This condition is verified by static analysis of the ERP solution code (see below). 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h4>  Digits after comma </h4><br>  The ERP product version consists of four numbers separated by dots.  For example - 2.1.3.117. <br><br><ul><li>  The first number (edition) in the version changes extremely rarely (for example, the spacecraft 1... and the spacecraft 2... separates almost 8 years). </li><li>  The second number (sub-version) changes approximately once a year.  In the new version version, new functionality is released.  The release of such versions is often timed to the beginning of the calendar year, so that users have enough time to "move" to the new version. </li><li>  In versions with a new third number (release), existing functionality is developed;  A new release comes out about once every two to three months. </li><li>  Versions with an updated fourth number (correctional builds) contain only bug fixes and updates to comply with current legislation.  Come out every two weeks. </li></ul><br>  At the same time, we can have up to 3 product versions in development, for example: <br><br><ol><li>  2.1.3.X - Supported release of the previous version.  Will be issued until the end of 2016.  This version is only a correction of errors and edits to comply with current legislation. </li><li>  2.2.1.X - The current release of the current version.  It has a new sub-versioning functionality.  For him, before the release of release 2.2.2.X, correctional assemblies will be released. </li><li>  2.2.2.X - Development of the functionality of the current sub-version.  This release is actively developed. </li></ol><br><br>  Considering that from each branch of ERP, in addition to ERP, 3 more solutions - KA, UT and UT Basic - get 12 versions of products in 12 different repositories. <br>  During development, we have up to 4 planning horizons, for example: <br><br><ol><li>  2.1.3 (supported), we decide which mistakes are being corrected, which projects related to the change in legislation will be implemented.  Only those changes that will take effect in 2016 will be implemented.  Horizon - until the end of 2016 </li><li>  2.2.1 (supported) - ‚Äúexternal‚Äù errors + changes in legislation are corrected, which come into force before the release 2.2.2.  Horizon - until release 2.2.2. </li><li>  2.2.2 (actively developed) - ‚Äúexternal‚Äù errors are corrected + errors found by us + new functionality is implemented.  Horizon - until release 2.2.3 </li><li>  2.2.3 (planned).  If the project is large, then it can be immediately developed for this version (and will not be included in the previous one).  Horizon - until release 2.2.4 or until the end of 2017. </li></ol><br><br><h4>  Using the product "1C: Application Solutions Design System" in the development of ERP </h4><br>  As already <a href="https://en.wikipedia.org/wiki/Eating_your_own_dog_food">mentioned</a> , we in 1C try to follow the principle of <a href="https://en.wikipedia.org/wiki/Eating_your_own_dog_food">Eat your own dogfood</a> , using our own products in our internal procedures.  In particular, in the development of ERP, we widely use the product <a href="http://v8.1c.ru/model/">"1C: Design System for Applied Solutions"</a> (abbreviated as DSS).  DSS, as the name implies, helps to design application solutions on the 1C: Enterprise platform, and allows you to service the tasks of the complete software development cycle - gathering requirements, controlling changes, documenting, bug tracking, etc. <br>  DSS allows you to create elements of two types - errors (which must be corrected) and requirements (requests for new functionality).  With errors, everything is more or less clear, consider the creation of a new requirement. <br>  The reason for creating a requirement may be: <br><ol><li>  Request from partner or customer.  We collect such requests, in particular, at partner seminars;  by voting among partners, we highlight the most priority of them. </li><li>  A request may arise during a pilot project to introduce a new version if the client had an important wish for him. </li><li>  A request from our technical support service (more precisely, a request from a partner or client that has passed through our technical support), a request from our partner forum or from our account manager (who accompanies an important client / clients). </li><li>  Request from the 1C: Enterprise platform development team.  The platform team asks the ERP development team (and other typical configurations) to use the new platform functionality ‚Äî for example, <a href="https://wonderland.v8.1c.ru/blog/zachem-my-sdelali-interfeys-taksi/">Taxi interface</a> , <a href="https://wonderland.v8.1c.ru/blog/instrumenty-refaktoringa-i-otkaza-ot-modalnosti/">rejection of modal windows</a> , rejection of synchronous calls, etc. </li><li>  Refactoring, optimizing the architecture, improving usability. </li></ol><br><br>  The reason for refactoring (clause 5) can be serious architectural changes (for example, revision of shipment orders, when orders began to be used instead of invoices). <br><br>  Product DSS comes in the ERP (but it can be bought separately).  ERP solution can be launched in the mode of integration with DSS;  in this case, on each form there will be a button ‚ÄúOpen functional model‚Äù, when you click it, a description of the form functionality in the DSS will open. <br><img src="https://habrastorage.org/files/f9e/5f1/ffa/f9e5f1ffadae4b35b41d085e2e40aede.png" alt="image"><br>  This is what opens up - this is a workplace model in <a href="https://ru.wikipedia.org/wiki/IDEF0">IDEF0</a> : <br><img src="https://habrastorage.org/files/4f3/50d/71f/4f350d71fbf345f3b9ad245cf319bc3e.png" alt="image"><br>  It is possible and vice versa - to study the functional model and open the forms of workplaces from it.  This mode can be used when studying the program. <br>  The important point is that the DPR does not open, the form opens inside the ERP where the data from the DSS is loaded.  Those.  seamless integration (the user does not see it).  This technique is used for integration with other products.  For example, from 1: Document flow (you can work without leaving ERP with mail, tasks, business processes that work in another database). <br><br><h4>  How we develop ERP: 6 project control points </h4><br>  So, it was decided to implement a new requirement for changing functionality.  Requirements of the same type are combined into technical projects.  As part of the new ERP release, typically from 100 to 150 technical projects are implemented, each project has from one to several dozen requirements.  Technical project is started in the DSS;  the project during the implementation passes through 6 control points, each of them is fixed in the DSS. <br>  A little about the division into teams within the ERP unit.  The team leader (team lead) participates in the design and, as a rule, participates in the development.  The team also usually includes testers.  Development teams are static, assigned to them in several subject areas.  If the project involves adjacent areas, participants of the relevant team are involved in the project.  The project may not be involved the whole team. <br>  The person responsible for the project is the lead developer or team lead.  It is his responsibility to control the processes: <br><ul><li>  High-quality design, accounting for various scenarios, pairing with adjacent blocks </li><li>  Timing </li><li>  Quality of architecture, user interface </li><li>  Writing a certificate, design of the project, including  development of a functional model </li></ul><br><br><h5>  Point 1. Opening project </h5><br>  Tim-lead gets technical projects in the DSS list for release.  In each project, the goals are signed, the requirements are implemented.  The list before starting work on the release is discussed with the development manager.  Actually, when the project is opened, the meetings are not held - just the project in the DSS is sent to the opening. <br>  The project team is starting to develop a concept. <br><br><h5>  Point 2. Coordination of the concept </h5><br>  To agree on a concept, an online or offline meeting is held, in which the project leader, team lead, development manager, and specialists involved in the project participate.  Usually, a ‚Äúlarge-block‚Äù concept is prepared for this stage by the project manager, who is being polished during the meeting.  Also discussed (and prescribed in the DSS) scenarios, description of the user interface.  If the requirement was born from a request from partners or clients, the project materials (concepts, scenarios, UI) can be sent to the partner / client to evaluate the solution. <br>  In the course of the meeting, the complexity of creating a prototype is consistent (usually creating a prototype takes up to 5 working days).  The team starts to create a prototype. <br><br><h5>  Point 3. Approval of prototypes </h5><br>  A meeting is held, during which ready prototypes are considered, implementation details are discussed (in particular, which objects will be added and changed), hypotheses are tested, form prototypes are approved, etc.  In order to test as much as possible for usability, prototypes are launched in the ‚Äúhard‚Äù mode itself - in the web client, in the ‚ÄúTaxi‚Äù interface, on low-resolution monitors. <br>  The functional model of the project in IDEF0 notation is developed and stored in the DSS. <br>  At this stage, the project team should as accurately as possible assess the labor costs for the project, therefore all aspects of the project are discussed (and documented in the DSS): <br><ul><li>  Approval of the correctness of the project description in the DSS (in particular, it is monitored that all tasks at the previous control points of the project have been completed). </li><li>  What new metadata objects (directories, documents, etc.) will be added to the solution? </li><li>  What changes will be made in already existing metadata objects </li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Coordination of data exchange plans with other solutions (will new / modified data be involved in data exchange with other applications, and if so, how) </font></font></li></ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">If everyone is happy with the labor costs, a presentation is held (based on the project materials from the DSS) of everything that was done on the project, in order to identify as many nuances as possible before the start of development. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">And the development begins!</font></font><br><br><h5><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Point 4. Coordination of the developed solution </font></font></h5><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">The solution has been developed, a presentation has been prepared (in PowerPoint format). </font><font style="vertical-align: inherit;">An in-person meeting is often held with a ‚Äúlive‚Äù demonstration of the developed solution. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">If the project is public (published in the list of plans available to partners on the 1C website), then the presentation is laid out in the partner forum in the ERP section, so that all interested partners can read and comment.</font></font><br><br><h5><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Point 5. Testing and project audit </font></font></h5><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">At the end of the main development, manual functional tests are run. Testers as full-fledged members of the team participate in all control points of the project and have an understanding of the functionality of the project and work scenarios. Testers also evaluate new functionality for compliance with our usability standards. These standards (include coding standards and interface development standards) are published in an accessible resource for partners and registered users on the 1C website. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">The project code is </font></font><a href="https://ru.wikipedia.org/wiki/%25D0%259F%25D1%2580%25D0%25BE%25D1%2581%25D0%25BC%25D0%25BE%25D1%2582%25D1%2580_%25D0%25BA%25D0%25BE%25D0%25B4%25D0%25B0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">code reviewed.</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. Code review in ERP is carried out by members of another project team; code review is a responsibility that all ERP team developers take on in turn. If problems are found in the code, errors are recorded in the DSS, which must be corrected before passing point 5. The </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">update is checked for a new version from the previous one (the most recent release released at the moment). </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">So, the project is ready, the tests are completed, time to upload the code to the main repository (before this, all development is carried out in a separate repository of the technical project). At this stage, the writing of reference materials on new functionality also ends (the certificate is stored in the DSS).</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">At the end of the stage (tests passed and reference materials are ready) the project is poured into the main repository; </font><font style="vertical-align: inherit;">after that, selective regression testing is carried out in adjacent areas - we must make sure that we have not broken anything of the existing functionality.</font></font><br><br><h5><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Point 6. End of the project </font></font></h5><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> We close the project in the DSS - assign the status ‚ÄúCompleted‚Äù to it. </font></font><br><br><h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Release Version </font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">About a month before the release of a new release, a moratorium is imposed on pouring new projects into the main repository (development in the repositories of technical projects continues); </font><font style="vertical-align: inherit;">those projects that did not have time to end by this time are transferred to another version. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">During this month, regression testing is conducted; </font><font style="vertical-align: inherit;">it is allowed to make changes to the code only to correct the errors introduced in this release. </font><font style="vertical-align: inherit;">Unprovoked errors (those that were reproduced in previous releases), almost all were fixed by the beginning of regression testing; </font><font style="vertical-align: inherit;">the same errors that remain are carried over to the next release. </font><font style="vertical-align: inherit;">The main objective of regression testing is to ensure the product does not deteriorate. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">As already mentioned, the same DSS is used as a bug tracker.</font></font><br><br><h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Correctional assembly </font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Every two weeks we release correctional assemblies to versions; </font><font style="vertical-align: inherit;">today it is 2.1.3.x, after the release of release 2.2.1 2 corrective assemblies will be released - 2.1.3.x and 2.2.1.. </font><font style="vertical-align: inherit;">From the registration of the error to its appearance in the correctional release, we have less than two weeks; </font><font style="vertical-align: inherit;">Our statistics show that the average time from client's request for an error in ERP in support until the release of its correction in the correctional assembly for today is 9 days.</font></font><br><br><h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Branched development </font></font></h4><br><img src="https://habrastorage.org/files/a0b/bb4/3de/a0bbb43deb5c49a98788ac0048065413.png" alt="image"><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">In group work on ERP, we try to use the tools provided by the 1C: Enterprise platform. Configurations are stored in </font></font><a href="http://v8.1c.ru/overview/Term_000000603.htm"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">the configuration repository</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , with the checkin of new functionality in branches, the standard </font></font><a href="http://v8.1c.ru/overview/Term_000000290.htm"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">delivery and support</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> mechanism is used </font><font style="vertical-align: inherit;">. All operations are automated to the maximum; if the objects changed only on the developer‚Äôs side, the code is merged without the participation of the programmer. If integrating a source requires developer intervention, we usually use the built-in capabilities of the platform. But there is also the possibility of </font></font><a href="http://v8.1c.ru/o7/201404merge/index.htm"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">calling third-party</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> comparison / merging tools from platform tools (for example, </font></font><a href="http://kdiff3.sourceforge.net/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">KDiff3</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> or </font></font><a href="http://www.araxis.com/merge/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Araxis</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">). </font><font style="vertical-align: inherit;">By the way, this feature - calling third-party comparison / merging tools - was added to the platform by the request of the ERP development team.</font></font><br><br><h4>  miscellanea </h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">When developing new functionality, we use the version of the platform that will be available at the time of the release of the new version of ERP (today it is platform 8.3.8). </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">This is possible due to the fact that the platform is actively used to maintain compatibility with previous versions. </font><font style="vertical-align: inherit;">As soon as a new platform appears, we are switching to it, but disconnection of the compatibility mode does not happen immediately. </font><font style="vertical-align: inherit;">This is due to three reasons:</font></font><br><ol><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> We want to ‚Äúshock‚Äù users less, so we try to do shutdown of the compatibility mode during ‚Äúquiet‚Äù periods, and not when all users, for example, submit reports. </font></font></li><li>         .   ,     . </li><li> ERP ‚Äì  ,        10 .     ,      . </li></ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">You can write about libraries separately. </font><font style="vertical-align: inherit;">A library is a specially written configuration that includes functionality that should work in the same way in our various final solutions. </font><font style="vertical-align: inherit;">The integration of libraries is carried out using the already mentioned mechanism of the platform ‚ÄúDelivery of configurations‚Äù. </font><font style="vertical-align: inherit;">Libraries are divided into published (those that we publish, and which third-party developers can use in their application solutions) and internal (which we do not publish separately - only as part of application solutions). </font><font style="vertical-align: inherit;">An overwhelming number of libraries are published. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">The ERP includes 10 libraries developed by other teams. </font><font style="vertical-align: inherit;">Their code does not change the developers of the ERP team.</font></font><br><div class="spoiler">  <b class="spoiler_title">Library list</b> <div class="spoiler_text"><ol><li> <a href="http://v8.1c.ru/libraries/ssl/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Library of standard subsystems</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Basic functionality - access rights, printing, mail, etc. </font><font style="vertical-align: inherit;">Included in most application solutions.</font></font><br></li><li> <a href="http://v8.1c.ru/edi/edi_app/1c-otchetnost/index.htm"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Regulated Reporting Library</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Reporting to the fiscal authorities, filing reports electronically</font></font><br></li><li> <a href="http://v8.1c.ru/libraries/cel/index.htm"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Library of the connected equipment</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Drivers for working with various equipment: barcode scanners, fiscal recorders, scales, etc.</font></font><br></li><li> <a href="http://v8.1c.ru/fresh/">  </a> . <br>  ,     (..   ¬´¬ª)    <br></li><li> <a href="http://v8.1c.ru/doc8/integrate.htm">   1:</a> . <br>    1::  -,   ,   ,   ..     ERP. <br></li><li>  ¬´  ¬ª () <br>  ,   ,   .  <a href="http://v8.1c.ru/hrm/">1:   </a>  ERP <br></li><li>  - . <br>    ,   . ,     <br></li><li> <a href="http://v8.1c.ru/libraries/led/index.htm">  </a> . <br>      ( .. <a href="http://www.v8.1c.ru/edi/edi_app/1c-taxcom/"> </a> ), <a href="http://www.v8.1c.ru/edi/edi_app/bank/">DirectBank</a> (   ), <a href="http://v8.1c.ru/edi/edi_stnd/131/">  </a> (CMS). </li><li>    . <br>   <a href="https://ru.wikipedia.org/wiki/%25D0%2595%25D0%2593%25D0%2590%25D0%2598%25D0%25A1">    </a>       . </li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Regulated accounting library. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"Slice" </font></font><a href="http://v8.1c.ru/buhv8/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1C: Accounting</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ERP. </font><font style="vertical-align: inherit;">In general, regulated accounting in ERP in the methodological part (with some small exceptions) is similar to 1C: Accounting, but its implementation is different and is done independently. </font><font style="vertical-align: inherit;">From 1: Accounting we take accounting reports and statements for some taxes.</font></font><br></li></ol><br></div></div><br><br><h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> How we test 1C: ERP </font></font></h3><br><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">After the creation of three solutions from ERP - Spacecraft, UT, UT Basic - to verify the correctness of all four solutions, we conduct a </font></font><a href="https://ru.wikipedia.org/wiki/%25D0%25A1%25D1%2582%25D0%25B0%25D1%2582%25D0%25B8%25D1%2587%25D0%25B5%25D1%2581%25D0%25BA%25D0%25B8%25D0%25B9_%25D0%25B0%25D0%25BD%25D0%25B0%25D0%25BB%25D0%25B8%25D0%25B7_%25D0%25BA%25D0%25BE%25D0%25B4%25D0%25B0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">static</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> and </font></font><a href="https://ru.wikipedia.org/wiki/%25D0%2594%25D0%25B8%25D0%25BD%25D0%25B0%25D0%25BC%25D0%25B8%25D1%2587%25D0%25B5%25D1%2581%25D0%25BA%25D0%25B8%25D0%25B9_%25D0%25B0%25D0%25BD%25D0%25B0%25D0%25BB%25D0%25B8%25D0%25B7_%25D0%25BA%25D0%25BE%25D0%25B4%25D0%25B0"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dynamic</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> analysis of the resulting configurations. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Partial static analysis is carried out each time after the configuration of the spacecraft, UT, UT baseline is created from the ERP repository and poured into its own repositories (this process takes place twice a day). </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A more detailed static analysis is done using the configuration of </font></font><a href="http://v8.1c.ru/acc/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1C: Automatic Configuration Check</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (1C: APK). </font><font style="vertical-align: inherit;">In particular, 1C: APC checks:</font></font><br><ul><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">The composition of roles. </font><font style="vertical-align: inherit;">For example, it is verified that the read permissions of all constants are included in the role ‚ÄúBasic rights‚Äù.</font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Compliance with accepted standards. </font><font style="vertical-align: inherit;">For a large number of application development standards (of which we have several hundred), code analysis procedures have been written for compliance. </font><font style="vertical-align: inherit;">For example, that full joins are not used in queries, or that the strings that are displayed in the interface are correctly localized.</font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Specific checks related to the features of ERP development. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">For example, checking that each application object is included only in one of the Subsystems UT, KA, UE, KA, UE or UE Objects</font></font></li></ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dynamic code analysis includes, in particular, </font></font><a href="https://ru.wikipedia.org/wiki/%25D0%25A0%25D0%25B5%25D0%25B3%25D1%2580%25D0%25B5%25D1%2581%25D1%2581%25D0%25B8%25D0%25BE%25D0%25BD%25D0%25BD%25D0%25BE%25D0%25B5_%25D1%2582%25D0%25B5%25D1%2581%25D1%2582%25D0%25B8%25D1%2580%25D0%25BE%25D0%25B2%25D0%25B0%25D0%25BD%25D0%25B8%25D0%25B5"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">regression testing</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , in which the following operations are run (and the results of operations are compared with the last previous successful testing):</font></font><br><ul><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Discovery of all forms </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Data exchange with other application solutions (for example, from 1C: Enterprise Accounting) </font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">The reflection of the documents held in the account. </font><font style="vertical-align: inherit;">It is checked that after the document is held in the reference database, the result of its reflection in the account has not changed.</font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> And etc. </font></font></li></ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">For regression testing, we use from 10 to 20 databases, of various sizes (from 15 GB to 70 GB) and different specifics of filling. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">On the same bases, we are testing the update to the new version from the previous one, in order to make sure that the update passes a) correctly and b) in a reasonable time. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">When updating the database 1C there are two significant steps:</font></font><br><ol><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Basic time - updating data in multi-user mode. </font><font style="vertical-align: inherit;">The application solution prepares data for updating in the background, users can continue to work with the system, but the system performance can be reduced and some functions can work limitedly. </font><font style="vertical-align: inherit;">Usually update to a new version is carried out on the weekend (when user activity is minimal).</font></font></li><li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Minimum time - update in exclusive mode. </font><font style="vertical-align: inherit;">When all data is prepared in the background, it is time to change the database structure. </font><font style="vertical-align: inherit;">For this, the database is translated into exclusive mode when users cannot work with the system. </font><font style="vertical-align: inherit;">Update speed is extremely important for our users.</font></font></li></ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> In the near future, we are expanding the auto-testing zone in order to cover the maximum number of scenarios. </font></font><br><br><h3>  Conclusion </h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ERP is one of our largest products. </font><font style="vertical-align: inherit;">We try to use modern and advanced techniques in its development, as well as to create new techniques and tools, on the one hand, to develop it quickly, and on the other hand, to provide a high quality of the developed solution.</font></font></div><p>Source: <a href="https://habr.com/ru/post/280394/">https://habr.com/ru/post/280394/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../280382/index.html">Yii framework code parsing</a></li>
<li><a href="../280384/index.html">Million files and one laptop</a></li>
<li><a href="../280386/index.html">Flume - manage data streams. Part 1</a></li>
<li><a href="../280388/index.html">Understanding multithreading in RxJava</a></li>
<li><a href="../280390/index.html">SaaS solutions to protect any device anywhere: why it‚Äôs simpler and cheaper + implementation example</a></li>
<li><a href="../280396/index.html">About type conversion in arithmetic expressions in C ++ and C #</a></li>
<li><a href="../280400/index.html">Playtests: fears and opportunities</a></li>
<li><a href="../280402/index.html">Installing Bitrix24 on IIS server using MSSQL and AD</a></li>
<li><a href="../280404/index.html">Some features of development for Ubuntu Touch</a></li>
<li><a href="../280406/index.html">Public interviews on the position of a web developer live</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>