<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Javascript Classes: Calling Parent Class Methods</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="JavaScript is a very dynamic language, it has the ability to change the language for yourself and create convenient tools for further work. ‚ÄúImplement...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Javascript Classes: Calling Parent Class Methods</h1><div class="post__text post__text-html js-mediator-article">  JavaScript is a very dynamic language, it has the ability to change the language for yourself and create convenient tools for further work.  ‚ÄúImplementing classic inheritance‚Äù is just one of these tools.  At the moment I can‚Äôt imagine how I would program in JS without ‚Äúclasses‚Äù. <br><br>  For me, ‚ÄúClasses‚Äù is rather an approach to the design and implementation of the task.  In our new project, such an approach is used in full (and I think that it is 100% justified). <br><a name="habracut"></a><img src="https://habrastorage.org/getpro/habr/post_images/7e6/818/dc0/7e6818dc0a8ef54f6695b8cb7537cbcc.gif"><blockquote>  <i>This article is written as an attachment to my other article <a href="http://habrahabr.ru/blogs/webdev/40908/">‚ÄúComponents in Unobtrusive JavaScript‚Äù</a> (although, in principle, it can act as an independent text).</i> </blockquote><br>  At the moment there is a sea of ‚Äã‚Äãimplementations of "Classes in JS". <br>  I would <a href="http://dean.edwards.name/weblog/2006/03/base/">single</a> out two of them: these are implementations in <a href="http://prototypejs.org/learn/class-inheritance">Prototype.js</a> and in <a href="http://dean.edwards.name/weblog/2006/03/base/">Base2</a> .  In both methods, you cannot call the ‚Äúother‚Äù method of the parent class (ie, you cannot call parent :: A from this.B function) - I think this is a significant drawback: it happens that you cannot perform the task without changing the approach itself. <br><br>  In my implementation of ‚ÄúClassic inheritance in Javascript‚Äù I used a slightly ‚Äúdifferent‚Äù syntax: <br><blockquote><code><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="black"><font color="#008000">//   myMethod  </font> <br> <font color="#0000ff">this</font> .myMethod.__parent(param1);</font> <br> <br> <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></code> </blockquote>  To implement such a design, you may have had to sacrifice a little bit of performance: not all Class methods are in the prototype of the initializer function.  But I know that there are much more advantages from using the approach. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      I conditionally divided the class methods into two types: <br><ol><li>  The usual methods.  They are stored in the prototype of the constructor function. </li><li>  "Virtual" methods.  Such methods, for example, __ constructor and __destructor, require the ability to call methods of the parent class.  They are not stored in the prototype.  And in thisObj fall into the function-initializer of the object. </li></ol>  Here is an example of class descriptions: <br><blockquote> <code><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="black">JooS.Class = JooS.Reflect( <font color="#0000ff">null</font> , { <br> __common: <font color="#0000ff">new</font> Object(), <br> <br> __destroy: <font color="#0000ff">function</font> () { <br> arguments.length ? <font color="#0000ff">this</font> .__destructor.apply( <font color="#0000ff">this</font> , arguments) : <font color="#0000ff">this</font> .__destructor(); <br> }, <br> __constructor: <font color="#0000ff">function</font> () { <br> alert( <font color="#A31515">"JooS.Class::__constructor"</font> ); <br> }, <br> __destructor: <font color="#0000ff">function</font> () { <br> alert( <font color="#A31515">"JooS.Class::__destructor"</font> ); <br> } <br> }); <br> <br> <br> <font color="#0000ff">var</font> Class1 = JooS.Reflect(JooS.Class, { <br> myFunction: <font color="#0000ff">function</font> () { <br> <font color="#0000ff">this</font> .__constructor.__parent(); <br> }, <br> <br> __constructor: <font color="#0000ff">function</font> () { <br> alert( <font color="#A31515">"Class1::__constructor"</font> ); <br> <font color="#0000ff">this</font> .myFunction(); <br> }, <br> __destructor: <font color="#0000ff">function</font> () { <br> alert( <font color="#A31515">"Class1::__destructor"</font> ); <br> <font color="#0000ff">this</font> .__destructor.__parent(); <br> } <br> }); <br> <br> <font color="#0000ff">var</font> Obj1 = <font color="#0000ff">new</font> Class1(); <font color="#008000">//  </font> <br> Obj1.__destroy(); <font color="#008000">//    </font> <br> delete Obj1; <font color="#008000">//  </font> <br></font> <br> <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></code> </blockquote> <br>  Must pop 4 alert in order: <ol><li>  "Class1 :: __ constructor" </li><li>  "JooS.Class :: __ constructor" </li><li>  "Class1 :: __ destructor" </li><li>  "JooS.Class :: __ destructor" </li></ol>  And here is the code that allows you to implement "other" inheritance: <br><blockquote> <code><a href="http://virtser.net/blog/post/source-code-highlighter.aspx"></a> <font color="black"><font color="#0000ff">var</font> JooS = { <br> Reflect: ( <font color="#0000ff">function</font> (F) { <br> <font color="#0000ff">return</font> <font color="#0000ff">function</font> (source, methods) { <br> <font color="#0000ff">if</font> (!methods) <br> methods = { }; <br> <font color="#0000ff">if</font> (source) { <br> <font color="#0000ff">if</font> (!source.prototype.__constructor) <br> source.prototype.__constructor = source; <br> F.prototype = source.prototype; <br> } <br> <font color="#0000ff">else</font> <br> F.prototype = { constructor: source = F }; <br> <br> <font color="#0000ff">var</font> c; <br> <font color="#0000ff">if</font> (methods.__constructor) { <br> F.prototype = <font color="#0000ff">new</font> F; <br> c = <font color="#0000ff">this</font> .Virtual(F, { __constructor: methods.__constructor }).prototype.__constructor; <br> c.prototype = <font color="#0000ff">new</font> F; <br> delete methods.__constructor; <br> } <br> <font color="#0000ff">else</font> { <br> c = <font color="#0000ff">function</font> () { <br> <font color="#0000ff">if</font> ( <font color="#0000ff">this</font> .__constructor) <br> <font color="#0000ff">this</font> .__constructor.apply( <font color="#0000ff">this</font> , arguments); <br> }; <br> c.prototype = <font color="#0000ff">new</font> F; <br> } <br> c.constructor = source; <br> <br> <font color="#0000ff">return</font> c.prototype.constructor = <font color="#0000ff">this</font> .Virtual(c, methods); <br> } <br> })( <font color="#0000ff">new</font> Function), <br> <br> Virtual: ( <font color="#0000ff">function</font> (hidden) { <br> <font color="#0000ff">var</font> __index = 1; <br> <br> <font color="#0000ff">var</font> __extend = <font color="#0000ff">function</font> (constructor, name, __self) { <br> <font color="#0000ff">var</font> __parent = constructor.prototype[name], method; <br> <font color="#0000ff">if</font> ( <font color="#0000ff">typeof</font> __self == <font color="#A31515">"function"</font> ) { <br> <font color="#0000ff">var</font> __selfName = __self.__name = name + <font color="#A31515">"::"</font> + __index++; <br> constructor.prototype[__selfName] = __self; <br> <br> <font color="#0000ff">if</font> (__parent &amp;&amp; <font color="#0000ff">typeof</font> __parent == <font color="#A31515">"function"</font> ) { <br> <font color="#0000ff">var</font> __thisObj, __originalParent = __self.__parent = __parent.__self || __parent; <br> <br> method = <font color="#0000ff">function</font> (a1, a2, a3) { <br> __thisObj = <font color="#0000ff">this</font> ; <br> __parent = __originalParent; <br> <br> <font color="#0000ff">switch</font> (arguments.length) { <font color="#008000">// I'm cheater. Almost...</font> <br> <font color="#0000ff">case</font> 0: <font color="#0000ff">return</font> <font color="#0000ff">this</font> [__selfName](); <br> <font color="#0000ff">case</font> 1: <font color="#0000ff">return</font> <font color="#0000ff">this</font> [__selfName](a1); <br> <font color="#0000ff">case</font> 2: <font color="#0000ff">return</font> <font color="#0000ff">this</font> [__selfName](a1, a2); <br> <font color="#0000ff">case</font> 3: <font color="#0000ff">return</font> <font color="#0000ff">this</font> [__selfName](a1, a2, a3); <br> <font color="#0000ff">default</font> : <font color="#0000ff">return</font> __self.apply( <font color="#0000ff">this</font> , arguments); <br> } <br> }; <br> <br> method.__parent = <font color="#0000ff">function</font> (a1, a2, a3) { <br> <font color="#0000ff">var</font> o = __parent, r; <br> <br> __parent = o.__parent; <br> <font color="#0000ff">switch</font> (arguments.length) { <br> <font color="#0000ff">case</font> 0: r = __thisObj[o.__name](); <font color="#0000ff">break</font> ; <br> <font color="#0000ff">case</font> 1: r = __thisObj[o.__name](a1); <font color="#0000ff">break</font> ; <br> <font color="#0000ff">case</font> 2: r = __thisObj[o.__name](a1, a2); <font color="#0000ff">break</font> ; <br> <font color="#0000ff">case</font> 3: r = __thisObj[o.__name](a1, a2, a3); <font color="#0000ff">break</font> ; <br> <font color="#0000ff">default</font> : r = o.apply(__thisObj, arguments); <br> } <br> __parent = o; <br> <br> <font color="#0000ff">return</font> r; <br> }; <br> <br> method.__self = __self; <br> } <br> } <br> <br> constructor.prototype[name] = method || __self; <br> }; <br> <br> <font color="#0000ff">for</font> ( <font color="#0000ff">var</font> IE = <font color="#A31515">"IE"</font> <font color="#0000ff">in</font> { toString: IE }) <br> hidden = <font color="#0000ff">false</font> ; <br> <br> <font color="#0000ff">return</font> <font color="#0000ff">function</font> (constructor, methods) { <br> <font color="#0000ff">for</font> ( <font color="#0000ff">var</font> name <font color="#0000ff">in</font> methods) <br> __extend(constructor, name, methods[name]); <br> <br> <font color="#0000ff">if</font> (hidden) <font color="#008000">// thanks to Andrea Giammarchi</font> <br> <font color="#0000ff">for</font> ( <font color="#0000ff">var</font> i=0; i&lt;hidden.length, name = hidden[i]; i++) <br> <font color="#0000ff">if</font> (methods.hasOwnProperty(name)) <br> __extend(constructor, name, methods[name]); <br> <br> <font color="#0000ff">return</font> constructor; <br> }; <br> })([ <font color="#A31515">"hasOwnProperty"</font> , <font color="#A31515">"isPrototypeOf"</font> , <font color="#A31515">"propertyIsEnumerable"</font> , <font color="#A31515">"toLocaleString"</font> , <font color="#A31515">"toString"</font> , <font color="#A31515">"valueOf"</font> ]), <br> <br> Mixin: <font color="#0000ff">function</font> (destination, source) { <br> <font color="#0000ff">for</font> ( <font color="#0000ff">var</font> i <font color="#0000ff">in</font> source.prototype) <br> <font color="#0000ff">if</font> (!destination.prototype[i] &amp;&amp; i != <font color="#A31515">"constructor"</font> ) <br> destination.prototype[i] = source.prototype[i]; <br> }, <br> Clone: ( <font color="#0000ff">function</font> (F) { <br> <font color="#0000ff">return</font> <font color="#0000ff">function</font> (Obj) { <br> F.prototype = Obj || { }; <br> <font color="#0000ff">return</font> <font color="#0000ff">new</font> F(); <br> }; <br> })( <font color="#0000ff">new</font> Function), <br> <br> Extend: <font color="#0000ff">function</font> (destination, source) { <br> <font color="#0000ff">for</font> ( <font color="#0000ff">var</font> i <font color="#0000ff">in</font> source) <br> destination[i] = source[i]; <br> <font color="#0000ff">return</font> destination; <br> } <br> }; <br></font> <br> <font color="gray">* This source code was highlighted with <font color="gray">Source Code Highlighter</font> .</font></code> </blockquote> </div><p>Source: <a href="https://habr.com/ru/post/40909/">https://habr.com/ru/post/40909/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../40903/index.html">Esquire E-Ink opened (rude: with fire and knives)</a></li>
<li><a href="../40904/index.html">ABAT</a></li>
<li><a href="../40905/index.html">Borrow a domain name for me is</a></li>
<li><a href="../40907/index.html">Rss grabber for DLE zhzhot</a></li>
<li><a href="../40908/index.html">Components in Unobtrusive JavaScript</a></li>
<li><a href="../40910/index.html">Questions to Vladimir Dolgov</a></li>
<li><a href="../40911/index.html">Packard Bell Laptops Came To Russia</a></li>
<li><a href="../40913/index.html">List of requirements for Ruby on Rails application code</a></li>
<li><a href="../40914/index.html">September's best startups</a></li>
<li><a href="../40915/index.html">The group "Lyapis Trubetskoy" posted their new album "Manifesto" for free on the Net - "a powerful crossover from ska-punk and californian wave"</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>