<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>AJAX Integration in ASP.NET MVC 4</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Probably, there is no longer a web developer who has not heard of Ajax. Microsoft in this situation can not stay away, with each release trying to mak...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>AJAX Integration in ASP.NET MVC 4</h1><div class="post__text post__text-html js-mediator-article"> Probably, there is no longer a web developer who has not heard of Ajax.  Microsoft in this situation can not stay away, with each release trying to make life easier for us, ASP.NET MVC developers.  But before I continue the article, I digress a little from the topic. <br><br>  When I met the MVC framework, it was then only in the second version and, faced with such helpers as <code>@Ajax....</code> , frankly, their implementation on the client side did not impress me.  No, no, I thought to myself, I have jQuery with my <code>$.ajax</code> , for my eyes.  So I forgot about them for several years, to my great regret having missed the moment with the third release.  That was, that was.  Fortunately, I took the mind and read two books on MVC 4. Next, I‚Äôll tell you how you can shorten the writing of lines of code thanks to the helpers I mentioned above. <br><br>  To begin with, MVC can work with two variants of Ajax libraries (of course, I mean from the box, nothing more) - jQuery and Microsoft Ajax.  To know for which adapter to create markup, there is a setting in the <code>web.config</code> <code>UnobtrusiveJavaScriptEnabled</code> and the corresponding value <code>true</code> (for working with jQuery) and f <code>alse</code> (for working with Microsoft Ajax).  If we need to change the value for only one view, we can use the method - <code>@{Html.EnableUnobtrusiveJavaScript(bool);}</code> .  I want to note that this setting affects the formation of validation data on the client side. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <a name="habracut"></a><br>  Depending on what option you prefer, you need to connect the appropriate adapter.  For Microsoft Ajax <br><br><pre> <code class="html hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">src</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"~/Scripts/MicrosoftAjax.js"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"text/javascript"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="undefined"></span><span class="hljs-tag"><span class="undefined"></span><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">src</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"~/Scripts/MicrosoftMvcAjax.js"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"text/javascript"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="undefined"></span><span class="hljs-tag"><span class="undefined"></span><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br>  , a for jQuery <br><br><pre> <code class="html hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">src</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"~/Scripts/jquery.unobtrusive-ajax.min.js"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"text/javascript"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="undefined"></span><span class="hljs-tag"><span class="undefined"></span><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br>  As I wrote above, the jQuery version suits me perfectly.  Therefore, I will follow the path of unobtrusive JavaScript (i.e. <code>web.config</code> with <code>/&gt;</code> ), and start with the simplest. <br><br><h4>  ActionLink </h4><br>  Consider this task.  There is a reference when we click on which we want to update the contents of the container.  What I did before. <br><br>  Slice of action method <br><br><pre> <code class="cs hljs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> ActionResult </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Index</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (Request.IsAjaxRequest()) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> PartialView(<span class="hljs-string"><span class="hljs-string">"_IndexPartial"</span></span>); <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> View(); }</code> </pre><br>  <code>Index</code> presentation <br><br><pre> <code class="html hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"text/javascript"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="javascript"><span class="javascript"> jQuery(</span><span class="hljs-function"><span class="hljs-keyword"><span class="javascript"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span></span><span class="javascript"><span class="hljs-function">(</span></span><span class="hljs-params"><span class="javascript"><span class="hljs-function"><span class="hljs-params">$</span></span></span></span><span class="javascript"><span class="hljs-function">) </span></span></span><span class="javascript">{ $(</span><span class="hljs-string"><span class="javascript"><span class="hljs-string">'#update-container'</span></span></span><span class="javascript">).click(</span><span class="hljs-function"><span class="hljs-keyword"><span class="javascript"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span></span><span class="javascript"><span class="hljs-function">(</span></span><span class="hljs-params"><span class="javascript"><span class="hljs-function"><span class="hljs-params">e</span></span></span></span><span class="javascript"><span class="hljs-function">) </span></span></span><span class="javascript">{ e.preventDefault(); $.ajax({ </span><span class="hljs-attr"><span class="javascript"><span class="hljs-attr">url</span></span></span><span class="javascript">: </span><span class="hljs-string"><span class="javascript"><span class="hljs-string">'@Url.Action("Index", "Home")'</span></span></span><span class="javascript">, </span><span class="hljs-attr"><span class="javascript"><span class="hljs-attr">success</span></span></span><span class="javascript">: </span><span class="hljs-function"><span class="hljs-keyword"><span class="javascript"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span></span><span class="javascript"><span class="hljs-function">(</span></span><span class="hljs-params"><span class="javascript"><span class="hljs-function"><span class="hljs-params">data</span></span></span></span><span class="javascript"><span class="hljs-function">) </span></span></span><span class="javascript">{ $(</span><span class="hljs-string"><span class="javascript"><span class="hljs-string">'#container'</span></span></span><span class="javascript">).html(data); } }); }) }) </span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">id</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"container"</span></span></span><span class="hljs-tag">&gt;</span></span> @Html.Partial("_IndexPartial") <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> @Html.ActionLink(" ", "Index", "Home", new {}, new {id = "update-container"})</code> </pre><br>  <code>_IndexPartial</code> partial view <br><br><pre> <code class="html hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span>     <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br>  Most familiar with a helper method like <code>Html. ActionLink(...)</code>  <code>Html. ActionLink(...)</code> presented above.  It would seem that there are not many lines of code in principle, and I‚Äôm used to programming this way, so everything is in order, but I‚Äôm a very lazy programmer and am fighting for cleanliness and code reduction to the best of my ability.  Therefore, I would be pleased to reduce the presentation from 22 lines to 5. And <code>Ajax.ActionLink(...)</code> comes to my <code>Ajax.ActionLink(...)</code> (of course, skeptics may say that instead of <code>$.ajax</code> you could use <code>.load</code> or <code>$.get</code> , but essentially it does not change, we have reduced the idea, which sometimes begins to swell with us) <br><br>  Voila, <code>Index</code> presentation <br><br><pre> <code class="html hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">id</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"container"</span></span></span><span class="hljs-tag">&gt;</span></span> @Html.Partial("_IndexPartial") <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">div</span></span></span><span class="hljs-tag">&gt;</span></span> @Ajax.ActionLink(" ", "Index", "Home", new {}, new AjaxOptions{UpdateTargetId = "container"}, new {id = "update-container"}) //id     ,    </code> </pre><br>  The difference between the two extended methods <code>Html.ActionLink</code> and <code>Ajax.ActionLink</code> consists of only one parameter, the <code>AjaxOptions</code> object.  Let's talk about it and talk. <br><br><h4>  AjaxOptions </h4><br><img src="https://habrastorage.org/storage2/028/668/d4a/028668d4a01b0ae9d35ce87511adf676.png"><br><br>  As you can see, there are not many properties in principle; on the other hand, this is good when they start to create a silver bullet, be it an object or a library, it simply becomes not likely cumbersome and inoperable. <br><br>  Which of the properties for what is responsible, I can not say better MSDN. <br><br><img src="https://habrastorage.org/storage2/8b1/39d/797/8b139d7974a316a5510ee1175368dfa2.png"><br><br>  Let's go over the properties: <br><br>  <code>Confirm</code> is an analogue of javascript <code>confirm(...)</code> <br><br>  <code>HttpMethod</code> is of the <code>string</code> type, the most interesting thing is that MS forced it to be limited to only 2 methods, I wondered why, and apparently the algorithm is such that everything is not <code>GET</code> , <code>null</code> or an empty string after <code>.Trim()</code> is all <code>POST</code> <br><br>  <code>InsertionMode</code> - an enumeration with the values ‚Äã‚Äã" <code>InsertAfter</code> " (insert at the end of the container), " <code>InsertBefore</code> " (insert at the beginning of the container) or " <code>Replace</code> " (replace the contents of the container) <br><br>  <code>Loading...</code> - initial hidden item <br><br>  <code>On.....</code> - javascript functions, by analogy with <code>$.ajax</code> <br><ul><li>  <code>OnBegin</code> - <code>beforeSend</code> </li><li>  <code>OnComplete</code> - <code>complete</code> </li><li>  <code>OnFailure</code> - <code>error</code> </li><li>  <code>OnSuccess</code> - <code>success</code> </li></ul><br>  <code>Url</code> - a link to a separate address of the ajax request, if we need to separate the request from the ajax request to different routes / controllers / actions / parameters (underline) <br><br><h4>  Ajax helper methods </h4><br>  In the end, I would like to give a sign of methods that will facilitate our lives from time to time. <br><table><tbody><tr><td> <code>Ajax.ActionLink</code> </td> <td>  Creates a hyperlink to a controller action that, when clicked, sends an Ajax request. </td></tr><tr><td> <code>Ajax.RouteLink</code> </td> <td>  Looks like <code>Ajax.ActionLink</code> , but creates a link to a specific route, not a controller action. </td></tr><tr><td> <code>Ajax.BeginForm</code> </td> <td>  Creates a form element that will send input to a specific controller action. </td></tr><tr><td> <code>Ajax.BeginRouteForm</code> </td> <td>  Looks like <code>Ajax.BeginForm</code> , but sends a request for a particular route, and not to the controller action </td></tr><tr><td> <code>Ajax.GlobalizationScript</code> </td> <td>  Creates a link to the globalization script, which contains information about the language and regional settings </td></tr><tr><td> <code>Ajax.JavaScriptStringEncode</code> </td> <td>  Encodes the string for safe use in javascript </td></tr></tbody></table><br><h4>  Ensuring gradual deterioration </h4><br>  Consider this situation.  Ajax request returns JSON / XML / Partial representation - and everything is fine, but this approach is not at all acceptable if the user has disabled JavaScript, or the browser does not support it at all.  In such cases, you must fully return the page to the user.  One solution is to use ‚Äúwiring‚Äù in one action method with determining whether this request is an Ajax request.  This can be done using <code>Request.IsAjaxRequest()</code> , as discussed above. <br><br>  The second solution to the problem is to create two different methods of action: one for the Ajax request, and the second for the usual one.  Let's look at this option in more detail, on the simplified task of saving the comment received from the user. <br><br>  Create two action methods <br><br><pre> <code class="cs hljs">[<span class="hljs-meta"><span class="hljs-meta">HttpPost</span></span>] <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> ActionResult </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">AddComment</span></span></span><span class="hljs-function">(</span><span class="hljs-params"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">string</span></span></span></span><span class="hljs-function"><span class="hljs-params"> comment</span></span></span><span class="hljs-function">)</span></span> { <span class="hljs-comment"><span class="hljs-comment">//  return View(); } [HttpPost] public ActionResult AddCommentAjax(string comment) { //  return Json(new {resultMessage = "   !"}); }</span></span></code> </pre><br>  <code>AddComment</code> <br><br><pre> <code class="html hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">h3</span></span></span><span class="hljs-tag">&gt;</span></span>   !<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">h3</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br>  and our form submission <br><br><pre> <code class="html hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"text/javascript"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="actionscript"><span class="actionscript"> </span><span class="hljs-function"><span class="hljs-keyword"><span class="actionscript"><span class="hljs-function"><span class="hljs-keyword">function</span></span></span></span><span class="actionscript"><span class="hljs-function"> </span></span><span class="hljs-title"><span class="actionscript"><span class="hljs-function"><span class="hljs-title">OnSuccessComment</span></span></span></span><span class="hljs-params"><span class="actionscript"><span class="hljs-function"><span class="hljs-params">(data)</span></span></span></span><span class="actionscript"><span class="hljs-function"> </span></span></span><span class="actionscript">{ alert(data.resultMessage); } </span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">script</span></span></span><span class="hljs-tag">&gt;</span></span> @using (Ajax.BeginForm("AddComment", new AjaxOptions { Url = Url.Action("AddCommentAjax"), OnSuccess = "OnSuccessComment", HttpMethod = "POST" })) { @Html.TextArea("comment") <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">input</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"submit"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">value</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">" "</span></span></span><span class="hljs-tag">/&gt;</span></span> }</code> </pre><br><h5>  How it works </h5><br>  The following form is rendered for the browser. <br><br><pre> <code class="html hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">form</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">id</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"comment-form"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">action</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"/Home/AddComment"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">method</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"POST"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">data-ajax-url</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"/Home/AddCommentAjax"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">data-ajax-success</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"OnSuccessComment"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">data-ajax-method</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"POST"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">data-ajax</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"true"</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">textarea</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">rows</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"2"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"comment"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">id</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"comment"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">cols</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"20"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">textarea</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">input</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">type</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"submit"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">value</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">" "</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">form</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre><br>  We see that the difference from <code>@using (Html.BeginForm("AddComment", "Home"))</code> is only in additional <code>data-</code> attributes.  In other words, for disabled Javascript, the form will be <code>public ActionResult AddComment(string comment)</code> to the <code>public ActionResult AddComment(string comment)</code> .  When JavaScript is enabled, the adapter reads data from the <code>data-</code> attributes, intercepts the form submission, and makes a request for a <code>public ActionResult AddCommentAjax(string comment)</code> .  We get the successful result in the form of the transmitted JSON and process the <code>OnSuccessComment</code> function in the specified js. <br><br><h4>  Summary </h4><br>  The purpose of my article was only to show that some things can be accelerated a little and not reinvent the wheel (I judge it only by myself). <br><br><hr><br>  The following chapters of books led me to writing this article: <br>  <a href="http://www.smarly.net/asp-net-mvc-4-in-action/working-with-asp-net-mvc/ajax-in-asp-net-mvc">Ajax in ASP.NET MVC (ASP.NET MVC 4 in action)</a> <br>  and <br>  <a href="http://www.smarly.net/pro-asp-net-mvc-4/asp-net-mvc-4-in-detail/url-and-ajax-helper-methods">Helper methods for URL and Ajax (pro ASP.NET MVC 4)</a> <br><br><hr><br><br></div><p>Source: <a href="https://habr.com/ru/post/180011/">https://habr.com/ru/post/180011/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../179997/index.html">US froze Bitcoin Mt.Gox account</a></li>
<li><a href="../179999/index.html">Yahoo is going to buy Tumblr for $ 1 billion</a></li>
<li><a href="../180001/index.html">Output WordPress posts outside the site</a></li>
<li><a href="../180005/index.html">Larry Page believes that there must be a place on earth for the realization of crazy scientific ideas</a></li>
<li><a href="../180009/index.html">The program for drawing a four-dimensional cube</a></li>
<li><a href="../180013/index.html">Basics of professional layout of emails</a></li>
<li><a href="../180015/index.html">Building HA systems based on Jboss AS 6</a></li>
<li><a href="../180017/index.html">Introduction to IBM Tivoli Monitoring</a></li>
<li><a href="../180019/index.html">SSI mapping when using a proxy on nginx and splitting the cache by language</a></li>
<li><a href="../180021/index.html">Enchanting arrangement of points above private space programs</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>