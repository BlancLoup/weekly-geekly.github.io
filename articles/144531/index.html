<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Building a birthday card with the help of Processing and VK API</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Introduction 


 A few days ago, an entry was posted on The Daily Viz blog that caught the attention of the general public as an example of simple and...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Building a birthday card with the help of Processing and VK API</h1><div class="post__text post__text-html js-mediator-article"><h4>  Introduction </h4><br><p>  A few days ago, an entry <a href="http://thedailyviz.com/2012/05/12/how-common-is-your-birthday/">was posted</a> on The Daily Viz blog that caught the attention of the general public as an example of simple and effective data visualization. </p><br><br><p>  The visualization was a birthday card, implemented as a <a href="http://en.wikipedia.org/wiki/Heat_map">heatmap</a> in the form of a calendar.  Vertically there were numbers, horizontally - months, and, looking at this simple table, we could judge how rich a particular day in a year was in terms of childbearing by the saturation of the hue. </p><br><br><p>  After some time, the author of the visualization published a <a href="http://thedailyviz.com/2012/05/18/how-common-is-your-birthday-pt-2/">second post</a> in the same blog, apologizing for misleading the community without commenting properly on the <a href="http://www.nytimes.com/2006/12/19/business/20leonhardt-table.html%3F_r%3D1">source data</a> used in the work on the image.  The problem was that the initial data set did not contain information on the real number of people born on a given day.  The information was given in a different form - at what place (rank) is a particular day in the "rating" of the popularity of birthdays. </p>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <p>  That is, the difference between the first and second position in the rating could be enormous (say, twice), but they would differ only by one tone anyway.  In other words, the visualization did not reflect real data due to the fact that the set contained only derived data. </p><br><br><p>  Having thought a bit about this problem, I decided to describe my own example of creating such a visualization from beginning to end - that is, from data collection to, in fact, drawing the image.  This example is good because, on the one hand, it is relatively simple, and on the other, it is a complete, complete project with a certain interesting result. </p><a name="habracut"></a><br><br><p>  For all operations, I used the Processing environment, which is traditionally used for such tasks (there is no need to dwell on the problem of choosing a tool). </p><br><br><p>  So, the process of working on a project has a stable structure and consists of three stages: <br>  data collection&gt; data sorting&gt; data visualization </p><br><br><p>  We will follow this structure. </p><br><br><h4>  1. Data collection </h4><br><p>  We will extract data from the vk.com social network user profiles.  Fortunately for us, some of the methods of its API are open and do not require application authorization, which greatly simplifies the task. </p><br><br><p>  Experimentally, I found that these 100,000 profiles will be enough to level out random heterogeneities in the distribution of birthdays in the calendar and identify the main trends.  However, to save time and demonstrate, we will collect 10,000 records.  Later we will be able to substitute any number of profiles we need. </p><br><br><p>  We will write the program inside the main <b>setup ()</b> function.  We do not need the <b>draw ()</b> function, since the program generates a static image and does not contain animation.  More information about the structure of the program at Processing can be found on the project website.  There is also a description of all built-in functions and an excellent syntax reference. </p><br><br><p>  In addition, we will not write a program that performs the task inside and out: it collects data, processes it and creates a visualization.  We divide the ‚Äúelephant‚Äù into several modules to make it easier to work and spend less time debugging and fixing errors.  That is, we first write a program that collects data, collect data with it.  Then separately we will write the program which on the basis of the saved collected data generates the required image. </p><br><br><p>  So, we write a blank for the program. </p><br><br><pre> <code class="hljs cs"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">void</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">setup</span></span></span><span class="hljs-function">(</span><span class="hljs-params"></span><span class="hljs-function"><span class="hljs-params"></span>)</span></span> { <span class="hljs-comment"><span class="hljs-comment">//   exit(); //   }</span></span></code> </pre> <br><br><p>  Now we will understand how the VK API works.  We access the server at a special URL containing the parameters of our request: <br></p><pre>  http://api.vk.com/method/users.get.xml/uids= There is a comma-separated list of id users we are interested in} &amp; fields = {here is a list of the names of the user profile fields that interest us} </pre><br><br><p>  If we write the name of the method without .xml, then we will receive a response from the server as a string in JSON format.  This is one of the options, but in this example we will use XML.  Suppose we want to get information from the account of Pavel Durov, the founder of vkontakte.  Our address: <br></p><pre>  http://api.vk.com/method/users.get.xml?uids=1&amp;fields=bdate </pre><br><br><p>  His profile Id - 1, the field of interest to us - his birthday - is called <b>bdate</b> . </p><br><br><p>  Let's try to get information about this profile.  We use the built-in function <b>loadStrings ()</b> , which takes as a parameter a string with the address of the file of interest, and returns the contents of the file as an array of strings. </p><br><br><pre> <code class="hljs pgsql"><span class="hljs-type"><span class="hljs-type">void</span></span> setup() { String[] <span class="hljs-keyword"><span class="hljs-keyword">user</span></span> = loadStrings("http://api.vk.com/method/users.get.xml?uids=1&amp;fields=bdate"); //  println(<span class="hljs-keyword"><span class="hljs-keyword">user</span></span>); //   ( )   <span class="hljs-keyword"><span class="hljs-keyword">exit</span></span>(); //   }</code> </pre> <br><br><p>  After starting the program, our response from the server will appear in the console: </p><br><br><pre> <code class="hljs xml">[0] "<span class="hljs-meta"><span class="hljs-meta">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span></span>" [1] "<span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">response</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">list</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"true"</span></span></span><span class="hljs-tag">&gt;</span></span>" [2] " <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">user</span></span></span><span class="hljs-tag">&gt;</span></span>" [3] " <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">uid</span></span></span><span class="hljs-tag">&gt;</span></span>1<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">uid</span></span></span><span class="hljs-tag">&gt;</span></span>" [4] " <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">first_name</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">first_name</span></span></span><span class="hljs-tag">&gt;</span></span>" [5] " <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">last_name</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">last_name</span></span></span><span class="hljs-tag">&gt;</span></span>" [6] " <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">bdate</span></span></span><span class="hljs-tag">&gt;</span></span>10.10.1984<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">bdate</span></span></span><span class="hljs-tag">&gt;</span></span>" [7] " <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">user</span></span></span><span class="hljs-tag">&gt;</span></span>" [8] "<span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">response</span></span></span><span class="hljs-tag">&gt;</span></span>"</code> </pre> <br><br><p>  Numbers in square brackets indicate the record number (index) in the array and is not related to the contents of the array.  Also, each line is enclosed in quotes.  Actually, what is between the quotes is our content.  We are interested in the field </p><pre>  &lt;bdate&gt; </pre>  (line [6]).  It contains the information we are interested in - the date of birth of the user # 1 in a clear format: the 10th of the 10th month (October) of 1984. <br><br><p>  We agreed to collect 10,000 dates of birth.  What are we doing?  We iterate through the users' id from 1 to the number we need.  The problem is that not all id have valid profiles and not all users open their date of birth.  Thus, we need two counters: the first counter will count the users' id in order, and the second will count how many dates we really collected in order to stop in time.  From experience, to score 10,000 dates, you need to sort out about 15,000 accounts. </p><br><br><p>  We write a cycle: </p><br><br><pre> <code class="hljs pgsql"><span class="hljs-type"><span class="hljs-type">void</span></span> setup() { <span class="hljs-type"><span class="hljs-type">int</span></span> count = <span class="hljs-number"><span class="hljs-number">0</span></span>; //     <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-type"><span class="hljs-type">int</span></span> i = <span class="hljs-number"><span class="hljs-number">1</span></span>; count &lt;= <span class="hljs-number"><span class="hljs-number">10000</span></span>; i++) { // id,  ,        <span class="hljs-number"><span class="hljs-number">10000</span></span> String[] <span class="hljs-keyword"><span class="hljs-keyword">user</span></span> = loadStrings("http://api.vk.com/method/users.get.xml?uids=" + str(i) + "&amp;fields=bdate"); // ,     id <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-type"><span class="hljs-type">int</span></span> j = <span class="hljs-number"><span class="hljs-number">0</span></span>; j &lt; <span class="hljs-keyword"><span class="hljs-keyword">user</span></span>.length; j++) { //    <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">user</span></span>[j].indexOf("&lt;bdate&gt;") != <span class="hljs-number"><span class="hljs-number">-1</span></span>) { //      println(i + "\t" + count + "\t" + <span class="hljs-keyword"><span class="hljs-keyword">user</span></span>[j]); //    count++; //    <span class="hljs-number"><span class="hljs-number">1</span></span> } } } <span class="hljs-keyword"><span class="hljs-keyword">exit</span></span>(); //   }</code> </pre> <br><br><p>  Notice that the value of counter <b>i</b> , when we substitute it into a string, is ‚Äúwrapped‚Äù by the function <b>str ()</b> .  It is needed to convert the data type from number to string.  Strictly speaking, the program will understand what we want from it even without this operation, but it‚Äôs better to take the habit of controlling things like transferring data from one type to another (automatic translation does not work in some situations). </p><br><br><p>  When iterating through response lines, we use the <b>indexOf ()</b> method, which returns the location of the string specified in the parameter in the line to which the method is applied.  If there is no parameter string in our string, the method returns the value -1, which we use to check whether the current string is the one we need. </p><br><br><p>  When we output the data we are interested in to the console, we will add additional information: the state of the counters to monitor the progress.  The variable values ‚Äã‚Äãin parentheses of the <b>println ()</b> output function are separated by the string <b>"\ t"</b> , which means a tab character. </p><br><br><p>  If we start the program now, we will see that the values ‚Äã‚Äãof the counters quickly diverge.  In my case, after searching 55 id, only 31 dates were collected. </p><br><br><p>  So, it seems, everything is working fine, it remains only to make the program write data to the file as it is received.  To do this, create an object of the <b>PrintWriter</b> class.  It is declared as a regular variable, and as a rule it is immediately assigned the value of the <b>createWriter</b> function <b>(file path)</b> : <br></p><pre> <code class="hljs lisp">PrintWriter p = createWriter(<span class="hljs-string"><span class="hljs-string">"data/bdates.txt"</span></span>)<span class="hljs-comment"><span class="hljs-comment">;</span></span></code> </pre> <p></p><br><br><p>  In this case, we name the object ‚Äúp‚Äù, associating a file to it with the address ‚Äúfolder-programs / data / bdates.txt‚Äù, which will allow us to write into this file what we need.  How do we do it?  The <b>println ()</b> method can be applied to our object, which works in the same way as the function of the same name, but outputs the data not to the console, but to the specified file.  It looks like this: <br></p><pre> <code class="hljs swift">p.<span class="hljs-built_in"><span class="hljs-built_in">println</span></span>();</code> </pre> <p></p><br><br><p>  After we have worked with our file, you need to correctly finish working with it, otherwise the information will not be recorded in it.  This is done using this entry: <br></p><pre> <code class="hljs lua">p.<span class="hljs-built_in"><span class="hljs-built_in">flush</span></span>(); p.<span class="hljs-built_in"><span class="hljs-built_in">close</span></span>();</code> </pre> <p></p><br><br><p>  These two functions are always used to correctly complete the work with the file together.  Our program: </p><br><br><pre> <code class="hljs ruby">void setup() { PrintWriter p = createWriter(<span class="hljs-string"><span class="hljs-string">"data/bdates.txt"</span></span>); <span class="hljs-regexp"><span class="hljs-regexp">//</span></span>      int count = <span class="hljs-number"><span class="hljs-number">0</span></span>; <span class="hljs-regexp"><span class="hljs-regexp">//</span></span>     <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (int i = <span class="hljs-number"><span class="hljs-number">1</span></span>; count &lt;= <span class="hljs-number"><span class="hljs-number">10000</span></span>; i++) { <span class="hljs-regexp"><span class="hljs-regexp">//</span></span> id,  ,        <span class="hljs-number"><span class="hljs-number">10000</span></span> String[] user = loadStrings(<span class="hljs-string"><span class="hljs-string">"http://api.vk.com/method/users.get.xml?uids="</span></span> + str(i) + <span class="hljs-string"><span class="hljs-string">"&amp;fields=bdate"</span></span>); <span class="hljs-regexp"><span class="hljs-regexp">//</span></span> ,     id <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (int j = <span class="hljs-number"><span class="hljs-number">0</span></span>; j &lt; user.length; j++) { <span class="hljs-regexp"><span class="hljs-regexp">//</span></span>    <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (user[j].indexOf(<span class="hljs-string"><span class="hljs-string">"&lt;bdate&gt;"</span></span>) != -<span class="hljs-number"><span class="hljs-number">1</span></span>) { <span class="hljs-regexp"><span class="hljs-regexp">//</span></span>      p.println(user[j]); <span class="hljs-regexp"><span class="hljs-regexp">//</span></span>    println(count); <span class="hljs-regexp"><span class="hljs-regexp">//</span></span>        count++; <span class="hljs-regexp"><span class="hljs-regexp">//</span></span>    <span class="hljs-number"><span class="hljs-number">1</span></span> } } } p.flush(); p.close(); <span class="hljs-regexp"><span class="hljs-regexp">//</span></span>    exit(); <span class="hljs-regexp"><span class="hljs-regexp">//</span></span>   }</code> </pre> <br><br><p>  When collecting data, we refused to output the string value and the id counter to the console: outputting too much data to the console can sometimes slow down the program, so it‚Äôs best to limit yourself to what‚Äôs needed ‚Äî a count of collected dates. </p><br><br><p>  It would seem that still need?  You can run the program!  Yes and no.  When polling a remote server, you should always keep in mind that sometimes the server does not respond.  Imagine that we sent a request to the server, waiting for a response and do not receive it.  After some time, the program will decide that the server is "lying" and simply continue to run.  What will happen?  After all, we did not receive user data, our array is empty.  If the program accesses it, the program will issue an error message to the console and stop.  This may not happen, but it may happen, and then you have to start the program again, wait and pray for the server to answer all 15,000 of our requests. </p><br><br><p>  In order not to rely on blind fate, error handling was invented.  Errors are processed using this entry: </p><br><br><pre> <code class="hljs swift"><span class="hljs-keyword"><span class="hljs-keyword">try</span></span> { <span class="hljs-comment"><span class="hljs-comment">// ,     } catch (  ) { // ,    ,    }</span></span></code> </pre> <br><br><p>  Error Handling Program: </p><br><br><pre> <code class="hljs pgsql"><span class="hljs-type"><span class="hljs-type">void</span></span> setup() { PrintWriter p = createWriter("data/bdates.txt"); //      <span class="hljs-type"><span class="hljs-type">int</span></span> count = <span class="hljs-number"><span class="hljs-number">0</span></span>; //     <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-type"><span class="hljs-type">int</span></span> i = <span class="hljs-number"><span class="hljs-number">1</span></span>; count &lt;= <span class="hljs-number"><span class="hljs-number">10000</span></span>; i++) { // id,  ,        <span class="hljs-number"><span class="hljs-number">10000</span></span> String[] <span class="hljs-keyword"><span class="hljs-keyword">user</span></span> = loadStrings("http://api.vk.com/method/users.get.xml?uids=" + str(i) + "&amp;fields=bdate"); // ,     id try { <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> (<span class="hljs-type"><span class="hljs-type">int</span></span> j = <span class="hljs-number"><span class="hljs-number">0</span></span>; j &lt; <span class="hljs-keyword"><span class="hljs-keyword">user</span></span>.length; j++) { //    <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">user</span></span>[j].indexOf("&lt;bdate&gt;") != <span class="hljs-number"><span class="hljs-number">-1</span></span>) { //      p.println(<span class="hljs-keyword"><span class="hljs-keyword">user</span></span>[j]); //    println(count); //        count++; //    <span class="hljs-number"><span class="hljs-number">1</span></span> } } } catch (<span class="hljs-keyword"><span class="hljs-keyword">Exception</span></span> e) {} } p.flush(); p.<span class="hljs-keyword"><span class="hljs-keyword">close</span></span>(); //    <span class="hljs-keyword"><span class="hljs-keyword">exit</span></span>(); //   }</code> </pre> <br><br><p>  Now, if an error occurs when accessing the array (if the array is empty), the code will be executed ... no code will be executed, the program will display an error message, but it will not stop.  We simply ignore the error and move on - all we have to do is request information from another user.  The type of error is set to <b>Exception</b> , which means that we ‚Äúcatch‚Äù any errors that occur.  Writing <b>e</b> after the error type is required, because the program needs some kind of variable in which to write information about the error.  We can refer to this variable when handling errors, but in this case it is not necessary. </p><br><br><h4>  2. Sort data </h4><br><p>  After some time (usually not more than half an hour) after launching the program, it will end and we will see the treasured number 10,000 on the console. This means that the data has been collected and you can start sorting.  Open the file in a text editor and look at the result of our work: </p><br><br><p>  What's wrong?  Yeah, we completely forgot that we wrote data to the file along with the XML tags.  No problem!  In any text editor there is an autochange function, with which you can clean our file of unnecessary information.  Strictly speaking, we could programmatically ‚Äúcatch‚Äù too much already at the stage of data collection, but in principle, for simplicity and to save time, it is not shameful to use any available tool. </p><br><br><img src="https://habrastorage.org/getpro/habr/post_images/3a8/47e/a9c/3a847ea9c0f3ed77ad3fa41881ad5678.jpg"><br><br><p>  After cleaning the file, save it and close it.  Now the program will just read it. </p><br><br><h4>  3. Data Visualization </h4><br><p>  Now let's do the drawing.  First we need to open the file and calculate how many users were born on each individual day.  To open the file, use the old familiar function <b>loadStrings ()</b> .  In order to store the number of users born on a certain day, we use a two-dimensional array of natural numbers: <br></p><pre> <code class="hljs markdown">int[<span class="hljs-string"></span><span class="hljs-string"></span>][<span class="hljs-symbol"></span><span class="hljs-symbol"></span>] table = new int[<span class="hljs-string"><span class="hljs-string">12</span></span>][<span class="hljs-symbol"><span class="hljs-symbol">31</span></span>]</code> </pre> <p></p><br><br><p>  We indicated an array size of 12 by 31. We have 12 months in a year and a maximum of 31 days.  In theory, February 31 should not be born a single person, so we should not worry that the array for some months is too long. </p><br><br><p>  How will our program work?  We must take a date, determine which day and month it contains, and increase the corresponding array cell by one. </p><br><br><p>  In order to split a string into day, month and year, we will use the <b>split ()</b> method.  It returns an array of strings, and takes as its argument a separator string: instruction <br></p><pre> <code class="hljs vbscript"><span class="hljs-built_in"><span class="hljs-built_in">String</span></span>[] s = <span class="hljs-string"><span class="hljs-string">"00010010"</span></span>.<span class="hljs-built_in"><span class="hljs-built_in">split</span></span>(<span class="hljs-string"><span class="hljs-string">"1"</span></span>);</code> </pre> <br>  assign <b>s</b> value to array <br><pre> <code class="hljs json">[<span class="hljs-number"><span class="hljs-number">0</span></span>] <span class="hljs-string"><span class="hljs-string">"000"</span></span> [<span class="hljs-number"><span class="hljs-number">1</span></span>] <span class="hljs-string"><span class="hljs-string">"00"</span></span> [<span class="hljs-number"><span class="hljs-number">2</span></span>] <span class="hljs-string"><span class="hljs-string">"0"</span></span></code> </pre> <p></p><br><br><p>  What does this mean for our practice?  We take an array string and divide it with the dot character as a separator.  There is one technical problem: the point symbol is reserved as a symbol of any character.  Therefore, instead of "."  as an argument we pass "\\."  - such record designates the point symbol we need.  It turns out like this: </p><br><br><pre> <code class="hljs markdown">void setup() { String[<span class="hljs-string"></span><span class="hljs-string"></span>] file = loadStrings("data/bdates.txt"); //    int[<span class="hljs-string"></span><span class="hljs-string"></span>][<span class="hljs-symbol"></span><span class="hljs-symbol"></span>] table = new int[<span class="hljs-string"><span class="hljs-string">12</span></span>][<span class="hljs-symbol"><span class="hljs-symbol">31</span></span>]; for (int i = 0; i <span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt; </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">file.length</span></span></span></span><span class="xml"><span class="hljs-tag">; </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">i</span></span></span></span><span class="xml"><span class="hljs-tag">++) { //    </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">String</span></span></span></span><span class="xml"><span class="hljs-tag">[] </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">date</span></span></span></span><span class="xml"><span class="hljs-tag"> = </span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">file[i].split(</span></span></span></span><span class="xml"><span class="hljs-tag">"\\</span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">.</span></span></span></span><span class="xml"><span class="hljs-tag">"); //   ,    } </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">exit</span></span></span></span><span class="xml"><span class="hljs-tag">(); //   }</span></span></span></span></code> </pre> <br><br><p>  Now the <b>date [0]</b> cell contains a line with the number of the day in the month, and the <b>date [1]</b> contains the number of the month.  We need to increment the corresponding cell in the <b>table</b> array by one: <br></p><pre> <code class="hljs markdown">table[<span class="hljs-string"><span class="hljs-string">int(table[1</span></span>])-1][int(table[0])-1]++;</code> </pre> <p></p><br><br><p>  Specifying the cell address corresponding to the date, we translate the string into a number using the <b>int ()</b> function, and also subtract one.  Why take a unit?  Then, that the counting of the cells of the array starts from zero.  We specified a length of 12, which means that the cells of the array are numbered from 0 to 11. Unlike months, which are numbered from 1 to 12. This discrepancy must be remembered. </p><br><br><p>  Right?  That's right, but not quite.  If you run the program now, it will generate an error.  The fact is that our data set is not perfect.  For some unknown reason, some users in the date of birth field are some obscene numbers like 666.666 or 32.13.888888888.  Sometimes you can even meet a user who was born, for example, minus the fifth of December.  To sort them, you need to discard the values ‚Äã‚Äãof months greater than 12 and values ‚Äã‚Äãof days greater than 31, as well as all values ‚Äã‚Äãless than or equal to zero: </p><br><br><pre> <code class="hljs markdown">if ((int(date[<span class="hljs-string"><span class="hljs-string">1</span></span>]) <span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">=</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">12</span></span></span></span><span class="xml"><span class="hljs-tag">) &amp;&amp; (</span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">int</span></span></span></span><span class="xml"><span class="hljs-tag">(</span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">date</span></span></span></span><span class="xml"><span class="hljs-tag">[</span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">1</span></span></span></span><span class="xml"><span class="hljs-tag">]) &gt;</span></span></span></span> 0) &amp;&amp; (int(date[<span class="hljs-string"><span class="hljs-string">0</span></span>]) <span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">=</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">31</span></span></span></span><span class="xml"><span class="hljs-tag">) &amp;&amp; (</span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">int</span></span></span></span><span class="xml"><span class="hljs-tag">(</span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">date</span></span></span></span><span class="xml"><span class="hljs-tag">[</span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">0</span></span></span></span><span class="xml"><span class="hljs-tag">]) &gt;</span></span></span></span> 0)) { //      table[<span class="hljs-string"><span class="hljs-string">int(date[1</span></span>])-1][int(date[0])-1]++; //    1 }</code> </pre> <br><br><p>  Entire program: </p><br><br><pre> <code class="hljs markdown">void setup() { String[<span class="hljs-string"></span><span class="hljs-string"></span>] file = loadStrings("data/bdates.txt"); //    int[<span class="hljs-string"></span><span class="hljs-string"></span>][<span class="hljs-symbol"></span><span class="hljs-symbol"></span>] table = new int[<span class="hljs-string"><span class="hljs-string">12</span></span>][<span class="hljs-symbol"><span class="hljs-symbol">31</span></span>]; for (int i = 0; i <span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt; </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">file.length</span></span></span></span><span class="xml"><span class="hljs-tag">; </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">i</span></span></span></span><span class="xml"><span class="hljs-tag">++) { //    </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">String</span></span></span></span><span class="xml"><span class="hljs-tag">[] </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">date</span></span></span></span><span class="xml"><span class="hljs-tag"> = </span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">file[i].split(</span></span></span></span><span class="xml"><span class="hljs-tag">"\\</span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">.</span></span></span></span><span class="xml"><span class="hljs-tag">"); //   ,    </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">if</span></span></span></span><span class="xml"><span class="hljs-tag"> ((</span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">int</span></span></span></span><span class="xml"><span class="hljs-tag">(</span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">date</span></span></span></span><span class="xml"><span class="hljs-tag">[</span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">1</span></span></span></span><span class="xml"><span class="hljs-tag">]) &lt;= </span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">12)</span></span></span></span><span class="xml"><span class="hljs-tag"> &amp;&amp; (</span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">int</span></span></span></span><span class="xml"><span class="hljs-tag">(</span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">date</span></span></span></span><span class="xml"><span class="hljs-tag">[</span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">1</span></span></span></span><span class="xml"><span class="hljs-tag">]) &gt;</span></span></span></span> 0) &amp;&amp; (int(date[<span class="hljs-string"><span class="hljs-string">0</span></span>]) <span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">=</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">31</span></span></span></span><span class="xml"><span class="hljs-tag">) &amp;&amp; (</span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">int</span></span></span></span><span class="xml"><span class="hljs-tag">(</span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">date</span></span></span></span><span class="xml"><span class="hljs-tag">[</span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">0</span></span></span></span><span class="xml"><span class="hljs-tag">]) &gt;</span></span></span></span> 0)) { //      table[<span class="hljs-string"><span class="hljs-string">int(date[1</span></span>])-1][int(date[0])-1]++; //    1 } } exit(); //   }</code> </pre> <br><br><p>  Now that the data is finally collected and stored in the program's memory, you can finally get down to creativity - drawing.  First, we will define the color with which we will draw: I took the company blue VK color: RGB 54, 99, 142. Let's declare a color variable so as not to write three cherished numbers each time: <br></p><pre> <code class="hljs dos"><span class="hljs-built_in"><span class="hljs-built_in">color</span></span> c = <span class="hljs-built_in"><span class="hljs-built_in">color</span></span>(<span class="hljs-number"><span class="hljs-number">54</span></span>, <span class="hljs-number"><span class="hljs-number">99</span></span>, <span class="hljs-number"><span class="hljs-number">142</span></span>);</code> </pre> <p></p><br><br><p>  We also need (by tradition, at the very beginning of the program) to decide how wide and high our image will be.  To do this, we write the function: <br></p><pre> <code class="hljs lisp">size(, )<span class="hljs-comment"><span class="hljs-comment">;</span></span></code> </pre> <p></p><br><br><p>  What we will have the width and height?  Suppose each heatmap cell is 40 pixels wide, plus one pixel for the indentation between cells.  Months set aside in width.  Do not forget about the indent from the edge (10 pixels).  It turns out 20 + 41 * 12.  If you do not want to count in your mind or open a calculator application, you can simply write this expression as an argument to the <b>println</b> function <b>(20 + 41 * 12);</b>  and get the answer - 512. This is the width of the image.  Taking into account the cell height of 20 pixels and the same indent from the edge, we get: <br></p><pre> <code class="hljs lisp">size(<span class="hljs-number"><span class="hljs-number">512</span></span>, <span class="hljs-number"><span class="hljs-number">671</span></span>)<span class="hljs-comment"><span class="hljs-comment">;</span></span></code> </pre> <p></p><br><br><p>  Now temporarily remove the <b>exit () command;</b>  at the end of the program, so that we do not exit the program after completion, and run the code execution: </p><br><br><pre> <code class="hljs markdown">void setup() { size(512, 671); //  background(255); //  -  String[<span class="hljs-string"></span><span class="hljs-string"></span>] file = loadStrings("data/bdates.txt"); //    int[<span class="hljs-string"></span><span class="hljs-string"></span>][<span class="hljs-symbol"></span><span class="hljs-symbol"></span>] table = new int[<span class="hljs-string"><span class="hljs-string">12</span></span>][<span class="hljs-symbol"><span class="hljs-symbol">31</span></span>]; for (int i = 0; i <span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt; </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">file.length</span></span></span></span><span class="xml"><span class="hljs-tag">; </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">i</span></span></span></span><span class="xml"><span class="hljs-tag">++) { //    </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">String</span></span></span></span><span class="xml"><span class="hljs-tag">[] </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">date</span></span></span></span><span class="xml"><span class="hljs-tag"> = </span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">file[i].split(</span></span></span></span><span class="xml"><span class="hljs-tag">"\\</span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">.</span></span></span></span><span class="xml"><span class="hljs-tag">"); //   ,    </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">if</span></span></span></span><span class="xml"><span class="hljs-tag"> ((</span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">int</span></span></span></span><span class="xml"><span class="hljs-tag">(</span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">date</span></span></span></span><span class="xml"><span class="hljs-tag">[</span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">1</span></span></span></span><span class="xml"><span class="hljs-tag">]) &lt;= </span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">12)</span></span></span></span><span class="xml"><span class="hljs-tag"> &amp;&amp; (</span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">int</span></span></span></span><span class="xml"><span class="hljs-tag">(</span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">date</span></span></span></span><span class="xml"><span class="hljs-tag">[</span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">1</span></span></span></span><span class="xml"><span class="hljs-tag">]) &gt;</span></span></span></span> 0) &amp;&amp; (int(date[<span class="hljs-string"><span class="hljs-string">0</span></span>]) <span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">=</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">31</span></span></span></span><span class="xml"><span class="hljs-tag">) &amp;&amp; (</span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">int</span></span></span></span><span class="xml"><span class="hljs-tag">(</span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">date</span></span></span></span><span class="xml"><span class="hljs-tag">[</span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">0</span></span></span></span><span class="xml"><span class="hljs-tag">]) &gt;</span></span></span></span> 0)) { //      table[<span class="hljs-string"><span class="hljs-string">int(date[1</span></span>])-1][int(date[0])-1]++; //    1 } } color c = color(54, 99, 142); // }</code> </pre> <br><br><p>  After specifying the frame size, I added the command to set the white background: if we specify the color with a single number, then it is recognized as shades of gray from 0 (black) to 255 (white).  When starting the program, a window should open with a white background of the size we need. </p><br><br><p>  Let's start, finally, to draw.  How do we draw?  We run over the <b>table</b> array - for each row (month) and in each row (day of this month) by cells.  We draw in the right place and the right color rectangle 40 to 20. How is the position of X calculated?  10 (indent) + 41 (width + gap between) * i (month counter).  Position Y?  10 (indent) + 21 (height + gap between) * j (days counter).  The rectangle is drawn by the function <b>rect (x, y, width, height);</b>  - </p><br><br><pre> <code class="hljs lisp">rect(<span class="hljs-number"><span class="hljs-number">10</span></span><span class="hljs-number"><span class="hljs-number">+41</span></span>*i, 10+21*j, <span class="hljs-number"><span class="hljs-number">40</span></span>, <span class="hljs-number"><span class="hljs-number">20</span></span>)<span class="hljs-comment"><span class="hljs-comment">;</span></span></code> </pre> <br><br><p>  Program: </p><br><br><pre> <code class="hljs markdown">void setup() { size(512, 671); //  background(255); //  -  String[<span class="hljs-string"></span><span class="hljs-string"></span>] file = loadStrings("data/bdates.txt"); //    int[<span class="hljs-string"></span><span class="hljs-string"></span>][<span class="hljs-symbol"></span><span class="hljs-symbol"></span>] table = new int[<span class="hljs-string"><span class="hljs-string">12</span></span>][<span class="hljs-symbol"><span class="hljs-symbol">31</span></span>]; for (int i = 0; i <span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt; </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">file.length</span></span></span></span><span class="xml"><span class="hljs-tag">; </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">i</span></span></span></span><span class="xml"><span class="hljs-tag">++) { //    </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">String</span></span></span></span><span class="xml"><span class="hljs-tag">[] </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">date</span></span></span></span><span class="xml"><span class="hljs-tag"> = </span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">file[i].split(</span></span></span></span><span class="xml"><span class="hljs-tag">"\\</span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">.</span></span></span></span><span class="xml"><span class="hljs-tag">"); //   ,    </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">if</span></span></span></span><span class="xml"><span class="hljs-tag"> ((</span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">int</span></span></span></span><span class="xml"><span class="hljs-tag">(</span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">date</span></span></span></span><span class="xml"><span class="hljs-tag">[</span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">1</span></span></span></span><span class="xml"><span class="hljs-tag">]) &lt;= </span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">12)</span></span></span></span><span class="xml"><span class="hljs-tag"> &amp;&amp; (</span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">int</span></span></span></span><span class="xml"><span class="hljs-tag">(</span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">date</span></span></span></span><span class="xml"><span class="hljs-tag">[</span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">1</span></span></span></span><span class="xml"><span class="hljs-tag">]) &gt;</span></span></span></span> 0) &amp;&amp; (int(date[<span class="hljs-string"><span class="hljs-string">0</span></span>]) <span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">=</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">31</span></span></span></span><span class="xml"><span class="hljs-tag">) &amp;&amp; (</span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">int</span></span></span></span><span class="xml"><span class="hljs-tag">(</span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">date</span></span></span></span><span class="xml"><span class="hljs-tag">[</span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">0</span></span></span></span><span class="xml"><span class="hljs-tag">]) &gt;</span></span></span></span> 0)) { //      table[<span class="hljs-string"><span class="hljs-string">int(date[1</span></span>])-1][int(date[0])-1]++; //    1 } } color c = color(54, 99, 142); // for (int i = 0; i <span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt; </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">table.length</span></span></span></span><span class="xml"><span class="hljs-tag">; </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">i</span></span></span></span><span class="xml"><span class="hljs-tag">++) { //   </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">for</span></span></span></span><span class="xml"><span class="hljs-tag"> (</span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">int</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">j</span></span></span></span><span class="xml"><span class="hljs-tag"> = </span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">0;</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">j</span></span></span></span><span class="xml"><span class="hljs-tag"> &lt; </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">table</span></span></span></span><span class="xml"><span class="hljs-tag">[</span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">i</span></span></span></span><span class="xml"><span class="hljs-tag">]</span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">.length</span></span></span></span><span class="xml"><span class="hljs-tag">; </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">j</span></span></span></span><span class="xml"><span class="hljs-tag">++) { //   </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">rect</span></span></span></span><span class="xml"><span class="hljs-tag">(</span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">10</span></span></span></span><span class="xml"><span class="hljs-tag">+</span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">41</span></span></span></span><span class="xml"><span class="hljs-tag">*</span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">i</span></span></span></span><span class="xml"><span class="hljs-tag">, </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">10</span></span></span></span><span class="xml"><span class="hljs-tag">+</span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">21</span></span></span></span><span class="xml"><span class="hljs-tag">*</span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">j</span></span></span></span><span class="xml"><span class="hljs-tag">, </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">40</span></span></span></span><span class="xml"><span class="hljs-tag">, </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">20</span></span></span></span><span class="xml"><span class="hljs-tag">); //     } } }</span></span></span></span></code> </pre> <br><br><p>  If you run this code, we get a field that is strangely lined with rectangles with strokes.  First we remove the stroke by adding the <b>noStroke ()</b> command before drawing <b>;</b>  .  Now set our color as a fill: <b>fill (c);</b> </p><br><br><p>  Perfectly.  Now the area is paved with beautiful blue tiles with white gaps.  Next we need to somehow encode the values ‚Äã‚Äãof the table in the fill color.  We do this with transparency.  Color transparency takes values ‚Äã‚Äãfrom 0 to 255. Write <b>fill (c, 10);</b>  gives a barely noticeable bluish tinge, and <b>fill (c, 240);</b>  will give almost completely saturated blue color.  So, the range of transparency - 0..255.  The range of values ‚Äã‚Äãin our array is much larger (or smaller).  Suppose we know the maximum value in the array.  The minimum, of course, will be zero.  We need to somehow enter the value from the array into the range 0..255, as if to reduce (increase) the scale.  For this there is a <b>map</b> function <b>(value, the beginning of the source range, the end of the source range, the beginning of the new range, the end of the new range)</b> </p><br><br><pre> <code class="hljs markdown">map(table[<span class="hljs-string"><span class="hljs-string">i</span></span>][<span class="hljs-symbol"><span class="hljs-symbol">j</span></span>], 0, 1000, 0, 255);</code> </pre> <br><br><p>  Here we made the assumption that the maximum value of the array is 1000. Then, if the value of <b>table [i] [j]</b> is 1000, the function returns 255, and if the value is 0, it returns zero. </p><br><br><p>  How to calculate the minimum and maximum values ‚Äã‚Äãof a two-dimensional array?  For a one-dimensional array, there are functions <b>min ()</b> and <b>max (),</b> respectively.  We use them.  Run through the ‚Äúmonths‚Äù cycle and compare the minimum and maximum value of each ‚Äúmonth‚Äù (which is perceived by the environment as a one-dimensional array) with variables that store the current minimum or maximum value in the array.  And let's not forget another important thing: sometimes there were incorrect dates in the data set, i.e.  Someone could specify the date of birth November 31 or February 30.  To prevent this fact from interfering with us, let us set the value of all non-existent dates to zero. </p><br><br><pre> <code class="hljs markdown">table[<span class="hljs-string"><span class="hljs-string">1</span></span>][<span class="hljs-symbol"><span class="hljs-symbol">29</span></span>] = 0; //30  table[<span class="hljs-string"><span class="hljs-string">1</span></span>][<span class="hljs-symbol"><span class="hljs-symbol">30</span></span>] = 0; //31  table[<span class="hljs-string"><span class="hljs-string">3</span></span>][<span class="hljs-symbol"><span class="hljs-symbol">30</span></span>] = 0; //31  table[<span class="hljs-string"><span class="hljs-string">5</span></span>][<span class="hljs-symbol"><span class="hljs-symbol">30</span></span>] = 0; //31  table[<span class="hljs-string"><span class="hljs-string">8</span></span>][<span class="hljs-symbol"><span class="hljs-symbol">30</span></span>] = 0; //31  table[<span class="hljs-string"><span class="hljs-string">10</span></span>][<span class="hljs-symbol"><span class="hljs-symbol">30</span></span>] = 0; //31  int mi = table[<span class="hljs-string"><span class="hljs-string">0</span></span>][<span class="hljs-symbol"><span class="hljs-symbol">0</span></span>]; //  int ma = table[<span class="hljs-string"><span class="hljs-string">0</span></span>][<span class="hljs-symbol"><span class="hljs-symbol">0</span></span>]; //  for (int i = 0; i <span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt; </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">table.length</span></span></span></span><span class="xml"><span class="hljs-tag">; </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">i</span></span></span></span><span class="xml"><span class="hljs-tag">++) { </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">if</span></span></span></span><span class="xml"><span class="hljs-tag"> ((</span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">min</span></span></span></span><span class="xml"><span class="hljs-tag">(</span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">table</span></span></span></span><span class="xml"><span class="hljs-tag">[</span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">i</span></span></span></span><span class="xml"><span class="hljs-tag">]) &lt; </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">mi</span></span></span></span><span class="xml"><span class="hljs-tag">) &amp;&amp; (</span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">min</span></span></span></span><span class="xml"><span class="hljs-tag">(</span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">table</span></span></span></span><span class="xml"><span class="hljs-tag">[</span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">i</span></span></span></span><span class="xml"><span class="hljs-tag">]) &gt;</span></span></span></span> 0)) { //           mi = min(table[i]); //    } if (max(table[i]) &gt; ma) { //        ma = max(table[i]); //    } } println(mi + " " + ma); // </code> </pre> <br><br><p>  My values ‚Äã‚Äãare 14 and 47. In principle, this is not important, because we can use the values ‚Äã‚Äãof variables.  Now we need every time we access a table cell, i.e.  Before drawing each rectangle, set your fill: </p><br><br><pre> <code class="hljs markdown">void setup() { size(512, 671); //  background(255); //  -  String[<span class="hljs-string"></span><span class="hljs-string"></span>] file = loadStrings("data/bdates.txt"); //    int[<span class="hljs-string"></span><span class="hljs-string"></span>][<span class="hljs-symbol"></span><span class="hljs-symbol"></span>] table = new int[<span class="hljs-string"><span class="hljs-string">12</span></span>][<span class="hljs-symbol"><span class="hljs-symbol">31</span></span>]; for (int i = 0; i <span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt; </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">file.length</span></span></span></span><span class="xml"><span class="hljs-tag">; </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">i</span></span></span></span><span class="xml"><span class="hljs-tag">++) { //    </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">String</span></span></span></span><span class="xml"><span class="hljs-tag">[] </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">date</span></span></span></span><span class="xml"><span class="hljs-tag"> = </span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">file[i].split(</span></span></span></span><span class="xml"><span class="hljs-tag">"\\</span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">.</span></span></span></span><span class="xml"><span class="hljs-tag">"); //   ,    </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">if</span></span></span></span><span class="xml"><span class="hljs-tag"> ((</span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">int</span></span></span></span><span class="xml"><span class="hljs-tag">(</span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">date</span></span></span></span><span class="xml"><span class="hljs-tag">[</span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">1</span></span></span></span><span class="xml"><span class="hljs-tag">]) &lt;= </span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">12)</span></span></span></span><span class="xml"><span class="hljs-tag"> &amp;&amp; (</span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">int</span></span></span></span><span class="xml"><span class="hljs-tag">(</span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">date</span></span></span></span><span class="xml"><span class="hljs-tag">[</span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">1</span></span></span></span><span class="xml"><span class="hljs-tag">]) &gt;</span></span></span></span> 0) &amp;&amp; (int(date[<span class="hljs-string"><span class="hljs-string">0</span></span>]) <span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">=</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">31</span></span></span></span><span class="xml"><span class="hljs-tag">) &amp;&amp; (</span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">int</span></span></span></span><span class="xml"><span class="hljs-tag">(</span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">date</span></span></span></span><span class="xml"><span class="hljs-tag">[</span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">0</span></span></span></span><span class="xml"><span class="hljs-tag">]) &gt;</span></span></span></span> 0)) { //      table[<span class="hljs-string"><span class="hljs-string">int(date[1</span></span>])-1][<span class="hljs-string"><span class="hljs-string">int(date[0</span></span>])-1]++; //    1 } } table[<span class="hljs-string"><span class="hljs-string">1</span></span>][<span class="hljs-symbol"><span class="hljs-symbol">29</span></span>] = 0; //30  table[<span class="hljs-string"><span class="hljs-string">1</span></span>][<span class="hljs-symbol"><span class="hljs-symbol">30</span></span>] = 0; //31  table[<span class="hljs-string"><span class="hljs-string">3</span></span>][<span class="hljs-symbol"><span class="hljs-symbol">30</span></span>] = 0; //31  table[<span class="hljs-string"><span class="hljs-string">5</span></span>][<span class="hljs-symbol"><span class="hljs-symbol">30</span></span>] = 0; //31  table[<span class="hljs-string"><span class="hljs-string">8</span></span>][<span class="hljs-symbol"><span class="hljs-symbol">30</span></span>] = 0; //31  table[<span class="hljs-string"><span class="hljs-string">10</span></span>][<span class="hljs-symbol"><span class="hljs-symbol">30</span></span>] = 0; //31  int mi = table[<span class="hljs-string"><span class="hljs-string">0</span></span>][<span class="hljs-symbol"><span class="hljs-symbol">0</span></span>]; //  int ma = table[<span class="hljs-string"><span class="hljs-string">0</span></span>][<span class="hljs-symbol"><span class="hljs-symbol">0</span></span>]; //  for (int i = 0; i <span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt; </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">table.length</span></span></span></span><span class="xml"><span class="hljs-tag">; </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">i</span></span></span></span><span class="xml"><span class="hljs-tag">++) { </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">if</span></span></span></span><span class="xml"><span class="hljs-tag"> ((</span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">min</span></span></span></span><span class="xml"><span class="hljs-tag">(</span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">table</span></span></span></span><span class="xml"><span class="hljs-tag">[</span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">i</span></span></span></span><span class="xml"><span class="hljs-tag">]) &lt; </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">mi</span></span></span></span><span class="xml"><span class="hljs-tag">) &amp;&amp; (</span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">min</span></span></span></span><span class="xml"><span class="hljs-tag">(</span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">table</span></span></span></span><span class="xml"><span class="hljs-tag">[</span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">i</span></span></span></span><span class="xml"><span class="hljs-tag">]) &gt;</span></span></span></span> 0)) { //           mi = min(table[<span class="hljs-string"><span class="hljs-string">i</span></span>]); //    } if (max(table[<span class="hljs-string"><span class="hljs-string">i</span></span>]) &gt; ma) { //        ma = max(table[<span class="hljs-string"><span class="hljs-string">i</span></span>]); //    } } color c = color(54, 99, 142); noStroke(); for (int i = 0; i <span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt; </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">table.length</span></span></span></span><span class="xml"><span class="hljs-tag">; </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">i</span></span></span></span><span class="xml"><span class="hljs-tag">++) { //   </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">for</span></span></span></span><span class="xml"><span class="hljs-tag"> (</span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">int</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">j</span></span></span></span><span class="xml"><span class="hljs-tag"> = </span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">0;</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">j</span></span></span></span><span class="xml"><span class="hljs-tag"> &lt; </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">table</span></span></span></span><span class="xml"><span class="hljs-tag">[</span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">i</span></span></span></span><span class="xml"><span class="hljs-tag">]</span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">.length</span></span></span></span><span class="xml"><span class="hljs-tag">; </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">j</span></span></span></span><span class="xml"><span class="hljs-tag">++) { //   </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">fill</span></span></span></span><span class="xml"><span class="hljs-tag">(</span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">c</span></span></span></span><span class="xml"><span class="hljs-tag">, </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">map</span></span></span></span><span class="xml"><span class="hljs-tag">(</span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">table</span></span></span></span><span class="xml"><span class="hljs-tag">[</span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">i</span></span></span></span><span class="xml"><span class="hljs-tag">][</span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">j</span></span></span></span><span class="xml"><span class="hljs-tag">], </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">0</span></span></span></span><span class="xml"><span class="hljs-tag">, </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">ma</span></span></span></span><span class="xml"><span class="hljs-tag">, </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">0</span></span></span></span><span class="xml"><span class="hljs-tag">, </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">255</span></span></span></span><span class="xml"><span class="hljs-tag">)); //  </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">rect</span></span></span></span><span class="xml"><span class="hljs-tag">(</span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">10</span></span></span></span><span class="xml"><span class="hljs-tag">+</span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">41</span></span></span></span><span class="xml"><span class="hljs-tag">*</span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">i</span></span></span></span><span class="xml"><span class="hljs-tag">, </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">10</span></span></span></span><span class="xml"><span class="hljs-tag">+</span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">21</span></span></span></span><span class="xml"><span class="hljs-tag">*</span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">j</span></span></span></span><span class="xml"><span class="hljs-tag">, </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">40</span></span></span></span><span class="xml"><span class="hljs-tag">, </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">20</span></span></span></span><span class="xml"><span class="hljs-tag">); //     } } }</span></span></span></span></code> </pre> <br><br><p>      ?    ,          .   ,  29     . ,       ,   ,       ,    (   14,       0 ‚Äî  ,         0  85. .      <b>map()</b>  ,  12,   29    . - ,      12,   ,   ,    0,  .         (-5 ‚Äî     250!), ,      ,  .  ,   ¬´¬ª    : </p><br><br><pre> <code class="hljs markdown">void setup() { size(512, 671); //  background(255); //  -  String[<span class="hljs-string"></span><span class="hljs-string"></span>] file = loadStrings("data/bdates.txt"); //    int[<span class="hljs-string"></span><span class="hljs-string"></span>][<span class="hljs-symbol"></span><span class="hljs-symbol"></span>] table = new int[<span class="hljs-string"><span class="hljs-string">12</span></span>][<span class="hljs-symbol"><span class="hljs-symbol">31</span></span>]; for (int i = 0; i <span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt; </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">file.length</span></span></span></span><span class="xml"><span class="hljs-tag">; </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">i</span></span></span></span><span class="xml"><span class="hljs-tag">++) { //    </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">String</span></span></span></span><span class="xml"><span class="hljs-tag">[] </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">date</span></span></span></span><span class="xml"><span class="hljs-tag"> = </span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">file[i].split(</span></span></span></span><span class="xml"><span class="hljs-tag">"\\</span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">.</span></span></span></span><span class="xml"><span class="hljs-tag">"); //   ,    </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">if</span></span></span></span><span class="xml"><span class="hljs-tag"> ((</span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">int</span></span></span></span><span class="xml"><span class="hljs-tag">(</span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">date</span></span></span></span><span class="xml"><span class="hljs-tag">[</span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">1</span></span></span></span><span class="xml"><span class="hljs-tag">]) &lt;= </span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">12)</span></span></span></span><span class="xml"><span class="hljs-tag"> &amp;&amp; (</span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">int</span></span></span></span><span class="xml"><span class="hljs-tag">(</span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">date</span></span></span></span><span class="xml"><span class="hljs-tag">[</span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">1</span></span></span></span><span class="xml"><span class="hljs-tag">]) &gt;</span></span></span></span> 0) &amp;&amp; (int(date[<span class="hljs-string"><span class="hljs-string">0</span></span>]) <span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">=</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">31</span></span></span></span><span class="xml"><span class="hljs-tag">) &amp;&amp; (</span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">int</span></span></span></span><span class="xml"><span class="hljs-tag">(</span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">date</span></span></span></span><span class="xml"><span class="hljs-tag">[</span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">0</span></span></span></span><span class="xml"><span class="hljs-tag">]) &gt;</span></span></span></span> 0)) { //      table[<span class="hljs-string"><span class="hljs-string">int(date[1</span></span>])-1][<span class="hljs-string"><span class="hljs-string">int(date[0</span></span>])-1]++; //    1 } } table[<span class="hljs-string"><span class="hljs-string">1</span></span>][<span class="hljs-symbol"><span class="hljs-symbol">29</span></span>] = 0; //30  table[<span class="hljs-string"><span class="hljs-string">1</span></span>][<span class="hljs-symbol"><span class="hljs-symbol">30</span></span>] = 0; //31  table[<span class="hljs-string"><span class="hljs-string">3</span></span>][<span class="hljs-symbol"><span class="hljs-symbol">30</span></span>] = 0; //31  table[<span class="hljs-string"><span class="hljs-string">5</span></span>][<span class="hljs-symbol"><span class="hljs-symbol">30</span></span>] = 0; //31  table[<span class="hljs-string"><span class="hljs-string">8</span></span>][<span class="hljs-symbol"><span class="hljs-symbol">30</span></span>] = 0; //31  table[<span class="hljs-string"><span class="hljs-string">10</span></span>][<span class="hljs-symbol"><span class="hljs-symbol">30</span></span>] = 0; //31  int mi = table[<span class="hljs-string"><span class="hljs-string">0</span></span>][<span class="hljs-symbol"><span class="hljs-symbol">0</span></span>]; //  int ma = table[<span class="hljs-string"><span class="hljs-string">0</span></span>][<span class="hljs-symbol"><span class="hljs-symbol">0</span></span>]; //  for (int i = 0; i <span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt; </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">table.length</span></span></span></span><span class="xml"><span class="hljs-tag">; </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">i</span></span></span></span><span class="xml"><span class="hljs-tag">++) { </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">if</span></span></span></span><span class="xml"><span class="hljs-tag"> ((</span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">min</span></span></span></span><span class="xml"><span class="hljs-tag">(</span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">table</span></span></span></span><span class="xml"><span class="hljs-tag">[</span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">i</span></span></span></span><span class="xml"><span class="hljs-tag">]) &lt; </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">mi</span></span></span></span><span class="xml"><span class="hljs-tag">) &amp;&amp; (</span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">min</span></span></span></span><span class="xml"><span class="hljs-tag">(</span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">table</span></span></span></span><span class="xml"><span class="hljs-tag">[</span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">i</span></span></span></span><span class="xml"><span class="hljs-tag">]) &gt;</span></span></span></span> 0)) { //           mi = min(table[<span class="hljs-string"><span class="hljs-string">i</span></span>]); //    } if (max(table[<span class="hljs-string"><span class="hljs-string">i</span></span>]) &gt; ma) { //        ma = max(table[<span class="hljs-string"><span class="hljs-string">i</span></span>]); //    } } color c = color(54, 99, 142); noStroke(); for (int i = 0; i <span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt; </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">table.length</span></span></span></span><span class="xml"><span class="hljs-tag">; </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">i</span></span></span></span><span class="xml"><span class="hljs-tag">++) { //   </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">for</span></span></span></span><span class="xml"><span class="hljs-tag"> (</span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">int</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">j</span></span></span></span><span class="xml"><span class="hljs-tag"> = </span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">0;</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">j</span></span></span></span><span class="xml"><span class="hljs-tag"> &lt; </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">table</span></span></span></span><span class="xml"><span class="hljs-tag">[</span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">i</span></span></span></span><span class="xml"><span class="hljs-tag">]</span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">.length</span></span></span></span><span class="xml"><span class="hljs-tag">; </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">j</span></span></span></span><span class="xml"><span class="hljs-tag">++) { //   </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">if</span></span></span></span><span class="xml"><span class="hljs-tag"> (</span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">table</span></span></span></span><span class="xml"><span class="hljs-tag">[</span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">i</span></span></span></span><span class="xml"><span class="hljs-tag">][</span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">j</span></span></span></span><span class="xml"><span class="hljs-tag">] &gt;</span></span></span></span> 0) { fill(c, map(table[<span class="hljs-string"><span class="hljs-string">i</span></span>][<span class="hljs-symbol"><span class="hljs-symbol">j</span></span>], 12, ma, 0, 255)); //  rect(10+41<span class="hljs-emphasis"><span class="hljs-emphasis">*i, 10+21*</span></span>j, 40, 20); //     } } } }</code> </pre> <br><br><img src="https://habrastorage.org/getpro/habr/post_images/ff9/5be/760/ff95be760f0d4c58f8b5a7c262eb5eb1.jpg"><br><br><p>    ?    -   1 .         .      300 000 , 1       ,     . ,      , ,       ,     .            .   ,    ,   <b>table[0][0]</b>  .   ,   <b>saveFrame(¬´frame.jpg¬ª);</b>    .         . </p><br><br><p>   : </p><br><br><pre> <code class="hljs markdown">void setup() { size(512, 671); //  background(255); //  -  String[<span class="hljs-string"></span><span class="hljs-string"></span>] file = loadStrings("data/bdates.txt"); //    int[<span class="hljs-string"></span><span class="hljs-string"></span>][<span class="hljs-symbol"></span><span class="hljs-symbol"></span>] table = new int[<span class="hljs-string"><span class="hljs-string">12</span></span>][<span class="hljs-symbol"><span class="hljs-symbol">31</span></span>]; for (int i = 0; i <span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt; </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">file.length</span></span></span></span><span class="xml"><span class="hljs-tag">; </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">i</span></span></span></span><span class="xml"><span class="hljs-tag">++) { //    </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">String</span></span></span></span><span class="xml"><span class="hljs-tag">[] </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">date</span></span></span></span><span class="xml"><span class="hljs-tag"> = </span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">file[i].split(</span></span></span></span><span class="xml"><span class="hljs-tag">"\\</span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">.</span></span></span></span><span class="xml"><span class="hljs-tag">"); //   ,    </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">if</span></span></span></span><span class="xml"><span class="hljs-tag"> ((</span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">int</span></span></span></span><span class="xml"><span class="hljs-tag">(</span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">date</span></span></span></span><span class="xml"><span class="hljs-tag">[</span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">1</span></span></span></span><span class="xml"><span class="hljs-tag">]) &lt;= </span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">12)</span></span></span></span><span class="xml"><span class="hljs-tag"> &amp;&amp; (</span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">int</span></span></span></span><span class="xml"><span class="hljs-tag">(</span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">date</span></span></span></span><span class="xml"><span class="hljs-tag">[</span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">1</span></span></span></span><span class="xml"><span class="hljs-tag">]) &gt;</span></span></span></span> 0) &amp;&amp; (int(date[<span class="hljs-string"><span class="hljs-string">0</span></span>]) <span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt;</span></span><span class="hljs-name"><span class="xml"><span class="hljs-tag"><span class="hljs-name">=</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">31</span></span></span></span><span class="xml"><span class="hljs-tag">) &amp;&amp; (</span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">int</span></span></span></span><span class="xml"><span class="hljs-tag">(</span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">date</span></span></span></span><span class="xml"><span class="hljs-tag">[</span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">0</span></span></span></span><span class="xml"><span class="hljs-tag">]) &gt;</span></span></span></span> 0)) { //      table[<span class="hljs-string"><span class="hljs-string">int(date[1</span></span>])-1][<span class="hljs-string"><span class="hljs-string">int(date[0</span></span>])-1]++; //    1 } } table[<span class="hljs-string"><span class="hljs-string">0</span></span>][<span class="hljs-symbol"><span class="hljs-symbol">0</span></span>] = 0; //1  table[<span class="hljs-string"><span class="hljs-string">1</span></span>][<span class="hljs-symbol"><span class="hljs-symbol">29</span></span>] = 0; //30  table[<span class="hljs-string"><span class="hljs-string">1</span></span>][<span class="hljs-symbol"><span class="hljs-symbol">30</span></span>] = 0; //31  table[<span class="hljs-string"><span class="hljs-string">3</span></span>][<span class="hljs-symbol"><span class="hljs-symbol">30</span></span>] = 0; //31  table[<span class="hljs-string"><span class="hljs-string">5</span></span>][<span class="hljs-symbol"><span class="hljs-symbol">30</span></span>] = 0; //31  table[<span class="hljs-string"><span class="hljs-string">8</span></span>][<span class="hljs-symbol"><span class="hljs-symbol">30</span></span>] = 0; //31  table[<span class="hljs-string"><span class="hljs-string">10</span></span>][<span class="hljs-symbol"><span class="hljs-symbol">30</span></span>] = 0; //31  int mi = table[<span class="hljs-string"><span class="hljs-string">0</span></span>][<span class="hljs-symbol"><span class="hljs-symbol">0</span></span>]; //  int ma = table[<span class="hljs-string"><span class="hljs-string">0</span></span>][<span class="hljs-symbol"><span class="hljs-symbol">0</span></span>]; //  for (int i = 0; i <span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt; </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">table.length</span></span></span></span><span class="xml"><span class="hljs-tag">; </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">i</span></span></span></span><span class="xml"><span class="hljs-tag">++) { </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">if</span></span></span></span><span class="xml"><span class="hljs-tag"> ((</span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">min</span></span></span></span><span class="xml"><span class="hljs-tag">(</span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">table</span></span></span></span><span class="xml"><span class="hljs-tag">[</span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">i</span></span></span></span><span class="xml"><span class="hljs-tag">]) &lt; </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">mi</span></span></span></span><span class="xml"><span class="hljs-tag">) &amp;&amp; (</span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">min</span></span></span></span><span class="xml"><span class="hljs-tag">(</span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">table</span></span></span></span><span class="xml"><span class="hljs-tag">[</span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">i</span></span></span></span><span class="xml"><span class="hljs-tag">]) &gt;</span></span></span></span> 0)) { //           mi = min(table[<span class="hljs-string"><span class="hljs-string">i</span></span>]); //    } if (max(table[<span class="hljs-string"><span class="hljs-string">i</span></span>]) &gt; ma) { //        ma = max(table[<span class="hljs-string"><span class="hljs-string">i</span></span>]); //    } } color c = color(54, 99, 142); noStroke(); for (int i = 0; i <span class="xml"><span class="hljs-tag"><span class="xml"><span class="hljs-tag">&lt; </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">table.length</span></span></span></span><span class="xml"><span class="hljs-tag">; </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">i</span></span></span></span><span class="xml"><span class="hljs-tag">++) { //   </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">for</span></span></span></span><span class="xml"><span class="hljs-tag"> (</span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">int</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">j</span></span></span></span><span class="xml"><span class="hljs-tag"> = </span></span><span class="hljs-string"><span class="xml"><span class="hljs-tag"><span class="hljs-string">0;</span></span></span></span><span class="xml"><span class="hljs-tag"> </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">j</span></span></span></span><span class="xml"><span class="hljs-tag"> &lt; </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">table</span></span></span></span><span class="xml"><span class="hljs-tag">[</span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">i</span></span></span></span><span class="xml"><span class="hljs-tag">]</span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">.length</span></span></span></span><span class="xml"><span class="hljs-tag">; </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">j</span></span></span></span><span class="xml"><span class="hljs-tag">++) { //   </span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">if</span></span></span></span><span class="xml"><span class="hljs-tag"> (</span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">table</span></span></span></span><span class="xml"><span class="hljs-tag">[</span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">i</span></span></span></span><span class="xml"><span class="hljs-tag">][</span></span><span class="hljs-attr"><span class="xml"><span class="hljs-tag"><span class="hljs-attr">j</span></span></span></span><span class="xml"><span class="hljs-tag">] &gt;</span></span></span></span> 0) { fill(c, map(table[<span class="hljs-string"><span class="hljs-string">i</span></span>][<span class="hljs-symbol"><span class="hljs-symbol">j</span></span>], 12, ma, 0, 255)); //  rect(10+41<span class="hljs-emphasis"><span class="hljs-emphasis">*i, 10+21*</span></span>j, 40, 20); //     } } } saveFrame("frame.jpg"); // }</code> </pre> <br><br><img src="https://habrastorage.org/getpro/habr/post_images/30d/8ad/7d0/30d8ad7d0cd5dcc31edfb072a743e905.jpg"><br><br><p>  Done!        ,   , ,       .    300 000  (,       100 ,       ‚Äî  ,  -      Processing),      (    ): </p><br><br><img src="https://habrastorage.org/getpro/habr/post_images/9c6/e28/cd4/9c6e28cd471964aecf4aedaba5aed818.jpg"><br><br><p>        !  ;] </p></div><p>Source: <a href="https://habr.com/ru/post/144531/">https://habr.com/ru/post/144531/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../144522/index.html">Buongiorno, 2GIS!</a></li>
<li><a href="../144525/index.html">Charging for usability</a></li>
<li><a href="../144527/index.html">Happy Birthday, Habrahabr!</a></li>
<li><a href="../144529/index.html">Hack Opera on Hack2own!</a></li>
<li><a href="../144530/index.html">Fuzzy for iPad: Comics and demotivators are being replaced by threads</a></li>
<li><a href="../144532/index.html">Five advantages of procrastination</a></li>
<li><a href="../144535/index.html">Using the Google Speech API to manage your computer</a></li>
<li><a href="../144536/index.html">Bank St. Petersburg has released an online bank for Android</a></li>
<li><a href="../144537/index.html">QR codes on beer glasses</a></li>
<li><a href="../144538/index.html">Free Visual Studio 11 will only work with Metro UI</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>