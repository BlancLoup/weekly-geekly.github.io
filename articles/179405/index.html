<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Management of databases 1C 8.2</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="One of the rules of time management - If there is a person to whom you can delegate the task - delegate. 

 Prehistory 
 As I reached the point that -...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Management of databases 1C 8.2</h1><div class="post__text post__text-html js-mediator-article">  One of the rules of time management - If there is a person to whom you can delegate the task - delegate. <br><br><h4>  Prehistory </h4><br>  As I reached the point that - I, the system administrator!  - began to ask questions of work 1C? <br>  The tirade in my original article, which hardly anyone read, concerned which 1C developers were lazy, and 1C manufacturers themselves, that some had a lot of functions, but others didn‚Äôt describe well enough, others were too lazy to figure out, and piled the whole routine on the system administrators, who there is nothing to do, except for sweeping the IT elite.  I think no one here will praise me for such reasoning.  Although praise is not particularly looking for.  The only goal is for it to be useful to someone who is a correct bummer-admin, and does not like to do the same thing many times.  And now how it was. <br>  I was faced with such a state of affairs that our 1C developers add handles to all the employees, are present at the employee‚Äôs workplace, or ask us to do this remotely by connecting to the user's desktop and repeating everything with a mouse. <br>  It looks like this: <br><blockquote>  - Misha, add Vasya Pupkin base: 1C-server: 1551 "buh_prod" <br>  - What to call her? <br>  - Accounting </blockquote><br>  And do not think that next time this 1C developer will tell me that this database can be called just as well.  As a result, we have the same base for different employees called differently.  Beauty isn't it ?! <br>  Another aspect of this problem is that the Employee must be in place, the computer is turned on, and he must have time (5 minutes) so that I can do all this.  If an employee is not there, then you can imagine how much labor is required from me to catch this employee, coordinate with him the time and do it.  And if this employee is at a remote office, on a laptop, and rarely happens on the network, plus the difference in Vladivostok-Moscow belts, this adds to the thrill of sensations.  Of course, you can still throw a label into the mail, but developers very rarely use this 1C - either they don‚Äôt know or don‚Äôt want to, or they worry for us that we‚Äôre left without work, for which they have a special thanks and diarrhea. <br>  Baz we have about fifteen.  Each group has a separate set of bases.  And there are those who have a strictly individual list. <br>  You will like the next picture even more. <br>  There is an order from the head of 1S'nikov that the three departments need to change the base, since  she moved to another server.  Then I will not spend letters, because  All that I described above multiply by thirty people, twenty of whom are in another office or even another city.  Cool problem. <br>  I do not remember how many times, I, such turmoil made, but there were more than ten.  After that, I wondered what ways to optimize this process is by unix-way. <br>  And I began to read ... I read it for a long time ... I read it persistently ... I absolutely did not like the documentation of 1C - it was written as if I had already done it, so they leave most of the idea between the lines.  Rays of diarrhea in the 1C online help writers.  As it usually happens, I found a more or less understandable instruction on my personal blog, I don‚Äôt remember already whom. <br><a name="habracut"></a><br><h4>  Theory of device configuration files </h4><br>  In 1C, everything is organized that concerns the database lists in plain text, readable files with the .cfg and .v8i extensions, in the utf-8 encoding.  So, as you probably guess, you can do everything the same without interrupting the user by opening the file over the network with a normal text editor and editing it directly. <br><br><h5>  Location of files on the user side </h5><br>  The user on the computer 1C 8.2 stores the files of the lists of databases in directories: 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      <u>For Windows XP:</u> <br>  All users profile: : \ Documents and Settings \ All Users \ Application Data \ 1C \ 1CEstart \ <br>  User Profile: : \ Documents and Settings \% username% \ Application Data \ 1C \ 1CEstart \ <br><br>  <u>For Windows 7:</u> <br>  All users profile: C: \ ProgramData \ 1C \ 1CEStart \ <br>  User profile: C: \ Users \% username% \ AppData \ Roaming \ 1C \ 1CEStart \ <br><br>  User profile content - two files: 1CEStart.cfg, ibases.v8i. <br>  The content of the profile directory of all users is only one, 1CEStart.cfg. <br><br>  When running, 1C takes the list of databases to a representation in the user file C: \ Users \% username% \ AppData \ Roaming \ 1C \ 1CEStart \ ibases.v8i, but first reads the settings first from the profile of all users C: \ ProgramData \ 1C \ 1CEStart \ 1CEStart.cfg, and then from the user profile C: \ Users \% username% \ AppData \ Roaming \ 1C \ 1CEStart \ 1CEStart.cfg, and if they contain links to configuration databases on the network, then add them to this file. <br><br><h5>  File Description 1CEStart.cfg </h5><br>  In the profile of all users, the configuration file C: \ ProgramData \ 1C \ 1CEStart \ 1CEStart.cfg has the following content: <br><pre><code class="1c hljs">InstalledLocation=C:\Program Files (x86)\<span class="hljs-number"><span class="hljs-number">1</span></span>cv82 InstallComponents=DESIGNERALLCLIENTS=<span class="hljs-number"><span class="hljs-number">1</span></span> THINCLIENTFILE=<span class="hljs-number"><span class="hljs-number">1</span></span> THINCLIENT=<span class="hljs-number"><span class="hljs-number">0</span></span> WEBSERVEREXT=<span class="hljs-number"><span class="hljs-number">0</span></span> SERVER=<span class="hljs-number"><span class="hljs-number">0</span></span> CONFREPOSSERVER=<span class="hljs-number"><span class="hljs-number">0</span></span> CONVERTER77=<span class="hljs-number"><span class="hljs-number">0</span></span> SERVERCLIENT=<span class="hljs-number"><span class="hljs-number">0</span></span> LANGUAGES=RU</code> </pre> <br>  Where: <br>  <code>InstalledLocation</code> - contains an indication of the directory where 1C: Enterprise was installed.  The default value is C: \ Program Files (x86) \ 1Cv82. <br>  <code>CommonCfgLocation</code> - specifies the path and name of the common configuration file.  Multiple lines with this parameter are allowed. <br>  <code>CommonInfoBases</code> - indicates the path and file name (.v8i) with a list of common information databases. <br>  <code>DistributiveLocation</code> - contains an indication of the directory in which a new version will be searched for automatic installation. <br>  <code>InstallComponents</code> - In the local configuration file (1CEStart.cfg) contains a list of installed components with a sign, you need to install the component - 1, or not - 0. <br><br>  The following components of the InstallComponents parameter are possible: <br>  <code>DESIGNERALLCLIENTS</code> - all clients and configurator. <br>  <code>THINCLIENT</code> is a thin client for a client-server version of work. <br>  <code>THINCLIENTFILE</code> - thin client with the ability to work with file information databases. <br>  <code>SERVER</code> - 1C: Enterprise server.  If the installation program is launched from the startup program, the server will be installed as an application. <br>  <code>WEBSERVEREXT</code> - extension components for the web server. <br>  <code>CONFREPOSSERVER</code> - 1C: Enterprise configuration storage server. <br>  <code>SERVERCLIENT</code> - components for administering a cluster of 1C: Enterprise servers. <br>  <code>CONVERTER77</code> - information database converter from 1C: Enterprise version 7.7. <br>  <code>LANGUAGES</code> - list of interface languages ‚Äã‚Äãfor installation.  If several languages ‚Äã‚Äãare indicated, they are listed through ‚Äù,‚Äù.  Example: <code>LANGUAGES=RU,UK,BG</code> <br><br>  In the user profile, the configuration file C: \ Users \% username% \ AppData \ Roaming \ 1C \ 1CEStart \ 1CEStart.cfg is initially empty.  But, if any settings need to be made individually for a specific user, then it will write to him, and here his settings keys will have a higher priority, but not all.  This is a separate question. I‚Äôm not going to litter my head right now. <br><br><h5>  File Description ibases.v8i </h5><br>  The second important database file that is in the user‚Äôs profile is C: \ Users \% username% \ AppData \ Roaming \ 1C \ 1CEStart \ ibases.v8i.  In it the final list of bases also gathers.  An example of its content: <br><pre> <code class="1c hljs">[PhoneBook] Connect=Srvr=<span class="hljs-string"><span class="hljs-string">"1C-server:1551"</span></span>;Ref=<span class="hljs-string"><span class="hljs-string">"phonebook"</span></span>; ID=<span class="hljs-number"><span class="hljs-number">34891493</span></span>-<span class="hljs-number"><span class="hljs-number">907</span></span>f-<span class="hljs-number"><span class="hljs-number">4783</span></span>-<span class="hljs-number"><span class="hljs-number">8</span></span>a37-<span class="hljs-number"><span class="hljs-number">3</span></span>cbc092a989a OrderInList=<span class="hljs-number"><span class="hljs-number">16640</span></span> Folder=/ OrderInTree=<span class="hljs-number"><span class="hljs-number">16640</span></span> External=<span class="hljs-number"><span class="hljs-number">1</span></span> ClientConnectionSpeed=Normal App=ThinClient WA=<span class="hljs-number"><span class="hljs-number">1</span></span> Version=<span class="hljs-number"><span class="hljs-number">8.2</span></span> [ITIL] Connect=File=<span class="hljs-string"><span class="hljs-string">"\\Dvc-server\it\Equipment\Rarus\ITIL"</span></span>; ID=<span class="hljs-number"><span class="hljs-number">2829</span></span>c91a-<span class="hljs-number"><span class="hljs-number">137</span></span>f-<span class="hljs-number"><span class="hljs-number">457</span></span>c-<span class="hljs-number"><span class="hljs-number">93</span></span>fe-<span class="hljs-number"><span class="hljs-number">9</span></span>e74c8ec5ee4 OrderInList=<span class="hljs-number"><span class="hljs-number">16384</span></span> Folder=/ OrderInTree=<span class="hljs-number"><span class="hljs-number">256</span></span> External=<span class="hljs-number"><span class="hljs-number">1</span></span> ClientConnectionSpeed=Normal App=Auto WA=<span class="hljs-number"><span class="hljs-number">1</span></span> Version=<span class="hljs-number"><span class="hljs-number">8.2</span></span>.<span class="hljs-number"><span class="hljs-number">14.540</span></span></code> </pre><br>  Where: <br>  <code>[phonebook]</code> - the name of the base 1C.  It can be both Russian letters and English.  This is what the user sees. <br><pre> <code class="1c hljs">Connect=Srvr=<span class="hljs-string"><span class="hljs-string">"1C-server:1551"</span></span>;Ref=<span class="hljs-string"><span class="hljs-string">"phonebook"</span></span>; -   . <span class="hljs-string"><span class="hljs-string">| | | | | | | |-     1. | | |-------------  ,    . | |---------------------  . |-----------------------------    : Srvr, File, ws - -.</span></span></code> </pre><br>  <code>ID=34891493-907f-4783-8a37-3cbc092a989a</code> - automatically generated unique code base.  If two entries have the same ID, then this is one base. <br>  <code>OrderInList=16640</code> - order in the list of databases, when the bases are represented by one common list without subdirectories;  This parameter from the network list is synchronized only to the clean ibases.v8i, if the user‚Äôs ibases.v8i is already filled with this base and this parameter will not be overwritten when it changes on the network. <br>  <code>Folder=/</code> - sets a place in the directory tree, if the view of the list of databases is set by the tree;  This parameter has the priority of the user, and does not change when changing in the network config. <br>  <code>OrderInTree=16640</code> - order in the tree, when the list of databases is represented as a hierarchy of subdirectories;  This parameter also has user priority, and is synchronized only when the database is added for the first time, and then only the local user can change it. <br>  <code>External=1</code> - external connected configuration entry or not.  When 0 then the base is present only in this file.  In this situation, this entry is imported from the .v8i database list file from the network.  This is an identifier, if it is a list of databases located on the network (shared), then this parameter can be completely removed from the configuration file. <br>  <code>ClientConnectionSpeed=Normal</code> - client connection speed.  Options can be ‚ÄúNofmal‚Äù and ‚ÄúLow‚Äù.  The logic is clear without my search.  This parameter is interactive and synchronized with network location every time 1C is started. <br>  <code>App=Auto</code> - type of client connection.  There are three types: <br>  - Auto - determined by the server; <br>  - ThinClient - thin client; <br>  - ThickClient is a fat client. <br>  This parameter is interactive and is synchronized each time you run 1C. <br>  <code>WA=1</code> - this parameter indicates that the system should use windows authentication.  This parameter is interactive and is synchronized each time you run 1C. <br>  <code>Version=8.2</code> - the version used for this database.  If you specify fully specifying which platform to use, then it will use the platform that you specify, as, for example, in the second record - Version = 8.2.14.540.  This parameter is interactive and synchronizes with the network config each time you run 1C. <br>  There is also such a parameter as <code>DefaultApp</code> - the default client connection type, if the configuration for the database is not specified, and <code>DefaultVersion</code> - the <code>DefaultVersion</code> version to use, if not specified in the configuration for the database.  This parameter is custom, and is synchronized to a clean database file when it is first run.  Further this parameter is controlled by the local user. <br><br><h5>  Links to network configuration files </h5><br>  The beauty of this whole scheme of work is that 1C manufacturers have provided the opportunity to look into the configuration files located on the network.  This is implemented by editing: <br><ul><li>  or in the configuration file of all users C: \ ProgramData \ 1C \ 1CEStart \ 1CEStart.cfg, if we want to show the bases for all users of the computer; </li><li>  or in the configuration file of a specific user C: \ Users \% username% \ AppData \ Roaming \ 1C \ 1CEStart \ 1CEStart.cfg, if we want to show the databases only to a specific user on the computer. </li></ul><br>  And you can add parameters: <br><ul><li>  or <code>CommonCfgLocation=\\server\1C\config\bases.cfg</code> - specifies the path and name of the common configuration file.  Multiple lines with this parameter are allowed.  The file name does not play a fundamental role, as long as the extension is preserved; </li><li>  or <code>CommonInfoBases=\\server\1C\config\buh_bases.v8i</code> - specifies the path and file name (.v8i) with the list of common information databases.  The file name does not play a fundamental role, as long as the extension is preserved; </li><li>  or in combination of both, and a lot of lines. </li></ul><br>  It should be noted that on the network we must place files with the extension .cfg and .v8i, and the corresponding content. <br><br><h4>  Idea of ‚Äã‚Äãusing opportunities </h4><br>  The idea is to make edits with the least amount of repetition.  If the settings of the database or its location on the server have changed, then by correcting the record once in one place, we will receive up-to-date information on all computers. <br>  To do this, you need to make the ball on the network: <code>\\server\1C\</code> .  In this ball make at least two directories: <br>  .. \ bases \ <br>  Directory listing: <br><pre> <code class="bash hljs">\\server\1C\bases\.. .. base1.v8i base2.v8i base3.v8i base4.v8i</code> </pre><br>  Files with the extension .v8i will be stored in this directory.  These files will have within themselves the settings of only one base for each file.  And you should specify only those parameters, settings that are critical for this particular database, everything else will automatically be substituted by default.  Sample file: <br><pre> <code class="1c hljs">[ ] Connect= ClientConnectionSpeed=Normal App=Auto WA=<span class="hljs-number"><span class="hljs-number">1</span></span> Version=<span class="hljs-number"><span class="hljs-number">8.2</span></span></code> </pre><br>  You should avoid using the <code>ID</code> parameter, since  1C developers use to create a new database of copy-paste from the existing database.  A database with a single ID will conflict. <br>  .. \ groups \ <br>  Directory listing: <br><pre> <code class="bash hljs">\\server\1C\bases\.. .. buh.cfg fin.cfg managers.cfg</code> </pre><br>  Files with the extension .cfg will be stored in this directory.  These files will have links to the bases in the .. \ bases \ directory.  Sample file: <br><pre> <code class="1c hljs">CommonInfoBases=\\server\<span class="hljs-number"><span class="hljs-number">1</span></span>C\bases\base1.v8i CommonInfoBases=\\server\<span class="hljs-number"><span class="hljs-number">1</span></span>C\bases\base2.v8i</code> </pre><br>  In this directory we create individual for a group of users or for a specific user lists of databases.  We refer to the files from this group in the configuration files of the user's operating system. <br>  With this scheme, we bring the management of lists of 1C user databases to the network for non-administrators.  Give the developers 1C access to the network directory with configuration files and let them play as they wish. <br>  And if you need to change the settings of a base, then we correct it only once in the file \\ server \ 1C \ bases \ base.v8i, and this will affect all users, because  All users view information about the database in this file. <br><br><h4>  Result </h4><br>  The result of this build configuration files: <br><ul><li>  Correct the base name, location, launch parameters - everything can be done in one place and once. </li><li>  Unification of database names - all users know about the database by one common name. </li><li>  The user himself will not be able to break the configuration settings, because  they are not stored on his computer. </li><li>  The process of managing the list of databases on the user's computer can be returned back to 1C specialists. </li><li>  Ability to correct configuration files, even if the user is sleeping far behind time zones, and the computer is currently turned off. </li></ul><br><br>  <b>PS</b> <br>  <i>If you think that this was the most difficult part of the work, then you are deeply mistaken.</i> <i><br></i> <ol><li>  <i>Instructions on the corporate wiki, how it works.</i> </li><li>  <i>All possible assistance in locating the configuration file, or database, as well as adding the necessary links to users.</i> </li><li>  <i>Six months for a smooth introduction to the new scheme of work.</i> </li></ol> <i><br></i>  <i>These factors did not help me transplant our 1S'nikov to a convenient work scheme for them.</i> <i><br></i>  <i>But, I spend on it much less time.</i> </div><p>Source: <a href="https://habr.com/ru/post/179405/">https://habr.com/ru/post/179405/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../179393/index.html">Lomogram Windows Phone Statistics</a></li>
<li><a href="../179395/index.html">Studying Rails (well, Ruby)</a></li>
<li><a href="../179397/index.html">Mnemonic: you can remember even numbers</a></li>
<li><a href="../179399/index.html">PHP is created to die</a></li>
<li><a href="../179403/index.html">Facebook in real life</a></li>
<li><a href="../179411/index.html">Stand-alone application RAP</a></li>
<li><a href="../179413/index.html">Passed DConf 2013 - Conference on the programming language D</a></li>
<li><a href="../179417/index.html">A dream for a million</a></li>
<li><a href="../179419/index.html">The Ubuntu Touch team hopes to provide pre-release of their OS, suitable for daily use, by the end of May</a></li>
<li><a href="../179425/index.html">Using Liquibase without a headache. 10 tips from real development experience</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>