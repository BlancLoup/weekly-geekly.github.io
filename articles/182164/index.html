<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Dryad. Distributed Computing Framework</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Imagine a general purpose framework for distributed execution of applications with the following statistics *: 


 * Statistics for 2011. 

 Now imagi...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Dryad. Distributed Computing Framework</h1><div class="post__text post__text-html js-mediator-article">  Imagine a <em>general purpose framework for distributed execution of applications</em> with the following statistics *: <br><br><img src="https://habrastorage.org/storage2/4b6/ca3/bd6/4b6ca3bd61fec53af642af18a06421a3.png"><br>  * Statistics for 2011. <br><br>  <em>Now imagine that this is not Hadoop.</em> 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      It‚Äôs about what the framework is, about the ideas and concepts that underlie it, and why this framework is even more innovative (subjective) than Hadoop will be discussed below. <br><a name="habracut"></a><br><h2>  1. Dryad.  General information <br></h2><br>  <strong>Dryad</strong> is <em>a general purpose software framework for distributed application execution</em> .  Dryad is a project of <em>Microsoft Research</em> .  The central concept of the Dryad project is the construction of a <em>directed acyclic graph</em> (directed acyclic graph, DAG) for each distributed task.  <em>The vertices of the graph</em> are <em>operations on the data</em> (in fact, programs), and the <em>edges of the graph</em> are the <em>channels</em> through which data is transmitted. <br><br>  Abstraction based on a directed acyclic graph model makes it possible to effectively implement the execution plans of a large number of <em>parallel algorithms</em> , <em>iterative algorithms</em> , <em>machine learning</em> algorithms.  Thus, the only (before the appearance of <strong><a href="http://www.codeinstinct.pro/2012/11/hadoop-mapreduce-2-0.html">YARN</a></strong> ) <em>program map / reduce model</em> implemented in Hadoop ** is, in essence, only a <em>special case of the distributed computation model provided by Dryad</em> . <br><br>  Dryad is optimized for running on a medium or large computing cluster (from 100 to 10K computing nodes) and is aimed mainly at long batch tasks that do not require frequent interactions. <br><br><h3>  2004 ... 2008 <br></h3><br>  Attempts to deal with the past, present and future of Dryad led me to a rather limited number of articles, the authors of which, referring to and not to the original sources, argue that: <br><ul><li>  the idea of ‚Äã‚Äãbuilding such a system appeared in 2004 (analogy with Google MapReduce) from Michael Isard (later he took the position of a researcher at Microsoft); <br></li><li>  In 2006, Dryad presented Bill Gates himself at one of the Computer Science conferences; <br></li><li>  Dryad is adapted and used in Bing, Microsoft AdCenter, <strike>Kinect</strike> , Windows HPC Server 2008 R2 (the latter is known reliably). <br></li></ul><br><h3>  2008 ... 2009 <br></h3><br>  One of the fundamental documents describing the concepts laid down in Dryad won the <em>Best Paper</em> award at <em>OSDI'08</em> (USENIX Symposium on Operating Systems Design and Implementation). <br><br>  In November 2009, Dryad became <em>available under an academic license</em> . <br><br><h3>  2010 ... 2011 <br></h3><br>  In 2011, the Windows HPC Team <em>announced the beta version of LINQ to HPC</em> (Dryad for Windows HPC Server) for the corresponding Windows OS line.  In the same year, it was announced that <em>LINQ to HPC "will not be released" from the preview version</em> (that is, in fact, about the termination of support). <br><br><h3><del>  2012 ... 2013 </del>  / <strong>UPD</strong> / <br></h3><br>  It is worth noting that the Windows HPC Team did not say anything (and could not say in principle) about the support / development of the Dryad Project.  There were no other statements about the further support of Dryad or, on the contrary, an unambiguous refusal of support during the past (2012) and this year. <br><br><h2>  2. Dryad Ecosystem <br></h2><br><img src="https://habrastorage.org/getpro/habr/post_images/c6f/0a8/a0e/c6f0a8a0e626b4e717b1f937cc8d807e.png" alt="data parallel computing"><br><br>  The Dryad project consists of 3 key components: <br><ul><li>  <strong>Dryad</strong> - runtime (runtime) of distributed applications (hereinafter, in order to avoid ambiguity, we will call this component Dryad Runtime); <br></li><li>  <strong>DryadLINQ</strong> is a high-level query language based on the .NET Language Integrated programming model. <br>  Query (LINQ); <br></li><li>  <strong>Distributed Storage Catalog</strong> (DSC) is a distributed file system with configurable redundancy. <br></li></ul><br><img alt="Dryad. Software stack" src="https://habrastorage.org/getpro/habr/post_images/e8d/718/d8e/e8d718d8e0146d058fe851e86e2b7554.png"><br><br>  Below we take a closer look at the elements of the Dryad ecosystem: the Dryad runtime and the DryadLINQ query language. <br><br><h2>  3. Dryad Runtime <br></h2><br>  Dryad runtime is a distributed application <em>execution environment</em> , like Hadoop, taking on such functions as: <br><ul><li>  planning and management of distributed tasks; </li><li>  resource management; </li><li>  fault tolerance; </li><li>  monitoring. </li></ul><br><img alt="Dryad Infrastructure" src="https://habrastorage.org/getpro/habr/post_images/f56/cfd/de7/f56cfdde7ad67f7722a7d9c91960bc87.png"><br><br>  The task in the <em>Dryad runtime</em> is a <em>directed acyclic graph</em> , where the <em>vertices</em> are <em>programs</em> , and the <em>edges of the graph</em> are <em>data channels</em> .  This logical graph is reflected (mapped) by the executable medium on the physical resources in the cluster.  In general, the case of the number of vertices in the graph exceeds the number of physical computing nodes in the cluster. <br><br><img alt="Dryad. Execution graph" src="https://habrastorage.org/getpro/habr/post_images/7c8/40a/985/7c840a985775cd179e8ee47592154fca.png"><br><h3>  3.1.  Data feeds <br></h3><br>  Data channels, as well as vertices, are abstractions and are represented by: <br><ul><li>  <strong>Shared-memory FIFO</strong> (intra-machine): the fastest way to exchange data between operations (graph vertices), but operations must be performed within a single computing node; <br></li><li>  <strong>TCP pipes</strong> (inter-machine): channel that does not require access to the disk (we avoid the overhead associated with writing / reading data from the disk);  the channel can only be used if the operations between which the data is transmitted are available at the time of transmission; <br></li><li>  <strong>SMB / NTFS files</strong> (temporary files): output sent over the channel is recorded <br>  to disk, input data is read;  default channel. <br></li></ul><br>  The need to disclose information about the physical resources of the cluster for the most efficient execution of a distributed task makes the channel abstraction not as ‚Äúclean‚Äù as it seems at first glance.  Nevertheless, the developer of a distributed application "does not see" a violation of the abstraction "channel", since  it hides under other levels (task manager), which will be discussed below. <br><br><h3>  3.2.  Data model </h3><br>  Dryad's data model is a <em>shared-nothing architecture</em> .  The advantages of this architecture traditionally include <em>scalability</em> , no need to support <em>tracking changes</em> , the implementation of <em>complex transactions</em> , the use of <em>synchronization primitives</em> .  The Dryad platform is well suited for large static volumes of data and is not suitable for frequently changing or streaming data. <br><br>  Dryad expects to get an <em>immutable</em> (immutable) and a <em>finite amount of</em> input data.  The results of the distributed program will not be available until all the subroutines are executed.  It is logical to assume that tasks with streaming data are fundamentally impracticable in Dryad. <br><br><h3>  3.3.  Job manager <br></h3><br>  The job manager <strong><em>Job Manager</em></strong> (JM) is engaged in orchestrating the Dryad job.  Job Manager contains application-specific code for creating a task calculation graph. <br><br>  Job Manager is responsible for: <br><ol><li>  <em>initialization of the calculation graph</em> ; <br></li><li>  <em>planning operations</em> (vertices, hereinafter - vertex-operations) so that the physical hardware associated with these vertices is located topologically as close as possible to the data processed by these vertices; <br></li><li>  <em>fault tolerance</em> ; <br></li><li>  <em>performance monitoring</em> and <em>statistics collection</em> ; <br></li><li>  <em>Dynamic transformation of the graph</em> in accordance with existing policies. <br></li></ol><br>  Application data is sent directly from the vertex operation to the vertex operation.  Job Manager is responsible only for initialization, planning and monitoring the execution of distributed tasks.  Therefore, <em>JM is not an</em> application <em>bottleneck</em> .  In addition, during transfer, the code of a vertex operation can be either sent from the Job Manager or from the nearest computational node on which the similar vertex operation is performed. <br><br><h3>  3.4.  Name Server.  Daemon <br></h3><br>  <strong><em>Name Server Name Server</em></strong> is responsible for disclosing information about available compute nodes and their topological location in the cluster. <br><br>  A <strong><em>Daemon</em></strong> process is launched on each compute node, the main purpose of which is to run vertex operations sent by Job Manager.  Daemon acts as a proxy object, so Job Manager has the ability to find out the status and stage of a vertex operation executed by a remote Daemon. <br><br>  The Dryad architecture and place in this architecture are <em>Job Manager</em> , <em>Name Server</em> (NS) and <em>Daemon</em> (PD) below. <br><br><img alt="Dryad. Execution graph" src="https://habrastorage.org/getpro/habr/post_images/f2f/78f/c8d/f2f78fc8d0ec90e8f9ae4bd4e80befe6.png"><br>  Source of illustration [3] <br><br>  ( <em>Explanation of the illustration</em> : JM initializes the execution graph, based on the data on the available nodes and their location, obtained from NS. JM controls the execution of the graph, I get the status from the PD. PD exchange data on the available channels to bypass the NS and JM. Shaded area in the illustration demonstrates operations performed at the current time.) <br><br><h3>  3.5.  Dynamic graph change <br></h3><br>  Job Manager, like JobTracker in Hadoop, performs <em>static performance optimization</em> .  But unlike Hadoop, Dryad has the ability to <em>dynamically optimize performance</em> . <br><br>  Due to Dryad's central concept of a <em>directed acyclic graph</em> and support <em>for the callback mechanism</em> (the callback informs JM about the change in the execution stage of a vertex operation), the execution graph can be changed during execution (runtime).  Dynamic change allows you to quite elegantly solve the following tasks: <br><ul><li>  <em>degradation of network bandwidth</em> , when several nodes need to transfer data to the input of another node (in Hadoop, this degradation occurs when data is sent between the Combine and Reduce stages); <br><img alt="Dryad. Dynamic aggregation" src="https://habrastorage.org/getpro/habr/post_images/8de/1b6/396/8de1b63969a64a864c8eaa980b5ee7d7.png"><br><br></li><li>  <em>simple computational nodes</em> to wait for the completion of "slow" operations (in Hadoop, convolution cannot start until all map tasks are completed, which leads to map slot idle time and makes the best execution time of the program equal to the execution time of the slowest map- tasks). <br><img alt="Dryad. Slow vertex" src="https://habrastorage.org/getpro/habr/post_images/81d/f84/33a/81df8433a6c45dc25f92997573ca3fea.png"><br><br></li></ul><br>  In addition, due to the dynamic change of the graph during execution and the abstraction of the concept of ‚Äúchannel‚Äù from a specific data transfer method, it is important (i.e. it is possible to implement if not implemented) the data can be reached not only from the node where the data is physically stored , but also: <br><ul><li>  One Daemon can save a temporary file with intermediate results in a rack local to a vertex operation that accepts this data as input; <br></li><li>  One Daemon can store data in the RAM of a node if a vertex operation that accepts this data as input is running on the same compute node. <br></li></ul><br><h3>  3.6.  Fault tolerance </h3><br>  As previously mentioned, Daemon is a proxy, so the Job Manager has the ability to find out the status and stage of a vertex operation performed by a remote Daemon.  If Daemon ‚Äúfell‚Äù, then Job Manager will know about it: <br><ul><li>  <em>an error message</em> that Daemon sent to JM before closing its own process; <br></li><li>  <em>overdue time for a heartbeat message</em> if, when Daemon closed, no diagnostic events were sent to JM. <br></li></ul><br>  After diagnosing a PD failure, the operation performed on it is re-executed on another Daemon. <br><br><img alt="Dryad. Fault tolerance" src="https://habrastorage.org/getpro/habr/post_images/4ef/73a/097/4ef73a097843bb424e6cad8d37f473a8.png"><br><br>  In the Dryad documentation, I did not find information about what would happen if the Name Server crashed.  It is reasonable to assume that in the absence of a heartbeat from the NS process, the Job Manager will restart the NS on another node.  For idle time, the Name Server part of the computing power of the cluster, for the disclosure of information about which the NS is responsible, will simply ‚Äúfall out‚Äù. <br><br>  It was also not clear from the documentation what measures were taken to prevent the Job Manager from becoming a single point of failure.  In the event that each distributed application has its own Job Manager, stopping the Job Manager will not cause downtime of the whole cluster, as is the case with Hadoop if Name Node fails. <br><br>  But the presence of separate JM processes for each of the distributed applications immediately presents 2 problems: <br><ul><li>  time costs for initial initialization of Job Manager; </li><li>  the problem of resource sharing, the Job Manager cannot ‚Äúadequately‚Äù estimate the amount of free resources (CPU, RAM, bandwidth), since  does not know how many more JM processes are serviced by this physical computing node. <br></li></ul><br><h2>  4. Practice <br></h2><br>  Dryad is available for free under an academic license [4].  To run the framework, you need a Windows HPC cluster with Microsoft HPC Pack 2008 SP1, 4 Gb RAM, 1Gb Ethernet and 200 Gb of free space on each node of the cluster [1]. <br><br>  Applications for Dryad can be written both in C ++ and C # (it is reasonable to assume that any CLS-compatible language will do). <br><br>  The instruction for the distributed execution of the operation for Dryad is as follows (InitialReduce, Combine, Initialize, Iterate, Merge are the names of the functions responsible for the corresponding stages of the distributed execution; the examples in the listings consider the arithmetic average): <br><br><pre><code class="hljs pgsql">///&lt;<span class="hljs-keyword"><span class="hljs-keyword">summary</span></span>&gt;<span class="hljs-keyword"><span class="hljs-keyword">For</span></span> iterator-based implementation&lt;/<span class="hljs-keyword"><span class="hljs-keyword">summary</span></span>&gt; [AssociativeDecomposable("InitialReduce", "Combine")] <span class="hljs-built_in"><span class="hljs-built_in">public</span></span> static TOutput H(IEnumerable&lt;TInput&gt; source) { ‚Ä¶ }</code> </pre> <br><div class="spoiler">  <b class="spoiler_title">Listing 1. Iterator-based implementation example.</b>  <b class="spoiler_title">Source [2].</b> <div class="spoiler_text"><pre> <code class="hljs java"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">double</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Average</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(IEnumerable&lt;</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params">&gt; g)</span></span></span><span class="hljs-function"> </span></span>{ IntPair <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> = g.Aggregate(x =&gt; PartialSum(x)); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">final</span></span>.second == <span class="hljs-number"><span class="hljs-number">0</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-number"><span class="hljs-number">0.0</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">double</span></span>)<span class="hljs-keyword"><span class="hljs-keyword">final</span></span>.first / (<span class="hljs-keyword"><span class="hljs-keyword">double</span></span>)<span class="hljs-keyword"><span class="hljs-keyword">final</span></span>.second; } [AssociativeDecomposable(<span class="hljs-string"><span class="hljs-string">"InitialReduce"</span></span>, <span class="hljs-string"><span class="hljs-string">"Combine"</span></span>)] <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> IntPair </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">PartialSum</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(IEnumerable&lt;</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params">&gt; g)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> InitialReduce(g); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> IntPair </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">InitialReduce</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(IEnumerable&lt;</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params">&gt; g)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> IntPair(g.Sum(), g.Count()); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> IntPair </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Combine</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(IEnumerable&lt;IntPair&gt; g)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> IntPair(g.Select(x =&gt; x.first).Sum(), g.Select(x =&gt; x.second).Sum()); }</code> </pre> </div></div><br><pre> <code class="hljs pgsql">///&lt;<span class="hljs-keyword"><span class="hljs-keyword">summary</span></span>&gt;<span class="hljs-keyword"><span class="hljs-keyword">For</span></span> accumulator-based implementation&lt;/<span class="hljs-keyword"><span class="hljs-keyword">summary</span></span>&gt; [AssociativeDecomposable("Initialize", "Iterate", "Merge")] <span class="hljs-built_in"><span class="hljs-built_in">public</span></span> static TOutput H(IEnumerable&lt;TInput&gt; source) { ‚Ä¶ }</code> </pre> <br><div class="spoiler">  <b class="spoiler_title">Listing 2. Accumulator-based implementation example.</b>  <b class="spoiler_title">Source [2].</b> <div class="spoiler_text"><pre> <code class="hljs java"><span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">double</span></span></span><span class="hljs-function"> </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Average</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(IEnumerable&lt;</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params">&gt; g)</span></span></span><span class="hljs-function"> </span></span>{ IntPair <span class="hljs-keyword"><span class="hljs-keyword">final</span></span> = g.Aggregate(x =&gt; PartialSum(x)); <span class="hljs-keyword"><span class="hljs-keyword">if</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">final</span></span>.second == <span class="hljs-number"><span class="hljs-number">0</span></span>) <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-number"><span class="hljs-number">0.0</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">else</span></span> <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> (<span class="hljs-keyword"><span class="hljs-keyword">double</span></span>)<span class="hljs-keyword"><span class="hljs-keyword">final</span></span>.first / (<span class="hljs-keyword"><span class="hljs-keyword">double</span></span>)<span class="hljs-keyword"><span class="hljs-keyword">final</span></span>.second } [AssociativeDecomposable(<span class="hljs-string"><span class="hljs-string">"Initialize"</span></span>, <span class="hljs-string"><span class="hljs-string">"Iterate"</span></span>, <span class="hljs-string"><span class="hljs-string">"Merge"</span></span>)] <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> IntPair </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">PartialSum</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(IEnumerable&lt;</span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params">&gt; g)</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> IntPair(g.Sum(), g.Count()); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> IntPair </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Initialize</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">()</span></span></span><span class="hljs-function"> </span></span>{ <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> <span class="hljs-keyword"><span class="hljs-keyword">new</span></span> IntPair(<span class="hljs-number"><span class="hljs-number">0</span></span>, <span class="hljs-number"><span class="hljs-number">0</span></span>); } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> IntPair </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Iterate</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(IntPair x, </span></span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-params"><span class="hljs-keyword">int</span></span></span></span><span class="hljs-function"><span class="hljs-params"> r)</span></span></span><span class="hljs-function"> </span></span>{ x.first += r; x.second += <span class="hljs-number"><span class="hljs-number">1</span></span>; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> x; } <span class="hljs-function"><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">public</span></span></span><span class="hljs-function"> </span><span class="hljs-keyword"><span class="hljs-function"><span class="hljs-keyword">static</span></span></span><span class="hljs-function"> IntPair </span><span class="hljs-title"><span class="hljs-function"><span class="hljs-title">Merge</span></span></span><span class="hljs-params"><span class="hljs-function"><span class="hljs-params">(IntPair x, IntPair o)</span></span></span><span class="hljs-function"> </span></span>{ x.first += o.first; x.second += o.second; <span class="hljs-keyword"><span class="hljs-keyword">return</span></span> x; }</code> </pre> </div></div><br>  The query language DryadLINQ encapsulates the complexity of the code, so, in general, the application developer does not have to write the constructions given in the listings.  DryadLINQ will be discussed in the next article in this series. <br><br><h2>  5. Limitations and limitations <br></h2><br>  In conclusion, we will look at the limitations of Dryad and the ‚Äúwrong‚Äù expectations, associated primarily with the incorrect representation of the purpose of this class of software. <br><br>  One of the main limitations of Dryad is the <em>complexity of adaptation for working in realtime mode</em> and, probably, the <em>fundamental impossibility of working with streaming data</em> .  It should also be added that the Dryad framework will show good performance for batch tasks, but the use of Drayd will not be justified for random-access operations.  Additionally, I will note a potential <em>problem with a single point of failure</em> [at the application level] when Job Manager‚Äôs job manager ‚Äúcrashes‚Äù (perhaps there is no such point of failure, but it is not clear from the documentation how this problem is solved). <br><br>  You also need to understand that Dryad is <em>only a distributed computing framework</em> , so you should not expect from Dryad: <br><ul><li>  <em>transaction support</em> , because it is not a RDBMS; <br></li><li>  <em>performance comparable to GPU computing</em> , because Dryad solves a fundamentally wider class of problems with fundamentally different tools; <br></li><li>  <em>Open source license</em> because it is <del>  Microsoft </del>  initially a different type of product (but there is still free access under an academic license); <br></li><li>  <em>Rapid development of distributed applications</em> that work within the map / reduce paradigm, because Dryad is not Hadoop: the map / reduce model is only a <em>special case</em> for Dryad, while for Hadoop it is the <em>only possible</em> execution model. <br></li></ul><br><h2>  Conclusion </h2><br>  The rest of <em>Dryad is a powerful and flexible abstraction for a distributed application developer.</em>  <em>The platform is an extremely organic symbiosis of modern concepts and ideas about the development of parallel software, providing familiar PL and elegant solutions to problems that often occur (and rarely solve) the framework of distributed computing</em> . <br><br><h2>  List of sources <br></h2><br>  [1] <a href="http://research.microsoft.com/en-us/projects/dryad/">The Dryad Project</a> .  Microsoft Research. <br>  [2] Y. Yu, PK Gunda, M. Isard.  <em>Distributed Aggregation for Data-Parallel Computing: Interfaces and Implementations</em> , 2009. <br>  [3] M. Isard, M. Budiu, Y. Yu, A. Birrell, and D. Fetterly.  <em>Dryad: Distributed data-parallel programs from sequential building blocks</em> . <br>  In Proceedings of the European Conference on Computer Systems (EuroSys), 2007. <br>  [4] <a href="http://research.microsoft.com/en-us/downloads/03960cab-bb92-4c5c-be23-ce51aee0792c/default.aspx">Dryad and DryadLINQ Academic Release</a> .  Microsoft Research. <br><br>  * Sorted alphabetically. <br>  ** Comparison in the article takes place exclusively with the 1st version of the Hadoop platform (i.e., without YARN).  A detailed comparison of Dryad with the DBMS, GPU computing and the Hadoop framework will be made in the <a href="http://habrahabr.ru/post/182688/">final article of</a> the Dryad <a href="http://habrahabr.ru/post/182688/">series</a> . <br></div><p>Source: <a href="https://habr.com/ru/post/182164/">https://habr.com/ru/post/182164/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../182150/index.html">The FSB Public Council proposes banning Tor and anonymizing sites, bringing their creators to justice.</a></li>
<li><a href="../182152/index.html">Perform transactions on the PCI bus. Implementation on VHDL</a></li>
<li><a href="../182154/index.html">Determination of IP-address in Skype</a></li>
<li><a href="../182160/index.html">Step-by-step: SpecFlow setting for a Russian-language project when writing tests in the .Net environment</a></li>
<li><a href="../182162/index.html">Quadcopter for the evening not counting the delivery</a></li>
<li><a href="../182166/index.html">Forwarding ports in Mikrotik - educational program for beginners</a></li>
<li><a href="../182168/index.html">Wedding ring glows, if you take the hand</a></li>
<li><a href="../182174/index.html">In Humble Indie Bundle 8 added new games</a></li>
<li><a href="../182176/index.html">Competency model of a computer security specialist</a></li>
<li><a href="../182178/index.html">Detected a network of cyber espionage, operating in 40 countries</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>