<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Organizing collaborative web development environment</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="For a long time in the department of the company where I work, different projects were led and developed by different people. But as time went on, pro...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Organizing collaborative web development environment</h1><div class="post__text post__text-html js-mediator-article">  For a long time in the department of the company where I work, different projects were led and developed by different people.  But as time went on, projects grew, and many projects began to demand participation in the development of the team.  How it happened with us - there was a test server and a local version of the project for each developer.  When someone made changes, he rolled them out to the test server, but, a situation regularly occurred when one developer overwritten the changes of another.  So we made our first step towards ‚Äúcivilization‚Äù - we deployed our git server.  The situation has improved significantly, but there remains a big problem - configs.  At first they solved it by adding them to .gitignor, but this did not add any convenience.  Plus, when a new person connected to the project, he had to take default configs and configure them for his environment (not every tester or the same layout designer can adequately do it).  Again - questions with installed modules for each team member. <br><a name="habracut"></a><br>  And here comes an understanding - the environment should be as uniform as possible for everyone, and it should be as close as possible to the actual conditions of operation of the final products.  In this case, you can not deprive the developers of their favorite IDE.  Whatever they say, but most developers use Windows, and the final web hosting with PHP is unix.  In my practice, I have repeatedly stumbled upon a "rake" - locally everything works under Windows - we post on hosting and everything is bad. <br><br>  So I came to the conclusion - you need to organize a symbiosis of Windows and Unix.  The solution, in general, lies on the surface - a virtual machine under windows, with any unix-like system inside. <br><br>  VMware Workstation was chosen as a virtualization system. <br>  We add to the virtual machine two network cards.  One type of "NAT" (you need to go to the virtual machine to the Internet), another type "For the site only".  Through it we will walk from the parent car. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <img src="https://habrastorage.org/files/2fe/3c7/7d8/2fe3c77d822c439b805cc51136bf9d3e.png" alt="image"><br><br>  Ubuntu Server was installed into the virtual server (the choice is based solely on my preferences, plus it impresses with the presence, and timely updating, of all the necessary packages), plus the standard LAMP (there are enough installation instructions on the Internet).  Nothing unusual yet. <br><br>  But then a little bit of "magic" in setting up this economy, so that everything is convenient. <br><br>  Be sure to install VMware Tools in the virtual.  Create a ‚Äúweb‚Äù folder on any local disk under Windows (the name can be anything, but then it should be such for all team members).  We connect this folder to the virtual folder as a shared folder. <br><br><img src="https://habrastorage.org/files/1e7/f66/b74/1e7f66b7478642adb9be91ed0c49bc3e.png" alt="image"><br><br>  We look where we connected in the system <br><br><img src="https://habrastorage.org/files/200/2a0/8f5/2002a08f5716417aad6cdca37f94af4c.png" alt="image"><br><br>  We see that the mount point is "/ mnt / hgfs". <br>  Now we need the folders from "/ mnt / hgfs / web" to automatically connect to apache. <br><br>  First of all, add the config to "/ etc / apache2 / sites-enabled": <br><br><pre><code class="apache hljs"><span class="hljs-section"><span class="hljs-section">&lt;VirtualHost *:80&gt;</span></span> <span class="hljs-attribute"><span class="hljs-attribute">ServerAdmin</span></span> webmaster@localhost DocumentRoot /mnt/hgfs/web ErrorLog <span class="hljs-variable"><span class="hljs-variable">${APACHE_LOG_DIR}</span></span>/error.log CustomLog <span class="hljs-variable"><span class="hljs-variable">${APACHE_LOG_DIR}</span></span>/access.log combined &lt;/VirtualHost&gt;</code> </pre> <br>  Thus, we get that we can open any of the project at the address ‚Äúhttps: // server_name / folder_name /‚Äù.  But it is not always convenient.  That is why we add the creation of local domains as well. <br><br>  Create the file "/root/web/elap.conf" as follows: <br><br><pre> <code class="apache hljs"><span class="hljs-section"><span class="hljs-section">&lt;VirtualHost *:80&gt;</span></span> <span class="hljs-attribute"><span class="hljs-nomarkup"><span class="hljs-attribute"><span class="hljs-nomarkup">ServerName</span></span></span></span> domen ServerAdmin webmaster@localhost DocumentRoot path ErrorLog <span class="hljs-variable"><span class="hljs-variable">${APACHE_LOG_DIR}</span></span>/error.log CustomLog <span class="hljs-variable"><span class="hljs-variable">${APACHE_LOG_DIR}</span></span>/access.log combined &lt;Directory <span class="hljs-string"><span class="hljs-string">"path"</span></span>&gt; Options Indexes FollowSymLinks MultiViews AllowOverride <span class="hljs-literal"><span class="hljs-literal">all</span></span> Require <span class="hljs-literal"><span class="hljs-literal">all</span></span> granted &lt;/Directory&gt; &lt;/VirtualHost&gt;</code> </pre><br>  Then we write the following script: <br><br><pre> <code class="bash hljs"><span class="hljs-comment"><span class="hljs-comment">#!/bin/sh workdir="/mnt/hgfs/web/" apconf="/etc/apache2/sites-enabled/local.conf" apelconf="/root/web/elap.conf" echo &gt; ${workdir}/local.conf LIST=`find $workdir -maxdepth 1 -type d` for PATH_DOMEN in $LIST do domen=`echo $PATH_DOMEN | sed s~${workdir}~~` if !( test -z ${domen} ) then cat ${apelconf} | sed s~domen~${domen}.local~ | sed s~path~${PATH_DOMEN}~ &gt;&gt; ${workdir}/local.conf fi done dc=`diff $apconf ${workdir}/local.conf` if !( test -z "${dc}" ) then cat ${workdir}/local.conf &gt; $apconf /etc/init.d/apache2 restart fi</span></span></code> </pre><br>  And we add it to kroner (I put it once a minute) - only you have created a new folder in the ‚Äúweb‚Äù folder, while pulling data from the git, the domain in the ‚Äúhttp: //name_folder.local‚Äù virtual folder is already connected. <br><br>  Now we need Windows to learn about these local domains.  It was possible to go two ways - to raise a server in a virtual server or use the ‚Äúhosts‚Äù file in windows.  I decided to go the second way. <br><br>  We look at the address that is issued to the network card type "Only for the node."  Unfortunately, for each installation of VMware it is individual (or I did not find how to fix it), and therefore, when setting up this bundle on the team members' computers, it is necessary to change it.  One thing pleases - later it does not change already locally. <br><br><img src="https://habrastorage.org/files/f82/062/8c5/f820628c512e4be6ab30b6f40b83e8b9.png" alt="image"><br><br>  We see that the ‚Äúeth0‚Äù network card we need with the address ‚Äú192.168.81.128‚Äù.  We add the following line to ‚ÄúC: \ Windows \ System32 \ drivers \ etc \ hosts‚Äù: <br><br> <code>192.168.81.128 web <br></code> <br>  And we write the following script: <br><br><pre> <code class="dos hljs">@<span class="hljs-built_in"><span class="hljs-built_in">echo</span></span> off <span class="hljs-built_in"><span class="hljs-built_in">set</span></span> workdir=d:\web\ <span class="hljs-built_in"><span class="hljs-built_in">dir</span></span> <span class="hljs-variable"><span class="hljs-variable">%workdir%</span></span> /A:D /B &gt; <span class="hljs-variable"><span class="hljs-variable">%workdir%</span></span>list_project.txt <span class="hljs-built_in"><span class="hljs-built_in">find</span></span> /V ".local" C:\Windows\System32\Drivers\etc\hosts &gt; <span class="hljs-variable"><span class="hljs-variable">%workdir%</span></span>hosts_new <span class="hljs-keyword"><span class="hljs-keyword">for</span></span> /F <span class="hljs-variable"><span class="hljs-variable">%%i</span></span> <span class="hljs-keyword"><span class="hljs-keyword">in</span></span> (<span class="hljs-variable"><span class="hljs-variable">%workdir%</span></span>list_project.txt) <span class="hljs-keyword"><span class="hljs-keyword">do</span></span> ( <span class="hljs-built_in"><span class="hljs-built_in">echo</span></span> <span class="hljs-number"><span class="hljs-number">192</span></span>.<span class="hljs-number"><span class="hljs-number">168</span></span>.<span class="hljs-number"><span class="hljs-number">81</span></span>.<span class="hljs-number"><span class="hljs-number">128</span></span> <span class="hljs-variable"><span class="hljs-variable">%%i</span></span>.local &gt;&gt; <span class="hljs-variable"><span class="hljs-variable">%workdir%</span></span>hosts_new ) <span class="hljs-built_in"><span class="hljs-built_in">copy</span></span> <span class="hljs-variable"><span class="hljs-variable">%workdir%</span></span>hosts_new C:\Windows\System32\Drivers\etc\hosts</code> </pre><br>  Now, after adding a new project to the ‚Äúweb‚Äù folder, we need to run this script once as an administrator (!!!) and the local domain will be available to you. <br><br>  Then just clone the virtualka to all employees. <br><br>  Actually such a system is run-in, and it works fruitfully.  One problem has not been solved yet - DB.  Now in all projects we save the database in the folder ‚Äúsql‚Äù and when installing a local copy of the project we have to manually fill the database.  There are questions how to track changes in the database.  How to notify about them.  If you have a solution - please in the comments. </div><p>Source: <a href="https://habr.com/ru/post/263393/">https://habr.com/ru/post/263393/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../263377/index.html">How software and hardware are used on computers in Russian companies</a></li>
<li><a href="../263379/index.html">Snipper - a little programmer assistant</a></li>
<li><a href="../263381/index.html">Registration for MBLTdev 15 - international conference of mobile developers has begun</a></li>
<li><a href="../263387/index.html">Research interstitial ads on Google+ with advertisements</a></li>
<li><a href="../263391/index.html">Automate it</a></li>
<li><a href="../263397/index.html">Bit Kung Fu, or How to optimize traffic between a mobile application and a server</a></li>
<li><a href="../263399/index.html">The first experience of participation in the kaggle-competition and work on the bugs</a></li>
<li><a href="../263403/index.html">My code does not work :-(</a></li>
<li><a href="../263405/index.html">Video of reports from Zabbix Moscow Meetup</a></li>
<li><a href="../263407/index.html">Dirty secrets of express programming courses</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>