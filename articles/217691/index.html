<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Code sharing between WP7, WP8, Win8 platforms. The basics</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Quite often, you have to port an existing application to other platforms or initially write it for several platforms at once. In this article we will ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Code sharing between WP7, WP8, Win8 platforms. The basics</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/getpro/habr/post_images/e78/424/a09/e78424a09648e4e4a52d4727dee07089.jpg"><br><br>  Quite often, you have to port an existing application to other platforms or initially write it for several platforms at once.  In this article we will look at the basics of sharing the code specifically for the three platforms, but the principles described are applicable for developing cross-platform applications on other platforms, for example, using Xamarin. <br><br>  Since the material was quite voluminous, I decided to split the article into two parts.  Today, we will consider the basics of sharing for beginners, and if you already have basic skills, then you can safely skip this article and wait for the next one, where in practice we will look at more complicated code sharing scenarios. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      And now I will talk about two main ways of sharing the code: linking files and a library with common code.  Consistently consider both approaches, the main advantages and disadvantages of each of them. <br><a name="habracut"></a><br>  <b>0. Copy</b> <br><br>  Of course, you can't start with linking without saying a few words about another popular way of sharing the code - copying.  Copying and modification of the code for a specific platform is the easiest way of ‚Äúsharing‚Äù, and, most likely, in places we will partially use this approach.  But we will not consider it as the basic principle of sharinga due to the fact that it has more minuses than pluses.  Advantages of the approach: we quickly get working code for another platform and at the same time our changes cannot affect the main platform in any way.  Cons: maintenance is expensive, as you have to make the same changes already in each copy for each platform. <br><br>  <b>1. Linking</b> <br><br>  The easiest, and perhaps the most popular way to write cross-platform applications, is to link files.  Often, when we already have a ready-made application for WP7 and want to get the same application for WP8 (or vice versa), there is a great temptation to simply reuse the existing code and not make any changes to the existing application architecture (if the architecture has not been sharpened) ). <br><br>  Consider step by step this approach. <br><br>  For example, create a very simple WP8 application and on the main page (MainPage.Xaml) add the classic ‚Äúcalculator‚Äù - two text fields for entering numbers, an addition button and a field for outputting the result. <br><br><pre><code class="html hljs xml"><span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">StackPanel</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">TextBlock</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">Text</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"A"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">Style</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"{StaticResource PhoneTextLargeStyle}"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">TextBlock</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">TextBox</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">x:Name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"TextBoxA"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">Text</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">""</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">TextBox</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">TextBlock</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">Text</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"B"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">Style</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"{StaticResource PhoneTextLargeStyle}"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">TextBlock</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">TextBox</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">x:Name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"TextBoxB"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">Text</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">""</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">TextBox</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Button</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">Content</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"Summ"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">Click</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"ButtonBase_OnClick"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">Button</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">TextBlock</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">x:Name</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"TextBlockResult"</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">Text</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">""</span></span></span><span class="hljs-tag"> </span><span class="hljs-attr"><span class="hljs-tag"><span class="hljs-attr">Style</span></span></span><span class="hljs-tag">=</span><span class="hljs-string"><span class="hljs-tag"><span class="hljs-string">"{StaticResource PhoneTextLargeStyle}"</span></span></span><span class="hljs-tag">&gt;</span></span><span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">TextBlock</span></span></span><span class="hljs-tag">&gt;</span></span> <span class="hljs-tag"><span class="hljs-tag">&lt;/</span><span class="hljs-name"><span class="hljs-tag"><span class="hljs-name">StackPanel</span></span></span><span class="hljs-tag">&gt;</span></span></code> </pre> <br>  And C # code <br><br><pre> <code class="html hljs xml">private void ButtonBase_OnClick(object sender, RoutedEventArgs e) { var valueA = Int32.Parse(TextBoxA.Text); var valueB = Int32.Parse(TextBoxB.Text); TextBlockResult.Text = (valueA + valueB).ToString(); }</code> </pre> <br>  Now we need to add a new project for WP7 to Solultion (File - Add - New project - Windows Phone App - Windows Phone 7). <br><br>  After that, you must remove the MainPage.xaml from the WP7 project and add a link to the MainPage.xaml from the WP8 project. <br><br>  In the context menu on the project WP7 (right mouse button), select Add - Existing Item. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/b32/3c5/511/b323c5511dcd2dbebcfe964e43403222.png"><br><br>  Further in the folder with the project for WP8 we find the MainPage.xaml file (only this file, the .cs file will be added automatically) and select Add As Link. <br><br>  In the end, you should have something like this in the project: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/594/693/5a9/5946935a9ffa5eb6d087c0055fa37fa5.png"><br><br>  By and large, we have a project with a common code, and in the same way we can link, if necessary, also images or app.xaml.  Now we can make changes to the project (for example, add validation of entering numbers) and receive these changes in both projects at once. <br><br>  I also recommend specifying the same namespace for both projects in the properties. <br><br>  Sooner or later we will face the features of each platform.  We can separate these features using compilation symbols using #If / #else / #endif directives.  For example, let's assume that we save data for WP8 and Win8 projects using ApplicationData, and for WP7, IsolatedStorage. <br>  For example, for a WP8 project, we have the following method: <br><br><pre> <code class="html hljs xml">public async Task SaveText(string text) { var fileBytes = System.Text.Encoding.UTF8.GetBytes(text); var local = ApplicationData.Current.LocalFolder; var dataFolder = await local.CreateFolderAsync("DataFolder", CreationCollisionOption.OpenIfExists); var file = await dataFolder.CreateFileAsync("DataFile.txt", CreationCollisionOption.ReplaceExisting); using (var s = await file.OpenStreamForWriteAsync()) { s.Write(fileBytes, 0, fileBytes.Length); } }</code> </pre> <br>  Accordingly, for WP7 there may be the following code to save the string: <br><br><pre> <code class="html hljs xml">public void SaveText(string text) { using (var local = IsolatedStorageFile.GetUserStoreForApplication()) { using (var stream = local.CreateFile("DataFile.txt")) { using (var streamWriter = new StreamWriter(stream)) { streamWriter.Write(text); } } } }</code> </pre> <br>  How can we maximize our code? <br><br>  First of all, it is necessary to unify the signature of the method, i.e.  or refuse async / await on WP8 / Win8, or support async on WP7. <br><br>  Of course, we don‚Äôt want to give up on goodies, so first we will install Microsoft.Bcl on WP7 project to support async.  We can install it as via Nuget package manager (context menu by clicking on a project from WP7 - Manage NuGet Packages) or via the Nuget console with the following command (you can open the console in the studio via Tools -Nuget Package Manager - Package Manager Consol): <br>  Install-Package microsoft.Bcl <br><br>  (You should make sure that the Default Project is selected for WP7). <br><br>  Now we can have the following code for saving text under WP7: <br><br><pre> <code class="html hljs xml">public async Task SaveText(string text) { using (var local = IsolatedStorageFile.GetUserStoreForApplication()) { using (var stream = local.CreateFile("DataFile.txt")) { using (var streamWriter = new StreamWriter(stream)) { streamWriter.Write(text); } } } }</code> </pre> <br>  It turns out the same method for WP7 and WP8 files.  The question is how to combine the method body for a project under WP7, WP8, Win8? <br><br>  This can be done using compilation symbols.  Add them to the project is quite simple.  In the properties of the project in the Build tab, we can add the necessary compilation characters (I, for example, prefer WP7 / WP8 / WIN8 characters). <br><br><img src="https://habrastorage.org/getpro/habr/post_images/571/095/a34/571095a3416837dd1a2121d47b40a03c.png"><br><br>  As you can see, we can also separate the Windows 8 and Windows Phone platforms by the default character WINDOWS_PHONE. <br><br>  Now that we have compilation symbols, we can divide our code for different platforms as follows: <br><br><pre> <code class="html hljs xml">public async Task SaveText(string text) { #if WP7 using (var local = IsolatedStorageFile.GetUserStoreForApplication()) { using (var stream = local.CreateFile("DataFile.txt")) { using (var streamWriter = new StreamWriter(stream)) { streamWriter.Write(text); } } } #else var fileBytes = System.Text.Encoding.UTF8.GetBytes(text); var local = ApplicationData.Current.LocalFolder; var file = await local.CreateFileAsync("DataFile.txt", CreationCollisionOption.ReplaceExisting); using (var s = await file.OpenStreamForWriteAsync()) { s.Write(fileBytes, 0, fileBytes.Length); } #endif }</code> </pre> <br>  Please note that in different projects the selection of the method is different, as the gray underlines the code that will not be compiled in this project.  In this case, the file was opened in the WP7 project and if you close and open the file in the project with WP8, the selection will be inverted.  Compiler "see" code for WP8 <br><br>  <b>2. Library with shared code</b> <br><br>  <b>2.1.</b>  <b>WP7 shared library</b> <br><br>  In the event that you have projects only for WP7 and WP8, you can select the common code into a separate Windows Phone 7 library and use this library for two projects.  To do this, add a new project (File - Add - New Project) Windows Phone Class Library, select the Windows Phone 7 platform and name it in our calculator example, for example, CalculatorCore. <br><br>  In order to be able to add pages to this project, you need to insert a link to the Microsoft.Phone library: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/99b/207/399/99b20739960103927964cef9e2440e21.png"><br><br>  In the Assemblies - Framework tab: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/697/9d2/420/6979d24206d9f2adc4dd36118b4c50e8.png"><br><br>  The next step is to add a link to the Calculator Core project in WP7 and WP8 projects. <br><br>  For each of the projects in References we add the link to the project in the same way, which can be found in the Solution tab: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/f32/213/6d4/f322136d4b117bf8e49f7021c206a876.png"><br><br>  Now we can transfer our MainPage page to this shared library. <br><br>  If everything is done correctly, then the structure of your project will look like this: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/158/3be/0ce/1583be0ceb816119765f58142fa2df1d.png"><br><br>  In the same way, content, localization, UserControl, etc. can be transferred to the shared library. <br><br>  In order for the project to work, the last step remains: in order for the project to find this page in a different assembly, you must add a full link to it in each project to the manifest files (file WMAppManifest.xml). <br><br>  Those.  instead of reference: <br><br> <code>/&gt;</code> <br> <br>  You must write the full path: <br><br> <code>/&gt;</code> <br> <br>  Now, if we run the project, we will see our page.  Thus, we got two different projects, where we have one common working code.  In the next article we will discuss how to use the features of each platform. <br><br>  <b>2.2.</b>  <b>Library Portable Library</b> <br><br>  Often we need to ‚Äúfumble‚Äù code between several WP7 / WP8 / Win8 platforms, which have different UIs, but there is a common logic. <br><br>  In this case, the general WP7 library, of course, does not suit us.  Instead, we can use a project of type Portable Library (this type of project can be found in Windows templates and not Windows Phone): <br><br><img src="https://habrastorage.org/getpro/habr/post_images/97c/645/b0c/97c645b0c6c404391bb5836b264c1227.png"><br><br>  As you can see, we can use common code even with Android and iOS, if you use, for example, Xamarin (In a ‚Äúpure‚Äù form, the studio offers no Android and iOS items) <br><br>  Here we can choose which types of project we will have, and at the same time we will use only those platform features that are in all selected types of projects. <br><br>  More information on the list of supported features can be found on the <a href="http://msdn.microsoft.com/en-us/library/gg597391(v%3Dvs.110).aspx">msdn</a> website.  Or, if you use, <a href="http://docs.xamarin.com/guides/cross-platform/application_fundamentals/pcl/introduction_to_portable_class_libraries/">Xamarin</a> . <br><br>  Here we will not dwell on this library in detail, since in the next part most of the examples will be connected with the Portable Library. <br><br>  <b>Conclusion</b> <br><br>  In practice, quite a lot of people and teams seek advice on the topic of code sharing and probably the sample is not presentable, but I saw that most novice developers prefer linking files. <br><br>  In general, the popularity of sharing files is due to the simplicity and speed of implementation of this approach.  In most cases, you do not need to refactor the code and you can take the existing code, making small insertions of compilation symbols, quickly use the features of the platform.  On the contrary, a library with common code often does not allow for the simple separation of features of a platform, and in the next part we will dwell on this point in detail. <br><br>  There are two significant drawbacks to the file linking approach, which is why I try not to use it: <br><br><ol><li>  In large projects, refactoring and code maintenance are much more complicated, since the compiler and the studio simply do not see the code, which is divided by the compilation symbol. </li><li>  When adding a new platform or a new software, to use this code we will have to accompany all these changes again, often making edits to all symbols of the compilation.  Maintenance code is complicated at times. </li></ol><br><br>  The main disadvantage of the common library approach is that more code is needed (although this is more than offset by ease of maintenance).  In addition, for projects with low quality code, this method is poorly suited.  During the consultation of different teams, I repeatedly encountered the fact that in order to use the common library, the teams had to do a rather large and voluminous job of ‚Äúcleaning‚Äù the project.  But on the other hand, the need to think that the code should be shared and for this it is necessary to single out a common logic indirectly led to an improvement in the quality of the code. <br><br>  <b>Updated</b> <br>  At the Build conference, a new type of UniversalApps project was shown that allows you to create a single application for W8.1 and WP8.1.  Details can be found in the <a href="http://habrahabr.ru/company/microsoft/blog/218441/">article</a> written by a wonderful author <a href="https://habrahabr.ru/users/shwars/" class="user_link">shwars.</a> </div><p>Source: <a href="https://habr.com/ru/post/217691/">https://habr.com/ru/post/217691/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../217679/index.html">Why do companies refuse top staff?</a></li>
<li><a href="../217683/index.html">Fun facts about data loss</a></li>
<li><a href="../217685/index.html">Overview of Multifactor Authentication in the Microsoft Azure Cloud</a></li>
<li><a href="../217687/index.html">YotaPhone Idea Camp: together we are power!</a></li>
<li><a href="../217689/index.html">Ansible and Docker, why and why?</a></li>
<li><a href="../217693/index.html">Trolling detector: how we increased productivity using a speech analyzer</a></li>
<li><a href="../217695/index.html">Current trends in the development of DDoS attacks and protection against them using DefensePro Radware</a></li>
<li><a href="../217697/index.html">Antiblog: diary only for yourself</a></li>
<li><a href="../217699/index.html">Yandex.Mail will allow you to unsubscribe from mailings</a></li>
<li><a href="../217701/index.html">"Sanctions" and science: 42% of elite Russian scientific journals belong to the USA</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>