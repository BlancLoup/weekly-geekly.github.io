<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Playing with genetic algorithms</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="One Saturday evening in December, I sat on the book The Blind Watchmaker (Blind Watchmaker), as I caught the eye of an incredibly interesting experime...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Playing with genetic algorithms</h1><div class="post__text post__text-html js-mediator-article">  One Saturday evening in December, I sat on the book <a href="http://www.amazon.com/The-Blind-Watchmaker-Evidence-Evolution/dp/0393315703">The Blind Watchmaker</a> (Blind Watchmaker), as I caught the eye of an incredibly interesting experiment: take any sentence, such as the Shakespearean string: <i>Methinks it is like a weasel</i> and a random string of the same length: <i>wdltmnlt dtjbkwirzrezlmqco p</i> and let's start making random changes to it.  After how many generations, this random string will turn into a Shakespearean string, if only descendants more similar to Shakespeare's will survive? <br><br>  Today we will repeat this experiment, but on a completely different scale. <br><br><img src="https://habrastorage.org/files/991/97f/0b3/99197f0b3ead4309b22346b16b2a5e8c.jpg">
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      The structure of the article: <br><ol><li>  <a href="http://habrahabr.ru/post/246951">What is a genetic algorithm?</a> </li><li>  <a href="http://habrahabr.ru/post/246951">Why does it work</a> </li><li>  <a href="http://habrahabr.ru/post/246951">We formalize a problem with a random string.</a> </li><li>  <a href="http://habrahabr.ru/post/246951">An example of the algorithm</a> </li><li>  <a href="http://habrahabr.ru/post/246951">Experiments with the classics</a> </li><li>  <a href="http://habrahabr.ru/post/246951">Code and data</a> </li><li>  <a href="http://habrahabr.ru/post/246951">findings</a> </li></ol><br>  <b>Caution traffic!</b> <br><a name="habracut"></a><br><h4>  What is a genetic algorithm? </h4><a name="what_is_genetic_algorithm"></a><br>  In the field of artificial intelligence, a <i>genetic algorithm</i> implies a heuristic of search for solutions based on natural selection.  As a rule, it is used for tasks where the search space is so huge that an exact solution cannot be found and the heuristic solution satisfies the requirements.  The task itself has a certain solution quality function that needs to be maximized. <br><br>  In its simplest form, the genetic algorithm has the following structure (see diagram): we start with some solution, in our case, this is a random string;  we introduce mutations, for example, we change a randomly selected letter in a string to a randomly selected letter and get a new set of strings ( <i>k</i> mutations per string);  of them, we select only those that are closer to Shakespeare (by the number of matching characters), for example, 10 such lines, if there is no Shakespeare among them, then we start the process again. <br><br><img src="https://habrastorage.org/files/6d5/b07/ece/6d5b07ece2d94413aae2282456cf2e36.png"><br><br><h4>  Why does it work </h4><a name="why_does_it_work"></a><br>  In many respects, genetic algorithms are similar to classical optimization methods, a population is a set of current points, mutations are a study of neighboring points, selection is a choice of new points for finding a solution in conditions of limited computing resources. <br><br>  The population always tends to the nearest maximum, since we select the current search points as having the maximum value (all other points will die, they will not compete with the nearest maximum).  Since the size of the population is significant, and therefore the probability of taking at least one step towards the maximum is not negligible, then after a certain number of steps the population will shift towards the local maximum.  And the descendants of the point shifted closer to the maximum have a greater "survival".  So after a sufficient number of steps, the descendants of this point will begin to dominate the population and it will all shift to the maximum. <br><br>  Visualization of a population tending to a local maximum: <br><br><img src="https://habrastorage.org/files/146/70c/3eb/14670c3ebac9409bb680033dd655a42d.gif"><br>  (due to <a href="http://www.randalolson.com/2014/04/17/visualizing-evolution-in-action-density-dependence-and-sympatric-speciation/">randy olson</a> ) <br><br><h4>  We formalize a problem with a random string. </h4><a name="formalization"></a><br>  <b>Input</b> : string <i>S</i> <br>  <b>Output</b> : a natural number <i>N</i> , equal to the number of generations required to convert a random string of length len ( <i>S</i> ) to a string <i>S</i> <br><br>  What is <b>mutation</b> in our case?  By a mutation of string <i>S,</i> we mean replacing one randomly selected character from string <i>S</i> with another arbitrary character of the alphabet.  In this task we use only Latin lowercase characters and a space. <br><br>  What is the <b>initial population</b> (initial population in the scheme)?  This is a random string equal in length to the input string <i>S.</i> <br><br>  What are offsprings?  Suppose we fixed the number of mutations per line per constant <i>k</i> , then descendants are <i>k</i> mutations of each line of the current generation. <br><br>  What are <b>survivors</b> ?  Suppose we fixed the population size by a constant <i>h</i> , then the survivors are <i>h</i> lines as similar as possible to the input string <i>S.</i> <br><br>  In pseudocode (suspiciously similar to python), it looks like this: <br> <a href="http://instacod.es/97170"><img src="https://habrastorage.org/getpro/habr/post_images/481/f69/b6c/481f69b6c15db3d649b3575f814d5498.png"></a> <br><br><h4>  An example of the algorithm </h4><a name="example"></a><br>  Consider the following line: The quick brown fox jumps over the lazy dog ‚Äã‚Äãand reproduce the output of our program for it: <br>  Consider the chain of changes (on the left is the generation number): <br><pre> 1 rbbzmffwfhwtxnjjiozz ujhhlxeoyhezarquvmopyk
 2 rbbzmffwfhwtxnjjiozz ujhhlxeoyhezarquzmopyk
 3 rbb mffwfhwtxnjjiozz ujhhlxeoyhezarquzmopyk
 4 rbb mffwfhwtxnjjiozz ujhhlxeoyhezarquzmodyk
 5 rbb mffwfhbtxnjjiozz ujhhlxeoyhezarquzmodyk
 6 rbb mffcfhbtxnjjiozz ujhhlxeoyhezarquzmodyk
 7 rbb mffcf btxnjjiozz ujhhlxeoyhezarquzmodyk
 8 rbb mffcf btxnjjiozz ujhhlxeoyheza quzmodyk
 9 rbb mffcf brxnjjiozz ujhhlxeoyheza quzmodyk
 10 rbb mffcf brxnjjiozz ujphlxeoyheza quzmodyk
 20 rbb mffcf bronj fox jujpslxveyheza luzmodyk
 30 rbb mficf bronj fox jumps overhehe luzy dyg
 40 he m ick bronn fox jumps over the lazy dog
 41 he q ick bronn fox jumps over the lazy dog
 42 he q ick bronn fox jumps over the lazy dog
 43 he q ick brown fox jumps over the lazy dog
 44 he quick brown fox jumps over the lazy dog
 45 ahe quick brown fox jumps over the lazy dog
 46 the quick brown fox jumps over the lazy dog
</pre><br><div class="spoiler">  <b class="spoiler_title">Full output</b> <div class="spoiler_text"><pre> print_genes ("The quick brown fox jumps over the lazy dog")
 1 rbbzmffwfhwtxnjjiozz ujhhlxeoyhezarquvmopyk
 2 rbbzmffwfhwtxnjjiozz ujhhlxeoyhezarquzmopyk
 3 rbb mffwfhwtxnjjiozz ujhhlxeoyhezarquzmopyk
 4 rbb mffwfhwtxnjjiozz ujhhlxeoyhezarquzmodyk
 5 rbb mffwfhbtxnjjiozz ujhhlxeoyhezarquzmodyk
 6 rbb mffcfhbtxnjjiozz ujhhlxeoyhezarquzmodyk
 7 rbb mffcf btxnjjiozz ujhhlxeoyhezarquzmodyk
 8 rbb mffcf btxnjjiozz ujhhlxeoyheza quzmodyk
 9 rbb mffcf brxnjjiozz ujhhlxeoyheza quzmodyk
 10 rbb mffcf brxnjjiozz ujphlxeoyheza quzmodyk
 11 rbb mffcf brxnj iozz ujphlxeoyheza quzmodyk
 12 rbb mffcf brxnj ioz ujphlxeoyheza quzmodyk
 13 rbb mffcf bronj ioz ujphlxeoyheza quzmodyk
 14 rbb mffcf bronj ioz ujphlxeeyheza quzmodyk
 15 rbb mffcf bronj ioz ujphlxeeyheza luzmodyk
 16 rbb mffcf bronj ioz ujphlxveyheza luzmodyk
 17 rbb mffcf bronj foz ujphlxveyheza luzmodyk
 18 rbb mffcf bronj foz jujphlxveyheza luzmodyk
 19 rbb mffcf bronj foz jujpslxveyheza luzmodyk
 20 rbb mffcf bronj fox jujpslxveyheza luzmodyk
 21 rbb mffcf bronj fox jujpslxveyheza luzm dyk
 22 rbb mffcf bronj fox jujpslxverheza luzm dyk
 23 rbb mffcf bronj fox jumpslxverheza luzm dyk
 24 rbb mffcf bronj fox jumpslxverheha luzm dyk
 25 rbb mffcf bronj fox jumpslxverhehe luzm dyk
 26 rbb mffcf bronj fox jumps xverhehe luzm dyk
 27 rbb mffcf bronj fox jumps xverhehe luzm dyg
 28 rbb mffcf bronj fox jumps xverhehe luzy dyg
 29 rbb mffcf bronj fox jumps overhehe luzy dyg
 30 rbb mficf bronj fox jumps overhehe luzy dyg
 31 rbb mficf bronj fox jumps overhehe lazy dyg
 32 rbb mficf bronn fox jumps overhehe lazy dyg
 33 rbb mficf bronn fox jumps over ehe lazy dyg
 34 rhb mficf bronn fox jumps over ehe lazy dyg
 35 hb mficf bronn fox jumps over ehe lazy dyg
 36 hb mfick bronn fox jumps over ehe lazy dyg
 37 hb m ick bronn fox jumps over ehe lazy dyg
 38 hb m ick bronn fox jumps over ehe lazy dog
 39 he m ick bronn fox jumps over ehe lazy dog
 40 he m ick bronn fox jumps over the lazy dog
 41 he q ick bronn fox jumps over the lazy dog
 42 he q ick bronn fox jumps over the lazy dog
 43 he q ick brown fox jumps over the lazy dog
 44 he quick brown fox jumps over the lazy dog
 45 ahe quick brown fox jumps over the lazy dog
 46 the quick brown fox jumps over the lazy dog
</pre><br></div></div><br>  As we see, each generation differs by no more than one symbol from each other.  It took a total of 46 generations to get from <i>rbbzmffwfhwtxnjjiozz ujhhlxeoyhezarquvmopyk</i> to <i>the quick brown fox jumps over the lazy dog</i> through mutations and selection. <br><br><h4>  Experiments with the classics </h4><a name="experiments"></a><br>  Individual examples, Shakespeare's string or English pro-fox <a href="https://ru.wikipedia.org/wiki/%25D0%259F%25D0%25B0%25D0%25BD%25D0%25B3%25D1%2580%25D0%25B0%25D0%25BC%25D0%25BC%25D0%25B0">pangram</a> , are interesting, but not too convincing.  Therefore, I decided to consider a more interesting question: what would happen if we take a pair of classical works, break them up into sentences and count the number of generations for each of them?  What will be the nature of the dependence of the number of generations on a line (for example, on its length)? <br><br>  As a classic, I chose To Kill a Mocking Bird by Harper Lee (Kill a Mockingbird, Harper Lee) and Catcher in the Rye by JD Salinger (Over the Abyss of Rye, JD Salinger).  We will measure two parameters - the distribution of the number of generations by sentences and the dependence of the number of generations on the length of the string (is there a correlation?). <br><br>  The parameters were as follows: the number of descendants of the string: 100;  Number of survivors per generation: 10. <br><br><h5>  results </h5><br>  As we can see, for most of the proposals, it was possible to reach the line fairly quickly, less than 100 iterations were required, almost 200 iterations were enough for all the proposals (among all the proposals there was only one that required 1135 iterations, judging by the proposal, the breakdown algorithm was wrong and glued several sentences into one ): <br><br><img src="https://habrastorage.org/files/fbc/568/fde/fbc568fded934a96899a24f721456ff4.png"><br><br>  The correlation between line length and the number of generations is ideal.  This means that in almost every generation it was possible to move a step closer to the target line. <br><br><img src="https://habrastorage.org/files/5de/671/fea/5de671feaf8045028a1674067f1ba79c.png"><br>  R ^ 2 is 0.996 and 0.997, respectively. <br><br>  Thus, it was experimentally established that under the conditions of our problem for any input string <i>S</i> , the number of generations linearly depends on the length of the string, which is consistent with the initial assumptions. <br><br><h4>  Code and data </h4><a name="source_code"></a><br>  All the code, python - the genetic algorithm \ text processing and R - visualization, is available on github: <br>  <a href="https://github.com/SergeyParamonov/genetics-experiments">github.com/SergeyParamonov/genetics-experiments</a> <br><br><h4>  findings </h4><a name="conclusions"></a><br>  We dealt with the basic structure of genetic algorithms and applied to solving the problem of string mutation.  As a result of experiments with classical texts, we found that in our conditions there is a linear relationship between the length of the line and the number of generations necessary to achieve the input line. <br><br>  We also noted that the basic search structure can be modified (for example, using <i>crossover</i> ‚Äî using several generation members to create descendants) to solve a wide class of optimization problems where it is too difficult to find an exact solution. </div><p>Source: <a href="https://habr.com/ru/post/246951/">https://habr.com/ru/post/246951/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../246939/index.html">Review of the most interesting materials on data analysis and machine learning ‚Ññ28 (December 22 - 28, 2014)</a></li>
<li><a href="../246941/index.html">Vkontakte analysis on the example of the book preferences of participants of cultural communities</a></li>
<li><a href="../246943/index.html">A simple typing tutor for programmers</a></li>
<li><a href="../246945/index.html">TorrentLocker - a new modification of the FileCoder encryption Trojan, part 1</a></li>
<li><a href="../246947/index.html">Creating a synchronization barrier using C ++ 11</a></li>
<li><a href="../246953/index.html">Why does OpenVPN slow down?</a></li>
<li><a href="../246955/index.html">FLProg and penguins</a></li>
<li><a href="../246957/index.html">The digest of interesting materials from the world of web development and IT for the last week ‚Ññ140 (December 22 - 28, 2014)</a></li>
<li><a href="../246959/index.html">Understanding Flux, reactive architecture from facebook</a></li>
<li><a href="../246961/index.html">Really transparent WCF usage</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>