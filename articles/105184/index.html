<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>CMS NetCat - Sorting objects in the table</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="I propose my solution for sorting the objects of the components presented in the form of a table. I use it often enough, maybe it will be useful to so...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>CMS NetCat - Sorting objects in the table</h1><div class="post__text post__text-html js-mediator-article"> I propose my solution for sorting the objects of the components presented in the form of a table.  I use it often enough, maybe it will be useful to someone. <br><a name="habracut"></a><br>  1. Change the column header to the function that will substitute the desired link <br><br> <code>".sort_header('Message_ID','ID')." <br></code> <br><br>  here Message_ID is the field by which we will sort, ID is the name of the column <br>  The function sort_header () is described in the default module. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
     <code>function sort_header($fild,$header, $wrap=0){ <br> global $sub,$cc,$sort,$order; <br> /* <br> *   URI  sort, order, sid. <br> *   , ..      ,       <br> *    <br> */ <br> $param=""; <br> $separator='?'; <br> foreach ($_GET as $key =&gt; $value) { <br> if($key!='sort' &amp;&amp; $key!='order' &amp;&amp; $key!='sid') <br> { <br> $param .=$separator.$key."=".$value; <br> $separator='&amp;'; <br> } <br> } <br> <br> //  . <br> if($wrap==0) <br> { <br> $out .=""; <br> } <br> <br> $out .="&lt;a href='$param&amp;sort=$fild"; <br> if($sort==$fild &amp;&amp; $order !='ASC') <br> { <br> $out .="&amp;order=ASC"; <br> } <br> $out .="'&gt;$header"; <br> $out .=""; <br> if($sort==$fild &amp;&amp; $order =='ASC') <br> { <br> $out .=" <img src="/images/up.gif"> "; <br> } <br> elseif($sort==$fild) <br> { <br> $out .=" <img src="/images/down.gif"> "; <br> } <br> if($wrap==0) <br> { <br> $out .="</code>  <code>function sort_header($fild,$header, $wrap=0){ <br> global $sub,$cc,$sort,$order; <br> /* <br> *   URI  sort, order, sid. <br> *   , ..      ,       <br> *    <br> */ <br> $param=""; <br> $separator='?'; <br> foreach ($_GET as $key =&gt; $value) { <br> if($key!='sort' &amp;&amp; $key!='order' &amp;&amp; $key!='sid') <br> { <br> $param .=$separator.$key."=".$value; <br> $separator='&amp;'; <br> } <br> } <br> <br> //  . <br> if($wrap==0) <br> { <br> $out .=""; <br> } <br> <br> $out .="&lt;a href='$param&amp;sort=$fild"; <br> if($sort==$fild &amp;&amp; $order !='ASC') <br> { <br> $out .="&amp;order=ASC"; <br> } <br> $out .="'&gt;$header"; <br> $out .=""; <br> if($sort==$fild &amp;&amp; $order =='ASC') <br> { <br> $out .=" <img src="/images/up.gif"> "; <br> } <br> elseif($sort==$fild) <br> { <br> $out .=" <img src="/images/down.gif"> "; <br> } <br> if($wrap==0) <br> { <br> $out .="</code> "; <br>  } <br>  return $ out; <br>  } <br><br><br>  It's simple. <br>  We pass three parameters to the function: the field to be sorted, the name of the column, and the flag, whether or not hyphenation is allowed in the title.  By default, they are prohibited. <br><br>  2. In order for the sorting to work, you need to change the query.  To do this, in the settings of the component we write: <br> <code>$query_order = sort_set(); <br></code> <br><br>  sort_set () is described in the default module <br><br> <code>function sort_set(){ <br> global $inside_admin,$sort,$order,$classID; <br> //        .    ,       <br> $sql = "SHOW COLUMNS FROM Message".$classID." WHERE Field = '".$sort."'"; <br> $result = mysql_query($sql); <br> $num_rows = mysql_num_rows($result); <br> if($num_rows == 1) <br> { <br> if($order=='ASC') <br> { <br> $order = 'ASC'; <br> } <br> else <br> { <br> $order = 'DESC'; <br> } <br> //  ,     $query_order <br> $out="a.".$sort." ".$order; <br> return $out; <br> } <br> else <br> { <br> return; <br> } <br> } <br></code> <br><br>  Everything. <br>  In total, to sort, you need to add two functions to the system, after which the column headers change to call one of them and specify the other in the settings of the component.  It seems not difficult.  I would be glad if anyone come in handy. </div><p>Source: <a href="https://habr.com/ru/post/105184/">https://habr.com/ru/post/105184/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../105176/index.html">Widgets for third-party sites</a></li>
<li><a href="../105178/index.html">UI development practice</a></li>
<li><a href="../105181/index.html">How does the most successful startup incubator in the world work?</a></li>
<li><a href="../105182/index.html">Twitter has overtaken myspace</a></li>
<li><a href="../105183/index.html">The simplest backup of FreeBSD configs with sending an archive to mail</a></li>
<li><a href="../105185/index.html">Lexiconer - vocabulary replenishment program</a></li>
<li><a href="../105190/index.html">JS1k contest results</a></li>
<li><a href="../105191/index.html">ORM review for Qt</a></li>
<li><a href="../105194/index.html">We are pleased to introduce you to the project "One House"</a></li>
<li><a href="../105196/index.html">Results of the 13th project session</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>