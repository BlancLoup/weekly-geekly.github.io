<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Data Warehouse Architecture: Traditional and Cloud</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hi, Habr! Much has been written on the topic of data warehousing architecture, but I have not yet met so succinctly and succinctly as in the article t...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Data Warehouse Architecture: Traditional and Cloud</h1><div class="post__text post__text-html js-mediator-article">  Hi, Habr!  Much has been written on the topic of data warehousing architecture, but I have not yet met so succinctly and succinctly as in the article that I accidentally came across. <br><br>  I suggest you to get acquainted with this article in my translation.  Comments and additions are welcome! <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/ih/f1/ie/ihf1iesoydew3ek8qb-gcne_5vq.png"></div><br>  <a href="https://www.vecteezy.com/">(Image source)</a> <br><a name="habracut"></a><br><h2>  Introduction </h2><br>  So the data storage architecture is changing.  In this article, we will look at the comparison of traditional corporate data warehouses and cloud solutions with lower initial cost, improved scalability and performance. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      A data warehouse is a system that collects data from various sources within a company and uses this data to support management decision making. <br><br>  Companies are increasingly moving to cloud storage instead of traditional local systems.  Cloud storage has a number of differences from traditional storage: <br><br><ul><li>  No need to buy physical equipment; </li><li>  Cloud storage is faster and cheaper to set up and scale; </li><li>  Cloud data warehouses can usually perform complex analytical queries much faster because they use massively parallel processing. </li></ul><br><h2>  Traditional data warehouse architecture </h2><br>  The following concepts highlight some of the well-established ideas and design principles used to create traditional data warehouses. <br><br><h3>  Three-tier architecture </h3><br>  Quite often, the traditional data warehouse architecture has a three-tier structure consisting of the following levels: <br><br><ul><li>  <b>Lower level</b> : This level contains the database server used to extract data from many different sources, for example, from transactional databases used for interface applications. </li><li>  <b>Middle level</b> : The middle level contains an OLAP server that converts data into a structure better suited for analysis and complex queries.  The OLAP server can work in two ways: either as an advanced relational database management system that maps operations on multidimensional data to standard relational operations (Relational OLAP), or using a multidimensional OLAP model that directly implements multidimensional data and operations. </li><li>  <b>Top level</b> : top level is the client level.  This level contains the tools used for high-level data analysis, reporting, and data analysis. </li></ul><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/tn/t6/ho/tnt6hod27digrh97sinoyywqpuk.jpeg"></div><br><h3>  Kimball vs.  Inmon </h3><br>  Two pioneers of data warehousing: Bill Inmon and Ralph Kimball offer different design approaches. <br><br>  <b>Ralph Kimball</b> ‚Äôs approach is based on the importance of data marts that are repositories of data belonging to specific business areas.  A data warehouse is simply a <b>combination of different data marts</b> that facilitate reporting and analysis.  The Kimball data warehouse project uses a bottom-up approach. <br><br>  <b>Bill Inmon's approach is</b> based on the fact that the data warehouse is the centralized storage of all corporate data.  With this approach, the organization first creates a <b>normalized</b> data warehouse <b>model</b> .  It then creates dimension data marts based on the storage model.  This is known as a downstream approach to the data warehouse. <br><br><h3>  Data Warehouse Models </h3><br>  In the traditional architecture, there are three common data warehouse models: virtual storage, data mart, and corporate data warehouse: <br><br><ul><li>  <b>Virtual data storage</b> is a set of separate databases that can be used together so that the user can effectively access all data as if they were stored in one data storage; </li><li>  <b>The data mart model is</b> used for reporting and analyzing specific business lines.  In this storage model, aggregated data from a number of source systems related to a specific business area, such as sales or finance; </li><li>  <b>The corporate</b> data <b>warehouse model</b> assumes the storage of aggregated data covering the entire organization.  This model considers the data warehouse as the heart of an enterprise information system with integrated data from all business units. </li></ul><br><h3>  Star vs.  Snowflake </h3><br>  The star and snowflake schemas are two ways to structure the data warehouse. <br><br>  The <b>star</b> schema has a centralized data repository, which is stored in a fact table.  The diagram breaks the fact table into a series of denormalized dimension tables.  The fact table contains the aggregated data that will be used for reporting, and the dimension table describes the stored data. <br><br>  Denormalized projects are less complex because the data is grouped.  The fact table uses only one reference to join each dimension table.  The simpler design of the star schema greatly simplifies writing complex queries. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/m-/2y/l5/m-2yl5ndg1js8sunldgzzho2zta.jpeg"></div><br>  A <b>snowflake</b> pattern is different in that it uses normalized data.  Normalization means effectively organizing the data so that all data dependencies are identified, and each table contains a minimum of redundancy.  Thus, the individual dimension tables are branched into separate dimension tables. <br><br>  The <b>snowflake</b> scheme uses less disk space and better maintains data integrity.  The main disadvantage is the complexity of the queries required to access the data - each query must go through several table joints to get the corresponding data. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/uf/fo/di/uffodipv5qpwawoh-b07x596z20.jpeg"></div><br><h3>  ETL vs.  Elt </h3><br>  ETL and ELT are two different ways to load data into the repository. <br><br>  <b>ETL (Extract, Transform, Load)</b> first extracts data from a pool of data sources, which are usually transactional databases.  Data is stored in a temporary staging database.  Then, conversion operations are performed to structure and convert the data into a suitable form for the target data storage system.  Then the structured data is loaded into the repository and ready for analysis. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/9h/cl/gk/9hclgkwsprpqlae4yheechi-fls.jpeg"></div><br>  In the case of <b>ELT (Extract, Load, Transform), the</b> data is immediately loaded after extraction from the original data pools.  There is no intermediate database, which means that data is immediately loaded into a single central repository. <br>  Data is converted into a data warehouse system for use with business intelligence and analytics tools. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/ce/dz/8y/cedz8yg5rm3wlqw2q5or50h_lrc.jpeg"></div><br><h3>  Organizational maturity </h3><br>  The structure of an organization‚Äôs data warehouse also depends on its current situation and needs. <br><br>  The basic structure allows end users of the repository to directly access summary data obtained from source systems, create reports and analyze this data.  This structure is useful for cases when data sources come from the same types of database systems. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/vv/zf/bv/vvzfbvvlkujpbu83jyvwkwx0tlq.jpeg"></div><br>  Storage with a staging area is the next logical step in an organization with disparate data sources with many different types and data formats.  The staging area converts the data into a generic structured format that is easier to query using analysis and reporting tools. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/o5/jl/yj/o5jlyjz8jwjjkuurs8wscmsv1pe.jpeg"></div><br>  One type of intermediate structure is the addition of data marts to the data warehouse.  Data marts store summary data for a specific field of activity, which makes this data easily accessible for specific forms of analysis. <br><br>  For example, adding data marts may allow financial analytics to more easily perform detailed queries on sales data and predict customer behavior.  Data marts facilitate analysis by tailoring data specifically to meet the needs of the end user. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/rc/sh/zq/rcshzquazyo1ig4renso2qhlk0w.jpeg"></div><br><h2>  New data warehouse architectures </h2><br>  In recent years, data warehouses are moving to the cloud.  New cloud data storage does not adhere to the traditional architecture and each of them offers its own unique architecture. <br><br>  This section briefly describes the architectures used by the two most popular cloud storage: Amazon Redshift and Google BigQuery. <br><br><h3>  Amazon Redshift </h3><br>  <b>Amazon Redshift</b> is a cloud-based view of traditional data storage. <br><br>  Redshift requires compute resources to be prepared and configured as clusters that contain a set of one or more nodes.  Each node has its own processor, memory and RAM.  Leader Node compiles requests and transfers them to compute nodes that execute requests. <br><br>  At each node, data is stored in blocks called <b>slices</b> .  Redshift uses column storage, that is, each data block contains values ‚Äã‚Äãfrom one column in several rows, and not from one row with values ‚Äã‚Äãfrom several columns. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/sr/2n/36/sr2n36eioy6n-snrf_hcmyes_wo.png"></div><br>  Redshift uses the MPP (Massively Parallel Processing) architecture, breaking up large data sets into pieces that are assigned to the slices at each node.  Requests run faster because compute nodes process requests in each slice at the same time.  The Leader Node node combines the results and returns them to the client application. <br><br>  Client applications, such as BI and analytical tools, can directly connect to Redshift using open source PostgreSQL JDBC and ODBC drivers.  Thus, analysts can perform their tasks directly on Redshift data. <br><br>  Redshift can only load structured data.  You can upload data to Redshift using pre-integrated systems, including Amazon S3 and DynamoDB, by transferring data from any local host with an SSH connection or by integrating other data sources using the Redshift API. <br><br><h3>  Google bigquery </h3><br>  The BigQuery architecture does not require a server, which means that Google dynamically manages the allocation of computer resources.  Therefore, all resource management solutions are hidden from the user. <br><br>  BigQuery allows clients to download data from Google Cloud Storage and other readable data sources.  An alternative option is streaming data, which allows developers to add data to the data warehouse in real time, line by line, when they become available. <br><br>  BigQuery uses a query engine called Dremel that can scan billions of data lines in just a few seconds.  Dremel uses massively parallel queries to scan data in the Colossus base file management system.  Colossus distributes files into pieces of 64 megabytes among a variety of computing resources, called nodes, which are grouped into clusters. <br>  Dremel uses a column data structure similar to Redshift.  The tree-like architecture sends requests to thousands of machines in seconds. <br><br>  To perform queries to data using simple SQL commands. <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/lf/hs/fq/lfhsfqfrtm7vobg9bfj8igu0cxm.png"></div><br><br><h3>  Panoply </h3><br>  Panoply provides comprehensive data management as a service.  Its unique self-optimizing architecture uses machine learning and natural language processing (NLP) to simulate and streamline data transfer from source to analysis, reducing the time from data to as close to zero as possible. <br><br>  Panoply Intelligent Data Infrastructure includes the following features: <br><br><ul><li>  Query and Data Analysis ‚Äî Determining the best configuration for each use case, adjusting it over time, and creating indexes, sorting keys, disk keys, data types, evacuating and splitting. </li><li>  Identify queries that do not follow advanced methods ‚Äî for example, those that include nested loops or implicit casting ‚Äî and rewrite them into an equivalent query that requires a fraction of the execution time or resources. </li><li>  Optimizing server configuration over time based on query patterns and exploring which server setup works best.  The platform smoothly switches server types and measures the total performance. </li></ul><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/7y/ds/_g/7yds_gzgj5dnevamau8q5_cppnm.png"></div><br><h3>  On the other side of the cloud data storage </h3><br>  Cloud storage is a big step forward compared to traditional approaches to architecture.  However, users still face a number of problems when configuring them: <br><br><ul><li>  <b>Uploading data</b> to cloud data warehouses is nontrivial, and large-scale data pipelines require configuration, testing, and support for the ETL process.  This part of the process is usually performed by third-party tools; </li><li>  <b>Updates, inserts, and deletions</b> can be complex and must be done carefully to prevent query performance; </li><li>  It is difficult to deal with <b>semi-structured</b> data ‚Äî they need to be normalized in a relational database format, which requires automation of large data streams; </li><li>  <b>Nested structures</b> are usually not supported in cloud data storage.  You need to convert nested tables to formats that the data store understands; </li><li>  <b>Cluster optimization</b> .  There are various options for configuring a Redshift cluster to run your workloads.  Different workloads, datasets, or even different types of queries may require different configuration.  To achieve optimal performance, you must constantly review and, if necessary, further adjust the configuration; </li><li>  <b>Query optimization</b> - custom queries may not correspond to advanced methods and, therefore, will run much longer.  You can work with users or automated client applications to optimize queries so that the data warehouse can work as expected. </li><li>  <b>Backup and recovery</b> - although data storage providers provide many options for backing up your data, it is nontrivial to set up and they require monitoring and close attention. </li></ul><br>  <i>Link to original text: <a href="https://panoply.io/data-warehouse-guide/data-warehouse-architecture-traditional-vs-cloud/">panoply.io/data-warehouse-guide/data-warehouse-architecture-traditional-vs-cloud</a></i> </div><p>Source: <a href="https://habr.com/ru/post/441538/">https://habr.com/ru/post/441538/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../441528/index.html">How my life turned into a Kafka book</a></li>
<li><a href="../441530/index.html">SDN will be launched into space: why is it necessary</a></li>
<li><a href="../441532/index.html">Batfish Introduction</a></li>
<li><a href="../441534/index.html">Load Balancers for Orchestration Systems</a></li>
<li><a href="../441536/index.html">SIMD Varieties</a></li>
<li><a href="../441546/index.html">"Hayabusa-2" first touched the asteroid</a></li>
<li><a href="../441548/index.html">Huawei showed a folding phone for $ 2600</a></li>
<li><a href="../441550/index.html">Hard and unsightly life of a simple programmer</a></li>
<li><a href="../441554/index.html">The whole story of Linux. Part I: how it all began</a></li>
<li><a href="../441560/index.html">Digital events in Moscow from February 25 to March 3</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>