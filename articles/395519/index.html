<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Project for a couple of days: a large display of LED strips</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Six months ago, we completed our almost traditional office skating rink with 7.6 thousand LEDs to transmit images and videos directly to the surface o...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Project for a couple of days: a large display of LED strips</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/files/cd9/514/4ab/cd95144ab66542fc9ec971e29785a9b8.jpg"><br><br>  Six months ago, we completed our almost traditional office skating rink with 7.6 thousand LEDs to transmit images and videos directly to the surface of the ice.  A post was posted on Giktaims, in which it was told that a real giant display with a resolution of 120x63 "pixels" is hidden under the ice, to which rather complex and bright images can be displayed. <br><br>  Often we were asked a question: is it possible to do something similar at home with your own hands?  You can, why not?  There was a detailed story about ice (the story about the <a href="https://geektimes.ru/company/mailru/blog/244544/">first skating rink</a> is an exciting reading in the July heat), but there was almost no mention of how to turn LEDs into a large display.  Since our makers are busy people and prefer to talk about something new rather than chew on the past, the publication of this article has been postponed again and again.  In the end, we decided to translate for you a clear and illustrative tutorial, after which you can take and hang the display on your wall. <br><a name="habracut"></a><br>  So exhale, everything will be easy.  Most of the time will be spent on the assembly - you have to tinker a little over connecting the tapes with each other.  They should be soldered to a serial circuit on the back of the panel.  In order to diffuse light, the protective glass will be frosted. 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      The main question of the project is what software to use?  It all depends on your needs: we will start with a demode and pointers, and in one of the following articles we will look at how to display notifications and stock quotes. <br><br><iframe width="560" height="315" src="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://www.youtube.com/embed/SdVQ3Lf91Dw%3Ffeature%3Doembed&amp;xid=17259,15700023,15700186,15700191,15700248,15700253&amp;usg=ALkJrhguUbH6Wm4V95iFvIekFfJpqN334Q" frameborder="0" allowfullscreen=""></iframe><br><br><h1>  What we need </h1><br><img src="https://habrastorage.org/files/d11/2c4/2ce/d112c42ce7184e929a9daabfaccb8cf7.jpg"><br><br><ul><li>  10 m <a href="http://www.aliexpress.com/store/group/WS2812B-pixels-DMX-pixel-IC-and-controllers/701799_251310291.html">LED strip</a> (sold in 5 m coils).  I used the cheapest option - WS2812B.  If you want to get a higher resolution display, you can purchase a tape with a density of 60 LEDs / meter; </li><li>  power supply 5 V and 10 A. I used a model in which the input power up to 240 V is fed to the screw terminals.  If you need to make the display safer, choose a fully enclosed power supply; </li><li>  <a href="http%253A%252F%252Fwww.amazon.com%252Fgp%252Fproduct%252FB006H06TVG%252Fref%253Das_at%253Ftag%253Dmak041-20%2526linkCode%253Das2%2526%26dtb%3D1">Arduino UNO</a> ; </li><li>  A large number of pieces of thick wire.  I cut the bundle from the old computer power supply; </li><li>  photo frame 50x50 cm; </li><li>  matting spray and white paint. </li></ul><br>  Total costs I got less than $ 100. <br><br>  You will also need tools: <br><br><ul><li>  soldering iron with solder; </li><li>  glue gun; </li><li>  a knife or scissors; </li><li>  tool for stripping. </li></ul><br>  First read the <a href="http://www.makeuseof.com/tag/beginners-electronics-10-skills-you-need-to-know/">manual for working with electronics for beginners</a> ! <br><br><h1>  Calculations </h1><br><img src="https://habrastorage.org/files/b00/9ff/53c/b009ff53c1354ca0a906f618ba84b6d4.jpg"><br><br>  If you purchased a 50x50 cm frame and the same LED strips as mine, you can fit 15 segments of 15 LEDs into the display.  But nothing prevents the use of a frame of a different size.  The distance between the LEDs is about 30 mm, so about 30 mm <sup>2</sup> per pixel.  This is our <b>1DPI</b> .  Well, yes, the resolution is not like Retina. <br><br>  Calculate how many sections of tape you need and draw guides on the back of the panel.  Check seven times, cut once: I have a little different tape, because when I started to glue them, I found that I can only hold 14 pieces of 15 LEDs.  But it's not scary - in the application, you can easily configure a different number of rows of pixels and their length.  Cut pieces suitable for your frame.  Unfortunately, I discovered that my 15th LEDs in the segments fall exactly at the place where you need to solder the connecting wires.  Therefore I had to unsolder them. <br><br><h1>  Glass matting </h1><br><img src="https://habrastorage.org/files/90e/f93/6d5/90ef936d504c4ba1b5d26f81467ef2cc.jpg"><br><br>  For better light scattering, I decided to apply a matting spray on both sides of the glass.  Do it better on the street or on the balcony, because the spray is harmful to health.  It should be applied as evenly as possible.  After drying, the matting is very stable, but initially it is necessary to achieve a uniform coating without any scratches. <br><br>  Also blow out the white paint panel, which will be visible through the glass.  Cut one of the corners - there will be wires. <br><br><h1>  LED strip mounting </h1><br><img src="https://habrastorage.org/files/d30/df1/24e/d30df124ef1c4beaba4506d9c78374b5.jpg"><br><br>  To glue tapes to the panel, use superglue.  I tried double sided tape, but after a few weeks it fell off.  The glue gun is even worse, because both surfaces ‚Äî the panel and the reverse side of the tape ‚Äî are smooth and have no pores.  If you purchased LED strips in a rubber case, then do not worry too much about the accuracy of placement - they can be freely moved. <br><br>  Remember that the signal will pass through the entire circuit, and each tape has a direction of signal transmission.  Tapes should be placed like this: with one arrow (the direction of the signal) points to the right, with the next one - to the left, then again to the right, etc.  That is, the signal on the display will go "snake".  Check the correct placement of the tapes before gluing them! <br><br><h1>  Soldering </h1><br><img src="https://habrastorage.org/files/7d9/164/a5e/7d9164a5e2af472a976d8098a64aab44.jpg"><br><br>  To connect the tape requires three wires of different lengths.  We connect the inner pair of contacts with the shortest wire (red in the photo), take the longer wire for the middle pair, and solder the longest to the external contacts.  Depending on which tapes are currently connected, the internal contacts will be either power (+ 5V) or ground (GND). <br><br>  Before soldering wires, tin them and the contacts themselves on the tapes.  It will take the most time, but this is an extremely important point.  Take your time, double check the correctness of the connected contacts! <br><br><h1>  Fixing tapes </h1><br><img src="https://habrastorage.org/files/563/3e3/888/5633e388892842f286b28bd6041aa867.jpg"><br><br>  After messing around with the wires, you may find that the first tape has moved.  I solved this problem as follows: I drilled two small holes and fixed the tape with a tie.  If you did not have at hand a strong enough glue, then in this way you can additionally fix all the tapes at both ends. <br><br><h1>  Connection check </h1><br><img src="https://habrastorage.org/files/b94/0bb/ff8/b940bbff8873459488f711778a45e6af.jpg"><br><br>  The sixth pin of the Arduino is used to transmit the control signal;  The supply voltage must be supplied directly from the power supply.  Connect the ground between the tapes, the Arduino and the power supply.  <b>Do not try to power the tape from the Arduino, and do not connect the power supply to the Arduino when the USB is connected (when the code will be downloaded for testing).</b> <br><br>  Download and add the <a href="https://github.com/adafruit/Adafruit_NeoPixel">AdafruitNeoPixel</a> library to the appropriate folder, then launch Arduino.  Test the connection using the following code, specifying the number of LEDs in the first parameter (60 in our example): <br><br> <code>Adafruit_NeoPixel strip =Adafruit_NeoPixel(60, PIN, NEO_GRB + NEO_KHZ800);</code> <br> <br>  If the animation stops at a certain row, immediately turn off the entire structure and check the connection.  Possible causes of failure: <br><br><ul><li>  wrong tape direction; </li><li>  you have confused the contacts when connecting tapes; </li><li>  You soldered + 5V to GND. </li></ul><br><h1>  Framed </h1><br><img src="https://habrastorage.org/files/521/a7a/6c7/521a7a6c7cbb4901b9c45768684ec074.jpg"><br><br>  Since the frame was not designed for such a depth of placement of the panel, I had to first fix the glass with a glue gun, and then insert a rubber seal along the perimeter that works as a buffer between the glass and the panel with LEDs.  After the final testing we place the panel in the frame and fix it with a glue gun.  In the corner you can make a small hole for the output wires.  That's all, the technical side of the project is complete. <br><br>  You can even think about whether it is possible to hide in the frame also the power supply with the Arduino.  In the meantime, proceed to setting up the software. <br><br><h1>  Glediator </h1><br>  <a href="http://www.solderlab.de/index.php/software/glediator">SolderLab.de</a> 's Glediator program is very well suited for animating LED arrays at parties or nightclubs.  It is able to control a matrix consisting of 512 WS2812 / NeoPixels LEDs, forming up to 24 frames / sec - this is quite enough for our display, you can even display simple animation gifs on it.  The mixer will allow you to make smooth transitions between animations. <br><br><img src="https://habrastorage.org/files/75c/617/304/75c61730457547458e0441e7db28324a.png"><br><br>  To work with Glediator, install the Arduino UNO <a href="http://www.solderlab.de/index.php/downloads/file/33-ws2812-glediator-interface-v1">firmware</a> , and check that the signal cable is connected to pin 6. Do not forget to write in the variable the number of LEDs you use. <br><br>  Launch Glediator, open the properties and change <b>the matrix size and output mode</b> .  Adjust the <b>pixel order</b> if you have a different scheme, but there is little documentation for this step, so you have to act by trial and error.  If the image on the display is different from the intended, try to play with the settings.  The order of pixels <b>HS_BL</b> worked for <b>me</b> - I suspect that this means " <b>h</b> orizontal <b>s</b> nake, starting <b>b</b> ottom <b>l</b> eft" (horizontal snake, beginning at the bottom left). <br><br><img src="https://habrastorage.org/files/984/fdc/70f/984fdc70f65e4cd294af0fae75697fae.png"><br><br>  Glediator is a professional application, so far we will not study its interface and features.  Load different animations into the left and right windows, then move the mixer between them.  Or use a ready-made playlist, which is shown in the video. <br><br><h1>  Adafruit NeoMatrix and Adafruit GFX Libraries </h1><br>  Adafruit has created a very useful library for working with LED matrices.  At first it was called <a href="https://learn.adafruit.com/adafruit-gfx-graphics-library/overview">Adafruit GFX</a> , and was originally intended for TFT and LCD displays.  Then a modification of <a href="https://learn.adafruit.com/adafruit-neopixel-uberguide/neomatrix-library">NeoMatrix</a> appeared, allowing to fully work with the NeoPixel matrices.  It has a huge number of easy-to-use functions for displaying text or raster sprite graphics. <br><br>  If you exactly repeated my project, you can use <a href="https://gist.github.com/jamesabruce/d9856765897b12d6bf38">this code</a> .  The most important part: <br><br><pre> <code class="html hljs xml">#define XSIZE 15 #define YSIZE 14 #define PIN 6 Adafruit_NeoMatrix matrix =Adafruit_NeoMatrix(XSIZE, YSIZE, PIN, NEO_MATRIX_BOTTOM + NEO_MATRIX_LEFT + NEO_MATRIX_ROWS + NEO_MATRIX_ZIGZAG, NEO_GRB+NEO_KHZ800);</code> </pre><br>  Everything is clear with the first lines.  In the last three, the matrix is ‚Äã‚Äãdescribed: in this case, the first pixel is at the bottom left (bottomleft), the pixels are arranged in rows (rows), connected in a zigzag manner (zigzag).  If you did otherwise, consult your library documentation. <br><br>  I set in the code a few sprites - smiles.  You can create your own using the <b>Img2Code</b> Java application in the GFX library folder. <br><br><img src="https://habrastorage.org/files/ff7/30b/a2e/ff730ba2ed0e4aa096a22e0ee748bbbb.png"><br><br>  In the future, we will consider using the library to display useful information such as stock quotes or Twitter feeds, but for now I suggest you play with the code yourself and upload your own images. <br><br>  That's all.  You have created a large display of LED strips.  Now you need to figure out how to use it.  From the remaining LEDs you can create a <a href="http://www.makeuseof.com/tag/build-cloud-lamp-sound-reactive-lightning/">lamp in the form of a cloud</a> . </div><p>Source: <a href="https://habr.com/ru/post/395519/">https://habr.com/ru/post/395519/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../395509/index.html">Mining for the price of wind: cryptostartaps that experiment with renewable energy sources</a></li>
<li><a href="../395511/index.html">Stealing data through a computer cooler? Attack Fansmitter</a></li>
<li><a href="../395513/index.html">Opera responded to Microsoft‚Äôs browser energy efficiency test</a></li>
<li><a href="../395515/index.html">The origin of eSports in Russia. Old heroes in the new organization Apei Gaming (Part 3)</a></li>
<li><a href="../395517/index.html">On Tour De France cyclists with hidden electric motors on their bike will be exposed with thermal imagers.</a></li>
<li><a href="../395521/index.html">MSI and ASUS accuse of sending out "overclocked" video cards for reviews</a></li>
<li><a href="../395523/index.html">In the laboratory of the University of Stuttgart printed multi-lens with a diameter of human hair</a></li>
<li><a href="../395525/index.html">AI defeated man in air combat simulation</a></li>
<li><a href="../395527/index.html">Russian scientists have created a magneto-thrombolytic system that breaks blood clots thousands of times more effective than analogs.</a></li>
<li><a href="../395529/index.html">Robotics educational sets MRobot with Intel Inside</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>