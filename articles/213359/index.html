<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>We remove the parking brake: the development of "behind the glass", nano-franding and news</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Picture to attract attention 

 Ways to accelerate 
 At last the circulation of our long-awaited second floors has been made. At the weekend we start ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>We remove the parking brake: the development of "behind the glass", nano-franding and news</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/getpro/habr/post_images/f90/96f/23b/f9096f23b2ccff0a16f85a5e3fd9c184.jpg" alt="image"><br>  Picture to attract attention <br><br><h4>  Ways to accelerate </h4><br>  At last the circulation of our long-awaited second floors has been made.  At the weekend we start sending them to everyone who wished them as a gift, and let the rest go on sale.  About them the details at the end of the article, and now about the main thing. <br>  Once again reminded us of our circulation that everything is moving very slowly with us.  Need to change something.  With the parking brake removed, so to speak. <br>  The analysis has shown that it is impossible to do everything on our own - the way out is to attract additional people (at the stage while the team is transitioning to a full time project).  Well, within the framework of this approach, we decided to conduct a bold experiment. <br>  At first I wanted to tell about the first part of our experiment - the case was successfully completed just yesterday. <br><a name="habracut"></a><br><h4>  Nanocraudfand (succesfully funded) </h4><br>  As a test device for the new approach, the HDMI-in module was chosen, which allows you to capture virtual video from HDMI sources.  This adapter has been living with us for a long time with the note "in development".  The task is small, there is an external circuitry specialist, there is a razvodchik, we decided on the chip, we know where to prototype.  And the budget is clear - about <b>45,000</b> rubles.  And we decided to try to make a targeted fundraiser for this task.  We made a separate wallet in Yandex.Money, a small <a href="http://virt2real.ru/blog/156">page</a> on the site (blog) with information and a form for donations, and modestly reported it on the forum and on Twitter - without large-scale information support. <br><br>  For 2 days we received support from 4 people, having collected less than a thousand rubles less interest.  At the time of this writing, it was already 1081 rubles. <br><img src="https://habrastorage.org/getpro/habr/post_images/166/bd6/666/166bd6666385900aeceb8da0bb531695.png" alt="image">
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      And suddenly ... a person under the nickname v9 contacted us, who said that he was ready to give the <b>full amount at once</b> .  He just really needs this module for use in his decisions on the basis of the virtualka. <br>  So the first part of the project - fundraising - was successfully completed in 3 days.  Turn, I tell you, completely unexpected, and very pleasant.  For only 211 page views on ‚Äúnano-franding‚Äù, the result was just great!  Now we proceed to the hardware, and very much hope to successfully and quickly go through the development cycle.  Well, we liked the idea with the I-button - and we left it in the right column of our site for those who sympathize with the project. <br><br>  Why "nano"? <br><ul><li>  Small amount </li><li>  Clearly time limited small task </li><li>  Well, the result turned out for nanoskor - only 3 days </li></ul><br><br><h4>  Part two - the development of "behind the glass" </h4><br>  And we decided to conduct the development completely openly.  Technically, everything will be implemented quite simply: at the forum we are doing a special section of two sub-forums. <br><ul><li>  The first subforum is for everyone to express their thoughts and ideas on the functionality and features of the module.  We begin with the choice of the chip - there are several of them suitable for our task. </li><li>  The second is only for project staff.  Collectively taken decisions will be recorded in it and information about the current progress of work at all stages, from idea to hardware, will be laid out. </li></ul><br>  We start work tonight, so everyone is <a href="http://forum.virt2real.ru/viewforum.php%3Ff%3D51">welcome</a> to speak. <br><br>  We hope to kill several birds with one stone, namely: <br><ul><li>  All who are interested, on a live example, show all the stages of development </li><li>  Get public control of the process - it motivates </li><li>  Hear the wishes of users and take them into account directly at the design stage. </li></ul><br>  So get down! <br><br><h4>  We continue to learn to delegate </h4><br>  In the framework of the new party policy ‚Äúdo everything yourself - this is a dead end‚Äù, it was decided to abandon another non-core activity - this is the retail sale of virtual rollers.  In the near future, we will begin the process of ‚Äúfreezing‚Äù our own online store, and work on quality customer service will be given to those for whom this activity is the main one. <br>  At the moment we have two partner stores - this is <a href="http://tixer.ru/">tixer.ru</a> and <a href="http://chipster.ru/">chipster.ru</a> They will be ready to start selling already from Monday.  Yes, and they will also have second-floor boards.  So "ask in the shops of the city."  Our mikrogonki store will still be functioning for a short while while the guys get the job done. <br>  I‚Äôll say right away that in the foreseeable future we are not planning to attract other partners for retail sales. <br>  I will also make a reservation on the boards of the second floor - the amount we have made is relatively small.  If there are more people willing than there are boards available, we‚Äôll figure out what to do with it.  Repeat the circulation is not a problem - the chain is adjusted, the devices are checked, now it's just a matter of technology. <br><br><h5>  Well, now to our gland. </h5><br>  Fully manufactured, passed all the tests and made software support for the three modules - Motorshield, a debug module for prototyping and an external Ethernet connector. <br><br>  The driver is sawed to the module for connecting analog cameras.  Let's go in a way similar to the module HDMI - acceleration by attracting additional human power.  We will not do Crowdfand - the amount is quite small and available. <br><br>  Three bugs were found in the relay module.  Are you interested in what?  Here they are: <br>  The first - at the first prototype stage, stumbled upon the fact that the selected relyukhs turned out to be polar, and the wiring was done under bipolar (it is easy to fix, but there is a fact of the problem). <br>  The second is a voltage drop with a closed relay that does not correctly interrogate the current state of the control pin that controls the relay.  Those.  the command is executed, but then ask for a pin-zero on it, or one does not work. <br>  Well, the third one is pickups from actively working relays on Wi-Fi, there are interferences in communication. <br>  Problems are localized.  Solved already in active mode. <br><br>  So, here are three devices that will go to the happy owners in the coming days. <br><br><h4>  Motor control power board, or "Motorshild 2.0" </h4><br><img src="https://habrastorage.org/getpro/habr/post_images/aee/2aa/45e/aee2aa45ec6eb3e218db41c65a35b83c.jpg" alt="image"><br><br><h5>  Main characteristics: </h5><br><ul><li>  Dimensions: 70x58 mm </li><li>  PCA9685 PWM Controller (12-bit) </li><li>  Driver collector motors LV8402 x4 pcs </li><li>  Power Stabilizer TI TPS54622 (4.5 - 17 Volt, 6A) </li><li>  8 channels of collector motors, 1.4A per channel (2.5A in peak), bidirectional proportional </li><li>  8 PWM / PPM channels (12 bits) for brushless motors (need ESC) and servos </li><li>  8 channels of unipolar power outputs </li><li>  Supply voltage 5 - 16 volts </li><li>  Monitoring the voltage of the external power supply (acquired on the ADC0 through a 1/10 divider) </li></ul><br>  The internal coordination of the motorshield constructive team was long and bloody.  According to preliminary estimates, the very first version, which turned out taking into account all the requirements of Seregi <a href="http://habrahabr.ru/users/gol/" class="user_link">Gol</a> and slightly inferior to the spacecraft in terms of functionality, would be like the virtual structure itself ... .  The current version has been able to be driven into an adequate price framework and takes into account the needs of most enthusiasts. <br><br><h5>  Some features of Motorshield: </h5><br><ul><li>  Its power stabilizer for 6 amps with a voltage range of 4.5 - 17 volts.  We try to maximize omnivorous source </li><li>  Hardware PWMs have been added - for there are only 4 native virtuallers (but very high-frequency ????).  Now there are 8 of them - on one screen you can build quite complex mechanisms such as a manipulator on a platform with a rotating camera </li><li>  Native three-pin connectors for connecting servos (8 pieces) are derived - it is just convenient </li><li>  A flexible power selection scheme for managed devices has been implemented - from the onboard virtualrilka or from an external source.  Such a scheme allows, for example, when implementing the control of not very voracious engines or servos, to do without external power to save space.  Well, in the case of high consumption - connect the second independent source. </li><li> Ethernet, UART, Reset connectors are thrown outward.  When installed on the virtualka, the shield closes the combs with connectors, so the most popular for debugging and production outputs were duplicated as ordinary connectors on the shield itself. </li><li>  Made 8 power unipolar binary outputs </li><li>  As promised, <a href="">the wiki</a> has a wiring diagram. </li></ul><br>  The long struggle with iron almost made us forget why we even did it all.  And the idea was simple - to make a convenient solution for the rapid implementation of our ideas.  Therefore, as soon as the motor-drive steadily earned, Serega quickly checked the board on the manipulator, tracked trolley and tank.  He is very pleased with the result - I hope that the users of the Motorshield will be able to experience the same feelings. <br><br><h4>  Prototyping debug module </h4><br><img src="https://habrastorage.org/getpro/habr/post_images/f41/226/038/f41226038e69a22010bf66d5ffe7ed46.jpg" alt="image"><br><br>  Useful features of the module: <br><ul><li>  MicroUSB connector <br>  - Through the microUSB connector you can power the board <br>  - Onboard FTDI chip that implements USB-UART.  Allows you to use the debugging console, while freeing the USB connector on the virtual line itself for application tasks (usb 3g / 4g, connecting to a computer in different modes, etc.) </li><li>  Ethernet connector installed </li><li>  Ethernet LEDs are displayed on GPIO and are available to the user. </li><li>  On board 4 LEDs for experiments.  All different colors, however! </li><li>  All pins are displayed in the form of points for wiring. </li><li>  Reset connectors for reset (closure = reboot of the virtual network) </li><li>  Pins with a voltage of 5, 3.2 volts and ground are derived - it is convenient to use for various experimental tasks, for example, GPIO input tests (in the in mode). </li></ul><br><br>  Feature of working with USB UART - in the settings of the terminal software, you must disable hardware data control. <br><br><h5>  External Ethernet connector </h5><br><img src="https://habrastorage.org/getpro/habr/post_images/fb7/f8e/468/fb7f8e4684dd6309c8d024b6032f739c.jpg" alt="image"><br>  The simplest device that implements an external Ethernet connector.  LED connectors on the connector are derived separately - i.e.  they can be used for their needs. <br><br><h4>  "Routine is over" </h4><br>  That is exactly how our recent post Gol titled in his blog.  Finally, the stage of low-level preparation of software is almost complete, and you can do what it was all about - to do different cool things!  There is a virtualka, there is a Motorshield and debug modules, an API for working with GPIO is well-established, work with many external equipment has been tested.  So in the near future we will publish ready-to-go cases ‚Äúfrom and to‚Äù, which all users of the virtual group will be able to repeat. <br>  There is only one major unsolved problem - this is the video subsystem.  In its current form, it allows you to implement the necessary functionality - capturing video and broadcasting in various forms required in projects.  But full bringing to mind and the inclusion of all the "buns" of DSP DaVinci, over which we have been fighting for about six months, will be completed in the framework of the already chosen strategy.  Found a contractor who is ready to take on this task. <br>  In general, I am very pleased that we will finally be able to do a lot more on the application user-level software - this is something that the virtual girls who are not advanced Linux users really lacked. <br><br><h4>  Latest news digest </h4><br>  We do not tweet all of our news - some things happen in working mode, it happens that they are mentioned on the forum, and sometimes they are not published at all.  Therefore, I will give a brief summary of events over the past month and a half. <br><br><h5>  Behind the Scenes - Soft and Iron </h5><br><ul><li>  A huge number of settings made in the admin panel - now the lion's share of options can be changed from the admin panel without resorting to the console </li><li>  Mastered NAND - we now <a href="http://wiki.virt2real.ru/wiki/%25D0%2597%25D0%25B0%25D0%25B3%25D1%2580%25D1%2583%25D0%25B7%25D0%25BA%25D0%25B0_%25D1%2581_NAND">know how to boot from it</a> .  A script has been added to the admin panel that formats the NAND itself and fills in all the necessary components. </li><li>  Connected voice recognition and voice synthesizer.  As usual, this was a side effect when checking the microphone and speaker, but <a href="http://www.g0l.ru/blog/n3907">it was fun</a> .  Added to admin area. </li><li>  Improved WiFi system.  Support for mesh networks, simultaneous operation of two access points on the ‚Äúnative‚Äù wifi and usb whistle, a mess with system timeouts has been cleaned </li><li>  Thanks to Antony Pavlov, we not only put things in order in the SDK, but also brought uboot to the latest version.  In general, Antony Pavlov is one of the participants of the barebox project, and we are still waiting for a lot of interesting things. </li><li>  We have implemented a batch build (thanks to the forum user eagafonov) </li><li>  The modern hybrid 3G / 4G whistle started out of the box - it didn't take much effort, but it brought joy </li></ul><br><br><h5>  About different </h5><br><ul><li>  Have posted a second <a href="http://wiki.virt2real.ru/wiki/%25D0%259E%25D0%25B1%25D1%2583%25D1%2587%25D0%25B0%25D1%258E%25D1%2589%25D0%25B8%25D0%25B5_%25D1%2581%25D1%2582%25D0%25B0%25D1%2582%25D1%258C%25D0%25B8">article for dummies</a> - the basics of management </li><li>  "Who will remember the old ..." - Discovery suddenly broadcast a <a href="http://virt2real.ru/blog/154">program about us</a> , which it filmed last summer about what we did last winter (: </li><li>  The fattened forum was divided into sub-forums. </li></ul><br><br>  Well, thanks for reading.  And we will accelerate! </div><p>Source: <a href="https://habr.com/ru/post/213359/">https://habr.com/ru/post/213359/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../213337/index.html">Saving data to windows using ddrescue</a></li>
<li><a href="../213341/index.html">European Space Agency will send PLATO observatory to space</a></li>
<li><a href="../213347/index.html">In the United States launched the sale of "smart" pistols, working only with a "smart" watch</a></li>
<li><a href="../213353/index.html">HackDay # 30 in Moscow</a></li>
<li><a href="../213355/index.html">LED lamps will follow the visitors of Newark Airport.</a></li>
<li><a href="../213361/index.html">The court's decision. Railways vs Apple</a></li>
<li><a href="../213363/index.html">Windows RT. Personal experience</a></li>
<li><a href="../213365/index.html">How to make money on mining with a regular home computer</a></li>
<li><a href="../213367/index.html">Candidate dissertation.Instructions for the uprooting of scientific stubs. Part 1</a></li>
<li><a href="../213369/index.html">Pro perfect website builder</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>