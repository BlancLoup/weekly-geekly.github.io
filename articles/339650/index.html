<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>How to connect WebRTC to Zoom and call 2 times cheaper</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="The Zoom service took the videoconferencing industry by storm - simply because the guys were able to offer good video quality and ‚Äúalways work.‚Äù The c...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>How to connect WebRTC to Zoom and call 2 times cheaper</h1><div class="post__text post__text-html js-mediator-article"><div style="text-align:center;"><img src="https://habrastorage.org/webt/59/d1/eb/59d1ebf729f32526348620.jpeg"></div><br>  The <a href="https://zoom.us/">Zoom</a> service took the videoconferencing industry by storm - simply because the guys were able to offer good video quality and ‚Äúalways work.‚Äù  The competitors and the first and second somehow not stuck.  Who has tried to make a video conference for five or more people in Skype or analog, will understand me.  The authors of the service adequately estimate its popularity and ‚Äúpremium‚Äù opportunities offer expensive: the ability to connect participants with regular phones to conferences costs <a href="https://zoom.us/pricing">from $ 100 per month</a> .  But the SIP connection is twice cheaper.  And under the cut, I want to show how to connect Voximplant to similar services so that in a few lines of JavaScript code we can receive low-cost calls all over the world and our voice automation. <br><a name="habracut"></a><br><h2>  Zoom setting </h2><br><img src="https://habrastorage.org/webt/59/d1/eb/59d1eb6cd07ff878754011.png" align="left">  All Zoom needs to do is buy the integration with SIP, which is called the H.323 / SIP Room Connector and is bought <a href="https://zoom.us/signin">from this link</a> .  We will need only one port, since all the ‚Äútelephone magic‚Äù will be implemented using JavaScript on the Voximplant side. <br clear="all"><h2>  Voximplant setup </h2><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/59/d1/ec/59d1ec407ba10984958759.jpeg"></div>  The idea is to create a web interface that through the HTTP API will instruct the Voximplant cloud to connect to the desired Zoom conference.  And then the cloud will be able to connect participants from phones to this conference: both by calling itself and by providing a number for the call.  To make the decision even cheaper, we will use the numbers in the sandbox of Gotham City, which are almost like real ones, but work through additional numbers. <br><br>  You can register as a Voximplant developer <a href="https://voximplant.com/sign-up/">here</a> , after which the <a href="https://manage.voximplant.com/">manage.voximplant.com</a> control panel is at your complete disposal, in which further configuration steps will be carried out. <br><br>  Using the ‚Äúapplications‚Äù section of the top menu, create a new application and name it <b>zoomconnector</b> .  Then, using the ‚Äúscripts‚Äù section, create <b>ZoomBridge</b> and <b>ZoomCall-In</b> scripts with the following source code: 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <div class="spoiler">  <b class="spoiler_title">Some code under the spoiler</b> <div class="spoiler_text"><div class="oembed"><script type="text/javascript" src="https://gist.github.com/03393f30de431a7a430ab244f37e4a16.js"></script><link rel="stylesheet" href="https://github.githubassets.com/assets/gist-embed-b3b573358bfc66d89e1e95dbf8319c09.css"><div id="gist70302604" class="gist">
    <div class="gist-file">
      <div class="gist-data">
        <div class="js-gist-file-update-container js-task-list-container file-box">
  <div id="file-zoombridge-js" class="file">
    

  <div itemprop="text" class="blob-wrapper data type-javascript ">
      
<table class="highlight tab-size js-file-line-container" data-tab-size="8">
      <tbody><tr>
        <td id="file-zoombridge-js-L1" class="blob-num js-line-number" data-line-number="1"></td>
        <td id="file-zoombridge-js-LC1" class="blob-code blob-code-inner js-file-line"><span class="pl-c1">require</span>(<span class="pl-smi">Modules</span>.<span class="pl-smi">Conference</span>);</td>
      </tr>
      <tr>
        <td id="file-zoombridge-js-L2" class="blob-num js-line-number" data-line-number="2"></td>
        <td id="file-zoombridge-js-LC2" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="file-zoombridge-js-L3" class="blob-num js-line-number" data-line-number="3"></td>
        <td id="file-zoombridge-js-LC3" class="blob-code blob-code-inner js-file-line"><span class="pl-k">var</span> customData,</td>
      </tr>
      <tr>
        <td id="file-zoombridge-js-L4" class="blob-num js-line-number" data-line-number="4"></td>
        <td id="file-zoombridge-js-LC4" class="blob-code blob-code-inner js-file-line">	confName,</td>
      </tr>
      <tr>
        <td id="file-zoombridge-js-L5" class="blob-num js-line-number" data-line-number="5"></td>
        <td id="file-zoombridge-js-LC5" class="blob-code blob-code-inner js-file-line">	conference,</td>
      </tr>
      <tr>
        <td id="file-zoombridge-js-L6" class="blob-num js-line-number" data-line-number="6"></td>
        <td id="file-zoombridge-js-LC6" class="blob-code blob-code-inner js-file-line">	pstnCalls <span class="pl-k">=</span> [];</td>
      </tr>
      <tr>
        <td id="file-zoombridge-js-L7" class="blob-num js-line-number" data-line-number="7"></td>
        <td id="file-zoombridge-js-LC7" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="file-zoombridge-js-L8" class="blob-num js-line-number" data-line-number="8"></td>
        <td id="file-zoombridge-js-LC8" class="blob-code blob-code-inner js-file-line"><span class="pl-c"><span class="pl-c">/**</span></span></td>
      </tr>
      <tr>
        <td id="file-zoombridge-js-L9" class="blob-num js-line-number" data-line-number="9"></td>
        <td id="file-zoombridge-js-LC9" class="blob-code blob-code-inner js-file-line"><span class="pl-c"> * Handle StartConference request</span></td>
      </tr>
      <tr>
        <td id="file-zoombridge-js-L10" class="blob-num js-line-number" data-line-number="10"></td>
        <td id="file-zoombridge-js-LC10" class="blob-code blob-code-inner js-file-line"><span class="pl-c"> <span class="pl-c">*/</span></span></td>
      </tr>
      <tr>
        <td id="file-zoombridge-js-L11" class="blob-num js-line-number" data-line-number="11"></td>
        <td id="file-zoombridge-js-LC11" class="blob-code blob-code-inner js-file-line"><span class="pl-smi">VoxEngine</span>.<span class="pl-c1">addEventListener</span>(<span class="pl-smi">AppEvents</span>.<span class="pl-smi">Started</span>, <span class="pl-k">function</span> (<span class="pl-smi">e</span>) {</td>
      </tr>
      <tr>
        <td id="file-zoombridge-js-L12" class="blob-num js-line-number" data-line-number="12"></td>
        <td id="file-zoombridge-js-LC12" class="blob-code blob-code-inner js-file-line">	<span class="pl-c"><span class="pl-c">//</span> We will send some parameters in customData  </span></td>
      </tr>
      <tr>
        <td id="file-zoombridge-js-L13" class="blob-num js-line-number" data-line-number="13"></td>
        <td id="file-zoombridge-js-LC13" class="blob-code blob-code-inner js-file-line">	<span class="pl-k">try</span> {</td>
      </tr>
      <tr>
        <td id="file-zoombridge-js-L14" class="blob-num js-line-number" data-line-number="14"></td>
        <td id="file-zoombridge-js-LC14" class="blob-code blob-code-inner js-file-line">		customData <span class="pl-k">=</span> <span class="pl-c1">JSON</span>.<span class="pl-c1">parse</span>(<span class="pl-smi">VoxEngine</span>.<span class="pl-en">customData</span>());</td>
      </tr>
      <tr>
        <td id="file-zoombridge-js-L15" class="blob-num js-line-number" data-line-number="15"></td>
        <td id="file-zoombridge-js-LC15" class="blob-code blob-code-inner js-file-line">	} <span class="pl-k">catch</span> (e) {</td>
      </tr>
      <tr>
        <td id="file-zoombridge-js-L16" class="blob-num js-line-number" data-line-number="16"></td>
        <td id="file-zoombridge-js-LC16" class="blob-code blob-code-inner js-file-line">		<span class="pl-smi">Logger</span>.<span class="pl-c1">write</span>(<span class="pl-s"><span class="pl-pds">"</span>Something went wrong. Broken JSON. Life is pain. Please try again.<span class="pl-pds">"</span></span>);</td>
      </tr>
      <tr>
        <td id="file-zoombridge-js-L17" class="blob-num js-line-number" data-line-number="17"></td>
        <td id="file-zoombridge-js-LC17" class="blob-code blob-code-inner js-file-line">	}</td>
      </tr>
      <tr>
        <td id="file-zoombridge-js-L18" class="blob-num js-line-number" data-line-number="18"></td>
        <td id="file-zoombridge-js-LC18" class="blob-code blob-code-inner js-file-line">	<span class="pl-c"><span class="pl-c">/**</span></span></td>
      </tr>
      <tr>
        <td id="file-zoombridge-js-L19" class="blob-num js-line-number" data-line-number="19"></td>
        <td id="file-zoombridge-js-LC19" class="blob-code blob-code-inner js-file-line"><span class="pl-c">	 * Conference ID</span></td>
      </tr>
      <tr>
        <td id="file-zoombridge-js-L20" class="blob-num js-line-number" data-line-number="20"></td>
        <td id="file-zoombridge-js-LC20" class="blob-code blob-code-inner js-file-line"><span class="pl-c">	 <span class="pl-c">*/</span></span></td>
      </tr>
      <tr>
        <td id="file-zoombridge-js-L21" class="blob-num js-line-number" data-line-number="21"></td>
        <td id="file-zoombridge-js-LC21" class="blob-code blob-code-inner js-file-line">	<span class="pl-k">if</span> (customData <span class="pl-k">!==</span> <span class="pl-c1">undefined</span> <span class="pl-k">&amp;&amp;</span> confName <span class="pl-k">===</span> <span class="pl-c1">undefined</span>) confName <span class="pl-k">=</span> <span class="pl-smi">customData</span>.<span class="pl-smi">conference</span>;</td>
      </tr>
      <tr>
        <td id="file-zoombridge-js-L22" class="blob-num js-line-number" data-line-number="22"></td>
        <td id="file-zoombridge-js-LC22" class="blob-code blob-code-inner js-file-line">	<span class="pl-c"><span class="pl-c">/**</span></span></td>
      </tr>
      <tr>
        <td id="file-zoombridge-js-L23" class="blob-num js-line-number" data-line-number="23"></td>
        <td id="file-zoombridge-js-LC23" class="blob-code blob-code-inner js-file-line"><span class="pl-c">	 * Display Name</span></td>
      </tr>
      <tr>
        <td id="file-zoombridge-js-L24" class="blob-num js-line-number" data-line-number="24"></td>
        <td id="file-zoombridge-js-LC24" class="blob-code blob-code-inner js-file-line"><span class="pl-c">	 <span class="pl-c">*/</span></span></td>
      </tr>
      <tr>
        <td id="file-zoombridge-js-L25" class="blob-num js-line-number" data-line-number="25"></td>
        <td id="file-zoombridge-js-LC25" class="blob-code blob-code-inner js-file-line">	<span class="pl-k">if</span> (customData <span class="pl-k">!==</span> <span class="pl-c1">undefined</span> <span class="pl-k">&amp;&amp;</span> <span class="pl-smi">customData</span>.<span class="pl-smi">displayName</span> <span class="pl-k">!==</span> <span class="pl-c1">undefined</span>) displayName <span class="pl-k">=</span> <span class="pl-smi">customData</span>.<span class="pl-smi">displayName</span>;</td>
      </tr>
      <tr>
        <td id="file-zoombridge-js-L26" class="blob-num js-line-number" data-line-number="26"></td>
        <td id="file-zoombridge-js-LC26" class="blob-code blob-code-inner js-file-line">	<span class="pl-k">else</span> displayName <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">"</span>Untitled<span class="pl-pds">"</span></span>;</td>
      </tr>
      <tr>
        <td id="file-zoombridge-js-L27" class="blob-num js-line-number" data-line-number="27"></td>
        <td id="file-zoombridge-js-LC27" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="file-zoombridge-js-L28" class="blob-num js-line-number" data-line-number="28"></td>
        <td id="file-zoombridge-js-LC28" class="blob-code blob-code-inner js-file-line">	<span class="pl-c"><span class="pl-c">//</span> Create conference</span></td>
      </tr>
      <tr>
        <td id="file-zoombridge-js-L29" class="blob-num js-line-number" data-line-number="29"></td>
        <td id="file-zoombridge-js-LC29" class="blob-code blob-code-inner js-file-line">	conference <span class="pl-k">=</span> <span class="pl-smi">VoxEngine</span>.<span class="pl-en">createConference</span>();</td>
      </tr>
      <tr>
        <td id="file-zoombridge-js-L30" class="blob-num js-line-number" data-line-number="30"></td>
        <td id="file-zoombridge-js-LC30" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="file-zoombridge-js-L31" class="blob-num js-line-number" data-line-number="31"></td>
        <td id="file-zoombridge-js-LC31" class="blob-code blob-code-inner js-file-line">	<span class="pl-k">if</span> (confName <span class="pl-k">!==</span> <span class="pl-c1">undefined</span>) <span class="pl-en">callZoomConference</span>(confName);</td>
      </tr>
      <tr>
        <td id="file-zoombridge-js-L32" class="blob-num js-line-number" data-line-number="32"></td>
        <td id="file-zoombridge-js-LC32" class="blob-code blob-code-inner js-file-line">});</td>
      </tr>
      <tr>
        <td id="file-zoombridge-js-L33" class="blob-num js-line-number" data-line-number="33"></td>
        <td id="file-zoombridge-js-LC33" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="file-zoombridge-js-L34" class="blob-num js-line-number" data-line-number="34"></td>
        <td id="file-zoombridge-js-LC34" class="blob-code blob-code-inner js-file-line"><span class="pl-c"><span class="pl-c">/**</span></span></td>
      </tr>
      <tr>
        <td id="file-zoombridge-js-L35" class="blob-num js-line-number" data-line-number="35"></td>
        <td id="file-zoombridge-js-LC35" class="blob-code blob-code-inner js-file-line"><span class="pl-c"> * Handle Call-In</span></td>
      </tr>
      <tr>
        <td id="file-zoombridge-js-L36" class="blob-num js-line-number" data-line-number="36"></td>
        <td id="file-zoombridge-js-LC36" class="blob-code blob-code-inner js-file-line"><span class="pl-c"> <span class="pl-c">*/</span></span></td>
      </tr>
      <tr>
        <td id="file-zoombridge-js-L37" class="blob-num js-line-number" data-line-number="37"></td>
        <td id="file-zoombridge-js-LC37" class="blob-code blob-code-inner js-file-line"><span class="pl-smi">VoxEngine</span>.<span class="pl-c1">addEventListener</span>(<span class="pl-smi">AppEvents</span>.<span class="pl-smi">CallAlerting</span>, <span class="pl-k">function</span> (<span class="pl-smi">e</span>) {</td>
      </tr>
      <tr>
        <td id="file-zoombridge-js-L38" class="blob-num js-line-number" data-line-number="38"></td>
        <td id="file-zoombridge-js-LC38" class="blob-code blob-code-inner js-file-line">	<span class="pl-k">if</span> (<span class="pl-smi">e</span>.<span class="pl-c1">headers</span>[<span class="pl-s"><span class="pl-pds">"</span>X-conference<span class="pl-pds">"</span></span>] <span class="pl-k">!==</span> <span class="pl-c1">undefined</span>) {</td>
      </tr>
      <tr>
        <td id="file-zoombridge-js-L39" class="blob-num js-line-number" data-line-number="39"></td>
        <td id="file-zoombridge-js-LC39" class="blob-code blob-code-inner js-file-line">		<span class="pl-c"><span class="pl-c">//</span> If we haven't set conference id yet (conference session started by inbound call instead of HTTP API call)</span></td>
      </tr>
      <tr>
        <td id="file-zoombridge-js-L40" class="blob-num js-line-number" data-line-number="40"></td>
        <td id="file-zoombridge-js-LC40" class="blob-code blob-code-inner js-file-line">		<span class="pl-k">if</span> (confName <span class="pl-k">===</span> <span class="pl-c1">undefined</span>) {</td>
      </tr>
      <tr>
        <td id="file-zoombridge-js-L41" class="blob-num js-line-number" data-line-number="41"></td>
        <td id="file-zoombridge-js-LC41" class="blob-code blob-code-inner js-file-line">			confName <span class="pl-k">=</span> <span class="pl-smi">e</span>.<span class="pl-c1">headers</span>[<span class="pl-s"><span class="pl-pds">"</span>X-conference<span class="pl-pds">"</span></span>];</td>
      </tr>
      <tr>
        <td id="file-zoombridge-js-L42" class="blob-num js-line-number" data-line-number="42"></td>
        <td id="file-zoombridge-js-LC42" class="blob-code blob-code-inner js-file-line">			<span class="pl-en">callZoomConference</span>(confName);</td>
      </tr>
      <tr>
        <td id="file-zoombridge-js-L43" class="blob-num js-line-number" data-line-number="43"></td>
        <td id="file-zoombridge-js-LC43" class="blob-code blob-code-inner js-file-line">		}</td>
      </tr>
      <tr>
        <td id="file-zoombridge-js-L44" class="blob-num js-line-number" data-line-number="44"></td>
        <td id="file-zoombridge-js-LC44" class="blob-code blob-code-inner js-file-line">		<span class="pl-smi">e</span>.<span class="pl-smi">call</span>.<span class="pl-c1">addEventListener</span>(<span class="pl-smi">CallEvents</span>.<span class="pl-smi">Connected</span>, <span class="pl-k">function</span> (<span class="pl-smi">ev</span>) {</td>
      </tr>
      <tr>
        <td id="file-zoombridge-js-L45" class="blob-num js-line-number" data-line-number="45"></td>
        <td id="file-zoombridge-js-LC45" class="blob-code blob-code-inner js-file-line">			<span class="pl-smi">VoxEngine</span>.<span class="pl-en">sendMediaBetween</span>(<span class="pl-smi">ev</span>.<span class="pl-smi">call</span>, conference);</td>
      </tr>
      <tr>
        <td id="file-zoombridge-js-L46" class="blob-num js-line-number" data-line-number="46"></td>
        <td id="file-zoombridge-js-LC46" class="blob-code blob-code-inner js-file-line">		});</td>
      </tr>
      <tr>
        <td id="file-zoombridge-js-L47" class="blob-num js-line-number" data-line-number="47"></td>
        <td id="file-zoombridge-js-LC47" class="blob-code blob-code-inner js-file-line">		<span class="pl-smi">e</span>.<span class="pl-smi">call</span>.<span class="pl-en">answer</span>();</td>
      </tr>
      <tr>
        <td id="file-zoombridge-js-L48" class="blob-num js-line-number" data-line-number="48"></td>
        <td id="file-zoombridge-js-LC48" class="blob-code blob-code-inner js-file-line">	}</td>
      </tr>
      <tr>
        <td id="file-zoombridge-js-L49" class="blob-num js-line-number" data-line-number="49"></td>
        <td id="file-zoombridge-js-LC49" class="blob-code blob-code-inner js-file-line">});</td>
      </tr>
      <tr>
        <td id="file-zoombridge-js-L50" class="blob-num js-line-number" data-line-number="50"></td>
        <td id="file-zoombridge-js-LC50" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="file-zoombridge-js-L51" class="blob-num js-line-number" data-line-number="51"></td>
        <td id="file-zoombridge-js-LC51" class="blob-code blob-code-inner js-file-line"><span class="pl-c"><span class="pl-c">/**</span></span></td>
      </tr>
      <tr>
        <td id="file-zoombridge-js-L52" class="blob-num js-line-number" data-line-number="52"></td>
        <td id="file-zoombridge-js-LC52" class="blob-code blob-code-inner js-file-line"><span class="pl-c"> * Make outbound SIP call to Zoom</span></td>
      </tr>
      <tr>
        <td id="file-zoombridge-js-L53" class="blob-num js-line-number" data-line-number="53"></td>
        <td id="file-zoombridge-js-LC53" class="blob-code blob-code-inner js-file-line"><span class="pl-c"> <span class="pl-c">*/</span></span></td>
      </tr>
      <tr>
        <td id="file-zoombridge-js-L54" class="blob-num js-line-number" data-line-number="54"></td>
        <td id="file-zoombridge-js-LC54" class="blob-code blob-code-inner js-file-line"><span class="pl-k">function</span> <span class="pl-en">callZoomConference</span>(<span class="pl-smi">conf</span>) {</td>
      </tr>
      <tr>
        <td id="file-zoombridge-js-L55" class="blob-num js-line-number" data-line-number="55"></td>
        <td id="file-zoombridge-js-LC55" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="file-zoombridge-js-L56" class="blob-num js-line-number" data-line-number="56"></td>
        <td id="file-zoombridge-js-LC56" class="blob-code blob-code-inner js-file-line">	<span class="pl-k">var</span> call <span class="pl-k">=</span> <span class="pl-smi">VoxEngine</span>.<span class="pl-en">callSIP</span>(<span class="pl-s"><span class="pl-pds">"</span>sip:<span class="pl-pds">"</span></span> <span class="pl-k">+</span> conf <span class="pl-k">+</span> <span class="pl-s"><span class="pl-pds">"</span>@zoomcrc.com<span class="pl-pds">"</span></span>, {</td>
      </tr>
      <tr>
        <td id="file-zoombridge-js-L57" class="blob-num js-line-number" data-line-number="57"></td>
        <td id="file-zoombridge-js-LC57" class="blob-code blob-code-inner js-file-line">		callerid<span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">"</span>voximplant<span class="pl-pds">"</span></span>,</td>
      </tr>
      <tr>
        <td id="file-zoombridge-js-L58" class="blob-num js-line-number" data-line-number="58"></td>
        <td id="file-zoombridge-js-LC58" class="blob-code blob-code-inner js-file-line">		displayName<span class="pl-k">:</span> displayName,</td>
      </tr>
      <tr>
        <td id="file-zoombridge-js-L59" class="blob-num js-line-number" data-line-number="59"></td>
        <td id="file-zoombridge-js-LC59" class="blob-code blob-code-inner js-file-line">		video<span class="pl-k">:</span> <span class="pl-c1">true</span></td>
      </tr>
      <tr>
        <td id="file-zoombridge-js-L60" class="blob-num js-line-number" data-line-number="60"></td>
        <td id="file-zoombridge-js-LC60" class="blob-code blob-code-inner js-file-line">	});</td>
      </tr>
      <tr>
        <td id="file-zoombridge-js-L61" class="blob-num js-line-number" data-line-number="61"></td>
        <td id="file-zoombridge-js-LC61" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="file-zoombridge-js-L62" class="blob-num js-line-number" data-line-number="62"></td>
        <td id="file-zoombridge-js-LC62" class="blob-code blob-code-inner js-file-line">	<span class="pl-smi">call</span>.<span class="pl-c1">addEventListener</span>(<span class="pl-smi">CallEvents</span>.<span class="pl-smi">Connected</span>, <span class="pl-k">function</span> (<span class="pl-smi">e</span>) {</td>
      </tr>
      <tr>
        <td id="file-zoombridge-js-L63" class="blob-num js-line-number" data-line-number="63"></td>
        <td id="file-zoombridge-js-LC63" class="blob-code blob-code-inner js-file-line">		<span class="pl-c"><span class="pl-c">//</span> When connected to Zoom - send media between our conference and Zoom</span></td>
      </tr>
      <tr>
        <td id="file-zoombridge-js-L64" class="blob-num js-line-number" data-line-number="64"></td>
        <td id="file-zoombridge-js-LC64" class="blob-code blob-code-inner js-file-line">		<span class="pl-smi">VoxEngine</span>.<span class="pl-en">sendMediaBetween</span>(conference, call);</td>
      </tr>
      <tr>
        <td id="file-zoombridge-js-L65" class="blob-num js-line-number" data-line-number="65"></td>
        <td id="file-zoombridge-js-LC65" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="file-zoombridge-js-L66" class="blob-num js-line-number" data-line-number="66"></td>
        <td id="file-zoombridge-js-LC66" class="blob-code blob-code-inner js-file-line">		<span class="pl-c"><span class="pl-c">//</span> Handle commands for PSTN Call-out</span></td>
      </tr>
      <tr>
        <td id="file-zoombridge-js-L67" class="blob-num js-line-number" data-line-number="67"></td>
        <td id="file-zoombridge-js-LC67" class="blob-code blob-code-inner js-file-line">        <span class="pl-c"><span class="pl-c">//</span> To initiate call-out use the URL that looks as follows: media_session_access_url/CallOut/phonenumber </span></td>
      </tr>
      <tr>
        <td id="file-zoombridge-js-L68" class="blob-num js-line-number" data-line-number="68"></td>
        <td id="file-zoombridge-js-LC68" class="blob-code blob-code-inner js-file-line">		<span class="pl-smi">VoxEngine</span>.<span class="pl-c1">addEventListener</span>(<span class="pl-smi">AppEvents</span>.<span class="pl-smi">HttpRequest</span>, <span class="pl-k">function</span> (<span class="pl-smi">e</span>) {</td>
      </tr>
      <tr>
        <td id="file-zoombridge-js-L69" class="blob-num js-line-number" data-line-number="69"></td>
        <td id="file-zoombridge-js-LC69" class="blob-code blob-code-inner js-file-line">			<span class="pl-c"><span class="pl-c">//</span>Logger.write("HTTP REQUEST:");</span></td>
      </tr>
      <tr>
        <td id="file-zoombridge-js-L70" class="blob-num js-line-number" data-line-number="70"></td>
        <td id="file-zoombridge-js-LC70" class="blob-code blob-code-inner js-file-line">			<span class="pl-c"><span class="pl-c">//</span>Logger.write(e.path);</span></td>
      </tr>
      <tr>
        <td id="file-zoombridge-js-L71" class="blob-num js-line-number" data-line-number="71"></td>
        <td id="file-zoombridge-js-LC71" class="blob-code blob-code-inner js-file-line">			<span class="pl-k">var</span> path <span class="pl-k">=</span> <span class="pl-smi">e</span>.<span class="pl-smi">path</span>.<span class="pl-c1">split</span>(<span class="pl-s"><span class="pl-pds">"</span>/<span class="pl-pds">"</span></span>),</td>
      </tr>
      <tr>
        <td id="file-zoombridge-js-L72" class="blob-num js-line-number" data-line-number="72"></td>
        <td id="file-zoombridge-js-LC72" class="blob-code blob-code-inner js-file-line">				num; </td>
      </tr>
      <tr>
        <td id="file-zoombridge-js-L73" class="blob-num js-line-number" data-line-number="73"></td>
        <td id="file-zoombridge-js-LC73" class="blob-code blob-code-inner js-file-line">			<span class="pl-k">if</span> (path[<span class="pl-smi">path</span>.<span class="pl-c1">length</span> <span class="pl-k">-</span> <span class="pl-c1">2</span>] <span class="pl-k">==</span> <span class="pl-s"><span class="pl-pds">"</span>CallOut<span class="pl-pds">"</span></span>) {</td>
      </tr>
      <tr>
        <td id="file-zoombridge-js-L74" class="blob-num js-line-number" data-line-number="74"></td>
        <td id="file-zoombridge-js-LC74" class="blob-code blob-code-inner js-file-line">				num <span class="pl-k">=</span> path[<span class="pl-smi">path</span>.<span class="pl-c1">length</span> <span class="pl-k">-</span> <span class="pl-c1">1</span>];</td>
      </tr>
      <tr>
        <td id="file-zoombridge-js-L75" class="blob-num js-line-number" data-line-number="75"></td>
        <td id="file-zoombridge-js-LC75" class="blob-code blob-code-inner js-file-line">				<span class="pl-en">handleCallOut</span>(num);</td>
      </tr>
      <tr>
        <td id="file-zoombridge-js-L76" class="blob-num js-line-number" data-line-number="76"></td>
        <td id="file-zoombridge-js-LC76" class="blob-code blob-code-inner js-file-line">				<span class="pl-k">return</span> <span class="pl-s"><span class="pl-pds">'</span>{"result":"callingto:<span class="pl-pds">'</span></span> <span class="pl-k">+</span> num <span class="pl-k">+</span> <span class="pl-s"><span class="pl-pds">'</span>"}<span class="pl-pds">'</span></span>;</td>
      </tr>
      <tr>
        <td id="file-zoombridge-js-L77" class="blob-num js-line-number" data-line-number="77"></td>
        <td id="file-zoombridge-js-LC77" class="blob-code blob-code-inner js-file-line">			}</td>
      </tr>
      <tr>
        <td id="file-zoombridge-js-L78" class="blob-num js-line-number" data-line-number="78"></td>
        <td id="file-zoombridge-js-LC78" class="blob-code blob-code-inner js-file-line">		});</td>
      </tr>
      <tr>
        <td id="file-zoombridge-js-L79" class="blob-num js-line-number" data-line-number="79"></td>
        <td id="file-zoombridge-js-LC79" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="file-zoombridge-js-L80" class="blob-num js-line-number" data-line-number="80"></td>
        <td id="file-zoombridge-js-LC80" class="blob-code blob-code-inner js-file-line">	});</td>
      </tr>
      <tr>
        <td id="file-zoombridge-js-L81" class="blob-num js-line-number" data-line-number="81"></td>
        <td id="file-zoombridge-js-LC81" class="blob-code blob-code-inner js-file-line">	<span class="pl-c"><span class="pl-c">//</span> If the connection with Zoom has been lost - destroy the conference</span></td>
      </tr>
      <tr>
        <td id="file-zoombridge-js-L82" class="blob-num js-line-number" data-line-number="82"></td>
        <td id="file-zoombridge-js-LC82" class="blob-code blob-code-inner js-file-line">	<span class="pl-smi">call</span>.<span class="pl-c1">addEventListener</span>(<span class="pl-smi">CallEvents</span>.<span class="pl-smi">Disconnected</span>, <span class="pl-smi">VoxEngine</span>.<span class="pl-smi">terminate</span>);</td>
      </tr>
      <tr>
        <td id="file-zoombridge-js-L83" class="blob-num js-line-number" data-line-number="83"></td>
        <td id="file-zoombridge-js-LC83" class="blob-code blob-code-inner js-file-line">}</td>
      </tr>
      <tr>
        <td id="file-zoombridge-js-L84" class="blob-num js-line-number" data-line-number="84"></td>
        <td id="file-zoombridge-js-LC84" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="file-zoombridge-js-L85" class="blob-num js-line-number" data-line-number="85"></td>
        <td id="file-zoombridge-js-LC85" class="blob-code blob-code-inner js-file-line"><span class="pl-c"><span class="pl-c">/**</span></span></td>
      </tr>
      <tr>
        <td id="file-zoombridge-js-L86" class="blob-num js-line-number" data-line-number="86"></td>
        <td id="file-zoombridge-js-LC86" class="blob-code blob-code-inner js-file-line"><span class="pl-c"> * Make PSTN call-out</span></td>
      </tr>
      <tr>
        <td id="file-zoombridge-js-L87" class="blob-num js-line-number" data-line-number="87"></td>
        <td id="file-zoombridge-js-LC87" class="blob-code blob-code-inner js-file-line"><span class="pl-c"> <span class="pl-c">*/</span></span></td>
      </tr>
      <tr>
        <td id="file-zoombridge-js-L88" class="blob-num js-line-number" data-line-number="88"></td>
        <td id="file-zoombridge-js-LC88" class="blob-code blob-code-inner js-file-line"><span class="pl-k">function</span> <span class="pl-en">handleCallOut</span>(<span class="pl-smi">num</span>) {</td>
      </tr>
      <tr>
        <td id="file-zoombridge-js-L89" class="blob-num js-line-number" data-line-number="89"></td>
        <td id="file-zoombridge-js-LC89" class="blob-code blob-code-inner js-file-line">	<span class="pl-k">var</span> pstn <span class="pl-k">=</span> <span class="pl-smi">VoxEngine</span>.<span class="pl-en">callPSTN</span>(num);</td>
      </tr>
      <tr>
        <td id="file-zoombridge-js-L90" class="blob-num js-line-number" data-line-number="90"></td>
        <td id="file-zoombridge-js-LC90" class="blob-code blob-code-inner js-file-line">	<span class="pl-smi">pstn</span>.<span class="pl-c1">addEventListener</span>(<span class="pl-smi">CallEvents</span>.<span class="pl-smi">Connected</span>, <span class="pl-k">function</span> (<span class="pl-smi">e</span>) {</td>
      </tr>
      <tr>
        <td id="file-zoombridge-js-L91" class="blob-num js-line-number" data-line-number="91"></td>
        <td id="file-zoombridge-js-LC91" class="blob-code blob-code-inner js-file-line">		<span class="pl-smi">pstnCalls</span>.<span class="pl-c1">push</span>(<span class="pl-smi">e</span>.<span class="pl-smi">call</span>);</td>
      </tr>
      <tr>
        <td id="file-zoombridge-js-L92" class="blob-num js-line-number" data-line-number="92"></td>
        <td id="file-zoombridge-js-LC92" class="blob-code blob-code-inner js-file-line">		<span class="pl-smi">VoxEngine</span>.<span class="pl-en">sendMediaBetween</span>(pstn, conference);</td>
      </tr>
      <tr>
        <td id="file-zoombridge-js-L93" class="blob-num js-line-number" data-line-number="93"></td>
        <td id="file-zoombridge-js-LC93" class="blob-code blob-code-inner js-file-line">	});</td>
      </tr>
      <tr>
        <td id="file-zoombridge-js-L94" class="blob-num js-line-number" data-line-number="94"></td>
        <td id="file-zoombridge-js-LC94" class="blob-code blob-code-inner js-file-line">	<span class="pl-smi">pstn</span>.<span class="pl-c1">addEventListener</span>(<span class="pl-smi">CallEvents</span>.<span class="pl-smi">Disconnected</span>, <span class="pl-k">function</span> (<span class="pl-smi">e</span>) {</td>
      </tr>
      <tr>
        <td id="file-zoombridge-js-L95" class="blob-num js-line-number" data-line-number="95"></td>
        <td id="file-zoombridge-js-LC95" class="blob-code blob-code-inner js-file-line">		<span class="pl-k">if</span> (<span class="pl-smi">pstnCalls</span>.<span class="pl-c1">indexOf</span>(<span class="pl-smi">e</span>.<span class="pl-smi">call</span>) <span class="pl-k">&gt;</span> <span class="pl-k">-</span><span class="pl-c1">1</span>) <span class="pl-smi">pstnCalls</span>.<span class="pl-c1">splice</span>(<span class="pl-smi">pstnCalls</span>.<span class="pl-c1">indexOf</span>(<span class="pl-smi">e</span>.<span class="pl-smi">call</span>), <span class="pl-c1">1</span>);</td>
      </tr>
      <tr>
        <td id="file-zoombridge-js-L96" class="blob-num js-line-number" data-line-number="96"></td>
        <td id="file-zoombridge-js-LC96" class="blob-code blob-code-inner js-file-line">	});</td>
      </tr>
      <tr>
        <td id="file-zoombridge-js-L97" class="blob-num js-line-number" data-line-number="97"></td>
        <td id="file-zoombridge-js-LC97" class="blob-code blob-code-inner js-file-line">	<span class="pl-smi">pstn</span>.<span class="pl-c1">addEventListener</span>(<span class="pl-smi">CallEvents</span>.<span class="pl-smi">Failed</span>, <span class="pl-k">function</span> (<span class="pl-smi">e</span>) {</td>
      </tr>
      <tr>
        <td id="file-zoombridge-js-L98" class="blob-num js-line-number" data-line-number="98"></td>
        <td id="file-zoombridge-js-LC98" class="blob-code blob-code-inner js-file-line">		<span class="pl-c"><span class="pl-c">//</span> Couldn't reach the callee</span></td>
      </tr>
      <tr>
        <td id="file-zoombridge-js-L99" class="blob-num js-line-number" data-line-number="99"></td>
        <td id="file-zoombridge-js-LC99" class="blob-code blob-code-inner js-file-line">	});</td>
      </tr>
      <tr>
        <td id="file-zoombridge-js-L100" class="blob-num js-line-number" data-line-number="100"></td>
        <td id="file-zoombridge-js-LC100" class="blob-code blob-code-inner js-file-line">}</td>
      </tr>
</tbody></table>


  </div>

  </div>
</div>

      </div>
      <div class="gist-meta">
        <a href="" style="float:right">view raw</a>
        <a href="">ZoomBridge.js</a>
        hosted with ‚ù§ by <a href="">GitHub</a>
      </div>
    </div>
    <div class="gist-file">
      <div class="gist-data">
        <div class="js-gist-file-update-container js-task-list-container file-box">
  <div id="file-zoomcall-in-js" class="file">
    

  <div itemprop="text" class="blob-wrapper data type-javascript ">
      
<table class="highlight tab-size js-file-line-container" data-tab-size="8">
      <tbody><tr>
        <td id="file-zoomcall-in-js-L1" class="blob-num js-line-number" data-line-number="1"></td>
        <td id="file-zoomcall-in-js-LC1" class="blob-code blob-code-inner js-file-line"><span class="pl-c"><span class="pl-c">/**</span></span></td>
      </tr>
      <tr>
        <td id="file-zoomcall-in-js-L2" class="blob-num js-line-number" data-line-number="2"></td>
        <td id="file-zoomcall-in-js-LC2" class="blob-code blob-code-inner js-file-line"><span class="pl-c">* Conference gatekeeper</span></td>
      </tr>
      <tr>
        <td id="file-zoomcall-in-js-L3" class="blob-num js-line-number" data-line-number="3"></td>
        <td id="file-zoomcall-in-js-LC3" class="blob-code blob-code-inner js-file-line"><span class="pl-c"><span class="pl-c">*/</span></span></td>
      </tr>
      <tr>
        <td id="file-zoomcall-in-js-L4" class="blob-num js-line-number" data-line-number="4"></td>
        <td id="file-zoomcall-in-js-LC4" class="blob-code blob-code-inner js-file-line"><span class="pl-k">var</span> conference <span class="pl-k">=</span> <span class="pl-s"><span class="pl-pds">"</span><span class="pl-pds">"</span></span>, inCall, confCall, callerId, displayName;</td>
      </tr>
      <tr>
        <td id="file-zoomcall-in-js-L5" class="blob-num js-line-number" data-line-number="5"></td>
        <td id="file-zoomcall-in-js-LC5" class="blob-code blob-code-inner js-file-line"><span class="pl-smi">VoxEngine</span>.<span class="pl-c1">addEventListener</span>(<span class="pl-smi">AppEvents</span>.<span class="pl-smi">CallAlerting</span>, <span class="pl-k">function</span>(<span class="pl-smi">e</span>) {</td>
      </tr>
      <tr>
        <td id="file-zoomcall-in-js-L6" class="blob-num js-line-number" data-line-number="6"></td>
        <td id="file-zoomcall-in-js-LC6" class="blob-code blob-code-inner js-file-line">  callerId <span class="pl-k">=</span> <span class="pl-smi">e</span>.<span class="pl-smi">callerid</span>;</td>
      </tr>
      <tr>
        <td id="file-zoomcall-in-js-L7" class="blob-num js-line-number" data-line-number="7"></td>
        <td id="file-zoomcall-in-js-LC7" class="blob-code blob-code-inner js-file-line">  displayName <span class="pl-k">=</span> <span class="pl-smi">e</span>.<span class="pl-smi">displayName</span>;</td>
      </tr>
      <tr>
        <td id="file-zoomcall-in-js-L8" class="blob-num js-line-number" data-line-number="8"></td>
        <td id="file-zoomcall-in-js-LC8" class="blob-code blob-code-inner js-file-line">  inCall <span class="pl-k">=</span> <span class="pl-smi">e</span>.<span class="pl-smi">call</span>;</td>
      </tr>
      <tr>
        <td id="file-zoomcall-in-js-L9" class="blob-num js-line-number" data-line-number="9"></td>
        <td id="file-zoomcall-in-js-LC9" class="blob-code blob-code-inner js-file-line">  <span class="pl-smi">e</span>.<span class="pl-smi">call</span>.<span class="pl-c1">addEventListener</span>(<span class="pl-smi">CallEvents</span>.<span class="pl-smi">Connected</span>, onCallConnected);</td>
      </tr>
      <tr>
        <td id="file-zoomcall-in-js-L10" class="blob-num js-line-number" data-line-number="10"></td>
        <td id="file-zoomcall-in-js-LC10" class="blob-code blob-code-inner js-file-line">  <span class="pl-smi">e</span>.<span class="pl-smi">call</span>.<span class="pl-c1">addEventListener</span>(<span class="pl-smi">CallEvents</span>.<span class="pl-smi">Disconnected</span>, <span class="pl-smi">VoxEngine</span>.<span class="pl-smi">terminate</span>);</td>
      </tr>
      <tr>
        <td id="file-zoomcall-in-js-L11" class="blob-num js-line-number" data-line-number="11"></td>
        <td id="file-zoomcall-in-js-LC11" class="blob-code blob-code-inner js-file-line">  <span class="pl-smi">e</span>.<span class="pl-smi">call</span>.<span class="pl-en">answer</span>();</td>
      </tr>
      <tr>
        <td id="file-zoomcall-in-js-L12" class="blob-num js-line-number" data-line-number="12"></td>
        <td id="file-zoomcall-in-js-LC12" class="blob-code blob-code-inner js-file-line">});</td>
      </tr>
      <tr>
        <td id="file-zoomcall-in-js-L13" class="blob-num js-line-number" data-line-number="13"></td>
        <td id="file-zoomcall-in-js-LC13" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="file-zoomcall-in-js-L14" class="blob-num js-line-number" data-line-number="14"></td>
        <td id="file-zoomcall-in-js-LC14" class="blob-code blob-code-inner js-file-line"><span class="pl-k">function</span> <span class="pl-en">onCallConnected</span>(<span class="pl-smi">e</span>) {</td>
      </tr>
      <tr>
        <td id="file-zoomcall-in-js-L15" class="blob-num js-line-number" data-line-number="15"></td>
        <td id="file-zoomcall-in-js-LC15" class="blob-code blob-code-inner js-file-line">  <span class="pl-c"><span class="pl-c">//</span>enable dtmf processing</span></td>
      </tr>
      <tr>
        <td id="file-zoomcall-in-js-L16" class="blob-num js-line-number" data-line-number="16"></td>
        <td id="file-zoomcall-in-js-LC16" class="blob-code blob-code-inner js-file-line">  <span class="pl-smi">e</span>.<span class="pl-smi">call</span>.<span class="pl-en">handleTones</span>();</td>
      </tr>
      <tr>
        <td id="file-zoomcall-in-js-L17" class="blob-num js-line-number" data-line-number="17"></td>
        <td id="file-zoomcall-in-js-LC17" class="blob-code blob-code-inner js-file-line">  <span class="pl-smi">e</span>.<span class="pl-smi">call</span>.<span class="pl-c1">addEventListener</span>(<span class="pl-smi">CallEvents</span>.<span class="pl-smi">ToneReceived</span>, handleToneEntered);</td>
      </tr>
      <tr>
        <td id="file-zoomcall-in-js-L18" class="blob-num js-line-number" data-line-number="18"></td>
        <td id="file-zoomcall-in-js-LC18" class="blob-code blob-code-inner js-file-line">  <span class="pl-smi">e</span>.<span class="pl-smi">call</span>.<span class="pl-en">say</span>(<span class="pl-s"><span class="pl-pds">"</span>Hi, welcome to Voximplant Connector, please enter Zoom conference number<span class="pl-pds">"</span></span>, <span class="pl-smi">Language</span>.<span class="pl-c1">US_ENGLISH_FEMALE</span>);</td>
      </tr>
      <tr>
        <td id="file-zoomcall-in-js-L19" class="blob-num js-line-number" data-line-number="19"></td>
        <td id="file-zoomcall-in-js-LC19" class="blob-code blob-code-inner js-file-line">}</td>
      </tr>
      <tr>
        <td id="file-zoomcall-in-js-L20" class="blob-num js-line-number" data-line-number="20"></td>
        <td id="file-zoomcall-in-js-LC20" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="file-zoomcall-in-js-L21" class="blob-num js-line-number" data-line-number="21"></td>
        <td id="file-zoomcall-in-js-LC21" class="blob-code blob-code-inner js-file-line"><span class="pl-k">function</span> <span class="pl-en">handleToneEntered</span>(<span class="pl-smi">e</span>) {</td>
      </tr>
      <tr>
        <td id="file-zoomcall-in-js-L22" class="blob-num js-line-number" data-line-number="22"></td>
        <td id="file-zoomcall-in-js-LC22" class="blob-code blob-code-inner js-file-line">  <span class="pl-smi">e</span>.<span class="pl-smi">call</span>.<span class="pl-en">stopPlayback</span>();</td>
      </tr>
      <tr>
        <td id="file-zoomcall-in-js-L23" class="blob-num js-line-number" data-line-number="23"></td>
        <td id="file-zoomcall-in-js-LC23" class="blob-code blob-code-inner js-file-line">  <span class="pl-smi">e</span>.<span class="pl-smi">call</span>.<span class="pl-en">say</span>(<span class="pl-smi">e</span>.<span class="pl-smi">tone</span>, <span class="pl-smi">Language</span>.<span class="pl-c1">US_ENGLISH_FEMALE</span>);</td>
      </tr>
      <tr>
        <td id="file-zoomcall-in-js-L24" class="blob-num js-line-number" data-line-number="24"></td>
        <td id="file-zoomcall-in-js-LC24" class="blob-code blob-code-inner js-file-line">  conference <span class="pl-k">+=</span> <span class="pl-smi">e</span>.<span class="pl-smi">tone</span>;</td>
      </tr>
      <tr>
        <td id="file-zoomcall-in-js-L25" class="blob-num js-line-number" data-line-number="25"></td>
        <td id="file-zoomcall-in-js-LC25" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">if</span> (<span class="pl-smi">conference</span>.<span class="pl-c1">length</span> <span class="pl-k">==</span> <span class="pl-c1">9</span>) {</td>
      </tr>
      <tr>
        <td id="file-zoomcall-in-js-L26" class="blob-num js-line-number" data-line-number="26"></td>
        <td id="file-zoomcall-in-js-LC26" class="blob-code blob-code-inner js-file-line">    confCall <span class="pl-k">=</span> <span class="pl-smi">VoxEngine</span>.<span class="pl-en">callConference</span>(conference, callerId, displayName, {<span class="pl-s"><span class="pl-pds">"</span>X-conference<span class="pl-pds">"</span></span><span class="pl-k">:</span> conference});  </td>
      </tr>
      <tr>
        <td id="file-zoomcall-in-js-L27" class="blob-num js-line-number" data-line-number="27"></td>
        <td id="file-zoomcall-in-js-LC27" class="blob-code blob-code-inner js-file-line">    <span class="pl-smi">confCall</span>.<span class="pl-c1">addEventListener</span>(<span class="pl-smi">CallEvents</span>.<span class="pl-smi">Connected</span>, onConfCallConnected);</td>
      </tr>
      <tr>
        <td id="file-zoomcall-in-js-L28" class="blob-num js-line-number" data-line-number="28"></td>
        <td id="file-zoomcall-in-js-LC28" class="blob-code blob-code-inner js-file-line">    <span class="pl-smi">confCall</span>.<span class="pl-c1">addEventListener</span>(<span class="pl-smi">CallEvents</span>.<span class="pl-smi">Disconnected</span>, <span class="pl-smi">VoxEngine</span>.<span class="pl-smi">terminate</span>);</td>
      </tr>
      <tr>
        <td id="file-zoomcall-in-js-L29" class="blob-num js-line-number" data-line-number="29"></td>
        <td id="file-zoomcall-in-js-LC29" class="blob-code blob-code-inner js-file-line">    <span class="pl-smi">confCall</span>.<span class="pl-c1">addEventListener</span>(<span class="pl-smi">CallEvents</span>.<span class="pl-smi">Failed</span>, <span class="pl-smi">VoxEngine</span>.<span class="pl-smi">terminate</span>);</td>
      </tr>
      <tr>
        <td id="file-zoomcall-in-js-L30" class="blob-num js-line-number" data-line-number="30"></td>
        <td id="file-zoomcall-in-js-LC30" class="blob-code blob-code-inner js-file-line">  }</td>
      </tr>
      <tr>
        <td id="file-zoomcall-in-js-L31" class="blob-num js-line-number" data-line-number="31"></td>
        <td id="file-zoomcall-in-js-LC31" class="blob-code blob-code-inner js-file-line">}</td>
      </tr>
      <tr>
        <td id="file-zoomcall-in-js-L32" class="blob-num js-line-number" data-line-number="32"></td>
        <td id="file-zoomcall-in-js-LC32" class="blob-code blob-code-inner js-file-line">
</td>
      </tr>
      <tr>
        <td id="file-zoomcall-in-js-L33" class="blob-num js-line-number" data-line-number="33"></td>
        <td id="file-zoomcall-in-js-LC33" class="blob-code blob-code-inner js-file-line"><span class="pl-k">function</span> <span class="pl-en">onConfCallConnected</span>(<span class="pl-smi">e</span>) {</td>
      </tr>
      <tr>
        <td id="file-zoomcall-in-js-L34" class="blob-num js-line-number" data-line-number="34"></td>
        <td id="file-zoomcall-in-js-LC34" class="blob-code blob-code-inner js-file-line">  <span class="pl-smi">VoxEngine</span>.<span class="pl-en">sendMediaBetween</span>(inCall, confCall);</td>
      </tr>
      <tr>
        <td id="file-zoomcall-in-js-L35" class="blob-num js-line-number" data-line-number="35"></td>
        <td id="file-zoomcall-in-js-LC35" class="blob-code blob-code-inner js-file-line">}</td>
      </tr>
</tbody></table>


  </div>

  </div>
</div>

      </div>
      <div class="gist-meta">
        <a href="" style="float:right">view raw</a>
        <a href="">ZoomCall-In.js</a>
        hosted with ‚ù§ by <a href="">GitHub</a>
      </div>
    </div>
</div>
</div><br></div></div><br>  To allow conference participants to call Gotham, go to the ‚Äúnumbers‚Äù section, click on the ‚Äúreal‚Äù / ‚Äúdebug‚Äù switches and buy yourself a number in a nonexistent city for one cent.  For this example we will use 699100266 in Gotham City.  This is an extension number.  To call it, you first need to call the single access number of the virtual numbers (listed in the ‚Äúmy numbers‚Äù section) and after the voice greeting, dial this number.  Also in the section "my numbers" you need to link the number and application: <br><div style="text-align:center;"><img src="https://habrastorage.org/webt/59/d1/ef/59d1ef69e0a90335038960.png"></div><br><br>  The last thing to do is specify which JavaScript scripts to run in which situations.  To do this, go to the ‚Äúapplications‚Äù section, select the <b>zoomconnector</b> application and click on ‚Äúrules‚Äù.  Need to create two rules.  The first will execute a <b>ZoomCall-In</b> script on an incoming call to a virtual number, and the second will execute a <b>ZoomBridge</b> script to organize a conference and interact with Zoom.  Note that the order in which the scripts are specified is important.  More specific (for one number) need to be placed higher than less specific (for all calls). <br><div style="text-align:center;"><img src="https://habrastorage.org/webt/59/d1/f1/59d1f1302f353031051363.png"></div><br><div class="spoiler">  <b class="spoiler_title">and some more screenshots under the spoiler</b> <div class="spoiler_text"><div style="text-align:center;"><img src="https://habrastorage.org/webt/59/d1/f1/59d1f1883d374375776855.png"></div><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/59/d1/f1/59d1f195ad8b9783734882.png"></div><br></div></div><br><h2>  You can call! </h2><br>  Launch the Zoom application and open the Zoom Meeting: <br><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/59/d1/f2/59d1f25773698919762897.png"></div><br>  The running Meeting has a Meeting ID, which is used when connecting.  The demo JavaScript scripts copied above allow you to connect to the Zoom in two ways: <br><br><ol><li>  The user calls the access number in Gotham City, dials an extension and enters the <b>ZoomCall-In</b> script, which already synthesizes "enter the Meeting number".  The user enters the number in the same way he entered the extension.  After that, the script makes an internal call to the <b>ZoomBridge</b> conference <b>script</b> , which, when it is first <b>received</b> , connects to the Zoom and then begins to mix the voices of the participants ‚Äúfrom the phone‚Äù and transfer all this to the Zoom and back.  The same scenario is responsible for ensuring that the Voximplant cloud itself calls the specified number and adds a call to the conference.  Thus, you can add up to 100 (!!!) participants from the phones to the conference. </li><li>  Voximplant cloud can create a conference without an incoming call.  To do this, you need to make an HTTP <a href="httpapi/managing_scenarios">startconference</a> request, passing as a parameter the Meeting number to the Zoom and application information.  The resulting JavaScript session with the <b>ZoomBridge</b> script <b>will</b> establish a connection to the Zoom and will wait for incoming calls or commands for an outgoing call. </li></ol><br><div style="text-align:center;"><img src="https://habrastorage.org/webt/59/d1/f8/59d1f8d53b034690549497.png"></div><br><h2>  Add members by callback </h2><br>  Check out this code snippet in the <b>ZoomBridge</b> script: <br><br><div class="oembed"><script type="text/javascript" src="https://gist.github.com/5621203eaa2acd029516533469693d65.js"></script><link rel="stylesheet" href="https://github.githubassets.com/assets/gist-embed-b3b573358bfc66d89e1e95dbf8319c09.css"><div id="gist81225540" class="gist">
    <div class="gist-file">
      <div class="gist-data">
        <div class="js-gist-file-update-container js-task-list-container file-box">
  <div id="file-piece-of-zoombridge-js" class="file">
    

  <div itemprop="text" class="blob-wrapper data type-javascript ">
      
<table class="highlight tab-size js-file-line-container" data-tab-size="8">
      <tbody><tr>
        <td id="file-piece-of-zoombridge-js-L1" class="blob-num js-line-number" data-line-number="1"></td>
        <td id="file-piece-of-zoombridge-js-LC1" class="blob-code blob-code-inner js-file-line"><span class="pl-c"><span class="pl-c">//</span>   JS    HTTP </span></td>
      </tr>
      <tr>
        <td id="file-piece-of-zoombridge-js-L2" class="blob-num js-line-number" data-line-number="2"></td>
        <td id="file-piece-of-zoombridge-js-LC2" class="blob-code blob-code-inner js-file-line"><span class="pl-smi">VoxEngine</span>.<span class="pl-c1">addEventListener</span>(<span class="pl-smi">AppEvents</span>.<span class="pl-smi">HttpRequest</span>, <span class="pl-k">function</span> (<span class="pl-smi">e</span>) {</td>
      </tr>
      <tr>
        <td id="file-piece-of-zoombridge-js-L3" class="blob-num js-line-number" data-line-number="3"></td>
        <td id="file-piece-of-zoombridge-js-LC3" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">var</span> path <span class="pl-k">=</span> <span class="pl-smi">e</span>.<span class="pl-smi">path</span>.<span class="pl-c1">split</span>(<span class="pl-s"><span class="pl-pds">"</span>/<span class="pl-pds">"</span></span>);</td>
      </tr>
      <tr>
        <td id="file-piece-of-zoombridge-js-L4" class="blob-num js-line-number" data-line-number="4"></td>
        <td id="file-piece-of-zoombridge-js-LC4" class="blob-code blob-code-inner js-file-line">  <span class="pl-c"><span class="pl-c">//</span> HTTP   ".../CallOut/&lt;&gt;"?</span></td>
      </tr>
      <tr>
        <td id="file-piece-of-zoombridge-js-L5" class="blob-num js-line-number" data-line-number="5"></td>
        <td id="file-piece-of-zoombridge-js-LC5" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">if</span> (path[<span class="pl-smi">path</span>.<span class="pl-c1">length</span> <span class="pl-k">-</span> <span class="pl-c1">2</span>] <span class="pl-k">==</span> <span class="pl-s"><span class="pl-pds">"</span>CallOut<span class="pl-pds">"</span></span>) {</td>
      </tr>
      <tr>
        <td id="file-piece-of-zoombridge-js-L6" class="blob-num js-line-number" data-line-number="6"></td>
        <td id="file-piece-of-zoombridge-js-LC6" class="blob-code blob-code-inner js-file-line">    num <span class="pl-k">=</span> path[<span class="pl-smi">path</span>.<span class="pl-c1">length</span> <span class="pl-k">-</span> <span class="pl-c1">1</span>];</td>
      </tr>
      <tr>
        <td id="file-piece-of-zoombridge-js-L7" class="blob-num js-line-number" data-line-number="7"></td>
        <td id="file-piece-of-zoombridge-js-LC7" class="blob-code blob-code-inner js-file-line">    <span class="pl-c"><span class="pl-c">//</span>      </span></td>
      </tr>
      <tr>
        <td id="file-piece-of-zoombridge-js-L8" class="blob-num js-line-number" data-line-number="8"></td>
        <td id="file-piece-of-zoombridge-js-LC8" class="blob-code blob-code-inner js-file-line">    <span class="pl-en">handleCallOut</span>(num);</td>
      </tr>
      <tr>
        <td id="file-piece-of-zoombridge-js-L9" class="blob-num js-line-number" data-line-number="9"></td>
        <td id="file-piece-of-zoombridge-js-LC9" class="blob-code blob-code-inner js-file-line">    <span class="pl-c"><span class="pl-c">//</span>      HTTP </span></td>
      </tr>
      <tr>
        <td id="file-piece-of-zoombridge-js-L10" class="blob-num js-line-number" data-line-number="10"></td>
        <td id="file-piece-of-zoombridge-js-LC10" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">return</span> <span class="pl-s"><span class="pl-pds">'</span>{"result":"callingto:<span class="pl-pds">'</span></span> <span class="pl-k">+</span> num <span class="pl-k">+</span> <span class="pl-s"><span class="pl-pds">'</span>"}<span class="pl-pds">'</span></span>;</td>
      </tr>
      <tr>
        <td id="file-piece-of-zoombridge-js-L11" class="blob-num js-line-number" data-line-number="11"></td>
        <td id="file-piece-of-zoombridge-js-LC11" class="blob-code blob-code-inner js-file-line">  }</td>
      </tr>
      <tr>
        <td id="file-piece-of-zoombridge-js-L12" class="blob-num js-line-number" data-line-number="12"></td>
        <td id="file-piece-of-zoombridge-js-LC12" class="blob-code blob-code-inner js-file-line">});</td>
      </tr>
</tbody></table>


  </div>

  </div>
</div>

      </div>
      <div class="gist-meta">
        <a href="" style="float:right">view raw</a>
        <a href="">Piece of ZoomBridge.js</a>
        hosted with ‚ù§ by <a href="">GitHub</a>
      </div>
    </div>
</div>
</div><br>  After the Voximplant cloud has launched a JavaScript session on an incoming call or on a command from the HTTP API, you can interact with this session by making HTTP requests to a special access url (the session itself, by the way, can also communicate with the outside world, making HTTP- requests).  In our example, we use this feature to instruct the JavaScript session of the conference to call the specified number and add it to the conversation with the Zoom Meeting: <br><br><div class="oembed"><script type="text/javascript" src="https://gist.github.com/1de61d69775b7808081d970a2aa52418.js"></script><link rel="stylesheet" href="https://github.githubassets.com/assets/gist-embed-b3b573358bfc66d89e1e95dbf8319c09.css"><div id="gist81225810" class="gist">
    <div class="gist-file">
      <div class="gist-data">
        <div class="js-gist-file-update-container js-task-list-container file-box">
  <div id="file-another-piece-of-zoombridge-js" class="file">
    

  <div itemprop="text" class="blob-wrapper data type-javascript ">
      
<table class="highlight tab-size js-file-line-container" data-tab-size="8">
      <tbody><tr>
        <td id="file-another-piece-of-zoombridge-js-L1" class="blob-num js-line-number" data-line-number="1"></td>
        <td id="file-another-piece-of-zoombridge-js-LC1" class="blob-code blob-code-inner js-file-line"><span class="pl-k">function</span> <span class="pl-en">handleCallOut</span>(<span class="pl-smi">num</span>) {</td>
      </tr>
      <tr>
        <td id="file-another-piece-of-zoombridge-js-L2" class="blob-num js-line-number" data-line-number="2"></td>
        <td id="file-another-piece-of-zoombridge-js-LC2" class="blob-code blob-code-inner js-file-line">  <span class="pl-k">var</span> pstn <span class="pl-k">=</span> <span class="pl-smi">VoxEngine</span>.<span class="pl-en">callPSTN</span>(num);</td>
      </tr>
      <tr>
        <td id="file-another-piece-of-zoombridge-js-L3" class="blob-num js-line-number" data-line-number="3"></td>
        <td id="file-another-piece-of-zoombridge-js-LC3" class="blob-code blob-code-inner js-file-line">  <span class="pl-smi">pstn</span>.<span class="pl-c1">addEventListener</span>(<span class="pl-smi">CallEvents</span>.<span class="pl-smi">Connected</span>, <span class="pl-k">function</span> (<span class="pl-smi">e</span>) {</td>
      </tr>
      <tr>
        <td id="file-another-piece-of-zoombridge-js-L4" class="blob-num js-line-number" data-line-number="4"></td>
        <td id="file-another-piece-of-zoombridge-js-LC4" class="blob-code blob-code-inner js-file-line">    <span class="pl-smi">pstnCalls</span>.<span class="pl-c1">push</span>(<span class="pl-smi">e</span>.<span class="pl-smi">call</span>); <span class="pl-c"><span class="pl-c">//</span>   </span></td>
      </tr>
      <tr>
        <td id="file-another-piece-of-zoombridge-js-L5" class="blob-num js-line-number" data-line-number="5"></td>
        <td id="file-another-piece-of-zoombridge-js-LC5" class="blob-code blob-code-inner js-file-line">    <span class="pl-smi">VoxEngine</span>.<span class="pl-en">sendMediaBetween</span>(pstn, conference); <span class="pl-c"><span class="pl-c">//</span>    </span></td>
      </tr>
      <tr>
        <td id="file-another-piece-of-zoombridge-js-L6" class="blob-num js-line-number" data-line-number="6"></td>
        <td id="file-another-piece-of-zoombridge-js-LC6" class="blob-code blob-code-inner js-file-line">  });</td>
      </tr>
      <tr>
        <td id="file-another-piece-of-zoombridge-js-L7" class="blob-num js-line-number" data-line-number="7"></td>
        <td id="file-another-piece-of-zoombridge-js-LC7" class="blob-code blob-code-inner js-file-line">  <span class="pl-smi">pstn</span>.<span class="pl-c1">addEventListener</span>(<span class="pl-smi">CallEvents</span>.<span class="pl-smi">Disconnected</span>, <span class="pl-k">function</span> (<span class="pl-smi">e</span>) {</td>
      </tr>
      <tr>
        <td id="file-another-piece-of-zoombridge-js-L8" class="blob-num js-line-number" data-line-number="8"></td>
        <td id="file-another-piece-of-zoombridge-js-LC8" class="blob-code blob-code-inner js-file-line">    <span class="pl-k">if</span> (<span class="pl-smi">pstnCalls</span>.<span class="pl-c1">indexOf</span>(<span class="pl-smi">e</span>.<span class="pl-smi">call</span>) <span class="pl-k">&gt;</span> <span class="pl-k">-</span><span class="pl-c1">1</span>) <span class="pl-smi">pstnCalls</span>.<span class="pl-c1">splice</span>(<span class="pl-smi">pstnCalls</span>.<span class="pl-c1">indexOf</span>(<span class="pl-smi">e</span>.<span class="pl-smi">call</span>), <span class="pl-c1">1</span>);</td>
      </tr>
      <tr>
        <td id="file-another-piece-of-zoombridge-js-L9" class="blob-num js-line-number" data-line-number="9"></td>
        <td id="file-another-piece-of-zoombridge-js-LC9" class="blob-code blob-code-inner js-file-line">  });</td>
      </tr>
      <tr>
        <td id="file-another-piece-of-zoombridge-js-L10" class="blob-num js-line-number" data-line-number="10"></td>
        <td id="file-another-piece-of-zoombridge-js-LC10" class="blob-code blob-code-inner js-file-line">  <span class="pl-smi">pstn</span>.<span class="pl-c1">addEventListener</span>(<span class="pl-smi">CallEvents</span>.<span class="pl-smi">Failed</span>, <span class="pl-k">function</span> (<span class="pl-smi">e</span>) {</td>
      </tr>
      <tr>
        <td id="file-another-piece-of-zoombridge-js-L11" class="blob-num js-line-number" data-line-number="11"></td>
        <td id="file-another-piece-of-zoombridge-js-LC11" class="blob-code blob-code-inner js-file-line">    <span class="pl-c"><span class="pl-c">//</span>   .     HTTP  </span></td>
      </tr>
      <tr>
        <td id="file-another-piece-of-zoombridge-js-L12" class="blob-num js-line-number" data-line-number="12"></td>
        <td id="file-another-piece-of-zoombridge-js-LC12" class="blob-code blob-code-inner js-file-line">  });</td>
      </tr>
      <tr>
        <td id="file-another-piece-of-zoombridge-js-L13" class="blob-num js-line-number" data-line-number="13"></td>
        <td id="file-another-piece-of-zoombridge-js-LC13" class="blob-code blob-code-inner js-file-line">}</td>
      </tr>
</tbody></table>


  </div>

  </div>
</div>

      </div>
      <div class="gist-meta">
        <a href="" style="float:right">view raw</a>
        <a href="">Another piece of ZoomBridge.js</a>
        hosted with ‚ù§ by <a href="">GitHub</a>
      </div>
    </div>
</div>
</div><br>  ‚ÄúAccess URL‚Äù for communicating with the session we get either by running the session through the HTTP API (method number 2 above), or by subscribing to the event <a href="https://voximplant.com/docs/references/voxengine/appevents">Started session</a> and transferring it to ourselves with an HTTP call from the session to our backend.  In our example, the command to start a callback will look something like this: <br><br><div class="oembed"><script type="text/javascript" src="https://gist.github.com/0d010a4b209739ddd2ea3c597bddff81.js"></script><link rel="stylesheet" href="https://github.githubassets.com/assets/gist-embed-b3b573358bfc66d89e1e95dbf8319c09.css"><div id="gist81225976" class="gist">
    <div class="gist-file">
      <div class="gist-data">
        <div class="js-gist-file-update-container js-task-list-container file-box">
  <div id="file-test-sh" class="file">
    

  <div itemprop="text" class="blob-wrapper data type-shell ">
      
<table class="highlight tab-size js-file-line-container" data-tab-size="8">
      <tbody><tr>
        <td id="file-test-sh-L1" class="blob-num js-line-number" data-line-number="1"></td>
        <td id="file-test-sh-LC1" class="blob-code blob-code-inner js-file-line">http://66.242.4.112:12092/request/9a48d59ba4a31e91.1500477013.141859_66.242.4.112/c9b00ac050c23edc/CallOut/18001234567</td>
      </tr>
</tbody></table>


  </div>

  </div>
</div>

      </div>
      <div class="gist-meta">
        <a href="" style="float:right">view raw</a>
        <a href="">test.sh</a>
        hosted with ‚ù§ by <a href="">GitHub</a>
      </div>
    </div>
</div>
</div></div><p>Source: <a href="https://habr.com/ru/post/339650/">https://habr.com/ru/post/339650/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../339640/index.html">ICO's birth defect: how tokens threaten the future of projects financed by them</a></li>
<li><a href="../339642/index.html">Search for files by tags in XMP / IPTC and operations with the found</a></li>
<li><a href="../339644/index.html">How to choose a data center for an IT project in Russia: uptime, money and overall adequacy</a></li>
<li><a href="../339646/index.html">Trillion Markets: Example One - eSports</a></li>
<li><a href="../339648/index.html">How to get a free SSL certificate from Amazon and move to HTTPS on Amazon S3</a></li>
<li><a href="../339654/index.html">How to make the number 100 from any other six-digit number</a></li>
<li><a href="../339656/index.html">About choosing data structures for beginners</a></li>
<li><a href="../339658/index.html">From the garage on the courage: success stories of the largest IT-businesses, starting from scratch</a></li>
<li><a href="../339660/index.html">Creating a Tinkoff Design System. UI Kit, versioning and showcase components</a></li>
<li><a href="../339662/index.html">How to dismiss an employee and stay with this person</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>