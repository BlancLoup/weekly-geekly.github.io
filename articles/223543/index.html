<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Experiment "Laboratory work", or How we created a robot that uses a smartphone</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="A remake of the well-known wisdom says that it is better to see once than read a hundred times. We talk a lot about the new features and benefits offe...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>Experiment "Laboratory work", or How we created a robot that uses a smartphone</h1><div class="post__text post__text-html js-mediator-article"><img src="https://habrastorage.org/getpro/habr/post_images/cf5/762/be2/cf5762be253d4c59ea86d0e5ccb1a47d.jpg"><br><br>  A remake of the well-known wisdom says that it is better to see once than read a hundred times.  We talk a lot about the new features and benefits offered by the second YotaPhone screen.  But the most intelligible descriptions can not be compared with the ability to see what it is - to work with the second screen of the smartphone. <br><br>  And we decided to create a robot that would help to demonstrate the idea.  And not just a robot, but a specially trained YotaPhone control.  We created it together with great guys from Look At Media and Hello Computer. <br><a name="habracut"></a>
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
    <h4>  "Laboratory work" </h4><br><iframe src="https://translate.googleusercontent.com/translate_c?depth=1&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=https://player.vimeo.com/video/92485788&amp;xid=17259,1500004,15700021,15700186,15700191,15700253,15700256,15700259&amp;usg=ALkJrhgOHMN0dmPPkaawq72Myu3VRM241Q" width="560" height="315" frameborder="0" title="Look At Media x YotaPhone: &quot;Science practical&quot; special project" webkitallowfullscreen="" mozallowfullscreen="" allowfullscreen=""></iframe><br><br>  We called this project ‚Äú <a href="http://specials.lookatme.ru/yotaphone">Laboratory work</a> ‚Äù.  Its essence is to enable everyone to remotely test some functions of the YotaPhone with the help of a specially created robot.  The real, of <s>flesh and blood,</s> plastic and servomotors.  And thanks to the two cameras you can watch what is happening on both screens YotaPhone. <br><br>  In short, the robot's control process was as follows: the website could send SMS text and a number, and then observe how the robot dials it and sends for you.  If in the text there were certain words-markers, then on the second screen there appeared a picture created for this word. <br><br>  During the operation of the robot as an SMS sender, our users sent 4,775 messages with it, of which 218 were declarations of love.  By the way, there were also 65 hacking attempts. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/842/741/f2a/842741f2aeb7c17c49ae258c965033e2.jpg"><br><br><img src="https://habrastorage.org/getpro/habr/post_images/c9c/c7a/811/c9cc7a811ab62e73a4d0e07953af17b5.jpg"><br><br>  Then the second stage of testing was carried out: we gave the opportunity to remotely download the wallpaper on the second screen belonging to the robot YotaPhone, as well as select various widgets.  The robot ‚Äúcollected‚Äù on the main screen a set of wallpapers and widgets, and then with the firm gesture put2back effectively sent it to the second screen.  During this stage, users generated 886 images and uploaded 88 photos. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/048/3df/556/0483df556d52a62241f7057702c98bb4.jpg"><br><br><img src="https://habrastorage.org/getpro/habr/post_images/582/d7e/95a/582d7e95ab774f835e8f6989eea09216.jpg"><br><br>  The third stage of the remote testing of YotaPhone was recently completed by everyone with the help of a robot.  This time we conducted a stress test: how long the YotaPhone will work on a single battery charge while reading a book on the second screen.  In the role of a literary source was "War and Peace", and the speed of "reading" was about 3 pages per minute.  Especially for the third stage, we built a hoop around YotaPhone, on which the backlight for the second screen is placed.  It is connected to an additional Arduino.  Anyone could not only watch the process of reading ‚ÄúWar and Peace‚Äù around the clock, but also change the illumination intensity, simulating situations for different times of the day. <br><br>  During this stage, three tests were conducted, that is, a charged smartphone worked three times until the battery was completely discharged.  Here are the results of the third stage: <br><br><img src="https://habrastorage.org/getpro/habr/post_images/5a1/97a/8e0/5a197a8e017740a1e693d268ebec3ecb.jpg"><br><br><img src="https://habrastorage.org/getpro/habr/post_images/49b/749/eb6/49b749eb681e777f3080710715b1d8a9.jpg"><br><br><img src="https://habrastorage.org/getpro/habr/post_images/d11/b26/9db/d11b269dbfc0cba836f5f61ecdadb4ea.jpg"><br><br><h4>  History of creation </h4><br><br><img src="https://habrastorage.org/getpro/habr/post_images/88a/e4a/ce7/88ae4ace77d6bd3c18025c03d8297f08.jpg"><br><br>  At first, we decided to take the path of least resistance and studied the open-source ready-made projects of such robotic hands, including even <a href="http://inmoov.blogspot.ru/">such</a> an open source project.  The main drawback of the considered projects was the mechanization of fingers based on tensioning cables.  Unfortunately, it would not allow to achieve the desired positioning accuracy.  We also liked <a href="https://www.tindie.com/products/hugs/robot-that-plays-angry-birds/">this project</a> , but it did not satisfy the key condition, the presence of a hand, so we also had to give it up.  As a result, it was decided to create a robot of its own design. <br><br>  <b>Prototype</b> <br>  At first we decided to make a rough version of epoxy resin.  Molded parts with a knife gave the desired shape, and then painted in white.  At first, we wanted to check the performance of the structure, estimate the location and methods of mounting the servomotors, estimate the amplitude of finger movements. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/61e/b44/e4c/61eb44e4c2a00f4626499f54208a46a1.jpg"><br><br><img src="https://habrastorage.org/getpro/habr/post_images/1a2/32a/c64/1a232ac64ebbfe26b64f8502757272de.jpg"><br><br><img src="https://habrastorage.org/getpro/habr/post_images/a18/4a7/eb9/a184a7eb95fcd89c3628ae9cf0d90fb3.jpg"><br><br>  To control all servomotors decided to use the Arduino UNO.  After testing the first version of the prototype came to the following conclusions: <br>  ‚Ä¢ To improve positioning accuracy, remove the servos from the phalanges. <br>  ‚Ä¢ Each finger should be controlled by only one servo. <br>  ‚Ä¢ For the swipe gesture, you need to move the whole arm up / down <br><br><img src="https://habrastorage.org/getpro/habr/post_images/455/ce1/e6d/455ce1e6d987150e79952a0f2758c24c.gif"><br><br>  <b>Work samples</b> <br>  In the SolidWorks CAD package, we created 3D models of 15 parts that make up the hand.  After printing on a <a href="http://store.makerbot.com/replicator2">3D printer</a> and assembly, we tested the interaction with the touch screen. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/38d/58a/aa3/38d58aaa361738617f155e02cc5786a8.jpg"><br><br><img src="https://habrastorage.org/getpro/habr/post_images/0c1/879/343/0c1879343c77cef555fcd73af493e191.jpg"><br><br><img src="https://habrastorage.org/getpro/habr/post_images/fc7/004/41e/fc700441ec3aa485ab854e132f246e88.jpg"><br><br>  It turned out that the capacitive screen does not respond to the plastic from which the hand is made.  The problem was solved by installing cut tips from the stylus of large diameter into the fingers. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/78a/2db/2d2/78a2db2d208236acf1b7e4a50738e0cc.jpg"><br><br>  A rotary engine and servo drives the fingers were installed on the arm.  Their accuracy was not enough for confident positioning, the fingers did not fall on the virtual buttons on the smartphone screen.  As a result, we had to use expensive servo drives manufactured for model aircraft: FUTABA S1353 for fingers and BLS-352 for turning hands.  In addition to positioning accuracy, we also solved the problem of reliability, because the hand had to work continuously for three weeks. <br><br>  After solving this problem began to solve a new one.  The hand itself is fixed on the shaft of the stepper motor, which is mounted on a platform moved up / down.  The engine is responsible for turning the arm around an axis perpendicular to the plane of the smartphone.  And during turns there were strong vibrations, since the overall rigidity of the structure did not allow to compensate for the substantial moment of inertia that arises.  This again led to a decrease in the accuracy of finger positioning.  To reduce vibrations, we tried to use different gaskets in the articulated joints, but this turned out to be ineffective.  I had to artificially reduce the speed of the rotary engine and introduce small pauses after each turn in order to have time to damp out the residual vibrations. <br><br>  An unexpected problem turned out to be connected with a rotating engine.  He was very hot.  This was decided by assembling the intermediate controller, which completely shut off the engine during downtimes. <br><br>  To improve the appearance of the robot, a second working sample of lighter plastic was printed.  Before assembly, additional details were painted in white to give the product an even more elegant look. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/983/4c8/066/9834c8066cba1324be7dc82e9cc50408.jpg"><br><br>  <b>Rack</b> <br>  It was decided to place the smartphone, which the robot should work with, on an inclination, as it is usually held by a person, and not vertically or horizontally.  Based on this, a stand was designed in the form of an equilateral triangle, one of the sides of which consists of two guides along which the platform with the arm moves. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/b6a/d33/76a/b6ad3376a82840d7d2417c50aabf549f.jpg"><br><br>  Rack made of white plastic.  The platform with the hand is connected by a belt drive with a stepper motor, thanks to which the platform moves along the guides. <br><br><img src="https://habrastorage.org/getpro/habr/post_images/bdc/596/c47/bdc596c47a5b86e1327365021745dd3b.gif"><br><br>  <b>Software part</b> <br>  After eliminating all the electronic-mechanical obstacles, we proceeded to debug the program part of the project.  As a client part, we wrote a small web application in JavaScript.  Information from the client gets to our server where Ruby 2.0.0 Rails 4 MySQL is installed.  The server collects user requests and creates a queue of tasks for the robot.  The server sends this information to a local control application written by us on NodeJS.  All data is transmitted in JSON format.  Next, tasks are converted to specific commands for the Arduino, to which the robot is directly connected.  Interaction with Arduino is carried out through the library <i>voodootikigod / node-serialport</i> . <br><br>  In addition, the management application receives feedback from a specially written client working directly on the smartphone.  This client tracks the click coordinates, and if a discrepancy is found, the control application performs a calibration. <br><br>  The third function assigned to the control application is to record video clips that capture the performance of each task.  For the video used camera <a href="http://www.logitech.com/ru-ru/product/hd-pro-webcam-c920">Logitech C920</a> , mounted on <a href="http://www.manfrotto.com/flexible-arm">flexible holders</a> .  During the passage of the first stage of the project, the managing application received information on sending SMS from the client module on the smartphone.  The video sequence from the cameras was recorded using the WireCast program, then the corresponding video fragment was cut out of it and a link to it was sent to the user. <br><br>  To save time, we decided not to create our own API for mass video broadcasting, but instead we used a ready-made solution from CDNvideo.  However, due to the fact that their API was not yet fully debugged, for a while we had problems with saving video clips.  In the end, the developer provided us with a new, fully working version of the API. <br><br>  In total, we manufactured two robots that directly participated in the public testing of the YotaPhone.  The last sample was slightly modernized: we had to change the place of attachment of the rotary motor to the arm, so that the robot could make a screen-swipe gesture (svayp). <br><br>  <b>Conclusion</b> <br>  The implementation of this project was very exciting for us.  The ability to creatively solve a non-standard task, the creation of a new and quite universal device, the observation of how the robot ‚Äúlives‚Äù its life thanks to the interest of users - all this is very close in spirit to our work on YotaPhone. <br><br>  We would like to give everyone the opportunity to personally try what it is - a smartphone with two screens.  Feel the phone in your hand, evaluate the screen response on electronic ink.  Unfortunately this is not possible.  But we are sure that, even if the remote, but independent interaction with the smartphone allows us to better understand the advantages of the second screen.  We believe that the possibility of such an interactive test YotaPhone is much more honest compared to the licked commercials.  What do you think?  We are very interested to know your opinion about this project. </div><p>Source: <a href="https://habr.com/ru/post/223543/">https://habr.com/ru/post/223543/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../223531/index.html">All-Russian conference on Asterisk held</a></li>
<li><a href="../223533/index.html">FBI announced the search for Chinese citizens from the group APT1</a></li>
<li><a href="../223535/index.html">On the way to Mount Sharp, Curiosity drilled sandstone and "shot" with a laser</a></li>
<li><a href="../223539/index.html">Break SafeCurl and get 0.25 Bitcoin</a></li>
<li><a href="../223541/index.html">Muggle Shaders</a></li>
<li><a href="../223545/index.html">MooTools 1.5 release</a></li>
<li><a href="../223547/index.html">IT Translation Blog</a></li>
<li><a href="../223549/index.html">Github Scientists: DOI for repositories and preferential academic accounts</a></li>
<li><a href="../22355/index.html">new.bwc.ru eyes of Artemy Lebedev</a></li>
<li><a href="../223551/index.html">Interview: how C # and C ++ help make money on the stock market</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>