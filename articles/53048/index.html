<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134931760-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134931760-1');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>"Errors in DNA" or how wrong design can lead to million losses</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="I was prompted to write this note by another article with a ‚Äúcry of the soul‚Äù: why did Windows once again require a reboot when changing something (us...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
       (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-6974184241884155",
            enable_page_level_ads: true
       });
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://weekly-geekly.github.io/index.html"></a>
    <div class="page-header-text">Geekly Articles each Day</div>
  </header>
  <nav class="page-headings-container js-page-headings-container"></nav>
  <div class="tools-bar js-tools-bar">
    <!-- <a href="../../search.html" title="Search">üîé</a> -->
    <a class="js-list-of-headings-button" data-state="closed" href="#" title="Headings">üìú</a>
    <a class="js-go-to-top-button" href="#" title="Go to Top">‚¨ÜÔ∏è</a>
    <a class="js-go-to-bottom-button" href="#" title="Go to Bottom">‚¨áÔ∏è</a>
  </div>
  <a href="http://bit.ly/donateToWeeklyGeekly" class="donate-btn">DONATE</a>
  <section class="page js-page"><h1>"Errors in DNA" or how wrong design can lead to million losses</h1><div class="post__text post__text-html js-mediator-article">  I was prompted to write this note by <a href="http://heroofourtime.habrahabr.ru/blog/52993/">another article</a> with a ‚Äúcry of the soul‚Äù: why did Windows once again require a reboot when changing something (usually installing / removing programs, but there are other cases)?  Why are the developers of Windows applications such fuckers, and the developers of Linux programs (where there are no such messages when installing ‚Äúordinary programs‚Äù) are such good fellows? <br><br>  This phenomenon has long been known to everyone - but did you think about where his ‚Äúlegs grow‚Äù and why in other operating systems (Linux, MacOS X, etc.) such windows are something exceptional, and in Windows - permanent? <br><a name="habracut"></a><br>  No, it is not only the Krivorukov Software Writers that are to blame - the main fault lies with Microsoft.  All of these endless queries are a combination of an error in the design of MS DOS, more than 20 years ago, and the <a href="http://socioline.ru/node/994">theory of broken windows</a> .  It was a hot time for Microsoft - she wasn‚Äôt then a monster like today, she couldn‚Äôt make mistakes and develop something for years that would turn everyone around, and then release the next version of the OS that would correct the errors of the previous one (Windows98 =&gt; Windows98SE, Windows Vista =&gt; Windows 7, etc).  Therefore, when it was necessary to do something with the support of local networks and to oppose the then leader (it was Novell with its Netware network operating system) at least something sensible, there was no need to think about design for a long time - it was done what was easiest to do and that would almost certainly work without errors and complaints.  In MS-DOS, the SHARE.EXE utility appeared, allowing you to use several programs at the same time (at first ‚Äî only on different computers, since MS DOS remained single-tasked, later ‚Äî on one, after Windows became common) and the same an error, the consequences of which we are still clearing up.  And no one noticed all the horror of the mistake made then, for nothing terrible, at first glance, was in it. <br><br>  What was the mistake?  He said that Microsoft didn‚Äôt say B. When Microsoft copied from Unix their main chip - a hierarchical file system (can you believe that the first version of MS DOS didn‚Äôt even contain this feature?) For simplicity, he didn‚Äôt copy one important idea: separation of the concept of "file" and "file name".  In Unix, these concepts are separated.  There is a file (or rather, an <a href="http://ru.wikipedia.org/wiki/Inode">inode</a> ) and there is its name (entry in the directory).  The inode access rights and the file name access rights are generally not related to each other (in fact, then they had to introduce a couple of restrictions, but this is another story).  The main thing: if the program opened the file and even if it did it in an exclusive mode, it does not apply to access rights to entries in the directory.  What does it mean?  This means, in particular, that you can ‚Äúdelete‚Äù any file (in fact, if this file is used ‚Äî for example, a paging file ‚Äî then it will not be deleted until it is used) and create a new one in its place. (in fact, a new file will most likely be created in a different place - but here an entry in the directory will be placed in the same place).  In MS DOS, the program SHARE.EXE (and all its descendants including kernels such as Windows Vista and Windows 7) do not work this way.  If access to the file is blocked, then access to its name is blocked!  In MS-DOS (with the FAT file system, which allowed each file to have only one name), it looked logical; in NTFS, it already looks strange (you can give the file a new name, but you cannot delete the old one), but you can‚Äôt do anything since many programs rely on this (the decision was made, I recall, more than 20 years ago). 
      <br>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <ins class="adsbygoogle"
          style="display:block; text-align:center;"
          data-ad-layout="in-article"
          data-ad-format="fluid"
          data-ad-client="ca-pub-6974184241884155"
          data-ad-slot="8945601208"></ins>
        <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
      <br>
      What are the consequences of this error?  The consequences are the most serious.  Many files in Windows cannot be modified at all in all of its work (since they are used by the system) and therefore several mechanisms have been suggested that allow us to get around this problem.  You can specify the file name (say drivers) in the registry and create a new file / directory during the update ‚Äî and delete the old one, say, when rebooting (or at another ‚Äúconvenient time‚Äù) - this approach is used, in particular, in .NET.  You can simply replace the files after the reboot - but this is not all just because you need a special ‚Äúpatch‚Äù in the OS that allows you to do this (and it is in Windows), but the main thing is the ‚Äúupdated‚Äù file waiting for its turn is not visible in its usual place and it is unclear how it will be - and therefore many installation programs having discovered that the queue of ‚Äúorders for changing configuration after reboot‚Äù of non-empty simply force it to reboot.  In general, a lot of things can be done and done, but with all this, the installation of <b>any</b> program may require a reboot (if the developers have foreseen this), or (which is worse than IMNSHO), the reboot installation will not require, but the program will not work either.  The funniest thing happens when the installed program works <b>before the</b> reboot, and then it breaks.  This happens when one program ordered a change ‚Äúafter reboot‚Äù, the installer of another program installed the second program without taking into account these changes (he doesn‚Äôt see them - they are in the queue! And the second program did not dare to force the reboot so as not to irritate the user!) and after rebooting, the system broke down.  Well, the final point is put by the ‚Äúbroken window theory‚Äù: if the solution to a part of the problems is only a reboot of the system and nothing else, then why not require it to restart and in other cases when it simply simplifies the life of developers? <br><br>  On Unix (and, respectively, on Linux and / or MacOS), the situation is quite different: you can <b>always</b> replace any file with an ‚Äúimproved version‚Äù (if you have enough rights to do so), so you will <b>never</b> need to reload when you install most programs ‚Äî of course it makes developers try to avoid it in other cases ... <br><br>  Unfortunately, recently, Linux has begun to ‚Äúlower the bar‚Äù: try to switch from KDE 3.x to KDE 4.x without stopping the system or at least without rebooting the X's!  This is not so easy and requires a lot of crutches ... But in any case, such situations occur in Linux / MacOS / etc much less than in Windows.  Because Windows has an ‚Äúerror in DNA‚Äù, inherited from its progenitor - MS DOS. <br><br>  What does this story teach us?  The fact that design mistakes are different: some can be easily fixed later, and some - you will be haunted for decades ... It remains only to learn to distinguish between them ... </div><p>Source: <a href="https://habr.com/ru/post/53048/">https://habr.com/ru/post/53048/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../53038/index.html">AIR Marketplace has started!</a></li>
<li><a href="../53040/index.html">Nano origami</a></li>
<li><a href="../53041/index.html">The state of the book market for programming languages ‚Äã‚Äã(USA, O`Reilly)</a></li>
<li><a href="../53042/index.html">Why you can not get a job (c Jobseeker)</a></li>
<li><a href="../53043/index.html">Office boomerang</a></li>
<li><a href="../53049/index.html">TechDays.ru: 200 free online reports or why we did it</a></li>
<li><a href="../53050/index.html">Organizing an advertising campaign on the Moscow Region forum</a></li>
<li><a href="../53051/index.html">Windows 7 RC1 received a number of improvements</a></li>
<li><a href="../53053/index.html">7 Easy Ways to Test Cross-Browser Compatibility</a></li>
<li><a href="../53055/index.html">Just Video Calls - VZOcall.com</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter52496797 = new Ya.Metrika({
                  id:52496797,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/52496797" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134931760-1', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

  <footer class="page-footer">
    <div class="page-footer-legal-info-container page-footer-element">
      <p>
        Weekly-Geekly | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2019</span>
      </p>
    </div>
    <div class="page-footer-counters-container page-footer-element">
      <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=6iCFw7uJz0zcOaoxz5k5PcLCJUzv2WG8G5V8M3U6Rc4&co=3a3a3a&ct=ffffff'/></a>
    </div>
  </footer>
</body>

</html>